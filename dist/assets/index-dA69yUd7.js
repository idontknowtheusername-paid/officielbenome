function dse(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var qs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Er(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function x7(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var tN={exports:{}},Ug={},rN={exports:{}},hr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I4;function fse(){if(I4)return hr;I4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function g(Z){return Z===null||typeof Z!="object"?null:(Z=f&&Z[f]||Z["@@iterator"],typeof Z=="function"?Z:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,b={};function _(Z,de,Se){this.props=Z,this.context=de,this.refs=b,this.updater=Se||v}_.prototype.isReactComponent={},_.prototype.setState=function(Z,de){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,de,"setState")},_.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function j(){}j.prototype=_.prototype;function N(Z,de,Se){this.props=Z,this.context=de,this.refs=b,this.updater=Se||v}var C=N.prototype=new j;C.constructor=N,y(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(Z,de,Se){var Me,qe={},oe=null,ae=null;if(de!=null)for(Me in de.ref!==void 0&&(ae=de.ref),de.key!==void 0&&(oe=""+de.key),de)E.call(de,Me)&&!O.hasOwnProperty(Me)&&(qe[Me]=de[Me]);var ge=arguments.length-2;if(ge===1)qe.children=Se;else if(1<ge){for(var ve=Array(ge),Ae=0;Ae<ge;Ae++)ve[Ae]=arguments[Ae+2];qe.children=ve}if(Z&&Z.defaultProps)for(Me in ge=Z.defaultProps,ge)qe[Me]===void 0&&(qe[Me]=ge[Me]);return{$$typeof:t,type:Z,key:oe,ref:ae,props:qe,_owner:P.current}}function F(Z,de){return{$$typeof:t,type:Z.type,key:de,ref:Z.ref,props:Z.props,_owner:Z._owner}}function H(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===t}function U(Z){var de={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(Se){return de[Se]})}var z=/\/+/g;function V(Z,de){return typeof Z=="object"&&Z!==null&&Z.key!=null?U(""+Z.key):de.toString(36)}function X(Z,de,Se,Me,qe){var oe=typeof Z;(oe==="undefined"||oe==="boolean")&&(Z=null);var ae=!1;if(Z===null)ae=!0;else switch(oe){case"string":case"number":ae=!0;break;case"object":switch(Z.$$typeof){case t:case e:ae=!0}}if(ae)return ae=Z,qe=qe(ae),Z=Me===""?"."+V(ae,0):Me,A(qe)?(Se="",Z!=null&&(Se=Z.replace(z,"$&/")+"/"),X(qe,de,Se,"",function(Ae){return Ae})):qe!=null&&(H(qe)&&(qe=F(qe,Se+(!qe.key||ae&&ae.key===qe.key?"":(""+qe.key).replace(z,"$&/")+"/")+Z)),de.push(qe)),1;if(ae=0,Me=Me===""?".":Me+":",A(Z))for(var ge=0;ge<Z.length;ge++){oe=Z[ge];var ve=Me+V(oe,ge);ae+=X(oe,de,Se,ve,qe)}else if(ve=g(Z),typeof ve=="function")for(Z=ve.call(Z),ge=0;!(oe=Z.next()).done;)oe=oe.value,ve=Me+V(oe,ge++),ae+=X(oe,de,Se,ve,qe);else if(oe==="object")throw de=String(Z),Error("Objects are not valid as a React child (found: "+(de==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":de)+"). If you meant to render a collection of children, use an array instead.");return ae}function te(Z,de,Se){if(Z==null)return Z;var Me=[],qe=0;return X(Z,Me,"","",function(oe){return de.call(Se,oe,qe++)}),Me}function le(Z){if(Z._status===-1){var de=Z._result;de=de(),de.then(function(Se){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=Se)},function(Se){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=Se)}),Z._status===-1&&(Z._status=0,Z._result=de)}if(Z._status===1)return Z._result.default;throw Z._result}var W={current:null},re={transition:null},G={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:re,ReactCurrentOwner:P};function ie(){throw Error("act(...) is not supported in production builds of React.")}return hr.Children={map:te,forEach:function(Z,de,Se){te(Z,function(){de.apply(this,arguments)},Se)},count:function(Z){var de=0;return te(Z,function(){de++}),de},toArray:function(Z){return te(Z,function(de){return de})||[]},only:function(Z){if(!H(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}},hr.Component=_,hr.Fragment=r,hr.Profiler=i,hr.PureComponent=N,hr.StrictMode=n,hr.Suspense=c,hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,hr.act=ie,hr.cloneElement=function(Z,de,Se){if(Z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Z+".");var Me=y({},Z.props),qe=Z.key,oe=Z.ref,ae=Z._owner;if(de!=null){if(de.ref!==void 0&&(oe=de.ref,ae=P.current),de.key!==void 0&&(qe=""+de.key),Z.type&&Z.type.defaultProps)var ge=Z.type.defaultProps;for(ve in de)E.call(de,ve)&&!O.hasOwnProperty(ve)&&(Me[ve]=de[ve]===void 0&&ge!==void 0?ge[ve]:de[ve])}var ve=arguments.length-2;if(ve===1)Me.children=Se;else if(1<ve){ge=Array(ve);for(var Ae=0;Ae<ve;Ae++)ge[Ae]=arguments[Ae+2];Me.children=ge}return{$$typeof:t,type:Z.type,key:qe,ref:oe,props:Me,_owner:ae}},hr.createContext=function(Z){return Z={$$typeof:o,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Z.Provider={$$typeof:a,_context:Z},Z.Consumer=Z},hr.createElement=I,hr.createFactory=function(Z){var de=I.bind(null,Z);return de.type=Z,de},hr.createRef=function(){return{current:null}},hr.forwardRef=function(Z){return{$$typeof:l,render:Z}},hr.isValidElement=H,hr.lazy=function(Z){return{$$typeof:d,_payload:{_status:-1,_result:Z},_init:le}},hr.memo=function(Z,de){return{$$typeof:u,type:Z,compare:de===void 0?null:de}},hr.startTransition=function(Z){var de=re.transition;re.transition={};try{Z()}finally{re.transition=de}},hr.unstable_act=ie,hr.useCallback=function(Z,de){return W.current.useCallback(Z,de)},hr.useContext=function(Z){return W.current.useContext(Z)},hr.useDebugValue=function(){},hr.useDeferredValue=function(Z){return W.current.useDeferredValue(Z)},hr.useEffect=function(Z,de){return W.current.useEffect(Z,de)},hr.useId=function(){return W.current.useId()},hr.useImperativeHandle=function(Z,de,Se){return W.current.useImperativeHandle(Z,de,Se)},hr.useInsertionEffect=function(Z,de){return W.current.useInsertionEffect(Z,de)},hr.useLayoutEffect=function(Z,de){return W.current.useLayoutEffect(Z,de)},hr.useMemo=function(Z,de){return W.current.useMemo(Z,de)},hr.useReducer=function(Z,de,Se){return W.current.useReducer(Z,de,Se)},hr.useRef=function(Z){return W.current.useRef(Z)},hr.useState=function(Z){return W.current.useState(Z)},hr.useSyncExternalStore=function(Z,de,Se){return W.current.useSyncExternalStore(Z,de,Se)},hr.useTransition=function(){return W.current.useTransition()},hr.version="18.3.1",hr}var D4;function s1(){return D4||(D4=1,rN.exports=fse()),rN.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L4;function hse(){if(L4)return Ug;L4=1;var t=s1(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},g=null,v=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(d in c)n.call(c,d)&&!a.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:g,ref:v,props:f,_owner:i.current}}return Ug.Fragment=r,Ug.jsx=o,Ug.jsxs=o,Ug}var $4;function pse(){return $4||($4=1,tN.exports=hse()),tN.exports}var s=pse(),x=s1();const ne=Er(x),Cd=dse({__proto__:null,default:ne},[x]);var Y0={},nN={exports:{}},Ls={},iN={exports:{}},sN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F4;function mse(){return F4||(F4=1,function(t){function e(re,G){var ie=re.length;re.push(G);e:for(;0<ie;){var Z=ie-1>>>1,de=re[Z];if(0<i(de,G))re[Z]=G,re[ie]=de,ie=Z;else break e}}function r(re){return re.length===0?null:re[0]}function n(re){if(re.length===0)return null;var G=re[0],ie=re.pop();if(ie!==G){re[0]=ie;e:for(var Z=0,de=re.length,Se=de>>>1;Z<Se;){var Me=2*(Z+1)-1,qe=re[Me],oe=Me+1,ae=re[oe];if(0>i(qe,ie))oe<de&&0>i(ae,qe)?(re[Z]=ae,re[oe]=ie,Z=oe):(re[Z]=qe,re[Me]=ie,Z=Me);else if(oe<de&&0>i(ae,ie))re[Z]=ae,re[oe]=ie,Z=oe;else break e}}return G}function i(re,G){var ie=re.sortIndex-G.sortIndex;return ie!==0?ie:re.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,g=3,v=!1,y=!1,b=!1,_=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(re){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=re)n(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(u)}}function A(re){if(b=!1,C(re),!y)if(r(c)!==null)y=!0,le(E);else{var G=r(u);G!==null&&W(A,G.startTime-re)}}function E(re,G){y=!1,b&&(b=!1,j(I),I=-1),v=!0;var ie=g;try{for(C(G),f=r(c);f!==null&&(!(f.expirationTime>G)||re&&!U());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,g=f.priorityLevel;var de=Z(f.expirationTime<=G);G=t.unstable_now(),typeof de=="function"?f.callback=de:f===r(c)&&n(c),C(G)}else n(c);f=r(c)}if(f!==null)var Se=!0;else{var Me=r(u);Me!==null&&W(A,Me.startTime-G),Se=!1}return Se}finally{f=null,g=ie,v=!1}}var P=!1,O=null,I=-1,F=5,H=-1;function U(){return!(t.unstable_now()-H<F)}function z(){if(O!==null){var re=t.unstable_now();H=re;var G=!0;try{G=O(!0,re)}finally{G?V():(P=!1,O=null)}}else P=!1}var V;if(typeof N=="function")V=function(){N(z)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,te=X.port2;X.port1.onmessage=z,V=function(){te.postMessage(null)}}else V=function(){_(z,0)};function le(re){O=re,P||(P=!0,V())}function W(re,G){I=_(function(){re(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,le(E))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(re){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var ie=g;g=G;try{return re()}finally{g=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,G){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ie=g;g=re;try{return G()}finally{g=ie}},t.unstable_scheduleCallback=function(re,G,ie){var Z=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?Z+ie:Z):ie=Z,re){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=ie+de,re={id:d++,callback:G,priorityLevel:re,startTime:ie,expirationTime:de,sortIndex:-1},ie>Z?(re.sortIndex=ie,e(u,re),r(c)===null&&re===r(u)&&(b?(j(I),I=-1):b=!0,W(A,ie-Z))):(re.sortIndex=de,e(c,re),y||v||(y=!0,le(E))),re},t.unstable_shouldYield=U,t.unstable_wrapCallback=function(re){var G=g;return function(){var ie=g;g=G;try{return re.apply(this,arguments)}finally{g=ie}}}}(sN)),sN}var B4;function gse(){return B4||(B4=1,iN.exports=mse()),iN.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4;function vse(){if(z4)return Ls;z4=1;var t=s1(),e=gse();function r(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,S=1;S<arguments.length;S++)m+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(h,m){o(h,m),o(h+"Capture",m)}function o(h,m){for(i[h]=m,h=0;h<m.length;h++)n.add(m[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function g(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function v(h,m,S,T){if(S!==null&&S.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return T?!1:S!==null?!S.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,m,S,T){if(m===null||typeof m>"u"||v(h,m,S,T))return!0;if(T)return!1;if(S!==null)switch(S.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function b(h,m,S,T,M,$,se){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=T,this.attributeNamespace=M,this.mustUseProperty=S,this.propertyName=h,this.type=m,this.sanitizeURL=$,this.removeEmptyString=se}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){_[h]=new b(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];_[m]=new b(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){_[h]=new b(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){_[h]=new b(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){_[h]=new b(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){_[h]=new b(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){_[h]=new b(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){_[h]=new b(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){_[h]=new b(h,5,!1,h.toLowerCase(),null,!1,!1)});var j=/[\-:]([a-z])/g;function N(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(j,N);_[m]=new b(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(j,N);_[m]=new b(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(j,N);_[m]=new b(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){_[h]=new b(h,1,!1,h.toLowerCase(),null,!1,!1)}),_.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){_[h]=new b(h,1,!1,h.toLowerCase(),null,!0,!0)});function C(h,m,S,T){var M=_.hasOwnProperty(m)?_[m]:null;(M!==null?M.type!==0:T||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(y(m,S,M,T)&&(S=null),T||M===null?g(m)&&(S===null?h.removeAttribute(m):h.setAttribute(m,""+S)):M.mustUseProperty?h[M.propertyName]=S===null?M.type===3?!1:"":S:(m=M.attributeName,T=M.attributeNamespace,S===null?h.removeAttribute(m):(M=M.type,S=M===3||M===4&&S===!0?"":""+S,T?h.setAttributeNS(T,m,S):h.setAttribute(m,S))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),U=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),X=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),le=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),re=Symbol.iterator;function G(h){return h===null||typeof h!="object"?null:(h=re&&h[re]||h["@@iterator"],typeof h=="function"?h:null)}var ie=Object.assign,Z;function de(h){if(Z===void 0)try{throw Error()}catch(S){var m=S.stack.trim().match(/\n( *(at )?)/);Z=m&&m[1]||""}return`
`+Z+h}var Se=!1;function Me(h,m){if(!h||Se)return"";Se=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ve){var T=Ve}Reflect.construct(h,[],m)}else{try{m.call()}catch(Ve){T=Ve}h.call(m.prototype)}else{try{throw Error()}catch(Ve){T=Ve}h()}}catch(Ve){if(Ve&&T&&typeof Ve.stack=="string"){for(var M=Ve.stack.split(`
`),$=T.stack.split(`
`),se=M.length-1,xe=$.length-1;1<=se&&0<=xe&&M[se]!==$[xe];)xe--;for(;1<=se&&0<=xe;se--,xe--)if(M[se]!==$[xe]){if(se!==1||xe!==1)do if(se--,xe--,0>xe||M[se]!==$[xe]){var je=`
`+M[se].replace(" at new "," at ");return h.displayName&&je.includes("<anonymous>")&&(je=je.replace("<anonymous>",h.displayName)),je}while(1<=se&&0<=xe);break}}}finally{Se=!1,Error.prepareStackTrace=S}return(h=h?h.displayName||h.name:"")?de(h):""}function qe(h){switch(h.tag){case 5:return de(h.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return h=Me(h.type,!1),h;case 11:return h=Me(h.type.render,!1),h;case 1:return h=Me(h.type,!0),h;default:return""}}function oe(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case O:return"Fragment";case P:return"Portal";case F:return"Profiler";case I:return"StrictMode";case V:return"Suspense";case X:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case U:return(h.displayName||"Context")+".Consumer";case H:return(h._context.displayName||"Context")+".Provider";case z:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case te:return m=h.displayName||null,m!==null?m:oe(h.type)||"Memo";case le:m=h._payload,h=h._init;try{return oe(h(m))}catch{}}return null}function ae(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ge(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ve(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Ae(h){var m=ve(h)?"checked":"value",S=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),T=""+h[m];if(!h.hasOwnProperty(m)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var M=S.get,$=S.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return M.call(this)},set:function(se){T=""+se,$.call(this,se)}}),Object.defineProperty(h,m,{enumerable:S.enumerable}),{getValue:function(){return T},setValue:function(se){T=""+se},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function Q(h){h._valueTracker||(h._valueTracker=Ae(h))}function Y(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var S=m.getValue(),T="";return h&&(T=ve(h)?h.checked?"true":"false":h.value),h=T,h!==S?(m.setValue(h),!0):!1}function Ee(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Ce(h,m){var S=m.checked;return ie({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??h._wrapperState.initialChecked})}function Qe(h,m){var S=m.defaultValue==null?"":m.defaultValue,T=m.checked!=null?m.checked:m.defaultChecked;S=ge(m.value!=null?m.value:S),h._wrapperState={initialChecked:T,initialValue:S,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ze(h,m){m=m.checked,m!=null&&C(h,"checked",m,!1)}function Oe(h,m){Ze(h,m);var S=ge(m.value),T=m.type;if(S!=null)T==="number"?(S===0&&h.value===""||h.value!=S)&&(h.value=""+S):h.value!==""+S&&(h.value=""+S);else if(T==="submit"||T==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?Ft(h,m.type,S):m.hasOwnProperty("defaultValue")&&Ft(h,m.type,ge(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function ht(h,m,S){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var T=m.type;if(!(T!=="submit"&&T!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,S||m===h.value||(h.value=m),h.defaultValue=m}S=h.name,S!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,S!==""&&(h.name=S)}function Ft(h,m,S){(m!=="number"||Ee(h.ownerDocument)!==h)&&(S==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+S&&(h.defaultValue=""+S))}var ye=Array.isArray;function Pe(h,m,S,T){if(h=h.options,m){m={};for(var M=0;M<S.length;M++)m["$"+S[M]]=!0;for(S=0;S<h.length;S++)M=m.hasOwnProperty("$"+h[S].value),h[S].selected!==M&&(h[S].selected=M),M&&T&&(h[S].defaultSelected=!0)}else{for(S=""+ge(S),m=null,M=0;M<h.length;M++){if(h[M].value===S){h[M].selected=!0,T&&(h[M].defaultSelected=!0);return}m!==null||h[M].disabled||(m=h[M])}m!==null&&(m.selected=!0)}}function Fe(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function et(h,m){var S=m.value;if(S==null){if(S=m.children,m=m.defaultValue,S!=null){if(m!=null)throw Error(r(92));if(ye(S)){if(1<S.length)throw Error(r(93));S=S[0]}m=S}m==null&&(m=""),S=m}h._wrapperState={initialValue:ge(S)}}function lt(h,m){var S=ge(m.value),T=ge(m.defaultValue);S!=null&&(S=""+S,S!==h.value&&(h.value=S),m.defaultValue==null&&h.defaultValue!==S&&(h.defaultValue=S)),T!=null&&(h.defaultValue=""+T)}function ue(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function Te(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function J(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?Te(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var D,B=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,S,T,M){MSApp.execUnsafeLocalFunction(function(){return h(m,S,T,M)})}:h}(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(D=D||document.createElement("div"),D.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=D.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function me(h,m){if(m){var S=h.firstChild;if(S&&S===h.lastChild&&S.nodeType===3){S.nodeValue=m;return}}h.textContent=m}var Ne={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ze=["Webkit","ms","Moz","O"];Object.keys(Ne).forEach(function(h){ze.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),Ne[m]=Ne[h]})});function We(h,m,S){return m==null||typeof m=="boolean"||m===""?"":S||typeof m!="number"||m===0||Ne.hasOwnProperty(h)&&Ne[h]?(""+m).trim():m+"px"}function Rt(h,m){h=h.style;for(var S in m)if(m.hasOwnProperty(S)){var T=S.indexOf("--")===0,M=We(S,m[S],T);S==="float"&&(S="cssFloat"),T?h.setProperty(S,M):h[S]=M}}var gr=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rr(h,m){if(m){if(gr[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function ur(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ar=null;function Yo(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var Na=null,Xs=null,Hi=null;function Ki(h){if(h=fc(h)){if(typeof Na!="function")throw Error(r(280));var m=h.stateNode;m&&(m=Bh(m),Na(h.stateNode,h.type,m))}}function fu(h){Xs?Hi?Hi.push(h):Hi=[h]:Xs=h}function Bt(){if(Xs){var h=Xs,m=Hi;if(Hi=Xs=null,Ki(h),m)for(h=0;h<m.length;h++)Ki(m[h])}}function xr(h,m){return h(m)}function Ir(){}var qn=!1;function Mn(h,m,S){if(qn)return h(m,S);qn=!0;try{return xr(h,m,S)}finally{qn=!1,(Xs!==null||Hi!==null)&&(Ir(),Bt())}}function _i(h,m){var S=h.stateNode;if(S===null)return null;var T=Bh(S);if(T===null)return null;S=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(h=h.type,T=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(S&&typeof S!="function")throw Error(r(231,m,typeof S));return S}var us=!1;if(l)try{var Un={};Object.defineProperty(Un,"passive",{get:function(){us=!0}}),window.addEventListener("test",Un,Un),window.removeEventListener("test",Un,Un)}catch{us=!1}function Ns(h,m,S,T,M,$,se,xe,je){var Ve=Array.prototype.slice.call(arguments,3);try{m.apply(S,Ve)}catch(nt){this.onError(nt)}}var jr=!1,Ct=null,Vl=!1,hu=null,Kd={onError:function(h){jr=!0,Ct=h}};function Eh(h,m,S,T,M,$,se,xe,je){jr=!1,Ct=null,Ns.apply(Kd,arguments)}function Wl(h,m,S,T,M,$,se,xe,je){if(Eh.apply(this,arguments),jr){if(jr){var Ve=Ct;jr=!1,Ct=null}else throw Error(r(198));Vl||(Vl=!0,hu=Ve)}}function Cs(h){var m=h,S=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(S=m.return),h=m.return;while(h)}return m.tag===3?S:null}function co(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function Gd(h){if(Cs(h)!==h)throw Error(r(188))}function Ph(h){var m=h.alternate;if(!m){if(m=Cs(h),m===null)throw Error(r(188));return m!==h?null:h}for(var S=h,T=m;;){var M=S.return;if(M===null)break;var $=M.alternate;if($===null){if(T=M.return,T!==null){S=T;continue}break}if(M.child===$.child){for($=M.child;$;){if($===S)return Gd(M),h;if($===T)return Gd(M),m;$=$.sibling}throw Error(r(188))}if(S.return!==T.return)S=M,T=$;else{for(var se=!1,xe=M.child;xe;){if(xe===S){se=!0,S=M,T=$;break}if(xe===T){se=!0,T=M,S=$;break}xe=xe.sibling}if(!se){for(xe=$.child;xe;){if(xe===S){se=!0,S=$,T=M;break}if(xe===T){se=!0,T=$,S=M;break}xe=xe.sibling}if(!se)throw Error(r(189))}}if(S.alternate!==T)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?h:m}function Xo(h){return h=Ph(h),h!==null?Hl(h):null}function Hl(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=Hl(h);if(m!==null)return m;h=h.sibling}return null}var kh=e.unstable_scheduleCallback,Zd=e.unstable_cancelCallback,Yd=e.unstable_shouldYield,pu=e.unstable_requestPaint,hn=e.unstable_now,mu=e.unstable_getCurrentPriorityLevel,Di=e.unstable_ImmediatePriority,gu=e.unstable_UserBlockingPriority,Kl=e.unstable_NormalPriority,Ca=e.unstable_LowPriority,uo=e.unstable_IdlePriority,Gl=null,ds=null;function Zl(h){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Gl,h,void 0,(h.current.flags&128)===128)}catch{}}var Vt=Math.clz32?Math.clz32:Jo,Yr=Math.log,Yl=Math.LN2;function Jo(h){return h>>>=0,h===0?32:31-(Yr(h)/Yl|0)|0}var Js=64,Qo=4194304;function Kt(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function Wr(h,m){var S=h.pendingLanes;if(S===0)return 0;var T=0,M=h.suspendedLanes,$=h.pingedLanes,se=S&268435455;if(se!==0){var xe=se&~M;xe!==0?T=Kt(xe):($&=se,$!==0&&(T=Kt($)))}else se=S&~M,se!==0?T=Kt(se):$!==0&&(T=Kt($));if(T===0)return 0;if(m!==0&&m!==T&&(m&M)===0&&(M=T&-T,$=m&-m,M>=$||M===16&&($&4194240)!==0))return m;if((T&4)!==0&&(T|=S&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=T;0<m;)S=31-Vt(m),M=1<<S,T|=h[S],m&=~M;return T}function vu(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Es(h,m){for(var S=h.suspendedLanes,T=h.pingedLanes,M=h.expirationTimes,$=h.pendingLanes;0<$;){var se=31-Vt($),xe=1<<se,je=M[se];je===-1?((xe&S)===0||(xe&T)!==0)&&(M[se]=vu(xe,m)):je<=m&&(h.expiredLanes|=xe),$&=~xe}}function li(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function pg(){var h=Js;return Js<<=1,(Js&4194240)===0&&(Js=64),h}function el(h){for(var m=[],S=0;31>S;S++)m.push(h);return m}function Ps(h,m,S){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-Vt(m),h[m]=S}function _n(h,m){var S=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var T=h.eventTimes;for(h=h.expirationTimes;0<S;){var M=31-Vt(S),$=1<<M;m[M]=0,T[M]=-1,h[M]=-1,S&=~$}}function Qs(h,m){var S=h.entangledLanes|=m;for(h=h.entanglements;S;){var T=31-Vt(S),M=1<<T;M&m|h[T]&m&&(h[T]|=m),S&=~M}}var vr=0;function tl(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var Xl,ks,Jl,yu,rl,Ql=!1,fo=[],Li=null,Gi=null,As=null,ec=new Map,zt=new Map,Pn=[],Dr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xd(h,m){switch(h){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":Gi=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":ec.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":zt.delete(m.pointerId)}}function Ea(h,m,S,T,M,$){return h===null||h.nativeEvent!==$?(h={blockedOn:m,domEventName:S,eventSystemFlags:T,nativeEvent:$,targetContainers:[M]},m!==null&&(m=fc(m),m!==null&&ks(m)),h):(h.eventSystemFlags|=T,m=h.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),h)}function tc(h,m,S,T,M){switch(m){case"focusin":return Li=Ea(Li,h,m,S,T,M),!0;case"dragenter":return Gi=Ea(Gi,h,m,S,T,M),!0;case"mouseover":return As=Ea(As,h,m,S,T,M),!0;case"pointerover":var $=M.pointerId;return ec.set($,Ea(ec.get($)||null,h,m,S,T,M)),!0;case"gotpointercapture":return $=M.pointerId,zt.set($,Ea(zt.get($)||null,h,m,S,T,M)),!0}return!1}function rc(h){var m=dc(h.target);if(m!==null){var S=Cs(m);if(S!==null){if(m=S.tag,m===13){if(m=co(S),m!==null){h.blockedOn=m,rl(h.priority,function(){Jl(S)});return}}else if(m===3&&S.stateNode.current.memoizedState.isDehydrated){h.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}h.blockedOn=null}function fs(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var S=_u(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(S===null){S=h.nativeEvent;var T=new S.constructor(S.type,S);ar=T,S.target.dispatchEvent(T),ar=null}else return m=fc(S),m!==null&&ks(m),h.blockedOn=S,!1;m.shift()}return!0}function ho(h,m,S){fs(h)&&S.delete(m)}function nl(){Ql=!1,Li!==null&&fs(Li)&&(Li=null),Gi!==null&&fs(Gi)&&(Gi=null),As!==null&&fs(As)&&(As=null),ec.forEach(ho),zt.forEach(ho)}function pn(h,m){h.blockedOn===m&&(h.blockedOn=null,Ql||(Ql=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nl)))}function ji(h){function m(M){return pn(M,h)}if(0<fo.length){pn(fo[0],h);for(var S=1;S<fo.length;S++){var T=fo[S];T.blockedOn===h&&(T.blockedOn=null)}}for(Li!==null&&pn(Li,h),Gi!==null&&pn(Gi,h),As!==null&&pn(As,h),ec.forEach(m),zt.forEach(m),S=0;S<Pn.length;S++)T=Pn[S],T.blockedOn===h&&(T.blockedOn=null);for(;0<Pn.length&&(S=Pn[0],S.blockedOn===null);)rc(S),S.blockedOn===null&&Pn.shift()}var Zn=A.ReactCurrentBatchConfig,Pa=!0;function xu(h,m,S,T){var M=vr,$=Zn.transition;Zn.transition=null;try{vr=1,nc(h,m,S,T)}finally{vr=M,Zn.transition=$}}function bu(h,m,S,T){var M=vr,$=Zn.transition;Zn.transition=null;try{vr=4,nc(h,m,S,T)}finally{vr=M,Zn.transition=$}}function nc(h,m,S,T){if(Pa){var M=_u(h,m,S,T);if(M===null)p(h,m,T,wu,S),Xd(h,T);else if(tc(M,h,m,S,T))T.stopPropagation();else if(Xd(h,T),m&4&&-1<Dr.indexOf(h)){for(;M!==null;){var $=fc(M);if($!==null&&Xl($),$=_u(h,m,S,T),$===null&&p(h,m,T,wu,S),$===M)break;M=$}M!==null&&T.stopPropagation()}else p(h,m,T,null,S)}}var wu=null;function _u(h,m,S,T){if(wu=null,h=Yo(T),h=dc(h),h!==null)if(m=Cs(h),m===null)h=null;else if(S=m.tag,S===13){if(h=co(m),h!==null)return h;h=null}else if(S===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return wu=h,null}function or(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mu()){case Di:return 1;case gu:return 4;case Kl:case Ca:return 16;case uo:return 536870912;default:return 16}default:return 16}}var ka=null,Si=null,Lr=null;function K(){if(Lr)return Lr;var h,m=Si,S=m.length,T,M="value"in ka?ka.value:ka.textContent,$=M.length;for(h=0;h<S&&m[h]===M[h];h++);var se=S-h;for(T=1;T<=se&&m[S-T]===M[$-T];T++);return Lr=M.slice(h,1<T?1-T:void 0)}function ee(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function he(){return!0}function pe(){return!1}function we(h){function m(S,T,M,$,se){this._reactName=S,this._targetInst=M,this.type=T,this.nativeEvent=$,this.target=se,this.currentTarget=null;for(var xe in h)h.hasOwnProperty(xe)&&(S=h[xe],this[xe]=S?S($):$[xe]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?he:pe,this.isPropagationStopped=pe,this}return ie(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=he)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=he)},persist:function(){},isPersistent:he}),m}var Ie={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},De=we(Ie),Ye=ie({},Ie,{view:0,detail:0}),Et=we(Ye),st,dt,Pt,lr=ie({},Ye,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:oc,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Pt&&(Pt&&h.type==="mousemove"?(st=h.screenX-Pt.screenX,dt=h.screenY-Pt.screenY):dt=st=0,Pt=h),st)},movementY:function(h){return"movementY"in h?h.movementY:dt}}),mn=we(lr),At=ie({},lr,{dataTransfer:0}),Zt=we(At),Mt=ie({},Ye,{relatedTarget:0}),Xr=we(Mt),jn=ie({},Ie,{animationName:0,elapsedTime:0,pseudoElement:0}),In=we(jn),ea=ie({},Ie,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Yn=we(ea),Aa=ie({},Ie,{data:0}),ta=we(Aa),ic={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ac={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qj(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=ac[h])?!!m[h]:!1}function oc(){return qj}var Ts=ie({},Ye,{key:function(h){if(h.key){var m=ic[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=ee(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?sc[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:oc,charCode:function(h){return h.type==="keypress"?ee(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ee(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Zx=we(Ts),Yx=ie({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xx=we(Yx),mg=ie({},Ye,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:oc}),gg=we(mg),Uj=ie({},Ie,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vj=we(Uj),Jx=ie({},lr,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),Wj=we(Jx),ra=[9,13,27,32],il=l&&"CompositionEvent"in window,Jd=null;l&&"documentMode"in document&&(Jd=document.documentMode);var po=l&&"TextEvent"in window&&!Jd,Qx=l&&(!il||Jd&&8<Jd&&11>=Jd),lc=" ",e0=!1;function ju(h,m){switch(h){case"keyup":return ra.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function vg(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var mo=!1;function Hj(h,m){switch(h){case"compositionend":return vg(m);case"keypress":return m.which!==32?null:(e0=!0,lc);case"textInput":return h=m.data,h===lc&&e0?null:h;default:return null}}function sl(h,m){if(mo)return h==="compositionend"||!il&&ju(h,m)?(h=K(),Lr=Si=ka=null,mo=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return Qx&&m.locale!=="ko"?null:m.data;default:return null}}var Ah={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t0(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!Ah[h.type]:m==="textarea"}function Th(h,m,S,T){fu(T),m=k(m,"onChange"),0<m.length&&(S=new De("onChange","change",null,S,T),h.push({event:S,listeners:m}))}var Qd=null,hs=null;function Kj(h){Cg(h,0)}function go(h){var m=hc(h);if(Y(m))return h}function Gj(h,m){if(h==="change")return m}var Ta=!1;if(l){var Su;if(l){var Oh="oninput"in document;if(!Oh){var Rh=document.createElement("div");Rh.setAttribute("oninput","return;"),Oh=typeof Rh.oninput=="function"}Su=Oh}else Su=!1;Ta=Su&&(!document.documentMode||9<document.documentMode)}function ef(){Qd&&(Qd.detachEvent("onpropertychange",Mh),hs=Qd=null)}function Mh(h){if(h.propertyName==="value"&&go(hs)){var m=[];Th(m,hs,h,Yo(h)),Mn(Kj,m)}}function Ih(h,m,S){h==="focusin"?(ef(),Qd=m,hs=S,Qd.attachEvent("onpropertychange",Mh)):h==="focusout"&&ef()}function Nu(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return go(hs)}function Dh(h,m){if(h==="click")return go(m)}function yg(h,m){if(h==="input"||h==="change")return go(m)}function r0(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var na=typeof Object.is=="function"?Object.is:r0;function al(h,m){if(na(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var S=Object.keys(h),T=Object.keys(m);if(S.length!==T.length)return!1;for(T=0;T<S.length;T++){var M=S[T];if(!c.call(m,M)||!na(h[M],m[M]))return!1}return!0}function n0(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function xg(h,m){var S=n0(h);h=0;for(var T;S;){if(S.nodeType===3){if(T=h+S.textContent.length,h<=m&&T>=m)return{node:S,offset:m-h};h=T}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=n0(S)}}function i0(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?i0(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function bg(){for(var h=window,m=Ee();m instanceof h.HTMLIFrameElement;){try{var S=typeof m.contentWindow.location.href=="string"}catch{S=!1}if(S)h=m.contentWindow;else break;m=Ee(h.document)}return m}function wg(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function Oa(h){var m=bg(),S=h.focusedElem,T=h.selectionRange;if(m!==S&&S&&S.ownerDocument&&i0(S.ownerDocument.documentElement,S)){if(T!==null&&wg(S)){if(m=T.start,h=T.end,h===void 0&&(h=m),"selectionStart"in S)S.selectionStart=m,S.selectionEnd=Math.min(h,S.value.length);else if(h=(m=S.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var M=S.textContent.length,$=Math.min(T.start,M);T=T.end===void 0?$:Math.min(T.end,M),!h.extend&&$>T&&(M=T,T=$,$=M),M=xg(S,$);var se=xg(S,T);M&&se&&(h.rangeCount!==1||h.anchorNode!==M.node||h.anchorOffset!==M.offset||h.focusNode!==se.node||h.focusOffset!==se.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),h.removeAllRanges(),$>T?(h.addRange(m),h.extend(se.node,se.offset)):(m.setEnd(se.node,se.offset),h.addRange(m)))}}for(m=[],h=S;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<m.length;S++)h=m[S],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var Lh=l&&"documentMode"in document&&11>=document.documentMode,Cu=null,Eu=null,tf=null,$h=!1;function s0(h,m,S){var T=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;$h||Cu==null||Cu!==Ee(T)||(T=Cu,"selectionStart"in T&&wg(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),tf&&al(tf,T)||(tf=T,T=k(Eu,"onSelect"),0<T.length&&(m=new De("onSelect","select",null,m,S),h.push({event:m,listeners:T}),m.target=Cu)))}function ol(h,m){var S={};return S[h.toLowerCase()]=m.toLowerCase(),S["Webkit"+h]="webkit"+m,S["Moz"+h]="moz"+m,S}var Pu={animationend:ol("Animation","AnimationEnd"),animationiteration:ol("Animation","AnimationIteration"),animationstart:ol("Animation","AnimationStart"),transitionend:ol("Transition","TransitionEnd")},ll={},_g={};l&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Pu.animationend.animation,delete Pu.animationiteration.animation,delete Pu.animationstart.animation),"TransitionEvent"in window||delete Pu.transitionend.transition);function rf(h){if(ll[h])return ll[h];if(!Pu[h])return h;var m=Pu[h],S;for(S in m)if(m.hasOwnProperty(S)&&S in _g)return ll[h]=m[S];return h}var a0=rf("animationend"),Ra=rf("animationiteration"),jg=rf("animationstart"),Sg=rf("transitionend"),ku=new Map,o0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(h,m){ku.set(h,m),a(m,[h])}for(var cc=0;cc<o0.length;cc++){var Fh=o0[cc],l0=Fh.toLowerCase(),Zj=Fh[0].toUpperCase()+Fh.slice(1);ia(l0,"on"+Zj)}ia(a0,"onAnimationEnd"),ia(Ra,"onAnimationIteration"),ia(jg,"onAnimationStart"),ia("dblclick","onDoubleClick"),ia("focusin","onFocus"),ia("focusout","onBlur"),ia(Sg,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Au));function Ng(h,m,S){var T=h.type||"unknown-event";h.currentTarget=S,Wl(T,m,void 0,h),h.currentTarget=null}function Cg(h,m){m=(m&4)!==0;for(var S=0;S<h.length;S++){var T=h[S],M=T.event;T=T.listeners;e:{var $=void 0;if(m)for(var se=T.length-1;0<=se;se--){var xe=T[se],je=xe.instance,Ve=xe.currentTarget;if(xe=xe.listener,je!==$&&M.isPropagationStopped())break e;Ng(M,xe,Ve),$=je}else for(se=0;se<T.length;se++){if(xe=T[se],je=xe.instance,Ve=xe.currentTarget,xe=xe.listener,je!==$&&M.isPropagationStopped())break e;Ng(M,xe,Ve),$=je}}}if(Vl)throw h=hu,Vl=!1,hu=null,h}function Jr(h,m){var S=m[Mu];S===void 0&&(S=m[Mu]=new Set);var T=h+"__bubble";S.has(T)||(u0(m,h,2,!1),S.add(T))}function Eg(h,m,S){var T=0;m&&(T|=4),u0(S,h,T,m)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Tu(h){if(!h[nf]){h[nf]=!0,n.forEach(function(S){S!=="selectionchange"&&(c0.has(S)||Eg(S,!1,h),Eg(S,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[nf]||(m[nf]=!0,Eg("selectionchange",!1,m))}}function u0(h,m,S,T){switch(or(m)){case 1:var M=xu;break;case 4:M=bu;break;default:M=nc}S=M.bind(null,m,S,h),M=void 0,!us||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),T?M!==void 0?h.addEventListener(m,S,{capture:!0,passive:M}):h.addEventListener(m,S,!0):M!==void 0?h.addEventListener(m,S,{passive:M}):h.addEventListener(m,S,!1)}function p(h,m,S,T,M){var $=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var se=T.tag;if(se===3||se===4){var xe=T.stateNode.containerInfo;if(xe===M||xe.nodeType===8&&xe.parentNode===M)break;if(se===4)for(se=T.return;se!==null;){var je=se.tag;if((je===3||je===4)&&(je=se.stateNode.containerInfo,je===M||je.nodeType===8&&je.parentNode===M))return;se=se.return}for(;xe!==null;){if(se=dc(xe),se===null)return;if(je=se.tag,je===5||je===6){T=$=se;continue e}xe=xe.parentNode}}T=T.return}Mn(function(){var Ve=$,nt=Yo(S),at=[];e:{var rt=ku.get(h);if(rt!==void 0){var gt=De,jt=h;switch(h){case"keypress":if(ee(S)===0)break e;case"keydown":case"keyup":gt=Zx;break;case"focusin":jt="focus",gt=Xr;break;case"focusout":jt="blur",gt=Xr;break;case"beforeblur":case"afterblur":gt=Xr;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=Zt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=gg;break;case a0:case Ra:case jg:gt=In;break;case Sg:gt=Vj;break;case"scroll":gt=Et;break;case"wheel":gt=Wj;break;case"copy":case"cut":case"paste":gt=Yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Xx}var kt=(m&4)!==0,Vn=!kt&&h==="scroll",$e=kt?rt!==null?rt+"Capture":null:rt;kt=[];for(var ke=Ve,Be;ke!==null;){Be=ke;var ct=Be.stateNode;if(Be.tag===5&&ct!==null&&(Be=ct,$e!==null&&(ct=_i(ke,$e),ct!=null&&kt.push(w(ke,ct,Be)))),Vn)break;ke=ke.return}0<kt.length&&(rt=new gt(rt,jt,null,S,nt),at.push({event:rt,listeners:kt}))}}if((m&7)===0){e:{if(rt=h==="mouseover"||h==="pointerover",gt=h==="mouseout"||h==="pointerout",rt&&S!==ar&&(jt=S.relatedTarget||S.fromElement)&&(dc(jt)||jt[Fr]))break e;if((gt||rt)&&(rt=nt.window===nt?nt:(rt=nt.ownerDocument)?rt.defaultView||rt.parentWindow:window,gt?(jt=S.relatedTarget||S.toElement,gt=Ve,jt=jt?dc(jt):null,jt!==null&&(Vn=Cs(jt),jt!==Vn||jt.tag!==5&&jt.tag!==6)&&(jt=null)):(gt=null,jt=Ve),gt!==jt)){if(kt=mn,ct="onMouseLeave",$e="onMouseEnter",ke="mouse",(h==="pointerout"||h==="pointerover")&&(kt=Xx,ct="onPointerLeave",$e="onPointerEnter",ke="pointer"),Vn=gt==null?rt:hc(gt),Be=jt==null?rt:hc(jt),rt=new kt(ct,ke+"leave",gt,S,nt),rt.target=Vn,rt.relatedTarget=Be,ct=null,dc(nt)===Ve&&(kt=new kt($e,ke+"enter",jt,S,nt),kt.target=Be,kt.relatedTarget=Vn,ct=kt),Vn=ct,gt&&jt)t:{for(kt=gt,$e=jt,ke=0,Be=kt;Be;Be=R(Be))ke++;for(Be=0,ct=$e;ct;ct=R(ct))Be++;for(;0<ke-Be;)kt=R(kt),ke--;for(;0<Be-ke;)$e=R($e),Be--;for(;ke--;){if(kt===$e||$e!==null&&kt===$e.alternate)break t;kt=R(kt),$e=R($e)}kt=null}else kt=null;gt!==null&&q(at,rt,gt,kt,!1),jt!==null&&Vn!==null&&q(at,Vn,jt,kt,!0)}}e:{if(rt=Ve?hc(Ve):window,gt=rt.nodeName&&rt.nodeName.toLowerCase(),gt==="select"||gt==="input"&&rt.type==="file")var Tt=Gj;else if(t0(rt))if(Ta)Tt=yg;else{Tt=Nu;var Dt=Ih}else(gt=rt.nodeName)&&gt.toLowerCase()==="input"&&(rt.type==="checkbox"||rt.type==="radio")&&(Tt=Dh);if(Tt&&(Tt=Tt(h,Ve))){Th(at,Tt,S,nt);break e}Dt&&Dt(h,rt,Ve),h==="focusout"&&(Dt=rt._wrapperState)&&Dt.controlled&&rt.type==="number"&&Ft(rt,"number",rt.value)}switch(Dt=Ve?hc(Ve):window,h){case"focusin":(t0(Dt)||Dt.contentEditable==="true")&&(Cu=Dt,Eu=Ve,tf=null);break;case"focusout":tf=Eu=Cu=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,s0(at,S,nt);break;case"selectionchange":if(Lh)break;case"keydown":case"keyup":s0(at,S,nt)}var Lt;if(il)e:{switch(h){case"compositionstart":var Gt="onCompositionStart";break e;case"compositionend":Gt="onCompositionEnd";break e;case"compositionupdate":Gt="onCompositionUpdate";break e}Gt=void 0}else mo?ju(h,S)&&(Gt="onCompositionEnd"):h==="keydown"&&S.keyCode===229&&(Gt="onCompositionStart");Gt&&(Qx&&S.locale!=="ko"&&(mo||Gt!=="onCompositionStart"?Gt==="onCompositionEnd"&&mo&&(Lt=K()):(ka=nt,Si="value"in ka?ka.value:ka.textContent,mo=!0)),Dt=k(Ve,Gt),0<Dt.length&&(Gt=new ta(Gt,h,null,S,nt),at.push({event:Gt,listeners:Dt}),Lt?Gt.data=Lt:(Lt=vg(S),Lt!==null&&(Gt.data=Lt)))),(Lt=po?Hj(h,S):sl(h,S))&&(Ve=k(Ve,"onBeforeInput"),0<Ve.length&&(nt=new ta("onBeforeInput","beforeinput",null,S,nt),at.push({event:nt,listeners:Ve}),nt.data=Lt))}Cg(at,m)})}function w(h,m,S){return{instance:h,listener:m,currentTarget:S}}function k(h,m){for(var S=m+"Capture",T=[];h!==null;){var M=h,$=M.stateNode;M.tag===5&&$!==null&&(M=$,$=_i(h,S),$!=null&&T.unshift(w(h,$,M)),$=_i(h,m),$!=null&&T.push(w(h,$,M))),h=h.return}return T}function R(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function q(h,m,S,T,M){for(var $=m._reactName,se=[];S!==null&&S!==T;){var xe=S,je=xe.alternate,Ve=xe.stateNode;if(je!==null&&je===T)break;xe.tag===5&&Ve!==null&&(xe=Ve,M?(je=_i(S,$),je!=null&&se.unshift(w(S,je,xe))):M||(je=_i(S,$),je!=null&&se.push(w(S,je,xe)))),S=S.return}se.length!==0&&h.push({event:m,listeners:se})}var ce=/\r\n?/g,_e=/\u0000|\uFFFD/g;function Le(h){return(typeof h=="string"?h:""+h).replace(ce,`
`).replace(_e,"")}function Ue(h,m,S){if(m=Le(m),Le(h)!==m&&S)throw Error(r(425))}function Xe(){}var pt=null,It=null;function ir(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ci=typeof setTimeout=="function"?setTimeout:void 0,Xn=typeof clearTimeout=="function"?clearTimeout:void 0,ps=typeof Promise=="function"?Promise:void 0,Zi=typeof queueMicrotask=="function"?queueMicrotask:typeof ps<"u"?function(h){return ps.resolve(null).then(h).catch(Ou)}:ci;function Ou(h){setTimeout(function(){throw h})}function Pg(h,m){var S=m,T=0;do{var M=S.nextSibling;if(h.removeChild(S),M&&M.nodeType===8)if(S=M.data,S==="/$"){if(T===0){h.removeChild(M),ji(m);return}T--}else S!=="$"&&S!=="$?"&&S!=="$!"||T++;S=M}while(S);ji(m)}function cl(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function d0(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var S=h.data;if(S==="$"||S==="$!"||S==="$?"){if(m===0)return h;m--}else S==="/$"&&m++}h=h.previousSibling}return null}var uc=Math.random().toString(36).slice(2),Ma="__reactFiber$"+uc,Ru="__reactProps$"+uc,Fr="__reactContainer$"+uc,Mu="__reactEvents$"+uc,Yj="__reactListeners$"+uc,Xj="__reactHandles$"+uc;function dc(h){var m=h[Ma];if(m)return m;for(var S=h.parentNode;S;){if(m=S[Fr]||S[Ma]){if(S=m.alternate,m.child!==null||S!==null&&S.child!==null)for(h=d0(h);h!==null;){if(S=h[Ma])return S;h=d0(h)}return m}h=S,S=h.parentNode}return null}function fc(h){return h=h[Ma]||h[Fr],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function hc(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function Bh(h){return h[Ru]||null}var Jj=[],zh=-1;function Iu(h){return{current:h}}function gn(h){0>zh||(h.current=Jj[zh],Jj[zh]=null,zh--)}function on(h,m){zh++,Jj[zh]=h.current,h.current=m}var Du={},Yi=Iu(Du),Os=Iu(!1),sf=Du;function qh(h,m){var S=h.type.contextTypes;if(!S)return Du;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var M={},$;for($ in S)M[$]=m[$];return T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=M),M}function Rs(h){return h=h.childContextTypes,h!=null}function f0(){gn(Os),gn(Yi)}function nL(h,m,S){if(Yi.current!==Du)throw Error(r(168));on(Yi,m),on(Os,S)}function iL(h,m,S){var T=h.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return S;T=T.getChildContext();for(var M in T)if(!(M in m))throw Error(r(108,ae(h)||"Unknown",M));return ie({},S,T)}function h0(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Du,sf=Yi.current,on(Yi,h),on(Os,Os.current),!0}function sL(h,m,S){var T=h.stateNode;if(!T)throw Error(r(169));S?(h=iL(h,m,sf),T.__reactInternalMemoizedMergedChildContext=h,gn(Os),gn(Yi),on(Yi,h)):gn(Os),on(Os,S)}var pc=null,p0=!1,Qj=!1;function aL(h){pc===null?pc=[h]:pc.push(h)}function Aie(h){p0=!0,aL(h)}function Lu(){if(!Qj&&pc!==null){Qj=!0;var h=0,m=vr;try{var S=pc;for(vr=1;h<S.length;h++){var T=S[h];do T=T(!0);while(T!==null)}pc=null,p0=!1}catch(M){throw pc!==null&&(pc=pc.slice(h+1)),kh(Di,Lu),M}finally{vr=m,Qj=!1}}return null}var Uh=[],Vh=0,m0=null,g0=0,Ia=[],Da=0,af=null,mc=1,gc="";function of(h,m){Uh[Vh++]=g0,Uh[Vh++]=m0,m0=h,g0=m}function oL(h,m,S){Ia[Da++]=mc,Ia[Da++]=gc,Ia[Da++]=af,af=h;var T=mc;h=gc;var M=32-Vt(T)-1;T&=~(1<<M),S+=1;var $=32-Vt(m)+M;if(30<$){var se=M-M%5;$=(T&(1<<se)-1).toString(32),T>>=se,M-=se,mc=1<<32-Vt(m)+M|S<<M|T,gc=$+h}else mc=1<<$|S<<M|T,gc=h}function eS(h){h.return!==null&&(of(h,1),oL(h,1,0))}function tS(h){for(;h===m0;)m0=Uh[--Vh],Uh[Vh]=null,g0=Uh[--Vh],Uh[Vh]=null;for(;h===af;)af=Ia[--Da],Ia[Da]=null,gc=Ia[--Da],Ia[Da]=null,mc=Ia[--Da],Ia[Da]=null}var sa=null,aa=null,Sn=!1,vo=null;function lL(h,m){var S=Ba(5,null,null,0);S.elementType="DELETED",S.stateNode=m,S.return=h,m=h.deletions,m===null?(h.deletions=[S],h.flags|=16):m.push(S)}function cL(h,m){switch(h.tag){case 5:var S=h.type;return m=m.nodeType!==1||S.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,sa=h,aa=cl(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,sa=h,aa=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(S=af!==null?{id:mc,overflow:gc}:null,h.memoizedState={dehydrated:m,treeContext:S,retryLane:1073741824},S=Ba(18,null,null,0),S.stateNode=m,S.return=h,h.child=S,sa=h,aa=null,!0):!1;default:return!1}}function rS(h){return(h.mode&1)!==0&&(h.flags&128)===0}function nS(h){if(Sn){var m=aa;if(m){var S=m;if(!cL(h,m)){if(rS(h))throw Error(r(418));m=cl(S.nextSibling);var T=sa;m&&cL(h,m)?lL(T,S):(h.flags=h.flags&-4097|2,Sn=!1,sa=h)}}else{if(rS(h))throw Error(r(418));h.flags=h.flags&-4097|2,Sn=!1,sa=h}}}function uL(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;sa=h}function v0(h){if(h!==sa)return!1;if(!Sn)return uL(h),Sn=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!ir(h.type,h.memoizedProps)),m&&(m=aa)){if(rS(h))throw dL(),Error(r(418));for(;m;)lL(h,m),m=cl(m.nextSibling)}if(uL(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var S=h.data;if(S==="/$"){if(m===0){aa=cl(h.nextSibling);break e}m--}else S!=="$"&&S!=="$!"&&S!=="$?"||m++}h=h.nextSibling}aa=null}}else aa=sa?cl(h.stateNode.nextSibling):null;return!0}function dL(){for(var h=aa;h;)h=cl(h.nextSibling)}function Wh(){aa=sa=null,Sn=!1}function iS(h){vo===null?vo=[h]:vo.push(h)}var Tie=A.ReactCurrentBatchConfig;function kg(h,m,S){if(h=S.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var T=S.stateNode}if(!T)throw Error(r(147,h));var M=T,$=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(se){var xe=M.refs;se===null?delete xe[$]:xe[$]=se},m._stringRef=$,m)}if(typeof h!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,h))}return h}function y0(h,m){throw h=Object.prototype.toString.call(m),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function fL(h){var m=h._init;return m(h._payload)}function hL(h){function m($e,ke){if(h){var Be=$e.deletions;Be===null?($e.deletions=[ke],$e.flags|=16):Be.push(ke)}}function S($e,ke){if(!h)return null;for(;ke!==null;)m($e,ke),ke=ke.sibling;return null}function T($e,ke){for($e=new Map;ke!==null;)ke.key!==null?$e.set(ke.key,ke):$e.set(ke.index,ke),ke=ke.sibling;return $e}function M($e,ke){return $e=Wu($e,ke),$e.index=0,$e.sibling=null,$e}function $($e,ke,Be){return $e.index=Be,h?(Be=$e.alternate,Be!==null?(Be=Be.index,Be<ke?($e.flags|=2,ke):Be):($e.flags|=2,ke)):($e.flags|=1048576,ke)}function se($e){return h&&$e.alternate===null&&($e.flags|=2),$e}function xe($e,ke,Be,ct){return ke===null||ke.tag!==6?(ke=ZS(Be,$e.mode,ct),ke.return=$e,ke):(ke=M(ke,Be),ke.return=$e,ke)}function je($e,ke,Be,ct){var Tt=Be.type;return Tt===O?nt($e,ke,Be.props.children,ct,Be.key):ke!==null&&(ke.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===le&&fL(Tt)===ke.type)?(ct=M(ke,Be.props),ct.ref=kg($e,ke,Be),ct.return=$e,ct):(ct=q0(Be.type,Be.key,Be.props,null,$e.mode,ct),ct.ref=kg($e,ke,Be),ct.return=$e,ct)}function Ve($e,ke,Be,ct){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Be.containerInfo||ke.stateNode.implementation!==Be.implementation?(ke=YS(Be,$e.mode,ct),ke.return=$e,ke):(ke=M(ke,Be.children||[]),ke.return=$e,ke)}function nt($e,ke,Be,ct,Tt){return ke===null||ke.tag!==7?(ke=mf(Be,$e.mode,ct,Tt),ke.return=$e,ke):(ke=M(ke,Be),ke.return=$e,ke)}function at($e,ke,Be){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=ZS(""+ke,$e.mode,Be),ke.return=$e,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case E:return Be=q0(ke.type,ke.key,ke.props,null,$e.mode,Be),Be.ref=kg($e,null,ke),Be.return=$e,Be;case P:return ke=YS(ke,$e.mode,Be),ke.return=$e,ke;case le:var ct=ke._init;return at($e,ct(ke._payload),Be)}if(ye(ke)||G(ke))return ke=mf(ke,$e.mode,Be,null),ke.return=$e,ke;y0($e,ke)}return null}function rt($e,ke,Be,ct){var Tt=ke!==null?ke.key:null;if(typeof Be=="string"&&Be!==""||typeof Be=="number")return Tt!==null?null:xe($e,ke,""+Be,ct);if(typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case E:return Be.key===Tt?je($e,ke,Be,ct):null;case P:return Be.key===Tt?Ve($e,ke,Be,ct):null;case le:return Tt=Be._init,rt($e,ke,Tt(Be._payload),ct)}if(ye(Be)||G(Be))return Tt!==null?null:nt($e,ke,Be,ct,null);y0($e,Be)}return null}function gt($e,ke,Be,ct,Tt){if(typeof ct=="string"&&ct!==""||typeof ct=="number")return $e=$e.get(Be)||null,xe(ke,$e,""+ct,Tt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case E:return $e=$e.get(ct.key===null?Be:ct.key)||null,je(ke,$e,ct,Tt);case P:return $e=$e.get(ct.key===null?Be:ct.key)||null,Ve(ke,$e,ct,Tt);case le:var Dt=ct._init;return gt($e,ke,Be,Dt(ct._payload),Tt)}if(ye(ct)||G(ct))return $e=$e.get(Be)||null,nt(ke,$e,ct,Tt,null);y0(ke,ct)}return null}function jt($e,ke,Be,ct){for(var Tt=null,Dt=null,Lt=ke,Gt=ke=0,Ei=null;Lt!==null&&Gt<Be.length;Gt++){Lt.index>Gt?(Ei=Lt,Lt=null):Ei=Lt.sibling;var Pr=rt($e,Lt,Be[Gt],ct);if(Pr===null){Lt===null&&(Lt=Ei);break}h&&Lt&&Pr.alternate===null&&m($e,Lt),ke=$(Pr,ke,Gt),Dt===null?Tt=Pr:Dt.sibling=Pr,Dt=Pr,Lt=Ei}if(Gt===Be.length)return S($e,Lt),Sn&&of($e,Gt),Tt;if(Lt===null){for(;Gt<Be.length;Gt++)Lt=at($e,Be[Gt],ct),Lt!==null&&(ke=$(Lt,ke,Gt),Dt===null?Tt=Lt:Dt.sibling=Lt,Dt=Lt);return Sn&&of($e,Gt),Tt}for(Lt=T($e,Lt);Gt<Be.length;Gt++)Ei=gt(Lt,$e,Gt,Be[Gt],ct),Ei!==null&&(h&&Ei.alternate!==null&&Lt.delete(Ei.key===null?Gt:Ei.key),ke=$(Ei,ke,Gt),Dt===null?Tt=Ei:Dt.sibling=Ei,Dt=Ei);return h&&Lt.forEach(function(Hu){return m($e,Hu)}),Sn&&of($e,Gt),Tt}function kt($e,ke,Be,ct){var Tt=G(Be);if(typeof Tt!="function")throw Error(r(150));if(Be=Tt.call(Be),Be==null)throw Error(r(151));for(var Dt=Tt=null,Lt=ke,Gt=ke=0,Ei=null,Pr=Be.next();Lt!==null&&!Pr.done;Gt++,Pr=Be.next()){Lt.index>Gt?(Ei=Lt,Lt=null):Ei=Lt.sibling;var Hu=rt($e,Lt,Pr.value,ct);if(Hu===null){Lt===null&&(Lt=Ei);break}h&&Lt&&Hu.alternate===null&&m($e,Lt),ke=$(Hu,ke,Gt),Dt===null?Tt=Hu:Dt.sibling=Hu,Dt=Hu,Lt=Ei}if(Pr.done)return S($e,Lt),Sn&&of($e,Gt),Tt;if(Lt===null){for(;!Pr.done;Gt++,Pr=Be.next())Pr=at($e,Pr.value,ct),Pr!==null&&(ke=$(Pr,ke,Gt),Dt===null?Tt=Pr:Dt.sibling=Pr,Dt=Pr);return Sn&&of($e,Gt),Tt}for(Lt=T($e,Lt);!Pr.done;Gt++,Pr=Be.next())Pr=gt(Lt,$e,Gt,Pr.value,ct),Pr!==null&&(h&&Pr.alternate!==null&&Lt.delete(Pr.key===null?Gt:Pr.key),ke=$(Pr,ke,Gt),Dt===null?Tt=Pr:Dt.sibling=Pr,Dt=Pr);return h&&Lt.forEach(function(use){return m($e,use)}),Sn&&of($e,Gt),Tt}function Vn($e,ke,Be,ct){if(typeof Be=="object"&&Be!==null&&Be.type===O&&Be.key===null&&(Be=Be.props.children),typeof Be=="object"&&Be!==null){switch(Be.$$typeof){case E:e:{for(var Tt=Be.key,Dt=ke;Dt!==null;){if(Dt.key===Tt){if(Tt=Be.type,Tt===O){if(Dt.tag===7){S($e,Dt.sibling),ke=M(Dt,Be.props.children),ke.return=$e,$e=ke;break e}}else if(Dt.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===le&&fL(Tt)===Dt.type){S($e,Dt.sibling),ke=M(Dt,Be.props),ke.ref=kg($e,Dt,Be),ke.return=$e,$e=ke;break e}S($e,Dt);break}else m($e,Dt);Dt=Dt.sibling}Be.type===O?(ke=mf(Be.props.children,$e.mode,ct,Be.key),ke.return=$e,$e=ke):(ct=q0(Be.type,Be.key,Be.props,null,$e.mode,ct),ct.ref=kg($e,ke,Be),ct.return=$e,$e=ct)}return se($e);case P:e:{for(Dt=Be.key;ke!==null;){if(ke.key===Dt)if(ke.tag===4&&ke.stateNode.containerInfo===Be.containerInfo&&ke.stateNode.implementation===Be.implementation){S($e,ke.sibling),ke=M(ke,Be.children||[]),ke.return=$e,$e=ke;break e}else{S($e,ke);break}else m($e,ke);ke=ke.sibling}ke=YS(Be,$e.mode,ct),ke.return=$e,$e=ke}return se($e);case le:return Dt=Be._init,Vn($e,ke,Dt(Be._payload),ct)}if(ye(Be))return jt($e,ke,Be,ct);if(G(Be))return kt($e,ke,Be,ct);y0($e,Be)}return typeof Be=="string"&&Be!==""||typeof Be=="number"?(Be=""+Be,ke!==null&&ke.tag===6?(S($e,ke.sibling),ke=M(ke,Be),ke.return=$e,$e=ke):(S($e,ke),ke=ZS(Be,$e.mode,ct),ke.return=$e,$e=ke),se($e)):S($e,ke)}return Vn}var Hh=hL(!0),pL=hL(!1),x0=Iu(null),b0=null,Kh=null,sS=null;function aS(){sS=Kh=b0=null}function oS(h){var m=x0.current;gn(x0),h._currentValue=m}function lS(h,m,S){for(;h!==null;){var T=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),h===S)break;h=h.return}}function Gh(h,m){b0=h,sS=Kh=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(Ms=!0),h.firstContext=null)}function La(h){var m=h._currentValue;if(sS!==h)if(h={context:h,memoizedValue:m,next:null},Kh===null){if(b0===null)throw Error(r(308));Kh=h,b0.dependencies={lanes:0,firstContext:h}}else Kh=Kh.next=h;return m}var lf=null;function cS(h){lf===null?lf=[h]:lf.push(h)}function mL(h,m,S,T){var M=m.interleaved;return M===null?(S.next=S,cS(m)):(S.next=M.next,M.next=S),m.interleaved=S,vc(h,T)}function vc(h,m){h.lanes|=m;var S=h.alternate;for(S!==null&&(S.lanes|=m),S=h,h=h.return;h!==null;)h.childLanes|=m,S=h.alternate,S!==null&&(S.childLanes|=m),S=h,h=h.return;return S.tag===3?S.stateNode:null}var $u=!1;function uS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gL(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function yc(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Fu(h,m,S){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(Sr&2)!==0){var M=T.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),T.pending=m,vc(h,S)}return M=T.interleaved,M===null?(m.next=m,cS(T)):(m.next=M.next,M.next=m),T.interleaved=m,vc(h,S)}function w0(h,m,S){if(m=m.updateQueue,m!==null&&(m=m.shared,(S&4194240)!==0)){var T=m.lanes;T&=h.pendingLanes,S|=T,m.lanes=S,Qs(h,S)}}function vL(h,m){var S=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,S===T)){var M=null,$=null;if(S=S.firstBaseUpdate,S!==null){do{var se={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};$===null?M=$=se:$=$.next=se,S=S.next}while(S!==null);$===null?M=$=m:$=$.next=m}else M=$=m;S={baseState:T.baseState,firstBaseUpdate:M,lastBaseUpdate:$,shared:T.shared,effects:T.effects},h.updateQueue=S;return}h=S.lastBaseUpdate,h===null?S.firstBaseUpdate=m:h.next=m,S.lastBaseUpdate=m}function _0(h,m,S,T){var M=h.updateQueue;$u=!1;var $=M.firstBaseUpdate,se=M.lastBaseUpdate,xe=M.shared.pending;if(xe!==null){M.shared.pending=null;var je=xe,Ve=je.next;je.next=null,se===null?$=Ve:se.next=Ve,se=je;var nt=h.alternate;nt!==null&&(nt=nt.updateQueue,xe=nt.lastBaseUpdate,xe!==se&&(xe===null?nt.firstBaseUpdate=Ve:xe.next=Ve,nt.lastBaseUpdate=je))}if($!==null){var at=M.baseState;se=0,nt=Ve=je=null,xe=$;do{var rt=xe.lane,gt=xe.eventTime;if((T&rt)===rt){nt!==null&&(nt=nt.next={eventTime:gt,lane:0,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null});e:{var jt=h,kt=xe;switch(rt=m,gt=S,kt.tag){case 1:if(jt=kt.payload,typeof jt=="function"){at=jt.call(gt,at,rt);break e}at=jt;break e;case 3:jt.flags=jt.flags&-65537|128;case 0:if(jt=kt.payload,rt=typeof jt=="function"?jt.call(gt,at,rt):jt,rt==null)break e;at=ie({},at,rt);break e;case 2:$u=!0}}xe.callback!==null&&xe.lane!==0&&(h.flags|=64,rt=M.effects,rt===null?M.effects=[xe]:rt.push(xe))}else gt={eventTime:gt,lane:rt,tag:xe.tag,payload:xe.payload,callback:xe.callback,next:null},nt===null?(Ve=nt=gt,je=at):nt=nt.next=gt,se|=rt;if(xe=xe.next,xe===null){if(xe=M.shared.pending,xe===null)break;rt=xe,xe=rt.next,rt.next=null,M.lastBaseUpdate=rt,M.shared.pending=null}}while(!0);if(nt===null&&(je=at),M.baseState=je,M.firstBaseUpdate=Ve,M.lastBaseUpdate=nt,m=M.shared.interleaved,m!==null){M=m;do se|=M.lane,M=M.next;while(M!==m)}else $===null&&(M.shared.lanes=0);df|=se,h.lanes=se,h.memoizedState=at}}function yL(h,m,S){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var T=h[m],M=T.callback;if(M!==null){if(T.callback=null,T=S,typeof M!="function")throw Error(r(191,M));M.call(T)}}}var Ag={},ul=Iu(Ag),Tg=Iu(Ag),Og=Iu(Ag);function cf(h){if(h===Ag)throw Error(r(174));return h}function dS(h,m){switch(on(Og,m),on(Tg,h),on(ul,Ag),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:J(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=J(m,h)}gn(ul),on(ul,m)}function Zh(){gn(ul),gn(Tg),gn(Og)}function xL(h){cf(Og.current);var m=cf(ul.current),S=J(m,h.type);m!==S&&(on(Tg,h),on(ul,S))}function fS(h){Tg.current===h&&(gn(ul),gn(Tg))}var kn=Iu(0);function j0(h){for(var m=h;m!==null;){if(m.tag===13){var S=m.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var hS=[];function pS(){for(var h=0;h<hS.length;h++)hS[h]._workInProgressVersionPrimary=null;hS.length=0}var S0=A.ReactCurrentDispatcher,mS=A.ReactCurrentBatchConfig,uf=0,An=null,ui=null,Ni=null,N0=!1,Rg=!1,Mg=0,Oie=0;function Xi(){throw Error(r(321))}function gS(h,m){if(m===null)return!1;for(var S=0;S<m.length&&S<h.length;S++)if(!na(h[S],m[S]))return!1;return!0}function vS(h,m,S,T,M,$){if(uf=$,An=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,S0.current=h===null||h.memoizedState===null?Die:Lie,h=S(T,M),Rg){$=0;do{if(Rg=!1,Mg=0,25<=$)throw Error(r(301));$+=1,Ni=ui=null,m.updateQueue=null,S0.current=$ie,h=S(T,M)}while(Rg)}if(S0.current=P0,m=ui!==null&&ui.next!==null,uf=0,Ni=ui=An=null,N0=!1,m)throw Error(r(300));return h}function yS(){var h=Mg!==0;return Mg=0,h}function dl(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ni===null?An.memoizedState=Ni=h:Ni=Ni.next=h,Ni}function $a(){if(ui===null){var h=An.alternate;h=h!==null?h.memoizedState:null}else h=ui.next;var m=Ni===null?An.memoizedState:Ni.next;if(m!==null)Ni=m,ui=h;else{if(h===null)throw Error(r(310));ui=h,h={memoizedState:ui.memoizedState,baseState:ui.baseState,baseQueue:ui.baseQueue,queue:ui.queue,next:null},Ni===null?An.memoizedState=Ni=h:Ni=Ni.next=h}return Ni}function Ig(h,m){return typeof m=="function"?m(h):m}function xS(h){var m=$a(),S=m.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=h;var T=ui,M=T.baseQueue,$=S.pending;if($!==null){if(M!==null){var se=M.next;M.next=$.next,$.next=se}T.baseQueue=M=$,S.pending=null}if(M!==null){$=M.next,T=T.baseState;var xe=se=null,je=null,Ve=$;do{var nt=Ve.lane;if((uf&nt)===nt)je!==null&&(je=je.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),T=Ve.hasEagerState?Ve.eagerState:h(T,Ve.action);else{var at={lane:nt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};je===null?(xe=je=at,se=T):je=je.next=at,An.lanes|=nt,df|=nt}Ve=Ve.next}while(Ve!==null&&Ve!==$);je===null?se=T:je.next=xe,na(T,m.memoizedState)||(Ms=!0),m.memoizedState=T,m.baseState=se,m.baseQueue=je,S.lastRenderedState=T}if(h=S.interleaved,h!==null){M=h;do $=M.lane,An.lanes|=$,df|=$,M=M.next;while(M!==h)}else M===null&&(S.lanes=0);return[m.memoizedState,S.dispatch]}function bS(h){var m=$a(),S=m.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=h;var T=S.dispatch,M=S.pending,$=m.memoizedState;if(M!==null){S.pending=null;var se=M=M.next;do $=h($,se.action),se=se.next;while(se!==M);na($,m.memoizedState)||(Ms=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),S.lastRenderedState=$}return[$,T]}function bL(){}function wL(h,m){var S=An,T=$a(),M=m(),$=!na(T.memoizedState,M);if($&&(T.memoizedState=M,Ms=!0),T=T.queue,wS(SL.bind(null,S,T,h),[h]),T.getSnapshot!==m||$||Ni!==null&&Ni.memoizedState.tag&1){if(S.flags|=2048,Dg(9,jL.bind(null,S,T,M,m),void 0,null),Ci===null)throw Error(r(349));(uf&30)!==0||_L(S,m,M)}return M}function _L(h,m,S){h.flags|=16384,h={getSnapshot:m,value:S},m=An.updateQueue,m===null?(m={lastEffect:null,stores:null},An.updateQueue=m,m.stores=[h]):(S=m.stores,S===null?m.stores=[h]:S.push(h))}function jL(h,m,S,T){m.value=S,m.getSnapshot=T,NL(m)&&CL(h)}function SL(h,m,S){return S(function(){NL(m)&&CL(h)})}function NL(h){var m=h.getSnapshot;h=h.value;try{var S=m();return!na(h,S)}catch{return!0}}function CL(h){var m=vc(h,1);m!==null&&wo(m,h,1,-1)}function EL(h){var m=dl();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ig,lastRenderedState:h},m.queue=h,h=h.dispatch=Iie.bind(null,An,h),[m.memoizedState,h]}function Dg(h,m,S,T){return h={tag:h,create:m,destroy:S,deps:T,next:null},m=An.updateQueue,m===null?(m={lastEffect:null,stores:null},An.updateQueue=m,m.lastEffect=h.next=h):(S=m.lastEffect,S===null?m.lastEffect=h.next=h:(T=S.next,S.next=h,h.next=T,m.lastEffect=h)),h}function PL(){return $a().memoizedState}function C0(h,m,S,T){var M=dl();An.flags|=h,M.memoizedState=Dg(1|m,S,void 0,T===void 0?null:T)}function E0(h,m,S,T){var M=$a();T=T===void 0?null:T;var $=void 0;if(ui!==null){var se=ui.memoizedState;if($=se.destroy,T!==null&&gS(T,se.deps)){M.memoizedState=Dg(m,S,$,T);return}}An.flags|=h,M.memoizedState=Dg(1|m,S,$,T)}function kL(h,m){return C0(8390656,8,h,m)}function wS(h,m){return E0(2048,8,h,m)}function AL(h,m){return E0(4,2,h,m)}function TL(h,m){return E0(4,4,h,m)}function OL(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function RL(h,m,S){return S=S!=null?S.concat([h]):null,E0(4,4,OL.bind(null,m,h),S)}function _S(){}function ML(h,m){var S=$a();m=m===void 0?null:m;var T=S.memoizedState;return T!==null&&m!==null&&gS(m,T[1])?T[0]:(S.memoizedState=[h,m],h)}function IL(h,m){var S=$a();m=m===void 0?null:m;var T=S.memoizedState;return T!==null&&m!==null&&gS(m,T[1])?T[0]:(h=h(),S.memoizedState=[h,m],h)}function DL(h,m,S){return(uf&21)===0?(h.baseState&&(h.baseState=!1,Ms=!0),h.memoizedState=S):(na(S,m)||(S=pg(),An.lanes|=S,df|=S,h.baseState=!0),m)}function Rie(h,m){var S=vr;vr=S!==0&&4>S?S:4,h(!0);var T=mS.transition;mS.transition={};try{h(!1),m()}finally{vr=S,mS.transition=T}}function LL(){return $a().memoizedState}function Mie(h,m,S){var T=Uu(h);if(S={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null},$L(h))FL(m,S);else if(S=mL(h,m,S,T),S!==null){var M=gs();wo(S,h,T,M),BL(S,m,T)}}function Iie(h,m,S){var T=Uu(h),M={lane:T,action:S,hasEagerState:!1,eagerState:null,next:null};if($L(h))FL(m,M);else{var $=h.alternate;if(h.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var se=m.lastRenderedState,xe=$(se,S);if(M.hasEagerState=!0,M.eagerState=xe,na(xe,se)){var je=m.interleaved;je===null?(M.next=M,cS(m)):(M.next=je.next,je.next=M),m.interleaved=M;return}}catch{}finally{}S=mL(h,m,M,T),S!==null&&(M=gs(),wo(S,h,T,M),BL(S,m,T))}}function $L(h){var m=h.alternate;return h===An||m!==null&&m===An}function FL(h,m){Rg=N0=!0;var S=h.pending;S===null?m.next=m:(m.next=S.next,S.next=m),h.pending=m}function BL(h,m,S){if((S&4194240)!==0){var T=m.lanes;T&=h.pendingLanes,S|=T,m.lanes=S,Qs(h,S)}}var P0={readContext:La,useCallback:Xi,useContext:Xi,useEffect:Xi,useImperativeHandle:Xi,useInsertionEffect:Xi,useLayoutEffect:Xi,useMemo:Xi,useReducer:Xi,useRef:Xi,useState:Xi,useDebugValue:Xi,useDeferredValue:Xi,useTransition:Xi,useMutableSource:Xi,useSyncExternalStore:Xi,useId:Xi,unstable_isNewReconciler:!1},Die={readContext:La,useCallback:function(h,m){return dl().memoizedState=[h,m===void 0?null:m],h},useContext:La,useEffect:kL,useImperativeHandle:function(h,m,S){return S=S!=null?S.concat([h]):null,C0(4194308,4,OL.bind(null,m,h),S)},useLayoutEffect:function(h,m){return C0(4194308,4,h,m)},useInsertionEffect:function(h,m){return C0(4,2,h,m)},useMemo:function(h,m){var S=dl();return m=m===void 0?null:m,h=h(),S.memoizedState=[h,m],h},useReducer:function(h,m,S){var T=dl();return m=S!==void 0?S(m):m,T.memoizedState=T.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},T.queue=h,h=h.dispatch=Mie.bind(null,An,h),[T.memoizedState,h]},useRef:function(h){var m=dl();return h={current:h},m.memoizedState=h},useState:EL,useDebugValue:_S,useDeferredValue:function(h){return dl().memoizedState=h},useTransition:function(){var h=EL(!1),m=h[0];return h=Rie.bind(null,h[1]),dl().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,S){var T=An,M=dl();if(Sn){if(S===void 0)throw Error(r(407));S=S()}else{if(S=m(),Ci===null)throw Error(r(349));(uf&30)!==0||_L(T,m,S)}M.memoizedState=S;var $={value:S,getSnapshot:m};return M.queue=$,kL(SL.bind(null,T,$,h),[h]),T.flags|=2048,Dg(9,jL.bind(null,T,$,S,m),void 0,null),S},useId:function(){var h=dl(),m=Ci.identifierPrefix;if(Sn){var S=gc,T=mc;S=(T&~(1<<32-Vt(T)-1)).toString(32)+S,m=":"+m+"R"+S,S=Mg++,0<S&&(m+="H"+S.toString(32)),m+=":"}else S=Oie++,m=":"+m+"r"+S.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},Lie={readContext:La,useCallback:ML,useContext:La,useEffect:wS,useImperativeHandle:RL,useInsertionEffect:AL,useLayoutEffect:TL,useMemo:IL,useReducer:xS,useRef:PL,useState:function(){return xS(Ig)},useDebugValue:_S,useDeferredValue:function(h){var m=$a();return DL(m,ui.memoizedState,h)},useTransition:function(){var h=xS(Ig)[0],m=$a().memoizedState;return[h,m]},useMutableSource:bL,useSyncExternalStore:wL,useId:LL,unstable_isNewReconciler:!1},$ie={readContext:La,useCallback:ML,useContext:La,useEffect:wS,useImperativeHandle:RL,useInsertionEffect:AL,useLayoutEffect:TL,useMemo:IL,useReducer:bS,useRef:PL,useState:function(){return bS(Ig)},useDebugValue:_S,useDeferredValue:function(h){var m=$a();return ui===null?m.memoizedState=h:DL(m,ui.memoizedState,h)},useTransition:function(){var h=bS(Ig)[0],m=$a().memoizedState;return[h,m]},useMutableSource:bL,useSyncExternalStore:wL,useId:LL,unstable_isNewReconciler:!1};function yo(h,m){if(h&&h.defaultProps){m=ie({},m),h=h.defaultProps;for(var S in h)m[S]===void 0&&(m[S]=h[S]);return m}return m}function jS(h,m,S,T){m=h.memoizedState,S=S(T,m),S=S==null?m:ie({},m,S),h.memoizedState=S,h.lanes===0&&(h.updateQueue.baseState=S)}var k0={isMounted:function(h){return(h=h._reactInternals)?Cs(h)===h:!1},enqueueSetState:function(h,m,S){h=h._reactInternals;var T=gs(),M=Uu(h),$=yc(T,M);$.payload=m,S!=null&&($.callback=S),m=Fu(h,$,M),m!==null&&(wo(m,h,M,T),w0(m,h,M))},enqueueReplaceState:function(h,m,S){h=h._reactInternals;var T=gs(),M=Uu(h),$=yc(T,M);$.tag=1,$.payload=m,S!=null&&($.callback=S),m=Fu(h,$,M),m!==null&&(wo(m,h,M,T),w0(m,h,M))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var S=gs(),T=Uu(h),M=yc(S,T);M.tag=2,m!=null&&(M.callback=m),m=Fu(h,M,T),m!==null&&(wo(m,h,T,S),w0(m,h,T))}};function zL(h,m,S,T,M,$,se){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,$,se):m.prototype&&m.prototype.isPureReactComponent?!al(S,T)||!al(M,$):!0}function qL(h,m,S){var T=!1,M=Du,$=m.contextType;return typeof $=="object"&&$!==null?$=La($):(M=Rs(m)?sf:Yi.current,T=m.contextTypes,$=(T=T!=null)?qh(h,M):Du),m=new m(S,$),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=k0,h.stateNode=m,m._reactInternals=h,T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=$),m}function UL(h,m,S,T){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(S,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(S,T),m.state!==h&&k0.enqueueReplaceState(m,m.state,null)}function SS(h,m,S,T){var M=h.stateNode;M.props=S,M.state=h.memoizedState,M.refs={},uS(h);var $=m.contextType;typeof $=="object"&&$!==null?M.context=La($):($=Rs(m)?sf:Yi.current,M.context=qh(h,$)),M.state=h.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(jS(h,m,$,S),M.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&k0.enqueueReplaceState(M,M.state,null),_0(h,S,M,T),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}function Yh(h,m){try{var S="",T=m;do S+=qe(T),T=T.return;while(T);var M=S}catch($){M=`
Error generating stack: `+$.message+`
`+$.stack}return{value:h,source:m,stack:M,digest:null}}function NS(h,m,S){return{value:h,source:null,stack:S??null,digest:m??null}}function CS(h,m){try{console.error(m.value)}catch(S){setTimeout(function(){throw S})}}var Fie=typeof WeakMap=="function"?WeakMap:Map;function VL(h,m,S){S=yc(-1,S),S.tag=3,S.payload={element:null};var T=m.value;return S.callback=function(){D0||(D0=!0,zS=T),CS(h,m)},S}function WL(h,m,S){S=yc(-1,S),S.tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var M=m.value;S.payload=function(){return T(M)},S.callback=function(){CS(h,m)}}var $=h.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(S.callback=function(){CS(h,m),typeof T!="function"&&(zu===null?zu=new Set([this]):zu.add(this));var se=m.stack;this.componentDidCatch(m.value,{componentStack:se!==null?se:""})}),S}function HL(h,m,S){var T=h.pingCache;if(T===null){T=h.pingCache=new Fie;var M=new Set;T.set(m,M)}else M=T.get(m),M===void 0&&(M=new Set,T.set(m,M));M.has(S)||(M.add(S),h=Qie.bind(null,h,m,S),m.then(h,h))}function KL(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function GL(h,m,S,T,M){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(m=yc(-1,1),m.tag=2,Fu(S,m,1))),S.lanes|=1),h):(h.flags|=65536,h.lanes=M,h)}var Bie=A.ReactCurrentOwner,Ms=!1;function ms(h,m,S,T){m.child=h===null?pL(m,null,S,T):Hh(m,h.child,S,T)}function ZL(h,m,S,T,M){S=S.render;var $=m.ref;return Gh(m,M),T=vS(h,m,S,T,$,M),S=yS(),h!==null&&!Ms?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~M,xc(h,m,M)):(Sn&&S&&eS(m),m.flags|=1,ms(h,m,T,M),m.child)}function YL(h,m,S,T,M){if(h===null){var $=S.type;return typeof $=="function"&&!GS($)&&$.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(m.tag=15,m.type=$,XL(h,m,$,T,M)):(h=q0(S.type,null,T,m,m.mode,M),h.ref=m.ref,h.return=m,m.child=h)}if($=h.child,(h.lanes&M)===0){var se=$.memoizedProps;if(S=S.compare,S=S!==null?S:al,S(se,T)&&h.ref===m.ref)return xc(h,m,M)}return m.flags|=1,h=Wu($,T),h.ref=m.ref,h.return=m,m.child=h}function XL(h,m,S,T,M){if(h!==null){var $=h.memoizedProps;if(al($,T)&&h.ref===m.ref)if(Ms=!1,m.pendingProps=T=$,(h.lanes&M)!==0)(h.flags&131072)!==0&&(Ms=!0);else return m.lanes=h.lanes,xc(h,m,M)}return ES(h,m,S,T,M)}function JL(h,m,S){var T=m.pendingProps,M=T.children,$=h!==null?h.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(Jh,oa),oa|=S;else{if((S&1073741824)===0)return h=$!==null?$.baseLanes|S:S,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,on(Jh,oa),oa|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:S,on(Jh,oa),oa|=T}else $!==null?(T=$.baseLanes|S,m.memoizedState=null):T=S,on(Jh,oa),oa|=T;return ms(h,m,M,S),m.child}function QL(h,m){var S=m.ref;(h===null&&S!==null||h!==null&&h.ref!==S)&&(m.flags|=512,m.flags|=2097152)}function ES(h,m,S,T,M){var $=Rs(S)?sf:Yi.current;return $=qh(m,$),Gh(m,M),S=vS(h,m,S,T,$,M),T=yS(),h!==null&&!Ms?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~M,xc(h,m,M)):(Sn&&T&&eS(m),m.flags|=1,ms(h,m,S,M),m.child)}function e4(h,m,S,T,M){if(Rs(S)){var $=!0;h0(m)}else $=!1;if(Gh(m,M),m.stateNode===null)T0(h,m),qL(m,S,T),SS(m,S,T,M),T=!0;else if(h===null){var se=m.stateNode,xe=m.memoizedProps;se.props=xe;var je=se.context,Ve=S.contextType;typeof Ve=="object"&&Ve!==null?Ve=La(Ve):(Ve=Rs(S)?sf:Yi.current,Ve=qh(m,Ve));var nt=S.getDerivedStateFromProps,at=typeof nt=="function"||typeof se.getSnapshotBeforeUpdate=="function";at||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(xe!==T||je!==Ve)&&UL(m,se,T,Ve),$u=!1;var rt=m.memoizedState;se.state=rt,_0(m,T,se,M),je=m.memoizedState,xe!==T||rt!==je||Os.current||$u?(typeof nt=="function"&&(jS(m,S,nt,T),je=m.memoizedState),(xe=$u||zL(m,S,xe,T,rt,je,Ve))?(at||typeof se.UNSAFE_componentWillMount!="function"&&typeof se.componentWillMount!="function"||(typeof se.componentWillMount=="function"&&se.componentWillMount(),typeof se.UNSAFE_componentWillMount=="function"&&se.UNSAFE_componentWillMount()),typeof se.componentDidMount=="function"&&(m.flags|=4194308)):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=je),se.props=T,se.state=je,se.context=Ve,T=xe):(typeof se.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{se=m.stateNode,gL(h,m),xe=m.memoizedProps,Ve=m.type===m.elementType?xe:yo(m.type,xe),se.props=Ve,at=m.pendingProps,rt=se.context,je=S.contextType,typeof je=="object"&&je!==null?je=La(je):(je=Rs(S)?sf:Yi.current,je=qh(m,je));var gt=S.getDerivedStateFromProps;(nt=typeof gt=="function"||typeof se.getSnapshotBeforeUpdate=="function")||typeof se.UNSAFE_componentWillReceiveProps!="function"&&typeof se.componentWillReceiveProps!="function"||(xe!==at||rt!==je)&&UL(m,se,T,je),$u=!1,rt=m.memoizedState,se.state=rt,_0(m,T,se,M);var jt=m.memoizedState;xe!==at||rt!==jt||Os.current||$u?(typeof gt=="function"&&(jS(m,S,gt,T),jt=m.memoizedState),(Ve=$u||zL(m,S,Ve,T,rt,jt,je)||!1)?(nt||typeof se.UNSAFE_componentWillUpdate!="function"&&typeof se.componentWillUpdate!="function"||(typeof se.componentWillUpdate=="function"&&se.componentWillUpdate(T,jt,je),typeof se.UNSAFE_componentWillUpdate=="function"&&se.UNSAFE_componentWillUpdate(T,jt,je)),typeof se.componentDidUpdate=="function"&&(m.flags|=4),typeof se.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof se.componentDidUpdate!="function"||xe===h.memoizedProps&&rt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||xe===h.memoizedProps&&rt===h.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=jt),se.props=T,se.state=jt,se.context=je,T=Ve):(typeof se.componentDidUpdate!="function"||xe===h.memoizedProps&&rt===h.memoizedState||(m.flags|=4),typeof se.getSnapshotBeforeUpdate!="function"||xe===h.memoizedProps&&rt===h.memoizedState||(m.flags|=1024),T=!1)}return PS(h,m,S,T,$,M)}function PS(h,m,S,T,M,$){QL(h,m);var se=(m.flags&128)!==0;if(!T&&!se)return M&&sL(m,S,!1),xc(h,m,$);T=m.stateNode,Bie.current=m;var xe=se&&typeof S.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,h!==null&&se?(m.child=Hh(m,h.child,null,$),m.child=Hh(m,null,xe,$)):ms(h,m,xe,$),m.memoizedState=T.state,M&&sL(m,S,!0),m.child}function t4(h){var m=h.stateNode;m.pendingContext?nL(h,m.pendingContext,m.pendingContext!==m.context):m.context&&nL(h,m.context,!1),dS(h,m.containerInfo)}function r4(h,m,S,T,M){return Wh(),iS(M),m.flags|=256,ms(h,m,S,T),m.child}var kS={dehydrated:null,treeContext:null,retryLane:0};function AS(h){return{baseLanes:h,cachePool:null,transitions:null}}function n4(h,m,S){var T=m.pendingProps,M=kn.current,$=!1,se=(m.flags&128)!==0,xe;if((xe=se)||(xe=h!==null&&h.memoizedState===null?!1:(M&2)!==0),xe?($=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),on(kn,M&1),h===null)return nS(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(se=T.children,h=T.fallback,$?(T=m.mode,$=m.child,se={mode:"hidden",children:se},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=se):$=U0(se,T,0,null),h=mf(h,T,S,null),$.return=m,h.return=m,$.sibling=h,m.child=$,m.child.memoizedState=AS(S),m.memoizedState=kS,h):TS(m,se));if(M=h.memoizedState,M!==null&&(xe=M.dehydrated,xe!==null))return zie(h,m,se,T,xe,M,S);if($){$=T.fallback,se=m.mode,M=h.child,xe=M.sibling;var je={mode:"hidden",children:T.children};return(se&1)===0&&m.child!==M?(T=m.child,T.childLanes=0,T.pendingProps=je,m.deletions=null):(T=Wu(M,je),T.subtreeFlags=M.subtreeFlags&14680064),xe!==null?$=Wu(xe,$):($=mf($,se,S,null),$.flags|=2),$.return=m,T.return=m,T.sibling=$,m.child=T,T=$,$=m.child,se=h.child.memoizedState,se=se===null?AS(S):{baseLanes:se.baseLanes|S,cachePool:null,transitions:se.transitions},$.memoizedState=se,$.childLanes=h.childLanes&~S,m.memoizedState=kS,T}return $=h.child,h=$.sibling,T=Wu($,{mode:"visible",children:T.children}),(m.mode&1)===0&&(T.lanes=S),T.return=m,T.sibling=null,h!==null&&(S=m.deletions,S===null?(m.deletions=[h],m.flags|=16):S.push(h)),m.child=T,m.memoizedState=null,T}function TS(h,m){return m=U0({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function A0(h,m,S,T){return T!==null&&iS(T),Hh(m,h.child,null,S),h=TS(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function zie(h,m,S,T,M,$,se){if(S)return m.flags&256?(m.flags&=-257,T=NS(Error(r(422))),A0(h,m,se,T)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):($=T.fallback,M=m.mode,T=U0({mode:"visible",children:T.children},M,0,null),$=mf($,M,se,null),$.flags|=2,T.return=m,$.return=m,T.sibling=$,m.child=T,(m.mode&1)!==0&&Hh(m,h.child,null,se),m.child.memoizedState=AS(se),m.memoizedState=kS,$);if((m.mode&1)===0)return A0(h,m,se,null);if(M.data==="$!"){if(T=M.nextSibling&&M.nextSibling.dataset,T)var xe=T.dgst;return T=xe,$=Error(r(419)),T=NS($,T,void 0),A0(h,m,se,T)}if(xe=(se&h.childLanes)!==0,Ms||xe){if(T=Ci,T!==null){switch(se&-se){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(T.suspendedLanes|se))!==0?0:M,M!==0&&M!==$.retryLane&&($.retryLane=M,vc(h,M),wo(T,h,M,-1))}return KS(),T=NS(Error(r(421))),A0(h,m,se,T)}return M.data==="$?"?(m.flags|=128,m.child=h.child,m=ese.bind(null,h),M._reactRetry=m,null):(h=$.treeContext,aa=cl(M.nextSibling),sa=m,Sn=!0,vo=null,h!==null&&(Ia[Da++]=mc,Ia[Da++]=gc,Ia[Da++]=af,mc=h.id,gc=h.overflow,af=m),m=TS(m,T.children),m.flags|=4096,m)}function i4(h,m,S){h.lanes|=m;var T=h.alternate;T!==null&&(T.lanes|=m),lS(h.return,m,S)}function OS(h,m,S,T,M){var $=h.memoizedState;$===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:S,tailMode:M}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=S,$.tailMode=M)}function s4(h,m,S){var T=m.pendingProps,M=T.revealOrder,$=T.tail;if(ms(h,m,T.children,S),T=kn.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&i4(h,S,m);else if(h.tag===19)i4(h,S,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(on(kn,T),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(S=m.child,M=null;S!==null;)h=S.alternate,h!==null&&j0(h)===null&&(M=S),S=S.sibling;S=M,S===null?(M=m.child,m.child=null):(M=S.sibling,S.sibling=null),OS(m,!1,M,S,$);break;case"backwards":for(S=null,M=m.child,m.child=null;M!==null;){if(h=M.alternate,h!==null&&j0(h)===null){m.child=M;break}h=M.sibling,M.sibling=S,S=M,M=h}OS(m,!0,S,null,$);break;case"together":OS(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function T0(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function xc(h,m,S){if(h!==null&&(m.dependencies=h.dependencies),df|=m.lanes,(S&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(r(153));if(m.child!==null){for(h=m.child,S=Wu(h,h.pendingProps),m.child=S,S.return=m;h.sibling!==null;)h=h.sibling,S=S.sibling=Wu(h,h.pendingProps),S.return=m;S.sibling=null}return m.child}function qie(h,m,S){switch(m.tag){case 3:t4(m),Wh();break;case 5:xL(m);break;case 1:Rs(m.type)&&h0(m);break;case 4:dS(m,m.stateNode.containerInfo);break;case 10:var T=m.type._context,M=m.memoizedProps.value;on(x0,T._currentValue),T._currentValue=M;break;case 13:if(T=m.memoizedState,T!==null)return T.dehydrated!==null?(on(kn,kn.current&1),m.flags|=128,null):(S&m.child.childLanes)!==0?n4(h,m,S):(on(kn,kn.current&1),h=xc(h,m,S),h!==null?h.sibling:null);on(kn,kn.current&1);break;case 19:if(T=(S&m.childLanes)!==0,(h.flags&128)!==0){if(T)return s4(h,m,S);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),on(kn,kn.current),T)break;return null;case 22:case 23:return m.lanes=0,JL(h,m,S)}return xc(h,m,S)}var a4,RS,o4,l4;a4=function(h,m){for(var S=m.child;S!==null;){if(S.tag===5||S.tag===6)h.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===m)break;for(;S.sibling===null;){if(S.return===null||S.return===m)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},RS=function(){},o4=function(h,m,S,T){var M=h.memoizedProps;if(M!==T){h=m.stateNode,cf(ul.current);var $=null;switch(S){case"input":M=Ce(h,M),T=Ce(h,T),$=[];break;case"select":M=ie({},M,{value:void 0}),T=ie({},T,{value:void 0}),$=[];break;case"textarea":M=Fe(h,M),T=Fe(h,T),$=[];break;default:typeof M.onClick!="function"&&typeof T.onClick=="function"&&(h.onclick=Xe)}rr(S,T);var se;S=null;for(Ve in M)if(!T.hasOwnProperty(Ve)&&M.hasOwnProperty(Ve)&&M[Ve]!=null)if(Ve==="style"){var xe=M[Ve];for(se in xe)xe.hasOwnProperty(se)&&(S||(S={}),S[se]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(i.hasOwnProperty(Ve)?$||($=[]):($=$||[]).push(Ve,null));for(Ve in T){var je=T[Ve];if(xe=M?.[Ve],T.hasOwnProperty(Ve)&&je!==xe&&(je!=null||xe!=null))if(Ve==="style")if(xe){for(se in xe)!xe.hasOwnProperty(se)||je&&je.hasOwnProperty(se)||(S||(S={}),S[se]="");for(se in je)je.hasOwnProperty(se)&&xe[se]!==je[se]&&(S||(S={}),S[se]=je[se])}else S||($||($=[]),$.push(Ve,S)),S=je;else Ve==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,xe=xe?xe.__html:void 0,je!=null&&xe!==je&&($=$||[]).push(Ve,je)):Ve==="children"?typeof je!="string"&&typeof je!="number"||($=$||[]).push(Ve,""+je):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ve)?(je!=null&&Ve==="onScroll"&&Jr("scroll",h),$||xe===je||($=[])):($=$||[]).push(Ve,je))}S&&($=$||[]).push("style",S);var Ve=$;(m.updateQueue=Ve)&&(m.flags|=4)}},l4=function(h,m,S,T){S!==T&&(m.flags|=4)};function Lg(h,m){if(!Sn)switch(h.tailMode){case"hidden":m=h.tail;for(var S=null;m!==null;)m.alternate!==null&&(S=m),m=m.sibling;S===null?h.tail=null:S.sibling=null;break;case"collapsed":S=h.tail;for(var T=null;S!==null;)S.alternate!==null&&(T=S),S=S.sibling;T===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Ji(h){var m=h.alternate!==null&&h.alternate.child===h.child,S=0,T=0;if(m)for(var M=h.child;M!==null;)S|=M.lanes|M.childLanes,T|=M.subtreeFlags&14680064,T|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)S|=M.lanes|M.childLanes,T|=M.subtreeFlags,T|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=T,h.childLanes=S,m}function Uie(h,m,S){var T=m.pendingProps;switch(tS(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ji(m),null;case 1:return Rs(m.type)&&f0(),Ji(m),null;case 3:return T=m.stateNode,Zh(),gn(Os),gn(Yi),pS(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(v0(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,vo!==null&&(VS(vo),vo=null))),RS(h,m),Ji(m),null;case 5:fS(m);var M=cf(Og.current);if(S=m.type,h!==null&&m.stateNode!=null)o4(h,m,S,T,M),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(r(166));return Ji(m),null}if(h=cf(ul.current),v0(m)){T=m.stateNode,S=m.type;var $=m.memoizedProps;switch(T[Ma]=m,T[Ru]=$,h=(m.mode&1)!==0,S){case"dialog":Jr("cancel",T),Jr("close",T);break;case"iframe":case"object":case"embed":Jr("load",T);break;case"video":case"audio":for(M=0;M<Au.length;M++)Jr(Au[M],T);break;case"source":Jr("error",T);break;case"img":case"image":case"link":Jr("error",T),Jr("load",T);break;case"details":Jr("toggle",T);break;case"input":Qe(T,$),Jr("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Jr("invalid",T);break;case"textarea":et(T,$),Jr("invalid",T)}rr(S,$),M=null;for(var se in $)if($.hasOwnProperty(se)){var xe=$[se];se==="children"?typeof xe=="string"?T.textContent!==xe&&($.suppressHydrationWarning!==!0&&Ue(T.textContent,xe,h),M=["children",xe]):typeof xe=="number"&&T.textContent!==""+xe&&($.suppressHydrationWarning!==!0&&Ue(T.textContent,xe,h),M=["children",""+xe]):i.hasOwnProperty(se)&&xe!=null&&se==="onScroll"&&Jr("scroll",T)}switch(S){case"input":Q(T),ht(T,$,!0);break;case"textarea":Q(T),ue(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=Xe)}T=M,m.updateQueue=T,T!==null&&(m.flags|=4)}else{se=M.nodeType===9?M:M.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Te(S)),h==="http://www.w3.org/1999/xhtml"?S==="script"?(h=se.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof T.is=="string"?h=se.createElement(S,{is:T.is}):(h=se.createElement(S),S==="select"&&(se=h,T.multiple?se.multiple=!0:T.size&&(se.size=T.size))):h=se.createElementNS(h,S),h[Ma]=m,h[Ru]=T,a4(h,m,!1,!1),m.stateNode=h;e:{switch(se=ur(S,T),S){case"dialog":Jr("cancel",h),Jr("close",h),M=T;break;case"iframe":case"object":case"embed":Jr("load",h),M=T;break;case"video":case"audio":for(M=0;M<Au.length;M++)Jr(Au[M],h);M=T;break;case"source":Jr("error",h),M=T;break;case"img":case"image":case"link":Jr("error",h),Jr("load",h),M=T;break;case"details":Jr("toggle",h),M=T;break;case"input":Qe(h,T),M=Ce(h,T),Jr("invalid",h);break;case"option":M=T;break;case"select":h._wrapperState={wasMultiple:!!T.multiple},M=ie({},T,{value:void 0}),Jr("invalid",h);break;case"textarea":et(h,T),M=Fe(h,T),Jr("invalid",h);break;default:M=T}rr(S,M),xe=M;for($ in xe)if(xe.hasOwnProperty($)){var je=xe[$];$==="style"?Rt(h,je):$==="dangerouslySetInnerHTML"?(je=je?je.__html:void 0,je!=null&&B(h,je)):$==="children"?typeof je=="string"?(S!=="textarea"||je!=="")&&me(h,je):typeof je=="number"&&me(h,""+je):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?je!=null&&$==="onScroll"&&Jr("scroll",h):je!=null&&C(h,$,je,se))}switch(S){case"input":Q(h),ht(h,T,!1);break;case"textarea":Q(h),ue(h);break;case"option":T.value!=null&&h.setAttribute("value",""+ge(T.value));break;case"select":h.multiple=!!T.multiple,$=T.value,$!=null?Pe(h,!!T.multiple,$,!1):T.defaultValue!=null&&Pe(h,!!T.multiple,T.defaultValue,!0);break;default:typeof M.onClick=="function"&&(h.onclick=Xe)}switch(S){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Ji(m),null;case 6:if(h&&m.stateNode!=null)l4(h,m,h.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(r(166));if(S=cf(Og.current),cf(ul.current),v0(m)){if(T=m.stateNode,S=m.memoizedProps,T[Ma]=m,($=T.nodeValue!==S)&&(h=sa,h!==null))switch(h.tag){case 3:Ue(T.nodeValue,S,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Ue(T.nodeValue,S,(h.mode&1)!==0)}$&&(m.flags|=4)}else T=(S.nodeType===9?S:S.ownerDocument).createTextNode(T),T[Ma]=m,m.stateNode=T}return Ji(m),null;case 13:if(gn(kn),T=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(Sn&&aa!==null&&(m.mode&1)!==0&&(m.flags&128)===0)dL(),Wh(),m.flags|=98560,$=!1;else if($=v0(m),T!==null&&T.dehydrated!==null){if(h===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[Ma]=m}else Wh(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ji(m),$=!1}else vo!==null&&(VS(vo),vo=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=S,m):(T=T!==null,T!==(h!==null&&h.memoizedState!==null)&&T&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(kn.current&1)!==0?di===0&&(di=3):KS())),m.updateQueue!==null&&(m.flags|=4),Ji(m),null);case 4:return Zh(),RS(h,m),h===null&&Tu(m.stateNode.containerInfo),Ji(m),null;case 10:return oS(m.type._context),Ji(m),null;case 17:return Rs(m.type)&&f0(),Ji(m),null;case 19:if(gn(kn),$=m.memoizedState,$===null)return Ji(m),null;if(T=(m.flags&128)!==0,se=$.rendering,se===null)if(T)Lg($,!1);else{if(di!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(se=j0(h),se!==null){for(m.flags|=128,Lg($,!1),T=se.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),m.subtreeFlags=0,T=S,S=m.child;S!==null;)$=S,h=T,$.flags&=14680066,se=$.alternate,se===null?($.childLanes=0,$.lanes=h,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=se.childLanes,$.lanes=se.lanes,$.child=se.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=se.memoizedProps,$.memoizedState=se.memoizedState,$.updateQueue=se.updateQueue,$.type=se.type,h=se.dependencies,$.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),S=S.sibling;return on(kn,kn.current&1|2),m.child}h=h.sibling}$.tail!==null&&hn()>Qh&&(m.flags|=128,T=!0,Lg($,!1),m.lanes=4194304)}else{if(!T)if(h=j0(se),h!==null){if(m.flags|=128,T=!0,S=h.updateQueue,S!==null&&(m.updateQueue=S,m.flags|=4),Lg($,!0),$.tail===null&&$.tailMode==="hidden"&&!se.alternate&&!Sn)return Ji(m),null}else 2*hn()-$.renderingStartTime>Qh&&S!==1073741824&&(m.flags|=128,T=!0,Lg($,!1),m.lanes=4194304);$.isBackwards?(se.sibling=m.child,m.child=se):(S=$.last,S!==null?S.sibling=se:m.child=se,$.last=se)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=hn(),m.sibling=null,S=kn.current,on(kn,T?S&1|2:S&1),m):(Ji(m),null);case 22:case 23:return HS(),T=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(oa&1073741824)!==0&&(Ji(m),m.subtreeFlags&6&&(m.flags|=8192)):Ji(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function Vie(h,m){switch(tS(m),m.tag){case 1:return Rs(m.type)&&f0(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Zh(),gn(Os),gn(Yi),pS(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return fS(m),null;case 13:if(gn(kn),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Wh()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return gn(kn),null;case 4:return Zh(),null;case 10:return oS(m.type._context),null;case 22:case 23:return HS(),null;case 24:return null;default:return null}}var O0=!1,Qi=!1,Wie=typeof WeakSet=="function"?WeakSet:Set,bt=null;function Xh(h,m){var S=h.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(T){Dn(h,m,T)}else S.current=null}function MS(h,m,S){try{S()}catch(T){Dn(h,m,T)}}var c4=!1;function Hie(h,m){if(pt=Pa,h=bg(),wg(h)){if("selectionStart"in h)var S={start:h.selectionStart,end:h.selectionEnd};else e:{S=(S=h.ownerDocument)&&S.defaultView||window;var T=S.getSelection&&S.getSelection();if(T&&T.rangeCount!==0){S=T.anchorNode;var M=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{S.nodeType,$.nodeType}catch{S=null;break e}var se=0,xe=-1,je=-1,Ve=0,nt=0,at=h,rt=null;t:for(;;){for(var gt;at!==S||M!==0&&at.nodeType!==3||(xe=se+M),at!==$||T!==0&&at.nodeType!==3||(je=se+T),at.nodeType===3&&(se+=at.nodeValue.length),(gt=at.firstChild)!==null;)rt=at,at=gt;for(;;){if(at===h)break t;if(rt===S&&++Ve===M&&(xe=se),rt===$&&++nt===T&&(je=se),(gt=at.nextSibling)!==null)break;at=rt,rt=at.parentNode}at=gt}S=xe===-1||je===-1?null:{start:xe,end:je}}else S=null}S=S||{start:0,end:0}}else S=null;for(It={focusedElem:h,selectionRange:S},Pa=!1,bt=m;bt!==null;)if(m=bt,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,bt=h;else for(;bt!==null;){m=bt;try{var jt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(jt!==null){var kt=jt.memoizedProps,Vn=jt.memoizedState,$e=m.stateNode,ke=$e.getSnapshotBeforeUpdate(m.elementType===m.type?kt:yo(m.type,kt),Vn);$e.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Be=m.stateNode.containerInfo;Be.nodeType===1?Be.textContent="":Be.nodeType===9&&Be.documentElement&&Be.removeChild(Be.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ct){Dn(m,m.return,ct)}if(h=m.sibling,h!==null){h.return=m.return,bt=h;break}bt=m.return}return jt=c4,c4=!1,jt}function $g(h,m,S){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var M=T=T.next;do{if((M.tag&h)===h){var $=M.destroy;M.destroy=void 0,$!==void 0&&MS(m,S,$)}M=M.next}while(M!==T)}}function R0(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var S=m=m.next;do{if((S.tag&h)===h){var T=S.create;S.destroy=T()}S=S.next}while(S!==m)}}function IS(h){var m=h.ref;if(m!==null){var S=h.stateNode;switch(h.tag){case 5:h=S;break;default:h=S}typeof m=="function"?m(h):m.current=h}}function u4(h){var m=h.alternate;m!==null&&(h.alternate=null,u4(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[Ma],delete m[Ru],delete m[Mu],delete m[Yj],delete m[Xj])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function d4(h){return h.tag===5||h.tag===3||h.tag===4}function f4(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||d4(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function DS(h,m,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,m?S.nodeType===8?S.parentNode.insertBefore(h,m):S.insertBefore(h,m):(S.nodeType===8?(m=S.parentNode,m.insertBefore(h,S)):(m=S,m.appendChild(h)),S=S._reactRootContainer,S!=null||m.onclick!==null||(m.onclick=Xe));else if(T!==4&&(h=h.child,h!==null))for(DS(h,m,S),h=h.sibling;h!==null;)DS(h,m,S),h=h.sibling}function LS(h,m,S){var T=h.tag;if(T===5||T===6)h=h.stateNode,m?S.insertBefore(h,m):S.appendChild(h);else if(T!==4&&(h=h.child,h!==null))for(LS(h,m,S),h=h.sibling;h!==null;)LS(h,m,S),h=h.sibling}var $i=null,xo=!1;function Bu(h,m,S){for(S=S.child;S!==null;)h4(h,m,S),S=S.sibling}function h4(h,m,S){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Gl,S)}catch{}switch(S.tag){case 5:Qi||Xh(S,m);case 6:var T=$i,M=xo;$i=null,Bu(h,m,S),$i=T,xo=M,$i!==null&&(xo?(h=$i,S=S.stateNode,h.nodeType===8?h.parentNode.removeChild(S):h.removeChild(S)):$i.removeChild(S.stateNode));break;case 18:$i!==null&&(xo?(h=$i,S=S.stateNode,h.nodeType===8?Pg(h.parentNode,S):h.nodeType===1&&Pg(h,S),ji(h)):Pg($i,S.stateNode));break;case 4:T=$i,M=xo,$i=S.stateNode.containerInfo,xo=!0,Bu(h,m,S),$i=T,xo=M;break;case 0:case 11:case 14:case 15:if(!Qi&&(T=S.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){M=T=T.next;do{var $=M,se=$.destroy;$=$.tag,se!==void 0&&(($&2)!==0||($&4)!==0)&&MS(S,m,se),M=M.next}while(M!==T)}Bu(h,m,S);break;case 1:if(!Qi&&(Xh(S,m),T=S.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=S.memoizedProps,T.state=S.memoizedState,T.componentWillUnmount()}catch(xe){Dn(S,m,xe)}Bu(h,m,S);break;case 21:Bu(h,m,S);break;case 22:S.mode&1?(Qi=(T=Qi)||S.memoizedState!==null,Bu(h,m,S),Qi=T):Bu(h,m,S);break;default:Bu(h,m,S)}}function p4(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var S=h.stateNode;S===null&&(S=h.stateNode=new Wie),m.forEach(function(T){var M=tse.bind(null,h,T);S.has(T)||(S.add(T),T.then(M,M))})}}function bo(h,m){var S=m.deletions;if(S!==null)for(var T=0;T<S.length;T++){var M=S[T];try{var $=h,se=m,xe=se;e:for(;xe!==null;){switch(xe.tag){case 5:$i=xe.stateNode,xo=!1;break e;case 3:$i=xe.stateNode.containerInfo,xo=!0;break e;case 4:$i=xe.stateNode.containerInfo,xo=!0;break e}xe=xe.return}if($i===null)throw Error(r(160));h4($,se,M),$i=null,xo=!1;var je=M.alternate;je!==null&&(je.return=null),M.return=null}catch(Ve){Dn(M,m,Ve)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)m4(m,h),m=m.sibling}function m4(h,m){var S=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(bo(m,h),fl(h),T&4){try{$g(3,h,h.return),R0(3,h)}catch(kt){Dn(h,h.return,kt)}try{$g(5,h,h.return)}catch(kt){Dn(h,h.return,kt)}}break;case 1:bo(m,h),fl(h),T&512&&S!==null&&Xh(S,S.return);break;case 5:if(bo(m,h),fl(h),T&512&&S!==null&&Xh(S,S.return),h.flags&32){var M=h.stateNode;try{me(M,"")}catch(kt){Dn(h,h.return,kt)}}if(T&4&&(M=h.stateNode,M!=null)){var $=h.memoizedProps,se=S!==null?S.memoizedProps:$,xe=h.type,je=h.updateQueue;if(h.updateQueue=null,je!==null)try{xe==="input"&&$.type==="radio"&&$.name!=null&&Ze(M,$),ur(xe,se);var Ve=ur(xe,$);for(se=0;se<je.length;se+=2){var nt=je[se],at=je[se+1];nt==="style"?Rt(M,at):nt==="dangerouslySetInnerHTML"?B(M,at):nt==="children"?me(M,at):C(M,nt,at,Ve)}switch(xe){case"input":Oe(M,$);break;case"textarea":lt(M,$);break;case"select":var rt=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!$.multiple;var gt=$.value;gt!=null?Pe(M,!!$.multiple,gt,!1):rt!==!!$.multiple&&($.defaultValue!=null?Pe(M,!!$.multiple,$.defaultValue,!0):Pe(M,!!$.multiple,$.multiple?[]:"",!1))}M[Ru]=$}catch(kt){Dn(h,h.return,kt)}}break;case 6:if(bo(m,h),fl(h),T&4){if(h.stateNode===null)throw Error(r(162));M=h.stateNode,$=h.memoizedProps;try{M.nodeValue=$}catch(kt){Dn(h,h.return,kt)}}break;case 3:if(bo(m,h),fl(h),T&4&&S!==null&&S.memoizedState.isDehydrated)try{ji(m.containerInfo)}catch(kt){Dn(h,h.return,kt)}break;case 4:bo(m,h),fl(h);break;case 13:bo(m,h),fl(h),M=h.child,M.flags&8192&&($=M.memoizedState!==null,M.stateNode.isHidden=$,!$||M.alternate!==null&&M.alternate.memoizedState!==null||(BS=hn())),T&4&&p4(h);break;case 22:if(nt=S!==null&&S.memoizedState!==null,h.mode&1?(Qi=(Ve=Qi)||nt,bo(m,h),Qi=Ve):bo(m,h),fl(h),T&8192){if(Ve=h.memoizedState!==null,(h.stateNode.isHidden=Ve)&&!nt&&(h.mode&1)!==0)for(bt=h,nt=h.child;nt!==null;){for(at=bt=nt;bt!==null;){switch(rt=bt,gt=rt.child,rt.tag){case 0:case 11:case 14:case 15:$g(4,rt,rt.return);break;case 1:Xh(rt,rt.return);var jt=rt.stateNode;if(typeof jt.componentWillUnmount=="function"){T=rt,S=rt.return;try{m=T,jt.props=m.memoizedProps,jt.state=m.memoizedState,jt.componentWillUnmount()}catch(kt){Dn(T,S,kt)}}break;case 5:Xh(rt,rt.return);break;case 22:if(rt.memoizedState!==null){y4(at);continue}}gt!==null?(gt.return=rt,bt=gt):y4(at)}nt=nt.sibling}e:for(nt=null,at=h;;){if(at.tag===5){if(nt===null){nt=at;try{M=at.stateNode,Ve?($=M.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(xe=at.stateNode,je=at.memoizedProps.style,se=je!=null&&je.hasOwnProperty("display")?je.display:null,xe.style.display=We("display",se))}catch(kt){Dn(h,h.return,kt)}}}else if(at.tag===6){if(nt===null)try{at.stateNode.nodeValue=Ve?"":at.memoizedProps}catch(kt){Dn(h,h.return,kt)}}else if((at.tag!==22&&at.tag!==23||at.memoizedState===null||at===h)&&at.child!==null){at.child.return=at,at=at.child;continue}if(at===h)break e;for(;at.sibling===null;){if(at.return===null||at.return===h)break e;nt===at&&(nt=null),at=at.return}nt===at&&(nt=null),at.sibling.return=at.return,at=at.sibling}}break;case 19:bo(m,h),fl(h),T&4&&p4(h);break;case 21:break;default:bo(m,h),fl(h)}}function fl(h){var m=h.flags;if(m&2){try{e:{for(var S=h.return;S!==null;){if(d4(S)){var T=S;break e}S=S.return}throw Error(r(160))}switch(T.tag){case 5:var M=T.stateNode;T.flags&32&&(me(M,""),T.flags&=-33);var $=f4(h);LS(h,$,M);break;case 3:case 4:var se=T.stateNode.containerInfo,xe=f4(h);DS(h,xe,se);break;default:throw Error(r(161))}}catch(je){Dn(h,h.return,je)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function Kie(h,m,S){bt=h,g4(h)}function g4(h,m,S){for(var T=(h.mode&1)!==0;bt!==null;){var M=bt,$=M.child;if(M.tag===22&&T){var se=M.memoizedState!==null||O0;if(!se){var xe=M.alternate,je=xe!==null&&xe.memoizedState!==null||Qi;xe=O0;var Ve=Qi;if(O0=se,(Qi=je)&&!Ve)for(bt=M;bt!==null;)se=bt,je=se.child,se.tag===22&&se.memoizedState!==null?x4(M):je!==null?(je.return=se,bt=je):x4(M);for(;$!==null;)bt=$,g4($),$=$.sibling;bt=M,O0=xe,Qi=Ve}v4(h)}else(M.subtreeFlags&8772)!==0&&$!==null?($.return=M,bt=$):v4(h)}}function v4(h){for(;bt!==null;){var m=bt;if((m.flags&8772)!==0){var S=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Qi||R0(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!Qi)if(S===null)T.componentDidMount();else{var M=m.elementType===m.type?S.memoizedProps:yo(m.type,S.memoizedProps);T.componentDidUpdate(M,S.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&yL(m,$,T);break;case 3:var se=m.updateQueue;if(se!==null){if(S=null,m.child!==null)switch(m.child.tag){case 5:S=m.child.stateNode;break;case 1:S=m.child.stateNode}yL(m,se,S)}break;case 5:var xe=m.stateNode;if(S===null&&m.flags&4){S=xe;var je=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":je.autoFocus&&S.focus();break;case"img":je.src&&(S.src=je.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ve=m.alternate;if(Ve!==null){var nt=Ve.memoizedState;if(nt!==null){var at=nt.dehydrated;at!==null&&ji(at)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Qi||m.flags&512&&IS(m)}catch(rt){Dn(m,m.return,rt)}}if(m===h){bt=null;break}if(S=m.sibling,S!==null){S.return=m.return,bt=S;break}bt=m.return}}function y4(h){for(;bt!==null;){var m=bt;if(m===h){bt=null;break}var S=m.sibling;if(S!==null){S.return=m.return,bt=S;break}bt=m.return}}function x4(h){for(;bt!==null;){var m=bt;try{switch(m.tag){case 0:case 11:case 15:var S=m.return;try{R0(4,m)}catch(je){Dn(m,S,je)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var M=m.return;try{T.componentDidMount()}catch(je){Dn(m,M,je)}}var $=m.return;try{IS(m)}catch(je){Dn(m,$,je)}break;case 5:var se=m.return;try{IS(m)}catch(je){Dn(m,se,je)}}}catch(je){Dn(m,m.return,je)}if(m===h){bt=null;break}var xe=m.sibling;if(xe!==null){xe.return=m.return,bt=xe;break}bt=m.return}}var Gie=Math.ceil,M0=A.ReactCurrentDispatcher,$S=A.ReactCurrentOwner,Fa=A.ReactCurrentBatchConfig,Sr=0,Ci=null,Jn=null,Fi=0,oa=0,Jh=Iu(0),di=0,Fg=null,df=0,I0=0,FS=0,Bg=null,Is=null,BS=0,Qh=1/0,bc=null,D0=!1,zS=null,zu=null,L0=!1,qu=null,$0=0,zg=0,qS=null,F0=-1,B0=0;function gs(){return(Sr&6)!==0?hn():F0!==-1?F0:F0=hn()}function Uu(h){return(h.mode&1)===0?1:(Sr&2)!==0&&Fi!==0?Fi&-Fi:Tie.transition!==null?(B0===0&&(B0=pg()),B0):(h=vr,h!==0||(h=window.event,h=h===void 0?16:or(h.type)),h)}function wo(h,m,S,T){if(50<zg)throw zg=0,qS=null,Error(r(185));Ps(h,S,T),((Sr&2)===0||h!==Ci)&&(h===Ci&&((Sr&2)===0&&(I0|=S),di===4&&Vu(h,Fi)),Ds(h,T),S===1&&Sr===0&&(m.mode&1)===0&&(Qh=hn()+500,p0&&Lu()))}function Ds(h,m){var S=h.callbackNode;Es(h,m);var T=Wr(h,h===Ci?Fi:0);if(T===0)S!==null&&Zd(S),h.callbackNode=null,h.callbackPriority=0;else if(m=T&-T,h.callbackPriority!==m){if(S!=null&&Zd(S),m===1)h.tag===0?Aie(w4.bind(null,h)):aL(w4.bind(null,h)),Zi(function(){(Sr&6)===0&&Lu()}),S=null;else{switch(tl(T)){case 1:S=Di;break;case 4:S=gu;break;case 16:S=Kl;break;case 536870912:S=uo;break;default:S=Kl}S=k4(S,b4.bind(null,h))}h.callbackPriority=m,h.callbackNode=S}}function b4(h,m){if(F0=-1,B0=0,(Sr&6)!==0)throw Error(r(327));var S=h.callbackNode;if(ep()&&h.callbackNode!==S)return null;var T=Wr(h,h===Ci?Fi:0);if(T===0)return null;if((T&30)!==0||(T&h.expiredLanes)!==0||m)m=z0(h,T);else{m=T;var M=Sr;Sr|=2;var $=j4();(Ci!==h||Fi!==m)&&(bc=null,Qh=hn()+500,hf(h,m));do try{Xie();break}catch(xe){_4(h,xe)}while(!0);aS(),M0.current=$,Sr=M,Jn!==null?m=0:(Ci=null,Fi=0,m=di)}if(m!==0){if(m===2&&(M=li(h),M!==0&&(T=M,m=US(h,M))),m===1)throw S=Fg,hf(h,0),Vu(h,T),Ds(h,hn()),S;if(m===6)Vu(h,T);else{if(M=h.current.alternate,(T&30)===0&&!Zie(M)&&(m=z0(h,T),m===2&&($=li(h),$!==0&&(T=$,m=US(h,$))),m===1))throw S=Fg,hf(h,0),Vu(h,T),Ds(h,hn()),S;switch(h.finishedWork=M,h.finishedLanes=T,m){case 0:case 1:throw Error(r(345));case 2:pf(h,Is,bc);break;case 3:if(Vu(h,T),(T&130023424)===T&&(m=BS+500-hn(),10<m)){if(Wr(h,0)!==0)break;if(M=h.suspendedLanes,(M&T)!==T){gs(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=ci(pf.bind(null,h,Is,bc),m);break}pf(h,Is,bc);break;case 4:if(Vu(h,T),(T&4194240)===T)break;for(m=h.eventTimes,M=-1;0<T;){var se=31-Vt(T);$=1<<se,se=m[se],se>M&&(M=se),T&=~$}if(T=M,T=hn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Gie(T/1960))-T,10<T){h.timeoutHandle=ci(pf.bind(null,h,Is,bc),T);break}pf(h,Is,bc);break;case 5:pf(h,Is,bc);break;default:throw Error(r(329))}}}return Ds(h,hn()),h.callbackNode===S?b4.bind(null,h):null}function US(h,m){var S=Bg;return h.current.memoizedState.isDehydrated&&(hf(h,m).flags|=256),h=z0(h,m),h!==2&&(m=Is,Is=S,m!==null&&VS(m)),h}function VS(h){Is===null?Is=h:Is.push.apply(Is,h)}function Zie(h){for(var m=h;;){if(m.flags&16384){var S=m.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var T=0;T<S.length;T++){var M=S[T],$=M.getSnapshot;M=M.value;try{if(!na($(),M))return!1}catch{return!1}}}if(S=m.child,m.subtreeFlags&16384&&S!==null)S.return=m,m=S;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Vu(h,m){for(m&=~FS,m&=~I0,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var S=31-Vt(m),T=1<<S;h[S]=-1,m&=~T}}function w4(h){if((Sr&6)!==0)throw Error(r(327));ep();var m=Wr(h,0);if((m&1)===0)return Ds(h,hn()),null;var S=z0(h,m);if(h.tag!==0&&S===2){var T=li(h);T!==0&&(m=T,S=US(h,T))}if(S===1)throw S=Fg,hf(h,0),Vu(h,m),Ds(h,hn()),S;if(S===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,pf(h,Is,bc),Ds(h,hn()),null}function WS(h,m){var S=Sr;Sr|=1;try{return h(m)}finally{Sr=S,Sr===0&&(Qh=hn()+500,p0&&Lu())}}function ff(h){qu!==null&&qu.tag===0&&(Sr&6)===0&&ep();var m=Sr;Sr|=1;var S=Fa.transition,T=vr;try{if(Fa.transition=null,vr=1,h)return h()}finally{vr=T,Fa.transition=S,Sr=m,(Sr&6)===0&&Lu()}}function HS(){oa=Jh.current,gn(Jh)}function hf(h,m){h.finishedWork=null,h.finishedLanes=0;var S=h.timeoutHandle;if(S!==-1&&(h.timeoutHandle=-1,Xn(S)),Jn!==null)for(S=Jn.return;S!==null;){var T=S;switch(tS(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&f0();break;case 3:Zh(),gn(Os),gn(Yi),pS();break;case 5:fS(T);break;case 4:Zh();break;case 13:gn(kn);break;case 19:gn(kn);break;case 10:oS(T.type._context);break;case 22:case 23:HS()}S=S.return}if(Ci=h,Jn=h=Wu(h.current,null),Fi=oa=m,di=0,Fg=null,FS=I0=df=0,Is=Bg=null,lf!==null){for(m=0;m<lf.length;m++)if(S=lf[m],T=S.interleaved,T!==null){S.interleaved=null;var M=T.next,$=S.pending;if($!==null){var se=$.next;$.next=M,T.next=se}S.pending=T}lf=null}return h}function _4(h,m){do{var S=Jn;try{if(aS(),S0.current=P0,N0){for(var T=An.memoizedState;T!==null;){var M=T.queue;M!==null&&(M.pending=null),T=T.next}N0=!1}if(uf=0,Ni=ui=An=null,Rg=!1,Mg=0,$S.current=null,S===null||S.return===null){di=1,Fg=m,Jn=null;break}e:{var $=h,se=S.return,xe=S,je=m;if(m=Fi,xe.flags|=32768,je!==null&&typeof je=="object"&&typeof je.then=="function"){var Ve=je,nt=xe,at=nt.tag;if((nt.mode&1)===0&&(at===0||at===11||at===15)){var rt=nt.alternate;rt?(nt.updateQueue=rt.updateQueue,nt.memoizedState=rt.memoizedState,nt.lanes=rt.lanes):(nt.updateQueue=null,nt.memoizedState=null)}var gt=KL(se);if(gt!==null){gt.flags&=-257,GL(gt,se,xe,$,m),gt.mode&1&&HL($,Ve,m),m=gt,je=Ve;var jt=m.updateQueue;if(jt===null){var kt=new Set;kt.add(je),m.updateQueue=kt}else jt.add(je);break e}else{if((m&1)===0){HL($,Ve,m),KS();break e}je=Error(r(426))}}else if(Sn&&xe.mode&1){var Vn=KL(se);if(Vn!==null){(Vn.flags&65536)===0&&(Vn.flags|=256),GL(Vn,se,xe,$,m),iS(Yh(je,xe));break e}}$=je=Yh(je,xe),di!==4&&(di=2),Bg===null?Bg=[$]:Bg.push($),$=se;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var $e=VL($,je,m);vL($,$e);break e;case 1:xe=je;var ke=$.type,Be=$.stateNode;if(($.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Be!==null&&typeof Be.componentDidCatch=="function"&&(zu===null||!zu.has(Be)))){$.flags|=65536,m&=-m,$.lanes|=m;var ct=WL($,xe,m);vL($,ct);break e}}$=$.return}while($!==null)}N4(S)}catch(Tt){m=Tt,Jn===S&&S!==null&&(Jn=S=S.return);continue}break}while(!0)}function j4(){var h=M0.current;return M0.current=P0,h===null?P0:h}function KS(){(di===0||di===3||di===2)&&(di=4),Ci===null||(df&268435455)===0&&(I0&268435455)===0||Vu(Ci,Fi)}function z0(h,m){var S=Sr;Sr|=2;var T=j4();(Ci!==h||Fi!==m)&&(bc=null,hf(h,m));do try{Yie();break}catch(M){_4(h,M)}while(!0);if(aS(),Sr=S,M0.current=T,Jn!==null)throw Error(r(261));return Ci=null,Fi=0,di}function Yie(){for(;Jn!==null;)S4(Jn)}function Xie(){for(;Jn!==null&&!Yd();)S4(Jn)}function S4(h){var m=P4(h.alternate,h,oa);h.memoizedProps=h.pendingProps,m===null?N4(h):Jn=m,$S.current=null}function N4(h){var m=h;do{var S=m.alternate;if(h=m.return,(m.flags&32768)===0){if(S=Uie(S,m,oa),S!==null){Jn=S;return}}else{if(S=Vie(S,m),S!==null){S.flags&=32767,Jn=S;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{di=6,Jn=null;return}}if(m=m.sibling,m!==null){Jn=m;return}Jn=m=h}while(m!==null);di===0&&(di=5)}function pf(h,m,S){var T=vr,M=Fa.transition;try{Fa.transition=null,vr=1,Jie(h,m,S,T)}finally{Fa.transition=M,vr=T}return null}function Jie(h,m,S,T){do ep();while(qu!==null);if((Sr&6)!==0)throw Error(r(327));S=h.finishedWork;var M=h.finishedLanes;if(S===null)return null;if(h.finishedWork=null,h.finishedLanes=0,S===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var $=S.lanes|S.childLanes;if(_n(h,$),h===Ci&&(Jn=Ci=null,Fi=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||L0||(L0=!0,k4(Kl,function(){return ep(),null})),$=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||$){$=Fa.transition,Fa.transition=null;var se=vr;vr=1;var xe=Sr;Sr|=4,$S.current=null,Hie(h,S),m4(S,h),Oa(It),Pa=!!pt,It=pt=null,h.current=S,Kie(S),pu(),Sr=xe,vr=se,Fa.transition=$}else h.current=S;if(L0&&(L0=!1,qu=h,$0=M),$=h.pendingLanes,$===0&&(zu=null),Zl(S.stateNode),Ds(h,hn()),m!==null)for(T=h.onRecoverableError,S=0;S<m.length;S++)M=m[S],T(M.value,{componentStack:M.stack,digest:M.digest});if(D0)throw D0=!1,h=zS,zS=null,h;return($0&1)!==0&&h.tag!==0&&ep(),$=h.pendingLanes,($&1)!==0?h===qS?zg++:(zg=0,qS=h):zg=0,Lu(),null}function ep(){if(qu!==null){var h=tl($0),m=Fa.transition,S=vr;try{if(Fa.transition=null,vr=16>h?16:h,qu===null)var T=!1;else{if(h=qu,qu=null,$0=0,(Sr&6)!==0)throw Error(r(331));var M=Sr;for(Sr|=4,bt=h.current;bt!==null;){var $=bt,se=$.child;if((bt.flags&16)!==0){var xe=$.deletions;if(xe!==null){for(var je=0;je<xe.length;je++){var Ve=xe[je];for(bt=Ve;bt!==null;){var nt=bt;switch(nt.tag){case 0:case 11:case 15:$g(8,nt,$)}var at=nt.child;if(at!==null)at.return=nt,bt=at;else for(;bt!==null;){nt=bt;var rt=nt.sibling,gt=nt.return;if(u4(nt),nt===Ve){bt=null;break}if(rt!==null){rt.return=gt,bt=rt;break}bt=gt}}}var jt=$.alternate;if(jt!==null){var kt=jt.child;if(kt!==null){jt.child=null;do{var Vn=kt.sibling;kt.sibling=null,kt=Vn}while(kt!==null)}}bt=$}}if(($.subtreeFlags&2064)!==0&&se!==null)se.return=$,bt=se;else e:for(;bt!==null;){if($=bt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:$g(9,$,$.return)}var $e=$.sibling;if($e!==null){$e.return=$.return,bt=$e;break e}bt=$.return}}var ke=h.current;for(bt=ke;bt!==null;){se=bt;var Be=se.child;if((se.subtreeFlags&2064)!==0&&Be!==null)Be.return=se,bt=Be;else e:for(se=ke;bt!==null;){if(xe=bt,(xe.flags&2048)!==0)try{switch(xe.tag){case 0:case 11:case 15:R0(9,xe)}}catch(Tt){Dn(xe,xe.return,Tt)}if(xe===se){bt=null;break e}var ct=xe.sibling;if(ct!==null){ct.return=xe.return,bt=ct;break e}bt=xe.return}}if(Sr=M,Lu(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Gl,h)}catch{}T=!0}return T}finally{vr=S,Fa.transition=m}}return!1}function C4(h,m,S){m=Yh(S,m),m=VL(h,m,1),h=Fu(h,m,1),m=gs(),h!==null&&(Ps(h,1,m),Ds(h,m))}function Dn(h,m,S){if(h.tag===3)C4(h,h,S);else for(;m!==null;){if(m.tag===3){C4(m,h,S);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(zu===null||!zu.has(T))){h=Yh(S,h),h=WL(m,h,1),m=Fu(m,h,1),h=gs(),m!==null&&(Ps(m,1,h),Ds(m,h));break}}m=m.return}}function Qie(h,m,S){var T=h.pingCache;T!==null&&T.delete(m),m=gs(),h.pingedLanes|=h.suspendedLanes&S,Ci===h&&(Fi&S)===S&&(di===4||di===3&&(Fi&130023424)===Fi&&500>hn()-BS?hf(h,0):FS|=S),Ds(h,m)}function E4(h,m){m===0&&((h.mode&1)===0?m=1:(m=Qo,Qo<<=1,(Qo&130023424)===0&&(Qo=4194304)));var S=gs();h=vc(h,m),h!==null&&(Ps(h,m,S),Ds(h,S))}function ese(h){var m=h.memoizedState,S=0;m!==null&&(S=m.retryLane),E4(h,S)}function tse(h,m){var S=0;switch(h.tag){case 13:var T=h.stateNode,M=h.memoizedState;M!==null&&(S=M.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(m),E4(h,S)}var P4;P4=function(h,m,S){if(h!==null)if(h.memoizedProps!==m.pendingProps||Os.current)Ms=!0;else{if((h.lanes&S)===0&&(m.flags&128)===0)return Ms=!1,qie(h,m,S);Ms=(h.flags&131072)!==0}else Ms=!1,Sn&&(m.flags&1048576)!==0&&oL(m,g0,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;T0(h,m),h=m.pendingProps;var M=qh(m,Yi.current);Gh(m,S),M=vS(null,m,T,h,M,S);var $=yS();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Rs(T)?($=!0,h0(m)):$=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,uS(m),M.updater=k0,m.stateNode=M,M._reactInternals=m,SS(m,T,h,S),m=PS(null,m,T,!0,$,S)):(m.tag=0,Sn&&$&&eS(m),ms(null,m,M,S),m=m.child),m;case 16:T=m.elementType;e:{switch(T0(h,m),h=m.pendingProps,M=T._init,T=M(T._payload),m.type=T,M=m.tag=nse(T),h=yo(T,h),M){case 0:m=ES(null,m,T,h,S);break e;case 1:m=e4(null,m,T,h,S);break e;case 11:m=ZL(null,m,T,h,S);break e;case 14:m=YL(null,m,T,yo(T.type,h),S);break e}throw Error(r(306,T,""))}return m;case 0:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:yo(T,M),ES(h,m,T,M,S);case 1:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:yo(T,M),e4(h,m,T,M,S);case 3:e:{if(t4(m),h===null)throw Error(r(387));T=m.pendingProps,$=m.memoizedState,M=$.element,gL(h,m),_0(m,T,null,S);var se=m.memoizedState;if(T=se.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:se.cache,pendingSuspenseBoundaries:se.pendingSuspenseBoundaries,transitions:se.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){M=Yh(Error(r(423)),m),m=r4(h,m,T,S,M);break e}else if(T!==M){M=Yh(Error(r(424)),m),m=r4(h,m,T,S,M);break e}else for(aa=cl(m.stateNode.containerInfo.firstChild),sa=m,Sn=!0,vo=null,S=pL(m,null,T,S),m.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Wh(),T===M){m=xc(h,m,S);break e}ms(h,m,T,S)}m=m.child}return m;case 5:return xL(m),h===null&&nS(m),T=m.type,M=m.pendingProps,$=h!==null?h.memoizedProps:null,se=M.children,ir(T,M)?se=null:$!==null&&ir(T,$)&&(m.flags|=32),QL(h,m),ms(h,m,se,S),m.child;case 6:return h===null&&nS(m),null;case 13:return n4(h,m,S);case 4:return dS(m,m.stateNode.containerInfo),T=m.pendingProps,h===null?m.child=Hh(m,null,T,S):ms(h,m,T,S),m.child;case 11:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:yo(T,M),ZL(h,m,T,M,S);case 7:return ms(h,m,m.pendingProps,S),m.child;case 8:return ms(h,m,m.pendingProps.children,S),m.child;case 12:return ms(h,m,m.pendingProps.children,S),m.child;case 10:e:{if(T=m.type._context,M=m.pendingProps,$=m.memoizedProps,se=M.value,on(x0,T._currentValue),T._currentValue=se,$!==null)if(na($.value,se)){if($.children===M.children&&!Os.current){m=xc(h,m,S);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var xe=$.dependencies;if(xe!==null){se=$.child;for(var je=xe.firstContext;je!==null;){if(je.context===T){if($.tag===1){je=yc(-1,S&-S),je.tag=2;var Ve=$.updateQueue;if(Ve!==null){Ve=Ve.shared;var nt=Ve.pending;nt===null?je.next=je:(je.next=nt.next,nt.next=je),Ve.pending=je}}$.lanes|=S,je=$.alternate,je!==null&&(je.lanes|=S),lS($.return,S,m),xe.lanes|=S;break}je=je.next}}else if($.tag===10)se=$.type===m.type?null:$.child;else if($.tag===18){if(se=$.return,se===null)throw Error(r(341));se.lanes|=S,xe=se.alternate,xe!==null&&(xe.lanes|=S),lS(se,S,m),se=$.sibling}else se=$.child;if(se!==null)se.return=$;else for(se=$;se!==null;){if(se===m){se=null;break}if($=se.sibling,$!==null){$.return=se.return,se=$;break}se=se.return}$=se}ms(h,m,M.children,S),m=m.child}return m;case 9:return M=m.type,T=m.pendingProps.children,Gh(m,S),M=La(M),T=T(M),m.flags|=1,ms(h,m,T,S),m.child;case 14:return T=m.type,M=yo(T,m.pendingProps),M=yo(T.type,M),YL(h,m,T,M,S);case 15:return XL(h,m,m.type,m.pendingProps,S);case 17:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:yo(T,M),T0(h,m),m.tag=1,Rs(T)?(h=!0,h0(m)):h=!1,Gh(m,S),qL(m,T,M),SS(m,T,M,S),PS(null,m,T,!0,h,S);case 19:return s4(h,m,S);case 22:return JL(h,m,S)}throw Error(r(156,m.tag))};function k4(h,m){return kh(h,m)}function rse(h,m,S,T){this.tag=h,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(h,m,S,T){return new rse(h,m,S,T)}function GS(h){return h=h.prototype,!(!h||!h.isReactComponent)}function nse(h){if(typeof h=="function")return GS(h)?1:0;if(h!=null){if(h=h.$$typeof,h===z)return 11;if(h===te)return 14}return 2}function Wu(h,m){var S=h.alternate;return S===null?(S=Ba(h.tag,m,h.key,h.mode),S.elementType=h.elementType,S.type=h.type,S.stateNode=h.stateNode,S.alternate=h,h.alternate=S):(S.pendingProps=m,S.type=h.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=h.flags&14680064,S.childLanes=h.childLanes,S.lanes=h.lanes,S.child=h.child,S.memoizedProps=h.memoizedProps,S.memoizedState=h.memoizedState,S.updateQueue=h.updateQueue,m=h.dependencies,S.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},S.sibling=h.sibling,S.index=h.index,S.ref=h.ref,S}function q0(h,m,S,T,M,$){var se=2;if(T=h,typeof h=="function")GS(h)&&(se=1);else if(typeof h=="string")se=5;else e:switch(h){case O:return mf(S.children,M,$,m);case I:se=8,M|=8;break;case F:return h=Ba(12,S,m,M|2),h.elementType=F,h.lanes=$,h;case V:return h=Ba(13,S,m,M),h.elementType=V,h.lanes=$,h;case X:return h=Ba(19,S,m,M),h.elementType=X,h.lanes=$,h;case W:return U0(S,M,$,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case H:se=10;break e;case U:se=9;break e;case z:se=11;break e;case te:se=14;break e;case le:se=16,T=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return m=Ba(se,S,m,M),m.elementType=h,m.type=T,m.lanes=$,m}function mf(h,m,S,T){return h=Ba(7,h,T,m),h.lanes=S,h}function U0(h,m,S,T){return h=Ba(22,h,T,m),h.elementType=W,h.lanes=S,h.stateNode={isHidden:!1},h}function ZS(h,m,S){return h=Ba(6,h,null,m),h.lanes=S,h}function YS(h,m,S){return m=Ba(4,h.children!==null?h.children:[],h.key,m),m.lanes=S,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function ise(h,m,S,T,M){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=el(0),this.expirationTimes=el(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=el(0),this.identifierPrefix=T,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function XS(h,m,S,T,M,$,se,xe,je){return h=new ise(h,m,S,xe,je),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Ba(3,null,null,m),h.current=$,$.stateNode=h,$.memoizedState={element:T,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},uS($),h}function sse(h,m,S){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:T==null?null:""+T,children:h,containerInfo:m,implementation:S}}function A4(h){if(!h)return Du;h=h._reactInternals;e:{if(Cs(h)!==h||h.tag!==1)throw Error(r(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Rs(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(h.tag===1){var S=h.type;if(Rs(S))return iL(h,S,m)}return m}function T4(h,m,S,T,M,$,se,xe,je){return h=XS(S,T,!0,h,M,$,se,xe,je),h.context=A4(null),S=h.current,T=gs(),M=Uu(S),$=yc(T,M),$.callback=m??null,Fu(S,$,M),h.current.lanes=M,Ps(h,M,T),Ds(h,T),h}function V0(h,m,S,T){var M=m.current,$=gs(),se=Uu(M);return S=A4(S),m.context===null?m.context=S:m.pendingContext=S,m=yc($,se),m.payload={element:h},T=T===void 0?null:T,T!==null&&(m.callback=T),h=Fu(M,m,se),h!==null&&(wo(h,M,se,$),w0(h,M,se)),se}function W0(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function O4(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var S=h.retryLane;h.retryLane=S!==0&&S<m?S:m}}function JS(h,m){O4(h,m),(h=h.alternate)&&O4(h,m)}function ase(){return null}var R4=typeof reportError=="function"?reportError:function(h){console.error(h)};function QS(h){this._internalRoot=h}H0.prototype.render=QS.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(r(409));V0(h,m,null,null)},H0.prototype.unmount=QS.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;ff(function(){V0(null,h,null,null)}),m[Fr]=null}};function H0(h){this._internalRoot=h}H0.prototype.unstable_scheduleHydration=function(h){if(h){var m=yu();h={blockedOn:null,target:h,priority:m};for(var S=0;S<Pn.length&&m!==0&&m<Pn[S].priority;S++);Pn.splice(S,0,h),S===0&&rc(h)}};function eN(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function K0(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function M4(){}function ose(h,m,S,T,M){if(M){if(typeof T=="function"){var $=T;T=function(){var Ve=W0(se);$.call(Ve)}}var se=T4(m,T,h,0,null,!1,!1,"",M4);return h._reactRootContainer=se,h[Fr]=se.current,Tu(h.nodeType===8?h.parentNode:h),ff(),se}for(;M=h.lastChild;)h.removeChild(M);if(typeof T=="function"){var xe=T;T=function(){var Ve=W0(je);xe.call(Ve)}}var je=XS(h,0,!1,null,null,!1,!1,"",M4);return h._reactRootContainer=je,h[Fr]=je.current,Tu(h.nodeType===8?h.parentNode:h),ff(function(){V0(m,je,S,T)}),je}function G0(h,m,S,T,M){var $=S._reactRootContainer;if($){var se=$;if(typeof M=="function"){var xe=M;M=function(){var je=W0(se);xe.call(je)}}V0(m,se,h,M)}else se=ose(S,m,h,M,T);return W0(se)}Xl=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var S=Kt(m.pendingLanes);S!==0&&(Qs(m,S|1),Ds(m,hn()),(Sr&6)===0&&(Qh=hn()+500,Lu()))}break;case 13:ff(function(){var T=vc(h,1);if(T!==null){var M=gs();wo(T,h,1,M)}}),JS(h,1)}},ks=function(h){if(h.tag===13){var m=vc(h,134217728);if(m!==null){var S=gs();wo(m,h,134217728,S)}JS(h,134217728)}},Jl=function(h){if(h.tag===13){var m=Uu(h),S=vc(h,m);if(S!==null){var T=gs();wo(S,h,m,T)}JS(h,m)}},yu=function(){return vr},rl=function(h,m){var S=vr;try{return vr=h,m()}finally{vr=S}},Na=function(h,m,S){switch(m){case"input":if(Oe(h,S),m=S.name,S.type==="radio"&&m!=null){for(S=h;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<S.length;m++){var T=S[m];if(T!==h&&T.form===h.form){var M=Bh(T);if(!M)throw Error(r(90));Y(T),Oe(T,M)}}}break;case"textarea":lt(h,S);break;case"select":m=S.value,m!=null&&Pe(h,!!S.multiple,m,!1)}},xr=WS,Ir=ff;var lse={usingClientEntryPoint:!1,Events:[fc,hc,Bh,fu,Bt,WS]},qg={findFiberByHostInstance:dc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cse={bundleType:qg.bundleType,version:qg.version,rendererPackageName:qg.rendererPackageName,rendererConfig:qg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Xo(h),h===null?null:h.stateNode},findFiberByHostInstance:qg.findFiberByHostInstance||ase,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Z0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Z0.isDisabled&&Z0.supportsFiber)try{Gl=Z0.inject(cse),ds=Z0}catch{}}return Ls.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lse,Ls.createPortal=function(h,m){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eN(m))throw Error(r(200));return sse(h,m,null,S)},Ls.createRoot=function(h,m){if(!eN(h))throw Error(r(299));var S=!1,T="",M=R4;return m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=XS(h,1,!1,null,null,S,!1,T,M),h[Fr]=m.current,Tu(h.nodeType===8?h.parentNode:h),new QS(m)},Ls.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=Xo(m),h=h===null?null:h.stateNode,h},Ls.flushSync=function(h){return ff(h)},Ls.hydrate=function(h,m,S){if(!K0(m))throw Error(r(200));return G0(null,h,m,!0,S)},Ls.hydrateRoot=function(h,m,S){if(!eN(h))throw Error(r(405));var T=S!=null&&S.hydratedSources||null,M=!1,$="",se=R4;if(S!=null&&(S.unstable_strictMode===!0&&(M=!0),S.identifierPrefix!==void 0&&($=S.identifierPrefix),S.onRecoverableError!==void 0&&(se=S.onRecoverableError)),m=T4(m,null,h,1,S??null,M,!1,$,se),h[Fr]=m.current,Tu(h),T)for(h=0;h<T.length;h++)S=T[h],M=S._getVersion,M=M(S._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[S,M]:m.mutableSourceEagerHydrationData.push(S,M);return new H0(m)},Ls.render=function(h,m,S){if(!K0(m))throw Error(r(200));return G0(null,h,m,!1,S)},Ls.unmountComponentAtNode=function(h){if(!K0(h))throw Error(r(40));return h._reactRootContainer?(ff(function(){G0(null,null,h,!1,function(){h._reactRootContainer=null,h[Fr]=null})}),!0):!1},Ls.unstable_batchedUpdates=WS,Ls.unstable_renderSubtreeIntoContainer=function(h,m,S,T){if(!K0(S))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return G0(h,m,S,!1,T)},Ls.version="18.3.1-next-f1338f8080-20240426",Ls}var q4;function b7(){if(q4)return nN.exports;q4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),nN.exports=vse(),nN.exports}var U4;function yse(){if(U4)return Y0;U4=1;var t=b7();return Y0.createRoot=t.createRoot,Y0.hydrateRoot=t.hydrateRoot,Y0}var xse=yse();const bse=Er(xse);var Wo=b7();const a1=Er(Wo);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zv.apply(this,arguments)}var hd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hd||(hd={}));const V4="popstate";function wse(t){t===void 0&&(t={});function e(n,i){let{pathname:a,search:o,hash:l}=n.location;return mA("",{pathname:a,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:hw(i)}return jse(e,r,null,t)}function Rn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function w7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _se(){return Math.random().toString(36).substr(2,8)}function W4(t,e){return{usr:t.state,key:t.key,idx:e}}function mA(t,e,r,n){return r===void 0&&(r=null),Zv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Lm(e):e,{state:r,key:e&&e.key||n||_se()})}function hw(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Lm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function jse(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:a=!1}=n,o=i.history,l=hd.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Zv({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=hd.Pop;let _=d(),j=_==null?null:_-u;u=_,c&&c({action:l,location:b.location,delta:j})}function g(_,j){l=hd.Push;let N=mA(b.location,_,j);u=d()+1;let C=W4(N,u),A=b.createHref(N);try{o.pushState(C,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}a&&c&&c({action:l,location:b.location,delta:1})}function v(_,j){l=hd.Replace;let N=mA(b.location,_,j);u=d();let C=W4(N,u),A=b.createHref(N);o.replaceState(C,"",A),a&&c&&c({action:l,location:b.location,delta:0})}function y(_){let j=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:hw(_);return N=N.replace(/ $/,"%20"),Rn(j,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,j)}let b={get action(){return l},get location(){return t(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(V4,f),c=_,()=>{i.removeEventListener(V4,f),c=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let j=y(_);return{pathname:j.pathname,search:j.search,hash:j.hash}},push:g,replace:v,go(_){return o.go(_)}};return b}var H4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H4||(H4={}));function Sse(t,e,r){return r===void 0&&(r="/"),Nse(t,e,r)}function Nse(t,e,r,n){let i=typeof e=="string"?Lm(e):e,a=Zp(i.pathname||"/",r);if(a==null)return null;let o=_7(t);Cse(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Lse(a);l=Ise(o[c],u)}return l}function _7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(a,o,l)=>{let c={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(Rn(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=gd([n,c.relativePath]),d=r.concat(c);a.children&&a.children.length>0&&(Rn(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),_7(a.children,e,d,u)),!(a.path==null&&!a.index)&&e.push({path:u,score:Rse(u,a.index),routesMeta:d})};return t.forEach((a,o)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,o);else for(let c of j7(a.path))i(a,o,c)}),e}function j7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let o=j7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Cse(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Mse(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ese=/^:[\w-]+$/,Pse=3,kse=2,Ase=1,Tse=10,Ose=-2,K4=t=>t==="*";function Rse(t,e){let r=t.split("/"),n=r.length;return r.some(K4)&&(n+=Ose),e&&(n+=kse),r.filter(i=>!K4(i)).reduce((i,a)=>i+(Ese.test(a)?Pse:a===""?Ase:Tse),n)}function Mse(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Ise(t,e,r){let{routesMeta:n}=t,i={},a="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=a==="/"?e:e.slice(a.length)||"/",f=gA({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:gd([a,f.pathname]),pathnameBase:zse(gd([a,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(a=gd([a,f.pathnameBase]))}return o}function gA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Dse(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let b=l[f]||"";o=a.slice(0,a.length-b.length).replace(/(.)\/+$/,"$1")}const y=l[f];return v&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:a,pathnameBase:o,pattern:t}}function Dse(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),w7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Lse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return w7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Zp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function $se(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Lm(t):t;return{pathname:r?r.startsWith("/")?r:Fse(r,e):e,search:qse(n),hash:Use(i)}}function Fse(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function aN(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bse(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kR(t,e){let r=Bse(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function AR(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Lm(t):(i=Zv({},t),Rn(!i.pathname||!i.pathname.includes("?"),aN("?","pathname","search",i)),Rn(!i.pathname||!i.pathname.includes("#"),aN("#","pathname","hash",i)),Rn(!i.search||!i.search.includes("#"),aN("#","search","hash",i)));let a=t===""||i.pathname==="",o=a?"/":i.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}l=f>=0?e[f]:"/"}let c=$se(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(a||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const gd=t=>t.join("/").replace(/\/\/+/g,"/"),zse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),qse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Use=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Vse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const S7=["post","put","patch","delete"];new Set(S7);const Wse=["get",...S7];new Set(Wse);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yv(){return Yv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yv.apply(this,arguments)}const o1=x.createContext(null),N7=x.createContext(null),su=x.createContext(null),l1=x.createContext(null),Fl=x.createContext({outlet:null,matches:[],isDataRoute:!1}),C7=x.createContext(null);function Hse(t,e){let{relative:r}=e===void 0?{}:e;$m()||Rn(!1);let{basename:n,navigator:i}=x.useContext(su),{hash:a,pathname:o,search:l}=c1(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:gd([n,o])),i.createHref({pathname:c,search:l,hash:a})}function $m(){return x.useContext(l1)!=null}function Vi(){return $m()||Rn(!1),x.useContext(l1).location}function E7(t){x.useContext(su).static||x.useLayoutEffect(t)}function En(){let{isDataRoute:t}=x.useContext(Fl);return t?oae():Kse()}function Kse(){$m()||Rn(!1);let t=x.useContext(o1),{basename:e,future:r,navigator:n}=x.useContext(su),{matches:i}=x.useContext(Fl),{pathname:a}=Vi(),o=JSON.stringify(kR(i,r.v7_relativeSplatPath)),l=x.useRef(!1);return E7(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=AR(u,JSON.parse(o),a,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:gd([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,a,t])}const Gse=x.createContext(null);function Zse(t){let e=x.useContext(Fl).outlet;return e&&x.createElement(Gse.Provider,{value:t},e)}function nx(){let{matches:t}=x.useContext(Fl),e=t[t.length-1];return e?e.params:{}}function c1(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=x.useContext(su),{matches:i}=x.useContext(Fl),{pathname:a}=Vi(),o=JSON.stringify(kR(i,n.v7_relativeSplatPath));return x.useMemo(()=>AR(t,JSON.parse(o),a,r==="path"),[t,o,a,r])}function Yse(t,e){return Xse(t,e)}function Xse(t,e,r,n){$m()||Rn(!1);let{navigator:i}=x.useContext(su),{matches:a}=x.useContext(Fl),o=a[a.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Vi(),d;if(e){var f;let _=typeof e=="string"?Lm(e):e;c==="/"||(f=_.pathname)!=null&&f.startsWith(c)||Rn(!1),d=_}else d=u;let g=d.pathname||"/",v=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Sse(t,{pathname:v}),b=rae(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:gd([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:gd([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),a,r,n);return e&&b?x.createElement(l1.Provider,{value:{location:Yv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:hd.Pop}},b):b}function Jse(){let t=aae(),e=Vse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:i},r):null,null)}const Qse=x.createElement(Jse,null);class eae extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?x.createElement(Fl.Provider,{value:this.props.routeContext},x.createElement(C7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function tae(t){let{routeContext:e,match:r,children:n}=t,i=x.useContext(o1);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Fl.Provider,{value:e},n)}function rae(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var a;if(!r)return null;if(r.errors)t=r.matches;else if((a=n)!=null&&a.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||Rn(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:v}=r,y=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let v,y=!1,b=null,_=null;r&&(v=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||Qse,c&&(u<0&&g===0?(lae("route-fallback"),y=!0,_=null):u===g&&(y=!0,_=f.route.hydrateFallbackElement||null)));let j=e.concat(o.slice(0,g+1)),N=()=>{let C;return v?C=b:y?C=_:f.route.Component?C=x.createElement(f.route.Component,null):f.route.element?C=f.route.element:C=d,x.createElement(tae,{match:f,routeContext:{outlet:d,matches:j,isDataRoute:r!=null},children:C})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?x.createElement(eae,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:N(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):N()},null)}var P7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(P7||{}),k7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(k7||{});function nae(t){let e=x.useContext(o1);return e||Rn(!1),e}function iae(t){let e=x.useContext(N7);return e||Rn(!1),e}function sae(t){let e=x.useContext(Fl);return e||Rn(!1),e}function A7(t){let e=sae(),r=e.matches[e.matches.length-1];return r.route.id||Rn(!1),r.route.id}function aae(){var t;let e=x.useContext(C7),r=iae(),n=A7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function oae(){let{router:t}=nae(P7.UseNavigateStable),e=A7(k7.UseNavigateStable),r=x.useRef(!1);return E7(()=>{r.current=!0}),x.useCallback(function(i,a){a===void 0&&(a={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Yv({fromRouteId:e},a)))},[t,e])}const G4={};function lae(t,e,r){G4[t]||(G4[t]=!0)}function cae(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Z4(t){let{to:e,replace:r,state:n,relative:i}=t;$m()||Rn(!1);let{future:a,static:o}=x.useContext(su),{matches:l}=x.useContext(Fl),{pathname:c}=Vi(),u=En(),d=AR(e,kR(l,a.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function T7(t){return Zse(t.context)}function Jt(t){Rn(!1)}function uae(t){let{basename:e="/",children:r=null,location:n,navigationType:i=hd.Pop,navigator:a,static:o=!1,future:l}=t;$m()&&Rn(!1);let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:a,static:o,future:Yv({v7_relativeSplatPath:!1},l)}),[c,l,a,o]);typeof n=="string"&&(n=Lm(n));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:y="default"}=n,b=x.useMemo(()=>{let _=Zp(d,c);return _==null?null:{location:{pathname:_,search:f,hash:g,state:v,key:y},navigationType:i}},[c,d,f,g,v,y,i]);return b==null?null:x.createElement(su.Provider,{value:u},x.createElement(l1.Provider,{children:r,value:b}))}function dae(t){let{children:e,location:r}=t;return Yse(vA(e),r)}new Promise(()=>{});function vA(t,e){e===void 0&&(e=[]);let r=[];return x.Children.forEach(t,(n,i)=>{if(!x.isValidElement(n))return;let a=[...e,i];if(n.type===x.Fragment){r.push.apply(r,vA(n.props.children,a));return}n.type!==Jt&&Rn(!1),!n.props.index||!n.props.children||Rn(!1);let o={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=vA(n.props.children,a)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(this,arguments)}function O7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function fae(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hae(t,e){return t.button===0&&(!e||e==="_self")&&!fae(t)}function yA(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function pae(t,e){let r=yA(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(a=>{r.append(i,a)})}),r}const mae=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],gae=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],vae="6";try{window.__reactRouterVersion=vae}catch{}const yae=x.createContext({isTransitioning:!1}),xae="startTransition",Y4=Cd[xae];function bae(t){let{basename:e,children:r,future:n,window:i}=t,a=x.useRef();a.current==null&&(a.current=wse({window:i,v5Compat:!0}));let o=a.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&Y4?Y4(()=>c(f)):c(f)},[c,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>cae(n),[n]),x.createElement(uae,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const wae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=x.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:a,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,g=O7(e,mae),{basename:v}=x.useContext(su),y,b=!1;if(typeof u=="string"&&_ae.test(u)&&(y=u,wae))try{let C=new URL(window.location.href),A=u.startsWith("//")?new URL(C.protocol+u):new URL(u),E=Zp(A.pathname,v);A.origin===C.origin&&E!=null?u=E+A.search+A.hash:b=!0}catch{}let _=Hse(u,{relative:i}),j=Sae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function N(C){n&&n(C),C.defaultPrevented||j(C)}return x.createElement("a",pw({},g,{href:y||_,onClick:b||a?n:N,ref:r,target:c}))}),gf=x.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:a="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,f=O7(e,gae),g=c1(c,{relative:f.relative}),v=Vi(),y=x.useContext(N7),{navigator:b,basename:_}=x.useContext(su),j=y!=null&&Nae(g)&&u===!0,N=b.encodeLocation?b.encodeLocation(g).pathname:g.pathname,C=v.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(C=C.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&_&&(A=Zp(A,_)||A);const E=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=C===N||!o&&C.startsWith(N)&&C.charAt(E)==="/",O=A!=null&&(A===N||!o&&A.startsWith(N)&&A.charAt(N.length)==="/"),I={isActive:P,isPending:O,isTransitioning:j},F=P?n:void 0,H;typeof a=="function"?H=a(I):H=[a,P?"active":null,O?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let U=typeof l=="function"?l(I):l;return x.createElement(pr,pw({},f,{"aria-current":F,className:H,ref:r,style:U,to:c,viewTransition:u}),typeof d=="function"?d(I):d)});var xA;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(xA||(xA={}));var X4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(X4||(X4={}));function jae(t){let e=x.useContext(o1);return e||Rn(!1),e}function Sae(t,e){let{target:r,replace:n,state:i,preventScrollReset:a,relative:o,viewTransition:l}=e===void 0?{}:e,c=En(),u=Vi(),d=c1(t,{relative:o});return x.useCallback(f=>{if(hae(f,r)){f.preventDefault();let g=n!==void 0?n:hw(u)===hw(d);c(t,{replace:g,state:i,preventScrollReset:a,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,a,o,l])}function u1(t){let e=x.useRef(yA(t)),r=x.useRef(!1),n=Vi(),i=x.useMemo(()=>pae(n.search,r.current?null:e.current),[n.search]),a=En(),o=x.useCallback((l,c)=>{const u=yA(typeof l=="function"?l(i):l);r.current=!0,a("?"+u,c)},[a,i]);return[i,o]}function Nae(t,e){e===void 0&&(e={});let r=x.useContext(yae);r==null&&Rn(!1);let{basename:n}=jae(xA.useViewTransitionState),i=c1(t,{relative:e.relative});if(!r.isTransitioning)return!1;let a=Zp(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Zp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return gA(i.pathname,o)!=null||gA(i.pathname,a)!=null}var Fm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Zf=typeof window>"u"||"Deno"in globalThis;function vs(){}function Cae(t,e){return typeof t=="function"?t(e):t}function bA(t){return typeof t=="number"&&t>=0&&t!==1/0}function R7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function vd(t,e){return typeof t=="function"?t(e):t}function Ka(t,e){return typeof t=="function"?t(e):t}function J4(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:a,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==TR(o,e.options))return!1}else if(!Xv(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||a&&!a(e))}function Q4(t,e){const{exact:r,status:n,predicate:i,mutationKey:a}=t;if(a){if(!e.options.mutationKey)return!1;if(r){if(Yf(e.options.mutationKey)!==Yf(a))return!1}else if(!Xv(e.options.mutationKey,a))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function TR(t,e){return(e?.queryKeyHashFn||Yf)(t)}function Yf(t){return JSON.stringify(t,(e,r)=>wA(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Xv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Xv(t[r],e[r])):!1}function M7(t,e){if(t===e)return t;const r=e$(t)&&e$(e);if(r||wA(t)&&wA(e)){const n=r?t:Object.keys(t),i=n.length,a=r?e:Object.keys(e),o=a.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:a[d];(!r&&c.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=M7(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function mw(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function e$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function wA(t){if(!t$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!t$(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function t$(t){return Object.prototype.toString.call(t)==="[object Object]"}function Eae(t){return new Promise(e=>{setTimeout(e,t)})}function _A(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?M7(t,e):e}function Pae(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function kae(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var OR=Symbol();function I7(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===OR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function D7(t,e){return typeof t=="function"?t(...e):!!t}var Aae=class extends Fm{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Zf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},RR=new Aae,Tae=class extends Fm{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Zf&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},gw=new Tae;function jA(){let t,e;const r=new Promise((i,a)=>{t=i,e=a});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Oae(t){return Math.min(1e3*2**t,3e4)}function L7(t){return(t??"online")==="online"?gw.isOnline():!0}var $7=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function F7(t){let e=!1,r=0,n;const i=jA(),a=()=>i.status!=="pending",o=b=>{a()||(g(new $7(b)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},u=()=>RR.isFocused()&&(t.networkMode==="always"||gw.isOnline())&&t.canRun(),d=()=>L7(t.networkMode)&&t.canRun(),f=b=>{a()||(n?.(),i.resolve(b))},g=b=>{a()||(n?.(),i.reject(b))},v=()=>new Promise(b=>{n=_=>{(a()||u())&&b(_)},t.onPause?.()}).then(()=>{n=void 0,a()||t.onContinue?.()}),y=()=>{if(a())return;let b;const _=r===0?t.initialPromise:void 0;try{b=_??t.fn()}catch(j){b=Promise.reject(j)}Promise.resolve(b).then(f).catch(j=>{if(a())return;const N=t.retry??(Zf?0:3),C=t.retryDelay??Oae,A=typeof C=="function"?C(r,j):C,E=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,j);if(e||!E){g(j);return}r++,t.onFail?.(r,j),Eae(A).then(()=>u()?void 0:v()).then(()=>{e?g(j):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():v().then(y),i)}}var Rae=t=>setTimeout(t,0);function Mae(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=Rae;const a=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{a(()=>{l(...c)})},schedule:a,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var yi=Mae(),B7=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),bA(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zf?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Iae=class extends B7{#t;#e;#r;#n;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=Dae(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=_A(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(vs).catch(vs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>Ka(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>vd(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!R7(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const l=I7(this.options,e),u=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=F7({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof $7){if(l.silent)return this.#i.promise;if(l.revert)return this.setState({...this.#e,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...z7(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),yi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function z7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:L7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Dae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Lae=class extends Fm{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,i=e.queryHash??TR(n,e);let a=this.get(i);return a||(a=new Iae({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(a)),a}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>J4(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>J4(t,r)):e}notify(t){yi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){yi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$ae=class extends B7{#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||q7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#r=F7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,a)=>{this.#n({type:"failed",failureCount:i,error:a})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);const a=await this.options.onMutate?.(t);a!==this.state.context&&this.#n({type:"pending",context:a,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),yi.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function q7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Fae=class extends Fm{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const n=new $ae({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);const e=X0(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=X0(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=X0(t);if(typeof e=="string"){const n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=X0(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){yi.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>Q4(e,r))}findAll(t={}){return this.getAll().filter(e=>Q4(t,e))}notify(t){yi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return yi.batch(()=>Promise.all(t.map(e=>e.continue().catch(vs))))}};function X0(t){return t.options.scope?.id}function vw(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,a=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},g=I7(e.options,e.fetchOptions),v=async(y,b,_)=>{if(d)return Promise.reject();if(b==null&&y.pages.length)return Promise.resolve(y);const N=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return f(P),P})(),C=await g(N),{maxPages:A}=e.options,E=_?kae:Pae;return{pages:E(y.pages,C,A),pageParams:E(y.pageParams,b,A)}};if(i&&a.length){const y=i==="backward",b=y?U7:SA,_={pages:a,pageParams:o},j=b(n,_);l=await v(_,j,y)}else{const y=t??a.length;do{const b=c===0?o[0]??n.initialPageParam:SA(n,l);if(c>0&&b==null)break;l=await v(l,b),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=u}}}function SA(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function U7(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function Bae(t,e){return e?SA(t,e)!=null:!1}function zae(t,e){return!e||!t.getPreviousPageParam?!1:U7(t,e)!=null}var V7=class{#t;#e;#r;#n;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new Lae,this.#e=t.mutationCache||new Fae,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=RR.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=gw.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(vd(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),a=this.#t.get(n.queryHash)?.state.data,o=Cae(e,a);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return yi.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;yi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return yi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=yi.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(vs).catch(vs)}invalidateQueries(t,e={}){return yi.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=yi.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let a=i.fetch(void 0,r);return r.throwOnError||(a=a.catch(vs)),i.state.fetchStatus==="paused"?Promise.resolve():a}));return Promise.all(n).then(vs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(vd(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vs).catch(vs)}fetchInfiniteQuery(t){return t.behavior=vw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vs).catch(vs)}ensureInfiniteQueryData(t){return t.behavior=vw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return gw.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Yf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{Xv(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Yf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{Xv(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=TR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===OR&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},W7=class extends Fm{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=jA(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),r$(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return NA(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return NA(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ka(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!mw(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&n$(this.#e,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#e!==r||Ka(this.options.enabled,this.#e)!==Ka(e.enabled,this.#e)||vd(this.options.staleTime,this.#e)!==vd(e.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||Ka(this.options.enabled,this.#e)!==Ka(e.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return Uae(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),Reflect.get(r,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(vs)),e}#g(){this.#b();const t=vd(this.options.staleTime,this.#e);if(Zf||this.#n.isStale||!bA(t))return;const r=R7(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Zf||Ka(this.options.enabled,this.#e)===!1||!bA(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||RR.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#e,n=this.options,i=this.#n,a=this.#i,o=this.#a,c=t!==r?t.state:this.#r,{state:u}=t;let d={...u},f=!1,g;if(e._optimisticResults){const I=this.hasListeners(),F=!I&&r$(t,e),H=I&&n$(t,r,e,n);(F||H)&&(d={...d,...z7(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:b}=d;g=d.data;let _=!1;if(e.placeholderData!==void 0&&g===void 0&&b==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(I=i.data,_=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,I!==void 0&&(b="success",g=_A(i?.data,I,e),f=!0)}if(e.select&&g!==void 0&&!_)if(i&&g===a?.data&&e.select===this.#m)g=this.#f;else try{this.#m=e.select,g=e.select(g),g=_A(i?.data,g,e),this.#f=g,this.#s=null}catch(I){this.#s=I}this.#s&&(v=this.#s,g=this.#f,y=Date.now(),b="error");const j=d.fetchStatus==="fetching",N=b==="pending",C=b==="error",A=N&&j,E=g!==void 0,O={status:b,fetchStatus:d.fetchStatus,isPending:N,isSuccess:b==="success",isError:C,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:j,isRefetching:j&&!N,isLoadingError:C&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:C&&E,isStale:MR(t,e),refetch:this.refetch,promise:this.#o,isEnabled:Ka(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=U=>{O.status==="error"?U.reject(O.error):O.data!==void 0&&U.resolve(O.data)},F=()=>{const U=this.#o=O.promise=jA();I(U)},H=this.#o;switch(H.status){case"pending":t.queryHash===r.queryHash&&I(H);break;case"fulfilled":(O.status==="error"||O.data!==H.value)&&F();break;case"rejected":(O.status!=="error"||O.error!==H.reason)&&F();break}}return O}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),mw(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const a=new Set(i??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==t[l]&&a.has(l)})};this.#j({listeners:r()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(t){yi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function qae(t,e){return Ka(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function r$(t,e){return qae(t,e)||t.state.data!==void 0&&NA(t,e,e.refetchOnMount)}function NA(t,e,r){if(Ka(e.enabled,t)!==!1&&vd(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&MR(t,e)}return!1}function n$(t,e,r,n){return(t!==e||Ka(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&MR(t,r)}function MR(t,e){return Ka(e.enabled,t)!==!1&&t.isStaleByTime(vd(e.staleTime,t))}function Uae(t,e){return!mw(t.getCurrentResult(),e)}var Vae=class extends W7{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:vw()})}getOptimisticResult(t){return t.behavior=vw(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:a,isError:o,isRefetchError:l}=n,c=r.fetchMeta?.fetchMore?.direction,u=o&&c==="forward",d=i&&c==="forward",f=o&&c==="backward",g=i&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Bae(e,r.data),hasPreviousPage:zae(e,r.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:f,isFetchingPreviousPage:g,isRefetchError:l&&!u&&!f,isRefetching:a&&!d&&!g}}},Wae=class extends Fm{#t;#e=void 0;#r;#n;constructor(e,r){super(),this.#t=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#t.defaultMutationOptions(e),mw(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Yf(r.mutationKey)!==Yf(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??q7();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){yi.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},H7=x.createContext(void 0),Bl=t=>{const e=x.useContext(H7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},K7=({client:t,children:e})=>(x.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),s.jsx(H7.Provider,{value:t,children:e})),G7=x.createContext(!1),Hae=()=>x.useContext(G7);G7.Provider;function Kae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Gae=x.createContext(Kae()),Z7=()=>x.useContext(Gae),Zae=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Yae=t=>{x.useEffect(()=>{t.clearReset()},[t])},Xae=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||D7(r,[t.error,n])),Jae=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Qae=(t,e)=>t.isLoading&&t.isFetching&&!e,eoe=(t,e)=>t?.suspense&&e.isPending,i$=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Y7(t,e,r){const n=Hae(),i=Z7(),a=Bl(),o=a.defaultQueryOptions(t);a.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Jae(o),Zae(o,i),Yae(i);const l=!a.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new e(a,o)),u=c.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(f=>{const g=d?c.subscribe(yi.batchCalls(f)):vs;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),eoe(o,u))throw i$(o,c,i);if(Xae({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:a.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return a.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Zf&&Qae(u,n)&&(l?i$(o,c,i):a.getQueryCache().get(o.queryHash)?.promise)?.catch(vs).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Ti(t,e){return Y7(t,W7)}function Ui(t,e){const r=Bl(),[n]=x.useState(()=>new Wae(r,t));x.useEffect(()=>{n.setOptions(t)},[n,t]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(yi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),a=x.useCallback((o,l)=>{n.mutate(o,l).catch(vs)},[n]);if(i.error&&D7(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:a,mutateAsync:i.mutate}}function toe(t,e){return Y7(t,Vae)}const roe="modulepreload",noe=function(t){return"/"+t},s$={},ix=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(r.map(d=>{if(d=noe(d),d in s$)return;s$[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":roe,f||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((y,b)=>{v.addEventListener("load",y),v.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})};function X7(){return x.useEffect(()=>{if(typeof document<"u"){let t=document.getElementById("toaster-container");t||(t=document.createElement("div"),t.id="toaster-container",t.className="fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none",document.body.appendChild(t))}},[]),s.jsx("div",{id:"toaster-container",className:"fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none"})}const IR=x.createContext({});function DR(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const d1=x.createContext(null),LR=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class ioe extends x.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function soe({children:t,isPresent:e}){const r=x.useId(),n=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:a}=x.useContext(LR);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(e||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return a&&(d.nonce=a),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),s.jsx(ioe,{isPresent:e,childRef:n,sizeRef:i,children:x.cloneElement(t,{ref:n})})}const aoe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:a,mode:o})=>{const l=DR(ooe),c=x.useId(),u=x.useCallback(f=>{l.set(f,!0);for(const g of l.values())if(!g)return;n&&n()},[l,n]),d=x.useMemo(()=>({id:c,initial:e,isPresent:r,custom:i,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),a?[Math.random(),u]:[r,u]);return x.useMemo(()=>{l.forEach((f,g)=>l.set(g,!1))},[r]),x.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(soe,{isPresent:r,children:t})),s.jsx(d1.Provider,{value:d,children:t})};function ooe(){return new Map}function J7(t=!0){const e=x.useContext(d1);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,a=x.useId();x.useEffect(()=>{t&&i(a)},[t]);const o=x.useCallback(()=>t&&n&&n(a),[a,n,t]);return!r&&n?[!1,o]:[!0]}const J0=t=>t.key||"";function a$(t){const e=[];return x.Children.forEach(t,r=>{x.isValidElement(r)&&e.push(r)}),e}const $R=typeof window<"u",Q7=$R?x.useLayoutEffect:x.useEffect,Bn=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:a="sync",propagate:o=!1})=>{const[l,c]=J7(o),u=x.useMemo(()=>a$(t),[t]),d=o&&!l?[]:u.map(J0),f=x.useRef(!0),g=x.useRef(u),v=DR(()=>new Map),[y,b]=x.useState(u),[_,j]=x.useState(u);Q7(()=>{f.current=!1,g.current=u;for(let A=0;A<_.length;A++){const E=J0(_[A]);d.includes(E)?v.delete(E):v.get(E)!==!0&&v.set(E,!1)}},[_,d.length,d.join("-")]);const N=[];if(u!==y){let A=[...u];for(let E=0;E<_.length;E++){const P=_[E],O=J0(P);d.includes(O)||(A.splice(E,0,P),N.push(P))}a==="wait"&&N.length&&(A=N),j(a$(A)),b(u);return}const{forceRender:C}=x.useContext(IR);return s.jsx(s.Fragment,{children:_.map(A=>{const E=J0(A),P=o&&!l?!1:u===_||d.includes(E),O=()=>{if(v.has(E))v.set(E,!0);else return;let I=!0;v.forEach(F=>{F||(I=!1)}),I&&(C?.(),j(g.current),o&&c?.(),n&&n())};return s.jsx(aoe,{isPresent:P,initial:!f.current||r?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:i,mode:a,onExitComplete:P?void 0:O,children:A},E)})})},ga=t=>t;let eW=ga;function FR(t){let e;return()=>(e===void 0&&(e=t()),e)}const Yp=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Lc=t=>t*1e3,$c=t=>t/1e3,loe={useManualTiming:!1};function coe(t){let e=new Set,r=new Set,n=!1,i=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){a.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const v=f&&n?e:r;return d&&a.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),a.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(l),e.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const Q0=["read","resolveKeyframes","update","preRender","render","postRender"],uoe=40;function tW(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=()=>r=!0,o=Q0.reduce((j,N)=>(j[N]=coe(a),j),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:g}=o,v=()=>{const j=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(j-i.timestamp,uoe),1),i.timestamp=j,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),g.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},y=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:Q0.reduce((j,N)=>{const C=o[N];return j[N]=(A,E=!1,P=!1)=>(r||y(),C.schedule(A,E,P)),j},{}),cancel:j=>{for(let N=0;N<Q0.length;N++)o[Q0[N]].cancel(j)},state:i,steps:o}}const{schedule:bn,cancel:Ed,state:zi,steps:oN}=tW(typeof requestAnimationFrame<"u"?requestAnimationFrame:ga,!0),rW=x.createContext({strict:!1}),o$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Xp={};for(const t in o$)Xp[t]={isEnabled:e=>o$[t].some(r=>!!e[r])};function doe(t){for(const e in t)Xp[e]={...Xp[e],...t[e]}}const foe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function yw(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||foe.has(t)}let nW=t=>!yw(t);function hoe(t){t&&(nW=e=>e.startsWith("on")?!yw(e):t(e))}try{hoe(require("@emotion/is-prop-valid").default)}catch{}function poe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(nW(i)||r===!0&&yw(i)||!e&&!yw(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function moe(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const f1=x.createContext({});function Jv(t){return typeof t=="string"||Array.isArray(t)}function h1(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const BR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],zR=["initial",...BR];function p1(t){return h1(t.animate)||zR.some(e=>Jv(t[e]))}function iW(t){return!!(p1(t)||t.variants)}function goe(t,e){if(p1(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Jv(r)?r:void 0,animate:Jv(n)?n:void 0}}return t.inherit!==!1?e:{}}function voe(t){const{initial:e,animate:r}=goe(t,x.useContext(f1));return x.useMemo(()=>({initial:e,animate:r}),[l$(e),l$(r)])}function l$(t){return Array.isArray(t)?t.join(" "):t}const yoe=Symbol.for("motionComponentSymbol");function Tp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function xoe(t,e,r){return x.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Tp(r)&&(r.current=n))},[e])}const qR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),boe="framerAppearId",sW="data-"+qR(boe),{schedule:UR}=tW(queueMicrotask,!1),aW=x.createContext({});function woe(t,e,r,n,i){var a,o;const{visualElement:l}=x.useContext(f1),c=x.useContext(rW),u=x.useContext(d1),d=x.useContext(LR).reducedMotion,f=x.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,v=x.useContext(aW);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&_oe(f.current,r,i,v);const y=x.useRef(!1);x.useInsertionEffect(()=>{g&&y.current&&g.update(r,u)});const b=r[sW],_=x.useRef(!!b&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,b))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,b)));return Q7(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),UR.render(g.render),_.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var j;(j=window.MotionHandoffMarkAsComplete)===null||j===void 0||j.call(window,b)}),_.current=!1))}),g}function _oe(t,e,r,n){const{layoutId:i,layout:a,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:oW(t.parent)),t.projection.setOptions({layoutId:i,layout:a,alwaysMeasureLayout:!!o||l&&Tp(l),visualElement:t,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function oW(t){if(t)return t.options.allowProjection!==!1?t.projection:oW(t.parent)}function joe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var a,o;t&&doe(t);function l(u,d){let f;const g={...x.useContext(LR),...u,layoutId:Soe(u)},{isStatic:v}=g,y=voe(u),b=n(u,v);if(!v&&$R){Noe();const _=Coe(g);f=_.MeasureLayout,y.visualElement=woe(i,b,g,e,_.ProjectionNode)}return s.jsxs(f1.Provider,{value:y,children:[f&&y.visualElement?s.jsx(f,{visualElement:y.visualElement,...g}):null,r(i,u,xoe(b,y.visualElement,d),b,v,y.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(a=i.displayName)!==null&&a!==void 0?a:i.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[yoe]=i,c}function Soe({layoutId:t}){const e=x.useContext(IR).id;return e&&t!==void 0?e+"-"+t:t}function Noe(t,e){x.useContext(rW).strict}function Coe(t){const{drag:e,layout:r}=Xp;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Eoe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function VR(t){return typeof t!="string"||t.includes("-")?!1:!!(Eoe.indexOf(t)>-1||/[A-Z]/u.test(t))}function c$(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function WR(t,e,r,n){if(typeof e=="function"){const[i,a]=c$(n);e=e(r!==void 0?r:t.custom,i,a)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,a]=c$(n);e=e(r!==void 0?r:t.custom,i,a)}return e}const CA=t=>Array.isArray(t),Poe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),koe=t=>CA(t)?t[t.length-1]||0:t,os=t=>!!(t&&t.getVelocity);function Xb(t){const e=os(t)?t.get():t;return Poe(e)?e.toValue():e}function Aoe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,a){const o={latestValues:Toe(n,i,a,t),renderState:e()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const lW=t=>(e,r)=>{const n=x.useContext(f1),i=x.useContext(d1),a=()=>Aoe(t,e,n,i);return r?a():DR(a)};function Toe(t,e,r,n){const i={},a=n(t,{});for(const g in a)i[g]=Xb(a[g]);let{initial:o,animate:l}=t;const c=p1(t),u=iW(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!h1(f)){const g=Array.isArray(f)?f:[f];for(let v=0;v<g.length;v++){const y=WR(t,g[v]);if(y){const{transitionEnd:b,transition:_,...j}=y;for(const N in j){let C=j[N];if(Array.isArray(C)){const A=d?C.length-1:0;C=C[A]}C!==null&&(i[N]=C)}for(const N in b)i[N]=b[N]}}}return i}const Bm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],uh=new Set(Bm),cW=t=>e=>typeof e=="string"&&e.startsWith(t),uW=cW("--"),Ooe=cW("var(--"),HR=t=>Ooe(t)?Roe.test(t.split("/*")[0].trim()):!1,Roe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,dW=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Yc=(t,e,r)=>r>e?e:r<t?t:r,zm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Qv={...zm,transform:t=>Yc(0,1,t)},eb={...zm,default:1},sx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Qu=sx("deg"),_l=sx("%"),Ut=sx("px"),Moe=sx("vh"),Ioe=sx("vw"),u$={..._l,parse:t=>_l.parse(t)/100,transform:t=>_l.transform(t*100)},Doe={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut},Loe={rotate:Qu,rotateX:Qu,rotateY:Qu,rotateZ:Qu,scale:eb,scaleX:eb,scaleY:eb,scaleZ:eb,skew:Qu,skewX:Qu,skewY:Qu,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:Qv,originX:u$,originY:u$,originZ:Ut},d$={...zm,transform:Math.round},KR={...Doe,...Loe,zIndex:d$,size:Ut,fillOpacity:Qv,strokeOpacity:Qv,numOctaves:d$},$oe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Foe=Bm.length;function Boe(t,e,r){let n="",i=!0;for(let a=0;a<Foe;a++){const o=Bm[a],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=dW(l,KR[o]);if(!c){i=!1;const d=$oe[o]||o;n+=`${d}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function GR(t,e,r){const{style:n,vars:i,transformOrigin:a}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(uh.has(c)){o=!0;continue}else if(uW(c)){i[c]=u;continue}else{const d=dW(u,KR[c]);c.startsWith("origin")?(l=!0,a[c]=d):n[c]=d}}if(e.transform||(o||r?n.transform=Boe(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=a;n.transformOrigin=`${c} ${u} ${d}`}}const zoe={offset:"stroke-dashoffset",array:"stroke-dasharray"},qoe={offset:"strokeDashoffset",array:"strokeDasharray"};function Uoe(t,e,r=1,n=0,i=!0){t.pathLength=1;const a=i?zoe:qoe;t[a.offset]=Ut.transform(-n);const o=Ut.transform(e),l=Ut.transform(r);t[a.array]=`${o} ${l}`}function f$(t,e,r){return typeof t=="string"?t:Ut.transform(e+r*t)}function Voe(t,e,r){const n=f$(e,t.x,t.width),i=f$(r,t.y,t.height);return`${n} ${i}`}function ZR(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:a,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(GR(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v,dimensions:y}=t;g.transform&&(y&&(v.transform=g.transform),delete g.transform),y&&(i!==void 0||a!==void 0||v.transform)&&(v.transformOrigin=Voe(y,i!==void 0?i:.5,a!==void 0?a:.5)),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&Uoe(g,o,l,c,!1)}const YR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),fW=()=>({...YR(),attrs:{}}),XR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function hW(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const a in r)t.style.setProperty(a,r[a])}const pW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function mW(t,e,r,n){hW(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(pW.has(i)?i:qR(i),e.attrs[i])}const xw={};function Woe(t){Object.assign(xw,t)}function gW(t,{layout:e,layoutId:r}){return uh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!xw[t]||t==="opacity")}function JR(t,e,r){var n;const{style:i}=t,a={};for(const o in i)(os(i[o])||e.style&&os(e.style[o])||gW(o,t)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[o]=i[o]);return a}function vW(t,e,r){const n=JR(t,e,r);for(const i in t)if(os(t[i])||os(e[i])){const a=Bm.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[a]=t[i]}return n}function Hoe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const h$=["x","y","width","height","cx","cy","r"],Koe={useVisualState:lW({scrapeMotionValuesFromProps:vW,createRenderState:fW,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let a=!!t.drag;if(!a){for(const l in i)if(uh.has(l)){a=!0;break}}if(!a)return;let o=!e;if(e)for(let l=0;l<h$.length;l++){const c=h$[l];t[c]!==e[c]&&(o=!0)}o&&bn.read(()=>{Hoe(r,n),bn.render(()=>{ZR(n,i,XR(r.tagName),t.transformTemplate),mW(r,n)})})}})},Goe={useVisualState:lW({scrapeMotionValuesFromProps:JR,createRenderState:YR})};function yW(t,e,r){for(const n in e)!os(e[n])&&!gW(n,r)&&(t[n]=e[n])}function Zoe({transformTemplate:t},e){return x.useMemo(()=>{const r=YR();return GR(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Yoe(t,e){const r=t.style||{},n={};return yW(n,r,t),Object.assign(n,Zoe(t,e)),n}function Xoe(t,e){const r={},n=Yoe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function Joe(t,e,r,n){const i=x.useMemo(()=>{const a=fW();return ZR(a,e,XR(n),t.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(t.style){const a={};yW(a,t.style,t),i.style={...a,...i.style}}return i}function Qoe(t=!1){return(r,n,i,{latestValues:a},o)=>{const c=(VR(r)?Joe:Xoe)(n,a,o,r),u=poe(n,typeof r=="string",t),d=r!==x.Fragment?{...u,...c,ref:i}:{},{children:f}=n,g=x.useMemo(()=>os(f)?f.get():f,[f]);return x.createElement(r,{...d,children:g})}}function ele(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...VR(n)?Koe:Goe,preloadedFeatures:t,useRender:Qoe(i),createVisualElement:e,Component:n};return joe(o)}}function xW(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function m1(t,e,r){const n=t.getProps();return WR(n,e,r!==void 0?r:n.custom,t)}const tle=FR(()=>window.ScrollTimeline!==void 0);class rle{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(tle()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,a)=>{i&&i(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class nle extends rle{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function QR(t,e){return t?t[e]||t.default||t:void 0}const EA=2e4;function bW(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<EA;)e+=r,n=t.next(e);return e>=EA?1/0:e}function eM(t){return typeof t=="function"}function p$(t,e){t.timeline=e,t.onfinish=null}const tM=t=>Array.isArray(t)&&typeof t[0]=="number",ile={linearEasing:void 0};function sle(t,e){const r=FR(t);return()=>{var n;return(n=ile[e])!==null&&n!==void 0?n:r()}}const bw=sle(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),wW=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let a=0;a<i;a++)n+=t(Yp(0,i-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function _W(t){return!!(typeof t=="function"&&bw()||!t||typeof t=="string"&&(t in PA||bw())||tM(t)||Array.isArray(t)&&t.every(_W))}const yv=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,PA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:yv([0,.65,.55,1]),circOut:yv([.55,0,1,.45]),backIn:yv([.31,.01,.66,-.59]),backOut:yv([.33,1.53,.69,.99])};function jW(t,e){if(t)return typeof t=="function"&&bw()?wW(t,e):tM(t)?yv(t):Array.isArray(t)?t.map(r=>jW(r,e)||PA.easeOut):PA[t]}const No={x:!1,y:!1};function SW(){return No.x||No.y}function ale(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const a=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}function NW(t,e){const r=ale(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function m$(t){return e=>{e.pointerType==="touch"||SW()||t(e)}}function ole(t,e,r={}){const[n,i,a]=NW(t,r),o=m$(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=m$(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),a}const CW=(t,e)=>e?t===e?!0:CW(t,e.parentElement):!1,rM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,lle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function cle(t){return lle.has(t.tagName)||t.tabIndex!==-1}const xv=new WeakSet;function g$(t){return e=>{e.key==="Enter"&&t(e)}}function lN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const ule=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=g$(()=>{if(xv.has(r))return;lN(r,"down");const i=g$(()=>{lN(r,"up")}),a=()=>lN(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",a,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function v$(t){return rM(t)&&!SW()}function dle(t,e,r={}){const[n,i,a]=NW(t,r),o=l=>{const c=l.currentTarget;if(!v$(l)||xv.has(c))return;xv.add(c);const u=e(l),d=(v,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),!(!v$(v)||!xv.has(c))&&(xv.delete(c),typeof u=="function"&&u(v,{success:y}))},f=v=>{d(v,r.useGlobalTarget||CW(c,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return n.forEach(l=>{!cle(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>ule(u,i),i)}),a}function fle(t){return t==="x"||t==="y"?No[t]?null:(No[t]=!0,()=>{No[t]=!1}):No.x||No.y?null:(No.x=No.y=!0,()=>{No.x=No.y=!1})}const EW=new Set(["width","height","top","left","right","bottom",...Bm]);let Jb;function hle(){Jb=void 0}const jl={now:()=>(Jb===void 0&&jl.set(zi.isProcessing||loe.useManualTiming?zi.timestamp:performance.now()),Jb),set:t=>{Jb=t,queueMicrotask(hle)}};function nM(t,e){t.indexOf(e)===-1&&t.push(e)}function iM(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class sM{constructor(){this.subscriptions=[]}add(e){return nM(this.subscriptions,e),()=>iM(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let a=0;a<i;a++){const o=this.subscriptions[a];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function PW(t,e){return e?t*(1e3/e):0}const y$=30,ple=t=>!isNaN(parseFloat(t));class mle{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const a=jl.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=jl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ple(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new sM);const n=this.events[e].add(r);return e==="change"?()=>{n(),bn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=jl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>y$)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,y$);return PW(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ey(t,e){return new mle(t,e)}function gle(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,ey(r))}function vle(t,e){const r=m1(t,e);let{transitionEnd:n={},transition:i={},...a}=r||{};a={...a,...n};for(const o in a){const l=koe(a[o]);gle(t,o,l)}}function yle(t){return!!(os(t)&&t.add)}function kA(t,e){const r=t.getValue("willChange");if(yle(r))return r.add(e)}function kW(t){return t.props[sW]}const AW=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,xle=1e-7,ble=12;function wle(t,e,r,n,i){let a,o,l=0;do o=e+(r-e)/2,a=AW(o,n,i)-t,a>0?r=o:e=o;while(Math.abs(a)>xle&&++l<ble);return o}function ax(t,e,r,n){if(t===e&&r===n)return ga;const i=a=>wle(a,0,1,t,r);return a=>a===0||a===1?a:AW(i(a),e,n)}const TW=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,OW=t=>e=>1-t(1-e),RW=ax(.33,1.53,.69,.99),aM=OW(RW),MW=TW(aM),IW=t=>(t*=2)<1?.5*aM(t):.5*(2-Math.pow(2,-10*(t-1))),oM=t=>1-Math.sin(Math.acos(t)),DW=OW(oM),LW=TW(oM),$W=t=>/^0[^.\s]+$/u.test(t);function _le(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||$W(t):!0}const Mv=t=>Math.round(t*1e5)/1e5,lM=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jle(t){return t==null}const Sle=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cM=(t,e)=>r=>!!(typeof r=="string"&&Sle.test(r)&&r.startsWith(t)||e&&!jle(r)&&Object.prototype.hasOwnProperty.call(r,e)),FW=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,a,o,l]=n.match(lM);return{[t]:parseFloat(i),[e]:parseFloat(a),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Nle=t=>Yc(0,255,t),cN={...zm,transform:t=>Math.round(Nle(t))},Tf={test:cM("rgb","red"),parse:FW("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+cN.transform(t)+", "+cN.transform(e)+", "+cN.transform(r)+", "+Mv(Qv.transform(n))+")"};function Cle(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const AA={test:cM("#"),parse:Cle,transform:Tf.transform},Op={test:cM("hsl","hue"),parse:FW("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+_l.transform(Mv(e))+", "+_l.transform(Mv(r))+", "+Mv(Qv.transform(n))+")"},rs={test:t=>Tf.test(t)||AA.test(t)||Op.test(t),parse:t=>Tf.test(t)?Tf.parse(t):Op.test(t)?Op.parse(t):AA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Tf.transform(t):Op.transform(t)},Ele=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Ple(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lM))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(Ele))===null||r===void 0?void 0:r.length)||0)>0}const BW="number",zW="color",kle="var",Ale="var(",x$="${}",Tle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ty(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let a=0;const l=e.replace(Tle,c=>(rs.test(c)?(n.color.push(a),i.push(zW),r.push(rs.parse(c))):c.startsWith(Ale)?(n.var.push(a),i.push(kle),r.push(c)):(n.number.push(a),i.push(BW),r.push(parseFloat(c))),++a,x$)).split(x$);return{values:r,split:l,indexes:n,types:i}}function qW(t){return ty(t).values}function UW(t){const{split:e,types:r}=ty(t),n=e.length;return i=>{let a="";for(let o=0;o<n;o++)if(a+=e[o],i[o]!==void 0){const l=r[o];l===BW?a+=Mv(i[o]):l===zW?a+=rs.transform(i[o]):a+=i[o]}return a}}const Ole=t=>typeof t=="number"?0:t;function Rle(t){const e=qW(t);return UW(t)(e.map(Ole))}const Pd={test:Ple,parse:qW,createTransformer:UW,getAnimatableNone:Rle},Mle=new Set(["brightness","contrast","saturate","opacity"]);function Ile(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(lM)||[];if(!n)return t;const i=r.replace(n,"");let a=Mle.has(e)?1:0;return n!==r&&(a*=100),e+"("+a+i+")"}const Dle=/\b([a-z-]*)\(.*?\)/gu,TA={...Pd,getAnimatableNone:t=>{const e=t.match(Dle);return e?e.map(Ile).join(" "):t}},Lle={...KR,color:rs,backgroundColor:rs,outlineColor:rs,fill:rs,stroke:rs,borderColor:rs,borderTopColor:rs,borderRightColor:rs,borderBottomColor:rs,borderLeftColor:rs,filter:TA,WebkitFilter:TA},uM=t=>Lle[t];function VW(t,e){let r=uM(t);return r!==TA&&(r=Pd),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const $le=new Set(["auto","none","0"]);function Fle(t,e,r){let n=0,i;for(;n<t.length&&!i;){const a=t[n];typeof a=="string"&&!$le.has(a)&&ty(a).values.length&&(i=t[n]),n++}if(i&&r)for(const a of e)t[a]=VW(r,i)}const b$=t=>t===zm||t===Ut,w$=(t,e)=>parseFloat(t.split(", ")[e]),_$=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return w$(i[1],e);{const a=n.match(/^matrix\((.+)\)$/u);return a?w$(a[1],t):0}},Ble=new Set(["x","y","z"]),zle=Bm.filter(t=>!Ble.has(t));function qle(t){const e=[];return zle.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Jp={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:_$(4,13),y:_$(5,14)};Jp.translateX=Jp.x;Jp.translateY=Jp.y;const zf=new Set;let OA=!1,RA=!1;function WW(){if(RA){const t=Array.from(zf).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=qle(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([a,o])=>{var l;(l=n.getValue(a))===null||l===void 0||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}RA=!1,OA=!1,zf.forEach(t=>t.complete()),zf.clear()}function HW(){zf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(RA=!0)})}function Ule(){HW(),WW()}class dM{constructor(e,r,n,i,a,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=a,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(zf.add(this),OA||(OA=!0,bn.read(HW),bn.resolveKeyframes(WW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),zf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,zf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const KW=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Vle=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Wle(t){const e=Vle.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function GW(t,e,r=1){const[n,i]=Wle(t);if(!n)return;const a=window.getComputedStyle(e).getPropertyValue(n);if(a){const o=a.trim();return KW(o)?parseFloat(o):o}return HR(i)?GW(i,e,r+1):i}const ZW=t=>e=>e.test(t),Hle={test:t=>t==="auto",parse:t=>t},YW=[zm,Ut,_l,Qu,Ioe,Moe,Hle],j$=t=>YW.find(ZW(t));class XW extends dM{constructor(e,r,n,i,a){super(e,r,n,i,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),HR(u))){const d=GW(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!EW.has(n)||e.length!==2)return;const[i,a]=e,o=j$(i),l=j$(a);if(o!==l)if(b$(o)&&b$(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)_le(e[i])&&n.push(i);n.length&&Fle(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Jp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const a=r.getValue(n);a&&a.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Jp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const S$=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Pd.test(t)||t==="0")&&!t.startsWith("url("));function Kle(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Gle(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const a=t[t.length-1],o=S$(i,e),l=S$(a,e);return!o||!l?!1:Kle(t)||(r==="spring"||eM(r))&&n}const Zle=t=>t!==null;function g1(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Zle),a=e&&r!=="loop"&&e%2===1?0:i.length-1;return!a||n===void 0?i[a]:n}const Yle=40;class JW{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:a=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=jl.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:a,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Yle?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ule(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=jl.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:a,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Gle(e,n,i,a))if(o)this.options.duration=0;else{c&&c(g1(e,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,r);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Tn=(t,e,r)=>t+(e-t)*r;function uN(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Xle({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,a=0,o=0;if(!e)i=a=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=uN(c,l,t+1/3),a=uN(c,l,t),o=uN(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(o*255),alpha:n}}function ww(t,e){return r=>r>0?e:t}const dN=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Jle=[AA,Tf,Op],Qle=t=>Jle.find(e=>e.test(t));function N$(t){const e=Qle(t);if(!e)return!1;let r=e.parse(t);return e===Op&&(r=Xle(r)),r}const C$=(t,e)=>{const r=N$(t),n=N$(e);if(!r||!n)return ww(t,e);const i={...r};return a=>(i.red=dN(r.red,n.red,a),i.green=dN(r.green,n.green,a),i.blue=dN(r.blue,n.blue,a),i.alpha=Tn(r.alpha,n.alpha,a),Tf.transform(i))},ece=(t,e)=>r=>e(t(r)),ox=(...t)=>t.reduce(ece),MA=new Set(["none","hidden"]);function tce(t,e){return MA.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function rce(t,e){return r=>Tn(t,e,r)}function fM(t){return typeof t=="number"?rce:typeof t=="string"?HR(t)?ww:rs.test(t)?C$:sce:Array.isArray(t)?QW:typeof t=="object"?rs.test(t)?C$:nce:ww}function QW(t,e){const r=[...t],n=r.length,i=t.map((a,o)=>fM(a)(a,e[o]));return a=>{for(let o=0;o<n;o++)r[o]=i[o](a);return r}}function nce(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=fM(t[i])(t[i],e[i]));return i=>{for(const a in n)r[a]=n[a](i);return r}}function ice(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const o=e.types[a],l=t.indexes[o][i[o]],c=(r=t.values[l])!==null&&r!==void 0?r:0;n[a]=c,i[o]++}return n}const sce=(t,e)=>{const r=Pd.createTransformer(e),n=ty(t),i=ty(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?MA.has(t)&&!i.values.length||MA.has(e)&&!n.values.length?tce(t,e):ox(QW(ice(n,i),i.values),r):ww(t,e)};function eH(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Tn(t,e,r):fM(t)(t,e)}const ace=5;function tH(t,e,r){const n=Math.max(e-ace,0);return PW(r-t(n),e-n)}const Ln={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},fN=.001;function oce({duration:t=Ln.duration,bounce:e=Ln.bounce,velocity:r=Ln.velocity,mass:n=Ln.mass}){let i,a,o=1-e;o=Yc(Ln.minDamping,Ln.maxDamping,o),t=Yc(Ln.minDuration,Ln.maxDuration,$c(t)),o<1?(i=u=>{const d=u*o,f=d*t,g=d-r,v=IA(u,o),y=Math.exp(-f);return fN-g/v*y},a=u=>{const f=u*o*t,g=f*r+r,v=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-f),b=IA(Math.pow(u,2),o);return(-i(u)+fN>0?-1:1)*((g-v)*y)/b}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-fN+d*f},a=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const l=5/t,c=cce(i,a,l);if(t=Lc(t),isNaN(c))return{stiffness:Ln.stiffness,damping:Ln.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const lce=12;function cce(t,e,r){let n=r;for(let i=1;i<lce;i++)n=n-t(n)/e(n);return n}function IA(t,e){return t*Math.sqrt(1-e*e)}const uce=["duration","bounce"],dce=["stiffness","damping","mass"];function E$(t,e){return e.some(r=>t[r]!==void 0)}function fce(t){let e={velocity:Ln.velocity,stiffness:Ln.stiffness,damping:Ln.damping,mass:Ln.mass,isResolvedFromDuration:!1,...t};if(!E$(t,dce)&&E$(t,uce))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,a=2*Yc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ln.mass,stiffness:i,damping:a}}else{const r=oce(t);e={...e,...r,mass:Ln.mass},e.isResolvedFromDuration=!0}return e}function rH(t=Ln.visualDuration,e=Ln.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const a=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:a},{stiffness:c,damping:u,mass:d,duration:f,velocity:g,isResolvedFromDuration:v}=fce({...r,velocity:-$c(r.velocity||0)}),y=g||0,b=u/(2*Math.sqrt(c*d)),_=o-a,j=$c(Math.sqrt(c/d)),N=Math.abs(_)<5;n||(n=N?Ln.restSpeed.granular:Ln.restSpeed.default),i||(i=N?Ln.restDelta.granular:Ln.restDelta.default);let C;if(b<1){const E=IA(j,b);C=P=>{const O=Math.exp(-b*j*P);return o-O*((y+b*j*_)/E*Math.sin(E*P)+_*Math.cos(E*P))}}else if(b===1)C=E=>o-Math.exp(-j*E)*(_+(y+j*_)*E);else{const E=j*Math.sqrt(b*b-1);C=P=>{const O=Math.exp(-b*j*P),I=Math.min(E*P,300);return o-O*((y+b*j*_)*Math.sinh(I)+E*_*Math.cosh(I))/E}}const A={calculatedDuration:v&&f||null,next:E=>{const P=C(E);if(v)l.done=E>=f;else{let O=0;b<1&&(O=E===0?Lc(y):tH(C,E,P));const I=Math.abs(O)<=n,F=Math.abs(o-P)<=i;l.done=I&&F}return l.value=l.done?o:P,l},toString:()=>{const E=Math.min(bW(A),EA),P=wW(O=>A.next(E*O).value,E,30);return E+"ms "+P}};return A}function P$({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],g={done:!1,value:f},v=I=>l!==void 0&&I<l||c!==void 0&&I>c,y=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let b=r*e;const _=f+b,j=o===void 0?_:o(_);j!==_&&(b=j-f);const N=I=>-b*Math.exp(-I/n),C=I=>j+N(I),A=I=>{const F=N(I),H=C(I);g.done=Math.abs(F)<=u,g.value=g.done?j:H};let E,P;const O=I=>{v(g.value)&&(E=I,P=rH({keyframes:[g.value,y(g.value)],velocity:tH(C,I,g.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:I=>{let F=!1;return!P&&E===void 0&&(F=!0,A(I),O(I)),E!==void 0&&I>=E?P.next(I-E):(!F&&A(I),g)}}}const hce=ax(.42,0,1,1),pce=ax(0,0,.58,1),nH=ax(.42,0,.58,1),mce=t=>Array.isArray(t)&&typeof t[0]!="number",gce={linear:ga,easeIn:hce,easeInOut:nH,easeOut:pce,circIn:oM,circInOut:LW,circOut:DW,backIn:aM,backInOut:MW,backOut:RW,anticipate:IW},k$=t=>{if(tM(t)){eW(t.length===4);const[e,r,n,i]=t;return ax(e,r,n,i)}else if(typeof t=="string")return gce[t];return t};function vce(t,e,r){const n=[],i=r||eH,a=t.length-1;for(let o=0;o<a;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ga:e;l=ox(c,l)}n.push(l)}return n}function yce(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const a=t.length;if(eW(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[a-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=vce(e,n,i),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const g=Yp(t[f],t[f+1],d);return l[f](g)};return r?d=>u(Yc(t[0],t[a-1],d)):u}function xce(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Yp(0,e,n);t.push(Tn(r,1,i))}}function bce(t){const e=[0];return xce(e,t.length-1),e}function wce(t,e){return t.map(r=>r*e)}function _ce(t,e){return t.map(()=>e||nH).splice(0,t.length-1)}function _w({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=mce(n)?n.map(k$):k$(n),a={done:!1,value:e[0]},o=wce(r&&r.length===e.length?r:bce(e),t),l=yce(o,e,{ease:Array.isArray(i)?i:_ce(e,i)});return{calculatedDuration:t,next:c=>(a.value=l(c),a.done=c>=t,a)}}const jce=t=>{const e=({timestamp:r})=>t(r);return{start:()=>bn.update(e,!0),stop:()=>Ed(e),now:()=>zi.isProcessing?zi.timestamp:jl.now()}},Sce={decay:P$,inertia:P$,tween:_w,keyframes:_w,spring:rH},Nce=t=>t/100;class hM extends JW{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:a}=this.options,o=i?.KeyframeResolver||dM,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(a,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:a,velocity:o=0}=this.options,l=eM(r)?r:Sce[r]||_w;let c,u;l!==_w&&typeof e[0]!="number"&&(c=ox(Nce,eH(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});a==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=bW(d));const{calculatedDuration:f}=d,g=f+i,v=g*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:g,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:a,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return a.next(0);const{delay:g,repeat:v,repeatType:y,repeatDelay:b,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const j=this.currentTime-g*(this.speed>=0?1:-1),N=this.speed>=0?j<0:j>d;this.currentTime=Math.max(j,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,A=a;if(v){const I=Math.min(this.currentTime,d)/f;let F=Math.floor(I),H=I%1;!H&&I>=1&&(H=1),H===1&&F--,F=Math.min(F,v+1),!!(F%2)&&(y==="reverse"?(H=1-H,b&&(H-=b/f)):y==="mirror"&&(A=o)),C=Yc(0,1,H)*f}const E=N?{done:!1,value:c[0]}:A.next(C);l&&(E.value=l(E.value));let{done:P}=E;!N&&u!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return O&&i!==void 0&&(E.value=g1(c,this.options,i)),_&&_(E.value),O&&this.finish(),E}get duration(){const{resolved:e}=this;return e?$c(e.calculatedDuration):0}get time(){return $c(this.currentTime)}set time(e){e=Lc(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=$c(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=jce,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Cce=new Set(["opacity","clipPath","filter","transform"]);function Ece(t,e,r,{delay:n=0,duration:i=300,repeat:a=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=jW(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:o==="reverse"?"alternate":"normal"})}const Pce=FR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jw=10,kce=2e4;function Ace(t){return eM(t.type)||t.type==="spring"||!_W(t.ease)}function Tce(t,e){const r=new hM({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let a=0;for(;!n.done&&a<kce;)n=r.sample(a),i.push(n.value),a+=jw;return{times:void 0,keyframes:i,duration:a-jw,ease:"linear"}}const iH={anticipate:IW,backInOut:MW,circInOut:LW};function Oce(t){return t in iH}class A$ extends JW{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:a}=this.options;this.resolver=new XW(a,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:a,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof a=="string"&&bw()&&Oce(a)&&(a=iH[a]),Ace(this.options)){const{onComplete:f,onUpdate:g,motionValue:v,element:y,...b}=this.options,_=Tce(e,b);e=_.keyframes,e.length===1&&(e[1]=e[0]),n=_.duration,i=_.times,a=_.ease,o="keyframes"}const d=Ece(l.owner.current,c,e,{...this.options,duration:n,times:i,ease:a});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(p$(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(g1(e,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:o,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return $c(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return $c(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Lc(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return ga;const{animation:n}=r;p$(n,e)}return ga}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:a,ease:o,times:l}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:g,...v}=this.options,y=new hM({...v,keyframes:n,duration:i,type:a,ease:o,times:l,isGenerator:!0}),b=Lc(this.time);u.setWithVelocity(y.sample(b-jw).value,y.sample(b).value,jw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:a,damping:o,type:l}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return Pce()&&n&&Cce.has(n)&&!c&&!u&&!i&&a!=="mirror"&&o!==0&&l!=="inertia"}}const Rce={type:"spring",stiffness:500,damping:25,restSpeed:10},Mce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Ice={type:"keyframes",duration:.8},Dce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lce=(t,{keyframes:e})=>e.length>2?Ice:uh.has(t)?t.startsWith("scale")?Mce(e[1]):Rce:Dce;function $ce({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:a,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const pM=(t,e,r,n={},i,a)=>o=>{const l=QR(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Lc(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:a?void 0:i};$ce(l)||(d={...d,...Lce(t,d)}),d.duration&&(d.duration=Lc(d.duration)),d.repeatDelay&&(d.repeatDelay=Lc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!a&&e.get()!==void 0){const g=g1(d.keyframes,l);if(g!==void 0)return bn.update(()=>{d.onUpdate(g),d.onComplete()}),new nle([])}return!a&&A$.supports(d)?new A$(d):new hM(d)};function Fce({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function sH(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var a;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;n&&(o=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const g=t.getValue(f,(a=t.latestValues[f])!==null&&a!==void 0?a:null),v=c[f];if(v===void 0||d&&Fce(d,f))continue;const y={delay:r,...QR(o||{},f)};let b=!1;if(window.MotionHandoffAnimation){const j=kW(t);if(j){const N=window.MotionHandoffAnimation(j,f,bn);N!==null&&(y.startTime=N,b=!0)}}kA(t,f),g.start(pM(f,g,v,t.shouldReduceMotion&&EW.has(f)?{type:!1}:y,t,b));const _=g.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{bn.update(()=>{l&&vle(t,l)})}),u}function DA(t,e,r={}){var n;const i=m1(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(a=r.transitionOverride);const o=i?()=>Promise.all(sH(t,i,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:g}=a;return Bce(t,e,d+u,f,g,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function Bce(t,e,r=0,n=0,i=1,a){const o=[],l=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(zce).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(DA(u,e,{...a,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function zce(t,e){return t.sortNodePosition(e)}function qce(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(a=>DA(t,a,r));n=Promise.all(i)}else if(typeof e=="string")n=DA(t,e,r);else{const i=typeof e=="function"?m1(t,e,r.custom):e;n=Promise.all(sH(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Uce=zR.length;function aH(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?aH(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Uce;r++){const n=zR[r],i=t.props[n];(Jv(i)||i===!1)&&(e[n]=i)}return e}const Vce=[...BR].reverse(),Wce=BR.length;function Hce(t){return e=>Promise.all(e.map(({animation:r,options:n})=>qce(t,r,n)))}function Kce(t){let e=Hce(t),r=T$(),n=!0;const i=c=>(u,d)=>{var f;const g=m1(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(g){const{transition:v,transitionEnd:y,...b}=g;u={...u,...b,...y}}return u};function a(c){e=c(t)}function o(c){const{props:u}=t,d=aH(t.parent)||{},f=[],g=new Set;let v={},y=1/0;for(let _=0;_<Wce;_++){const j=Vce[_],N=r[j],C=u[j]!==void 0?u[j]:d[j],A=Jv(C),E=j===c?N.isActive:null;E===!1&&(y=_);let P=C===d[j]&&C!==u[j]&&A;if(P&&n&&t.manuallyAnimateOnMount&&(P=!1),N.protectedKeys={...v},!N.isActive&&E===null||!C&&!N.prevProp||h1(C)||typeof C=="boolean")continue;const O=Gce(N.prevProp,C);let I=O||j===c&&N.isActive&&!P&&A||_>y&&A,F=!1;const H=Array.isArray(C)?C:[C];let U=H.reduce(i(j),{});E===!1&&(U={});const{prevResolvedValues:z={}}=N,V={...z,...U},X=W=>{I=!0,g.has(W)&&(F=!0,g.delete(W)),N.needsAnimating[W]=!0;const re=t.getValue(W);re&&(re.liveStyle=!1)};for(const W in V){const re=U[W],G=z[W];if(v.hasOwnProperty(W))continue;let ie=!1;CA(re)&&CA(G)?ie=!xW(re,G):ie=re!==G,ie?re!=null?X(W):g.add(W):re!==void 0&&g.has(W)?X(W):N.protectedKeys[W]=!0}N.prevProp=C,N.prevResolvedValues=U,N.isActive&&(v={...v,...U}),n&&t.blockInitialAnimation&&(I=!1),I&&(!(P&&O)||F)&&f.push(...H.map(W=>({animation:W,options:{type:j}})))}if(g.size){const _={};g.forEach(j=>{const N=t.getBaseTarget(j),C=t.getValue(j);C&&(C.liveStyle=!0),_[j]=N??null}),f.push({animation:_})}let b=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:a,getState:()=>r,reset:()=>{r=T$(),n=!0}}}function Gce(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!xW(e,t):!1}function vf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function T$(){return{animate:vf(!0),whileInView:vf(),whileHover:vf(),whileTap:vf(),whileDrag:vf(),whileFocus:vf(),exit:vf()}}class Id{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Zce extends Id{constructor(e){super(e),e.animationState||(e.animationState=Kce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();h1(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Yce=0;class Xce extends Id{constructor(){super(...arguments),this.id=Yce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Jce={animation:{Feature:Zce},exit:{Feature:Xce}};function ry(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function lx(t){return{point:{x:t.pageX,y:t.pageY}}}const Qce=t=>e=>rM(e)&&t(e,lx(e));function Iv(t,e,r,n){return ry(t,e,Qce(r),n)}const O$=(t,e)=>Math.abs(t-e);function eue(t,e){const r=O$(t.x,e.x),n=O$(t.y,e.y);return Math.sqrt(r**2+n**2)}class oH{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=pN(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=eue(f.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:y}=f,{timestamp:b}=zi;this.history.push({...y,timestamp:b});const{onStart:_,onMove:j}=this.handlers;g||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=hN(g,this.transformPagePoint),bn.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=pN(f.type==="pointercancel"?this.lastMoveEventInfo:hN(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,_),y&&y(f,_)},!rM(e))return;this.dragSnapToOrigin=a,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=lx(e),l=hN(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=zi;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,pN(l,this.history)),this.removeListeners=ox(Iv(this.contextWindow,"pointermove",this.handlePointerMove),Iv(this.contextWindow,"pointerup",this.handlePointerUp),Iv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ed(this.updatePoint)}}function hN(t,e){return e?{point:e(t.point)}:t}function R$(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pN({point:t},e){return{point:t,delta:R$(t,lH(e)),offset:R$(t,tue(e)),velocity:rue(e,.1)}}function tue(t){return t[0]}function lH(t){return t[t.length-1]}function rue(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=lH(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Lc(e)));)r--;if(!n)return{x:0,y:0};const a=$c(i.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const o={x:(i.x-n.x)/a,y:(i.y-n.y)/a};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const cH=1e-4,nue=1-cH,iue=1+cH,uH=.01,sue=0-uH,aue=0+uH;function wa(t){return t.max-t.min}function oue(t,e,r){return Math.abs(t-e)<=r}function M$(t,e,r,n=.5){t.origin=n,t.originPoint=Tn(e.min,e.max,t.origin),t.scale=wa(r)/wa(e),t.translate=Tn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=nue&&t.scale<=iue||isNaN(t.scale))&&(t.scale=1),(t.translate>=sue&&t.translate<=aue||isNaN(t.translate))&&(t.translate=0)}function Dv(t,e,r,n){M$(t.x,e.x,r.x,n?n.originX:void 0),M$(t.y,e.y,r.y,n?n.originY:void 0)}function I$(t,e,r){t.min=r.min+e.min,t.max=t.min+wa(e)}function lue(t,e,r){I$(t.x,e.x,r.x),I$(t.y,e.y,r.y)}function D$(t,e,r){t.min=e.min-r.min,t.max=t.min+wa(e)}function Lv(t,e,r){D$(t.x,e.x,r.x),D$(t.y,e.y,r.y)}function cue(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Tn(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Tn(r,t,n.max):Math.min(t,r)),t}function L$(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function uue(t,{top:e,left:r,bottom:n,right:i}){return{x:L$(t.x,r,i),y:L$(t.y,e,n)}}function $$(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function due(t,e){return{x:$$(t.x,e.x),y:$$(t.y,e.y)}}function fue(t,e){let r=.5;const n=wa(t),i=wa(e);return i>n?r=Yp(e.min,e.max-n,t.min):n>i&&(r=Yp(t.min,t.max-i,e.min)),Yc(0,1,r)}function hue(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const LA=.35;function pue(t=LA){return t===!1?t=0:t===!0&&(t=LA),{x:F$(t,"left","right"),y:F$(t,"top","bottom")}}function F$(t,e,r){return{min:B$(t,e),max:B$(t,r)}}function B$(t,e){return typeof t=="number"?t:t[e]||0}const z$=()=>({translate:0,scale:1,origin:0,originPoint:0}),Rp=()=>({x:z$(),y:z$()}),q$=()=>({min:0,max:0}),Hn=()=>({x:q$(),y:q$()});function Ha(t){return[t("x"),t("y")]}function dH({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function mue({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function gue(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function mN(t){return t===void 0||t===1}function $A({scale:t,scaleX:e,scaleY:r}){return!mN(t)||!mN(e)||!mN(r)}function _f(t){return $A(t)||fH(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function fH(t){return U$(t.x)||U$(t.y)}function U$(t){return t&&t!=="0%"}function Sw(t,e,r){const n=t-r,i=e*n;return r+i}function V$(t,e,r,n,i){return i!==void 0&&(t=Sw(t,i,n)),Sw(t,r,n)+e}function FA(t,e=0,r=1,n,i){t.min=V$(t.min,e,r,n,i),t.max=V$(t.max,e,r,n,i)}function hH(t,{x:e,y:r}){FA(t.x,e.translate,e.scale,e.originPoint),FA(t.y,r.translate,r.scale,r.originPoint)}const W$=.999999999999,H$=1.0000000000001;function vue(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let a,o;for(let l=0;l<i;l++){a=r[l],o=a.projectionDelta;const{visualElement:c}=a.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Ip(t,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,hH(t,o)),n&&_f(a.latestValues)&&Ip(t,a.latestValues))}e.x<H$&&e.x>W$&&(e.x=1),e.y<H$&&e.y>W$&&(e.y=1)}function Mp(t,e){t.min=t.min+e,t.max=t.max+e}function K$(t,e,r,n,i=.5){const a=Tn(t.min,t.max,i);FA(t,e,r,a,n)}function Ip(t,e){K$(t.x,e.x,e.scaleX,e.scale,e.originX),K$(t.y,e.y,e.scaleY,e.scale,e.originY)}function pH(t,e){return dH(gue(t.getBoundingClientRect(),e))}function yue(t,e,r){const n=pH(t,r),{scroll:i}=e;return i&&(Mp(n.x,i.offset.x),Mp(n.y,i.offset.y)),n}const mH=({current:t})=>t?t.ownerDocument.defaultView:null,xue=new WeakMap;class bue{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(lx(d).point)},a=(d,f)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fle(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ha(_=>{let j=this.getAxisMotionValue(_).get()||0;if(_l.test(j)){const{projection:N}=this.visualElement;if(N&&N.layout){const C=N.layout.layoutBox[_];C&&(j=wa(C)*(parseFloat(j)/100))}}this.originPoint[_]=j}),y&&bn.postRender(()=>y(d,f)),kA(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:b}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=f;if(v&&this.currentDirection===null){this.currentDirection=wue(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),b&&b(d,f)},l=(d,f)=>this.stop(d,f),c=()=>Ha(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new oH(e,{onSessionStart:i,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:mH(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&bn.postRender(()=>a(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!tb(e,i,this.currentDirection))return;const a=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=cue(o,this.constraints[e],this.elastic[e])),a.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;r&&Tp(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=uue(i.layoutBox,r):this.constraints=!1,this.elastic=pue(n),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ha(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=hue(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Tp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=yue(n,i.root,this.visualElement.getTransformPagePoint());let o=due(i.layout.layoutBox,a);if(r){const l=r(mue(o));this.hasMutatedConstraints=!!l,l&&(o=dH(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:a,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=Ha(d=>{if(!tb(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:n?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return kA(this.visualElement,e),n.start(pM(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ha(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ha(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ha(r=>{const{drag:n}=this.getProps();if(!tb(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];a.set(e[r]-Tn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Tp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ha(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=fue({min:c,max:c},this.constraints[o])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ha(o=>{if(!tb(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Tn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;xue.set(this.visualElement,this);const e=this.visualElement.current,r=Iv(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Tp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),bn.read(n);const o=ry(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Ha(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),a(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:o=LA,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:a,dragElastic:o,dragMomentum:l}}}function tb(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function wue(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class _ue extends Id{constructor(e){super(e),this.removeGroupControls=ga,this.removeListeners=ga,this.controls=new bue(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ga}unmount(){this.removeGroupControls(),this.removeListeners()}}const G$=t=>(e,r)=>{t&&bn.postRender(()=>t(e,r))};class jue extends Id{constructor(){super(...arguments),this.removePointerDownListener=ga}onPointerDown(e){this.session=new oH(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:G$(e),onStart:G$(r),onMove:n,onEnd:(a,o)=>{delete this.session,i&&bn.postRender(()=>i(a,o))}}}mount(){this.removePointerDownListener=Iv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Qb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Z$(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ut.test(t))t=parseFloat(t);else return t;const r=Z$(t,e.target.x),n=Z$(t,e.target.y);return`${r}% ${n}%`}},Sue={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=Pd.parse(t);if(i.length>5)return n;const a=Pd.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=Tn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),a(i)}};class Nue extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:a}=e;Woe(Cue),a&&(r.group&&r.group.add(a),n&&n.register&&i&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Qb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:a}=this.props,o=n.projection;return o&&(o.isPresent=a,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?o.promote():o.relegate()||bn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),UR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function gH(t){const[e,r]=J7(),n=x.useContext(IR);return s.jsx(Nue,{...t,layoutGroup:n,switchLayoutGroup:x.useContext(aW),isPresent:e,safeToRemove:r})}const Cue={borderRadius:{...Vg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vg,borderTopRightRadius:Vg,borderBottomLeftRadius:Vg,borderBottomRightRadius:Vg,boxShadow:Sue};function Eue(t,e,r){const n=os(t)?t:ey(t);return n.start(pM("",n,e,r)),n.animation}function Pue(t){return t instanceof SVGElement&&t.tagName!=="svg"}const kue=(t,e)=>t.depth-e.depth;class Aue{constructor(){this.children=[],this.isDirty=!1}add(e){nM(this.children,e),this.isDirty=!0}remove(e){iM(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(kue),this.isDirty=!1,this.children.forEach(e)}}function Tue(t,e){const r=jl.now(),n=({timestamp:i})=>{const a=i-r;a>=e&&(Ed(n),t(a-e))};return bn.read(n,!0),()=>Ed(n)}const vH=["TopLeft","TopRight","BottomLeft","BottomRight"],Oue=vH.length,Y$=t=>typeof t=="string"?parseFloat(t):t,X$=t=>typeof t=="number"||Ut.test(t);function Rue(t,e,r,n,i,a){i?(t.opacity=Tn(0,r.opacity!==void 0?r.opacity:1,Mue(n)),t.opacityExit=Tn(e.opacity!==void 0?e.opacity:1,0,Iue(n))):a&&(t.opacity=Tn(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Oue;o++){const l=`border${vH[o]}Radius`;let c=J$(e,l),u=J$(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||X$(c)===X$(u)?(t[l]=Math.max(Tn(Y$(c),Y$(u),n),0),(_l.test(u)||_l.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Tn(e.rotate||0,r.rotate||0,n))}function J$(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Mue=yH(0,.5,DW),Iue=yH(.5,.95,ga);function yH(t,e,r){return n=>n<t?0:n>e?1:r(Yp(t,e,n))}function Q$(t,e){t.min=e.min,t.max=e.max}function za(t,e){Q$(t.x,e.x),Q$(t.y,e.y)}function e3(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function t3(t,e,r,n,i){return t-=e,t=Sw(t,1/r,n),i!==void 0&&(t=Sw(t,1/i,n)),t}function Due(t,e=0,r=1,n=.5,i,a=t,o=t){if(_l.test(e)&&(e=parseFloat(e),e=Tn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Tn(a.min,a.max,n);t===a&&(l-=e),t.min=t3(t.min,e,r,l,i),t.max=t3(t.max,e,r,l,i)}function r3(t,e,[r,n,i],a,o){Due(t,e[r],e[n],e[i],e.scale,a,o)}const Lue=["x","scaleX","originX"],$ue=["y","scaleY","originY"];function n3(t,e,r,n){r3(t.x,e,Lue,r?r.x:void 0,n?n.x:void 0),r3(t.y,e,$ue,r?r.y:void 0,n?n.y:void 0)}function i3(t){return t.translate===0&&t.scale===1}function xH(t){return i3(t.x)&&i3(t.y)}function s3(t,e){return t.min===e.min&&t.max===e.max}function Fue(t,e){return s3(t.x,e.x)&&s3(t.y,e.y)}function a3(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function bH(t,e){return a3(t.x,e.x)&&a3(t.y,e.y)}function o3(t){return wa(t.x)/wa(t.y)}function l3(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Bue{constructor(){this.members=[]}add(e){nM(this.members,e),e.scheduleRender()}remove(e){if(iM(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function zue(t,e,r){let n="";const i=t.x.translate/e.x,a=t.y.translate/e.y,o=r?.z||0;if((i||a||o)&&(n=`translate3d(${i}px, ${a}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:g,skewX:v,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const jf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},bv=typeof window<"u"&&window.MotionDebug!==void 0,gN=["","X","Y","Z"],que={visibility:"hidden"},c3=1e3;let Uue=0;function vN(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function wH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=kW(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:a}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",bn,!(i||a))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&wH(n)}function _H({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=Uue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,bv&&(jf.totalNodes=jf.resolvedTargetDeltas=jf.recalculatedProjection=0),this.nodes.forEach(Hue),this.nodes.forEach(Xue),this.nodes.forEach(Jue),this.nodes.forEach(Kue),bv&&window.MotionDebug.record(jf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Aue)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new sM),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Pue(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=Tue(g,250),Qb.hasAnimatedSinceResize&&(Qb.hasAnimatedSinceResize=!1,this.nodes.forEach(d3))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||d.getDefaultTransition()||nde,{onLayoutAnimationStart:_,onLayoutAnimationComplete:j}=d.getProps(),N=!this.targetLayout||!bH(this.targetLayout,y)||v,C=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,C);const A={...QR(b,"layout"),onPlay:_,onComplete:j};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else g||d3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ed(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Que),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&wH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(u3);return}this.isUpdating||this.nodes.forEach(Zue),this.isUpdating=!1,this.nodes.forEach(Yue),this.nodes.forEach(Vue),this.nodes.forEach(Wue),this.clearAllSnapshots();const l=jl.now();zi.delta=Yc(0,1e3/60,l-zi.timestamp),zi.timestamp=l,zi.isProcessing=!0,oN.update.process(zi),oN.preRender.process(zi),oN.render.process(zi),zi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,UR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Gue),this.sharedNodes.forEach(ede)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,bn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){bn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!xH(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||_f(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ide(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return Hn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(sde))){const{scroll:d}=this.root;d&&(Mp(c.x,d.offset.x),Mp(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=Hn();if(za(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:g}=d;d!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&za(c,o),Mp(c.x,f.offset.x),Mp(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=Hn();za(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Ip(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),_f(d.latestValues)&&Ip(c,d.latestValues)}return _f(this.latestValues)&&Ip(c,this.latestValues),c}removeTransform(o){const l=Hn();za(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!_f(u.latestValues))continue;$A(u.latestValues)&&u.updateSnapshot();const d=Hn(),f=u.measurePageBox();za(d,f),n3(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return _f(this.latestValues)&&n3(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==zi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=zi.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Lv(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),lue(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):za(this.target,this.layout.layoutBox),hH(this.target,this.targetDelta)):za(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),Lv(this.relativeTargetOrigin,this.target,v.target),za(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}bv&&jf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||$A(this.parent.latestValues)||fH(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===zi.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;za(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;vue(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Hn());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(e3(this.prevProjectionDelta.x,this.projectionDelta.x),e3(this.prevProjectionDelta.y,this.projectionDelta.y)),Dv(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!l3(this.projectionDelta.x,this.prevProjectionDelta.x)||!l3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),bv&&jf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Rp(),this.projectionDelta=Rp(),this.projectionDeltaWithTransform=Rp()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=Rp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Hn(),v=c?c.source:void 0,y=this.layout?this.layout.source:void 0,b=v!==y,_=this.getStack(),j=!_||_.members.length<=1,N=!!(b&&!j&&this.options.crossfade===!0&&!this.path.some(rde));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const E=A/1e3;f3(f.x,o.x,E),f3(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lv(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),tde(this.relativeTarget,this.relativeTargetOrigin,g,E),C&&Fue(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=Hn()),za(C,this.relativeTarget)),b&&(this.animationValues=d,Rue(d,u,this.latestValues,E,N,j)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ed(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=bn.update(()=>{Qb.hasAnimatedSinceResize=!0,this.currentAnimation=Eue(0,c3,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(c3),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&jH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Hn();const f=wa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const g=wa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}za(l,c),Ip(l,d),Dv(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Bue),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&vN("z",o,u,this.animationValues);for(let d=0;d<gN.length;d++)vN(`rotate${gN[d]}`,o,u,this.animationValues),vN(`skew${gN[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return que;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Xb(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=Xb(o?.pointerEvents)||""),this.hasProjected&&!_f(this.latestValues)&&(b.transform=d?d({},""):"none",this.hasProjected=!1),b}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=zue(this.projectionDeltaWithTransform,this.treeScale,g),d&&(u.transform=d(g,u.transform));const{x:v,y}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const b in xw){if(g[b]===void 0)continue;const{correct:_,applyTo:j}=xw[b],N=u.transform==="none"?g[b]:_(g[b],f);if(j){const C=j.length;for(let A=0;A<C;A++)u[j[A]]=N}else u[b]=N}return this.options.layoutId&&(u.pointerEvents=f===this?Xb(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(u3),this.root.sharedNodes.clear()}}}function Vue(t){t.updateLayout()}function Wue(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:a}=t.options,o=r.source!==t.layout.source;a==="size"?Ha(f=>{const g=o?r.measuredBox[f]:r.layoutBox[f],v=wa(g);g.min=n[f].min,g.max=g.min+v}):jH(a,r.layoutBox,n)&&Ha(f=>{const g=o?r.measuredBox[f]:r.layoutBox[f],v=wa(n[f]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const l=Rp();Dv(l,n,r.layoutBox);const c=Rp();o?Dv(c,t.applyTransform(i,!0),r.measuredBox):Dv(c,n,r.layoutBox);const u=!xH(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:v}=f;if(g&&v){const y=Hn();Lv(y,r.layoutBox,g.layoutBox);const b=Hn();Lv(b,n,v.layoutBox),bH(y,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Hue(t){bv&&jf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Gue(t){t.clearSnapshot()}function u3(t){t.clearMeasurements()}function Zue(t){t.isLayoutDirty=!1}function Yue(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function d3(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Xue(t){t.resolveTargetDelta()}function Jue(t){t.calcProjection()}function Que(t){t.resetSkewAndRotation()}function ede(t){t.removeLeadSnapshot()}function f3(t,e,r){t.translate=Tn(e.translate,0,r),t.scale=Tn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function h3(t,e,r,n){t.min=Tn(e.min,r.min,n),t.max=Tn(e.max,r.max,n)}function tde(t,e,r,n){h3(t.x,e.x,r.x,n),h3(t.y,e.y,r.y,n)}function rde(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const nde={duration:.45,ease:[.4,0,.1,1]},p3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),m3=p3("applewebkit/")&&!p3("chrome/")?Math.round:ga;function g3(t){t.min=m3(t.min),t.max=m3(t.max)}function ide(t){g3(t.x),g3(t.y)}function jH(t,e,r){return t==="position"||t==="preserve-aspect"&&!oue(o3(e),o3(r),.2)}function sde(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const ade=_H({attachResizeListener:(t,e)=>ry(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),yN={current:void 0},SH=_H({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!yN.current){const t=new ade({});t.mount(window),t.setOptions({layoutScroll:!0}),yN.current=t}return yN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ode={pan:{Feature:jue},drag:{Feature:_ue,ProjectionNode:SH,MeasureLayout:gH}};function v3(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,a=n[i];a&&bn.postRender(()=>a(e,lx(e)))}class lde extends Id{mount(){const{current:e}=this.node;e&&(this.unmount=ole(e,r=>(v3(this.node,r,"Start"),n=>v3(this.node,n,"End"))))}unmount(){}}class cde extends Id{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ox(ry(this.node.current,"focus",()=>this.onFocus()),ry(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function y3(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),a=n[i];a&&bn.postRender(()=>a(e,lx(e)))}class ude extends Id{mount(){const{current:e}=this.node;e&&(this.unmount=dle(e,r=>(y3(this.node,r,"Start"),(n,{success:i})=>y3(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const BA=new WeakMap,xN=new WeakMap,dde=t=>{const e=BA.get(t.target);e&&e(t)},fde=t=>{t.forEach(dde)};function hde({root:t,...e}){const r=t||document;xN.has(r)||xN.set(r,{});const n=xN.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(fde,{root:t,...e})),n[i]}function pde(t,e,r){const n=hde(e);return BA.set(t,r),n.observe(t),()=>{BA.delete(t),n.unobserve(t)}}const mde={some:0,all:1};class gde extends Id{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:a}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:mde[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),g=u?d:f;g&&g(c)};return pde(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(vde(e,r))&&this.startObserver()}unmount(){}}function vde({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const yde={inView:{Feature:gde},tap:{Feature:ude},focus:{Feature:cde},hover:{Feature:lde}},xde={layout:{ProjectionNode:SH,MeasureLayout:gH}},zA={current:null},NH={current:!1};function bde(){if(NH.current=!0,!!$R)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>zA.current=t.matches;t.addListener(e),e()}else zA.current=!1}const wde=[...YW,rs,Pd],_de=t=>wde.find(ZW(t)),x3=new WeakMap;function jde(t,e,r){for(const n in e){const i=e[n],a=r[n];if(os(i))t.addValue(n,i);else if(os(a))t.addValue(n,ey(i,{owner:t}));else if(a!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,ey(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const b3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Sde{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:a,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=dM,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=jl.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,bn.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!a,this.isControllingVariants=p1(r),this.isVariantNode=iW(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const y=g[v];c[v]!==void 0&&os(y)&&y.set(c[v],!1)}}mount(e){this.current=e,x3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),NH.current||bde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:zA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){x3.delete(this.current),this.projection&&this.projection.unmount(),Ed(this.notifyUpdate),Ed(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=uh.has(e),i=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&bn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),a(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Xp){const r=Xp[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<b3.length;n++){const i=b3[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a="on"+i,o=e[a];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=jde(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=ey(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(KW(i)||$W(i))?i=parseFloat(i):!_de(i)&&Pd.test(r)&&(i=VW(e,r)),this.setBaseTarget(e,os(i)?i.get():i)),os(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=WR(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!os(a)?a:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new sM),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class CH extends Sde{constructor(){super(...arguments),this.KeyframeResolver=XW}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;os(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Nde(t){return window.getComputedStyle(t)}class Cde extends CH{constructor(){super(...arguments),this.type="html",this.renderInstance=hW}readValueFromInstance(e,r){if(uh.has(r)){const n=uM(r);return n&&n.default||0}else{const n=Nde(e),i=(uW(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return pH(e,r)}build(e,r,n){GR(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return JR(e,r,n)}}class Ede extends CH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(uh.has(r)){const n=uM(r);return n&&n.default||0}return r=pW.has(r)?r:qR(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return vW(e,r,n)}build(e,r,n){ZR(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){mW(e,r,n,i)}mount(e){this.isSVGTag=XR(e.tagName),super.mount(e)}}const Pde=(t,e)=>VR(t)?new Ede(e):new Cde(e,{allowProjection:t!==x.Fragment}),kde=ele({...Jce,...yde,...ode,...xde},Pde),Re=moe(kde),Ade=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ix(async()=>{const{default:n}=await Promise.resolve().then(()=>qm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class mM extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Tde extends mM{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class w3 extends mM{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class _3 extends mM{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qA;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qA||(qA={}));var Ode=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Rde{constructor(e,{headers:r={},customFetch:n,region:i=qA.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=Ade(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Ode(this,void 0,void 0,function*(){try{const{headers:i,method:a,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(b=>{throw new Tde(b)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new w3(f);if(!f.ok)throw new _3(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield f.json():v==="application/octet-stream"?y=yield f.blob():v==="text/event-stream"?y=f:v==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof _3||i instanceof w3?i.context:void 0}}})}}var Pi={},tp={},rp={},np={},ip={},sp={},Mde=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qp=Mde();const Ide=Qp.fetch,EH=Qp.fetch.bind(Qp),PH=Qp.Headers,Dde=Qp.Request,Lde=Qp.Response,qm=Object.freeze(Object.defineProperty({__proto__:null,Headers:PH,Request:Dde,Response:Lde,default:EH,fetch:Ide},Symbol.toStringTag,{value:"Module"})),$de=x7(qm);var rb={},j3;function kH(){if(j3)return rb;j3=1,Object.defineProperty(rb,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return rb.default=t,rb}var S3;function AH(){if(S3)return sp;S3=1;var t=sp&&sp.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(sp,"__esModule",{value:!0});const e=t($de),r=t(kH());class n{constructor(a){this.shouldThrowOnError=!1,this.method=a.method,this.url=a.url,this.headers=a.headers,this.schema=a.schema,this.body=a.body,this.shouldThrowOnError=a.shouldThrowOnError,this.signal=a.signal,this.isMaybeSingle=a.isMaybeSingle,a.fetch?this.fetch=a.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(a,o){return this.headers=Object.assign({},this.headers),this.headers[a]=o,this}then(a,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,g;let v=null,y=null,b=null,_=u.status,j=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=E:y=JSON.parse(E))}const C=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),A=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");C&&A&&A.length>1&&(b=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,b=null,_=406,j="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const C=await u.text();try{v=JSON.parse(C),Array.isArray(v)&&u.status===404&&(y=[],v=null,_=200,j="OK")}catch{u.status===404&&C===""?(_=204,j="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,_=200,j="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:y,count:b,status:_,statusText:j}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,g;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(a,o)}returns(){return this}overrideTypes(){return this}}return sp.default=n,sp}var N3;function TH(){if(N3)return ip;N3=1;var t=ip&&ip.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ip,"__esModule",{value:!0});const e=t(AH());class r extends e.default{select(i){let a=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:a=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${a?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,a,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${a-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:a=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,a?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${f};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return ip.default=r,ip}var C3;function gM(){if(C3)return np;C3=1;var t=np&&np.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(np,"__esModule",{value:!0});const e=t(TH());class r extends e.default{eq(i,a){return this.url.searchParams.append(i,`eq.${a}`),this}neq(i,a){return this.url.searchParams.append(i,`neq.${a}`),this}gt(i,a){return this.url.searchParams.append(i,`gt.${a}`),this}gte(i,a){return this.url.searchParams.append(i,`gte.${a}`),this}lt(i,a){return this.url.searchParams.append(i,`lt.${a}`),this}lte(i,a){return this.url.searchParams.append(i,`lte.${a}`),this}like(i,a){return this.url.searchParams.append(i,`like.${a}`),this}likeAllOf(i,a){return this.url.searchParams.append(i,`like(all).{${a.join(",")}}`),this}likeAnyOf(i,a){return this.url.searchParams.append(i,`like(any).{${a.join(",")}}`),this}ilike(i,a){return this.url.searchParams.append(i,`ilike.${a}`),this}ilikeAllOf(i,a){return this.url.searchParams.append(i,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(i,a){return this.url.searchParams.append(i,`ilike(any).{${a.join(",")}}`),this}is(i,a){return this.url.searchParams.append(i,`is.${a}`),this}in(i,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cs.{${a.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(a)}`),this}containedBy(i,a){return typeof a=="string"?this.url.searchParams.append(i,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(i,`cd.{${a.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(a)}`),this}rangeGt(i,a){return this.url.searchParams.append(i,`sr.${a}`),this}rangeGte(i,a){return this.url.searchParams.append(i,`nxl.${a}`),this}rangeLt(i,a){return this.url.searchParams.append(i,`sl.${a}`),this}rangeLte(i,a){return this.url.searchParams.append(i,`nxr.${a}`),this}rangeAdjacent(i,a){return this.url.searchParams.append(i,`adj.${a}`),this}overlaps(i,a){return typeof a=="string"?this.url.searchParams.append(i,`ov.${a}`):this.url.searchParams.append(i,`ov.{${a.join(",")}}`),this}textSearch(i,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${u}.${a}`),this}match(i){return Object.entries(i).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(i,a,o){return this.url.searchParams.append(i,`not.${a}.${o}`),this}or(i,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,a,o){return this.url.searchParams.append(i,`${a}.${o}`),this}}return np.default=r,np}var E3;function OH(){if(E3)return rp;E3=1;var t=rp&&rp.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rp,"__esModule",{value:!0});const e=t(gM());class r{constructor(i,{headers:a={},schema:o,fetch:l}){this.url=i,this.headers=a,this.schema=o,this.fetch=l}select(i,{head:a=!1,count:o}={}){const l=a?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:a,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),a&&c.push(`count=${a}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:a,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const f=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:a}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const a="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return rp.default=r,rp}var Wg={},Hg={},P3;function Fde(){return P3||(P3=1,Object.defineProperty(Hg,"__esModule",{value:!0}),Hg.version=void 0,Hg.version="0.0.0-automated"),Hg}var k3;function Bde(){if(k3)return Wg;k3=1,Object.defineProperty(Wg,"__esModule",{value:!0}),Wg.DEFAULT_HEADERS=void 0;const t=Fde();return Wg.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Wg}var A3;function zde(){if(A3)return tp;A3=1;var t=tp&&tp.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(tp,"__esModule",{value:!0});const e=t(OH()),r=t(gM()),n=Bde();class i{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:d}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let v;c||u?(f=c?"HEAD":"GET",Object.entries(l).filter(([b,_])=>_!==void 0).map(([b,_])=>[b,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([b,_])=>{g.searchParams.append(b,_)})):(f="POST",v=l);const y=Object.assign({},this.headers);return d&&(y.Prefer=`count=${d}`),new r.default({method:f,url:g,headers:y,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return tp.default=i,tp}var T3;function qde(){if(T3)return Pi;T3=1;var t=Pi&&Pi.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Pi,"__esModule",{value:!0}),Pi.PostgrestError=Pi.PostgrestBuilder=Pi.PostgrestTransformBuilder=Pi.PostgrestFilterBuilder=Pi.PostgrestQueryBuilder=Pi.PostgrestClient=void 0;const e=t(zde());Pi.PostgrestClient=e.default;const r=t(OH());Pi.PostgrestQueryBuilder=r.default;const n=t(gM());Pi.PostgrestFilterBuilder=n.default;const i=t(TH());Pi.PostgrestTransformBuilder=i.default;const a=t(AH());Pi.PostgrestBuilder=a.default;const o=t(kH());return Pi.PostgrestError=o.default,Pi.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:a.default,PostgrestError:o.default},Pi}var Ude=qde();const Vde=Er(Ude),{PostgrestClient:Wde,PostgrestQueryBuilder:J7e,PostgrestFilterBuilder:Q7e,PostgrestTransformBuilder:eWe,PostgrestBuilder:tWe,PostgrestError:rWe}=Vde;function Hde(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Kde=Hde(),Gde="2.11.15",Zde=`realtime-js/${Gde}`,Yde="1.0.0",RH=1e4,Xde=1e3;var $v;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})($v||($v={}));var ts;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ts||(ts={}));var Eo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Eo||(Eo={}));var UA;(function(t){t.websocket="websocket"})(UA||(UA={}));var Pf;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Pf||(Pf={}));class Jde{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),a=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+a));o=o+a;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class MH{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var cn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(cn||(cn={}));const O3=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((a,o)=>(a[o]=Qde(o,t,e,i),a),{})},Qde=(t,e,r,n)=>{const i=e.find(l=>l.name===t),a=i?.type,o=r[t];return a&&!n.includes(a)?IH(a,o):VA(o)},IH=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return nfe(e,r)}switch(t){case cn.bool:return efe(e);case cn.float4:case cn.float8:case cn.int2:case cn.int4:case cn.int8:case cn.numeric:case cn.oid:return tfe(e);case cn.json:case cn.jsonb:return rfe(e);case cn.timestamp:return ife(e);case cn.abstime:case cn.date:case cn.daterange:case cn.int4range:case cn.int8range:case cn.money:case cn.reltime:case cn.text:case cn.time:case cn.timestamptz:case cn.timetz:case cn.tsrange:case cn.tstzrange:return VA(e);default:return VA(e)}},VA=t=>t,efe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},tfe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},rfe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},nfe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let a;const o=t.slice(1,r);try{a=JSON.parse("["+o+"]")}catch{a=o?o.split(","):[]}return a.map(l=>IH(e,l))}return t},ife=t=>typeof t=="string"?t.replace(" ","T"):t,DH=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class bN{constructor(e,r,n={},i=RH){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var R3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(R3||(R3={}));class Fv{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fv.syncState(this.state,i,a,o),this.pendingDiffs.forEach(c=>{this.state=Fv.syncDiff(this.state,c,a,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:a,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Fv.syncDiff(this.state,i,a,o),l())}),this.onJoin((i,a,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:a,newPresences:o})}),this.onLeave((i,a,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:a,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const a=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=a[u];if(f){const g=d.map(_=>_.presence_ref),v=f.map(_=>_.presence_ref),y=d.filter(_=>v.indexOf(_.presence_ref)<0),b=f.filter(_=>g.indexOf(_.presence_ref)<0);y.length>0&&(l[u]=y),b.length>0&&(c[u]=b)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:a,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(v=>v.presence_ref),g=d.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...g)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var M3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(M3||(M3={}));var I3;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(I3||(I3={}));var kc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(kc||(kc={}));class vM{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=ts.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new bN(this,Eo.join,this.params,this.timeout),this.rejoinTimer=new MH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ts.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ts.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ts.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ts.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Eo.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Fv(this),this.broadcastEndpointURL=DH(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ts.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params;this._onError(d=>e?.(kc.CHANNEL_ERROR,d)),this._onClose(()=>e?.(kc.CLOSED));const c={},u={broadcast:a,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e?.(kc.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(f=g?.length)!==null&&f!==void 0?f:0,y=[];for(let b=0;b<v;b++){const _=g[b],{filter:{event:j,schema:N,table:C,filter:A}}=_,E=d&&d[b];if(E&&E.event===j&&E.schema===N&&E.table===C&&E.filter===A)y.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=ts.errored,e?.(kc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(kc.SUBSCRIBED);return}}).receive("error",d=>{this.state=ts.errored,e?.(kc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(kc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ts.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Eo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new bN(this,Eo.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,a=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(a),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new bN(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,a;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Eo;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var y,b,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(b=v.filter)===null||b===void 0?void 0:b.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(a=this.bindings[o])===null||a===void 0||a.filter(v=>{var y,b,_,j,N,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const A=v.id,E=(y=v.filter)===null||y===void 0?void 0:y.event;return A&&((b=r.ids)===null||b===void 0?void 0:b.includes(A))&&(E==="*"||E?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(N=(j=v?.filter)===null||j===void 0?void 0:j.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:b,table:_,commit_timestamp:j,type:N,errors:C}=y;g=Object.assign(Object.assign({},{schema:b,table:_,commit_timestamp:j,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(y))}v.callback(g,n)})}_isClosed(){return this.state===ts.closed}_isJoined(){return this.state===ts.joined}_isJoining(){return this.state===ts.joining}_isLeaving(){return this.state===ts.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),a={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(a):this.bindings[i]=[a],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var a;return!(((a=i.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&vM.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Eo.close,{},e)}_onError(e){this._on(Eo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ts.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=O3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=O3(e.columns,e.old_record)),r}}const D3=()=>{},sfe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class afe{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=RH,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=D3,this.ref=0,this.logger=D3,this.conn=null,this.sendBuffer=[],this.serializer=new Jde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=a=>{let o;return a?o=a:typeof fetch>"u"?o=(...l)=>ix(async()=>{const{default:c}=await Promise.resolve().then(()=>qm);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${UA.websocket}`,this.httpEndpoint=DH(e),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:a=>[1e3,2e3,5e3,1e4][a-1]||1e4,this.encode=r?.encode?r.encode:(a,o)=>o(JSON.stringify(a)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new MH(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Kde),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yde}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case $v.connecting:return Pf.Connecting;case $v.open:return Pf.Open;case $v.closing:return Pf.Closing;default:return Pf.Closed}}isConnected(){return this.connectionState()===Pf.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(a=>a.topic===n);if(i)return i;{const a=new vM(`realtime:${e}`,r,this);return this.channels.push(a),a}}push(e){const{topic:r,event:n,payload:i,ref:a}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Zde};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Eo.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Xde,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:a,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${a.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,a),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,a,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Eo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([sfe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class yM extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ki(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ofe extends yM{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class WA extends yM{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var lfe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const LH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ix(async()=>{const{default:n}=await Promise.resolve().then(()=>qm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},cfe=()=>lfe(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ix(()=>Promise.resolve().then(()=>qm),void 0)).Response:Response}),HA=t=>{if(Array.isArray(t))return t.map(r=>HA(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[i]=HA(n)}),e},ufe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var dh=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const wN=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dfe=(t,e,r)=>dh(void 0,void 0,void 0,function*(){const n=yield cfe();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const a=t.status||500,o=i?.statusCode||a+"";e(new ofe(wN(i),a,o))}).catch(i=>{e(new WA(wN(i),i))}):e(new WA(wN(t),t))}),ffe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(ufe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function cx(t,e,r,n,i,a){return dh(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,ffe(e,n,i,a)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>dfe(c,l,n))})})}function Nw(t,e,r,n){return dh(this,void 0,void 0,function*(){return cx(t,"GET",e,r,n)})}function Ac(t,e,r,n,i){return dh(this,void 0,void 0,function*(){return cx(t,"POST",e,n,i,r)})}function KA(t,e,r,n,i){return dh(this,void 0,void 0,function*(){return cx(t,"PUT",e,n,i,r)})}function hfe(t,e,r,n){return dh(this,void 0,void 0,function*(){return cx(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function $H(t,e,r,n,i){return dh(this,void 0,void 0,function*(){return cx(t,"DELETE",e,n,i,r)})}var $s=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const pfe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},L3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class mfe{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=LH(i)}uploadOrUpdate(e,r,n,i){return $s(this,void 0,void 0,function*(){try{let a;const o=Object.assign(Object.assign({},L3),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?KA:Ac)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(ki(a))return{data:null,error:a};throw a}})}upload(e,r,n){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return $s(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),o=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:L3.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield KA(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(ki(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return $s(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const a=yield Ac(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+a.url),l=o.searchParams.get("token");if(!l)throw new yM("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}update(e,r,n){return $s(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return $s(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ki(i))return{data:null,error:i};throw i}})}copy(e,r,n){return $s(this,void 0,void 0,function*(){try{return{data:{path:(yield Ac(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ki(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return $s(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),a=yield Ac(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${o}`)},{data:a,error:null}}catch(i){if(ki(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return $s(this,void 0,void 0,function*(){try{const i=yield Ac(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${a}`):null})),error:null}}catch(i){if(ki(i))return{data:null,error:i};throw i}})}download(e,r){return $s(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString(r?.transform||{}),o=a?`?${a}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Nw(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ki(l))return{data:null,error:l};throw l}})}info(e){return $s(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Nw(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:HA(n),error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}exists(e){return $s(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield hfe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ki(n)&&n instanceof WA){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],a=r?.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&i.push(a);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return $s(this,void 0,void 0,function*(){try{return{data:yield $H(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}list(e,r,n){return $s(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pfe),r),{prefix:e||""});return{data:yield Ac(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ki(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gfe="2.10.4",vfe={"X-Client-Info":`storage-js/${gfe}`};var ap=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class yfe{constructor(e,r={},n,i){const a=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},vfe),r),this.fetch=LH(n)}listBuckets(){return ap(this,void 0,void 0,function*(){try{return{data:yield Nw(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ki(e))return{data:null,error:e};throw e}})}getBucket(e){return ap(this,void 0,void 0,function*(){try{return{data:yield Nw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return ap(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return ap(this,void 0,void 0,function*(){try{return{data:yield KA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ki(n))return{data:null,error:n};throw n}})}emptyBucket(e){return ap(this,void 0,void 0,function*(){try{return{data:yield Ac(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}deleteBucket(e){return ap(this,void 0,void 0,function*(){try{return{data:yield $H(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ki(r))return{data:null,error:r};throw r}})}}class xfe extends yfe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new mfe(this.url,this.headers,e,this.fetch)}}const bfe="2.53.0";let wv="";typeof Deno<"u"?wv="deno":typeof document<"u"?wv="web":typeof navigator<"u"&&navigator.product==="ReactNative"?wv="react-native":wv="node";const wfe={"X-Client-Info":`supabase-js-${wv}/${bfe}`},_fe={headers:wfe},jfe={schema:"public"},Sfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Nfe={};var Cfe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Efe=t=>{let e;return t?e=t:typeof fetch>"u"?e=EH:e=fetch,(...r)=>e(...r)},Pfe=()=>typeof Headers>"u"?PH:Headers,kfe=(t,e,r)=>{const n=Efe(r),i=Pfe();return(a,o)=>Cfe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},o),{headers:u}))})};var Afe=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function Tfe(t){return t.endsWith("/")?t:t+"/"}function Ofe(t,e){var r,n;const{db:i,auth:a,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Afe(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const FH="2.71.1",Ep=30*1e3,GA=3,_N=GA*Ep,Rfe="http://localhost:9999",Mfe="supabase.auth.token",Ife={"X-Client-Info":`gotrue-js/${FH}`},ZA="X-Supabase-Api-Version",BH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Lfe=10*60*1e3;class xM extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function sr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class $fe extends xM{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ffe(t){return sr(t)&&t.name==="AuthApiError"}class zH extends xM{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Dd extends xM{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class ed extends Dd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Bfe(t){return sr(t)&&t.name==="AuthSessionMissingError"}class nb extends Dd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ib extends Dd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class sb extends Dd{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zfe(t){return sr(t)&&t.name==="AuthImplicitGrantRedirectError"}class $3 extends Dd{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class YA extends Dd{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function jN(t){return sr(t)&&t.name==="AuthRetryableFetchError"}class F3 extends Dd{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class XA extends Dd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Cw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),B3=` 	
\r=`.split(""),qfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<B3.length;e+=1)t[B3[e].charCodeAt(0)]=-2;for(let e=0;e<Cw.length;e+=1)t[Cw[e].charCodeAt(0)]=e;return t})();function z3(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cw[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Cw[n]),e.queuedBits-=6}}function qH(t,e,r){const n=qfe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function q3(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},a=o=>{Wfe(o,n,r)};for(let o=0;o<t.length;o+=1)qH(t.charCodeAt(o),i,a);return e.join("")}function Ufe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Vfe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Ufe(n,e)}}function Wfe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Hfe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)qH(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Kfe(t){const e=[];return Vfe(t,r=>e.push(r)),new Uint8Array(e)}function Gfe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>z3(i,r,n)),z3(null,r,n),e.join("")}function Zfe(t){return Math.round(Date.now()/1e3)+t}function Yfe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const So=()=>typeof window<"u"&&typeof document<"u",yf={tested:!1,writable:!1},UH=()=>{if(!So())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(yf.tested)return yf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),yf.tested=!0,yf.writable=!0}catch{yf.tested=!0,yf.writable=!1}return yf.writable};function Xfe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,a)=>{e[a]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const VH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>ix(async()=>{const{default:n}=await Promise.resolve().then(()=>qm);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Jfe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},xf=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ku=async(t,e)=>{await t.removeItem(e)};class v1{constructor(){this.promise=new v1.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}v1.promiseConstructor=Promise;function SN(t){const e=t.split(".");if(e.length!==3)throw new XA("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Dfe.test(e[n]))throw new XA("JWT not in base64url format");return{header:JSON.parse(q3(e[0])),payload:JSON.parse(q3(e[1])),signature:Hfe(e[2]),raw:{header:e[0],payload:e[1]}}}async function Qfe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ehe(t,e){return new Promise((n,i)=>{(async()=>{for(let a=0;a<1/0;a++)try{const o=await t(a);if(!e(a,null,o)){n(o);return}}catch(o){if(!e(a,o)){i(o);return}}})()})}function the(t){return("0"+t.toString(16)).substr(-2)}function rhe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let a=0;a<56;a++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,the).join("")}async function nhe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(a=>String.fromCharCode(a)).join("")}async function ihe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await nhe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function op(t,e,r=!1){const n=rhe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Pp(t,`${e}-code-verifier`,i);const a=await ihe(n);return[a,n===a?"plain":"s256"]}const she=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ahe(t){const e=t.headers.get(ZA);if(!e||!e.match(she))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ohe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lhe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const che=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function lp(t){if(!che.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function NN(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function U3(t){return JSON.parse(JSON.stringify(t))}var uhe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const Sf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dhe=[502,503,504];async function V3(t){var e;if(!Jfe(t))throw new YA(Sf(t),0);if(dhe.includes(t.status))throw new YA(Sf(t),t.status);let r;try{r=await t.json()}catch(a){throw new zH(Sf(a),a)}let n;const i=ahe(t);if(i&&i.getTime()>=BH["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new F3(Sf(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new ed}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0))throw new F3(Sf(r),t.status,r.weak_password.reasons);throw new $fe(Sf(r),t.status||500,n)}const fhe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function yr(t,e,r,n){var i;const a=Object.assign({},n?.headers);a[ZA]||(a[ZA]=BH["2024-01-01"].name),n?.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await hhe(t,e,r+l,{headers:a,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function hhe(t,e,r,n,i,a){const o=fhe(e,n,i,a);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new YA(Sf(c),0)}if(l.ok||await V3(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await V3(c)}}function Cc(t){var e;let r=null;vhe(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Zfe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function W3(t){const e=Cc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ld(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function phe(t){return{data:t,error:null}}function mhe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a}=t,o=uhe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:a},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ghe(t){return t}function vhe(t){return t.access_token&&t.refresh_token&&t.expires_in}const CN=["global","local","others"];var yhe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class xhe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=VH(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=CN[0]){if(CN.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${CN.join(", ")}`);try{return await yr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await yr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ld})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=yhe(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await yr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:mhe,redirectTo:r?.redirectTo})}catch(r){if(sr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await yr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ld})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,a,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await yr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&a!==void 0?a:""},xform:ghe});if(d.error)throw d.error;const f=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(sr(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){lp(e);try{return await yr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ld})}catch(r){if(sr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){lp(e);try{return await yr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ld})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){lp(e);try{return await yr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ld})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){lp(e.userId);try{const{data:r,error:n}=await yr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){lp(e.userId),lp(e.id);try{return{data:await yr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}}function H3(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function bhe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const cp={debug:!!(globalThis&&UH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class WH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class whe extends WH{}async function _he(t,e,r){cp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),cp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){cp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{cp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw cp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new whe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(cp.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}bhe();const jhe={url:Rfe,storageKey:Mfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ife,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function K3(t,e,r){return await r()}const up={};class ny{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ny.nextInstanceID,ny.nextInstanceID+=1,this.instanceID>0&&So()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},jhe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new xhe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=VH(i.fetch),this.lock=i.lock||K3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:So()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=_he:this.lock=K3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:UH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=H3(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=H3(this.memoryStorage)),So()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=up[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){up[this.storageKey]=Object.assign(Object.assign({},up[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=up[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){up[this.storageKey]=Object.assign(Object.assign({},up[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${FH}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Xfe(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),So()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zfe(a)){const c=(e=a.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return sr(r)?{error:r}:{error:new zH("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const a=await yr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Cc}),{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(sr(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var r,n,i;try{let a;if("email"in e){const{email:d,password:f,options:g}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await op(this.storage,this.storageKey)),a=await yr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:f,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:y},xform:Cc})}else if("phone"in e){const{phone:d,password:f,options:g}=e;a=await yr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:Cc})}else throw new ib("You must provide either an email or phone number and a password");const{data:o,error:l}=a;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(sr(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let r;if("email"in e){const{email:a,password:o,options:l}=e;r=await yr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:W3})}else if("phone"in e){const{phone:a,password:o,options:l}=e;r=await yr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:W3})}else throw new ib("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new nb}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,a,o,l,c,u,d,f,g,v;let y,b;if("message"in e)y=e.message,b=e.signature;else{const{chain:_,wallet:j,statement:N,options:C}=e;let A;if(So())if(typeof j=="object")A=j;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))A=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=j}const E=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const P=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),N?{statement:N}:null));let O;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")O=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)O=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),b=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((f=(d=C?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...C.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const P=await A.signMessage(new TextEncoder().encode(y),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=P}}try{const{data:_,error:j}=await yr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Gfe(b)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Cc});if(j)throw j;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new nb}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:j})}catch(_){if(sr(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await xf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:a,error:o}=await yr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Cc});if(await Ku(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new nb}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:i??null}),error:o})}catch(a){if(sr(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:a,nonce:o}=e,l=await yr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:a,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Cc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new nb}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,a,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await op(this.storage,this.storageKey));const{error:f}=await yr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await yr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(a=c?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new ib("You must provide either an email or phone number.")}catch(l){if(sr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,a;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,a=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await yr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:i,xform:Cc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(sr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let a=null,o=null;return this.flowType==="pkce"&&([a,o]=await op(this.storage,this.storageKey)),await yr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:o}),headers:this.headers,xform:phe})}catch(a){if(sr(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new ed;const{error:i}=await yr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(sr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:a}=e,{error:o}=await yr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:a}=e,{data:o,error:l}=await yr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new ib("You must provide either an email or phone number and a type")}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await xf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<_N:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await xf(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=NN()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await yr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ld}):await this._useSession(async r=>{var n,i,a;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ed}:await yr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&a!==void 0?a:void 0,xform:ld})})}catch(r){if(sr(r))return Bfe(r)&&(await this._removeSession(),await Ku(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:a}=n;if(a)throw a;if(!i.session)throw new ed;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await op(this.storage,this.storageKey));const{data:u,error:d}=await yr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:ld});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(sr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ed;const r=Date.now()/1e3;let n=r,i=!0,a=null;const{payload:o}=SN(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;a={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(sr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new ed;const{session:i,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(sr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!So())throw new sb("No browser detected.");if(e.error||e.error_description||e.error_code)throw new sb(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new sb("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new $3("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:a,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!a||!l||!o||!u)throw new sb("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let g=d+f;c&&(g=parseInt(c));const v=g-d;v*1e3<=Ep&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=g-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:b,error:_}=await this._getUser(a);if(_)throw _;const j={provider_token:n,provider_refresh_token:i,access_token:a,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:j,redirectType:e.type},error:null}}catch(n){if(sr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await xf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{error:a};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Ffe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Ku(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Yfe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:a},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await op(this.storage,this.storageKey,!0));try{return await yr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(sr(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(sr(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async a=>{var o,l,c,u,d;const{data:f,error:g}=a;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await yr(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return So()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(sr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)throw o;return await yr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ehe(async i=>(i>0&&await Qfe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await yr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cc})),(i,a)=>{const o=200*Math.pow(2,i);return a&&jN(a)&&Date.now()+o-n<Ep})}catch(n){if(this._debug(r,"error",n),sr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),So()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await xf(this.storage,this.storageKey);if(i&&this.userStorage){let o=await xf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await Pp(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:NN()}else if(i&&!i.user&&!i.user){const o=await xf(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Ku(this.storage,this.storageKey+"-user"),await Pp(this.storage,this.storageKey,i)):i.user=NN()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const a=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<_N;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${_N}s`),a){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),jN(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new ed;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new v1;const{data:a,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!a.session)throw new ed;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(i,"error",a),sr(a)){const o={session:null,error:a};return jN(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const a=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){a.push(c)}});if(await Promise.all(o),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pp(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const a=U3(i);await Pp(this.storage,this.storageKey,a)}else{const i=U3(r);await Pp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ku(this.storage,this.storageKey),await Ku(this.storage,this.storageKey+"-code-verifier"),await Ku(this.storage,this.storageKey+"-user"),this.userStorage&&await Ku(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&So()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ep);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ep);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ep}ms, refresh threshold is ${GA} ticks`),i<=GA&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof WH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!So()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,o]=await op(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const a=new URLSearchParams(n.queryParams);i.push(a.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await yr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:a,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await yr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(sr(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;if(a)return{data:null,error:a};const{data:o,error:l}=await yr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(sr(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:a}=r;return a?{data:null,error:a}:await yr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(sr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=e?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),a=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:a}=e;if(a)return{data:null,error:a};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=SN(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Lfe>i)return n;const{data:a,error:o}=await yr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=i,n=a.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:i,payload:a,signature:o,raw:{header:l,payload:c}}=SN(n);r?.allowExpired||ohe(a.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:a,header:i,signature:o},error:null}}const d=lhe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Kfe(`${l}.${c}`)))throw new XA("Invalid JWT signature");return{data:{claims:a,header:i,signature:o},error:null}}catch(n){if(sr(n))return{data:null,error:n};throw n}}}ny.nextInstanceID=0;const She=ny;class Nhe extends She{constructor(e){super(e)}}var Che=function(t,e,r,n){function i(a){return a instanceof r?a:new r(function(o){o(a)})}return new(r||(r=Promise))(function(a,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?a(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Ehe{constructor(e,r,n){var i,a,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Tfe(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:jfe,realtime:Nfe,auth:Object.assign(Object.assign({},Sfe),{storageKey:u}),global:_fe},f=Ofe(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=f.global.headers)!==null&&a!==void 0?a:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=kfe(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Wde(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new xfe(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new Rde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Che(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:a,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Nhe({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new afe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Phe=(t,e,r)=>new Ehe(t,e,r);function khe(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}khe()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let cd="your_supabase_url_here";const bM="your_supabase_anon_key_here";console.log("🔍 Variables d'environnement détectées:");console.log("🔍 VITE_SUPABASE_URL:",cd);console.log("🔍 VITE_SUPABASE_ANON_KEY length:",bM?.length);cd&&cd.startsWith("//")&&(cd="https:"+cd,console.log("🔧 URL Supabase corrigée:",cd));const Nr=!!(cd&&bM);console.log("🔍 isSupabaseConfigured:",Nr);Nr||console.error("Supabase non configuré: VITE_SUPABASE_URL ou VITE_SUPABASE_ANON_KEY manquants");const Tc={sessionTimeout:30*60*1e3,rememberMeDays:7,autoRefresh:!0,detectSessionInUrl:!0,persistSession:!0},be=Phe(cd||"https://placeholder.supabase.co",bM,{auth:{autoRefreshToken:Tc.autoRefresh,persistSession:Tc.persistSession,detectSessionInUrl:Tc.detectSessionInUrl,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"maximarket-web"}}});let Ahe=0;const The=function(t){if(typeof window>"u"||typeof document>"u")return{id:"noop",dismiss:function(){}};const e="toast-"+ ++Ahe,r=document.getElementById("toaster-container");if(!r)return console.warn("Toast container not found"),{id:"noop",dismiss:function(){}};try{const n=document.createElement("div");n.id=e,n.className="bg-background border rounded-md p-4 shadow-lg max-w-sm mb-2";let i="";return t.title&&(i+='<div class="font-semibold">'+t.title+"</div>"),t.description&&(i+='<div class="text-sm opacity-90 mt-1">'+t.description+"</div>"),n.innerHTML=i+'<button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-foreground/50 hover:text-foreground">✕</button>',r.appendChild(n),t.duration!==1/0&&setTimeout(function(){n.parentNode&&n.remove()},t.duration||5e3),{id:e,dismiss:function(){n.parentNode&&n.remove()}}}catch(n){return console.error("Error creating toast:",n),{id:"error",dismiss:function(){}}}};function Vr(){return{toast:The,toasts:[]}}const HH=x.createContext({}),Ohe=({children:t})=>{const[e,r]=x.useState(null),[n,i]=x.useState(null),[a,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(null),[f,g]=x.useState(!1),{toast:v}=Vr(),y=x.useCallback(()=>{if(l&&!f){const U=Date.now();U-(l.created_at?new Date(l.created_at).getTime():U)>Tc.sessionTimeout&&(console.log("🕐 Session expirée, déconnexion automatique"),N(),v({title:"Session expirée",description:"Votre session a expiré. Veuillez vous reconnecter.",variant:"destructive"}))}},[l,f,v]);x.useEffect(()=>{if(!l)return;const U=setInterval(y,6e4);return()=>clearInterval(U)},[l,y]);const b=x.useCallback(U=>{g(U),U?(localStorage.setItem("maximarket-remember-me","true"),localStorage.setItem("maximarket-remember-date",new Date().toISOString())):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"))},[]);x.useEffect(()=>{const U=localStorage.getItem("maximarket-remember-me")==="true",z=localStorage.getItem("maximarket-remember-date");U&&z&&((Date.now()-new Date(z).getTime())/864e5<=Tc.rememberMeDays?g(!0):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),g(!1)))},[]),x.useEffect(()=>{if(!Nr){o(!1);return}(async()=>{const{data:{session:V}}=await be.auth.getSession();if(c(V),r(V?.user??null),V?.user)try{const{data:X}=await be.from("users").select("*").eq("id",V.user.id).single();if(i(X),V.created_at){const te=new Date(V.created_at).getTime()+Tc.sessionTimeout;d(te)}}catch(X){console.error("Erreur lors de la récupération du profil:",X)}o(!1)})();const{data:{subscription:z}}=be.auth.onAuthStateChange(async(V,X)=>{if(console.log("Auth state changed:",V,X),c(X),r(X?.user??null),X?.user)try{const{data:te}=await be.from("users").select("*").eq("id",X.user.id).single();if(i(te),X.created_at){const le=new Date(X.created_at).getTime()+Tc.sessionTimeout;d(le)}}catch(te){console.error("Erreur lors de la récupération du profil:",te)}else i(null),d(null);if(o(!1),V==="SIGNED_IN"){if(X?.user){const te={id:X.user.id,first_name:X.user.user_metadata?.first_name||"",last_name:X.user.user_metadata?.last_name||"",email:X.user.email,phone_number:X.user.user_metadata?.phone_number||"",role:"user"},{error:le}=await be.from("users").upsert([te],{onConflict:"id"});le&&console.error("Profile upsert error:",le)}v({title:"Connexion réussie",description:"Bienvenue sur MaxiMarket !"})}else if(V==="SIGNED_OUT")d(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date");else if(V==="TOKEN_REFRESHED"&&X?.created_at){const te=new Date(X.created_at).getTime()+Tc.sessionTimeout;d(te)}});return()=>z.unsubscribe()},[v]);const _=async(U,z=!1)=>{try{if(!Nr)throw new Error("Supabase non configuré");const{data:V,error:X}=await be.auth.signInWithPassword({email:U.email,password:U.password});if(X)throw X;return b(z),console.log("Supabase login successful:",V),!0}catch(V){return console.error("Login error:",V),v({title:"Erreur de connexion",description:V.message,variant:"destructive"}),!1}},j=async U=>{try{if(!Nr)throw new Error("Supabase non configuré");const z=(U?.phoneNumber||"").trim(),V=/^\+?[1-9]\d{1,14}$/;if(!z)return v({title:"Numéro requis",description:"Le numéro de téléphone est obligatoire pour créer un compte.",variant:"destructive"}),!1;if(!V.test(z))return v({title:"Numéro invalide",description:"Veuillez saisir un numéro de téléphone valide (format international).",variant:"destructive"}),!1;const{data:X,error:te}=await be.auth.signUp({email:U.email,password:U.password,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{first_name:U.firstName,last_name:U.lastName,phone_number:z}}});if(te)throw te;if(console.log("Supabase register successful:",X),X.user){const{error:le}=await be.from("users").upsert([{id:X.user.id,first_name:U.firstName,last_name:U.lastName,email:U.email,phone_number:z,role:"user"}],{onConflict:"id"});le&&console.error("Profile upsert error:",le)}return X.user&&!X.user.email_confirmed_at?(v({title:"Inscription réussie",description:"Vérifiez votre email pour confirmer votre compte !"}),{success:!0,needsConfirmation:!0}):(v({title:"Inscription réussie",description:"Bienvenue sur MaxiMarket !"}),{success:!0,needsConfirmation:!1})}catch(z){return console.error("Register error:",z),v({title:"Erreur d'inscription",description:z.message,variant:"destructive"}),!1}},N=async()=>{try{const{error:U}=await be.auth.signOut();if(U)throw U;return d(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),!0}catch(U){return console.error("Logout error:",U),v({title:"Erreur de déconnexion",description:U.message,variant:"destructive"}),!1}},H={user:n||e,userProfile:n,session:l,sessionExpiry:u,isRememberMe:f,loading:a,login:_,register:j,logout:N,extendSession:async()=>{try{if(!l)return!1;const{data:U,error:z}=await be.auth.refreshSession();if(z)throw z;if(U.session){const V=new Date(U.session.created_at).getTime()+Tc.sessionTimeout;return d(V),v({title:"Session étendue",description:"Votre session a été prolongée avec succès."}),!0}return!1}catch(U){return console.error("Erreur lors de l'extension de session:",U),!1}},getSessionStatus:()=>{if(!l)return"disconnected";if(f)return"remembered";if(u){const U=Date.now(),z=u-U;return z<=0?"expired":z<=5*60*1e3?"expiring_soon":"active"}return"active"},getSessionTimeLeft:()=>{if(!u)return 0;const U=Date.now(),z=u-U;return Math.max(0,z)},resetPassword:async U=>{try{const{error:z}=await be.auth.resetPasswordForEmail(U,{redirectTo:`${window.location.origin}/reset-password`});if(z)throw z;return v({title:"Email envoyé",description:"Vérifiez votre boîte mail pour réinitialiser votre mot de passe."}),!0}catch(z){return console.error("Reset password error:",z),v({title:"Erreur",description:z.message,variant:"destructive"}),!1}},updatePassword:async U=>{try{const{error:z}=await be.auth.updateUser({password:U});if(z)throw z;return v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été modifié avec succès."}),!0}catch(z){return console.error("Update password error:",z),v({title:"Erreur",description:z.message,variant:"destructive"}),!1}},hasRole:U=>e?n?.role?n.role===U:e.user_metadata?.role===U||e.app_metadata?.role===U:!1,hasAnyRole:U=>{if(!e)return!1;if(n?.role)return U.includes(n.role);const z=e.user_metadata?.role||e.app_metadata?.role;return U.includes(z)},isAuthenticated:!!e};return s.jsx(HH.Provider,{value:H,children:t})},Mr=()=>{const t=x.useContext(HH);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>x.createElement("svg",{ref:d,...Rhe,width:i,height:i,stroke:n,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${Mhe(t)}`,l].join(" "),...u},[...e.map(([f,g])=>x.createElement(f,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=Ke("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=Ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=Ke("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kd=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=Ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=Ke("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=Ke("BadgeCent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M15.4 10a4 4 0 1 0 0 4",key:"2eqtx8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=Ke("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=Ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=Ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=Ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=Ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fc=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=Ke("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=Ke("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=Ke("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=Ke("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ab=Ke("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KH=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yd=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=Ke("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=Ke("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=Ke("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GH=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=Ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZH=Ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bo=Ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eT=Ke("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=Ke("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Ke("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=Ke("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=Ke("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=Ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=Ke("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Al=Ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YH=Ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tT=Ke("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XH=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=Ke("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=Ke("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=Ke("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=Ke("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=Ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _a=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nl=Ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JH=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=Ke("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=Ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=Ke("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=Ke("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=Ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=Ke("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=Ke("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EN=Ke("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=Ke("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=Ke("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ol=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=Ke("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=Ke("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zo=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=Ke("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nT=Ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=Ke("SearchCode",[["path",{d:"m9 9-2 2 2 2",key:"17gsfh"}],["path",{d:"m13 13 2-2-2-2",key:"186z8k"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mi=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Of=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=Ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=Ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=Ke("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ope=Ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=Ke("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=Ke("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=Ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=Ke("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=Ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fpe=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=Ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qo=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QH=Ke("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kg=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=Ke("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=Ke("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=Ke("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vpe=Ke("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ype=Ke("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=Ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=Ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=Ke("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ec=({children:t,requiredRole:e="user"})=>{const{user:r,loading:n}=Mr(),i=Vi();if(console.log("🔒 ProtectedRoute check:",{user:!!r,loading:n,requiredRole:e,path:i.pathname}),n)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsx(nn,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!r)return console.log("🔒 User not authenticated, redirecting to /connexion"),s.jsx(Z4,{to:"/connexion",state:{from:i},replace:!0});const a=Array.isArray(r.roles)&&r.roles.includes(e)||r.role===e||r.roles===e;return e&&!a?s.jsx(Z4,{to:"/",replace:!0}):t},wc=({children:t})=>s.jsx(Ec,{requiredRole:"admin",children:t}),bpe=new V7({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(t,e)=>e?.status>=500?t<2:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}}),eF={listings:{staleTime:2*60*1e3,gcTime:5*60*1e3}};class wpe{constructor(){this.isSupported="serviceWorker"in navigator,this.registration=null,this.updateAvailable=!1}async register(){if(!this.isSupported)return console.warn("⚠️ Service Worker non supporté par ce navigateur"),!1;try{return console.log("🔄 Enregistrement du Service Worker..."),this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("✅ Service Worker enregistré:",this.registration),this.registration.addEventListener("updatefound",()=>{console.log("🔄 Mise à jour du Service Worker disponible"),this.updateAvailable=!0}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("✅ Nouveau Service Worker activé"),this.updateAvailable=!1,window.location.reload()}),navigator.serviceWorker.addEventListener("message",e=>{console.log("📨 Message du Service Worker:",e.data)}),!0}catch(e){return console.error("❌ Erreur lors de l'enregistrement du Service Worker:",e),!1}}async unregister(){if(this.registration)try{return await this.registration.unregister(),console.log("✅ Service Worker désenregistré"),!0}catch(e){return console.error("❌ Erreur lors du désenregistrement:",e),!1}return!1}async update(){if(this.registration&&this.updateAvailable)try{return this.registration.active.postMessage({type:"SKIP_WAITING"}),console.log("🔄 Mise à jour du Service Worker déclenchée"),!0}catch(e){return console.error("❌ Erreur lors de la mise à jour:",e),!1}return!1}async clearCache(){if(this.registration)try{return this.registration.active.postMessage({type:"CLEAR_CACHE"}),console.log("🗑️ Vidage du cache demandé"),!0}catch(e){return console.error("❌ Erreur lors du vidage du cache:",e),!1}return!1}getStatus(){return{isSupported:this.isSupported,isRegistered:!!this.registration,updateAvailable:this.updateAvailable,scope:this.registration?.scope||null}}}const _pe=new wpe;function eK(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=eK(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function mr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=eK(t))&&(n&&(n+=" "),n+=e);return n}const NM="-",jpe=t=>{const e=Npe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(NM);return l[0]===""&&l.length!==1&&l.shift(),tK(l,e)||Spe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},tK=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?tK(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(NM);return e.validators.find(({validator:o})=>o(a))?.classGroupId},tF=/^\[(.+)\]$/,Spe=t=>{if(tF.test(t)){const e=tF.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Npe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Epe(Object.entries(t.classGroups),r).forEach(([a,o])=>{sT(o,n,a,e)}),n},sT=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:rF(e,i);a.classGroupId=r;return}if(typeof i=="function"){if(Cpe(i)){sT(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([a,o])=>{sT(o,rF(e,a),r,n)})})},rF=(t,e)=>{let r=t;return e.split(NM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Cpe=t=>t.isThemeGetter,Epe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([o,l])=>[e+o,l])):a);return[r,i]}):t,Ppe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(a,o)=>{r.set(a,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(a){let o=r.get(a);if(o!==void 0)return o;if((o=n.get(a))!==void 0)return i(a,o),o},set(a,o){r.has(a)?r.set(a,o):i(a,o)}}},rK="!",kpe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],a=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let _=0;_<l.length;_++){let j=l[_];if(u===0){if(j===i&&(n||l.slice(_,_+a)===e)){c.push(l.slice(d,_)),d=_+a;continue}if(j==="/"){f=_;continue}}j==="["?u++:j==="]"&&u--}const g=c.length===0?l:l.substring(d),v=g.startsWith(rK),y=v?g.substring(1):g,b=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:b}};return r?l=>r({className:l,parseClassName:o}):o},Ape=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Tpe=t=>({cache:Ppe(t.cacheSize),parseClassName:kpe(t),...jpe(t)}),Ope=/\s+/,Rpe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,a=[],o=t.trim().split(Ope);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:v}=r(u);let y=!!v,b=n(y?g.substring(0,v):g);if(!b){if(!y){l=u+(l.length>0?" "+l:l);continue}if(b=n(g),!b){l=u+(l.length>0?" "+l:l);continue}y=!1}const _=Ape(d).join(":"),j=f?_+rK:_,N=j+b;if(a.includes(N))continue;a.push(N);const C=i(b,y);for(let A=0;A<C.length;++A){const E=C[A];a.push(j+E)}l=u+(l.length>0?" "+l:l)}return l};function Mpe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=nK(e))&&(n&&(n+=" "),n+=r);return n}const nK=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=nK(t[n]))&&(r&&(r+=" "),r+=e);return r};function Ipe(t,...e){let r,n,i,a=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=Tpe(u),n=r.cache.get,i=r.cache.set,a=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Rpe(c,r);return i(c,d),d}return function(){return a(Mpe.apply(null,arguments))}}const vn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},iK=/^\[(?:([a-z-]+):)?(.+)\]$/i,Dpe=/^\d+\/\d+$/,Lpe=new Set(["px","full","screen"]),$pe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Fpe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Bpe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,zpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,qpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,_c=t=>Bp(t)||Lpe.has(t)||Dpe.test(t),Gu=t=>Um(t,"length",Ype),Bp=t=>!!t&&!Number.isNaN(Number(t)),PN=t=>Um(t,"number",Bp),Gg=t=>!!t&&Number.isInteger(Number(t)),Upe=t=>t.endsWith("%")&&Bp(t.slice(0,-1)),cr=t=>iK.test(t),Zu=t=>$pe.test(t),Vpe=new Set(["length","size","percentage"]),Wpe=t=>Um(t,Vpe,sK),Hpe=t=>Um(t,"position",sK),Kpe=new Set(["image","url"]),Gpe=t=>Um(t,Kpe,Jpe),Zpe=t=>Um(t,"",Xpe),Zg=()=>!0,Um=(t,e,r)=>{const n=iK.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},Ype=t=>Fpe.test(t)&&!Bpe.test(t),sK=()=>!1,Xpe=t=>zpe.test(t),Jpe=t=>qpe.test(t),Qpe=()=>{const t=vn("colors"),e=vn("spacing"),r=vn("blur"),n=vn("brightness"),i=vn("borderColor"),a=vn("borderRadius"),o=vn("borderSpacing"),l=vn("borderWidth"),c=vn("contrast"),u=vn("grayscale"),d=vn("hueRotate"),f=vn("invert"),g=vn("gap"),v=vn("gradientColorStops"),y=vn("gradientColorStopPositions"),b=vn("inset"),_=vn("margin"),j=vn("opacity"),N=vn("padding"),C=vn("saturate"),A=vn("scale"),E=vn("sepia"),P=vn("skew"),O=vn("space"),I=vn("translate"),F=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],U=()=>["auto",cr,e],z=()=>[cr,e],V=()=>["",_c,Gu],X=()=>["auto",Bp,cr],te=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],le=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",cr],ie=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Bp,cr];return{cacheSize:500,separator:":",theme:{colors:[Zg],spacing:[_c,Gu],blur:["none","",Zu,cr],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Zu,cr],borderSpacing:z(),borderWidth:V(),contrast:Z(),grayscale:G(),hueRotate:Z(),invert:G(),gap:z(),gradientColorStops:[t],gradientColorStopPositions:[Upe,Gu],inset:U(),margin:U(),opacity:Z(),padding:z(),saturate:Z(),scale:Z(),sepia:G(),skew:Z(),space:z(),translate:z()},classGroups:{aspect:[{aspect:["auto","square","video",cr]}],container:["container"],columns:[{columns:[Zu]}],"break-after":[{"break-after":ie()}],"break-before":[{"break-before":ie()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...te(),cr]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gg,cr]}],basis:[{basis:U()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",cr]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",Gg,cr]}],"grid-cols":[{"grid-cols":[Zg]}],"col-start-end":[{col:["auto",{span:["full",Gg,cr]},cr]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Zg]}],"row-start-end":[{row:["auto",{span:[Gg,cr]},cr]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",cr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",cr]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",cr,e]}],"min-w":[{"min-w":[cr,e,"min","max","fit"]}],"max-w":[{"max-w":[cr,e,"none","full","min","max","fit","prose",{screen:[Zu]},Zu]}],h:[{h:[cr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[cr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[cr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[cr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Zu,Gu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",PN]}],"font-family":[{font:[Zg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",cr]}],"line-clamp":[{"line-clamp":["none",Bp,PN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",_c,cr]}],"list-image":[{"list-image":["none",cr]}],"list-style-type":[{list:["none","disc","decimal",cr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...le(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",_c,Gu]}],"underline-offset":[{"underline-offset":["auto",_c,cr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",cr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",cr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...te(),Hpe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Wpe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Gpe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...le(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:le()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...le()]}],"outline-offset":[{"outline-offset":[_c,cr]}],"outline-w":[{outline:[_c,Gu]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[_c,Gu]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Zu,Zpe]}],"shadow-color":[{shadow:[Zg]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Zu,cr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[C]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",cr]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",cr]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",cr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Gg,cr]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",cr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",cr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",cr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[_c,Gu,PN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},eme=Ipe(Qpe);function Je(...t){return eme(mr(t))}function tme(){return Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}function rme(t){if(!t)return"Date inconnue";const e=new Date(t),n=(new Date-e)/(1e3*60),i=n/60,a=i/24;if(n<1)return"À l'instant";if(n<60){const o=Math.floor(n);return`Il y a ${o} minute${o>1?"s":""}`}else if(i<24){const o=Math.floor(i);return`Il y a ${o} heure${o>1?"s":""}`}else{if(a<2)return"Hier";if(a<7){const o=Math.floor(a);return`Il y a ${o} jour${o>1?"s":""}`}else if(a<30){const o=Math.floor(a/7);return`Il y a ${o} semaine${o>1?"s":""}`}else return e.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}}function nF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ja(...t){return e=>{let r=!1;const n=t.map(i=>{const a=nF(i,e);return!r&&typeof a=="function"&&(r=!0),a});if(r)return()=>{for(let i=0;i<n.length;i++){const a=n[i];typeof a=="function"?a():nF(t[i],null)}}}}function yt(...t){return x.useCallback(ja(...t),t)}function tm(t){const e=nme(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(sme);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}var aK=tm("Slot");function nme(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r,o=x.isValidElement(i)?ome(i):void 0,l=yt(o,n);if(x.isValidElement(i)){const c=ame(a,i.props);return i.type!==x.Fragment&&(c.ref=l),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oK=Symbol("radix.slottable");function ime(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=oK,e}function sme(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oK}function ame(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function ome(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const iF=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,sF=mr,N1=(t,e)=>r=>{var n;if(e?.variants==null)return sF(t,r?.class,r?.className);const{variants:i,defaultVariants:a}=e,o=Object.keys(i).map(u=>{const d=r?.[u],f=a?.[u];if(d===null)return null;const g=iF(d)||iF(f);return i[u][g]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:g,...v}=d;return Object.entries(v).every(y=>{let[b,_]=y;return Array.isArray(_)?_.includes({...a,...l}[b]):{...a,...l}[b]===_})?[...u,f,g]:u},[]);return sF(t,o,c,r?.class,r?.className)},CM=N1("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),fe=ne.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},a)=>{const o=n?aK:"button";return s.jsx(o,{className:Je(CM({variant:e,size:r,className:t})),ref:a,...i})});fe.displayName="Button";const lme=N1("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),lK=x.forwardRef(({className:t,variant:e,...r},n)=>s.jsx("div",{ref:n,role:"alert",className:Je(lme({variant:e}),t),...r}));lK.displayName="Alert";const cK=x.forwardRef(({className:t,...e},r)=>s.jsx("h5",{ref:r,className:Je("mb-1 font-medium leading-none tracking-tight",t),...e}));cK.displayName="AlertTitle";const uK=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Je("text-sm [&_p]:leading-relaxed",t),...e}));uK.displayName="AlertDescription";let cme=class extends ne.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("QueryErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender({error:this.state.error,resetErrorBoundary:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()}}):s.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Une erreur est survenue"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"Erreur inconnue"}),s.jsxs(fe,{onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()},variant:"outline",children:[s.jsx(zo,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}):this.props.children}};const ume=({children:t})=>{const{reset:e}=Z7();return s.jsx(cme,{onReset:e,fallbackRender:({error:r,resetErrorBoundary:n})=>s.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:s.jsxs(lK,{className:"max-w-md",children:[s.jsx(mh,{className:"h-4 w-4"}),s.jsx(cK,{children:"Erreur de chargement"}),s.jsxs(uK,{className:"mt-2",children:["Une erreur est survenue lors du chargement des données.",s.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:r.message})]}),s.jsxs(fe,{onClick:n,className:"mt-4",variant:"outline",children:[s.jsx(zo,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}),children:t})},dp={theme:"light",notifications:{email:!0,push:!0,sms:!1},privacy:{profile_visibility:"public",show_online_status:!0,allow_messages:!0},security_settings:{two_factor_auth:!1,login_notifications:!0,session_timeout:30,require_password_change:!1,remember_me_enabled:!0,auto_logout:!0,max_session_age:7},customization:{primary_color:"#3B82F6",accent_color:"#10B981",font_size:"medium",animations_enabled:!0}},dme=()=>{const{user:t}=Mr(),[e,r]=x.useState(dp),[n,i]=x.useState(!1),[a,o]=x.useState(null),l=async()=>{if(!t){r(dp),i(!1);return}try{i(!0),o(null);const f=localStorage.getItem(`maximarket-preferences-${t.id}`);if(f){const g=JSON.parse(f);r({...dp,...g})}else r(dp)}catch(f){console.error("Erreur lors du chargement des préférences:",f),o(f.message),r(dp)}finally{i(!1)}},c=async(f,g)=>{if(t)try{const v={...e},y=f.split(".");let b=v;for(let _=0;_<y.length-1;_++)b[y[_]]||(b[y[_]]={}),b=b[y[_]];b[y[y.length-1]]=g,r(v),localStorage.setItem(`maximarket-preferences-${t.id}`,JSON.stringify(v))}catch(v){console.error("Erreur lors de la mise à jour des préférences:",v),o(v.message)}},u=async f=>{if(t)try{const g={...e};Object.entries(f).forEach(([v,y])=>{const b=v.split(".");let _=g;for(let j=0;j<b.length-1;j++)_[b[j]]||(_[b[j]]={}),_=_[b[j]];_[b[b.length-1]]=y}),r(g),localStorage.setItem(`maximarket-preferences-${t.id}`,JSON.stringify(g))}catch(g){console.error("Erreur lors de la mise à jour des préférences:",g),o(g.message)}},d=async()=>{if(t)try{r(dp),localStorage.removeItem(`maximarket-preferences-${t.id}`)}catch(f){console.error("Erreur lors de la réinitialisation des préférences:",f),o(f.message)}};return x.useEffect(()=>{l()},[t]),{preferences:e,loading:n,error:a,updatePreference:c,updateMultiplePreferences:u,resetPreferences:d,reloadPreferences:l}},fme=()=>{const{session:t,logout:e,isRememberMe:r}=Mr(),{preferences:n}=dme(),i=x.useRef(null),a=x.useRef(Date.now()),o=x.useCallback(()=>{if(a.current=Date.now(),i.current&&clearTimeout(i.current),!t)return;if(r){console.log('🔒 Mode "Se souvenir" activé, pas de déconnexion automatique');return}if(!(n?.security_settings?.auto_logout??!0)){console.log("🔒 Déconnexion automatique désactivée dans les préférences");return}const u=n?.security_settings?.session_timeout??30,d=u*60*1e3;console.log(`⏰ Configuration du timer d'inactivité: ${u} minutes`),i.current=setTimeout(()=>{console.log("🕐 Inactivité détectée, déconnexion automatique"),e()},d)},[t,r,n,e]),l=x.useCallback(()=>{o()},[o]);return x.useEffect(()=>{if(!t)return;console.log("🔍 Configuration des écouteurs d'activité");const c=["mousedown","mousemove","keypress","keydown","scroll","touchstart","click","focus","input","change"];return c.forEach(u=>{document.addEventListener(u,l,{passive:!0})}),o(),()=>{console.log("🧹 Nettoyage des écouteurs d'activité"),c.forEach(u=>{document.removeEventListener(u,l)}),i.current&&clearTimeout(i.current)}},[t,l,o]),x.useEffect(()=>{!t&&i.current&&(console.log("🚪 Déconnexion détectée, nettoyage du timer"),clearTimeout(i.current))},[t]),{lastActivity:a.current,resetTimer:o}},hme=()=>(fme(),null),pme=({children:t})=>Nr?t:s.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",color:"#fff",fontFamily:"Arial, sans-serif",padding:"20px",textAlign:"center"},children:s.jsxs("div",{children:[s.jsx("h1",{style:{color:"#e74c3c",marginBottom:"20px"},children:"⚠️ Configuration Supabase requise"}),s.jsx("p",{style:{marginBottom:"15px"},children:"L'application nécessite la configuration des variables Supabase."}),s.jsxs("div",{style:{backgroundColor:"#2c3e50",padding:"15px",borderRadius:"5px",textAlign:"left",marginBottom:"20px"},children:[s.jsx("strong",{children:"Variables requises dans Vercel :"}),s.jsxs("div",{style:{marginTop:"10px",fontFamily:"monospace"},children:["VITE_SUPABASE_URL",s.jsx("br",{}),"VITE_SUPABASE_ANON_KEY"]})]}),s.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},children:"🔄 Recharger"})]})});async function mme(t,e={},r="mistral-small-latest",n,i){const a=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t,context:e,model:r,stream:!0}),signal:i});if(!a.ok||!a.body){const d=await a.json().catch(()=>({}));throw new Error(d?.error||"Chat API error")}const o=a.body.getReader(),l=new TextDecoder;let c="",u="";for(;;){const{value:d,done:f}=await o.read();if(f)break;c+=l.decode(d,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)if(v.startsWith("data: ")){const y=v.slice(6);if(y==="[DONE]")continue;try{const _=JSON.parse(y)?.choices?.[0]?.delta?.content||"";_&&(u+=_,n?.(u))}catch{}}}}const it=ne.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:Je("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-foreground",t),ref:n,...r}));it.displayName="Input";const gme=["Dakar","Thiès","Saint-Louis","Kaolack","Ziguinchor","Touba","Mbour","Rufisque","Pikine","Guédiawaye","Cotonou","Porto-Novo","Abomey-Calavi","Parakou","Djougou","Bohicon","Kandi","Lokossa","Ouidah","Natitingou","Lomé","Sokodé","Kara","Kpalimé","Atakpamé","Bassar","Tsévié","Aného","Dapaong","Mango","Abidjan","Bouaké","Daloa","Yamoussoukro","San-Pédro","Korhogo","Man","Abengourou","Gagnoa","Anyama","Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"],aF=["toyota","peugeot","renault","citroën","citroen","ford","volkswagen","vw","bmw","mercedes","audi","honda","nissan","hyundai","kia","dacia","opel","fiat","chevrolet","mazda","suzuki"];function aT(t){if(!t||typeof t!="string")return{section:"marketplace",params:{sort:"popular"}};const e=t.trim(),r=e.toLowerCase(),n=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=n.replace(/[\s-]/g,""),a=b=>{const _=b.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),j=_.replace(/[\s-]/g,"");return n.includes(_)||i.includes(j)},o=gme.find(b=>a(b));let l,c;const u=r.match(/(\d+[\.,]?\d*)\s*(k|m)?/gi)||[],d=b=>{const _=b.match(/(\d+[\.,]?\d*)\s*(k|m)?/i);if(!_)return null;const j=parseFloat(_[1].replace(",",".")),N=_[2]?_[2].toLowerCase()==="m"?1e6:1e3:1;return Math.round(j*N)};if(u.length>=2&&/entre|et|-/i.test(r)){const b=d(u[0]),_=d(u[1]);b&&_&&(l=Math.min(b,_),c=Math.max(b,_))}else/max|<=|<\s*/i.test(r)&&u[0]?c=d(u[0]):/min|>=|>\s*/i.test(r)&&u[0]?l=d(u[0]):u.length===1&&(c=d(u[0]));let f="marketplace";/\b(appartement|maison|terrain|studio|immobilier|villa|pi[eè]ces|m²|m2)\b/i.test(r)?f="immobilier":/\b(voiture|auto|car|moto|scooter|camion|camionnette|vehicule|véhicule)\b/i.test(r)||aF.some(b=>r.includes(b))?f="automobile":/\b(plombier|electricien|électricien|menage|ménage|jardinage|coiffure|réparation|reparation|d[eé]m[eé]nagement|cours|prof|service|informatique|evenementiel|événementiel)\b/i.test(r)&&(f="services");let g;const v=aF.find(b=>r.includes(b));v&&(g=v);const y={search:e,sort:"popular"};return o&&(y.location=o),l&&(y.minPrice=String(l)),c&&(y.maxPrice=String(c)),g&&f==="automobile"&&(y.brand=g),{section:f,params:y}}const vme=(t,e)=>e.map(r=>{const n=t[r.key]||"";return r.type==="date"?yme(n):r.type==="currency"?xme(n):r.type==="boolean"?n?"Oui":"Non":r.type==="array"?Array.isArray(n)?n.join(", "):n:r.type==="object"&&typeof n=="object"?JSON.stringify(n):n}).map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","),yme=t=>{if(!t)return"";try{const e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return t}},xme=t=>{if(t==null)return"";try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{return String(t)}},Yg=(t,e,r="export")=>{try{const n=e.map(u=>u.label).join(","),i=t.map(u=>vme(u,e)),a=[n,...i].join(`
`),o=new Blob(["\uFEFF"+a],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);return l.setAttribute("href",c),l.setAttribute("download",`${r}-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),{success:!0,message:"Export CSV réussi"}}catch(n){throw console.error("Erreur lors de l'export CSV:",n),new Error("Impossible d'exporter les données")}},bme=[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"last_login_at",label:"Dernière connexion",type:"date"}],wme=[{key:"id",label:"ID",type:"string"},{key:"title",label:"Titre",type:"string"},{key:"price",label:"Prix",type:"currency"},{key:"category",label:"Catégorie",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"location",label:"Localisation",type:"object"},{key:"views_count",label:"Vues",type:"number"},{key:"favorites_count",label:"Favoris",type:"number"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],_me=[{key:"id",label:"ID",type:"string"},{key:"reference",label:"Référence",type:"string"},{key:"type",label:"Type",type:"string"},{key:"amount",label:"Montant",type:"currency"},{key:"currency",label:"Devise",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"payment_method",label:"Méthode de paiement",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"completed_at",label:"Date de finalisation",type:"date"}],jme=[{key:"id",label:"ID",type:"string"},{key:"name",label:"Nom",type:"string"},{key:"slug",label:"Slug",type:"string"},{key:"parent_category",label:"Type parent",type:"string"},{key:"description",label:"Description",type:"string"},{key:"icon",label:"Icône",type:"string"},{key:"sort_order",label:"Ordre de tri",type:"number"},{key:"is_active",label:"Actif",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],Sme=[{key:"id",label:"ID",type:"string"},{key:"reason",label:"Raison",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"type",label:"Type",type:"string"},{key:"severity",label:"Sévérité",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"moderated_at",label:"Date de modération",type:"date"}],C1={users:(t,e="utilisateurs")=>Yg(t,bme,e),listings:(t,e="annonces")=>Yg(t,wme,e),transactions:(t,e="transactions")=>Yg(t,_me,e),categories:(t,e="categories")=>Yg(t,jme,e),reports:(t,e="rapports")=>Yg(t,Sme,e)},Lo={getProfile:async(t=null)=>{const{data:{user:e}}=await be.auth.getUser(),r=t||e?.id;if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await be.from("users").select("*").eq("id",r).single();if(i)throw i;return n},updateProfile:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await be.from("users").update(t).eq("id",e.id).select().single();if(n)throw n;return r},getAllUsers:async()=>{const{data:t,error:e}=await be.from("users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},updateUserStatus:async(t,e)=>{const{data:r,error:n}=await be.from("users").update({status:e}).eq("id",t).select().single();if(n)throw n;return r},getUserById:async t=>{const{data:e,error:r}=await be.from("users").select("*").eq("id",t).single();if(r)throw r;return e},searchUsers:async(t,e={})=>{let r=be.from("users").select("*").or(`first_name.ilike.%${t}%,last_name.ilike.%${t}%,email.ilike.%${t}%`);e.role&&(r=r.eq("role",e.role)),e.status&&(r=r.eq("status",e.status));const{data:n,error:i}=await r.order("created_at",{ascending:!1});if(i)throw i;return n},updateUserRole:async(t,e)=>{const{data:r,error:n}=await be.from("users").update({role:e}).eq("id",t).select().single();if(n)throw n;return r},deleteUser:async t=>{const{error:e}=await be.from("users").delete().eq("id",t);if(e)throw e;return!0},getUserStats:async()=>{const{data:t,error:e}=await be.from("users").select("role, status, created_at");if(e)throw e;const r={total:t.length,byRole:{},byStatus:{},byMonth:{}};return t.forEach(n=>{r.byRole[n.role]=(r.byRole[n.role]||0)+1,r.byStatus[n.status]=(r.byStatus[n.status]||0)+1;const i=new Date(n.created_at).toISOString().slice(0,7);r.byMonth[i]=(r.byMonth[i]||0)+1}),r},exportUsers:async(t="csv")=>{const e=await Lo.getAllUsers();return C1(e,[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],`utilisateurs-${new Date().toISOString().split("T")[0]}`,t)}},Nme=(t,e)=>{const r=t?.length||0;if(r===0)return{data:[],hasMore:!1,totalPremium:0};if(r<=e)return{data:t||[],hasMore:!1,totalPremium:r};const n=new Date,i=Math.floor((n-new Date(n.getFullYear(),0,0))/(1e3*60*60*24)),a=i%r,o=[];for(let l=0;l<e;l++){const c=(a+l)%r;o.push(t[c])}return console.log(`🔄 Rotation premium: ${r} total, ${e} affichées, offset: ${a}`),{data:o,hasMore:r>e,totalPremium:r,rotationInfo:{dayOfYear:i,rotationOffset:a,nextRotation:new Date(n.getTime()+24*60*60*1e3)}}},kN=t=>{let e=0;const r={highest:1e3,high:800,medium:600,low:400},n=t.listing_boosts?.[0]?.boost_packages?.features?.priority;e+=r[n]||500,t.is_featured&&t.is_boosted?e+=900:t.is_featured?e+=700:t.is_boosted&&(e+=600);const i=Math.ceil((new Date(t.boost_expires_at)-new Date)/(1e3*60*60*24));e+=Math.max(0,i*10);const a=Math.ceil((Date.now()-new Date(t.updated_at))/(1e3*60*60*24));return e+=Math.max(0,30-a),e},Cme=()=>{const t=new Date().getHours();return t>=6&&t<12?"real_estate":t>=12&&t<18?"automobile":t>=18&&t<22?"marketplace":"services"},AN=(t,e,r)=>({data:{real_estate:[{id:"hero-re-1",title:"Appartement de luxe au Plateau",price:85e4,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1500,is_featured:!0,is_boosted:!0},{id:"hero-re-2",title:"Villa avec piscine à Almadies",price:25e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!1},{id:"hero-re-3",title:"Terrain constructible à Thiès",price:35e4,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!0}],automobile:[{id:"hero-auto-1",title:"Toyota Land Cruiser 2022",price:45e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2e3,is_featured:!0,is_boosted:!0},{id:"hero-auto-2",title:"BMW X5 2021 - Excellent état",price:32e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-auto-3",title:"Peugeot 3008 2020",price:18e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:950,is_featured:!1,is_boosted:!0}],services:[{id:"hero-serv-1",title:"Service de nettoyage professionnel",price:25e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!0},{id:"hero-serv-2",title:"Cours particuliers - Mathématiques",price:15e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!0,is_boosted:!1},{id:"hero-serv-3",title:"Service de déménagement",price:45e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:600,is_featured:!1,is_boosted:!0}],marketplace:[{id:"hero-mp-1",title:"iPhone 15 Pro Max - Neuf",price:85e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2500,is_featured:!0,is_boosted:!0},{id:"hero-mp-2",title:"MacBook Pro M2 - 2023",price:12e5,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-mp-3",title:"PS5 + 5 jeux - Comme neuf",price:35e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1100,is_featured:!1,is_boosted:!0}]}[t]?.slice(0,r)||[],category:t,hour:e,fallbackLevel:5,nextRotation:new Date(Date.now()+60*60*1e3),rotationInfo:{currentHour:e,currentCategory:t,timeSlot:dK(e),fallbackLevel:5}}),Eme=async(t=6)=>{const e=new Date().getHours(),r=Cme();if(console.log(`🕐 Hero carousel - Heure: ${e}h, Catégorie: ${r}`),!Nr)return console.warn("⚠️ Supabase non configuré, retour de données de test pour hero"),AN(r,e,t);try{let n=[],i=1;console.log(`🔄 Niveau ${i}: Annonces premium de ${r}`);const{data:a,error:o}=await be.from("listings").select(`
        *,
        users (
          id,
          first_name,
          last_name,
          profile_image
        ),
        listing_boosts (
          boost_packages (
            name,
            features
          ),
          end_date
        )
      `).eq("category",r).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(t*2);if(!o&&a&&a.length>0?(n=a,console.log(`✅ Niveau ${i} réussi: ${n.length} annonces premium trouvées`)):(console.log(`❌ Niveau ${i} échoué: ${o?.message||"Aucune annonce premium"}`),i++),n.length<t){console.log(`🔄 Niveau ${i}: Annonces populaires de ${r}`);const{data:f,error:g}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).eq("category",r).eq("status","approved").eq("is_featured",!1).eq("is_boosted",!1).order("views_count",{ascending:!1}).limit(t-n.length);!g&&f&&f.length>0?(n=[...n,...f],console.log(`✅ Niveau ${i} réussi: ${f.length} annonces populaires ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce populaire"}`),i++)}if(n.length<t){console.log(`🔄 Niveau ${i}: Annonces premium d'autres catégories`);const{data:f,error:g}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).neq("category",r).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(t-n.length);!g&&f&&f.length>0?(n=[...n,...f],console.log(`✅ Niveau ${i} réussi: ${f.length} annonces d'autres catégories ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce d'autre catégorie"}`),i++)}if(n.length<t){console.log(`🔄 Niveau ${i}: Annonces récentes de toutes catégories`);const{data:f,error:g}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).eq("status","approved").order("created_at",{ascending:!1}).limit(t-n.length);!g&&f&&f.length>0?(n=[...n,...f],console.log(`✅ Niveau ${i} réussi: ${f.length} annonces récentes ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce récente"}`),i++)}if(n.length===0)return console.log(`🔄 Niveau ${i}: Données de test (fallback final)`),AN(r,e,t);const l=new Date,u=Math.floor((l-new Date(l.getFullYear(),0,0))/(1e3*60*60))%Math.max(1,n.length),d=[];for(let f=0;f<t&&f<n.length;f++){const g=(u+f)%n.length;d.push(n[g])}return console.log(`🔄 Hero rotation: ${n.length} total, ${d.length} affichées, catégorie: ${r}, heure: ${e}h, niveau de fallback: ${i}`),{data:d,category:r,hour:e,nextRotation:new Date(Date.now()+60*60*1e3),fallbackLevel:i,rotationInfo:{currentHour:e,currentCategory:r,timeSlot:dK(e),totalListings:n.length,rotationOffset:u,fallbackLevel:i}}}catch(n){return console.error("❌ Erreur lors de la récupération des annonces hero:",n),console.log("🔄 Fallback vers les données de test"),AN(r,e,t)}},dK=t=>t>=6&&t<12?"matin":t>=12&&t<18?"après-midi":t>=18&&t<22?"soirée":"nuit",rn={getAllListings:async(t={})=>{if(!Nr)return console.warn("⚠️ Supabase non configuré, retour de données de test"),{data:[{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}},{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",description:"Véhicule en parfait état, entretien régulier, première main.",price:25e5,category:"automobile",status:"approved",user_id:"test-user-2",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},automobile_details:{brand:"Toyota",model:"Corolla",year:"2020"},contact_info:{phone:"+221 76 987 6543",email:"vendeur-auto@test.com"},users:{id:"test-user-2",first_name:"Fatou",last_name:"Sall",phone_number:"+221 76 987 6543",email:"fatou.sall@test.com"}},{id:"test-3",title:"Service de Plomberie Professionnel",description:"Plombier qualifié avec 10 ans d'expérience. Réparation, installation, maintenance. Intervention rapide 24h/24.",price:15e3,category:"services",status:"approved",user_id:"test-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Plomberie",experience:"10 ans",availability:"24h/24",verified:!0,certifications:["Certification professionnelle","Assurance responsabilité civile"]},contact_info:{phone:"+221 78 555 1234",email:"plombier@test.com",website:"www.plombier-dakar.com"},users:{id:"test-user-3",first_name:"Ibrahima",last_name:"Ndiaye",phone_number:"+221 78 555 1234",email:"ibrahima.ndiaye@test.com"}},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",description:"iPhone 13 Pro 128GB en excellent état, acheté il y a 6 mois. Boîte et accessoires inclus.",price:45e4,category:"marketplace",status:"approved",user_id:"test-user-4",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},product_details:{brand:"Apple",model:"iPhone 13 Pro",condition:"Excellent",warranty:"Garantie constructeur",dimensions:"146.7 x 71.5 x 7.65 mm",weight:"203g"},contact_info:{phone:"+221 77 888 9999",email:"tech@test.com"},users:{id:"test-user-4",first_name:"Aissatou",last_name:"Diop",phone_number:"+221 77 888 9999",email:"aissatou.diop@test.com"}}],count:4,hasMore:!1};const{page:e=0,limit:r=12,sort:n}=t,i=e*r,a=i+r-1;try{console.log("🔍 Début de la requête getAllListings"),console.log("🔍 Construction de la requête Supabase...");let o=be.from("listings").select("*").order(n==="popular"?"views_count":"created_at",{ascending:!1}).range(i,a);if(console.log("🔍 Requête de base construite"),t.category&&t.category!=="all"&&(o=o.eq("category",t.category)),t.status&&t.status!=="all"&&(o=o.eq("status",t.status)),t.user_id&&(o=o.eq("user_id",t.user_id)),t.search&&(o=o.or(`title.ilike.%${t.search}%,description.ilike.%${t.search}%`)),t.minPrice&&(o=o.gte("price",Number(t.minPrice))),t.maxPrice&&(o=o.lte("price",Number(t.maxPrice))),t.location){const d=String(t.location).trim();d&&(o=o.or(`location->>city.ilike.%${d}%,location->>country.ilike.%${d}%`))}console.log("🔍 Executing query with filters:",t),console.log("🔍 Lancement de la requête...");const{data:l,error:c}=await o;if(console.log("🔍 Requête terminée"),c)throw console.error("❌ Erreur Supabase:",c),c;const u=l?.map(d=>{try{return{...d,location:d.location?typeof d.location=="string"?JSON.parse(d.location):d.location:null,real_estate_details:d.real_estate_details?typeof d.real_estate_details=="string"?JSON.parse(d.real_estate_details):d.real_estate_details:null,automobile_details:d.automobile_details?typeof d.automobile_details=="string"?JSON.parse(d.automobile_details):d.automobile_details:null,service_details:d.service_details?typeof d.service_details=="string"?JSON.parse(d.service_details):d.service_details:null,product_details:d.product_details?typeof d.product_details=="string"?JSON.parse(d.product_details):d.product_details:null,contact_info:d.contact_info?typeof d.contact_info=="string"?JSON.parse(d.contact_info):d.contact_info:null}}catch(f){return console.warn("⚠️ Erreur parsing JSONB pour listing:",d.id,f),d}})||[];return{data:u,count:u.length,hasMore:!1}}catch(o){throw console.error("❌ Erreur dans getAllListings:",o),o}},getListingById:async t=>{if(!Nr)return console.warn("⚠️ Supabase non configuré, retour d'annonce de test"),{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}};try{const{data:e,error:r}=await be.from("listings").select(`
          *,
          users:users!listings_user_id_fkey (
            id,
            first_name,
            last_name,
            phone_number,
            email
          )
        `).eq("id",t).eq("status","approved").single();if(r){console.log("🔍 Erreur avec requête simple:",r);const{data:n,error:i}=await be.from("listings").select(`
            *,
            users:users!listings_user_id_fkey (
              id,
              first_name,
              last_name,
              phone_number,
              email
            )
          `).eq("id",t).single();if(i)throw i;return n?(console.log("🔍 Annonce trouvée sans filtre de statut:",n.status),{...n,location:typeof n.location=="string"?JSON.parse(n.location):n.location,real_estate_details:typeof n.real_estate_details=="string"?JSON.parse(n.real_estate_details):n.real_estate_details,automobile_details:typeof n.automobile_details=="string"?JSON.parse(n.automobile_details):n.automobile_details,service_details:typeof n.service_details=="string"?JSON.parse(n.service_details):n.service_details,product_details:typeof n.product_details=="string"?JSON.parse(n.product_details):n.product_details,contact_info:typeof n.contact_info=="string"?JSON.parse(n.contact_info):n.contact_info}):null}return e?{...e,location:typeof e.location=="string"?JSON.parse(e.location):e.location,real_estate_details:typeof e.real_estate_details=="string"?JSON.parse(e.real_estate_details):e.real_estate_details,automobile_details:typeof e.automobile_details=="string"?JSON.parse(e.automobile_details):e.automobile_details,service_details:typeof e.service_details=="string"?JSON.parse(e.service_details):e.service_details,product_details:typeof e.product_details=="string"?JSON.parse(e.product_details):e.product_details,contact_info:typeof e.contact_info=="string"?JSON.parse(e.contact_info):e.contact_info}:null}catch(e){throw console.error("🔍 Erreur dans getListingById:",e),e}},incrementViews:async t=>{try{const{error:e}=await be.rpc("increment_listing_views",{listing_id:t});if(e)throw e}catch(e){console.warn("⚠️ Impossible d'incrémenter views_count pour",t,e?.message)}},getTopViewedListings:async(t=6)=>{if(console.log("🔍 getTopViewedListings appelé avec limit:",t),console.log("🔍 isSupabaseConfigured:",Nr),!Nr)return console.warn("⚠️ Supabase non configuré, retour de données de test (top vues)"),[{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",price:25e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:1200,is_featured:!1,is_boosted:!1},{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",price:5e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:980,is_featured:!1,is_boosted:!1},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",price:45e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!1}].slice(0,t);try{console.log("🔍 Tentative de connexion à Supabase...");const{data:e,error:r}=await be.from("listings").select("*").eq("status","approved").not("is_featured","eq",!0).not("is_boosted","eq",!0).order("views_count",{ascending:!1,nullsFirst:!1}).limit(t);if(console.log("🔍 Réponse Supabase:",{data:e,error:r}),r)throw r;const n=(e||[]).map(i=>({...i,location:i.location?typeof i.location=="string"?JSON.parse(i.location):i.location:null,real_estate_details:i.real_estate_details?typeof i.real_estate_details=="string"?JSON.parse(i.real_estate_details):i.real_estate_details:null,automobile_details:i.automobile_details?typeof i.automobile_details=="string"?JSON.parse(i.automobile_details):i.automobile_details:null,service_details:i.service_details?typeof i.service_details=="string"?JSON.parse(i.service_details):i.service_details:null,product_details:i.product_details?typeof i.product_details=="string"?JSON.parse(i.product_details):i.product_details:null,contact_info:i.contact_info?typeof i.contact_info=="string"?JSON.parse(i.contact_info):i.contact_info:null}));return console.log("🔍 Données nettoyées:",n),n}catch(e){throw console.error("❌ Erreur dans getTopViewedListings:",e),e}},getUserListings:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await be.from("listings").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},createListing:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{currency:r,specificData:n,subCategory:i,videos:a,...o}=t,l={...o,user_id:e.id,status:"approved"};r&&(l.currency=r),n&&Object.keys(n).length>0&&(l.specific_data=n),i&&(l.subCategory=i),a&&a.length>0&&(l.videos=a);const{data:c,error:u}=await be.from("listings").insert([l]).select().single();if(u)throw console.error("Erreur création annonce:",u),u;return c},updateListing:async(t,e)=>{const{data:r,error:n}=await be.from("listings").update(e).eq("id",t).select().single();if(n)throw n;return r},deleteListing:async t=>{const{error:e}=await be.from("listings").delete().eq("id",t);if(e)throw e},updateListingStatus:async(t,e)=>{const{data:r,error:n}=await be.from("listings").update({status:e}).eq("id",t).select().single();if(n)throw n;return r},searchListings:async t=>{const{query:e,category:r,minPrice:n,maxPrice:i,location:a,status:o="approved"}=t;let l=be.from("listings").select("*").eq("status",o);e&&(l=l.or(`title.ilike.%${e}%,description.ilike.%${e}%`)),r&&(l=l.eq("category",r)),n&&(l=l.gte("price",Number(n))),i&&(l=l.lte("price",Number(i))),a&&(l=l.or(`location->>city.ilike.%${a}%,location->>country.ilike.%${a}%`));const{data:c,error:u}=await l.order("created_at",{ascending:!1});if(u)throw u;return c},getListingStats:async()=>{const{data:t,error:e}=await be.from("listings").select("category, status, created_at, price");if(e)throw e;const r={total:t.length,byCategory:{},byStatus:{},byMonth:{},totalValue:0,averagePrice:0};let n=0;return t.forEach(i=>{r.byCategory[i.category]=(r.byCategory[i.category]||0)+1,r.byStatus[i.status]=(r.byStatus[i.status]||0)+1;const a=new Date(i.created_at).toISOString().slice(0,7);r.byMonth[a]=(r.byMonth[a]||0)+1,i.price&&(n+=i.price)}),r.totalValue=n,r.averagePrice=t.length>0?n/t.length:0,r},getPremiumListings:async(t=6,e=!1)=>{if(!Nr)return console.warn("⚠️ Supabase non configuré, retour de données de test premium"),{data:[{id:"premium-1",title:"Villa de luxe avec vue mer - Premium",description:"Magnifique villa 5 pièces avec vue panoramique sur l'océan. Piscine privée, jardin paysager, garage 2 voitures.",price:15e6,category:"real_estate",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-1",created_at:new Date().toISOString(),location:{city:"Saly",country:"Sénégal"},real_estate_details:{type:"Villa",rooms:"5 pièces",surface:"200m²",amenities:["Piscine","Jardin","Garage"]},contact_info:{phone:"+221 77 999 8888",email:"villa-premium@test.com"},views_count:1250,favorites_count:89,users:{id:"premium-user-1",first_name:"Omar",last_name:"Diop",phone_number:"+221 77 999 8888",email:"omar.diop@test.com"}},{id:"premium-2",title:"Mercedes Classe S 2023 - Premium",description:"Berline de luxe Mercedes Classe S en parfait état, toutes options, entretien constructeur, garantie étendue.",price:45e6,category:"automobile",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-2",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},automobile_details:{brand:"Mercedes",model:"Classe S",year:"2023",condition:"Parfait"},contact_info:{phone:"+221 76 777 6666",email:"mercedes-premium@test.com"},views_count:890,favorites_count:67,users:{id:"premium-user-2",first_name:"Aissatou",last_name:"Fall",phone_number:"+221 76 777 6666",email:"aissatou.fall@test.com"}},{id:"premium-3",title:"Service de Design d'Intérieur Premium",description:"Designer d'intérieur certifié avec 15 ans d'expérience. Projets résidentiels et commerciaux, suivi complet.",price:25e4,category:"services",status:"approved",is_featured:!0,is_boosted:!1,user_id:"premium-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Design d'Intérieur",experience:"15 ans",availability:"Sur rendez-vous",verified:!0,certifications:["Certification internationale","Membre de l'ordre des designers"]},contact_info:{phone:"+221 78 444 3333",email:"design-premium@test.com",website:"www.design-interieur-premium.com"},views_count:567,favorites_count:34,users:{id:"premium-user-3",first_name:"Mariama",last_name:"Ba",phone_number:"+221 78 444 3333",email:"mariama.ba@test.com"}}],hasMore:!1};try{const{data:r,error:n}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            phone_number,
            email
          ),
          listing_boosts (
            boost_packages (
              features
            ),
            end_date
          )
        `).or("is_featured.eq.true,is_boosted.eq.true").eq("status","approved").order("updated_at",{ascending:!1});if(n)throw n;const i=r.map(a=>{const o=a.listing_boosts?.[0],l=o?.boost_packages?.features;return{...a,premium_metadata:{priority:l?.priority||"medium",badge:l?.badge||"boosted",featured:l?.featured||!1,analytics:l?.analytics||"basic",support:l?.support||"standard"},boost_expires_at:o?.end_date||null}});if(e){console.log("🏆 Tri par score premium activé");const a=i.sort((o,l)=>{const c=kN(o);return kN(l)-c});return{data:a.slice(0,t),hasMore:a.length>t,totalPremium:a.length,sortingMethod:"score",topScores:a.slice(0,3).map((o,l)=>({position:l+1,score:kN(o),title:o.title}))}}else return console.log("🔄 Rotation intelligente activée"),Nme(i,t)}catch(r){throw console.error("Erreur lors de la récupération des annonces premium:",r),r}},getHeroListings:async(t=6)=>Eme(t)};class Pme{async getUserTransactions(e,r={}){try{let n=be.from("transactions").select(`
          *,
          listing:listings(id, title, price, images),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url)
        `).or(`sender_id.eq.${e},receiver_id.eq.${e}`).order("created_at",{ascending:!1});r.status&&(n=n.eq("status",r.status)),r.type&&(n=n.eq("type",r.type)),r.dateFrom&&(n=n.gte("created_at",r.dateFrom)),r.dateTo&&(n=n.lte("created_at",r.dateTo)),r.amountMin&&(n=n.gte("amount",r.amountMin)),r.amountMax&&(n=n.lte("amount",r.amountMax));const{data:i,error:a}=await n;if(a)throw a;return i}catch(n){throw console.error("Erreur lors de la récupération des transactions:",n),n}}async createTransaction(e){try{const{data:r,error:n}=await be.from("transactions").insert([{...e,status:"pending",created_at:new Date().toISOString()}]).select().single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la création de la transaction:",r),r}}async updateTransactionStatus(e,r,n={}){try{const{data:i,error:a}=await be.from("transactions").update({status:r,metadata:{...n,status_updated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(a)throw a;return i}catch(i){throw console.error("Erreur lors de la mise à jour du statut:",i),i}}async getTransaction(e){try{const{data:r,error:n}=await be.from("transactions").select(`
          *,
          listing:listings(id, title, price, images, description),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url, email)
        `).eq("id",e).single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la récupération de la transaction:",r),r}}async cancelTransaction(e,r){try{const{data:n,error:i}=await be.from("transactions").update({status:"cancelled",metadata:{cancellation_reason:r,cancelled_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de l'annulation de la transaction:",n),n}}async getTransactionStats(e){try{const{data:r,error:n}=await be.from("transactions").select("status, amount, type, created_at").or(`sender_id.eq.${e},receiver_id.eq.${e}`);if(n)throw n;const i={total:r.length,totalAmount:r.reduce((a,o)=>a+(o.amount||0),0),byStatus:{},byType:{},monthly:{}};return r.forEach(a=>{i.byStatus[a.status]=(i.byStatus[a.status]||0)+1,i.byType[a.type]=(i.byType[a.type]||0)+1;const o=new Date(a.created_at).toISOString().slice(0,7);i.monthly[o]||(i.monthly[o]={count:0,amount:0}),i.monthly[o].count++,i.monthly[o].amount+=a.amount||0}),i}catch(r){throw console.error("Erreur lors de la récupération des statistiques:",r),r}}async searchTransactions(e,r){try{const{data:n,error:i}=await be.from("transactions").select(`
          *,
          listing:listings(id, title),
          sender:users!transactions_sender_id_fkey(id, full_name),
          receiver:users!transactions_receiver_id_fkey(id, full_name)
        `).or(`sender_id.eq.${e},receiver_id.eq.${e}`).or(`reference.ilike.%${r}%,description.ilike.%${r}%`).order("created_at",{ascending:!1});if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la recherche de transactions:",n),n}}async exportTransactions(e,r={}){try{return(await this.getUserTransactions(e,r)).map(a=>({Référence:a.reference,Date:new Date(a.created_at).toLocaleDateString("fr-FR"),Type:a.type,Statut:a.status,Montant:a.amount,Devise:a.currency,Description:a.description,Expéditeur:a.sender?.full_name||"N/A",Destinataire:a.receiver?.full_name||"N/A"}))}catch(n){throw console.error("Erreur lors de l'export des transactions:",n),n}}async validateTransaction(e,r){try{const{data:n,error:i}=await be.from("transactions").update({status:"completed",metadata:{validated_by:r,validated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la validation de la transaction:",n),n}}async getPendingTransactions(){try{const{data:e,error:r}=await be.from("transactions").select(`
          *,
          listing:listings(id, title, price),
          sender:users!transactions_sender_id_fkey(id, full_name, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, email)
        `).eq("status","pending").order("created_at",{ascending:!0});if(r)throw r;return e}catch(e){throw console.error("Erreur lors de la récupération des transactions en attente:",e),e}}}const kme=new Pme,fK={getUserNotifications:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await be.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},markAsRead:async t=>{const{data:e,error:r}=await be.from("notifications").update({read:!0}).eq("id",t).select().single();if(r)throw r;return e},createNotification:async t=>{const{data:e,error:r}=await be.from("notifications").insert([t]).select().single();if(r)throw r;return e},markAllAsRead:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:e}=await be.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);if(e)throw e;return!0},deleteNotification:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:r}=await be.from("notifications").delete().eq("id",t).eq("user_id",e.id);if(r)throw r;return!0},getUnreadCount:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{count:e,error:r}=await be.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("read",!1);if(r)throw r;return e||0},sendPushNotification:async(t,e,r,n={})=>{try{const{data:i,error:a}=await be.from("users").select("push_token").eq("id",t).single();return a||!i?.push_token?(console.warn("Aucun token push trouvé pour l'utilisateur:",t),!1):await fK.createNotification({user_id:t,title:e,body:r,type:"push",data:JSON.stringify(n),read:!1})}catch(i){throw console.error("Erreur envoi notification push:",i),i}}};new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const Ame=async t=>{try{console.log("🔍 Création de la conversation de bienvenue pour l'utilisateur:",t);const{data:e,error:r}=await be.from("conversations").insert([{participant1_id:"00000000-0000-0000-0000-000000000000",participant2_id:t,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw console.error("❌ Erreur création conversation de bienvenue:",r),r;console.log("✅ Conversation de bienvenue créée:",e.id);const n={conversation_id:e.id,sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:t,content:`🤖 Bonjour ! Je suis AIDA, votre assistant intelligent MaxiMarket !

Votre marketplace de confiance pour l'Afrique de l'Ouest.

✨ Découvrez nos fonctionnalités :
• 🏠 Immobilier : Achetez, vendez, louez
• 🚗 Automobile : Véhicules neufs et d'occasion
• 🛠️ Services : Trouvez des professionnels
• 🛍️ Marketplace : Tout ce dont vous avez besoin

🔒 Sécurité garantie avec nos partenaires vérifiés
💬 Support 24/7 disponible

Besoin d'aide ? Je suis là pour vous accompagner !`,message_type:"system",is_read:!1,created_at:new Date().toISOString()},{data:i,error:a}=await be.from("messages").insert([n]).select().single();if(a)throw console.error("❌ Erreur ajout message de bienvenue:",a),a;return console.log("✅ Message de bienvenue ajouté:",i.id),e}catch(e){return console.error("❌ Erreur création conversation de bienvenue:",e),null}},is={getUserConversations:async()=>{try{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des conversations pour l'utilisateur:",t.id);const{data:e,error:r}=await be.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1});if(r)throw console.error("❌ Erreur récupération conversations:",r),r;console.log("🔍 Conversations trouvées:",e?.length||0),console.log("🔍 Vérification de la conversation de l'assistant...");const{data:n,error:i}=await be.from("conversations").select(`
          id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.00000000-0000-0000-0000-000000000000,participant2_id.eq.${t.id}`).or(`participant1_id.eq.${t.id},participant2_id.eq.00000000-0000-0000-0000-000000000000`).single();let a=null;i||!n?(console.log("Création de la conversation de l'assistant pour l'utilisateur:",t.id),a=await Ame(t.id)):(console.log("Conversation de l'assistant existante trouvée:",n.id),a=n);let o=null;if(a){const{data:c,error:u}=await be.from("messages").select("*").eq("conversation_id",a.id).eq("sender_id","00000000-0000-0000-0000-000000000000").single();!u&&c&&(o={...a,messages:[c],participant1:{id:"00000000-0000-0000-0000-000000000000",first_name:"AIDA",last_name:"Assistant",profile_image:null},participant2:{id:t.id,first_name:t.user_metadata?.first_name||"",last_name:t.user_metadata?.last_name||"",profile_image:t.user_metadata?.profile_image||null},listing:null})}if((!e||e.length===0)&&!o)return console.log("Aucune conversation trouvée, impossible de créer l'assistant"),[];const l=await Promise.all(e.map(async c=>{try{console.log(`🔍 Traitement de la conversation: ${c.id}`);let u=null;if(c.listing_id){const{data:j,error:N}=await be.from("listings").select("id, title, price, images").eq("id",c.listing_id).single();!N&&j?(u=j,console.log(`✅ Listing récupéré pour la conversation ${c.id}:`,j.title)):console.warn(`⚠️ Listing non trouvé pour la conversation ${c.id}:`,N)}const d=c.participant1_id,f=c.participant2_id;console.log(`🔍 Récupération des participants pour la conversation ${c.id}:`),console.log(`🔍 Participant 1 ID: ${d}`),console.log(`🔍 Participant 2 ID: ${f}`);let g=null,v=null;if(d)try{console.log(`🔍 Récupération des détails du participant 1: ${d}`);const{data:j,error:N}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",d).single();console.log("🔍 Résultat participant 1 - data:",j),console.log("🔍 Résultat participant 1 - error:",N),!N&&j?(g=j,console.log(`✅ Participant 1 récupéré pour la conversation ${c.id}:`,{id:j.id,name:`${j.first_name||"N/A"} ${j.last_name||"N/A"}`,avatar:j.profile_image||j.profile_image})):(console.warn(`❌ Utilisateur 1 non trouvé pour la conversation ${c.id}:`,d,N),g={id:d,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(j){console.error(`❌ Erreur lors de la récupération de l'utilisateur 1 pour la conversation ${c.id}:`,j),g={id:d,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}if(f)try{console.log(`🔍 Récupération des détails du participant 2: ${f}`);const{data:j,error:N}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",f).single();console.log("🔍 Résultat participant 2 - data:",j),console.log("🔍 Résultat participant 2 - error:",N),!N&&j?(v=j,console.log(`✅ Participant 2 récupéré pour la conversation ${c.id}:`,{id:j.id,name:`${j.first_name||"N/A"} ${j.last_name||"N/A"}`,avatar:j.profile_image||j.profile_image})):(console.warn(`❌ Utilisateur 2 non trouvé pour la conversation ${c.id}:`,f,N),v={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(j){console.error(`❌ Erreur lors de la récupération de l'utilisateur 2 pour la conversation ${c.id}:`,j),v={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}const{data:y,error:b}=await be.from("messages").select(`
                id,
                content,
                created_at,
                is_read,
                sender_id,
                conversation_id
              `).eq("conversation_id",c.id).order("created_at",{ascending:!0});if(b)return console.error(`❌ Erreur récupération messages pour la conversation ${c.id}:`,b),{...c,messages:[],listing:u,participant1:g,participant2:v};console.log(`✅ Messages récupérés pour la conversation ${c.id}:`,y?.length||0);const _=await Promise.all((y||[]).map(async j=>{try{let N=null;if(j.sender_id){console.log(`🔍 Récupération de l'expéditeur pour le message ${j.id}: ${j.sender_id}`);const{data:C,error:A}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",j.sender_id).single();!A&&C?(N=C,console.log(`✅ Expéditeur récupéré pour le message ${j.id}:`,{id:C.id,name:`${C.first_name||"N/A"} ${C.last_name||"N/A"}`})):console.warn(`⚠️ Expéditeur non trouvé pour le message ${j.id}:`,j.sender_id,A)}return{...j,sender:N}}catch(N){return console.error(`❌ Erreur lors de la récupération des détails de l'expéditeur pour le message ${j.id}:`,N),j}}));return console.log(`✅ Conversation ${c.id} traitée avec succès:`,{participant1:g?`${g.first_name||"N/A"} ${g.last_name||"N/A"}`:"N/A",participant2:v?`${v.first_name||"N/A"} ${v.last_name||"N/A"}`:"N/A",messages:_?.length||0,listing:u?.title||"N/A"}),{...c,messages:_||[],listing:u,participant1:g,participant2:v}}catch(u){return console.error(`❌ Erreur lors du traitement de la conversation ${c.id}:`,u),{...c,messages:[],listing:null,participant1:null,participant2:null}}}));return o&&(l.unshift(o),console.log("✅ Conversation de l'assistant ajoutée à la liste")),console.log(`✅ Total des conversations traitées: ${l.length}`),l.forEach((c,u)=>{console.log(`🔍 Conversation ${u+1}:`,{id:c.id,p1:c.participant1?`${c.participant1.first_name||"N/A"} ${c.participant1.last_name||"N/A"}`:"N/A",p2:c.participant2?`${c.participant2.first_name||"N/A"} ${c.participant2.last_name||"N/A"}`:"N/A",messages:c.messages?.length||0})}),l}catch(t){throw console.error("❌ Erreur dans getUserConversations:",t),t}},getConversationMessages:async t=>{try{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages pour la conversation:",t);const{data:r,error:n}=await be.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",t).order("created_at",{ascending:!0});if(n)throw console.error("Erreur récupération messages:",n),n;return await Promise.all((r||[]).map(async a=>{try{let o=null,l=null;if(a.sender_id){const{data:c,error:u}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",a.sender_id).single();!u&&c&&(o=c)}if(a.receiver_id){const{data:c,error:u}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",a.receiver_id).single();!u&&c&&(l=c)}return{...a,sender:o,receiver:l}}catch(o){return console.error("Erreur lors de la récupération des détails utilisateur:",o),a}}))}catch(e){throw console.error("Erreur dans getConversationMessages:",e),e}},sendMessage:async(t,e,r="text")=>{const{data:{user:n}}=await be.auth.getUser();if(!n)throw new Error("Utilisateur non connecté");console.log("📤 Envoi de message dans la conversation:",t);const{data:i,error:a}=await be.from("conversations").select("participant1_id, participant2_id").eq("id",t).single();if(a)throw a;const o=i.participant1_id===n.id?i.participant2_id:i.participant1_id,l=new Date().toISOString(),{data:c,error:u}=await be.from("messages").insert([{sender_id:n.id,receiver_id:o,conversation_id:t,content:e,message_type:r,created_at:l}]).select().single();if(u)throw u;console.log("✅ Message envoyé avec succès, mise à jour de la conversation..."),console.log("🔍 message.service - Mise à jour de la conversation:",t),console.log("🔍 message.service - currentTime:",l);const{data:d,error:f}=await be.from("conversations").update({last_message_at:l,updated_at:l}).eq("id",t).select();return f?console.error("❌ Erreur mise à jour conversation:",f):(console.log("✅ Conversation mise à jour avec succès:",d),console.log("✅ last_message_at mis à jour:",l)),c},refreshConversations:async()=>{try{return console.log("🔄 Actualisation automatique des conversations..."),await is.getUserConversations()}catch(t){throw console.error("❌ Erreur lors de l'actualisation des conversations:",t),t}},syncConversation:async t=>{try{console.log("🔄 Synchronisation de la conversation:",t);const{data:e,error:r}=await be.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",t).order("created_at",{ascending:!0});if(r)throw r;const n=await Promise.all((e||[]).map(async i=>{try{let a=null;if(i.sender_id){const{data:o,error:l}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!l&&o&&(a=o)}return{...i,sender:a}}catch(a){return console.error("Erreur lors de la récupération des détails de l'expéditeur:",a),i}}));return console.log("✅ Conversation synchronisée:",n?.length||0,"messages"),n}catch(e){throw console.error("❌ Erreur lors de la synchronisation de la conversation:",e),e}},createConversation:async(t,e=null)=>{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await be.from("conversations").select("id").or(`and(participant1_id.eq.${r.id},participant2_id.eq.${t}),and(participant1_id.eq.${t},participant2_id.eq.${r.id})`).eq("listing_id",e).single();if(n)return n;const{data:a,error:o}=await be.from("conversations").insert([{participant1_id:r.id,participant2_id:t,listing_id:e,is_active:!0}]).select().single();if(o)throw o;return a},markMessagesAsRead:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Marquage des messages comme lus pour la conversation:",t);const{error:r}=await be.from("messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",t).neq("sender_id",e.id).eq("is_read",!1);if(r)throw console.error("Erreur lors du marquage des messages comme lus:",r),r;return console.log("✅ Messages marqués comme lus avec succès"),!0},archiveConversation:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Archivage de la conversation:",t);const{data:r,error:n}=await be.from("conversations").select("participant1_id, participant2_id, is_archived").eq("id",t).single();if(n)throw n;if(r.participant1_id!==e.id&&r.participant2_id!==e.id)throw new Error("Non autorisé");const i=!r.is_archived,{error:a}=await be.from("conversations").update({is_archived:i,updated_at:new Date().toISOString()}).eq("id",t);if(a)throw console.error("Erreur lors de l'archivage de la conversation:",a),a;return console.log(`✅ Conversation ${i?"archivée":"désarchivée"} avec succès`),{is_archived:i}},toggleConversationStar:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Basculement du statut favori pour la conversation:",t);const{data:r,error:n}=await be.from("conversations").select("participant1_id, participant2_id, starred").eq("id",t).single();if(n)throw n;if(r.participant1_id!==e.id&&r.participant2_id!==e.id)throw new Error("Non autorisé");const i=!r.starred,{error:a}=await be.from("conversations").update({starred:i,updated_at:new Date().toISOString()}).eq("id",t);if(a)throw console.error("Erreur lors du basculement du statut favori:",a),a;return console.log(`✅ Conversation ${i?"ajoutée aux":"retirée des"} favoris avec succès`),{starred:i}},deleteMessage:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression du message:",t);const{data:r,error:n}=await be.from("messages").select("sender_id, conversation_id").eq("id",t).single();if(n)throw n;if(r.sender_id!==e.id)throw new Error("Vous ne pouvez supprimer que vos propres messages");const{error:i}=await be.from("messages").delete().eq("id",t);if(i)throw console.error("Erreur lors de la suppression du message:",i),i;return console.log("✅ Message supprimé avec succès"),!0},deleteConversation:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression de la conversation:",t),console.log("🔍 Utilisateur actuel:",e.id);const{data:r,error:n}=await be.from("conversations").select("participant1_id, participant2_id").eq("id",t).single();if(n)throw console.error("❌ Erreur lors de la vérification de la conversation:",n),n;if(console.log("🔍 Conversation trouvée:",r),r.participant1_id!==e.id&&r.participant2_id!==e.id)throw console.error("❌ Utilisateur non autorisé à supprimer cette conversation"),new Error("Non autorisé");console.log("✅ Autorisation vérifiée, suppression en cours..."),console.log("🔍 Suppression des messages de la conversation...");const{error:i}=await be.from("messages").delete().eq("conversation_id",t);if(i)throw console.error("❌ Erreur lors de la suppression des messages:",i),i;console.log("✅ Messages supprimés avec succès"),console.log("🔍 Suppression de la conversation...");const{error:a}=await be.from("conversations").delete().eq("id",t);if(a)throw console.error("❌ Erreur lors de la suppression de la conversation:",a),a;return console.log("✅ Conversation supprimée avec succès"),!0},searchConversations:async t=>{try{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Recherche de conversations avec le terme:",t);const{data:r,error:n}=await be.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(n)throw console.error("Erreur recherche conversations:",n),n;return(await Promise.all((r||[]).map(async a=>{try{let o=null,l=null,c=null;if(a.listing_id){const{data:u,error:d}=await be.from("listings").select("id, title").eq("id",a.listing_id).single();!d&&u&&(o=u)}if(a.participant1_id){const{data:u,error:d}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",a.participant1_id).single();!d&&u&&(l=u)}if(a.participant2_id){const{data:u,error:d}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",a.participant2_id).single();!d&&u&&(c=u)}return{...a,listing:o,participant1:l,participant2:c}}catch(o){return console.error("Erreur lors de l'enrichissement de la conversation:",o),a}}))).filter(a=>{if(!t)return!0;const o=t.toLowerCase();return!!(a.listing?.title?.toLowerCase().includes(o)||a.participant1?.first_name?.toLowerCase().includes(o)||a.participant1?.last_name?.toLowerCase().includes(o)||a.participant2?.first_name?.toLowerCase().includes(o)||a.participant2?.last_name?.toLowerCase().includes(o))})}catch(e){throw console.error("Erreur dans searchConversations:",e),e}},getUnreadMessages:async()=>{try{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages non lus pour l'utilisateur:",t.id);const{data:e,error:r}=await be.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("receiver_id",t.id).eq("is_read",!1).order("created_at",{ascending:!1});if(r)throw console.error("Erreur récupération messages non lus:",r),r;return await Promise.all((e||[]).map(async i=>{try{let a=null,o=null;if(i.conversation_id){const{data:l,error:c}=await be.from("conversations").select("id, listing_id").eq("id",i.conversation_id).single();!c&&l&&(a=l)}if(i.sender_id){const{data:l,error:c}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!c&&l&&(o=l)}return{...i,conversation:a,sender:o}}catch(a){return console.error("Erreur lors de l'enrichissement du message:",a),i}}))}catch(t){throw console.error("Erreur dans getUnreadMessages:",t),t}},getUnreadMessageCount:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{count:e,error:r}=await be.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",t.id).eq("is_read",!1);if(r)throw r;return e||0},sendSystemMessage:async(t,e,r="system")=>{const{data:n,error:i}=await be.from("messages").insert([{sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:t,content:e,message_type:r,is_read:!1}]).select().single();if(i)throw i;return n}};class Tme{static forbiddenWords=["spam","arnaque","fake","faux","escroquerie","arnaqueur","arnaqueuse","escroc","arnaqueur","arnaqueuse","arnaqueur","merde","putain","con","salope","nique","fuck","shit","bitch","asshole","connard","connasse","enculé","enculée","publicité","pub","promotion","offre spéciale","promo","rabais","réduction","bon plan","opportunité","business","politique","religion","dieu","allah","jésus","parti","élection","vote","candidat","président","ministre","drogue","cannabis","cocaïne","héroïne","trafic","illégal","contrefaçon","faux billets","fausse monnaie","vol","cambriolage"];static spamPatterns=[/(https?:\/\/[^\s]+)/g,/(\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b)/g,/(\b\d{10,}\b)/g,/(\b[A-Z]{5,}\b)/g,/(.)\1{4,}/g,/(\b\w+\b)(?:\s+\1){2,}/g];static commercialPatterns=[/\b(achetez|vendez|promotion|offre|rabais|réduction|bon plan)\b/gi,/\b(contactez|appelez|écrivez|visitez)\b/gi,/\b(prix|tarif|coût|gratuit|payant)\b/gi];static analyzeContent(e){if(!e||typeof e!="string")return{isClean:!1,score:100,issues:["Contenu vide ou invalide"],shouldAutoReject:!0,shouldAutoApprove:!1,moderationLevel:"high"};const r=e.toLowerCase(),n=[];let i=100;const a=this.forbiddenWords.filter(v=>r.includes(v.toLowerCase()));a.length>0&&(n.push(`Mots interdits détectés: ${a.join(", ")}`),i-=a.length*20);const o=this.spamPatterns.some(v=>v.test(e));o&&(n.push("Patterns de spam détectés"),i-=30);const l=this.commercialPatterns.some(v=>v.test(e));l&&(n.push("Contenu commercial détecté"),i-=15),e.length<10&&(n.push("Commentaire trop court"),i-=25),e.length>1e3&&(n.push("Commentaire trop long"),i-=10),(e.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/g)||[]).length/e.length>.3&&(n.push("Trop de caractères spéciaux"),i-=20),(e.match(/[A-Z]/g)||[]).length/e.length>.5&&(n.push("Trop de majuscules"),i-=15);const d=i<30||a.length>=3,f=i>=80&&n.length===0,g=i<30?"high":i<60?"medium":"low";return{isClean:i>=60,score:Math.max(0,i),issues:n,shouldAutoReject:d,shouldAutoApprove:f,moderationLevel:g,foundForbiddenWords:a,spamDetected:o,commercialDetected:l}}static async moderateComment(e){const r=this.analyzeContent(e.content);let n="pending",i=null;return r.shouldAutoReject?(n="rejected",i=`Contenu inapproprié détecté: ${r.issues.join(", ")}`):r.shouldAutoApprove?(n="approved",i="Contenu approuvé automatiquement"):(n="pending",i="Nécessite une modération manuelle"),{status:n,reason:i,analysis:r,moderatedAt:new Date().toISOString()}}static async checkUserRateLimit(e,r){return{canPost:!0,reason:null,nextAllowedTime:null}}static async analyzeUserBehavior(e){return{trustScore:50,warningCount:0,isFlagged:!1,lastViolation:null}}static getModerationSuggestions(e){const r=[];return e.foundForbiddenWords.length>0&&r.push({type:"warning",message:"Évitez les mots inappropriés",action:"reject"}),e.spamDetected&&r.push({type:"warning",message:"Contenu détecté comme spam",action:"reject"}),e.commercialDetected&&r.push({type:"info",message:"Contenu commercial détecté",action:"review"}),e.score<50&&r.push({type:"warning",message:"Score de qualité faible",action:"review"}),r}static formatModerationReport(e,r,n){return{commentId:e.id,userId:e.user_id,listingId:e.listing_id,content:e.content,analysis:{score:r.score,issues:r.issues,moderationLevel:r.moderationLevel},moderation:{status:n.status,reason:n.reason,moderatedAt:n.moderatedAt},suggestions:this.getModerationSuggestions(r)}}}class Ome{async getComments(e,r={}){console.log("🔍 [CommentService] getComments appelé avec:",{listingId:e,options:r});try{console.log("🔍 [CommentService] Construction de la requête...");const{page:n=1,limit:i=10,forceRefresh:a=!1}=r,o=(n-1)*i,l=o+i-1;console.log("🔍 [CommentService] Paramètres de pagination:",{page:n,limit:i,from:o,to:l,forceRefresh:a});const c=a?`&_t=${Date.now()}`:"",{data:u,error:d}=await be.from("comments").select(`
          *,
          user:users(id, first_name, last_name, email)
        `).eq("listing_id",e).eq("status","approved").order("created_at",{ascending:!1}).range(o,l);if(console.log("🔍 [CommentService] Requête SQL exécutée avec listingId:",e),console.log("🔍 [CommentService] Résultat requête commentaires:",{commentsCount:u?.length||0,comments:u?.map(_=>({id:_.id,user_id:_.user_id,user:_.user,content:_.content?.substring(0,50)+"..."})),commentsError:d}),d)throw console.error("❌ [CommentService] Erreur requête commentaires:",d),d;const{count:f,error:g}=await be.from("comments").select("*",{count:"exact",head:!0}).eq("listing_id",e).eq("status","approved");if(console.log("🔍 [CommentService] Résultat comptage:",{count:f,countError:g}),g)throw console.error("❌ [CommentService] Erreur comptage:",g),g;const v=f||0,y=Math.ceil(v/i),b=u?.map(_=>{const j=_.user;let N="Utilisateur anonyme",C=null;if(j)j.first_name&&j.last_name?N=`${j.first_name} ${j.last_name}`:j.first_name?N=j.first_name:j.last_name?N=j.last_name:j.email&&(N=j.email.split("@")[0]),C=j.email;else{const A=_.user_id;A&&(N=`Utilisateur ${A.slice(0,8)}`)}return{..._,user_display_name:N,user_email:C}})||[];return console.log("✅ [CommentService] Commentaires récupérés avec succès:",{commentsCount:b?.length||0,total:v,pages:y,currentPage:n}),{comments:b,pagination:{page:n,limit:i,total:v,pages:y},error:null}}catch(n){return console.error("❌ [CommentService] Erreur finale:",n),{comments:[],pagination:{page:1,limit:10,total:0,pages:0},error:n.message}}}async createComment(e){console.log("🔍 [CommentService] createComment appelé avec:",e);try{console.log("🔍 [CommentService] Début de la création..."),console.log("🔍 [CommentService] Appel de la modération...");const r=await Tme.moderateComment(e);console.log("�� [CommentService] Résultat modération:",r);const n={listing_id:e.listing_id,user_id:e.user_id,content:e.content,rating:e.rating,parent_id:e.parent_id||null,status:r.status};console.log("🔍 [CommentService] Données à insérer:",n);const{data:i,error:a}=await be.from("comments").insert([n]).select("*").single();if(console.log("🔍 [CommentService] Résultat insertion:",{data:i,error:a}),a)throw a;return console.log("✅ [CommentService] Commentaire créé avec succès"),{comment:{...i,user_display_name:`Utilisateur ${i.user_id?.slice(0,8)}`,user_email:null},error:null,moderation:r}}catch(r){return console.error("❌ [CommentService] Erreur lors de la création du commentaire:",r),{comment:null,error:r.message}}}async updateComment(e,r){try{const{data:n,error:i}=await be.from("comments").update(r).eq("id",e).select("*").single();if(i)throw i;return{comment:{...n,user_display_name:`Utilisateur ${n.user_id?.slice(0,8)}`,user_email:null},error:null}}catch(n){return console.error("Erreur lors de la mise à jour du commentaire:",n),{comment:null,error:n.message}}}async deleteComment(e){try{const{error:r}=await be.from("comments").delete().eq("id",e);if(r)throw r;return{error:null}}catch(r){return console.error("Erreur lors de la suppression du commentaire:",r),{error:r.message}}}async reportComment(e,r){try{const{data:n,error:i}=await be.from("comment_reports").insert([{comment_id:e,...r}]).select().single();if(i)throw i;return{report:n,error:null}}catch(n){return console.error("Erreur lors du signalement du commentaire:",n),{report:null,error:n.message}}}async getCommentStats(e){try{const{data:r,error:n}=await be.rpc("get_listing_comment_stats",{listing_uuid:e});if(n)throw n;return{stats:r[0]||null,error:null}}catch(r){console.error("Erreur lors de la récupération des statistiques:",r);try{const{data:n,error:i}=await be.from("comments").select("rating, is_verified_purchase").eq("listing_id",e).eq("status","approved");if(i)throw i;return{stats:{total_comments:n.length,average_rating:n.length>0?n.reduce((o,l)=>o+l.rating,0)/n.length:0,verified_purchases:n.filter(o=>o.is_verified_purchase).length,rating_distribution:{1:n.filter(o=>o.rating===1).length,2:n.filter(o=>o.rating===2).length,3:n.filter(o=>o.rating===3).length,4:n.filter(o=>o.rating===4).length,5:n.filter(o=>o.rating===5).length}},error:null}}catch(n){return{stats:null,error:n.message}}}}async getUserComments(e,r={}){const{page:n=1,limit:i=10,status:a=null}=r;try{let o=be.from("comments").select(`
          *,
          listing:listings(id, title, category, images)
        `).eq("user_id",e);a&&(o=o.eq("status",a)),o=o.order("created_at",{ascending:!1});const l=(n-1)*i,c=l+i-1;o=o.range(l,c);const{data:u,error:d,count:f}=await o;if(d)throw d;return{comments:u||[],pagination:{page:n,limit:i,total:f,pages:Math.ceil(f/i)},error:null}}catch(o){return console.error("Erreur lors de la récupération des commentaires utilisateur:",o),{comments:[],pagination:{page:n,limit:i,total:0,pages:0},error:o.message}}}async getPendingComments(e={}){const{page:r=1,limit:n=20}=e;try{const{data:i,error:a,count:o}=await be.from("comments").select(`
          *,
          listing:listings(id, title, category)
        `).eq("status","pending").order("created_at",{ascending:!1}).range((r-1)*n,r*n-1);if(a)throw a;return{comments:i||[],pagination:{page:r,limit:n,total:o,pages:Math.ceil(o/n)},error:null}}catch(i){return console.error("Erreur lors de la récupération des commentaires en attente:",i),{comments:[],pagination:{page:r,limit:n,total:0,pages:0},error:i.message}}}async moderateComment(e,r,n=null){try{const i={status:r,updated_at:new Date().toISOString()},{data:a,error:o}=await be.from("comments").update(i).eq("id",e).select().single();if(o)throw o;return{comment:a,error:null}}catch(i){return console.error("Erreur lors de la modération du commentaire:",i),{comment:null,error:i.message}}}}const Xg=new Ome,_v={getAllCategories:async()=>{const{data:t,error:e}=await be.from("categories").select("*").order("name");if(e)throw e;return t},getCategoryById:async t=>{const{data:e,error:r}=await be.from("categories").select("*").eq("id",t).single();if(r)throw r;return e},getCategoryBySlug:async t=>{const{data:e,error:r}=await be.from("categories").select("*").eq("slug",t).single();if(r)throw r;return e},getCategoriesByType:async t=>{const{data:e,error:r}=await be.from("categories").select("*").eq("type",t).order("name");if(r)throw r;return e},createCategory:async t=>{const{data:e,error:r}=await be.from("categories").insert([{...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return e},updateCategory:async(t,e)=>{const{data:r,error:n}=await be.from("categories").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},deleteCategory:async t=>{const{error:e}=await be.from("categories").delete().eq("id",t);if(e)throw e;return{success:!0}},toggleCategoryStatus:async(t,e)=>{const{data:r,error:n}=await be.from("categories").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}},zc={getUserFavorites:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await be.from("favorites").select(`
        *,
        listings!favorites_listing_id_fkey (
          *,
          users!listings_user_id_fkey (
            id,
            first_name,
            last_name
          )
        )
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},addToFavorites:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await be.from("favorites").insert([{user_id:e.id,listing_id:t}]).select().single();if(n)throw n;return r},removeFromFavorites:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:r}=await be.from("favorites").delete().eq("user_id",e.id).eq("listing_id",t);if(r)throw r},isFavorite:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)return!1;const{data:r,error:n}=await be.from("favorites").select("id").eq("user_id",e.id).eq("listing_id",t).single();if(n&&n.code!=="PGRST116")throw n;return!!r},toggleFavorite:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");try{return await zc.isFavorite(t)?(await zc.removeFromFavorites(t),{is_favorite:!1,action:"removed"}):(await zc.addToFavorites(t),{is_favorite:!0,action:"added"})}catch(r){throw console.error("Erreur lors du basculement des favoris:",r),new Error("Impossible de modifier les favoris")}},getUserFavoritesWithStatus:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");try{const{data:e,error:r}=await be.from("favorites").select("listing_id").eq("user_id",t.id);if(r)throw r;return new Set(e.map(i=>i.listing_id))}catch(e){return console.error("Erreur lors de la récupération des favoris:",e),new Set}}},Rme={uploadImage:async(t,e="listings")=>{try{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");if(!t.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(t.size>5*1024*1024)throw new Error("L'image ne doit pas dépasser 5MB");const n=`${Date.now()}-${Math.random().toString(36).substring(2)}-${t.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,i=`${e}/${r.id}/${n}`,{data:a,error:o}=await be.storage.from("images").upload(i,t,{cacheControl:"31536000",upsert:!1,contentType:"image/jpeg"});if(o)throw console.error("Erreur upload Supabase:",o),new Error(`Erreur lors de l'upload: ${o.message}`);const{data:{publicUrl:l}}=be.storage.from("images").getPublicUrl(i);return l}catch(r){throw console.error("Erreur dans uploadImage:",r),r}},deleteImage:async t=>{try{const{error:e}=await be.storage.from("images").remove([t]);if(e)throw e}catch(e){throw console.error("Erreur dans deleteImage:",e),e}},listUserImages:async(t,e="listings")=>{try{const{data:r,error:n}=await be.storage.from("images").list(`${e}/${t}`);if(n)throw n;return r}catch(r){throw console.error("Erreur dans listUserImages:",r),r}}},Mme={getAllReports:async(t={})=>{let e=be.from("reports").select(`
        *,
        reporter:users!reports_reporter_id_fkey (
          id,
          first_name,
          last_name,
          email
        ),
        listing:listings!reports_listing_id_fkey (
          id,
          title,
          description
        )
      `).order("created_at",{ascending:!1});t.status&&(e=e.eq("status",t.status)),t.type&&(e=e.eq("type",t.type)),t.severity&&(e=e.eq("severity",t.severity));const{data:r,error:n}=await e;if(n)throw n;return r},createReport:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await be.from("reports").insert([{...t,reporter_id:e.id,status:"pending"}]).select().single();if(n)throw n;return r},moderateReport:async(t,e,r=null)=>{const n={status:e,moderated_at:new Date().toISOString(),moderator_reason:r},{data:i,error:a}=await be.from("reports").update(n).eq("id",t).select().single();if(a)throw a;return i}},qc={getBoostPackages:async()=>{if(!Nr)throw new Error("Supabase non configuré. Impossible de récupérer les packages de boost.");try{const{data:t,error:e}=await be.from("boost_packages").select("*").eq("is_active",!0).order("price",{ascending:!0});if(e)throw e;return{success:!0,packages:t||[],message:"Packages récupérés avec succès"}}catch(t){throw console.error("Erreur lors de la récupération des packages:",t),new Error(`Erreur de récupération des packages: ${t.message}`)}},purchaseBoost:async(t,e,r)=>{if(!Nr)throw new Error("Supabase non configuré. Impossible d'acheter un boost.");try{const{data:n,error:i}=await be.from("boost_packages").select("*").eq("id",t).eq("is_active",!0).single();if(i||!n)throw new Error("Package de boost non trouvé ou inactif");const{data:a,error:o}=await be.from("listings").select("user_id").eq("id",e).single();if(o||!a)throw new Error("Annonce non trouvée");if(a.user_id!==r)throw new Error("Vous n'êtes pas autorisé à booster cette annonce");const l=new Date(Date.now()+n.duration_days*24*60*60*1e3),{data:c,error:u}=await be.from("listing_boosts").insert({listing_id:e,user_id:r,package_id:t,status:"pending",start_date:new Date().toISOString(),end_date:l.toISOString(),metadata:{price:n.price,duration_days:n.duration_days,features:n.features,package_name:n.name}}).select().single();if(u)throw u;return{success:!0,boostId:c.id,boostData:c,message:"Boost créé avec succès"}}catch(n){throw console.error("Erreur lors de l'achat du boost:",n),new Error(`Erreur d'achat de boost: ${n.message}`)}},getUserBoosts:async t=>{if(!Nr)throw new Error("Supabase non configuré. Impossible de récupérer les boosts.");try{const{data:e,error:r}=await be.from("listing_boosts").select(`
          *,
          boost_packages (*),
          listings (
            id,
            title,
            price,
            images,
            location
          )
        `).eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return{success:!0,boosts:e||[],message:"Boosts récupérés avec succès"}}catch(e){throw console.error("Erreur lors de la récupération des boosts:",e),new Error(`Erreur de récupération des boosts: ${e.message}`)}},getListingBoosts:async t=>{if(!Nr)throw new Error("Supabase non configuré. Impossible de récupérer les boosts de l'annonce.");try{const{data:e,error:r}=await be.from("listing_boosts").select(`
          *,
          boost_packages (*)
        `).eq("listing_id",t).eq("status","active").order("created_at",{ascending:!1});if(r)throw r;return{success:!0,boosts:e||[],message:"Boosts de l'annonce récupérés avec succès"}}catch(e){throw console.error("Erreur lors de la récupération des boosts de l'annonce:",e),new Error(`Erreur de récupération des boosts: ${e.message}`)}},cancelBoost:async(t,e)=>{if(!Nr)throw new Error("Supabase non configuré. Impossible d'annuler le boost.");try{const{data:r,error:n}=await be.from("listing_boosts").select("*").eq("id",t).eq("user_id",e).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const{error:i}=await be.from("listing_boosts").update({status:"cancelled",cancelled_at:new Date().toISOString()}).eq("id",t);if(i)throw i;return{success:!0,message:"Boost annulé avec succès"}}catch(r){throw console.error("Erreur lors de l'annulation du boost:",r),new Error(`Erreur d'annulation de boost: ${r.message}`)}},activateBoost:async t=>{if(!Nr)throw new Error("Supabase non configuré. Impossible d'activer le boost.");try{const{data:e,error:r}=await be.from("listing_boosts").select(`
          *,
          boost_packages (*)
        `).eq("id",t).single();if(r||!e)throw new Error("Boost non trouvé");const n=new Date(Date.now()+e.duration_days*24*60*60*1e3),{error:i}=await be.from("listing_boosts").update({status:"active",activated_at:new Date().toISOString(),expires_at:n.toISOString()}).eq("id",t);if(i)throw i;const{error:a}=await be.from("listings").update({is_boosted:!0,boost_expires_at:n.toISOString()}).eq("id",e.listing_id);return a&&console.warn("Erreur lors de la mise à jour de l'annonce:",a),{success:!0,boostData:{...e,status:"active",activated_at:new Date().toISOString(),expires_at:n.toISOString()},message:"Boost activé avec succès"}}catch(e){throw console.error("Erreur lors de l'activation du boost:",e),new Error(`Erreur d'activation de boost: ${e.message}`)}},renewBoost:async(t,e)=>{if(!Nr)throw new Error("Supabase non configuré. Impossible de renouveler le boost.");try{const{data:r,error:n}=await be.from("listing_boosts").select(`
          *,
          boost_packages (*)
        `).eq("id",t).eq("user_id",e).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");if(r.status!=="active"&&r.status!=="expired")throw new Error("Le boost ne peut pas être renouvelé dans son état actuel");const i=new Date(r.expires_at),a=new Date(i.getTime()+r.duration_days*24*60*60*1e3),{error:o}=await be.from("listing_boosts").update({status:"active",expires_at:a.toISOString(),renewed_at:new Date().toISOString()}).eq("id",t);if(o)throw o;const{error:l}=await be.from("listings").update({is_boosted:!0,boost_expires_at:a.toISOString()}).eq("id",r.listing_id);return l&&console.warn("Erreur lors de la mise à jour de l'annonce:",l),{success:!0,boostData:{...r,status:"active",expires_at:a.toISOString(),renewed_at:new Date().toISOString()},message:"Boost renouvelé avec succès"}}catch(r){throw console.error("Erreur lors du renouvellement du boost:",r),new Error(`Erreur de renouvellement de boost: ${r.message}`)}},getBoostStats:async t=>{if(!Nr)throw new Error("Supabase non configuré. Impossible de récupérer les statistiques.");try{const{data:e,error:r}=await be.from("listing_boosts").select("status, price, created_at").eq("user_id",t);if(r)throw r;return{success:!0,stats:{total:e.length,active:e.filter(i=>i.status==="active").length,pending:e.filter(i=>i.status==="pending").length,expired:e.filter(i=>i.status==="expired").length,cancelled:e.filter(i=>i.status==="cancelled").length,totalSpent:e.reduce((i,a)=>i+(a.price||0),0)},message:"Statistiques récupérées avec succès"}}catch(e){throw console.error("Erreur lors de la récupération des statistiques:",e),new Error(`Erreur de récupération des statistiques: ${e.message}`)}},getBoostStatus:async t=>{if(!Nr)return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]};try{const{data:e,error:r}=await be.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            description,
            features
          )
        `).eq("listing_id",t).order("created_at",{ascending:!1});if(r)throw r;const n=e?.find(a=>a.status==="active");return{hasActiveBoost:!!n,currentBoost:n,boostHistory:e||[]}}catch(e){return console.error("Erreur lors de la vérification du statut de boost:",e),{hasActiveBoost:!1,currentBoost:null,boostHistory:[]}}}},ln={publicKey:"your_kkiapay_public_key_here",secretKey:"your_kkiapay_secret_key_here",baseUrl:"https://api.kkiapay.me",currency:"XOF",defaultCountry:"BJ",countries:["BJ","CI","SN","ML","BF","NE","TG","GH","NG"],redirectUrl:`${window.location.origin}/payment-callback`},oF={orange_money:{name:"Orange Money",code:"orange_money",icon:"🟠",processingTime:"2-3 minutes",countries:["BJ","CI","ML","BF","NE"]},mtn_mobile_money:{name:"MTN Mobile Money",code:"mtn_mobile_money",icon:"🟡",processingTime:"2-3 minutes",countries:["BJ","CI","GH","NG"]},moov_money:{name:"Moov Money",code:"moov_money",icon:"🔵",processingTime:"2-3 minutes",countries:["BJ","CI","TG"]},card:{name:"Carte Bancaire",code:"card",icon:"💳",processingTime:"30 secondes",countries:["BJ","CI","SN","ML","BF","NE","TG","GH","NG"]},wave:{name:"Wave",code:"wave",icon:"🌊",processingTime:"2-3 minutes",countries:["SN","CI","UG"]}},jc={initializePayment:async t=>{try{const{amount:e,email:r,phone:n,name:i,country:a=ln.defaultCountry,payment_method:o,callback_url:l,customizations:c}=t,u={amount:e,currency:ln.currency,country:a,phone:n,email:r,name:i,reason:c?.description||"Achat de boost premium",callback_url:l||ln.redirectUrl,return_url:l||ln.redirectUrl,data:{boost_id:t.boost_id,listing_id:t.listing_id,package_name:t.package_name,user_id:t.user_id}},f=await(await fetch(`${ln.baseUrl}/api/v1/transactions/initialize`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ln.publicKey}`,"X-Secret-Key":ln.secretKey},body:JSON.stringify(u)})).json();if(f.success)return{success:!0,paymentUrl:f.data.paymentUrl,transactionId:f.data.transactionId,reference:f.data.reference,message:"Paiement initialisé avec succès"};throw new Error(f.message||"Erreur lors de l'initialisation du paiement")}catch(e){throw console.error("Erreur Kkiapay:",e),new Error(`Erreur de paiement: ${e.message}`)}},verifyPayment:async t=>{try{const r=await(await fetch(`${ln.baseUrl}/api/v1/transactions/${t}/status`,{method:"GET",headers:{Authorization:`Bearer ${ln.publicKey}`,"X-Secret-Key":ln.secretKey}})).json();if(r.success){const n=r.data;return{success:!0,status:n.status,amount:n.amount,currency:n.currency,reference:n.reference,paymentMethod:n.paymentMethod,customerEmail:n.customerEmail,customerPhone:n.customerPhone,customerName:n.customerName,meta:n.data,createdAt:n.createdAt,paidAt:n.paidAt,message:"Paiement vérifié avec succès"}}else throw new Error(r.message||"Erreur lors de la vérification")}catch(e){throw console.error("Erreur vérification Kkiapay:",e),new Error(`Erreur de vérification: ${e.message}`)}},refundPayment:async(t,e,r="user_request")=>{try{const n={amount:e,reason:r},a=await(await fetch(`${ln.baseUrl}/api/v1/transactions/${t}/refund`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ln.publicKey}`,"X-Secret-Key":ln.secretKey},body:JSON.stringify(n)})).json();if(a.success)return{success:!0,refundId:a.data.refundId,amount:a.data.amount,status:a.data.status,message:"Remboursement effectué avec succès"};throw new Error(a.message||"Erreur lors du remboursement")}catch(n){throw console.error("Erreur remboursement Kkiapay:",n),new Error(`Erreur de remboursement: ${n.message}`)}},getTransactionHistory:async(t,e=1,r=10)=>{try{const i=await(await fetch(`${ln.baseUrl}/api/v1/transactions?email=${t}&page=${e}&limit=${r}`,{method:"GET",headers:{Authorization:`Bearer ${ln.publicKey}`,"X-Secret-Key":ln.secretKey}})).json();if(i.success)return{success:!0,transactions:i.data.transactions,pagination:i.data.pagination,message:"Historique récupéré avec succès"};throw new Error(i.message||"Erreur lors de la récupération de l'historique")}catch(n){throw console.error("Erreur historique Kkiapay:",n),new Error(`Erreur d'historique: ${n.message}`)}},getPaymentMethods:(t=ln.defaultCountry)=>{const e={};return Object.keys(oF).forEach(r=>{const n=oF[r];n.countries.includes(t)&&(e[r]=n)}),e},validatePhoneNumber:(t,e=ln.defaultCountry)=>{const r={BJ:/^(229|00229|\+229)?[0-9]{8}$/,CI:/^(225|00225|\+225)?[0-9]{10}$/,SN:/^(221|00221|\+221)?[0-9]{9}$/,ML:/^(223|00223|\+223)?[0-9]{8}$/,BF:/^(226|00226|\+226)?[0-9]{8}$/,NE:/^(227|00227|\+227)?[0-9]{8}$/,TG:/^(228|00228|\+228)?[0-9]{8}$/,GH:/^(233|00233|\+233)?[0-9]{9}$/,NG:/^(234|00234|\+234)?[0-9]{10}$/};return(r[e]||r[ln.defaultCountry]).test(t.replace(/\s/g,""))},formatPhoneNumber:(t,e=ln.defaultCountry)=>{let r=t.replace(/\D/g,"");const n={BJ:"229",CI:"225",SN:"221",ML:"223",BF:"226",NE:"227",TG:"228",GH:"233",NG:"234"},i=n[e]||n[ln.defaultCountry];r.startsWith(i)&&(r=r.substring(i.length));const a={BJ:l=>l.match(/.{1,2}/g)?.join(" ")||l,CI:l=>l.match(/.{1,2}/g)?.join(" ")||l,SN:l=>l.match(/.{1,3}/g)?.join(" ")||l,ML:l=>l.match(/.{1,2}/g)?.join(" ")||l,BF:l=>l.match(/.{1,2}/g)?.join(" ")||l,NE:l=>l.match(/.{1,2}/g)?.join(" ")||l,TG:l=>l.match(/.{1,2}/g)?.join(" ")||l,GH:l=>l.match(/.{1,3}/g)?.join(" ")||l,NG:l=>l.match(/.{1,4}/g)?.join(" ")||l};return(a[e]||a[ln.defaultCountry])(r)},generateTransactionRef:()=>`BENOME_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,calculateFees:t=>{const n=t*.015,i=n+50,a=t+i;return{originalAmount:t,percentageFee:n,fixedFee:50,totalFees:i,totalAmount:a}},getSupportInfo:(t=ln.defaultCountry)=>{const e={BJ:{phone:"+229 21 30 03 03",email:"support@kkiapay.bj",address:"Cotonou, Bénin"},CI:{phone:"+225 27 22 49 24 24",email:"support@kkiapay.ci",address:"Abidjan, Côte d'Ivoire"},SN:{phone:"+221 33 889 00 00",email:"support@kkiapay.sn",address:"Dakar, Sénégal"}};return e[t]||e[ln.defaultCountry]},checkServiceStatus:async()=>{try{return{success:!0,status:(await(await fetch(`${ln.baseUrl}/api/v1/status`,{method:"GET",headers:{Authorization:`Bearer ${ln.publicKey}`}})).json()).status,message:"Service opérationnel"}}catch{return{success:!1,status:"error",message:"Service temporairement indisponible"}}}},To={createPayment:async t=>{if(!Nr)throw new Error("Supabase non configuré. Impossible de créer un paiement.");try{const{data:e,error:r}=await be.from("payments").insert({user_id:t.userId,amount:t.amount,currency:t.currency||"XOF",payment_method:t.paymentMethod,payment_gateway:"kkiapay",status:"pending",metadata:{boost_id:t.boostId,package_name:t.packageName,listing_id:t.listingId,description:t.description,phone_number:t.phoneNumber,email:t.email,country:t.country||"BJ",created_at:new Date().toISOString()},expires_at:new Date(Date.now()+18e5).toISOString()}).select().single();if(r)throw r;return{success:!0,paymentId:e.id,paymentData:e,message:"Paiement créé avec succès"}}catch(e){throw new Error(`Erreur de création de paiement: ${e.message}`)}},initiateOrangeMoneyPayment:async(t,e)=>{try{console.log("🚀 Initialisation paiement Orange Money via Kkiapay..."),console.log("📱 Téléphone:",e),console.log("💰 Payment ID:",t);const r=await Jg(t),n=await ob(r.user_id);console.log("📊 Données paiement:",{amount:r.amount,email:n.email,phone:e});const i=await jc.initializePayment({amount:r.amount,email:n.email,phone:e,name:n.full_name||n.email,country:r.metadata?.country||"BJ",payment_method:"orange_money",callback_url:`${window.location.origin}/payment-callback?payment_id=${t}`,boost_id:r.metadata?.boost_id,listing_id:r.metadata?.listing_id,package_name:r.metadata?.package_name,user_id:r.user_id});return console.log("✅ Résultat Kkiapay:",i),await Qg(t,"processing",{kkiapay_transaction_id:i.transactionId,kkiapay_reference:i.reference,payment_url:i.paymentUrl,initiated_at:new Date().toISOString()}),{success:!0,paymentUrl:i.paymentUrl,transactionId:i.transactionId,status:"processing",message:"Paiement Orange Money initié avec succès via Kkiapay"}}catch(r){throw console.error("❌ Erreur Orange Money:",r),new Error(`Erreur Orange Money: ${r.message}`)}},initiateMTNPayment:async(t,e)=>{try{const r=await Jg(t),n=await ob(r.user_id),i=await jc.initializePayment({amount:r.amount,email:n.email,phone:e,name:n.full_name||n.email,country:r.metadata?.country||"BJ",payment_method:"mtn_mobile_money",callback_url:`${window.location.origin}/payment-callback?payment_id=${t}`,boost_id:r.metadata?.boost_id,listing_id:r.metadata?.listing_id,package_name:r.metadata?.package_name,user_id:r.user_id});return await Qg(t,"processing",{kkiapay_transaction_id:i.transactionId,kkiapay_reference:i.reference,payment_url:i.paymentUrl,initiated_at:new Date().toISOString()}),{success:!0,paymentUrl:i.paymentUrl,transactionId:i.transactionId,status:"processing",message:"Paiement MTN initié avec succès via Kkiapay"}}catch(r){throw new Error(`Erreur MTN: ${r.message}`)}},initiateMoovPayment:async(t,e)=>{try{const r=await Jg(t),n=await ob(r.user_id),i=await jc.initializePayment({amount:r.amount,email:n.email,phone:e,name:n.full_name||n.email,country:r.metadata?.country||"BJ",payment_method:"moov_money",callback_url:`${window.location.origin}/payment-callback?payment_id=${t}`,boost_id:r.metadata?.boost_id,listing_id:r.metadata?.listing_id,package_name:r.metadata?.package_name,user_id:r.user_id});return await Qg(t,"processing",{kkiapay_transaction_id:i.transactionId,kkiapay_reference:i.reference,payment_url:i.paymentUrl,initiated_at:new Date().toISOString()}),{success:!0,paymentUrl:i.paymentUrl,transactionId:i.transactionId,status:"processing",message:"Paiement Moov initié avec succès via Kkiapay"}}catch(r){throw new Error(`Erreur Moov: ${r.message}`)}},initiateCardPayment:async(t,e)=>{try{const r=await Jg(t),n=await ob(r.user_id),i=await jc.initializePayment({amount:r.amount,email:n.email,phone:n.phone||"",name:e.name,country:r.metadata?.country||"BJ",payment_method:"card",callback_url:`${window.location.origin}/payment-callback?payment_id=${t}`,boost_id:r.metadata?.boost_id,listing_id:r.metadata?.listing_id,package_name:r.metadata?.package_name,user_id:r.user_id});return await Qg(t,"processing",{kkiapay_transaction_id:i.transactionId,kkiapay_reference:i.reference,payment_url:i.paymentUrl,card_brand:e.brand,last4:e.number.replace(/\s/g,"").slice(-4),initiated_at:new Date().toISOString()}),{success:!0,paymentUrl:i.paymentUrl,transactionId:i.transactionId,status:"processing",message:"Paiement carte initié avec succès via Kkiapay"}}catch(r){throw new Error(`Erreur carte: ${r.message}`)}},confirmPayment:async(t,e)=>{try{const n=(await Jg(t)).metadata?.kkiapay_transaction_id;if(!n)throw new Error("ID de transaction Kkiapay manquant");const i=await jc.verifyPayment(n);if(i.status==="successful")return await Qg(t,"completed",{...i,confirmed_at:new Date().toISOString()}),{success:!0,paymentData:i,message:"Paiement confirmé avec succès via Kkiapay"};throw new Error(`Paiement non réussi: ${i.status}`)}catch(r){throw new Error(`Erreur de confirmation: ${r.message}`)}},getPaymentMethods:(t="BJ")=>jc.getPaymentMethods(t),calculateFees:t=>jc.calculateFees(t),validatePhoneNumber:(t,e="BJ")=>jc.validatePhoneNumber(t,e),formatPhoneNumber:(t,e="BJ")=>jc.formatPhoneNumber(t,e)};async function Jg(t){const{data:e,error:r}=await be.from("payments").select("*").eq("id",t).single();if(r)throw r;return e}async function ob(t){const{data:e,error:r}=await be.from("profiles").select("*").eq("id",t).single();if(r)throw r;return e}async function Qg(t,e,r={}){const{error:n}=await be.from("payments").update({status:e,metadata:{...r,updated_at:new Date().toISOString()}}).eq("id",t);if(n)throw n}function Zr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Xc(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Ime(t,e){const r=Zr(t);return isNaN(e)?Xc(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const hK=6048e5,Dme=864e5,pK=6e4,mK=36e5,lb=43200,lF=1440;let Lme={};function fx(){return Lme}function rm(t,e){const r=fx(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Zr(t),a=i.getDay(),o=(a<n?7:0)+a-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Aw(t){return rm(t,{weekStartsOn:1})}function gK(t){const e=Zr(t),r=e.getFullYear(),n=Xc(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Aw(n),a=Xc(t,0);a.setFullYear(r,0,4),a.setHours(0,0,0,0);const o=Aw(a);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function cF(t){const e=Zr(t);return e.setHours(0,0,0,0),e}function Tw(t){const e=Zr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $me(t,e){const r=cF(t),n=cF(e),i=+r-Tw(r),a=+n-Tw(n);return Math.round((i-a)/Dme)}function Fme(t){const e=gK(t),r=Xc(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Aw(r)}function ew(t,e){const r=Zr(t),n=Zr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Bme(t){return Xc(t,Date.now())}function zme(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function qme(t){if(!zme(t)&&typeof t!="number")return!1;const e=Zr(t);return!isNaN(Number(e))}function Ume(t,e){const r=Zr(t),n=Zr(e),i=r.getFullYear()-n.getFullYear(),a=r.getMonth()-n.getMonth();return i*12+a}function Vme(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Wme(t,e){return+Zr(t)-+Zr(e)}function Hme(t){const e=Zr(t);return e.setHours(23,59,59,999),e}function Kme(t){const e=Zr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Gme(t){const e=Zr(t);return+Hme(e)==+Kme(e)}function Zme(t,e){const r=Zr(t),n=Zr(e),i=ew(r,n),a=Math.abs(Ume(r,n));let o;if(a<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*a);let l=ew(r,n)===-i;Gme(Zr(t))&&a===1&&ew(t,n)===1&&(l=!1),o=i*(a-Number(l))}return o===0?0:o}function Yme(t,e,r){const n=Wme(t,e)/1e3;return Vme(r?.roundingMethod)(n)}function Xme(t){const e=Zr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Jme(t){const e=Zr(t),r=Xc(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Qme={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},ege=(t,e,r)=>{let n;const i=Qme[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zp(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const tge={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},rge={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},nge={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ige={date:zp({formats:tge,defaultWidth:"full"}),time:zp({formats:rge,defaultWidth:"full"}),dateTime:zp({formats:nge,defaultWidth:"full"})},sge={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},age=(t,e,r,n)=>sge[t];function gl(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const a=t.argumentCallback?t.argumentCallback(e):e;return i[a]}}const oge={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lge={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cge={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uge={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},fge={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},hge=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},pge={ordinalNumber:hge,era:gl({values:oge,defaultWidth:"wide"}),quarter:gl({values:lge,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gl({values:cge,defaultWidth:"wide"}),day:gl({values:uge,defaultWidth:"wide"}),dayPeriod:gl({values:dge,defaultWidth:"wide",formattingValues:fge,defaultFormattingWidth:"wide"})};function vl(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],a=e.match(i);if(!a)return null;const o=a[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?gge(l,f=>f.test(o)):mge(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function mge(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function gge(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function vK(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],a=e.match(t.parsePattern);if(!a)return null;let o=t.valueCallback?t.valueCallback(a[0]):a[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const vge=/^(\d+)(th|st|nd|rd)?/i,yge=/\d+/i,xge={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bge={any:[/^b/i,/^(a|c)/i]},wge={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_ge={any:[/1/i,/2/i,/3/i,/4/i]},jge={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sge={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Nge={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cge={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ege={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pge={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},kge={ordinalNumber:vK({matchPattern:vge,parsePattern:yge,valueCallback:t=>parseInt(t,10)}),era:vl({matchPatterns:xge,defaultMatchWidth:"wide",parsePatterns:bge,defaultParseWidth:"any"}),quarter:vl({matchPatterns:wge,defaultMatchWidth:"wide",parsePatterns:_ge,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vl({matchPatterns:jge,defaultMatchWidth:"wide",parsePatterns:Sge,defaultParseWidth:"any"}),day:vl({matchPatterns:Nge,defaultMatchWidth:"wide",parsePatterns:Cge,defaultParseWidth:"any"}),dayPeriod:vl({matchPatterns:Ege,defaultMatchWidth:"any",parsePatterns:Pge,defaultParseWidth:"any"})},yK={code:"en-US",formatDistance:ege,formatLong:ige,formatRelative:age,localize:pge,match:kge,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Age(t){const e=Zr(t);return $me(e,Jme(e))+1}function Tge(t){const e=Zr(t),r=+Aw(e)-+Fme(e);return Math.round(r/hK)+1}function xK(t,e){const r=Zr(t),n=r.getFullYear(),i=fx(),a=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Xc(t,0);o.setFullYear(n+1,0,a),o.setHours(0,0,0,0);const l=rm(o,e),c=Xc(t,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=rm(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Oge(t,e){const r=fx(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=xK(t,e),a=Xc(t,0);return a.setFullYear(i,0,n),a.setHours(0,0,0,0),rm(a,e)}function Rge(t,e){const r=Zr(t),n=+rm(r,e)-+Oge(r,e);return Math.round(n/hK)+1}function Hr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Yu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Hr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Hr(r+1,2)},d(t,e){return Hr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Hr(t.getHours()%12||12,e.length)},H(t,e){return Hr(t.getHours(),e.length)},m(t,e){return Hr(t.getMinutes(),e.length)},s(t,e){return Hr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Hr(i,e.length)}},fp={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uF={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Yu.y(t,e)},Y:function(t,e,r,n){const i=xK(t,n),a=i>0?i:1-i;if(e==="YY"){const o=a%100;return Hr(o,2)}return e==="Yo"?r.ordinalNumber(a,{unit:"year"}):Hr(a,e.length)},R:function(t,e){const r=gK(t);return Hr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Hr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Hr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Hr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Yu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Hr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Rge(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Hr(i,e.length)},I:function(t,e,r){const n=Tge(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Hr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Yu.d(t,e)},D:function(t,e,r){const n=Age(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Hr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(a);case"ee":return Hr(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),a=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(a);case"cc":return Hr(a,e.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Hr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=fp.noon:n===0?i=fp.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=fp.evening:n>=12?i=fp.afternoon:n>=4?i=fp.morning:i=fp.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Yu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Yu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Hr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Hr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Yu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Yu.s(t,e)},S:function(t,e){return Yu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return fF(n);case"XXXX":case"XX":return Nf(n);case"XXXXX":case"XXX":default:return Nf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return fF(n);case"xxxx":case"xx":return Nf(n);case"xxxxx":case"xxx":default:return Nf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+dF(n,":");case"OOOO":default:return"GMT"+Nf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+dF(n,":");case"zzzz":default:return"GMT"+Nf(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Hr(n,e.length)},T:function(t,e,r){const n=t.getTime();return Hr(n,e.length)}};function dF(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),a=n%60;return a===0?r+String(i):r+String(i)+e+Hr(a,2)}function fF(t,e){return t%60===0?(t>0?"-":"+")+Hr(Math.abs(t)/60,2):Nf(t,e)}function Nf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Hr(Math.trunc(n/60),2),a=Hr(n%60,2);return r+i+e+a}const hF=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Mge=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return hF(t,e);let a;switch(n){case"P":a=e.dateTime({width:"short"});break;case"PP":a=e.dateTime({width:"medium"});break;case"PPP":a=e.dateTime({width:"long"});break;case"PPPP":default:a=e.dateTime({width:"full"});break}return a.replace("{{date}}",hF(n,e)).replace("{{time}}",bK(i,e))},Ige={p:bK,P:Mge},Dge=/^D+$/,Lge=/^Y+$/,$ge=["D","DD","YY","YYYY"];function Fge(t){return Dge.test(t)}function Bge(t){return Lge.test(t)}function zge(t,e,r){const n=qge(t,e,r);if(console.warn(n),$ge.includes(t))throw new RangeError(n)}function qge(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Uge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wge=/^'([^]*?)'?$/,Hge=/''/g,Kge=/[a-zA-Z]/;function en(t,e,r){const n=fx(),i=r?.locale??n.locale??yK,a=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Zr(t);if(!qme(l))throw new RangeError("Invalid time value");let c=e.match(Vge).map(d=>{const f=d[0];if(f==="p"||f==="P"){const g=Ige[f];return g(d,i.formatLong)}return d}).join("").match(Uge).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:Gge(d)};if(uF[f])return{isToken:!0,value:d};if(f.match(Kge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:o,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!r?.useAdditionalWeekYearTokens&&Bge(f)||!r?.useAdditionalDayOfYearTokens&&Fge(f))&&zge(f,e,String(t));const g=uF[f[0]];return g(l,f,i.localize,u)}).join("")}function Gge(t){const e=t.match(Wge);return e?e[1].replace(Hge,"'"):t}function Zge(t,e,r){const n=fx(),i=r?.locale??n.locale??yK,a=2520,o=ew(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=Zr(e),u=Zr(t)):(c=Zr(t),u=Zr(e));const d=Yme(u,c),f=(Tw(u)-Tw(c))/1e3,g=Math.round((d-f)/60);let v;if(g<2)return r?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<lF){const y=Math.round(g/60);return i.formatDistance("aboutXHours",y,l)}else{if(g<a)return i.formatDistance("xDays",1,l);if(g<lb){const y=Math.round(g/lF);return i.formatDistance("xDays",y,l)}else if(g<lb*2)return v=Math.round(g/lb),i.formatDistance("aboutXMonths",v,l)}if(v=Zme(u,c),v<12){const y=Math.round(g/lb);return i.formatDistance("xMonths",y,l)}else{const y=v%12,b=Math.trunc(v/12);return y<3?i.formatDistance("aboutXYears",b,l):y<9?i.formatDistance("overXYears",b,l):i.formatDistance("almostXYears",b+1,l)}}function wK(t,e){return Zge(t,Bme(t),e)}function ev(t,e){return Ime(t,-e)}function Yge(t,e){const n=eve(t);let i;if(n.date){const c=tve(n.date,2);i=rve(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const a=i.getTime();let o=0,l;if(n.time&&(o=nve(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=ive(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(a+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(a+o+l)}const cb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Xge=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Jge=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Qge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eve(t){const e={},r=t.split(cb.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],cb.timeZoneDelimiter.test(e.date)&&(e.date=t.split(cb.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=cb.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function tve(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,a=n[2]?parseInt(n[2]):null;return{year:a===null?i:a*100,restDateString:t.slice((n[1]||n[2]).length)}}function rve(t,e){if(e===null)return new Date(NaN);const r=t.match(Xge);if(!r)return new Date(NaN);const n=!!r[4],i=tv(r[1]),a=tv(r[2])-1,o=tv(r[3]),l=tv(r[4]),c=tv(r[5])-1;if(n)return cve(e,l,c)?sve(e,l,c):new Date(NaN);{const u=new Date(0);return!ove(e,a,o)||!lve(e,i)?new Date(NaN):(u.setUTCFullYear(e,a,Math.max(i,o)),u)}}function tv(t){return t?parseInt(t):1}function nve(t){const e=t.match(Jge);if(!e)return NaN;const r=TN(e[1]),n=TN(e[2]),i=TN(e[3]);return uve(r,n,i)?r*mK+n*pK+i*1e3:NaN}function TN(t){return t&&parseFloat(t.replace(",","."))||0}function ive(t){if(t==="Z")return 0;const e=t.match(Qge);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return dve(n,i)?r*(n*mK+i*pK):NaN}function sve(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,a=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+a),n}const ave=[31,null,31,30,31,30,31,31,30,31,30,31];function _K(t){return t%400===0||t%4===0&&t%100!==0}function ove(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(ave[e]||(_K(t)?29:28))}function lve(t,e){return e>=1&&e<=(_K(t)?366:365)}function cve(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function uve(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function dve(t,e){return e>=0&&e<=59}const pF={getBoostAnalytics:async(t=null,e="30d")=>{if(!Nr)return console.warn("⚠️ Supabase non configuré, retour d'analytics de test"),{totalBoosts:45,activeBoosts:12,totalRevenue:45e4,averageBoostPrice:1e4,successRate:87.5,topPerformingCategories:["Immobilier","Automobile","Services"],boostTrends:{daily:[12,15,18,22,25,28,30],weekly:[85,92,105,118,125,132,140],monthly:[350,420,480,520,580,620,680]}};try{const{data:r,error:n}=await be.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            title,
            category,
            views_count,
            favorites_count
          )
        `).eq("status","active").gte("created_at",kp(e));if(n)throw n;return fve(r||[],t)}catch(r){throw console.error("Erreur lors de la récupération des analytics de boost:",r),r}},getBoostPerformance:async t=>{if(!Nr)return{viewsIncrease:245,favoritesIncrease:18,contactsIncrease:12,roi:320,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]};try{const{data:e,error:r}=await be.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",t).single();if(r)throw r;return hve(e)}catch(e){throw console.error("Erreur lors de la récupération des performances:",e),e}},getPaymentAnalytics:async(t=null,e="30d")=>{if(!Nr)return{totalPayments:67,totalRevenue:67e4,averageTransactionValue:1e4,paymentMethods:{orange_money:45,mtn_mobile_money:15,card:7},conversionRate:78.5,refundRate:2.3};try{const{data:r,error:n}=await be.from("payments").select("*").gte("created_at",kp(e));if(n)throw n;return pve(r||[],t)}catch(r){throw console.error("Erreur lors de la récupération des analytics de paiement:",r),r}},getRevenueData:async(t,e)=>{if(!Nr)return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0};try{const{data:r,error:n}=await be.from("payments").select(`
          *,
          listings (
            category,
            title
          )
        `).eq("status","completed").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(n)throw n;const i=r?.reduce((c,u)=>c+(u.amount||0),0)||0,a=r?.reduce((c,u)=>{const d=en(new Date(u.created_at),"yyyy-MM-dd");return c[d]=(c[d]||0)+(u.amount||0),c},{})||{},o=r?.reduce((c,u)=>{const d=u.listings?.category||"Autre";return c[d]=(c[d]||0)+(u.amount||0),c},{})||{},l=r?.reduce((c,u)=>{const d=u.payment_method||"Autre";return c[d]=(c[d]||0)+(u.amount||0),c},{})||{};return{totalRevenue:i,revenueByDate:Object.entries(a).map(([c,u])=>({date:c,revenue:u})),revenueByCategory:o,paymentMethods:l,growth:0}}catch(r){return console.error("Erreur lors de la récupération des données de revenus:",r),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}},getUserPremiumAnalytics:async(t,e="30d")=>{if(!Nr)return{totalBoosts:8,totalSpent:85e3,averageBoostPrice:10625,boostSuccessRate:87.5,favoriteCategories:["Immobilier","Services"],boostHistory:[{date:"2024-01-15",package:"Boost Premium",price:12e3,status:"active"},{date:"2024-01-08",package:"Boost Basique",price:5e3,status:"expired"}]};try{const[r,n]=await Promise.all([be.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            )
          `).eq("user_id",t).gte("created_at",kp(e)),be.from("payments").select("*").eq("user_id",t).gte("created_at",kp(e))]);if(r.error)throw r.error;if(n.error)throw n.error;return mve(r.data||[],n.data||[])}catch(r){throw console.error("Erreur lors de la récupération des analytics utilisateur:",r),r}},getPerformanceTrends:async(t="30d",e="revenue")=>{if(!Nr)return{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],data:[45e3,52e3,48e3,61e3],trend:"up",percentageChange:15.6};try{const{data:r,error:n}=await be.from("listing_boosts").select(`
          created_at,
          boost_packages (
            price
          )
        `).gte("created_at",kp(t)).order("created_at",{ascending:!0});if(n)throw n;return gve(r||[],t,e)}catch(r){throw console.error("Erreur lors de la récupération des tendances:",r),r}},getGrowthTrends:async(t,e)=>{if(!Nr)return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}};try{const{data:r,error:n}=await be.from("users").select("created_at").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(n)throw n;const{data:i,error:a}=await be.from("listings").select("created_at, status").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(a)throw a;const{data:o,error:l}=await be.from("payments").select("created_at, amount").eq("status","completed").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(l)throw l;const c=ON(r,"created_at"),u=ON(i,"created_at"),d=ON(o,"created_at","amount"),f=RN(r,"created_at"),g=RN(i,"created_at"),v=RN(o,"created_at","amount"),y=MN(r,"created_at"),b=MN(i,"created_at"),_=MN(o,"created_at","amount");return{users:{daily:c,weekly:f,monthly:y},listings:{daily:u,weekly:g,monthly:b},revenue:{daily:d,weekly:v,monthly:_}}}catch(r){return console.error("Erreur lors de la récupération des tendances de croissance:",r),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}},getInsightsAndRecommendations:async(t=null)=>{if(!Nr)return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]};try{const[e,r]=await Promise.all([be.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            ),
            listings (
              category,
              views_count,
              favorites_count
            )
          `).eq("status","active"),be.from("payments").select("*").eq("status","completed")]);if(e.error)throw e.error;if(r.error)throw r.error;return _ve(e.data||[],r.data||[],t)}catch(e){throw console.error("Erreur lors de la génération des insights:",e),e}},getComparisonMetrics:async(t="7d",e="30d")=>{if(!Nr)return{revenue:{period1:45e3,period2:18e4,change:300},boosts:{period1:12,period2:45,change:275},conversion:{period1:8.5,period2:12.3,change:44.7}};try{const[r,n]=await Promise.all([mF(t),mF(e)]);return jve(r,n)}catch(r){throw console.error("Erreur lors de la comparaison des métriques:",r),r}}};function kp(t){const e=new Date;switch(t){case"7d":return new Date(e.getTime()-7*24*60*60*1e3);case"30d":return new Date(e.getTime()-30*24*60*60*1e3);case"90d":return new Date(e.getTime()-90*24*60*60*1e3);case"1y":return new Date(e.getTime()-365*24*60*60*1e3);default:return new Date(e.getTime()-30*24*60*60*1e3)}}function fve(t,e){const r=e?t.filter(d=>d.user_id===e):t,n=r.length,i=r.filter(d=>d.status==="active").length,a=r.reduce((d,f)=>d+(f.boost_packages?.price||0),0),o=n>0?a/n:0,l=xve(r),c=bve(r),u=wve();return{totalBoosts:n,activeBoosts:i,totalRevenue:a,averageBoostPrice:Math.round(o),successRate:l,topPerformingCategories:c.slice(0,5),boostTrends:u}}function hve(t){const e=t.metadata?.views_before||0,n=(t.listings?.views_count||0)-e,i=t.metadata?.contacts_before||0,o=(t.listings?.favorites_count||0)-i,l=Math.round(o*.8),c=yve(t.boost_packages?.price||0,n,l);return{viewsIncrease:n,favoritesIncrease:o,contactsIncrease:l,roi:c,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]}}function pve(t,e){const r=e?t.filter(f=>f.user_id===e):t,n=r.length,i=r.reduce((f,g)=>f+g.amount,0),a=n>0?i/n:0,o={};r.forEach(f=>{o[f.payment_method]=(o[f.payment_method]||0)+1});const l=r.filter(f=>f.status==="completed").length,c=n>0?l/n*100:0,u=r.filter(f=>f.status==="refunded").length,d=n>0?u/n*100:0;return{totalPayments:n,totalRevenue:i,averageTransactionValue:Math.round(a),paymentMethods:o,conversionRate:Math.round(c*100)/100,refundRate:Math.round(d*100)/100}}function mve(t,e){const r=t.length,n=e.reduce((f,g)=>f+g.amount,0),i=r>0?n/r:0,a=t.filter(f=>f.status==="active").length,o=r>0?a/r*100:0,l=t.map(f=>f.listings?.category).filter(Boolean),c={};l.forEach(f=>{c[f]=(c[f]||0)+1});const u=Object.entries(c).sort(([,f],[,g])=>g-f).slice(0,3).map(([f])=>f),d=t.slice(0,5).map(f=>({date:new Date(f.created_at).toLocaleDateString("fr-FR"),package:f.boost_packages?.name||"Package",price:f.boost_packages?.price||0,status:f.status}));return{totalBoosts:r,totalSpent:n,averageBoostPrice:Math.round(i),boostSuccessRate:Math.round(o*100)/100,favoriteCategories:u,boostHistory:d}}function gve(t,e,r){const n=vve(t,e),i=Object.keys(n),a=Object.values(n).map(c=>r==="revenue"?c.reduce((u,d)=>u+(d.boost_packages?.price||0),0):r==="boosts"?c.length:0),o=a[a.length-1]>a[0]?"up":"down",l=a[0]>0?(a[a.length-1]-a[0])/a[0]*100:0;return{labels:i,data:a,trend:o,percentageChange:Math.round(l*100)/100}}function vve(t,e){const r={};return t.forEach(n=>{const i=new Date(n.created_at);let a;switch(e){case"7d":a=i.toLocaleDateString("fr-FR",{weekday:"short"});break;case"30d":a=`Sem ${Math.ceil(i.getDate()/7)}`;break;case"90d":a=i.toLocaleDateString("fr-FR",{month:"short"});break;default:a=i.toLocaleDateString("fr-FR",{month:"short"})}r[a]||(r[a]=[]),r[a].push(n)}),r}function yve(t,e,r){if(t<=0)return 0;const i=(r*2e3-t)/t*100;return Math.round(i*100)/100}function xve(t){if(t.length===0)return 0;const e=t.filter(r=>{const n=(r.listings?.views_count||0)-(r.metadata?.views_before||0),i=(r.listings?.favorites_count||0)-(r.metadata?.contacts_before||0);return n>10||i>2});return Math.round(e.length/t.length*100)}function bve(t){const e={};return t.forEach(r=>{const n=r.listings?.category;n&&(e[n]||(e[n]={count:0,totalViews:0,totalFavorites:0}),e[n].count++,e[n].totalViews+=r.listings?.views_count||0,e[n].totalFavorites+=r.listings?.favorites_count||0)}),Object.entries(e).map(([r,n])=>({category:r,performance:(n.totalViews+n.totalFavorites*10)/n.count})).sort((r,n)=>n.performance-r.performance).map(r=>r.category)}function wve(t){const e=new Date,r=[],n=[],i=[];for(let a=6;a>=0;a--)new Date(e.getTime()-a*24*60*60*1e3),r.push(Math.floor(Math.random()*20)+10);for(let a=6;a>=0;a--)n.push(Math.floor(Math.random()*50)+80);for(let a=6;a>=0;a--)i.push(Math.floor(Math.random()*100)+300);return{daily:r,weekly:n,monthly:i}}function _ve(t,e,r){return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]}}async function mF(t){const{data:e,error:r}=await be.from("listing_boosts").select(`
      created_at,
      boost_packages (
        price
      )
    `).gte("created_at",kp(t));if(r)throw r;return e||[]}function jve(t,e){const r=t.reduce((o,l)=>o+(l.boost_packages?.price||0),0),n=e.reduce((o,l)=>o+(l.boost_packages?.price||0),0),i=t.length,a=e.length;return{revenue:{period1:r,period2:n,change:r>0?(n-r)/r*100:0},boosts:{period1:i,period2:a,change:i>0?(a-i)/i*100:0}}}function ON(t,e,r=null){const n={};return t?.forEach(i=>{const a=en(new Date(i[e]),"yyyy-MM-dd");r?n[a]=(n[a]||0)+(i[r]||0):n[a]=(n[a]||0)+1}),Object.entries(n).map(([i,a])=>({date:i,value:a}))}function RN(t,e,r=null){const n={};return t?.forEach(i=>{const a=new Date(i[e]),o=en(rm(a,{weekStartsOn:1}),"yyyy-MM-dd");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,a])=>({date:i,value:a}))}function MN(t,e,r=null){const n={};return t?.forEach(i=>{const a=new Date(i[e]),o=en(Xme(a),"yyyy-MM");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,a])=>({date:i,value:a}))}class Sve{constructor(){this.usagePatterns=new Map,this.optimizations=new Map,this.isOptimizing=!1}recordUsage(e,r,n){this.usagePatterns.has(e)||this.usagePatterns.set(e,{hits:0,misses:0,lastAccess:n,accessTimes:[],totalAccesses:0});const i=this.usagePatterns.get(e);i.totalAccesses++,i.lastAccess=n,i.accessTimes.push(n),r?i.hits++:i.misses++,i.accessTimes.length>100&&i.accessTimes.shift(),this.optimizeTTL(e)}calculateAverageInterval(e){if(e.length<2)return 0;const r=[];for(let i=1;i<e.length;i++)r.push(e[i]-e[i-1]);return r.reduce((i,a)=>i+a,0)/r.length}calculateFreshnessRatio(e){if(e.hits+e.misses===0)return 0;const n=e.hits,i=e.misses;return n/(n+i)}optimizeTTL(e){const r=this.usagePatterns.get(e);if(!r||r.totalAccesses<10)return;const n=this.calculateAverageInterval(r.accessTimes),i=this.calculateFreshnessRatio(r),a=this.getCurrentTTL(e);let o=a;n<5*60*1e3&&i>.8?o=Math.min(a*1.5,30*60*1e3):n>15*60*1e3&&i<.3?o=Math.max(a*.7,1*60*1e3):n<1*60*1e3&&(o=Math.max(n*2,30*1e3)),this.optimizations.set(e,{currentTTL:a,optimalTTL:o,averageInterval:n,freshnessRatio:i,lastOptimized:Date.now()}),console.log(`🔧 TTL optimisé pour ${e}:`,{current:`${a/1e3}s`,optimal:`${o/1e3}s`,interval:`${n/1e3}s`,ratio:`${(i*100).toFixed(1)}%`})}getCurrentTTL(e){return e.includes("categories")?10*60*1e3:e.includes("listings")?2*60*1e3:e.includes("userListings")?1*60*1e3:(e.includes("search"),5*60*1e3)}getOptimalTTL(e){const r=this.optimizations.get(e);return r?r.optimalTTL:this.getCurrentTTL(e)}getOptimizationRecommendations(){const e=[];for(const[r,n]of this.optimizations){const i=(n.optimalTTL-n.currentTTL)/n.currentTTL*100;Math.abs(i)>10&&e.push({cacheKey:r,currentTTL:n.currentTTL,optimalTTL:n.optimalTTL,improvement:i.toFixed(1),averageInterval:n.averageInterval,freshnessRatio:n.freshnessRatio})}return e.sort((r,n)=>Math.abs(n.improvement)-Math.abs(r.improvement))}applyOptimizations(){const e=this.getOptimizationRecommendations();let r=0;for(const n of e)console.log(`✅ Optimisation appliquée pour ${n.cacheKey}:`,{from:`${n.currentTTL/1e3}s`,to:`${n.optimalTTL/1e3}s`,improvement:`${n.improvement}%`}),r++;return r}getOptimizationStats(){const e=this.usagePatterns.size,r=this.optimizations.size,n=this.getOptimizationRecommendations();return{totalPatterns:e,totalOptimizations:r,activeRecommendations:n.length,averageImprovement:n.length>0?n.reduce((i,a)=>i+Math.abs(parseFloat(a.improvement)),0)/n.length:0}}reset(){this.usagePatterns.clear(),this.optimizations.clear(),console.log("🔄 Optimisations TTL réinitialisées")}}const hp=new Sve;class Nve{constructor(e="benome"){this.prefix=e,this.maxSize=50*1024*1024}_getKey(e){return`${this.prefix}:${e}`}_isExpired(e,r){return Date.now()-e>r}_getSize(e){return new Blob([JSON.stringify(e)]).size}_cleanup(){const r=Object.keys(localStorage).filter(o=>o.startsWith(`${this.prefix}:`));if(r.length===0)return;const n=r.map(o=>{try{const l=JSON.parse(localStorage.getItem(o));return{key:o,timestamp:l.timestamp,size:this._getSize(l)}}catch{return{key:o,timestamp:0,size:0}}}).sort((o,l)=>o.timestamp-l.timestamp);let i=this._getCurrentCacheSize();const a=this.maxSize*.8;for(const o of n){if(i<=a)break;localStorage.removeItem(o.key),i-=o.size}}_getCurrentCacheSize(){return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).reduce((n,i)=>{try{const a=JSON.parse(localStorage.getItem(i));return n+this._getSize(a)}catch{return n}},0)}set(e,r,n=5*60*1e3){try{const i=this._getKey(e),a={data:r,timestamp:Date.now(),ttl:n,version:"1.0"},o=this._getSize(a);return o>this.maxSize?(console.warn("⚠️ Données trop volumineuses pour le cache local"),!1):(this._getCurrentCacheSize()+o>this.maxSize&&this._cleanup(),localStorage.setItem(i,JSON.stringify(a)),hp.recordUsage(e,!1,Date.now()),!0)}catch(i){return console.error("❌ Erreur lors de la sauvegarde en cache:",i),!1}}get(e){try{const r=this._getKey(e),n=localStorage.getItem(r);if(!n)return hp.recordUsage(e,!1,Date.now()),null;const i=JSON.parse(n);return this._isExpired(i.timestamp,i.ttl)?(this.delete(e),hp.recordUsage(e,!1,Date.now()),null):(hp.recordUsage(e,!0,Date.now()),i.data)}catch(r){return console.error("❌ Erreur lors de la récupération du cache:",r),this.delete(e),null}}delete(e){try{const r=this._getKey(e);return localStorage.removeItem(r),!0}catch(r){return console.error("❌ Erreur lors de la suppression du cache:",r),!1}}clear(){try{return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).forEach(n=>localStorage.removeItem(n)),!0}catch(e){return console.error("❌ Erreur lors du vidage du cache:",e),!1}}getStats(){try{const r=Object.keys(localStorage).filter(a=>a.startsWith(`${this.prefix}:`)),n={totalEntries:r.length,totalSize:this._getCurrentCacheSize(),maxSize:this.maxSize,usagePercentage:this._getCurrentCacheSize()/this.maxSize*100};let i=0;return r.forEach(a=>{try{const o=JSON.parse(localStorage.getItem(a));this._isExpired(o.timestamp,o.ttl)&&i++}catch{i++}}),n.expiredEntries=i,n}catch(e){return console.error("❌ Erreur lors du calcul des statistiques:",e),null}}cleanup(){try{const r=Object.keys(localStorage).filter(i=>i.startsWith(`${this.prefix}:`));let n=0;return r.forEach(i=>{try{const a=JSON.parse(localStorage.getItem(i));this._isExpired(a.timestamp,a.ttl)&&(localStorage.removeItem(i),n++)}catch{localStorage.removeItem(i),n++}}),console.log(`🧹 Cache nettoyé: ${n} entrées supprimées`),n}catch(e){return console.error("❌ Erreur lors du nettoyage du cache:",e),0}}getTTLOptimizations(){return hp.getOptimizationRecommendations()}applyTTLOptimizations(){return hp.applyOptimizations()}}const Pc=new Nve;setInterval(()=>{Pc.cleanup()},5*60*1e3);const Wn={getSystemSettings:async()=>{try{if(!Nr)return{general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}};const{data:t,error:e}=await be.from("system_settings").select("*").single();return e?(console.warn("Table system_settings non trouvée, utilisation des paramètres par défaut"),Wn.getDefaultSettings()):t.settings||Wn.getDefaultSettings()}catch(t){return console.error("Erreur lors de la récupération des paramètres:",t),Wn.getDefaultSettings()}},updateSystemSettings:async t=>{try{if(!Nr)return console.log("Paramètres mis à jour (mode développement):",t),{success:!0,message:"Paramètres mis à jour en mode développement"};const{data:e,error:r}=await be.from("system_settings").upsert([{id:"main",settings:t,updated_at:new Date().toISOString()}],{onConflict:"id"}).select().single();if(r)throw r;return{success:!0,data:e,message:"Paramètres mis à jour avec succès"}}catch(e){throw console.error("Erreur lors de la mise à jour des paramètres:",e),new Error("Impossible de sauvegarder les paramètres")}},getSetting:async(t,e)=>{try{return(await Wn.getSystemSettings())[t]?.[e]}catch(r){return console.error("Erreur lors de la récupération du paramètre:",r),null}},updateSetting:async(t,e,r)=>{try{const n=await Wn.getSystemSettings();return n[t]||(n[t]={}),n[t][e]=r,await Wn.updateSystemSettings(n)}catch(n){throw console.error("Erreur lors de la mise à jour du paramètre:",n),n}},getSettingsBySection:async t=>{try{return(await Wn.getSystemSettings())[t]||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de la section:",e),{}}},getSiteSettings:async()=>{try{return(await Wn.getSystemSettings()).general||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres du site:",t),{}}},getAppearanceSettings:async()=>{try{return(await Wn.getSystemSettings()).appearance||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres d'apparence:",t),{}}},getNotificationSettings:async()=>{try{return(await Wn.getSystemSettings()).notifications||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de notifications:",t),{}}},getSecuritySettings:async()=>{try{return(await Wn.getSystemSettings()).security||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de sécurité:",t),{}}},getSystemSettingsSection:async()=>{try{return(await Wn.getSystemSettings()).system||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres système:",t),{}}},resetToDefaults:async()=>{try{const t=Wn.getDefaultSettings();return await Wn.updateSystemSettings(t)}catch(t){throw console.error("Erreur lors de la réinitialisation des paramètres:",t),t}},exportSettings:async()=>{try{const t=await Wn.getSystemSettings(),e=JSON.stringify(t,null,2),r=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");return i.href=n,i.download=`maximarket-settings-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n),{success:!0,message:"Paramètres exportés avec succès"}}catch(t){throw console.error("Erreur lors de l'export des paramètres:",t),new Error("Impossible d'exporter les paramètres")}},importSettings:async t=>{try{return new Promise((e,r)=>{const n=new FileReader;n.onload=async i=>{try{const a=JSON.parse(i.target.result);if(!Wn.validateSettings(a)){r(new Error("Format de paramètres invalide"));return}const o=await Wn.updateSystemSettings(a);e(o)}catch{r(new Error("Fichier JSON invalide"))}},n.onerror=()=>r(new Error("Erreur de lecture du fichier")),n.readAsText(t)})}catch(e){throw console.error("Erreur lors de l'import des paramètres:",e),e}},validateSettings:t=>{const e=["general","appearance","notifications","security","system"];for(const n of e)if(!t[n]||typeof t[n]!="object")return!1;const r=t.general;return!(!r.siteName||!r.contactEmail||!r.timezone||!r.currency)},getDefaultSettings:()=>({general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}})};var ub={exports:{}},db={exports:{}};/*! Axios v1.10.0 Copyright (c) 2025 Matt Zabriskie and contributors */var IN,gF;function Cve(){if(gF)return IN;gF=1;function t(K,ee){return function(){return K.apply(ee,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:r}=Object,{iterator:n,toStringTag:i}=Symbol,a=(K=>ee=>{const he=e.call(ee);return K[he]||(K[he]=he.slice(8,-1).toLowerCase())})(Object.create(null)),o=K=>(K=K.toLowerCase(),ee=>a(ee)===K),l=K=>ee=>typeof ee===K,{isArray:c}=Array,u=l("undefined");function d(K){return K!==null&&!u(K)&&K.constructor!==null&&!u(K.constructor)&&y(K.constructor.isBuffer)&&K.constructor.isBuffer(K)}const f=o("ArrayBuffer");function g(K){let ee;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ee=ArrayBuffer.isView(K):ee=K&&K.buffer&&f(K.buffer),ee}const v=l("string"),y=l("function"),b=l("number"),_=K=>K!==null&&typeof K=="object",j=K=>K===!0||K===!1,N=K=>{if(a(K)!=="object")return!1;const ee=r(K);return(ee===null||ee===Object.prototype||Object.getPrototypeOf(ee)===null)&&!(i in K)&&!(n in K)},C=o("Date"),A=o("File"),E=o("Blob"),P=o("FileList"),O=K=>_(K)&&y(K.pipe),I=K=>{let ee;return K&&(typeof FormData=="function"&&K instanceof FormData||y(K.append)&&((ee=a(K))==="formdata"||ee==="object"&&y(K.toString)&&K.toString()==="[object FormData]"))},F=o("URLSearchParams"),[H,U,z,V]=["ReadableStream","Request","Response","Headers"].map(o),X=K=>K.trim?K.trim():K.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function te(K,ee,{allOwnKeys:he=!1}={}){if(K===null||typeof K>"u")return;let pe,we;if(typeof K!="object"&&(K=[K]),c(K))for(pe=0,we=K.length;pe<we;pe++)ee.call(null,K[pe],pe,K);else{const Ie=he?Object.getOwnPropertyNames(K):Object.keys(K),De=Ie.length;let Ye;for(pe=0;pe<De;pe++)Ye=Ie[pe],ee.call(null,K[Ye],Ye,K)}}function le(K,ee){ee=ee.toLowerCase();const he=Object.keys(K);let pe=he.length,we;for(;pe-- >0;)if(we=he[pe],ee===we.toLowerCase())return we;return null}const W=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:qs,re=K=>!u(K)&&K!==W;function G(){const{caseless:K}=re(this)&&this||{},ee={},he=(pe,we)=>{const Ie=K&&le(ee,we)||we;N(ee[Ie])&&N(pe)?ee[Ie]=G(ee[Ie],pe):N(pe)?ee[Ie]=G({},pe):c(pe)?ee[Ie]=pe.slice():ee[Ie]=pe};for(let pe=0,we=arguments.length;pe<we;pe++)arguments[pe]&&te(arguments[pe],he);return ee}const ie=(K,ee,he,{allOwnKeys:pe}={})=>(te(ee,(we,Ie)=>{he&&y(we)?K[Ie]=t(we,he):K[Ie]=we},{allOwnKeys:pe}),K),Z=K=>(K.charCodeAt(0)===65279&&(K=K.slice(1)),K),de=(K,ee,he,pe)=>{K.prototype=Object.create(ee.prototype,pe),K.prototype.constructor=K,Object.defineProperty(K,"super",{value:ee.prototype}),he&&Object.assign(K.prototype,he)},Se=(K,ee,he,pe)=>{let we,Ie,De;const Ye={};if(ee=ee||{},K==null)return ee;do{for(we=Object.getOwnPropertyNames(K),Ie=we.length;Ie-- >0;)De=we[Ie],(!pe||pe(De,K,ee))&&!Ye[De]&&(ee[De]=K[De],Ye[De]=!0);K=he!==!1&&r(K)}while(K&&(!he||he(K,ee))&&K!==Object.prototype);return ee},Me=(K,ee,he)=>{K=String(K),(he===void 0||he>K.length)&&(he=K.length),he-=ee.length;const pe=K.indexOf(ee,he);return pe!==-1&&pe===he},qe=K=>{if(!K)return null;if(c(K))return K;let ee=K.length;if(!b(ee))return null;const he=new Array(ee);for(;ee-- >0;)he[ee]=K[ee];return he},oe=(K=>ee=>K&&ee instanceof K)(typeof Uint8Array<"u"&&r(Uint8Array)),ae=(K,ee)=>{const pe=(K&&K[n]).call(K);let we;for(;(we=pe.next())&&!we.done;){const Ie=we.value;ee.call(K,Ie[0],Ie[1])}},ge=(K,ee)=>{let he;const pe=[];for(;(he=K.exec(ee))!==null;)pe.push(he);return pe},ve=o("HTMLFormElement"),Ae=K=>K.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(he,pe,we){return pe.toUpperCase()+we}),Q=(({hasOwnProperty:K})=>(ee,he)=>K.call(ee,he))(Object.prototype),Y=o("RegExp"),Ee=(K,ee)=>{const he=Object.getOwnPropertyDescriptors(K),pe={};te(he,(we,Ie)=>{let De;(De=ee(we,Ie,K))!==!1&&(pe[Ie]=De||we)}),Object.defineProperties(K,pe)},Ce=K=>{Ee(K,(ee,he)=>{if(y(K)&&["arguments","caller","callee"].indexOf(he)!==-1)return!1;const pe=K[he];if(y(pe)){if(ee.enumerable=!1,"writable"in ee){ee.writable=!1;return}ee.set||(ee.set=()=>{throw Error("Can not rewrite read-only method '"+he+"'")})}})},Qe=(K,ee)=>{const he={},pe=we=>{we.forEach(Ie=>{he[Ie]=!0})};return c(K)?pe(K):pe(String(K).split(ee)),he},Ze=()=>{},Oe=(K,ee)=>K!=null&&Number.isFinite(K=+K)?K:ee;function ht(K){return!!(K&&y(K.append)&&K[i]==="FormData"&&K[n])}const Ft=K=>{const ee=new Array(10),he=(pe,we)=>{if(_(pe)){if(ee.indexOf(pe)>=0)return;if(!("toJSON"in pe)){ee[we]=pe;const Ie=c(pe)?[]:{};return te(pe,(De,Ye)=>{const Et=he(De,we+1);!u(Et)&&(Ie[Ye]=Et)}),ee[we]=void 0,Ie}}return pe};return he(K,0)},ye=o("AsyncFunction"),Pe=K=>K&&(_(K)||y(K))&&y(K.then)&&y(K.catch),Fe=((K,ee)=>K?setImmediate:ee?((he,pe)=>(W.addEventListener("message",({source:we,data:Ie})=>{we===W&&Ie===he&&pe.length&&pe.shift()()},!1),we=>{pe.push(we),W.postMessage(he,"*")}))(`axios@${Math.random()}`,[]):he=>setTimeout(he))(typeof setImmediate=="function",y(W.postMessage)),et=typeof queueMicrotask<"u"?queueMicrotask.bind(W):typeof process<"u"&&process.nextTick||Fe;var ue={isArray:c,isArrayBuffer:f,isBuffer:d,isFormData:I,isArrayBufferView:g,isString:v,isNumber:b,isBoolean:j,isObject:_,isPlainObject:N,isReadableStream:H,isRequest:U,isResponse:z,isHeaders:V,isUndefined:u,isDate:C,isFile:A,isBlob:E,isRegExp:Y,isFunction:y,isStream:O,isURLSearchParams:F,isTypedArray:oe,isFileList:P,forEach:te,merge:G,extend:ie,trim:X,stripBOM:Z,inherits:de,toFlatObject:Se,kindOf:a,kindOfTest:o,endsWith:Me,toArray:qe,forEachEntry:ae,matchAll:ge,isHTMLForm:ve,hasOwnProperty:Q,hasOwnProp:Q,reduceDescriptors:Ee,freezeMethods:Ce,toObjectSet:Qe,toCamelCase:Ae,noop:Ze,toFiniteNumber:Oe,findKey:le,global:W,isContextDefined:re,isSpecCompliantForm:ht,toJSONObject:Ft,isAsyncFn:ye,isThenable:Pe,setImmediate:Fe,asap:et,isIterable:K=>K!=null&&y(K[n])};function Te(K,ee,he,pe,we){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=K,this.name="AxiosError",ee&&(this.code=ee),he&&(this.config=he),pe&&(this.request=pe),we&&(this.response=we,this.status=we.status?we.status:null)}ue.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ue.toJSONObject(this.config),code:this.code,status:this.status}}});const J=Te.prototype,D={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(K=>{D[K]={value:K}}),Object.defineProperties(Te,D),Object.defineProperty(J,"isAxiosError",{value:!0}),Te.from=(K,ee,he,pe,we,Ie)=>{const De=Object.create(J);return ue.toFlatObject(K,De,function(Et){return Et!==Error.prototype},Ye=>Ye!=="isAxiosError"),Te.call(De,K.message,ee,he,pe,we),De.cause=K,De.name=K.name,Ie&&Object.assign(De,Ie),De};var B=null;function me(K){return ue.isPlainObject(K)||ue.isArray(K)}function Ne(K){return ue.endsWith(K,"[]")?K.slice(0,-2):K}function ze(K,ee,he){return K?K.concat(ee).map(function(we,Ie){return we=Ne(we),!he&&Ie?"["+we+"]":we}).join(he?".":""):ee}function We(K){return ue.isArray(K)&&!K.some(me)}const Rt=ue.toFlatObject(ue,{},null,function(ee){return/^is[A-Z]/.test(ee)});function gr(K,ee,he){if(!ue.isObject(K))throw new TypeError("target must be an object");ee=ee||new FormData,he=ue.toFlatObject(he,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Zt,Mt){return!ue.isUndefined(Mt[Zt])});const pe=he.metaTokens,we=he.visitor||dt,Ie=he.dots,De=he.indexes,Et=(he.Blob||typeof Blob<"u"&&Blob)&&ue.isSpecCompliantForm(ee);if(!ue.isFunction(we))throw new TypeError("visitor must be a function");function st(At){if(At===null)return"";if(ue.isDate(At))return At.toISOString();if(ue.isBoolean(At))return At.toString();if(!Et&&ue.isBlob(At))throw new Te("Blob is not supported. Use a Buffer instead.");return ue.isArrayBuffer(At)||ue.isTypedArray(At)?Et&&typeof Blob=="function"?new Blob([At]):Buffer.from(At):At}function dt(At,Zt,Mt){let Xr=At;if(At&&!Mt&&typeof At=="object"){if(ue.endsWith(Zt,"{}"))Zt=pe?Zt:Zt.slice(0,-2),At=JSON.stringify(At);else if(ue.isArray(At)&&We(At)||(ue.isFileList(At)||ue.endsWith(Zt,"[]"))&&(Xr=ue.toArray(At)))return Zt=Ne(Zt),Xr.forEach(function(In,ea){!(ue.isUndefined(In)||In===null)&&ee.append(De===!0?ze([Zt],ea,Ie):De===null?Zt:Zt+"[]",st(In))}),!1}return me(At)?!0:(ee.append(ze(Mt,Zt,Ie),st(At)),!1)}const Pt=[],lr=Object.assign(Rt,{defaultVisitor:dt,convertValue:st,isVisitable:me});function mn(At,Zt){if(!ue.isUndefined(At)){if(Pt.indexOf(At)!==-1)throw Error("Circular reference detected in "+Zt.join("."));Pt.push(At),ue.forEach(At,function(Xr,jn){(!(ue.isUndefined(Xr)||Xr===null)&&we.call(ee,Xr,ue.isString(jn)?jn.trim():jn,Zt,lr))===!0&&mn(Xr,Zt?Zt.concat(jn):[jn])}),Pt.pop()}}if(!ue.isObject(K))throw new TypeError("data must be an object");return mn(K),ee}function rr(K){const ee={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(K).replace(/[!'()~]|%20|%00/g,function(pe){return ee[pe]})}function ur(K,ee){this._pairs=[],K&&gr(K,this,ee)}const ar=ur.prototype;ar.append=function(ee,he){this._pairs.push([ee,he])},ar.toString=function(ee){const he=ee?function(pe){return ee.call(this,pe,rr)}:rr;return this._pairs.map(function(we){return he(we[0])+"="+he(we[1])},"").join("&")};function Yo(K){return encodeURIComponent(K).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Na(K,ee,he){if(!ee)return K;const pe=he&&he.encode||Yo;ue.isFunction(he)&&(he={serialize:he});const we=he&&he.serialize;let Ie;if(we?Ie=we(ee,he):Ie=ue.isURLSearchParams(ee)?ee.toString():new ur(ee,he).toString(pe),Ie){const De=K.indexOf("#");De!==-1&&(K=K.slice(0,De)),K+=(K.indexOf("?")===-1?"?":"&")+Ie}return K}class Xs{constructor(){this.handlers=[]}use(ee,he,pe){return this.handlers.push({fulfilled:ee,rejected:he,synchronous:pe?pe.synchronous:!1,runWhen:pe?pe.runWhen:null}),this.handlers.length-1}eject(ee){this.handlers[ee]&&(this.handlers[ee]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(ee){ue.forEach(this.handlers,function(pe){pe!==null&&ee(pe)})}}var Hi=Xs,Ki={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},fu=typeof URLSearchParams<"u"?URLSearchParams:ur,Bt=typeof FormData<"u"?FormData:null,xr=typeof Blob<"u"?Blob:null,Ir={isBrowser:!0,classes:{URLSearchParams:fu,FormData:Bt,Blob:xr},protocols:["http","https","file","blob","url","data"]};const qn=typeof window<"u"&&typeof document<"u",Mn=typeof navigator=="object"&&navigator||void 0,_i=qn&&(!Mn||["ReactNative","NativeScript","NS"].indexOf(Mn.product)<0),us=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Un=qn&&window.location.href||"http://localhost";var Ns=Object.freeze({__proto__:null,hasBrowserEnv:qn,hasStandardBrowserWebWorkerEnv:us,hasStandardBrowserEnv:_i,navigator:Mn,origin:Un}),jr={...Ns,...Ir};function Ct(K,ee){return gr(K,new jr.classes.URLSearchParams,Object.assign({visitor:function(he,pe,we,Ie){return jr.isNode&&ue.isBuffer(he)?(this.append(pe,he.toString("base64")),!1):Ie.defaultVisitor.apply(this,arguments)}},ee))}function Vl(K){return ue.matchAll(/\w+|\[(\w*)]/g,K).map(ee=>ee[0]==="[]"?"":ee[1]||ee[0])}function hu(K){const ee={},he=Object.keys(K);let pe;const we=he.length;let Ie;for(pe=0;pe<we;pe++)Ie=he[pe],ee[Ie]=K[Ie];return ee}function Kd(K){function ee(he,pe,we,Ie){let De=he[Ie++];if(De==="__proto__")return!0;const Ye=Number.isFinite(+De),Et=Ie>=he.length;return De=!De&&ue.isArray(we)?we.length:De,Et?(ue.hasOwnProp(we,De)?we[De]=[we[De],pe]:we[De]=pe,!Ye):((!we[De]||!ue.isObject(we[De]))&&(we[De]=[]),ee(he,pe,we[De],Ie)&&ue.isArray(we[De])&&(we[De]=hu(we[De])),!Ye)}if(ue.isFormData(K)&&ue.isFunction(K.entries)){const he={};return ue.forEachEntry(K,(pe,we)=>{ee(Vl(pe),we,he,0)}),he}return null}function Eh(K,ee,he){if(ue.isString(K))try{return(ee||JSON.parse)(K),ue.trim(K)}catch(pe){if(pe.name!=="SyntaxError")throw pe}return(he||JSON.stringify)(K)}const Wl={transitional:Ki,adapter:["xhr","http","fetch"],transformRequest:[function(ee,he){const pe=he.getContentType()||"",we=pe.indexOf("application/json")>-1,Ie=ue.isObject(ee);if(Ie&&ue.isHTMLForm(ee)&&(ee=new FormData(ee)),ue.isFormData(ee))return we?JSON.stringify(Kd(ee)):ee;if(ue.isArrayBuffer(ee)||ue.isBuffer(ee)||ue.isStream(ee)||ue.isFile(ee)||ue.isBlob(ee)||ue.isReadableStream(ee))return ee;if(ue.isArrayBufferView(ee))return ee.buffer;if(ue.isURLSearchParams(ee))return he.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),ee.toString();let Ye;if(Ie){if(pe.indexOf("application/x-www-form-urlencoded")>-1)return Ct(ee,this.formSerializer).toString();if((Ye=ue.isFileList(ee))||pe.indexOf("multipart/form-data")>-1){const Et=this.env&&this.env.FormData;return gr(Ye?{"files[]":ee}:ee,Et&&new Et,this.formSerializer)}}return Ie||we?(he.setContentType("application/json",!1),Eh(ee)):ee}],transformResponse:[function(ee){const he=this.transitional||Wl.transitional,pe=he&&he.forcedJSONParsing,we=this.responseType==="json";if(ue.isResponse(ee)||ue.isReadableStream(ee))return ee;if(ee&&ue.isString(ee)&&(pe&&!this.responseType||we)){const De=!(he&&he.silentJSONParsing)&&we;try{return JSON.parse(ee)}catch(Ye){if(De)throw Ye.name==="SyntaxError"?Te.from(Ye,Te.ERR_BAD_RESPONSE,this,null,this.response):Ye}}return ee}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jr.classes.FormData,Blob:jr.classes.Blob},validateStatus:function(ee){return ee>=200&&ee<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ue.forEach(["delete","get","head","post","put","patch"],K=>{Wl.headers[K]={}});var Cs=Wl;const co=ue.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Gd=K=>{const ee={};let he,pe,we;return K&&K.split(`
`).forEach(function(De){we=De.indexOf(":"),he=De.substring(0,we).trim().toLowerCase(),pe=De.substring(we+1).trim(),!(!he||ee[he]&&co[he])&&(he==="set-cookie"?ee[he]?ee[he].push(pe):ee[he]=[pe]:ee[he]=ee[he]?ee[he]+", "+pe:pe)}),ee};const Ph=Symbol("internals");function Xo(K){return K&&String(K).trim().toLowerCase()}function Hl(K){return K===!1||K==null?K:ue.isArray(K)?K.map(Hl):String(K)}function kh(K){const ee=Object.create(null),he=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let pe;for(;pe=he.exec(K);)ee[pe[1]]=pe[2];return ee}const Zd=K=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(K.trim());function Yd(K,ee,he,pe,we){if(ue.isFunction(pe))return pe.call(this,ee,he);if(we&&(ee=he),!!ue.isString(ee)){if(ue.isString(pe))return ee.indexOf(pe)!==-1;if(ue.isRegExp(pe))return pe.test(ee)}}function pu(K){return K.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(ee,he,pe)=>he.toUpperCase()+pe)}function hn(K,ee){const he=ue.toCamelCase(" "+ee);["get","set","has"].forEach(pe=>{Object.defineProperty(K,pe+he,{value:function(we,Ie,De){return this[pe].call(this,ee,we,Ie,De)},configurable:!0})})}class mu{constructor(ee){ee&&this.set(ee)}set(ee,he,pe){const we=this;function Ie(Ye,Et,st){const dt=Xo(Et);if(!dt)throw new Error("header name must be a non-empty string");const Pt=ue.findKey(we,dt);(!Pt||we[Pt]===void 0||st===!0||st===void 0&&we[Pt]!==!1)&&(we[Pt||Et]=Hl(Ye))}const De=(Ye,Et)=>ue.forEach(Ye,(st,dt)=>Ie(st,dt,Et));if(ue.isPlainObject(ee)||ee instanceof this.constructor)De(ee,he);else if(ue.isString(ee)&&(ee=ee.trim())&&!Zd(ee))De(Gd(ee),he);else if(ue.isObject(ee)&&ue.isIterable(ee)){let Ye={},Et,st;for(const dt of ee){if(!ue.isArray(dt))throw TypeError("Object iterator must return a key-value pair");Ye[st=dt[0]]=(Et=Ye[st])?ue.isArray(Et)?[...Et,dt[1]]:[Et,dt[1]]:dt[1]}De(Ye,he)}else ee!=null&&Ie(he,ee,pe);return this}get(ee,he){if(ee=Xo(ee),ee){const pe=ue.findKey(this,ee);if(pe){const we=this[pe];if(!he)return we;if(he===!0)return kh(we);if(ue.isFunction(he))return he.call(this,we,pe);if(ue.isRegExp(he))return he.exec(we);throw new TypeError("parser must be boolean|regexp|function")}}}has(ee,he){if(ee=Xo(ee),ee){const pe=ue.findKey(this,ee);return!!(pe&&this[pe]!==void 0&&(!he||Yd(this,this[pe],pe,he)))}return!1}delete(ee,he){const pe=this;let we=!1;function Ie(De){if(De=Xo(De),De){const Ye=ue.findKey(pe,De);Ye&&(!he||Yd(pe,pe[Ye],Ye,he))&&(delete pe[Ye],we=!0)}}return ue.isArray(ee)?ee.forEach(Ie):Ie(ee),we}clear(ee){const he=Object.keys(this);let pe=he.length,we=!1;for(;pe--;){const Ie=he[pe];(!ee||Yd(this,this[Ie],Ie,ee,!0))&&(delete this[Ie],we=!0)}return we}normalize(ee){const he=this,pe={};return ue.forEach(this,(we,Ie)=>{const De=ue.findKey(pe,Ie);if(De){he[De]=Hl(we),delete he[Ie];return}const Ye=ee?pu(Ie):String(Ie).trim();Ye!==Ie&&delete he[Ie],he[Ye]=Hl(we),pe[Ye]=!0}),this}concat(...ee){return this.constructor.concat(this,...ee)}toJSON(ee){const he=Object.create(null);return ue.forEach(this,(pe,we)=>{pe!=null&&pe!==!1&&(he[we]=ee&&ue.isArray(pe)?pe.join(", "):pe)}),he}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([ee,he])=>ee+": "+he).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(ee){return ee instanceof this?ee:new this(ee)}static concat(ee,...he){const pe=new this(ee);return he.forEach(we=>pe.set(we)),pe}static accessor(ee){const pe=(this[Ph]=this[Ph]={accessors:{}}).accessors,we=this.prototype;function Ie(De){const Ye=Xo(De);pe[Ye]||(hn(we,De),pe[Ye]=!0)}return ue.isArray(ee)?ee.forEach(Ie):Ie(ee),this}}mu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ue.reduceDescriptors(mu.prototype,({value:K},ee)=>{let he=ee[0].toUpperCase()+ee.slice(1);return{get:()=>K,set(pe){this[he]=pe}}}),ue.freezeMethods(mu);var Di=mu;function gu(K,ee){const he=this||Cs,pe=ee||he,we=Di.from(pe.headers);let Ie=pe.data;return ue.forEach(K,function(Ye){Ie=Ye.call(he,Ie,we.normalize(),ee?ee.status:void 0)}),we.normalize(),Ie}function Kl(K){return!!(K&&K.__CANCEL__)}function Ca(K,ee,he){Te.call(this,K??"canceled",Te.ERR_CANCELED,ee,he),this.name="CanceledError"}ue.inherits(Ca,Te,{__CANCEL__:!0});function uo(K,ee,he){const pe=he.config.validateStatus;!he.status||!pe||pe(he.status)?K(he):ee(new Te("Request failed with status code "+he.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(he.status/100)-4],he.config,he.request,he))}function Gl(K){const ee=/^([-+\w]{1,25})(:?\/\/|:)/.exec(K);return ee&&ee[1]||""}function ds(K,ee){K=K||10;const he=new Array(K),pe=new Array(K);let we=0,Ie=0,De;return ee=ee!==void 0?ee:1e3,function(Et){const st=Date.now(),dt=pe[Ie];De||(De=st),he[we]=Et,pe[we]=st;let Pt=Ie,lr=0;for(;Pt!==we;)lr+=he[Pt++],Pt=Pt%K;if(we=(we+1)%K,we===Ie&&(Ie=(Ie+1)%K),st-De<ee)return;const mn=dt&&st-dt;return mn?Math.round(lr*1e3/mn):void 0}}function Zl(K,ee){let he=0,pe=1e3/ee,we,Ie;const De=(st,dt=Date.now())=>{he=dt,we=null,Ie&&(clearTimeout(Ie),Ie=null),K.apply(null,st)};return[(...st)=>{const dt=Date.now(),Pt=dt-he;Pt>=pe?De(st,dt):(we=st,Ie||(Ie=setTimeout(()=>{Ie=null,De(we)},pe-Pt)))},()=>we&&De(we)]}const Vt=(K,ee,he=3)=>{let pe=0;const we=ds(50,250);return Zl(Ie=>{const De=Ie.loaded,Ye=Ie.lengthComputable?Ie.total:void 0,Et=De-pe,st=we(Et),dt=De<=Ye;pe=De;const Pt={loaded:De,total:Ye,progress:Ye?De/Ye:void 0,bytes:Et,rate:st||void 0,estimated:st&&Ye&&dt?(Ye-De)/st:void 0,event:Ie,lengthComputable:Ye!=null,[ee?"download":"upload"]:!0};K(Pt)},he)},Yr=(K,ee)=>{const he=K!=null;return[pe=>ee[0]({lengthComputable:he,total:K,loaded:pe}),ee[1]]},Yl=K=>(...ee)=>ue.asap(()=>K(...ee));var Jo=jr.hasStandardBrowserEnv?((K,ee)=>he=>(he=new URL(he,jr.origin),K.protocol===he.protocol&&K.host===he.host&&(ee||K.port===he.port)))(new URL(jr.origin),jr.navigator&&/(msie|trident)/i.test(jr.navigator.userAgent)):()=>!0,Js=jr.hasStandardBrowserEnv?{write(K,ee,he,pe,we,Ie){const De=[K+"="+encodeURIComponent(ee)];ue.isNumber(he)&&De.push("expires="+new Date(he).toGMTString()),ue.isString(pe)&&De.push("path="+pe),ue.isString(we)&&De.push("domain="+we),Ie===!0&&De.push("secure"),document.cookie=De.join("; ")},read(K){const ee=document.cookie.match(new RegExp("(^|;\\s*)("+K+")=([^;]*)"));return ee?decodeURIComponent(ee[3]):null},remove(K){this.write(K,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Qo(K){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(K)}function Kt(K,ee){return ee?K.replace(/\/?\/$/,"")+"/"+ee.replace(/^\/+/,""):K}function Wr(K,ee,he){let pe=!Qo(ee);return K&&(pe||he==!1)?Kt(K,ee):ee}const vu=K=>K instanceof Di?{...K}:K;function Es(K,ee){ee=ee||{};const he={};function pe(st,dt,Pt,lr){return ue.isPlainObject(st)&&ue.isPlainObject(dt)?ue.merge.call({caseless:lr},st,dt):ue.isPlainObject(dt)?ue.merge({},dt):ue.isArray(dt)?dt.slice():dt}function we(st,dt,Pt,lr){if(ue.isUndefined(dt)){if(!ue.isUndefined(st))return pe(void 0,st,Pt,lr)}else return pe(st,dt,Pt,lr)}function Ie(st,dt){if(!ue.isUndefined(dt))return pe(void 0,dt)}function De(st,dt){if(ue.isUndefined(dt)){if(!ue.isUndefined(st))return pe(void 0,st)}else return pe(void 0,dt)}function Ye(st,dt,Pt){if(Pt in ee)return pe(st,dt);if(Pt in K)return pe(void 0,st)}const Et={url:Ie,method:Ie,data:Ie,baseURL:De,transformRequest:De,transformResponse:De,paramsSerializer:De,timeout:De,timeoutMessage:De,withCredentials:De,withXSRFToken:De,adapter:De,responseType:De,xsrfCookieName:De,xsrfHeaderName:De,onUploadProgress:De,onDownloadProgress:De,decompress:De,maxContentLength:De,maxBodyLength:De,beforeRedirect:De,transport:De,httpAgent:De,httpsAgent:De,cancelToken:De,socketPath:De,responseEncoding:De,validateStatus:Ye,headers:(st,dt,Pt)=>we(vu(st),vu(dt),Pt,!0)};return ue.forEach(Object.keys(Object.assign({},K,ee)),function(dt){const Pt=Et[dt]||we,lr=Pt(K[dt],ee[dt],dt);ue.isUndefined(lr)&&Pt!==Ye||(he[dt]=lr)}),he}var li=K=>{const ee=Es({},K);let{data:he,withXSRFToken:pe,xsrfHeaderName:we,xsrfCookieName:Ie,headers:De,auth:Ye}=ee;ee.headers=De=Di.from(De),ee.url=Na(Wr(ee.baseURL,ee.url,ee.allowAbsoluteUrls),K.params,K.paramsSerializer),Ye&&De.set("Authorization","Basic "+btoa((Ye.username||"")+":"+(Ye.password?unescape(encodeURIComponent(Ye.password)):"")));let Et;if(ue.isFormData(he)){if(jr.hasStandardBrowserEnv||jr.hasStandardBrowserWebWorkerEnv)De.setContentType(void 0);else if((Et=De.getContentType())!==!1){const[st,...dt]=Et?Et.split(";").map(Pt=>Pt.trim()).filter(Boolean):[];De.setContentType([st||"multipart/form-data",...dt].join("; "))}}if(jr.hasStandardBrowserEnv&&(pe&&ue.isFunction(pe)&&(pe=pe(ee)),pe||pe!==!1&&Jo(ee.url))){const st=we&&Ie&&Js.read(Ie);st&&De.set(we,st)}return ee},el=typeof XMLHttpRequest<"u"&&function(K){return new Promise(function(he,pe){const we=li(K);let Ie=we.data;const De=Di.from(we.headers).normalize();let{responseType:Ye,onUploadProgress:Et,onDownloadProgress:st}=we,dt,Pt,lr,mn,At;function Zt(){mn&&mn(),At&&At(),we.cancelToken&&we.cancelToken.unsubscribe(dt),we.signal&&we.signal.removeEventListener("abort",dt)}let Mt=new XMLHttpRequest;Mt.open(we.method.toUpperCase(),we.url,!0),Mt.timeout=we.timeout;function Xr(){if(!Mt)return;const In=Di.from("getAllResponseHeaders"in Mt&&Mt.getAllResponseHeaders()),Yn={data:!Ye||Ye==="text"||Ye==="json"?Mt.responseText:Mt.response,status:Mt.status,statusText:Mt.statusText,headers:In,config:K,request:Mt};uo(function(ta){he(ta),Zt()},function(ta){pe(ta),Zt()},Yn),Mt=null}"onloadend"in Mt?Mt.onloadend=Xr:Mt.onreadystatechange=function(){!Mt||Mt.readyState!==4||Mt.status===0&&!(Mt.responseURL&&Mt.responseURL.indexOf("file:")===0)||setTimeout(Xr)},Mt.onabort=function(){Mt&&(pe(new Te("Request aborted",Te.ECONNABORTED,K,Mt)),Mt=null)},Mt.onerror=function(){pe(new Te("Network Error",Te.ERR_NETWORK,K,Mt)),Mt=null},Mt.ontimeout=function(){let ea=we.timeout?"timeout of "+we.timeout+"ms exceeded":"timeout exceeded";const Yn=we.transitional||Ki;we.timeoutErrorMessage&&(ea=we.timeoutErrorMessage),pe(new Te(ea,Yn.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,K,Mt)),Mt=null},Ie===void 0&&De.setContentType(null),"setRequestHeader"in Mt&&ue.forEach(De.toJSON(),function(ea,Yn){Mt.setRequestHeader(Yn,ea)}),ue.isUndefined(we.withCredentials)||(Mt.withCredentials=!!we.withCredentials),Ye&&Ye!=="json"&&(Mt.responseType=we.responseType),st&&([lr,At]=Vt(st,!0),Mt.addEventListener("progress",lr)),Et&&Mt.upload&&([Pt,mn]=Vt(Et),Mt.upload.addEventListener("progress",Pt),Mt.upload.addEventListener("loadend",mn)),(we.cancelToken||we.signal)&&(dt=In=>{Mt&&(pe(!In||In.type?new Ca(null,K,Mt):In),Mt.abort(),Mt=null)},we.cancelToken&&we.cancelToken.subscribe(dt),we.signal&&(we.signal.aborted?dt():we.signal.addEventListener("abort",dt)));const jn=Gl(we.url);if(jn&&jr.protocols.indexOf(jn)===-1){pe(new Te("Unsupported protocol "+jn+":",Te.ERR_BAD_REQUEST,K));return}Mt.send(Ie||null)})},_n=(K,ee)=>{const{length:he}=K=K?K.filter(Boolean):[];if(ee||he){let pe=new AbortController,we;const Ie=function(st){if(!we){we=!0,Ye();const dt=st instanceof Error?st:this.reason;pe.abort(dt instanceof Te?dt:new Ca(dt instanceof Error?dt.message:dt))}};let De=ee&&setTimeout(()=>{De=null,Ie(new Te(`timeout ${ee} of ms exceeded`,Te.ETIMEDOUT))},ee);const Ye=()=>{K&&(De&&clearTimeout(De),De=null,K.forEach(st=>{st.unsubscribe?st.unsubscribe(Ie):st.removeEventListener("abort",Ie)}),K=null)};K.forEach(st=>st.addEventListener("abort",Ie));const{signal:Et}=pe;return Et.unsubscribe=()=>ue.asap(Ye),Et}};const Qs=function*(K,ee){let he=K.byteLength;if(he<ee){yield K;return}let pe=0,we;for(;pe<he;)we=pe+ee,yield K.slice(pe,we),pe=we},vr=async function*(K,ee){for await(const he of tl(K))yield*Qs(he,ee)},tl=async function*(K){if(K[Symbol.asyncIterator]){yield*K;return}const ee=K.getReader();try{for(;;){const{done:he,value:pe}=await ee.read();if(he)break;yield pe}}finally{await ee.cancel()}},Xl=(K,ee,he,pe)=>{const we=vr(K,ee);let Ie=0,De,Ye=Et=>{De||(De=!0,pe&&pe(Et))};return new ReadableStream({async pull(Et){try{const{done:st,value:dt}=await we.next();if(st){Ye(),Et.close();return}let Pt=dt.byteLength;if(he){let lr=Ie+=Pt;he(lr)}Et.enqueue(new Uint8Array(dt))}catch(st){throw Ye(st),st}},cancel(Et){return Ye(Et),we.return()}},{highWaterMark:2})},ks=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Jl=ks&&typeof ReadableStream=="function",yu=ks&&(typeof TextEncoder=="function"?(K=>ee=>K.encode(ee))(new TextEncoder):async K=>new Uint8Array(await new Response(K).arrayBuffer())),rl=(K,...ee)=>{try{return!!K(...ee)}catch{return!1}},Ql=Jl&&rl(()=>{let K=!1;const ee=new Request(jr.origin,{body:new ReadableStream,method:"POST",get duplex(){return K=!0,"half"}}).headers.has("Content-Type");return K&&!ee}),fo=64*1024,Li=Jl&&rl(()=>ue.isReadableStream(new Response("").body)),Gi={stream:Li&&(K=>K.body)};ks&&(K=>{["text","arrayBuffer","blob","formData","stream"].forEach(ee=>{!Gi[ee]&&(Gi[ee]=ue.isFunction(K[ee])?he=>he[ee]():(he,pe)=>{throw new Te(`Response type '${ee}' is not supported`,Te.ERR_NOT_SUPPORT,pe)})})})(new Response);const As=async K=>{if(K==null)return 0;if(ue.isBlob(K))return K.size;if(ue.isSpecCompliantForm(K))return(await new Request(jr.origin,{method:"POST",body:K}).arrayBuffer()).byteLength;if(ue.isArrayBufferView(K)||ue.isArrayBuffer(K))return K.byteLength;if(ue.isURLSearchParams(K)&&(K=K+""),ue.isString(K))return(await yu(K)).byteLength},ec=async(K,ee)=>{const he=ue.toFiniteNumber(K.getContentLength());return he??As(ee)};var zt=ks&&(async K=>{let{url:ee,method:he,data:pe,signal:we,cancelToken:Ie,timeout:De,onDownloadProgress:Ye,onUploadProgress:Et,responseType:st,headers:dt,withCredentials:Pt="same-origin",fetchOptions:lr}=li(K);st=st?(st+"").toLowerCase():"text";let mn=_n([we,Ie&&Ie.toAbortSignal()],De),At;const Zt=mn&&mn.unsubscribe&&(()=>{mn.unsubscribe()});let Mt;try{if(Et&&Ql&&he!=="get"&&he!=="head"&&(Mt=await ec(dt,pe))!==0){let Yn=new Request(ee,{method:"POST",body:pe,duplex:"half"}),Aa;if(ue.isFormData(pe)&&(Aa=Yn.headers.get("content-type"))&&dt.setContentType(Aa),Yn.body){const[ta,ic]=Yr(Mt,Vt(Yl(Et)));pe=Xl(Yn.body,fo,ta,ic)}}ue.isString(Pt)||(Pt=Pt?"include":"omit");const Xr="credentials"in Request.prototype;At=new Request(ee,{...lr,signal:mn,method:he.toUpperCase(),headers:dt.normalize().toJSON(),body:pe,duplex:"half",credentials:Xr?Pt:void 0});let jn=await fetch(At,lr);const In=Li&&(st==="stream"||st==="response");if(Li&&(Ye||In&&Zt)){const Yn={};["status","statusText","headers"].forEach(sc=>{Yn[sc]=jn[sc]});const Aa=ue.toFiniteNumber(jn.headers.get("content-length")),[ta,ic]=Ye&&Yr(Aa,Vt(Yl(Ye),!0))||[];jn=new Response(Xl(jn.body,fo,ta,()=>{ic&&ic(),Zt&&Zt()}),Yn)}st=st||"text";let ea=await Gi[ue.findKey(Gi,st)||"text"](jn,K);return!In&&Zt&&Zt(),await new Promise((Yn,Aa)=>{uo(Yn,Aa,{data:ea,headers:Di.from(jn.headers),status:jn.status,statusText:jn.statusText,config:K,request:At})})}catch(Xr){throw Zt&&Zt(),Xr&&Xr.name==="TypeError"&&/Load failed|fetch/i.test(Xr.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,K,At),{cause:Xr.cause||Xr}):Te.from(Xr,Xr&&Xr.code,K,At)}});const Pn={http:B,xhr:el,fetch:zt};ue.forEach(Pn,(K,ee)=>{if(K){try{Object.defineProperty(K,"name",{value:ee})}catch{}Object.defineProperty(K,"adapterName",{value:ee})}});const Dr=K=>`- ${K}`,Xd=K=>ue.isFunction(K)||K===null||K===!1;var Ea={getAdapter:K=>{K=ue.isArray(K)?K:[K];const{length:ee}=K;let he,pe;const we={};for(let Ie=0;Ie<ee;Ie++){he=K[Ie];let De;if(pe=he,!Xd(he)&&(pe=Pn[(De=String(he)).toLowerCase()],pe===void 0))throw new Te(`Unknown adapter '${De}'`);if(pe)break;we[De||"#"+Ie]=pe}if(!pe){const Ie=Object.entries(we).map(([Ye,Et])=>`adapter ${Ye} `+(Et===!1?"is not supported by the environment":"is not available in the build"));let De=ee?Ie.length>1?`since :
`+Ie.map(Dr).join(`
`):" "+Dr(Ie[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+De,"ERR_NOT_SUPPORT")}return pe},adapters:Pn};function tc(K){if(K.cancelToken&&K.cancelToken.throwIfRequested(),K.signal&&K.signal.aborted)throw new Ca(null,K)}function rc(K){return tc(K),K.headers=Di.from(K.headers),K.data=gu.call(K,K.transformRequest),["post","put","patch"].indexOf(K.method)!==-1&&K.headers.setContentType("application/x-www-form-urlencoded",!1),Ea.getAdapter(K.adapter||Cs.adapter)(K).then(function(pe){return tc(K),pe.data=gu.call(K,K.transformResponse,pe),pe.headers=Di.from(pe.headers),pe},function(pe){return Kl(pe)||(tc(K),pe&&pe.response&&(pe.response.data=gu.call(K,K.transformResponse,pe.response),pe.response.headers=Di.from(pe.response.headers))),Promise.reject(pe)})}const fs="1.10.0",ho={};["object","boolean","number","function","string","symbol"].forEach((K,ee)=>{ho[K]=function(pe){return typeof pe===K||"a"+(ee<1?"n ":" ")+K}});const nl={};ho.transitional=function(ee,he,pe){function we(Ie,De){return"[Axios v"+fs+"] Transitional option '"+Ie+"'"+De+(pe?". "+pe:"")}return(Ie,De,Ye)=>{if(ee===!1)throw new Te(we(De," has been removed"+(he?" in "+he:"")),Te.ERR_DEPRECATED);return he&&!nl[De]&&(nl[De]=!0,console.warn(we(De," has been deprecated since v"+he+" and will be removed in the near future"))),ee?ee(Ie,De,Ye):!0}},ho.spelling=function(ee){return(he,pe)=>(console.warn(`${pe} is likely a misspelling of ${ee}`),!0)};function pn(K,ee,he){if(typeof K!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const pe=Object.keys(K);let we=pe.length;for(;we-- >0;){const Ie=pe[we],De=ee[Ie];if(De){const Ye=K[Ie],Et=Ye===void 0||De(Ye,Ie,K);if(Et!==!0)throw new Te("option "+Ie+" must be "+Et,Te.ERR_BAD_OPTION_VALUE);continue}if(he!==!0)throw new Te("Unknown option "+Ie,Te.ERR_BAD_OPTION)}}var ji={assertOptions:pn,validators:ho};const Zn=ji.validators;class Pa{constructor(ee){this.defaults=ee||{},this.interceptors={request:new Hi,response:new Hi}}async request(ee,he){try{return await this._request(ee,he)}catch(pe){if(pe instanceof Error){let we={};Error.captureStackTrace?Error.captureStackTrace(we):we=new Error;const Ie=we.stack?we.stack.replace(/^.+\n/,""):"";try{pe.stack?Ie&&!String(pe.stack).endsWith(Ie.replace(/^.+\n.+\n/,""))&&(pe.stack+=`
`+Ie):pe.stack=Ie}catch{}}throw pe}}_request(ee,he){typeof ee=="string"?(he=he||{},he.url=ee):he=ee||{},he=Es(this.defaults,he);const{transitional:pe,paramsSerializer:we,headers:Ie}=he;pe!==void 0&&ji.assertOptions(pe,{silentJSONParsing:Zn.transitional(Zn.boolean),forcedJSONParsing:Zn.transitional(Zn.boolean),clarifyTimeoutError:Zn.transitional(Zn.boolean)},!1),we!=null&&(ue.isFunction(we)?he.paramsSerializer={serialize:we}:ji.assertOptions(we,{encode:Zn.function,serialize:Zn.function},!0)),he.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?he.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:he.allowAbsoluteUrls=!0),ji.assertOptions(he,{baseUrl:Zn.spelling("baseURL"),withXsrfToken:Zn.spelling("withXSRFToken")},!0),he.method=(he.method||this.defaults.method||"get").toLowerCase();let De=Ie&&ue.merge(Ie.common,Ie[he.method]);Ie&&ue.forEach(["delete","get","head","post","put","patch","common"],At=>{delete Ie[At]}),he.headers=Di.concat(De,Ie);const Ye=[];let Et=!0;this.interceptors.request.forEach(function(Zt){typeof Zt.runWhen=="function"&&Zt.runWhen(he)===!1||(Et=Et&&Zt.synchronous,Ye.unshift(Zt.fulfilled,Zt.rejected))});const st=[];this.interceptors.response.forEach(function(Zt){st.push(Zt.fulfilled,Zt.rejected)});let dt,Pt=0,lr;if(!Et){const At=[rc.bind(this),void 0];for(At.unshift.apply(At,Ye),At.push.apply(At,st),lr=At.length,dt=Promise.resolve(he);Pt<lr;)dt=dt.then(At[Pt++],At[Pt++]);return dt}lr=Ye.length;let mn=he;for(Pt=0;Pt<lr;){const At=Ye[Pt++],Zt=Ye[Pt++];try{mn=At(mn)}catch(Mt){Zt.call(this,Mt);break}}try{dt=rc.call(this,mn)}catch(At){return Promise.reject(At)}for(Pt=0,lr=st.length;Pt<lr;)dt=dt.then(st[Pt++],st[Pt++]);return dt}getUri(ee){ee=Es(this.defaults,ee);const he=Wr(ee.baseURL,ee.url,ee.allowAbsoluteUrls);return Na(he,ee.params,ee.paramsSerializer)}}ue.forEach(["delete","get","head","options"],function(ee){Pa.prototype[ee]=function(he,pe){return this.request(Es(pe||{},{method:ee,url:he,data:(pe||{}).data}))}}),ue.forEach(["post","put","patch"],function(ee){function he(pe){return function(Ie,De,Ye){return this.request(Es(Ye||{},{method:ee,headers:pe?{"Content-Type":"multipart/form-data"}:{},url:Ie,data:De}))}}Pa.prototype[ee]=he(),Pa.prototype[ee+"Form"]=he(!0)});var xu=Pa;class bu{constructor(ee){if(typeof ee!="function")throw new TypeError("executor must be a function.");let he;this.promise=new Promise(function(Ie){he=Ie});const pe=this;this.promise.then(we=>{if(!pe._listeners)return;let Ie=pe._listeners.length;for(;Ie-- >0;)pe._listeners[Ie](we);pe._listeners=null}),this.promise.then=we=>{let Ie;const De=new Promise(Ye=>{pe.subscribe(Ye),Ie=Ye}).then(we);return De.cancel=function(){pe.unsubscribe(Ie)},De},ee(function(Ie,De,Ye){pe.reason||(pe.reason=new Ca(Ie,De,Ye),he(pe.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(ee){if(this.reason){ee(this.reason);return}this._listeners?this._listeners.push(ee):this._listeners=[ee]}unsubscribe(ee){if(!this._listeners)return;const he=this._listeners.indexOf(ee);he!==-1&&this._listeners.splice(he,1)}toAbortSignal(){const ee=new AbortController,he=pe=>{ee.abort(pe)};return this.subscribe(he),ee.signal.unsubscribe=()=>this.unsubscribe(he),ee.signal}static source(){let ee;return{token:new bu(function(we){ee=we}),cancel:ee}}}var nc=bu;function wu(K){return function(he){return K.apply(null,he)}}function _u(K){return ue.isObject(K)&&K.isAxiosError===!0}const or={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(or).forEach(([K,ee])=>{or[ee]=K});var ka=or;function Si(K){const ee=new xu(K),he=t(xu.prototype.request,ee);return ue.extend(he,xu.prototype,ee,{allOwnKeys:!0}),ue.extend(he,ee,null,{allOwnKeys:!0}),he.create=function(we){return Si(Es(K,we))},he}const Lr=Si(Cs);return Lr.Axios=xu,Lr.CanceledError=Ca,Lr.CancelToken=nc,Lr.isCancel=Kl,Lr.VERSION=fs,Lr.toFormData=gr,Lr.AxiosError=Te,Lr.Cancel=Lr.CanceledError,Lr.all=function(ee){return Promise.all(ee)},Lr.spread=wu,Lr.isAxiosError=_u,Lr.mergeConfig=Es,Lr.AxiosHeaders=Di,Lr.formToJSON=K=>Kd(ue.isHTMLForm(K)?new FormData(K):K),Lr.getAdapter=Ea.getAdapter,Lr.HttpStatusCode=ka,Lr.default=Lr,IN=Lr,IN}const Eve="8.1.5",Pve={version:Eve};var DN,vF;function EM(){return vF||(vF=1,DN=function t(e,r,n){if(typeof e!="object"||e===null)throw new Error("Non object passed to convertKeys: "+e);if(Array.isArray(e))return e;Array.isArray(n)||(n=[]);for(const i in e)if(e.hasOwnProperty(i)){const a=r(i);typeof e[i]=="object"&&e[i]!==null&&!n.includes(i)&&!n.includes(a)&&(e[i]=t(e[i],r,n)),a!==i&&(e[a]=e[i],delete e[i])}return e}),DN}var LN,yF;function kve(){return yF||(yF=1,LN=function(e){if(typeof e!="string")throw new Error("String expected for conversion to snake case");return e.trim().replace(/_+|\-+/g," ").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(r,n){return Number(r)===0?"":n===0?r.toLowerCase():r.toUpperCase()})}),LN}var $N,xF;function hx(){if(xF)return $N;xF=1;const t=EM(),e=kve();return $N=function(n,i){return t(n,e,i)},$N}var FN,bF;function Ave(){return bF||(bF=1,FN=function(e){if(typeof e!="string")throw new Error("String expected for conversion to snake case");return e.trim().replace(/(\s*\-*\b\w|[A-Z])/g,function(r){return r=r.trim().toLowerCase().replace("-",""),(r[0]==="_"?"":"_")+r}).slice(1)}),FN}var BN,wF;function E1(){if(wF)return BN;wF=1;const t=EM(),e=Ave();return BN=function(n,i){return t(n,e,i)},BN}var zN,_F;function px(){return _F||(_F=1,zN=function(e){return JSON.parse(JSON.stringify(e))}),zN}const Tve={},Ove=Object.freeze(Object.defineProperty({__proto__:null,default:Tve},Symbol.toStringTag,{value:"Module"})),nm=x7(Ove);var qN,jF;function Rve(){if(jF)return qN;jF=1;const t=hx(),e=E1(),r=px(),n=nm,i=nm;class a{constructor(l){l&&this.fromData(l)}fromData(l){if(typeof l!="object")throw new Error("Expecting object for Mail data");l=r(l),l=t(l);const{content:c,filename:u,type:d,disposition:f,contentId:g,filePath:v}=l;if(typeof c<"u"&&typeof v<"u")throw new Error("The props 'content' and 'filePath' cannot be used together.");this.setFilename(u),this.setType(d),this.setDisposition(f),this.setContentId(g),this.setContent(v?this.readFile(v):c)}readFile(l){return n.readFileSync(i.resolve(l))}setContent(l){if(typeof l=="string"){this.content=l;return}else if(l instanceof Buffer&&l.toString!==void 0){this.content=l.toString(),this.disposition==="attachment"&&(this.content=l.toString("base64"));return}throw new Error("`content` expected to be either Buffer or string")}setFileContent(l){if(l instanceof Buffer&&l.toString!==void 0){this.content=l.toString("base64");return}throw new Error("`content` expected to be Buffer")}setFilename(l){if(!(typeof l>"u")){if(l&&typeof l!="string")throw new Error("String expected for `filename`");this.filename=l}}setType(l){if(!(typeof l>"u")){if(typeof l!="string")throw new Error("String expected for `type`");this.type=l}}setDisposition(l){if(!(typeof l>"u")){if(typeof l!="string")throw new Error("String expected for `disposition`");this.disposition=l}}setContentId(l){if(!(typeof l>"u")){if(typeof l!="string")throw new Error("String expected for `contentId`");this.contentId=l}}toJSON(){const{content:l,filename:c,type:u,disposition:d,contentId:f}=this,g={content:l,filename:c};return typeof u<"u"&&(g.type=u),typeof d<"u"&&(g.disposition=d),typeof f<"u"&&(g.contentId=f),e(g)}}return qN=a,qN}var UN,SF;function jK(){return SF||(SF=1,UN=function(e){if(e.indexOf("<")===-1)return["",e];let[r,n]=e.split("<");return r=r.trim(),n=n.replace(">","").trim(),[r,n]}),UN}var VN,NF;function PM(){if(NF)return VN;NF=1;const t=jK();class e{constructor(n){n&&this.fromData(n)}fromData(n){if(typeof n=="string"){const[o,l]=t(n);n={name:o,email:l}}if(typeof n!="object")throw new Error("Expecting object or string for EmailAddress data");const{name:i,email:a}=n;this.setEmail(a),this.setName(i)}setName(n){if(!(typeof n>"u")){if(typeof n!="string")throw new Error("String expected for `name`");this.name=n}}setEmail(n){if(typeof n>"u")throw new Error("Must provide `email`");if(typeof n!="string")throw new Error("String expected for `email`");this.email=n}toJSON(){const{email:n,name:i}=this,a={email:n};return i!==""&&(a.name=i),a}static create(n){return Array.isArray(n)?n.filter(i=>!!i).map(i=>this.create(i)):n instanceof e?n:new e(n)}}return VN=e,VN}var WN,CF;function Mve(){if(CF)return WN;CF=1;var t=function(N){return e(N)&&!r(N)};function e(j){return!!j&&typeof j=="object"}function r(j){var N=Object.prototype.toString.call(j);return N==="[object RegExp]"||N==="[object Date]"||a(j)}var n=typeof Symbol=="function"&&Symbol.for,i=n?Symbol.for("react.element"):60103;function a(j){return j.$$typeof===i}function o(j){return Array.isArray(j)?[]:{}}function l(j,N){return N.clone!==!1&&N.isMergeableObject(j)?b(o(j),j,N):j}function c(j,N,C){return j.concat(N).map(function(A){return l(A,C)})}function u(j,N){if(!N.customMerge)return b;var C=N.customMerge(j);return typeof C=="function"?C:b}function d(j){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(j).filter(function(N){return Object.propertyIsEnumerable.call(j,N)}):[]}function f(j){return Object.keys(j).concat(d(j))}function g(j,N){try{return N in j}catch{return!1}}function v(j,N){return g(j,N)&&!(Object.hasOwnProperty.call(j,N)&&Object.propertyIsEnumerable.call(j,N))}function y(j,N,C){var A={};return C.isMergeableObject(j)&&f(j).forEach(function(E){A[E]=l(j[E],C)}),f(N).forEach(function(E){v(j,E)||(g(j,E)&&C.isMergeableObject(N[E])?A[E]=u(E,C)(j[E],N[E],C):A[E]=l(N[E],C))}),A}function b(j,N,C){C=C||{},C.arrayMerge=C.arrayMerge||c,C.isMergeableObject=C.isMergeableObject||t,C.cloneUnlessOtherwiseSpecified=l;var A=Array.isArray(N),E=Array.isArray(j),P=A===E;return P?A?C.arrayMerge(j,N,C):y(j,N,C):l(N,C)}b.all=function(N,C){if(!Array.isArray(N))throw new Error("first argument should be an array");return N.reduce(function(A,E){return b(A,E,C)},{})};var _=b;return WN=_,WN}var HN,EF;function SK(){return EF||(EF=1,HN=function t(e,r="{{",n="}}"){if(Array.isArray(e))return e.map(a=>t(a,r,n));const i={};for(const a in e)e.hasOwnProperty(a)&&(i[r+a+n]=String(e[a]));return i}),HN}var KN,PF;function NK(){if(PF)return KN;PF=1;const t=PM(),e=hx(),r=E1(),n=px(),i=Mve(),a=SK();class o{constructor(c){this.to=[],this.cc=[],this.bcc=[],this.headers={},this.customArgs={},this.substitutions={},this.substitutionWrappers=["{{","}}"],this.dynamicTemplateData={},c&&this.fromData(c)}fromData(c){if(typeof c!="object")throw new Error("Expecting object for Mail data");c=n(c),c=e(c,["substitutions","dynamicTemplateData","customArgs","headers"]);const{to:u,from:d,cc:f,bcc:g,subject:v,headers:y,customArgs:b,sendAt:_,substitutions:j,substitutionWrappers:N,dynamicTemplateData:C}=c;this.setTo(u),this.setFrom(d),this.setCc(f),this.setBcc(g),this.setSubject(v),this.setHeaders(y),this.setSubstitutions(j),this.setSubstitutionWrappers(N),this.setCustomArgs(b),this.setDynamicTemplateData(C),this.setSendAt(_)}setSubject(c){if(!(typeof c>"u")){if(typeof c!="string")throw new Error("String expected for `subject`");this.subject=c}}setSendAt(c){if(!(typeof c>"u")){if(!Number.isInteger(c))throw new Error("Integer expected for `sendAt`");this.sendAt=c}}setTo(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.to=t.create(c))}setFrom(c){typeof c>"u"||(this.from=t.create(c))}addTo(c){typeof c>"u"||this.to.push(t.create(c))}setCc(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.cc=t.create(c))}addCc(c){typeof c>"u"||this.cc.push(t.create(c))}setBcc(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.bcc=t.create(c))}addBcc(c){typeof c>"u"||this.bcc.push(t.create(c))}setHeaders(c){if(!(typeof c>"u")){if(typeof c!="object"||c===null)throw new Error("Object expected for `headers`");this.headers=c}}addHeader(c,u){if(typeof c!="string")throw new Error("String expected for header key");if(typeof u!="string")throw new Error("String expected for header value");this.headers[c]=u}setCustomArgs(c){if(!(typeof c>"u")){if(typeof c!="object"||c===null)throw new Error("Object expected for `customArgs`");this.customArgs=c}}addCustomArg(c,u){if(typeof c!="string")throw new Error("String expected for custom arg key");if(typeof u!="string")throw new Error("String expected for custom arg value");this.customArgs[c]=u}setSubstitutions(c){if(!(typeof c>"u")){if(typeof c!="object")throw new Error("Object expected for `substitutions`");this.substitutions=c}}addSubstitution(c,u){if(typeof c!="string")throw new Error("String expected for substitution key");if(typeof u!="string"&&typeof u!="number")throw new Error("String or Number expected for substitution value");this.substitutions[c]=u}reverseMergeSubstitutions(c){if(!(typeof c>"u"||c===null)){if(typeof c!="object")throw new Error("Object expected for `substitutions` in reverseMergeSubstitutions");this.substitutions=Object.assign({},c,this.substitutions)}}setSubstitutionWrappers(c){if(!(typeof c>"u"||c===null)){if(!Array.isArray(c)||c.length!==2)throw new Error("Array expected with two elements for `substitutionWrappers`");this.substitutionWrappers=c}}deepMergeDynamicTemplateData(c){if(!(typeof c>"u"||c===null)){if(typeof c!="object")throw new Error("Object expected for `dynamicTemplateData` in deepMergeDynamicTemplateData");this.dynamicTemplateData=i(c,this.dynamicTemplateData)}}setDynamicTemplateData(c){if(!(typeof c>"u")){if(typeof c!="object")throw new Error("Object expected for `dynamicTemplateData`");this.dynamicTemplateData=c}}toJSON(){const{to:c,from:u,cc:d,bcc:f,subject:g,headers:v,customArgs:y,sendAt:b,substitutions:_,substitutionWrappers:j,dynamicTemplateData:N}=this,C={to:c};if(Array.isArray(d)&&d.length>0&&(C.cc=d),Array.isArray(f)&&f.length>0&&(C.bcc=f),Object.keys(v).length>0&&(C.headers=v),_&&Object.keys(_).length>0){const[A,E]=j;C.substitutions=a(_,A,E)}return Object.keys(y).length>0&&(C.customArgs=y),N&&Object.keys(N).length>0&&(C.dynamicTemplateData=N),typeof g<"u"&&(C.subject=g),typeof b<"u"&&(C.sendAt=b),typeof u<"u"&&(C.from=u),r(C,["substitutions","dynamicTemplateData","customArgs","headers"])}}return KN=o,KN}var GN,kF;function CK(){return kF||(kF=1,GN=function(e){return e.map(r=>typeof r=="object"&&r!==null&&typeof r.toJSON=="function"?r.toJSON():r)}),GN}var ZN,AF;function Ive(){return AF||(AF=1,ZN={DYNAMIC_TEMPLATE_CHAR_WARNING:`
Content with characters ', " or & may need to be escaped with three brackets
{{{ content }}}
See https://sendgrid.com/docs/for-developers/sending-email/using-handlebars/ for more information.`}),ZN}var YN,TF;function Dve(){if(TF)return YN;TF=1;const t=(e,r,n,i)=>{if(!(typeof e>"u"||typeof e[n]>"u")&&typeof e[n]!==i)throw new Error(`${i} expected for \`${r}.${n}\``)};return YN={validateMailSettings(e){if(typeof e!="object")throw new Error("Object expected for `mailSettings`");const{bcc:r,bypassListManagement:n,bypassSpamManagement:i,bypassBounceManagement:a,bypassUnsubscribeManagement:o,footer:l,sandboxMode:c,spamCheck:u}=e;t(r,"bcc","enable","boolean"),t(r,"bcc","email","string"),t(n,"bypassListManagement","enable","boolean"),t(i,"bypassSpamManagement","enable","boolean"),t(a,"bypassBounceManagement","enable","boolean"),t(o,"bypassUnsubscribeManagement","enable","boolean"),t(l,"footer","enable","boolean"),t(l,"footer","text","string"),t(l,"footer","html","string"),t(c,"sandboxMode","enable","boolean"),t(u,"spamCheck","enable","boolean"),t(u,"spamCheck","threshold","number"),t(u,"spamCheck","postToUrl","string")},validateTrackingSettings(e){if(typeof e!="object")throw new Error("Object expected for `trackingSettings`");const{clickTracking:r,openTracking:n,subscriptionTracking:i,ganalytics:a}=e;t(r,"clickTracking","enable","boolean"),t(r,"clickTracking","enableText","boolean"),t(n,"openTracking","enable","boolean"),t(n,"openTracking","substitutionTag","string"),t(i,"subscriptionTracking","enable","boolean"),t(i,"subscriptionTracking","text","string"),t(i,"subscriptionTracking","html","string"),t(i,"subscriptionTracking","substitutionTag","string"),t(a,"ganalytics","enable","boolean"),t(a,"ganalytics","utm_source","string"),t(a,"ganalytics","utm_medium","string"),t(a,"ganalytics","utm_term","string"),t(a,"ganalytics","utm_content","string"),t(a,"ganalytics","utm_campaign","string")}},YN}var XN,OF;function Lve(){if(OF)return XN;OF=1;const t=PM(),e=NK(),r=hx(),n=E1(),i=px(),a=CK(),{DYNAMIC_TEMPLATE_CHAR_WARNING:o}=Ive(),{validateMailSettings:l,validateTrackingSettings:c}=Dve();class u{constructor(f){this.isDynamic=!1,this.hideWarnings=!1,this.personalizations=[],this.attachments=[],this.content=[],this.categories=[],this.headers={},this.sections={},this.customArgs={},this.trackingSettings={},this.mailSettings={},this.asm={},this.substitutions=null,this.substitutionWrappers=null,this.dynamicTemplateData=null,f&&this.fromData(f)}fromData(f){if(typeof f!="object")throw new Error("Expecting object for Mail data");f=i(f),f=r(f,["substitutions","dynamicTemplateData","customArgs","headers","sections"]);const{to:g,from:v,replyTo:y,cc:b,bcc:_,sendAt:j,subject:N,text:C,html:A,content:E,templateId:P,personalizations:O,attachments:I,ipPoolName:F,batchId:H,sections:U,headers:z,categories:V,category:X,customArgs:te,asm:le,mailSettings:W,trackingSettings:re,substitutions:G,substitutionWrappers:ie,dynamicTemplateData:Z,isMultiple:de,hideWarnings:Se,replyToList:Me}=f;this.setFrom(v),this.setReplyTo(y),this.setSubject(N),this.setSendAt(j),this.setTemplateId(P),this.setBatchId(H),this.setIpPoolName(F),this.setAttachments(I),this.setContent(E),this.setSections(U),this.setHeaders(z),this.setCategories(X),this.setCategories(V),this.setCustomArgs(te),this.setAsm(le),this.setMailSettings(W),this.setTrackingSettings(re),this.setHideWarnings(Se),this.setReplyToList(Me),this.isDynamic?this.setDynamicTemplateData(Z):(this.setSubstitutions(G),this.setSubstitutionWrappers(ie)),this.addTextContent(C),this.addHtmlContent(A),O?this.setPersonalizations(O):de&&Array.isArray(g)?g.forEach(qe=>this.addTo(qe,b,_)):this.addTo(g,b,_)}setFrom(f){if(this._checkProperty("from",f,[this._checkUndefined])){if(typeof f!="string"&&typeof f.email!="string")throw new Error("String or address object expected for `from`");this.from=t.create(f)}}setReplyTo(f){if(this._checkProperty("replyTo",f,[this._checkUndefined])){if(typeof f!="string"&&typeof f.email!="string")throw new Error("String or address object expected for `replyTo`");this.replyTo=t.create(f)}}setSubject(f){this._setProperty("subject",f,"string")}setSendAt(f){this._checkProperty("sendAt",f,[this._checkUndefined,this._createCheckThatThrows(Number.isInteger,"Integer expected for `sendAt`")])&&(this.sendAt=f)}setTemplateId(f){this._setProperty("templateId",f,"string")&&f.indexOf("d-")===0&&(this.isDynamic=!0)}setBatchId(f){this._setProperty("batchId",f,"string")}setIpPoolName(f){this._setProperty("ipPoolName",f,"string")}setAsm(f){if(this._checkProperty("asm",f,[this._checkUndefined,this._createTypeCheck("object")])){if(typeof f.groupId!="number")throw new Error("Expected `asm` to include an integer in its `groupId` field");if(f.groupsToDisplay&&(!Array.isArray(f.groupsToDisplay)||!f.groupsToDisplay.every(g=>typeof g=="number")))throw new Error("Array of integers expected for `asm.groupsToDisplay`");this.asm=f}}setPersonalizations(f){if(this._doArrayCheck("personalizations",f)){if(!f.every(g=>typeof g=="object"))throw new Error("Array of objects expected for `personalizations`");this.personalizations=[],f.forEach(g=>this.addPersonalization(g))}}addPersonalization(f){this.isDynamic&&f.substitutions?delete f.substitutions:!this.isDynamic&&f.dynamicTemplateData&&delete f.dynamicTemplateData,f instanceof e||(f=new e(f)),this.isDynamic?this.applyDynamicTemplateData(f):this.applySubstitutions(f),this.personalizations.push(f)}addTo(f,g,v){if(typeof f>"u"&&typeof g>"u"&&typeof v>"u")throw new Error("Provide at least one of to, cc or bcc");this.addPersonalization(new e({to:f,cc:g,bcc:v}))}setSubstitutions(f){this._setProperty("substitutions",f,"object")}setSubstitutionWrappers(f){let g=(v,y)=>{if(!Array.isArray(y)||y.length!==2)throw new Error("Array expected with two elements for `"+v+"`")};this._checkProperty("substitutionWrappers",f,[this._checkUndefined,g])&&(this.substitutionWrappers=f)}applySubstitutions(f){f instanceof e&&(f.reverseMergeSubstitutions(this.substitutions),f.setSubstitutionWrappers(this.substitutionWrappers))}applyDynamicTemplateData(f){f instanceof e&&f.deepMergeDynamicTemplateData(this.dynamicTemplateData)}setDynamicTemplateData(f){if(!(typeof f>"u")){if(typeof f!="object")throw new Error("Object expected for `dynamicTemplateData`");this.hideWarnings||Object.values(f).forEach(g=>{/['"&]/.test(g)&&console.warn(o)}),this.dynamicTemplateData=f}}setContent(f){if(this._doArrayCheck("content",f)){if(!f.every(g=>typeof g=="object"))throw new Error("Expected each entry in `content` to be an object");if(!f.every(g=>typeof g.type=="string"))throw new Error("Expected each `content` entry to contain a `type` string");if(!f.every(g=>typeof g.value=="string"))throw new Error("Expected each `content` entry to contain a `value` string");this.content=f}}addContent(f){this._checkProperty("content",f,[this._createTypeCheck("object")])&&this.content.push(f)}addTextContent(f){this._checkProperty("text",f,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:f,type:"text/plain"})}addHtmlContent(f){this._checkProperty("html",f,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:f,type:"text/html"})}setAttachments(f){if(this._doArrayCheck("attachments",f)){if(!f.every(g=>typeof g.content=="string"))throw new Error("Expected each attachment to contain a `content` string");if(!f.every(g=>typeof g.filename=="string"))throw new Error("Expected each attachment to contain a `filename` string");if(!f.every(g=>!g.type||typeof g.type=="string"))throw new Error("Expected the attachment's `type` field to be a string");if(!f.every(g=>!g.disposition||typeof g.disposition=="string"))throw new Error("Expected the attachment's `disposition` field to be a string");this.attachments=f}}addAttachment(f){this._checkProperty("attachment",f,[this._checkUndefined,this._createTypeCheck("object")])&&this.attachments.push(f)}setCategories(f){let g=(v,y)=>{if(!Array.isArray(y)||!y.every(b=>typeof b=="string"))throw new Error("Array of strings expected for `"+v+"`")};typeof f=="string"&&(f=[f]),this._checkProperty("categories",f,[this._checkUndefined,g])&&(this.categories=f)}addCategory(f){this._checkProperty("category",f,[this._createTypeCheck("string")])&&this.categories.push(f)}setHeaders(f){this._setProperty("headers",f,"object")}addHeader(f,g){this._checkProperty("key",f,[this._createTypeCheck("string")])&&this._checkProperty("value",g,[this._createTypeCheck("string")])&&(this.headers[f]=g)}setSections(f){this._setProperty("sections",f,"object")}setCustomArgs(f){this._setProperty("customArgs",f,"object")}setTrackingSettings(f){typeof f>"u"||(c(f),this.trackingSettings=f)}setMailSettings(f){typeof f>"u"||(l(f),this.mailSettings=f)}setHideWarnings(f){if(!(typeof f>"u")){if(typeof f!="boolean")throw new Error("Boolean expected for `hideWarnings`");this.hideWarnings=f}}toJSON(){const{from:f,replyTo:g,sendAt:v,subject:y,content:b,templateId:_,personalizations:j,attachments:N,ipPoolName:C,batchId:A,asm:E,sections:P,headers:O,categories:I,customArgs:F,mailSettings:H,trackingSettings:U,replyToList:z}=this,V={from:f,subject:y,personalizations:a(j)};return Array.isArray(N)&&N.length>0&&(V.attachments=a(N)),Array.isArray(I)&&I.length>0&&(V.categories=I.filter(X=>X!=="")),Array.isArray(b)&&b.length>0&&(V.content=a(b)),Object.keys(O).length>0&&(V.headers=O),Object.keys(H).length>0&&(V.mailSettings=H),Object.keys(U).length>0&&(V.trackingSettings=U),Object.keys(F).length>0&&(V.customArgs=F),Object.keys(P).length>0&&(V.sections=P),Object.keys(E).length>0&&(V.asm=E),typeof g<"u"&&(V.replyTo=g),typeof v<"u"&&(V.sendAt=v),typeof A<"u"&&(V.batchId=A),typeof _<"u"&&(V.templateId=_),typeof C<"u"&&(V.ipPoolName=C),typeof z<"u"&&(V.replyToList=z),n(V,["substitutions","dynamicTemplateData","customArgs","headers","sections"])}static create(f){return Array.isArray(f)?f.filter(g=>!!g).map(g=>this.create(g)):f instanceof u?f:new u(f)}_checkProperty(f,g,v){return!v.some(y=>y(f,g))}_setProperty(f,g,v){let y=this._checkProperty(f,g,[this._checkUndefined,this._createTypeCheck(v)]);return y&&(this[f]=g),y}_checkUndefined(f,g){return typeof g>"u"}_createTypeCheck(f){return(g,v)=>{if(typeof v!==f)throw new Error(f+" expected for `"+g+"`")}}_createCheckThatThrows(f,g){return(v,y)=>{if(!f(y))throw new Error(g)}}_setArrayProperty(f,g){this._doArrayCheck(f,g)&&(this[f]=g)}_doArrayCheck(f,g){return this._checkProperty(f,g,[this._checkUndefined,this._createCheckThatThrows(Array.isArray,"Array expected for`"+f+"`")])}setReplyToList(f){if(this._doArrayCheck("replyToList",f)&&f.length){if(!f.every(g=>g&&typeof g.email=="string"))throw new Error("Expected each replyTo to contain an `email` string");this.replyToList=f}}}return XN=u,XN}var JN,RF;function $ve(){if(RF)return JN;RF=1;class t{constructor(r,n,i){this.statusCode=r,this.body=n,this.headers=i}toString(){return"HTTP "+this.statusCode+" "+this.body}}return JN=t,JN}var QN,MF;function Fve(){if(MF)return QN;MF=1;class t extends Error{constructor(r){super();const{headers:n,status:i,statusText:a,data:o}=r;this.code=i,this.message=a,this.response={headers:n,body:o},this.stack||Error.captureStackTrace(this,this.constructor);const l=new RegExp(process.cwd()+"/","gi");this.stack=this.stack.replace(l,"")}toString(){const{body:r}=this.response;let n=`${this.message} (${this.code})`;return r&&Array.isArray(r.errors)&&r.errors.forEach(i=>{const a=i.message,o=i.field,l=i.help;n+=`
  ${a}
    ${o}
    ${l}`}),n}toJSON(){const{message:r,code:n,response:i}=this;return{message:r,code:n,response:i}}}return QN=t,QN}var eC,IF;function Bve(){if(IF)return eC;IF=1;const t=hx(),e=px(),r=["day","week","month"],n=["us","ca"],i=["desc","asc"];class a{constructor(l){this.startDate=null,this.endDate=null,this.aggregatedBy=null,l&&this.fromData(l)}fromData(l){if(typeof l!="object")throw new Error("Expecting object for Statistics data");l=e(l),l=t(l,["substitutions","customArgs"]);const{startDate:c,endDate:u,aggregatedBy:d}=l;this.setStartDate(c),this.setEndDate(u),this.setAggregatedBy(d)}setStartDate(l){if(typeof l>"u")throw new Error("Date expected for `startDate`");if(new Date(l)==="Invalid Date"||isNaN(new Date(l)))throw new Error("Date expected for `startDate`");console.log(l),this.startDate=new Date(l).toISOString().slice(0,10)}setEndDate(l){if(typeof l>"u"){this.endDate=new Date().toISOString().slice(0,10);return}if(new Date(l)==="Invalid Date"||isNaN(new Date(l)))throw new Error("Date expected for `endDate`");this.endDate=new Date(l).toISOString().slice(0,10)}setAggregatedBy(l){if(!(typeof l>"u"))if(typeof l=="string"&&r.includes(l.toLowerCase()))this.aggregatedBy=l;else throw new Error("Incorrect value for `aggregatedBy`")}getGlobal(){const{startDate:l,endDate:c,aggregatedBy:u}=this;return{startDate:l,endDate:c,aggregatedBy:u}}getAdvanced(l){const c=this.getGlobal();return typeof l>"u"||typeof l=="string"&&n.includes(l.toLowerCase())&&(c.country=l),c}getAdvancedMailboxProviders(l){const c=this.getGlobal();if(typeof l>"u")return c;if(Array.isArray(l)&&l.some(u=>typeof u!="string"))throw new Error("Array of strings expected for `mailboxProviders`");return c.mailBoxProviders=l,c}getAdvancedBrowsers(l){const c=this.getGlobal();if(typeof l>"u")return c;if(Array.isArray(l)&&l.some(u=>typeof u!="string"))throw new Error("Array of strings expected for `browsers`");return c.browsers=l,c}getCategories(l){if(typeof l>"u")throw new Error("Array of strings expected for `categories`");if(!this._isValidArrayOfStrings(l))throw new Error("Array of strings expected for `categories`");const c=this.getGlobal();return c.categories=l,c}getSubuser(l){if(typeof l>"u")throw new Error("Array of strings expected for `subusers`");if(!this._isValidArrayOfStrings(l))throw new Error("Array of strings expected for `subusers`");const c=this.getGlobal();return c.subusers=l,c}getSubuserSum(l="delivered",c=i[0],u=5,d=0){if(typeof l!="string")throw new Error("string expected for `sortByMetric`");if(!i.includes(c.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof u!="number")throw new Error("number expected for `limit`");if(typeof d!="number")throw new Error("number expected for `offset`");const f=this.getGlobal();return f.sortByMetric=l,f.sortByDirection=c,f.limit=u,f.offset=d,f}getSubuserMonthly(l="delivered",c=i[0],u=5,d=0){if(typeof l!="string")throw new Error("string expected for `sortByMetric`");if(!i.includes(c.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof u!="number")throw new Error("number expected for `limit`");if(typeof d!="number")throw new Error("number expected for `offset`");const f=this.getGlobal();return f.sortByMetric=l,f.sortByDirection=c,f.limit=u,f.offset=d,f}_isValidArrayOfStrings(l){return!(!Array.isArray(l)||l.length<1||l.some(c=>typeof c!="string"))}}return eC=a,eC}var tC,DF;function zve(){if(DF)return tC;DF=1;const t=Rve(),e=PM(),r=Lve(),n=NK(),i=$ve(),a=Fve(),o=Bve();return tC={Attachment:t,EmailAddress:e,Mail:r,Personalization:n,Response:i,ResponseError:a,Statistics:o},tC}var rC,LF;function qve(){return LF||(LF=1,rC=function(e,r){if(typeof e!="object"||e===null)throw new Error("Not an object provided for base");if(typeof r!="object"||r===null)throw new Error("Not an object provided for data");const n=Object.assign({},e);for(const i in r)r.hasOwnProperty(i)&&(r[i]&&Array.isArray(r[i])?n[i]=r[i]:r[i]&&typeof r[i]=="object"?n[i]=Object.assign({},r[i]):r[i]&&(n[i]=r[i]));return n}),rC}var nC,$F;function Uve(){if($F)return nC;$F=1;const t=CK(),e=EM(),r=px(),n=qve(),i=jK(),a=hx(),o=E1(),l=SK();return nC={arrayToJSON:t,convertKeys:e,deepClone:r,mergeData:n,splitNameEmail:i,toCamelCase:a,toSnakeCase:o,wrapSubstitutions:l},nC}var iC,FF;function EK(){if(FF)return iC;FF=1;const t=zve(),e=Uve();return iC={classes:t,helpers:e},iC}var sC,BF;function PK(){if(BF)return sC;BF=1;const t=Cve(),e=Pve,{helpers:{mergeData:r},classes:{Response:n,ResponseError:i}}=EK(),a="SG.",o="https://api.sendgrid.com/",l="https://email.twilio.com/",c="global",u={eu:"https://api.eu.sendgrid.com/",global:"https://api.sendgrid.com/"};class d{constructor(){this.auth="",this.impersonateSubuser="",this.sendgrid_region=c,this.defaultHeaders={Accept:"application/json","Content-Type":"application/json","User-Agent":"sendgrid/"+e.version+";nodejs"},this.defaultRequest={baseUrl:o,url:"",method:"GET",headers:{},maxContentLength:1/0,maxBodyLength:1/0}}setApiKey(g){this.auth="Bearer "+g,this.setDefaultRequest("baseUrl",u[this.sendgrid_region]),this.isValidApiKey(g)||console.warn(`API key does not start with "${a}".`)}setTwilioEmailAuth(g,v){const y=Buffer.from(g+":"+v).toString("base64");this.auth="Basic "+y,this.setDefaultRequest("baseUrl",l),this.isValidTwilioAuth(g,v)||console.warn("Twilio Email credentials must be non-empty strings.")}isValidApiKey(g){return this.isString(g)&&g.trim().startsWith(a)}isValidTwilioAuth(g,v){return this.isString(g)&&g&&this.isString(v)&&v}isString(g){return typeof g=="string"||g instanceof String}setImpersonateSubuser(g){this.impersonateSubuser=g}setDefaultHeader(g,v){return g!==null&&typeof g=="object"?(Object.assign(this.defaultHeaders,g),this):(this.defaultHeaders[g]=v,this)}setDefaultRequest(g,v){return g!==null&&typeof g=="object"?(Object.assign(this.defaultRequest,g),this):(this.defaultRequest[g]=v,this)}setDataResidency(g){return u.hasOwnProperty(g)?(this.sendgrid_region=g,this.setDefaultRequest("baseUrl",u[g])):console.warn('Region can only be "global" or "eu".'),this}createHeaders(g){const v=r(this.defaultHeaders,g);return typeof v.Authorization>"u"&&this.auth&&(v.Authorization=this.auth),this.impersonateSubuser&&(v["On-Behalf-Of"]=this.impersonateSubuser),v}createRequest(g){let v={url:g.uri||g.url,baseUrl:g.baseUrl,method:g.method,data:g.body,params:g.qs,headers:g.headers};return v=r(this.defaultRequest,v),v.headers=this.createHeaders(v.headers),v.baseURL=v.baseUrl,delete v.baseUrl,v}request(g,v){g=this.createRequest(g);const y=new Promise((b,_)=>{t(g).then(j=>b([new n(j.status,j.data,j.headers),j.data])).catch(j=>j.response&&j.response.status>=400?_(new i(j.response)):_(j))});if(v&&typeof v!="function")throw new Error("Callback passed is not a function.");return v?y.then(b=>v(null,b)).catch(b=>v(b,null)):y}}return sC=d,sC}var aC,zF;function Vve(){if(zF)return aC;zF=1;const t=PK();return aC=new t,aC}var qF;function Wve(){if(qF)return db.exports;qF=1;const t=Vve(),e=PK();return db.exports=t,db.exports.Client=e,db.exports}var oC,UF;function kK(){if(UF)return oC;UF=1;const{Client:t}=Wve(),{classes:{Mail:e}}=EK();class r{constructor(){this.setClient(new t),this.setSubstitutionWrappers("{{","}}"),this.secretRules=[]}setClient(i){return this.client=i,this}setApiKey(i){return this.client.setApiKey(i),this}setTwilioEmailAuth(i,a){this.client.setTwilioEmailAuth(i,a)}setTimeout(i){typeof i>"u"||this.client.setDefaultRequest("timeout",i)}setSubstitutionWrappers(i,a){if(typeof i>"u"||typeof a>"u")throw new Error("Must provide both left and right side wrappers");return Array.isArray(this.substitutionWrappers)||(this.substitutionWrappers=[]),this.substitutionWrappers[0]=i,this.substitutionWrappers[1]=a,this}setSecretRules(i){i instanceof Array||(i=[i]);const a=i.map(function(o){const l=typeof o;if(l==="string")return{pattern:new RegExp(o)};if(l==="object"){o instanceof RegExp?o={pattern:o}:o.hasOwnProperty("pattern")&&typeof o.pattern=="string"&&(o.pattern=new RegExp(o.pattern));try{return o.pattern.test(""),o}catch{}}});this.secretRules=a.filter(function(o){return o})}filterSecrets(i){if(typeof i=="object"&&!i.hasOwnProperty("content"))return;const a=this;i.content.forEach(function(o){a.secretRules.forEach(function(l){if(l.hasOwnProperty("pattern")&&!l.pattern.test(o.value))return;let c=`The pattern '${l.pattern}'`;throw l.name&&(c+=`identified by '${l.name}'`),c+=" was found in the Mail content!",new Error(c)})})}send(i,a=!1,o){if(typeof a=="function"&&(o=a,a=!1),Array.isArray(i)){const l=Promise.all(i.map(c=>this.send(c,a)));return o&&l.then(c=>o(null,c)).catch(c=>o(c,null)),l}try{typeof i.isMultiple>"u"&&(i.isMultiple=a),typeof i.substitutionWrappers>"u"&&(i.substitutionWrappers=this.substitutionWrappers);const l=e.create(i),c=l.toJSON();this.filterSecrets(c);const u={method:"POST",url:"/v3/mail/send",headers:l.headers,body:c};return this.client.request(u,o)}catch(l){return o&&o(l,null),Promise.reject(l)}}sendMultiple(i,a){return this.send(i,!0,a)}}return oC=r,oC}var lC,VF;function Hve(){if(VF)return lC;VF=1;const t=kK();return lC=new t,lC}var WF;function Kve(){if(WF)return ub.exports;WF=1;const t=Hve(),e=kK();return ub.exports=t,ub.exports.MailService=e,ub.exports}var Gve=Kve();const oT=Er(Gve),HF={welcomeNewsletter:(t,e="")=>({subject:"🎉 Bienvenue sur MaxiMarket !",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Bienvenue sur MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
            .header h1 { margin: 0; font-size: 2.5em; font-weight: 700; }
            .header p { margin: 10px 0 0 0; font-size: 1.2em; opacity: 0.9; }
            .content { padding: 40px 30px; }
            .welcome-text { font-size: 1.1em; margin-bottom: 30px; }
            .features-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
            .feature { background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #667eea; }
            .feature h3 { margin: 0 0 10px 0; color: #667eea; }
            .feature p { margin: 0; font-size: 0.9em; }
            .cta-buttons { text-align: center; margin: 40px 0; }
            .btn { display: inline-block; background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; margin: 10px; font-weight: 600; transition: all 0.3s ease; }
            .btn:hover { background: #5a6fd8; transform: translateY(-2px); }
            .btn-secondary { background: #6c757d; }
            .btn-secondary:hover { background: #5a6268; }
            .tips { background: #e3f2fd; padding: 25px; border-radius: 10px; margin: 30px 0; }
            .tips h3 { color: #1976d2; margin-top: 0; }
            .tips ul { margin: 10px 0; padding-left: 20px; }
            .tips li { margin: 8px 0; }
            .footer { background: #f8f9fa; padding: 30px; text-align: center; color: #666; font-size: 0.9em; }
            .footer a { color: #667eea; text-decoration: none; }
            .social-links { margin: 20px 0; }
            .social-links a { display: inline-block; margin: 0 10px; color: #667eea; text-decoration: none; }
            @media (max-width: 600px) {
              .features-grid { grid-template-columns: 1fr; }
              .header h1 { font-size: 2em; }
              .content { padding: 20px; }
            }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🎉 Bienvenue sur MaxiMarket !</h1>
              <p>Votre marketplace de confiance pour l'Afrique de l'Ouest</p>
            </div>
            
            <div class="content">
              <div class="welcome-text">
                <h2>Bonjour ${e||"Cher utilisateur"} !</h2>
                <p>Merci de vous être inscrit à notre newsletter ! Vous recevrez désormais nos dernières actualités, offres spéciales et conseils pour optimiser votre expérience sur MaxiMarket.</p>
              </div>
              
              <h3>🚀 Découvrez nos fonctionnalités :</h3>
              <div class="features-grid">
                <div class="feature">
                  <h3>🏠 Immobilier</h3>
                  <p>Achetez, vendez ou louez des biens immobiliers en toute sécurité avec nos partenaires vérifiés.</p>
                </div>
                <div class="feature">
                  <h3>🚗 Automobile</h3>
                  <p>Trouvez votre véhicule idéal parmi des milliers d'annonces de particuliers et professionnels.</p>
                </div>
                <div class="feature">
                  <h3>🛠️ Services</h3>
                  <p>Connectez-vous avec des professionnels qualifiés pour tous vos besoins de services.</p>
                </div>
                <div class="feature">
                  <h3>🛍️ Marketplace</h3>
                  <p>Tout ce dont vous avez besoin en un seul endroit, avec des prix compétitifs.</p>
                </div>
              </div>
              
              <div class="cta-buttons">
                <a href="${window.location.origin}/marketplace" class="btn">Explorer MaxiMarket</a>
                <a href="${window.location.origin}/creer-annonce" class="btn btn-secondary">Créer une annonce</a>
              </div>
              
              <div class="tips">
                <h3>💡 Conseils pour bien commencer :</h3>
                <ul>
                  <li><strong>Complétez votre profil</strong> pour plus de visibilité et de confiance</li>
                  <li><strong>Ajoutez des photos de qualité</strong> à vos annonces pour attirer plus d'acheteurs</li>
                  <li><strong>Répondez rapidement</strong> aux messages pour augmenter vos chances de vente</li>
                  <li><strong>Utilisez des mots-clés pertinents</strong> dans vos descriptions</li>
                  <li><strong>Fixez des prix compétitifs</strong> en consultant les prix du marché</li>
                </ul>
              </div>
              
              <p><strong>Besoin d'aide ?</strong> Notre équipe support est disponible 24/7 pour vous accompagner dans votre parcours sur MaxiMarket.</p>
              
              <div class="social-links">
                <p>Suivez-nous sur les réseaux sociaux :</p>
                <a href="https://facebook.com/maximarket">Facebook</a> |
                <a href="https://twitter.com/maximarket">Twitter</a> |
                <a href="https://instagram.com/maximarket">Instagram</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p>Vous recevez cet email car vous vous êtes inscrit à notre newsletter.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe?email=${t}">Se désinscrire</a> | <a href="${window.location.origin}/contact">Contact</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),reactivationNewsletter:t=>({subject:"🔄 Bienvenue de retour sur MaxiMarket !",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Réactivation MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 40px 30px; text-align: center; }
            .header h1 { margin: 0; font-size: 2.5em; font-weight: 700; }
            .content { padding: 40px 30px; text-align: center; }
            .welcome-back { font-size: 1.3em; margin-bottom: 30px; }
            .cta-button { display: inline-block; background: #28a745; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 30px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔄 Bienvenue de retour !</h1>
            </div>
            <div class="content">
              <div class="welcome-back">
                <h2>Votre inscription a été réactivée</h2>
                <p>Nous sommes ravis de vous revoir ! Vous recevrez à nouveau nos newsletters et actualités.</p>
                <p>Découvrez ce qui a changé depuis votre dernière visite :</p>
              </div>
              
              <ul style="text-align: left; max-width: 400px; margin: 0 auto;">
                <li>🎯 Nouvelles fonctionnalités de recherche avancée</li>
                <li>🔒 Système de sécurité renforcé</li>
                <li>📱 Interface mobile optimisée</li>
                <li>💬 Messagerie instantanée améliorée</li>
              </ul>
              
              <a href="${window.location.origin}" class="cta-button">Visiter MaxiMarket</a>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe?email=${t}">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),subscriptionConfirmation:t=>({subject:"✅ Confirmation d'inscription - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Confirmation d'inscription</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #28a745; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; text-align: center; }
            .success-icon { font-size: 4em; margin-bottom: 20px; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>✅ Inscription confirmée</h1>
            </div>
            <div class="content">
              <div class="success-icon">✅</div>
              <h2>Votre inscription à la newsletter est confirmée</h2>
              <p>Vous recevrez désormais nos actualités et offres spéciales.</p>
              <p>Adresse email : <strong>${t}</strong></p>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket</p>
            </div>
          </div>
        </body>
        </html>
      `}),unsubscribeConfirmation:t=>({subject:"👋 Désinscription confirmée - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Désinscription confirmée</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #6c757d; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; text-align: center; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>👋 Désinscription confirmée</h1>
            </div>
            <div class="content">
              <h2>Vous avez été désinscrit de notre newsletter</h2>
              <p>Adresse email : <strong>${t}</strong></p>
              <p>Vous ne recevrez plus nos newsletters. Vous pouvez vous réinscrire à tout moment.</p>
              <a href="${window.location.origin}/newsletter/subscribe?email=${t}" style="color: #667eea;">Se réinscrire</a>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket</p>
            </div>
          </div>
        </body>
        </html>
      `}),weeklyNewsletter:(t={})=>({subject:"📊 Votre résumé MaxiMarket de la semaine",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Newsletter hebdomadaire MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
            .stat-card { background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; }
            .stat-number { font-size: 2em; font-weight: bold; color: #667eea; }
            .featured-listings { margin: 30px 0; }
            .listing-card { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #667eea; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
            @media (max-width: 600px) { .stats-grid { grid-template-columns: 1fr; } }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>📊 Votre résumé MaxiMarket</h1>
              <p>Semaine du ${t.weekStart||"cette semaine"}</p>
            </div>
            
            <div class="content">
              <h2>🚀 Activité de la semaine</h2>
              
              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-number">${t.newListings||"150+"}</div>
                  <p>Nouvelles annonces</p>
                </div>
                <div class="stat-card">
                  <div class="stat-number">${t.activeUsers||"2.5k"}</div>
                  <p>Utilisateurs actifs</p>
                </div>
                <div class="stat-card">
                  <div class="stat-number">${t.transactions||"89"}</div>
                  <p>Transactions</p>
                </div>
                <div class="stat-card">
                  <div class="stat-number">${t.newUsers||"320"}</div>
                  <p>Nouveaux membres</p>
                </div>
              </div>
              
              <h3>🔥 Annonces populaires</h3>
              <div class="featured-listings">
                ${t.featuredListings?t.featuredListings.map(e=>`
                  <div class="listing-card">
                    <h4>${e.title}</h4>
                    <p>${e.price} • ${e.location}</p>
                    <a href="${window.location.origin}/annonce/${e.id}" style="color: #667eea;">Voir l'annonce</a>
                  </div>
                `).join(""):"<p>Aucune annonce populaire cette semaine.</p>"}
              </div>
              
              <h3>💡 Conseils de la semaine</h3>
              <ul>
                <li>Optimisez vos photos d'annonces pour plus de visibilité</li>
                <li>Répondez rapidement aux messages pour augmenter vos ventes</li>
                <li>Utilisez des mots-clés pertinents dans vos descriptions</li>
              </ul>
              
              <div style="text-align: center; margin: 30px 0;">
                <a href="${window.location.origin}/marketplace" style="background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">Explorer MaxiMarket</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),monthlyNewsletter:(t={})=>({subject:`📈 Rapport mensuel MaxiMarket - ${t.month||"Ce mois"}`,html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Rapport mensuel MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
            .content { padding: 30px; }
            .highlight { background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>📈 Rapport mensuel MaxiMarket</h1>
              <p>${t.month||"Ce mois"}</p>
            </div>
            
            <div class="content">
              <div class="highlight">
                <h2>🎯 Performances du mois</h2>
                <p><strong>${t.totalListings||"1,250"}</strong> annonces publiées</p>
                <p><strong>${t.totalUsers||"5,200"}</strong> nouveaux utilisateurs</p>
                <p><strong>${t.totalTransactions||"450"}</strong> transactions réussies</p>
              </div>
              
              <h3>🏆 Top catégories</h3>
              <ol>
                <li>Immobilier (${t.topCategories?.immobilier||"35%"})</li>
                <li>Automobile (${t.topCategories?.automobile||"28%"})</li>
                <li>Services (${t.topCategories?.services||"22%"})</li>
                <li>Marketplace (${t.topCategories?.marketplace||"15%"})</li>
              </ol>
              
              <h3>🚀 Nouvelles fonctionnalités</h3>
              <ul>
                <li>Recherche avancée par localisation</li>
                <li>Messagerie instantanée améliorée</li>
                <li>Système de notation et avis</li>
                <li>Paiements sécurisés intégrés</li>
              </ul>
              
              <div style="text-align: center; margin: 30px 0;">
                <a href="${window.location.origin}/marketplace" style="background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">Découvrir les nouveautés</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),specialOffer:(t={})=>({subject:`🎁 Offre spéciale MaxiMarket - ${t.offer||"Réduction exclusive"}`,html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Offre spéciale MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%); color: white; padding: 40px 30px; text-align: center; }
            .offer-banner { background: #fff3cd; border: 2px solid #ffeaa7; padding: 20px; margin: 20px 0; border-radius: 10px; text-align: center; }
            .offer-code { background: #667eea; color: white; padding: 10px 20px; border-radius: 5px; font-size: 1.2em; font-weight: bold; margin: 10px 0; display: inline-block; }
            .content { padding: 30px; }
            .cta-button { display: inline-block; background: #ff6b6b; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🎁 Offre spéciale !</h1>
              <p>${t.offer||"Réduction exclusive pour nos abonnés"}</p>
            </div>
            
            <div class="content">
              <div class="offer-banner">
                <h2>${t.discount||"20%"} de réduction</h2>
                <p>${t.description||"Sur tous les services premium de MaxiMarket"}</p>
                <div class="offer-code">${t.code||"NEWSLETTER20"}</div>
                <p><small>Valable jusqu'au ${t.expiryDate||"31 décembre 2024"}</small></p>
              </div>
              
              <h3>🚀 Comment en profiter :</h3>
              <ol>
                <li>Connectez-vous à votre compte MaxiMarket</li>
                <li>Choisissez un service premium</li>
                <li>Entrez le code promo lors du paiement</li>
                <li>Profitez de votre réduction !</li>
              </ol>
              
              <h3>💎 Services éligibles :</h3>
              <ul>
                <li>Boost d'annonces</li>
                <li>Compte premium</li>
                <li>Services de vérification</li>
                <li>Support prioritaire</li>
              </ul>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/premium" class="cta-button">Profiter de l'offre</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),reengagementEmail:(t={})=>({subject:"👋 On vous a manqué sur MaxiMarket !",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Revenez sur MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
            .content { padding: 30px; }
            .highlight { background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>👋 On vous a manqué !</h1>
              <p>Revenez découvrir ce qui a changé sur MaxiMarket</p>
            </div>
            
            <div class="content">
              <h2>Bonjour ${t.firstName||"Cher utilisateur"} !</h2>
              
              <p>Il y a ${t.daysInactive||"quelques temps"} que vous n'avez pas visité MaxiMarket. Nous avons de nombreuses nouveautés à vous faire découvrir !</p>
              
              <div class="highlight">
                <h3>🆕 Ce qui a changé :</h3>
                <ul>
                  <li>Interface utilisateur modernisée</li>
                  <li>Nouvelles fonctionnalités de recherche</li>
                  <li>Système de messagerie amélioré</li>
                  <li>Plus de ${t.newListings||"500"} nouvelles annonces</li>
                </ul>
              </div>
              
              <h3>🔥 Annonces populaires qui pourraient vous intéresser :</h3>
              <p>Découvrez les dernières annonces dans vos catégories préférées.</p>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/marketplace" class="cta-button">Revenir sur MaxiMarket</a>
              </div>
              
              <p><small>Si vous ne souhaitez plus recevoir ces emails, vous pouvez vous <a href="${window.location.origin}/newsletter/unsubscribe">désinscrire</a>.</small></p>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
            </div>
          </div>
        </body>
        </html>
      `}),maintenanceNotification:(t={})=>({subject:"🔧 Maintenance programmée - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Maintenance programmée</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #ffc107; color: #333; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .maintenance-info { background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔧 Maintenance programmée</h1>
            </div>
            <div class="content">
              <h2>Maintenance prévue</h2>
              <div class="maintenance-info">
                <p><strong>Date :</strong> ${t.date||"Prochainement"}</p>
                <p><strong>Durée :</strong> ${t.duration||"2 heures"}</p>
                <p><strong>Heure :</strong> ${t.time||"02:00 - 04:00 UTC"}</p>
              </div>
              
              <h3>🛠️ Ce qui sera amélioré :</h3>
              <ul>
                <li>Performance du système</li>
                <li>Sécurité renforcée</li>
                <li>Nouvelles fonctionnalités</li>
                <li>Corrections de bugs</li>
              </ul>
              
              <p>Nous nous excusons pour la gêne occasionnée. La maintenance est nécessaire pour améliorer votre expérience.</p>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
            </div>
          </div>
        </body>
        </html>
      `}),securityAlert:(t={})=>({subject:"🔒 Alerte de sécurité - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Alerte de sécurité</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #dc3545; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .alert-box { background: #f8d7da; border: 1px solid #f5c6cb; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #dc3545; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔒 Alerte de sécurité</h1>
            </div>
            <div class="content">
              <div class="alert-box">
                <h3>${t.alertType||"Connexion suspecte détectée"}</h3>
                <p>${t.message||"Une connexion inhabituelle a été détectée sur votre compte."}</p>
              </div>
              
              <h3>📍 Détails de la connexion :</h3>
              <ul>
                <li><strong>Date :</strong> ${t.date||new Date().toLocaleString()}</li>
                <li><strong>Localisation :</strong> ${t.location||"Non déterminée"}</li>
                <li><strong>Appareil :</strong> ${t.device||"Non déterminé"}</li>
                <li><strong>IP :</strong> ${t.ip||"Non déterminée"}</li>
              </ul>
              
              <h3>🛡️ Actions recommandées :</h3>
              <ol>
                <li>Changer votre mot de passe immédiatement</li>
                <li>Activer l'authentification à deux facteurs</li>
                <li>Vérifier vos connexions actives</li>
                <li>Nous contacter si vous n'êtes pas à l'origine de cette connexion</li>
              </ol>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/security" class="cta-button">Sécuriser mon compte</a>
              </div>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p>Si vous n'êtes pas à l'origine de cette connexion, contactez-nous immédiatement.</p>
            </div>
          </div>
        </body>
        </html>
      `}),accountCreated:(t={})=>({subject:"✅ Compte créé avec succès - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Compte créé</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #28a745; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .welcome-box { background: #d4edda; border: 1px solid #c3e6cb; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #28a745; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>✅ Compte créé avec succès !</h1>
            </div>
            <div class="content">
              <div class="welcome-box">
                <h2>Bienvenue ${t.firstName||"sur MaxiMarket"} !</h2>
                <p>Votre compte a été créé avec succès. Vous pouvez maintenant profiter de toutes nos fonctionnalités.</p>
              </div>
              
              <h3>🚀 Prochaines étapes :</h3>
              <ol>
                <li>Complétez votre profil</li>
                <li>Ajoutez vos premières annonces</li>
                <li>Explorez le marketplace</li>
                <li>Connectez-vous avec d'autres utilisateurs</li>
              </ol>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/dashboard" class="cta-button">Accéder à mon compte</a>
              </div>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
            </div>
          </div>
        </body>
        </html>
      `}),passwordReset:(t={})=>({subject:"🔑 Réinitialisation de mot de passe - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Réinitialisation de mot de passe</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #17a2b8; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .reset-box { background: #d1ecf1; border: 1px solid #bee5eb; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #17a2b8; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔑 Réinitialisation de mot de passe</h1>
            </div>
            <div class="content">
              <div class="reset-box">
                <h2>Demande de réinitialisation</h2>
                <p>Vous avez demandé la réinitialisation de votre mot de passe. Cliquez sur le bouton ci-dessous pour créer un nouveau mot de passe.</p>
              </div>
              
              <p><strong>Important :</strong> Ce lien expire dans ${t.expiryTime||"1 heure"}. Si vous n'avez pas demandé cette réinitialisation, ignorez cet email.</p>
              
              <div style="text-align: center;">
                <a href="${t.resetLink||"#"}" class="cta-button">Réinitialiser mon mot de passe</a>
              </div>
              
              <h3>🔒 Conseils de sécurité :</h3>
              <ul>
                <li>Choisissez un mot de passe fort et unique</li>
                <li>N'utilisez pas le même mot de passe sur d'autres sites</li>
                <li>Activez l'authentification à deux facteurs</li>
                <li>Ne partagez jamais vos identifiants</li>
              </ul>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p>Si vous n'avez pas demandé cette réinitialisation, contactez-nous immédiatement.</p>
            </div>
          </div>
        </body>
        </html>
      `})},qa=(t,e={})=>{if(!HF[t])throw new Error(`Template '${t}' non trouvé`);return HF[t](e)},lT="your_sendgrid_api_key_here",cC="newsletter@benome.com",uC="Benome Newsletter";oT.setApiKey(lT);const mi={sendEmail:async(t,e,r,n=!1)=>{try{const i={to:t,from:{email:cC,name:uC},subject:e,...n?{html:r}:{text:r}},a=await oT.send(i);return console.log("✅ Email envoyé avec succès:",a[0].statusCode),{success:!0,message:"Email envoyé avec succès"}}catch(i){throw console.error("❌ Erreur envoi email:",i),i}},sendWelcomeEmail:async(t,e="")=>{const r=qa("welcomeNewsletter",{email:t,firstName:e});return mi.sendEmail(t,r.subject,r.html,!0)},sendNewsletter:async(t,e,r,n=!1)=>{try{if(!t||t.length===0)throw new Error("Aucun abonné à qui envoyer la newsletter");console.log(`📧 Envoi de newsletter à ${t.length} abonnés`);const i=100,a=[];for(let c=0;c<t.length;c+=i)a.push(t.slice(c,c+i));let o=0,l=0;for(const c of a)try{const u=c.map(d=>d.email);if(lT){const d={to:u,from:{email:cC,name:uC},subject:e,...n?{html:r}:{text:r}};await oT.sendMultiple(d),o+=c.length}}catch(u){console.error("❌ Erreur envoi batch:",u),l+=c.length}return console.log(`✅ Newsletter envoyée: ${o} succès, ${l} erreurs`),{success:!0,message:`Newsletter envoyée à ${o} abonnés`,stats:{successCount:o,errorCount:l,total:t.length}}}catch(i){throw console.error("❌ Erreur envoi newsletter:",i),i}},sendReactivationEmail:async t=>{const e=qa("reactivationNewsletter",{email:t});return mi.sendEmail(t,e.subject,e.html,!0)},sendTemplateEmail:async(t,e,r={})=>{try{const n=qa(e,r);return mi.sendEmail(t,n.subject,n.html,!0)}catch(n){throw console.error(`❌ Erreur envoi template ${e}:`,n),n}},sendWeeklyNewsletter:async(t,e={})=>{const r=qa("weeklyNewsletter",e);return mi.sendNewsletter(t,r.subject,r.html,!0)},sendMonthlyNewsletter:async(t,e={})=>{const r=qa("monthlyNewsletter",e);return mi.sendNewsletter(t,r.subject,r.html,!0)},sendSpecialOffer:async(t,e={})=>{const r=qa("specialOffer",e);return mi.sendNewsletter(t,r.subject,r.html,!0)},sendReengagementEmail:async(t,e={})=>{const r=qa("reengagementEmail",e);return mi.sendEmail(t,r.subject,r.html,!0)},sendMaintenanceNotification:async(t,e={})=>{const r=qa("maintenanceNotification",e);return mi.sendNewsletter(t,r.subject,r.html,!0)},sendSecurityAlert:async(t,e={})=>{const r=qa("securityAlert",e);return mi.sendEmail(t,r.subject,r.html,!0)},sendAccountCreatedEmail:async(t,e={})=>{const r=qa("accountCreated",e);return mi.sendEmail(t,r.subject,r.html,!0)},sendPasswordResetEmail:async(t,e={})=>{const r=qa("passwordReset",e);return mi.sendEmail(t,r.subject,r.html,!0)},sendUnsubscribeConfirmation:async t=>{const e=qa("unsubscribeConfirmation",{email:t});return mi.sendEmail(t,e.subject,e.html,!0)},checkConfiguration:()=>{const t={sendgridConfigured:!0,fromEmail:cC,fromName:uC};return console.log("🔧 Configuration email service:",t),t}},td={subscribe:async t=>{try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Adresse email invalide");const{data:r,error:n}=await be.from("newsletter_subscribers").select("id, email, is_active").eq("email",t.toLowerCase()).single();if(n&&n.code!=="PGRST116")throw n;if(r){if(r.is_active)throw new Error("Cette adresse email est déjà inscrite à la newsletter");{const{error:o}=await be.from("newsletter_subscribers").update({is_active:!0,updated_at:new Date().toISOString()}).eq("id",r.id);if(o)throw o;try{await mi.sendReactivationEmail(t.toLowerCase()),console.log("✅ Email de réactivation envoyé à:",t)}catch(l){console.warn("⚠️ Erreur envoi email de réactivation:",l)}return{success:!0,message:"Inscription réactivée avec succès ! Email de confirmation envoyé.",action:"reactivated"}}}const{data:i,error:a}=await be.from("newsletter_subscribers").insert([{email:t.toLowerCase(),is_active:!0,subscribed_at:new Date().toISOString(),source:"footer"}]).select().single();if(a)throw a;try{await mi.sendWelcomeEmail(t.toLowerCase()),console.log("✅ Email de bienvenue envoyé à:",t)}catch(o){console.warn("⚠️ Erreur envoi email de bienvenue:",o)}return{success:!0,message:"Inscription à la newsletter réussie ! Email de bienvenue envoyé.",action:"subscribed",data:i}}catch(e){throw console.error("Erreur inscription newsletter:",e),e}},unsubscribe:async t=>{try{const{error:e}=await be.from("newsletter_subscribers").update({is_active:!1,unsubscribed_at:new Date().toISOString()}).eq("email",t.toLowerCase());if(e)throw e;return{success:!0,message:"Désinscription réussie"}}catch(e){throw console.error("Erreur désinscription newsletter:",e),e}},checkStatus:async t=>{try{const{data:e,error:r}=await be.from("newsletter_subscribers").select("id, email, is_active, subscribed_at").eq("email",t.toLowerCase()).single();if(r&&r.code!=="PGRST116")throw r;return{isSubscribed:e?.is_active||!1,subscribedAt:e?.subscribed_at,data:e}}catch(e){throw console.error("Erreur vérification statut newsletter:",e),e}},getStats:async()=>{try{const{data:t,error:e}=await be.from("newsletter_subscribers").select("*");if(e)throw e;const r=t.length,n=t.filter(a=>a.is_active).length,i=r-n;return{total:r,active:n,inactive:i,data:t}}catch(t){throw console.error("Erreur récupération stats newsletter:",t),t}},sendWeeklyNewsletter:async(t={})=>{try{const{data:e,error:r}=await be.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour la newsletter hebdomadaire"),{success:!0,message:"Aucun abonné à notifier"};const n=await mi.sendWeeklyNewsletter(e,t);return console.log("✅ Newsletter hebdomadaire envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur envoi newsletter hebdomadaire:",e),e}},sendMonthlyNewsletter:async(t={})=>{try{const{data:e,error:r}=await be.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour la newsletter mensuelle"),{success:!0,message:"Aucun abonné à notifier"};const n=await mi.sendMonthlyNewsletter(e,t);return console.log("✅ Newsletter mensuelle envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur envoi newsletter mensuelle:",e),e}},sendSpecialOffer:async(t={})=>{try{const{data:e,error:r}=await be.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour l'offre spéciale"),{success:!0,message:"Aucun abonné à notifier"};const n=await mi.sendSpecialOffer(e,t);return console.log("✅ Offre spéciale envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur envoi offre spéciale:",e),e}},sendReengagementCampaign:async(t={})=>{try{const{data:e,error:r}=await be.from("newsletter_subscribers").select("email").eq("is_active",!0).lt("updated_at",new Date(Date.now()-2592e6).toISOString());if(r)throw r;if(e.length===0)return console.log("📧 Aucun utilisateur inactif pour la campagne de réengagement"),{success:!0,message:"Aucun utilisateur inactif à notifier"};let n=0;for(const i of e)try{await mi.sendReengagementEmail(i.email,t),n++}catch(a){console.warn("⚠️ Erreur envoi email réengagement à",i.email,":",a)}return console.log("✅ Campagne de réengagement envoyée à",n,"utilisateurs inactifs"),{success:!0,message:`Campagne de réengagement envoyée à ${n} utilisateurs`,stats:{successCount:n,total:e.length}}}catch(e){throw console.error("❌ Erreur campagne de réengagement:",e),e}},sendMaintenanceNotification:async(t={})=>{try{const{data:e,error:r}=await be.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour la notification de maintenance"),{success:!0,message:"Aucun abonné à notifier"};const n=await mi.sendMaintenanceNotification(e,t);return console.log("✅ Notification de maintenance envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur notification de maintenance:",e),e}}},cT={createCampaign:async t=>{try{const{data:e,error:r}=await be.from("email_campaigns").insert([{type:t.type,subject:t.subject,data:t.data,scheduled_date:t.scheduledDate,status:"draft",created_by:t.createdBy,created_at:new Date().toISOString()}]).select();if(r)throw r;return console.log("✅ Campagne créée:",e[0]),e[0]}catch(e){throw console.error("❌ Erreur création campagne:",e),e}},sendCampaign:async t=>{try{const{data:e,error:r}=await be.from("email_campaigns").select("*").eq("id",t).single();if(r)throw r;const{error:n}=await be.from("email_campaigns").update({status:"sending",sent_at:new Date().toISOString()}).eq("id",t);if(n)throw n;return console.log("✅ Campagne envoyée:",e),e}catch(e){throw console.error("❌ Erreur envoi campagne:",e),e}},getAllCampaigns:async()=>{try{const{data:t,error:e}=await be.from("email_campaigns").select("*").order("created_at",{ascending:!1});if(e)throw e;return t||[]}catch(t){throw console.error("❌ Erreur récupération campagnes:",t),t}},getCampaignById:async t=>{try{const{data:e,error:r}=await be.from("email_campaigns").select("*").eq("id",t).single();if(r)throw r;return e}catch(e){throw console.error("❌ Erreur récupération campagne:",e),e}},updateCampaign:async(t,e)=>{try{const{data:r,error:n}=await be.from("email_campaigns").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select();if(n)throw n;return console.log("✅ Campagne mise à jour:",r[0]),r[0]}catch(r){throw console.error("❌ Erreur mise à jour campagne:",r),r}},deleteCampaign:async t=>{try{const{error:e}=await be.from("email_campaigns").delete().eq("id",t);if(e)throw e;return console.log("✅ Campagne supprimée:",t),{success:!0}}catch(e){throw console.error("❌ Erreur suppression campagne:",e),e}},getCampaignStats:async()=>{try{const{data:t,error:e}=await be.from("email_campaigns").select("*");if(e)throw e;const r={total:t.length,sent:t.filter(n=>n.status==="sent").length,draft:t.filter(n=>n.status==="draft").length,sending:t.filter(n=>n.status==="sending").length,failed:t.filter(n=>n.status==="failed").length,byType:{}};return t.forEach(n=>{r.byType[n.type]||(r.byType[n.type]=0),r.byType[n.type]++}),r}catch(t){throw console.error("❌ Erreur statistiques campagnes:",t),t}},scheduleCampaign:async(t,e)=>{try{const{data:r,error:n}=await be.from("email_campaigns").update({status:"scheduled",scheduled_date:e,updated_at:new Date().toISOString()}).eq("id",t).select();if(n)throw n;return console.log("✅ Campagne programmée:",r[0]),r[0]}catch(r){throw console.error("❌ Erreur programmation campagne:",r),r}},duplicateCampaign:async t=>{try{const e=await cT.getCampaignById(t),r={...e,id:void 0,subject:`${e.subject} (Copie)`,status:"draft",created_at:new Date().toISOString(),sent_at:null,scheduled_date:null};delete r.id;const{data:n,error:i}=await be.from("email_campaigns").insert([r]).select();if(i)throw i;return console.log("✅ Campagne dupliquée:",n[0]),n[0]}catch(e){throw console.error("❌ Erreur duplication campagne:",e),e}}},P1=({size:t="default",showName:e=!1,showStatus:r=!1,className:n=""})=>{const i={sm:"w-8 h-8",default:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"},a={sm:"text-xs",default:"text-sm",lg:"text-base",xl:"text-lg"};return s.jsxs("div",{className:`aida-profile ${n}`,children:[s.jsxs("div",{className:`profile-container ${i[t]}`,children:[s.jsxs("div",{className:"profile-background",children:[s.jsx("div",{className:"gradient-overlay"}),s.jsx("div",{className:"geometric-pattern"})]}),s.jsxs("div",{className:"aida-logo",children:[s.jsx("div",{className:"logo-circle",children:s.jsx("span",{className:"logo-text",children:"A"})}),s.jsx("div",{className:"logo-accent"})]}),r&&s.jsx("div",{className:"status-indicator",children:s.jsx("div",{className:"status-dot"})}),s.jsx("div",{className:"shine-effect"})]}),e&&s.jsxs("div",{className:"profile-info",children:[s.jsx("div",{className:`profile-name ${a[t]}`,children:"AIDA"}),s.jsx("div",{className:"profile-description",children:"Assistant Intelligent"})]}),s.jsx("style",{jsx:!0,children:`
        .aida-profile {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .profile-container {
          position: relative;
          border-radius: 50%;
          overflow: hidden;
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.2);
        }
        
        .profile-background {
          position: absolute;
          inset: 0;
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
        }
        
        .gradient-overlay {
          position: absolute;
          inset: 0;
          background: linear-gradient(45deg, transparent 30%, rgba(255,255,255,0.1) 50%, transparent 70%);
        }
        
        .geometric-pattern {
          position: absolute;
          inset: 0;
          background-image: 
            radial-gradient(circle at 20% 20%, rgba(255,255,255,0.1) 2px, transparent 2px),
            radial-gradient(circle at 80% 80%, rgba(255,255,255,0.1) 2px, transparent 2px);
          background-size: 100% 100%;
        }
        
        .aida-logo {
          position: relative;
          z-index: 2;
          display: flex;
          align-items: center;
          justify-content: center;
        }
        
        .logo-circle {
          width: 60%;
          height: 60%;
          border-radius: 50%;
          background: rgba(255, 255, 255, 0.95);
          display: flex;
          align-items: center;
          justify-content: center;
          box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
        
        .logo-text {
          font-weight: 700;
          color: #1d4ed8;
          font-size: 0.8em;
          letter-spacing: -0.5px;
        }
        
        .logo-accent {
          position: absolute;
          top: -2px;
          right: -2px;
          width: 8px;
          height: 8px;
          border-radius: 50%;
          background: #0ea5e9;
          border: 2px solid rgba(255, 255, 255, 0.9);
        }
        
        .status-indicator {
          position: absolute;
          bottom: 2px;
          right: 2px;
          z-index: 3;
        }
        
        .status-dot {
          width: 8px;
          height: 8px;
          border-radius: 50%;
          background: #10b981;
          border: 2px solid rgba(255, 255, 255, 0.9);
          animation: pulse 2s infinite;
        }
        
        .shine-effect {
          position: absolute;
          top: 0;
          left: -100%;
          width: 100%;
          height: 100%;
          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
          animation: shine 3s infinite;
        }
        
        .profile-info {
          display: flex;
          flex-direction: column;
          gap: 2px;
        }
        
        .profile-name {
          font-weight: 600;
          color: #1f2937;
          line-height: 1;
        }
        
        .profile-description {
          font-size: 0.75em;
          color: #6b7280;
          line-height: 1;
        }
        
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
            opacity: 1;
          }
          50% {
            transform: scale(1.2);
            opacity: 0.7;
          }
        }
        
        @keyframes shine {
          0% {
            left: -100%;
          }
          50% {
            left: 100%;
          }
          100% {
            left: 100%;
          }
        }
        
        /* Responsive */
        @media (max-width: 640px) {
          .profile-container {
            box-shadow: 0 2px 8px rgba(59, 130, 246, 0.15);
          }
        }
      `})]})},KF=({message:t="AIDA réfléchit...",showDots:e=!0,className:r=""})=>s.jsxs("div",{className:`typing-indicator ${r}`,children:[s.jsx("div",{className:"typing-avatar",children:s.jsx(P1,{size:"default",showStatus:!0})}),s.jsxs("div",{className:"typing-content",children:[s.jsx("div",{className:"typing-message",children:t}),e&&s.jsxs("div",{className:"typing-dots",children:[s.jsx("span",{className:"dot"}),s.jsx("span",{className:"dot"}),s.jsx("span",{className:"dot"})]})]}),s.jsx("style",{jsx:!0,children:`
        .typing-indicator {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          padding: 12px;
          background: linear-gradient(135deg, #0e141b 0%, #1a1f2e 100%);
          border: 1px solid #2d3748;
          border-radius: 16px;
          margin: 8px 0;
          animation: slideIn 0.3s ease-out;
        }
        
        .typing-avatar {
          flex-shrink: 0;
        }
        
        .typing-content {
          flex: 1;
          min-width: 0;
        }
        
        .typing-message {
          color: #e2e8f0;
          font-size: 14px;
          font-weight: 500;
          margin-bottom: 4px;
        }
        
        .typing-dots {
          display: flex;
          gap: 4px;
          align-items: center;
        }
        
        .dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
          animation: typing 1.4s infinite ease-in-out;
        }
        
        .dot:nth-child(1) {
          animation-delay: -0.32s;
        }
        
        .dot:nth-child(2) {
          animation-delay: -0.16s;
        }
        
        @keyframes typing {
          0%, 80%, 100% {
            transform: scale(0.8);
            opacity: 0.5;
          }
          40% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        @keyframes pulse {
          0% {
            transform: scale(1);
            opacity: 0.3;
          }
          50% {
            transform: scale(1.1);
            opacity: 0.1;
          }
          100% {
            transform: scale(1);
            opacity: 0.3;
          }
        }
        
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]}),Zve=({duration:t=3e3,message:e="AIDA traite votre demande...",onComplete:r,className:n=""})=>{const[i,a]=x.useState(0),[o,l]=x.useState(!1);return x.useEffect(()=>{const c=Date.now(),u=setInterval(()=>{const d=Date.now()-c,f=Math.min(d/t*100,100);a(f),f>=100&&(l(!0),clearInterval(u),setTimeout(()=>{r?.()},500))},50);return()=>clearInterval(u)},[t,r]),s.jsxs("div",{className:`progress-container ${n}`,children:[s.jsxs("div",{className:"progress-header",children:[s.jsx("div",{className:"progress-icon",children:"⚡"}),s.jsx("div",{className:"progress-message",children:e})]}),s.jsxs("div",{className:"progress-bar-container",children:[s.jsx("div",{className:"progress-bar-fill",style:{width:`${i}%`}}),s.jsx("div",{className:"progress-glow"})]}),s.jsxs("div",{className:"progress-percentage",children:[Math.round(i),"%"]}),s.jsx("style",{jsx:!0,children:`
        .progress-container {
          background: linear-gradient(135deg, #0e141b 0%, #1a1f2e 100%);
          border: 1px solid #2d3748;
          border-radius: 12px;
          padding: 16px;
          margin: 12px 0;
          animation: slideIn 0.3s ease-out;
        }
        
        .progress-header {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 12px;
        }
        
        .progress-icon {
          font-size: 18px;
          animation: pulse 2s infinite;
        }
        
        .progress-message {
          color: #e2e8f0;
          font-size: 14px;
          font-weight: 500;
        }
        
        .progress-bar-container {
          position: relative;
          height: 6px;
          background: #2d3748;
          border-radius: 3px;
          overflow: hidden;
          margin-bottom: 8px;
        }
        
        .progress-bar-fill {
          height: 100%;
          background: linear-gradient(90deg, #3b82f6 0%, #1d4ed8 50%, #0ea5e9 100%);
          border-radius: 3px;
          transition: width 0.1s ease-out;
          position: relative;
        }
        
        .progress-glow {
          position: absolute;
          top: 0;
          left: 0;
          height: 100%;
          width: 20px;
          background: linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.3) 50%, transparent 100%);
          animation: shimmer 2s infinite;
        }
        
        .progress-percentage {
          text-align: right;
          color: #a0aec0;
          font-size: 12px;
          font-weight: 600;
        }
        
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.1);
          }
        }
        
        @keyframes shimmer {
          0% {
            transform: translateX(-100%);
          }
          100% {
            transform: translateX(400%);
          }
        }
        
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
      `})]})},Yve=({steps:t=[],currentStep:e=0,onStepComplete:r,className:n=""})=>{const[i,a]=x.useState([]),[o,l]=x.useState(null);return x.useEffect(()=>{if(e<t.length){l(t[e]);const c=setTimeout(()=>{a(u=>[...u,e]),r?.(e)},t[e].duration||2e3);return()=>clearTimeout(c)}},[e,t,r]),s.jsxs("div",{className:`advanced-thinking ${n}`,children:[s.jsxs("div",{className:"thinking-header",children:[s.jsx(P1,{size:"default",showStatus:!0}),s.jsxs("div",{className:"thinking-title",children:[s.jsx("div",{className:"thinking-icon",children:"🧠"}),s.jsx("div",{className:"thinking-text",children:"AIDA analyse intelligemment..."})]})]}),s.jsx("div",{className:"thinking-steps",children:t.map((c,u)=>s.jsxs("div",{className:`thinking-step ${u===e?"active":""} ${i.includes(u)?"completed":""}`,children:[s.jsx("div",{className:"step-indicator",children:i.includes(u)?s.jsx("div",{className:"step-check",children:"✓"}):u===e?s.jsxs("div",{className:"step-loading",children:[s.jsx("div",{className:"loading-dot"}),s.jsx("div",{className:"loading-dot"}),s.jsx("div",{className:"loading-dot"})]}):s.jsx("div",{className:"step-number",children:u+1})}),s.jsxs("div",{className:"step-content",children:[s.jsx("div",{className:"step-title",children:c.title}),u===e&&c.description&&s.jsx("div",{className:"step-description",children:c.description}),u===e&&c.progress&&s.jsx("div",{className:"step-progress",children:s.jsx("div",{className:"step-progress-bar",style:{width:`${c.progress}%`}})})]})]},u))}),s.jsx("style",{jsx:!0,children:`
        .advanced-thinking {
          background: linear-gradient(135deg, #0e141b 0%, #1a1f2e 100%);
          border: 1px solid #2d3748;
          border-radius: 16px;
          padding: 20px;
          margin: 12px 0;
          animation: slideIn 0.4s ease-out;
        }
        
        .thinking-header {
          display: flex;
          align-items: center;
          gap: 12px;
          margin-bottom: 16px;
        }
        
        .thinking-title {
          display: flex;
          align-items: center;
          gap: 8px;
        }
        
        .thinking-icon {
          font-size: 20px;
          animation: pulse 2s infinite;
        }
        
        .thinking-text {
          color: #e2e8f0;
          font-size: 16px;
          font-weight: 600;
        }
        
        .thinking-steps {
          display: flex;
          flex-direction: column;
          gap: 12px;
        }
        
        .thinking-step {
          display: flex;
          align-items: flex-start;
          gap: 12px;
          padding: 12px;
          border-radius: 12px;
          transition: all 0.3s ease;
        }
        
        .thinking-step.active {
          background: rgba(59, 130, 246, 0.1);
          border: 1px solid rgba(59, 130, 246, 0.3);
        }
        
        .thinking-step.completed {
          background: rgba(16, 185, 129, 0.1);
          border: 1px solid rgba(16, 185, 129, 0.3);
        }
        
        .step-indicator {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          flex-shrink: 0;
        }
        
        .step-number {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: #4a5568;
          color: #a0aec0;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 12px;
          font-weight: 600;
        }
        
        .step-check {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          background: #10b981;
          color: white;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 14px;
          font-weight: bold;
        }
        
        .step-loading {
          display: flex;
          gap: 2px;
        }
        
        .loading-dot {
          width: 6px;
          height: 6px;
          border-radius: 50%;
          background: #3b82f6;
          animation: loadingDot 1.4s infinite ease-in-out;
        }
        
        .loading-dot:nth-child(1) { animation-delay: -0.32s; }
        .loading-dot:nth-child(2) { animation-delay: -0.16s; }
        
        .step-content {
          flex: 1;
          min-width: 0;
        }
        
        .step-title {
          color: #e2e8f0;
          font-size: 14px;
          font-weight: 500;
          margin-bottom: 4px;
        }
        
        .step-description {
          color: #a0aec0;
          font-size: 12px;
          margin-bottom: 8px;
        }
        
        .step-progress {
          height: 4px;
          background: #2d3748;
          border-radius: 2px;
          overflow: hidden;
        }
        
        .step-progress-bar {
          height: 100%;
          background: linear-gradient(90deg, #3b82f6 0%, #1d4ed8 100%);
          border-radius: 2px;
          transition: width 0.3s ease;
        }
        
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse {
          0%, 100% {
            transform: scale(1);
          }
          50% {
            transform: scale(1.1);
          }
        }
        
        @keyframes loadingDot {
          0%, 80%, 100% {
            transform: scale(0.8);
            opacity: 0.5;
          }
          40% {
            transform: scale(1);
            opacity: 1;
          }
        }
        
        /* Responsive */
        @media (max-width: 640px) {
          .advanced-thinking {
            padding: 16px;
          }
          
          .thinking-steps {
            gap: 8px;
          }
          
          .thinking-step {
            padding: 8px;
          }
        }
      `})]})},Xve=({message:t,isUser:e=!1,showAvatar:r=!0,className:n=""})=>{const{role:i,content:a}=t;return s.jsxs("div",{className:`message-container ${e?"user-message":"assistant-message"} ${n}`,children:[r&&s.jsx("div",{className:"message-avatar",children:e?s.jsx("div",{className:"user-avatar",children:s.jsx("span",{children:"👤"})}):s.jsx(P1,{size:"default",showStatus:!1})}),s.jsxs("div",{className:"message-bubble",children:[s.jsx("div",{className:"message-content",children:a}),s.jsx("div",{className:"message-time",children:new Date().toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})})]}),s.jsx("style",{jsx:!0,children:`
        .message-container {
          display: flex;
          gap: 12px;
          align-items: flex-start;
          margin: 12px 0;
          animation: slideIn 0.3s ease-out;
        }
        
        .user-message {
          flex-direction: row-reverse;
        }
        
        .message-avatar {
          flex-shrink: 0;
        }
        
        .user-avatar {
          width: 32px;
          height: 32px;
          border-radius: 50%;
          background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 16px;
          border: 2px solid #2563eb;
        }
        

        
        .message-bubble {
          max-width: 75%;
          position: relative;
        }
        
        .user-message .message-bubble {
          max-width: 75%;
        }
        
        .assistant-message .message-bubble {
          max-width: 85%;
        }
        
        .message-content {
          padding: 12px 16px;
          border-radius: 18px;
          white-space: pre-wrap;
          word-wrap: break-word;
          line-height: 1.5;
          font-size: 14px;
          position: relative;
          overflow: hidden;
        }
        
        .user-message .message-content {
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
          color: white;
          border-bottom-right-radius: 4px;
        }
        
        .assistant-message .message-content {
          background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
          color: #e2e8f0;
          border: 1px solid #4a5568;
          border-bottom-left-radius: 4px;
        }
        
        .message-time {
          font-size: 11px;
          color: #a0aec0;
          margin-top: 4px;
          text-align: right;
          opacity: 0.7;
        }
        
        .user-message .message-time {
          text-align: left;
        }
        
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes pulse {
          0% {
            transform: scale(1);
            opacity: 0.3;
          }
          50% {
            transform: scale(1.1);
            opacity: 0.1;
          }
          100% {
            transform: scale(1);
            opacity: 0.3;
          }
        }
        
        /* Responsive */
        @media (max-width: 640px) {
          .message-bubble {
            max-width: 85%;
          }
          
          .user-message .message-bubble {
            max-width: 85%;
          }
          
          .assistant-message .message-bubble {
            max-width: 90%;
          }
        }
      `})]})},Jve=({suggestions:t=[],onSuggestionClick:e,className:r=""})=>s.jsxs("div",{className:`suggestions-container ${r}`,children:[s.jsx("div",{className:"suggestions-label",children:"💡 Suggestions rapides"}),s.jsx("div",{className:"suggestions-grid",children:t.map((n,i)=>s.jsxs("button",{className:"suggestion-chip",onClick:()=>e?.(n),style:{animationDelay:`${i*.1}s`},children:[s.jsx("span",{className:"chip-icon",children:n.icon||"💬"}),s.jsx("span",{className:"chip-text",children:n.text||n})]},i))}),s.jsx("style",{jsx:!0,children:`
        .suggestions-container {
          margin: 16px 0;
          animation: slideIn 0.4s ease-out;
        }
        
        .suggestions-label {
          font-size: 12px;
          color: #a0aec0;
          margin-bottom: 8px;
          font-weight: 600;
          text-transform: uppercase;
          letter-spacing: 0.5px;
        }
        
        .suggestions-grid {
          display: flex;
          flex-wrap: wrap;
          gap: 8px;
        }
        
        .suggestion-chip {
          display: flex;
          align-items: center;
          gap: 6px;
          padding: 8px 12px;
          background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
          border: 1px solid #4a5568;
          border-radius: 20px;
          color: #e2e8f0;
          font-size: 13px;
          font-weight: 500;
          cursor: pointer;
          transition: all 0.2s ease;
          animation: chipSlideIn 0.3s ease-out forwards;
          opacity: 0;
          transform: translateY(10px);
        }
        
        .suggestion-chip:hover {
          background: linear-gradient(135deg, #2d3748 0%, #4a5568 100%);
          border-color: #3b82f6;
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
        }
        
        .suggestion-chip:active {
          transform: translateY(0);
          box-shadow: 0 2px 6px rgba(102, 126, 234, 0.2);
        }
        
        .chip-icon {
          font-size: 14px;
          opacity: 0.8;
        }
        
        .chip-text {
          white-space: nowrap;
        }
        
        @keyframes chipSlideIn {
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        @keyframes slideIn {
          from {
            opacity: 0;
            transform: translateY(10px);
          }
          to {
            opacity: 1;
            transform: translateY(0);
          }
        }
        
        /* Responsive */
        @media (max-width: 640px) {
          .suggestions-grid {
            gap: 6px;
          }
          
          .suggestion-chip {
            padding: 6px 10px;
            font-size: 12px;
          }
        }
      `})]});class Qve{constructor(){this.userContext=null,this.marketData=null,this.recommendations=[]}async analyzeUserContext(e,r,n){try{console.log("🧠 AIDA analyse le contexte utilisateur...");const i={user:null,preferences:{},behavior:{},marketInsights:{}};if(e){const{data:a}=await be.from("users").select("*").eq("id",e).single();i.user=a}return n&&n.length>0&&(i.behavior=this.analyzeSearchBehavior(n),i.preferences=this.extractUserPreferences(n)),i.currentPage=this.analyzeCurrentPage(r),i.marketInsights=await this.getMarketInsights(),this.userContext=i,i}catch(i){return console.error("Erreur analyse contexte:",i),null}}analyzeSearchBehavior(e){const r={categories:{},locations:{},priceRanges:{},frequency:e.length,lastSearch:e[e.length-1]?.timestamp};return e.forEach(n=>{n.category&&(r.categories[n.category]=(r.categories[n.category]||0)+1),n.location&&(r.locations[n.location]=(r.locations[n.location]||0)+1),n.priceRange&&(r.priceRanges[n.priceRange]=(r.priceRanges[n.priceRange]||0)+1)}),r}extractUserPreferences(e){const r={favoriteCategories:[],preferredLocations:[],budgetRange:null,searchPatterns:[]};if(e.length>0){const n={};e.forEach(a=>{a.category&&(n[a.category]=(n[a.category]||0)+1)}),r.favoriteCategories=Object.entries(n).sort(([,a],[,o])=>o-a).slice(0,3).map(([a])=>a);const i={};e.forEach(a=>{a.location&&(i[a.location]=(i[a.location]||0)+1)}),r.preferredLocations=Object.entries(i).sort(([,a],[,o])=>o-a).slice(0,3).map(([a])=>a)}return r}analyzeCurrentPage(e){const r={type:"unknown",context:{},opportunities:[]};return e&&(e.includes("/annonce/")?(r.type="listing_detail",r.context={listingId:e.split("/annonce/")[1],action:"viewing_listing"},r.opportunities=["suggest_similar_listings","suggest_contact_seller","suggest_related_categories"]):e.includes("/marketplace")?(r.type="marketplace",r.context={action:"browsing_marketplace"},r.opportunities=["suggest_popular_categories","suggest_trending_items","suggest_user_preferences"]):e.includes("/immobilier")&&(r.type="real_estate",r.context={action:"browsing_real_estate"},r.opportunities=["suggest_property_types","suggest_locations","suggest_price_ranges"])),r}async getMarketInsights(){try{const e={trendingCategories:[],popularLocations:[],priceTrends:{},newListings:0},{data:r}=await be.from("listings").select("category, created_at").gte("created_at",new Date(Date.now()-7*24*60*60*1e3).toISOString()).eq("status","approved");if(r){const i={};r.forEach(a=>{i[a.category]=(i[a.category]||0)+1}),e.trendingCategories=Object.entries(i).sort(([,a],[,o])=>o-a).slice(0,5).map(([a])=>a)}const{count:n}=await be.from("listings").select("*",{count:"exact"}).gte("created_at",new Date(Date.now()-24*60*60*1e3).toISOString()).eq("status","approved");return e.newListings=n||0,e}catch(e){return console.error("Erreur récupération insights:",e),{}}}async generateRecommendations(e,r){try{console.log("🎯 AIDA génère des recommandations personnalisées...");const n={immediate:[],contextual:[],trending:[],personalized:[]};return r&&(n.immediate=await this.getImmediateRecommendations(r)),e?.currentPage&&(n.contextual=await this.getContextualRecommendations(e.currentPage)),e?.marketInsights&&(n.trending=this.getTrendingRecommendations(e.marketInsights)),e?.preferences&&(n.personalized=await this.getPersonalizedRecommendations(e.preferences)),this.recommendations=n,n}catch(n){return console.error("Erreur génération recommandations:",n),{}}}async getImmediateRecommendations(e){const r=[],n=e.toLowerCase().split(" ");return(n.includes("immobilier")||n.includes("maison")||n.includes("appartement"))&&r.push({type:"category",value:"Immobilier à Dakar",icon:"🏠"},{type:"category",value:"Terrains constructibles",icon:"🏗️"},{type:"category",value:"Appartements 2 chambres",icon:"🏢"}),(n.includes("voiture")||n.includes("auto")||n.includes("moto"))&&r.push({type:"category",value:"Voitures d'occasion",icon:"🚗"},{type:"category",value:"Motos économiques",icon:"🏍️"},{type:"category",value:"Pièces détachées",icon:"🔧"}),r}async getContextualRecommendations(e){const r=[];return e.type==="listing_detail"&&r.push({type:"action",value:"Contacter le vendeur",icon:"📞"},{type:"action",value:"Voir des annonces similaires",icon:"🔍"},{type:"action",value:"Partager cette annonce",icon:"📤"}),e.type==="marketplace"&&r.push({type:"category",value:"Nouvelles annonces",icon:"🆕"},{type:"category",value:"Promotions",icon:"🏷️"},{type:"category",value:"Annonces populaires",icon:"🔥"}),r}getTrendingRecommendations(e){const r=[];return e.trendingCategories&&e.trendingCategories.forEach(n=>{r.push({type:"trending",value:`${n} (tendance)`,icon:"📈"})}),e.newListings>0&&r.push({type:"info",value:`${e.newListings} nouvelles annonces aujourd'hui`,icon:"🆕"}),r}async getPersonalizedRecommendations(e){const r=[];return e.favoriteCategories&&e.favoriteCategories.forEach(n=>{r.push({type:"personalized",value:`Nouveaux ${n}`,icon:"⭐"})}),e.preferredLocations&&e.preferredLocations.forEach(n=>{r.push({type:"personalized",value:`Annonces à ${n}`,icon:"📍"})}),r}getAdvancedThinkingSteps(e,r){const n=[{title:"Analyse du contexte",description:"Étude de la page actuelle et de l'historique utilisateur",duration:1500,progress:0},{title:"Recherche d'informations",description:"Collecte de données pertinentes et insights du marché",duration:2e3,progress:0},{title:"Génération de recommandations",description:"Création de suggestions personnalisées",duration:1800,progress:0},{title:"Optimisation de la réponse",description:"Affinage et personnalisation du message",duration:1200,progress:0}];return e?.currentPage?.type==="listing_detail"&&n.splice(1,0,{title:"Analyse de l'annonce",description:"Étude des détails et recherche d'alternatives",duration:1600,progress:0}),r&&r.includes("prix")&&n.splice(2,0,{title:"Analyse des prix",description:"Comparaison avec le marché et estimation",duration:1400,progress:0}),n}}const fb=new Qve,eye=({pageContext:t={}})=>{const{user:e}=Mr(),[r,n]=x.useState(!1),[i,a]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState(""),[d,f]=x.useState([]),[g,v]=x.useState([]),[y,b]=x.useState(null),[_,j]=x.useState(!1),[N,C]=x.useState(!1),[A,E]=x.useState(!1),[P,O]=x.useState(!1),[I,F]=x.useState([]),[H,U]=x.useState(0),[z,V]=x.useState(null),[X,te]=x.useState([]),le=x.useRef(null),W=x.useRef(null),re=x.useMemo(()=>({path:window.location.pathname,...typeof window<"u"&&window.__MAXIMARKET_CONTEXT?window.__MAXIMARKET_CONTEXT:{},...t}),[t]);x.useEffect(()=>{const oe=localStorage.getItem("chatbot_conversations");if(oe)try{const ae=JSON.parse(oe);Array.isArray(ae)&&v(ae)}catch(ae){console.error("Erreur parsing conversations:",ae)}},[]),x.useEffect(()=>{g.length>0&&localStorage.setItem("chatbot_conversations",JSON.stringify(g))},[g]),x.useEffect(()=>{const oe=()=>C(window.matchMedia("(max-width: 640px)").matches);return oe(),window.addEventListener("resize",oe),()=>window.removeEventListener("resize",oe)},[]),x.useEffect(()=>{r&&(async()=>{try{const ae=JSON.parse(localStorage.getItem("search_history")||"[]"),ge=await fb.analyzeUserContext(e?.id,window.location.pathname,ae);if(V(ge),ge){const ve=await fb.generateRecommendations(ge,"");te(ve)}}catch(ae){console.error("Erreur initialisation contexte AIDA:",ae)}})()},[r,e?.id]);const G=async(oe,ae)=>{try{if((oe.length>20||/\b(prix|marché|tendance|recommandation|suggestion|analyse|comparaison)\b/i.test(oe))&&z){O(!0);const ht=fb.getAdvancedThinkingSteps(z,oe);F(ht),U(0);for(let ye=0;ye<ht.length;ye++)U(ye),await new Promise(Pe=>setTimeout(Pe,ht[ye].duration));const Ft=await fb.generateRecommendations(z,oe);te(Ft)}const ve=/^(yo|salut|bonjour|hello|hi|hey|ciao|hola|bonsoir|bonne\s+nuit)$/i.test(oe.trim()),Ae=/\b(appartement|maison|voiture|service|immobilier|auto|plombier|electricien|terrain|studio|villa|moto|scooter|camion|menage|jardinage|coiffure|reparation|demenagement|cours|prof|informatique|evenementiel)\b/i.test(oe.toLowerCase()),Q=/\d+\s*(k|m|xof|frs?)|(dakar|abidjan|lome|cotonou|thiès|saint-louis|kaolack|ziguinchor|touba|mbour|rufisque|pikine|guediawaye)/i.test(oe.toLowerCase());let Y=null,Ee="",Ce=[];if(j(!1),!ve&&(Ae||Q)&&(Y=aT(oe)),Y){u("searching");const{section:ht,params:Ft}=Y,Pe={...Ft,category:{immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[ht]||void 0,limit:3,page:0,status:"approved"};try{const Fe=await rn.getAllListings(Pe);Fe?.data?.length&&(Ce=Fe.data.slice(0,3).map(et=>({id:et.id,title:et.title,price:et.price})),Ee+=`J'ai trouvé ${Fe.data.length} résultats. Voici quelques suggestions:
`+Ce.map(et=>`• ${et.title} — ${et.price??""} XOF (ouvrir: /annonce/${et.id})`).join(`
`)+`

`,j(!0))}catch{}}P&&(O(!1),F([]),U(0)),u("processing"),f(ht=>[...ht,{role:"assistant",content:Ee}]);const Qe=ae.length;let Ze="";W.current?.abort();const Oe=new AbortController;W.current=Oe,await mme(ae,{...re,intent:Y},void 0,ht=>{Ze=ht;const Ft=Ee+Ze;f(ye=>ye.map((Pe,Fe)=>Fe===Qe?{...Pe,content:Ft}:Pe))},Oe.signal),setTimeout(()=>le.current?.scrollTo({top:le.current.scrollHeight,behavior:"smooth"}),50)}catch(ge){if(ge?.name!=="AbortError"){console.error("Chat error:",ge);let ve="Une erreur serveur est survenue côté assistant.";ge.message?.includes("API configuration error")?ve="Erreur de configuration API. Veuillez contacter l'administrateur.":ge.message?.includes("401")||ge.message?.includes("Unauthorized")?ve="Erreur d'authentification API. Veuillez réessayer plus tard.":ge.message?.includes("429")||ge.message?.includes("Too Many Requests")?ve="Limite de requêtes atteinte. Veuillez réessayer dans quelques minutes.":(ge.message?.includes("500")||ge.message?.includes("Internal Server Error"))&&(ve="Erreur serveur temporaire. Veuillez réessayer dans un instant.");const Ae="Bonjour. Je reste à votre disposition pour la recherche et vos questions.",Q=_?`${ve} Vous pouvez cliquer sur « Voir plus » pour ouvrir tous les résultats, ou réessayer dans un instant.`:`${ve} Veuillez réessayer dans un instant ou lancer la recherche complète depuis le marketplace.`;f(Y=>[...Y,{role:"assistant",content:Ae},{role:"assistant",content:Q}])}}finally{l(!1),u("")}},ie=async()=>{const oe=i.trim();if(!oe||o)return;if(d.length===0){const ge=Date.now().toString();b(ge),v(ve=>[...ve,{id:ge,title:oe.length>30?oe.substring(0,30)+"...":oe,date:new Date().toLocaleDateString(),messages:[]}])}const ae=[...d,{role:"user",content:oe}];f(ae),a(""),l(!0),u("thinking"),await G(oe,ae)},Z=()=>{try{W.current?.abort()}catch{}if(d.length>0&&y){const ae=d.find(Ae=>Ae.role==="user")?.content||"Nouvelle conversation",ge=ae.length>30?ae.substring(0,30)+"...":ae,ve=g.map(Ae=>Ae.id===y?{...Ae,messages:d,title:ge}:Ae);v(ve)}const oe=Date.now().toString();b(oe),f([]),a(""),l(!1),setTimeout(()=>le.current?.scrollTo({top:0,behavior:"smooth"}),50)},de=()=>{const oe=[],ae=d.filter(Q=>Q.role==="user").map(Q=>Q.content.toLowerCase()),ge=ae.some(Q=>Q.includes("immobilier")||Q.includes("appartement")||Q.includes("maison")||Q.includes("terrain")),ve=ae.some(Q=>Q.includes("voiture")||Q.includes("auto")||Q.includes("véhicule")),Ae=ae.some(Q=>Q.includes("service")||Q.includes("plomberie")||Q.includes("électricité"));return ge&&oe.push({text:"Appartements 2 chambres à Dakar",icon:"🏠"},{text:"Terrains constructibles",icon:"🏗️"}),ve&&oe.push({text:"Voitures d'occasion récentes",icon:"🚗"},{text:"Motos économiques",icon:"🏍️"}),Ae&&oe.push({text:"Services de nettoyage",icon:"🧹"},{text:"Réparation électroménager",icon:"🔧"}),oe.length===0&&oe.push({text:"Immobilier à Dakar",icon:"🏠"},{text:"Voitures < 3 000 000 XOF",icon:"🚗"}),oe.slice(0,3)},Se=()=>g.map(oe=>({id:oe.id,title:oe.title||"Conversation sans titre",date:oe.date||new Date(oe.id).toLocaleDateString(),messageCount:oe.messages?.length||0})).slice(-10).reverse(),Me=()=>{const oe=d.filter(ve=>ve.role==="user").length,ae=d.filter(ve=>ve.role==="assistant").length,ge=d.length;return{userMessages:oe,assistantMessages:ae,totalMessages:ge,sessionDuration:d.length>0?Math.floor((Date.now()-new Date().getTime())/6e4):0}},qe=(oe,ae={})=>{switch(oe){case"publish_listing":window.location.href="/creer-annonce";break;case"my_listings":e?window.location.href="/mes-annonces":f(ge=>[...ge,{role:"assistant",content:"Vous devez être connecté pour voir vos annonces. Connectez-vous d'abord."}]);break;case"contact_seller":re.listing?.sellerId?window.location.href=`/annonce/${re.listing.id}#contact`:f(ge=>[...ge,{role:"assistant",content:"Informations de contact non disponibles pour cette annonce."}]);break;case"share_listing":if(re.listing?.id){const ge=`${window.location.origin}/annonce/${re.listing.id}`;navigator.share?navigator.share({title:re.listing.title||"Annonce MaxiMarket",url:ge}):(navigator.clipboard.writeText(ge),f(ve=>[...ve,{role:"assistant",content:"Lien copié dans le presse-papiers !"}]))}break}};return s.jsxs("div",{children:[!r&&s.jsxs("button",{onClick:()=>n(!0),"aria-label":"Ouvrir le chat",style:{position:"fixed",bottom:"calc(16px + env(safe-area-inset-bottom, 0px))",right:"calc(16px + env(safe-area-inset-right, 0px))",zIndex:9999,width:"auto",height:48,padding:"0 14px",borderRadius:28,background:"linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",color:"white",border:"none",boxShadow:"0 10px 30px rgba(59, 130, 246, 0.3)",display:"flex",alignItems:"center",gap:8,fontSize:"13px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:oe=>{oe.target.style.background="linear-gradient(135deg, #2563eb 0%, #1e40af 100%)",oe.target.style.boxShadow="0 12px 35px rgba(59, 130, 246, 0.4)"},onMouseLeave:oe=>{oe.target.style.background="linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%)",oe.target.style.boxShadow="0 10px 30px rgba(59, 130, 246, 0.3)"},children:[s.jsx("span",{style:{fontSize:"18px",lineHeight:1},children:"⚡"}),"Demander à AIDA"]}),r&&s.jsxs(s.Fragment,{children:[s.jsx("div",{onClick:()=>{n(!1),E(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,background:"rgba(0,0,0,0.3)"}}),A&&s.jsx("div",{onClick:()=>E(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9997,background:"transparent"}}),s.jsxs("div",{style:{position:"fixed",bottom:N?"calc(16px + env(safe-area-inset-bottom, 0px))":20,right:N?"calc(16px + env(safe-area-inset-right, 0px))":20,left:"auto",top:"auto",zIndex:9999,width:N?"80vw":420,maxWidth:"95vw",height:N?"90vw":560,maxHeight:"78vh",background:"#0b0f14",border:"1px solid #111827",borderRadius:16,display:"flex",flexDirection:"column",boxShadow:"0 18px 38px rgba(0,0,0,0.6)"},children:[s.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #1f2937",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#0e141b",position:N?"sticky":"static",top:0},children:[s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[s.jsxs("div",{style:{position:"relative"},children:[s.jsx("button",{onClick:()=>E(!A),style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"#fff",display:"grid",placeItems:"center",border:"1px solid #1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:oe=>oe.target.style.background="linear-gradient(135deg,#1f2937,#111827)",onMouseLeave:oe=>oe.target.style.background="linear-gradient(135deg,#111827,#0b0f14)",children:A?s.jsxs("div",{style:{position:"relative",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:[s.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(45deg)",transition:"all 0.2s"}}),s.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(-45deg)",transition:"all 0.2s"}})]}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[s.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),s.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),s.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}})]})}),A&&s.jsxs("div",{onClick:oe=>oe.stopPropagation(),style:{position:"absolute",top:"100%",left:0,width:280,background:"#0b0f14",border:"1px solid #1f2937",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",zIndex:1e4,marginTop:8,padding:16},children:[s.jsxs("div",{style:{borderBottom:"1px solid #1f2937",paddingBottom:12,marginBottom:12},children:[s.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:14,marginBottom:4},children:"AIDA"}),s.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:[Me().totalMessages," messages • ",Me().userMessages," recherches"]})]}),s.jsxs("div",{style:{marginBottom:16},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"CONVERSATIONS RÉCENTES"}),s.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:Se().length>0?Se().map((oe,ae)=>s.jsx("button",{onClick:()=>{const ge=g.find(ve=>ve.id===oe.id);ge&&(f(ge.messages||[]),b(oe.id),E(!1))},style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",color:"#e5e7eb",fontSize:12,textAlign:"left",borderRadius:6,cursor:"pointer",marginBottom:2,transition:"all 0.2s"},onMouseEnter:ge=>ge.target.style.background="#1f2937",onMouseLeave:ge=>ge.target.style.background="transparent",children:s.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[s.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:"#6b7280"}}),s.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[s.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:oe.title}),s.jsxs("div",{style:{fontSize:10,color:"#9ca3af"},children:[oe.date," • ",oe.messageCount," messages"]})]})]})},oe.id)):s.jsx("div",{style:{fontSize:12,color:"#6b7280",fontStyle:"italic"},children:"Aucune conversation récente"})})]}),s.jsxs("div",{style:{borderTop:"1px solid #1f2937",paddingTop:12},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"ACTIONS RAPIDES"}),s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[s.jsx("button",{onClick:()=>{qe("publish_listing"),E(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:oe=>oe.target.style.background="#1f2937",onMouseLeave:oe=>oe.target.style.background="transparent",children:"📝 Publier une annonce"}),e&&s.jsx("button",{onClick:()=>{qe("my_listings"),E(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:oe=>oe.target.style.background="#1f2937",onMouseLeave:oe=>oe.target.style.background="transparent",children:"📋 Mes annonces"}),s.jsx("button",{onClick:()=>{Z(),E(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:oe=>oe.target.style.background="#1f2937",onMouseLeave:oe=>oe.target.style.background="transparent",children:"🆕 Nouveau chat"})]})]})]})]}),s.jsx("div",{children:s.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:15},children:"AIDA"})})]}),s.jsxs("div",{style:{display:"flex",gap:6},children:[s.jsx("button",{onClick:Z,title:"Nouveau chat","aria-label":"Nouveau chat",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontWeight:600,fontSize:16},children:"+"}),o&&s.jsx("button",{onClick:()=>W.current?.abort(),title:"Arrêter",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:12,fontWeight:600},children:"⏹"}),s.jsx("button",{onClick:()=>{n(!1),E(!1)},"aria-label":"Fermer",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:16,fontWeight:600},children:"×"})]})]}),s.jsxs("div",{ref:le,style:{flex:1,overflowY:"auto",padding:14,paddingBottom:"calc(14px + env(safe-area-inset-bottom, 0px))"},children:[d.length===0&&!A&&s.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:[s.jsx(Jve,{suggestions:[...de(),{text:"Publier une annonce",icon:"📝"},{text:"Services plomberie",icon:"🔧"},{text:e?"Voir mes annonces":"Se connecter",icon:e?"📋":"🔐"}],onSuggestionClick:oe=>{const ae=oe.text||oe;ae==="Publier une annonce"?qe("publish_listing"):ae==="Voir mes annonces"?qe("my_listings"):ae==="Se connecter"?window.location.href="/connexion":(a(ae),setTimeout(()=>{const ge=ae.trim();if(ge&&!o){if(d.length===0){const Ae=Date.now().toString();b(Ae),v(Q=>[...Q,{id:Ae,title:ge.length>30?ge.substring(0,30)+"...":ge,date:new Date().toLocaleDateString(),messages:[]}])}const ve=[...d,{role:"user",content:ge}];f(ve),a(""),l(!0),u("thinking"),G(ge,ve)}},100))}}),re.listing&&!A&&s.jsxs("div",{style:{marginTop:15,paddingTop:15,borderTop:"1px solid #1f2937"},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:"Actions rapides :"}),s.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[s.jsx("button",{onClick:()=>qe("contact_seller"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Contacter le vendeur"}),s.jsx("button",{onClick:()=>qe("share_listing"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Partager"})]})]})]}),d.map((oe,ae)=>s.jsx(Xve,{message:oe,isUser:oe.role==="user"},ae)),!o&&!A&&X&&Object.keys(X).length>0&&s.jsxs("div",{style:{marginTop:16},children:[s.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"💡 Suggestions intelligentes d'AIDA"}),Object.entries(X).map(([oe,ae])=>ae.length>0&&s.jsxs("div",{style:{marginBottom:12},children:[s.jsxs("div",{style:{fontSize:11,color:"#9ca3af",marginBottom:6,textTransform:"uppercase"},children:[oe==="immediate"&&"Recommandations immédiates",oe==="contextual"&&"Actions contextuelles",oe==="trending"&&"Tendances du marché",oe==="personalized"&&"Personnalisé pour vous"]}),s.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:ae.slice(0,3).map((ge,ve)=>s.jsxs("button",{onClick:()=>{const Ae=ge.value||ge.text||ge;a(Ae),setTimeout(()=>{const Q=Ae.trim();if(Q&&!o){const Y=[...d,{role:"user",content:Q}];f(Y),a(""),l(!0),u("thinking"),G(Q,Y)}},100)},style:{padding:"6px 12px",border:"1px solid #374151",borderRadius:8,background:"linear-gradient(135deg, #1f2937, #111827)",color:"#e5e7eb",fontSize:12,cursor:"pointer",transition:"all 0.2s",display:"flex",alignItems:"center",gap:4},onMouseEnter:Ae=>Ae.target.style.background="linear-gradient(135deg, #374151, #1f2937)",onMouseLeave:Ae=>Ae.target.style.background="linear-gradient(135deg, #1f2937, #111827)",children:[s.jsx("span",{children:ge.icon||"💬"}),s.jsx("span",{children:ge.value||ge.text||ge})]},ve))})]},oe))]}),o&&s.jsxs("div",{style:{margin:"10px 0"},children:[P&&I.length>0?s.jsx(Yve,{steps:I,currentStep:H,onStepComplete:oe=>{console.log(`Étape ${oe+1} terminée`)}}):c==="thinking"?s.jsx(KF,{message:"AIDA réfléchit à votre demande..."}):c==="searching"?s.jsx(Zve,{duration:2e3,message:"AIDA recherche des annonces..."}):null,c==="processing"&&s.jsx(KF,{message:"AIDA rédige sa réponse..."})]})]}),s.jsxs("div",{style:{display:"flex",gap:8,padding:12,paddingBottom:"calc(12px + env(safe-area-inset-bottom, 0px))",borderTop:"1px solid #1f2937",background:"#0e141b",borderBottomLeftRadius:16,borderBottomRightRadius:16},children:[s.jsx(it,{value:i,onChange:oe=>a(oe.target.value),onKeyDown:oe=>{oe.key==="Enter"&&ie()},placeholder:"Votre message...",style:{background:"#0b0f14",color:"#e5e7eb",borderColor:"#1f2937"}}),s.jsx(fe,{onClick:ie,disabled:o||!i.trim(),style:{background:"#111827",border:"1px solid #1f2937"},children:"Envoyer"}),_&&s.jsx(fe,{variant:"outline",onClick:()=>{const oe=d.filter(ve=>ve.role==="user").slice(-1)[0]?.content||"",ae=aT(oe),ge=new URLSearchParams;ae?.params?.search&&ge.set("search",ae.params.search),ae?.params?.minPrice&&ge.set("minPrice",ae.params.minPrice),ae?.params?.maxPrice&&ge.set("maxPrice",ae.params.maxPrice),ae?.params?.location&&ge.set("location",ae.params.location),window.location.href=`/marketplace?${ge.toString()}`},style:{border:"1px solid #374151",color:"#e5e7eb"},children:"Voir plus"})]})]})]})]})},kr={siteName:"MaxiMarket",tagline:"Votre Hub Innovant pour l'Afrique de l'Ouest",socials:{github:"https://github.com/maximarket",linkedin:"https://linkedin.com/company/maximarket",twitter:"https://twitter.com/maximarket",instagram:"https://instagram.com/maximarket",facebook:"https://facebook.com/maximarket",youtube:"https://youtube.com/@maximarket"}},tye=(t,e,r,n)=>{const i=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Wf(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},GF={},uT=(t,e,r,n)=>{Wf(r)&&GF[r]||(Wf(r)&&(GF[r]=new Date),tye(t,e,r,n))},AK=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},dT=(t,e,r)=>{t.loadNamespaces(e,AK(t,r))},ZF=(t,e,r,n)=>{if(Wf(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return dT(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,AK(t,n))},rye=(t,e,r={})=>!e.languages||!e.languages.length?(uT(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Wf=t=>typeof t=="string",nye=t=>typeof t=="object"&&t!==null,iye=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,sye={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},aye=t=>sye[t],oye=t=>t.replace(iye,aye);let fT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:oye};const lye=(t={})=>{fT={...fT,...t}},cye=()=>fT;let TK;const uye=t=>{TK=t},dye=()=>TK,fye={type:"3rdParty",init(t){lye(t.options.react),uye(t)}},OK=x.createContext();class hye{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const pye=(t,e)=>{const r=x.useRef();return x.useEffect(()=>{r.current=t},[t,e]),r.current},RK=(t,e,r,n)=>t.getFixedT(e,r,n),mye=(t,e,r,n)=>x.useCallback(RK(t,e,r,n),[t,e,r,n]),gye=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:i}=x.useContext(OK)||{},a=r||n||dye();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new hye),!a){uT(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(P,O)=>Wf(O)?O:nye(O)&&Wf(O.defaultValue)?O.defaultValue:Array.isArray(P)?P[P.length-1]:P,E=[A,{},!1];return E.t=A,E.i18n={},E.ready=!1,E}a.options.react?.wait&&uT(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...cye(),...a.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=t||i||a.options?.defaultNS;u=Wf(u)?[u]:u||["translation"],a.reportNamespaces.addUsedNamespaces?.(u);const d=(a.isInitialized||a.initializedStoreOnce)&&u.every(A=>rye(A,a,o)),f=mye(a,e.lng||null,o.nsMode==="fallback"?u:u[0],c),g=()=>f,v=()=>RK(a,e.lng||null,o.nsMode==="fallback"?u:u[0],c),[y,b]=x.useState(g);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const j=pye(_),N=x.useRef(!0);x.useEffect(()=>{const{bindI18n:A,bindI18nStore:E}=o;N.current=!0,!d&&!l&&(e.lng?ZF(a,e.lng,u,()=>{N.current&&b(v)}):dT(a,u,()=>{N.current&&b(v)})),d&&j&&j!==_&&N.current&&b(v);const P=()=>{N.current&&b(v)};return A&&a?.on(A,P),E&&a?.store.on(E,P),()=>{N.current=!1,a&&A&&A?.split(" ").forEach(O=>a.off(O,P)),E&&a&&E.split(" ").forEach(O=>a.store.off(O,P))}},[a,_]),x.useEffect(()=>{N.current&&d&&b(g)},[a,c,d]);const C=[y,a,d];if(C.t=y,C.i18n=a,C.ready=d,d||!d&&!l)return C;throw new Promise(A=>{e.lng?ZF(a,e.lng,u,()=>A()):dT(a,u,()=>A())})};function vye({i18n:t,defaultNS:e,children:r}){const n=x.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return x.createElement(OK.Provider,{value:n},r)}const gh=(t="common")=>{const{t:e,i18n:r}=gye(t),n=x.useCallback(f=>{r.changeLanguage(f),localStorage.setItem("i18nextLng",f),f==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=f)},[r]),i=r.language,a=["fr","en"],o=x.useMemo(()=>({fr:"Français",en:"English"}),[]),l=!1,c=x.useCallback((f,g="XOF")=>{const y={fr:{XOF:"XOF",EUR:"EUR"},en:{XOF:"XOF",EUR:"EUR",USD:"USD"}}[i]?.[g]||g;return new Intl.NumberFormat(i,{style:"currency",currency:y,minimumFractionDigits:0,maximumFractionDigits:0}).format(f)},[i]),u=x.useCallback((f,g="PP")=>{const y={fr:"fr-FR",en:"en-US"}[i]||"fr-FR";return g==="PP"?new Intl.DateTimeFormat(y,{year:"numeric",month:"long",day:"numeric"}).format(new Date(f)):g==="P"?new Intl.DateTimeFormat(y,{year:"numeric",month:"short",day:"numeric"}).format(new Date(f)):new Intl.DateTimeFormat(y).format(new Date(f))},[i]),d=x.useCallback(f=>{const g=new Date,v=new Date(f),y=Math.floor((g-v)/1e3),b={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[_,j]of Object.entries(b)){const N=Math.floor(y/j);if(N>=1){const A={fr:{year:N===1?"an":"ans",month:"mois",week:N===1?"semaine":"semaines",day:N===1?"jour":"jours",hour:N===1?"heure":"heures",minute:N===1?"minute":"minutes"},en:{year:N===1?"year":"years",month:N===1?"month":"months",week:N===1?"week":"weeks",day:N===1?"day":"days",hour:N===1?"hour":"hours",minute:N===1?"minute":"minutes"}}[i]?.[_]||_,E={fr:"il y a",en:"ago"}[i]||"";return`${N} ${A} ${E}`}}return{fr:"À l'instant",en:"Just now"}[i]||"Just now"},[i]);return{t:e,changeLanguage:n,currentLanguage:i,availableLanguages:a,languageNames:o,isRTL:l,formatCurrency:c,formatDate:u,formatDistanceToNow:d}};function tt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function yye(t,e){const r=x.createContext(e),n=a=>{const{children:o,...l}=a,c=x.useMemo(()=>l,Object.values(l));return s.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(a){const o=x.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${t}\``)}return[n,i]}function an(t,e=[]){let r=[];function n(a,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:g,children:v,...y}=f,b=g?.[t]?.[c]||l,_=x.useMemo(()=>y,Object.values(y));return s.jsx(b.Provider,{value:_,children:v})};u.displayName=a+"Provider";function d(f,g){const v=g?.[t]?.[c]||l,y=x.useContext(v);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${a}\``)}return[u,d]}const i=()=>{const a=r.map(o=>x.createContext(o));return function(l){const c=l?.[t]||a;return x.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,xye(i,...e)]}function xye(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(a)[`__scope${u}`];return{...l,...f}},{});return x.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var Cr=globalThis?.document?x.useLayoutEffect:()=>{},bye=Cd[" useInsertionEffect ".trim().toString()]||Cr;function Ks({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,a,o]=wye({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const d=x.useRef(t!==void 0);x.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=x.useCallback(d=>{if(l){const f=_ye(d)?d(t):d;f!==t&&o.current?.(f)}else a(d)},[l,t,a,o]);return[c,u]}function wye({defaultProp:t,onChange:e}){const[r,n]=x.useState(t),i=x.useRef(r),a=x.useRef(e);return bye(()=>{a.current=e},[e]),x.useEffect(()=>{i.current!==r&&(a.current?.(r),i.current=r)},[r,i]),[r,n,a]}function _ye(t){return typeof t=="function"}var jye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],_r=jye.reduce((t,e)=>{const r=tm(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function kM(t,e){t&&Wo.flushSync(()=>t.dispatchEvent(e))}function AM(t){const e=t+"CollectionProvider",[r,n]=an(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:_,children:j}=b,N=ne.useRef(null),C=ne.useRef(new Map).current;return s.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:j})};o.displayName=e;const l=t+"CollectionSlot",c=tm(l),u=ne.forwardRef((b,_)=>{const{scope:j,children:N}=b,C=a(l,j),A=yt(_,C.collectionRef);return s.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=tm(d),v=ne.forwardRef((b,_)=>{const{scope:j,children:N,...C}=b,A=ne.useRef(null),E=yt(_,A),P=a(d,j);return ne.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),s.jsx(g,{[f]:"",ref:E,children:N})});v.displayName=d;function y(b){const _=a(t+"CollectionConsumer",b);return ne.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var Sye=x.createContext(void 0);function Vm(t){const e=x.useContext(Sye);return t||e||"ltr"}function Or(t){const e=x.useRef(t);return x.useEffect(()=>{e.current=t}),x.useMemo(()=>(...r)=>e.current?.(...r),[])}function mx(t,e=globalThis?.document){const r=Or(t);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Nye="DismissableLayer",hT="dismissableLayer.update",Cye="dismissableLayer.pointerDownOutside",Eye="dismissableLayer.focusOutside",YF,MK=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),k1=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=x.useContext(MK),[d,f]=x.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=x.useState({}),y=yt(e,O=>f(O)),b=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(_),N=d?b.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=j,E=kye(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=Aye(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(a?.(O),o?.(O),O.defaultPrevented||l?.())},g);return mx(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(YF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),XF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=YF)}},[d,g,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),XF())},[d,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(hT,O),()=>document.removeEventListener(hT,O)},[]),s.jsx(_r.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,E.onPointerDownCapture)})});k1.displayName=Nye;var Pye="DismissableLayerBranch",IK=x.forwardRef((t,e)=>{const r=x.useContext(MK),n=x.useRef(null),i=yt(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(_r.div,{...t,ref:i})});IK.displayName=Pye;function kye(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){DK(Cye,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Aye(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&DK(Eye,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function XF(){const t=new CustomEvent(hT);document.dispatchEvent(t)}function DK(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?kM(i,a):i.dispatchEvent(a)}var Tye=k1,Oye=IK,dC=0;function TM(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??JF()),document.body.insertAdjacentElement("beforeend",t[1]??JF()),dC++,()=>{dC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),dC--}},[])}function JF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var fC="focusScope.autoFocusOnMount",hC="focusScope.autoFocusOnUnmount",QF={bubbles:!1,cancelable:!0},Rye="FocusScope",OM=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=x.useState(null),u=Or(i),d=Or(a),f=x.useRef(null),g=yt(e,b=>c(b)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let b=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?f.current=A:rd(f.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||rd(f.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&rd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",_);const N=new MutationObserver(j);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){t5.add(v);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(fC,QF);l.addEventListener(fC,u),l.dispatchEvent(j),j.defaultPrevented||(Mye(Fye(LK(l)),{select:!0}),document.activeElement===b&&rd(l))}return()=>{l.removeEventListener(fC,u),setTimeout(()=>{const j=new CustomEvent(hC,QF);l.addEventListener(hC,d),l.dispatchEvent(j),j.defaultPrevented||rd(b??document.body,{select:!0}),l.removeEventListener(hC,d),t5.remove(v)},0)}}},[l,u,d,v]);const y=x.useCallback(b=>{if(!r&&!n||v.paused)return;const _=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(_&&j){const N=b.currentTarget,[C,A]=Iye(N);C&&A?!b.shiftKey&&j===A?(b.preventDefault(),r&&rd(C,{select:!0})):b.shiftKey&&j===C&&(b.preventDefault(),r&&rd(A,{select:!0})):j===N&&b.preventDefault()}},[r,n,v.paused]);return s.jsx(_r.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});OM.displayName=Rye;function Mye(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(rd(n,{select:e}),document.activeElement!==r)return}function Iye(t){const e=LK(t),r=e5(e,t),n=e5(e.reverse(),t);return[r,n]}function LK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function e5(t,e){for(const r of t)if(!Dye(r,{upTo:e}))return r}function Dye(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Lye(t){return t instanceof HTMLInputElement&&"select"in t}function rd(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Lye(t)&&e&&t.select()}}var t5=$ye();function $ye(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=r5(t,e),t.unshift(e)},remove(e){t=r5(t,e),t[0]?.resume()}}}function r5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Fye(t){return t.filter(e=>e.tagName!=="A")}var Bye=Cd[" useId ".trim().toString()]||(()=>{}),zye=0;function Ws(t){const[e,r]=x.useState(Bye());return Cr(()=>{r(n=>n??String(zye++))},[t]),e?`radix-${e}`:""}const qye=["top","right","bottom","left"],Td=Math.min,fa=Math.max,Ow=Math.round,hb=Math.floor,Cl=t=>({x:t,y:t}),Uye={left:"right",right:"left",bottom:"top",top:"bottom"},Vye={start:"end",end:"start"};function pT(t,e,r){return fa(t,Td(e,r))}function Jc(t,e){return typeof t=="function"?t(e):t}function Qc(t){return t.split("-")[0]}function Wm(t){return t.split("-")[1]}function RM(t){return t==="x"?"y":"x"}function MM(t){return t==="y"?"height":"width"}function Uc(t){return["top","bottom"].includes(Qc(t))?"y":"x"}function IM(t){return RM(Uc(t))}function Wye(t,e,r){r===void 0&&(r=!1);const n=Wm(t),i=IM(t),a=MM(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(o=Rw(o)),[o,Rw(o)]}function Hye(t){const e=Rw(t);return[mT(t),e,mT(e)]}function mT(t){return t.replace(/start|end/g,e=>Vye[e])}function Kye(t,e,r){const n=["left","right"],i=["right","left"],a=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?a:o;default:return[]}}function Gye(t,e,r,n){const i=Wm(t);let a=Kye(Qc(t),r==="start",n);return i&&(a=a.map(o=>o+"-"+i),e&&(a=a.concat(a.map(mT)))),a}function Rw(t){return t.replace(/left|right|bottom|top/g,e=>Uye[e])}function Zye(t){return{top:0,right:0,bottom:0,left:0,...t}}function $K(t){return typeof t!="number"?Zye(t):{top:t,right:t,bottom:t,left:t}}function Mw(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function n5(t,e,r){let{reference:n,floating:i}=t;const a=Uc(e),o=IM(e),l=MM(o),c=Qc(e),u=a==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:d,y:n.y-i.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-i.width,y:f};break;default:v={x:n.x,y:n.y}}switch(Wm(e)){case"start":v[o]-=g*(r&&u?-1:1);break;case"end":v[o]+=g*(r&&u?-1:1);break}return v}const Yye=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:a=[],platform:o}=r,l=a.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=n5(u,n,c),g=n,v={},y=0;for(let b=0;b<l.length;b++){const{name:_,fn:j}=l[b],{x:N,y:C,data:A,reset:E}=await j({x:d,y:f,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=N??d,f=C??f,v={...v,[_]:{...v[_],...A}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=n5(u,g,c)),b=-1)}return{x:d,y:f,placement:g,strategy:i,middlewareData:v}};async function sy(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:a,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:v=0}=Jc(e,t),y=$K(v),_=l[g?f==="floating"?"reference":"floating":f],j=Mw(await a.getClippingRect({element:(r=await(a.isElement==null?void 0:a.isElement(_)))==null||r?_:_.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),N=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(a.getOffsetParent==null?void 0:a.getOffsetParent(l.floating)),A=await(a.isElement==null?void 0:a.isElement(C))?await(a.getScale==null?void 0:a.getScale(C))||{x:1,y:1}:{x:1,y:1},E=Mw(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:C,strategy:c}):N);return{top:(j.top-E.top+y.top)/A.y,bottom:(E.bottom-j.bottom+y.bottom)/A.y,left:(j.left-E.left+y.left)/A.x,right:(E.right-j.right+y.right)/A.x}}const Xye=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:a,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Jc(t,e)||{};if(u==null)return{};const f=$K(d),g={x:r,y:n},v=IM(i),y=MM(v),b=await o.getDimensions(u),_=v==="y",j=_?"top":"left",N=_?"bottom":"right",C=_?"clientHeight":"clientWidth",A=a.reference[y]+a.reference[v]-g[v]-a.floating[y],E=g[v]-a.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=P?P[C]:0;(!O||!await(o.isElement==null?void 0:o.isElement(P)))&&(O=l.floating[C]||a.floating[y]);const I=A/2-E/2,F=O/2-b[y]/2-1,H=Td(f[j],F),U=Td(f[N],F),z=H,V=O-b[y]-U,X=O/2-b[y]/2+I,te=pT(z,X,V),le=!c.arrow&&Wm(i)!=null&&X!==te&&a.reference[y]/2-(X<z?H:U)-b[y]/2<0,W=le?X<z?X-z:X-V:0;return{[v]:g[v]+W,data:{[v]:te,centerOffset:X-te-W,...le&&{alignmentOffset:W}},reset:le}}}),Jye=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:a,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:b=!0,..._}=Jc(t,e);if((r=a.arrow)!=null&&r.alignmentOffset)return{};const j=Qc(i),N=Uc(l),C=Qc(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=g||(C||!b?[Rw(l)]:Hye(l)),P=y!=="none";!g&&P&&E.push(...Gye(l,b,y,A));const O=[l,...E],I=await sy(e,_),F=[];let H=((n=a.flip)==null?void 0:n.overflows)||[];if(d&&F.push(I[j]),f){const te=Wye(i,o,A);F.push(I[te[0]],I[te[1]])}if(H=[...H,{placement:i,overflows:F}],!F.every(te=>te<=0)){var U,z;const te=(((U=a.flip)==null?void 0:U.index)||0)+1,le=O[te];if(le){var V;const re=f==="alignment"?N!==Uc(le):!1,G=((V=H[0])==null?void 0:V.overflows[0])>0;if(!re||G)return{data:{index:te,overflows:H},reset:{placement:le}}}let W=(z=H.filter(re=>re.overflows[0]<=0).sort((re,G)=>re.overflows[1]-G.overflows[1])[0])==null?void 0:z.placement;if(!W)switch(v){case"bestFit":{var X;const re=(X=H.filter(G=>{if(P){const ie=Uc(G.placement);return ie===N||ie==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ie=>ie>0).reduce((ie,Z)=>ie+Z,0)]).sort((G,ie)=>G[1]-ie[1])[0])==null?void 0:X[0];re&&(W=re);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function i5(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function s5(t){return qye.some(e=>t[e]>=0)}const Qye=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Jc(t,e);switch(n){case"referenceHidden":{const a=await sy(e,{...i,elementContext:"reference"}),o=i5(a,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:s5(o)}}}case"escaped":{const a=await sy(e,{...i,altBoundary:!0}),o=i5(a,r.floating);return{data:{escapedOffsets:o,escaped:s5(o)}}}default:return{}}}}};async function exe(t,e){const{placement:r,platform:n,elements:i}=t,a=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Qc(r),l=Wm(r),c=Uc(r)==="y",u=["left","top"].includes(o)?-1:1,d=a&&c?-1:1,f=Jc(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(v=l==="end"?y*-1:y),c?{x:v*d,y:g*u}:{x:g*u,y:v*d}}const txe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:a,placement:o,middlewareData:l}=e,c=await exe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:o}}}}},rxe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:a=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:j,y:N}=_;return{x:j,y:N}}},...c}=Jc(t,e),u={x:r,y:n},d=await sy(e,c),f=Uc(Qc(i)),g=RM(f);let v=u[g],y=u[f];if(a){const _=g==="y"?"top":"left",j=g==="y"?"bottom":"right",N=v+d[_],C=v-d[j];v=pT(N,v,C)}if(o){const _=f==="y"?"top":"left",j=f==="y"?"bottom":"right",N=y+d[_],C=y-d[j];y=pT(N,y,C)}const b=l.fn({...e,[g]:v,[f]:y});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[g]:a,[f]:o}}}}}},nxe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:a,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Jc(t,e),d={x:r,y:n},f=Uc(i),g=RM(f);let v=d[g],y=d[f];const b=Jc(l,e),_=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(c){const C=g==="y"?"height":"width",A=a.reference[g]-a.floating[C]+_.mainAxis,E=a.reference[g]+a.reference[C]-_.mainAxis;v<A?v=A:v>E&&(v=E)}if(u){var j,N;const C=g==="y"?"width":"height",A=["top","left"].includes(Qc(i)),E=a.reference[f]-a.floating[C]+(A&&((j=o.offset)==null?void 0:j[f])||0)+(A?0:_.crossAxis),P=a.reference[f]+a.reference[C]+(A?0:((N=o.offset)==null?void 0:N[f])||0)-(A?_.crossAxis:0);y<E?y=E:y>P&&(y=P)}return{[g]:v,[f]:y}}}},ixe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:a,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Jc(t,e),d=await sy(e,u),f=Qc(i),g=Wm(i),v=Uc(i)==="y",{width:y,height:b}=a.floating;let _,j;f==="top"||f==="bottom"?(_=f,j=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(j=f,_=g==="end"?"top":"bottom");const N=b-d.top-d.bottom,C=y-d.left-d.right,A=Td(b-d[_],N),E=Td(y-d[j],C),P=!e.middlewareData.shift;let O=A,I=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(I=C),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=N),P&&!g){const H=fa(d.left,0),U=fa(d.right,0),z=fa(d.top,0),V=fa(d.bottom,0);v?I=y-2*(H!==0||U!==0?H+U:fa(d.left,d.right)):O=b-2*(z!==0||V!==0?z+V:fa(d.top,d.bottom))}await c({...e,availableWidth:I,availableHeight:O});const F=await o.getDimensions(l.floating);return y!==F.width||b!==F.height?{reset:{rects:!0}}:{}}}};function A1(){return typeof window<"u"}function Hm(t){return FK(t)?(t.nodeName||"").toLowerCase():"#document"}function ya(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ql(t){var e;return(e=(FK(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function FK(t){return A1()?t instanceof Node||t instanceof ya(t).Node:!1}function Uo(t){return A1()?t instanceof Element||t instanceof ya(t).Element:!1}function Rl(t){return A1()?t instanceof HTMLElement||t instanceof ya(t).HTMLElement:!1}function a5(t){return!A1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ya(t).ShadowRoot}function gx(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Vo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function sxe(t){return["table","td","th"].includes(Hm(t))}function T1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function DM(t){const e=LM(),r=Uo(t)?Vo(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function axe(t){let e=Od(t);for(;Rl(e)&&!im(e);){if(DM(e))return e;if(T1(e))return null;e=Od(e)}return null}function LM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function im(t){return["html","body","#document"].includes(Hm(t))}function Vo(t){return ya(t).getComputedStyle(t)}function O1(t){return Uo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Od(t){if(Hm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||a5(t)&&t.host||ql(t);return a5(e)?e.host:e}function BK(t){const e=Od(t);return im(e)?t.ownerDocument?t.ownerDocument.body:t.body:Rl(e)&&gx(e)?e:BK(e)}function ay(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=BK(t),a=i===((n=t.ownerDocument)==null?void 0:n.body),o=ya(i);if(a){const l=gT(o);return e.concat(o,o.visualViewport||[],gx(i)?i:[],l&&r?ay(l):[])}return e.concat(i,ay(i,[],r))}function gT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function zK(t){const e=Vo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Rl(t),a=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=Ow(r)!==a||Ow(n)!==o;return l&&(r=a,n=o),{width:r,height:n,$:l}}function $M(t){return Uo(t)?t:t.contextElement}function qp(t){const e=$M(t);if(!Rl(e))return Cl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:a}=zK(e);let o=(a?Ow(r.width):r.width)/n,l=(a?Ow(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const oxe=Cl(0);function qK(t){const e=ya(t);return!LM()||!e.visualViewport?oxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function lxe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==ya(t)?!1:e}function Jf(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),a=$M(t);let o=Cl(1);e&&(n?Uo(n)&&(o=qp(n)):o=qp(t));const l=lxe(a,r,n)?qK(a):Cl(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(a){const g=ya(a),v=n&&Uo(n)?ya(n):n;let y=g,b=gT(y);for(;b&&n&&v!==y;){const _=qp(b),j=b.getBoundingClientRect(),N=Vo(b),C=j.left+(b.clientLeft+parseFloat(N.paddingLeft))*_.x,A=j.top+(b.clientTop+parseFloat(N.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=C,u+=A,y=ya(b),b=gT(y)}}return Mw({width:d,height:f,x:c,y:u})}function FM(t,e){const r=O1(t).scrollLeft;return e?e.left+r:Jf(ql(t)).left+r}function UK(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:FM(t,n)),a=n.top+e.scrollTop;return{x:i,y:a}}function cxe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const a=i==="fixed",o=ql(n),l=e?T1(e.floating):!1;if(n===o||l&&a)return r;let c={scrollLeft:0,scrollTop:0},u=Cl(1);const d=Cl(0),f=Rl(n);if((f||!f&&!a)&&((Hm(n)!=="body"||gx(o))&&(c=O1(n)),Rl(n))){const v=Jf(n);u=qp(n),d.x=v.x+n.clientLeft,d.y=v.y+n.clientTop}const g=o&&!f&&!a?UK(o,c,!0):Cl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-c.scrollTop*u.y+d.y+g.y}}function uxe(t){return Array.from(t.getClientRects())}function dxe(t){const e=ql(t),r=O1(t),n=t.ownerDocument.body,i=fa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),a=fa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+FM(t);const l=-r.scrollTop;return Vo(n).direction==="rtl"&&(o+=fa(e.clientWidth,n.clientWidth)-i),{width:i,height:a,x:o,y:l}}function fxe(t,e){const r=ya(t),n=ql(t),i=r.visualViewport;let a=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){a=i.width,o=i.height;const u=LM();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:a,height:o,x:l,y:c}}function hxe(t,e){const r=Jf(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,a=Rl(t)?qp(t):Cl(1),o=t.clientWidth*a.x,l=t.clientHeight*a.y,c=i*a.x,u=n*a.y;return{width:o,height:l,x:c,y:u}}function o5(t,e,r){let n;if(e==="viewport")n=fxe(t,r);else if(e==="document")n=dxe(ql(t));else if(Uo(e))n=hxe(e,r);else{const i=qK(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Mw(n)}function VK(t,e){const r=Od(t);return r===e||!Uo(r)||im(r)?!1:Vo(r).position==="fixed"||VK(r,e)}function pxe(t,e){const r=e.get(t);if(r)return r;let n=ay(t,[],!1).filter(l=>Uo(l)&&Hm(l)!=="body"),i=null;const a=Vo(t).position==="fixed";let o=a?Od(t):t;for(;Uo(o)&&!im(o);){const l=Vo(o),c=DM(o);!c&&l.position==="fixed"&&(i=null),(a?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||gx(o)&&!c&&VK(t,o))?n=n.filter(d=>d!==o):i=l,o=Od(o)}return e.set(t,n),n}function mxe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?T1(e)?[]:pxe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=o5(e,d,i);return u.top=fa(f.top,u.top),u.right=Td(f.right,u.right),u.bottom=Td(f.bottom,u.bottom),u.left=fa(f.left,u.left),u},o5(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gxe(t){const{width:e,height:r}=zK(t);return{width:e,height:r}}function vxe(t,e,r){const n=Rl(e),i=ql(e),a=r==="fixed",o=Jf(t,!0,a,e);let l={scrollLeft:0,scrollTop:0};const c=Cl(0);function u(){c.x=FM(i)}if(n||!n&&!a)if((Hm(e)!=="body"||gx(i))&&(l=O1(e)),n){const v=Jf(e,!0,a,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&u();a&&!n&&i&&u();const d=i&&!n&&!a?UK(i,l):Cl(0),f=o.left+l.scrollLeft-c.x-d.x,g=o.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:o.width,height:o.height}}function pC(t){return Vo(t).position==="static"}function l5(t,e){if(!Rl(t)||Vo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ql(t)===r&&(r=r.ownerDocument.body),r}function WK(t,e){const r=ya(t);if(T1(t))return r;if(!Rl(t)){let i=Od(t);for(;i&&!im(i);){if(Uo(i)&&!pC(i))return i;i=Od(i)}return r}let n=l5(t,e);for(;n&&sxe(n)&&pC(n);)n=l5(n,e);return n&&im(n)&&pC(n)&&!DM(n)?r:n||axe(t)||r}const yxe=async function(t){const e=this.getOffsetParent||WK,r=this.getDimensions,n=await r(t.floating);return{reference:vxe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function xxe(t){return Vo(t).direction==="rtl"}const bxe={convertOffsetParentRelativeRectToViewportRelativeRect:cxe,getDocumentElement:ql,getClippingRect:mxe,getOffsetParent:WK,getElementRects:yxe,getClientRects:uxe,getDimensions:gxe,getScale:qp,isElement:Uo,isRTL:xxe};function HK(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function wxe(t,e){let r=null,n;const i=ql(t);function a(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:v}=u;if(l||e(),!g||!v)return;const y=hb(f),b=hb(i.clientWidth-(d+g)),_=hb(i.clientHeight-(f+v)),j=hb(d),C={rootMargin:-y+"px "+-b+"px "+-_+"px "+-j+"px",threshold:fa(0,Td(1,c))||1};let A=!0;function E(P){const O=P[0].intersectionRatio;if(O!==c){if(!A)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!HK(u,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(E,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,C)}r.observe(t)}return o(!0),a}function vx(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$M(t),d=i||a?[...u?ay(u):[],...ay(e)]:[];d.forEach(j=>{i&&j.addEventListener("scroll",r,{passive:!0}),a&&j.addEventListener("resize",r)});const f=u&&l?wxe(u,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(j=>{let[N]=j;N&&N.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),r()}),u&&!c&&v.observe(u),v.observe(e));let y,b=c?Jf(t):null;c&&_();function _(){const j=Jf(t);b&&!HK(b,j)&&r(),b=j,y=requestAnimationFrame(_)}return r(),()=>{var j;d.forEach(N=>{i&&N.removeEventListener("scroll",r),a&&N.removeEventListener("resize",r)}),f?.(),(j=v)==null||j.disconnect(),v=null,c&&cancelAnimationFrame(y)}}const _xe=txe,jxe=rxe,Sxe=Jye,Nxe=ixe,Cxe=Qye,c5=Xye,Exe=nxe,Pxe=(t,e,r)=>{const n=new Map,i={platform:bxe,...r},a={...i.platform,_c:n};return Yye(t,e,{...i,platform:a})};var tw=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Iw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Iw(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const a=i[n];if(!(a==="_owner"&&t.$$typeof)&&!Iw(t[a],e[a]))return!1}return!0}return t!==t&&e!==e}function KK(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function u5(t,e){const r=KK(t);return Math.round(e*r)/r}function mC(t){const e=x.useRef(t);return tw(()=>{e.current=t}),e}function yx(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:a,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=x.useState(n);Iw(g,n)||v(n);const[y,b]=x.useState(null),[_,j]=x.useState(null),N=x.useCallback(re=>{re!==P.current&&(P.current=re,b(re))},[]),C=x.useCallback(re=>{re!==O.current&&(O.current=re,j(re))},[]),A=a||y,E=o||_,P=x.useRef(null),O=x.useRef(null),I=x.useRef(d),F=c!=null,H=mC(c),U=mC(i),z=mC(u),V=x.useCallback(()=>{if(!P.current||!O.current)return;const re={placement:e,strategy:r,middleware:g};U.current&&(re.platform=U.current),Pxe(P.current,O.current,re).then(G=>{const ie={...G,isPositioned:z.current!==!1};X.current&&!Iw(I.current,ie)&&(I.current=ie,Wo.flushSync(()=>{f(ie)}))})},[g,e,r,U,z]);tw(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(re=>({...re,isPositioned:!1})))},[u]);const X=x.useRef(!1);tw(()=>(X.current=!0,()=>{X.current=!1}),[]),tw(()=>{if(A&&(P.current=A),E&&(O.current=E),A&&E){if(H.current)return H.current(A,E,V);V()}},[A,E,V,H,F]);const te=x.useMemo(()=>({reference:P,floating:O,setReference:N,setFloating:C}),[N,C]),le=x.useMemo(()=>({reference:A,floating:E}),[A,E]),W=x.useMemo(()=>{const re={position:r,left:0,top:0};if(!le.floating)return re;const G=u5(le.floating,d.x),ie=u5(le.floating,d.y);return l?{...re,transform:"translate("+G+"px, "+ie+"px)",...KK(le.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:ie}},[r,l,le.floating,d.x,d.y]);return x.useMemo(()=>({...d,update:V,refs:te,elements:le,floatingStyles:W}),[d,V,te,le,W])}const kxe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?c5({element:n.current,padding:i}).fn(r):{}:n?c5({element:n,padding:i}).fn(r):{}}}},xx=(t,e)=>({..._xe(t),options:[t,e]}),bx=(t,e)=>({...jxe(t),options:[t,e]}),wx=(t,e)=>({...Exe(t),options:[t,e]}),_x=(t,e)=>({...Sxe(t),options:[t,e]}),jx=(t,e)=>({...Nxe(t),options:[t,e]}),Sx=(t,e)=>({...Cxe(t),options:[t,e]}),Nx=(t,e)=>({...kxe(t),options:[t,e]});var Axe="Arrow",GK=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(_r.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});GK.displayName=Axe;var Txe=GK;function vh(t){const[e,r]=x.useState(void 0);return Cr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const c=a.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var BM="Popper",[ZK,YK]=an(BM),[Oxe,XK]=ZK(BM),JK=t=>{const{__scopePopper:e,children:r}=t,[n,i]=x.useState(null);return s.jsx(Oxe,{scope:e,anchor:n,onAnchorChange:i,children:r})};JK.displayName=BM;var QK="PopperAnchor",eG=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=XK(QK,r),o=x.useRef(null),l=yt(e,o);return x.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(_r.div,{...i,ref:l})});eG.displayName=QK;var zM="PopperContent",[Rxe,Mxe]=ZK(zM),tG=x.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...b}=t,_=XK(zM,r),[j,N]=x.useState(null),C=yt(e,ae=>N(ae)),[A,E]=x.useState(null),P=vh(A),O=P?.width??0,I=P?.height??0,F=n+(a!=="center"?"-"+a:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],z=U.length>0,V={padding:H,boundary:U.filter(Dxe),altBoundary:z},{refs:X,floatingStyles:te,placement:le,isPositioned:W,middlewareData:re}=yx({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>vx(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[xx({mainAxis:i+I,alignmentAxis:o}),c&&bx({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wx():void 0,...V}),c&&_x({...V}),jx({...V,apply:({elements:ae,rects:ge,availableWidth:ve,availableHeight:Ae})=>{const{width:Q,height:Y}=ge.reference,Ee=ae.floating.style;Ee.setProperty("--radix-popper-available-width",`${ve}px`),Ee.setProperty("--radix-popper-available-height",`${Ae}px`),Ee.setProperty("--radix-popper-anchor-width",`${Q}px`),Ee.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Nx({element:A,padding:l}),Lxe({arrowWidth:O,arrowHeight:I}),g&&Sx({strategy:"referenceHidden",...V})]}),[G,ie]=iG(le),Z=Or(y);Cr(()=>{W&&Z?.()},[W,Z]);const de=re.arrow?.x,Se=re.arrow?.y,Me=re.arrow?.centerOffset!==0,[qe,oe]=x.useState();return Cr(()=>{j&&oe(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:W?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Rxe,{scope:r,placedSide:G,onArrowChange:E,arrowX:de,arrowY:Se,shouldHideArrow:Me,children:s.jsx(_r.div,{"data-side":G,"data-align":ie,...b,ref:C,style:{...b.style,animation:W?void 0:"none"}})})})});tG.displayName=zM;var rG="PopperArrow",Ixe={top:"bottom",right:"left",bottom:"top",left:"right"},nG=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=Mxe(rG,n),o=Ixe[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(Txe,{...i,ref:r,style:{...i.style,display:"block"}})})});nG.displayName=rG;function Dxe(t){return t!==null}var Lxe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=iG(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",b="";return u==="bottom"?(y=o?f:`${g}px`,b=`${-c}px`):u==="top"?(y=o?f:`${g}px`,b=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,b=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,b=o?f:`${v}px`),{data:{x:y,y:b}}}});function iG(t){const[e,r="center"]=t.split("-");return[e,r]}var $xe=JK,Fxe=eG,Bxe=tG,zxe=nG,qxe="Portal",R1=x.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=x.useState(!1);Cr(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?a1.createPortal(s.jsx(_r.div,{...n,ref:e}),o):null});R1.displayName=qxe;function Uxe(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var Zs=t=>{const{present:e,children:r}=t,n=Vxe(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=yt(n.ref,Wxe(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};Zs.displayName="Presence";function Vxe(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Uxe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=pb(n.current);a.current=l==="mounted"?u:"none"},[l]),Cr(()=>{const u=n.current,d=i.current;if(d!==t){const g=a.current,v=pb(u);t?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Cr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=v=>{const b=pb(n.current).includes(v.animationName);if(v.target===e&&b&&(c("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=v=>{v.target===e&&(a.current=pb(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function pb(t){return t?.animationName||"none"}function Wxe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gC="rovingFocusGroup.onEntryFocus",Hxe={bubbles:!1,cancelable:!0},Cx="RovingFocusGroup",[vT,sG,Kxe]=AM(Cx),[Gxe,aG]=an(Cx,[Kxe]),[Zxe,Yxe]=Gxe(Cx),oG=x.forwardRef((t,e)=>s.jsx(vT.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(vT.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(Xxe,{...t,ref:e})})}));oG.displayName=Cx;var Xxe=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,g=x.useRef(null),v=yt(e,g),y=Vm(a),[b,_]=Ks({prop:o,defaultProp:l??null,onChange:c,caller:Cx}),[j,N]=x.useState(!1),C=Or(u),A=sG(r),E=x.useRef(!1),[P,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(gC,C),()=>I.removeEventListener(gC,C)},[C]),s.jsx(Zxe,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:b,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:s.jsx(_r.div,{tabIndex:j||P===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:tt(t.onMouseDown,()=>{E.current=!0}),onFocus:tt(t.onFocus,I=>{const F=!E.current;if(I.target===I.currentTarget&&F&&!j){const H=new CustomEvent(gC,Hxe);if(I.currentTarget.dispatchEvent(H),!H.defaultPrevented){const U=A().filter(le=>le.focusable),z=U.find(le=>le.active),V=U.find(le=>le.id===b),te=[z,V,...U].filter(Boolean).map(le=>le.ref.current);uG(te,d)}}E.current=!1}),onBlur:tt(t.onBlur,()=>N(!1))})})}),lG="RovingFocusGroupItem",cG=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=Ws(),u=a||c,d=Yxe(lG,r),f=d.currentTabStopId===u,g=sG(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:b}=d;return x.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),s.jsx(vT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:s.jsx(_r.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:tt(t.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:tt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:tt(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const j=e0e(_,d.orientation,d.dir);if(j!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=d.loop?t0e(C,A+1):C.slice(A+1)}setTimeout(()=>uG(C))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:b!=null}):o})})});cG.displayName=lG;var Jxe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Qxe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function e0e(t,e,r){const n=Qxe(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Jxe[n]}function uG(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function t0e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var r0e=oG,n0e=cG,i0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pp=new WeakMap,mb=new WeakMap,gb={},vC=0,dG=function(t){return t&&(t.host||dG(t.parentNode))},s0e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=dG(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},a0e=function(t,e,r,n){var i=s0e(e,Array.isArray(t)?t:[t]);gb[r]||(gb[r]=new WeakMap);var a=gb[r],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var v=g.getAttribute(n),y=v!==null&&v!=="false",b=(pp.get(g)||0)+1,_=(a.get(g)||0)+1;pp.set(g,b),a.set(g,_),o.push(g),b===1&&y&&mb.set(g,!0),_===1&&g.setAttribute(r,"true"),y||g.setAttribute(n,"true")}catch(j){console.error("aria-hidden: cannot operate on ",g,j)}})};return d(e),l.clear(),vC++,function(){o.forEach(function(f){var g=pp.get(f)-1,v=a.get(f)-1;pp.set(f,g),a.set(f,v),g||(mb.has(f)||f.removeAttribute(n),mb.delete(f)),v||f.removeAttribute(r)}),vC--,vC||(pp=new WeakMap,pp=new WeakMap,mb=new WeakMap,gb={})}},M1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=i0e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),a0e(n,i,r,"aria-hidden")):function(){return null}},yl=function(){return yl=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},yl.apply(this,arguments)};function fG(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function o0e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,a;n<i;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return t.concat(a||Array.prototype.slice.call(e))}var rw="right-scroll-bar-position",nw="width-before-scroll-bar",l0e="with-scroll-bars-hidden",c0e="--removed-body-scroll-bar-size";function yC(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function u0e(t,e){var r=x.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var d0e=typeof window<"u"?x.useLayoutEffect:x.useEffect,d5=new WeakMap;function f0e(t,e){var r=u0e(null,function(n){return t.forEach(function(i){return yC(i,n)})});return d0e(function(){var n=d5.get(r);if(n){var i=new Set(n),a=new Set(t),o=r.current;i.forEach(function(l){a.has(l)||yC(l,null)}),a.forEach(function(l){i.has(l)||yC(l,o)})}d5.set(r,t)},[t]),r}function h0e(t){return t}function p0e(t,e){e===void 0&&(e=h0e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(a){var o=e(a,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(a){for(n=!0;r.length;){var o=r;r=[],o.forEach(a)}r={push:function(l){return a(l)},filter:function(){return r}}},assignMedium:function(a){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(a),o=r}var c=function(){var d=o;o=[],d.forEach(a)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function m0e(t){t===void 0&&(t={});var e=p0e(null);return e.options=yl({async:!0,ssr:!1},t),e}var hG=function(t){var e=t.sideCar,r=fG(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,yl({},r))};hG.isSideCarExport=!0;function g0e(t,e){return t.useMedium(e),hG}var pG=m0e(),xC=function(){},I1=x.forwardRef(function(t,e){var r=x.useRef(null),n=x.useState({onScrollCapture:xC,onWheelCapture:xC,onTouchMoveCapture:xC}),i=n[0],a=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,v=t.noIsolation,y=t.inert,b=t.allowPinchZoom,_=t.as,j=_===void 0?"div":_,N=t.gapMode,C=fG(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,E=f0e([r,e]),P=yl(yl({},C),i);return x.createElement(x.Fragment,null,d&&x.createElement(A,{sideCar:pG,removeScrollBar:u,shards:f,noIsolation:v,inert:y,setCallbacks:a,allowPinchZoom:!!b,lockRef:r,gapMode:N}),o?x.cloneElement(x.Children.only(l),yl(yl({},P),{ref:E})):x.createElement(j,yl({},P,{className:c,ref:E}),l))});I1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};I1.classNames={fullWidth:nw,zeroRight:rw};var v0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function y0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=v0e();return e&&t.setAttribute("nonce",e),t}function x0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function b0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var w0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=y0e())&&(x0e(e,r),b0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},_0e=function(){var t=w0e();return function(e,r){x.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},mG=function(){var t=_0e(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},j0e={left:0,top:0,right:0,gap:0},bC=function(t){return parseInt(t||"",10)||0},S0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[bC(r),bC(n),bC(i)]},N0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return j0e;var e=S0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},C0e=mG(),Up="data-scroll-locked",E0e=function(t,e,r,n){var i=t.left,a=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(l0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Up,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rw,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(nw,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(rw," .").concat(rw,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(nw," .").concat(nw,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Up,`] {
    `).concat(c0e,": ").concat(l,`px;
  }
`)},f5=function(){var t=parseInt(document.body.getAttribute(Up)||"0",10);return isFinite(t)?t:0},P0e=function(){x.useEffect(function(){return document.body.setAttribute(Up,(f5()+1).toString()),function(){var t=f5()-1;t<=0?document.body.removeAttribute(Up):document.body.setAttribute(Up,t.toString())}},[])},k0e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;P0e();var a=x.useMemo(function(){return N0e(i)},[i]);return x.createElement(C0e,{styles:E0e(a,!e,i,r?"":"!important")})},yT=!1;if(typeof window<"u")try{var vb=Object.defineProperty({},"passive",{get:function(){return yT=!0,!0}});window.addEventListener("test",vb,vb),window.removeEventListener("test",vb,vb)}catch{yT=!1}var mp=yT?{passive:!1}:!1,A0e=function(t){return t.tagName==="TEXTAREA"},gG=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!A0e(t)&&r[e]==="visible")},T0e=function(t){return gG(t,"overflowY")},O0e=function(t){return gG(t,"overflowX")},h5=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=vG(t,n);if(i){var a=yG(t,n),o=a[1],l=a[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},R0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},M0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},vG=function(t,e){return t==="v"?T0e(e):O0e(e)},yG=function(t,e){return t==="v"?R0e(e):M0e(e)},I0e=function(t,e){return t==="h"&&e==="rtl"?-1:1},D0e=function(t,e,r,n,i){var a=I0e(t,window.getComputedStyle(e).direction),o=a*n,l=r.target,c=e.contains(l),u=!1,d=o>0,f=0,g=0;do{var v=yG(t,l),y=v[0],b=v[1],_=v[2],j=b-_-a*y;(y||j)&&vG(t,l)&&(f+=j,g+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(g)<1)&&(u=!0),u},yb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},p5=function(t){return[t.deltaX,t.deltaY]},m5=function(t){return t&&"current"in t?t.current:t},L0e=function(t,e){return t[0]===e[0]&&t[1]===e[1]},$0e=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},F0e=0,gp=[];function B0e(t){var e=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(F0e++)[0],a=x.useState(mG)[0],o=x.useRef(t);x.useEffect(function(){o.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var b=o0e([t.lockRef.current],(t.shards||[]).map(m5),!0).filter(Boolean);return b.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),b.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=x.useCallback(function(b,_){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!o.current.allowPinchZoom;var j=yb(b),N=r.current,C="deltaX"in b?b.deltaX:N[0]-j[0],A="deltaY"in b?b.deltaY:N[1]-j[1],E,P=b.target,O=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in b&&O==="h"&&P.type==="range")return!1;var I=h5(O,P);if(!I)return!0;if(I?E=O:(E=O==="v"?"h":"v",I=h5(O,P)),!I)return!1;if(!n.current&&"changedTouches"in b&&(C||A)&&(n.current=E),!E)return!0;var F=n.current||E;return D0e(F,_,b,F==="h"?C:A)},[]),c=x.useCallback(function(b){var _=b;if(!(!gp.length||gp[gp.length-1]!==a)){var j="deltaY"in _?p5(_):yb(_),N=e.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&L0e(E.delta,j)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(m5).filter(Boolean).filter(function(E){return E.contains(_.target)}),A=C.length>0?l(_,C[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=x.useCallback(function(b,_,j,N){var C={name:b,delta:_,target:j,should:N,shadowParent:z0e(j)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(A){return A!==C})},1)},[]),d=x.useCallback(function(b){r.current=yb(b),n.current=void 0},[]),f=x.useCallback(function(b){u(b.type,p5(b),b.target,l(b,t.lockRef.current))},[]),g=x.useCallback(function(b){u(b.type,yb(b),b.target,l(b,t.lockRef.current))},[]);x.useEffect(function(){return gp.push(a),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,mp),document.addEventListener("touchmove",c,mp),document.addEventListener("touchstart",d,mp),function(){gp=gp.filter(function(b){return b!==a}),document.removeEventListener("wheel",c,mp),document.removeEventListener("touchmove",c,mp),document.removeEventListener("touchstart",d,mp)}},[]);var v=t.removeScrollBar,y=t.inert;return x.createElement(x.Fragment,null,y?x.createElement(a,{styles:$0e(i)}):null,v?x.createElement(k0e,{gapMode:t.gapMode}):null)}function z0e(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const q0e=g0e(pG,B0e);var Ex=x.forwardRef(function(t,e){return x.createElement(I1,yl({},t,{ref:e,sideCar:q0e}))});Ex.classNames=I1.classNames;var xT=["Enter"," "],U0e=["ArrowDown","PageUp","Home"],xG=["ArrowUp","PageDown","End"],V0e=[...U0e,...xG],W0e={ltr:[...xT,"ArrowRight"],rtl:[...xT,"ArrowLeft"]},H0e={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Px="Menu",[oy,K0e,G0e]=AM(Px),[yh,bG]=an(Px,[G0e,YK,aG]),D1=YK(),wG=aG(),[Z0e,xh]=yh(Px),[Y0e,kx]=yh(Px),_G=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:a,modal:o=!0}=t,l=D1(e),[c,u]=x.useState(null),d=x.useRef(!1),f=Or(a),g=Vm(i);return x.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),s.jsx($xe,{...l,children:s.jsx(Z0e,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:s.jsx(Y0e,{scope:e,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:g,modal:o,children:n})})})};_G.displayName=Px;var X0e="MenuAnchor",qM=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=D1(r);return s.jsx(Fxe,{...i,...n,ref:e})});qM.displayName=X0e;var UM="MenuPortal",[J0e,jG]=yh(UM,{forceMount:void 0}),SG=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,a=xh(UM,e);return s.jsx(J0e,{scope:e,forceMount:r,children:s.jsx(Zs,{present:r||a.open,children:s.jsx(R1,{asChild:!0,container:i,children:n})})})};SG.displayName=UM;var to="MenuContent",[Q0e,VM]=yh(to),NG=x.forwardRef((t,e)=>{const r=jG(to,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=xh(to,t.__scopeMenu),o=kx(to,t.__scopeMenu);return s.jsx(oy.Provider,{scope:t.__scopeMenu,children:s.jsx(Zs,{present:n||a.open,children:s.jsx(oy.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(ebe,{...i,ref:e}):s.jsx(tbe,{...i,ref:e})})})})}),ebe=x.forwardRef((t,e)=>{const r=xh(to,t.__scopeMenu),n=x.useRef(null),i=yt(e,n);return x.useEffect(()=>{const a=n.current;if(a)return M1(a)},[]),s.jsx(WM,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:tt(t.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),tbe=x.forwardRef((t,e)=>{const r=xh(to,t.__scopeMenu);return s.jsx(WM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),rbe=tm("MenuContent.ScrollLock"),WM=x.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:a,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,onDismiss:v,disableOutsideScroll:y,...b}=t,_=xh(to,r),j=kx(to,r),N=D1(r),C=wG(r),A=K0e(r),[E,P]=x.useState(null),O=x.useRef(null),I=yt(e,O,_.onContentChange),F=x.useRef(0),H=x.useRef(""),U=x.useRef(0),z=x.useRef(null),V=x.useRef("right"),X=x.useRef(0),te=y?Ex:x.Fragment,le=y?{as:rbe,allowPinchZoom:!0}:void 0,W=G=>{const ie=H.current+G,Z=A().filter(ae=>!ae.disabled),de=document.activeElement,Se=Z.find(ae=>ae.ref.current===de)?.textValue,Me=Z.map(ae=>ae.textValue),qe=pbe(Me,ie,Se),oe=Z.find(ae=>ae.textValue===qe)?.ref.current;(function ae(ge){H.current=ge,window.clearTimeout(F.current),ge!==""&&(F.current=window.setTimeout(()=>ae(""),1e3))})(ie),oe&&setTimeout(()=>oe.focus())};x.useEffect(()=>()=>window.clearTimeout(F.current),[]),TM();const re=x.useCallback(G=>V.current===z.current?.side&&gbe(G,z.current?.area),[]);return s.jsx(Q0e,{scope:r,searchRef:H,onItemEnter:x.useCallback(G=>{re(G)&&G.preventDefault()},[re]),onItemLeave:x.useCallback(G=>{re(G)||(O.current?.focus(),P(null))},[re]),onTriggerLeave:x.useCallback(G=>{re(G)&&G.preventDefault()},[re]),pointerGraceTimerRef:U,onPointerGraceIntentChange:x.useCallback(G=>{z.current=G},[]),children:s.jsx(te,{...le,children:s.jsx(OM,{asChild:!0,trapped:i,onMountAutoFocus:tt(a,G=>{G.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(k1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,onDismiss:v,children:s.jsx(r0e,{asChild:!0,...C,dir:j.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:P,onEntryFocus:tt(c,G=>{j.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(Bxe,{role:"menu","aria-orientation":"vertical","data-state":zG(_.open),"data-radix-menu-content":"",dir:j.dir,...N,...b,ref:I,style:{outline:"none",...b.style},onKeyDown:tt(b.onKeyDown,G=>{const Z=G.target.closest("[data-radix-menu-content]")===G.currentTarget,de=G.ctrlKey||G.altKey||G.metaKey,Se=G.key.length===1;Z&&(G.key==="Tab"&&G.preventDefault(),!de&&Se&&W(G.key));const Me=O.current;if(G.target!==Me||!V0e.includes(G.key))return;G.preventDefault();const oe=A().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);xG.includes(G.key)&&oe.reverse(),fbe(oe)}),onBlur:tt(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(F.current),H.current="")}),onPointerMove:tt(t.onPointerMove,ly(G=>{const ie=G.target,Z=X.current!==G.clientX;if(G.currentTarget.contains(ie)&&Z){const de=G.clientX>X.current?"right":"left";V.current=de,X.current=G.clientX}}))})})})})})})});NG.displayName=to;var nbe="MenuGroup",HM=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(_r.div,{role:"group",...n,ref:e})});HM.displayName=nbe;var ibe="MenuLabel",CG=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(_r.div,{...n,ref:e})});CG.displayName=ibe;var Dw="MenuItem",g5="menu.itemSelect",L1=x.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,a=x.useRef(null),o=kx(Dw,t.__scopeMenu),l=VM(Dw,t.__scopeMenu),c=yt(e,a),u=x.useRef(!1),d=()=>{const f=a.current;if(!r&&f){const g=new CustomEvent(g5,{bubbles:!0,cancelable:!0});f.addEventListener(g5,v=>n?.(v),{once:!0}),kM(f,g),g.defaultPrevented?u.current=!1:o.onClose()}};return s.jsx(EG,{...i,ref:c,disabled:r,onClick:tt(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),u.current=!0},onPointerUp:tt(t.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:tt(t.onKeyDown,f=>{const g=l.searchRef.current!=="";r||g&&f.key===" "||xT.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});L1.displayName=Dw;var EG=x.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...a}=t,o=VM(Dw,r),l=wG(r),c=x.useRef(null),u=yt(e,c),[d,f]=x.useState(!1),[g,v]=x.useState("");return x.useEffect(()=>{const y=c.current;y&&v((y.textContent??"").trim())},[a.children]),s.jsx(oy.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:s.jsx(n0e,{asChild:!0,...l,focusable:!n,children:s.jsx(_r.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...a,ref:u,onPointerMove:tt(t.onPointerMove,ly(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:tt(t.onPointerLeave,ly(y=>o.onItemLeave(y))),onFocus:tt(t.onFocus,()=>f(!0)),onBlur:tt(t.onBlur,()=>f(!1))})})})}),sbe="MenuCheckboxItem",PG=x.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return s.jsx(RG,{scope:t.__scopeMenu,checked:r,children:s.jsx(L1,{role:"menuitemcheckbox","aria-checked":Lw(r)?"mixed":r,...i,ref:e,"data-state":GM(r),onSelect:tt(i.onSelect,()=>n?.(Lw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});PG.displayName=sbe;var kG="MenuRadioGroup",[abe,obe]=yh(kG,{value:void 0,onValueChange:()=>{}}),AG=x.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,a=Or(n);return s.jsx(abe,{scope:t.__scopeMenu,value:r,onValueChange:a,children:s.jsx(HM,{...i,ref:e})})});AG.displayName=kG;var TG="MenuRadioItem",OG=x.forwardRef((t,e)=>{const{value:r,...n}=t,i=obe(TG,t.__scopeMenu),a=r===i.value;return s.jsx(RG,{scope:t.__scopeMenu,checked:a,children:s.jsx(L1,{role:"menuitemradio","aria-checked":a,...n,ref:e,"data-state":GM(a),onSelect:tt(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});OG.displayName=TG;var KM="MenuItemIndicator",[RG,lbe]=yh(KM,{checked:!1}),MG=x.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,a=lbe(KM,r);return s.jsx(Zs,{present:n||Lw(a.checked)||a.checked===!0,children:s.jsx(_r.span,{...i,ref:e,"data-state":GM(a.checked)})})});MG.displayName=KM;var cbe="MenuSeparator",IG=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(_r.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});IG.displayName=cbe;var ube="MenuArrow",DG=x.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=D1(r);return s.jsx(zxe,{...i,...n,ref:e})});DG.displayName=ube;var dbe="MenuSub",[iWe,LG]=yh(dbe),jv="MenuSubTrigger",$G=x.forwardRef((t,e)=>{const r=xh(jv,t.__scopeMenu),n=kx(jv,t.__scopeMenu),i=LG(jv,t.__scopeMenu),a=VM(jv,t.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=a,u={__scopeMenu:t.__scopeMenu},d=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>d,[d]),x.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),s.jsx(qM,{asChild:!0,...u,children:s.jsx(EG,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":zG(r.open),...t,ref:ja(e,i.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:tt(t.onPointerMove,ly(f=>{a.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(a.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:tt(t.onPointerLeave,ly(f=>{d();const g=r.content?.getBoundingClientRect();if(g){const v=r.content?.dataset.side,y=v==="right",b=y?-5:5,_=g[y?"left":"right"],j=g[y?"right":"left"];a.onPointerGraceIntentChange({area:[{x:f.clientX+b,y:f.clientY},{x:_,y:g.top},{x:j,y:g.top},{x:j,y:g.bottom},{x:_,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.onPointerGraceIntentChange(null),300)}else{if(a.onTriggerLeave(f),f.defaultPrevented)return;a.onPointerGraceIntentChange(null)}})),onKeyDown:tt(t.onKeyDown,f=>{const g=a.searchRef.current!=="";t.disabled||g&&f.key===" "||W0e[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});$G.displayName=jv;var FG="MenuSubContent",BG=x.forwardRef((t,e)=>{const r=jG(to,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,a=xh(to,t.__scopeMenu),o=kx(to,t.__scopeMenu),l=LG(FG,t.__scopeMenu),c=x.useRef(null),u=yt(e,c);return s.jsx(oy.Provider,{scope:t.__scopeMenu,children:s.jsx(Zs,{present:n||a.open,children:s.jsx(oy.Slot,{scope:t.__scopeMenu,children:s.jsx(WM,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:tt(t.onFocusOutside,d=>{d.target!==l.trigger&&a.onOpenChange(!1)}),onEscapeKeyDown:tt(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:tt(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),g=H0e[o.dir].includes(d.key);f&&g&&(a.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});BG.displayName=FG;function zG(t){return t?"open":"closed"}function Lw(t){return t==="indeterminate"}function GM(t){return Lw(t)?"indeterminate":t?"checked":"unchecked"}function fbe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function hbe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function pbe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=hbe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function mbe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,f=c.x,g=c.y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function gbe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return mbe(r,e)}function ly(t){return e=>e.pointerType==="mouse"?t(e):void 0}var vbe=_G,ybe=qM,xbe=SG,bbe=NG,wbe=HM,_be=CG,jbe=L1,Sbe=PG,Nbe=AG,Cbe=OG,Ebe=MG,Pbe=IG,kbe=DG,Abe=$G,Tbe=BG,$1="DropdownMenu",[Obe,sWe]=an($1,[bG]),Ss=bG(),[Rbe,qG]=Obe($1),UG=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:a,onOpenChange:o,modal:l=!0}=t,c=Ss(e),u=x.useRef(null),[d,f]=Ks({prop:i,defaultProp:a??!1,onChange:o,caller:$1});return s.jsx(Rbe,{scope:e,triggerId:Ws(),triggerRef:u,contentId:Ws(),open:d,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(g=>!g),[f]),modal:l,children:s.jsx(vbe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};UG.displayName=$1;var VG="DropdownMenuTrigger",WG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,a=qG(VG,r),o=Ss(r);return s.jsx(ybe,{asChild:!0,...o,children:s.jsx(_r.button,{type:"button",id:a.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":a.open?a.contentId:void 0,"data-state":a.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:ja(e,a.triggerRef),onPointerDown:tt(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(a.onOpenToggle(),a.open||l.preventDefault())}),onKeyDown:tt(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&a.onOpenToggle(),l.key==="ArrowDown"&&a.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});WG.displayName=VG;var Mbe="DropdownMenuPortal",HG=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Ss(e);return s.jsx(xbe,{...n,...r})};HG.displayName=Mbe;var KG="DropdownMenuContent",GG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qG(KG,r),a=Ss(r),o=x.useRef(!1);return s.jsx(bbe,{id:i.contentId,"aria-labelledby":i.triggerId,...a,...n,ref:e,onCloseAutoFocus:tt(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:tt(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});GG.displayName=KG;var Ibe="DropdownMenuGroup",Dbe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(wbe,{...i,...n,ref:e})});Dbe.displayName=Ibe;var Lbe="DropdownMenuLabel",ZG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(_be,{...i,...n,ref:e})});ZG.displayName=Lbe;var $be="DropdownMenuItem",YG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(jbe,{...i,...n,ref:e})});YG.displayName=$be;var Fbe="DropdownMenuCheckboxItem",XG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(Sbe,{...i,...n,ref:e})});XG.displayName=Fbe;var Bbe="DropdownMenuRadioGroup",zbe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(Nbe,{...i,...n,ref:e})});zbe.displayName=Bbe;var qbe="DropdownMenuRadioItem",JG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(Cbe,{...i,...n,ref:e})});JG.displayName=qbe;var Ube="DropdownMenuItemIndicator",QG=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(Ebe,{...i,...n,ref:e})});QG.displayName=Ube;var Vbe="DropdownMenuSeparator",eZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(Pbe,{...i,...n,ref:e})});eZ.displayName=Vbe;var Wbe="DropdownMenuArrow",Hbe=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(kbe,{...i,...n,ref:e})});Hbe.displayName=Wbe;var Kbe="DropdownMenuSubTrigger",tZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(Abe,{...i,...n,ref:e})});tZ.displayName=Kbe;var Gbe="DropdownMenuSubContent",rZ=x.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=Ss(r);return s.jsx(Tbe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rZ.displayName=Gbe;var Zbe=UG,Ybe=WG,Xbe=HG,nZ=GG,iZ=ZG,sZ=YG,aZ=XG,oZ=JG,lZ=QG,cZ=eZ,uZ=tZ,dZ=rZ;const Ld=Zbe,$d=Ybe,Jbe=x.forwardRef(({className:t,inset:e,children:r,...n},i)=>s.jsxs(uZ,{ref:i,className:Je("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,s.jsx(no,{className:"ml-auto h-4 w-4"})]}));Jbe.displayName=uZ.displayName;const Qbe=x.forwardRef(({className:t,...e},r)=>s.jsx(dZ,{ref:r,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Qbe.displayName=dZ.displayName;const au=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(Xbe,{children:s.jsx(nZ,{ref:n,sideOffset:e,className:Je("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));au.displayName=nZ.displayName;const $r=x.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(sZ,{ref:n,className:Je("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));$r.displayName=sZ.displayName;const ewe=x.forwardRef(({className:t,children:e,checked:r,...n},i)=>s.jsxs(aZ,{ref:i,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(lZ,{children:s.jsx(Ad,{className:"h-4 w-4"})})}),e]}));ewe.displayName=aZ.displayName;const twe=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(oZ,{ref:n,className:Je("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(lZ,{children:s.jsx(KH,{className:"h-2 w-2 fill-current"})})}),e]}));twe.displayName=oZ.displayName;const rwe=x.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(iZ,{ref:n,className:Je("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));rwe.displayName=iZ.displayName;const Km=x.forwardRef(({className:t,...e},r)=>s.jsx(cZ,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",t),...e}));Km.displayName=cZ.displayName;const nwe=({className:t=""})=>{const{currentLanguage:e,changeLanguage:r,availableLanguages:n,languageNames:i}=gh(),a=o=>{r(o)};return s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsxs(fe,{variant:"ghost",size:"sm",className:`flex items-center space-x-2 ${t}`,children:[s.jsx(w1,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:i[e]}),s.jsx("span",{className:"sm:hidden",children:e.toUpperCase()})]})}),s.jsx(au,{align:"end",className:"w-48",children:n.map(o=>s.jsxs($r,{onClick:()=>a(o),className:`flex items-center justify-between cursor-pointer ${e===o?"bg-accent":""}`,children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsx("span",{className:"text-sm font-medium",children:i[o]})}),e===o&&s.jsx(Ad,{className:"h-4 w-4 text-primary"})]},o))})]})},iwe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[i,a]=x.useState(!0),{user:o}=Mr(),{t:l}=gh(),c=x.useMemo(()=>[{name:l("navigation.immobilier"),path:"/immobilier",icon:s.jsx(Sl,{className:"mr-2 h-4 w-4"})},{name:l("navigation.automobile"),path:"/automobile",icon:s.jsx(x1,{className:"mr-2 h-4 w-4"})},{name:l("navigation.services"),path:"/services",icon:s.jsx(Xf,{className:"mr-2 h-4 w-4"})},{name:l("navigation.marketplace"),path:"/marketplace",icon:s.jsx(hh,{className:"mr-2 h-4 w-4"})}],[l]),u=x.useMemo(()=>({closed:{opacity:0,x:"-100%"},open:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}}}),[]),d=x.useMemo(()=>"text-muted-foreground hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium flex items-center",[]),f=x.useMemo(()=>"text-primary bg-primary/10",[]);x.useEffect(()=>{const y=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",y,{passive:!0}),()=>window.removeEventListener("scroll",y)},[]),x.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const g=()=>{a(!i)},v=x.useMemo(()=>s.jsx(pr,{to:"/",className:"flex items-center space-x-2","aria-label":"Accueil MaxiMarket",children:s.jsx("span",{className:"text-2xl font-bold gradient-text",children:kr.siteName})}),[]);return s.jsxs("header",{role:"banner","aria-label":"Navigation principale",children:[s.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${r||t?"bg-background/95 shadow-lg backdrop-blur-md":"bg-transparent"}`,role:"navigation","aria-label":"Menu principal",children:s.jsx("div",{className:"container mx-auto px-4 md:px-6",children:s.jsxs("div",{className:"flex items-center justify-between h-20",children:[s.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:v}),s.jsx("nav",{role:"navigation","aria-label":"Navigation desktop",className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:c.map(y=>s.jsxs(gf,{to:y.path,className:({isActive:b})=>`${d} ${b?f:""}`,"aria-current":({isActive:b})=>b?"page":void 0,children:[y.icon,y.name]},y.name))}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(nwe,{className:"md:hidden"}),s.jsx(fe,{variant:"ghost",size:"icon",onClick:g,"aria-label":"Changer de thème",type:"button",children:i?s.jsx(fpe,{className:"h-5 w-5"}):s.jsx(Jhe,{className:"h-5 w-5"})}),s.jsx(fe,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Rechercher",type:"button",children:s.jsx(Mi,{className:"h-5 w-5"})}),!o&&s.jsxs(s.Fragment,{children:[s.jsx(fe,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:s.jsxs(pr,{to:"/connexion","aria-label":"Se connecter",children:[s.jsx(ab,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]})}),s.jsx(fe,{asChild:!0,className:"hidden md:inline-flex btn-gradient-secondary",children:s.jsxs(pr,{to:"/inscription","aria-label":"S'inscrire",children:[s.jsx(ab,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})})]}),o&&o.role==="admin"?s.jsx(fe,{asChild:!0,className:"hidden md:inline-flex btn-secondary",children:s.jsxs(pr,{to:"/admin","aria-label":"Accéder à l'administration",children:[s.jsx(Of,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]})}):o&&s.jsxs(s.Fragment,{children:[s.jsx(fe,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:s.jsxs(pr,{to:"/messages","aria-label":"Accéder aux messages",children:[s.jsx(Oi,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]})}),s.jsx(fe,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:s.jsxs(pr,{to:"/profile","aria-label":"Accéder à mon compte",children:[s.jsx(Of,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(fe,{variant:"ghost",size:"icon",onClick:()=>e(!t),"aria-label":t?"Fermer le menu":"Ouvrir le menu","aria-expanded":t,type:"button",children:t?s.jsx(Gs,{className:"h-6 w-6"}):s.jsx(JH,{className:"h-6 w-6"})})})]})]})})}),s.jsx(Bn,{children:t&&s.jsxs(Re.nav,{variants:u,initial:"closed",animate:"open",exit:"closed",className:"md:hidden fixed inset-0 top-20 bg-background/95 backdrop-blur-md z-40 p-4 space-y-3 border-t border-border",role:"navigation","aria-label":"Menu mobile",children:[c.map(y=>s.jsxs(gf,{to:y.path,onClick:()=>e(!1),className:({isActive:b})=>`${d} text-base w-full justify-start ${b?f:""}`,"aria-current":({isActive:b})=>b?"page":void 0,children:[y.icon,y.name]},y.name)),!o&&s.jsxs(s.Fragment,{children:[s.jsxs(gf,{to:"/connexion",onClick:()=>e(!1),className:`${d} text-base w-full justify-start`,"aria-label":"Se connecter",children:[s.jsx(ab,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]}),s.jsxs(gf,{to:"/inscription",onClick:()=>e(!1),className:`${d} text-base w-full justify-start`,"aria-label":"S'inscrire",children:[s.jsx(ab,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})]}),o&&o.role==="admin"?s.jsxs(gf,{to:"/admin",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?f:""}`,"aria-label":"Accéder à l'administration",children:[s.jsx(Of,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]}):o&&s.jsxs(s.Fragment,{children:[s.jsxs(gf,{to:"/messages",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?f:""}`,"aria-label":"Accéder aux messages",children:[s.jsx(Oi,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]}),s.jsxs(gf,{to:"/profile",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?f:""}`,"aria-label":"Accéder à mon compte",children:[s.jsx(Of,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})]})]})})]})},swe=()=>{const t=new Date().getFullYear(),{toast:e}=Vr(),[r,n]=x.useState(""),[i,a]=x.useState(!1),o=[{title:"Explorer",links:[{name:"Immobilier",path:"/immobilier"},{name:"Automobile",path:"/automobile"},{name:"Services Pro",path:"/services"},{name:"Marketplace",path:"/marketplace"}]},{title:"Entreprise",links:[{name:"À Propos",path:"/a-propos"},{name:"Carrières",path:"/carrieres"},{name:"Presse",path:"/presse"},{name:"Blog",path:"/blog"}]},{title:"Support",links:[{name:"Centre d'Aide",path:"/aide"},{name:"Contactez-nous",path:"/contact"},{name:"FAQ",path:"/faq"},{name:"Politique de Confidentialité",path:"/politique-confidentialite"},{name:"Termes & Conditions",path:"/conditions-utilisation"}]}],l=[{name:"Facebook",icon:s.jsx(eT,{className:"h-5 w-5"}),path:kr.socials.facebook},{name:"Twitter",icon:s.jsx(QH,{className:"h-5 w-5"}),path:kr.socials.twitter},{name:"Instagram",icon:s.jsx(tT,{className:"h-5 w-5"}),path:kr.socials.instagram}].filter(u=>u.path&&u.path!=="");console.log("🔍 Réseaux sociaux disponibles:",kr.socials),console.log("🔍 Réseaux sociaux filtrés:",l);const c=async u=>{if(u.preventDefault(),!r.trim()){e({title:"Email requis",description:"Veuillez saisir votre adresse email",variant:"destructive"});return}a(!0);try{const d=await td.subscribe(r.trim());e({title:"Inscription réussie !",description:d.message}),n("")}catch(d){console.error("Erreur inscription newsletter:",d),e({title:"Erreur d'inscription",description:d.message||"Une erreur s'est produite",variant:"destructive"})}finally{a(!1)}};return s.jsx("footer",{className:"bg-card text-card-foreground border-t border-border",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-6 pt-8 pb-6",children:[s.jsxs("div",{className:"md:col-span-2 lg:col-span-1 xl:col-span-2 pr-4",children:[s.jsx(pr,{to:"/",className:"flex items-center space-x-2 mb-4",children:s.jsx("span",{className:"text-2xl font-bold gradient-text",children:kr.siteName})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"La plateforme N°1 en Afrique de l'Ouest pour l'immobilier, l'automobile, les services et bien plus."}),s.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Restez informé de nos nouveautés :"}),s.jsxs("form",{onSubmit:c,className:"flex items-center gap-2",children:[s.jsx(it,{type:"email",placeholder:"Votre adresse e-mail",className:"flex-grow",value:r,onChange:u=>n(u.target.value),disabled:i}),s.jsx(fe,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary/90",disabled:i,children:i?s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):s.jsx(Bc,{className:"h-4 w-4"})})]})]}),o.map(u=>s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold mb-3",children:u.title}),s.jsx("ul",{className:"space-y-1",children:u.links.map(d=>s.jsx("li",{children:s.jsxs(pr,{to:d.path,className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center group",children:[d.name,s.jsx(Qa,{className:"h-3 w-3 ml-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},d.name))})]},u.title))]}),s.jsxs("div",{className:"md:hidden",children:[s.jsxs("div",{className:"pt-6 pb-4 text-center",children:[s.jsx(pr,{to:"/",className:"flex items-center justify-center space-x-2 mb-3",children:s.jsx("span",{className:"text-xl font-bold gradient-text",children:kr.siteName})}),s.jsx("p",{className:"text-muted-foreground text-sm mb-3",children:"La plateforme N°1 en Afrique de l'Ouest"}),s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Newsletter :"}),s.jsxs("form",{onSubmit:c,className:"flex items-center gap-2 max-w-xs mx-auto",children:[s.jsx(it,{type:"email",placeholder:"Email",className:"flex-grow text-sm",value:r,onChange:u=>n(u.target.value),disabled:i}),s.jsx(fe,{type:"submit",size:"sm",className:"bg-primary hover:bg-primary/90",disabled:i,children:i?s.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-white border-t-transparent"}):s.jsx(Bc,{className:"h-3 w-3"})})]})]})]}),s.jsx("div",{className:"pb-4",children:s.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.map(u=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"font-semibold mb-2 text-sm text-primary",children:u.title}),s.jsx("div",{className:"space-y-1",children:u.links.slice(0,3).map(d=>s.jsx(pr,{to:d.path,className:"block text-xs text-muted-foreground hover:text-primary transition-colors",children:d.name},d.name))})]},u.title))})}),s.jsxs("div",{className:"pb-4",children:[s.jsx("p",{className:"text-center font-semibold mb-3 text-sm text-primary",children:"Suivez-nous"}),s.jsx("div",{className:"flex justify-center space-x-6",children:l.length>0?l.map(u=>s.jsx(pr,{to:u.path,target:"_blank",rel:"noopener noreferrer","aria-label":u.name,className:"text-muted-foreground hover:text-primary transition-colors p-2 rounded-full hover:bg-accent",children:u.icon},u.name)):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Réseaux sociaux en cours de configuration"})})]}),s.jsxs("div",{className:"pb-4",children:[s.jsx("p",{className:"text-center font-semibold mb-3 text-sm text-primary",children:"Contact"}),s.jsxs("div",{className:"flex justify-center space-x-6 text-xs text-muted-foreground",children:[s.jsxs(pr,{to:"/contact",className:"flex items-center space-x-1 hover:text-primary",children:[s.jsx(_a,{className:"h-3 w-3"}),s.jsx("span",{children:"Contact"})]}),s.jsxs(pr,{to:"/aide",className:"flex items-center space-x-1 hover:text-primary",children:[s.jsx(Xa,{className:"h-3 w-3"}),s.jsx("span",{children:"Aide"})]})]})]})]}),s.jsx("div",{className:"hidden md:block border-t border-border pt-6 pb-6",children:s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[s.jsxs("p",{className:"text-xs text-muted-foreground mb-4 md:mb-0",children:["© ",t," ",kr.siteName,". Tous droits réservés."]}),s.jsx("div",{className:"flex space-x-4",children:l.length>0?l.map(u=>s.jsx(pr,{to:u.path,target:"_blank",rel:"noopener noreferrer","aria-label":u.name,className:"text-muted-foreground hover:text-primary transition-colors",children:u.icon},u.name)):s.jsx("p",{className:"text-xs text-muted-foreground",children:"Réseaux sociaux en cours de configuration"})})]})}),s.jsx("div",{className:"md:hidden border-t border-border pt-4 pb-6 text-center",children:s.jsxs("p",{className:"text-xs text-muted-foreground",children:["© ",t," ",kr.siteName,". Tous droits réservés."]})})]})})},awe=()=>{const t=Vi(),[e,r]=x.useState(!1),n=x.useCallback(()=>{r(window.scrollY>20)},[]);x.useEffect(()=>(window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)),[n]),x.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]);const i=x.useMemo(()=>Je("fixed top-0 left-0 right-0 z-50 transition-all duration-300",e?"py-3 glass-effect":"py-5 bg-transparent"),[e]),a=x.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]);return s.jsxs("div",{className:"min-h-screen flex flex-col bg-background grid-pattern",children:[s.jsx("header",{className:i,role:"banner","aria-label":"En-tête principal",children:s.jsx(iwe,{})}),s.jsx("main",{className:"flex-grow pt-24 pb-16",role:"main","aria-label":"Contenu principal",id:"main-content",children:s.jsx(Re.div,{...a,children:s.jsx(T7,{})},t.pathname)}),s.jsx(swe,{})]})},owe=[{name:"Tableau de bord",href:"/admin",icon:XH},{name:"Utilisateurs",href:"/admin/users",icon:va},{name:"Annonces",href:"/admin/listings",icon:Bv},{name:"Newsletter",href:"/admin/newsletter",icon:_a},{name:"Transactions",href:"/admin/transactions",icon:em},{name:"Catégories",href:"/admin/categories",icon:ph},{name:"Rapports",href:"/admin/analytics",icon:wM},{name:"Modération",href:"/admin/moderation",icon:xd},{name:"Paramètres",href:"/admin/settings",icon:Of}];function lwe({className:t}){const e=Vi(),{logout:r}=Mr(),n=async()=>{try{await r()}catch(i){console.error("Erreur lors de la déconnexion:",i)}};return s.jsxs("div",{className:Je("hidden md:flex md:flex-col md:w-64 bg-slate-900 border-r border-slate-800 min-h-screen",t),children:[s.jsx("div",{className:"p-4 border-b border-slate-800",children:s.jsx("h2",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),s.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:owe.map(i=>s.jsxs(pr,{to:i.href,className:Je("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",e.pathname===i.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[s.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.href))}),s.jsx("div",{className:"p-4 border-t border-slate-800",children:s.jsxs(fe,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-slate-800 hover:text-white",children:[s.jsx(jM,{className:"mr-3 h-5 w-5"}),"Déconnexion"]})})]})}var cwe=Object.defineProperty,uwe=(t,e,r)=>e in t?cwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,wC=(t,e,r)=>(uwe(t,typeof e!="symbol"?e+"":e,r),r);let dwe=class{constructor(){wC(this,"current",this.detect()),wC(this,"handoffState","pending"),wC(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Vc=new dwe,io=(t,e)=>{Vc.isServer?x.useEffect(t,e):x.useLayoutEffect(t,e)};function Wc(t){let e=x.useRef(t);return io(()=>{e.current=t},[t]),e}let Nn=function(t){let e=Wc(t);return ne.useCallback((...r)=>e.current(...r),[e])};function F1(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function bh(){let t=[],e={addEventListener(r,n,i,a){return r.addEventListener(n,i,a),e.add(()=>r.removeEventListener(n,i,a))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return F1(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let a=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:a})})},group(r){let n=bh();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function ZM(){let[t]=x.useState(bh);return x.useEffect(()=>()=>t.dispose(),[t]),t}function fwe(){let t=typeof document>"u";return"useSyncExternalStore"in Cd?(e=>e.useSyncExternalStore)(Cd)(()=>()=>{},()=>!1,()=>!t):!1}function Gm(){let t=fwe(),[e,r]=x.useState(Vc.isHandoffComplete);return e&&Vc.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{e!==!0&&r(!0)},[e]),x.useEffect(()=>Vc.handoff(),[]),t?!1:e}var v5;let Zm=(v5=ne.useId)!=null?v5:function(){let t=Gm(),[e,r]=ne.useState(t?()=>Vc.nextId():null);return io(()=>{e===null&&r(Vc.nextId())},[e]),e!=null?""+e:void 0};function ls(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ls),n}function fZ(t){return Vc.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let bT=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var kf=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(kf||{}),hZ=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(hZ||{}),hwe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(hwe||{});function pwe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(bT)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var pZ=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(pZ||{});function mwe(t,e=0){var r;return t===((r=fZ(t))==null?void 0:r.body)?!1:ls(e,{0(){return t.matches(bT)},1(){let n=t;for(;n!==null;){if(n.matches(bT))return!0;n=n.parentElement}return!1}})}var gwe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(gwe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Hf(t){t?.focus({preventScroll:!0})}let vwe=["textarea","input"].join(",");function ywe(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,vwe))!=null?r:!1}function xwe(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),a=e(n);if(i===null||a===null)return 0;let o=i.compareDocumentPosition(a);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function iw(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let a=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?r?xwe(t):t:pwe(t);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),n=n??a.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=o.length,g;do{if(d>=f||d+f<=0)return 0;let v=c+d;if(e&16)v=(v+f)%f;else{if(v<0)return 3;if(v>=f)return 1}g=o[v],g?.focus(u),d+=l}while(g!==a.activeElement);return e&6&&ywe(g)&&g.select(),2}function mZ(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function bwe(){return/Android/gi.test(window.navigator.userAgent)}function wwe(){return mZ()||bwe()}function xb(t,e,r){let n=Wc(e);x.useEffect(()=>{function i(a){n.current(a)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[t,r])}function gZ(t,e,r){let n=Wc(e);x.useEffect(()=>{function i(a){n.current(a)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[t,r])}function _we(t,e,r=!0){let n=x.useRef(!1);x.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(o,l){if(!n.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||o.composed&&o.composedPath().includes(f))return}return!mwe(c,pZ.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let a=x.useRef(null);xb("pointerdown",o=>{var l,c;n.current&&(a.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),xb("mousedown",o=>{var l,c;n.current&&(a.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),xb("click",o=>{wwe()||a.current&&(i(o,()=>a.current),a.current=null)},!0),xb("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),gZ("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Ax(...t){return x.useMemo(()=>fZ(...t),[...t])}let vZ=Symbol();function jwe(t,e=!0){return Object.assign(t,{[vZ]:e})}function Ho(...t){let e=x.useRef(t);x.useEffect(()=>{e.current=t},[t]);let r=Nn(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[vZ])?void 0:r}function YM(t,e){let r=x.useRef([]),n=Nn(t);x.useEffect(()=>{let i=[...r.current];for(let[a,o]of e.entries())if(r.current[a]!==o){let l=n(e,i);return r.current=e,l}},[n,...e])}function $w(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var Fw=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Fw||{}),pd=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(pd||{});function ao({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:a=!0,name:o,mergeRefs:l}){l=l??Swe;let c=yZ(e,t);if(a)return bb(c,r,n,o,l);let u=i??0;if(u&2){let{static:d=!1,...f}=c;if(d)return bb(f,r,n,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return ls(d?0:1,{0(){return null},1(){return bb({...f,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return bb(c,r,n,o,l)}function bb(t,e={},r,n,i){let{as:a=r,children:o,refName:l="ref",...c}=_C(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let g=!1,v=[];for(let[y,b]of Object.entries(e))typeof b=="boolean"&&(g=!0),b===!0&&v.push(y);g&&(f["data-headlessui-state"]=v.join(" "))}if(a===x.Fragment&&Object.keys(y5(c)).length>0){if(!x.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(b=>`  - ${b}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(b=>`  - ${b}`).join(`
`)].join(`
`));let g=d.props,v=typeof g?.className=="function"?(...b)=>$w(g?.className(...b),c.className):$w(g?.className,c.className),y=v?{className:v}:{};return x.cloneElement(d,Object.assign({},yZ(d.props,y5(_C(c,["ref"]))),f,u,{ref:i(d.ref,u.ref)},y))}return x.createElement(a,Object.assign({},_C(c,["ref"]),a!==x.Fragment&&u,a!==x.Fragment&&f),d)}function Swe(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function yZ(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](i,...a){let o=r[n];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...a)}}});return e}function Sa(t){var e;return Object.assign(x.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function y5(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function _C(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let Nwe="div";var Bw=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Bw||{});function Cwe(t,e){var r;let{features:n=1,...i}=t,a={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return ao({ourProps:a,theirProps:i,slot:{},defaultTag:Nwe,name:"Hidden"})}let wT=Sa(Cwe),XM=x.createContext(null);XM.displayName="OpenClosedContext";var ha=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ha||{});function JM(){return x.useContext(XM)}function Ewe({value:t,children:e}){return ne.createElement(XM.Provider,{value:t},e)}function Pwe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let ud=[];Pwe(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&ud[0]!==e.target&&(ud.unshift(e.target),ud=ud.filter(r=>r!=null&&r.isConnected),ud.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function kwe(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&Awe(r)?!1:n}function Awe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var xZ=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(xZ||{});function bZ(t,e,r,n){let i=Wc(r);x.useEffect(()=>{t=t??window;function a(o){i.current(o)}return t.addEventListener(e,a,n),()=>t.removeEventListener(e,a,n)},[t,e,n])}function Tx(){let t=x.useRef(!1);return io(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function wZ(t){let e=Nn(t),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,F1(()=>{r.current&&e()})}),[e])}var Sv=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(Sv||{});function Twe(){let t=x.useRef(0);return gZ("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function _Z(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let Owe="div";var jZ=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(jZ||{});function Rwe(t,e){let r=x.useRef(null),n=Ho(r,e),{initialFocus:i,containers:a,features:o=30,...l}=t;Gm()||(o=1);let c=Ax(r);Dwe({ownerDocument:c},!!(o&16));let u=Lwe({ownerDocument:c,container:r,initialFocus:i},!!(o&2));$we({ownerDocument:c,container:r,containers:a,previousActiveElement:u},!!(o&8));let d=Twe(),f=Nn(b=>{let _=r.current;_&&(j=>j())(()=>{ls(d.current,{[Sv.Forwards]:()=>{iw(_,kf.First,{skipElements:[b.relatedTarget]})},[Sv.Backwards]:()=>{iw(_,kf.Last,{skipElements:[b.relatedTarget]})}})})}),g=ZM(),v=x.useRef(!1),y={ref:n,onKeyDown(b){b.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(b){let _=_Z(a);r.current instanceof HTMLElement&&_.add(r.current);let j=b.relatedTarget;j instanceof HTMLElement&&j.dataset.headlessuiFocusGuard!=="true"&&(SZ(_,j)||(v.current?iw(r.current,ls(d.current,{[Sv.Forwards]:()=>kf.Next,[Sv.Backwards]:()=>kf.Previous})|kf.WrapAround,{relativeTo:b.target}):b.target instanceof HTMLElement&&Hf(b.target)))}};return ne.createElement(ne.Fragment,null,!!(o&4)&&ne.createElement(wT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Bw.Focusable}),ao({ourProps:y,theirProps:l,defaultTag:Owe,name:"FocusTrap"}),!!(o&4)&&ne.createElement(wT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:Bw.Focusable}))}let Mwe=Sa(Rwe),rv=Object.assign(Mwe,{features:jZ});function Iwe(t=!0){let e=x.useRef(ud.slice());return YM(([r],[n])=>{n===!0&&r===!1&&F1(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=ud.slice())},[t,ud,e]),Nn(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function Dwe({ownerDocument:t},e){let r=Iwe(e);YM(()=>{e||t?.activeElement===t?.body&&Hf(r())},[e]),wZ(()=>{e&&Hf(r())})}function Lwe({ownerDocument:t,container:e,initialFocus:r},n){let i=x.useRef(null),a=Tx();return YM(()=>{if(!n)return;let o=e.current;o&&F1(()=>{if(!a.current)return;let l=t?.activeElement;if(r!=null&&r.current){if(r?.current===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}r!=null&&r.current?Hf(r.current):iw(o,kf.First)===hZ.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t?.activeElement})},[n]),i}function $we({ownerDocument:t,container:e,containers:r,previousActiveElement:n},i){let a=Tx();bZ(t?.defaultView,"focus",o=>{if(!i||!a.current)return;let l=_Z(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?SZ(l,u)?(n.current=u,Hf(u)):(o.preventDefault(),o.stopPropagation(),Hf(c)):Hf(n.current)},!0)}function SZ(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let NZ=x.createContext(!1);function Fwe(){return x.useContext(NZ)}function _T(t){return ne.createElement(NZ.Provider,{value:t.force},t.children)}function Bwe(t){let e=Fwe(),r=x.useContext(CZ),n=Ax(t),[i,a]=x.useState(()=>{if(!e&&r!==null||Vc.isServer)return null;let o=n?.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return x.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),x.useEffect(()=>{e||r!==null&&a(r.current)},[r,a,e]),i}let zwe=x.Fragment;function qwe(t,e){let r=t,n=x.useRef(null),i=Ho(jwe(d=>{n.current=d}),e),a=Ax(n),o=Bwe(n),[l]=x.useState(()=>{var d;return Vc.isServer?null:(d=a?.createElement("div"))!=null?d:null}),c=x.useContext(jT),u=Gm();return io(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),io(()=>{if(l&&c)return c.register(l)},[c,l]),wZ(()=>{var d;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!l?null:Wo.createPortal(ao({ourProps:{ref:i},theirProps:r,defaultTag:zwe,name:"Portal"}),l):null}let Uwe=x.Fragment,CZ=x.createContext(null);function Vwe(t,e){let{target:r,...n}=t,i={ref:Ho(e)};return ne.createElement(CZ.Provider,{value:r},ao({ourProps:i,theirProps:n,defaultTag:Uwe,name:"Popover.Group"}))}let jT=x.createContext(null);function Wwe(){let t=x.useContext(jT),e=x.useRef([]),r=Nn(a=>(e.current.push(a),t&&t.register(a),()=>n(a))),n=Nn(a=>{let o=e.current.indexOf(a);o!==-1&&e.current.splice(o,1),t&&t.unregister(a)}),i=x.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,x.useMemo(()=>function({children:a}){return ne.createElement(jT.Provider,{value:i},a)},[i])]}let Hwe=Sa(qwe),Kwe=Sa(Vwe),ST=Object.assign(Hwe,{Group:Kwe});function Gwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const Zwe=typeof Object.is=="function"?Object.is:Gwe,{useState:Ywe,useEffect:Xwe,useLayoutEffect:Jwe,useDebugValue:Qwe}=Cd;function e_e(t,e,r){const n=e(),[{inst:i},a]=Ywe({inst:{value:n,getSnapshot:e}});return Jwe(()=>{i.value=n,i.getSnapshot=e,jC(i)&&a({inst:i})},[t,n,e]),Xwe(()=>(jC(i)&&a({inst:i}),t(()=>{jC(i)&&a({inst:i})})),[t]),Qwe(n),n}function jC(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!Zwe(r,n)}catch{return!0}}function t_e(t,e,r){return e()}const r_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",n_e=!r_e,i_e=n_e?t_e:e_e,s_e="useSyncExternalStore"in Cd?(t=>t.useSyncExternalStore)(Cd):i_e;function a_e(t){return s_e(t.subscribe,t.getSnapshot,t.getSnapshot)}function o_e(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...a){let o=e[i].call(r,...a);o&&(r=o,n.forEach(l=>l()))}}}function l_e(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,i=n.clientWidth-n.offsetWidth,a=t-i;r.style(n,"paddingRight",`${a}px`)}}}function c_e(){return mZ()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(a=>a()).some(a=>a.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=bh();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let a=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;a!==c&&window.scrollTo(0,a),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function u_e(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function d_e(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Rf=o_e(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:bh(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:d_e(r)},i=[c_e(),l_e(),u_e()];i.forEach(({before:a})=>a?.(n)),i.forEach(({after:a})=>a?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Rf.subscribe(()=>{let t=Rf.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&Rf.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Rf.dispatch("TEARDOWN",r)}});function f_e(t,e,r){let n=a_e(Rf),i=t?n.get(t):void 0,a=i?i.count>0:!1;return io(()=>{if(!(!t||!e))return Rf.dispatch("PUSH",t,r),()=>Rf.dispatch("POP",t,r)},[e,t]),a}let SC=new Map,nv=new Map;function x5(t,e=!0){io(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function i(){var o;if(!n)return;let l=(o=nv.get(n))!=null?o:1;if(l===1?nv.delete(n):nv.set(n,l-1),l!==1)return;let c=SC.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,SC.delete(n))}let a=(r=nv.get(n))!=null?r:0;return nv.set(n,a+1),a!==0||(SC.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),i},[t,e])}function h_e({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let i=x.useRef((n=r?.current)!=null?n:null),a=Ax(i),o=Nn(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=a?.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(i.current)||f.contains((u=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(g=>f.contains(g))||d.push(f));return d});return{resolveContainers:o,contains:Nn(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:i,MainTreeNode:x.useMemo(()=>function(){return r!=null?null:ne.createElement(wT,{features:Bw.Hidden,ref:i})},[i,r])}}let QM=x.createContext(()=>{});QM.displayName="StackContext";var NT=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(NT||{});function p_e(){return x.useContext(QM)}function m_e({children:t,onUpdate:e,type:r,element:n,enabled:i}){let a=p_e(),o=Nn((...l)=>{e?.(...l),a(...l)});return io(()=>{let l=i===void 0||i===!0;return l&&o(0,r,n),()=>{l&&o(1,r,n)}},[o,r,n,i]),ne.createElement(QM.Provider,{value:o},t)}let EZ=x.createContext(null);function PZ(){let t=x.useContext(EZ);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,PZ),e}return t}function g_e(){let[t,e]=x.useState([]);return[t.length>0?t.join(" "):void 0,x.useMemo(()=>function(r){let n=Nn(a=>(e(o=>[...o,a]),()=>e(o=>{let l=o.slice(),c=l.indexOf(a);return c!==-1&&l.splice(c,1),l}))),i=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return ne.createElement(EZ.Provider,{value:i},r.children)},[e])]}let v_e="p";function y_e(t,e){let r=Zm(),{id:n=`headlessui-description-${r}`,...i}=t,a=PZ(),o=Ho(e);io(()=>a.register(n),[n,a.register]);let l={ref:o,...a.props,id:n};return ao({ourProps:l,theirProps:i,slot:a.slot||{},defaultTag:v_e,name:a.name||"Description"})}let x_e=Sa(y_e),b_e=Object.assign(x_e,{});var w_e=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(w_e||{}),__e=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(__e||{});let j_e={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},zw=x.createContext(null);zw.displayName="DialogContext";function Ox(t){let e=x.useContext(zw);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Ox),r}return e}function S_e(t,e,r=()=>[document.body]){f_e(t,e,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function N_e(t,e){return ls(e.type,j_e,t,e)}let C_e="div",E_e=Fw.RenderStrategy|Fw.Static;function P_e(t,e){let r=Zm(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:a,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=x.useState(0),g=x.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=JM();i===void 0&&v!==null&&(i=(v&ha.Open)===ha.Open);let y=x.useRef(null),b=Ho(y,e),_=Ax(y),j=t.hasOwnProperty("open")||v!==null,N=t.hasOwnProperty("onClose");if(!j&&!N)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!j)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!N)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof a!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${a}`);let C=i?0:1,[A,E]=x.useReducer(N_e,{titleId:null,descriptionId:null,panelRef:x.createRef()}),P=Nn(()=>a(!1)),O=Nn(Q=>E({type:0,id:Q})),I=Gm()?c?!1:C===0:!1,F=d>1,H=x.useContext(zw)!==null,[U,z]=Wwe(),V={get current(){var Q;return(Q=A.panelRef.current)!=null?Q:y.current}},{resolveContainers:X,mainTreeNodeRef:te,MainTreeNode:le}=h_e({portals:U,defaultContainers:[V]}),W=F?"parent":"leaf",re=v!==null?(v&ha.Closing)===ha.Closing:!1,G=H||re?!1:I,ie=x.useCallback(()=>{var Q,Y;return(Y=Array.from((Q=_?.querySelectorAll("body > *"))!=null?Q:[]).find(Ee=>Ee.id==="headlessui-portal-root"?!1:Ee.contains(te.current)&&Ee instanceof HTMLElement))!=null?Y:null},[te]);x5(ie,G);let Z=F?!0:I,de=x.useCallback(()=>{var Q,Y;return(Y=Array.from((Q=_?.querySelectorAll("[data-headlessui-portal]"))!=null?Q:[]).find(Ee=>Ee.contains(te.current)&&Ee instanceof HTMLElement))!=null?Y:null},[te]);x5(de,Z),_we(X,Q=>{Q.preventDefault(),P()},!(!I||F));let Me=!(F||C!==0);bZ(_?.defaultView,"keydown",Q=>{Me&&(Q.defaultPrevented||Q.key===xZ.Escape&&(Q.preventDefault(),Q.stopPropagation(),P()))}),S_e(_,!(re||C!==0||H),X),x.useEffect(()=>{if(C!==0||!y.current)return;let Q=new ResizeObserver(Y=>{for(let Ee of Y){let Ce=Ee.target.getBoundingClientRect();Ce.x===0&&Ce.y===0&&Ce.width===0&&Ce.height===0&&P()}});return Q.observe(y.current),()=>Q.disconnect()},[C,y,P]);let[oe,ae]=g_e(),ge=x.useMemo(()=>[{dialogState:C,close:P,setTitleId:O},A],[C,A,P,O]),ve=x.useMemo(()=>({open:C===0}),[C]),Ae={ref:b,id:n,role:l,"aria-modal":C===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":oe};return ne.createElement(m_e,{type:"Dialog",enabled:C===0,element:y,onUpdate:Nn((Q,Y)=>{Y==="Dialog"&&ls(Q,{[NT.Add]:()=>f(Ee=>Ee+1),[NT.Remove]:()=>f(Ee=>Ee-1)})})},ne.createElement(_T,{force:!0},ne.createElement(ST,null,ne.createElement(zw.Provider,{value:ge},ne.createElement(ST.Group,{target:y},ne.createElement(_T,{force:!1},ne.createElement(ae,{slot:ve,name:"Dialog.Description"},ne.createElement(rv,{initialFocus:o,containers:X,features:I?ls(W,{parent:rv.features.RestoreFocus,leaf:rv.features.All&~rv.features.FocusLock}):rv.features.None},ne.createElement(z,null,ao({ourProps:Ae,theirProps:u,slot:ve,defaultTag:C_e,features:E_e,visible:C===0,name:"Dialog"}))))))))),ne.createElement(le,null))}let k_e="div";function A_e(t,e){let r=Zm(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=t,[{dialogState:a,close:o}]=Ox("Dialog.Overlay"),l=Ho(e),c=Nn(d=>{if(d.target===d.currentTarget){if(kwe(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=x.useMemo(()=>({open:a===0}),[a]);return ao({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:i,slot:u,defaultTag:k_e,name:"Dialog.Overlay"})}let T_e="div";function O_e(t,e){let r=Zm(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=t,[{dialogState:a},o]=Ox("Dialog.Backdrop"),l=Ho(e);x.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=x.useMemo(()=>({open:a===0}),[a]);return ne.createElement(_T,{force:!0},ne.createElement(ST,null,ao({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:T_e,name:"Dialog.Backdrop"})))}let R_e="div";function M_e(t,e){let r=Zm(),{id:n=`headlessui-dialog-panel-${r}`,...i}=t,[{dialogState:a},o]=Ox("Dialog.Panel"),l=Ho(e,o.panelRef),c=x.useMemo(()=>({open:a===0}),[a]),u=Nn(d=>{d.stopPropagation()});return ao({ourProps:{ref:l,id:n,onClick:u},theirProps:i,slot:c,defaultTag:R_e,name:"Dialog.Panel"})}let I_e="h2";function D_e(t,e){let r=Zm(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:a,setTitleId:o}]=Ox("Dialog.Title"),l=Ho(e);x.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=x.useMemo(()=>({open:a===0}),[a]);return ao({ourProps:{ref:l,id:n},theirProps:i,slot:c,defaultTag:I_e,name:"Dialog.Title"})}let L_e=Sa(P_e),$_e=Sa(O_e),F_e=Sa(M_e),B_e=Sa(A_e),z_e=Sa(D_e),b5=Object.assign(L_e,{Backdrop:$_e,Panel:F_e,Overlay:B_e,Title:z_e,Description:b_e});function q_e(t=0){let[e,r]=x.useState(t),n=Tx(),i=x.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),a=x.useCallback(c=>!!(e&c),[e]),o=x.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=x.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:i,hasFlag:a,removeFlag:o,toggleFlag:l}}function U_e(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function NC(t,...e){t&&e.length>0&&t.classList.add(...e)}function CC(t,...e){t&&e.length>0&&t.classList.remove(...e)}function V_e(t,e){let r=bh();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(t),[a,o]=[n,i].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=a+o;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function W_e(t,e,r,n){let i=r?"enter":"leave",a=bh(),o=n!==void 0?U_e(n):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=ls(i,{enter:()=>e.enter,leave:()=>e.leave}),c=ls(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=ls(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return CC(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),NC(t,...e.base,...l,...u),a.nextFrame(()=>{CC(t,...e.base,...l,...u),NC(t,...e.base,...l,...c),V_e(t,()=>(CC(t,...e.base,...l),NC(t,...e.base,...e.entered),o()))}),a.dispose}function H_e({immediate:t,container:e,direction:r,classes:n,onStart:i,onStop:a}){let o=Tx(),l=ZM(),c=Wc(r);io(()=>{t&&(c.current="enter")},[t]),io(()=>{let u=bh();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&o.current)return u.dispose(),i.current(c.current),u.add(W_e(d,n.current,c.current==="enter",()=>{u.dispose(),a.current(c.current)})),u.dispose},[r])}function Xu(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let B1=x.createContext(null);B1.displayName="TransitionContext";var K_e=(t=>(t.Visible="visible",t.Hidden="hidden",t))(K_e||{});function G_e(){let t=x.useContext(B1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function Z_e(){let t=x.useContext(z1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let z1=x.createContext(null);z1.displayName="NestingContext";function q1(t){return"children"in t?q1(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function kZ(t,e){let r=Wc(t),n=x.useRef([]),i=Tx(),a=ZM(),o=Nn((v,y=pd.Hidden)=>{let b=n.current.findIndex(({el:_})=>_===v);b!==-1&&(ls(y,{[pd.Unmount](){n.current.splice(b,1)},[pd.Hidden](){n.current[b].state="hidden"}}),a.microTask(()=>{var _;!q1(n)&&i.current&&((_=r.current)==null||_.call(r))}))}),l=Nn(v=>{let y=n.current.find(({el:b})=>b===v);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,pd.Unmount)}),c=x.useRef([]),u=x.useRef(Promise.resolve()),d=x.useRef({enter:[],leave:[],idle:[]}),f=Nn((v,y,b)=>{c.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([_])=>_!==v)),e?.chains.current[y].push([v,new Promise(_=>{c.current.push(_)})]),e?.chains.current[y].push([v,new Promise(_=>{Promise.all(d.current[y].map(([j,N])=>N)).then(()=>_())})]),y==="enter"?u.current=u.current.then(()=>e?.wait.current).then(()=>b(y)):b(y)}),g=Nn((v,y,b)=>{Promise.all(d.current[y].splice(0).map(([_,j])=>j)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>b(y))});return x.useMemo(()=>({children:n,register:l,unregister:o,onStart:f,onStop:g,wait:u,chains:d}),[l,o,n,f,g,d,u])}function Y_e(){}let X_e=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function w5(t){var e;let r={};for(let n of X_e)r[n]=(e=t[n])!=null?e:Y_e;return r}function J_e(t){let e=x.useRef(w5(t));return x.useEffect(()=>{e.current=w5(t)},[t]),e}let Q_e="div",AZ=Fw.RenderStrategy;function e1e(t,e){var r,n;let{beforeEnter:i,afterEnter:a,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:g,leaveFrom:v,leaveTo:y,...b}=t,_=x.useRef(null),j=Ho(_,e),N=(r=b.unmount)==null||r?pd.Unmount:pd.Hidden,{show:C,appear:A,initial:E}=G_e(),[P,O]=x.useState(C?"visible":"hidden"),I=Z_e(),{register:F,unregister:H}=I;x.useEffect(()=>F(_),[F,_]),x.useEffect(()=>{if(N===pd.Hidden&&_.current){if(C&&P!=="visible"){O("visible");return}return ls(P,{hidden:()=>H(_),visible:()=>F(_)})}},[P,_,F,H,C,N]);let U=Wc({base:Xu(b.className),enter:Xu(c),enterFrom:Xu(u),enterTo:Xu(d),entered:Xu(f),leave:Xu(g),leaveFrom:Xu(v),leaveTo:Xu(y)}),z=J_e({beforeEnter:i,afterEnter:a,beforeLeave:o,afterLeave:l}),V=Gm();x.useEffect(()=>{if(V&&P==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,P,V]);let X=E&&!A,te=A&&C&&E,le=!V||X?"idle":C?"enter":"leave",W=q_e(0),re=Nn(Me=>ls(Me,{enter:()=>{W.addFlag(ha.Opening),z.current.beforeEnter()},leave:()=>{W.addFlag(ha.Closing),z.current.beforeLeave()},idle:()=>{}})),G=Nn(Me=>ls(Me,{enter:()=>{W.removeFlag(ha.Opening),z.current.afterEnter()},leave:()=>{W.removeFlag(ha.Closing),z.current.afterLeave()},idle:()=>{}})),ie=kZ(()=>{O("hidden"),H(_)},I),Z=x.useRef(!1);H_e({immediate:te,container:_,classes:U,direction:le,onStart:Wc(Me=>{Z.current=!0,ie.onStart(_,Me,re)}),onStop:Wc(Me=>{Z.current=!1,ie.onStop(_,Me,G),Me==="leave"&&!q1(ie)&&(O("hidden"),H(_))})});let de=b,Se={ref:j};return te?de={...de,className:$w(b.className,...U.current.enter,...U.current.enterFrom)}:Z.current&&(de.className=$w(b.className,(n=_.current)==null?void 0:n.className),de.className===""&&delete de.className),ne.createElement(z1.Provider,{value:ie},ne.createElement(Ewe,{value:ls(P,{visible:ha.Open,hidden:ha.Closed})|W.flags},ao({ourProps:Se,theirProps:de,defaultTag:Q_e,features:AZ,visible:P==="visible",name:"Transition.Child"})))}function t1e(t,e){let{show:r,appear:n=!1,unmount:i=!0,...a}=t,o=x.useRef(null),l=Ho(o,e);Gm();let c=JM();if(r===void 0&&c!==null&&(r=(c&ha.Open)===ha.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=x.useState(r?"visible":"hidden"),f=kZ(()=>{d("hidden")}),[g,v]=x.useState(!0),y=x.useRef([r]);io(()=>{g!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),v(!1))},[y,r]);let b=x.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);x.useEffect(()=>{if(r)d("visible");else if(!q1(f))d("hidden");else{let C=o.current;if(!C)return;let A=C.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&d("hidden")}},[r,f]);let _={unmount:i},j=Nn(()=>{var C;g&&v(!1),(C=t.beforeEnter)==null||C.call(t)}),N=Nn(()=>{var C;g&&v(!1),(C=t.beforeLeave)==null||C.call(t)});return ne.createElement(z1.Provider,{value:f},ne.createElement(B1.Provider,{value:b},ao({ourProps:{..._,as:x.Fragment,children:ne.createElement(TZ,{ref:l,..._,...a,beforeEnter:j,beforeLeave:N})},theirProps:{},defaultTag:x.Fragment,features:AZ,visible:u==="visible",name:"Transition"})))}function r1e(t,e){let r=x.useContext(B1)!==null,n=JM()!==null;return ne.createElement(ne.Fragment,null,!r&&n?ne.createElement(CT,{ref:e,...t}):ne.createElement(TZ,{ref:e,...t}))}let CT=Sa(t1e),TZ=Sa(e1e),n1e=Sa(r1e),EC=Object.assign(CT,{Child:n1e,Root:CT});const i1e=[{name:"Tableau de bord",href:"/admin",icon:XH},{name:"Utilisateurs",href:"/admin/users",icon:va},{name:"Annonces",href:"/admin/listings",icon:Bv},{name:"Transactions",href:"/admin/transactions",icon:em},{name:"Catégories",href:"/admin/categories",icon:ph},{name:"Rapports",href:"/admin/analytics",icon:wM},{name:"Modération",href:"/admin/moderation",icon:xd},{name:"Paramètres",href:"/admin/settings",icon:Of}];function s1e({sidebarOpen:t,setSidebarOpen:e}){const r=Vi(),{logout:n}=Mr(),i=async()=>{try{await n(),e(!1)}catch(a){console.error("Erreur lors de la déconnexion:",a)}};return s.jsx(EC.Root,{show:t,as:x.Fragment,children:s.jsxs(b5,{as:"div",className:"fixed inset-0 z-40 flex md:hidden",onClose:e,children:[s.jsx(EC.Child,{as:x.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:s.jsx(b5.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),s.jsx(EC.Child,{as:x.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:s.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-slate-900",children:[s.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:s.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>e(!1),children:[s.jsx("span",{className:"sr-only",children:"Fermer le menu"}),s.jsx(Gs,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),s.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[s.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:s.jsx("h1",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),s.jsx("nav",{className:"mt-5 px-2 space-y-1",children:i1e.map(a=>s.jsxs(pr,{to:a.href,onClick:()=>e(!1),className:[r.pathname===a.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center px-2 py-2 text-base font-medium rounded-md"].join(" "),children:[s.jsx(a.icon,{className:["mr-4 flex-shrink-0 h-6 w-6",r.pathname===a.href?"text-white":"text-slate-400 group-hover:text-white"].join(" "),"aria-hidden":"true"}),a.name]},a.name))})]}),s.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-800 p-4",children:s.jsx("button",{onClick:i,className:"flex-shrink-0 w-full group block",children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{children:s.jsx(jM,{className:"h-6 w-6 text-slate-400 group-hover:text-white","aria-hidden":"true"})}),s.jsx("div",{className:"ml-3",children:s.jsx("p",{className:"text-sm font-medium text-slate-300 group-hover:text-white",children:"Déconnexion"})})]})})})]})}),s.jsx("div",{className:"flex-shrink-0 w-14"})]})})}function a1e(){const{user:t,hasRole:e,loading:r}=Mr(),[n,i]=x.useState(!1),a=En();return x.useEffect(()=>{!r&&!t?a("/connexion",{state:{from:"/admin"}}):!r&&t&&!e("admin")&&a("/")},[t,r,e,a]),r?s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:s.jsx(nn,{className:"h-12 w-12 animate-spin text-blue-500"})}):s.jsxs("div",{className:"flex h-screen bg-slate-900 text-white overflow-hidden",children:[s.jsx(s1e,{sidebarOpen:n,setSidebarOpen:i}),s.jsx(lwe,{className:"hidden md:flex"}),s.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[s.jsxs("header",{className:"bg-slate-800 border-b border-slate-700 flex items-center justify-between p-4",children:[s.jsxs("button",{type:"button",className:"md:hidden text-slate-400 hover:text-white focus:outline-none",onClick:()=>i(!0),children:[s.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("button",{className:"p-1 rounded-full text-slate-400 hover:text-white focus:outline-none",children:[s.jsx("span",{className:"sr-only",children:"Notifications"}),s.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),s.jsx("div",{className:"relative",children:s.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",children:[s.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-slate-700 text-sm font-medium text-white",children:t?.name?.charAt(0)||"A"}),s.jsxs("span",{className:"hidden md:inline-flex items-center",children:[s.jsx("span",{className:"text-sm font-medium text-slate-300",children:t?.name||"Admin"}),s.jsx("svg",{className:"ml-2 h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})})]})]}),s.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-900 p-4 md:p-8",children:s.jsx(T7,{})})]})]})}var Rx=t=>t.type==="checkbox",Mf=t=>t instanceof Date,ys=t=>t==null;const OZ=t=>typeof t=="object";var Kn=t=>!ys(t)&&!Array.isArray(t)&&OZ(t)&&!Mf(t),o1e=t=>Kn(t)&&t.target?Rx(t.target)?t.target.checked:t.target.value:t,l1e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,c1e=(t,e)=>t.has(l1e(e)),u1e=t=>{const e=t.constructor&&t.constructor.prototype;return Kn(e)&&e.hasOwnProperty("isPrototypeOf")},eI=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function es(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(eI&&(t instanceof Blob||n))&&(r||Kn(t)))if(e=r?[]:{},!r&&!u1e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=es(t[i]));else return t;return e}var U1=t=>Array.isArray(t)?t.filter(Boolean):[],ri=t=>t===void 0,St=(t,e,r)=>{if(!e||!Kn(t))return r;const n=U1(e.split(/[,[\].]+?/)).reduce((i,a)=>ys(i)?i:i[a],t);return ri(n)||n===t?ri(t[e])?r:t[e]:n},hl=t=>typeof t=="boolean",tI=t=>/^\w*$/.test(t),RZ=t=>U1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Qr=(t,e,r)=>{let n=-1;const i=tI(e)?[e]:RZ(e),a=i.length,o=a-1;for(;++n<a;){const l=i[n];let c=r;if(n!==o){const u=t[l];c=Kn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const _5={BLUR:"blur",FOCUS_OUT:"focusout"},Oo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Sc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},d1e=ne.createContext(null),f1e=()=>ne.useContext(d1e);var h1e=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const o=a;return e._proxyFormState[o]!==Oo.all&&(e._proxyFormState[o]=!n||Oo.all),t[o]}});return i};const p1e=typeof window<"u"?x.useLayoutEffect:x.useEffect;var xl=t=>typeof t=="string",m1e=(t,e,r,n,i)=>xl(t)?(n&&e.watch.add(t),St(r,t,i)):Array.isArray(t)?t.map(a=>(n&&e.watch.add(a),St(r,a))):(n&&(e.watchAll=!0),r),MZ=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},zv=t=>Array.isArray(t)?t:[t],j5=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},ET=t=>ys(t)||!OZ(t);function dd(t,e){if(ET(t)||ET(e))return t===e;if(Mf(t)&&Mf(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const a=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Mf(a)&&Mf(o)||Kn(a)&&Kn(o)||Array.isArray(a)&&Array.isArray(o)?!dd(a,o):a!==o)return!1}}return!0}var Fs=t=>Kn(t)&&!Object.keys(t).length,rI=t=>t.type==="file",Ro=t=>typeof t=="function",qw=t=>{if(!eI)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},IZ=t=>t.type==="select-multiple",nI=t=>t.type==="radio",g1e=t=>nI(t)||Rx(t),PC=t=>qw(t)&&t.isConnected;function v1e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=ri(t)?n++:t[e[n++]];return t}function y1e(t){for(const e in t)if(t.hasOwnProperty(e)&&!ri(t[e]))return!1;return!0}function pi(t,e){const r=Array.isArray(e)?e:tI(e)?[e]:RZ(e),n=r.length===1?t:v1e(t,r),i=r.length-1,a=r[i];return n&&delete n[a],i!==0&&(Kn(n)&&Fs(n)||Array.isArray(n)&&y1e(n))&&pi(t,r.slice(0,-1)),t}var DZ=t=>{for(const e in t)if(Ro(t[e]))return!0;return!1};function Uw(t,e={}){const r=Array.isArray(t);if(Kn(t)||r)for(const n in t)Array.isArray(t[n])||Kn(t[n])&&!DZ(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Uw(t[n],e[n])):ys(t[n])||(e[n]=!0);return e}function LZ(t,e,r){const n=Array.isArray(t);if(Kn(t)||n)for(const i in t)Array.isArray(t[i])||Kn(t[i])&&!DZ(t[i])?ri(e)||ET(r[i])?r[i]=Array.isArray(t[i])?Uw(t[i],[]):{...Uw(t[i])}:LZ(t[i],ys(e)?{}:e[i],r[i]):r[i]=!dd(t[i],e[i]);return r}var iv=(t,e)=>LZ(t,e,Uw(e));const S5={value:!1,isValid:!1},N5={value:!0,isValid:!0};var $Z=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ri(t[0].attributes.value)?ri(t[0].value)||t[0].value===""?N5:{value:t[0].value,isValid:!0}:N5:S5}return S5},FZ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>ri(t)?t:e?t===""?NaN:t&&+t:r&&xl(t)?new Date(t):n?n(t):t;const C5={isValid:!1,value:null};var BZ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,C5):C5;function E5(t){const e=t.ref;return rI(e)?e.files:nI(e)?BZ(t.refs).value:IZ(e)?[...e.selectedOptions].map(({value:r})=>r):Rx(e)?$Z(t.refs).value:FZ(ri(e.value)?t.ref.value:e.value,t)}var x1e=(t,e,r,n)=>{const i={};for(const a of t){const o=St(e,a);o&&Qr(i,a,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Vw=t=>t instanceof RegExp,sv=t=>ri(t)?t:Vw(t)?t.source:Kn(t)?Vw(t.value)?t.value.source:t.value:t,P5=t=>({isOnSubmit:!t||t===Oo.onSubmit,isOnBlur:t===Oo.onBlur,isOnChange:t===Oo.onChange,isOnAll:t===Oo.all,isOnTouch:t===Oo.onTouched});const k5="AsyncFunction";var b1e=t=>!!t&&!!t.validate&&!!(Ro(t.validate)&&t.validate.constructor.name===k5||Kn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===k5)),w1e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),A5=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const qv=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const a=St(t,i);if(a){const{_f:o,...l}=a;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(qv(l,e))break}else if(Kn(l)&&qv(l,e))break}}};function T5(t,e,r){const n=St(t,r);if(n||tI(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const a=i.join("."),o=St(e,a),l=St(t,a);if(o&&!Array.isArray(o)&&r!==a)return{name:r};if(l&&l.type)return{name:a,error:l};if(l&&l.root&&l.root.type)return{name:`${a}.root`,error:l.root};i.pop()}return{name:r}}var _1e=(t,e,r,n)=>{r(t);const{name:i,...a}=t;return Fs(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(o=>e[o]===(!n||Oo.all))},j1e=(t,e,r)=>!t||!e||t===e||zv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),S1e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,N1e=(t,e)=>!U1(St(t,e)).length&&pi(t,e),C1e=(t,e,r)=>{const n=zv(St(t,r));return Qr(n,"root",e[r]),Qr(t,r,n),t},sw=t=>xl(t);function O5(t,e,r="validate"){if(sw(t)||Array.isArray(t)&&t.every(sw)||hl(t)&&!t)return{type:r,message:sw(t)?t:"",ref:e}}var vp=t=>Kn(t)&&!Vw(t)?t:{value:t,message:""},R5=async(t,e,r,n,i,a)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:g,pattern:v,validate:y,name:b,valueAsNumber:_,mount:j}=t._f,N=St(r,b);if(!j||e.has(b))return{};const C=l?l[0]:o,A=z=>{i&&C.reportValidity&&(C.setCustomValidity(hl(z)?"":z||""),C.reportValidity())},E={},P=nI(o),O=Rx(o),I=P||O,F=(_||rI(o))&&ri(o.value)&&ri(N)||qw(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,H=MZ.bind(null,b,n,E),U=(z,V,X,te=Sc.maxLength,le=Sc.minLength)=>{const W=z?V:X;E[b]={type:z?te:le,message:W,ref:o,...H(z?te:le,W)}};if(a?!Array.isArray(N)||!N.length:c&&(!I&&(F||ys(N))||hl(N)&&!N||O&&!$Z(l).isValid||P&&!BZ(l).isValid)){const{value:z,message:V}=sw(c)?{value:!!c,message:c}:vp(c);if(z&&(E[b]={type:Sc.required,message:V,ref:C,...H(Sc.required,V)},!n))return A(V),E}if(!F&&(!ys(f)||!ys(g))){let z,V;const X=vp(g),te=vp(f);if(!ys(N)&&!isNaN(N)){const le=o.valueAsNumber||N&&+N;ys(X.value)||(z=le>X.value),ys(te.value)||(V=le<te.value)}else{const le=o.valueAsDate||new Date(N),W=ie=>new Date(new Date().toDateString()+" "+ie),re=o.type=="time",G=o.type=="week";xl(X.value)&&N&&(z=re?W(N)>W(X.value):G?N>X.value:le>new Date(X.value)),xl(te.value)&&N&&(V=re?W(N)<W(te.value):G?N<te.value:le<new Date(te.value))}if((z||V)&&(U(!!z,X.message,te.message,Sc.max,Sc.min),!n))return A(E[b].message),E}if((u||d)&&!F&&(xl(N)||a&&Array.isArray(N))){const z=vp(u),V=vp(d),X=!ys(z.value)&&N.length>+z.value,te=!ys(V.value)&&N.length<+V.value;if((X||te)&&(U(X,z.message,V.message),!n))return A(E[b].message),E}if(v&&!F&&xl(N)){const{value:z,message:V}=vp(v);if(Vw(z)&&!N.match(z)&&(E[b]={type:Sc.pattern,message:V,ref:o,...H(Sc.pattern,V)},!n))return A(V),E}if(y){if(Ro(y)){const z=await y(N,r),V=O5(z,C);if(V&&(E[b]={...V,...H(Sc.validate,V.message)},!n))return A(V.message),E}else if(Kn(y)){let z={};for(const V in y){if(!Fs(z)&&!n)break;const X=O5(await y[V](N,r),C,V);X&&(z={...X,...H(V,X.message)},A(X.message),n&&(E[b]=z))}if(!Fs(z)&&(E[b]={ref:C,...z},!n))return E}}return A(!0),E};const E1e={mode:Oo.onSubmit,reValidateMode:Oo.onChange,shouldFocusError:!0};function P1e(t={}){let e={...E1e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ro(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=Kn(e.defaultValues)||Kn(e.values)?es(e.defaultValues||e.values)||{}:{},a=e.shouldUnregister?{}:es(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const g={array:j5(),state:j5()},v=e.criteriaMode===Oo.all,y=ye=>Pe=>{clearTimeout(u),u=setTimeout(ye,Pe)},b=async ye=>{if(!e.disabled&&(d.isValid||f.isValid||ye)){const Pe=e.resolver?Fs((await O()).errors):await F(n,!0);Pe!==r.isValid&&g.state.next({isValid:Pe})}},_=(ye,Pe)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ye||Array.from(l.mount)).forEach(Fe=>{Fe&&(Pe?Qr(r.validatingFields,Fe,Pe):pi(r.validatingFields,Fe))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Fs(r.validatingFields)}))},j=(ye,Pe=[],Fe,et,lt=!0,ue=!0)=>{if(et&&Fe&&!e.disabled){if(o.action=!0,ue&&Array.isArray(St(n,ye))){const Te=Fe(St(n,ye),et.argA,et.argB);lt&&Qr(n,ye,Te)}if(ue&&Array.isArray(St(r.errors,ye))){const Te=Fe(St(r.errors,ye),et.argA,et.argB);lt&&Qr(r.errors,ye,Te),N1e(r.errors,ye)}if((d.touchedFields||f.touchedFields)&&ue&&Array.isArray(St(r.touchedFields,ye))){const Te=Fe(St(r.touchedFields,ye),et.argA,et.argB);lt&&Qr(r.touchedFields,ye,Te)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=iv(i,a)),g.state.next({name:ye,isDirty:U(ye,Pe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Qr(a,ye,Pe)},N=(ye,Pe)=>{Qr(r.errors,ye,Pe),g.state.next({errors:r.errors})},C=ye=>{r.errors=ye,g.state.next({errors:r.errors,isValid:!1})},A=(ye,Pe,Fe,et)=>{const lt=St(n,ye);if(lt){const ue=St(a,ye,ri(Fe)?St(i,ye):Fe);ri(ue)||et&&et.defaultChecked||Pe?Qr(a,ye,Pe?ue:E5(lt._f)):X(ye,ue),o.mount&&b()}},E=(ye,Pe,Fe,et,lt)=>{let ue=!1,Te=!1;const J={name:ye};if(!e.disabled){if(!Fe||et){(d.isDirty||f.isDirty)&&(Te=r.isDirty,r.isDirty=J.isDirty=U(),ue=Te!==J.isDirty);const D=dd(St(i,ye),Pe);Te=!!St(r.dirtyFields,ye),D?pi(r.dirtyFields,ye):Qr(r.dirtyFields,ye,!0),J.dirtyFields=r.dirtyFields,ue=ue||(d.dirtyFields||f.dirtyFields)&&Te!==!D}if(Fe){const D=St(r.touchedFields,ye);D||(Qr(r.touchedFields,ye,Fe),J.touchedFields=r.touchedFields,ue=ue||(d.touchedFields||f.touchedFields)&&D!==Fe)}ue&&lt&&g.state.next(J)}return ue?J:{}},P=(ye,Pe,Fe,et)=>{const lt=St(r.errors,ye),ue=(d.isValid||f.isValid)&&hl(Pe)&&r.isValid!==Pe;if(e.delayError&&Fe?(c=y(()=>N(ye,Fe)),c(e.delayError)):(clearTimeout(u),c=null,Fe?Qr(r.errors,ye,Fe):pi(r.errors,ye)),(Fe?!dd(lt,Fe):lt)||!Fs(et)||ue){const Te={...et,...ue&&hl(Pe)?{isValid:Pe}:{},errors:r.errors,name:ye};r={...r,...Te},g.state.next(Te)}},O=async ye=>{_(ye,!0);const Pe=await e.resolver(a,e.context,x1e(ye||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(ye),Pe},I=async ye=>{const{errors:Pe}=await O(ye);if(ye)for(const Fe of ye){const et=St(Pe,Fe);et?Qr(r.errors,Fe,et):pi(r.errors,Fe)}else r.errors=Pe;return Pe},F=async(ye,Pe,Fe={valid:!0})=>{for(const et in ye){const lt=ye[et];if(lt){const{_f:ue,...Te}=lt;if(ue){const J=l.array.has(ue.name),D=lt._f&&b1e(lt._f);D&&d.validatingFields&&_([et],!0);const B=await R5(lt,l.disabled,a,v,e.shouldUseNativeValidation&&!Pe,J);if(D&&d.validatingFields&&_([et]),B[ue.name]&&(Fe.valid=!1,Pe))break;!Pe&&(St(B,ue.name)?J?C1e(r.errors,B,ue.name):Qr(r.errors,ue.name,B[ue.name]):pi(r.errors,ue.name))}!Fs(Te)&&await F(Te,Pe,Fe)}}return Fe.valid},H=()=>{for(const ye of l.unMount){const Pe=St(n,ye);Pe&&(Pe._f.refs?Pe._f.refs.every(Fe=>!PC(Fe)):!PC(Pe._f.ref))&&ae(ye)}l.unMount=new Set},U=(ye,Pe)=>!e.disabled&&(ye&&Pe&&Qr(a,ye,Pe),!dd(ie(),i)),z=(ye,Pe,Fe)=>m1e(ye,l,{...o.mount?a:ri(Pe)?i:xl(ye)?{[ye]:Pe}:Pe},Fe,Pe),V=ye=>U1(St(o.mount?a:i,ye,e.shouldUnregister?St(i,ye,[]):[])),X=(ye,Pe,Fe={})=>{const et=St(n,ye);let lt=Pe;if(et){const ue=et._f;ue&&(!ue.disabled&&Qr(a,ye,FZ(Pe,ue)),lt=qw(ue.ref)&&ys(Pe)?"":Pe,IZ(ue.ref)?[...ue.ref.options].forEach(Te=>Te.selected=lt.includes(Te.value)):ue.refs?Rx(ue.ref)?ue.refs.forEach(Te=>{(!Te.defaultChecked||!Te.disabled)&&(Array.isArray(lt)?Te.checked=!!lt.find(J=>J===Te.value):Te.checked=lt===Te.value||!!lt)}):ue.refs.forEach(Te=>Te.checked=Te.value===lt):rI(ue.ref)?ue.ref.value="":(ue.ref.value=lt,ue.ref.type||g.state.next({name:ye,values:es(a)})))}(Fe.shouldDirty||Fe.shouldTouch)&&E(ye,lt,Fe.shouldTouch,Fe.shouldDirty,!0),Fe.shouldValidate&&G(ye)},te=(ye,Pe,Fe)=>{for(const et in Pe){if(!Pe.hasOwnProperty(et))return;const lt=Pe[et],ue=ye+"."+et,Te=St(n,ue);(l.array.has(ye)||Kn(lt)||Te&&!Te._f)&&!Mf(lt)?te(ue,lt,Fe):X(ue,lt,Fe)}},le=(ye,Pe,Fe={})=>{const et=St(n,ye),lt=l.array.has(ye),ue=es(Pe);Qr(a,ye,ue),lt?(g.array.next({name:ye,values:es(a)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&Fe.shouldDirty&&g.state.next({name:ye,dirtyFields:iv(i,a),isDirty:U(ye,ue)})):et&&!et._f&&!ys(ue)?te(ye,ue,Fe):X(ye,ue,Fe),A5(ye,l)&&g.state.next({...r}),g.state.next({name:o.mount?ye:void 0,values:es(a)})},W=async ye=>{o.mount=!0;const Pe=ye.target;let Fe=Pe.name,et=!0;const lt=St(n,Fe),ue=D=>{et=Number.isNaN(D)||Mf(D)&&isNaN(D.getTime())||dd(D,St(a,Fe,D))},Te=P5(e.mode),J=P5(e.reValidateMode);if(lt){let D,B;const me=Pe.type?E5(lt._f):o1e(ye),Ne=ye.type===_5.BLUR||ye.type===_5.FOCUS_OUT,ze=!w1e(lt._f)&&!e.resolver&&!St(r.errors,Fe)&&!lt._f.deps||S1e(Ne,St(r.touchedFields,Fe),r.isSubmitted,J,Te),We=A5(Fe,l,Ne);Qr(a,Fe,me),Ne?(lt._f.onBlur&&lt._f.onBlur(ye),c&&c(0)):lt._f.onChange&&lt._f.onChange(ye);const Rt=E(Fe,me,Ne),gr=!Fs(Rt)||We;if(!Ne&&g.state.next({name:Fe,type:ye.type,values:es(a)}),ze)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ne&&b():Ne||b()),gr&&g.state.next({name:Fe,...We?{}:Rt});if(!Ne&&We&&g.state.next({...r}),e.resolver){const{errors:rr}=await O([Fe]);if(ue(me),et){const ur=T5(r.errors,n,Fe),ar=T5(rr,n,ur.name||Fe);D=ar.error,Fe=ar.name,B=Fs(rr)}}else _([Fe],!0),D=(await R5(lt,l.disabled,a,v,e.shouldUseNativeValidation))[Fe],_([Fe]),ue(me),et&&(D?B=!1:(d.isValid||f.isValid)&&(B=await F(n,!0)));et&&(lt._f.deps&&G(lt._f.deps),P(Fe,B,D,Rt))}},re=(ye,Pe)=>{if(St(r.errors,Pe)&&ye.focus)return ye.focus(),1},G=async(ye,Pe={})=>{let Fe,et;const lt=zv(ye);if(e.resolver){const ue=await I(ri(ye)?ye:lt);Fe=Fs(ue),et=ye?!lt.some(Te=>St(ue,Te)):Fe}else ye?(et=(await Promise.all(lt.map(async ue=>{const Te=St(n,ue);return await F(Te&&Te._f?{[ue]:Te}:Te)}))).every(Boolean),!(!et&&!r.isValid)&&b()):et=Fe=await F(n);return g.state.next({...!xl(ye)||(d.isValid||f.isValid)&&Fe!==r.isValid?{}:{name:ye},...e.resolver||!ye?{isValid:Fe}:{},errors:r.errors}),Pe.shouldFocus&&!et&&qv(n,re,ye?lt:l.mount),et},ie=ye=>{const Pe={...o.mount?a:i};return ri(ye)?Pe:xl(ye)?St(Pe,ye):ye.map(Fe=>St(Pe,Fe))},Z=(ye,Pe)=>({invalid:!!St((Pe||r).errors,ye),isDirty:!!St((Pe||r).dirtyFields,ye),error:St((Pe||r).errors,ye),isValidating:!!St(r.validatingFields,ye),isTouched:!!St((Pe||r).touchedFields,ye)}),de=ye=>{ye&&zv(ye).forEach(Pe=>pi(r.errors,Pe)),g.state.next({errors:ye?r.errors:{}})},Se=(ye,Pe,Fe)=>{const et=(St(n,ye,{_f:{}})._f||{}).ref,lt=St(r.errors,ye)||{},{ref:ue,message:Te,type:J,...D}=lt;Qr(r.errors,ye,{...D,...Pe,ref:et}),g.state.next({name:ye,errors:r.errors,isValid:!1}),Fe&&Fe.shouldFocus&&et&&et.focus&&et.focus()},Me=(ye,Pe)=>Ro(ye)?g.state.subscribe({next:Fe=>ye(z(void 0,Pe),Fe)}):z(ye,Pe,!0),qe=ye=>g.state.subscribe({next:Pe=>{j1e(ye.name,Pe.name,ye.exact)&&_1e(Pe,ye.formState||d,Oe,ye.reRenderRoot)&&ye.callback({values:{...a},...r,...Pe})}}).unsubscribe,oe=ye=>(o.mount=!0,f={...f,...ye.formState},qe({...ye,formState:f})),ae=(ye,Pe={})=>{for(const Fe of ye?zv(ye):l.mount)l.mount.delete(Fe),l.array.delete(Fe),Pe.keepValue||(pi(n,Fe),pi(a,Fe)),!Pe.keepError&&pi(r.errors,Fe),!Pe.keepDirty&&pi(r.dirtyFields,Fe),!Pe.keepTouched&&pi(r.touchedFields,Fe),!Pe.keepIsValidating&&pi(r.validatingFields,Fe),!e.shouldUnregister&&!Pe.keepDefaultValue&&pi(i,Fe);g.state.next({values:es(a)}),g.state.next({...r,...Pe.keepDirty?{isDirty:U()}:{}}),!Pe.keepIsValid&&b()},ge=({disabled:ye,name:Pe})=>{(hl(ye)&&o.mount||ye||l.disabled.has(Pe))&&(ye?l.disabled.add(Pe):l.disabled.delete(Pe))},ve=(ye,Pe={})=>{let Fe=St(n,ye);const et=hl(Pe.disabled)||hl(e.disabled);return Qr(n,ye,{...Fe||{},_f:{...Fe&&Fe._f?Fe._f:{ref:{name:ye}},name:ye,mount:!0,...Pe}}),l.mount.add(ye),Fe?ge({disabled:hl(Pe.disabled)?Pe.disabled:e.disabled,name:ye}):A(ye,!0,Pe.value),{...et?{disabled:Pe.disabled||e.disabled}:{},...e.progressive?{required:!!Pe.required,min:sv(Pe.min),max:sv(Pe.max),minLength:sv(Pe.minLength),maxLength:sv(Pe.maxLength),pattern:sv(Pe.pattern)}:{},name:ye,onChange:W,onBlur:W,ref:lt=>{if(lt){ve(ye,Pe),Fe=St(n,ye);const ue=ri(lt.value)&&lt.querySelectorAll&&lt.querySelectorAll("input,select,textarea")[0]||lt,Te=g1e(ue),J=Fe._f.refs||[];if(Te?J.find(D=>D===ue):ue===Fe._f.ref)return;Qr(n,ye,{_f:{...Fe._f,...Te?{refs:[...J.filter(PC),ue,...Array.isArray(St(i,ye))?[{}]:[]],ref:{type:ue.type,name:ye}}:{ref:ue}}}),A(ye,!1,void 0,ue)}else Fe=St(n,ye,{}),Fe._f&&(Fe._f.mount=!1),(e.shouldUnregister||Pe.shouldUnregister)&&!(c1e(l.array,ye)&&o.action)&&l.unMount.add(ye)}}},Ae=()=>e.shouldFocusError&&qv(n,re,l.mount),Q=ye=>{hl(ye)&&(g.state.next({disabled:ye}),qv(n,(Pe,Fe)=>{const et=St(n,Fe);et&&(Pe.disabled=et._f.disabled||ye,Array.isArray(et._f.refs)&&et._f.refs.forEach(lt=>{lt.disabled=et._f.disabled||ye}))},0,!1))},Y=(ye,Pe)=>async Fe=>{let et;Fe&&(Fe.preventDefault&&Fe.preventDefault(),Fe.persist&&Fe.persist());let lt=es(a);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:ue,values:Te}=await O();r.errors=ue,lt=Te}else await F(n);if(l.disabled.size)for(const ue of l.disabled)Qr(lt,ue,void 0);if(pi(r.errors,"root"),Fs(r.errors)){g.state.next({errors:{}});try{await ye(lt,Fe)}catch(ue){et=ue}}else Pe&&await Pe({...r.errors},Fe),Ae(),setTimeout(Ae);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fs(r.errors)&&!et,submitCount:r.submitCount+1,errors:r.errors}),et)throw et},Ee=(ye,Pe={})=>{St(n,ye)&&(ri(Pe.defaultValue)?le(ye,es(St(i,ye))):(le(ye,Pe.defaultValue),Qr(i,ye,es(Pe.defaultValue))),Pe.keepTouched||pi(r.touchedFields,ye),Pe.keepDirty||(pi(r.dirtyFields,ye),r.isDirty=Pe.defaultValue?U(ye,es(St(i,ye))):U()),Pe.keepError||(pi(r.errors,ye),d.isValid&&b()),g.state.next({...r}))},Ce=(ye,Pe={})=>{const Fe=ye?es(ye):i,et=es(Fe),lt=Fs(ye),ue=lt?i:et;if(Pe.keepDefaultValues||(i=Fe),!Pe.keepValues){if(Pe.keepDirtyValues){const Te=new Set([...l.mount,...Object.keys(iv(i,a))]);for(const J of Array.from(Te))St(r.dirtyFields,J)?Qr(ue,J,St(a,J)):le(J,St(ue,J))}else{if(eI&&ri(ye))for(const Te of l.mount){const J=St(n,Te);if(J&&J._f){const D=Array.isArray(J._f.refs)?J._f.refs[0]:J._f.ref;if(qw(D)){const B=D.closest("form");if(B){B.reset();break}}}}for(const Te of l.mount)le(Te,St(ue,Te))}a=es(ue),g.array.next({values:{...ue}}),g.state.next({values:{...ue}})}l={mount:Pe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Pe.keepIsValid||!!Pe.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:Pe.keepSubmitCount?r.submitCount:0,isDirty:lt?!1:Pe.keepDirty?r.isDirty:!!(Pe.keepDefaultValues&&!dd(ye,i)),isSubmitted:Pe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:lt?{}:Pe.keepDirtyValues?Pe.keepDefaultValues&&a?iv(i,a):r.dirtyFields:Pe.keepDefaultValues&&ye?iv(i,ye):Pe.keepDirty?r.dirtyFields:{},touchedFields:Pe.keepTouched?r.touchedFields:{},errors:Pe.keepErrors?r.errors:{},isSubmitSuccessful:Pe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Qe=(ye,Pe)=>Ce(Ro(ye)?ye(a):ye,Pe),Ze=(ye,Pe={})=>{const Fe=St(n,ye),et=Fe&&Fe._f;if(et){const lt=et.refs?et.refs[0]:et.ref;lt.focus&&(lt.focus(),Pe.shouldSelect&&Ro(lt.select)&&lt.select())}},Oe=ye=>{r={...r,...ye}},Ft={control:{register:ve,unregister:ae,getFieldState:Z,handleSubmit:Y,setError:Se,_subscribe:qe,_runSchema:O,_focusError:Ae,_getWatch:z,_getDirty:U,_setValid:b,_setFieldArray:j,_setDisabledField:ge,_setErrors:C,_getFieldArray:V,_reset:Ce,_resetDefaultValues:()=>Ro(e.defaultValues)&&e.defaultValues().then(ye=>{Qe(ye,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:Q,_subjects:g,_proxyFormState:d,get _fields(){return n},get _formValues(){return a},get _state(){return o},set _state(ye){o=ye},get _defaultValues(){return i},get _names(){return l},set _names(ye){l=ye},get _formState(){return r},get _options(){return e},set _options(ye){e={...e,...ye}}},subscribe:oe,trigger:G,register:ve,handleSubmit:Y,watch:Me,setValue:le,getValues:ie,reset:Qe,resetField:Ee,clearErrors:de,unregister:ae,setError:Se,setFocus:Ze,getFieldState:Z};return{...Ft,formControl:Ft}}function Ym(t={}){const e=ne.useRef(void 0),r=ne.useRef(void 0),[n,i]=ne.useState({isDirty:!1,isValidating:!1,isLoading:Ro(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ro(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:P1e(t),formState:n},t.formControl&&t.defaultValues&&!Ro(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,p1e(()=>{const o=a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),a._formState.isReady=!0,o},[a]),ne.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),ne.useEffect(()=>{t.mode&&(a._options.mode=t.mode),t.reValidateMode&&(a._options.reValidateMode=t.reValidateMode)},[a,t.mode,t.reValidateMode]),ne.useEffect(()=>{t.errors&&(a._setErrors(t.errors),a._focusError())},[a,t.errors]),ne.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[a,t.shouldUnregister]),ne.useEffect(()=>{if(a._proxyFormState.isDirty){const o=a._getDirty();o!==n.isDirty&&a._subjects.state.next({isDirty:o})}},[a,n.isDirty]),ne.useEffect(()=>{t.values&&!dd(t.values,r.current)?(a._reset(t.values,a._options.resetOptions),r.current=t.values,i(o=>({...o}))):a._resetDefaultValues()},[a,t.values]),ne.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),e.current.formState=h1e(n,a),e.current}var k1e="Label",zZ=x.forwardRef((t,e)=>s.jsx(_r.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));zZ.displayName=k1e;var qZ=zZ;const ot=ne.forwardRef(({className:t,...e},r)=>s.jsx(qZ,{ref:r,className:Je("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));ot.displayName=qZ.displayName;function iI(t){const e=x.useRef({value:t,previous:t});return x.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var V1="Checkbox",[A1e,oWe]=an(V1),[T1e,sI]=A1e(V1);function O1e(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:a,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[g,v]=Ks({prop:r,defaultProp:i??!1,onChange:c,caller:V1}),[y,b]=x.useState(null),[_,j]=x.useState(null),N=x.useRef(!1),C=y?!!o||!!y.closest("form"):!0,A={checked:g,disabled:a,setChecked:v,control:y,setControl:b,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:bd(i)?!1:i,isFormControl:C,bubbleInput:_,setBubbleInput:j};return s.jsx(T1e,{scope:e,...A,children:R1e(f)?f(A):n})}var UZ="CheckboxTrigger",VZ=x.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:a,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:y}=sI(UZ,t),b=yt(i,d),_=x.useRef(c);return x.useEffect(()=>{const j=a?.form;if(j){const N=()=>f(_.current);return j.addEventListener("reset",N),()=>j.removeEventListener("reset",N)}},[a,f]),s.jsx(_r.button,{type:"button",role:"checkbox","aria-checked":bd(c)?"mixed":c,"aria-required":u,"data-state":ZZ(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:b,onKeyDown:tt(e,j=>{j.key==="Enter"&&j.preventDefault()}),onClick:tt(r,j=>{f(N=>bd(N)?!0:!N),y&&v&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})})});VZ.displayName=UZ;var aI=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return s.jsx(O1e,{__scopeCheckbox:r,checked:i,defaultChecked:a,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(VZ,{...f,ref:e,__scopeCheckbox:r}),g&&s.jsx(GZ,{__scopeCheckbox:r})]})})});aI.displayName=V1;var WZ="CheckboxIndicator",HZ=x.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,a=sI(WZ,r);return s.jsx(Zs,{present:n||bd(a.checked)||a.checked===!0,children:s.jsx(_r.span,{"data-state":ZZ(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});HZ.displayName=WZ;var KZ="CheckboxBubbleInput",GZ=x.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:a,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:v}=sI(KZ,t),y=yt(r,v),b=iI(a),_=vh(n);x.useEffect(()=>{const N=g;if(!N)return;const C=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(C,"checked").set,P=!i.current;if(b!==a&&E){const O=new Event("click",{bubbles:P});N.indeterminate=bd(a),E.call(N,bd(a)?!1:a),N.dispatchEvent(O)}},[g,b,a,i]);const j=x.useRef(bd(a)?!1:a);return s.jsx(_r.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??j.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});GZ.displayName=KZ;function R1e(t){return typeof t=="function"}function bd(t){return t==="indeterminate"}function ZZ(t){return bd(t)?"indeterminate":t?"checked":"unchecked"}const YZ=x.forwardRef(({className:t,...e},r)=>s.jsx(aI,{ref:r,className:Je("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(HZ,{className:Je("flex items-center justify-center text-current"),children:s.jsx(Ad,{className:"h-4 w-4"})})}));YZ.displayName=aI.displayName;const xt=ne.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Je("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xt.displayName="Card";const Wt=ne.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Je("flex flex-col space-y-1.5 p-6",t),...e}));Wt.displayName="CardHeader";const Ht=ne.forwardRef(({className:t,...e},r)=>s.jsx("h3",{ref:r,className:Je("text-2xl font-semibold leading-none tracking-tight",t),...e}));Ht.displayName="CardTitle";const ii=ne.forwardRef(({className:t,...e},r)=>s.jsx("p",{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));ii.displayName="CardDescription";const wt=ne.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Je("p-6 pt-0",t),...e}));wt.displayName="CardContent";const cy=ne.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:Je("flex items-center p-6 pt-0",t),...e}));cy.displayName="CardFooter";const M1e=()=>{const{login:t}=Mr(),{register:e,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=Ym(),[a,o]=x.useState(!1),{t:l}=gh("auth"),c=async u=>{await t(u,a)};return s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:l("login.title")}),s.jsx(ii,{children:l("login.subtitle")})]}),s.jsx(wt,{children:s.jsxs("form",{onSubmit:r(c),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"email",children:l("login.email")}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:l("validation.emailRequired"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:l("validation.emailInvalid")}})})]}),n.email&&s.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"password",children:l("login.password")}),s.jsxs("div",{className:"relative",children:[s.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...e("password",{required:l("validation.passwordRequired"),minLength:{value:8,message:l("validation.passwordMinLength")}})})]}),n.password&&s.jsx("p",{className:"text-sm text-destructive",children:n.password.message})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(YZ,{id:"rememberMe",checked:a,onCheckedChange:o}),s.jsx(ot,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:l("login.rememberMe")})]}),s.jsx(fe,{type:"submit",className:"w-full",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),l("status.loading")]}):l("login.loginButton")})]})}),s.jsxs(cy,{className:"flex flex-col space-y-2",children:[s.jsx(pr,{to:"/mot-de-passe-oublie",className:"text-sm text-primary hover:underline",children:"Mot de passe oublié ?"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",s.jsx(pr,{to:"/inscription",className:"text-primary hover:underline",children:"S'inscrire"})]})]})]})})},I1e=()=>{const{user:t,loading:e}=Mr(),r=En(),n=Vi();return x.useEffect(()=>{if(!e&&t){const i=n.state?.from||(t.role==="admin"?"/admin":"/");r(i,{replace:!0})}},[t,e,r,n]),e||t?null:s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(M1e,{})})},D1e=()=>{const{register:t}=Mr(),{register:e,handleSubmit:r,watch:n,formState:{errors:i,isSubmitting:a}}=Ym(),[o,l]=x.useState({shown:!1,email:""}),[c,u]=x.useState(!1),[d,f]=x.useState(null),g=async y=>{const b=await t(y);b&&b.needsConfirmation&&l({shown:!0,email:y.email})},v=n("password");return o.shown?s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(zhe,{className:"h-5 w-5 text-green-600"}),s.jsx(Ht,{children:"Inscription réussie"})]}),s.jsx(ii,{children:"Vérifiez votre email pour confirmer votre compte."})]}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nous avons envoyé un lien de confirmation à:",s.jsx("div",{className:"mt-1 font-medium text-foreground",children:o.email})]}),d&&s.jsx("div",{className:"text-sm",children:d}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{type:"button",onClick:async()=>{try{u(!0),f(null);const{error:y}=await be.auth.resend({type:"signup",email:o.email,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(y)throw y;f("Un nouvel email de confirmation a été envoyé.")}catch(y){f(y.message||"Impossible d'envoyer l'email de confirmation.")}finally{u(!1)}},disabled:c,className:"inline-flex items-center",children:c?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi..."]}):s.jsxs(s.Fragment,{children:[s.jsx(spe,{className:"mr-2 h-4 w-4"}),"Renvoyer l'email"]})}),s.jsx(fe,{type:"button",variant:"outline",onClick:()=>l({shown:!1,email:""}),children:"Utiliser une autre adresse"})]})]}),s.jsxs(cy,{className:"flex flex-col items-start gap-2",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Déjà confirmé ?"}),s.jsx(pr,{to:"/connexion",className:"text-primary hover:underline text-sm",children:"Se connecter"})]})]})}):s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Inscription"}),s.jsx(ii,{children:"Créez votre compte MaxiMarket"})]}),s.jsx(wt,{children:s.jsxs("form",{onSubmit:r(g),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"firstName",children:"Prénom"}),s.jsxs("div",{className:"relative",children:[s.jsx(Us,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"firstName",type:"text",placeholder:"John",className:"pl-10",...e("firstName",{required:"Le prénom est requis",minLength:{value:2,message:"Le prénom doit contenir au moins 2 caractères"}})})]}),i.firstName&&s.jsx("p",{className:"text-sm text-destructive",children:i.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"lastName",children:"Nom"}),s.jsxs("div",{className:"relative",children:[s.jsx(Us,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"lastName",type:"text",placeholder:"Doe",className:"pl-10",...e("lastName",{required:"Le nom est requis",minLength:{value:2,message:"Le nom doit contenir au moins 2 caractères"}})})]}),i.lastName&&s.jsx("p",{className:"text-sm text-destructive",children:i.lastName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),i.email&&s.jsx("p",{className:"text-sm text-destructive",children:i.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"phoneNumber",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"phoneNumber",type:"tel",placeholder:"+221 77 123 45 67",className:"pl-10",...e("phoneNumber",{required:"Le numéro de téléphone est requis",pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),i.phoneNumber&&s.jsx("p",{className:"text-sm text-destructive",children:i.phoneNumber.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"password",children:"Mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...e("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),i.password&&s.jsx("p",{className:"text-sm text-destructive",children:i.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"confirmPassword",type:"password",placeholder:"••••••••",className:"pl-10",...e("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:y=>y===v||"Les mots de passe ne correspondent pas"})})]}),i.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:i.confirmPassword.message})]}),s.jsx(fe,{type:"submit",className:"w-full",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription en cours..."]}):"S'inscrire"})]})}),s.jsx(cy,{children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",s.jsx(pr,{to:"/connexion",className:"text-primary hover:underline",children:"Se connecter"})]})})]})})},L1e=()=>s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx(D1e,{})}),$1e=()=>{const{toast:t}=Vr(),{register:e,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=Ym(),a=async o=>{try{t({title:"Email envoyé",description:"Si un compte existe avec cet email, vous recevrez les instructions de réinitialisation."})}catch(l){t({title:"Erreur",description:l.message,variant:"destructive"})}};return s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Mot de passe oublié"}),s.jsx(ii,{children:"Entrez votre adresse email pour recevoir les instructions de réinitialisation"})]}),s.jsx(wt,{children:s.jsxs("form",{onSubmit:r(a),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&s.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),s.jsx(fe,{type:"submit",className:"w-full",disabled:i,children:i?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer les instructions"})]})}),s.jsx(cy,{children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Retour à la"," ",s.jsx(pr,{to:"/connexion",className:"text-primary hover:underline",children:"page de connexion"})]})})]})})})},F1e=()=>{const{toast:t}=Vr(),e=En(),[r]=u1(),n=r.get("token"),{register:i,handleSubmit:a,watch:o,formState:{errors:l,isSubmitting:c}}=Ym(),u=o("password"),d=async f=>{try{if(!n)throw new Error("Token de réinitialisation manquant");t({title:"Mot de passe réinitialisé",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),e("/connexion")}catch(g){t({title:"Erreur",description:g.message,variant:"destructive"})}};return n?s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"w-full max-w-md",children:s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Réinitialisation du mot de passe"}),s.jsx(ii,{children:"Choisissez votre nouveau mot de passe"})]}),s.jsx(wt,{children:s.jsxs("form",{onSubmit:a(d),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"password",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"password",type:"password",className:"pl-10",...i("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),l.password&&s.jsx("p",{className:"text-sm text-destructive",children:l.password.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"confirmPassword",type:"password",className:"pl-10",...i("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:f=>f===u||"Les mots de passe ne correspondent pas"})})]}),l.confirmPassword&&s.jsx("p",{className:"text-sm text-destructive",children:l.confirmPassword.message})]}),s.jsx(fe,{type:"submit",className:"w-full",disabled:c,children:c?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Réinitialisation en cours..."]}):"Réinitialiser le mot de passe"})]})})]})})}):s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(xt,{children:s.jsxs(Wt,{children:[s.jsx(Ht,{className:"text-destructive",children:"Lien invalide"}),s.jsx(ii,{children:"Le lien de réinitialisation est invalide ou a expiré. Veuillez faire une nouvelle demande de réinitialisation."})]})})})},B1e=(t="dashboard")=>{const[e,r]=u1(),[n,i]=x.useState(t);return x.useEffect(()=>{const o=e.get("tab");o&&i(o)},[e]),{activeTab:n,handleTabChange:o=>{i(o),r({tab:o})},setActiveTab:i}},z1e=N1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function vt({className:t,variant:e,...r}){return s.jsx("div",{className:Je(z1e({variant:e}),t),...r})}function PT(t){const e=q1e(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(V1e);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function q1e(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=H1e(i),l=W1e(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var U1e=Symbol("radix.slottable");function V1e(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===U1e}function W1e(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function H1e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function K1e(t){const e=t+"CollectionProvider",[r,n]=an(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:_,children:j}=b,N=ne.useRef(null),C=ne.useRef(new Map).current;return s.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:j})};o.displayName=e;const l=t+"CollectionSlot",c=PT(l),u=ne.forwardRef((b,_)=>{const{scope:j,children:N}=b,C=a(l,j),A=yt(_,C.collectionRef);return s.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=PT(d),v=ne.forwardRef((b,_)=>{const{scope:j,children:N,...C}=b,A=ne.useRef(null),E=yt(_,A),P=a(d,j);return ne.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),s.jsx(g,{[f]:"",ref:E,children:N})});v.displayName=d;function y(b){const _=a(t+"CollectionConsumer",b);return ne.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var G1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Xm=G1e.reduce((t,e)=>{const r=PT(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),kC="rovingFocusGroup.onEntryFocus",Z1e={bubbles:!1,cancelable:!0},Mx="RovingFocusGroup",[kT,XZ,Y1e]=K1e(Mx),[X1e,JZ]=an(Mx,[Y1e]),[J1e,Q1e]=X1e(Mx),QZ=x.forwardRef((t,e)=>s.jsx(kT.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(kT.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(eje,{...t,ref:e})})}));QZ.displayName=Mx;var eje=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:a,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,g=x.useRef(null),v=yt(e,g),y=Vm(a),[b,_]=Ks({prop:o,defaultProp:l??null,onChange:c,caller:Mx}),[j,N]=x.useState(!1),C=Or(u),A=XZ(r),E=x.useRef(!1),[P,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(kC,C),()=>I.removeEventListener(kC,C)},[C]),s.jsx(J1e,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:b,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:s.jsx(Xm.div,{tabIndex:j||P===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:tt(t.onMouseDown,()=>{E.current=!0}),onFocus:tt(t.onFocus,I=>{const F=!E.current;if(I.target===I.currentTarget&&F&&!j){const H=new CustomEvent(kC,Z1e);if(I.currentTarget.dispatchEvent(H),!H.defaultPrevented){const U=A().filter(le=>le.focusable),z=U.find(le=>le.active),V=U.find(le=>le.id===b),te=[z,V,...U].filter(Boolean).map(le=>le.ref.current);rY(te,d)}}E.current=!1}),onBlur:tt(t.onBlur,()=>N(!1))})})}),eY="RovingFocusGroupItem",tY=x.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:a,children:o,...l}=t,c=Ws(),u=a||c,d=Q1e(eY,r),f=d.currentTabStopId===u,g=XZ(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:b}=d;return x.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),s.jsx(kT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:s.jsx(Xm.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:tt(t.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:tt(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:tt(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const j=nje(_,d.orientation,d.dir);if(j!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(j==="last")C.reverse();else if(j==="prev"||j==="next"){j==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=d.loop?ije(C,A+1):C.slice(A+1)}setTimeout(()=>rY(C))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:b!=null}):o})})});tY.displayName=eY;var tje={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rje(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function nje(t,e,r){const n=rje(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return tje[n]}function rY(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function ije(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var sje=QZ,aje=tY,W1="Tabs",[oje,lWe]=an(W1,[JZ]),nY=JZ(),[lje,oI]=oje(W1),iY=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:a,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Vm(l),[f,g]=Ks({prop:n,onChange:i,defaultProp:a??"",caller:W1});return s.jsx(lje,{scope:r,baseId:Ws(),value:f,onValueChange:g,orientation:o,dir:d,activationMode:c,children:s.jsx(Xm.div,{dir:d,"data-orientation":o,...u,ref:e})})});iY.displayName=W1;var sY="TabsList",aY=x.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,a=oI(sY,r),o=nY(r);return s.jsx(sje,{asChild:!0,...o,orientation:a.orientation,dir:a.dir,loop:n,children:s.jsx(Xm.div,{role:"tablist","aria-orientation":a.orientation,...i,ref:e})})});aY.displayName=sY;var oY="TabsTrigger",lY=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...a}=t,o=oI(oY,r),l=nY(r),c=dY(o.baseId,n),u=fY(o.baseId,n),d=n===o.value;return s.jsx(aje,{asChild:!0,...l,focusable:!i,active:d,children:s.jsx(Xm.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...a,ref:e,onMouseDown:tt(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:tt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:tt(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});lY.displayName=oY;var cY="TabsContent",uY=x.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:a,...o}=t,l=oI(cY,r),c=dY(l.baseId,n),u=fY(l.baseId,n),d=n===l.value,f=x.useRef(d);return x.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Zs,{present:i||d,children:({present:g})=>s.jsx(Xm.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&a})})});uY.displayName=cY;function dY(t,e){return`${t}-trigger-${e}`}function fY(t,e){return`${t}-content-${e}`}var cje=iY,hY=aY,pY=lY,mY=uY;const H1=cje,Ix=ne.forwardRef(({className:t,...e},r)=>s.jsx(hY,{ref:r,className:Je("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Ix.displayName=hY.displayName;const gi=ne.forwardRef(({className:t,...e},r)=>s.jsx(pY,{ref:r,className:Je("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));gi.displayName=pY.displayName;const vi=ne.forwardRef(({className:t,...e},r)=>s.jsx(mY,{ref:r,className:Je("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));vi.displayName=mY.displayName;const wb=({title:t,value:e,icon:r,trend:n,trendValue:i,color:a="blue",className:o})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600",pink:"from-pink-500 to-pink-600"},c={blue:"text-blue-200",green:"text-green-200",purple:"text-purple-200",orange:"text-orange-200",red:"text-red-200",teal:"text-teal-200",indigo:"text-indigo-200",pink:"text-pink-200"};return s.jsx(xt,{className:Je(`bg-gradient-to-br ${l[a]} text-white overflow-hidden`,o),children:s.jsx(wt,{className:"p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm opacity-90 mb-1",children:t}),s.jsx("p",{className:"text-2xl font-bold",children:e}),n&&s.jsx("div",{className:"flex items-center mt-2",children:s.jsxs(vt,{variant:"secondary",className:Je("text-xs bg-white/20 text-white border-0",n==="up"?"text-green-200":"text-red-200"),children:[n==="up"?"↗":"↘"," ",i]})})]}),r&&s.jsx("div",{className:Je("p-3 rounded-full bg-white/10",c[a]),children:s.jsx(r,{className:"h-6 w-6"})})]})})})},uje=(t={})=>{const{threshold:e=.1,rootMargin:r="50px",root:n=null,triggerOnce:i=!1}=t,[a,o]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),d=x.useCallback(f=>{const[g]=f;g.isIntersecting?(o(!0),i&&!l&&c(!0)):i||o(!1)},[i,l]);return x.useEffect(()=>{const f=u.current;if(!f)return;const g=new IntersectionObserver(d,{threshold:e,rootMargin:r,root:n});return g.observe(f),()=>{g.unobserve(f),g.disconnect()}},[d,e,r,n]),[u,a]},dje=(t={})=>{const{threshold:e=.1,rootMargin:r="100px",placeholder:n=null,onLoad:i=null,onError:a=null}=t,[o,l]=x.useState({src:null,isLoading:!1,hasLoaded:!1,hasError:!1}),[c,u]=uje({threshold:e,rootMargin:r,triggerOnce:!0}),d=x.useCallback(g=>{if(!g||o.src===g)return;l(y=>({...y,src:g,isLoading:!0,hasLoaded:!1,hasError:!1}));const v=new Image;v.onload=()=>{l(y=>({...y,isLoading:!1,hasLoaded:!0})),i?.(g)},v.onerror=()=>{l(y=>({...y,isLoading:!1,hasError:!0})),a?.(g)},v.src=g},[o.src,i,a]);x.useEffect(()=>{u&&o.src&&d(o.src)},[u,o.src,d]);const f=x.useCallback(g=>{g!==o.src&&l(v=>({...v,src:g}))},[o.src]);return{elementRef:c,isIntersecting:u,imageState:o,setImageSrc:f,loadImage:d}},M5={thumbnail:{width:150,height:150},card:{width:400,height:300},gallery:{width:800,height:600},fullscreen:{width:1200,height:900},hero:{width:1920,height:1080}},I5={low:60,medium:80,high:95},gY=(t,e="gallery",r="medium")=>{if(!t)return t;const n=M5[e]||M5.gallery,i=I5[r]||I5.medium;if(t.includes("unsplash.com"))return`${t}?w=${n.width}&h=${n.height}&fit=crop&q=${i}&auto=format&fm=webp`;if(t.includes("cloudinary.com"))return t.replace("/upload/",`/upload/w_${n.width},h_${n.height},c_fill,q_${i},f_auto/`);if(t.includes("imagekit.io"))return`${t}?tr=w-${n.width},h-${n.height},c-at_max,q-${i}`;if(t.includes("cdn.")||t.includes("static.")){const a=t.includes("?")?"&":"?";return`${t}${a}w=${n.width}&h=${n.height}&q=${i}`}return t},fje=(t,e="gallery",r="medium")=>Array.isArray(t)?t.map(n=>gY(n,e,r)):[],hje=({src:t,alt:e,className:r="",placeholder:n=null,context:i="gallery",quality:a="medium",onLoad:o=null,onError:l=null,showSkeleton:c=!0,priority:u="medium",fallbackSrc:d=null,enableHeroAnimations:f=!1,showOverlay:g=!1,overlayGradient:v="to-b from-transparent via-transparent to-black/20",...y})=>{const[b,_]=x.useState(!1),[j,N]=x.useState(!1),C=te=>te?typeof te=="string"?te:te?.url?te.url:te?.file?URL.createObjectURL(te.file):te?.src?te.src:te?.displayUrl?te.displayUrl:null:null,A=x.useMemo(()=>{const te=C(t);return te?gY(te,i,a):null},[t,i,a]),E=x.useMemo(()=>{if(d)return d;const te={hero:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop",city:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?q=80&w=1920&auto=format&fit=crop",business:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"};return te[i]||te.hero},[d,i]),{elementRef:P,isIntersecting:O,imageState:I,setImageSrc:F}=dje({threshold:.1,rootMargin:u==="high"?"50px":"100px",onLoad:te=>{N(!0),_(!1),o?.(te)},onError:te=>{_(!0),N(!1),l?.(te)}});ne.useEffect(()=>{O&&A&&F(A)},[O,A,F]);const H=x.useCallback(te=>{y.onClick&&y.onClick(te)},[y.onClick]),U=b?E:I.src||C(t),z=()=>s.jsx("div",{className:"animate-pulse bg-muted rounded-lg",children:s.jsx("div",{className:"w-full h-full bg-gradient-to-r from-muted via-muted/50 to-muted"})}),V=()=>s.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-sm",children:"Image non disponible"})]})});if(!t)return s.jsx("div",{className:r,children:s.jsx(V,{})});const X=C(t)!==null;return s.jsxs("div",{ref:P,className:`relative overflow-hidden ${r}`,children:[c&&!j&&!b&&X&&s.jsx(Bn,{children:s.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:s.jsx(z,{})})}),n&&!j&&!b&&X&&s.jsx(Bn,{children:s.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:s.jsx("img",{src:n,alt:"Placeholder",className:"w-full h-full object-cover"})})}),s.jsx(Bn,{mode:"wait",children:!b&&X&&s.jsx(Re.img,{src:U,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${j?"opacity-100":"opacity-0"}`,initial:f?{opacity:0,scale:1.1}:{opacity:0},animate:f?{opacity:j?1:.7,scale:j?1:1.05}:{opacity:j?1:0},exit:f?{opacity:0,scale:.95}:{opacity:0},transition:f?{duration:.8,ease:"easeOut",opacity:{duration:.5}}:{duration:.3},onLoad:()=>{U&&(N(!0),_(!1),o?.(U))},onError:()=>{_(!0),N(!1),l?.(U)},onClick:H,loading:u==="high"?"eager":"lazy",decoding:"async",...y},U)}),g&&j&&s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:`absolute inset-0 bg-gradient-${v}`}),b&&s.jsx(Bn,{children:s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"absolute inset-0 z-20",children:s.jsx(V,{})})}),I.isLoading&&!j&&!b&&X&&s.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/10",children:s.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full"})}),!X&&s.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),s.jsx("p",{className:"text-sm",children:"Format d'image non supporté"})]})})]})},Ww=ne.memo(hje),vY=ne.memo(({images:t=[],title:e="Galerie d'images",className:r=""})=>{const[n,i]=x.useState(0),[a,o]=x.useState(!1),l=v=>v?typeof v=="string"?v:v?.url?v.url:v?.file?URL.createObjectURL(v.file):v?.src?v.src:v?.displayUrl?v.displayUrl:null:null,c=t.filter(v=>l(v)!==null);x.useEffect(()=>{if(!a||c.length<=1)return;const v=setInterval(()=>{i(y=>(y+1)%c.length)},3e3);return()=>clearInterval(v)},[a,c.length]);const u=()=>{c.length>0&&i(v=>(v+1)%c.length)},d=()=>{c.length>0&&i(v=>(v-1+c.length)%c.length)},f=v=>{v>=0&&v<c.length&&i(v)};if(!c||c.length===0)return s.jsx("div",{className:`relative bg-muted flex items-center justify-center ${r}`,children:s.jsx("div",{className:"text-center text-muted-foreground",children:s.jsx("p",{className:"text-xs sm:text-sm",children:"Aucune image"})})});const g=c[n];return s.jsxs("div",{className:`relative bg-muted overflow-hidden group ${r}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[s.jsx(Bn,{mode:"wait",children:s.jsx(Re.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full h-full",children:s.jsx(Ww,{src:g,alt:`${e} - Image ${n+1}`,className:"w-full h-full object-cover",context:"card",quality:"medium",showSkeleton:!0})},n)}),c.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:v=>{v.stopPropagation(),d()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image précédente",children:s.jsx(ro,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),s.jsx("button",{onClick:v=>{v.stopPropagation(),u()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image suivante",children:s.jsx(no,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),c.length>1&&s.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 sm:gap-1.5",children:c.map((v,y)=>s.jsx("button",{onClick:b=>{b.stopPropagation(),f(y)},className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full transition-all duration-200 ${y===n?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${y+1}`},y))})]})}),D5=({listing:t,onEdit:e,onDelete:r,onRefresh:n,onBoost:i,showActions:a=!0})=>{const o=u=>{switch(u){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=u=>{switch(u){case"active":return"Active";case"pending":return"En attente";case"expired":return"Expirée";case"draft":return"Brouillon";default:return u}},c=u=>{let d="";if(typeof u=="string")d=u;else if(u&&typeof u=="object"&&u.name)d=u.name;else return"📦";switch(d.toLowerCase()){case"immobilier":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📦"}};return s.jsxs(xt,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx(vY,{images:t.images||[t.image],title:t.title,className:"h-48"}),s.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[s.jsx(vt,{variant:"secondary",className:Je("text-xs font-medium",o(t.status)),children:l(t.status)}),t.featured&&s.jsx(vt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200 text-xs",children:"⭐ Premium"})]}),s.jsx("div",{className:"absolute top-2 left-2",children:s.jsx("span",{className:"text-2xl",children:c(t.category)})})]}),s.jsx(wt,{className:"p-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2",children:t.title}),s.jsx("p",{className:"text-primary font-bold text-lg",children:t.price})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Nl,{className:"h-3 w-3 mr-1"}),t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:t.location?.city||t.location?.country||"Localisation non spécifiée"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(zl,{className:"h-3 w-3 mr-1"}),t.createdAt||t.created_at?new Date(t.createdAt||t.created_at).toLocaleDateString("fr-FR"):"Date inconnue"]})]}),s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(Bo,{className:"h-4 w-4 mr-1"}),t.views||t.views_count||0," vues"]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(va,{className:"h-4 w-4 mr-1"}),t.contacts||t.contacts_count||0," contacts"]})]}),t.boosted&&s.jsxs(vt,{variant:"outline",className:"text-xs",children:[s.jsx(bs,{className:"h-3 w-3 mr-1"}),"Boosté"]})]}),a&&s.jsxs("div",{className:"flex space-x-2 pt-2 border-t",children:[s.jsxs(fe,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>e?.(t),children:[s.jsx(j1,{className:"h-4 w-4 mr-1"}),"Modifier"]}),t.status==="active"&&s.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>i?.(t),className:"flex-1",children:[s.jsx(bs,{className:"h-4 w-4 mr-1"}),"Booster"]}),s.jsx(fe,{size:"sm",variant:"outline",onClick:()=>n?.(t),children:s.jsx(zo,{className:"h-4 w-4"})}),s.jsx(fe,{size:"sm",variant:"outline",onClick:()=>r?.(t),className:"text-red-600 hover:text-red-700",children:s.jsx(qo,{className:"h-4 w-4"})})]})]})})]})};function AT(t){const e=pje(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(gje);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function pje(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=yje(i),l=vje(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mje=Symbol("radix.slottable");function gje(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mje}function vje(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function yje(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function xje(t){const e=t+"CollectionProvider",[r,n]=an(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:_,children:j}=b,N=ne.useRef(null),C=ne.useRef(new Map).current;return s.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:j})};o.displayName=e;const l=t+"CollectionSlot",c=AT(l),u=ne.forwardRef((b,_)=>{const{scope:j,children:N}=b,C=a(l,j),A=yt(_,C.collectionRef);return s.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=AT(d),v=ne.forwardRef((b,_)=>{const{scope:j,children:N,...C}=b,A=ne.useRef(null),E=yt(_,A),P=a(d,j);return ne.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),s.jsx(g,{[f]:"",ref:E,children:N})});v.displayName=d;function y(b){const _=a(t+"CollectionConsumer",b);return ne.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var bje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yY=bje.reduce((t,e)=>{const r=AT(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function wje(t){const e=_je(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(Sje);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function _je(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=Cje(i),l=Nje(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var jje=Symbol("radix.slottable");function Sje(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jje}function Nje(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function Cje(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Eje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lI=Eje.reduce((t,e)=>{const r=wje(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),K1="Collapsible",[Pje,xY]=an(K1),[kje,cI]=Pje(K1),bY=x.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:a,onOpenChange:o,...l}=t,[c,u]=Ks({prop:n,defaultProp:i??!1,onChange:o,caller:K1});return s.jsx(kje,{scope:r,disabled:a,contentId:Ws(),open:c,onOpenToggle:x.useCallback(()=>u(d=>!d),[u]),children:s.jsx(lI.div,{"data-state":dI(c),"data-disabled":a?"":void 0,...l,ref:e})})});bY.displayName=K1;var wY="CollapsibleTrigger",_Y=x.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=cI(wY,r);return s.jsx(lI.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":dI(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:tt(t.onClick,i.onOpenToggle)})});_Y.displayName=wY;var uI="CollapsibleContent",jY=x.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=cI(uI,t.__scopeCollapsible);return s.jsx(Zs,{present:r||i.open,children:({present:a})=>s.jsx(Aje,{...n,ref:e,present:a})})});jY.displayName=uI;var Aje=x.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...a}=t,o=cI(uI,r),[l,c]=x.useState(n),u=x.useRef(null),d=yt(e,u),f=x.useRef(0),g=f.current,v=x.useRef(0),y=v.current,b=o.open||l,_=x.useRef(b),j=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(N)},[]),Cr(()=>{const N=u.current;if(N){j.current=j.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const C=N.getBoundingClientRect();f.current=C.height,v.current=C.width,_.current||(N.style.transitionDuration=j.current.transitionDuration,N.style.animationName=j.current.animationName),c(n)}},[o.open,n]),s.jsx(lI.div,{"data-state":dI(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!b,...a,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:b&&i})});function dI(t){return t?"open":"closed"}var Tje=bY,Oje=_Y,Rje=jY,Ko="Accordion",Mje=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[fI,Ije,Dje]=xje(Ko),[G1,cWe]=an(Ko,[Dje,xY]),hI=xY(),SY=ne.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,a=n;return s.jsx(fI.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?s.jsx(Bje,{...a,ref:e}):s.jsx(Fje,{...i,ref:e})})});SY.displayName=Ko;var[NY,Lje]=G1(Ko),[CY,$je]=G1(Ko,{collapsible:!1}),Fje=ne.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:a=!1,...o}=t,[l,c]=Ks({prop:r,defaultProp:n??"",onChange:i,caller:Ko});return s.jsx(NY,{scope:t.__scopeAccordion,value:ne.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:ne.useCallback(()=>a&&c(""),[a,c]),children:s.jsx(CY,{scope:t.__scopeAccordion,collapsible:a,children:s.jsx(EY,{...o,ref:e})})})}),Bje=ne.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...a}=t,[o,l]=Ks({prop:r,defaultProp:n??[],onChange:i,caller:Ko}),c=ne.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=ne.useCallback(d=>l((f=[])=>f.filter(g=>g!==d)),[l]);return s.jsx(NY,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:s.jsx(CY,{scope:t.__scopeAccordion,collapsible:!0,children:s.jsx(EY,{...a,ref:e})})})}),[zje,Z1]=G1(Ko),EY=ne.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:a="vertical",...o}=t,l=ne.useRef(null),c=yt(l,e),u=Ije(r),f=Vm(i)==="ltr",g=tt(t.onKeyDown,v=>{if(!Mje.includes(v.key))return;const y=v.target,b=u().filter(I=>!I.ref.current?.disabled),_=b.findIndex(I=>I.ref.current===y),j=b.length;if(_===-1)return;v.preventDefault();let N=_;const C=0,A=j-1,E=()=>{N=_+1,N>A&&(N=C)},P=()=>{N=_-1,N<C&&(N=A)};switch(v.key){case"Home":N=C;break;case"End":N=A;break;case"ArrowRight":a==="horizontal"&&(f?E():P());break;case"ArrowDown":a==="vertical"&&E();break;case"ArrowLeft":a==="horizontal"&&(f?P():E());break;case"ArrowUp":a==="vertical"&&P();break}const O=N%j;b[O].ref.current?.focus()});return s.jsx(zje,{scope:r,disabled:n,direction:i,orientation:a,children:s.jsx(fI.Slot,{scope:r,children:s.jsx(yY.div,{...o,"data-orientation":a,ref:c,onKeyDown:n?void 0:g})})})}),Hw="AccordionItem",[qje,pI]=G1(Hw),PY=ne.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,a=Z1(Hw,r),o=Lje(Hw,r),l=hI(r),c=Ws(),u=n&&o.value.includes(n)||!1,d=a.disabled||t.disabled;return s.jsx(qje,{scope:r,open:u,disabled:d,triggerId:c,children:s.jsx(Tje,{"data-orientation":a.orientation,"data-state":MY(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});PY.displayName=Hw;var kY="AccordionHeader",AY=ne.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Z1(Ko,r),a=pI(kY,r);return s.jsx(yY.h3,{"data-orientation":i.orientation,"data-state":MY(a.open),"data-disabled":a.disabled?"":void 0,...n,ref:e})});AY.displayName=kY;var TT="AccordionTrigger",TY=ne.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Z1(Ko,r),a=pI(TT,r),o=$je(TT,r),l=hI(r);return s.jsx(fI.ItemSlot,{scope:r,children:s.jsx(Oje,{"aria-disabled":a.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:a.triggerId,...l,...n,ref:e})})});TY.displayName=TT;var OY="AccordionContent",RY=ne.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=Z1(Ko,r),a=pI(OY,r),o=hI(r);return s.jsx(Rje,{role:"region","aria-labelledby":a.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});RY.displayName=OY;function MY(t){return t?"open":"closed"}var Uje=SY,Vje=PY,Wje=AY,IY=TY,DY=RY;const Hje=Uje,LY=ne.forwardRef(({className:t,...e},r)=>s.jsx(Vje,{ref:r,className:Je("border-b border-border",t),...e}));LY.displayName="AccordionItem";const $Y=ne.forwardRef(({className:t,children:e,...r},n)=>s.jsx(Wje,{className:"flex",children:s.jsxs(IY,{ref:n,className:Je("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline text-foreground [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,s.jsx(Fc,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));$Y.displayName=IY.displayName;const FY=ne.forwardRef(({className:t,children:e,...r},n)=>s.jsx(DY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:s.jsx("div",{className:Je("pb-4 pt-0 text-muted-foreground",t),children:e})}));FY.displayName=DY.displayName;var Y1="Dialog",[BY,zY]=an(Y1),[Kje,Go]=BY(Y1),qY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:a,modal:o=!0}=t,l=x.useRef(null),c=x.useRef(null),[u,d]=Ks({prop:n,defaultProp:i??!1,onChange:a,caller:Y1});return s.jsx(Kje,{scope:e,triggerRef:l,contentRef:c,contentId:Ws(),titleId:Ws(),descriptionId:Ws(),open:u,onOpenChange:d,onOpenToggle:x.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};qY.displayName=Y1;var UY="DialogTrigger",VY=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Go(UY,r),a=yt(e,i.triggerRef);return s.jsx(_r.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":vI(i.open),...n,ref:a,onClick:tt(t.onClick,i.onOpenToggle)})});VY.displayName=UY;var mI="DialogPortal",[Gje,WY]=BY(mI,{forceMount:void 0}),HY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,a=Go(mI,e);return s.jsx(Gje,{scope:e,forceMount:r,children:x.Children.map(n,o=>s.jsx(Zs,{present:r||a.open,children:s.jsx(R1,{asChild:!0,container:i,children:o})}))})};HY.displayName=mI;var Kw="DialogOverlay",KY=x.forwardRef((t,e)=>{const r=WY(Kw,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Go(Kw,t.__scopeDialog);return a.modal?s.jsx(Zs,{present:n||a.open,children:s.jsx(Yje,{...i,ref:e})}):null});KY.displayName=Kw;var Zje=tm("DialogOverlay.RemoveScroll"),Yje=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Go(Kw,r);return s.jsx(Ex,{as:Zje,allowPinchZoom:!0,shards:[i.contentRef],children:s.jsx(_r.div,{"data-state":vI(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Qf="DialogContent",GY=x.forwardRef((t,e)=>{const r=WY(Qf,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,a=Go(Qf,t.__scopeDialog);return s.jsx(Zs,{present:n||a.open,children:a.modal?s.jsx(Xje,{...i,ref:e}):s.jsx(Jje,{...i,ref:e})})});GY.displayName=Qf;var Xje=x.forwardRef((t,e)=>{const r=Go(Qf,t.__scopeDialog),n=x.useRef(null),i=yt(e,r.contentRef,n);return x.useEffect(()=>{const a=n.current;if(a)return M1(a)},[]),s.jsx(ZY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tt(t.onCloseAutoFocus,a=>{a.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:tt(t.onPointerDownOutside,a=>{const o=a.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&a.preventDefault()}),onFocusOutside:tt(t.onFocusOutside,a=>a.preventDefault())})}),Jje=x.forwardRef((t,e)=>{const r=Go(Qf,t.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return s.jsx(ZY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),ZY=x.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,...o}=t,l=Go(Qf,r),c=x.useRef(null),u=yt(e,c);return TM(),s.jsxs(s.Fragment,{children:[s.jsx(OM,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(k1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":vI(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(eSe,{titleId:l.titleId}),s.jsx(rSe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),gI="DialogTitle",YY=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Go(gI,r);return s.jsx(_r.h2,{id:i.titleId,...n,ref:e})});YY.displayName=gI;var XY="DialogDescription",JY=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Go(XY,r);return s.jsx(_r.p,{id:i.descriptionId,...n,ref:e})});JY.displayName=XY;var QY="DialogClose",eX=x.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Go(QY,r);return s.jsx(_r.button,{type:"button",...n,ref:e,onClick:tt(t.onClick,()=>i.onOpenChange(!1))})});eX.displayName=QY;function vI(t){return t?"open":"closed"}var tX="DialogTitleWarning",[Qje,rX]=yye(tX,{contentName:Qf,titleName:gI,docsSlug:"dialog"}),eSe=({titleId:t})=>{const e=rX(tX),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},tSe="DialogDescriptionWarning",rSe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${rX(tSe).contentName}}.`;return x.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},nX=qY,nSe=VY,iX=HY,yI=KY,xI=GY,bI=YY,wI=JY,_I=eX,sX="AlertDialog",[iSe,uWe]=an(sX,[zY]),ou=zY(),aX=t=>{const{__scopeAlertDialog:e,...r}=t,n=ou(e);return s.jsx(nX,{...n,...r,modal:!0})};aX.displayName=sX;var sSe="AlertDialogTrigger",aSe=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ou(r);return s.jsx(nSe,{...i,...n,ref:e})});aSe.displayName=sSe;var oSe="AlertDialogPortal",oX=t=>{const{__scopeAlertDialog:e,...r}=t,n=ou(e);return s.jsx(iX,{...n,...r})};oX.displayName=oSe;var lSe="AlertDialogOverlay",lX=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ou(r);return s.jsx(yI,{...i,...n,ref:e})});lX.displayName=lSe;var Vp="AlertDialogContent",[cSe,uSe]=iSe(Vp),dSe=ime("AlertDialogContent"),cX=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,a=ou(r),o=x.useRef(null),l=yt(e,o),c=x.useRef(null);return s.jsx(Qje,{contentName:Vp,titleName:uX,docsSlug:"alert-dialog",children:s.jsx(cSe,{scope:r,cancelRef:c,children:s.jsxs(xI,{role:"alertdialog",...a,...i,ref:l,onOpenAutoFocus:tt(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[s.jsx(dSe,{children:n}),s.jsx(hSe,{contentRef:o})]})})})});cX.displayName=Vp;var uX="AlertDialogTitle",dX=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ou(r);return s.jsx(bI,{...i,...n,ref:e})});dX.displayName=uX;var fX="AlertDialogDescription",hX=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ou(r);return s.jsx(wI,{...i,...n,ref:e})});hX.displayName=fX;var fSe="AlertDialogAction",pX=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=ou(r);return s.jsx(_I,{...i,...n,ref:e})});pX.displayName=fSe;var mX="AlertDialogCancel",gX=x.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=uSe(mX,r),a=ou(r),o=yt(e,i);return s.jsx(_I,{...a,...n,ref:o})});gX.displayName=mX;var hSe=({contentRef:t})=>{const e=`\`${Vp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Vp}\` by passing a \`${fX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Vp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},pSe=aX,mSe=oX,vX=lX,yX=cX,xX=pX,bX=gX,wX=dX,_X=hX;const jX=pSe,gSe=mSe,SX=x.forwardRef(({className:t,...e},r)=>s.jsx(vX,{className:Je("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));SX.displayName=vX.displayName;const jI=x.forwardRef(({className:t,...e},r)=>s.jsxs(gSe,{children:[s.jsx(SX,{}),s.jsx(yX,{ref:r,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));jI.displayName=yX.displayName;const SI=({className:t,...e})=>s.jsx("div",{className:Je("flex flex-col space-y-2 text-center sm:text-left",t),...e});SI.displayName="AlertDialogHeader";const NI=({className:t,...e})=>s.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});NI.displayName="AlertDialogFooter";const CI=x.forwardRef(({className:t,...e},r)=>s.jsx(wX,{ref:r,className:Je("text-lg font-semibold",t),...e}));CI.displayName=wX.displayName;const EI=x.forwardRef(({className:t,...e},r)=>s.jsx(_X,{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));EI.displayName=_X.displayName;const NX=x.forwardRef(({className:t,...e},r)=>s.jsx(xX,{ref:r,className:Je(CM(),t),...e}));NX.displayName=xX.displayName;const PI=x.forwardRef(({className:t,...e},r)=>s.jsx(bX,{ref:r,className:Je(CM({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));PI.displayName=bX.displayName;var AC={exports:{}},TC={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L5;function vSe(){if(L5)return TC;L5=1;var t=s1();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,o=t.useDebugValue;function l(f,g){var v=g(),y=n({inst:{value:v,getSnapshot:g}}),b=y[0].inst,_=y[1];return a(function(){b.value=v,b.getSnapshot=g,c(b)&&_({inst:b})},[f,v,g]),i(function(){return c(b)&&_({inst:b}),f(function(){c(b)&&_({inst:b})})},[f]),o(v),v}function c(f){var g=f.getSnapshot;f=f.value;try{var v=g();return!r(f,v)}catch{return!0}}function u(f,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return TC.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,TC}var $5;function ySe(){return $5||($5=1,AC.exports=vSe()),AC.exports}var xSe=ySe();function bSe(){return xSe.useSyncExternalStore(wSe,()=>!0,()=>!1)}function wSe(){return()=>{}}var kI="Avatar",[_Se,dWe]=an(kI),[jSe,CX]=_Se(kI),EX=x.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,a]=x.useState("idle");return s.jsx(jSe,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:a,children:s.jsx(_r.span,{...n,ref:e})})});EX.displayName=kI;var PX="AvatarImage",kX=x.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...a}=t,o=CX(PX,r),l=SSe(n,a),c=Or(u=>{i(u),o.onImageLoadingStatusChange(u)});return Cr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?s.jsx(_r.img,{...a,ref:e,src:n}):null});kX.displayName=PX;var AX="AvatarFallback",TX=x.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,a=CX(AX,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&a.imageLoadingStatus!=="loaded"?s.jsx(_r.span,{...i,ref:e}):null});TX.displayName=AX;function F5(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function SSe(t,{referrerPolicy:e,crossOrigin:r}){const n=bSe(),i=x.useRef(null),a=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=x.useState(()=>F5(a,t));return Cr(()=>{l(F5(a,t))},[a,t]),Cr(()=>{const c=f=>()=>{l(f)};if(!a)return;const u=c("loaded"),d=c("error");return a.addEventListener("load",u),a.addEventListener("error",d),e&&(a.referrerPolicy=e),typeof r=="string"&&(a.crossOrigin=r),()=>{a.removeEventListener("load",u),a.removeEventListener("error",d)}},[a,r,e]),o}var OX=EX,RX=kX,MX=TX;const Gw=ne.forwardRef(({className:t,...e},r)=>s.jsx(OX,{ref:r,className:Je("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Gw.displayName=OX.displayName;const IX=ne.forwardRef(({className:t,...e},r)=>s.jsx(RX,{ref:r,className:Je("aspect-square h-full w-full",t),...e}));IX.displayName=RX.displayName;const Zw=ne.forwardRef(({className:t,...e},r)=>s.jsx(MX,{ref:r,className:Je("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Zw.displayName=MX.displayName;const X1=({isOpen:t,onClose:e,onConfirm:r,title:n,description:i,confirmText:a="Confirmer",cancelText:o="Annuler",variant:l="destructive",icon:c=mh,isLoading:u=!1})=>{const d=()=>{switch(l){case"destructive":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}},f=()=>{switch(l){case"destructive":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"outline"}};return s.jsx(jX,{open:t,onOpenChange:e,children:s.jsxs(jI,{children:[s.jsxs(SI,{children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(c,{className:`h-6 w-6 ${d()}`}),s.jsx(CI,{children:n})]}),s.jsx(EI,{className:"text-left",children:i})]}),s.jsxs(NI,{children:[s.jsx(PI,{disabled:u,children:o}),s.jsxs(fe,{variant:f(),onClick:r,disabled:u,className:"flex items-center space-x-2",children:[u&&s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),s.jsx("span",{children:a})]})]})]})})},NSe=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>s.jsx(X1,{isOpen:t,onClose:e,onConfirm:r,title:"Confirmer la suppression",description:`Êtes-vous sûr de vouloir supprimer "${n}" ? Cette action est irréversible.`,confirmText:"Supprimer",variant:"destructive",icon:qo,isLoading:i}),CSe=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>s.jsx(X1,{isOpen:t,onClose:e,onConfirm:r,title:"Modifier l'élément",description:`Voulez-vous modifier "${n}" ?`,confirmText:"Modifier",variant:"info",icon:j1,isLoading:i}),ESe=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>s.jsx(X1,{isOpen:t,onClose:e,onConfirm:r,title:"Actualiser l'élément",description:`Voulez-vous actualiser "${n}" ? Cela remettra l'élément en haut de la liste.`,confirmText:"Actualiser",variant:"info",icon:zo,isLoading:i}),PSe=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>s.jsx(X1,{isOpen:t,onClose:e,onConfirm:r,title:"Booster l'élément",description:`Voulez-vous booster "${n}" ? Cela augmentera sa visibilité.`,confirmText:"Booster",variant:"warning",icon:cs,isLoading:i}),sm=nX,kSe=iX,DX=ne.forwardRef(({className:t,...e},r)=>s.jsx(yI,{ref:r,className:Je("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));DX.displayName=yI.displayName;const eh=ne.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(kSe,{children:[s.jsx(DX,{}),s.jsxs(xI,{ref:n,className:Je("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,s.jsxs(_I,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(Gs,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));eh.displayName=xI.displayName;const th=({className:t,...e})=>s.jsx("div",{className:Je("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});th.displayName="DialogHeader";const OT=({className:t,...e})=>s.jsx("div",{className:Je("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});OT.displayName="DialogFooter";const rh=ne.forwardRef(({className:t,...e},r)=>s.jsx(bI,{ref:r,className:Je("text-lg font-semibold leading-none tracking-tight",t),...e}));rh.displayName=bI.displayName;const RT=ne.forwardRef(({className:t,...e},r)=>s.jsx(wI,{ref:r,className:Je("text-sm text-muted-foreground",t),...e}));RT.displayName=wI.displayName;const ASe=x.createContext({}),J1=()=>{const t=x.useContext(ASe),e=x.useContext(LX),{getFieldState:r,formState:n}=f1e(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:a}=e;return{id:a,name:t.name,formItemId:`${a}-form-item`,formDescriptionId:`${a}-form-item-description`,formMessageId:`${a}-form-item-message`,...i}},LX=x.createContext({}),TSe=x.forwardRef(({className:t,...e},r)=>{const n=x.useId();return s.jsx(LX.Provider,{value:{id:n},children:s.jsx("div",{ref:r,className:Je("space-y-2",t),...e})})});TSe.displayName="FormItem";const OSe=x.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=J1();return s.jsx(ot,{ref:r,className:Je(n&&"text-destructive",t),htmlFor:i,...e})});OSe.displayName="FormLabel";const RSe=x.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:a}=J1();return s.jsx(aK,{ref:e,id:n,"aria-describedby":r?`${i} ${a}`:`${i}`,"aria-invalid":!!r,...t})});RSe.displayName="FormControl";const MSe=x.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=J1();return s.jsx("p",{ref:r,id:n,className:Je("text-sm text-muted-foreground",t),...e})});MSe.displayName="FormDescription";const ISe=x.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:a}=J1(),o=i?String(i?.message):e;return o?s.jsx("p",{ref:n,id:a,className:Je("text-sm font-medium text-destructive",t),...r,children:o}):null});ISe.displayName="FormMessage";function DSe(t){const e=LSe(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(FSe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function LSe(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=zSe(i),l=BSe(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $Se=Symbol("radix.slottable");function FSe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$Se}function BSe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function zSe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Jm=qSe.reduce((t,e)=>{const r=DSe(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function USe(t,e){t&&Wo.flushSync(()=>t.dispatchEvent(e))}var VSe="Arrow",$X=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(Jm.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});$X.displayName=VSe;var WSe=$X,FX="Popper",[BX,zX]=an(FX),[fWe,qX]=BX(FX),UX="PopperAnchor",VX=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=qX(UX,r),o=x.useRef(null),l=yt(e,o);return x.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(Jm.div,{...i,ref:l})});VX.displayName=UX;var AI="PopperContent",[HSe,KSe]=BX(AI),WX=x.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...b}=t,_=qX(AI,r),[j,N]=x.useState(null),C=yt(e,ae=>N(ae)),[A,E]=x.useState(null),P=vh(A),O=P?.width??0,I=P?.height??0,F=n+(a!=="center"?"-"+a:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],z=U.length>0,V={padding:H,boundary:U.filter(ZSe),altBoundary:z},{refs:X,floatingStyles:te,placement:le,isPositioned:W,middlewareData:re}=yx({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>vx(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[xx({mainAxis:i+I,alignmentAxis:o}),c&&bx({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wx():void 0,...V}),c&&_x({...V}),jx({...V,apply:({elements:ae,rects:ge,availableWidth:ve,availableHeight:Ae})=>{const{width:Q,height:Y}=ge.reference,Ee=ae.floating.style;Ee.setProperty("--radix-popper-available-width",`${ve}px`),Ee.setProperty("--radix-popper-available-height",`${Ae}px`),Ee.setProperty("--radix-popper-anchor-width",`${Q}px`),Ee.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Nx({element:A,padding:l}),YSe({arrowWidth:O,arrowHeight:I}),g&&Sx({strategy:"referenceHidden",...V})]}),[G,ie]=GX(le),Z=Or(y);Cr(()=>{W&&Z?.()},[W,Z]);const de=re.arrow?.x,Se=re.arrow?.y,Me=re.arrow?.centerOffset!==0,[qe,oe]=x.useState();return Cr(()=>{j&&oe(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:W?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(HSe,{scope:r,placedSide:G,onArrowChange:E,arrowX:de,arrowY:Se,shouldHideArrow:Me,children:s.jsx(Jm.div,{"data-side":G,"data-align":ie,...b,ref:C,style:{...b.style,animation:W?void 0:"none"}})})})});WX.displayName=AI;var HX="PopperArrow",GSe={top:"bottom",right:"left",bottom:"top",left:"right"},KX=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=KSe(HX,n),o=GSe[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(WSe,{...i,ref:r,style:{...i.style,display:"block"}})})});KX.displayName=HX;function ZSe(t){return t!==null}var YSe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=GX(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",b="";return u==="bottom"?(y=o?f:`${g}px`,b=`${-c}px`):u==="top"?(y=o?f:`${g}px`,b=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,b=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,b=o?f:`${v}px`),{data:{x:y,y:b}}}});function GX(t){const[e,r="center"]=t.split("-");return[e,r]}var XSe=VX,JSe=WX,QSe=KX,eNe="DismissableLayer",MT="dismissableLayer.update",tNe="dismissableLayer.pointerDownOutside",rNe="dismissableLayer.focusOutside",B5,ZX=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),YX=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=x.useContext(ZX),[d,f]=x.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=x.useState({}),y=yt(e,O=>f(O)),b=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(_),N=d?b.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=j,E=sNe(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=aNe(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(a?.(O),o?.(O),O.defaultPrevented||l?.())},g);return mx(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(B5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),z5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=B5)}},[d,g,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),z5())},[d,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(MT,O),()=>document.removeEventListener(MT,O)},[]),s.jsx(Jm.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,E.onPointerDownCapture)})});YX.displayName=eNe;var nNe="DismissableLayerBranch",iNe=x.forwardRef((t,e)=>{const r=x.useContext(ZX),n=x.useRef(null),i=yt(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Jm.div,{...t,ref:i})});iNe.displayName=nNe;function sNe(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){XX(tNe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function aNe(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&XX(rNe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function z5(){const t=new CustomEvent(MT);document.dispatchEvent(t)}function XX(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?USe(i,a):i.dispatchEvent(a)}var OC,JX="HoverCard",[QX,hWe]=an(JX,[zX]),TI=zX(),[pWe,OI]=QX(JX),eJ="HoverCardTrigger",oNe=x.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=OI(eJ,r),a=TI(r);return s.jsx(XSe,{asChild:!0,...a,children:s.jsx(Jm.a,{"data-state":i.open?"open":"closed",...n,ref:e,onPointerEnter:tt(t.onPointerEnter,Xw(i.onOpen)),onPointerLeave:tt(t.onPointerLeave,Xw(i.onClose)),onFocus:tt(t.onFocus,i.onOpen),onBlur:tt(t.onBlur,i.onClose),onTouchStart:tt(t.onTouchStart,o=>o.preventDefault())})})});oNe.displayName=eJ;var lNe="HoverCardPortal",[mWe,cNe]=QX(lNe,{forceMount:void 0}),Yw="HoverCardContent",tJ=x.forwardRef((t,e)=>{const r=cNe(Yw,t.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=t,a=OI(Yw,t.__scopeHoverCard);return s.jsx(Zs,{present:n||a.open,children:s.jsx(uNe,{"data-state":a.open?"open":"closed",...i,onPointerEnter:tt(t.onPointerEnter,Xw(a.onOpen)),onPointerLeave:tt(t.onPointerLeave,Xw(a.onClose)),ref:e})})});tJ.displayName=Yw;var uNe=x.forwardRef((t,e)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,...l}=t,c=OI(Yw,r),u=TI(r),d=x.useRef(null),f=yt(e,d),[g,v]=x.useState(!1);return x.useEffect(()=>{if(g){const y=document.body;return OC=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=OC,y.style.webkitUserSelect=OC}}},[g]),x.useEffect(()=>{if(d.current){const y=()=>{v(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),x.useEffect(()=>{d.current&&hNe(d.current).forEach(b=>b.setAttribute("tabindex","-1"))}),s.jsx(YX,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:tt(a,y=>{y.preventDefault()}),onDismiss:c.onDismiss,children:s.jsx(JSe,{...u,...l,onPointerDown:tt(l.onPointerDown,y=>{y.currentTarget.contains(y.target)&&v(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),dNe="HoverCardArrow",fNe=x.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=TI(r);return s.jsx(QSe,{...i,...n,ref:e})});fNe.displayName=dNe;function Xw(t){return e=>e.pointerType==="touch"?void 0:t()}function hNe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)e.push(r.currentNode);return e}var rJ=tJ;const pNe=ne.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>s.jsx(rJ,{ref:i,align:e,sideOffset:r,className:Je("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));pNe.displayName=rJ.displayName;function wd(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function nJ(t){const e=mNe(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(vNe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function mNe(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=xNe(i),l=yNe(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var gNe=Symbol("radix.slottable");function vNe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===gNe}function yNe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function xNe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var bNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],lu=bNe.reduce((t,e)=>{const r=nJ(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function wNe(t,e){t&&Wo.flushSync(()=>t.dispatchEvent(e))}var _Ne="DismissableLayer",IT="dismissableLayer.update",jNe="dismissableLayer.pointerDownOutside",SNe="dismissableLayer.focusOutside",q5,iJ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sJ=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=x.useContext(iJ),[d,f]=x.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=x.useState({}),y=yt(e,O=>f(O)),b=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(_),N=d?b.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=j,E=ENe(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=PNe(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(a?.(O),o?.(O),O.defaultPrevented||l?.())},g);return mx(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(q5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),U5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=q5)}},[d,g,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),U5())},[d,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(IT,O),()=>document.removeEventListener(IT,O)},[]),s.jsx(lu.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:wd(t.onFocusCapture,P.onFocusCapture),onBlurCapture:wd(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:wd(t.onPointerDownCapture,E.onPointerDownCapture)})});sJ.displayName=_Ne;var NNe="DismissableLayerBranch",CNe=x.forwardRef((t,e)=>{const r=x.useContext(iJ),n=x.useRef(null),i=yt(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(lu.div,{...t,ref:i})});CNe.displayName=NNe;function ENe(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){aJ(jNe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function PNe(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&aJ(SNe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function U5(){const t=new CustomEvent(IT);document.dispatchEvent(t)}function aJ(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?wNe(i,a):i.dispatchEvent(a)}var RC=0;function kNe(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??V5()),document.body.insertAdjacentElement("beforeend",t[1]??V5()),RC++,()=>{RC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),RC--}},[])}function V5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var MC="focusScope.autoFocusOnMount",IC="focusScope.autoFocusOnUnmount",W5={bubbles:!1,cancelable:!0},ANe="FocusScope",oJ=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=x.useState(null),u=Or(i),d=Or(a),f=x.useRef(null),g=yt(e,b=>c(b)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let b=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?f.current=A:nd(f.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||nd(f.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&nd(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",_);const N=new MutationObserver(j);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){K5.add(v);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(MC,W5);l.addEventListener(MC,u),l.dispatchEvent(j),j.defaultPrevented||(TNe(DNe(lJ(l)),{select:!0}),document.activeElement===b&&nd(l))}return()=>{l.removeEventListener(MC,u),setTimeout(()=>{const j=new CustomEvent(IC,W5);l.addEventListener(IC,d),l.dispatchEvent(j),j.defaultPrevented||nd(b??document.body,{select:!0}),l.removeEventListener(IC,d),K5.remove(v)},0)}}},[l,u,d,v]);const y=x.useCallback(b=>{if(!r&&!n||v.paused)return;const _=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(_&&j){const N=b.currentTarget,[C,A]=ONe(N);C&&A?!b.shiftKey&&j===A?(b.preventDefault(),r&&nd(C,{select:!0})):b.shiftKey&&j===C&&(b.preventDefault(),r&&nd(A,{select:!0})):j===N&&b.preventDefault()}},[r,n,v.paused]);return s.jsx(lu.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});oJ.displayName=ANe;function TNe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(nd(n,{select:e}),document.activeElement!==r)return}function ONe(t){const e=lJ(t),r=H5(e,t),n=H5(e.reverse(),t);return[r,n]}function lJ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function H5(t,e){for(const r of t)if(!RNe(r,{upTo:e}))return r}function RNe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MNe(t){return t instanceof HTMLInputElement&&"select"in t}function nd(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&MNe(t)&&e&&t.select()}}var K5=INe();function INe(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=G5(t,e),t.unshift(e)},remove(e){t=G5(t,e),t[0]?.resume()}}}function G5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function DNe(t){return t.filter(e=>e.tagName!=="A")}var LNe="Arrow",cJ=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(lu.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});cJ.displayName=LNe;var $Ne=cJ,uJ="Popper",[dJ,fJ]=an(uJ),[gWe,hJ]=dJ(uJ),pJ="PopperAnchor",mJ=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=hJ(pJ,r),o=x.useRef(null),l=yt(e,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&a.onAnchorChange(c.current)}),n?null:s.jsx(lu.div,{...i,ref:l})});mJ.displayName=pJ;var RI="PopperContent",[FNe,BNe]=dJ(RI),gJ=x.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...b}=t,_=hJ(RI,r),[j,N]=x.useState(null),C=yt(e,ae=>N(ae)),[A,E]=x.useState(null),P=vh(A),O=P?.width??0,I=P?.height??0,F=n+(a!=="center"?"-"+a:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],z=U.length>0,V={padding:H,boundary:U.filter(qNe),altBoundary:z},{refs:X,floatingStyles:te,placement:le,isPositioned:W,middlewareData:re}=yx({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>vx(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[xx({mainAxis:i+I,alignmentAxis:o}),c&&bx({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wx():void 0,...V}),c&&_x({...V}),jx({...V,apply:({elements:ae,rects:ge,availableWidth:ve,availableHeight:Ae})=>{const{width:Q,height:Y}=ge.reference,Ee=ae.floating.style;Ee.setProperty("--radix-popper-available-width",`${ve}px`),Ee.setProperty("--radix-popper-available-height",`${Ae}px`),Ee.setProperty("--radix-popper-anchor-width",`${Q}px`),Ee.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Nx({element:A,padding:l}),UNe({arrowWidth:O,arrowHeight:I}),g&&Sx({strategy:"referenceHidden",...V})]}),[G,ie]=xJ(le),Z=Or(y);Cr(()=>{W&&Z?.()},[W,Z]);const de=re.arrow?.x,Se=re.arrow?.y,Me=re.arrow?.centerOffset!==0,[qe,oe]=x.useState();return Cr(()=>{j&&oe(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:W?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(FNe,{scope:r,placedSide:G,onArrowChange:E,arrowX:de,arrowY:Se,shouldHideArrow:Me,children:s.jsx(lu.div,{"data-side":G,"data-align":ie,...b,ref:C,style:{...b.style,animation:W?void 0:"none"}})})})});gJ.displayName=RI;var vJ="PopperArrow",zNe={top:"bottom",right:"left",bottom:"top",left:"right"},yJ=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=BNe(vJ,n),o=zNe[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx($Ne,{...i,ref:r,style:{...i.style,display:"block"}})})});yJ.displayName=vJ;function qNe(t){return t!==null}var UNe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=xJ(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",b="";return u==="bottom"?(y=o?f:`${g}px`,b=`${-c}px`):u==="top"?(y=o?f:`${g}px`,b=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,b=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,b=o?f:`${v}px`),{data:{x:y,y:b}}}});function xJ(t){const[e,r="center"]=t.split("-");return[e,r]}var bJ=mJ,VNe=gJ,WNe=yJ,HNe="Portal",wJ=x.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=x.useState(!1);Cr(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?a1.createPortal(s.jsx(lu.div,{...n,ref:e}),o):null});wJ.displayName=HNe;function KNe(t,e){return x.useReducer((r,n)=>e[r][n]??r,t)}var MI=t=>{const{present:e,children:r}=t,n=GNe(e),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),a=yt(n.ref,ZNe(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:a}):null};MI.displayName="Presence";function GNe(t){const[e,r]=x.useState(),n=x.useRef(null),i=x.useRef(t),a=x.useRef("none"),o=t?"mounted":"unmounted",[l,c]=KNe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=_b(n.current);a.current=l==="mounted"?u:"none"},[l]),Cr(()=>{const u=n.current,d=i.current;if(d!==t){const g=a.current,v=_b(u);t?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Cr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=v=>{const b=_b(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&b&&(c("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=v=>{v.target===e&&(a.current=_b(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function _b(t){return t?.animationName||"none"}function ZNe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var _J="Popover",[jJ,vWe]=an(_J,[fJ]),Q1=fJ(),[yWe,Fd]=jJ(_J),SJ="PopoverAnchor",YNe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Fd(SJ,r),a=Q1(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return x.useEffect(()=>(o(),()=>l()),[o,l]),s.jsx(bJ,{...a,...n,ref:e})});YNe.displayName=SJ;var NJ="PopoverTrigger",XNe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Fd(NJ,r),a=Q1(r),o=yt(e,i.triggerRef),l=s.jsx(lu.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":AJ(i.open),...n,ref:o,onClick:wd(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:s.jsx(bJ,{asChild:!0,...a,children:l})});XNe.displayName=NJ;var II="PopoverPortal",[JNe,QNe]=jJ(II,{forceMount:void 0}),CJ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,a=Fd(II,e);return s.jsx(JNe,{scope:e,forceMount:r,children:s.jsx(MI,{present:r||a.open,children:s.jsx(wJ,{asChild:!0,container:i,children:n})})})};CJ.displayName=II;var am="PopoverContent",EJ=x.forwardRef((t,e)=>{const r=QNe(am,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,a=Fd(am,t.__scopePopover);return s.jsx(MI,{present:n||a.open,children:a.modal?s.jsx(tCe,{...i,ref:e}):s.jsx(rCe,{...i,ref:e})})});EJ.displayName=am;var eCe=nJ("PopoverContent.RemoveScroll"),tCe=x.forwardRef((t,e)=>{const r=Fd(am,t.__scopePopover),n=x.useRef(null),i=yt(e,n),a=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return M1(o)},[]),s.jsx(Ex,{as:eCe,allowPinchZoom:!0,children:s.jsx(PJ,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:wd(t.onCloseAutoFocus,o=>{o.preventDefault(),a.current||r.triggerRef.current?.focus()}),onPointerDownOutside:wd(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;a.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:wd(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),rCe=x.forwardRef((t,e)=>{const r=Fd(am,t.__scopePopover),n=x.useRef(!1),i=x.useRef(!1);return s.jsx(PJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{t.onCloseAutoFocus?.(a),a.defaultPrevented||(n.current||r.triggerRef.current?.focus(),a.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:a=>{t.onInteractOutside?.(a),a.defaultPrevented||(n.current=!0,a.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=a.target;r.triggerRef.current?.contains(o)&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&i.current&&a.preventDefault()}})}),PJ=x.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,g=Fd(am,r),v=Q1(r);return kNe(),s.jsx(oJ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:a,children:s.jsx(sJ,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:s.jsx(VNe,{"data-state":AJ(g.open),role:"dialog",id:g.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),kJ="PopoverClose",nCe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Fd(kJ,r);return s.jsx(lu.button,{type:"button",...n,ref:e,onClick:wd(t.onClick,()=>i.onOpenChange(!1))})});nCe.displayName=kJ;var iCe="PopoverArrow",sCe=x.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Q1(r);return s.jsx(WNe,{...i,...n,ref:e})});sCe.displayName=iCe;function AJ(t){return t?"open":"closed"}var aCe=CJ,TJ=EJ;const oCe=x.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>s.jsx(aCe,{children:s.jsx(TJ,{ref:i,align:e,sideOffset:r,className:Je("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));oCe.displayName=TJ.displayName;const lCe=({currentPage:t,totalPages:e,onPageChange:r,hasNextPage:n,hasPrevPage:i,isLoading:a=!1})=>{const o=()=>{const c=[],u=[];for(let d=Math.max(2,t-2);d<=Math.min(e-1,t+2);d++)c.push(d);return t-2>2?u.push(1,"..."):u.push(1),u.push(...c),t+2<e-1?u.push("...",e):u.push(e),u};return e<=1?null:s.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>r(t-1),disabled:!i||a,className:"flex items-center space-x-1",children:[s.jsx(ro,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Précédent"})]}),s.jsx("div",{className:"flex items-center space-x-1",children:o().map((l,c)=>s.jsx(ne.Fragment,{children:l==="..."?s.jsx(GH,{className:"h-4 w-4 text-muted-foreground"}):s.jsx(fe,{variant:t===l?"default":"outline",size:"sm",onClick:()=>r(l),disabled:a,className:"w-8 h-8 p-0",children:l})},c))}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>r(t+1),disabled:!n||a,className:"flex items-center space-x-1",children:[s.jsx("span",{className:"hidden sm:inline",children:"Suivant"}),s.jsx(no,{className:"h-4 w-4"})]})]})};function cCe(t){const e=uCe(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(fCe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function uCe(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=pCe(i),l=hCe(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dCe=Symbol("radix.slottable");function fCe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dCe}function hCe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function pCe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var mCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],OJ=mCe.reduce((t,e)=>{const r=cCe(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),DI="Progress",LI=100,[gCe,xWe]=an(DI),[vCe,yCe]=gCe(DI),RJ=x.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:a=xCe,...o}=t;(i||i===0)&&!Z5(i)&&console.error(bCe(`${i}`,"Progress"));const l=Z5(i)?i:LI;n!==null&&!Y5(n,l)&&console.error(wCe(`${n}`,"Progress"));const c=Y5(n,l)?n:null,u=Jw(c)?a(c,l):void 0;return s.jsx(vCe,{scope:r,value:c,max:l,children:s.jsx(OJ.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Jw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":DJ(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});RJ.displayName=DI;var MJ="ProgressIndicator",IJ=x.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=yCe(MJ,r);return s.jsx(OJ.div,{"data-state":DJ(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});IJ.displayName=MJ;function xCe(t,e){return`${Math.round(t/e*100)}%`}function DJ(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Jw(t){return typeof t=="number"}function Z5(t){return Jw(t)&&!isNaN(t)&&t>0}function Y5(t,e){return Jw(t)&&!isNaN(t)&&t<=e&&t>=0}function bCe(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${LI}\`.`}function wCe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${LI} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var LJ=RJ,_Ce=IJ;const Oc=x.forwardRef(({className:t,value:e,...r},n)=>s.jsx(LJ,{ref:n,className:Je("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:s.jsx(_Ce,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Oc.displayName=LJ.displayName;const $J=x.forwardRef(({className:t="",...e},r)=>s.jsx("div",{className:`grid gap-2 ${t}`,ref:r,...e}));$J.displayName="RadioGroup";const FJ=x.forwardRef(({className:t="",...e},r)=>s.jsx("input",{type:"radio",className:`h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${t}`,ref:r,...e}));FJ.displayName="RadioGroupItem";function X5(t,[e,r]){return Math.min(r,Math.max(e,t))}function Qw(t){const e=jCe(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(NCe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function jCe(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=ECe(i),l=CCe(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var SCe=Symbol("radix.slottable");function NCe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===SCe}function CCe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function ECe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function PCe(t){const e=t+"CollectionProvider",[r,n]=an(e),[i,a]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=b=>{const{scope:_,children:j}=b,N=ne.useRef(null),C=ne.useRef(new Map).current;return s.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:j})};o.displayName=e;const l=t+"CollectionSlot",c=Qw(l),u=ne.forwardRef((b,_)=>{const{scope:j,children:N}=b,C=a(l,j),A=yt(_,C.collectionRef);return s.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=Qw(d),v=ne.forwardRef((b,_)=>{const{scope:j,children:N,...C}=b,A=ne.useRef(null),E=yt(_,A),P=a(d,j);return ne.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),s.jsx(g,{[f]:"",ref:E,children:N})});v.displayName=d;function y(b){const _=a(t+"CollectionConsumer",b);return ne.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var kCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Gn=kCe.reduce((t,e)=>{const r=Qw(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function ACe(t,e){t&&Wo.flushSync(()=>t.dispatchEvent(e))}var TCe="DismissableLayer",DT="dismissableLayer.update",OCe="dismissableLayer.pointerDownOutside",RCe="dismissableLayer.focusOutside",J5,BJ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zJ=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=x.useContext(BJ),[d,f]=x.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=x.useState({}),y=yt(e,O=>f(O)),b=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(_),N=d?b.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=j,E=DCe(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=LCe(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(a?.(O),o?.(O),O.defaultPrevented||l?.())},g);return mx(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(J5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Q5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=J5)}},[d,g,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Q5())},[d,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(DT,O),()=>document.removeEventListener(DT,O)},[]),s.jsx(Gn.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,E.onPointerDownCapture)})});zJ.displayName=TCe;var MCe="DismissableLayerBranch",ICe=x.forwardRef((t,e)=>{const r=x.useContext(BJ),n=x.useRef(null),i=yt(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(Gn.div,{...t,ref:i})});ICe.displayName=MCe;function DCe(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){qJ(OCe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function LCe(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&qJ(RCe,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Q5(){const t=new CustomEvent(DT);document.dispatchEvent(t)}function qJ(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?ACe(i,a):i.dispatchEvent(a)}var DC="focusScope.autoFocusOnMount",LC="focusScope.autoFocusOnUnmount",e6={bubbles:!1,cancelable:!0},$Ce="FocusScope",UJ=x.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:a,...o}=t,[l,c]=x.useState(null),u=Or(i),d=Or(a),f=x.useRef(null),g=yt(e,b=>c(b)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let b=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?f.current=A:id(f.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||id(f.current,{select:!0}))},j=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&id(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",_);const N=new MutationObserver(j);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){r6.add(v);const b=document.activeElement;if(!l.contains(b)){const j=new CustomEvent(DC,e6);l.addEventListener(DC,u),l.dispatchEvent(j),j.defaultPrevented||(FCe(VCe(VJ(l)),{select:!0}),document.activeElement===b&&id(l))}return()=>{l.removeEventListener(DC,u),setTimeout(()=>{const j=new CustomEvent(LC,e6);l.addEventListener(LC,d),l.dispatchEvent(j),j.defaultPrevented||id(b??document.body,{select:!0}),l.removeEventListener(LC,d),r6.remove(v)},0)}}},[l,u,d,v]);const y=x.useCallback(b=>{if(!r&&!n||v.paused)return;const _=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,j=document.activeElement;if(_&&j){const N=b.currentTarget,[C,A]=BCe(N);C&&A?!b.shiftKey&&j===A?(b.preventDefault(),r&&id(C,{select:!0})):b.shiftKey&&j===C&&(b.preventDefault(),r&&id(A,{select:!0})):j===N&&b.preventDefault()}},[r,n,v.paused]);return s.jsx(Gn.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});UJ.displayName=$Ce;function FCe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(id(n,{select:e}),document.activeElement!==r)return}function BCe(t){const e=VJ(t),r=t6(e,t),n=t6(e.reverse(),t);return[r,n]}function VJ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function t6(t,e){for(const r of t)if(!zCe(r,{upTo:e}))return r}function zCe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qCe(t){return t instanceof HTMLInputElement&&"select"in t}function id(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&qCe(t)&&e&&t.select()}}var r6=UCe();function UCe(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=n6(t,e),t.unshift(e)},remove(e){t=n6(t,e),t[0]?.resume()}}}function n6(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function VCe(t){return t.filter(e=>e.tagName!=="A")}var WCe="Arrow",WJ=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(Gn.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});WJ.displayName=WCe;var HCe=WJ,$I="Popper",[HJ,KJ]=an($I),[KCe,GJ]=HJ($I),ZJ=t=>{const{__scopePopper:e,children:r}=t,[n,i]=x.useState(null);return s.jsx(KCe,{scope:e,anchor:n,onAnchorChange:i,children:r})};ZJ.displayName=$I;var YJ="PopperAnchor",XJ=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=GJ(YJ,r),o=x.useRef(null),l=yt(e,o);return x.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(Gn.div,{...i,ref:l})});XJ.displayName=YJ;var FI="PopperContent",[GCe,ZCe]=HJ(FI),JJ=x.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...b}=t,_=GJ(FI,r),[j,N]=x.useState(null),C=yt(e,ae=>N(ae)),[A,E]=x.useState(null),P=vh(A),O=P?.width??0,I=P?.height??0,F=n+(a!=="center"?"-"+a:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],z=U.length>0,V={padding:H,boundary:U.filter(XCe),altBoundary:z},{refs:X,floatingStyles:te,placement:le,isPositioned:W,middlewareData:re}=yx({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>vx(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[xx({mainAxis:i+I,alignmentAxis:o}),c&&bx({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wx():void 0,...V}),c&&_x({...V}),jx({...V,apply:({elements:ae,rects:ge,availableWidth:ve,availableHeight:Ae})=>{const{width:Q,height:Y}=ge.reference,Ee=ae.floating.style;Ee.setProperty("--radix-popper-available-width",`${ve}px`),Ee.setProperty("--radix-popper-available-height",`${Ae}px`),Ee.setProperty("--radix-popper-anchor-width",`${Q}px`),Ee.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Nx({element:A,padding:l}),JCe({arrowWidth:O,arrowHeight:I}),g&&Sx({strategy:"referenceHidden",...V})]}),[G,ie]=tQ(le),Z=Or(y);Cr(()=>{W&&Z?.()},[W,Z]);const de=re.arrow?.x,Se=re.arrow?.y,Me=re.arrow?.centerOffset!==0,[qe,oe]=x.useState();return Cr(()=>{j&&oe(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:W?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(GCe,{scope:r,placedSide:G,onArrowChange:E,arrowX:de,arrowY:Se,shouldHideArrow:Me,children:s.jsx(Gn.div,{"data-side":G,"data-align":ie,...b,ref:C,style:{...b.style,animation:W?void 0:"none"}})})})});JJ.displayName=FI;var QJ="PopperArrow",YCe={top:"bottom",right:"left",bottom:"top",left:"right"},eQ=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=ZCe(QJ,n),o=YCe[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(HCe,{...i,ref:r,style:{...i.style,display:"block"}})})});eQ.displayName=QJ;function XCe(t){return t!==null}var JCe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=tQ(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",b="";return u==="bottom"?(y=o?f:`${g}px`,b=`${-c}px`):u==="top"?(y=o?f:`${g}px`,b=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,b=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,b=o?f:`${v}px`),{data:{x:y,y:b}}}});function tQ(t){const[e,r="center"]=t.split("-");return[e,r]}var QCe=ZJ,eEe=XJ,tEe=JJ,rEe=eQ,nEe="Portal",rQ=x.forwardRef((t,e)=>{const{container:r,...n}=t,[i,a]=x.useState(!1);Cr(()=>a(!0),[]);const o=r||i&&globalThis?.document?.body;return o?a1.createPortal(s.jsx(Gn.div,{...n,ref:e}),o):null});rQ.displayName=nEe;var nQ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),iEe="VisuallyHidden",sEe=x.forwardRef((t,e)=>s.jsx(Gn.span,{...t,ref:e,style:{...nQ,...t.style}}));sEe.displayName=iEe;var aEe=[" ","Enter","ArrowUp","ArrowDown"],oEe=[" ","Enter"],nh="Select",[ej,tj,lEe]=PCe(nh),[Qm,bWe]=an(nh,[lEe,KJ]),rj=KJ(),[cEe,Bd]=Qm(nh),[uEe,dEe]=Qm(nh),iQ=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:a,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:v,form:y}=t,b=rj(e),[_,j]=x.useState(null),[N,C]=x.useState(null),[A,E]=x.useState(!1),P=Vm(u),[O,I]=Ks({prop:n,defaultProp:i??!1,onChange:a,caller:nh}),[F,H]=Ks({prop:o,defaultProp:l,onChange:c,caller:nh}),U=x.useRef(null),z=_?y||!!_.closest("form"):!0,[V,X]=x.useState(new Set),te=Array.from(V).map(le=>le.props.value).join(";");return s.jsx(QCe,{...b,children:s.jsxs(cEe,{required:v,scope:e,trigger:_,onTriggerChange:j,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:Ws(),value:F,onValueChange:H,open:O,onOpenChange:I,dir:P,triggerPointerDownPosRef:U,disabled:g,children:[s.jsx(ej.Provider,{scope:e,children:s.jsx(uEe,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(le=>{X(W=>new Set(W).add(le))},[]),onNativeOptionRemove:x.useCallback(le=>{X(W=>{const re=new Set(W);return re.delete(le),re})},[]),children:r})}),z?s.jsxs(PQ,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:F,onChange:le=>H(le.target.value),disabled:g,form:y,children:[F===void 0?s.jsx("option",{value:""}):null,Array.from(V)]},te):null]})})};iQ.displayName=nh;var sQ="SelectTrigger",aQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,a=rj(r),o=Bd(sQ,r),l=o.disabled||n,c=yt(e,o.onTriggerChange),u=tj(r),d=x.useRef("touch"),[f,g,v]=AQ(b=>{const _=u().filter(C=>!C.disabled),j=_.find(C=>C.value===o.value),N=TQ(_,b,j);N!==void 0&&o.onValueChange(N.value)}),y=b=>{l||(o.onOpenChange(!0),v()),b&&(o.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return s.jsx(eEe,{asChild:!0,...a,children:s.jsx(Gn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":kQ(o.value)?"":void 0,...i,ref:c,onClick:tt(i.onClick,b=>{b.currentTarget.focus(),d.current!=="mouse"&&y(b)}),onPointerDown:tt(i.onPointerDown,b=>{d.current=b.pointerType;const _=b.target;_.hasPointerCapture(b.pointerId)&&_.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(y(b),b.preventDefault())}),onKeyDown:tt(i.onKeyDown,b=>{const _=f.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&g(b.key),!(_&&b.key===" ")&&aEe.includes(b.key)&&(y(),b.preventDefault())})})})});aQ.displayName=sQ;var oQ="SelectValue",lQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:a,placeholder:o="",...l}=t,c=Bd(oQ,r),{onValueNodeHasChildrenChange:u}=c,d=a!==void 0,f=yt(e,c.onValueNodeChange);return Cr(()=>{u(d)},[u,d]),s.jsx(Gn.span,{...l,ref:f,style:{pointerEvents:"none"},children:kQ(c.value)?s.jsx(s.Fragment,{children:o}):a})});lQ.displayName=oQ;var fEe="SelectIcon",cQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return s.jsx(Gn.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});cQ.displayName=fEe;var hEe="SelectPortal",uQ=t=>s.jsx(rQ,{asChild:!0,...t});uQ.displayName=hEe;var ih="SelectContent",dQ=x.forwardRef((t,e)=>{const r=Bd(ih,t.__scopeSelect),[n,i]=x.useState();if(Cr(()=>{i(new DocumentFragment)},[]),!r.open){const a=n;return a?Wo.createPortal(s.jsx(fQ,{scope:t.__scopeSelect,children:s.jsx(ej.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),a):null}return s.jsx(hQ,{...t,ref:e})});dQ.displayName=ih;var Co=10,[fQ,zd]=Qm(ih),pEe="SelectContentImpl",mEe=Qw("SelectContent.RemoveScroll"),hQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:a,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:b,avoidCollisions:_,...j}=t,N=Bd(ih,r),[C,A]=x.useState(null),[E,P]=x.useState(null),O=yt(e,ae=>A(ae)),[I,F]=x.useState(null),[H,U]=x.useState(null),z=tj(r),[V,X]=x.useState(!1),te=x.useRef(!1);x.useEffect(()=>{if(C)return M1(C)},[C]),TM();const le=x.useCallback(ae=>{const[ge,...ve]=z().map(Y=>Y.ref.current),[Ae]=ve.slice(-1),Q=document.activeElement;for(const Y of ae)if(Y===Q||(Y?.scrollIntoView({block:"nearest"}),Y===ge&&E&&(E.scrollTop=0),Y===Ae&&E&&(E.scrollTop=E.scrollHeight),Y?.focus(),document.activeElement!==Q))return},[z,E]),W=x.useCallback(()=>le([I,C]),[le,I,C]);x.useEffect(()=>{V&&W()},[V,W]);const{onOpenChange:re,triggerPointerDownPosRef:G}=N;x.useEffect(()=>{if(C){let ae={x:0,y:0};const ge=Ae=>{ae={x:Math.abs(Math.round(Ae.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(Ae.pageY)-(G.current?.y??0))}},ve=Ae=>{ae.x<=10&&ae.y<=10?Ae.preventDefault():C.contains(Ae.target)||re(!1),document.removeEventListener("pointermove",ge),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",ve,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",ve,{capture:!0})}}},[C,re,G]),x.useEffect(()=>{const ae=()=>re(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[re]);const[ie,Z]=AQ(ae=>{const ge=z().filter(Q=>!Q.disabled),ve=ge.find(Q=>Q.ref.current===document.activeElement),Ae=TQ(ge,ae,ve);Ae&&setTimeout(()=>Ae.ref.current.focus())}),de=x.useCallback((ae,ge,ve)=>{const Ae=!te.current&&!ve;(N.value!==void 0&&N.value===ge||Ae)&&(F(ae),Ae&&(te.current=!0))},[N.value]),Se=x.useCallback(()=>C?.focus(),[C]),Me=x.useCallback((ae,ge,ve)=>{const Ae=!te.current&&!ve;(N.value!==void 0&&N.value===ge||Ae)&&U(ae)},[N.value]),qe=n==="popper"?LT:pQ,oe=qe===LT?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:b,avoidCollisions:_}:{};return s.jsx(fQ,{scope:r,content:C,viewport:E,onViewportChange:P,itemRefCallback:de,selectedItem:I,onItemLeave:Se,itemTextRefCallback:Me,focusSelectedItem:W,selectedItemText:H,position:n,isPositioned:V,searchRef:ie,children:s.jsx(Ex,{as:mEe,allowPinchZoom:!0,children:s.jsx(UJ,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:tt(i,ae=>{N.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:s.jsx(zJ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:s.jsx(qe,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...j,...oe,onPlaced:()=>X(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:tt(j.onKeyDown,ae=>{const ge=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ge&&ae.key.length===1&&Z(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Ae=z().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Ae=Ae.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const Q=ae.target,Y=Ae.indexOf(Q);Ae=Ae.slice(Y+1)}setTimeout(()=>le(Ae)),ae.preventDefault()}})})})})})})});hQ.displayName=pEe;var gEe="SelectItemAlignedPosition",pQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,a=Bd(ih,r),o=zd(ih,r),[l,c]=x.useState(null),[u,d]=x.useState(null),f=yt(e,O=>d(O)),g=tj(r),v=x.useRef(!1),y=x.useRef(!0),{viewport:b,selectedItem:_,selectedItemText:j,focusSelectedItem:N}=o,C=x.useCallback(()=>{if(a.trigger&&a.valueNode&&l&&u&&b&&_&&j){const O=a.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),F=a.valueNode.getBoundingClientRect(),H=j.getBoundingClientRect();if(a.dir!=="rtl"){const Q=H.left-I.left,Y=F.left-Q,Ee=O.left-Y,Ce=O.width+Ee,Qe=Math.max(Ce,I.width),Ze=window.innerWidth-Co,Oe=X5(Y,[Co,Math.max(Co,Ze-Qe)]);l.style.minWidth=Ce+"px",l.style.left=Oe+"px"}else{const Q=I.right-H.right,Y=window.innerWidth-F.right-Q,Ee=window.innerWidth-O.right-Y,Ce=O.width+Ee,Qe=Math.max(Ce,I.width),Ze=window.innerWidth-Co,Oe=X5(Y,[Co,Math.max(Co,Ze-Qe)]);l.style.minWidth=Ce+"px",l.style.right=Oe+"px"}const U=g(),z=window.innerHeight-Co*2,V=b.scrollHeight,X=window.getComputedStyle(u),te=parseInt(X.borderTopWidth,10),le=parseInt(X.paddingTop,10),W=parseInt(X.borderBottomWidth,10),re=parseInt(X.paddingBottom,10),G=te+le+V+re+W,ie=Math.min(_.offsetHeight*5,G),Z=window.getComputedStyle(b),de=parseInt(Z.paddingTop,10),Se=parseInt(Z.paddingBottom,10),Me=O.top+O.height/2-Co,qe=z-Me,oe=_.offsetHeight/2,ae=_.offsetTop+oe,ge=te+le+ae,ve=G-ge;if(ge<=Me){const Q=U.length>0&&_===U[U.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-b.offsetTop-b.offsetHeight,Ee=Math.max(qe,oe+(Q?Se:0)+Y+W),Ce=ge+Ee;l.style.height=Ce+"px"}else{const Q=U.length>0&&_===U[0].ref.current;l.style.top="0px";const Ee=Math.max(Me,te+b.offsetTop+(Q?de:0)+oe)+ve;l.style.height=Ee+"px",b.scrollTop=ge-Me+b.offsetTop}l.style.margin=`${Co}px 0`,l.style.minHeight=ie+"px",l.style.maxHeight=z+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,a.trigger,a.valueNode,l,u,b,_,j,a.dir,n]);Cr(()=>C(),[C]);const[A,E]=x.useState();Cr(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const P=x.useCallback(O=>{O&&y.current===!0&&(C(),N?.(),y.current=!1)},[C,N]);return s.jsx(yEe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:P,children:s.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:s.jsx(Gn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});pQ.displayName=gEe;var vEe="SelectPopperPosition",LT=x.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Co,...a}=t,o=rj(r);return s.jsx(tEe,{...o,...a,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});LT.displayName=vEe;var[yEe,BI]=Qm(ih,{}),$T="SelectViewport",mQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,a=zd($T,r),o=BI($T,r),l=yt(e,a.onViewportChange),c=x.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(ej.Slot,{scope:r,children:s.jsx(Gn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:tt(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g?.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const y=window.innerHeight-Co*2,b=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),j=Math.max(b,_);if(j<y){const N=j+v,C=Math.min(y,N),A=N-C;f.style.height=C+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});mQ.displayName=$T;var gQ="SelectGroup",[xEe,bEe]=Qm(gQ),wEe=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=Ws();return s.jsx(xEe,{scope:r,id:i,children:s.jsx(Gn.div,{role:"group","aria-labelledby":i,...n,ref:e})})});wEe.displayName=gQ;var vQ="SelectLabel",yQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=bEe(vQ,r);return s.jsx(Gn.div,{id:i.id,...n,ref:e})});yQ.displayName=vQ;var e_="SelectItem",[_Ee,xQ]=Qm(e_),bQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:a,...o}=t,l=Bd(e_,r),c=zd(e_,r),u=l.value===n,[d,f]=x.useState(a??""),[g,v]=x.useState(!1),y=yt(e,N=>c.itemRefCallback?.(N,n,i)),b=Ws(),_=x.useRef("touch"),j=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(_Ee,{scope:r,value:n,disabled:i,textId:b,isSelected:u,onItemTextChange:x.useCallback(N=>{f(C=>C||(N?.textContent??"").trim())},[]),children:s.jsx(ej.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:s.jsx(Gn.div,{role:"option","aria-labelledby":b,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:tt(o.onFocus,()=>v(!0)),onBlur:tt(o.onBlur,()=>v(!1)),onClick:tt(o.onClick,()=>{_.current!=="mouse"&&j()}),onPointerUp:tt(o.onPointerUp,()=>{_.current==="mouse"&&j()}),onPointerDown:tt(o.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:tt(o.onPointerMove,N=>{_.current=N.pointerType,i?c.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:tt(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:tt(o.onKeyDown,N=>{c.searchRef?.current!==""&&N.key===" "||(oEe.includes(N.key)&&j(),N.key===" "&&N.preventDefault())})})})})});bQ.displayName=e_;var Nv="SelectItemText",wQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...a}=t,o=Bd(Nv,r),l=zd(Nv,r),c=xQ(Nv,r),u=dEe(Nv,r),[d,f]=x.useState(null),g=yt(e,j=>f(j),c.onItemTextChange,j=>l.itemTextRefCallback?.(j,c.value,c.disabled)),v=d?.textContent,y=x.useMemo(()=>s.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:b,onNativeOptionRemove:_}=u;return Cr(()=>(b(y),()=>_(y)),[b,_,y]),s.jsxs(s.Fragment,{children:[s.jsx(Gn.span,{id:c.textId,...a,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Wo.createPortal(a.children,o.valueNode):null]})});wQ.displayName=Nv;var _Q="SelectItemIndicator",jQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return xQ(_Q,r).isSelected?s.jsx(Gn.span,{"aria-hidden":!0,...n,ref:e}):null});jQ.displayName=_Q;var FT="SelectScrollUpButton",SQ=x.forwardRef((t,e)=>{const r=zd(FT,t.__scopeSelect),n=BI(FT,t.__scopeSelect),[i,a]=x.useState(!1),o=yt(e,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;a(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(CQ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});SQ.displayName=FT;var BT="SelectScrollDownButton",NQ=x.forwardRef((t,e)=>{const r=zd(BT,t.__scopeSelect),n=BI(BT,t.__scopeSelect),[i,a]=x.useState(!1),o=yt(e,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;a(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?s.jsx(CQ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});NQ.displayName=BT;var CQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,a=zd("SelectScrollButton",r),o=x.useRef(null),l=tj(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),Cr(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),s.jsx(Gn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:tt(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:tt(i.onPointerMove,()=>{a.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:tt(i.onPointerLeave,()=>{c()})})}),jEe="SelectSeparator",EQ=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Gn.div,{"aria-hidden":!0,...n,ref:e})});EQ.displayName=jEe;var zT="SelectArrow",SEe=x.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=rj(r),a=Bd(zT,r),o=zd(zT,r);return a.open&&o.position==="popper"?s.jsx(rEe,{...i,...n,ref:e}):null});SEe.displayName=zT;var NEe="SelectBubbleInput",PQ=x.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=x.useRef(null),a=yt(n,i),o=iI(e);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),s.jsx(Gn.select,{...r,style:{...nQ,...r.style},ref:a,defaultValue:e})});PQ.displayName=NEe;function kQ(t){return t===""||t===void 0}function AQ(t){const e=Or(t),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),a=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,a]}function TQ(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,a=r?t.indexOf(r):-1;let o=CEe(t,Math.max(a,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function CEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var EEe=iQ,OQ=aQ,PEe=lQ,kEe=cQ,AEe=uQ,RQ=dQ,TEe=mQ,MQ=yQ,IQ=bQ,OEe=wQ,REe=jQ,DQ=SQ,LQ=NQ,$Q=EQ;const Kr=EEe,Gr=PEe,qr=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(OQ,{ref:n,className:Je("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(kEe,{asChild:!0,children:s.jsx(Fc,{className:"h-4 w-4 opacity-50"})})]}));qr.displayName=OQ.displayName;const FQ=x.forwardRef(({className:t,...e},r)=>s.jsx(DQ,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Uf,{className:"h-4 w-4"})}));FQ.displayName=DQ.displayName;const BQ=x.forwardRef(({className:t,...e},r)=>s.jsx(LQ,{ref:r,className:Je("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Fc,{className:"h-4 w-4"})}));BQ.displayName=LQ.displayName;const Ur=x.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>s.jsx(AEe,{children:s.jsxs(RQ,{ref:i,className:Je("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(FQ,{}),s.jsx(TEe,{className:Je("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(BQ,{})]})}));Ur.displayName=RQ.displayName;const MEe=x.forwardRef(({className:t,...e},r)=>s.jsx(MQ,{ref:r,className:Je("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));MEe.displayName=MQ.displayName;const Ge=x.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(IQ,{ref:n,className:Je("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(REe,{children:s.jsx(Ad,{className:"h-4 w-4"})})}),s.jsx(OEe,{children:e})]}));Ge.displayName=IQ.displayName;const IEe=x.forwardRef(({className:t,...e},r)=>s.jsx($Q,{ref:r,className:Je("-mx-1 my-1 h-px bg-muted",t),...e}));IEe.displayName=$Q.displayName;function DEe(t){const e=LEe(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(FEe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function LEe(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=zEe(i),l=BEe(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $Ee=Symbol("radix.slottable");function FEe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$Ee}function BEe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function zEe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UEe=qEe.reduce((t,e)=>{const r=DEe(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),VEe="Separator",i6="horizontal",WEe=["horizontal","vertical"],zQ=x.forwardRef((t,e)=>{const{decorative:r,orientation:n=i6,...i}=t,a=HEe(n)?n:i6,l=r?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return s.jsx(UEe.div,{"data-orientation":a,...l,...i,ref:e})});zQ.displayName=VEe;function HEe(t){return WEe.includes(t)}var qQ=zQ;const uy=ne.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>s.jsx(qQ,{ref:i,decorative:r,orientation:e,className:Je("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));uy.displayName=qQ.displayName;const pl=({className:t,...e})=>s.jsx("div",{className:Je("animate-pulse rounded-md bg-muted",t),...e}),KEe=()=>s.jsxs("div",{className:"bg-card rounded-lg shadow-lg overflow-hidden",children:[s.jsx(pl,{className:"h-48 w-full"}),s.jsxs("div",{className:"p-4 space-y-3",children:[s.jsx(pl,{className:"h-4 w-3/4"}),s.jsx(pl,{className:"h-4 w-1/2"}),s.jsx(pl,{className:"h-6 w-1/3"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx(pl,{className:"h-4 w-20"}),s.jsx(pl,{className:"h-8 w-20 rounded"})]})]})]}),GEe=()=>s.jsxs("div",{className:"bg-card rounded-lg p-6 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(pl,{className:"h-4 w-1/2"}),s.jsx(pl,{className:"h-8 w-8 rounded"})]}),s.jsx(pl,{className:"h-8 w-1/3"}),s.jsx(pl,{className:"h-3 w-2/3"})]});function ZEe(t){const e=YEe(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find(JEe);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function YEe(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=e2e(i),l=QEe(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var XEe=Symbol("radix.slottable");function JEe(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===XEe}function QEe(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function e2e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var t2e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],UQ=t2e.reduce((t,e)=>{const r=ZEe(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),nj="Switch",[r2e,wWe]=an(nj),[n2e,i2e]=r2e(nj),VQ=x.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:a,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[g,v]=x.useState(null),y=yt(e,C=>v(C)),b=x.useRef(!1),_=g?d||!!g.closest("form"):!0,[j,N]=Ks({prop:i,defaultProp:a??!1,onChange:u,caller:nj});return s.jsxs(n2e,{scope:r,checked:j,disabled:l,children:[s.jsx(UQ.button,{type:"button",role:"switch","aria-checked":j,"aria-required":o,"data-state":GQ(j),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:tt(t.onClick,C=>{N(A=>!A),_&&(b.current=C.isPropagationStopped(),b.current||C.stopPropagation())})}),_&&s.jsx(KQ,{control:g,bubbles:!b.current,name:n,value:c,checked:j,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});VQ.displayName=nj;var WQ="SwitchThumb",HQ=x.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=i2e(WQ,r);return s.jsx(UQ.span,{"data-state":GQ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});HQ.displayName=WQ;var s2e="SwitchBubbleInput",KQ=x.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},a)=>{const o=x.useRef(null),l=yt(o,a),c=iI(r),u=vh(e);return x.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&v){const y=new Event("click",{bubbles:n});v.call(d,r),d.dispatchEvent(y)}},[c,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});KQ.displayName=s2e;function GQ(t){return t?"checked":"unchecked"}var ZQ=VQ,a2e=HQ;const Cv=x.forwardRef(({className:t,...e},r)=>s.jsx(ZQ,{className:Je("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(a2e,{className:Je("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Cv.displayName=ZQ.displayName;const eg=x.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:Je("w-full caption-bottom text-sm",t),...e})}));eg.displayName="Table";const tg=x.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:Je("[&_tr]:border-b",t),...e}));tg.displayName="TableHeader";const rg=x.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:Je("[&_tr:last-child]:border-0",t),...e}));rg.displayName="TableBody";const o2e=x.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:Je("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));o2e.displayName="TableFooter";const On=x.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:Je("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));On.displayName="TableRow";const Ar=x.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:Je("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ar.displayName="TableHead";const er=x.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:Je("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));er.displayName="TableCell";const l2e=x.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:Je("mt-4 text-sm text-muted-foreground",t),...e}));l2e.displayName="TableCaption";const Rd=ne.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:Je("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Rd.displayName="Textarea";var c2e=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),u2e="VisuallyHidden",zI=x.forwardRef((t,e)=>s.jsx(_r.span,{...t,ref:e,style:{...c2e,...t.style}}));zI.displayName=u2e;var d2e="ToastProvider",[YQ,f2e,h2e]=AM("Toast"),[XQ,_We]=an("Toast",[h2e]),[jWe,ij]=XQ(d2e),JQ="ToastViewport",p2e=["F8"],qT="toast.viewportPause",UT="toast.viewportResume",QQ=x.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=p2e,label:i="Notifications ({hotkey})",...a}=t,o=ij(JQ,r),l=f2e(r),c=x.useRef(null),u=x.useRef(null),d=x.useRef(null),f=x.useRef(null),g=yt(e,f,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;x.useEffect(()=>{const _=j=>{n.length!==0&&n.every(C=>j[C]||j.code===C)&&f.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),x.useEffect(()=>{const _=c.current,j=f.current;if(y&&_&&j){const N=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(qT);j.dispatchEvent(P),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(UT);j.dispatchEvent(P),o.isClosePausedRef.current=!1}},A=P=>{!_.contains(P.relatedTarget)&&C()},E=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",N),_.addEventListener("focusout",A),_.addEventListener("pointermove",N),_.addEventListener("pointerleave",E),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",N),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",N),_.removeEventListener("pointerleave",E),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[y,o.isClosePausedRef]);const b=x.useCallback(({tabbingDirection:_})=>{const N=l().map(C=>{const A=C.ref.current,E=[A,...E2e(A)];return _==="forwards"?E:E.reverse()});return(_==="forwards"?N.reverse():N).flat()},[l]);return x.useEffect(()=>{const _=f.current;if(_){const j=N=>{const C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){const E=document.activeElement,P=N.shiftKey;if(N.target===_&&P){u.current?.focus();return}const F=b({tabbingDirection:P?"backwards":"forwards"}),H=F.findIndex(U=>U===E);$C(F.slice(H+1))?N.preventDefault():P?u.current?.focus():d.current?.focus()}};return _.addEventListener("keydown",j),()=>_.removeEventListener("keydown",j)}},[l,b]),s.jsxs(Oye,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&s.jsx(VT,{ref:u,onFocusFromOutsideViewport:()=>{const _=b({tabbingDirection:"forwards"});$C(_)}}),s.jsx(YQ.Slot,{scope:r,children:s.jsx(_r.ol,{tabIndex:-1,...a,ref:g})}),y&&s.jsx(VT,{ref:d,onFocusFromOutsideViewport:()=>{const _=b({tabbingDirection:"backwards"});$C(_)}})]})});QQ.displayName=JQ;var eee="ToastFocusProxy",VT=x.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,a=ij(eee,r);return s.jsx(zI,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!a.viewport?.contains(l)&&n()}})});VT.displayName=eee;var Dx="Toast",m2e="toast.swipeStart",g2e="toast.swipeMove",v2e="toast.swipeCancel",y2e="toast.swipeEnd",tee=x.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:a,...o}=t,[l,c]=Ks({prop:n,defaultProp:i??!0,onChange:a,caller:Dx});return s.jsx(Zs,{present:r||l,children:s.jsx(w2e,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Or(t.onPause),onResume:Or(t.onResume),onSwipeStart:tt(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:tt(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:tt(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:tt(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});tee.displayName=Dx;var[x2e,b2e]=XQ(Dx,{onClose(){}}),w2e=x.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:a,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:v,...y}=t,b=ij(Dx,r),[_,j]=x.useState(null),N=yt(e,X=>j(X)),C=x.useRef(null),A=x.useRef(null),E=i||b.duration,P=x.useRef(0),O=x.useRef(E),I=x.useRef(0),{onToastAdd:F,onToastRemove:H}=b,U=Or(()=>{_?.contains(document.activeElement)&&b.viewport?.focus(),o()}),z=x.useCallback(X=>{!X||X===1/0||(window.clearTimeout(I.current),P.current=new Date().getTime(),I.current=window.setTimeout(U,X))},[U]);x.useEffect(()=>{const X=b.viewport;if(X){const te=()=>{z(O.current),u?.()},le=()=>{const W=new Date().getTime()-P.current;O.current=O.current-W,window.clearTimeout(I.current),c?.()};return X.addEventListener(qT,le),X.addEventListener(UT,te),()=>{X.removeEventListener(qT,le),X.removeEventListener(UT,te)}}},[b.viewport,E,c,u,z]),x.useEffect(()=>{a&&!b.isClosePausedRef.current&&z(E)},[a,E,b.isClosePausedRef,z]),x.useEffect(()=>(F(),()=>H()),[F,H]);const V=x.useMemo(()=>_?lee(_):null,[_]);return b.viewport?s.jsxs(s.Fragment,{children:[V&&s.jsx(_2e,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),s.jsx(x2e,{scope:r,onClose:U,children:Wo.createPortal(s.jsx(YQ.ItemSlot,{scope:r,children:s.jsx(Tye,{asChild:!0,onEscapeKeyDown:tt(l,()=>{b.isFocusedToastEscapeKeyDownRef.current||U(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(_r.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":b.swipeDirection,...y,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:tt(t.onKeyDown,X=>{X.key==="Escape"&&(l?.(X.nativeEvent),X.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,U()))}),onPointerDown:tt(t.onPointerDown,X=>{X.button===0&&(C.current={x:X.clientX,y:X.clientY})}),onPointerMove:tt(t.onPointerMove,X=>{if(!C.current)return;const te=X.clientX-C.current.x,le=X.clientY-C.current.y,W=!!A.current,re=["left","right"].includes(b.swipeDirection),G=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,ie=re?G(0,te):0,Z=re?0:G(0,le),de=X.pointerType==="touch"?10:2,Se={x:ie,y:Z},Me={originalEvent:X,delta:Se};W?(A.current=Se,jb(g2e,f,Me,{discrete:!1})):s6(Se,b.swipeDirection,de)?(A.current=Se,jb(m2e,d,Me,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(te)>de||Math.abs(le)>de)&&(C.current=null)}),onPointerUp:tt(t.onPointerUp,X=>{const te=A.current,le=X.target;if(le.hasPointerCapture(X.pointerId)&&le.releasePointerCapture(X.pointerId),A.current=null,C.current=null,te){const W=X.currentTarget,re={originalEvent:X,delta:te};s6(te,b.swipeDirection,b.swipeThreshold)?jb(y2e,v,re,{discrete:!0}):jb(v2e,g,re,{discrete:!0}),W.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),_2e=t=>{const{__scopeToast:e,children:r,...n}=t,i=ij(Dx,e),[a,o]=x.useState(!1),[l,c]=x.useState(!1);return N2e(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:s.jsx(R1,{asChild:!0,children:s.jsx(zI,{...n,children:a&&s.jsxs(s.Fragment,{children:[i.label," ",r]})})})},j2e="ToastTitle",ree=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(_r.div,{...n,ref:e})});ree.displayName=j2e;var S2e="ToastDescription",nee=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return s.jsx(_r.div,{...n,ref:e})});nee.displayName=S2e;var iee="ToastAction",see=x.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?s.jsx(oee,{altText:r,asChild:!0,children:s.jsx(qI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${iee}\`. Expected non-empty \`string\`.`),null)});see.displayName=iee;var aee="ToastClose",qI=x.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=b2e(aee,r);return s.jsx(oee,{asChild:!0,children:s.jsx(_r.button,{type:"button",...n,ref:e,onClick:tt(t.onClick,i.onClose)})})});qI.displayName=aee;var oee=x.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return s.jsx(_r.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function lee(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),C2e(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",a=n.dataset.radixToastAnnounceExclude==="";if(!i)if(a){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...lee(n))}}),e}function jb(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,a=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?kM(i,a):i.dispatchEvent(a)}var s6=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),a=n>i;return e==="left"||e==="right"?a&&n>r:!a&&i>r};function N2e(t=()=>{}){const e=Or(t);Cr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function C2e(t){return t.nodeType===t.ELEMENT_NODE}function E2e(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function $C(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var cee=QQ,uee=tee,dee=ree,fee=nee,hee=see,pee=qI;const P2e=ne.forwardRef(({className:t,...e},r)=>s.jsx(cee,{ref:r,className:Je("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));P2e.displayName=cee.displayName;const k2e=N1("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),A2e=ne.forwardRef(({className:t,variant:e,...r},n)=>s.jsx(uee,{ref:n,className:Je(k2e({variant:e}),t),...r}));A2e.displayName=uee.displayName;const T2e=ne.forwardRef(({className:t,...e},r)=>s.jsx(hee,{ref:r,className:Je("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));T2e.displayName=hee.displayName;const O2e=ne.forwardRef(({className:t,...e},r)=>s.jsx(pee,{ref:r,className:Je("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:s.jsx(Gs,{className:"h-4 w-4"})}));O2e.displayName=pee.displayName;const R2e=ne.forwardRef(({className:t,...e},r)=>s.jsx(dee,{ref:r,className:Je("text-sm font-semibold",t),...e}));R2e.displayName=dee.displayName;const M2e=ne.forwardRef(({className:t,...e},r)=>s.jsx(fee,{ref:r,className:Je("text-sm opacity-90",t),...e}));M2e.displayName=fee.displayName;function I2e(t){const e=D2e(t),r=x.forwardRef((n,i)=>{const{children:a,...o}=n,l=x.Children.toArray(a),c=l.find($2e);if(c){const u=c.props.children,d=l.map(f=>f===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:f);return s.jsx(e,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,d):null})}return s.jsx(e,{...o,ref:i,children:a})});return r.displayName=`${t}.Slot`,r}function D2e(t){const e=x.forwardRef((r,n)=>{const{children:i,...a}=r;if(x.isValidElement(i)){const o=B2e(i),l=F2e(a,i.props);return i.type!==x.Fragment&&(l.ref=n?ja(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mee=Symbol("radix.slottable");function L2e(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=mee,e}function $2e(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mee}function F2e(t,e){const r={...e};for(const n in e){const i=t[n],a=e[n];/^on[A-Z]/.test(n)?i&&a?r[n]=(...l)=>{const c=a(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...a}:n==="className"&&(r[n]=[i,a].filter(Boolean).join(" "))}return{...t,...r}}function B2e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var z2e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],wh=z2e.reduce((t,e)=>{const r=I2e(`Primitive.${e}`),n=x.forwardRef((i,a)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(c,{...l,ref:a})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function q2e(t,e){t&&Wo.flushSync(()=>t.dispatchEvent(e))}var U2e="DismissableLayer",WT="dismissableLayer.update",V2e="dismissableLayer.pointerDownOutside",W2e="dismissableLayer.focusOutside",a6,gee=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vee=x.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:o,onDismiss:l,...c}=t,u=x.useContext(gee),[d,f]=x.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=x.useState({}),y=yt(e,O=>f(O)),b=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),j=b.indexOf(_),N=d?b.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=j,E=G2e(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=Z2e(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(a?.(O),o?.(O),O.defaultPrevented||l?.())},g);return mx(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(a6=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),o6(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=a6)}},[d,g,r,u]),x.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),o6())},[d,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(WT,O),()=>document.removeEventListener(WT,O)},[]),s.jsx(wh.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:tt(t.onFocusCapture,P.onFocusCapture),onBlurCapture:tt(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:tt(t.onPointerDownCapture,E.onPointerDownCapture)})});vee.displayName=U2e;var H2e="DismissableLayerBranch",K2e=x.forwardRef((t,e)=>{const r=x.useContext(gee),n=x.useRef(null),i=yt(e,n);return x.useEffect(()=>{const a=n.current;if(a)return r.branches.add(a),()=>{r.branches.delete(a)}},[r.branches]),s.jsx(wh.div,{...t,ref:i})});K2e.displayName=H2e;function G2e(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const a=l=>{if(l.target&&!n.current){let c=function(){yee(V2e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",a),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Z2e(t,e=globalThis?.document){const r=Or(t),n=x.useRef(!1);return x.useEffect(()=>{const i=a=>{a.target&&!n.current&&yee(W2e,r,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function o6(){const t=new CustomEvent(WT);document.dispatchEvent(t)}function yee(t,e,r,{discrete:n}){const i=r.originalEvent.target,a=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?q2e(i,a):i.dispatchEvent(a)}var Y2e="Arrow",xee=x.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...a}=t;return s.jsx(wh.svg,{...a,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});xee.displayName=Y2e;var X2e=xee,UI="Popper",[bee,wee]=an(UI),[J2e,_ee]=bee(UI),jee=t=>{const{__scopePopper:e,children:r}=t,[n,i]=x.useState(null);return s.jsx(J2e,{scope:e,anchor:n,onAnchorChange:i,children:r})};jee.displayName=UI;var See="PopperAnchor",Nee=x.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,a=_ee(See,r),o=x.useRef(null),l=yt(e,o);return x.useEffect(()=>{a.onAnchorChange(n?.current||o.current)}),n?null:s.jsx(wh.div,{...i,ref:l})});Nee.displayName=See;var VI="PopperContent",[Q2e,ePe]=bee(VI),Cee=x.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:a="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...b}=t,_=_ee(VI,r),[j,N]=x.useState(null),C=yt(e,ae=>N(ae)),[A,E]=x.useState(null),P=vh(A),O=P?.width??0,I=P?.height??0,F=n+(a!=="center"?"-"+a:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},U=Array.isArray(u)?u:[u],z=U.length>0,V={padding:H,boundary:U.filter(rPe),altBoundary:z},{refs:X,floatingStyles:te,placement:le,isPositioned:W,middlewareData:re}=yx({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>vx(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[xx({mainAxis:i+I,alignmentAxis:o}),c&&bx({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?wx():void 0,...V}),c&&_x({...V}),jx({...V,apply:({elements:ae,rects:ge,availableWidth:ve,availableHeight:Ae})=>{const{width:Q,height:Y}=ge.reference,Ee=ae.floating.style;Ee.setProperty("--radix-popper-available-width",`${ve}px`),Ee.setProperty("--radix-popper-available-height",`${Ae}px`),Ee.setProperty("--radix-popper-anchor-width",`${Q}px`),Ee.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Nx({element:A,padding:l}),nPe({arrowWidth:O,arrowHeight:I}),g&&Sx({strategy:"referenceHidden",...V})]}),[G,ie]=kee(le),Z=Or(y);Cr(()=>{W&&Z?.()},[W,Z]);const de=re.arrow?.x,Se=re.arrow?.y,Me=re.arrow?.centerOffset!==0,[qe,oe]=x.useState();return Cr(()=>{j&&oe(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:W?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[re.transformOrigin?.x,re.transformOrigin?.y].join(" "),...re.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(Q2e,{scope:r,placedSide:G,onArrowChange:E,arrowX:de,arrowY:Se,shouldHideArrow:Me,children:s.jsx(wh.div,{"data-side":G,"data-align":ie,...b,ref:C,style:{...b.style,animation:W?void 0:"none"}})})})});Cee.displayName=VI;var Eee="PopperArrow",tPe={top:"bottom",right:"left",bottom:"top",left:"right"},Pee=x.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,a=ePe(Eee,n),o=tPe[a.placedSide];return s.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:s.jsx(X2e,{...i,ref:r,style:{...i.style,display:"block"}})})});Pee.displayName=Eee;function rPe(t){return t!==null}var nPe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=kee(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",b="";return u==="bottom"?(y=o?f:`${g}px`,b=`${-c}px`):u==="top"?(y=o?f:`${g}px`,b=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,b=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,b=o?f:`${v}px`),{data:{x:y,y:b}}}});function kee(t){const[e,r="center"]=t.split("-");return[e,r]}var iPe=jee,sPe=Nee,aPe=Cee,oPe=Pee,lPe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cPe="VisuallyHidden",Aee=x.forwardRef((t,e)=>s.jsx(wh.span,{...t,ref:e,style:{...lPe,...t.style}}));Aee.displayName=cPe;var uPe=Aee,[sj,SWe]=an("Tooltip",[wee]),aj=wee(),Tee="TooltipProvider",dPe=700,HT="tooltip.open",[fPe,WI]=sj(Tee),Oee=t=>{const{__scopeTooltip:e,delayDuration:r=dPe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:a}=t,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),s.jsx(fPe,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:a})};Oee.displayName=Tee;var dy="Tooltip",[hPe,oj]=sj(dy),Ree=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:a,disableHoverableContent:o,delayDuration:l}=t,c=WI(dy,t.__scopeTooltip),u=aj(e),[d,f]=x.useState(null),g=Ws(),v=x.useRef(0),y=o??c.disableHoverableContent,b=l??c.delayDuration,_=x.useRef(!1),[j,N]=Ks({prop:n,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(HT))):c.onClose(),a?.(O)},caller:dy}),C=x.useMemo(()=>j?_.current?"delayed-open":"instant-open":"closed",[j]),A=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,N(!0)},[N]),E=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N(!1)},[N]),P=x.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,N(!0),v.current=0},b)},[b,N]);return x.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),s.jsx(iPe,{...u,children:s.jsx(hPe,{scope:e,contentId:g,open:j,stateAttribute:C,trigger:d,onTriggerChange:f,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?P():A()},[c.isOpenDelayedRef,P,A]),onTriggerLeave:x.useCallback(()=>{y?E():(window.clearTimeout(v.current),v.current=0)},[E,y]),onOpen:A,onClose:E,disableHoverableContent:y,children:r})})};Ree.displayName=dy;var KT="TooltipTrigger",Mee=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=oj(KT,r),a=WI(KT,r),o=aj(r),l=x.useRef(null),c=yt(e,l,i.onTriggerChange),u=x.useRef(!1),d=x.useRef(!1),f=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(sPe,{asChild:!0,...o,children:s.jsx(wh.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:tt(t.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!a.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:tt(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:tt(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:tt(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:tt(t.onBlur,i.onClose),onClick:tt(t.onClick,i.onClose)})})});Mee.displayName=KT;var pPe="TooltipPortal",[NWe,mPe]=sj(pPe,{forceMount:void 0}),om="TooltipContent",Iee=x.forwardRef((t,e)=>{const r=mPe(om,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...a}=t,o=oj(om,t.__scopeTooltip);return s.jsx(Zs,{present:n||o.open,children:o.disableHoverableContent?s.jsx(Dee,{side:i,...a,ref:e}):s.jsx(gPe,{side:i,...a,ref:e})})}),gPe=x.forwardRef((t,e)=>{const r=oj(om,t.__scopeTooltip),n=WI(om,t.__scopeTooltip),i=x.useRef(null),a=yt(e,i),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,g=x.useCallback(()=>{l(null),f(!1)},[f]),v=x.useCallback((y,b)=>{const _=y.currentTarget,j={x:y.clientX,y:y.clientY},N=wPe(j,_.getBoundingClientRect()),C=_Pe(j,N),A=jPe(b.getBoundingClientRect()),E=NPe([...C,...A]);l(E),f(!0)},[f]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(c&&d){const y=_=>v(_,d),b=_=>v(_,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",b),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",b)}}},[c,d,v,g]),x.useEffect(()=>{if(o){const y=b=>{const _=b.target,j={x:b.clientX,y:b.clientY},N=c?.contains(_)||d?.contains(_),C=!SPe(j,o);N?g():C&&(g(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,g]),s.jsx(Dee,{...t,ref:a})}),[vPe,yPe]=sj(dy,{isInside:!1}),xPe=L2e("TooltipContent"),Dee=x.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:a,onPointerDownOutside:o,...l}=t,c=oj(om,r),u=aj(r),{onClose:d}=c;return x.useEffect(()=>(document.addEventListener(HT,d),()=>document.removeEventListener(HT,d)),[d]),x.useEffect(()=>{if(c.trigger){const f=g=>{g.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),s.jsx(vee,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:a,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:s.jsxs(aPe,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(xPe,{children:n}),s.jsx(vPe,{scope:r,isInside:!0,children:s.jsx(uPe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});Iee.displayName=om;var Lee="TooltipArrow",bPe=x.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=aj(r);return yPe(Lee,r).isInside?null:s.jsx(oPe,{...i,...n,ref:e})});bPe.displayName=Lee;function wPe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),a=Math.abs(e.left-t.x);switch(Math.min(r,n,i,a)){case a:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function _Pe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function jPe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function SPe(t,e){const{x:r,y:n}=t;let i=!1;for(let a=0,o=e.length-1;a<e.length;o=a++){const l=e[a],c=e[o],u=l.x,d=l.y,f=c.x,g=c.y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function NPe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),CPe(e)}function CPe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const a=e[e.length-1],o=e[e.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const a=r[r.length-1],o=r[r.length-2];if((a.x-o.x)*(i.y-o.y)>=(a.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var EPe=Oee,PPe=Ree,kPe=Mee,$ee=Iee;const Af=EPe,Mo=PPe,Io=kPe,Za=x.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx($ee,{ref:n,sideOffset:e,className:Je("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Za.displayName=$ee.displayName;const fy=({user:t,size:e="default",className:r,showFallbackIcon:n=!1})=>{if(!t)return s.jsx(Gw,{className:Je("bg-gray-200",e==="sm"&&"h-8 w-8",e==="default"&&"h-10 w-10",e==="lg"&&"h-12 w-12",e==="xl"&&"h-16 w-16",r),children:s.jsx(Zw,{className:"bg-gray-200 text-gray-600",children:s.jsx(Us,{className:"h-4 w-4"})})});const i=()=>{const c=t.first_name||"",u=t.last_name||"";return c&&u?`${c.charAt(0)}${u.charAt(0)}`.toUpperCase():c?c.charAt(0).toUpperCase():u?u.charAt(0).toUpperCase():t.email?t.email.charAt(0).toUpperCase():"?"},a=()=>{const c=`${t.first_name||""}${t.last_name||""}`.toLowerCase();if(!c)return"bg-gray-500";const u=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"];let d=0;for(let f=0;f<c.length;f++)d=c.charCodeAt(f)+((d<<5)-d);return u[Math.abs(d)%u.length]},o=()=>{switch(e){case"sm":return"h-8 w-8";case"lg":return"h-12 w-12";case"xl":return"h-16 w-16";default:return"h-10 w-10"}},l=()=>{switch(e){case"sm":return"text-xs";case"lg":return"text-lg";case"xl":return"text-2xl";default:return"text-sm"}};return s.jsxs(Gw,{className:Je(o(),r),children:[t.avatar_url&&s.jsx(IX,{src:t.avatar_url,alt:`${t.first_name||""} ${t.last_name||""}`,onError:c=>{c.target.style.display="none"}}),s.jsx(Zw,{className:Je(a(),"text-white font-semibold",l()),children:n?s.jsx(Us,{className:Je(e==="sm"&&"h-3 w-3",e==="default"&&"h-4 w-4",e==="lg"&&"h-5 w-5",e==="xl"&&"h-6 w-6")}):i()})]})},Sb=({error:t,className:e="",showIcon:r=!0})=>t?s.jsxs("div",{className:Je("flex items-start gap-1.5 text-xs text-red-600 mt-1",e),children:[r&&s.jsx(wn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"leading-relaxed",children:t})]}):null,APe=(t={})=>({getFieldError:o=>t[o]||null,hasFieldError:o=>!!t[o],hasAnyErrors:()=>Object.keys(t).length>0,clearFieldError:(o,l)=>{l&&t[o]&&l(c=>{const u={...c};return delete u[o],u})},clearAllErrors:o=>{o&&o({})}}),l6=(t,e,r)=>{if(t&&"reportValidity"in t){const n=St(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},Fee=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?l6(n.ref,r,t):n.refs&&n.refs.forEach(i=>l6(i,r,t))}},TPe=(t,e)=>{e.shouldUseNativeValidation&&Fee(t,e);const r={};for(const n in t){const i=St(e.fields,n),a=Object.assign(t[n]||{},{ref:i&&i.ref});if(OPe(e.names||Object.keys(t),n)){const o=Object.assign({},St(r,n));Qr(o,"root",a),Qr(r,n,o)}else Qr(r,n,a)}return r},OPe=(t,e)=>t.some(r=>r.startsWith(e+"."));var RPe=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,a=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:a,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=MZ(o,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},MPe=function(t,e,r){return r===void 0&&(r={}),function(n,i,a){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return a.shouldUseNativeValidation&&Fee({},a),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:TPe(RPe(o.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw o}))}catch(o){return Promise.reject(o)}}},Tr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const a={};for(const o of i)a[o]=o;return a},t.getValidEnumValues=i=>{const a=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of a)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(a){return i[a]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const a=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&a.push(o);return a},t.find=(i,a)=>{for(const o of i)if(a(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(a)}t.joinValues=n,t.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(Tr||(Tr={}));var c6;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(c6||(c6={}));const Nt=Tr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),sd=t=>{switch(typeof t){case"undefined":return Nt.undefined;case"string":return Nt.string;case"number":return Number.isNaN(t)?Nt.nan:Nt.number;case"boolean":return Nt.boolean;case"function":return Nt.function;case"bigint":return Nt.bigint;case"symbol":return Nt.symbol;case"object":return Array.isArray(t)?Nt.array:t===null?Nt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Nt.promise:typeof Map<"u"&&t instanceof Map?Nt.map:typeof Set<"u"&&t instanceof Set?Nt.set:typeof Date<"u"&&t instanceof Date?Nt.date:Nt.object;default:return Nt.unknown}},ut=Tr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Ml extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(a){return a.message},n={_errors:[]},i=a=>{for(const o of a.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof Ml))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Tr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const a=i.path[0];r[a]=r[a]||[],r[a].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Ml.create=t=>new Ml(t);const GT=(t,e)=>{let r;switch(t.code){case ut.invalid_type:t.received===Nt.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case ut.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Tr.jsonStringifyReplacer)}`;break;case ut.unrecognized_keys:r=`Unrecognized key(s) in object: ${Tr.joinValues(t.keys,", ")}`;break;case ut.invalid_union:r="Invalid input";break;case ut.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Tr.joinValues(t.options)}`;break;case ut.invalid_enum_value:r=`Invalid enum value. Expected ${Tr.joinValues(t.options)}, received '${t.received}'`;break;case ut.invalid_arguments:r="Invalid function arguments";break;case ut.invalid_return_type:r="Invalid function return type";break;case ut.invalid_date:r="Invalid date";break;case ut.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Tr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case ut.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case ut.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case ut.custom:r="Invalid input";break;case ut.invalid_intersection_types:r="Intersection results could not be merged";break;case ut.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case ut.not_finite:r="Number must be finite";break;default:r=e.defaultError,Tr.assertNever(t)}return{message:r}};let IPe=GT;function DPe(){return IPe}const LPe=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,a=[...r,...i.path||[]],o={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:a,message:l}};function mt(t,e){const r=DPe(),n=LPe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===GT?void 0:GT].filter(i=>!!i)});t.common.issues.push(n)}class js{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Qt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const a=await i.key,o=await i.value;n.push({key:a,value:o})}return js.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:a,value:o}=i;if(a.status==="aborted"||o.status==="aborted")return Qt;a.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),a.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[a.value]=o.value)}return{status:e.value,value:n}}}const Qt=Object.freeze({status:"aborted"}),Ev=t=>({status:"dirty",value:t}),oo=t=>({status:"valid",value:t}),u6=t=>t.status==="aborted",d6=t=>t.status==="dirty",lm=t=>t.status==="valid",t_=t=>typeof Promise<"u"&&t instanceof Promise;var Ot;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(Ot||(Ot={}));class Il{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const f6=(t,e)=>{if(lm(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Ml(t.common.issues);return this._error=r,this._error}}};function dr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class wr{get description(){return this._def.description}_getType(e){return sd(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:sd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new js,ctx:{common:e.parent.common,data:e.data,parsedType:sd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(t_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sd(e)},i=this._parseSync({data:e,path:n.path,parent:n});return f6(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sd(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return lm(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>lm(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:sd(e)},i=this._parse({data:e,path:n.path,parent:n}),a=await(t_(i)?i:Promise.resolve(i));return f6(n,a)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{const o=e(i),l=()=>a.addIssue({code:ut.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new dm({schema:this,typeName:Xt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _d.create(this,this._def)}nullable(){return fm.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return El.create(this)}promise(){return s_.create(this,this._def)}or(e){return r_.create([this,e],this._def)}and(e){return n_.create(this,e,this._def)}transform(e){return new dm({...dr(this._def),schema:this,typeName:Xt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new JT({...dr(this._def),innerType:this,defaultValue:r,typeName:Xt.ZodDefault})}brand(){return new ake({typeName:Xt.ZodBranded,type:this,...dr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new QT({...dr(this._def),innerType:this,catchValue:r,typeName:Xt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return HI.create(this,e)}readonly(){return eO.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $Pe=/^c[^\s-]{8,}$/i,FPe=/^[0-9a-z]+$/,BPe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,zPe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qPe=/^[a-z0-9_-]{21}$/i,UPe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,VPe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,WPe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,HPe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let FC;const KPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,GPe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ZPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,YPe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,XPe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,JPe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bee="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",QPe=new RegExp(`^${Bee}$`);function zee(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function eke(t){return new RegExp(`^${zee(t)}$`)}function tke(t){let e=`${Bee}T${zee(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function rke(t,e){return!!((e==="v4"||!e)&&KPe.test(t)||(e==="v6"||!e)&&ZPe.test(t))}function nke(t,e){if(!UPe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function ike(t,e){return!!((e==="v4"||!e)&&GPe.test(t)||(e==="v6"||!e)&&YPe.test(t))}class Rc extends wr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Nt.string){const a=this._getOrReturnCtx(e);return mt(a,{code:ut.invalid_type,expected:Nt.string,received:a.parsedType}),Qt}const n=new js;let i;for(const a of this._def.checks)if(a.kind==="min")e.data.length<a.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")e.data.length>a.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){const o=e.data.length>a.value,l=e.data.length<a.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?mt(i,{code:ut.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):l&&mt(i,{code:ut.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")WPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"email",code:ut.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")FC||(FC=new RegExp(HPe,"u")),FC.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"emoji",code:ut.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")zPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"uuid",code:ut.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")qPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"nanoid",code:ut.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")$Pe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid",code:ut.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")FPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cuid2",code:ut.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")BPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ulid",code:ut.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),mt(i,{validation:"url",code:ut.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"regex",code:ut.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?e.data=e.data.trim():a.kind==="includes"?e.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?e.data=e.data.toLowerCase():a.kind==="toUpperCase"?e.data=e.data.toUpperCase():a.kind==="startsWith"?e.data.startsWith(a.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?e.data.endsWith(a.value)||(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?tke(a).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?QPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?eke(a).test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?VPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"duration",code:ut.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?rke(e.data,a.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"ip",code:ut.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?nke(e.data,a.alg)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"jwt",code:ut.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?ike(e.data,a.version)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"cidr",code:ut.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?XPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64",code:ut.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?JPe.test(e.data)||(i=this._getOrReturnCtx(e,i),mt(i,{validation:"base64url",code:ut.invalid_string,message:a.message}),n.dirty()):Tr.assertNever(a);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:ut.invalid_string,...Ot.errToObj(n)})}_addCheck(e){return new Rc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ot.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ot.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ot.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ot.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ot.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ot.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ot.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ot.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ot.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ot.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ot.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ot.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ot.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Ot.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...Ot.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Ot.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...Ot.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...Ot.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...Ot.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...Ot.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...Ot.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...Ot.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...Ot.errToObj(r)})}nonempty(e){return this.min(1,Ot.errToObj(e))}trim(){return new Rc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Rc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Rc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Rc.create=t=>new Rc({checks:[],typeName:Xt.ZodString,coerce:t?.coerce??!1,...dr(t)});function ske(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,a=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return a%o/10**i}class cm extends wr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Nt.number){const a=this._getOrReturnCtx(e);return mt(a,{code:ut.invalid_type,expected:Nt.number,received:a.parsedType}),Qt}let n;const i=new js;for(const a of this._def.checks)a.kind==="int"?Tr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?ske(e.data,a.value)!==0&&(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.not_finite,message:a.message}),i.dirty()):Tr.assertNever(a);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,Ot.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ot.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ot.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ot.toString(r))}setLimit(e,r,n,i){return new cm({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ot.toString(i)}]})}_addCheck(e){return new cm({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ot.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ot.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ot.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:Ot.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ot.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ot.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Tr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}cm.create=t=>new cm({checks:[],typeName:Xt.ZodNumber,coerce:t?.coerce||!1,...dr(t)});class hy extends wr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==Nt.bigint)return this._getInvalidInput(e);let n;const i=new js;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?e.data<a.value:e.data<=a.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?e.data>a.value:e.data>=a.value)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?e.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),mt(n,{code:ut.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):Tr.assertNever(a);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return mt(r,{code:ut.invalid_type,expected:Nt.bigint,received:r.parsedType}),Qt}gte(e,r){return this.setLimit("min",e,!0,Ot.toString(r))}gt(e,r){return this.setLimit("min",e,!1,Ot.toString(r))}lte(e,r){return this.setLimit("max",e,!0,Ot.toString(r))}lt(e,r){return this.setLimit("max",e,!1,Ot.toString(r))}setLimit(e,r,n,i){return new hy({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:Ot.toString(i)}]})}_addCheck(e){return new hy({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ot.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ot.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ot.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ot.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:Ot.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}hy.create=t=>new hy({checks:[],typeName:Xt.ZodBigInt,coerce:t?.coerce??!1,...dr(t)});class ZT extends wr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Nt.boolean){const n=this._getOrReturnCtx(e);return mt(n,{code:ut.invalid_type,expected:Nt.boolean,received:n.parsedType}),Qt}return oo(e.data)}}ZT.create=t=>new ZT({typeName:Xt.ZodBoolean,coerce:t?.coerce||!1,...dr(t)});class py extends wr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Nt.date){const a=this._getOrReturnCtx(e);return mt(a,{code:ut.invalid_type,expected:Nt.date,received:a.parsedType}),Qt}if(Number.isNaN(e.data.getTime())){const a=this._getOrReturnCtx(e);return mt(a,{code:ut.invalid_date}),Qt}const n=new js;let i;for(const a of this._def.checks)a.kind==="min"?e.data.getTime()<a.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?e.data.getTime()>a.value&&(i=this._getOrReturnCtx(e,i),mt(i,{code:ut.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):Tr.assertNever(a);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new py({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:Ot.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:Ot.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}py.create=t=>new py({checks:[],coerce:t?.coerce||!1,typeName:Xt.ZodDate,...dr(t)});class h6 extends wr{_parse(e){if(this._getType(e)!==Nt.symbol){const n=this._getOrReturnCtx(e);return mt(n,{code:ut.invalid_type,expected:Nt.symbol,received:n.parsedType}),Qt}return oo(e.data)}}h6.create=t=>new h6({typeName:Xt.ZodSymbol,...dr(t)});class p6 extends wr{_parse(e){if(this._getType(e)!==Nt.undefined){const n=this._getOrReturnCtx(e);return mt(n,{code:ut.invalid_type,expected:Nt.undefined,received:n.parsedType}),Qt}return oo(e.data)}}p6.create=t=>new p6({typeName:Xt.ZodUndefined,...dr(t)});class m6 extends wr{_parse(e){if(this._getType(e)!==Nt.null){const n=this._getOrReturnCtx(e);return mt(n,{code:ut.invalid_type,expected:Nt.null,received:n.parsedType}),Qt}return oo(e.data)}}m6.create=t=>new m6({typeName:Xt.ZodNull,...dr(t)});class YT extends wr{constructor(){super(...arguments),this._any=!0}_parse(e){return oo(e.data)}}YT.create=t=>new YT({typeName:Xt.ZodAny,...dr(t)});class g6 extends wr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oo(e.data)}}g6.create=t=>new g6({typeName:Xt.ZodUnknown,...dr(t)});class Md extends wr{_parse(e){const r=this._getOrReturnCtx(e);return mt(r,{code:ut.invalid_type,expected:Nt.never,received:r.parsedType}),Qt}}Md.create=t=>new Md({typeName:Xt.ZodNever,...dr(t)});class v6 extends wr{_parse(e){if(this._getType(e)!==Nt.undefined){const n=this._getOrReturnCtx(e);return mt(n,{code:ut.invalid_type,expected:Nt.void,received:n.parsedType}),Qt}return oo(e.data)}}v6.create=t=>new v6({typeName:Xt.ZodVoid,...dr(t)});class El extends wr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Nt.array)return mt(r,{code:ut.invalid_type,expected:Nt.array,received:r.parsedType}),Qt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(mt(r,{code:o?ut.too_big:ut.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(mt(r,{code:ut.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(mt(r,{code:ut.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Il(r,o,r.path,l)))).then(o=>js.mergeArray(n,o));const a=[...r.data].map((o,l)=>i.type._parseSync(new Il(r,o,r.path,l)));return js.mergeArray(n,a)}get element(){return this._def.type}min(e,r){return new El({...this._def,minLength:{value:e,message:Ot.toString(r)}})}max(e,r){return new El({...this._def,maxLength:{value:e,message:Ot.toString(r)}})}length(e,r){return new El({...this._def,exactLength:{value:e,message:Ot.toString(r)}})}nonempty(e){return this.min(1,e)}}El.create=(t,e)=>new El({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Xt.ZodArray,...dr(e)});function Ap(t){if(t instanceof ti){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=_d.create(Ap(n))}return new ti({...t._def,shape:()=>e})}else return t instanceof El?new El({...t._def,type:Ap(t.element)}):t instanceof _d?_d.create(Ap(t.unwrap())):t instanceof fm?fm.create(Ap(t.unwrap())):t instanceof sh?sh.create(t.items.map(e=>Ap(e))):t}class ti extends wr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Tr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==Nt.object){const u=this._getOrReturnCtx(e);return mt(u,{code:ut.invalid_type,expected:Nt.object,received:u.parsedType}),Qt}const{status:n,ctx:i}=this._processInputParams(e),{shape:a,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof Md&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=a[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Il(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof Md){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(mt(i,{code:ut.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Il(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,g=await d.value;u.push({key:f,value:g,alwaysSet:d.alwaysSet})}return u}).then(u=>js.mergeObjectSync(n,u)):js.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return Ot.errToObj,new ti({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:Ot.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ti({...this._def,unknownKeys:"strip"})}passthrough(){return new ti({...this._def,unknownKeys:"passthrough"})}extend(e){return new ti({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ti({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Xt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new ti({...this._def,catchall:e})}pick(e){const r={};for(const n of Tr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new ti({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Tr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new ti({...this._def,shape:()=>r})}deepPartial(){return Ap(this)}partial(e){const r={};for(const n of Tr.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new ti({...this._def,shape:()=>r})}required(e){const r={};for(const n of Tr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof _d;)a=a._def.innerType;r[n]=a}return new ti({...this._def,shape:()=>r})}keyof(){return qee(Tr.objectKeys(this.shape))}}ti.create=(t,e)=>new ti({shape:()=>t,unknownKeys:"strip",catchall:Md.create(),typeName:Xt.ZodObject,...dr(e)});ti.strictCreate=(t,e)=>new ti({shape:()=>t,unknownKeys:"strict",catchall:Md.create(),typeName:Xt.ZodObject,...dr(e)});ti.lazycreate=(t,e)=>new ti({shape:t,unknownKeys:"strip",catchall:Md.create(),typeName:Xt.ZodObject,...dr(e)});class r_ extends wr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(a){for(const l of a)if(l.result.status==="valid")return l.result;for(const l of a)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=a.map(l=>new Ml(l.ctx.common.issues));return mt(r,{code:ut.invalid_union,unionErrors:o}),Qt}if(r.common.async)return Promise.all(n.map(async a=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let a;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!a&&(a={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;const l=o.map(c=>new Ml(c));return mt(r,{code:ut.invalid_union,unionErrors:l}),Qt}}get options(){return this._def.options}}r_.create=(t,e)=>new r_({options:t,typeName:Xt.ZodUnion,...dr(e)});function XT(t,e){const r=sd(t),n=sd(e);if(t===e)return{valid:!0,data:t};if(r===Nt.object&&n===Nt.object){const i=Tr.objectKeys(e),a=Tr.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of a){const c=XT(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===Nt.array&&n===Nt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let a=0;a<t.length;a++){const o=t[a],l=e[a],c=XT(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Nt.date&&n===Nt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class n_ extends wr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(a,o)=>{if(u6(a)||u6(o))return Qt;const l=XT(a.value,o.value);return l.valid?((d6(a)||d6(o))&&r.dirty(),{status:r.value,value:l.data}):(mt(n,{code:ut.invalid_intersection_types}),Qt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,o])=>i(a,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}n_.create=(t,e,r)=>new n_({left:t,right:e,typeName:Xt.ZodIntersection,...dr(r)});class sh extends wr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Nt.array)return mt(n,{code:ut.invalid_type,expected:Nt.array,received:n.parsedType}),Qt;if(n.data.length<this._def.items.length)return mt(n,{code:ut.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Qt;!this._def.rest&&n.data.length>this._def.items.length&&(mt(n,{code:ut.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const a=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Il(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(a).then(o=>js.mergeArray(r,o)):js.mergeArray(r,a)}get items(){return this._def.items}rest(e){return new sh({...this._def,rest:e})}}sh.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new sh({items:t,typeName:Xt.ZodTuple,rest:null,...dr(e)})};class i_ extends wr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Nt.object)return mt(n,{code:ut.invalid_type,expected:Nt.object,received:n.parsedType}),Qt;const i=[],a=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:a._parse(new Il(n,l,n.path,l)),value:o._parse(new Il(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?js.mergeObjectAsync(r,i):js.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof wr?new i_({keyType:e,valueType:r,typeName:Xt.ZodRecord,...dr(n)}):new i_({keyType:Rc.create(),valueType:e,typeName:Xt.ZodRecord,...dr(r)})}}class y6 extends wr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Nt.map)return mt(n,{code:ut.invalid_type,expected:Nt.map,received:n.parsedType}),Qt;const i=this._def.keyType,a=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Il(n,l,n.path,[u,"key"])),value:a._parse(new Il(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Qt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Qt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}y6.create=(t,e,r)=>new y6({valueType:e,keyType:t,typeName:Xt.ZodMap,...dr(r)});class my extends wr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Nt.set)return mt(n,{code:ut.invalid_type,expected:Nt.set,received:n.parsedType}),Qt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(mt(n,{code:ut.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(mt(n,{code:ut.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const a=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Qt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>a._parse(new Il(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new my({...this._def,minSize:{value:e,message:Ot.toString(r)}})}max(e,r){return new my({...this._def,maxSize:{value:e,message:Ot.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}my.create=(t,e)=>new my({valueType:t,minSize:null,maxSize:null,typeName:Xt.ZodSet,...dr(e)});class x6 extends wr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}x6.create=(t,e)=>new x6({getter:t,typeName:Xt.ZodLazy,...dr(e)});class b6 extends wr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return mt(r,{received:r.data,code:ut.invalid_literal,expected:this._def.value}),Qt}return{status:"valid",value:e.data}}get value(){return this._def.value}}b6.create=(t,e)=>new b6({value:t,typeName:Xt.ZodLiteral,...dr(e)});function qee(t,e){return new um({values:t,typeName:Xt.ZodEnum,...dr(e)})}class um extends wr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return mt(r,{expected:Tr.joinValues(n),received:r.parsedType,code:ut.invalid_type}),Qt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return mt(r,{received:r.data,code:ut.invalid_enum_value,options:n}),Qt}return oo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return um.create(e,{...this._def,...r})}exclude(e,r=this._def){return um.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}um.create=qee;class w6 extends wr{_parse(e){const r=Tr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Nt.string&&n.parsedType!==Nt.number){const i=Tr.objectValues(r);return mt(n,{expected:Tr.joinValues(i),received:n.parsedType,code:ut.invalid_type}),Qt}if(this._cache||(this._cache=new Set(Tr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Tr.objectValues(r);return mt(n,{received:n.data,code:ut.invalid_enum_value,options:i}),Qt}return oo(e.data)}get enum(){return this._def.values}}w6.create=(t,e)=>new w6({values:t,typeName:Xt.ZodNativeEnum,...dr(e)});class s_ extends wr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Nt.promise&&r.common.async===!1)return mt(r,{code:ut.invalid_type,expected:Nt.promise,received:r.parsedType}),Qt;const n=r.parsedType===Nt.promise?r.data:Promise.resolve(r.data);return oo(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}s_.create=(t,e)=>new s_({type:t,typeName:Xt.ZodPromise,...dr(e)});class dm extends wr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Xt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,a={addIssue:o=>{mt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){const o=i.transform(n.data,a);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Qt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Qt:c.status==="dirty"||r.value==="dirty"?Ev(c.value):c});{if(r.value==="aborted")return Qt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Qt:l.status==="dirty"||r.value==="dirty"?Ev(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,a);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Qt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Qt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!lm(o))return Qt;const l=i.transform(o.value,a);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>lm(o)?Promise.resolve(i.transform(o.value,a)).then(l=>({status:r.value,value:l})):Qt);Tr.assertNever(i)}}dm.create=(t,e,r)=>new dm({schema:t,typeName:Xt.ZodEffects,effect:e,...dr(r)});dm.createWithPreprocess=(t,e,r)=>new dm({schema:e,effect:{type:"preprocess",transform:t},typeName:Xt.ZodEffects,...dr(r)});class _d extends wr{_parse(e){return this._getType(e)===Nt.undefined?oo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_d.create=(t,e)=>new _d({innerType:t,typeName:Xt.ZodOptional,...dr(e)});class fm extends wr{_parse(e){return this._getType(e)===Nt.null?oo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}fm.create=(t,e)=>new fm({innerType:t,typeName:Xt.ZodNullable,...dr(e)});class JT extends wr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Nt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}JT.create=(t,e)=>new JT({innerType:t,typeName:Xt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...dr(e)});class QT extends wr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return t_(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ml(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ml(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}QT.create=(t,e)=>new QT({innerType:t,typeName:Xt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...dr(e)});class _6 extends wr{_parse(e){if(this._getType(e)!==Nt.nan){const n=this._getOrReturnCtx(e);return mt(n,{code:ut.invalid_type,expected:Nt.nan,received:n.parsedType}),Qt}return{status:"valid",value:e.data}}}_6.create=t=>new _6({typeName:Xt.ZodNaN,...dr(t)});class ake extends wr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class HI extends wr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Qt:a.status==="dirty"?(r.dirty(),Ev(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Qt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new HI({in:e,out:r,typeName:Xt.ZodPipeline})}}class eO extends wr{_parse(e){const r=this._def.innerType._parse(e),n=i=>(lm(i)&&(i.value=Object.freeze(i.value)),i);return t_(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}eO.create=(t,e)=>new eO({innerType:t,typeName:Xt.ZodReadonly,...dr(e)});var Xt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Xt||(Xt={}));const $t=Rc.create,as=cm.create,Qn=ZT.create,tO=py.create,oke=YT.create;Md.create;const aw=El.create,ni=ti.create;r_.create;n_.create;sh.create;const lke=i_.create,Fn=um.create;s_.create;_d.create;fm.create;const cke=({conversation:t,onReply:e,onArchive:r,onDelete:n,onMarkAsRead:i,onStar:a,showActions:o=!0})=>{const{user:l}=Mr();if(console.log("🔍 ConversationCard - Données reçues:",{id:t.id,participant1_id:t.participant1_id,participant2_id:t.participant2_id,participant1:t.participant1,participant2:t.participant2,messages:t.messages?.length||0,currentUserId:l?.id,p1_details:t.participant1?{id:t.participant1.id,first_name:t.participant1.first_name,last_name:t.participant1.last_name,profile_image:t.participant1.profile_image,avatar_url:t.participant1.avatar_url}:null,p2_details:t.participant2?{id:t.participant2.id,first_name:t.participant2.first_name,last_name:t.participant2.last_name,profile_image:t.participant2.profile_image,avatar_url:t.participant2.avatar_url}:null}),t.id==="welcome-message"||t.type==="system"||t.is_system)return s.jsx(xt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 shadow-sm",children:s.jsx(wt,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsx("div",{className:"relative",children:s.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-white text-lg",children:"🤖"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[s.jsx("h3",{className:"font-semibold text-blue-800",children:"AIDA"}),s.jsx(vt,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Système"})]}),s.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:t.content||"Bienvenue sur MaxiMarket !"}),s.jsx("div",{className:"flex items-center space-x-1 mt-2",children:s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(Ri,{className:"h-3 w-3 mr-1"}),"À l'instant"]})})]})]})})});const u=j=>{if(!j)return"À l'instant";try{const N=new Date(j),C=new Date,A=Math.floor((C-N)/(1e3*60*60)),E=Math.floor((C-N)/(1e3*60*60*24));return A<1?"À l'instant":A<24?`Il y a ${A}h`:E<7?`Il y a ${E}j`:N.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}},d=t.messages&&t.messages.length>0?t.messages[t.messages.length-1]:null;let f=null,g="unknown";l&&t.participant1&&t.participant2?t.participant1_id===l.id?(f=t.participant2,g="participant2"):t.participant2_id===l.id?(f=t.participant1,g="participant1"):t.participant1_id==="00000000-0000-0000-0000-000000000000"?(f=t.participant2,g="assistant_participant2"):t.participant2_id==="00000000-0000-0000-0000-000000000000"?(f=t.participant1,g="assistant_participant1"):(f=t.participant1,g="fallback_participant1"):t.participant1?(f=t.participant1,g="only_participant1"):t.participant2&&(f=t.participant2,g="only_participant2"),console.log("🔍 ConversationCard - Logique de sélection du participant:",{conversationId:t.id,currentUserId:l?.id,participant1_id:t.participant1_id,participant2_id:t.participant2_id,participantSource:g,otherParticipant:f?{id:f.id,first_name:f.first_name,last_name:f.last_name,profile_image:f.profile_image,avatar_url:f.avatar_url}:null});const y=(j=>{if(!j)return console.warn("⚠️ ConversationCard - Participant null/undefined"),"Utilisateur inconnu";if(j.first_name&&j.last_name)return`${j.first_name} ${j.last_name}`;if(j.first_name)return j.first_name;if(j.last_name)return j.last_name;if(j.name)return j.name;if(j.email){const N=j.email.split("@")[0];return N.charAt(0).toUpperCase()+N.slice(1)}return console.warn("⚠️ ConversationCard - Aucun nom trouvé pour le participant:",j),"Utilisateur"})(f);console.log("🔍 ConversationCard - Nom d'affichage final:",{conversationId:t.id,displayName:y,participant:f});const b=t.messages&&t.messages.some(j=>!j.is_read&&j.sender_id!==l?.id),_=!f||!f.first_name&&!f.last_name&&!f.name;return s.jsx(xt,{className:Je("transition-all duration-200 hover:shadow-md",b&&"bg-blue-50 border-blue-200",t.starred&&"bg-yellow-50 border-yellow-200",_&&"bg-orange-50 border-orange-200"),children:s.jsx(wt,{className:"p-4",children:s.jsxs("div",{className:"flex items-start space-x-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(fy,{user:f,size:"lg",className:"flex-shrink-0"}),b&&s.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 border-2 border-white rounded-full"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h3",{className:"font-semibold text-sm",children:y}),_&&s.jsxs(vt,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:[s.jsx(mh,{className:"h-3 w-3 mr-1"}),"Données manquantes"]}),b&&s.jsx(vt,{variant:"destructive",className:"text-xs",children:"Nouveau"})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[t.starred&&s.jsx(cs,{className:"h-4 w-4 text-yellow-500 fill-current"}),s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(Ri,{className:"h-3 w-3 mr-1"}),u(t.last_message_at)]})]})]}),d&&s.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:d.content||"Aucun contenu"}),s.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[t.listing&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(Sl,{className:"h-3 w-3 mr-1"}),t.listing.title||"Annonce"]}),t.messages&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(Oi,{className:"h-3 w-3 mr-1"}),t.messages.length," message",t.messages.length>1?"s":""]})]})}),o&&s.jsxs("div",{className:"flex items-center space-x-2 mt-3 pt-3 border-t",children:[s.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>e?.(t),className:"flex-1",children:[s.jsx(rT,{className:"h-3 w-3 mr-1"}),"Répondre"]}),s.jsxs(fe,{size:"sm",variant:"outline",onClick:()=>i?.(t),className:"flex-1",children:[s.jsx(Bo,{className:"h-3 w-3 mr-1"}),"Marquer lu"]}),s.jsx(fe,{size:"sm",variant:"outline",onClick:()=>r?.(t),children:s.jsx(y1,{className:"h-3 w-3"})}),s.jsx(fe,{size:"sm",variant:"outline",onClick:()=>a?.(t),children:s.jsx(cs,{className:"h-3 w-3"})})]})]})]})})})},uke=({activities:t=[]})=>{const e=i=>{switch(i){case"view":return s.jsx(Bo,{className:"h-4 w-4"});case"message":return s.jsx(Oi,{className:"h-4 w-4"});case"favorite":return s.jsx(Al,{className:"h-4 w-4"});case"boost":return s.jsx(bs,{className:"h-4 w-4"});case"approval":return s.jsx(zn,{className:"h-4 w-4"});case"warning":return s.jsx(wn,{className:"h-4 w-4"});case"info":return s.jsx(kw,{className:"h-4 w-4"});default:return s.jsx(JA,{className:"h-4 w-4"})}},r=i=>{switch(i){case"view":return"bg-blue-50 border-blue-200";case"message":return"bg-green-50 border-green-200";case"favorite":return"bg-pink-50 border-pink-200";case"boost":return"bg-purple-50 border-purple-200";case"approval":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},n=i=>{switch(i){case"view":return"text-blue-500";case"message":return"text-green-500";case"favorite":return"text-pink-500";case"boost":return"text-purple-500";case"approval":return"text-green-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}};return t.length===0?s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center space-x-2",children:[s.jsx(bs,{className:"h-5 w-5"}),s.jsx("span",{children:"Activité Récente"})]})}),s.jsx(wt,{children:s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(bs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-sm",children:"Aucune activité récente"}),s.jsx("p",{className:"text-xs mt-1",children:"Vos activités apparaîtront ici"})]})})]}):s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center space-x-2",children:[s.jsx(bs,{className:"h-5 w-5"}),s.jsx("span",{children:"Activité Récente"})]})}),s.jsxs(wt,{children:[s.jsx("div",{className:"space-y-4",children:t.map(i=>s.jsxs("div",{className:Je("flex items-start space-x-3 p-3 rounded-lg transition-colors",r(i.type),i.unread&&"bg-blue-50 border-blue-200"),children:[s.jsx("div",{className:Je("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",r(i.type).replace("border-","bg-").replace("-50","-100")),children:s.jsx("div",{className:n(i.type),children:e(i.type)})}),s.jsx("div",{className:"flex-1 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-sm font-medium text-foreground",children:i.title}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[i.listing&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(Bo,{className:"h-3 w-3 mr-1"}),i.listing]}),i.location&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(Nl,{className:"h-3 w-3 mr-1"}),i.location]}),i.sender&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(Us,{className:"h-3 w-3 mr-1"}),i.sender]})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[i.unread&&s.jsx(vt,{variant:"destructive",className:"text-xs",children:"Nouveau"}),s.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[s.jsx(zl,{className:"h-3 w-3 mr-1"}),i.time]})]})]})})]},i.id))}),activitiesToShow.length===0&&s.jsxs("div",{className:"text-center py-8",children:[s.jsx(JA,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune activité"}),s.jsx("p",{className:"text-muted-foreground",children:"Vous n'avez pas encore d'activité récente."})]})]})]})},dke=({stats:t={}})=>{const e=[{id:"new-listing",title:"Nouvelle Annonce",description:"Publier une nouvelle annonce",icon:Ol,color:"from-primary to-blue-600",href:"/creer-annonce",badge:null},{id:"messages",title:"Messages",description:"Voir vos conversations",icon:Oi,color:"from-green-500 to-green-600",href:"/messages",badge:t.unreadMessages||0},{id:"favorites",title:"Mes Favoris",description:"Annonces sauvegardées",icon:Al,color:"from-pink-500 to-pink-600",href:"/favorites",badge:t.totalFavorites||0},{id:"analytics",title:"Analytics",description:"Voir vos statistiques",icon:bs,color:"from-purple-500 to-purple-600",href:"/admin/analytics",badge:null},{id:"settings",title:"Paramètres",description:"Configurer votre compte",icon:Of,color:"from-gray-500 to-gray-600",href:"/profile",badge:null},{id:"support",title:"Support",description:"Besoin d'aide ?",icon:_M,color:"from-orange-500 to-orange-600",href:"/aide",badge:null}];return s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center space-x-2",children:[s.jsx(Ol,{className:"h-5 w-5"}),s.jsx("span",{children:"Actions Rapides"})]})}),s.jsx(wt,{children:s.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(r=>s.jsx(fe,{variant:"outline",className:`h-12 bg-gradient-to-r ${r.color} hover:from-primary/90 hover:to-blue-600/90 text-white border-0 transition-all duration-200 hover:scale-105`,asChild:!0,children:s.jsxs(pr,{to:r.href,className:"flex items-center space-x-2",children:[s.jsx(r.icon,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm font-medium",children:r.title}),r.badge&&r.badge>0&&s.jsx(vt,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-0",children:r.badge})]})},r.id))})})]})},fke=()=>{const{user:t,loading:e,logout:r}=Mr(),{toast:n}=Vr(),i=En(),[a,o]=x.useState(!1),{activeTab:l,handleTabChange:c}=B1e("dashboard"),[u,d]=x.useState([]),[f,g]=x.useState([]),[v,y]=x.useState([]),[b,_]=x.useState({totalListings:0,activeListings:0,totalViews:0,totalContacts:0,unreadMessages:0,totalFavorites:0}),[j,N]=x.useState({isOpen:!1,item:null}),[C,A]=x.useState({isOpen:!1,item:null}),[E,P]=x.useState({isOpen:!1,item:null}),[O,I]=x.useState({isOpen:!1,item:null}),[F,H]=x.useState(1),[U,z]=x.useState(1),[V]=x.useState(6),{register:X,handleSubmit:te,formState:{errors:le}}=Ym({defaultValues:{firstName:t?.firstName||"",lastName:t?.lastName||"",email:t?.email||"",phoneNumber:t?.phoneNumber||""}});x.useEffect(()=>{(async()=>{if(t)try{const Qe=await rn.getUserListings();d(Qe);let Ze=[];try{Ze=await zc.getUserFavorites()}catch(Pe){console.warn("Erreur lors du chargement des favoris:",Pe)}y(Ze);let Oe=[];try{Oe=await is.getUserConversations()}catch(Pe){console.warn("Erreur lors du chargement des messages:",Pe)}g(Oe);const ht=Qe.filter(Pe=>Pe.status==="approved").length,Ft=Qe.reduce((Pe,Fe)=>Pe+(Fe.views_count||0),0),ye=Oe.filter(Pe=>!Pe.read).length;_({totalListings:Qe.length,activeListings:ht,totalViews:Ft,totalContacts:Oe.length,unreadMessages:ye,totalFavorites:Ze.length}),z(Math.ceil(Qe.length/V))}catch(Qe){console.error("Erreur lors du chargement des données:",Qe),n({title:"Erreur",description:"Impossible de charger vos données",variant:"destructive"})}})()},[t,n]);const W=async Ce=>{try{o(!0),await Lo.updateProfile(Ce),n({title:"Profil mis à jour",description:"Vos informations ont été mises à jour avec succès."})}catch(Qe){n({title:"Erreur",description:Qe.message,variant:"destructive"})}finally{o(!1)}},re=async Ce=>{try{o(!0),await Lo.updatePassword(Ce.newPassword),n({title:"Mot de passe mis à jour",description:"Votre mot de passe a été changé avec succès."})}catch(Qe){n({title:"Erreur",description:Qe.message,variant:"destructive"})}finally{o(!1)}},G=Ce=>{A({isOpen:!0,item:Ce})},ie=Ce=>{N({isOpen:!0,item:Ce})},Z=Ce=>{I({isOpen:!0,item:Ce})},de=Ce=>{P({isOpen:!0,item:Ce})},Se=async()=>{try{const Ce=C.item;i(`/editer-annonce/${Ce.id}`),A({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de modifier l'annonce",variant:"destructive"})}},Me=async()=>{try{const Ce=j.item;await rn.deleteListing(Ce.id);const Qe=u.filter(Ze=>Ze.id!==Ce.id);d(Qe),n({title:"Annonce supprimée",description:`"${Ce.title}" a été supprimée`}),N({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de supprimer l'annonce",variant:"destructive"})}},qe=async()=>{try{const Ce=O.item;await rn.updateListing(Ce.id,{boosted:!Ce.boosted});const Qe=u.map(Ze=>Ze.id===Ce.id?{...Ze,boosted:!Ze.boosted}:Ze);d(Qe),n({title:"Annonce boostée",description:`"${Ce.title}" a été boostée`}),I({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de booster l'annonce",variant:"destructive"})}},oe=async()=>{try{const Ce=E.item;await rn.updateListing(Ce.id,{updated_at:new Date().toISOString()}),n({title:"Annonce actualisée",description:`"${Ce.title}" a été actualisée`}),P({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible d'actualiser l'annonce",variant:"destructive"})}},ae=Ce=>{H(Ce)},ge=()=>{const Ce=(F-1)*V,Qe=Ce+V;return u.slice(Ce,Qe)},ve=Ce=>{i(`/messages?conversation=${Ce.id}`)},Ae=async Ce=>{try{await is.archiveConversation(Ce.id);const Qe=f.map(Ze=>Ze.id===Ce.id?{...Ze,is_archived:!0}:Ze);g(Qe),n({title:"Conversation archivée",description:"La conversation a été archivée"})}catch{n({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},Q=async Ce=>{try{await is.markMessagesAsRead(Ce.id);const Qe=f.map(Ze=>Ze.id===Ce.id?{...Ze,messages:Ze.messages?.map(Oe=>({...Oe,is_read:!0}))}:Ze);g(Qe),_(Ze=>({...Ze,unreadMessages:Math.max(0,Ze.unreadMessages-1)})),n({title:"Messages marqués comme lus",description:"Les messages ont été marqués comme lus"})}catch{n({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},Y=async Ce=>{try{const Qe=!Ce.starred;await is.toggleConversationStar(Ce.id,Qe);const Ze=f.map(Oe=>Oe.id===Ce.id?{...Oe,starred:Qe}:Oe);g(Ze),n({title:Qe?"Conversation ajoutée aux favoris":"Conversation retirée des favoris",description:Qe?"La conversation a été ajoutée à vos favoris":"La conversation a été retirée de vos favoris"})}catch{n({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},Ee=async()=>{try{if(await r())n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i("/");else throw new Error("Échec de la déconnexion")}catch(Ce){n({title:"Erreur de déconnexion",description:Ce.message||"Une erreur est survenue lors de la déconnexion",variant:"destructive"})}};return e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx(nn,{className:"h-8 w-8 animate-spin"})}):s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/20",children:[s.jsxs("div",{className:"container mx-auto py-8 px-4",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center space-x-6",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center overflow-hidden shadow-lg",children:t?.profileImage?s.jsx("img",{src:t.profileImage,alt:`${t.firstName} ${t.lastName}`,className:"w-full h-full object-cover"}):s.jsx(Us,{className:"h-10 w-10 text-white"})}),s.jsx(fe,{size:"icon",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full shadow-md",children:s.jsx(qf,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[t?.firstName," ",t?.lastName]}),s.jsxs("p",{className:"text-muted-foreground flex items-center",children:[s.jsx(_a,{className:"h-4 w-4 mr-2"}),t?.email]}),s.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[s.jsxs(vt,{variant:"secondary",className:"bg-green-100 text-green-800",children:[s.jsx(xd,{className:"h-3 w-3 mr-1"}),"Compte vérifié"]}),s.jsxs(vt,{variant:"outline",children:["Membre depuis ",new Date(t?.createdAt).toLocaleDateString()]})]})]})]})}),s.jsxs(H1,{value:l,onValueChange:c,className:"w-full",children:[s.jsxs(Ix,{className:"grid w-full grid-cols-7 bg-white/50 backdrop-blur-sm border border-border/50",children:[s.jsxs(gi,{value:"dashboard",className:"flex items-center space-x-2",children:[s.jsx(ml,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),s.jsxs(gi,{value:"listings",className:"flex items-center space-x-2",children:[s.jsx(Sl,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Mes Annonces"})]}),s.jsxs(gi,{value:"messages",className:"flex items-center space-x-2",children:[s.jsx(Oi,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Messages"}),b.unreadMessages>0&&s.jsx(vt,{variant:"destructive",className:"h-5 w-5 p-0 text-xs",children:b.unreadMessages})]}),s.jsxs(gi,{value:"favorites",className:"flex items-center space-x-2",children:[s.jsx(Al,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Favoris"})]}),s.jsxs(gi,{value:"transactions",className:"flex items-center space-x-2",children:[s.jsx(yd,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),s.jsxs(gi,{value:"profile",className:"flex items-center space-x-2",children:[s.jsx(Us,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Profil"})]}),s.jsxs(gi,{value:"security",className:"flex items-center space-x-2",children:[s.jsx(xd,{className:"h-4 w-4"}),s.jsx("span",{className:"hidden sm:inline",children:"Sécurité"})]})]}),s.jsxs(vi,{value:"dashboard",className:"space-y-6",children:[e?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((Ce,Qe)=>s.jsx(GEe,{},Qe))}):s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(wb,{title:"Annonces Actives",value:b.activeListings,icon:Sl,color:"blue"}),s.jsx(wb,{title:"Total des Vues",value:b.totalViews.toLocaleString(),icon:Bo,color:"green"}),s.jsx(wb,{title:"Contacts Reçus",value:b.totalContacts,icon:va,color:"purple"}),s.jsx(wb,{title:"Messages Non Lus",value:b.unreadMessages,icon:JA,color:"orange"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsx(uke,{}),s.jsx(dke,{stats:b})]})]}),s.jsxs(vi,{value:"listings",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Mes Annonces"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez vos annonces publiées"})]}),s.jsx(fe,{asChild:!0,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",children:s.jsxs(pr,{to:"/creer-annonce",children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Nouvelle Annonce"]})})]}),e?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((Ce,Qe)=>s.jsx(KEe,{},Qe))}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge().map(Ce=>s.jsx(D5,{listing:Ce,onEdit:G,onDelete:ie,onRefresh:de,onBoost:Z,showActions:!0},Ce.id))}),s.jsx(lCe,{currentPage:F,totalPages:U,onPageChange:ae,hasNextPage:F<U,hasPrevPage:F>1,isLoading:e})]})]}),s.jsxs(vi,{value:"messages",className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Messages"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Filtrer"]}),s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(Mi,{className:"h-4 w-4 mr-2"}),"Rechercher"]})]})]}),s.jsx("div",{className:"space-y-4",children:f.map(Ce=>s.jsx(cke,{conversation:Ce,onReply:ve,onArchive:Ae,onDelete:()=>{},onMarkAsRead:Q,onStar:Y,showActions:!0},Ce.id))})]}),s.jsxs(vi,{value:"favorites",className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Mes Favoris"}),s.jsx("p",{className:"text-muted-foreground",children:"Annonces que vous avez sauvegardées"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(Ce=>s.jsx(D5,{listing:Ce,showActions:!1},Ce.id))})]}),s.jsxs(vi,{value:"transactions",className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Historique de vos transactions"})]})}),s.jsx(xt,{children:s.jsx(wt,{className:"p-6",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(yd,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune transaction"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous n'avez pas encore effectué de transactions sur MaxiMarket."}),s.jsx(fe,{variant:"outline",children:"Découvrir nos services"})]})})})]}),s.jsxs(vi,{value:"profile",className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Informations du profil"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez vos informations personnelles"})]})}),s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Paramètres du profil"}),s.jsx(ii,{children:"Gérez vos informations personnelles et vos préférences"})]}),s.jsx(wt,{children:s.jsxs("form",{onSubmit:te(W),className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"firstName",children:"Prénom"}),s.jsxs("div",{className:"relative",children:[s.jsx(Us,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"firstName",className:"pl-10",...X("firstName",{required:"Le prénom est requis"})})]}),le.firstName&&s.jsx("p",{className:"text-sm text-destructive",children:le.firstName.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"lastName",children:"Nom"}),s.jsxs("div",{className:"relative",children:[s.jsx(Us,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"lastName",className:"pl-10",...X("lastName",{required:"Le nom est requis"})})]}),le.lastName&&s.jsx("p",{className:"text-sm text-destructive",children:le.lastName.message})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"email",children:"Email"}),s.jsxs("div",{className:"relative",children:[s.jsx(_a,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"email",type:"email",className:"pl-10",...X("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),le.email&&s.jsx("p",{className:"text-sm text-destructive",children:le.email.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"phoneNumber",children:"Téléphone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Xa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"phoneNumber",type:"tel",className:"pl-10",...X("phoneNumber",{pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),le.phoneNumber&&s.jsx("p",{className:"text-sm text-destructive",children:le.phoneNumber.message})]}),s.jsx(fe,{type:"submit",className:"w-full",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Mettre à jour le profil"})]})})]})]}),s.jsxs(vi,{value:"security",className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Sécurité"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez la sécurité de votre compte"})]})}),s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Changer le mot de passe"}),s.jsx(ii,{children:"Assurez-vous d'utiliser un mot de passe fort et unique"})]}),s.jsx(wt,{children:s.jsxs("form",{onSubmit:te(re),className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"currentPassword",type:"password",className:"pl-10",...X("currentPassword",{required:"Le mot de passe actuel est requis"})})]}),le.currentPassword&&s.jsx("p",{className:"text-sm text-destructive",children:le.currentPassword.message})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),s.jsxs("div",{className:"relative",children:[s.jsx(Tl,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{id:"newPassword",type:"password",className:"pl-10",...X("newPassword",{required:"Le nouveau mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),le.newPassword&&s.jsx("p",{className:"text-sm text-destructive",children:le.newPassword.message})]}),s.jsx(fe,{type:"submit",className:"w-full",disabled:a,children:a?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Changer le mot de passe"})]})})]}),s.jsx("div",{className:"mt-6",children:s.jsxs(fe,{onClick:Ee,variant:"destructive",className:"w-full",children:[s.jsx(jM,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})})]})]})]}),s.jsx(NSe,{isOpen:j.isOpen,onClose:()=>N({isOpen:!1,item:null}),onConfirm:Me,itemName:j.item?.title,isLoading:a}),s.jsx(CSe,{isOpen:C.isOpen,onClose:()=>A({isOpen:!1,item:null}),onConfirm:Se,itemName:C.item?.title,isLoading:a}),s.jsx(ESe,{isOpen:E.isOpen,onClose:()=>P({isOpen:!1,item:null}),onConfirm:oe,itemName:E.item?.title,isLoading:a}),s.jsx(PSe,{isOpen:O.isOpen,onClose:()=>I({isOpen:!1,item:null}),onConfirm:qe,itemName:O.item?.title,isLoading:a})]})},hke=()=>{const t=En();return x.useEffect(()=>{(async()=>{try{const{data:{session:r}}=await be.auth.getSession();r?.user?t("/",{replace:!0}):t("/connexion",{replace:!0})}catch{t("/connexion",{replace:!0})}})()},[t]),s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsxs("div",{className:"flex items-center text-muted-foreground",children:[s.jsx(nn,{className:"mr-2 h-5 w-5 animate-spin"}),"Traitement de la confirmation..."]})})};function pke(){const[t,e]=x.useState(null),[r,n]=x.useState(!0),[i,a]=x.useState(null);return x.useEffect(()=>{(async()=>{try{const{data:{session:v}}=await be.auth.getSession();a(v),e(v?.user??null)}catch(v){console.error("Erreur lors de la récupération de la session:",v)}finally{n(!1)}})();const{data:{subscription:g}}=be.auth.onAuthStateChange(async(v,y)=>{console.log("🔄 Événement d'authentification:",v),a(y),e(y?.user??null),n(!1)});return()=>g.unsubscribe()},[]),{user:t,session:i,loading:r,signIn:async(f,g)=>{try{const{data:v,error:y}=await be.auth.signInWithPassword({email:f,password:g});if(y)throw y;return{data:v,error:null}}catch(v){return console.error("Erreur de connexion:",v),{data:null,error:v}}},signUp:async(f,g,v={})=>{try{const{data:y,error:b}=await be.auth.signUp({email:f,password:g,options:{data:v}});if(b)throw b;return{data:y,error:null}}catch(y){return console.error("Erreur d'inscription:",y),{data:null,error:y}}},signOut:async()=>{try{const{error:f}=await be.auth.signOut();if(f)throw f;return{error:null}}catch(f){return console.error("Erreur de déconnexion:",f),{error:f}}},resetPassword:async f=>{try{const{data:g,error:v}=await be.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de réinitialisation de mot de passe:",g),{data:null,error:g}}},updatePassword:async f=>{try{const{data:g,error:v}=await be.auth.updateUser({password:f});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de mise à jour du mot de passe:",g),{data:null,error:g}}},isAuthenticated:!!t}}const mke=(t={})=>{const{user:e}=Mr();return Ti({queryKey:["conversations",e?.id,t],queryFn:async()=>{try{console.log("🔍 Hook useConversations - Début de la récupération");const r=await is.getUserConversations();return console.log("🔍 Hook useConversations - Récupération réussie:",r?.length||0),r}catch(r){throw console.error("❌ Hook useConversations - Erreur lors de la récupération:",r),r.code==="PGRST116"?new Error("Erreur de base de données: Vérifiez la structure des tables"):r.message?.includes("Invalid Refresh Token")?new Error("Session expirée. Veuillez vous reconnecter."):r.status===400?new Error("Requête invalide. Vérifiez les paramètres."):new Error(`Erreur de messagerie: ${r.message||"Erreur inconnue"}`)}},enabled:!!e,staleTime:3e4,gcTime:5*60*1e3,retry:(r,n)=>n.message?.includes("Session expirée")||n.message?.includes("Utilisateur non connecté")?!1:r<2,retryDelay:r=>Math.min(1e3*2**r,3e4)})},gke=t=>{const e=Bl(),{user:r}=Mr();x.useEffect(()=>{if(!t||!r)return;const n=be.channel(`messages:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${t}`},i=>{e.setQueryData(["conversation-messages",t],a=>{if(!a)return a;const o=i.new,l=[...a.pages];return l.length>0&&(l[l.length-1]=[...l[l.length-1],o]),{...a,pages:l}}),e.setQueryData(["conversations"],a=>a&&a.map(o=>o.id===t?{...o,last_message_at:newMessage.created_at,messages:[...o.messages||[],newMessage]}:o))}).subscribe();return()=>{be.removeChannel(n)}},[t,r,e])},vke=({selectedConversation:t,onBack:e,onMenuToggle:r,onSearch:n,onFilter:i,onMore:a,onCall:o,onVideo:l,unreadCount:c=0,isStarred:u=!1,isArchived:d=!1})=>t?s.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:e,className:"p-2 -ml-2",children:s.jsx(ro,{className:"h-5 w-5"})}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:s.jsx(Us,{className:"h-4 w-4 text-muted-foreground"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium text-sm",children:t.participant1?.first_name||"Utilisateur"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:t.listing?.title||"Conversation"})]})]})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[o&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:o,className:"p-2",children:s.jsx(Xa,{className:"h-4 w-4"})}),l&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:l,className:"p-2",children:s.jsx(SM,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:a,className:"p-2",children:s.jsx(fh,{className:"h-4 w-4"})})]})]}):s.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h1",{className:"text-lg font-semibold",children:"Messages"}),c>0&&s.jsx(vt,{variant:"destructive",className:"h-5 px-2 text-xs",children:c})]}),s.jsxs("div",{className:"flex items-center space-x-1",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:n,className:"p-2",children:s.jsx(Mi,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:i,className:"p-2",children:s.jsx(Hs,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:s.jsx(JH,{className:"h-4 w-4"})})]})]}),yke=({searchTerm:t,onSearchChange:e,filterType:r,onFilterChange:n,onClear:i,totalCount:a=0,unreadCount:o=0,starredCount:l=0,archivedCount:c=0})=>{const[u,d]=x.useState(!1),f=[{key:"all",label:"Toutes",icon:Oi,count:a},{key:"unread",label:"Non lues",icon:Ri,count:o},{key:"starred",label:"Favoris",icon:cs,count:l},{key:"archived",label:"Archivées",icon:y1,count:c}];return s.jsxs("div",{className:"bg-card border-b border-border p-4",children:[s.jsxs("div",{className:"relative mb-3",children:[s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Rechercher des conversations...",value:t,onChange:g=>e(g.target.value),className:"pl-10 pr-10"}),t&&s.jsx(fe,{variant:"ghost",size:"sm",onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 h-6 w-6",children:s.jsx(Gs,{className:"h-4 w-4"})})]}),s.jsx("div",{className:"flex space-x-2 mb-3",children:f.map(g=>s.jsxs(fe,{variant:r===g.key?"default":"outline",size:"sm",onClick:()=>n(g.key),className:"flex-1 flex items-center justify-center space-x-1",children:[s.jsx(g.icon,{className:"h-3 w-3"}),s.jsx("span",{className:"text-xs",children:g.label}),g.count>0&&s.jsx(vt,{variant:"secondary",className:"ml-1 h-4 px-1 text-xs",children:g.count})]},g.key))}),u&&s.jsx("div",{className:"pt-3 border-t border-border",children:s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsxs(fe,{variant:"outline",size:"sm",className:"text-xs",children:[s.jsx(Us,{className:"h-3 w-3 mr-1"}),"Par utilisateur"]}),s.jsxs(fe,{variant:"outline",size:"sm",className:"text-xs",children:[s.jsx(Sl,{className:"h-3 w-3 mr-1"}),"Par annonce"]})]})}),s.jsx("div",{className:"flex justify-center",children:s.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>d(!u),className:"text-xs text-muted-foreground hover:text-foreground",children:[s.jsx(Hs,{className:"h-3 w-3 mr-1"}),u?"Masquer":"Plus de filtres"]})})]})},xke=({onCapture:t,onClose:e,isOpen:r=!1,quality:n=.8,maxWidth:i=1920,maxHeight:a=1080})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,d]=x.useState(!1),[f,g]=x.useState(null),[v,y]=x.useState(null),[b,_]=x.useState(null),[j,N]=x.useState(!1),[C,A]=x.useState("user"),{toast:E}=Vr(),P=x.useCallback(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){y("Votre navigateur ne supporte pas l'accès à la caméra");return}d(!0),y(null);try{const V={video:{facingMode:C,width:{ideal:i},height:{ideal:a}},audio:!1},X=await navigator.mediaDevices.getUserMedia(V);c.current=X,o.current&&(o.current.srcObject=X,o.current.onloadedmetadata=()=>{N(!0),d(!1)}),g(!0)}catch(V){console.error("Erreur caméra:",V),V.name==="NotAllowedError"?y("Permission d'accès à la caméra refusée. Veuillez autoriser l'accès dans les paramètres de votre navigateur."):V.name==="NotFoundError"?y("Aucune caméra trouvée sur votre appareil."):V.name==="NotReadableError"?y("La caméra est déjà utilisée par une autre application."):y("Erreur lors de l'accès à la caméra. Veuillez réessayer."),g(!1),d(!1)}},[C,i,a]),O=x.useCallback(()=>{c.current&&(c.current.getTracks().forEach(V=>V.stop()),c.current=null),N(!1)},[]),I=x.useCallback(()=>{j&&(O(),A(V=>V==="user"?"environment":"user"),setTimeout(()=>P(),100))},[j,O,P]),F=x.useCallback(()=>{if(!o.current||!l.current)return;const V=o.current,X=l.current,te=X.getContext("2d");X.width=V.videoWidth,X.height=V.videoHeight,te.drawImage(V,0,0,X.width,X.height),X.toBlob(le=>{if(le){const W=URL.createObjectURL(le);_({blob:le,url:W,timestamp:new Date().toISOString()}),E({title:"Photo capturée !",description:"Votre photo a été capturée avec succès.",duration:3e3})}},"image/jpeg",n)},[n,E]),H=x.useCallback(()=>{_(null),b?.url&&URL.revokeObjectURL(b.url)},[b]),U=x.useCallback(()=>{b&&t&&(t(b),e())},[b,t,e]),z=x.useCallback(()=>{O(),b?.url&&URL.revokeObjectURL(b.url),_(null),y(null),e()},[O,b,e]);return x.useEffect(()=>{r&&!j&&P()},[r,j,P]),x.useEffect(()=>()=>{O(),b?.url&&URL.revokeObjectURL(b.url)},[O,b]),f===!1?s.jsx(Bn,{children:r&&s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:s.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[s.jsx(wn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la caméra refusé"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:v||"Pour utiliser la caméra, vous devez autoriser l'accès dans les paramètres de votre navigateur."}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(fe,{variant:"outline",onClick:z,children:"Fermer"}),s.jsx(fe,{onClick:P,children:"Réessayer"})]})]})})}):s.jsx(Bn,{children:r&&s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:s.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-2xl w-full mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(qf,{className:"h-5 w-5 mr-2"}),"Prendre une photo"]}),s.jsx(fe,{variant:"ghost",size:"icon",onClick:z,className:"hover:bg-destructive hover:text-destructive-foreground",children:s.jsx(Gs,{className:"h-5 w-5"})})]}),s.jsx("div",{className:"p-4",children:u?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(nn,{className:"h-12 w-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]}):b?s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:s.jsx("img",{src:b.url,alt:"Photo capturée",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsxs(fe,{variant:"outline",onClick:H,children:[s.jsx(J3,{className:"h-4 w-4 mr-2"}),"Reprendre"]}),s.jsxs(fe,{onClick:U,children:[s.jsx(zn,{className:"h-4 w-4 mr-2"}),"Utiliser cette photo"]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:[s.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!j&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:s.jsxs("div",{className:"text-center",children:[s.jsx(qf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]})})]}),s.jsxs("div",{className:"flex justify-center space-x-2",children:[s.jsxs(fe,{variant:"outline",onClick:I,disabled:!j,className:"flex items-center",children:[s.jsx(J3,{className:"h-4 w-4 mr-2"}),"Changer de caméra"]}),s.jsxs(fe,{onClick:F,disabled:!j,size:"lg",className:"bg-primary hover:bg-primary/90",children:[s.jsx(qf,{className:"h-5 w-5 mr-2"}),"Prendre la photo"]})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:'Positionnez-vous dans le cadre et appuyez sur "Prendre la photo"'}),s.jsx("p",{className:"mt-1",children:"Vous pourrez reprendre la photo si nécessaire"})]})]})})]})})})},bke=({onFilesSelected:t,onClose:e,isOpen:r=!1,maxFiles:n=10,maxFileSize:i=10*1024*1024,acceptedTypes:a=["image/*","video/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","application/zip"],multiple:o=!0})=>{const l=x.useRef(null),c=x.useRef(null),[u,d]=x.useState([]),[f,g]=x.useState(!1),[v,y]=x.useState({}),[b,_]=x.useState([]),[j,N]=x.useState({}),{toast:C}=Vr(),A=W=>W.type.startsWith("image/")?"image":W.type.startsWith("video/")?"video":W.type.startsWith("application/pdf")?"pdf":W.type.includes("word")||W.type.includes("document")?"document":W.type.includes("excel")||W.type.includes("spreadsheet")?"spreadsheet":W.type.includes("text/")||W.type.includes("csv")?"text":W.type.includes("zip")||W.type.includes("archive")?"archive":"other",E=W=>{switch(W){case"image":return s.jsx(YH,{className:"h-8 w-8 text-blue-500"});case"video":return s.jsx(SM,{className:"h-8 w-8 text-purple-500"});case"pdf":return s.jsx(yn,{className:"h-8 w-8 text-red-500"});case"document":return s.jsx(yn,{className:"h-8 w-8 text-blue-600"});case"spreadsheet":return s.jsx(yn,{className:"h-8 w-8 text-green-600"});case"text":return s.jsx(yn,{className:"h-8 w-8 text-gray-600"});case"archive":return s.jsx(Pw,{className:"h-8 w-8 text-orange-500"});default:return s.jsx(Pw,{className:"h-8 w-8 text-gray-500"})}},P=W=>{if(W===0)return"0 Bytes";const re=1024,G=["Bytes","KB","MB","GB"],ie=Math.floor(Math.log(W)/Math.log(re));return parseFloat((W/Math.pow(re,ie)).toFixed(2))+" "+G[ie]},O=W=>{const re=[];return W.size>i&&re.push(`Le fichier "${W.name}" est trop volumineux (${P(W.size)}). Taille maximale : ${P(i)}`),a.some(ie=>ie.endsWith("/*")?W.type.startsWith(ie.slice(0,-1)):W.type===ie)||re.push(`Le type de fichier "${W.type}" n'est pas accepté pour "${W.name}"`),u.length>=n&&re.push(`Nombre maximum de fichiers atteint (${n})`),re},I=x.useCallback(W=>{if(W.type.startsWith("image/")){const re=new FileReader;re.onload=G=>{N(ie=>({...ie,[W.name]:G.target.result}))},re.readAsDataURL(W)}},[]),F=x.useCallback(W=>{const re=Array.from(W),G=[],ie=[];re.forEach(Z=>{const de=O(Z);de.length===0?(ie.push(Z),I(Z)):G.push(...de)}),G.length>0&&(_(G),C({title:"Erreurs de validation",description:G.slice(0,3).join(". "),variant:"destructive",duration:5e3})),ie.length>0&&(d(Z=>[...Z,...ie]),C({title:"Fichiers ajoutés",description:`${ie.length} fichier(s) ajouté(s) avec succès.`,duration:3e3}))},[u,n,i,a,I,C]),H=x.useCallback(W=>{W.preventDefault(),g(!1);const re=W.dataTransfer.files;re.length>0&&F(re)},[F]),U=x.useCallback(W=>{W.preventDefault(),g(!0)},[]),z=x.useCallback(W=>{W.preventDefault(),g(!1)},[]),V=x.useCallback(W=>{d(re=>re.filter(G=>G.name!==W)),N(re=>{const G={...re};return delete G[W],G}),y(re=>{const G={...re};return delete G[W],G})},[]),X=x.useCallback(()=>{u.length>0&&t&&(t(u),e())},[u,t,e]),te=x.useCallback(W=>{y(G=>({...G,[W.name]:0}));const re=setInterval(()=>{y(G=>{const ie=G[W.name]||0;return ie>=100?(clearInterval(re),G):{...G,[W.name]:ie+10}})},100)},[]),le=x.useCallback(()=>{d([]),N({}),y({}),_([]),e()},[e]);return s.jsx(Bn,{children:r&&s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:s.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(Kg,{className:"h-5 w-5 mr-2"}),"Sélectionner des fichiers"]}),s.jsx(fe,{variant:"ghost",size:"icon",onClick:le,className:"hover:bg-destructive hover:text-destructive-foreground",children:s.jsx(Gs,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{ref:c,onDrop:H,onDragOver:U,onDragLeave:z,className:`
                  border-2 border-dashed rounded-lg p-8 text-center transition-colors
                  ${f?"border-primary bg-primary/10":"border-border hover:border-primary/50"}
                `,children:[s.jsx(Kg,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),s.jsx("h4",{className:"text-lg font-medium mb-2",children:"Glissez-déposez vos fichiers ici"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"ou cliquez pour sélectionner des fichiers"}),s.jsxs(fe,{onClick:()=>l.current?.click(),variant:"outline",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[s.jsx(Kg,{className:"h-4 w-4 mr-2"}),"Choisir des fichiers"]}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Types acceptés : Images, Vidéos, PDF, Documents, etc.",s.jsx("br",{}),"Taille maximale : ",P(i)," par fichier"]})]}),s.jsx("input",{ref:l,type:"file",multiple:o,accept:a.join(","),onChange:W=>F(W.target.files),className:"hidden"}),u.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("h4",{className:"font-medium",children:["Fichiers sélectionnés (",u.length,")"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:u.map((W,re)=>s.jsx(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-lg p-3 bg-muted/30",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[E(A(W)),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"font-medium text-sm truncate",title:W.name,children:W.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[P(W.size)," • ",A(W)]}),j[W.name]&&s.jsx("div",{className:"mt-2",children:s.jsx("img",{src:j[W.name],alt:W.name,className:"w-16 h-16 object-cover rounded border"})}),v[W.name]!==void 0&&s.jsxs("div",{className:"mt-2",children:[s.jsx(Oc,{value:v[W.name],className:"h-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v[W.name],"% terminé"]})]})]}),s.jsxs("div",{className:"flex space-x-1",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>te(W),disabled:v[W.name]!==void 0,children:s.jsx(Kg,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>V(W.name),className:"text-red-500 hover:text-red-700",children:s.jsx(qo,{className:"h-4 w-4"})})]})]})},`${W.name}-${re}`))})]}),b.length>0&&s.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(wn,{className:"h-5 w-5 text-destructive mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreurs de validation"}),s.jsxs("ul",{className:"text-sm text-destructive space-y-1",children:[b.slice(0,5).map((W,re)=>s.jsxs("li",{children:["• ",W]},re)),b.length>5&&s.jsxs("li",{children:["• ... et ",b.length-5," autres erreurs"]})]})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:u.length>0?s.jsxs("span",{className:"flex items-center",children:[s.jsx(zn,{className:"h-4 w-4 mr-2 text-green-500"}),u.length," fichier(s) prêt(s) à être envoyé(s)"]}):"Aucun fichier sélectionné"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(fe,{variant:"outline",onClick:le,children:"Annuler"}),s.jsxs(fe,{onClick:X,disabled:u.length===0,className:"bg-primary hover:bg-primary/90",children:[s.jsx(Kg,{className:"h-4 w-4 mr-2"}),"Envoyer ",u.length>0&&`(${u.length})`]})]})]})]})})})};var Pv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var wke=Pv.exports,j6;function _ke(){return j6||(j6=1,function(t,e){(function(r,n){n(e)})(wke,function(r){var n="1.9.4";function i(p){var w,k,R,q;for(k=1,R=arguments.length;k<R;k++){q=arguments[k];for(w in q)p[w]=q[w]}return p}var a=Object.create||function(){function p(){}return function(w){return p.prototype=w,new p}}();function o(p,w){var k=Array.prototype.slice;if(p.bind)return p.bind.apply(p,k.call(arguments,1));var R=k.call(arguments,2);return function(){return p.apply(w,R.length?R.concat(k.call(arguments)):arguments)}}var l=0;function c(p){return"_leaflet_id"in p||(p._leaflet_id=++l),p._leaflet_id}function u(p,w,k){var R,q,ce,_e;return _e=function(){R=!1,q&&(ce.apply(k,q),q=!1)},ce=function(){R?q=arguments:(p.apply(k,arguments),setTimeout(_e,w),R=!0)},ce}function d(p,w,k){var R=w[1],q=w[0],ce=R-q;return p===R&&k?p:((p-q)%ce+ce)%ce+q}function f(){return!1}function g(p,w){if(w===!1)return p;var k=Math.pow(10,w===void 0?6:w);return Math.round(p*k)/k}function v(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function y(p){return v(p).split(/\s+/)}function b(p,w){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?a(p.options):{});for(var k in w)p.options[k]=w[k];return p.options}function _(p,w,k){var R=[];for(var q in p)R.push(encodeURIComponent(k?q.toUpperCase():q)+"="+encodeURIComponent(p[q]));return(!w||w.indexOf("?")===-1?"?":"&")+R.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function N(p,w){return p.replace(j,function(k,R){var q=w[R];if(q===void 0)throw new Error("No value provided for variable "+k);return typeof q=="function"&&(q=q(w)),q})}var C=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function A(p,w){for(var k=0;k<p.length;k++)if(p[k]===w)return k;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var O=0;function I(p){var w=+new Date,k=Math.max(0,16-(w-O));return O=w+k,window.setTimeout(p,k)}var F=window.requestAnimationFrame||P("RequestAnimationFrame")||I,H=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function U(p,w,k){if(k&&F===I)p.call(w);else return F.call(window,o(p,w))}function z(p){p&&H.call(window,p)}var V={__proto__:null,extend:i,create:a,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:d,falseFn:f,formatNum:g,trim:v,splitWords:y,setOptions:b,getParamString:_,template:N,isArray:C,indexOf:A,emptyImageUrl:E,requestFn:F,cancelFn:H,requestAnimFrame:U,cancelAnimFrame:z};function X(){}X.extend=function(p){var w=function(){b(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},k=w.__super__=this.prototype,R=a(k);R.constructor=w,w.prototype=R;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(w[q]=this[q]);return p.statics&&i(w,p.statics),p.includes&&(te(p.includes),i.apply(null,[R].concat(p.includes))),i(R,p),delete R.statics,delete R.includes,R.options&&(R.options=k.options?a(k.options):{},i(R.options,p.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){k.callInitHooks&&k.callInitHooks.call(this),this._initHooksCalled=!0;for(var ce=0,_e=R._initHooks.length;ce<_e;ce++)R._initHooks[ce].call(this)}},w},X.include=function(p){var w=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=w,this.mergeOptions(p.options)),this},X.mergeOptions=function(p){return i(this.prototype.options,p),this},X.addInitHook=function(p){var w=Array.prototype.slice.call(arguments,1),k=typeof p=="function"?p:function(){this[p].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(k),this};function te(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=C(p)?p:[p];for(var w=0;w<p.length;w++)p[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var le={on:function(p,w,k){if(typeof p=="object")for(var R in p)this._on(R,p[R],w);else{p=y(p);for(var q=0,ce=p.length;q<ce;q++)this._on(p[q],w,k)}return this},off:function(p,w,k){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var R in p)this._off(R,p[R],w);else{p=y(p);for(var q=arguments.length===1,ce=0,_e=p.length;ce<_e;ce++)q?this._off(p[ce]):this._off(p[ce],w,k)}return this},_on:function(p,w,k,R){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(p,w,k)===!1){k===this&&(k=void 0);var q={fn:w,ctx:k};R&&(q.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(q)}},_off:function(p,w,k){var R,q,ce;if(this._events&&(R=this._events[p],!!R)){if(arguments.length===1){if(this._firingCount)for(q=0,ce=R.length;q<ce;q++)R[q].fn=f;delete this._events[p];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var _e=this._listens(p,w,k);if(_e!==!1){var Le=R[_e];this._firingCount&&(Le.fn=f,this._events[p]=R=R.slice()),R.splice(_e,1)}}},fire:function(p,w,k){if(!this.listens(p,k))return this;var R=i({},w,{type:p,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var q=this._events[p];if(q){this._firingCount=this._firingCount+1||1;for(var ce=0,_e=q.length;ce<_e;ce++){var Le=q[ce],Ue=Le.fn;Le.once&&this.off(p,Ue,Le.ctx),Ue.call(Le.ctx||this,R)}this._firingCount--}}return k&&this._propagateEvent(R),this},listens:function(p,w,k,R){typeof p!="string"&&console.warn('"string" type argument expected');var q=w;typeof w!="function"&&(R=!!w,q=void 0,k=void 0);var ce=this._events&&this._events[p];if(ce&&ce.length&&this._listens(p,q,k)!==!1)return!0;if(R){for(var _e in this._eventParents)if(this._eventParents[_e].listens(p,w,k,R))return!0}return!1},_listens:function(p,w,k){if(!this._events)return!1;var R=this._events[p]||[];if(!w)return!!R.length;k===this&&(k=void 0);for(var q=0,ce=R.length;q<ce;q++)if(R[q].fn===w&&R[q].ctx===k)return q;return!1},once:function(p,w,k){if(typeof p=="object")for(var R in p)this._on(R,p[R],w,!0);else{p=y(p);for(var q=0,ce=p.length;q<ce;q++)this._on(p[q],w,k,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[c(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[c(p)],this},_propagateEvent:function(p){for(var w in this._eventParents)this._eventParents[w].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};le.addEventListener=le.on,le.removeEventListener=le.clearAllEventListeners=le.off,le.addOneTimeEventListener=le.once,le.fireEvent=le.fire,le.hasEventListeners=le.listens;var W=X.extend(le);function re(p,w,k){this.x=k?Math.round(p):p,this.y=k?Math.round(w):w}var G=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};re.prototype={clone:function(){return new re(this.x,this.y)},add:function(p){return this.clone()._add(ie(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(ie(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new re(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new re(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(p){p=ie(p);var w=p.x-this.x,k=p.y-this.y;return Math.sqrt(w*w+k*k)},equals:function(p){return p=ie(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=ie(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function ie(p,w,k){return p instanceof re?p:C(p)?new re(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new re(p.x,p.y):new re(p,w,k)}function Z(p,w){if(p)for(var k=w?[p,w]:p,R=0,q=k.length;R<q;R++)this.extend(k[R])}Z.prototype={extend:function(p){var w,k;if(!p)return this;if(p instanceof re||typeof p[0]=="number"||"x"in p)w=k=ie(p);else if(p=de(p),w=p.min,k=p.max,!w||!k)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=k.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(k.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(k.y,this.max.y)),this},getCenter:function(p){return ie((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return ie(this.min.x,this.max.y)},getTopRight:function(){return ie(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var w,k;return typeof p[0]=="number"||p instanceof re?p=ie(p):p=de(p),p instanceof Z?(w=p.min,k=p.max):w=k=p,w.x>=this.min.x&&k.x<=this.max.x&&w.y>=this.min.y&&k.y<=this.max.y},intersects:function(p){p=de(p);var w=this.min,k=this.max,R=p.min,q=p.max,ce=q.x>=w.x&&R.x<=k.x,_e=q.y>=w.y&&R.y<=k.y;return ce&&_e},overlaps:function(p){p=de(p);var w=this.min,k=this.max,R=p.min,q=p.max,ce=q.x>w.x&&R.x<k.x,_e=q.y>w.y&&R.y<k.y;return ce&&_e},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var w=this.min,k=this.max,R=Math.abs(w.x-k.x)*p,q=Math.abs(w.y-k.y)*p;return de(ie(w.x-R,w.y-q),ie(k.x+R,k.y+q))},equals:function(p){return p?(p=de(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function de(p,w){return!p||p instanceof Z?p:new Z(p,w)}function Se(p,w){if(p)for(var k=w?[p,w]:p,R=0,q=k.length;R<q;R++)this.extend(k[R])}Se.prototype={extend:function(p){var w=this._southWest,k=this._northEast,R,q;if(p instanceof qe)R=p,q=p;else if(p instanceof Se){if(R=p._southWest,q=p._northEast,!R||!q)return this}else return p?this.extend(oe(p)||Me(p)):this;return!w&&!k?(this._southWest=new qe(R.lat,R.lng),this._northEast=new qe(q.lat,q.lng)):(w.lat=Math.min(R.lat,w.lat),w.lng=Math.min(R.lng,w.lng),k.lat=Math.max(q.lat,k.lat),k.lng=Math.max(q.lng,k.lng)),this},pad:function(p){var w=this._southWest,k=this._northEast,R=Math.abs(w.lat-k.lat)*p,q=Math.abs(w.lng-k.lng)*p;return new Se(new qe(w.lat-R,w.lng-q),new qe(k.lat+R,k.lng+q))},getCenter:function(){return new qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof qe||"lat"in p?p=oe(p):p=Me(p);var w=this._southWest,k=this._northEast,R,q;return p instanceof Se?(R=p.getSouthWest(),q=p.getNorthEast()):R=q=p,R.lat>=w.lat&&q.lat<=k.lat&&R.lng>=w.lng&&q.lng<=k.lng},intersects:function(p){p=Me(p);var w=this._southWest,k=this._northEast,R=p.getSouthWest(),q=p.getNorthEast(),ce=q.lat>=w.lat&&R.lat<=k.lat,_e=q.lng>=w.lng&&R.lng<=k.lng;return ce&&_e},overlaps:function(p){p=Me(p);var w=this._southWest,k=this._northEast,R=p.getSouthWest(),q=p.getNorthEast(),ce=q.lat>w.lat&&R.lat<k.lat,_e=q.lng>w.lng&&R.lng<k.lng;return ce&&_e},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,w){return p?(p=Me(p),this._southWest.equals(p.getSouthWest(),w)&&this._northEast.equals(p.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Me(p,w){return p instanceof Se?p:new Se(p,w)}function qe(p,w,k){if(isNaN(p)||isNaN(w))throw new Error("Invalid LatLng object: ("+p+", "+w+")");this.lat=+p,this.lng=+w,k!==void 0&&(this.alt=+k)}qe.prototype={equals:function(p,w){if(!p)return!1;p=oe(p);var k=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return k<=(w===void 0?1e-9:w)},toString:function(p){return"LatLng("+g(this.lat,p)+", "+g(this.lng,p)+")"},distanceTo:function(p){return ge.distance(this,oe(p))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(p){var w=180*p/40075017,k=w/Math.cos(Math.PI/180*this.lat);return Me([this.lat-w,this.lng-k],[this.lat+w,this.lng+k])},clone:function(){return new qe(this.lat,this.lng,this.alt)}};function oe(p,w,k){return p instanceof qe?p:C(p)&&typeof p[0]!="object"?p.length===3?new qe(p[0],p[1],p[2]):p.length===2?new qe(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new qe(p.lat,"lng"in p?p.lng:p.lon,p.alt):w===void 0?null:new qe(p,w,k)}var ae={latLngToPoint:function(p,w){var k=this.projection.project(p),R=this.scale(w);return this.transformation._transform(k,R)},pointToLatLng:function(p,w){var k=this.scale(w),R=this.transformation.untransform(p,k);return this.projection.unproject(R)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var w=this.projection.bounds,k=this.scale(p),R=this.transformation.transform(w.min,k),q=this.transformation.transform(w.max,k);return new Z(R,q)},infinite:!1,wrapLatLng:function(p){var w=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,k=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,R=p.alt;return new qe(k,w,R)},wrapLatLngBounds:function(p){var w=p.getCenter(),k=this.wrapLatLng(w),R=w.lat-k.lat,q=w.lng-k.lng;if(R===0&&q===0)return p;var ce=p.getSouthWest(),_e=p.getNorthEast(),Le=new qe(ce.lat-R,ce.lng-q),Ue=new qe(_e.lat-R,_e.lng-q);return new Se(Le,Ue)}},ge=i({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(p,w){var k=Math.PI/180,R=p.lat*k,q=w.lat*k,ce=Math.sin((w.lat-p.lat)*k/2),_e=Math.sin((w.lng-p.lng)*k/2),Le=ce*ce+Math.cos(R)*Math.cos(q)*_e*_e,Ue=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le));return this.R*Ue}}),ve=6378137,Ae={R:ve,MAX_LATITUDE:85.0511287798,project:function(p){var w=Math.PI/180,k=this.MAX_LATITUDE,R=Math.max(Math.min(k,p.lat),-k),q=Math.sin(R*w);return new re(this.R*p.lng*w,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(p){var w=180/Math.PI;return new qe((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*w,p.x*w/this.R)},bounds:function(){var p=ve*Math.PI;return new Z([-p,-p],[p,p])}()};function Q(p,w,k,R){if(C(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=w,this._c=k,this._d=R}Q.prototype={transform:function(p,w){return this._transform(p.clone(),w)},_transform:function(p,w){return w=w||1,p.x=w*(this._a*p.x+this._b),p.y=w*(this._c*p.y+this._d),p},untransform:function(p,w){return w=w||1,new re((p.x/w-this._b)/this._a,(p.y/w-this._d)/this._c)}};function Y(p,w,k,R){return new Q(p,w,k,R)}var Ee=i({},ge,{code:"EPSG:3857",projection:Ae,transformation:function(){var p=.5/(Math.PI*Ae.R);return Y(p,.5,-p,.5)}()}),Ce=i({},Ee,{code:"EPSG:900913"});function Qe(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function Ze(p,w){var k="",R,q,ce,_e,Le,Ue;for(R=0,ce=p.length;R<ce;R++){for(Le=p[R],q=0,_e=Le.length;q<_e;q++)Ue=Le[q],k+=(q?"L":"M")+Ue.x+" "+Ue.y;k+=w?Ct.svg?"z":"x":""}return k||"M0 0"}var Oe=document.documentElement.style,ht="ActiveXObject"in window,Ft=ht&&!document.addEventListener,ye="msLaunchUri"in navigator&&!("documentMode"in document),Pe=jr("webkit"),Fe=jr("android"),et=jr("android 2")||jr("android 3"),lt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ue=Fe&&jr("Google")&&lt<537&&!("AudioNode"in window),Te=!!window.opera,J=!ye&&jr("chrome"),D=jr("gecko")&&!Pe&&!Te&&!ht,B=!J&&jr("safari"),me=jr("phantom"),Ne="OTransition"in Oe,ze=navigator.platform.indexOf("Win")===0,We=ht&&"transition"in Oe,Rt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!et,gr="MozPerspective"in Oe,rr=!window.L_DISABLE_3D&&(We||Rt||gr)&&!Ne&&!me,ur=typeof orientation<"u"||jr("mobile"),ar=ur&&Pe,Yo=ur&&Rt,Na=!window.PointerEvent&&window.MSPointerEvent,Xs=!!(window.PointerEvent||Na),Hi="ontouchstart"in window||!!window.TouchEvent,Ki=!window.L_NO_TOUCH&&(Hi||Xs),fu=ur&&Te,Bt=ur&&D,xr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ir=function(){var p=!1;try{var w=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",f,w),window.removeEventListener("testPassiveEventSupport",f,w)}catch{}return p}(),qn=function(){return!!document.createElement("canvas").getContext}(),Mn=!!(document.createElementNS&&Qe("svg").createSVGRect),_i=!!Mn&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),us=!Mn&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var w=p.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),Un=navigator.platform.indexOf("Mac")===0,Ns=navigator.platform.indexOf("Linux")===0;function jr(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var Ct={ie:ht,ielt9:Ft,edge:ye,webkit:Pe,android:Fe,android23:et,androidStock:ue,opera:Te,chrome:J,gecko:D,safari:B,phantom:me,opera12:Ne,win:ze,ie3d:We,webkit3d:Rt,gecko3d:gr,any3d:rr,mobile:ur,mobileWebkit:ar,mobileWebkit3d:Yo,msPointer:Na,pointer:Xs,touch:Ki,touchNative:Hi,mobileOpera:fu,mobileGecko:Bt,retina:xr,passiveEvents:Ir,canvas:qn,svg:Mn,vml:us,inlineSvg:_i,mac:Un,linux:Ns},Vl=Ct.msPointer?"MSPointerDown":"pointerdown",hu=Ct.msPointer?"MSPointerMove":"pointermove",Kd=Ct.msPointer?"MSPointerUp":"pointerup",Eh=Ct.msPointer?"MSPointerCancel":"pointercancel",Wl={touchstart:Vl,touchmove:hu,touchend:Kd,touchcancel:Eh},Cs={touchstart:hn,touchmove:pu,touchend:pu,touchcancel:pu},co={},Gd=!1;function Ph(p,w,k){return w==="touchstart"&&Yd(),Cs[w]?(k=Cs[w].bind(this,k),p.addEventListener(Wl[w],k,!1),k):(console.warn("wrong event specified:",w),f)}function Xo(p,w,k){if(!Wl[w]){console.warn("wrong event specified:",w);return}p.removeEventListener(Wl[w],k,!1)}function Hl(p){co[p.pointerId]=p}function kh(p){co[p.pointerId]&&(co[p.pointerId]=p)}function Zd(p){delete co[p.pointerId]}function Yd(){Gd||(document.addEventListener(Vl,Hl,!0),document.addEventListener(hu,kh,!0),document.addEventListener(Kd,Zd,!0),document.addEventListener(Eh,Zd,!0),Gd=!0)}function pu(p,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var k in co)w.touches.push(co[k]);w.changedTouches=[w],p(w)}}function hn(p,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&pn(w),pu(p,w)}function mu(p){var w={},k,R;for(R in p)k=p[R],w[R]=k&&k.bind?k.bind(p):k;return p=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var Di=200;function gu(p,w){p.addEventListener("dblclick",w);var k=0,R;function q(ce){if(ce.detail!==1){R=ce.detail;return}if(!(ce.pointerType==="mouse"||ce.sourceCapabilities&&!ce.sourceCapabilities.firesTouchEvents)){var _e=Zn(ce);if(!(_e.some(function(Ue){return Ue instanceof HTMLLabelElement&&Ue.attributes.for})&&!_e.some(function(Ue){return Ue instanceof HTMLInputElement||Ue instanceof HTMLSelectElement}))){var Le=Date.now();Le-k<=Di?(R++,R===2&&w(mu(ce))):R=1,k=Le}}}return p.addEventListener("click",q),{dblclick:w,simDblclick:q}}function Kl(p,w){p.removeEventListener("dblclick",w.dblclick),p.removeEventListener("click",w.simDblclick)}var Ca=el(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),uo=el(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Gl=uo==="webkitTransition"||uo==="OTransition"?uo+"End":"transitionend";function ds(p){return typeof p=="string"?document.getElementById(p):p}function Zl(p,w){var k=p.style[w]||p.currentStyle&&p.currentStyle[w];if((!k||k==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(p,null);k=R?R[w]:null}return k==="auto"?null:k}function Vt(p,w,k){var R=document.createElement(p);return R.className=w||"",k&&k.appendChild(R),R}function Yr(p){var w=p.parentNode;w&&w.removeChild(p)}function Yl(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function Jo(p){var w=p.parentNode;w&&w.lastChild!==p&&w.appendChild(p)}function Js(p){var w=p.parentNode;w&&w.firstChild!==p&&w.insertBefore(p,w.firstChild)}function Qo(p,w){if(p.classList!==void 0)return p.classList.contains(w);var k=Es(p);return k.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(k)}function Kt(p,w){if(p.classList!==void 0)for(var k=y(w),R=0,q=k.length;R<q;R++)p.classList.add(k[R]);else if(!Qo(p,w)){var ce=Es(p);vu(p,(ce?ce+" ":"")+w)}}function Wr(p,w){p.classList!==void 0?p.classList.remove(w):vu(p,v((" "+Es(p)+" ").replace(" "+w+" "," ")))}function vu(p,w){p.className.baseVal===void 0?p.className=w:p.className.baseVal=w}function Es(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function li(p,w){"opacity"in p.style?p.style.opacity=w:"filter"in p.style&&pg(p,w)}function pg(p,w){var k=!1,R="DXImageTransform.Microsoft.Alpha";try{k=p.filters.item(R)}catch{if(w===1)return}w=Math.round(w*100),k?(k.Enabled=w!==100,k.Opacity=w):p.style.filter+=" progid:"+R+"(opacity="+w+")"}function el(p){for(var w=document.documentElement.style,k=0;k<p.length;k++)if(p[k]in w)return p[k];return!1}function Ps(p,w,k){var R=w||new re(0,0);p.style[Ca]=(Ct.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(k?" scale("+k+")":"")}function _n(p,w){p._leaflet_pos=w,Ct.any3d?Ps(p,w):(p.style.left=w.x+"px",p.style.top=w.y+"px")}function Qs(p){return p._leaflet_pos||new re(0,0)}var vr,tl,Xl;if("onselectstart"in document)vr=function(){zt(window,"selectstart",pn)},tl=function(){Dr(window,"selectstart",pn)};else{var ks=el(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);vr=function(){if(ks){var p=document.documentElement.style;Xl=p[ks],p[ks]="none"}},tl=function(){ks&&(document.documentElement.style[ks]=Xl,Xl=void 0)}}function Jl(){zt(window,"dragstart",pn)}function yu(){Dr(window,"dragstart",pn)}var rl,Ql;function fo(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Li(),rl=p,Ql=p.style.outlineStyle,p.style.outlineStyle="none",zt(window,"keydown",Li))}function Li(){rl&&(rl.style.outlineStyle=Ql,rl=void 0,Ql=void 0,Dr(window,"keydown",Li))}function Gi(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function As(p){var w=p.getBoundingClientRect();return{x:w.width/p.offsetWidth||1,y:w.height/p.offsetHeight||1,boundingClientRect:w}}var ec={__proto__:null,TRANSFORM:Ca,TRANSITION:uo,TRANSITION_END:Gl,get:ds,getStyle:Zl,create:Vt,remove:Yr,empty:Yl,toFront:Jo,toBack:Js,hasClass:Qo,addClass:Kt,removeClass:Wr,setClass:vu,getClass:Es,setOpacity:li,testProp:el,setTransform:Ps,setPosition:_n,getPosition:Qs,get disableTextSelection(){return vr},get enableTextSelection(){return tl},disableImageDrag:Jl,enableImageDrag:yu,preventOutline:fo,restoreOutline:Li,getSizedParentNode:Gi,getScale:As};function zt(p,w,k,R){if(w&&typeof w=="object")for(var q in w)tc(p,q,w[q],k);else{w=y(w);for(var ce=0,_e=w.length;ce<_e;ce++)tc(p,w[ce],k,R)}return this}var Pn="_leaflet_events";function Dr(p,w,k,R){if(arguments.length===1)Xd(p),delete p[Pn];else if(w&&typeof w=="object")for(var q in w)rc(p,q,w[q],k);else if(w=y(w),arguments.length===2)Xd(p,function(Le){return A(w,Le)!==-1});else for(var ce=0,_e=w.length;ce<_e;ce++)rc(p,w[ce],k,R);return this}function Xd(p,w){for(var k in p[Pn]){var R=k.split(/\d/)[0];(!w||w(R))&&rc(p,R,null,null,k)}}var Ea={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function tc(p,w,k,R){var q=w+c(k)+(R?"_"+c(R):"");if(p[Pn]&&p[Pn][q])return this;var ce=function(Le){return k.call(R||p,Le||window.event)},_e=ce;!Ct.touchNative&&Ct.pointer&&w.indexOf("touch")===0?ce=Ph(p,w,ce):Ct.touch&&w==="dblclick"?ce=gu(p,ce):"addEventListener"in p?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?p.addEventListener(Ea[w]||w,ce,Ct.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ce=function(Le){Le=Le||window.event,nc(p,Le)&&_e(Le)},p.addEventListener(Ea[w],ce,!1)):p.addEventListener(w,_e,!1):p.attachEvent("on"+w,ce),p[Pn]=p[Pn]||{},p[Pn][q]=ce}function rc(p,w,k,R,q){q=q||w+c(k)+(R?"_"+c(R):"");var ce=p[Pn]&&p[Pn][q];if(!ce)return this;!Ct.touchNative&&Ct.pointer&&w.indexOf("touch")===0?Xo(p,w,ce):Ct.touch&&w==="dblclick"?Kl(p,ce):"removeEventListener"in p?p.removeEventListener(Ea[w]||w,ce,!1):p.detachEvent("on"+w,ce),p[Pn][q]=null}function fs(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function ho(p){return tc(p,"wheel",fs),this}function nl(p){return zt(p,"mousedown touchstart dblclick contextmenu",fs),p._leaflet_disable_click=!0,this}function pn(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function ji(p){return pn(p),fs(p),this}function Zn(p){if(p.composedPath)return p.composedPath();for(var w=[],k=p.target;k;)w.push(k),k=k.parentNode;return w}function Pa(p,w){if(!w)return new re(p.clientX,p.clientY);var k=As(w),R=k.boundingClientRect;return new re((p.clientX-R.left)/k.x-w.clientLeft,(p.clientY-R.top)/k.y-w.clientTop)}var xu=Ct.linux&&Ct.chrome?window.devicePixelRatio:Ct.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function bu(p){return Ct.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/xu:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function nc(p,w){var k=w.relatedTarget;if(!k)return!0;try{for(;k&&k!==p;)k=k.parentNode}catch{return!1}return k!==p}var wu={__proto__:null,on:zt,off:Dr,stopPropagation:fs,disableScrollPropagation:ho,disableClickPropagation:nl,preventDefault:pn,stop:ji,getPropagationPath:Zn,getMousePosition:Pa,getWheelDelta:bu,isExternalTarget:nc,addListener:zt,removeListener:Dr},_u=W.extend({run:function(p,w,k,R){this.stop(),this._el=p,this._inProgress=!0,this._duration=k||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=Qs(p),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=U(this._animate,this),this._step()},_step:function(p){var w=+new Date-this._startTime,k=this._duration*1e3;w<k?this._runFrame(this._easeOut(w/k),p):(this._runFrame(1),this._complete())},_runFrame:function(p,w){var k=this._startPos.add(this._offset.multiplyBy(p));w&&k._round(),_n(this._el,k),this.fire("step")},_complete:function(){z(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),or=W.extend({options:{crs:Ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,w){w=b(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(oe(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=uo&&Ct.any3d&&!Ct.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),zt(this._proxy,Gl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,w,k){if(w=w===void 0?this._zoom:this._limitZoom(w),p=this._limitCenter(oe(p),w,this.options.maxBounds),k=k||{},this._stop(),this._loaded&&!k.reset&&k!==!0){k.animate!==void 0&&(k.zoom=i({animate:k.animate},k.zoom),k.pan=i({animate:k.animate,duration:k.duration},k.pan));var R=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,w,k.zoom):this._tryAnimatedPan(p,k.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(p,w,k.pan&&k.pan.noMoveStart),this},setZoom:function(p,w){return this._loaded?this.setView(this.getCenter(),p,{zoom:w}):(this._zoom=p,this)},zoomIn:function(p,w){return p=p||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,w)},zoomOut:function(p,w){return p=p||(Ct.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,w)},setZoomAround:function(p,w,k){var R=this.getZoomScale(w),q=this.getSize().divideBy(2),ce=p instanceof re?p:this.latLngToContainerPoint(p),_e=ce.subtract(q).multiplyBy(1-1/R),Le=this.containerPointToLatLng(q.add(_e));return this.setView(Le,w,{zoom:k})},_getBoundsCenterZoom:function(p,w){w=w||{},p=p.getBounds?p.getBounds():Me(p);var k=ie(w.paddingTopLeft||w.padding||[0,0]),R=ie(w.paddingBottomRight||w.padding||[0,0]),q=this.getBoundsZoom(p,!1,k.add(R));if(q=typeof w.maxZoom=="number"?Math.min(w.maxZoom,q):q,q===1/0)return{center:p.getCenter(),zoom:q};var ce=R.subtract(k).divideBy(2),_e=this.project(p.getSouthWest(),q),Le=this.project(p.getNorthEast(),q),Ue=this.unproject(_e.add(Le).divideBy(2).add(ce),q);return{center:Ue,zoom:q}},fitBounds:function(p,w){if(p=Me(p),!p.isValid())throw new Error("Bounds are not valid.");var k=this._getBoundsCenterZoom(p,w);return this.setView(k.center,k.zoom,w)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,w){return this.setView(p,this._zoom,{pan:w})},panBy:function(p,w){if(p=ie(p).round(),w=w||{},!p.x&&!p.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _u,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){Kt(this._mapPane,"leaflet-pan-anim");var k=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,k,w.duration||.25,w.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,w,k){if(k=k||{},k.animate===!1||!Ct.any3d)return this.setView(p,w,k);this._stop();var R=this.project(this.getCenter()),q=this.project(p),ce=this.getSize(),_e=this._zoom;p=oe(p),w=w===void 0?_e:w;var Le=Math.max(ce.x,ce.y),Ue=Le*this.getZoomScale(_e,w),Xe=q.distanceTo(R)||1,pt=1.42,It=pt*pt;function ir(Fr){var Mu=Fr?-1:1,Yj=Fr?Ue:Le,Xj=Ue*Ue-Le*Le+Mu*It*It*Xe*Xe,dc=2*Yj*It*Xe,fc=Xj/dc,hc=Math.sqrt(fc*fc+1)-fc,Bh=hc<1e-9?-18:Math.log(hc);return Bh}function ci(Fr){return(Math.exp(Fr)-Math.exp(-Fr))/2}function Xn(Fr){return(Math.exp(Fr)+Math.exp(-Fr))/2}function ps(Fr){return ci(Fr)/Xn(Fr)}var Zi=ir(0);function Ou(Fr){return Le*(Xn(Zi)/Xn(Zi+pt*Fr))}function Pg(Fr){return Le*(Xn(Zi)*ps(Zi+pt*Fr)-ci(Zi))/It}function cl(Fr){return 1-Math.pow(1-Fr,1.5)}var d0=Date.now(),uc=(ir(1)-Zi)/pt,Ma=k.duration?1e3*k.duration:1e3*uc*.8;function Ru(){var Fr=(Date.now()-d0)/Ma,Mu=cl(Fr)*uc;Fr<=1?(this._flyToFrame=U(Ru,this),this._move(this.unproject(R.add(q.subtract(R).multiplyBy(Pg(Mu)/Xe)),_e),this.getScaleZoom(Le/Ou(Mu),_e),{flyTo:!0})):this._move(p,w)._moveEnd(!0)}return this._moveStart(!0,k.noMoveStart),Ru.call(this),this},flyToBounds:function(p,w){var k=this._getBoundsCenterZoom(p,w);return this.flyTo(k.center,k.zoom,w)},setMaxBounds:function(p){return p=Me(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var w=this.options.minZoom;return this.options.minZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var w=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,w){this._enforcingBounds=!0;var k=this.getCenter(),R=this._limitCenter(k,this._zoom,Me(p));return k.equals(R)||this.panTo(R,w),this._enforcingBounds=!1,this},panInside:function(p,w){w=w||{};var k=ie(w.paddingTopLeft||w.padding||[0,0]),R=ie(w.paddingBottomRight||w.padding||[0,0]),q=this.project(this.getCenter()),ce=this.project(p),_e=this.getPixelBounds(),Le=de([_e.min.add(k),_e.max.subtract(R)]),Ue=Le.getSize();if(!Le.contains(ce)){this._enforcingBounds=!0;var Xe=ce.subtract(Le.getCenter()),pt=Le.extend(ce).getSize().subtract(Ue);q.x+=Xe.x<0?-pt.x:pt.x,q.y+=Xe.y<0?-pt.y:pt.y,this.panTo(this.unproject(q),w),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var k=this.getSize(),R=w.divideBy(2).round(),q=k.divideBy(2).round(),ce=R.subtract(q);return!ce.x&&!ce.y?this:(p.animate&&p.pan?this.panBy(ce):(p.pan&&this._rawPanBy(ce),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:k}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),k=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,k,p):navigator.geolocation.getCurrentPosition(w,k,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var w=p.code,k=p.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+k+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var w=p.coords.latitude,k=p.coords.longitude,R=new qe(w,k),q=R.toBounds(p.coords.accuracy*2),ce=this._locateOptions;if(ce.setView){var _e=this.getBoundsZoom(q);this.setView(R,ce.maxZoom?Math.min(_e,ce.maxZoom):_e)}var Le={latlng:R,bounds:q,timestamp:p.timestamp};for(var Ue in p.coords)typeof p.coords[Ue]=="number"&&(Le[Ue]=p.coords[Ue]);this.fire("locationfound",Le)}},addHandler:function(p,w){if(!w)return this;var k=this[p]=new w(this);return this._handlers.push(k),this.options[p]&&k.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Yr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(z(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)Yr(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,w){var k="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),R=Vt("div",k,w||this._mapPane);return p&&(this._panes[p]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),w=this.unproject(p.getBottomLeft()),k=this.unproject(p.getTopRight());return new Se(w,k)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,w,k){p=Me(p),k=ie(k||[0,0]);var R=this.getZoom()||0,q=this.getMinZoom(),ce=this.getMaxZoom(),_e=p.getNorthWest(),Le=p.getSouthEast(),Ue=this.getSize().subtract(k),Xe=de(this.project(Le,R),this.project(_e,R)).getSize(),pt=Ct.any3d?this.options.zoomSnap:1,It=Ue.x/Xe.x,ir=Ue.y/Xe.y,ci=w?Math.max(It,ir):Math.min(It,ir);return R=this.getScaleZoom(ci,R),pt&&(R=Math.round(R/(pt/100))*(pt/100),R=w?Math.ceil(R/pt)*pt:Math.floor(R/pt)*pt),Math.max(q,Math.min(ce,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new re(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,w){var k=this._getTopLeftPoint(p,w);return new Z(k,k.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,w){var k=this.options.crs;return w=w===void 0?this._zoom:w,k.scale(p)/k.scale(w)},getScaleZoom:function(p,w){var k=this.options.crs;w=w===void 0?this._zoom:w;var R=k.zoom(p*k.scale(w));return isNaN(R)?1/0:R},project:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(oe(p),w)},unproject:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(ie(p),w)},layerPointToLatLng:function(p){var w=ie(p).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(p){var w=this.project(oe(p))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(oe(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(Me(p))},distance:function(p,w){return this.options.crs.distance(oe(p),oe(w))},containerPointToLayerPoint:function(p){return ie(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return ie(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var w=this.containerPointToLayerPoint(ie(p));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(p)))},mouseEventToContainerPoint:function(p){return Pa(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var w=this._container=ds(p);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");zt(w,"scroll",this._onScroll,this),this._containerId=c(w)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&Ct.any3d,Kt(p,"leaflet-container"+(Ct.touch?" leaflet-touch":"")+(Ct.retina?" leaflet-retina":"")+(Ct.ielt9?" leaflet-oldie":"")+(Ct.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=Zl(p,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),_n(this._mapPane,new re(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Kt(p.markerPane,"leaflet-zoom-hide"),Kt(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,w,k){_n(this._mapPane,new re(0,0));var R=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var q=this._zoom!==w;this._moveStart(q,k)._move(p,w)._moveEnd(q),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(p,w){return p&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(p,w,k,R){w===void 0&&(w=this._zoom);var q=this._zoom!==w;return this._zoom=w,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),R?k&&k.pinch&&this.fire("zoom",k):((q||k&&k.pinch)&&this.fire("zoom",k),this.fire("move",k)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return z(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){_n(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[c(this._container)]=this;var w=p?Dr:zt;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),Ct.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){z(this._resizeRequest),this._resizeRequest=U(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,w){for(var k=[],R,q=w==="mouseout"||w==="mouseover",ce=p.target||p.srcElement,_e=!1;ce;){if(R=this._targets[c(ce)],R&&(w==="click"||w==="preclick")&&this._draggableMoved(R)){_e=!0;break}if(R&&R.listens(w,!0)&&(q&&!nc(ce,p)||(k.push(R),q))||ce===this._container)break;ce=ce.parentNode}return!k.length&&!_e&&!q&&this.listens(w,!0)&&(k=[this]),k},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var w=p.target||p.srcElement;if(!(!this._loaded||w._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(w))){var k=p.type;k==="mousedown"&&fo(w),this._fireDOMEvent(p,k)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,w,k){if(p.type==="click"){var R=i({},p);R.type="preclick",this._fireDOMEvent(R,R.type,k)}var q=this._findEventTargets(p,w);if(k){for(var ce=[],_e=0;_e<k.length;_e++)k[_e].listens(w,!0)&&ce.push(k[_e]);q=ce.concat(q)}if(q.length){w==="contextmenu"&&pn(p);var Le=q[0],Ue={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var Xe=Le.getLatLng&&(!Le._radius||Le._radius<=10);Ue.containerPoint=Xe?this.latLngToContainerPoint(Le.getLatLng()):this.mouseEventToContainerPoint(p),Ue.layerPoint=this.containerPointToLayerPoint(Ue.containerPoint),Ue.latlng=Xe?Le.getLatLng():this.layerPointToLatLng(Ue.layerPoint)}for(_e=0;_e<q.length;_e++)if(q[_e].fire(w,Ue,!0),Ue.originalEvent._stopped||q[_e].options.bubblingMouseEvents===!1&&A(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,w=this._handlers.length;p<w;p++)this._handlers[p].disable()},whenReady:function(p,w){return this._loaded?p.call(w||this,{target:this}):this.on("load",p,w),this},_getMapPanePos:function(){return Qs(this._mapPane)||new re(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,w){var k=p&&w!==void 0?this._getNewPixelOrigin(p,w):this.getPixelOrigin();return k.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,w){var k=this.getSize()._divideBy(2);return this.project(p,w)._subtract(k)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,w,k){var R=this._getNewPixelOrigin(k,w);return this.project(p,w)._subtract(R)},_latLngBoundsToNewLayerBounds:function(p,w,k){var R=this._getNewPixelOrigin(k,w);return de([this.project(p.getSouthWest(),w)._subtract(R),this.project(p.getNorthWest(),w)._subtract(R),this.project(p.getSouthEast(),w)._subtract(R),this.project(p.getNorthEast(),w)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,w,k){if(!k)return p;var R=this.project(p,w),q=this.getSize().divideBy(2),ce=new Z(R.subtract(q),R.add(q)),_e=this._getBoundsOffset(ce,k,w);return Math.abs(_e.x)<=1&&Math.abs(_e.y)<=1?p:this.unproject(R.add(_e),w)},_limitOffset:function(p,w){if(!w)return p;var k=this.getPixelBounds(),R=new Z(k.min.add(p),k.max.add(p));return p.add(this._getBoundsOffset(R,w))},_getBoundsOffset:function(p,w,k){var R=de(this.project(w.getNorthEast(),k),this.project(w.getSouthWest(),k)),q=R.min.subtract(p.min),ce=R.max.subtract(p.max),_e=this._rebound(q.x,-ce.x),Le=this._rebound(q.y,-ce.y);return new re(_e,Le)},_rebound:function(p,w){return p+w>0?Math.round(p-w)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(w))},_limitZoom:function(p){var w=this.getMinZoom(),k=this.getMaxZoom(),R=Ct.any3d?this.options.zoomSnap:1;return R&&(p=Math.round(p/R)*R),Math.max(w,Math.min(k,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Wr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,w){var k=this._getCenterOffset(p)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(k)?!1:(this.panBy(k,w),!0)},_createAnimProxy:function(){var p=this._proxy=Vt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(w){var k=Ca,R=this._proxy.style[k];Ps(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),R===this._proxy.style[k]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Yr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),w=this.getZoom();Ps(this._proxy,this.project(p,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,w,k){if(this._animatingZoom)return!0;if(k=k||{},!this._zoomAnimated||k.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(w),q=this._getCenterOffset(p)._divideBy(1-1/R);return k.animate!==!0&&!this.getSize().contains(q)?!1:(U(function(){this._moveStart(!0,k.noMoveStart||!1)._animateZoom(p,w,!0)},this),!0)},_animateZoom:function(p,w,k,R){this._mapPane&&(k&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=w,Kt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:w,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Wr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ka(p,w){return new or(p,w)}var Si=X.extend({options:{position:"topright"},initialize:function(p){b(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var w=this._map;return w&&w.removeControl(this),this.options.position=p,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var w=this._container=this.onAdd(p),k=this.getPosition(),R=p._controlCorners[k];return Kt(w,"leaflet-control"),k.indexOf("bottom")!==-1?R.insertBefore(w,R.firstChild):R.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Yr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Lr=function(p){return new Si(p)};or.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},w="leaflet-",k=this._controlContainer=Vt("div",w+"control-container",this._container);function R(q,ce){var _e=w+q+" "+w+ce;p[q+ce]=Vt("div",_e,k)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)Yr(this._controlCorners[p]);Yr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var K=Si.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,w,k,R){return k<R?-1:R<k?1:0}},initialize:function(p,w,k){b(this,k),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in p)this._addLayer(p[R],R);for(R in w)this._addLayer(w[R],R,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return Si.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,w){return this._addLayer(p,w),this._map?this._update():this},addOverlay:function(p,w){return this._addLayer(p,w,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var w=this._getLayer(c(p));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){Kt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(Kt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):Wr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Wr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",w=this._container=Vt("div",p),k=this.options.collapsed;w.setAttribute("aria-haspopup",!0),nl(w),ho(w);var R=this._section=Vt("section",p+"-list");k&&(this._map.on("click",this.collapse,this),zt(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=Vt("a",p+"-toggle",w);q.href="#",q.title="Layers",q.setAttribute("role","button"),zt(q,{keydown:function(ce){ce.keyCode===13&&this._expandSafely()},click:function(ce){pn(ce),this._expandSafely()}},this),k||this.expand(),this._baseLayersList=Vt("div",p+"-base",R),this._separator=Vt("div",p+"-separator",R),this._overlaysList=Vt("div",p+"-overlays",R),w.appendChild(R)},_getLayer:function(p){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&c(this._layers[w].layer)===p)return this._layers[w]},_addLayer:function(p,w,k){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:w,overlay:k}),this.options.sortLayers&&this._layers.sort(o(function(R,q){return this.options.sortFunction(R.layer,q.layer,R.name,q.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Yl(this._baseLayersList),Yl(this._overlaysList),this._layerControlInputs=[];var p,w,k,R,q=0;for(k=0;k<this._layers.length;k++)R=this._layers[k],this._addItem(R),w=w||R.overlay,p=p||!R.overlay,q+=R.overlay?0:1;return this.options.hideSingleBase&&(p=p&&q>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=w&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var w=this._getLayer(c(p.target)),k=w.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;k&&this._map.fire(k,w)},_createRadioElement:function(p,w){var k='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(w?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=k,R.firstChild},_addItem:function(p){var w=document.createElement("label"),k=this._map.hasLayer(p.layer),R;p.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=k):R=this._createRadioElement("leaflet-base-layers_"+c(this),k),this._layerControlInputs.push(R),R.layerId=c(p.layer),zt(R,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+p.name;var ce=document.createElement("span");w.appendChild(ce),ce.appendChild(R),ce.appendChild(q);var _e=p.overlay?this._overlaysList:this._baseLayersList;return _e.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,w,k,R=[],q=[];this._handlingClick=!0;for(var ce=p.length-1;ce>=0;ce--)w=p[ce],k=this._getLayer(w.layerId).layer,w.checked?R.push(k):w.checked||q.push(k);for(ce=0;ce<q.length;ce++)this._map.hasLayer(q[ce])&&this._map.removeLayer(q[ce]);for(ce=0;ce<R.length;ce++)this._map.hasLayer(R[ce])||this._map.addLayer(R[ce]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,w,k,R=this._map.getZoom(),q=p.length-1;q>=0;q--)w=p[q],k=this._getLayer(w.layerId).layer,w.disabled=k.options.minZoom!==void 0&&R<k.options.minZoom||k.options.maxZoom!==void 0&&R>k.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,zt(p,"click",pn),this.expand();var w=this;setTimeout(function(){Dr(p,"click",pn),w._preventClick=!1})}}),ee=function(p,w,k){return new K(p,w,k)},he=Si.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var w="leaflet-control-zoom",k=Vt("div",w+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,w+"-in",k,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,w+"-out",k,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),k},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,w,k,R,q){var ce=Vt("a",k,R);return ce.innerHTML=p,ce.href="#",ce.title=w,ce.setAttribute("role","button"),ce.setAttribute("aria-label",w),nl(ce),zt(ce,"click",ji),zt(ce,"click",q,this),zt(ce,"click",this._refocusOnMap,this),ce},_updateDisabled:function(){var p=this._map,w="leaflet-disabled";Wr(this._zoomInButton,w),Wr(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(Kt(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(Kt(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});or.mergeOptions({zoomControl:!0}),or.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new he,this.addControl(this.zoomControl))});var pe=function(p){return new he(p)},we=Si.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var w="leaflet-control-scale",k=Vt("div",w),R=this.options;return this._addScales(R,w+"-line",k),p.on(R.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),k},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,w,k){p.metric&&(this._mScale=Vt("div",w,k)),p.imperial&&(this._iScale=Vt("div",w,k))},_update:function(){var p=this._map,w=p.getSize().y/2,k=p.distance(p.containerPointToLatLng([0,w]),p.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(k)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var w=this._getRoundNum(p),k=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,k,w/p)},_updateImperial:function(p){var w=p*3.2808399,k,R,q;w>5280?(k=w/5280,R=this._getRoundNum(k),this._updateScale(this._iScale,R+" mi",R/k)):(q=this._getRoundNum(w),this._updateScale(this._iScale,q+" ft",q/w))},_updateScale:function(p,w,k){p.style.width=Math.round(this.options.maxWidth*k)+"px",p.innerHTML=w},_getRoundNum:function(p){var w=Math.pow(10,(Math.floor(p)+"").length-1),k=p/w;return k=k>=10?10:k>=5?5:k>=3?3:k>=2?2:1,w*k}}),Ie=function(p){return new we(p)},De='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ye=Si.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Ct.inlineSvg?De+" ":"")+"Leaflet</a>"},initialize:function(p){b(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=Vt("div","leaflet-control-attribution"),nl(this._container);for(var w in p._layers)p._layers[w].getAttribution&&this.addAttribution(p._layers[w].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var w in this._attributions)this._attributions[w]&&p.push(w);var k=[];this.options.prefix&&k.push(this.options.prefix),p.length&&k.push(p.join(", ")),this._container.innerHTML=k.join(' <span aria-hidden="true">|</span> ')}}});or.mergeOptions({attributionControl:!0}),or.addInitHook(function(){this.options.attributionControl&&new Ye().addTo(this)});var Et=function(p){return new Ye(p)};Si.Layers=K,Si.Zoom=he,Si.Scale=we,Si.Attribution=Ye,Lr.layers=ee,Lr.zoom=pe,Lr.scale=Ie,Lr.attribution=Et;var st=X.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});st.addTo=function(p,w){return p.addHandler(w,this),this};var dt={Events:le},Pt=Ct.touch?"touchstart mousedown":"mousedown",lr=W.extend({options:{clickTolerance:3},initialize:function(p,w,k,R){b(this,R),this._element=p,this._dragStartTarget=w||p,this._preventOutline=k},enable:function(){this._enabled||(zt(this._dragStartTarget,Pt,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(lr._dragging===this&&this.finishDrag(!0),Dr(this._dragStartTarget,Pt,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Qo(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){lr._dragging===this&&this.finishDrag();return}if(!(lr._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(lr._dragging=this,this._preventOutline&&fo(this._element),Jl(),vr(),!this._moving)){this.fire("down");var w=p.touches?p.touches[0]:p,k=Gi(this._element);this._startPoint=new re(w.clientX,w.clientY),this._startPos=Qs(this._element),this._parentScale=As(k);var R=p.type==="mousedown";zt(document,R?"mousemove":"touchmove",this._onMove,this),zt(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var w=p.touches&&p.touches.length===1?p.touches[0]:p,k=new re(w.clientX,w.clientY)._subtract(this._startPoint);!k.x&&!k.y||Math.abs(k.x)+Math.abs(k.y)<this.options.clickTolerance||(k.x/=this._parentScale.x,k.y/=this._parentScale.y,pn(p),this._moved||(this.fire("dragstart"),this._moved=!0,Kt(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Kt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(k),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),_n(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){Wr(document.body,"leaflet-dragging"),this._lastTarget&&(Wr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Dr(document,"mousemove touchmove",this._onMove,this),Dr(document,"mouseup touchend touchcancel",this._onUp,this),yu(),tl();var w=this._moved&&this._moving;this._moving=!1,lr._dragging=!1,w&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function mn(p,w,k){var R,q=[1,4,2,8],ce,_e,Le,Ue,Xe,pt,It,ir;for(ce=0,pt=p.length;ce<pt;ce++)p[ce]._code=ac(p[ce],w);for(Le=0;Le<4;Le++){for(It=q[Le],R=[],ce=0,pt=p.length,_e=pt-1;ce<pt;_e=ce++)Ue=p[ce],Xe=p[_e],Ue._code&It?Xe._code&It||(ir=sc(Xe,Ue,It,w,k),ir._code=ac(ir,w),R.push(ir)):(Xe._code&It&&(ir=sc(Xe,Ue,It,w,k),ir._code=ac(ir,w),R.push(ir)),R.push(Ue));p=R}return p}function At(p,w){var k,R,q,ce,_e,Le,Ue,Xe,pt;if(!p||p.length===0)throw new Error("latlngs not passed");Ts(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var It=oe([0,0]),ir=Me(p),ci=ir.getNorthWest().distanceTo(ir.getSouthWest())*ir.getNorthEast().distanceTo(ir.getNorthWest());ci<1700&&(It=Zt(p));var Xn=p.length,ps=[];for(k=0;k<Xn;k++){var Zi=oe(p[k]);ps.push(w.project(oe([Zi.lat-It.lat,Zi.lng-It.lng])))}for(Le=Ue=Xe=0,k=0,R=Xn-1;k<Xn;R=k++)q=ps[k],ce=ps[R],_e=q.y*ce.x-ce.y*q.x,Ue+=(q.x+ce.x)*_e,Xe+=(q.y+ce.y)*_e,Le+=_e*3;Le===0?pt=ps[0]:pt=[Ue/Le,Xe/Le];var Ou=w.unproject(ie(pt));return oe([Ou.lat+It.lat,Ou.lng+It.lng])}function Zt(p){for(var w=0,k=0,R=0,q=0;q<p.length;q++){var ce=oe(p[q]);w+=ce.lat,k+=ce.lng,R++}return oe([w/R,k/R])}var Mt={__proto__:null,clipPolygon:mn,polygonCenter:At,centroid:Zt};function Xr(p,w){if(!w||!p.length)return p.slice();var k=w*w;return p=Aa(p,k),p=ea(p,k),p}function jn(p,w,k){return Math.sqrt(oc(p,w,k,!0))}function In(p,w,k){return oc(p,w,k)}function ea(p,w){var k=p.length,R=typeof Uint8Array<"u"?Uint8Array:Array,q=new R(k);q[0]=q[k-1]=1,Yn(p,q,w,0,k-1);var ce,_e=[];for(ce=0;ce<k;ce++)q[ce]&&_e.push(p[ce]);return _e}function Yn(p,w,k,R,q){var ce=0,_e,Le,Ue;for(Le=R+1;Le<=q-1;Le++)Ue=oc(p[Le],p[R],p[q],!0),Ue>ce&&(_e=Le,ce=Ue);ce>k&&(w[_e]=1,Yn(p,w,k,R,_e),Yn(p,w,k,_e,q))}function Aa(p,w){for(var k=[p[0]],R=1,q=0,ce=p.length;R<ce;R++)qj(p[R],p[q])>w&&(k.push(p[R]),q=R);return q<ce-1&&k.push(p[ce-1]),k}var ta;function ic(p,w,k,R,q){var ce=R?ta:ac(p,k),_e=ac(w,k),Le,Ue,Xe;for(ta=_e;;){if(!(ce|_e))return[p,w];if(ce&_e)return!1;Le=ce||_e,Ue=sc(p,w,Le,k,q),Xe=ac(Ue,k),Le===ce?(p=Ue,ce=Xe):(w=Ue,_e=Xe)}}function sc(p,w,k,R,q){var ce=w.x-p.x,_e=w.y-p.y,Le=R.min,Ue=R.max,Xe,pt;return k&8?(Xe=p.x+ce*(Ue.y-p.y)/_e,pt=Ue.y):k&4?(Xe=p.x+ce*(Le.y-p.y)/_e,pt=Le.y):k&2?(Xe=Ue.x,pt=p.y+_e*(Ue.x-p.x)/ce):k&1&&(Xe=Le.x,pt=p.y+_e*(Le.x-p.x)/ce),new re(Xe,pt,q)}function ac(p,w){var k=0;return p.x<w.min.x?k|=1:p.x>w.max.x&&(k|=2),p.y<w.min.y?k|=4:p.y>w.max.y&&(k|=8),k}function qj(p,w){var k=w.x-p.x,R=w.y-p.y;return k*k+R*R}function oc(p,w,k,R){var q=w.x,ce=w.y,_e=k.x-q,Le=k.y-ce,Ue=_e*_e+Le*Le,Xe;return Ue>0&&(Xe=((p.x-q)*_e+(p.y-ce)*Le)/Ue,Xe>1?(q=k.x,ce=k.y):Xe>0&&(q+=_e*Xe,ce+=Le*Xe)),_e=p.x-q,Le=p.y-ce,R?_e*_e+Le*Le:new re(q,ce)}function Ts(p){return!C(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Zx(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ts(p)}function Yx(p,w){var k,R,q,ce,_e,Le,Ue,Xe;if(!p||p.length===0)throw new Error("latlngs not passed");Ts(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var pt=oe([0,0]),It=Me(p),ir=It.getNorthWest().distanceTo(It.getSouthWest())*It.getNorthEast().distanceTo(It.getNorthWest());ir<1700&&(pt=Zt(p));var ci=p.length,Xn=[];for(k=0;k<ci;k++){var ps=oe(p[k]);Xn.push(w.project(oe([ps.lat-pt.lat,ps.lng-pt.lng])))}for(k=0,R=0;k<ci-1;k++)R+=Xn[k].distanceTo(Xn[k+1])/2;if(R===0)Xe=Xn[0];else for(k=0,ce=0;k<ci-1;k++)if(_e=Xn[k],Le=Xn[k+1],q=_e.distanceTo(Le),ce+=q,ce>R){Ue=(ce-R)/q,Xe=[Le.x-Ue*(Le.x-_e.x),Le.y-Ue*(Le.y-_e.y)];break}var Zi=w.unproject(ie(Xe));return oe([Zi.lat+pt.lat,Zi.lng+pt.lng])}var Xx={__proto__:null,simplify:Xr,pointToSegmentDistance:jn,closestPointOnSegment:In,clipSegment:ic,_getEdgeIntersection:sc,_getBitCode:ac,_sqClosestPointOnSegment:oc,isFlat:Ts,_flat:Zx,polylineCenter:Yx},mg={project:function(p){return new re(p.lng,p.lat)},unproject:function(p){return new qe(p.y,p.x)},bounds:new Z([-180,-90],[180,90])},gg={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var w=Math.PI/180,k=this.R,R=p.lat*w,q=this.R_MINOR/k,ce=Math.sqrt(1-q*q),_e=ce*Math.sin(R),Le=Math.tan(Math.PI/4-R/2)/Math.pow((1-_e)/(1+_e),ce/2);return R=-k*Math.log(Math.max(Le,1e-10)),new re(p.lng*w*k,R)},unproject:function(p){for(var w=180/Math.PI,k=this.R,R=this.R_MINOR/k,q=Math.sqrt(1-R*R),ce=Math.exp(-p.y/k),_e=Math.PI/2-2*Math.atan(ce),Le=0,Ue=.1,Xe;Le<15&&Math.abs(Ue)>1e-7;Le++)Xe=q*Math.sin(_e),Xe=Math.pow((1-Xe)/(1+Xe),q/2),Ue=Math.PI/2-2*Math.atan(ce*Xe)-_e,_e+=Ue;return new qe(_e*w,p.x*w/k)}},Uj={__proto__:null,LonLat:mg,Mercator:gg,SphericalMercator:Ae},Vj=i({},ge,{code:"EPSG:3395",projection:gg,transformation:function(){var p=.5/(Math.PI*gg.R);return Y(p,.5,-p,.5)}()}),Jx=i({},ge,{code:"EPSG:4326",projection:mg,transformation:Y(1/180,1,-1/180,.5)}),Wj=i({},ae,{projection:mg,transformation:Y(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,w){var k=w.lng-p.lng,R=w.lat-p.lat;return Math.sqrt(k*k+R*R)},infinite:!0});ae.Earth=ge,ae.EPSG3395=Vj,ae.EPSG3857=Ee,ae.EPSG900913=Ce,ae.EPSG4326=Jx,ae.Simple=Wj;var ra=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[c(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[c(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var w=p.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var k=this.getEvents();w.on(k,this),this.once("remove",function(){w.off(k,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});or.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var w=c(p);return this._layers[w]?this:(this._layers[w]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var w=c(p);return this._layers[w]?(this._loaded&&p.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return c(p)in this._layers},eachLayer:function(p,w){for(var k in this._layers)p.call(w,this._layers[k]);return this},_addLayers:function(p){p=p?C(p)?p:[p]:[];for(var w=0,k=p.length;w<k;w++)this.addLayer(p[w])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[c(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var w=c(p);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,w=-1/0,k=this._getZoomSpan();for(var R in this._zoomBoundLayers){var q=this._zoomBoundLayers[R].options;p=q.minZoom===void 0?p:Math.min(p,q.minZoom),w=q.maxZoom===void 0?w:Math.max(w,q.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=p===1/0?void 0:p,k!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var il=ra.extend({initialize:function(p,w){b(this,w),this._layers={};var k,R;if(p)for(k=0,R=p.length;k<R;k++)this.addLayer(p[k])},addLayer:function(p){var w=this.getLayerId(p);return this._layers[w]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var w=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(p){var w=typeof p=="number"?p:this.getLayerId(p);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var w=Array.prototype.slice.call(arguments,1),k,R;for(k in this._layers)R=this._layers[k],R[p]&&R[p].apply(R,w);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,w){for(var k in this._layers)p.call(w,this._layers[k]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return c(p)}}),Jd=function(p,w){return new il(p,w)},po=il.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),il.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),il.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new Se;for(var w in this._layers){var k=this._layers[w];p.extend(k.getBounds?k.getBounds():k.getLatLng())}return p}}),Qx=function(p,w){return new po(p,w)},lc=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){b(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,w){var k=this._getIconUrl(p);if(!k){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(k,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(R,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(p,w){var k=this.options,R=k[w+"Size"];typeof R=="number"&&(R=[R,R]);var q=ie(R),ce=ie(w==="shadow"&&k.shadowAnchor||k.iconAnchor||q&&q.divideBy(2,!0));p.className="leaflet-marker-"+w+" "+(k.className||""),ce&&(p.style.marginLeft=-ce.x+"px",p.style.marginTop=-ce.y+"px"),q&&(p.style.width=q.x+"px",p.style.height=q.y+"px")},_createImg:function(p,w){return w=w||document.createElement("img"),w.src=p,w},_getIconUrl:function(p){return Ct.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function e0(p){return new lc(p)}var ju=lc.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof ju.imagePath!="string"&&(ju.imagePath=this._detectIconPath()),(this.options.imagePath||ju.imagePath)+lc.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var w=function(k,R,q){var ce=R.exec(k);return ce&&ce[q]};return p=w(p,/^url\((['"])?(.+)\1\)$/,2),p&&w(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=Vt("div","leaflet-default-icon-path",document.body),w=Zl(p,"background-image")||Zl(p,"backgroundImage");if(document.body.removeChild(p),w=this._stripUrl(w),w)return w;var k=document.querySelector('link[href$="leaflet.css"]');return k?k.href.substring(0,k.href.length-11-1):""}}),vg=st.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new lr(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Kt(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Wr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var w=this._marker,k=w._map,R=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,ce=Qs(w._icon),_e=k.getPixelBounds(),Le=k.getPixelOrigin(),Ue=de(_e.min._subtract(Le).add(q),_e.max._subtract(Le).subtract(q));if(!Ue.contains(ce)){var Xe=ie((Math.max(Ue.max.x,ce.x)-Ue.max.x)/(_e.max.x-Ue.max.x)-(Math.min(Ue.min.x,ce.x)-Ue.min.x)/(_e.min.x-Ue.min.x),(Math.max(Ue.max.y,ce.y)-Ue.max.y)/(_e.max.y-Ue.max.y)-(Math.min(Ue.min.y,ce.y)-Ue.min.y)/(_e.min.y-Ue.min.y)).multiplyBy(R);k.panBy(Xe,{animate:!1}),this._draggable._newPos._add(Xe),this._draggable._startPos._add(Xe),_n(w._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=U(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(z(this._panRequest),this._panRequest=U(this._adjustPan.bind(this,p)))},_onDrag:function(p){var w=this._marker,k=w._shadow,R=Qs(w._icon),q=w._map.layerPointToLatLng(R);k&&_n(k,R),w._latlng=q,p.latlng=q,p.oldLatLng=this._oldLatLng,w.fire("move",p).fire("drag",p)},_onDragEnd:function(p){z(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),mo=ra.extend({options:{icon:new ju,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,w){b(this,w),this._latlng=oe(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var w=this._latlng;return this._latlng=oe(p),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),k=p.icon.createIcon(this._icon),R=!1;k!==this._icon&&(this._icon&&this._removeIcon(),R=!0,p.title&&(k.title=p.title),k.tagName==="IMG"&&(k.alt=p.alt||"")),Kt(k,w),p.keyboard&&(k.tabIndex="0",k.setAttribute("role","button")),this._icon=k,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&zt(k,"focus",this._panOnFocus,this);var q=p.icon.createShadow(this._shadow),ce=!1;q!==this._shadow&&(this._removeShadow(),ce=!0),q&&(Kt(q,w),q.alt=""),this._shadow=q,p.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&ce&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dr(this._icon,"focus",this._panOnFocus,this),Yr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Yr(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&_n(this._icon,p),this._shadow&&_n(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(Kt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),vg)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new vg(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&li(this._icon,p),this._shadow&&li(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var w=this.options.icon.options,k=w.iconSize?ie(w.iconSize):ie(0,0),R=w.iconAnchor?ie(w.iconAnchor):ie(0,0);p.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:k.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Hj(p,w){return new mo(p,w)}var sl=ra.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return b(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ah=sl.extend({options:{fill:!0,radius:10},initialize:function(p,w){b(this,w),this._latlng=oe(p),this._radius=this.options.radius},setLatLng:function(p){var w=this._latlng;return this._latlng=oe(p),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var w=p&&p.radius||this._radius;return sl.prototype.setStyle.call(this,p),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,w=this._radiusY||p,k=this._clickTolerance(),R=[p+k,w+k];this._pxBounds=new Z(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function t0(p,w){return new Ah(p,w)}var Th=Ah.extend({initialize:function(p,w,k){if(typeof w=="number"&&(w=i({},k,{radius:w})),b(this,w),this._latlng=oe(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new Se(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:sl.prototype.setStyle,_project:function(){var p=this._latlng.lng,w=this._latlng.lat,k=this._map,R=k.options.crs;if(R.distance===ge.distance){var q=Math.PI/180,ce=this._mRadius/ge.R/q,_e=k.project([w+ce,p]),Le=k.project([w-ce,p]),Ue=_e.add(Le).divideBy(2),Xe=k.unproject(Ue).lat,pt=Math.acos((Math.cos(ce*q)-Math.sin(w*q)*Math.sin(Xe*q))/(Math.cos(w*q)*Math.cos(Xe*q)))/q;(isNaN(pt)||pt===0)&&(pt=ce/Math.cos(Math.PI/180*w)),this._point=Ue.subtract(k.getPixelOrigin()),this._radius=isNaN(pt)?0:Ue.x-k.project([Xe,p-pt]).x,this._radiusY=Ue.y-_e.y}else{var It=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=k.latLngToLayerPoint(this._latlng),this._radius=this._point.x-k.latLngToLayerPoint(It).x}this._updateBounds()}});function Qd(p,w,k){return new Th(p,w,k)}var hs=sl.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,w){b(this,w),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var w=1/0,k=null,R=oc,q,ce,_e=0,Le=this._parts.length;_e<Le;_e++)for(var Ue=this._parts[_e],Xe=1,pt=Ue.length;Xe<pt;Xe++){q=Ue[Xe-1],ce=Ue[Xe];var It=R(p,q,ce,!0);It<w&&(w=It,k=R(p,q,ce))}return k&&(k.distance=Math.sqrt(w)),k},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Yx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,w){return w=w||this._defaultShape(),p=oe(p),w.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new Se,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return Ts(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var w=[],k=Ts(p),R=0,q=p.length;R<q;R++)k?(w[R]=oe(p[R]),this._bounds.extend(w[R])):w[R]=this._convertLatLngs(p[R]);return w},_project:function(){var p=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),w=new re(p,p);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(p,w,k){var R=p[0]instanceof qe,q=p.length,ce,_e;if(R){for(_e=[],ce=0;ce<q;ce++)_e[ce]=this._map.latLngToLayerPoint(p[ce]),k.extend(_e[ce]);w.push(_e)}else for(ce=0;ce<q;ce++)this._projectLatlngs(p[ce],w,k)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,k,R,q,ce,_e,Le,Ue;for(k=0,q=0,ce=this._rings.length;k<ce;k++)for(Ue=this._rings[k],R=0,_e=Ue.length;R<_e-1;R++)Le=ic(Ue[R],Ue[R+1],p,R,!0),Le&&(w[q]=w[q]||[],w[q].push(Le[0]),(Le[1]!==Ue[R+1]||R===_e-2)&&(w[q].push(Le[1]),q++))}},_simplifyPoints:function(){for(var p=this._parts,w=this.options.smoothFactor,k=0,R=p.length;k<R;k++)p[k]=Xr(p[k],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,w){var k,R,q,ce,_e,Le,Ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(k=0,ce=this._parts.length;k<ce;k++)for(Le=this._parts[k],R=0,_e=Le.length,q=_e-1;R<_e;q=R++)if(!(!w&&R===0)&&jn(p,Le[q],Le[R])<=Ue)return!0;return!1}});function Kj(p,w){return new hs(p,w)}hs._flat=Zx;var go=hs.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return At(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var w=hs.prototype._convertLatLngs.call(this,p),k=w.length;return k>=2&&w[0]instanceof qe&&w[0].equals(w[k-1])&&w.pop(),w},_setLatLngs:function(p){hs.prototype._setLatLngs.call(this,p),Ts(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ts(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,w=this.options.weight,k=new re(w,w);if(p=new Z(p.min.subtract(k),p.max.add(k)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,q=this._rings.length,ce;R<q;R++)ce=mn(this._rings[R],p,!0),ce.length&&this._parts.push(ce)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var w=!1,k,R,q,ce,_e,Le,Ue,Xe;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ce=0,Ue=this._parts.length;ce<Ue;ce++)for(k=this._parts[ce],_e=0,Xe=k.length,Le=Xe-1;_e<Xe;Le=_e++)R=k[_e],q=k[Le],R.y>p.y!=q.y>p.y&&p.x<(q.x-R.x)*(p.y-R.y)/(q.y-R.y)+R.x&&(w=!w);return w||hs.prototype._containsPoint.call(this,p,!0)}});function Gj(p,w){return new go(p,w)}var Ta=po.extend({initialize:function(p,w){b(this,w),this._layers={},p&&this.addData(p)},addData:function(p){var w=C(p)?p:p.features,k,R,q;if(w){for(k=0,R=w.length;k<R;k++)q=w[k],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var ce=this.options;if(ce.filter&&!ce.filter(p))return this;var _e=Su(p,ce);return _e?(_e.feature=Dh(p),_e.defaultOptions=_e.options,this.resetStyle(_e),ce.onEachFeature&&ce.onEachFeature(p,_e),this.addLayer(_e)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(w){this._setLayerStyle(w,p)},this)},_setLayerStyle:function(p,w){p.setStyle&&(typeof w=="function"&&(w=w(p.feature)),p.setStyle(w))}});function Su(p,w){var k=p.type==="Feature"?p.geometry:p,R=k?k.coordinates:null,q=[],ce=w&&w.pointToLayer,_e=w&&w.coordsToLatLng||Rh,Le,Ue,Xe,pt;if(!R&&!k)return null;switch(k.type){case"Point":return Le=_e(R),Oh(ce,p,Le,w);case"MultiPoint":for(Xe=0,pt=R.length;Xe<pt;Xe++)Le=_e(R[Xe]),q.push(Oh(ce,p,Le,w));return new po(q);case"LineString":case"MultiLineString":return Ue=ef(R,k.type==="LineString"?0:1,_e),new hs(Ue,w);case"Polygon":case"MultiPolygon":return Ue=ef(R,k.type==="Polygon"?1:2,_e),new go(Ue,w);case"GeometryCollection":for(Xe=0,pt=k.geometries.length;Xe<pt;Xe++){var It=Su({geometry:k.geometries[Xe],type:"Feature",properties:p.properties},w);It&&q.push(It)}return new po(q);case"FeatureCollection":for(Xe=0,pt=k.features.length;Xe<pt;Xe++){var ir=Su(k.features[Xe],w);ir&&q.push(ir)}return new po(q);default:throw new Error("Invalid GeoJSON object.")}}function Oh(p,w,k,R){return p?p(w,k):new mo(k,R&&R.markersInheritOptions&&R)}function Rh(p){return new qe(p[1],p[0],p[2])}function ef(p,w,k){for(var R=[],q=0,ce=p.length,_e;q<ce;q++)_e=w?ef(p[q],w-1,k):(k||Rh)(p[q]),R.push(_e);return R}function Mh(p,w){return p=oe(p),p.alt!==void 0?[g(p.lng,w),g(p.lat,w),g(p.alt,w)]:[g(p.lng,w),g(p.lat,w)]}function Ih(p,w,k,R){for(var q=[],ce=0,_e=p.length;ce<_e;ce++)q.push(w?Ih(p[ce],Ts(p[ce])?0:w-1,k,R):Mh(p[ce],R));return!w&&k&&q.length>0&&q.push(q[0].slice()),q}function Nu(p,w){return p.feature?i({},p.feature,{geometry:w}):Dh(w)}function Dh(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var yg={toGeoJSON:function(p){return Nu(this,{type:"Point",coordinates:Mh(this.getLatLng(),p)})}};mo.include(yg),Th.include(yg),Ah.include(yg),hs.include({toGeoJSON:function(p){var w=!Ts(this._latlngs),k=Ih(this._latlngs,w?1:0,!1,p);return Nu(this,{type:(w?"Multi":"")+"LineString",coordinates:k})}}),go.include({toGeoJSON:function(p){var w=!Ts(this._latlngs),k=w&&!Ts(this._latlngs[0]),R=Ih(this._latlngs,k?2:w?1:0,!0,p);return w||(R=[R]),Nu(this,{type:(k?"Multi":"")+"Polygon",coordinates:R})}}),il.include({toMultiPoint:function(p){var w=[];return this.eachLayer(function(k){w.push(k.toGeoJSON(p).geometry.coordinates)}),Nu(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(p){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(p);var k=w==="GeometryCollection",R=[];return this.eachLayer(function(q){if(q.toGeoJSON){var ce=q.toGeoJSON(p);if(k)R.push(ce.geometry);else{var _e=Dh(ce);_e.type==="FeatureCollection"?R.push.apply(R,_e.features):R.push(_e)}}}),k?Nu(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function r0(p,w){return new Ta(p,w)}var na=r0,al=ra.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,w,k){this._url=p,this._bounds=Me(w),b(this,k)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Kt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Yr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&Jo(this._image),this},bringToBack:function(){return this._map&&Js(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=Me(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",w=this._image=p?this._url:Vt("img");if(Kt(w,"leaflet-image-layer"),this._zoomAnimated&&Kt(w,"leaflet-zoom-animated"),this.options.className&&Kt(w,this.options.className),w.onselectstart=f,w.onmousemove=f,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(p){var w=this._map.getZoomScale(p.zoom),k=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;Ps(this._image,k,w)},_reset:function(){var p=this._image,w=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),k=w.getSize();_n(p,w.min),p.style.width=k.x+"px",p.style.height=k.y+"px"},_updateOpacity:function(){li(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),n0=function(p,w,k){return new al(p,w,k)},xg=al.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",w=this._image=p?this._url:Vt("video");if(Kt(w,"leaflet-image-layer"),this._zoomAnimated&&Kt(w,"leaflet-zoom-animated"),this.options.className&&Kt(w,this.options.className),w.onselectstart=f,w.onmousemove=f,w.onloadeddata=o(this.fire,this,"load"),p){for(var k=w.getElementsByTagName("source"),R=[],q=0;q<k.length;q++)R.push(k[q].src);this._url=k.length>0?R:[w.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ce=0;ce<this._url.length;ce++){var _e=Vt("source");_e.src=this._url[ce],w.appendChild(_e)}}});function i0(p,w,k){return new xg(p,w,k)}var bg=al.extend({_initImage:function(){var p=this._image=this._url;Kt(p,"leaflet-image-layer"),this._zoomAnimated&&Kt(p,"leaflet-zoom-animated"),this.options.className&&Kt(p,this.options.className),p.onselectstart=f,p.onmousemove=f}});function wg(p,w,k){return new bg(p,w,k)}var Oa=ra.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,w){p&&(p instanceof qe||C(p))?(this._latlng=oe(p),b(this,w)):(b(this,p),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&li(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&li(this._container,1),this.bringToFront(),this.options.interactive&&(Kt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(li(this._container,0),this._removeTimeout=setTimeout(o(Yr,void 0,this._container),200)):Yr(this._container),this.options.interactive&&(Wr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=oe(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Jo(this._container),this},bringToBack:function(){return this._map&&Js(this._container),this},_prepareOpen:function(p){var w=this._source;if(!w._map)return!1;if(w instanceof po){w=null;var k=this._source._layers;for(var R in k)if(k[R]._map){w=k[R];break}if(!w)return!1;this._source=w}if(!p)if(w.getCenter)p=w.getCenter();else if(w.getLatLng)p=w.getLatLng();else if(w.getBounds)p=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")p.innerHTML=w;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),w=ie(this.options.offset),k=this._getAnchor();this._zoomAnimated?_n(this._container,p.add(k)):w=w.add(p).add(k);var R=this._containerBottom=-w.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=R+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});or.include({_initOverlay:function(p,w,k,R){var q=w;return q instanceof p||(q=new p(R).setContent(w)),k&&q.setLatLng(k),q}}),ra.include({_initOverlay:function(p,w,k,R){var q=k;return q instanceof p?(b(q,R),q._source=this):(q=w&&!R?w:new p(R,this),q.setContent(k)),q}});var Lh=Oa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,Oa.prototype.openOn.call(this,p)},onAdd:function(p){Oa.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof sl||this._source.on("preclick",fs))},onRemove:function(p){Oa.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof sl||this._source.off("preclick",fs))},getEvents:function(){var p=Oa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",w=this._container=Vt("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),k=this._wrapper=Vt("div",p+"-content-wrapper",w);if(this._contentNode=Vt("div",p+"-content",k),nl(w),ho(this._contentNode),zt(w,"contextmenu",fs),this._tipContainer=Vt("div",p+"-tip-container",w),this._tip=Vt("div",p+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=Vt("a",p+"-close-button",w);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',zt(R,"click",function(q){pn(q),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,w=p.style;w.width="",w.whiteSpace="nowrap";var k=p.offsetWidth;k=Math.min(k,this.options.maxWidth),k=Math.max(k,this.options.minWidth),w.width=k+1+"px",w.whiteSpace="",w.height="";var R=p.offsetHeight,q=this.options.maxHeight,ce="leaflet-popup-scrolled";q&&R>q?(w.height=q+"px",Kt(p,ce)):Wr(p,ce),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),k=this._getAnchor();_n(this._container,w.add(k))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,w=parseInt(Zl(this._container,"marginBottom"),10)||0,k=this._container.offsetHeight+w,R=this._containerWidth,q=new re(this._containerLeft,-k-this._containerBottom);q._add(Qs(this._container));var ce=p.layerPointToContainerPoint(q),_e=ie(this.options.autoPanPadding),Le=ie(this.options.autoPanPaddingTopLeft||_e),Ue=ie(this.options.autoPanPaddingBottomRight||_e),Xe=p.getSize(),pt=0,It=0;ce.x+R+Ue.x>Xe.x&&(pt=ce.x+R-Xe.x+Ue.x),ce.x-pt-Le.x<0&&(pt=ce.x-Le.x),ce.y+k+Ue.y>Xe.y&&(It=ce.y+k-Xe.y+Ue.y),ce.y-It-Le.y<0&&(It=ce.y-Le.y),(pt||It)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([pt,It]))}},_getAnchor:function(){return ie(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Cu=function(p,w){return new Lh(p,w)};or.mergeOptions({closePopupOnClick:!0}),or.include({openPopup:function(p,w,k){return this._initOverlay(Lh,p,w,k).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),ra.include({bindPopup:function(p,w){return this._popup=this._initOverlay(Lh,this._popup,p,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof po||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){ji(p);var w=p.layer||p.target;if(this._popup._source===w&&!(w instanceof sl)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=w,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var Eu=Oa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){Oa.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){Oa.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=Oa.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",w=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Vt("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var w,k,R=this._map,q=this._container,ce=R.latLngToContainerPoint(R.getCenter()),_e=R.layerPointToContainerPoint(p),Le=this.options.direction,Ue=q.offsetWidth,Xe=q.offsetHeight,pt=ie(this.options.offset),It=this._getAnchor();Le==="top"?(w=Ue/2,k=Xe):Le==="bottom"?(w=Ue/2,k=0):Le==="center"?(w=Ue/2,k=Xe/2):Le==="right"?(w=0,k=Xe/2):Le==="left"?(w=Ue,k=Xe/2):_e.x<ce.x?(Le="right",w=0,k=Xe/2):(Le="left",w=Ue+(pt.x+It.x)*2,k=Xe/2),p=p.subtract(ie(w,k,!0)).add(pt).add(It),Wr(q,"leaflet-tooltip-right"),Wr(q,"leaflet-tooltip-left"),Wr(q,"leaflet-tooltip-top"),Wr(q,"leaflet-tooltip-bottom"),Kt(q,"leaflet-tooltip-"+Le),_n(q,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&li(this._container,p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(w)},_getAnchor:function(){return ie(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),tf=function(p,w){return new Eu(p,w)};or.include({openTooltip:function(p,w,k){return this._initOverlay(Eu,p,w,k).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),ra.include({bindTooltip:function(p,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Eu,this._tooltip,p,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var w=p?"off":"on",k={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?k.add=this._openTooltip:(k.mouseover=this._openTooltip,k.mouseout=this.closeTooltip,k.click=this._openTooltip,this._map?this._addFocusListeners():k.add=this._addFocusListeners),this._tooltip.options.sticky&&(k.mousemove=this._moveTooltip),this[w](k),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof po||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&(zt(w,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),zt(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var w=p.latlng,k,R;this._tooltip.options.sticky&&p.originalEvent&&(k=this._map.mouseEventToContainerPoint(p.originalEvent),R=this._map.containerPointToLayerPoint(k),w=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(w)}});var $h=lc.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var w=p&&p.tagName==="DIV"?p:document.createElement("div"),k=this.options;if(k.html instanceof Element?(Yl(w),w.appendChild(k.html)):w.innerHTML=k.html!==!1?k.html:"",k.bgPos){var R=ie(k.bgPos);w.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function s0(p){return new $h(p)}lc.Default=ju;var ol=ra.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ct.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){b(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),Yr(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Jo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Js(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof re?p:new re(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var w=this.getPane().children,k=-p(-1/0,1/0),R=0,q=w.length,ce;R<q;R++)ce=w[R].style.zIndex,w[R]!==this._container&&ce&&(k=p(k,+ce));isFinite(k)&&(this.options.zIndex=k+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Ct.ielt9){li(this._container,this.options.opacity);var p=+new Date,w=!1,k=!1;for(var R in this._tiles){var q=this._tiles[R];if(!(!q.current||!q.loaded)){var ce=Math.min(1,(p-q.loaded)/200);li(q.el,ce),ce<1?w=!0:(q.active?k=!0:this._onOpaqueTile(q),q.active=!0)}}k&&!this._noPrune&&this._pruneTiles(),w&&(z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=Vt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,w=this.options.maxZoom;if(p!==void 0){for(var k in this._levels)k=Number(k),this._levels[k].el.children.length||k===p?(this._levels[k].el.style.zIndex=w-Math.abs(p-k),this._onUpdateLevel(k)):(Yr(this._levels[k].el),this._removeTilesAtZoom(k),this._onRemoveLevel(k),delete this._levels[k]);var R=this._levels[p],q=this._map;return R||(R=this._levels[p]={},R.el=Vt("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=w,R.origin=q.project(q.unproject(q.getPixelOrigin()),p).round(),R.zoom=p,this._setZoomTransform(R,q.getCenter(),q.getZoom()),f(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var p,w,k=this._map.getZoom();if(k>this.options.maxZoom||k<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)w=this._tiles[p],w.retain=w.current;for(p in this._tiles)if(w=this._tiles[p],w.current&&!w.active){var R=w.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var w in this._tiles)this._tiles[w].coords.z===p&&this._removeTile(w)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)Yr(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,w,k,R){var q=Math.floor(p/2),ce=Math.floor(w/2),_e=k-1,Le=new re(+q,+ce);Le.z=+_e;var Ue=this._tileCoordsToKey(Le),Xe=this._tiles[Ue];return Xe&&Xe.active?(Xe.retain=!0,!0):(Xe&&Xe.loaded&&(Xe.retain=!0),_e>R?this._retainParent(q,ce,_e,R):!1)},_retainChildren:function(p,w,k,R){for(var q=2*p;q<2*p+2;q++)for(var ce=2*w;ce<2*w+2;ce++){var _e=new re(q,ce);_e.z=k+1;var Le=this._tileCoordsToKey(_e),Ue=this._tiles[Le];if(Ue&&Ue.active){Ue.retain=!0;continue}else Ue&&Ue.loaded&&(Ue.retain=!0);k+1<R&&this._retainChildren(q,ce,k+1,R)}},_resetView:function(p){var w=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var w=this.options;return w.minNativeZoom!==void 0&&p<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<p?w.maxNativeZoom:p},_setView:function(p,w,k,R){var q=Math.round(w);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var ce=this.options.updateWhenZooming&&q!==this._tileZoom;(!R||ce)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(p),k||this._pruneTiles(),this._noPrune=!!k),this._setZoomTransforms(p,w)},_setZoomTransforms:function(p,w){for(var k in this._levels)this._setZoomTransform(this._levels[k],p,w)},_setZoomTransform:function(p,w,k){var R=this._map.getZoomScale(k,p.zoom),q=p.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(w,k)).round();Ct.any3d?Ps(p.el,q,R):_n(p.el,q)},_resetGrid:function(){var p=this._map,w=p.options.crs,k=this._tileSize=this.getTileSize(),R=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,w.wrapLng[0]],R).x/k.x),Math.ceil(p.project([0,w.wrapLng[1]],R).x/k.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([w.wrapLat[0],0],R).y/k.x),Math.ceil(p.project([w.wrapLat[1],0],R).y/k.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var w=this._map,k=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),R=w.getZoomScale(k,this._tileZoom),q=w.project(p,this._tileZoom).floor(),ce=w.getSize().divideBy(R*2);return new Z(q.subtract(ce),q.add(ce))},_update:function(p){var w=this._map;if(w){var k=this._clampZoom(w.getZoom());if(p===void 0&&(p=w.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(p),q=this._pxBoundsToTileRange(R),ce=q.getCenter(),_e=[],Le=this.options.keepBuffer,Ue=new Z(q.getBottomLeft().subtract([Le,-Le]),q.getTopRight().add([Le,-Le]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Xe in this._tiles){var pt=this._tiles[Xe].coords;(pt.z!==this._tileZoom||!Ue.contains(new re(pt.x,pt.y)))&&(this._tiles[Xe].current=!1)}if(Math.abs(k-this._tileZoom)>1){this._setView(p,k);return}for(var It=q.min.y;It<=q.max.y;It++)for(var ir=q.min.x;ir<=q.max.x;ir++){var ci=new re(ir,It);if(ci.z=this._tileZoom,!!this._isValidTile(ci)){var Xn=this._tiles[this._tileCoordsToKey(ci)];Xn?Xn.current=!0:_e.push(ci)}}if(_e.sort(function(Zi,Ou){return Zi.distanceTo(ce)-Ou.distanceTo(ce)}),_e.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ps=document.createDocumentFragment();for(ir=0;ir<_e.length;ir++)this._addTile(_e[ir],ps);this._level.el.appendChild(ps)}}}},_isValidTile:function(p){var w=this._map.options.crs;if(!w.infinite){var k=this._globalTileRange;if(!w.wrapLng&&(p.x<k.min.x||p.x>k.max.x)||!w.wrapLat&&(p.y<k.min.y||p.y>k.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(p);return Me(this.options.bounds).overlaps(R)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var w=this._map,k=this.getTileSize(),R=p.scaleBy(k),q=R.add(k),ce=w.unproject(R,p.z),_e=w.unproject(q,p.z);return[ce,_e]},_tileCoordsToBounds:function(p){var w=this._tileCoordsToNwSe(p),k=new Se(w[0],w[1]);return this.options.noWrap||(k=this._map.wrapLatLngBounds(k)),k},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var w=p.split(":"),k=new re(+w[0],+w[1]);return k.z=+w[2],k},_removeTile:function(p){var w=this._tiles[p];w&&(Yr(w.el),delete this._tiles[p],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){Kt(p,"leaflet-tile");var w=this.getTileSize();p.style.width=w.x+"px",p.style.height=w.y+"px",p.onselectstart=f,p.onmousemove=f,Ct.ielt9&&this.options.opacity<1&&li(p,this.options.opacity)},_addTile:function(p,w){var k=this._getTilePos(p),R=this._tileCoordsToKey(p),q=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(q),this.createTile.length<2&&U(o(this._tileReady,this,p,null,q)),_n(q,k),this._tiles[R]={el:q,coords:p,current:!0},w.appendChild(q),this.fire("tileloadstart",{tile:q,coords:p})},_tileReady:function(p,w,k){w&&this.fire("tileerror",{error:w,tile:k,coords:p});var R=this._tileCoordsToKey(p);k=this._tiles[R],k&&(k.loaded=+new Date,this._map._fadeAnimated?(li(k.el,0),z(this._fadeFrame),this._fadeFrame=U(this._updateOpacity,this)):(k.active=!0,this._pruneTiles()),w||(Kt(k.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:k.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Ct.ielt9||!this._map._fadeAnimated?U(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var w=new re(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return w.z=p.z,w},_pxBoundsToTileRange:function(p){var w=this.getTileSize();return new Z(p.min.unscaleBy(w).floor(),p.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function Pu(p){return new ol(p)}var ll=ol.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,w){this._url=p,w=b(this,w),w.detectRetina&&Ct.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,w){return this._url===p&&w===void 0&&(w=!0),this._url=p,w||this.redraw(),this},createTile:function(p,w){var k=document.createElement("img");return zt(k,"load",o(this._tileOnLoad,this,w,k)),zt(k,"error",o(this._tileOnError,this,w,k)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(k.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(k.referrerPolicy=this.options.referrerPolicy),k.alt="",k.src=this.getTileUrl(p),k},getTileUrl:function(p){var w={r:Ct.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var k=this._globalTileRange.max.y-p.y;this.options.tms&&(w.y=k),w["-y"]=k}return N(this._url,i(w,this.options))},_tileOnLoad:function(p,w){Ct.ielt9?setTimeout(o(p,this,null,w),0):p(null,w)},_tileOnError:function(p,w,k){var R=this.options.errorTileUrl;R&&w.getAttribute("src")!==R&&(w.src=R),p(k,w)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,w=this.options.maxZoom,k=this.options.zoomReverse,R=this.options.zoomOffset;return k&&(p=w-p),p+R},_getSubdomain:function(p){var w=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var p,w;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(w=this._tiles[p].el,w.onload=f,w.onerror=f,!w.complete)){w.src=E;var k=this._tiles[p].coords;Yr(w),delete this._tiles[p],this.fire("tileabort",{tile:w,coords:k})}},_removeTile:function(p){var w=this._tiles[p];if(w)return w.el.setAttribute("src",E),ol.prototype._removeTile.call(this,p)},_tileReady:function(p,w,k){if(!(!this._map||k&&k.getAttribute("src")===E))return ol.prototype._tileReady.call(this,p,w,k)}});function _g(p,w){return new ll(p,w)}var rf=ll.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,w){this._url=p;var k=i({},this.defaultWmsParams);for(var R in w)R in this.options||(k[R]=w[R]);w=b(this,w);var q=w.detectRetina&&Ct.retina?2:1,ce=this.getTileSize();k.width=ce.x*q,k.height=ce.y*q,this.wmsParams=k},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,ll.prototype.onAdd.call(this,p)},getTileUrl:function(p){var w=this._tileCoordsToNwSe(p),k=this._crs,R=de(k.project(w[0]),k.project(w[1])),q=R.min,ce=R.max,_e=(this._wmsVersion>=1.3&&this._crs===Jx?[q.y,q.x,ce.y,ce.x]:[q.x,q.y,ce.x,ce.y]).join(","),Le=ll.prototype.getTileUrl.call(this,p);return Le+_(this.wmsParams,Le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+_e},setParams:function(p,w){return i(this.wmsParams,p),w||this.redraw(),this}});function a0(p,w){return new rf(p,w)}ll.WMS=rf,_g.wms=a0;var Ra=ra.extend({options:{padding:.1},initialize:function(p){b(this,p),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Kt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,w){var k=this._map.getZoomScale(w,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,w),ce=R.multiplyBy(-k).add(q).subtract(this._map._getNewPixelOrigin(p,w));Ct.any3d?Ps(this._container,ce,k):_n(this._container,ce)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,w=this._map.getSize(),k=this._map.containerPointToLayerPoint(w.multiplyBy(-p)).round();this._bounds=new Z(k,k.add(w.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jg=Ra.extend({options:{tolerance:0},getEvents:function(){var p=Ra.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ra.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");zt(p,"mousemove",this._onMouseMove,this),zt(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),zt(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){z(this._redrawRequest),delete this._ctx,Yr(this._container),Dr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var w in this._layers)p=this._layers[w],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ra.prototype._update.call(this);var p=this._bounds,w=this._container,k=p.getSize(),R=Ct.retina?2:1;_n(w,p.min),w.width=R*k.x,w.height=R*k.y,w.style.width=k.x+"px",w.style.height=k.y+"px",Ct.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Ra.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[c(p)]=p;var w=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var w=p._order,k=w.next,R=w.prev;k?k.prev=R:this._drawLast=R,R?R.next=k:this._drawFirst=k,delete p._order,delete this._layers[c(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var w=p.options.dashArray.split(/[, ]+/),k=[],R,q;for(q=0;q<w.length;q++){if(R=Number(w[q]),isNaN(R))return;k.push(R)}p.options._dashArray=k}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||U(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var w=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(p._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(p._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var w=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,w=this._redrawBounds;if(this._ctx.save(),w){var k=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,k.x,k.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)p=R.layer,(!w||p._pxBounds&&p._pxBounds.intersects(w))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,w){if(this._drawing){var k,R,q,ce,_e=p._parts,Le=_e.length,Ue=this._ctx;if(Le){for(Ue.beginPath(),k=0;k<Le;k++){for(R=0,q=_e[k].length;R<q;R++)ce=_e[k][R],Ue[R?"lineTo":"moveTo"](ce.x,ce.y);w&&Ue.closePath()}this._fillStroke(Ue,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var w=p._point,k=this._ctx,R=Math.max(Math.round(p._radius),1),q=(Math.max(Math.round(p._radiusY),1)||R)/R;q!==1&&(k.save(),k.scale(1,q)),k.beginPath(),k.arc(w.x,w.y/q,R,0,Math.PI*2,!1),q!==1&&k.restore(),this._fillStroke(k,p)}},_fillStroke:function(p,w){var k=w.options;k.fill&&(p.globalAlpha=k.fillOpacity,p.fillStyle=k.fillColor||k.color,p.fill(k.fillRule||"evenodd")),k.stroke&&k.weight!==0&&(p.setLineDash&&p.setLineDash(w.options&&w.options._dashArray||[]),p.globalAlpha=k.opacity,p.lineWidth=k.weight,p.strokeStyle=k.color,p.lineCap=k.lineCap,p.lineJoin=k.lineJoin,p.stroke())},_onClick:function(p){for(var w=this._map.mouseEventToLayerPoint(p),k,R,q=this._drawFirst;q;q=q.next)k=q.layer,k.options.interactive&&k._containsPoint(w)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(k))&&(R=k);this._fireEvent(R?[R]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,w)}},_handleMouseOut:function(p){var w=this._hoveredLayer;w&&(Wr(this._container,"leaflet-interactive"),this._fireEvent([w],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,w){if(!this._mouseHoverThrottled){for(var k,R,q=this._drawFirst;q;q=q.next)k=q.layer,k.options.interactive&&k._containsPoint(w)&&(R=k);R!==this._hoveredLayer&&(this._handleMouseOut(p),R&&(Kt(this._container,"leaflet-interactive"),this._fireEvent([R],p,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,w,k){this._map._fireDOMEvent(w,k||w.type,p)},_bringToFront:function(p){var w=p._order;if(w){var k=w.next,R=w.prev;if(k)k.prev=R;else return;R?R.next=k:k&&(this._drawFirst=k),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(p)}},_bringToBack:function(p){var w=p._order;if(w){var k=w.next,R=w.prev;if(R)R.next=k;else return;k?k.prev=R:R&&(this._drawLast=R),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(p)}}});function Sg(p){return Ct.canvas?new jg(p):null}var ku=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),o0={_initContainer:function(){this._container=Vt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ra.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var w=p._container=ku("shape");Kt(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",p._path=ku("path"),w.appendChild(p._path),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){var w=p._container;this._container.appendChild(w),p.options.interactive&&p.addInteractiveTarget(w)},_removePath:function(p){var w=p._container;Yr(w),p.removeInteractiveTarget(w),delete this._layers[c(p)]},_updateStyle:function(p){var w=p._stroke,k=p._fill,R=p.options,q=p._container;q.stroked=!!R.stroke,q.filled=!!R.fill,R.stroke?(w||(w=p._stroke=ku("stroke")),q.appendChild(w),w.weight=R.weight+"px",w.color=R.color,w.opacity=R.opacity,R.dashArray?w.dashStyle=C(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=R.lineCap.replace("butt","flat"),w.joinstyle=R.lineJoin):w&&(q.removeChild(w),p._stroke=null),R.fill?(k||(k=p._fill=ku("fill")),q.appendChild(k),k.color=R.fillColor||R.color,k.opacity=R.fillOpacity):k&&(q.removeChild(k),p._fill=null)},_updateCircle:function(p){var w=p._point.round(),k=Math.round(p._radius),R=Math.round(p._radiusY||k);this._setPath(p,p._empty()?"M0 0":"AL "+w.x+","+w.y+" "+k+","+R+" 0,"+65535*360)},_setPath:function(p,w){p._path.v=w},_bringToFront:function(p){Jo(p._container)},_bringToBack:function(p){Js(p._container)}},ia=Ct.vml?ku:Qe,cc=Ra.extend({_initContainer:function(){this._container=ia("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ia("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Yr(this._container),Dr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ra.prototype._update.call(this);var p=this._bounds,w=p.getSize(),k=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,k.setAttribute("width",w.x),k.setAttribute("height",w.y)),_n(k,p.min),k.setAttribute("viewBox",[p.min.x,p.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(p){var w=p._path=ia("path");p.options.className&&Kt(w,p.options.className),p.options.interactive&&Kt(w,"leaflet-interactive"),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){Yr(p._path),p.removeInteractiveTarget(p._path),delete this._layers[c(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var w=p._path,k=p.options;w&&(k.stroke?(w.setAttribute("stroke",k.color),w.setAttribute("stroke-opacity",k.opacity),w.setAttribute("stroke-width",k.weight),w.setAttribute("stroke-linecap",k.lineCap),w.setAttribute("stroke-linejoin",k.lineJoin),k.dashArray?w.setAttribute("stroke-dasharray",k.dashArray):w.removeAttribute("stroke-dasharray"),k.dashOffset?w.setAttribute("stroke-dashoffset",k.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),k.fill?(w.setAttribute("fill",k.fillColor||k.color),w.setAttribute("fill-opacity",k.fillOpacity),w.setAttribute("fill-rule",k.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(p,w){this._setPath(p,Ze(p._parts,w))},_updateCircle:function(p){var w=p._point,k=Math.max(Math.round(p._radius),1),R=Math.max(Math.round(p._radiusY),1)||k,q="a"+k+","+R+" 0 1,0 ",ce=p._empty()?"M0 0":"M"+(w.x-k)+","+w.y+q+k*2+",0 "+q+-k*2+",0 ";this._setPath(p,ce)},_setPath:function(p,w){p._path.setAttribute("d",w)},_bringToFront:function(p){Jo(p._path)},_bringToBack:function(p){Js(p._path)}});Ct.vml&&cc.include(o0);function Fh(p){return Ct.svg||Ct.vml?new cc(p):null}or.include({getRenderer:function(p){var w=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var w=this._paneRenderers[p];return w===void 0&&(w=this._createRenderer({pane:p}),this._paneRenderers[p]=w),w},_createRenderer:function(p){return this.options.preferCanvas&&Sg(p)||Fh(p)}});var l0=go.extend({initialize:function(p,w){go.prototype.initialize.call(this,this._boundsToLatLngs(p),w)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=Me(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function Zj(p,w){return new l0(p,w)}cc.create=ia,cc.pointsToPath=Ze,Ta.geometryToLayer=Su,Ta.coordsToLatLng=Rh,Ta.coordsToLatLngs=ef,Ta.latLngToCoords=Mh,Ta.latLngsToCoords=Ih,Ta.getFeature=Nu,Ta.asFeature=Dh,or.mergeOptions({boxZoom:!0});var Au=st.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){zt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Dr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Yr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),vr(),Jl(),this._startPoint=this._map.mouseEventToContainerPoint(p),zt(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=Vt("div","leaflet-zoom-box",this._container),Kt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var w=new Z(this._point,this._startPoint),k=w.getSize();_n(this._box,w.min),this._box.style.width=k.x+"px",this._box.style.height=k.y+"px"},_finish:function(){this._moved&&(Yr(this._box),Wr(this._container,"leaflet-crosshair")),tl(),yu(),Dr(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new Se(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});or.addInitHook("addHandler","boxZoom",Au),or.mergeOptions({doubleClickZoom:!0});var c0=st.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var w=this._map,k=w.getZoom(),R=w.options.zoomDelta,q=p.originalEvent.shiftKey?k-R:k+R;w.options.doubleClickZoom==="center"?w.setZoom(q):w.setZoomAround(p.containerPoint,q)}});or.addInitHook("addHandler","doubleClickZoom",c0),or.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Ng=st.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new lr(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}Kt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Wr(this._map._container,"leaflet-grab"),Wr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=Me(this._map.options.maxBounds);this._offsetLimit=de(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var w=this._lastTime=+new Date,k=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(k),this._times.push(w),this._prunePositions(w)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,w){return p-(p-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;p.x<w.min.x&&(p.x=this._viscousLimit(p.x,w.min.x)),p.y<w.min.y&&(p.y=this._viscousLimit(p.y,w.min.y)),p.x>w.max.x&&(p.x=this._viscousLimit(p.x,w.max.x)),p.y>w.max.y&&(p.y=this._viscousLimit(p.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,w=Math.round(p/2),k=this._initialWorldOffset,R=this._draggable._newPos.x,q=(R-w+k)%p+w-k,ce=(R+w+k)%p-w-k,_e=Math.abs(q+k)<Math.abs(ce+k)?q:ce;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=_e},_onDragEnd:function(p){var w=this._map,k=w.options,R=!k.inertia||p.noInertia||this._times.length<2;if(w.fire("dragend",p),R)w.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),ce=(this._lastTime-this._times[0])/1e3,_e=k.easeLinearity,Le=q.multiplyBy(_e/ce),Ue=Le.distanceTo([0,0]),Xe=Math.min(k.inertiaMaxSpeed,Ue),pt=Le.multiplyBy(Xe/Ue),It=Xe/(k.inertiaDeceleration*_e),ir=pt.multiplyBy(-It/2).round();!ir.x&&!ir.y?w.fire("moveend"):(ir=w._limitOffset(ir,w.options.maxBounds),U(function(){w.panBy(ir,{duration:It,easeLinearity:_e,noMoveStart:!0,animate:!0})}))}}});or.addInitHook("addHandler","dragging",Ng),or.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Cg=st.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),zt(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Dr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,w=document.documentElement,k=p.scrollTop||w.scrollTop,R=p.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(R,k)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var w=this._panKeys={},k=this.keyCodes,R,q;for(R=0,q=k.left.length;R<q;R++)w[k.left[R]]=[-1*p,0];for(R=0,q=k.right.length;R<q;R++)w[k.right[R]]=[p,0];for(R=0,q=k.down.length;R<q;R++)w[k.down[R]]=[0,p];for(R=0,q=k.up.length;R<q;R++)w[k.up[R]]=[0,-1*p]},_setZoomDelta:function(p){var w=this._zoomKeys={},k=this.keyCodes,R,q;for(R=0,q=k.zoomIn.length;R<q;R++)w[k.zoomIn[R]]=p;for(R=0,q=k.zoomOut.length;R<q;R++)w[k.zoomOut[R]]=-p},_addHooks:function(){zt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Dr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var w=p.keyCode,k=this._map,R;if(w in this._panKeys){if(!k._panAnim||!k._panAnim._inProgress)if(R=this._panKeys[w],p.shiftKey&&(R=ie(R).multiplyBy(3)),k.options.maxBounds&&(R=k._limitOffset(ie(R),k.options.maxBounds)),k.options.worldCopyJump){var q=k.wrapLatLng(k.unproject(k.project(k.getCenter()).add(R)));k.panTo(q)}else k.panBy(R)}else if(w in this._zoomKeys)k.setZoom(k.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&k._popup&&k._popup.options.closeOnEscapeKey)k.closePopup();else return;ji(p)}}});or.addInitHook("addHandler","keyboard",Cg),or.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Jr=st.extend({addHooks:function(){zt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Dr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var w=bu(p),k=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var R=Math.max(k-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),R),ji(p)},_performZoom:function(){var p=this._map,w=p.getZoom(),k=this._map.options.zoomSnap||0;p._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,ce=k?Math.ceil(q/k)*k:q,_e=p._limitZoom(w+(this._delta>0?ce:-ce))-w;this._delta=0,this._startTime=null,_e&&(p.options.scrollWheelZoom==="center"?p.setZoom(w+_e):p.setZoomAround(this._lastMousePos,w+_e))}});or.addInitHook("addHandler","scrollWheelZoom",Jr);var Eg=600;or.mergeOptions({tapHold:Ct.touchNative&&Ct.safari&&Ct.mobile,tapTolerance:15});var nf=st.extend({addHooks:function(){zt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Dr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var w=p.touches[0];this._startPos=this._newPos=new re(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(zt(document,"touchend",pn),zt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),Eg),zt(document,"touchend touchcancel contextmenu",this._cancel,this),zt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){Dr(document,"touchend",pn),Dr(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),Dr(document,"touchend touchcancel contextmenu",this._cancel,this),Dr(document,"touchmove",this._onMove,this)},_onMove:function(p){var w=p.touches[0];this._newPos=new re(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,w){var k=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});k._simulated=!0,w.target.dispatchEvent(k)}});or.addInitHook("addHandler","tapHold",nf),or.mergeOptions({touchZoom:Ct.touch,bounceAtZoomLimits:!0});var Tu=st.extend({addHooks:function(){Kt(this._map._container,"leaflet-touch-zoom"),zt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Wr(this._map._container,"leaflet-touch-zoom"),Dr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var w=this._map;if(!(!p.touches||p.touches.length!==2||w._animatingZoom||this._zooming)){var k=w.mouseEventToContainerPoint(p.touches[0]),R=w.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(k.add(R)._divideBy(2))),this._startDist=k.distanceTo(R),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),zt(document,"touchmove",this._onTouchMove,this),zt(document,"touchend touchcancel",this._onTouchEnd,this),pn(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var w=this._map,k=w.mouseEventToContainerPoint(p.touches[0]),R=w.mouseEventToContainerPoint(p.touches[1]),q=k.distanceTo(R)/this._startDist;if(this._zoom=w.getScaleZoom(q,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&q<1||this._zoom>w.getMaxZoom()&&q>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var ce=k._add(R)._divideBy(2)._subtract(this._centerPoint);if(q===1&&ce.x===0&&ce.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ce),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),z(this._animRequest);var _e=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=U(_e,this,!0),pn(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,z(this._animRequest),Dr(document,"touchmove",this._onTouchMove,this),Dr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});or.addInitHook("addHandler","touchZoom",Tu),or.BoxZoom=Au,or.DoubleClickZoom=c0,or.Drag=Ng,or.Keyboard=Cg,or.ScrollWheelZoom=Jr,or.TapHold=nf,or.TouchZoom=Tu,r.Bounds=Z,r.Browser=Ct,r.CRS=ae,r.Canvas=jg,r.Circle=Th,r.CircleMarker=Ah,r.Class=X,r.Control=Si,r.DivIcon=$h,r.DivOverlay=Oa,r.DomEvent=wu,r.DomUtil=ec,r.Draggable=lr,r.Evented=W,r.FeatureGroup=po,r.GeoJSON=Ta,r.GridLayer=ol,r.Handler=st,r.Icon=lc,r.ImageOverlay=al,r.LatLng=qe,r.LatLngBounds=Se,r.Layer=ra,r.LayerGroup=il,r.LineUtil=Xx,r.Map=or,r.Marker=mo,r.Mixin=dt,r.Path=sl,r.Point=re,r.PolyUtil=Mt,r.Polygon=go,r.Polyline=hs,r.Popup=Lh,r.PosAnimation=_u,r.Projection=Uj,r.Rectangle=l0,r.Renderer=Ra,r.SVG=cc,r.SVGOverlay=bg,r.TileLayer=ll,r.Tooltip=Eu,r.Transformation=Q,r.Util=V,r.VideoOverlay=xg,r.bind=o,r.bounds=de,r.canvas=Sg,r.circle=Qd,r.circleMarker=t0,r.control=Lr,r.divIcon=s0,r.extend=i,r.featureGroup=Qx,r.geoJSON=r0,r.geoJson=na,r.gridLayer=Pu,r.icon=e0,r.imageOverlay=n0,r.latLng=oe,r.latLngBounds=Me,r.layerGroup=Jd,r.map=ka,r.marker=Hj,r.point=ie,r.polygon=Gj,r.polyline=Kj,r.popup=Cu,r.rectangle=Zj,r.setOptions=b,r.stamp=c,r.svg=Fh,r.svgOverlay=wg,r.tileLayer=_g,r.tooltip=tf,r.transformation=Y,r.version=n,r.videoOverlay=i0;var u0=window.L;r.noConflict=function(){return window.L=u0,this},window.L=r})}(Pv,Pv.exports)),Pv.exports}var jke=_ke();const ad=Er(jke);delete ad.Icon.Default.prototype._getIconUrl;ad.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const Ske=({center:t=[48.8566,2.3522],zoom:e=13,onLocationSelect:r,selectedLocation:n=null,height:i="400px",className:a=""})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,d]=x.useState(!1);x.useEffect(()=>{if(!o.current||l.current)return;const g=ad.map(o.current).setView(t,e);return l.current=g,ad.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(g),g.on("click",v=>{const{lat:y,lng:b}=v.latlng;c.current&&g.removeLayer(c.current),c.current=ad.marker([y,b],{icon:ad.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(g),r&&r({latitude:y,longitude:b,timestamp:new Date().toISOString(),source:"map"})}),g.whenReady(()=>{d(!0)}),()=>{l.current&&(l.current.remove(),l.current=null)}},[t,e,r]),x.useEffect(()=>{!l.current||!n||(c.current&&l.current.removeLayer(c.current),c.current=ad.marker([n.latitude,n.longitude],{icon:ad.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(l.current),l.current.setView([n.latitude,n.longitude],15))},[n]);const f=(g,v,y=15)=>{l.current&&l.current.setView([g,v],y)};return x.useEffect(()=>{window.centerMapOnLocation,window.centerMapOnLocation=f},[]),s.jsxs("div",{className:`relative ${a}`,children:[s.jsx("div",{ref:o,style:{height:i},className:"w-full rounded-lg overflow-hidden border"}),!u&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement de la carte..."})]})}),s.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-muted-foreground shadow-sm",children:"Cliquez sur la carte pour sélectionner un point"})]})};class Nke{constructor(){this.baseUrl="https://nominatim.openstreetmap.org",this.cache=new Map,this.cacheTimeout=5*60*1e3}async searchLocation(e,r={}){const{limit:n=5,countrycodes:i="",bounded:a=0,viewbox:o="",addressdetails:l=1}=r,c=`${e}_${n}_${i}`,u=this.getFromCache(c);if(u)return u;try{const d=new URLSearchParams({q:e,format:"json",limit:n.toString(),addressdetails:l.toString(),bounded:a.toString()});i&&d.append("countrycodes",i),o&&d.append("viewbox",o);const f=await fetch(`${this.baseUrl}/search?${d}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!f.ok)throw new Error(`Erreur HTTP: ${f.status}`);const v=(await f.json()).map(y=>({id:y.place_id,name:y.display_name,latitude:parseFloat(y.lat),longitude:parseFloat(y.lon),type:y.type,importance:y.importance,address:y.address,boundingbox:y.boundingbox}));return this.setCache(c,v),v}catch(d){throw console.error("Erreur géocodage:",d),new Error("Erreur lors de la recherche d'adresse. Veuillez réessayer.")}}async reverseGeocode(e,r,n={}){const{zoom:i=18,addressdetails:a=1,extratags:o=1}=n,l=`reverse_${e}_${r}_${i}`,c=this.getFromCache(l);if(c)return c;try{const u=new URLSearchParams({lat:e.toString(),lon:r.toString(),format:"json",zoom:i.toString(),addressdetails:a.toString(),extratags:o.toString()}),d=await fetch(`${this.baseUrl}/reverse?${u}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!d.ok)throw new Error(`Erreur HTTP: ${d.status}`);const f=await d.json(),g={id:f.place_id,name:f.display_name,latitude:parseFloat(f.lat),longitude:parseFloat(f.lon),type:f.type,address:f.address,boundingbox:f.boundingbox};return this.setCache(l,g),g}catch(u){throw console.error("Erreur géocodage inverse:",u),new Error("Erreur lors de la récupération de l'adresse. Veuillez réessayer.")}}async searchPopularPlaces(e,r={}){const{limit:n=10,countrycodes:i="fr,be,ch,ca"}=r;try{return(await this.searchLocation(e,{limit:n,countrycodes:i})).sort((o,l)=>l.importance-o.importance)}catch(a){return console.error("Erreur recherche lieux populaires:",a),[]}}validateCoordinates(e,r){const n=parseFloat(e),i=parseFloat(r);return!(isNaN(n)||isNaN(i)||n<-90||n>90||i<-180||i>180)}formatAddress(e){if(!e)return"";const r=[];return e.house_number&&r.push(e.house_number),e.road&&r.push(e.road),e.postcode&&r.push(e.postcode),(e.city||e.town||e.village)&&r.push(e.city||e.town||e.village),e.country&&r.push(e.country),r.join(", ")}getFromCache(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>this.cacheTimeout?(this.cache.delete(e),null):r.data:null}setCache(e,r){this.cache.set(e,{data:r,timestamp:Date.now()})}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const Nb=new Nke,Cke=({onLocationSelect:t,onClose:e,isOpen:r=!1,defaultLocation:n=null,showMap:i=!0})=>{x.useRef(null);const a=x.useRef(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[d,f]=x.useState(null),[g,v]=x.useState(n),[y,b]=x.useState(""),[_,j]=x.useState([]),[N,C]=x.useState(!1),[A,E]=x.useState(null),{toast:P}=Vr(),O=x.useCallback(async()=>{if(!navigator.geolocation){f("La géolocalisation n'est pas supportée par votre navigateur");return}l(!0),f(null);const V={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4};try{const X=await new Promise((re,G)=>{navigator.geolocation.getCurrentPosition(re,G,V)}),{latitude:te,longitude:le}=X.coords,W={latitude:te,longitude:le,accuracy:X.coords.accuracy,timestamp:new Date().toISOString(),source:"gps"};E(W),v(W),u(!0),P({title:"Position obtenue !",description:`Précision : ${Math.round(X.coords.accuracy)} mètres`,duration:3e3})}catch(X){console.error("Erreur géolocalisation:",X),X.code===1?f("Permission de géolocalisation refusée. Veuillez autoriser l'accès à votre position dans les paramètres de votre navigateur."):X.code===2?f("Impossible de déterminer votre position. Vérifiez que votre GPS est activé."):X.code===3?f("Délai d'attente dépassé. Vérifiez votre connexion internet."):f("Erreur lors de la géolocalisation. Veuillez réessayer."),u(!1)}finally{l(!1)}},[P]),I=x.useCallback(async V=>{if(!V.trim()){j([]);return}C(!0),f(null);try{const X=await Nb.searchLocation(V,{limit:8,countrycodes:"fr,be,ch,ca",addressdetails:1});j(X)}catch(X){console.error("Erreur recherche:",X),f(X.message||"Erreur lors de la recherche. Veuillez réessayer."),j([])}finally{C(!1)}},[]),F=x.useCallback(V=>{const X={latitude:V.latitude,longitude:V.longitude,name:V.name,timestamp:new Date().toISOString(),source:"search"};v(X),b(V.name),j([]),P({title:"Localisation sélectionnée !",description:V.name,duration:3e3})},[P]),H=x.useCallback(async(V,X)=>{try{const te=await Nb.reverseGeocode(V,X),le={latitude:V,longitude:X,name:te.name,address:Nb.formatAddress(te.address),timestamp:new Date().toISOString(),source:"map"};v(le),P({title:"Position sélectionnée !",description:te.name||`Lat: ${V.toFixed(6)}, Lng: ${X.toFixed(6)}`,duration:3e3})}catch{const le={latitude:V,longitude:X,timestamp:new Date().toISOString(),source:"map"};v(le),P({title:"Position sélectionnée !",description:`Lat: ${V.toFixed(6)}, Lng: ${X.toFixed(6)}`,duration:3e3})}},[P]),U=x.useCallback(()=>{g&&t&&(t(g),e())},[g,t,e]),z=x.useCallback(()=>{v(null),b(""),j([]),f(null),e()},[e]);return x.useEffect(()=>{const V=setTimeout(()=>{y.trim()&&I(y)},500);return()=>clearTimeout(V)},[y,I]),x.useEffect(()=>{r&&!n&&!A&&O()},[r,n,A,O]),c===!1?s.jsx(Bn,{children:r&&s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:s.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[s.jsx(wn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la localisation refusé"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:d||"Pour utiliser la géolocalisation, vous devez autoriser l'accès à votre position dans les paramètres de votre navigateur."}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(fe,{variant:"outline",onClick:z,children:"Fermer"}),s.jsx(fe,{onClick:O,children:"Réessayer"})]})]})})}):s.jsx(Bn,{children:r&&s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:s.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(Nl,{className:"h-5 w-5 mr-2"}),"Sélectionner une localisation"]}),s.jsx(fe,{variant:"ghost",size:"icon",onClick:z,className:"hover:bg-destructive hover:text-destructive-foreground",children:s.jsx(Gs,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(it,{ref:a,placeholder:"Rechercher une adresse, ville, lieu...",value:y,onChange:V=>b(V.target.value),className:"pl-10 pr-4"}),N&&s.jsx(nn,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),_.length>0&&s.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.map(V=>s.jsxs(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>F(V),children:[s.jsx(Nl,{className:"h-4 w-4 text-primary"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium text-sm",children:V.name}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[V.type," • ",Nb.formatAddress(V.address)]})]})]},V.id))}),i&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"font-medium",children:"Carte interactive"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(fe,{variant:"outline",size:"sm",onClick:O,disabled:o,className:"flex items-center",children:[s.jsx(qhe,{className:"h-4 w-4 mr-2"}),"Ma position"]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{g&&window.centerMapOnLocation&&window.centerMapOnLocation(g.latitude,g.longitude)},disabled:!g,className:"flex items-center",children:[s.jsx(zo,{className:"h-4 w-4 mr-2"}),"Centrer"]})]})]}),s.jsx(Ske,{center:A?[A.latitude,A.longitude]:[48.8566,2.3522],zoom:13,onLocationSelect:H,selectedLocation:g,height:"400px",className:"w-full"})]}),g&&s.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx(zn,{className:"h-5 w-5 text-primary mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-primary mb-2",children:"Localisation sélectionnée"}),s.jsxs("div",{className:"space-y-1 text-sm",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Latitude :"})," ",g.latitude.toFixed(6)]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Longitude :"})," ",g.longitude.toFixed(6)]}),g.name&&s.jsxs("p",{children:[s.jsx("strong",{children:"Nom :"})," ",g.name]}),g.address&&s.jsxs("p",{children:[s.jsx("strong",{children:"Adresse :"})," ",g.address]}),g.accuracy&&s.jsxs("p",{children:[s.jsx("strong",{children:"Précision :"})," ",Math.round(g.accuracy)," mètres"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Source :"})," ",g.source]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Heure :"})," ",new Date(g.timestamp).toLocaleTimeString()]})]})]})]})}),d&&s.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(wn,{className:"h-5 w-5 text-destructive mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),s.jsx("p",{className:"text-sm text-destructive",children:d})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:g?s.jsxs("span",{className:"flex items-center",children:[s.jsx(zn,{className:"h-4 w-4 mr-2 text-green-500"}),"Localisation prête à être envoyée"]}):"Aucune localisation sélectionnée"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(fe,{variant:"outline",onClick:z,children:"Annuler"}),s.jsxs(fe,{onClick:U,disabled:!g,className:"bg-primary hover:bg-primary/90",children:[s.jsx(Nl,{className:"h-4 w-4 mr-2"}),"Utiliser cette localisation"]})]})]})]})})})},Eke=({onAppointmentCreate:t,onClose:e,isOpen:r=!1,existingAppointments:n=[],availableSlots:i=[],timezone:a="Europe/Paris"})=>{const[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState(60),[g,v]=x.useState(""),[y,b]=x.useState(""),[_,j]=x.useState(""),[N,C]=x.useState(1),[A,E]=x.useState(!1),[P,O]=x.useState(null),{toast:I}=Vr(),F=x.useCallback(()=>{const V=[],X=new Date;for(let te=0;te<30;te++){const le=new Date(X);le.setDate(X.getDate()+te);const W=le.getDay();W!==0&&W!==6&&V.push({date:le.toISOString().split("T")[0],label:le.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),isToday:te===0})}return V},[]),H=x.useCallback(async()=>{if(!o||!c||!g.trim()){O("Veuillez remplir tous les champs obligatoires");return}E(!0),O(null);try{const V={id:Date.now().toString(),date:o,time:c,duration:d,title:g.trim(),description:y.trim(),location:_.trim(),timezone:a,createdAt:new Date().toISOString(),status:"confirmed"};await new Promise(X=>setTimeout(X,1e3)),t&&t(V),I({title:"Rendez-vous créé !",description:`Le rendez-vous "${g}" a été planifié avec succès.`,duration:5e3}),e()}catch{O("Erreur lors de la création du rendez-vous. Veuillez réessayer.")}finally{E(!1)}},[o,c,d,g,y,_,a,t,e,I]),U=x.useCallback(()=>{l(""),u(""),f(60),v(""),b(""),j(""),O(null),C(1),e()},[e]),z=F();return s.jsx(Bn,{children:r&&s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:s.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[s.jsx(zl,{className:"h-5 w-5 mr-2"}),"Planifier un rendez-vous"]}),s.jsx(fe,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-destructive hover:text-destructive-foreground",children:s.jsx(Gs,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"p-4 space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Sélectionnez une date et une heure"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),s.jsx("div",{className:"grid grid-cols-5 gap-2",children:z.map(V=>s.jsx(fe,{variant:o===V.date?"default":"outline",size:"sm",onClick:()=>l(V.date),className:`h-12 ${V.isToday?"ring-2 ring-primary":""}`,children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:V.label.split(" ")[0]}),s.jsx("div",{className:"font-medium",children:V.label.split(" ")[1]})]})},V.date))})]}),o&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Heure"}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(V=>s.jsx(fe,{variant:c===V?"default":"outline",size:"sm",onClick:()=>u(V),className:"h-10",children:V},V))})]}),o&&c&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Détails du rendez-vous"}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),s.jsx(it,{placeholder:"Titre du rendez-vous",value:g,onChange:V=>v(V.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),s.jsx(Rd,{placeholder:"Description du rendez-vous...",value:y,onChange:V=>b(V.target.value),rows:3})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lieu"}),s.jsx(it,{placeholder:"Adresse ou lieu",value:_,onChange:V=>j(V.target.value)})]})]}),P&&s.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(wn,{className:"h-5 w-5 text-destructive mt-0.5"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),s.jsx("p",{className:"text-sm text-destructive",children:P})]})]})})]}),s.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[s.jsx("div",{className:"text-sm text-muted-foreground",children:"Rendez-vous"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(fe,{variant:"outline",onClick:U,children:"Annuler"}),s.jsx(fe,{onClick:H,disabled:A||!o||!c||!g.trim(),className:"bg-primary hover:bg-primary/90",children:A?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Création..."]}):s.jsxs(s.Fragment,{children:[s.jsx(zn,{className:"h-4 w-4 mr-2"}),"Créer le rendez-vous"]})})]})]})]})})})},Dl=Object.create(null);Dl.open="0";Dl.close="1";Dl.ping="2";Dl.pong="3";Dl.message="4";Dl.upgrade="5";Dl.noop="6";const ow=Object.create(null);Object.keys(Dl).forEach(t=>{ow[Dl[t]]=t});const rO={type:"error",data:"parser error"},Uee=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",Vee=typeof ArrayBuffer=="function",Wee=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,KI=({type:t,data:e},r,n)=>Uee&&e instanceof Blob?r?n(e):S6(e,n):Vee&&(e instanceof ArrayBuffer||Wee(e))?r?n(e):S6(new Blob([e]),n):n(Dl[t]+(e||"")),S6=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function N6(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let BC;function Pke(t,e){if(Uee&&t.data instanceof Blob)return t.data.arrayBuffer().then(N6).then(e);if(Vee&&(t.data instanceof ArrayBuffer||Wee(t.data)))return e(N6(t.data));KI(t,!1,r=>{BC||(BC=new TextEncoder),e(BC.encode(r))})}const C6="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<C6.length;t++)kv[C6.charCodeAt(t)]=t;const kke=t=>{let e=t.length*.75,r=t.length,n,i=0,a,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(n=0;n<r;n+=4)a=kv[t.charCodeAt(n)],o=kv[t.charCodeAt(n+1)],l=kv[t.charCodeAt(n+2)],c=kv[t.charCodeAt(n+3)],d[i++]=a<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},Ake=typeof ArrayBuffer=="function",GI=(t,e)=>{if(typeof t!="string")return{type:"message",data:Hee(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:Tke(t.substring(1),e)}:ow[r]?t.length>1?{type:ow[r],data:t.substring(1)}:{type:ow[r]}:rO},Tke=(t,e)=>{if(Ake){const r=kke(t);return Hee(r,e)}else return{base64:!0,data:t}},Hee=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Kee="",Oke=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((a,o)=>{KI(a,!1,l=>{n[o]=l,++i===r&&e(n.join(Kee))})})},Rke=(t,e)=>{const r=t.split(Kee),n=[];for(let i=0;i<r.length;i++){const a=GI(r[i],e);if(n.push(a),a.type==="error")break}return n};function Mke(){return new TransformStream({transform(t,e){Pke(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const a=new DataView(i.buffer);a.setUint8(0,126),a.setUint16(1,n)}else{i=new Uint8Array(9);const a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let zC;function Cb(t){return t.reduce((e,r)=>e+r.length,0)}function Eb(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function Ike(t,e){zC||(zC=new TextDecoder);const r=[];let n=0,i=-1,a=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(Cb(r)<1)break;const c=Eb(r,1);a=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(Cb(r)<2)break;const c=Eb(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(Cb(r)<8)break;const c=Eb(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(rO);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(Cb(r)<i)break;const c=Eb(r,i);l.enqueue(GI(a?c:zC.decode(c),e)),n=0}if(i===0||i>t){l.enqueue(rO);break}}}})}const Gee=4;function si(t){if(t)return Dke(t)}function Dke(t){for(var e in si.prototype)t[e]=si.prototype[e];return t}si.prototype.on=si.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};si.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};si.prototype.off=si.prototype.removeListener=si.prototype.removeAllListeners=si.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};si.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};si.prototype.emitReserved=si.prototype.emit;si.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};si.prototype.hasListeners=function(t){return!!this.listeners(t).length};const lj=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Ga=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),Lke="arraybuffer";function Zee(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const $ke=Ga.setTimeout,Fke=Ga.clearTimeout;function cj(t,e){e.useNativeTimers?(t.setTimeoutFn=$ke.bind(Ga),t.clearTimeoutFn=Fke.bind(Ga)):(t.setTimeoutFn=Ga.setTimeout.bind(Ga),t.clearTimeoutFn=Ga.clearTimeout.bind(Ga))}const Bke=1.33;function zke(t){return typeof t=="string"?qke(t):Math.ceil((t.byteLength||t.size)*Bke)}function qke(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Yee(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Uke(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function Vke(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let a=r[n].split("=");e[decodeURIComponent(a[0])]=decodeURIComponent(a[1])}return e}class Wke extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class ZI extends si{constructor(e){super(),this.writable=!1,cj(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new Wke(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=GI(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Uke(e);return r.length?"?"+r:""}}class Hke extends ZI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};Rke(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,Oke(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Yee()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let Xee=!1;try{Xee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Kke=Xee;function Gke(){}class Zke extends Hke{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,a)=>{this.onError("xhr post error",i,a)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let Wp=class lw extends si{constructor(e,r,n){super(),this.createRequest=e,cj(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=Zee(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=lw.requestsCount++,lw.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Gke,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete lw.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Wp.requestsCount=0;Wp.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",E6);else if(typeof addEventListener=="function"){const t="onpagehide"in Ga?"pagehide":"unload";addEventListener(t,E6,!1)}}function E6(){for(let t in Wp.requests)Wp.requests.hasOwnProperty(t)&&Wp.requests[t].abort()}const Yke=function(){const t=Jee({xdomain:!1});return t&&t.responseType!==null}();class Xke extends Zke{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=Yke&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Wp(Jee,this.uri(),e)}}function Jee(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Kke))return new XMLHttpRequest}catch{}if(!e)try{return new Ga[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const Qee=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Jke extends ZI{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=Qee?{}:Zee(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;KI(n,this.supportsBinary,a=>{try{this.doWrite(n,a)}catch{}i&&lj(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Yee()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const qC=Ga.WebSocket||Ga.MozWebSocket;class Qke extends Jke{createSocket(e,r,n){return Qee?new qC(e,r,n):r?new qC(e,r):new qC(e)}doWrite(e,r){this.ws.send(r)}}class eAe extends ZI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=Ike(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=Mke();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const a=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),a())}).catch(l=>{})};a();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&lj(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const tAe={websocket:Qke,webtransport:eAe,polling:Xke},rAe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,nAe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function nO(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=rAe.exec(t||""),a={},o=14;for(;o--;)a[nAe[o]]=i[o]||"";return r!=-1&&n!=-1&&(a.source=e,a.host=a.host.substring(1,a.host.length-1).replace(/;/g,":"),a.authority=a.authority.replace("[","").replace("]","").replace(/;/g,":"),a.ipv6uri=!0),a.pathNames=iAe(a,a.path),a.queryKey=sAe(a,a.query),a}function iAe(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function sAe(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,a){i&&(r[i]=a)}),r}const iO=typeof addEventListener=="function"&&typeof removeEventListener=="function",cw=[];iO&&addEventListener("offline",()=>{cw.forEach(t=>t())},!1);class jd extends si{constructor(e,r){if(super(),this.binaryType=Lke,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=nO(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=nO(r.host).host);cj(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Vke(this.opts.query)),iO&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},cw.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Gee,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&jd.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",jd.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=zke(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,lj(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const a={type:e,data:r,options:n};this.emitReserved("packetCreate",a),this.writeBuffer.push(a),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(jd.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),iO&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=cw.indexOf(this._offlineEventListener);n!==-1&&cw.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}jd.protocol=Gee;class aAe extends jd{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;jd.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;jd.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function a(){n||(n=!0,d(),r.close(),r=null)}const o=f=>{const g=new Error("probe error: "+f);g.transport=r.name,a(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function u(f){r&&f.name!==r.name&&a()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let oAe=class extends aAe{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>tAe[i]).filter(i=>!!i)),super(e,n)}};function lAe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=nO(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const a=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+a+":"+n.port+e,n.href=n.protocol+"://"+a+(r&&r.port===n.port?"":":"+n.port),n}const cAe=typeof ArrayBuffer=="function",uAe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,ete=Object.prototype.toString,dAe=typeof Blob=="function"||typeof Blob<"u"&&ete.call(Blob)==="[object BlobConstructor]",fAe=typeof File=="function"||typeof File<"u"&&ete.call(File)==="[object FileConstructor]";function YI(t){return cAe&&(t instanceof ArrayBuffer||uAe(t))||dAe&&t instanceof Blob||fAe&&t instanceof File}function uw(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(uw(t[r]))return!0;return!1}if(YI(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return uw(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&uw(t[r]))return!0;return!1}function hAe(t){const e=[],r=t.data,n=t;return n.data=sO(r,e),n.attachments=e.length,{packet:n,buffers:e}}function sO(t,e){if(!t)return t;if(YI(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=sO(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=sO(t[n],e));return r}return t}function pAe(t,e){return t.data=aO(t.data,e),delete t.attachments,t}function aO(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=aO(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=aO(t[r],e));return t}const mAe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],gAe=5;var br;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(br||(br={}));class vAe{constructor(e){this.replacer=e}encode(e){return(e.type===br.EVENT||e.type===br.ACK)&&uw(e)?this.encodeAsBinary({type:e.type===br.EVENT?br.BINARY_EVENT:br.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===br.BINARY_EVENT||e.type===br.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=hAe(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function P6(t){return Object.prototype.toString.call(t)==="[object Object]"}class XI extends si{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===br.BINARY_EVENT;n||r.type===br.BINARY_ACK?(r.type=n?br.EVENT:br.ACK,this.reconstructor=new yAe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(YI(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(br[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===br.BINARY_EVENT||n.type===br.BINARY_ACK){const a=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(a,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const a=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(a,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const a=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(a,r+1))}if(e.charAt(++r)){const a=this.tryParse(e.substr(r));if(XI.isPayloadValid(n.type,a))n.data=a;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case br.CONNECT:return P6(r);case br.DISCONNECT:return r===void 0;case br.CONNECT_ERROR:return typeof r=="string"||P6(r);case br.EVENT:case br.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&mAe.indexOf(r[0])===-1);case br.ACK:case br.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yAe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=pAe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const xAe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:XI,Encoder:vAe,get PacketType(){return br},protocol:gAe},Symbol.toStringTag,{value:"Module"}));function Po(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const bAe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class tte extends si{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Po(e,"open",this.onopen.bind(this)),Po(e,"packet",this.onpacket.bind(this)),Po(e,"error",this.onerror.bind(this)),Po(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,a;if(bAe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:br.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((a=this.io.engine)===null||a===void 0)&&a._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const a=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(a),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const a=(o,l)=>o?i(o):n(l);a.withError=!0,r.push(a),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...a)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...a)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:br.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case br.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case br.EVENT:case br.BINARY_EVENT:this.onevent(e);break;case br.ACK:case br.BINARY_ACK:this.onack(e);break;case br.DISCONNECT:this.ondisconnect();break;case br.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:br.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:br.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function ng(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}ng.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};ng.prototype.reset=function(){this.attempts=0};ng.prototype.setMin=function(t){this.ms=t};ng.prototype.setMax=function(t){this.max=t};ng.prototype.setJitter=function(t){this.jitter=t};class oO extends si{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,cj(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new ng({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||xAe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new oAe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Po(r,"open",function(){n.onopen(),e&&e()}),a=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Po(r,"error",a);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),a(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Po(e,"ping",this.onping.bind(this)),Po(e,"data",this.ondata.bind(this)),Po(e,"error",this.onerror.bind(this)),Po(e,"close",this.onclose.bind(this)),Po(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){lj(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new tte(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const av={};function dw(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=lAe(t,e.path||"/socket.io"),n=r.source,i=r.id,a=r.path,o=av[i]&&a in av[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new oO(n,e):(av[i]||(av[i]=new oO(n,e)),c=av[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(dw,{Manager:oO,Socket:tte,io:dw,connect:dw});var Pb={exports:{}},UC,k6;function wAe(){if(k6)return UC;k6=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,a=n*365.25;UC=function(d,f){f=f||{};var g=typeof d;if(g==="string"&&d.length>0)return o(d);if(g==="number"&&isFinite(d))return f.long?c(d):l(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var g=parseFloat(f[1]),v=(f[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*a;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(d){var f=Math.abs(d);return f>=n?Math.round(d/n)+"d":f>=r?Math.round(d/r)+"h":f>=e?Math.round(d/e)+"m":f>=t?Math.round(d/t)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=n?u(d,f,n,"day"):f>=r?u(d,f,r,"hour"):f>=e?u(d,f,e,"minute"):f>=t?u(d,f,t,"second"):d+" ms"}function u(d,f,g,v){var y=f>=g*1.5;return Math.round(d/g)+" "+v+(y?"s":"")}return UC}var VC,A6;function _Ae(){if(A6)return VC;A6=1;function t(e){n.debug=n,n.default=n,n.coerce=u,n.disable=l,n.enable=a,n.enabled=c,n.humanize=wAe(),n.destroy=d,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let g=0;for(let v=0;v<f.length;v++)g=(g<<5)-g+f.charCodeAt(v),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=r;function n(f){let g,v=null,y,b;function _(...j){if(!_.enabled)return;const N=_,C=Number(new Date),A=C-(g||C);N.diff=A,N.prev=g,N.curr=C,g=C,j[0]=n.coerce(j[0]),typeof j[0]!="string"&&j.unshift("%O");let E=0;j[0]=j[0].replace(/%([a-zA-Z%])/g,(O,I)=>{if(O==="%%")return"%";E++;const F=n.formatters[I];if(typeof F=="function"){const H=j[E];O=F.call(N,H),j.splice(E,1),E--}return O}),n.formatArgs.call(N,j),(N.log||n.log).apply(N,j)}return _.namespace=f,_.useColors=n.useColors(),_.color=n.selectColor(f),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(y!==n.namespaces&&(y=n.namespaces,b=n.enabled(f)),b),set:j=>{v=j}}),typeof n.init=="function"&&n.init(_),_}function i(f,g){const v=n(this.namespace+(typeof g>"u"?":":g)+f);return v.log=this.log,v}function a(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];const g=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of g)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(f,g){let v=0,y=0,b=-1,_=0;for(;v<f.length;)if(y<g.length&&(g[y]===f[v]||g[y]==="*"))g[y]==="*"?(b=y,_=v,y++):(v++,y++);else if(b!==-1)y=b+1,_++,v=_;else return!1;for(;y<g.length&&g[y]==="*";)y++;return y===g.length}function l(){const f=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),f}function c(f){for(const g of n.skips)if(o(f,g))return!1;for(const g of n.names)if(o(f,g))return!0;return!1}function u(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return VC=t,VC}var T6;function jAe(){return T6||(T6=1,function(t,e){var r={};e.formatArgs=i,e.save=a,e.load=o,e.useColors=n,e.storage=l(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let f=0,g=0;u[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(f++,v==="%c"&&(g=f))}),u.splice(g,0,d)}e.log=console.debug||console.log||(()=>{});function a(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function o(){let u;try{u=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function l(){try{return localStorage}catch{}}t.exports=_Ae()(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}(Pb,Pb.exports)),Pb.exports}var WC,O6;function SAe(){return O6||(O6=1,WC=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}),WC}var kb={exports:{}},Ab={exports:{}},HC={},ov={},R6;function NAe(){if(R6)return ov;R6=1,ov.byteLength=l,ov.toByteArray=u,ov.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,a=n.length;i<a;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(v){var y=v.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=v.indexOf("=");b===-1&&(b=y);var _=b===y?0:4-b%4;return[b,_]}function l(v){var y=o(v),b=y[0],_=y[1];return(b+_)*3/4-_}function c(v,y,b){return(y+b)*3/4-b}function u(v){var y,b=o(v),_=b[0],j=b[1],N=new r(c(v,_,j)),C=0,A=j>0?_-4:_,E;for(E=0;E<A;E+=4)y=e[v.charCodeAt(E)]<<18|e[v.charCodeAt(E+1)]<<12|e[v.charCodeAt(E+2)]<<6|e[v.charCodeAt(E+3)],N[C++]=y>>16&255,N[C++]=y>>8&255,N[C++]=y&255;return j===2&&(y=e[v.charCodeAt(E)]<<2|e[v.charCodeAt(E+1)]>>4,N[C++]=y&255),j===1&&(y=e[v.charCodeAt(E)]<<10|e[v.charCodeAt(E+1)]<<4|e[v.charCodeAt(E+2)]>>2,N[C++]=y>>8&255,N[C++]=y&255),N}function d(v){return t[v>>18&63]+t[v>>12&63]+t[v>>6&63]+t[v&63]}function f(v,y,b){for(var _,j=[],N=y;N<b;N+=3)_=(v[N]<<16&16711680)+(v[N+1]<<8&65280)+(v[N+2]&255),j.push(d(_));return j.join("")}function g(v){for(var y,b=v.length,_=b%3,j=[],N=16383,C=0,A=b-_;C<A;C+=N)j.push(f(v,C,C+N>A?A:C+N));return _===1?(y=v[b-1],j.push(t[y>>2]+t[y<<4&63]+"==")):_===2&&(y=(v[b-2]<<8)+v[b-1],j.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),j.join("")}return ov}var Tb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var M6;function CAe(){return M6||(M6=1,Tb.read=function(t,e,r,n,i){var a,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,d=-7,f=r?i-1:0,g=r?-1:1,v=t[e+f];for(f+=g,a=v&(1<<-d)-1,v>>=-d,d+=l;d>0;a=a*256+t[e+f],f+=g,d-=8);for(o=a&(1<<-d)-1,a>>=-d,d+=n;d>0;o=o*256+t[e+f],f+=g,d-=8);if(a===0)a=1-u;else{if(a===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),a=a-u}return(v?-1:1)*o*Math.pow(2,a-n)},Tb.write=function(t,e,r,n,i,a){var o,l,c,u=a*8-i-1,d=(1<<u)-1,f=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:a-1,y=n?1:-1,b=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=g/c:e+=g*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=d?(l=0,o=d):o+f>=1?(l=(e*c-1)*Math.pow(2,i),o=o+f):(l=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+v]=l&255,v+=y,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;t[r+v]=o&255,v+=y,o/=256,u-=8);t[r+v-y]|=b*128}),Tb}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var I6;function Lx(){return I6||(I6=1,function(t){const e=NAe(),r=CAe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const J=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(J,D),J.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(J){if(J>i)throw new RangeError('The value "'+J+'" is invalid for option "size"');const D=new Uint8Array(J);return Object.setPrototypeOf(D,l.prototype),D}function l(J,D,B){if(typeof J=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(J)}return c(J,D,B)}l.poolSize=8192;function c(J,D,B){if(typeof J=="string")return g(J,D);if(ArrayBuffer.isView(J))return y(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(Fe(J,ArrayBuffer)||J&&Fe(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(J,SharedArrayBuffer)||J&&Fe(J.buffer,SharedArrayBuffer)))return b(J,D,B);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const me=J.valueOf&&J.valueOf();if(me!=null&&me!==J)return l.from(me,D,B);const Ne=_(J);if(Ne)return Ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return l.from(J[Symbol.toPrimitive]("string"),D,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}l.from=function(J,D,B){return c(J,D,B)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function d(J,D,B){return u(J),J<=0?o(J):D!==void 0?typeof B=="string"?o(J).fill(D,B):o(J).fill(D):o(J)}l.alloc=function(J,D,B){return d(J,D,B)};function f(J){return u(J),o(J<0?0:j(J)|0)}l.allocUnsafe=function(J){return f(J)},l.allocUnsafeSlow=function(J){return f(J)};function g(J,D){if((typeof D!="string"||D==="")&&(D="utf8"),!l.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const B=C(J,D)|0;let me=o(B);const Ne=me.write(J,D);return Ne!==B&&(me=me.slice(0,Ne)),me}function v(J){const D=J.length<0?0:j(J.length)|0,B=o(D);for(let me=0;me<D;me+=1)B[me]=J[me]&255;return B}function y(J){if(Fe(J,Uint8Array)){const D=new Uint8Array(J);return b(D.buffer,D.byteOffset,D.byteLength)}return v(J)}function b(J,D,B){if(D<0||J.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<D+(B||0))throw new RangeError('"length" is outside of buffer bounds');let me;return D===void 0&&B===void 0?me=new Uint8Array(J):B===void 0?me=new Uint8Array(J,D):me=new Uint8Array(J,D,B),Object.setPrototypeOf(me,l.prototype),me}function _(J){if(l.isBuffer(J)){const D=j(J.length)|0,B=o(D);return B.length===0||J.copy(B,0,0,D),B}if(J.length!==void 0)return typeof J.length!="number"||et(J.length)?o(0):v(J);if(J.type==="Buffer"&&Array.isArray(J.data))return v(J.data)}function j(J){if(J>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return J|0}function N(J){return+J!=J&&(J=0),l.alloc(+J)}l.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==l.prototype},l.compare=function(D,B){if(Fe(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),Fe(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),!l.isBuffer(D)||!l.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===B)return 0;let me=D.length,Ne=B.length;for(let ze=0,We=Math.min(me,Ne);ze<We;++ze)if(D[ze]!==B[ze]){me=D[ze],Ne=B[ze];break}return me<Ne?-1:Ne<me?1:0},l.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(D,B){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return l.alloc(0);let me;if(B===void 0)for(B=0,me=0;me<D.length;++me)B+=D[me].length;const Ne=l.allocUnsafe(B);let ze=0;for(me=0;me<D.length;++me){let We=D[me];if(Fe(We,Uint8Array))ze+We.length>Ne.length?(l.isBuffer(We)||(We=l.from(We)),We.copy(Ne,ze)):Uint8Array.prototype.set.call(Ne,We,ze);else if(l.isBuffer(We))We.copy(Ne,ze);else throw new TypeError('"list" argument must be an Array of Buffers');ze+=We.length}return Ne};function C(J,D){if(l.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||Fe(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);const B=J.length,me=arguments.length>2&&arguments[2]===!0;if(!me&&B===0)return 0;let Ne=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return Oe(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return ye(J).length;default:if(Ne)return me?-1:Oe(J).length;D=(""+D).toLowerCase(),Ne=!0}}l.byteLength=C;function A(J,D,B){let me=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,D>>>=0,B<=D))return"";for(J||(J="utf8");;)switch(J){case"hex":return G(this,D,B);case"utf8":case"utf-8":return X(this,D,B);case"ascii":return W(this,D,B);case"latin1":case"binary":return re(this,D,B);case"base64":return V(this,D,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ie(this,D,B);default:if(me)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),me=!0}}l.prototype._isBuffer=!0;function E(J,D,B){const me=J[D];J[D]=J[B],J[B]=me}l.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<D;B+=2)E(this,B,B+1);return this},l.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<D;B+=4)E(this,B,B+3),E(this,B+1,B+2);return this},l.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<D;B+=8)E(this,B,B+7),E(this,B+1,B+6),E(this,B+2,B+5),E(this,B+3,B+4);return this},l.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?X(this,0,D):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(D){if(!l.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:l.compare(this,D)===0},l.prototype.inspect=function(){let D="";const B=t.INSPECT_MAX_BYTES;return D=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(D+=" ... "),"<Buffer "+D+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(D,B,me,Ne,ze){if(Fe(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(B===void 0&&(B=0),me===void 0&&(me=D?D.length:0),Ne===void 0&&(Ne=0),ze===void 0&&(ze=this.length),B<0||me>D.length||Ne<0||ze>this.length)throw new RangeError("out of range index");if(Ne>=ze&&B>=me)return 0;if(Ne>=ze)return-1;if(B>=me)return 1;if(B>>>=0,me>>>=0,Ne>>>=0,ze>>>=0,this===D)return 0;let We=ze-Ne,Rt=me-B;const gr=Math.min(We,Rt),rr=this.slice(Ne,ze),ur=D.slice(B,me);for(let ar=0;ar<gr;++ar)if(rr[ar]!==ur[ar]){We=rr[ar],Rt=ur[ar];break}return We<Rt?-1:Rt<We?1:0};function P(J,D,B,me,Ne){if(J.length===0)return-1;if(typeof B=="string"?(me=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,et(B)&&(B=Ne?0:J.length-1),B<0&&(B=J.length+B),B>=J.length){if(Ne)return-1;B=J.length-1}else if(B<0)if(Ne)B=0;else return-1;if(typeof D=="string"&&(D=l.from(D,me)),l.isBuffer(D))return D.length===0?-1:O(J,D,B,me,Ne);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?Ne?Uint8Array.prototype.indexOf.call(J,D,B):Uint8Array.prototype.lastIndexOf.call(J,D,B):O(J,[D],B,me,Ne);throw new TypeError("val must be string, number or Buffer")}function O(J,D,B,me,Ne){let ze=1,We=J.length,Rt=D.length;if(me!==void 0&&(me=String(me).toLowerCase(),me==="ucs2"||me==="ucs-2"||me==="utf16le"||me==="utf-16le")){if(J.length<2||D.length<2)return-1;ze=2,We/=2,Rt/=2,B/=2}function gr(ur,ar){return ze===1?ur[ar]:ur.readUInt16BE(ar*ze)}let rr;if(Ne){let ur=-1;for(rr=B;rr<We;rr++)if(gr(J,rr)===gr(D,ur===-1?0:rr-ur)){if(ur===-1&&(ur=rr),rr-ur+1===Rt)return ur*ze}else ur!==-1&&(rr-=rr-ur),ur=-1}else for(B+Rt>We&&(B=We-Rt),rr=B;rr>=0;rr--){let ur=!0;for(let ar=0;ar<Rt;ar++)if(gr(J,rr+ar)!==gr(D,ar)){ur=!1;break}if(ur)return rr}return-1}l.prototype.includes=function(D,B,me){return this.indexOf(D,B,me)!==-1},l.prototype.indexOf=function(D,B,me){return P(this,D,B,me,!0)},l.prototype.lastIndexOf=function(D,B,me){return P(this,D,B,me,!1)};function I(J,D,B,me){B=Number(B)||0;const Ne=J.length-B;me?(me=Number(me),me>Ne&&(me=Ne)):me=Ne;const ze=D.length;me>ze/2&&(me=ze/2);let We;for(We=0;We<me;++We){const Rt=parseInt(D.substr(We*2,2),16);if(et(Rt))return We;J[B+We]=Rt}return We}function F(J,D,B,me){return Pe(Oe(D,J.length-B),J,B,me)}function H(J,D,B,me){return Pe(ht(D),J,B,me)}function U(J,D,B,me){return Pe(ye(D),J,B,me)}function z(J,D,B,me){return Pe(Ft(D,J.length-B),J,B,me)}l.prototype.write=function(D,B,me,Ne){if(B===void 0)Ne="utf8",me=this.length,B=0;else if(me===void 0&&typeof B=="string")Ne=B,me=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(me)?(me=me>>>0,Ne===void 0&&(Ne="utf8")):(Ne=me,me=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ze=this.length-B;if((me===void 0||me>ze)&&(me=ze),D.length>0&&(me<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ne||(Ne="utf8");let We=!1;for(;;)switch(Ne){case"hex":return I(this,D,B,me);case"utf8":case"utf-8":return F(this,D,B,me);case"ascii":case"latin1":case"binary":return H(this,D,B,me);case"base64":return U(this,D,B,me);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,D,B,me);default:if(We)throw new TypeError("Unknown encoding: "+Ne);Ne=(""+Ne).toLowerCase(),We=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function V(J,D,B){return D===0&&B===J.length?e.fromByteArray(J):e.fromByteArray(J.slice(D,B))}function X(J,D,B){B=Math.min(J.length,B);const me=[];let Ne=D;for(;Ne<B;){const ze=J[Ne];let We=null,Rt=ze>239?4:ze>223?3:ze>191?2:1;if(Ne+Rt<=B){let gr,rr,ur,ar;switch(Rt){case 1:ze<128&&(We=ze);break;case 2:gr=J[Ne+1],(gr&192)===128&&(ar=(ze&31)<<6|gr&63,ar>127&&(We=ar));break;case 3:gr=J[Ne+1],rr=J[Ne+2],(gr&192)===128&&(rr&192)===128&&(ar=(ze&15)<<12|(gr&63)<<6|rr&63,ar>2047&&(ar<55296||ar>57343)&&(We=ar));break;case 4:gr=J[Ne+1],rr=J[Ne+2],ur=J[Ne+3],(gr&192)===128&&(rr&192)===128&&(ur&192)===128&&(ar=(ze&15)<<18|(gr&63)<<12|(rr&63)<<6|ur&63,ar>65535&&ar<1114112&&(We=ar))}}We===null?(We=65533,Rt=1):We>65535&&(We-=65536,me.push(We>>>10&1023|55296),We=56320|We&1023),me.push(We),Ne+=Rt}return le(me)}const te=4096;function le(J){const D=J.length;if(D<=te)return String.fromCharCode.apply(String,J);let B="",me=0;for(;me<D;)B+=String.fromCharCode.apply(String,J.slice(me,me+=te));return B}function W(J,D,B){let me="";B=Math.min(J.length,B);for(let Ne=D;Ne<B;++Ne)me+=String.fromCharCode(J[Ne]&127);return me}function re(J,D,B){let me="";B=Math.min(J.length,B);for(let Ne=D;Ne<B;++Ne)me+=String.fromCharCode(J[Ne]);return me}function G(J,D,B){const me=J.length;(!D||D<0)&&(D=0),(!B||B<0||B>me)&&(B=me);let Ne="";for(let ze=D;ze<B;++ze)Ne+=lt[J[ze]];return Ne}function ie(J,D,B){const me=J.slice(D,B);let Ne="";for(let ze=0;ze<me.length-1;ze+=2)Ne+=String.fromCharCode(me[ze]+me[ze+1]*256);return Ne}l.prototype.slice=function(D,B){const me=this.length;D=~~D,B=B===void 0?me:~~B,D<0?(D+=me,D<0&&(D=0)):D>me&&(D=me),B<0?(B+=me,B<0&&(B=0)):B>me&&(B=me),B<D&&(B=D);const Ne=this.subarray(D,B);return Object.setPrototypeOf(Ne,l.prototype),Ne};function Z(J,D,B){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+D>B)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(D,B,me){D=D>>>0,B=B>>>0,me||Z(D,B,this.length);let Ne=this[D],ze=1,We=0;for(;++We<B&&(ze*=256);)Ne+=this[D+We]*ze;return Ne},l.prototype.readUintBE=l.prototype.readUIntBE=function(D,B,me){D=D>>>0,B=B>>>0,me||Z(D,B,this.length);let Ne=this[D+--B],ze=1;for(;B>0&&(ze*=256);)Ne+=this[D+--B]*ze;return Ne},l.prototype.readUint8=l.prototype.readUInt8=function(D,B){return D=D>>>0,B||Z(D,1,this.length),this[D]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(D,B){return D=D>>>0,B||Z(D,2,this.length),this[D]|this[D+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(D,B){return D=D>>>0,B||Z(D,2,this.length),this[D]<<8|this[D+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(D,B){return D=D>>>0,B||Z(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(D,B){return D=D>>>0,B||Z(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},l.prototype.readBigUInt64LE=ue(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],me=this[D+7];(B===void 0||me===void 0)&&Ce(D,this.length-8);const Ne=B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,ze=this[++D]+this[++D]*2**8+this[++D]*2**16+me*2**24;return BigInt(Ne)+(BigInt(ze)<<BigInt(32))}),l.prototype.readBigUInt64BE=ue(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],me=this[D+7];(B===void 0||me===void 0)&&Ce(D,this.length-8);const Ne=B*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],ze=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+me;return(BigInt(Ne)<<BigInt(32))+BigInt(ze)}),l.prototype.readIntLE=function(D,B,me){D=D>>>0,B=B>>>0,me||Z(D,B,this.length);let Ne=this[D],ze=1,We=0;for(;++We<B&&(ze*=256);)Ne+=this[D+We]*ze;return ze*=128,Ne>=ze&&(Ne-=Math.pow(2,8*B)),Ne},l.prototype.readIntBE=function(D,B,me){D=D>>>0,B=B>>>0,me||Z(D,B,this.length);let Ne=B,ze=1,We=this[D+--Ne];for(;Ne>0&&(ze*=256);)We+=this[D+--Ne]*ze;return ze*=128,We>=ze&&(We-=Math.pow(2,8*B)),We},l.prototype.readInt8=function(D,B){return D=D>>>0,B||Z(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},l.prototype.readInt16LE=function(D,B){D=D>>>0,B||Z(D,2,this.length);const me=this[D]|this[D+1]<<8;return me&32768?me|4294901760:me},l.prototype.readInt16BE=function(D,B){D=D>>>0,B||Z(D,2,this.length);const me=this[D+1]|this[D]<<8;return me&32768?me|4294901760:me},l.prototype.readInt32LE=function(D,B){return D=D>>>0,B||Z(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},l.prototype.readInt32BE=function(D,B){return D=D>>>0,B||Z(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},l.prototype.readBigInt64LE=ue(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],me=this[D+7];(B===void 0||me===void 0)&&Ce(D,this.length-8);const Ne=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(me<<24);return(BigInt(Ne)<<BigInt(32))+BigInt(B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),l.prototype.readBigInt64BE=ue(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],me=this[D+7];(B===void 0||me===void 0)&&Ce(D,this.length-8);const Ne=(B<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(Ne)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+me)}),l.prototype.readFloatLE=function(D,B){return D=D>>>0,B||Z(D,4,this.length),r.read(this,D,!0,23,4)},l.prototype.readFloatBE=function(D,B){return D=D>>>0,B||Z(D,4,this.length),r.read(this,D,!1,23,4)},l.prototype.readDoubleLE=function(D,B){return D=D>>>0,B||Z(D,8,this.length),r.read(this,D,!0,52,8)},l.prototype.readDoubleBE=function(D,B){return D=D>>>0,B||Z(D,8,this.length),r.read(this,D,!1,52,8)};function de(J,D,B,me,Ne,ze){if(!l.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>Ne||D<ze)throw new RangeError('"value" argument is out of bounds');if(B+me>J.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(D,B,me,Ne){if(D=+D,B=B>>>0,me=me>>>0,!Ne){const Rt=Math.pow(2,8*me)-1;de(this,D,B,me,Rt,0)}let ze=1,We=0;for(this[B]=D&255;++We<me&&(ze*=256);)this[B+We]=D/ze&255;return B+me},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(D,B,me,Ne){if(D=+D,B=B>>>0,me=me>>>0,!Ne){const Rt=Math.pow(2,8*me)-1;de(this,D,B,me,Rt,0)}let ze=me-1,We=1;for(this[B+ze]=D&255;--ze>=0&&(We*=256);)this[B+ze]=D/We&255;return B+me},l.prototype.writeUint8=l.prototype.writeUInt8=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,1,255,0),this[B]=D&255,B+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,2,65535,0),this[B]=D&255,this[B+1]=D>>>8,B+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,2,65535,0),this[B]=D>>>8,this[B+1]=D&255,B+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,4,4294967295,0),this[B+3]=D>>>24,this[B+2]=D>>>16,this[B+1]=D>>>8,this[B]=D&255,B+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,4,4294967295,0),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4};function Se(J,D,B,me,Ne){Y(D,me,Ne,J,B,7);let ze=Number(D&BigInt(4294967295));J[B++]=ze,ze=ze>>8,J[B++]=ze,ze=ze>>8,J[B++]=ze,ze=ze>>8,J[B++]=ze;let We=Number(D>>BigInt(32)&BigInt(4294967295));return J[B++]=We,We=We>>8,J[B++]=We,We=We>>8,J[B++]=We,We=We>>8,J[B++]=We,B}function Me(J,D,B,me,Ne){Y(D,me,Ne,J,B,7);let ze=Number(D&BigInt(4294967295));J[B+7]=ze,ze=ze>>8,J[B+6]=ze,ze=ze>>8,J[B+5]=ze,ze=ze>>8,J[B+4]=ze;let We=Number(D>>BigInt(32)&BigInt(4294967295));return J[B+3]=We,We=We>>8,J[B+2]=We,We=We>>8,J[B+1]=We,We=We>>8,J[B]=We,B+8}l.prototype.writeBigUInt64LE=ue(function(D,B=0){return Se(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=ue(function(D,B=0){return Me(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(D,B,me,Ne){if(D=+D,B=B>>>0,!Ne){const gr=Math.pow(2,8*me-1);de(this,D,B,me,gr-1,-gr)}let ze=0,We=1,Rt=0;for(this[B]=D&255;++ze<me&&(We*=256);)D<0&&Rt===0&&this[B+ze-1]!==0&&(Rt=1),this[B+ze]=(D/We>>0)-Rt&255;return B+me},l.prototype.writeIntBE=function(D,B,me,Ne){if(D=+D,B=B>>>0,!Ne){const gr=Math.pow(2,8*me-1);de(this,D,B,me,gr-1,-gr)}let ze=me-1,We=1,Rt=0;for(this[B+ze]=D&255;--ze>=0&&(We*=256);)D<0&&Rt===0&&this[B+ze+1]!==0&&(Rt=1),this[B+ze]=(D/We>>0)-Rt&255;return B+me},l.prototype.writeInt8=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,1,127,-128),D<0&&(D=255+D+1),this[B]=D&255,B+1},l.prototype.writeInt16LE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,2,32767,-32768),this[B]=D&255,this[B+1]=D>>>8,B+2},l.prototype.writeInt16BE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,2,32767,-32768),this[B]=D>>>8,this[B+1]=D&255,B+2},l.prototype.writeInt32LE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,4,2147483647,-2147483648),this[B]=D&255,this[B+1]=D>>>8,this[B+2]=D>>>16,this[B+3]=D>>>24,B+4},l.prototype.writeInt32BE=function(D,B,me){return D=+D,B=B>>>0,me||de(this,D,B,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4},l.prototype.writeBigInt64LE=ue(function(D,B=0){return Se(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=ue(function(D,B=0){return Me(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qe(J,D,B,me,Ne,ze){if(B+me>J.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function oe(J,D,B,me,Ne){return D=+D,B=B>>>0,Ne||qe(J,D,B,4),r.write(J,D,B,me,23,4),B+4}l.prototype.writeFloatLE=function(D,B,me){return oe(this,D,B,!0,me)},l.prototype.writeFloatBE=function(D,B,me){return oe(this,D,B,!1,me)};function ae(J,D,B,me,Ne){return D=+D,B=B>>>0,Ne||qe(J,D,B,8),r.write(J,D,B,me,52,8),B+8}l.prototype.writeDoubleLE=function(D,B,me){return ae(this,D,B,!0,me)},l.prototype.writeDoubleBE=function(D,B,me){return ae(this,D,B,!1,me)},l.prototype.copy=function(D,B,me,Ne){if(!l.isBuffer(D))throw new TypeError("argument should be a Buffer");if(me||(me=0),!Ne&&Ne!==0&&(Ne=this.length),B>=D.length&&(B=D.length),B||(B=0),Ne>0&&Ne<me&&(Ne=me),Ne===me||D.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(me<0||me>=this.length)throw new RangeError("Index out of range");if(Ne<0)throw new RangeError("sourceEnd out of bounds");Ne>this.length&&(Ne=this.length),D.length-B<Ne-me&&(Ne=D.length-B+me);const ze=Ne-me;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,me,Ne):Uint8Array.prototype.set.call(D,this.subarray(me,Ne),B),ze},l.prototype.fill=function(D,B,me,Ne){if(typeof D=="string"){if(typeof B=="string"?(Ne=B,B=0,me=this.length):typeof me=="string"&&(Ne=me,me=this.length),Ne!==void 0&&typeof Ne!="string")throw new TypeError("encoding must be a string");if(typeof Ne=="string"&&!l.isEncoding(Ne))throw new TypeError("Unknown encoding: "+Ne);if(D.length===1){const We=D.charCodeAt(0);(Ne==="utf8"&&We<128||Ne==="latin1")&&(D=We)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(B<0||this.length<B||this.length<me)throw new RangeError("Out of range index");if(me<=B)return this;B=B>>>0,me=me===void 0?this.length:me>>>0,D||(D=0);let ze;if(typeof D=="number")for(ze=B;ze<me;++ze)this[ze]=D;else{const We=l.isBuffer(D)?D:l.from(D,Ne),Rt=We.length;if(Rt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(ze=0;ze<me-B;++ze)this[ze+B]=We[ze%Rt]}return this};const ge={};function ve(J,D,B){ge[J]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${J}]`,this.stack,delete this.name}get code(){return J}set code(Ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ne,writable:!0})}toString(){return`${this.name} [${J}]: ${this.message}`}}}ve("ERR_BUFFER_OUT_OF_BOUNDS",function(J){return J?`${J} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ve("ERR_INVALID_ARG_TYPE",function(J,D){return`The "${J}" argument must be of type number. Received type ${typeof D}`},TypeError),ve("ERR_OUT_OF_RANGE",function(J,D,B){let me=`The value of "${J}" is out of range.`,Ne=B;return Number.isInteger(B)&&Math.abs(B)>2**32?Ne=Ae(String(B)):typeof B=="bigint"&&(Ne=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(Ne=Ae(Ne)),Ne+="n"),me+=` It must be ${D}. Received ${Ne}`,me},RangeError);function Ae(J){let D="",B=J.length;const me=J[0]==="-"?1:0;for(;B>=me+4;B-=3)D=`_${J.slice(B-3,B)}${D}`;return`${J.slice(0,B)}${D}`}function Q(J,D,B){Ee(D,"offset"),(J[D]===void 0||J[D+B]===void 0)&&Ce(D,J.length-(B+1))}function Y(J,D,B,me,Ne,ze){if(J>B||J<D){const We=typeof D=="bigint"?"n":"";let Rt;throw D===0||D===BigInt(0)?Rt=`>= 0${We} and < 2${We} ** ${(ze+1)*8}${We}`:Rt=`>= -(2${We} ** ${(ze+1)*8-1}${We}) and < 2 ** ${(ze+1)*8-1}${We}`,new ge.ERR_OUT_OF_RANGE("value",Rt,J)}Q(me,Ne,ze)}function Ee(J,D){if(typeof J!="number")throw new ge.ERR_INVALID_ARG_TYPE(D,"number",J)}function Ce(J,D,B){throw Math.floor(J)!==J?(Ee(J,B),new ge.ERR_OUT_OF_RANGE("offset","an integer",J)):D<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,J)}const Qe=/[^+/0-9A-Za-z-_]/g;function Ze(J){if(J=J.split("=")[0],J=J.trim().replace(Qe,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function Oe(J,D){D=D||1/0;let B;const me=J.length;let Ne=null;const ze=[];for(let We=0;We<me;++We){if(B=J.charCodeAt(We),B>55295&&B<57344){if(!Ne){if(B>56319){(D-=3)>-1&&ze.push(239,191,189);continue}else if(We+1===me){(D-=3)>-1&&ze.push(239,191,189);continue}Ne=B;continue}if(B<56320){(D-=3)>-1&&ze.push(239,191,189),Ne=B;continue}B=(Ne-55296<<10|B-56320)+65536}else Ne&&(D-=3)>-1&&ze.push(239,191,189);if(Ne=null,B<128){if((D-=1)<0)break;ze.push(B)}else if(B<2048){if((D-=2)<0)break;ze.push(B>>6|192,B&63|128)}else if(B<65536){if((D-=3)<0)break;ze.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((D-=4)<0)break;ze.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return ze}function ht(J){const D=[];for(let B=0;B<J.length;++B)D.push(J.charCodeAt(B)&255);return D}function Ft(J,D){let B,me,Ne;const ze=[];for(let We=0;We<J.length&&!((D-=2)<0);++We)B=J.charCodeAt(We),me=B>>8,Ne=B%256,ze.push(Ne),ze.push(me);return ze}function ye(J){return e.toByteArray(Ze(J))}function Pe(J,D,B,me){let Ne;for(Ne=0;Ne<me&&!(Ne+B>=D.length||Ne>=J.length);++Ne)D[Ne+B]=J[Ne];return Ne}function Fe(J,D){return J instanceof D||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===D.name}function et(J){return J!==J}const lt=function(){const J="0123456789abcdef",D=new Array(256);for(let B=0;B<16;++B){const me=B*16;for(let Ne=0;Ne<16;++Ne)D[me+Ne]=J[B]+J[Ne]}return D}();function ue(J){return typeof BigInt>"u"?Te:J}function Te(){throw new Error("BigInt not supported")}}(HC)),HC}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var D6;function rte(){return D6||(D6=1,function(t,e){var r=Lx(),n=r.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=a);function a(o,l,c){return n(o,l,c)}a.prototype=Object.create(n.prototype),i(n,a),a.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},a.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Ab,Ab.exports)),Ab.exports}var L6;function EAe(){if(L6)return kb.exports;L6=1;var t=65536,e=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=rte().Buffer,i=qs.crypto||qs.msCrypto;i&&i.getRandomValues?kb.exports=a:kb.exports=r;function a(o,l){if(o>e)throw new RangeError("requested too many random bytes");var c=n.allocUnsafe(o);if(o>0)if(o>t)for(var u=0;u<o;u+=t)i.getRandomValues(c.slice(u,u+t));else i.getRandomValues(c);return typeof l=="function"?process.nextTick(function(){l(null,c)}):c}return kb.exports}var Ob={exports:{}},KC,$6;function nte(){return $6||($6=1,KC=nm.EventEmitter),KC}var GC,F6;function PAe(){if(F6)return GC;F6=1;function t(y,b){var _=Object.keys(y);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(y);b&&(j=j.filter(function(N){return Object.getOwnPropertyDescriptor(y,N).enumerable})),_.push.apply(_,j)}return _}function e(y){for(var b=1;b<arguments.length;b++){var _=arguments[b]!=null?arguments[b]:{};b%2?t(Object(_),!0).forEach(function(j){r(y,j,_[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(_)):t(Object(_)).forEach(function(j){Object.defineProperty(y,j,Object.getOwnPropertyDescriptor(_,j))})}return y}function r(y,b,_){return b=o(b),b in y?Object.defineProperty(y,b,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[b]=_,y}function n(y,b){if(!(y instanceof b))throw new TypeError("Cannot call a class as a function")}function i(y,b){for(var _=0;_<b.length;_++){var j=b[_];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(y,o(j.key),j)}}function a(y,b,_){return b&&i(y.prototype,b),Object.defineProperty(y,"prototype",{writable:!1}),y}function o(y){var b=l(y,"string");return typeof b=="symbol"?b:String(b)}function l(y,b){if(typeof y!="object"||y===null)return y;var _=y[Symbol.toPrimitive];if(_!==void 0){var j=_.call(y,b);if(typeof j!="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=Lx(),u=c.Buffer,d=nm,f=d.inspect,g=f&&f.custom||"inspect";function v(y,b,_){u.prototype.copy.call(y,b,_)}return GC=function(){function y(){n(this,y),this.head=null,this.tail=null,this.length=0}return a(y,[{key:"push",value:function(_){var j={data:_,next:null};this.length>0?this.tail.next=j:this.head=j,this.tail=j,++this.length}},{key:"unshift",value:function(_){var j={data:_,next:this.head};this.length===0&&(this.tail=j),this.head=j,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var j=this.head,N=""+j.data;j=j.next;)N+=_+j.data;return N}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var j=u.allocUnsafe(_>>>0),N=this.head,C=0;N;)v(N.data,j,C),C+=N.data.length,N=N.next;return j}},{key:"consume",value:function(_,j){var N;return _<this.head.data.length?(N=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?N=this.shift():N=j?this._getString(_):this._getBuffer(_),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var j=this.head,N=1,C=j.data;for(_-=C.length;j=j.next;){var A=j.data,E=_>A.length?A.length:_;if(E===A.length?C+=A:C+=A.slice(0,_),_-=E,_===0){E===A.length?(++N,j.next?this.head=j.next:this.head=this.tail=null):(this.head=j,j.data=A.slice(E));break}++N}return this.length-=N,C}},{key:"_getBuffer",value:function(_){var j=u.allocUnsafe(_),N=this.head,C=1;for(N.data.copy(j),_-=N.data.length;N=N.next;){var A=N.data,E=_>A.length?A.length:_;if(A.copy(j,j.length-_,0,E),_-=E,_===0){E===A.length?(++C,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=A.slice(E));break}++C}return this.length-=C,j}},{key:g,value:function(_,j){return f(this,e(e({},j),{},{depth:0,customInspect:!1}))}}]),y}(),GC}var ZC,B6;function ite(){if(B6)return ZC;B6=1;function t(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!l&&f?c._writableState?c._writableState.errorEmitted?process.nextTick(r,c):(c._writableState.errorEmitted=!0,process.nextTick(e,c,f)):process.nextTick(e,c,f):l?(process.nextTick(r,c),l(f)):process.nextTick(r,c)}),this)}function e(o,l){i(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function a(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return ZC={destroy:t,undestroy:n,errorOrDestroy:a},ZC}var YC={},z6;function ig(){if(z6)return YC;z6=1;function t(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var e={};function r(l,c,u){u||(u=Error);function d(g,v,y){return typeof c=="string"?c:c(g,v,y)}var f=function(g){t(v,g);function v(y,b,_){return g.call(this,d(y,b,_))||this}return v}(u);f.prototype.name=u.name,f.prototype.code=l,e[l]=f}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(d){return String(d)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function a(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var d;typeof c=="string"&&i(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var f;if(a(l," argument"))f="The ".concat(l," ").concat(d," ").concat(n(c,"type"));else{var g=o(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(g," ").concat(d," ").concat(n(c,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),YC.codes=e,YC}var XC,q6;function ste(){if(q6)return XC;q6=1;var t=ig().codes.ERR_INVALID_OPT_VALUE;function e(n,i,a){return n.highWaterMark!=null?n.highWaterMark:i?n[a]:null}function r(n,i,a,o){var l=e(i,o,a);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?a:"highWaterMark";throw new t(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return XC={getHighWaterMark:r},XC}var Rb={exports:{}},U6;function $x(){return U6||(U6=1,typeof Object.create=="function"?Rb.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Rb.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Rb.exports}var JC,V6;function kAe(){if(V6)return JC;V6=1,JC=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function a(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return a}function e(r){try{if(!qs.localStorage)return!1}catch{return!1}var n=qs.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return JC}var QC,W6;function ate(){if(W6)return QC;W6=1,QC=I;function t(oe){var ae=this;this.next=null,this.entry=null,this.finish=function(){qe(ae,oe)}}var e;I.WritableState=P;var r={deprecate:kAe()},n=nte(),i=Lx().Buffer,a=(typeof qs<"u"?qs:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(oe){return i.from(oe)}function l(oe){return i.isBuffer(oe)||oe instanceof a}var c=ite(),u=ste(),d=u.getHighWaterMark,f=ig().codes,g=f.ERR_INVALID_ARG_TYPE,v=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,b=f.ERR_STREAM_CANNOT_PIPE,_=f.ERR_STREAM_DESTROYED,j=f.ERR_STREAM_NULL_VALUES,N=f.ERR_STREAM_WRITE_AFTER_END,C=f.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;$x()(I,n);function E(){}function P(oe,ae,ge){e=e||hm(),oe=oe||{},typeof ge!="boolean"&&(ge=ae instanceof e),this.objectMode=!!oe.objectMode,ge&&(this.objectMode=this.objectMode||!!oe.writableObjectMode),this.highWaterMark=d(this,oe,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ve=oe.decodeStrings===!1;this.decodeStrings=!ve,this.defaultEncoding=oe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ae){le(ae,Ae)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=oe.emitClose!==!1,this.autoDestroy=!!oe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}P.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,ge=[];ae;)ge.push(ae),ae=ae.next;return ge},function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(ae){return O.call(this,ae)?!0:this!==I?!1:ae&&ae._writableState instanceof P}})):O=function(ae){return ae instanceof this};function I(oe){e=e||hm();var ae=this instanceof e;if(!ae&&!O.call(I,this))return new I(oe);this._writableState=new P(oe,this,ae),this.writable=!0,oe&&(typeof oe.write=="function"&&(this._write=oe.write),typeof oe.writev=="function"&&(this._writev=oe.writev),typeof oe.destroy=="function"&&(this._destroy=oe.destroy),typeof oe.final=="function"&&(this._final=oe.final)),n.call(this)}I.prototype.pipe=function(){A(this,new b)};function F(oe,ae){var ge=new N;A(oe,ge),process.nextTick(ae,ge)}function H(oe,ae,ge,ve){var Ae;return ge===null?Ae=new j:typeof ge!="string"&&!ae.objectMode&&(Ae=new g("chunk",["string","Buffer"],ge)),Ae?(A(oe,Ae),process.nextTick(ve,Ae),!1):!0}I.prototype.write=function(oe,ae,ge){var ve=this._writableState,Ae=!1,Q=!ve.objectMode&&l(oe);return Q&&!i.isBuffer(oe)&&(oe=o(oe)),typeof ae=="function"&&(ge=ae,ae=null),Q?ae="buffer":ae||(ae=ve.defaultEncoding),typeof ge!="function"&&(ge=E),ve.ending?F(this,ge):(Q||H(this,ve,oe,ge))&&(ve.pendingcb++,Ae=z(this,ve,Q,oe,ae,ge)),Ae},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var oe=this._writableState;oe.corked&&(oe.corked--,!oe.writing&&!oe.corked&&!oe.bufferProcessing&&oe.bufferedRequest&&G(this,oe))},I.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new C(ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(oe,ae,ge){return!oe.objectMode&&oe.decodeStrings!==!1&&typeof ae=="string"&&(ae=i.from(ae,ge)),ae}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function z(oe,ae,ge,ve,Ae,Q){if(!ge){var Y=U(ae,ve,Ae);ve!==Y&&(ge=!0,Ae="buffer",ve=Y)}var Ee=ae.objectMode?1:ve.length;ae.length+=Ee;var Ce=ae.length<ae.highWaterMark;if(Ce||(ae.needDrain=!0),ae.writing||ae.corked){var Qe=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:ve,encoding:Ae,isBuf:ge,callback:Q,next:null},Qe?Qe.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else V(oe,ae,!1,Ee,ve,Ae,Q);return Ce}function V(oe,ae,ge,ve,Ae,Q,Y){ae.writelen=ve,ae.writecb=Y,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new _("write")):ge?oe._writev(Ae,ae.onwrite):oe._write(Ae,Q,ae.onwrite),ae.sync=!1}function X(oe,ae,ge,ve,Ae){--ae.pendingcb,ge?(process.nextTick(Ae,ve),process.nextTick(Se,oe,ae),oe._writableState.errorEmitted=!0,A(oe,ve)):(Ae(ve),oe._writableState.errorEmitted=!0,A(oe,ve),Se(oe,ae))}function te(oe){oe.writing=!1,oe.writecb=null,oe.length-=oe.writelen,oe.writelen=0}function le(oe,ae){var ge=oe._writableState,ve=ge.sync,Ae=ge.writecb;if(typeof Ae!="function")throw new y;if(te(ge),ae)X(oe,ge,ve,ae,Ae);else{var Q=ie(ge)||oe.destroyed;!Q&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&G(oe,ge),ve?process.nextTick(W,oe,ge,Q,Ae):W(oe,ge,Q,Ae)}}function W(oe,ae,ge,ve){ge||re(oe,ae),ae.pendingcb--,ve(),Se(oe,ae)}function re(oe,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,oe.emit("drain"))}function G(oe,ae){ae.bufferProcessing=!0;var ge=ae.bufferedRequest;if(oe._writev&&ge&&ge.next){var ve=ae.bufferedRequestCount,Ae=new Array(ve),Q=ae.corkedRequestsFree;Q.entry=ge;for(var Y=0,Ee=!0;ge;)Ae[Y]=ge,ge.isBuf||(Ee=!1),ge=ge.next,Y+=1;Ae.allBuffers=Ee,V(oe,ae,!0,ae.length,Ae,"",Q.finish),ae.pendingcb++,ae.lastBufferedRequest=null,Q.next?(ae.corkedRequestsFree=Q.next,Q.next=null):ae.corkedRequestsFree=new t(ae),ae.bufferedRequestCount=0}else{for(;ge;){var Ce=ge.chunk,Qe=ge.encoding,Ze=ge.callback,Oe=ae.objectMode?1:Ce.length;if(V(oe,ae,!1,Oe,Ce,Qe,Ze),ge=ge.next,ae.bufferedRequestCount--,ae.writing)break}ge===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=ge,ae.bufferProcessing=!1}I.prototype._write=function(oe,ae,ge){ge(new v("_write()"))},I.prototype._writev=null,I.prototype.end=function(oe,ae,ge){var ve=this._writableState;return typeof oe=="function"?(ge=oe,oe=null,ae=null):typeof ae=="function"&&(ge=ae,ae=null),oe!=null&&this.write(oe,ae),ve.corked&&(ve.corked=1,this.uncork()),ve.ending||Me(this,ve,ge),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ie(oe){return oe.ending&&oe.length===0&&oe.bufferedRequest===null&&!oe.finished&&!oe.writing}function Z(oe,ae){oe._final(function(ge){ae.pendingcb--,ge&&A(oe,ge),ae.prefinished=!0,oe.emit("prefinish"),Se(oe,ae)})}function de(oe,ae){!ae.prefinished&&!ae.finalCalled&&(typeof oe._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,process.nextTick(Z,oe,ae)):(ae.prefinished=!0,oe.emit("prefinish")))}function Se(oe,ae){var ge=ie(ae);if(ge&&(de(oe,ae),ae.pendingcb===0&&(ae.finished=!0,oe.emit("finish"),ae.autoDestroy))){var ve=oe._readableState;(!ve||ve.autoDestroy&&ve.endEmitted)&&oe.destroy()}return ge}function Me(oe,ae,ge){ae.ending=!0,Se(oe,ae),ge&&(ae.finished?process.nextTick(ge):oe.once("finish",ge)),ae.ended=!0,oe.writable=!1}function qe(oe,ae,ge){var ve=oe.entry;for(oe.entry=null;ve;){var Ae=ve.callback;ae.pendingcb--,Ae(ge),ve=ve.next}ae.corkedRequestsFree.next=oe}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(oe,ae){ae(oe)},QC}var eE,H6;function hm(){if(H6)return eE;H6=1;var t=Object.keys||function(u){var d=[];for(var f in u)d.push(f);return d};eE=o;var e=ote(),r=ate();$x()(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var a=n[i];o.prototype[a]||(o.prototype[a]=r.prototype[a])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),eE}var tE={},K6;function G6(){if(K6)return tE;K6=1;var t=rte().Buffer,e=t.isEncoding||function(j){switch(j=""+j,j&&j.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(j){if(!j)return"utf8";for(var N;;)switch(j){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return j;default:if(N)return;j=(""+j).toLowerCase(),N=!0}}function n(j){var N=r(j);if(typeof N!="string"&&(t.isEncoding===e||!e(j)))throw new Error("Unknown encoding: "+j);return N||j}tE.StringDecoder=i;function i(j){this.encoding=n(j);var N;switch(this.encoding){case"utf16le":this.text=f,this.end=g,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=v,this.end=y,N=3;break;default:this.write=b,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(N)}i.prototype.write=function(j){if(j.length===0)return"";var N,C;if(this.lastNeed){if(N=this.fillLast(j),N===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<j.length?N?N+this.text(j,C):this.text(j,C):N||""},i.prototype.end=d,i.prototype.text=u,i.prototype.fillLast=function(j){if(this.lastNeed<=j.length)return j.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);j.copy(this.lastChar,this.lastTotal-this.lastNeed,0,j.length),this.lastNeed-=j.length};function a(j){return j<=127?0:j>>5===6?2:j>>4===14?3:j>>3===30?4:j>>6===2?-1:-2}function o(j,N,C){var A=N.length-1;if(A<C)return 0;var E=a(N[A]);return E>=0?(E>0&&(j.lastNeed=E-1),E):--A<C||E===-2?0:(E=a(N[A]),E>=0?(E>0&&(j.lastNeed=E-2),E):--A<C||E===-2?0:(E=a(N[A]),E>=0?(E>0&&(E===2?E=0:j.lastNeed=E-3),E):0))}function l(j,N,C){if((N[0]&192)!==128)return j.lastNeed=0,"�";if(j.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return j.lastNeed=1,"�";if(j.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return j.lastNeed=2,"�"}}function c(j){var N=this.lastTotal-this.lastNeed,C=l(this,j);if(C!==void 0)return C;if(this.lastNeed<=j.length)return j.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);j.copy(this.lastChar,N,0,j.length),this.lastNeed-=j.length}function u(j,N){var C=o(this,j,N);if(!this.lastNeed)return j.toString("utf8",N);this.lastTotal=C;var A=j.length-(C-this.lastNeed);return j.copy(this.lastChar,0,A),j.toString("utf8",N,A)}function d(j){var N=j&&j.length?this.write(j):"";return this.lastNeed?N+"�":N}function f(j,N){if((j.length-N)%2===0){var C=j.toString("utf16le",N);if(C){var A=C.charCodeAt(C.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=j[j.length-2],this.lastChar[1]=j[j.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=j[j.length-1],j.toString("utf16le",N,j.length-1)}function g(j){var N=j&&j.length?this.write(j):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,C)}return N}function v(j,N){var C=(j.length-N)%3;return C===0?j.toString("base64",N):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=j[j.length-1]:(this.lastChar[0]=j[j.length-2],this.lastChar[1]=j[j.length-1]),j.toString("base64",N,j.length-C))}function y(j){var N=j&&j.length?this.write(j):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function b(j){return j.toString(this.encoding)}function _(j){return j&&j.length?this.write(j):""}return tE}var rE,Z6;function JI(){if(Z6)return rE;Z6=1;var t=ig().codes.ERR_STREAM_PREMATURE_CLOSE;function e(a){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];a.apply(this,c)}}}function r(){}function n(a){return a.setHeader&&typeof a.abort=="function"}function i(a,o,l){if(typeof o=="function")return i(a,null,o);o||(o={}),l=e(l||r);var c=o.readable||o.readable!==!1&&a.readable,u=o.writable||o.writable!==!1&&a.writable,d=function(){a.writable||g()},f=a._writableState&&a._writableState.finished,g=function(){u=!1,f=!0,c||l.call(a)},v=a._readableState&&a._readableState.endEmitted,y=function(){c=!1,v=!0,u||l.call(a)},b=function(C){l.call(a,C)},_=function(){var C;if(c&&!v)return(!a._readableState||!a._readableState.ended)&&(C=new t),l.call(a,C);if(u&&!f)return(!a._writableState||!a._writableState.ended)&&(C=new t),l.call(a,C)},j=function(){a.req.on("finish",g)};return n(a)?(a.on("complete",g),a.on("abort",_),a.req?j():a.on("request",j)):u&&!a._writableState&&(a.on("end",d),a.on("close",d)),a.on("end",y),a.on("finish",g),o.error!==!1&&a.on("error",b),a.on("close",_),function(){a.removeListener("complete",g),a.removeListener("abort",_),a.removeListener("request",j),a.req&&a.req.removeListener("finish",g),a.removeListener("end",d),a.removeListener("close",d),a.removeListener("finish",g),a.removeListener("end",y),a.removeListener("error",b),a.removeListener("close",_)}}return rE=i,rE}var nE,Y6;function AAe(){if(Y6)return nE;Y6=1;var t;function e(C,A,E){return A=r(A),A in C?Object.defineProperty(C,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):C[A]=E,C}function r(C){var A=n(C,"string");return typeof A=="symbol"?A:String(A)}function n(C,A){if(typeof C!="object"||C===null)return C;var E=C[Symbol.toPrimitive];if(E!==void 0){var P=E.call(C,A);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(C)}var i=JI(),a=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function g(C,A){return{value:C,done:A}}function v(C){var A=C[a];if(A!==null){var E=C[f].read();E!==null&&(C[u]=null,C[a]=null,C[o]=null,A(g(E,!1)))}}function y(C){process.nextTick(v,C)}function b(C,A){return function(E,P){C.then(function(){if(A[c]){E(g(void 0,!0));return}A[d](E,P)},P)}}var _=Object.getPrototypeOf(function(){}),j=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var A=this,E=this[l];if(E!==null)return Promise.reject(E);if(this[c])return Promise.resolve(g(void 0,!0));if(this[f].destroyed)return new Promise(function(F,H){process.nextTick(function(){A[l]?H(A[l]):F(g(void 0,!0))})});var P=this[u],O;if(P)O=new Promise(b(P,this));else{var I=this[f].read();if(I!==null)return Promise.resolve(g(I,!1));O=new Promise(this[d])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var A=this;return new Promise(function(E,P){A[f].destroy(null,function(O){if(O){P(O);return}E(g(void 0,!0))})})}),t),_),N=function(A){var E,P=Object.create(j,(E={},e(E,f,{value:A,writable:!0}),e(E,a,{value:null,writable:!0}),e(E,o,{value:null,writable:!0}),e(E,l,{value:null,writable:!0}),e(E,c,{value:A._readableState.endEmitted,writable:!0}),e(E,d,{value:function(I,F){var H=P[f].read();H?(P[u]=null,P[a]=null,P[o]=null,I(g(H,!1))):(P[a]=I,P[o]=F)},writable:!0}),E));return P[u]=null,i(A,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=P[o];I!==null&&(P[u]=null,P[a]=null,P[o]=null,I(O)),P[l]=O;return}var F=P[a];F!==null&&(P[u]=null,P[a]=null,P[o]=null,F(g(void 0,!0))),P[c]=!0}),A.on("readable",y.bind(null,P)),P};return nE=N,nE}var iE,X6;function TAe(){return X6||(X6=1,iE=function(){throw new Error("Readable.from is not available in the browser")}),iE}var sE,J6;function ote(){if(J6)return sE;J6=1,sE=F;var t;F.ReadableState=I,nm.EventEmitter;var e=function(Y,Ee){return Y.listeners(Ee).length},r=nte(),n=Lx().Buffer,i=(typeof qs<"u"?qs:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function a(Q){return n.from(Q)}function o(Q){return n.isBuffer(Q)||Q instanceof i}var l=nm,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=PAe(),d=ite(),f=ste(),g=f.getHighWaterMark,v=ig().codes,y=v.ERR_INVALID_ARG_TYPE,b=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,j=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,C,A;$x()(F,r);var E=d.errorOrDestroy,P=["error","close","destroy","pause","resume"];function O(Q,Y,Ee){if(typeof Q.prependListener=="function")return Q.prependListener(Y,Ee);!Q._events||!Q._events[Y]?Q.on(Y,Ee):Array.isArray(Q._events[Y])?Q._events[Y].unshift(Ee):Q._events[Y]=[Ee,Q._events[Y]]}function I(Q,Y,Ee){t=t||hm(),Q=Q||{},typeof Ee!="boolean"&&(Ee=Y instanceof t),this.objectMode=!!Q.objectMode,Ee&&(this.objectMode=this.objectMode||!!Q.readableObjectMode),this.highWaterMark=g(this,Q,"readableHighWaterMark",Ee),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=Q.emitClose!==!1,this.autoDestroy=!!Q.autoDestroy,this.destroyed=!1,this.defaultEncoding=Q.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,Q.encoding&&(N||(N=G6().StringDecoder),this.decoder=new N(Q.encoding),this.encoding=Q.encoding)}function F(Q){if(t=t||hm(),!(this instanceof F))return new F(Q);var Y=this instanceof t;this._readableState=new I(Q,this,Y),this.readable=!0,Q&&(typeof Q.read=="function"&&(this._read=Q.read),typeof Q.destroy=="function"&&(this._destroy=Q.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),F.prototype.destroy=d.destroy,F.prototype._undestroy=d.undestroy,F.prototype._destroy=function(Q,Y){Y(Q)},F.prototype.push=function(Q,Y){var Ee=this._readableState,Ce;return Ee.objectMode?Ce=!0:typeof Q=="string"&&(Y=Y||Ee.defaultEncoding,Y!==Ee.encoding&&(Q=n.from(Q,Y),Y=""),Ce=!0),H(this,Q,Y,!1,Ce)},F.prototype.unshift=function(Q){return H(this,Q,null,!0,!1)};function H(Q,Y,Ee,Ce,Qe){c("readableAddChunk",Y);var Ze=Q._readableState;if(Y===null)Ze.reading=!1,le(Q,Ze);else{var Oe;if(Qe||(Oe=z(Ze,Y)),Oe)E(Q,Oe);else if(Ze.objectMode||Y&&Y.length>0)if(typeof Y!="string"&&!Ze.objectMode&&Object.getPrototypeOf(Y)!==n.prototype&&(Y=a(Y)),Ce)Ze.endEmitted?E(Q,new j):U(Q,Ze,Y,!0);else if(Ze.ended)E(Q,new b);else{if(Ze.destroyed)return!1;Ze.reading=!1,Ze.decoder&&!Ee?(Y=Ze.decoder.write(Y),Ze.objectMode||Y.length!==0?U(Q,Ze,Y,!1):G(Q,Ze)):U(Q,Ze,Y,!1)}else Ce||(Ze.reading=!1,G(Q,Ze))}return!Ze.ended&&(Ze.length<Ze.highWaterMark||Ze.length===0)}function U(Q,Y,Ee,Ce){Y.flowing&&Y.length===0&&!Y.sync?(Y.awaitDrain=0,Q.emit("data",Ee)):(Y.length+=Y.objectMode?1:Ee.length,Ce?Y.buffer.unshift(Ee):Y.buffer.push(Ee),Y.needReadable&&W(Q)),G(Q,Y)}function z(Q,Y){var Ee;return!o(Y)&&typeof Y!="string"&&Y!==void 0&&!Q.objectMode&&(Ee=new y("chunk",["string","Buffer","Uint8Array"],Y)),Ee}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(Q){N||(N=G6().StringDecoder);var Y=new N(Q);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ee=this._readableState.buffer.head,Ce="";Ee!==null;)Ce+=Y.write(Ee.data),Ee=Ee.next;return this._readableState.buffer.clear(),Ce!==""&&this._readableState.buffer.push(Ce),this._readableState.length=Ce.length,this};var V=1073741824;function X(Q){return Q>=V?Q=V:(Q--,Q|=Q>>>1,Q|=Q>>>2,Q|=Q>>>4,Q|=Q>>>8,Q|=Q>>>16,Q++),Q}function te(Q,Y){return Q<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:Q!==Q?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(Q>Y.highWaterMark&&(Y.highWaterMark=X(Q)),Q<=Y.length?Q:Y.ended?Y.length:(Y.needReadable=!0,0))}F.prototype.read=function(Q){c("read",Q),Q=parseInt(Q,10);var Y=this._readableState,Ee=Q;if(Q!==0&&(Y.emittedReadable=!1),Q===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return c("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?ge(this):W(this),null;if(Q=te(Q,Y),Q===0&&Y.ended)return Y.length===0&&ge(this),null;var Ce=Y.needReadable;c("need readable",Ce),(Y.length===0||Y.length-Q<Y.highWaterMark)&&(Ce=!0,c("length less than watermark",Ce)),Y.ended||Y.reading?(Ce=!1,c("reading or ended",Ce)):Ce&&(c("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(Q=te(Ee,Y)));var Qe;return Q>0?Qe=ae(Q,Y):Qe=null,Qe===null?(Y.needReadable=Y.length<=Y.highWaterMark,Q=0):(Y.length-=Q,Y.awaitDrain=0),Y.length===0&&(Y.ended||(Y.needReadable=!0),Ee!==Q&&Y.ended&&ge(this)),Qe!==null&&this.emit("data",Qe),Qe};function le(Q,Y){if(c("onEofChunk"),!Y.ended){if(Y.decoder){var Ee=Y.decoder.end();Ee&&Ee.length&&(Y.buffer.push(Ee),Y.length+=Y.objectMode?1:Ee.length)}Y.ended=!0,Y.sync?W(Q):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,re(Q)))}}function W(Q){var Y=Q._readableState;c("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(c("emitReadable",Y.flowing),Y.emittedReadable=!0,process.nextTick(re,Q))}function re(Q){var Y=Q._readableState;c("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended)&&(Q.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,oe(Q)}function G(Q,Y){Y.readingMore||(Y.readingMore=!0,process.nextTick(ie,Q,Y))}function ie(Q,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0);){var Ee=Y.length;if(c("maybeReadMore read 0"),Q.read(0),Ee===Y.length)break}Y.readingMore=!1}F.prototype._read=function(Q){E(this,new _("_read()"))},F.prototype.pipe=function(Q,Y){var Ee=this,Ce=this._readableState;switch(Ce.pipesCount){case 0:Ce.pipes=Q;break;case 1:Ce.pipes=[Ce.pipes,Q];break;default:Ce.pipes.push(Q);break}Ce.pipesCount+=1,c("pipe count=%d opts=%j",Ce.pipesCount,Y);var Qe=(!Y||Y.end!==!1)&&Q!==process.stdout&&Q!==process.stderr,Ze=Qe?ht:Te;Ce.endEmitted?process.nextTick(Ze):Ee.once("end",Ze),Q.on("unpipe",Oe);function Oe(J,D){c("onunpipe"),J===Ee&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,Pe())}function ht(){c("onend"),Q.end()}var Ft=Z(Ee);Q.on("drain",Ft);var ye=!1;function Pe(){c("cleanup"),Q.removeListener("close",lt),Q.removeListener("finish",ue),Q.removeListener("drain",Ft),Q.removeListener("error",et),Q.removeListener("unpipe",Oe),Ee.removeListener("end",ht),Ee.removeListener("end",Te),Ee.removeListener("data",Fe),ye=!0,Ce.awaitDrain&&(!Q._writableState||Q._writableState.needDrain)&&Ft()}Ee.on("data",Fe);function Fe(J){c("ondata");var D=Q.write(J);c("dest.write",D),D===!1&&((Ce.pipesCount===1&&Ce.pipes===Q||Ce.pipesCount>1&&Ae(Ce.pipes,Q)!==-1)&&!ye&&(c("false write response, pause",Ce.awaitDrain),Ce.awaitDrain++),Ee.pause())}function et(J){c("onerror",J),Te(),Q.removeListener("error",et),e(Q,"error")===0&&E(Q,J)}O(Q,"error",et);function lt(){Q.removeListener("finish",ue),Te()}Q.once("close",lt);function ue(){c("onfinish"),Q.removeListener("close",lt),Te()}Q.once("finish",ue);function Te(){c("unpipe"),Ee.unpipe(Q)}return Q.emit("pipe",Ee),Ce.flowing||(c("pipe resume"),Ee.resume()),Q};function Z(Q){return function(){var Ee=Q._readableState;c("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(Q,"data")&&(Ee.flowing=!0,oe(Q))}}F.prototype.unpipe=function(Q){var Y=this._readableState,Ee={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return Q&&Q!==Y.pipes?this:(Q||(Q=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,Q&&Q.emit("unpipe",this,Ee),this);if(!Q){var Ce=Y.pipes,Qe=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var Ze=0;Ze<Qe;Ze++)Ce[Ze].emit("unpipe",this,{hasUnpiped:!1});return this}var Oe=Ae(Y.pipes,Q);return Oe===-1?this:(Y.pipes.splice(Oe,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),Q.emit("unpipe",this,Ee),this)},F.prototype.on=function(Q,Y){var Ee=r.prototype.on.call(this,Q,Y),Ce=this._readableState;return Q==="data"?(Ce.readableListening=this.listenerCount("readable")>0,Ce.flowing!==!1&&this.resume()):Q==="readable"&&!Ce.endEmitted&&!Ce.readableListening&&(Ce.readableListening=Ce.needReadable=!0,Ce.flowing=!1,Ce.emittedReadable=!1,c("on readable",Ce.length,Ce.reading),Ce.length?W(this):Ce.reading||process.nextTick(Se,this)),Ee},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(Q,Y){var Ee=r.prototype.removeListener.call(this,Q,Y);return Q==="readable"&&process.nextTick(de,this),Ee},F.prototype.removeAllListeners=function(Q){var Y=r.prototype.removeAllListeners.apply(this,arguments);return(Q==="readable"||Q===void 0)&&process.nextTick(de,this),Y};function de(Q){var Y=Q._readableState;Y.readableListening=Q.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused?Y.flowing=!0:Q.listenerCount("data")>0&&Q.resume()}function Se(Q){c("readable nexttick read 0"),Q.read(0)}F.prototype.resume=function(){var Q=this._readableState;return Q.flowing||(c("resume"),Q.flowing=!Q.readableListening,Me(this,Q)),Q.paused=!1,this};function Me(Q,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,process.nextTick(qe,Q,Y))}function qe(Q,Y){c("resume",Y.reading),Y.reading||Q.read(0),Y.resumeScheduled=!1,Q.emit("resume"),oe(Q),Y.flowing&&!Y.reading&&Q.read(0)}F.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function oe(Q){var Y=Q._readableState;for(c("flow",Y.flowing);Y.flowing&&Q.read()!==null;);}F.prototype.wrap=function(Q){var Y=this,Ee=this._readableState,Ce=!1;Q.on("end",function(){if(c("wrapped end"),Ee.decoder&&!Ee.ended){var Oe=Ee.decoder.end();Oe&&Oe.length&&Y.push(Oe)}Y.push(null)}),Q.on("data",function(Oe){if(c("wrapped data"),Ee.decoder&&(Oe=Ee.decoder.write(Oe)),!(Ee.objectMode&&Oe==null)&&!(!Ee.objectMode&&(!Oe||!Oe.length))){var ht=Y.push(Oe);ht||(Ce=!0,Q.pause())}});for(var Qe in Q)this[Qe]===void 0&&typeof Q[Qe]=="function"&&(this[Qe]=function(ht){return function(){return Q[ht].apply(Q,arguments)}}(Qe));for(var Ze=0;Ze<P.length;Ze++)Q.on(P[Ze],this.emit.bind(this,P[Ze]));return this._read=function(Oe){c("wrapped _read",Oe),Ce&&(Ce=!1,Q.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=AAe()),C(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}}),F._fromList=ae,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ae(Q,Y){if(Y.length===0)return null;var Ee;return Y.objectMode?Ee=Y.buffer.shift():!Q||Q>=Y.length?(Y.decoder?Ee=Y.buffer.join(""):Y.buffer.length===1?Ee=Y.buffer.first():Ee=Y.buffer.concat(Y.length),Y.buffer.clear()):Ee=Y.buffer.consume(Q,Y.decoder),Ee}function ge(Q){var Y=Q._readableState;c("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,process.nextTick(ve,Y,Q))}function ve(Q,Y){if(c("endReadableNT",Q.endEmitted,Q.length),!Q.endEmitted&&Q.length===0&&(Q.endEmitted=!0,Y.readable=!1,Y.emit("end"),Q.autoDestroy)){var Ee=Y._writableState;(!Ee||Ee.autoDestroy&&Ee.finished)&&Y.destroy()}}typeof Symbol=="function"&&(F.from=function(Q,Y){return A===void 0&&(A=TAe()),A(F,Q,Y)});function Ae(Q,Y){for(var Ee=0,Ce=Q.length;Ee<Ce;Ee++)if(Q[Ee]===Y)return Ee;return-1}return sE}var aE,Q6;function lte(){if(Q6)return aE;Q6=1,aE=l;var t=ig().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,a=hm();$x()(l,a);function o(d,f){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,f!=null&&this.push(f),v(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);a.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,g){u(d,f,g)}):u(this,null,null)}l.prototype.push=function(d,f){return this._transformState.needTransform=!1,a.prototype.push.call(this,d,f)},l.prototype._transform=function(d,f,g){g(new e("_transform()"))},l.prototype._write=function(d,f,g){var v=this._transformState;if(v.writecb=g,v.writechunk=d,v.writeencoding=f,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},l.prototype._read=function(d){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},l.prototype._destroy=function(d,f){a.prototype._destroy.call(this,d,function(g){f(g)})};function u(d,f,g){if(f)return d.emit("error",f);if(g!=null&&d.push(g),d._writableState.length)throw new i;if(d._transformState.transforming)throw new n;return d.push(null)}return aE}var oE,eB;function OAe(){if(eB)return oE;eB=1,oE=e;var t=lte();$x()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},oE}var lE,tB;function RAe(){if(tB)return lE;tB=1;var t;function e(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var r=ig().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function a(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,v,y,b){b=e(b);var _=!1;g.on("close",function(){_=!0}),t===void 0&&(t=JI()),t(g,{readable:v,writable:y},function(N){if(N)return b(N);_=!0,b()});var j=!1;return function(N){if(!_&&!j){if(j=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();b(N||new i("pipe"))}}}function c(g){g()}function u(g,v){return g.pipe(v)}function d(g){return!g.length||typeof g[g.length-1]!="function"?a:g.pop()}function f(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];var b=d(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new n("streams");var _,j=v.map(function(N,C){var A=C<v.length-1,E=C>0;return l(N,A,E,function(P){_||(_=P),P&&j.forEach(c),!A&&(j.forEach(c),b(_))})});return v.reduce(u)}return lE=f,lE}var rB;function MAe(){return rB||(rB=1,function(t,e){e=t.exports=ote(),e.Stream=e,e.Readable=e,e.Writable=ate(),e.Duplex=hm(),e.Transform=lte(),e.PassThrough=OAe(),e.finished=JI(),e.pipeline=RAe()}(Ob,Ob.exports)),Ob.exports}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var cE,nB;function IAe(){if(nB)return cE;nB=1;let t;return cE=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:qs):e=>(t||(t=Promise.resolve())).then(e).catch(r=>setTimeout(()=>{throw r},0)),cE}var uE,iB;function DAe(){if(iB)return uE;iB=1;function t(r,n){for(const i in n)Object.defineProperty(r,i,{value:n[i],enumerable:!0,configurable:!0});return r}function e(r,n,i){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof n=="object"&&(i=n,n=""),n&&(i.code=n);try{return t(r,i)}catch{i.message=r.message,i.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),t(new o,i)}}return uE=e,uE}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var dE,sB;function LAe(){if(sB)return dE;sB=1;const t=jAe()("simple-peer"),e=SAe(),r=EAe(),n=MAe(),i=IAe(),a=DAe(),{Buffer:o}=Lx(),l=64*1024,c=5*1e3,u=5*1e3;function d(v){return v.replace(/a=ice-options:trickle\s\n/g,"")}function f(v){console.warn(v)}class g extends n.Duplex{constructor(y){if(y=Object.assign({allowHalfOpen:!1},y),super(y),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",y),this.channelName=y.initiator?y.channelName||r(20).toString("hex"):null,this.initiator=y.initiator||!1,this.channelConfig=y.channelConfig||g.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},g.config,y.config),this.offerOptions=y.offerOptions||{},this.answerOptions=y.answerOptions||{},this.sdpTransform=y.sdpTransform||(b=>b),this.streams=y.streams||(y.stream?[y.stream]:[]),this.trickle=y.trickle!==void 0?y.trickle:!0,this.allowHalfTrickle=y.allowHalfTrickle!==void 0?y.allowHalfTrickle:!1,this.iceCompleteTimeout=y.iceCompleteTimeout||c,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=y.wrtc&&typeof y.wrtc=="object"?y.wrtc:e(),!this._wrtc)throw a(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(b){this.destroy(a(b,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=b=>{this._onIceCandidate(b)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(b=>{this.destroy(a(b,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=b=>{this._setupData(b)},this.streams&&this.streams.forEach(b=>{this.addStream(b)}),this._pc.ontrack=b=>{this._onTrack(b)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(y){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof y=="string")try{y=JSON.parse(y)}catch{y={}}this._debug("signal()"),y.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),y.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(y.transceiverRequest.kind,y.transceiverRequest.init)),y.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(y.candidate):this._pendingCandidates.push(y.candidate)),y.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(y)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(b=>{this._addIceCandidate(b)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(b=>{this.destroy(a(b,"ERR_SET_REMOTE_DESCRIPTION"))}),!y.sdp&&!y.candidate&&!y.renegotiate&&!y.transceiverRequest&&this.destroy(a(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(y){const b=new this._wrtc.RTCIceCandidate(y);this._pc.addIceCandidate(b).catch(_=>{!b.address||b.address.endsWith(".local")?f("Ignoring unsupported ICE candidate."):this.destroy(a(_,"ERR_ADD_ICE_CANDIDATE"))})}send(y){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(y)}}addTransceiver(y,b){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(y,b),this._needsNegotiation()}catch(_){this.destroy(a(_,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:y,init:b}})}}addStream(y){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),y.getTracks().forEach(b=>{this.addTrack(b,y)})}}addTrack(y,b){if(this.destroying)return;if(this.destroyed)throw a(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const _=this._senderMap.get(y)||new Map;let j=_.get(b);if(!j)j=this._pc.addTrack(y,b),_.set(b,j),this._senderMap.set(y,_),this._needsNegotiation();else throw j.removed?a(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):a(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(y,b,_){if(this.destroying)return;if(this.destroyed)throw a(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const j=this._senderMap.get(y),N=j?j.get(_):null;if(!N)throw a(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");b&&this._senderMap.set(b,j),N.replaceTrack!=null?N.replaceTrack(b):this.destroy(a(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(y,b){if(this.destroying)return;if(this.destroyed)throw a(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const _=this._senderMap.get(y),j=_?_.get(b):null;if(!j)throw a(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{j.removed=!0,this._pc.removeTrack(j)}catch(N){N.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(j):this.destroy(a(N,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(y){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),y.getTracks().forEach(b=>{this.removeTrack(b,y)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw a(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(y){this._destroy(y,()=>{})}_destroy(y,b){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",y&&(y.message||y)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",y&&(y.message||y)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,y&&this.emit("error",y),this.emit("close"),b()}))}_setupData(y){if(!y.channel)return this.destroy(a(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=y.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=l),this.channelName=this._channel.label,this._channel.onmessage=_=>{this._onChannelMessage(_)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=_=>{const j=_.error instanceof Error?_.error:new Error(`Datachannel error: ${_.message} ${_.filename}:${_.lineno}:${_.colno}`);this.destroy(a(j,"ERR_DATA_CHANNEL"))};let b=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(b&&this._onChannelClose(),b=!0):b=!1},u)}_read(){}_write(y,b,_){if(this.destroyed)return _(a(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(y)}catch(j){return this.destroy(a(j,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>l?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=_):_(null)}else this._debug("write before connect"),this._chunk=y,this._cb=_}_onFinish(){if(this.destroyed)return;const y=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?y():this.once("connect",y)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(y=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(y.sdp=d(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const b=()=>{if(this.destroyed)return;const N=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp})},_=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))},j=N=>{this.destroy(a(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(y).then(_).catch(j)}).catch(y=>{this.destroy(a(y,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(y=>{!y.mid&&y.sender.track&&!y.requested&&(y.requested=!0,this.addTransceiver(y.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(y=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(y.sdp=d(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const b=()=>{if(this.destroyed)return;const N=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp}),this.initiator||this._requestMissingTransceivers()},_=()=>{this.destroyed||(this.trickle||this._iceComplete?b():this.once("_iceComplete",b))},j=N=>{this.destroy(a(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(y).then(_).catch(j)}).catch(y=>{this.destroy(a(y,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(a(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const y=this._pc.iceConnectionState,b=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",y,b),this.emit("iceStateChange",y,b),(y==="connected"||y==="completed")&&(this._pcReady=!0,this._maybeReady()),y==="failed"&&this.destroy(a(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),y==="closed"&&this.destroy(a(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(y){const b=_=>(Object.prototype.toString.call(_.values)==="[object Array]"&&_.values.forEach(j=>{Object.assign(_,j)}),_);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(_=>{const j=[];_.forEach(N=>{j.push(b(N))}),y(null,j)},_=>y(_)):this._pc.getStats.length>0?this._pc.getStats(_=>{if(this.destroyed)return;const j=[];_.result().forEach(N=>{const C={};N.names().forEach(A=>{C[A]=N.stat(A)}),C.id=N.id,C.type=N.type,C.timestamp=N.timestamp,j.push(b(C))}),y(null,j)},_=>y(_)):y(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const y=()=>{this.destroyed||this.getStats((b,_)=>{if(this.destroyed)return;b&&(_=[]);const j={},N={},C={};let A=!1;_.forEach(P=>{(P.type==="remotecandidate"||P.type==="remote-candidate")&&(j[P.id]=P),(P.type==="localcandidate"||P.type==="local-candidate")&&(N[P.id]=P),(P.type==="candidatepair"||P.type==="candidate-pair")&&(C[P.id]=P)});const E=P=>{A=!0;let O=N[P.localCandidateId];O&&(O.ip||O.address)?(this.localAddress=O.ip||O.address,this.localPort=Number(O.port)):O&&O.ipAddress?(this.localAddress=O.ipAddress,this.localPort=Number(O.portNumber)):typeof P.googLocalAddress=="string"&&(O=P.googLocalAddress.split(":"),this.localAddress=O[0],this.localPort=Number(O[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let I=j[P.remoteCandidateId];I&&(I.ip||I.address)?(this.remoteAddress=I.ip||I.address,this.remotePort=Number(I.port)):I&&I.ipAddress?(this.remoteAddress=I.ipAddress,this.remotePort=Number(I.portNumber)):typeof P.googRemoteAddress=="string"&&(I=P.googRemoteAddress.split(":"),this.remoteAddress=I[0],this.remotePort=Number(I[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(_.forEach(P=>{P.type==="transport"&&P.selectedCandidatePairId&&E(C[P.selectedCandidatePairId]),(P.type==="googCandidatePair"&&P.googActiveConnection==="true"||(P.type==="candidatepair"||P.type==="candidate-pair")&&P.selected)&&E(P)}),!A&&(!Object.keys(C).length||Object.keys(N).length)){setTimeout(y,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(O){return this.destroy(a(O,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const P=this._cb;this._cb=null,P(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};y()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>l||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(y=>{this._pc.removeTrack(y),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(y){this.destroyed||(y.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:y.candidate.candidate,sdpMLineIndex:y.candidate.sdpMLineIndex,sdpMid:y.candidate.sdpMid}}):!y.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),y.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(y){if(this.destroyed)return;let b=y.data;b instanceof ArrayBuffer&&(b=o.from(b)),this.push(b)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const y=this._cb;this._cb=null,y(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(y){this.destroyed||y.streams.forEach(b=>{this._debug("on track"),this.emit("track",y.track,b),this._remoteTracks.push({track:y.track,stream:b}),!this._remoteStreams.some(_=>_.id===b.id)&&(this._remoteStreams.push(b),i(()=>{this._debug("on stream"),this.emit("stream",b)}))})}_debug(){const y=[].slice.call(arguments);y[0]="["+this._id+"] "+y[0],t.apply(null,y)}}return g.WEBRTC_SUPPORT=!!e(),g.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},g.channelConfig={},dE=g,dE}var $Ae=LAe();const aB=Er($Ae);var FAe={};class BAe{constructor(){this.socket=null,this.peer=null,this.localStream=null,this.remoteStream=null,this.callState="idle",this.callDuration=0,this.callTimer=null,this.callStartTime=null,this.onCallStateChange=null,this.onRemoteStream=null,this.onCallDuration=null,this.onError=null,this.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],audio:!0,video:!1}}async initialize(e,r){try{return this.socket=dw(FAe.REACT_APP_SIGNALING_SERVER||"http://localhost:3001",{query:{userId:e,roomId:r}}),this.setupSocketListeners(),await this.requestAudioPermission(),!0}catch(n){return console.error("Erreur initialisation AudioCall:",n),this.handleError(n),!1}}async requestAudioPermission(){try{return this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100},video:!1}),console.log("Accès microphone accordé"),!0}catch(e){throw console.error("Erreur accès microphone:",e),new Error("Accès au microphone refusé. Veuillez autoriser l'accès audio.")}}setupSocketListeners(){this.socket&&(this.socket.on("incoming-call",e=>{console.log("Appel entrant de:",e.callerId),this.callState="incoming",this.triggerCallStateChange()}),this.socket.on("call-answered",e=>{console.log("Appel répondu par:",e.answererId),this.handleCallAnswered(e)}),this.socket.on("call-rejected",e=>{console.log("Appel refusé par:",e.rejecterId),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}),this.socket.on("call-ended",e=>{console.log("Appel terminé par:",e.enderId),this.endCall()}),this.socket.on("webrtc-signal",e=>{this.peer&&this.peer.signal(e.signal)}),this.socket.on("connect",()=>{console.log("Connecté au serveur de signalisation")}),this.socket.on("disconnect",()=>{console.log("Déconnecté du serveur de signalisation"),this.handleError(new Error("Connexion perdue au serveur"))}))}async startCall(e,r){try{if(this.callState!=="idle")throw new Error("Un appel est déjà en cours");return this.localStream||await this.requestAudioPermission(),this.callState="calling",this.triggerCallStateChange(),this.peer=new aB({initiator:!0,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("start-call",{targetUserId:e,roomId:r,callerId:this.socket.id}),!0}catch(n){return console.error("Erreur démarrage appel:",n),this.handleError(n),!1}}async answerCall(e,r){try{if(this.callState!=="incoming")throw new Error("Aucun appel entrant");return this.localStream||await this.requestAudioPermission(),this.callState="connected",this.triggerCallStateChange(),this.peer=new aB({initiator:!1,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("answer-call",{callerId:e,roomId:r,answererId:this.socket.id}),this.startCallTimer(),!0}catch(n){return console.error("Erreur réponse appel:",n),this.handleError(n),!1}}rejectCall(e,r){try{this.socket.emit("reject-call",{callerId:e,roomId:r,rejecterId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(n){console.error("Erreur refus appel:",n),this.handleError(n)}}endCall(){try{this.callState==="connected"&&this.socket.emit("end-call",{enderId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(e){console.error("Erreur fin appel:",e),this.handleError(e)}}setupPeerListeners(){this.peer&&(this.peer.on("signal",e=>{this.socket.emit("webrtc-signal",{signal:e})}),this.peer.on("connect",()=>{console.log("Connexion WebRTC établie"),this.callState="connected",this.triggerCallStateChange(),this.startCallTimer()}),this.peer.on("stream",e=>{this.remoteStream=e,this.onRemoteStream&&this.onRemoteStream(e)}),this.peer.on("error",e=>{console.error("Erreur WebRTC:",e),this.handleError(e)}),this.peer.on("close",()=>{console.log("Connexion WebRTC fermée"),this.endCall()}))}startCallTimer(){this.callStartTime=Date.now(),this.callDuration=0,this.callTimer=setInterval(()=>{this.callDuration=Math.floor((Date.now()-this.callStartTime)/1e3),this.onCallDuration&&this.onCallDuration(this.callDuration)},1e3)}handleCallAnswered(e){this.peer&&this.callState==="calling"&&(this.callState="connected",this.triggerCallStateChange(),this.startCallTimer())}cleanup(){this.callTimer&&(clearInterval(this.callTimer),this.callTimer=null),this.peer&&(this.peer.destroy(),this.peer=null),this.localStream&&(this.localStream.getTracks().forEach(e=>e.stop()),this.localStream=null),this.callState="idle",this.callDuration=0,this.callStartTime=null,this.remoteStream=null}handleError(e){console.error("Erreur AudioCall:",e),this.onError&&this.onError(e)}triggerCallStateChange(){this.onCallStateChange&&this.onCallStateChange(this.callState)}formatCallDuration(e){const r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;return r>0?`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getCallState(){return{state:this.callState,duration:this.callDuration,formattedDuration:this.formatCallDuration(this.callDuration),hasLocalStream:!!this.localStream,hasRemoteStream:!!this.remoteStream}}isInCall(){return["calling","incoming","connected"].includes(this.callState)}isConnected(){return this.callState==="connected"}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.cleanup()}setCallbacks(e){this.onCallStateChange=e.onCallStateChange,this.onRemoteStream=e.onRemoteStream,this.onCallDuration=e.onCallDuration,this.onError=e.onError}}const Ju=new BAe,cte=({isOpen:t=!1,onClose:e,targetUser:r=null,currentUser:n=null,roomId:i=null})=>{const[a,o]=x.useState("idle"),[l,c]=x.useState(0),[u,d]=x.useState(!1),[f,g]=x.useState(!0),[v,y]=x.useState(!1),[b,_]=x.useState(null),[j,N]=x.useState(!1),C=x.useRef(null),{toast:A}=Vr();x.useEffect(()=>{t&&n&&i&&E()},[t,n,i]),x.useEffect(()=>{t||V()},[t]);const E=async()=>{try{y(!0),_(null),console.log("🔍 Initialisation appel simplifié pour:",{currentUser:n?.id,targetUser:r?.id,roomId:i}),setTimeout(()=>{o("calling"),y(!1),A({title:"Appel initialisé",description:`Appel en cours vers ${r?.first_name||r?.last_name||"l'utilisateur"}`,duration:3e3})},1e3)}catch(G){console.error("Erreur initialisation:",G),_(G.message),A({title:"Erreur d'initialisation",description:G.message,variant:"destructive",duration:5e3})}finally{y(!1)}};x.useCallback(G=>{o(G),N(G==="connected"),G==="ended"&&setTimeout(()=>{e()},2e3)},[e]),x.useCallback(G=>{C.current&&(C.current.srcObject=G,C.current.play().catch(console.error))},[]),x.useCallback(G=>{c(G)},[]);const P=x.useCallback(G=>{_(G.message),A({title:"Erreur d'appel",description:G.message,variant:"destructive",duration:5e3})},[A]),O=async()=>{try{if(!r||!i)throw new Error("Informations manquantes pour l'appel");await Ju.startCall(r.id,i)&&A({title:"Appel en cours...",description:`Appel de ${r.name||r.email}`,duration:3e3})}catch(G){console.error("Erreur démarrage appel:",G),P(G)}},I=async()=>{try{await Ju.answerCall()&&A({title:"Appel accepté",description:"Connexion en cours...",duration:3e3})}catch(G){console.error("Erreur réponse appel:",G),P(G)}},F=()=>{Ju.rejectCall(),A({title:"Appel refusé",description:"L'appel a été refusé",duration:3e3,variant:"destructive"})},H=()=>{Ju.endCall(),A({title:"Appel terminé",description:"L'appel a été terminé",duration:3e3})},U=()=>{if(Ju.localStream){const G=Ju.localStream.getAudioTracks()[0];G&&(G.enabled=!G.enabled,d(!G.enabled),A({title:u?"Micro activé":"Micro désactivé",description:u?"Votre voix est maintenant audible":"Votre voix est maintenant muette",duration:2e3}))}},z=()=>{C.current&&(C.current.muted=!C.current.muted,g(!C.current.muted),A({title:f?"Haut-parleur désactivé":"Haut-parleur activé",description:f?"Son désactivé":"Son activé",duration:2e3}))},V=()=>{Ju.disconnect(),o("idle"),c(0),N(!1),_(null)},X=()=>{Ju.isInCall()&&H(),e()},te=G=>{const ie=Math.floor(G/60),Z=G%60;return`${ie.toString().padStart(2,"0")}:${Z.toString().padStart(2,"0")}`},le=()=>{switch(a){case"calling":return s.jsx(ipe,{className:"h-6 w-6 text-orange-500"});case"incoming":return s.jsx(npe,{className:"h-6 w-6 text-green-500"});case"connected":return s.jsx(Xa,{className:"h-6 w-6 text-green-500"});default:return s.jsx(Xa,{className:"h-6 w-6 text-gray-500"})}},W=()=>{switch(a){case"calling":return"Appel en cours...";case"incoming":return"Appel entrant";case"connected":return"Appel en cours";case"ended":return"Appel terminé";default:return"Prêt pour l'appel"}},re=()=>a==="connected"?`Durée: ${te(l)}`:r?`Appel de ${r.name||r.email}`:"En attente...";return t?s.jsx(Bn,{children:s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:s.jsxs(Re.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[s.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white text-center relative",children:[s.jsx("button",{onClick:X,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:s.jsx(Gs,{className:"h-5 w-5"})}),s.jsx("div",{className:"flex items-center justify-center mb-4",children:le()}),s.jsx("h2",{className:"text-xl font-semibold mb-1",children:W()}),s.jsx("p",{className:"text-blue-100 text-sm",children:re()})]}),s.jsxs("div",{className:"p-6 space-y-6",children:[r&&s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:s.jsx(Us,{className:"h-10 w-10 text-white"})}),s.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name||"Utilisateur"}),r.email&&s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.email})]}),s.jsxs("div",{className:"text-center",children:[s.jsx(vt,{variant:a==="connected"?"default":"secondary",children:a.toUpperCase()}),a==="connected"&&s.jsxs("div",{className:"flex items-center justify-center mt-2 text-green-600",children:[s.jsx(Ri,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"font-mono",children:te(l)})]})]}),b&&s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[s.jsx(wn,{className:"h-5 w-5 text-red-500 mr-2"}),s.jsx("span",{className:"text-red-700 text-sm",children:b})]}),s.jsxs("div",{className:"space-y-3",children:[a==="idle"&&s.jsx(fe,{onClick:O,disabled:v||!r,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:v?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"h-5 w-5 mr-2 animate-spin"}),"Initialisation..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Xa,{className:"h-5 w-5 mr-2"}),"Appeler"]})}),a==="incoming"&&s.jsxs("div",{className:"flex space-x-3",children:[s.jsxs(fe,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[s.jsx(Xa,{className:"h-5 w-5 mr-2"}),"Répondre"]}),s.jsxs(fe,{onClick:F,variant:"destructive",className:"flex-1",size:"lg",children:[s.jsx(EN,{className:"h-5 w-5 mr-2"}),"Refuser"]})]}),a==="calling"&&s.jsxs(fe,{onClick:H,variant:"destructive",className:"w-full",size:"lg",children:[s.jsx(EN,{className:"h-5 w-5 mr-2"}),"Annuler l'appel"]}),a==="connected"&&s.jsxs(fe,{onClick:H,variant:"destructive",className:"w-full",size:"lg",children:[s.jsx(EN,{className:"h-5 w-5 mr-2"}),"Terminer l'appel"]}),a==="connected"&&s.jsxs("div",{className:"flex space-x-3 pt-3 border-t",children:[s.jsxs(fe,{onClick:U,variant:u?"destructive":"outline",className:"flex-1",children:[u?s.jsx(Yhe,{className:"h-4 w-4 mr-2"}):s.jsx(Xhe,{className:"h-4 w-4 mr-2"}),u?"Activer":"Muet"]}),s.jsxs(fe,{onClick:z,variant:f?"outline":"destructive",className:"flex-1",children:[f?s.jsx(gpe,{className:"h-4 w-4 mr-2"}):s.jsx(vpe,{className:"h-4 w-4 mr-2"}),f?"Désactiver":"Activer"]})]})]}),s.jsx("div",{className:"text-center text-sm text-gray-500",children:j?s.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[s.jsx(zn,{className:"h-4 w-4 mr-2"}),"Connecté"]}):s.jsxs("div",{className:"flex items-center justify-center text-gray-400",children:[s.jsx(nn,{className:"h-4 w-4 mr-2 animate-spin"}),"Connexion..."]})})]}),s.jsx("audio",{ref:C,autoPlay:!0,playsInline:!0,className:"hidden"})]})})}):null},zAe=({value:t,onChange:e,onSend:r,onAttachment:n,onEmoji:i,onVoice:a,onCamera:o,placeholder:l="Tapez votre message...",disabled:c=!1,showActions:u=!0})=>{const[d,f]=x.useState(!1),[g,v]=x.useState(!1),[y,b]=x.useState(!1),[_,j]=x.useState(!1),[N,C]=x.useState(!1),[A,E]=x.useState(!1),P=x.useRef(null),O=()=>{t.trim()&&!c&&r(t.trim())},I=te=>{te.key==="Enter"&&!te.shiftKey&&(te.preventDefault(),O())},F=te=>{const le=Array.from(te.target.files);le.length>0&&n(le)},H=te=>{const le=new Pw([te.blob],`photo_${Date.now()}.jpg`,{type:"image/jpeg",lastModified:Date.now()});n&&n([le])},U=te=>{n&&n(te)},z=te=>{const le=`📍 Localisation partagée
Lat: ${te.latitude.toFixed(6)}
Lng: ${te.longitude.toFixed(6)}${te.name?`
Lieu: ${te.name}`:""}`;n&&n([{type:"location",data:te,message:le}])},V=te=>{const le=`📅 Rendez-vous planifié
Titre: ${te.title}
Date: ${new Date(te.date).toLocaleDateString("fr-FR")}
Heure: ${te.time}${te.location?`
Lieu: ${te.location}`:""}${te.description?`
Description: ${te.description}`:""}`;n&&n([{type:"appointment",data:te,message:le}])},X=[{icon:YH,label:"Photo",action:()=>b(!0)},{icon:qf,label:"Caméra",action:()=>v(!0)},{icon:Pw,label:"Document",action:()=>b(!0)},{icon:Nl,label:"Localisation",action:()=>j(!0)},{icon:zl,label:"Rendez-vous",action:()=>C(!0)},{icon:Xa,label:"Appel",action:()=>E(!0)},{icon:SM,label:"Vidéo",action:()=>console.log("Vidéo - Phase 3")}];return s.jsxs("div",{className:"bg-card border-t border-border p-3",children:[d&&s.jsx("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:s.jsx("div",{className:"grid grid-cols-4 gap-2",children:X.map((te,le)=>s.jsxs(fe,{variant:"ghost",size:"sm",onClick:te.action,className:"flex flex-col items-center space-y-1 p-2 h-auto",children:[s.jsx(te.icon,{className:"h-5 w-5 text-muted-foreground"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:te.label})]},le))})}),s.jsxs("div",{className:"flex items-end space-x-2",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>f(!d),className:"p-2 flex-shrink-0",children:s.jsx(Ol,{className:`h-4 w-4 transition-transform ${d?"rotate-45":""}`})}),s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(it,{ref:P,placeholder:l,value:t,onChange:e,onKeyPress:I,disabled:c,className:"pr-20 resize-none",style:{minHeight:"44px"}}),s.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-1",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-6 w-6",children:s.jsx(cpe,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:s.jsx(tpe,{className:"h-4 w-4"})})]})]}),s.jsx(fe,{onClick:O,disabled:!t.trim()||c,className:"bg-primary hover:bg-primary/90 flex-shrink-0 px-4",children:s.jsx(Bc,{className:"h-4 w-4"})})]}),s.jsx("input",{ref:P,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.txt",onChange:F,className:"hidden"}),t&&s.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Appuyez sur Entrée pour envoyer, Shift+Entrée pour une nouvelle ligne"}),s.jsx(xke,{isOpen:g,onClose:()=>v(!1),onCapture:H}),s.jsx(bke,{isOpen:y,onClose:()=>b(!1),onFilesSelected:U}),s.jsx(Cke,{isOpen:_,onClose:()=>j(!1),onLocationSelect:z}),s.jsx(Eke,{isOpen:N,onClose:()=>C(!1),onAppointmentCreate:V}),s.jsx(cte,{isOpen:A,onClose:()=>E(!1),targetUser:{id:"user123",name:"Utilisateur Test",email:"test@example.com"},currentUser:{id:"currentUser",name:"Moi"},roomId:"room123"})]})},ute=({size:t="default",className:e=""})=>s.jsx(P1,{size:t,showStatus:!0,className:e}),qAe=new V7({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:1}}}),UAe=()=>{const{user:t}=pke(),{toast:e}=Vr(),[r]=u1(),{data:n,isLoading:i,error:a,refetch:o}=mke(),l=Bl(),[c,u]=x.useState(null),[d,f]=x.useState([]),[g,v]=x.useState(""),[y,b]=x.useState("all"),[_,j]=x.useState(!1),[N,C]=x.useState(!1),[A,E]=x.useState(""),[P,O]=x.useState(!1),[I,F]=x.useState(null),[H,U]=x.useState(new Set),[z,V]=x.useState(!1),[X,te]=x.useState(null),[le,W]=x.useState(!1),[re,G]=x.useState(null);gke(c?.id);const ie=Ui({mutationFn:ue=>is.deleteConversation(ue),onSuccess:()=>{l.invalidateQueries(["conversations"]),e({title:"Conversation supprimée",description:"La conversation a été supprimée définitivement"})},onError:ue=>{e({title:"Erreur",description:"Impossible de supprimer la conversation",variant:"destructive"})}});x.useEffect(()=>{if(!n||n.length===0)return;const ue=r.get("conversation"),Te=r.get("listing");if(ue&&!c){const J=n.find(D=>D.id===ue);J&&(console.log("🔍 Ouverture automatique de la conversation:",ue),u(J),Z(J.id))}else if(Te&&!c){const J=n.find(D=>D.listing_id===Te);J&&(console.log("🔍 Ouverture automatique de la conversation pour l'annonce:",Te),u(J),Z(J.id))}},[n,r,c]),x.useEffect(()=>{if(!t)return;const ue=be.channel("conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations",filter:`participant1_id=eq.${t.id} OR participant2_id=eq.${t.id}`},Te=>{console.log("🆕 Nouvelle conversation reçue:",Te),o()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`participant1_id=eq.${t.id} OR participant2_id=eq.${t.id}`},Te=>{console.log("🔄 Conversation mise à jour:",Te),o()}).subscribe();return()=>{be.removeChannel(ue)}},[t,o]),x.useEffect(()=>{if(!t)return;const ue=be.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${t.id}`},Te=>{console.log("💬 Nouveau message reçu:",Te),c&&Te.new.conversation_id===c.id&&f(J=>[...J,Te.new]),o(),Te.new.sender_id!==t.id&&e({title:"Nouveau message",description:"Vous avez reçu un nouveau message"})}).subscribe();return()=>{be.removeChannel(ue)}},[t,c,o,e]);const Z=async ue=>{if(ue){C(!0);try{const Te=await is.getConversationMessages(ue);f(Te),await is.markMessagesAsRead(ue),o()}catch(Te){console.error("Erreur chargement messages:",Te),e({title:"Erreur",description:"Impossible de charger les messages",variant:"destructive"})}finally{C(!1)}}},de=async ue=>{u(ue),Z(ue.id),j(!1);try{await is.markMessagesAsRead(ue.id),o()}catch(Te){console.error("Erreur lors du marquage des messages comme lus:",Te)}},Se=async ue=>{if(!(!ue.trim()||!c))try{const Te=await is.sendMessage(c.id,ue.trim());E(""),f(J=>[...J,Te]),o()}catch(Te){console.error("Erreur envoi message:",Te),e({title:"Erreur",description:"Impossible d'envoyer le message",variant:"destructive"})}},Me=ue=>{console.log("Fichiers sélectionnés:",ue)},qe=()=>{},oe=()=>{if(!c||!t){e({title:"Erreur",description:"Impossible de déterminer la conversation ou l'utilisateur",variant:"destructive"});return}const ue=c.participant1_id===t.id?c.participant2:c.participant1;if(!ue||!ue.id){e({title:"Erreur",description:"Impossible de déterminer l'interlocuteur",variant:"destructive"});return}console.log("🔍 Initialisation appel avec:",{user:t.id,target:ue.id,targetName:ue.first_name||ue.last_name||"Utilisateur"}),G(ue),W(!0),e({title:"Appel audio",description:`Initialisation de l'appel avec ${ue.first_name||ue.last_name||"l'utilisateur"}`})},ae=()=>{W(!1),G(null)},Ae=[...(n?.filter(ue=>y==="unread"?ue.messages?.some(Te=>!Te.is_read&&Te.sender_id!==t?.id):y==="starred"?ue.starred:y==="archived"?ue.is_archived:!0)||[]).filter(ue=>{if(!g)return!0;const Te=g.toLowerCase(),J=`${ue.participant1?.first_name||""} ${ue.participant1?.last_name||""}`.toLowerCase(),D=`${ue.participant2?.first_name||""} ${ue.participant2?.last_name||""}`.toLowerCase();return!!(J.includes(Te)||D.includes(Te)||ue.listing?.title?.toLowerCase().includes(Te)||ue.messages?.some(B=>B.content?.toLowerCase().includes(Te)))})].sort((ue,Te)=>{const J=ue.messages?.[ue.messages.length-1]?.created_at||ue.created_at,D=Te.messages?.[Te.messages.length-1]?.created_at||Te.created_at;return!J&&!D?0:J?D?new Date(D)-new Date(J):-1:1});console.log("🔍 Conversations triées:",Ae.map(ue=>({id:ue.id,title:ue.listing?.title||"Sans titre",lastMessage:ue.messages?.[ue.messages.length-1]?.created_at||ue.created_at,hasUnread:ue.messages?.some(Te=>!Te.is_read&&Te.sender_id!==t?.id)})));const Q={total:n?.length||0,unread:n?.filter(ue=>ue.messages?.some(Te=>!Te.is_read&&Te.sender_id!==t?.id)).length||0,starred:n?.filter(ue=>ue.starred).length||0,archived:n?.filter(ue=>ue.is_archived).length||0},Y=async ue=>{try{await is.markMessagesAsRead(ue.id),o()}catch{e({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},Ee=async ue=>{try{const Te=!ue.starred;await is.toggleConversationStar(ue.id,Te),o()}catch{e({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},Ce=async ue=>{try{await is.archiveConversation(ue.id),o()}catch{e({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},Qe=ue=>{c?.id===ue.id&&(u(null),f([])),ie.mutate(ue.id)},Ze=ue=>{F(ue),O(!0)},Oe=ue=>{V(!0),U(new Set([ue]))},ht=ue=>{z&&U(Te=>{const J=new Set(Te);return J.has(ue)?J.delete(ue):J.add(ue),J})},Ft=ue=>{z&&ht(ue)},ye=()=>{U(new Set),V(!1)},Pe=()=>{const ue=d.map(Te=>Te.id);U(new Set(ue))},Fe=()=>{const ue=d.filter(Te=>Te.sender_id===t?.id).map(Te=>Te.id);U(new Set(ue))},et=async()=>{if(H.size!==0)try{const ue=Array.from(H).map(Te=>is.deleteMessage(Te));await Promise.all(ue),f(Te=>Te.filter(J=>!H.has(J.id))),ye(),e({title:"Messages supprimés",description:`${H.size} message(s) supprimé(s) avec succès`})}catch{e({title:"Erreur",description:"Impossible de supprimer certains messages",variant:"destructive"})}},lt=()=>{H.size};return a?s.jsx("div",{className:"flex items-center justify-center h-96",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Oi,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Erreur de chargement"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:a.message||"Impossible de charger les conversations"}),s.jsx(fe,{onClick:()=>o(),className:"bg-blue-600 hover:bg-blue-700",children:"Réessayer"})]})}):s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx(vke,{selectedConversation:c,onBack:()=>u(null),onMenuToggle:()=>j(!_),onSearch:()=>j(!1),onFilter:()=>j(!1),onMore:()=>console.log("Plus d'options"),onCall:oe,onVideo:()=>console.log("Video"),unreadCount:Q.unread}),s.jsx("div",{className:"bg-card border-b border-border px-6 py-4 hidden md:block",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:"Centre de Messages"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations et échangez avec d'autres utilisateurs"})]}),s.jsx("div",{className:"flex items-center space-x-3",children:s.jsxs(fe,{className:"bg-primary hover:bg-primary/90",children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Nouvelle Conversation"]})})]})}),s.jsxs("div",{className:"flex h-[calc(100vh-120px)] md:h-[calc(100vh-140px)]",children:[s.jsxs("div",{className:`
          ${c?"hidden md:block":"block"} 
          w-full md:w-80 lg:w-96 
          bg-card border-r border-border 
          flex flex-col
        `,children:[s.jsx(yke,{searchTerm:g,onSearchChange:v,filterType:y,onFilterChange:b,onClear:()=>v(""),totalCount:Q.total,unreadCount:Q.unread,starredCount:Q.starred,archivedCount:Q.archived}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:i?s.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((ue,Te)=>s.jsx("div",{className:"animate-pulse",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),s.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},Te))}):Ae.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Oi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Aucune conversation"}),s.jsx("p",{className:"text-muted-foreground",children:g?"Aucune conversation trouvée pour votre recherche":"Commencez une nouvelle conversation"})]}):s.jsx("div",{className:"space-y-1",children:Ae.map(ue=>s.jsx(VAe,{conversation:ue,isSelected:c?.id===ue.id,onSelect:()=>de(ue),onMarkAsRead:()=>Y(ue),onToggleStar:()=>Ee(ue),onArchive:()=>Ce(ue),onDelete:()=>Ze(ue),currentUserId:t?.id},ue.id))})})]}),c?s.jsxs("div",{className:"flex-1 flex flex-col bg-card",children:[s.jsx("div",{className:"border-b border-border p-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(fy,{user:c.participant1_id===t?.id?c.participant2:c.participant1,size:"default"}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:(()=>{const ue=c.participant1_id===t?.id?c.participant2:c.participant1;return ue&&`${ue.first_name||""} ${ue.last_name||""}`.trim()||"Utilisateur"})()}),s.jsx("p",{className:"text-sm text-muted-foreground",children:c.listing?.title||"Conversation"})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:oe,children:s.jsx(Xa,{className:"h-4 w-4"})}),s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsx(fe,{variant:"ghost",size:"sm",children:s.jsx(fh,{className:"h-4 w-4"})})}),s.jsxs(au,{align:"end",className:"w-48",children:[s.jsxs($r,{onClick:()=>Ee(c),children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),c.starred?"Retirer des favoris":"Ajouter aux favoris"]}),s.jsxs($r,{onClick:()=>Ce(c),children:[s.jsx(y1,{className:"h-4 w-4 mr-2"}),c.is_archived?"Désarchiver":"Archiver"]}),s.jsx(Km,{}),s.jsxs($r,{onClick:()=>Ze(c),className:"text-destructive focus:text-destructive",children:[s.jsx(qo,{className:"h-4 w-4 mr-2"}),"Supprimer la conversation"]})]})]})]})]})}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[z&&s.jsx("div",{className:"sticky top-0 bg-card border border-border rounded-lg p-3 mb-4 shadow-sm z-10",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsxs("span",{className:"text-sm font-medium text-foreground",children:[H.size," message(s) sélectionné(s)"]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(fe,{variant:"outline",size:"sm",onClick:Pe,className:"text-xs",children:"Tout sélectionner"}),s.jsx(fe,{variant:"outline",size:"sm",onClick:Fe,className:"text-xs",children:"Mes messages"})]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(fe,{variant:"outline",size:"sm",onClick:ye,className:"text-xs",children:"Annuler"}),s.jsxs(fe,{variant:"destructive",size:"sm",onClick:lt,className:"text-xs",disabled:H.size===0,children:["Supprimer (",H.size,")"]})]})]})}),!z&&d.length>0&&s.jsxs("div",{className:"text-center text-xs text-muted-foreground mb-4 p-2 bg-muted/30 rounded-lg",children:["💡 ",s.jsx("strong",{children:"Appui long"})," sur un message pour activer la sélection multiple"]}),N?s.jsx("div",{className:"flex items-center justify-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?s.jsx("div",{className:"text-center text-muted-foreground",children:s.jsx("p",{children:"Aucun message dans cette conversation"})}):d.map(ue=>s.jsx(WAe,{message:ue,isOwn:ue.sender_id===t?.id,participant1:c.participant1,participant2:c.participant2,currentUserId:t?.id,onLongPress:()=>Oe(ue.id),onPress:()=>Ft(ue.id),isSelected:H.has(ue.id),isSelectionMode:z},ue.id))]}),s.jsx(zAe,{value:A,onChange:ue=>E(ue.target.value),onSend:Se,onAttachment:Me,onEmoji:qe,onVoice:()=>console.log("Voice message"),onCamera:()=>console.log("Camera"),placeholder:"Tapez votre message...",disabled:N})]}):s.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-muted/50",children:s.jsxs("div",{className:"text-center",children:[s.jsx(Oi,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h3",{className:"text-xl font-medium text-card-foreground mb-2",children:"Sélectionnez une conversation"}),s.jsx("p",{className:"text-muted-foreground",children:"Choisissez une conversation dans la liste pour commencer à échanger"})]})})]}),P&&I&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Êtes-vous sûr de vouloir supprimer définitivement cette conversation ? Cette action ne peut pas être annulée."}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(fe,{variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Annuler"}),s.jsx(fe,{variant:"destructive",onClick:()=>{Qe(I),O(!1),F(null)},className:"flex-1",disabled:ie.isLoading,children:ie.isLoading?"Suppression...":"Supprimer"})]})]})}),z&&H.size>0&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["Êtes-vous sûr de vouloir supprimer définitivement ",H.size," message(s) ? Cette action ne peut pas être annulée."]}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx(fe,{variant:"outline",onClick:ye,className:"flex-1",children:"Annuler"}),s.jsxs(fe,{variant:"destructive",onClick:et,className:"flex-1",children:["Supprimer (",H.size,")"]})]})]})}),le&&re&&s.jsx(cte,{isOpen:le,onClose:ae,targetUser:re,currentUser:t,roomId:`call-${t?.id}-${re.id}`})]})},VAe=({conversation:t,isSelected:e,onSelect:r,onMarkAsRead:n,onToggleStar:i,onArchive:a,onDelete:o,currentUserId:l})=>{const c=t.messages?.[t.messages.length-1],u=t.messages?.some(v=>!v.is_read&&v.sender_id!==l),d=t.participant1_id===l?t.participant2:t.participant1,f=t.participant1_id==="00000000-0000-0000-0000-000000000000"||t.participant2_id==="00000000-0000-0000-0000-000000000000",g=v=>{if(!v)return"À l'instant";try{const y=new Date(v),b=new Date,_=Math.floor((b-y)/(1e3*60*60)),j=Math.floor((b-y)/(1e3*60*60*24));return _<1?"À l'instant":_<24?`Il y a ${_}h`:j<7?`Il y a ${j}j`:y.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}};return s.jsxs("div",{className:`
        group p-4 cursor-pointer transition-colors hover:bg-accent relative
        ${e?"bg-primary/10 border-r-2 border-primary":""}
        ${u?"bg-primary/10":""}
        ${f?"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500":""}
      `,onClick:r,children:[f&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-2 py-1 rounded-full font-medium shadow-sm",children:"🤖 Assistant"})}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsxs("div",{className:"relative",children:[f?s.jsx(ute,{size:"default",className:"flex-shrink-0"}):s.jsx(fy,{user:d,size:"default",className:"flex-shrink-0"}),u&&s.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full"})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsx("h4",{className:"font-medium text-sm truncate",children:f?"AIDA":d&&`${d.first_name||""} ${d.last_name||""}`.trim()||"Utilisateur"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[t.starred&&s.jsx(cs,{className:"h-3 w-3 text-yellow-500 fill-current"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:c?.created_at?g(c.created_at):"À l'instant"})]})]}),s.jsx("p",{className:"text-sm text-muted-foreground truncate mb-1",children:c?.content||"Aucun message"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:f?"Support et assistance":t.listing?.title||"Conversation"}),s.jsx("div",{className:"flex items-center space-x-1",children:u&&s.jsx(vt,{variant:"destructive",className:"h-5 px-2 text-xs",children:"Nouveau"})})]})]}),s.jsx("div",{className:"flex-shrink-0",onClick:v=>v.stopPropagation(),children:s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:s.jsx(fh,{className:"h-4 w-4"})})}),s.jsxs(au,{align:"end",className:"w-48",children:[s.jsxs($r,{onClick:()=>n?.(t),children:[s.jsx(Bo,{className:"h-4 w-4 mr-2"}),"Marquer comme lu"]}),s.jsxs($r,{onClick:()=>i?.(t),children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),t.starred?"Retirer des favoris":"Ajouter aux favoris"]}),s.jsxs($r,{onClick:()=>a?.(t),children:[s.jsx(y1,{className:"h-4 w-4 mr-2"}),t.is_archived?"Désarchiver":"Archiver"]}),s.jsx(Km,{}),s.jsxs($r,{onClick:()=>o?.(t),className:"text-destructive focus:text-destructive",children:[s.jsx(qo,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]})]})},WAe=({message:t,isOwn:e,participant1:r,participant2:n,currentUserId:i,onLongPress:a,onPress:o,isSelected:l=!1,isSelectionMode:c=!1})=>{const[u,d]=x.useState(null),f=t.sender_id==="00000000-0000-0000-0000-000000000000",g=j=>{if(!j)return"À l'instant";try{return new Date(j).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch{return"À l'instant"}},v=t.sender_id===r?.id?r:n,y=()=>{if(a){const j=setTimeout(()=>{a()},500);d(j)}},b=()=>{u&&(clearTimeout(u),d(null))},_=()=>{o&&o()};return s.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} space-x-2`,onTouchStart:y,onTouchEnd:b,onClick:_,children:[!e&&(f?s.jsx(ute,{size:"sm",className:"flex-shrink-0 mt-1"}):s.jsx(fy,{user:v,size:"sm",className:"flex-shrink-0 mt-1"})),s.jsxs("div",{className:`
        relative max-w-xs lg:max-w-md px-4 py-2 rounded-lg cursor-pointer
        transition-all duration-200
        ${e?"bg-primary text-primary-foreground":f?"bg-gradient-to-r from-blue-100 to-purple-100 text-gray-800 border border-blue-200":"bg-muted text-muted-foreground"}
        ${l?"ring-2 ring-primary ring-offset-2":""}
        ${c?"hover:ring-2 hover:ring-primary/50":""}
      `,children:[l&&s.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-primary-foreground text-xs",children:"✓"})}),s.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!e&&s.jsx("span",{className:`text-xs font-medium ${f?"text-blue-600":""}`,children:f?"🤖 AIDA":v&&`${v.first_name||""} ${v.last_name||""}`.trim()||"Utilisateur"}),s.jsx("span",{className:"text-xs opacity-75",children:g(t.created_at)})]}),s.jsx("p",{className:"text-sm",children:t.content})]}),e&&s.jsx(fy,{user:{first_name:"Moi",last_name:""},size:"sm",className:"flex-shrink-0 mt-1"})]})},HAe=()=>s.jsx(K7,{client:qAe,children:s.jsx(UAe,{})}),uj=(t=null,e={})=>{const r=Bl(),{user:n}=Mr(),[i,a]=x.useState(new Set);x.useEffect(()=>{n&&o()},[n]);const o=async()=>{try{const A=await zc.getUserFavoritesWithStatus();a(A)}catch(A){console.error("Erreur lors du chargement des favoris:",A)}},{data:l,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:d,isLoading:f,error:g,refetch:v}=toe({queryKey:["listings",t,e],queryFn:({pageParam:A=0})=>{const E={status:"approved",category:t,search:e.search,minPrice:e.minPrice,maxPrice:e.maxPrice,location:e.location,page:A,limit:12,...e};return rn.getAllListings(E)},getNextPageParam:(A,E)=>A.hasMore?E.length:void 0,staleTime:eF.listings.staleTime,gcTime:eF.listings.gcTime,keepPreviousData:!0}),y=Ui({mutationFn:A=>{if(!n)throw new Error("Vous devez être connecté pour créer une annonce");return rn.createListing({...A,user_id:n.id,status:"pending"})},onSuccess:()=>{r.invalidateQueries(["listings"])}}),b=Ui({mutationFn:({id:A,updates:E})=>rn.updateListing(A,E),onSuccess:(A,E)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.map(I=>I.id===E.id?{...I,...E.updates}:I)}))})}}),_=Ui({mutationFn:A=>rn.deleteListing(A),onSuccess:(A,E)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.filter(I=>I.id!==E)}))})}}),j=Ui({mutationFn:async A=>{if(!n)throw new Error("Vous devez être connecté pour ajouter aux favoris");const E=await zc.toggleFavorite(A);return a(P=>{const O=new Set(P);return E.is_favorite?O.add(A):O.delete(A),O}),E},onSuccess:(A,E)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.map(I=>I.id===E?{...I,is_favorite:A.is_favorite}:I)}))}),r.invalidateQueries(["favorites"]),r.invalidateQueries(["userStats"])},onError:(A,E)=>{a(P=>{const O=new Set(P);return i.has(E)?O.delete(E):O.add(E),O}),console.error("Erreur lors du basculement des favoris:",A)}}),N=A=>i.has(A);return{listings:(l?.pages.flatMap(E=>E.data)||[]).map(E=>({...E,is_favorite:i.has(E.id)})),loading:f,error:g,hasMore:u,isFetchingMore:d,loadMore:c,refresh:v,createListing:y.mutate,updateListing:b.mutate,deleteListing:_.mutate,toggleFavorite:j.mutate,isCreating:y.isLoading,isUpdating:b.isLoading,isDeleting:_.isLoading,isTogglingFavorite:j.isLoading,isFavorite:N,favoriteIds:i,loadUserFavorites:o}},KAe=()=>{const{user:t}=Mr(),e=Bl(),[r,n]=x.useState(new Set),{data:i,isLoading:a,error:o,refetch:l}=Ti({queryKey:["favorites",t?.id],queryFn:()=>zc.getUserFavorites(),enabled:!!t,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:c,isLoading:u,error:d}=Ti({queryKey:["favoriteIds",t?.id],queryFn:()=>zc.getUserFavoritesWithStatus(),enabled:!!t,staleTime:2*60*1e3,gcTime:5*60*1e3});x.useEffect(()=>{c&&n(c)},[c]);const f=Ui({mutationFn:async j=>{if(!t)throw new Error("Vous devez être connecté pour ajouter aux favoris");return{...await zc.toggleFavorite(j),listingId:j}},onMutate:async j=>{await e.cancelQueries(["favorites",t?.id]),await e.cancelQueries(["favoriteIds",t?.id]);const N=e.getQueryData(["favorites",t?.id]),C=e.getQueryData(["favoriteIds",t?.id]),A=new Set(r);return A.has(j)?A.delete(j):A.add(j),n(A),e.setQueryData(["favoriteIds",t?.id],A),{previousFavorites:N,previousIds:C,listingId:j}},onSuccess:(j,N)=>{e.invalidateQueries(["favorites",t?.id]),e.invalidateQueries(["favoriteIds",t?.id]),e.invalidateQueries(["listings"]),e.invalidateQueries(["userStats"])},onError:(j,N,C)=>{C?.previousIds&&(n(C.previousIds),e.setQueryData(["favoriteIds",t?.id],C.previousIds)),console.error("Erreur lors du basculement des favoris:",j)}}),g=j=>r.has(j),v=j=>{f.mutate(j)},y=j=>{g(j)||v(j)},b=j=>{g(j)&&v(j)},_=()=>{l()};return{favorites:i||[],favoriteIds:r,isLoading:a||u,error:o||d,isToggling:f.isLoading,isFavorite:g,toggleFavorite:v,addToFavorites:y,removeFromFavorites:b,refreshFavorites:_,totalFavorites:i?.length||0,toggleFavoriteMutation:f}};var GAe=t=>{switch(t){case"success":return XAe;case"info":return QAe;case"warning":return JAe;case"error":return eTe;default:return null}},ZAe=Array(12).fill(0),YAe=({visible:t,className:e})=>ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ne.createElement("div",{className:"sonner-spinner"},ZAe.map((r,n)=>ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),XAe=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),JAe=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),QAe=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),eTe=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),tTe=ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),rTe=()=>{let[t,e]=ne.useState(document.hidden);return ne.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},lO=1,nTe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:lO++,a=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),a?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,a,o=n.then(async c=>{if(a=["resolve",c],ne.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(sTe(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(a=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>a[0]==="reject"?u(a[1]):c(a[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=e?.id||lO++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Bs=new nTe,iTe=(t,e)=>{let r=e?.id||lO++;return Bs.addToast({title:t,...e,id:r}),r},sTe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",aTe=iTe,oTe=()=>Bs.toasts,lTe=()=>Bs.getActiveToasts(),fE=Object.assign(aTe,{success:Bs.success,info:Bs.info,warning:Bs.warning,error:Bs.error,custom:Bs.custom,message:Bs.message,promise:Bs.promise,dismiss:Bs.dismiss,loading:Bs.loading},{getHistory:oTe,getToasts:lTe});function cTe(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}cTe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Mb(t){return t.label!==void 0}var uTe=3,dTe="32px",fTe="16px",oB=4e3,hTe=356,pTe=14,mTe=20,gTe=200;function _o(...t){return t.filter(Boolean).join(" ")}function vTe(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var yTe=t=>{var e,r,n,i,a,o,l,c,u,d,f;let{invert:g,toast:v,unstyled:y,interacting:b,setHeights:_,visibleToasts:j,heights:N,index:C,toasts:A,expanded:E,removeToast:P,defaultRichColors:O,closeButton:I,style:F,cancelButtonStyle:H,actionButtonStyle:U,className:z="",descriptionClassName:V="",duration:X,position:te,gap:le,loadingIcon:W,expandByDefault:re,classNames:G,icons:ie,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:de}=t,[Se,Me]=ne.useState(null),[qe,oe]=ne.useState(null),[ae,ge]=ne.useState(!1),[ve,Ae]=ne.useState(!1),[Q,Y]=ne.useState(!1),[Ee,Ce]=ne.useState(!1),[Qe,Ze]=ne.useState(!1),[Oe,ht]=ne.useState(0),[Ft,ye]=ne.useState(0),Pe=ne.useRef(v.duration||X||oB),Fe=ne.useRef(null),et=ne.useRef(null),lt=C===0,ue=C+1<=j,Te=v.type,J=v.dismissible!==!1,D=v.className||"",B=v.descriptionClassName||"",me=ne.useMemo(()=>N.findIndex(Bt=>Bt.toastId===v.id)||0,[N,v.id]),Ne=ne.useMemo(()=>{var Bt;return(Bt=v.closeButton)!=null?Bt:I},[v.closeButton,I]),ze=ne.useMemo(()=>v.duration||X||oB,[v.duration,X]),We=ne.useRef(0),Rt=ne.useRef(0),gr=ne.useRef(0),rr=ne.useRef(null),[ur,ar]=te.split("-"),Yo=ne.useMemo(()=>N.reduce((Bt,xr,Ir)=>Ir>=me?Bt:Bt+xr.height,0),[N,me]),Na=rTe(),Xs=v.invert||g,Hi=Te==="loading";Rt.current=ne.useMemo(()=>me*le+Yo,[me,Yo]),ne.useEffect(()=>{Pe.current=ze},[ze]),ne.useEffect(()=>{ge(!0)},[]),ne.useEffect(()=>{let Bt=et.current;if(Bt){let xr=Bt.getBoundingClientRect().height;return ye(xr),_(Ir=>[{toastId:v.id,height:xr,position:v.position},...Ir]),()=>_(Ir=>Ir.filter(qn=>qn.toastId!==v.id))}},[_,v.id]),ne.useLayoutEffect(()=>{if(!ae)return;let Bt=et.current,xr=Bt.style.height;Bt.style.height="auto";let Ir=Bt.getBoundingClientRect().height;Bt.style.height=xr,ye(Ir),_(qn=>qn.find(Mn=>Mn.toastId===v.id)?qn.map(Mn=>Mn.toastId===v.id?{...Mn,height:Ir}:Mn):[{toastId:v.id,height:Ir,position:v.position},...qn])},[ae,v.title,v.description,_,v.id]);let Ki=ne.useCallback(()=>{Ae(!0),ht(Rt.current),_(Bt=>Bt.filter(xr=>xr.toastId!==v.id)),setTimeout(()=>{P(v)},gTe)},[v,P,_,Rt]);ne.useEffect(()=>{if(v.promise&&Te==="loading"||v.duration===1/0||v.type==="loading")return;let Bt;return E||b||de&&Na?(()=>{if(gr.current<We.current){let xr=new Date().getTime()-We.current;Pe.current=Pe.current-xr}gr.current=new Date().getTime()})():Pe.current!==1/0&&(We.current=new Date().getTime(),Bt=setTimeout(()=>{var xr;(xr=v.onAutoClose)==null||xr.call(v,v),Ki()},Pe.current)),()=>clearTimeout(Bt)},[E,b,v,Te,de,Na,Ki]),ne.useEffect(()=>{v.delete&&Ki()},[Ki,v.delete]);function fu(){var Bt,xr,Ir;return ie!=null&&ie.loading?ne.createElement("div",{className:_o(G?.loader,(Bt=v?.classNames)==null?void 0:Bt.loader,"sonner-loader"),"data-visible":Te==="loading"},ie.loading):W?ne.createElement("div",{className:_o(G?.loader,(xr=v?.classNames)==null?void 0:xr.loader,"sonner-loader"),"data-visible":Te==="loading"},W):ne.createElement(YAe,{className:_o(G?.loader,(Ir=v?.classNames)==null?void 0:Ir.loader),visible:Te==="loading"})}return ne.createElement("li",{tabIndex:0,ref:et,className:_o(z,D,G?.toast,(e=v?.classNames)==null?void 0:e.toast,G?.default,G?.[Te],(r=v?.classNames)==null?void 0:r[Te]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:O,"data-styled":!(v.jsx||v.unstyled||y),"data-mounted":ae,"data-promise":!!v.promise,"data-swiped":Qe,"data-removed":ve,"data-visible":ue,"data-y-position":ur,"data-x-position":ar,"data-index":C,"data-front":lt,"data-swiping":Q,"data-dismissible":J,"data-type":Te,"data-invert":Xs,"data-swipe-out":Ee,"data-swipe-direction":qe,"data-expanded":!!(E||re&&ae),style:{"--index":C,"--toasts-before":C,"--z-index":A.length-C,"--offset":`${ve?Oe:Rt.current}px`,"--initial-height":re?"auto":`${Ft}px`,...F,...v.style},onDragEnd:()=>{Y(!1),Me(null),rr.current=null},onPointerDown:Bt=>{Hi||!J||(Fe.current=new Date,ht(Rt.current),Bt.target.setPointerCapture(Bt.pointerId),Bt.target.tagName!=="BUTTON"&&(Y(!0),rr.current={x:Bt.clientX,y:Bt.clientY}))},onPointerUp:()=>{var Bt,xr,Ir,qn;if(Ee||!J)return;rr.current=null;let Mn=Number(((Bt=et.current)==null?void 0:Bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),_i=Number(((xr=et.current)==null?void 0:xr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),us=new Date().getTime()-((Ir=Fe.current)==null?void 0:Ir.getTime()),Un=Se==="x"?Mn:_i,Ns=Math.abs(Un)/us;if(Math.abs(Un)>=mTe||Ns>.11){ht(Rt.current),(qn=v.onDismiss)==null||qn.call(v,v),oe(Se==="x"?Mn>0?"right":"left":_i>0?"down":"up"),Ki(),Ce(!0),Ze(!1);return}Y(!1),Me(null)},onPointerMove:Bt=>{var xr,Ir,qn,Mn;if(!rr.current||!J||((xr=window.getSelection())==null?void 0:xr.toString().length)>0)return;let _i=Bt.clientY-rr.current.y,us=Bt.clientX-rr.current.x,Un=(Ir=t.swipeDirections)!=null?Ir:vTe(te);!Se&&(Math.abs(us)>1||Math.abs(_i)>1)&&Me(Math.abs(us)>Math.abs(_i)?"x":"y");let Ns={x:0,y:0};Se==="y"?(Un.includes("top")||Un.includes("bottom"))&&(Un.includes("top")&&_i<0||Un.includes("bottom")&&_i>0)&&(Ns.y=_i):Se==="x"&&(Un.includes("left")||Un.includes("right"))&&(Un.includes("left")&&us<0||Un.includes("right")&&us>0)&&(Ns.x=us),(Math.abs(Ns.x)>0||Math.abs(Ns.y)>0)&&Ze(!0),(qn=et.current)==null||qn.style.setProperty("--swipe-amount-x",`${Ns.x}px`),(Mn=et.current)==null||Mn.style.setProperty("--swipe-amount-y",`${Ns.y}px`)}},Ne&&!v.jsx?ne.createElement("button",{"aria-label":Z,"data-disabled":Hi,"data-close-button":!0,onClick:Hi||!J?()=>{}:()=>{var Bt;Ki(),(Bt=v.onDismiss)==null||Bt.call(v,v)},className:_o(G?.closeButton,(i=v?.classNames)==null?void 0:i.closeButton)},(a=ie?.close)!=null?a:tTe):null,v.jsx||x.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:ne.createElement(ne.Fragment,null,Te||v.icon||v.promise?ne.createElement("div",{"data-icon":"",className:_o(G?.icon,(o=v?.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||fu():null,v.type!=="loading"?v.icon||ie?.[Te]||GAe(Te):null):null,ne.createElement("div",{"data-content":"",className:_o(G?.content,(l=v?.classNames)==null?void 0:l.content)},ne.createElement("div",{"data-title":"",className:_o(G?.title,(c=v?.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?ne.createElement("div",{"data-description":"",className:_o(V,B,G?.description,(u=v?.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),x.isValidElement(v.cancel)?v.cancel:v.cancel&&Mb(v.cancel)?ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||H,onClick:Bt=>{var xr,Ir;Mb(v.cancel)&&J&&((Ir=(xr=v.cancel).onClick)==null||Ir.call(xr,Bt),Ki())},className:_o(G?.cancelButton,(d=v?.classNames)==null?void 0:d.cancelButton)},v.cancel.label):null,x.isValidElement(v.action)?v.action:v.action&&Mb(v.action)?ne.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||U,onClick:Bt=>{var xr,Ir;Mb(v.action)&&((Ir=(xr=v.action).onClick)==null||Ir.call(xr,Bt),!Bt.defaultPrevented&&Ki())},className:_o(G?.actionButton,(f=v?.classNames)==null?void 0:f.actionButton)},v.action.label):null))};function lB(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function xTe(t,e){let r={};return[t,e].forEach((n,i)=>{let a=i===1,o=a?"--mobile-offset":"--offset",l=a?fTe:dTe;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}x.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:a,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:g,style:v,visibleToasts:y=uTe,toastOptions:b,dir:_=lB(),gap:j=pTe,loadingIcon:N,icons:C,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:E}=t,[P,O]=ne.useState([]),I=ne.useMemo(()=>Array.from(new Set([n].concat(P.filter(de=>de.position).map(de=>de.position)))),[P,n]),[F,H]=ne.useState([]),[U,z]=ne.useState(!1),[V,X]=ne.useState(!1),[te,le]=ne.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=ne.useRef(null),re=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=ne.useRef(null),ie=ne.useRef(!1),Z=ne.useCallback(de=>{O(Se=>{var Me;return(Me=Se.find(qe=>qe.id===de.id))!=null&&Me.delete||Bs.dismiss(de.id),Se.filter(({id:qe})=>qe!==de.id)})},[]);return ne.useEffect(()=>Bs.subscribe(de=>{if(de.dismiss){O(Se=>Se.map(Me=>Me.id===de.id?{...Me,delete:!0}:Me));return}setTimeout(()=>{a1.flushSync(()=>{O(Se=>{let Me=Se.findIndex(qe=>qe.id===de.id);return Me!==-1?[...Se.slice(0,Me),{...Se[Me],...de},...Se.slice(Me+1)]:[de,...Se]})})})}),[]),ne.useEffect(()=>{if(d!=="system"){le(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;let de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:Se})=>{le(Se?"dark":"light")})}catch{de.addListener(({matches:Me})=>{try{le(Me?"dark":"light")}catch(qe){console.error(qe)}})}},[d]),ne.useEffect(()=>{P.length<=1&&z(!1)},[P]),ne.useEffect(()=>{let de=Se=>{var Me,qe;i.every(oe=>Se[oe]||Se.code===oe)&&(z(!0),(Me=W.current)==null||Me.focus()),Se.code==="Escape"&&(document.activeElement===W.current||(qe=W.current)!=null&&qe.contains(document.activeElement))&&z(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[i]),ne.useEffect(()=>{if(W.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,ie.current=!1)}},[W.current]),ne.createElement("section",{ref:e,"aria-label":`${A} ${re}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((de,Se)=>{var Me;let[qe,oe]=de.split("-");return P.length?ne.createElement("ol",{key:de,dir:_==="auto"?lB():_,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":te,"data-y-position":qe,"data-lifted":U&&P.length>1&&!a,"data-x-position":oe,style:{"--front-toast-height":`${((Me=F[0])==null?void 0:Me.height)||0}px`,"--width":`${hTe}px`,"--gap":`${j}px`,...v,...xTe(c,u)},onBlur:ae=>{ie.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(ie.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ie.current||(ie.current=!0,G.current=ae.relatedTarget)},onMouseEnter:()=>z(!0),onMouseMove:()=>z(!0),onMouseLeave:()=>{V||z(!1)},onDragEnd:()=>z(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||X(!0)},onPointerUp:()=>X(!1)},P.filter(ae=>!ae.position&&Se===0||ae.position===de).map((ae,ge)=>{var ve,Ae;return ne.createElement(yTe,{key:ae.id,icons:C,index:ge,toast:ae,defaultRichColors:f,duration:(ve=b?.duration)!=null?ve:g,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Ae=b?.closeButton)!=null?Ae:o,interacting:V,position:de,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,removeToast:Z,toasts:P.filter(Q=>Q.position==ae.position),heights:F.filter(Q=>Q.position==ae.position),setHeights:H,expandByDefault:a,gap:j,loadingIcon:N,expanded:U,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const bTe=(t,e={})=>{const[r,n]=x.useState([]),[i,a]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState({}),[d,f]=x.useState(null),g=x.useCallback(async(E={})=>{if(console.log("🔍 [useComments] fetchComments appelé avec:",{listingId:t,options:e,newOptions:E}),!t){console.log("❌ [useComments] Pas de listingId, arrêt");return}try{console.log("🔍 [useComments] Début du chargement..."),a(!0),l(null),console.log("🔍 [useComments] Appel du service...");const{comments:P,pagination:O,error:I}=await Xg.getComments(t,{...e,...E});if(console.log("🔍 [useComments] Réponse du service:",{commentsLength:P?.length,error:I,pagination:O}),I)throw console.error("❌ [useComments] Erreur du service:",I),new Error(I);console.log("✅ [useComments] Mise à jour du state..."),n(P),u(O),console.log("✅ [useComments] Chargement terminé avec succès")}catch(P){console.error("❌ [useComments] Erreur finale:",P),l(P.message),console.error("Erreur lors du chargement des commentaires:",P)}finally{console.log("🔍 [useComments] Fin du chargement, loading = false"),a(!1)}},[t]),v=x.useCallback(async()=>{console.log("🔄 [useComments] Force refresh activé...");try{typeof window<"u"&&window.localStorage&&(Object.keys(localStorage).filter(O=>O.includes("comment")||O.includes("benome")).forEach(O=>{console.log("🗑️ [useComments] Suppression du cache:",O),localStorage.removeItem(O)}),console.log("✅ [useComments] Cache local nettoyé"))}catch(E){console.warn("⚠️ [useComments] Erreur lors du nettoyage du cache:",E)}await g({forceRefresh:!0})},[g]),y=x.useCallback(async E=>{try{l(null);const{comment:P,error:O}=await Xg.createComment({...E,listing_id:t});if(O)throw new Error(O);return n(I=>[P,...I]),{comment:P,error:null}}catch(P){const O=P.message;return l(O),{comment:null,error:O}}},[t]),b=x.useCallback(async(E,P)=>{try{l(null);const{comment:O,error:I}=await Xg.updateComment(E,P);if(I)throw new Error(I);return n(F=>F.map(H=>H.id===E?O:H)),{comment:O,error:null}}catch(O){const I=O.message;return l(I),{comment:null,error:I}}},[]),_=x.useCallback(async E=>{try{l(null);const{error:P}=await Xg.deleteComment(E);if(P)throw new Error(P);return n(O=>O.filter(I=>I.id!==E)),{error:null}}catch(P){const O=P.message;return l(O),{error:O}}},[]),j=x.useCallback(async(E,P)=>{try{l(null);const{report:O,error:I}=await Xg.reportComment(E,P);if(I)throw new Error(I);return{report:O,error:null}}catch(O){const I=O.message;return l(I),{report:null,error:I}}},[]),N=x.useCallback(E=>{g({page:E})},[g]),C=x.useCallback(E=>{g({...E,page:1})},[g]),A=x.useCallback(()=>{g()},[g]);return x.useEffect(()=>{console.log("🔍 [useComments] useEffect déclenché avec listingId:",t),t?(console.log("🔍 [useComments] Lancement du chargement initial..."),g()):console.log("❌ [useComments] Pas de listingId, pas de chargement")},[t]),{comments:r,loading:i,error:o,pagination:c,fetchComments:g,addComment:y,updateComment:b,deleteComment:_,reportComment:j,changePage:N,changeFilters:C,refresh:A,forceRefresh:v}},wTe=(t,e)=>{const[r,n]=x.useState(new Set),[i,a]=x.useState(new Map),o=x.useRef(new Map);x.useEffect(()=>()=>{o.current.forEach(d=>d.abort()),o.current.clear()},[]),x.useEffect(()=>{if(!t||t.length===0)return;[t[e],t[(e+1)%t.length],t[(e-1+t.length)%t.length],t[(e+2)%t.length],t[(e-2+t.length)%t.length]].filter(Boolean).forEach((f,g)=>{if(f&&!r.has(f)&&!i.has(f)){o.current.has(f)&&o.current.get(f).abort();const v=new AbortController;o.current.set(f,v),a(b=>new Map(b).set(f,"loading"));const y=new Image;y.onload=()=>{n(b=>new Set([...b,f])),a(b=>{const _=new Map(b);return _.set(f,"loaded"),_}),o.current.delete(f)},y.onerror=()=>{a(b=>{const _=new Map(b);return _.set(f,"error"),_}),o.current.delete(f)},y.src=f}})},[e,t]);const l=x.useCallback(d=>r.has(d),[r]),c=x.useCallback(d=>i.get(d)||"idle",[i]),u=x.useCallback(d=>{if(d&&!r.has(d)&&!i.has(d)){const f=new AbortController;o.current.set(d,f),a(v=>new Map(v).set(d,"loading"));const g=new Image;g.onload=()=>{n(v=>new Set([...v,d])),a(v=>{const y=new Map(v);return y.set(d,"loaded"),y}),o.current.delete(d)},g.onerror=()=>{a(v=>{const y=new Map(v);return y.set(d,"error"),y}),o.current.delete(d)},g.src=d}},[r,i]);return{preloadedImages:r,loadingStates:i,isImagePreloaded:l,getImageLoadingState:c,preloadImage:u}},dte=t=>{const e=x.useMemo(()=>{if(t?.images&&t.images.length>0){const l=t.images.map(c=>typeof c=="string"?c:c?.url?c.url:c?.file?URL.createObjectURL(c.file):c?.src?c.src:c?.displayUrl?c.displayUrl:null).filter(Boolean);if(l.length>0)return l}const i={real_estate:["https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop"],automobile:["https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop"],services:["https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],marketplace:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742044-3c52d6e88c62?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop"]};let a=t?.category;a&&(a={immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[a.toLowerCase()]||a);const o=i[a]||i.marketplace;return fje(o,"gallery","medium")},[t?.images,t?.category]),r=x.useMemo(()=>e[0],[e]),n=x.useMemo(()=>e.length>1,[e]);return{images:e,mainImage:r,hasMultipleImages:n,imageCount:e.length}},_Te=(t={})=>{const{onSwipeLeft:e,onSwipeRight:r,onSwipeUp:n,onSwipeDown:i,onPinch:a,onDoubleTap:o,minSwipeDistance:l=50,minPinchDistance:c=10,doubleTapDelay:u=300}=t,[d,f]=x.useState({startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}),g=x.useRef(null),v=x.useRef(null),y=x.useRef(0),b=x.useCallback((O,I)=>Math.hypot(O.clientX-I.clientX,O.clientY-I.clientY),[]),_=x.useCallback((O,I)=>Math.atan2(I.clientY-O.clientY,I.clientX-O.clientX)*180/Math.PI,[]),j=x.useCallback(O=>{const I=Date.now(),F=Array.from(O.touches);if(F.length===2){const H=b(F[0],F[1]),U=_(F[0],F[1]);f(z=>({...z,startDistance:H,startAngle:U,isPinching:!0,startTime:I}))}else if(F.length===1){const H=F[0];if(I-y.current<u){f(z=>({...z,isDoubleTap:!0})),o?.(H),setTimeout(()=>{f(z=>({...z,isDoubleTap:!1}))},100);return}y.current=I,f(z=>({...z,startX:H.clientX,startY:H.clientY,startTime:I,isPinching:!1}))}},[b,_,o,u]),N=x.useCallback(O=>{O.preventDefault();const I=Array.from(O.touches);if(d.isPinching&&I.length===2){const F=b(I[0],I[1]),H=_(I[0],I[1]),U=F-d.startDistance,z=H-d.startAngle;if(Math.abs(U)>c){const V=F/d.startDistance;a?.({scale:V,distanceDelta:U,angleDelta:z,center:{x:(I[0].clientX+I[1].clientX)/2,y:(I[0].clientY+I[1].clientY)/2}})}}},[d,b,_,c,a]),C=x.useCallback(O=>{const I=Array.from(O.changedTouches);if(d.isPinching){f(F=>({...F,isPinching:!1}));return}if(I.length===1&&!d.isDoubleTap){const F=I[0],H=F.clientX-d.startX,U=F.clientY-d.startY,z=Date.now()-d.startTime,V=Math.hypot(H,U),X=V/z;V>l&&X>.3&&(Math.abs(H)>Math.abs(U)?H>0?r?.({deltaX:H,deltaY:U,velocity:X,distance:V}):e?.({deltaX:H,deltaY:U,velocity:X,distance:V}):U>0?i?.({deltaX:H,deltaY:U,velocity:X,distance:V}):n?.({deltaX:H,deltaY:U,velocity:X,distance:V}))}f(F=>({...F,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1}))},[d,l,e,r,n,i]),A=x.useCallback(()=>{f(O=>({...O,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}))},[]),E=x.useCallback(()=>{g.current&&clearTimeout(g.current),v.current&&clearTimeout(v.current)},[]);return{touchHandlers:{onTouchStart:j,onTouchMove:N,onTouchEnd:C,onTouchCancel:A},touchState:d,cleanup:E}},jTe=(t,e,r)=>{const[n,i]=x.useState(1),[a,o]=x.useState(!1),l=x.useCallback(({scale:g})=>{const v=Math.max(.5,Math.min(3,g));i(v),o(!0),r?.(v)},[r]),c=x.useCallback(()=>{n<=1&&t?.()},[t,n]),u=x.useCallback(()=>{n<=1&&e?.()},[e,n]),{touchHandlers:d}=_Te({onSwipeLeft:c,onSwipeRight:u,onPinch:l,minSwipeDistance:30}),f=x.useCallback(()=>{i(1),o(!1),r?.(1)},[r]);return{touchHandlers:d,zoomLevel:n,isZooming:a,resetZoom:f}},bf={HERO_LISTINGS:"hero-listings",HERO_INFO:"hero-info",LAST_UPDATE:"hero-last-update"},Ib=24*60*60*5e3,STe=(t=6)=>{const[e,r]=x.useState([]),[n,i]=x.useState({category:"",hour:0,timeSlot:""}),[a,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState(null),f=x.useCallback(()=>{const j=Pc.get(bf.LAST_UPDATE);return j?Date.now()-j<Ib:!1},[]),g=x.useCallback(()=>{try{const j=Pc.get(bf.HERO_LISTINGS),N=Pc.get(bf.HERO_INFO),C=Pc.get(bf.LAST_UPDATE);return j&&N&&C?(r(j),i(N),d(C),console.log("✅ Données hero chargées depuis le cache"),!0):!1}catch(j){return console.error("❌ Erreur lors du chargement du cache:",j),!1}},[]),v=x.useCallback((j,N)=>{try{const C=Date.now();Pc.set(bf.HERO_LISTINGS,j,Ib),Pc.set(bf.HERO_INFO,N,Ib),Pc.set(bf.LAST_UPDATE,C,Ib),d(C),console.log("💾 Données hero sauvegardées en cache pour 24h")}catch(C){console.error("❌ Erreur lors de la sauvegarde en cache:",C)}},[]),y=x.useCallback(async()=>{try{o(!0),c(null),console.log("🔄 Chargement des annonces hero depuis l'API...");const j=await rn.getHeroListings(t),N=j?.data||[],C={category:j?.category||"",hour:j?.hour||0,timeSlot:j?.rotationInfo?.timeSlot||""};r(N),i(C),v(N,C),console.log("✅ Annonces hero chargées avec succès")}catch(j){console.error("❌ Erreur lors du chargement des annonces hero:",j),c(j?.message||"Erreur lors du chargement des annonces hero")}finally{o(!1)}},[t,v]),b=x.useCallback(async()=>{if(f()&&g()){o(!1);return}await y()},[f,g,y]),_=x.useCallback(async()=>{console.log("🔄 Forçage du rechargement des annonces hero..."),await y()},[y]);return x.useEffect(()=>{b()},[b]),x.useEffect(()=>{const j=setInterval(()=>{f()||(console.log("⏰ Cache expiré, rechargement automatique..."),y())},36e5);return()=>clearInterval(j)},[f,y]),{heroListings:e,heroInfo:n,loading:a,error:l,lastUpdate:u,forceRefresh:_,isCacheValid:f(),cacheStats:Pc.getStats()}},fte=({listingId:t,listing:e,size:r="default",showActions:n=!0,className:i=""})=>{const{user:a}=Mr(),o=En(),{toast:l}=Vr(),[c,u]=x.useState(null),[d,f]=x.useState(!1),[g,v]=x.useState(!1);x.useEffect(()=>{t&&a&&y()},[t,a]);const y=async()=>{try{f(!0);const O=await qc.getBoostStatus(t);u(O)}catch(O){console.error("Erreur chargement statut boost:",O)}finally{f(!1)}},b=async()=>{if(c?.currentBoost)try{v(!0),(await qc.renewBoost(c.currentBoost.id,a.id)).success&&(l({title:"Boost renouvelé !",description:"Votre boost a été prolongé avec succès."}),y())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors du renouvellement",variant:"destructive"})}finally{v(!1)}},_=async()=>{if(c?.currentBoost&&confirm("Êtes-vous sûr de vouloir annuler ce boost ?"))try{v(!0),(await qc.cancelBoost(c.currentBoost.id,a.id)).success&&(l({title:"Boost annulé",description:"Votre boost a été annulé avec succès."}),y())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors de l'annulation",variant:"destructive"})}finally{v(!1)}},j=()=>{if(!c?.hasActiveBoost)return{icon:s.jsx(S1,{className:"h-4 w-4"}),label:"Non boosté",color:"secondary",description:"Aucun boost actif"};const O=c.currentBoost,I=new Date,F=new Date(O.end_date),H=Math.ceil((F-I)/(1e3*60*60*24));return H<=0?{icon:s.jsx(Ri,{className:"h-4 w-4"}),label:"Expiré",color:"secondary",description:"Boost expiré"}:H<=3?{icon:s.jsx(Ri,{className:"h-4 w-4"}),label:`${H}j restant${H>1?"s":""}`,color:"destructive",description:"Boost expire bientôt"}:H<=7?{icon:s.jsx(bs,{className:"h-4 w-4"}),label:`${H}j restant${H>1?"s":""}`,color:"default",description:"Boost actif"}:{icon:s.jsx(zn,{className:"h-4 w-4"}),label:`${H}j restant${H>1?"s":""}`,color:"default",description:"Boost actif"}},N=O=>{switch(O){case"small":return"text-xs px-2 py-1";case"large":return"text-sm px-3 py-1.5";default:return"text-xs px-2.5 py-1"}},C=O=>{switch(O){case"small":return"h-3 w-3";case"large":return"h-5 w-5";default:return"h-4 w-4"}},A=j(),E=N(r),P=C(r);return!a||!e||a.id!==e.user_id?null:s.jsx(Af,{children:s.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(vt,{variant:A.color,className:`${E} cursor-help transition-all duration-200 hover:scale-105`,children:s.jsxs("div",{className:"flex items-center gap-1",children:[A.icon,s.jsx("span",{className:"hidden sm:inline",children:A.label})]})})}),s.jsxs(Za,{children:[s.jsx("p",{children:A.description}),c?.hasActiveBoost&&c.currentBoost&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Package: ",c.currentBoost.boost_packages?.name]})]})]}),n&&c?.hasActiveBoost&&c.currentBoost&&s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{onClick:b,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:s.jsx(zo,{className:`${P} text-primary`})})}),s.jsx(Za,{children:s.jsx("p",{children:"Renouveler le boost"})})]}),s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{onClick:_,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10",children:s.jsx(b1,{className:`${P} text-destructive`})})}),s.jsx(Za,{children:s.jsx("p",{children:"Annuler le boost"})})]}),s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{onClick:()=>o(`/booster-annonce/${t}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-500/10",children:s.jsx(ml,{className:`${P} text-blue-500`})})}),s.jsx(Za,{children:s.jsx("p",{children:"Voir les détails et analytics"})})]})]}),n&&!c?.hasActiveBoost&&s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{onClick:()=>o(`/booster-annonce/${t}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:s.jsx(bs,{className:`${P} text-primary`})})}),s.jsx(Za,{children:s.jsx("p",{children:"Booster cette annonce"})})]}),d&&s.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),g&&s.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"})]})})},hte=({listing:t,variant:e="default"})=>{const{toast:r}=Vr(),[n,i]=x.useState(!1),a=`${window.location.origin}/annonce/${t.id}`,o=v=>{const y=`🏠 Découvrez cette annonce sur MaxiMarket : ${t.title}`;switch(v){case"facebook":return`${y}

💰 Prix : ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}

📍 ${t.location?.city||"Localisation non spécifiée"}`;case"instagram":return`${y}

💰 ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique`;case"tiktok":return`${y}
💰 ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique #FYP`;case"whatsapp":return`${y}

💰 Prix : ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

${a}`;default:return y}},l=()=>{i(!0);const v=o("facebook"),y=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}&quote=${encodeURIComponent(v)}`;window.open(y,"_blank","width=600,height=500,scrollbars=yes,resizable=yes"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur Facebook",description:"L'annonce a été partagée sur Facebook"})},c=()=>{i(!0),navigator.clipboard.writeText(a).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez Instagram et collez-le dans votre story ou post."}),window.open("https://www.instagram.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},u=()=>{i(!0),navigator.clipboard.writeText(a).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez TikTok et collez-le dans votre vidéo ou description."}),window.open("https://www.tiktok.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},d=()=>{i(!0);const v=o("whatsapp"),y=`https://wa.me/?text=${encodeURIComponent(v)}`;window.open(y,"_blank"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur WhatsApp",description:"L'annonce a été partagée sur WhatsApp"})},f=async()=>{try{await navigator.clipboard.writeText(a),r({title:"Lien copié !",description:"Le lien de l'annonce a été copié dans le presse-papiers."})}catch{r({title:"Erreur",description:"Impossible de copier le lien.",variant:"destructive"})}},g=()=>{window.open(a,"_blank")};return e==="compact"?s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsxs(fe,{variant:"outline",size:"sm",disabled:n,className:"flex items-center space-x-2",children:[s.jsx(iT,{className:"h-4 w-4"}),s.jsx("span",{children:"Partager"})]})}),s.jsxs(au,{align:"end",className:"w-48",children:[s.jsxs($r,{onClick:l,children:[s.jsx(eT,{className:"h-4 w-4 mr-2 text-blue-600"}),"Facebook"]}),s.jsxs($r,{onClick:c,children:[s.jsx(tT,{className:"h-4 w-4 mr-2 text-pink-600"}),"Instagram"]}),s.jsxs($r,{onClick:u,children:[s.jsx("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),"TikTok"]}),s.jsxs($r,{onClick:d,children:[s.jsx("svg",{className:"h-4 w-4 mr-2 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"WhatsApp"]}),s.jsxs($r,{onClick:f,children:[s.jsx(G3,{className:"h-4 w-4 mr-2"}),"Copier le lien"]}),s.jsxs($r,{onClick:g,children:[s.jsx(iy,{className:"h-4 w-4 mr-2"}),"Ouvrir l'annonce"]})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(iT,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm font-medium",children:"Partager cette annonce"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(fe,{variant:"outline",size:"sm",onClick:l,disabled:n,className:"flex items-center space-x-2 bg-blue-50 hover:bg-blue-100 border-blue-200",children:[s.jsx(eT,{className:"h-4 w-4 text-blue-600"}),s.jsx("span",{children:"Facebook"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:c,disabled:n,className:"flex items-center space-x-2 bg-pink-50 hover:bg-pink-100 border-pink-200",children:[s.jsx(tT,{className:"h-4 w-4 text-pink-600"}),s.jsx("span",{children:"Instagram"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:u,disabled:n,className:"flex items-center space-x-2 bg-black hover:bg-gray-800 text-white border-gray-700",children:[s.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),s.jsx("span",{children:"TikTok"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:d,disabled:n,className:"flex items-center space-x-2 bg-green-50 hover:bg-green-100 border-green-200",children:[s.jsx("svg",{className:"h-4 w-4 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:s.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),s.jsx("span",{children:"WhatsApp"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:f,className:"flex items-center space-x-2",children:[s.jsx(G3,{className:"h-4 w-4"}),s.jsx("span",{children:"Copier le lien"})]}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:g,className:"flex items-center space-x-2",children:[s.jsx(iy,{className:"h-4 w-4"}),s.jsx("span",{children:"Ouvrir l'annonce"})]})]})]})};class NTe{constructor(){this.isConfigured=!1,this.cache=new Map,this.maxCacheSize=1e3,this.cacheHits=0,this.cacheMisses=0,this.googleTranslateConfig={key:"AIzaSyBMyapIVE6bovgq8G-xnH0bddhXeckIfL0"},this._initializeSync()}_initializeSync(){try{this.googleTranslateConfig.key?(this.isConfigured=!0,this.apiKey=this.googleTranslateConfig.key,console.log("Translation service initialized with API key (REST mode)")):(console.warn("Translation service not configured, using mock mode"),console.info("To enable real translation, set VITE_GOOGLE_TRANSLATE_API_KEY"),this.isConfigured=!1)}catch(e){console.error("Failed to initialize translation service:",e),this.isConfigured=!1}}async initialize(){return this._initializeSync()}_getCacheKey(e,r,n){return`${e}_${n}_${r}`}_manageCache(){if(this.cache.size>this.maxCacheSize){const e=this.cache.keys().next().value;this.cache.delete(e)}}async translateText(e,r,n="auto"){if(!e||typeof e!="string")return e;const i=this._getCacheKey(e,r,n);if(this.cache.has(i))return this.cacheHits++,this.cache.get(i);this.cacheMisses++;try{let a=e;if(this.isConfigured&&this.apiKey)try{console.log(`🌍 Traduction réelle: "${e}" (${n} → ${r})`);const l=await(await fetch(`https://translation.googleapis.com/language/translate/v2?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:n,target:r})})).json();if(l.data&&l.data.translations&&l.data.translations[0])a=l.data.translations[0].translatedText,console.log(`✅ Traduit: "${e}" → "${a}"`);else throw new Error("Invalid response from Google Translate API")}catch(o){console.warn("❌ Google Translate API error, falling back to mock translation:",o),a=this._mockTranslate(e,r,n)}else console.log(`🎭 Traduction simulée: "${e}" (${n} → ${r})`),a=this._mockTranslate(e,r,n);return this.cache.set(i,a),this._manageCache(),a}catch(a){return console.error("Translation error:",a),e}}_mockTranslate(e,r,n){const a={fr:{en:{Bonjour:"Hello",Merci:"Thank you","Au revoir":"Goodbye",Bienvenue:"Welcome",Annonce:"Listing",Prix:"Price",Description:"Description",Titre:"Title",Catégorie:"Category",Localisation:"Location",Date:"Date",Contact:"Contact",Détails:"Details","Voir plus":"See more","Ajouter aux favoris":"Add to favorites",Partager:"Share",Signaler:"Report",Modifier:"Edit",Supprimer:"Delete",Confirmer:"Confirm",Annuler:"Cancel",Sauvegarder:"Save",Rechercher:"Search",Filtrer:"Filter",Trier:"Sort",Nouveau:"New",Populaire:"Popular",Récent:"Recent",Ancien:"Old",Cher:"Expensive","Bon marché":"Cheap",Disponible:"Available",Vendu:"Sold","En location":"For rent","À vendre":"For sale",Immobilier:"Real estate",Automobile:"Automotive",Services:"Services",Marketplace:"Marketplace",Découvrir:"Discover","Voir toutes les annonces":"View all listings","Annonces populaires":"Popular listings","Voir toutes les annonces premium":"View all premium listings"}},en:{fr:{Hello:"Bonjour","Thank you":"Merci",Goodbye:"Au revoir",Welcome:"Bienvenue",Listing:"Annonce",Price:"Prix",Description:"Description",Title:"Titre",Category:"Catégorie",Location:"Localisation",Date:"Date",Contact:"Contact",Details:"Détails","See more":"Voir plus","Add to favorites":"Ajouter aux favoris",Share:"Partager",Report:"Signaler",Edit:"Modifier",Delete:"Supprimer",Confirm:"Confirmer",Cancel:"Annuler",Save:"Sauvegarder",Search:"Rechercher",Filter:"Filtrer",Sort:"Trier",New:"Nouveau",Popular:"Populaire",Recent:"Récent",Old:"Ancien",Expensive:"Cher",Cheap:"Bon marché",Available:"Disponible",Sold:"Vendu","For rent":"En location","For sale":"À vendre","Real estate":"Immobilier",Automotive:"Automobile",Services:"Services",Marketplace:"Marketplace",Discover:"Découvrir","View all listings":"Voir toutes les annonces","Popular listings":"Annonces populaires","View all premium listings":"Voir toutes les annonces premium"}}}[n]?.[r];return a&&a[e]?a[e]:e}async translateObject(e,r,n="fr"){if(!e||typeof e!="object")return e;const i={...e},a=["title","description","category","location"];for(const o of a)e[o]&&typeof e[o]=="string"&&(i[o]=await this.translateText(e[o],r,n));return i.translation_metadata={original_language:n,translated_language:r,is_translated:!0},i}async translateListings(e,r,n="fr"){if(!Array.isArray(e))return e;const i=[];for(const a of e){const o=await this.translateObject(a,r,n);i.push(o)}return i}isLanguageSupported(e){return["fr","en"].includes(e)}getSupportedLanguages(){return["fr","en"]}clearCache(){this.cache.clear(),this.cacheHits=0,this.cacheMisses=0}getCacheStats(){const e=this.cacheHits+this.cacheMisses;return{size:this.cache.size,maxSize:this.maxCacheSize,hits:this.cacheHits,misses:this.cacheMisses,totalRequests:e,hitRate:e>0?this.cacheHits/e:0}}async testConnection(){if(!this.isConfigured)return{success:!1,message:"Translation service not configured"};try{const e="Hello world",n=await(await fetch(`https://translation.googleapis.com/language/translate/v2?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:"en",target:"fr"})})).json();if(n.data&&n.data.translations&&n.data.translations[0]){const i=n.data.translations[0].translatedText;return{success:!0,message:"API connection successful",test:{original:e,translated:i}}}else throw new Error("Invalid response from Google Translate API")}catch(e){return{success:!1,message:"API connection failed",error:e.message}}}}const cB=new NTe,CTe=()=>{const{currentLanguage:t}=gh(),[e,r]=x.useState(!1),[n,i]=x.useState(null),[a,o]=x.useState(null),l=x.useCallback(async(d,f="fr")=>{if(t===f){i(null),o(null);return}if(!d){i(null),o(null);return}try{r(!0),o(null);let g;typeof d=="string"?g=await cB.translateText(d,t,f):typeof d=="object"?g=await cB.translateObject(d,t,f):g=d,i(g)}catch(g){console.error("Auto translation error:",g),o(g.message||"Translation failed"),i(null)}finally{r(!1)}},[t]),c=x.useCallback(()=>{i(null),o(null)},[]),u=x.useCallback(async(d,f="fr")=>{await l(d,f)},[l]);return{translateContent:l,isTranslating:e,translatedContent:n,translationError:a,clearTranslation:c,retryTranslation:u,hasTranslation:n!==null}},uB=({content:t,sourceLanguage:e="fr",children:r,className:n="",showTranslationIndicator:i=!0,showRetryButton:a=!0,fallbackToOriginal:o=!0})=>{const{currentLanguage:l}=gh(),{translateContent:c,isTranslating:u,translatedContent:d,translationError:f,retryTranslation:g,hasTranslation:v}=CTe();x.useEffect(()=>{t&&l!==e&&c(t,e)},[t,l,e,c]);const y=d||t;return l===e?s.jsx("div",{className:n,children:r(t)}):u?s.jsxs("div",{className:`flex items-center space-x-2 ${n}`,children:[s.jsx(nn,{className:"h-4 w-4 animate-spin"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:l==="fr"?"Traduction en cours...":"Translating..."})]}):f&&!o?s.jsxs("div",{className:`space-y-2 ${n}`,children:[s.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[s.jsx(wn,{className:"h-4 w-4"}),s.jsx("span",{children:l==="fr"?"Erreur de traduction":"Translation error"})]}),a&&s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>g(t,e),className:"flex items-center space-x-2",children:[s.jsx(zo,{className:"h-3 w-3"}),s.jsx("span",{children:l==="fr"?"Réessayer":"Retry"})]})]}):s.jsxs("div",{className:n,children:[r(y),i&&v&&s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground mt-1",children:[s.jsx(w1,{className:"h-3 w-3"}),s.jsx("span",{children:l==="fr"?"Traduit automatiquement":"Automatically translated"})]}),f&&o&&s.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground mt-1",children:[s.jsx(wn,{className:"h-3 w-3"}),s.jsx("span",{children:l==="fr"?"Affichage en langue originale":"Showing in original language"})]})]})},eu=({listing:t,onToggleFavorite:e,showActions:r=!0})=>{const{user:n}=Mr(),i=En(),{images:a}=dte(t),[o,l]=x.useState(t.is_favorite||!1),[c,u]=x.useState(!1),{t:d,formatCurrency:f,formatDate:g}=gh(),v=A=>f(A,t.currency||"XOF"),y=A=>g(new Date(A),"P"),b=A=>{switch(A){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},_=A=>{const E="text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap";switch(A){case"approved":return s.jsx(vt,{variant:"default",className:`badge-approved ${E}`,children:"Approuvé"});case"pending":return s.jsx(vt,{variant:"secondary",className:E,children:"En attente"});case"rejected":return s.jsx(vt,{variant:"destructive",className:E,children:"Rejeté"});default:return s.jsx(vt,{variant:"outline",className:E,children:A})}},j=async A=>{if(A.stopPropagation(),!n){i("/connexion");return}if(!c)try{u(!0),l(!o),e&&await e(t.id)}catch(E){l(!o),console.error("Erreur lors du basculement des favoris:",E)}finally{u(!1)}},N=()=>{t.id&&i(`/annonce/${t.id}`)};ne.useEffect(()=>{l(t.is_favorite||!1)},[t.is_favorite]);const C=t.featured||t.boosted||t.is_premium||t.premium;return s.jsxs(Re.div,{whileHover:{y:-4},className:Je("group rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",C?"bg-gradient-to-br from-amber-50/50 to-yellow-100/50 border-2 border-amber-300/50 shadow-amber-200/50":"bg-card border border-border/50"),onClick:N,children:[s.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 bg-muted overflow-hidden",children:[s.jsx(vY,{images:a,title:t.title,className:"h-full"}),s.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 sm:flex-row sm:gap-2 items-start",children:s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(vt,{variant:"secondary",className:"bg-black/70 text-white text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap",children:s.jsxs("span",{className:"inline-flex items-center",children:[b(t.category)," ",t.category==="real_estate"?"Immobilier":t.category==="automobile"?"Automobile":t.category==="services"?"Services":"Marketplace"]})}),t.status==="approved"&&C?s.jsx("span",{className:"hidden sm:inline-flex",children:_(t.status)}):_(t.status)]})}),r&&s.jsx(Re.button,{onClick:j,disabled:c,className:`absolute top-2 right-2 p-1.5 sm:p-2 rounded-full transition-all duration-200 ${o?"bg-red-500 hover:bg-red-600 text-white":"bg-black/20 hover:bg-black/40 text-white"} ${c?"opacity-50 cursor-not-allowed":""}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:s.jsx(Al,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o?"fill-current":""}`})})]}),s.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[s.jsx(uB,{content:{title:t.title},sourceLanguage:"fr",children:A=>s.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 truncate group-hover:text-primary transition-colors",children:A.title})}),s.jsxs("div",{className:"flex items-center text-muted-foreground mb-2 sm:mb-3",children:[s.jsx(Nl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 flex-shrink-0"}),s.jsx("span",{className:"truncate text-sm sm:text-base",children:t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:t.location?.city||t.location?.country||"Localisation non spécifiée"})]}),s.jsx("div",{className:Je("text-xl sm:text-2xl font-bold mb-2 sm:mb-3",C?"text-slate-800":"text-primary"),children:t.price?v(t.price):"Prix sur demande"}),s.jsx(uB,{content:{description:t.description},sourceLanguage:"fr",children:A=>s.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-sm sm:text-base line-clamp-2 sm:line-clamp-2",children:A.description||d("messages.noData")})}),C&&s.jsx("div",{className:"mb-3",children:s.jsx(vt,{variant:"secondary",className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-300 text-xs font-medium",children:"⭐ Premium"})}),s.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(zl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm",children:t.created_at?y(t.created_at):d("messages.noData")})]}),s.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[t.views_count>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Bo,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm",children:t.views_count})]}),t.favorites_count>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Al,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"text-xs sm:text-sm",children:t.favorites_count})]})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t border-border/20",children:s.jsx(hte,{listing:t,variant:"compact"})}),s.jsx(fte,{listingId:t.id,listing:t,size:"small",showActions:r,className:"mt-3 pt-3 border-t border-border/20"})]})]})},ETe=({listings:t=[],category:e,hour:r,timeSlot:n,onListingClick:i})=>{const[a,o]=x.useState(0),[l,c]=x.useState(!0),u=En();x.useEffect(()=>{if(!l||t.length<=1)return;const j=setInterval(()=>{o(N=>(N+1)%t.length)},8e3);return()=>clearInterval(j)},[l,t.length]);const d=x.useCallback(()=>c(!1),[]),f=x.useCallback(()=>c(!0),[]),g=x.useCallback(j=>{o(j)},[]),v=x.useCallback(j=>{i?i(j):u(`/annonce/${j.id}`)},[u,i]),y=j=>{switch(j){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},b=j=>{switch(j){case"real_estate":return"bg-blue-500";case"automobile":return"bg-green-500";case"services":return"bg-purple-500";case"marketplace":return"bg-orange-500";default:return"bg-gray-500"}};if(!t||t.length===0)return s.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx(Ri,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune annonce disponible"}),s.jsx("p",{className:"text-gray-300",children:"Revenez plus tard pour découvrir de nouvelles annonces"})]})});const _=t[a];return s.jsxs("div",{className:"relative h-screen overflow-hidden",onMouseEnter:d,onMouseLeave:f,children:[s.jsx(Bn,{mode:"wait",children:s.jsx(Re.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-0",children:s.jsx(Ww,{src:_.images?.[0]||_.image_url,alt:_.title,className:"w-full h-full object-cover",context:"hero",quality:"high",priority:"high",showSkeleton:!0,enableHeroAnimations:!0,showOverlay:!1})},_.id)}),s.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),s.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center relative z-10",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex justify-center items-center gap-4 mb-8",children:[s.jsxs(vt,{className:Je("text-white/80 border-0 text-sm",b(e)),children:[s.jsx("span",{className:"mr-1",children:y(e)}),e==="real_estate"&&"Immobilier",e==="automobile"&&"Automobile",e==="services"&&"Services",e==="marketplace"&&"Marketplace"]}),s.jsxs(vt,{variant:"outline",className:"text-white/80 border-white/20 text-sm",children:[s.jsx(Ri,{className:"h-3 w-3 mr-1"}),n," • ",r,"h"]})]}),s.jsxs(Re.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:["Bienvenue sur"," ",s.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),s.jsx(Re.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6},className:"text-xl md:text-2xl text-gray-300 mb-32 max-w-3xl mx-auto",children:"Explorez, découvrez, connectez. Votre marketplace de confiance."}),s.jsxs(Re.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.8},className:"text-white/60 text-sm mb-4",children:["Découvrez : ",_.title]}),s.jsx(Re.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:1},className:"flex justify-center",children:s.jsx(fe,{variant:"ghost",size:"sm",className:"text-white/70 hover:text-white hover:bg-white/10 border border-white/20",onClick:()=>v(_),children:"Voir cette annonce"})})]})}),t.length>1&&s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-2 z-50",children:t.map((j,N)=>s.jsx("button",{className:Je("w-2 h-2 rounded-full transition-all duration-300 cursor-pointer",N===a?"bg-white scale-125":"bg-white/30 hover:bg-white/50"),onClick:()=>g(N)},N))})]})},PTe=()=>{const t=En(),{user:e}=Mr(),{t:r}=gh("listings"),[n,i]=x.useState([]),[a,o]=x.useState(!0),[l,c]=x.useState(null),[u,d]=x.useState([]),[f,g]=x.useState(!0),[v,y]=x.useState(null),{heroListings:b,heroInfo:_,loading:j,error:N}=STe(6);x.useEffect(()=>{let P;const O=async()=>{try{o(!0);const F=await rn.getTopViewedListings(6);i(F||[])}catch(F){c(F?.message||"Erreur lors du chargement des annonces populaires")}finally{o(!1)}},I=async()=>{try{g(!0);const F=await rn.getPremiumListings(10);d(F?.data||[])}catch(F){y(F?.message||"Erreur lors du chargement des annonces premium")}finally{g(!1)}};return O(),I(),P=setInterval(()=>{O(),I()},18e5),()=>clearInterval(P)},[]);const C={hidden:{opacity:0,y:20},visible:P=>({opacity:1,y:0,transition:{delay:P*.1,duration:.5,ease:"easeOut"}})},A=[{name:"Immobilier",icon:s.jsx(Uhe,{className:"h-10 w-10 mb-3 text-primary"}),path:"/immobilier",description:"Maisons, appartements, terrains."},{name:"Automobile",icon:s.jsx(Fhe,{className:"h-10 w-10 mb-3 text-primary"}),path:"/automobile",description:"Voitures, motos, utilitaires."},{name:"Services Pro",icon:s.jsx(Xf,{className:"h-10 w-10 mb-3 text-primary"}),path:"/services",description:"Experts qualifiés à votre service."},{name:"Marketplace",icon:s.jsx(hh,{className:"h-10 w-10 mb-3 text-primary"}),path:"/marketplace",description:"Produits neufs et d'occasion."}],E=P=>{t(P)};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20 text-foreground",children:[j?s.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des annonces..."}),s.jsx("p",{className:"text-gray-300",children:"Préparation de votre expérience personnalisée"})]})}):N?s.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center text-white",children:[s.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-2xl",children:"⚠️"})}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),s.jsx("p",{className:"text-gray-300",children:N})]})}):s.jsxs(s.Fragment,{children:[s.jsx(ETe,{listings:b,category:_.category,hour:_.hour,timeSlot:_.timeSlot}),s.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 w-full max-w-2xl px-4",style:{bottom:"120px"},children:s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.2},children:s.jsxs("form",{onSubmit:P=>{P.preventDefault();const F=P.currentTarget.querySelector('input[name="q"]')?.value||"",{section:H,params:U}=aT(F),z=new URLSearchParams(U);t(`${H==="immobilier"?"/immobilier":H==="automobile"?"/automobile":H==="services"?"/services":"/marketplace"}?${z.toString()}`)},className:"relative",children:[s.jsx(it,{name:"q",type:"search",placeholder:"Que recherchez-vous sur MaxiMarket ?",className:"w-full py-4 px-6 pr-16 rounded-full text-lg bg-white/10 text-white placeholder-gray-400 border-2 border-transparent focus:border-primary focus:ring-primary focus:outline-none backdrop-blur-md h-16"}),s.jsx(fe,{type:"submit",size:"lg",className:"absolute right-2 top-1/2 transform -translate-y-1/2 rounded-full bg-primary hover:bg-primary/90 h-12 w-12 p-0",children:s.jsx(ape,{className:"h-6 w-6 text-white"})})]})})})]}),s.jsx("section",{className:"py-16 md:py-24",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Explorez nos ",s.jsx("span",{className:"gradient-text",children:"Univers"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:A.map((P,O)=>s.jsxs(Re.div,{custom:O,variants:C,initial:"hidden",animate:"visible",onClick:()=>E(P.path),className:"bg-card p-6 rounded-xl shadow-2xl hover:shadow-primary/40 transition-all duration-300 transform hover:-translate-y-2 flex flex-col items-center text-center glassmorphic-card border border-transparent hover:border-primary/50 cursor-pointer group",children:[P.icon,s.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:P.name}),s.jsx("p",{className:"text-muted-foreground text-sm mb-5 flex-grow group-hover:text-primary/80 transition-colors",children:P.description}),s.jsxs("div",{className:"w-full border border-primary/50 rounded-md px-4 py-2 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300",children:[r("actions.discover")," ",s.jsx(Qa,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform inline"})]})]},P.name))})]})}),s.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["⭐ Annonces ",s.jsx("span",{className:"gradient-text",children:"Premium"})]}),v&&s.jsx("p",{className:"text-center text-destructive mb-8",children:v}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[f&&!u.length&&Array.from({length:10}).map((P,O)=>s.jsxs("div",{className:"bg-gradient-to-br from-amber-50/80 to-yellow-100/80 rounded-lg shadow-xl overflow-hidden glassmorphic-card border-2 border-amber-300/50",children:[s.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 animate-pulse"}),s.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[s.jsx("div",{className:"h-6 w-3/4 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-3 animate-pulse"}),s.jsx("div",{className:"h-4 w-1/2 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-4 animate-pulse"}),s.jsx("div",{className:"h-10 w-1/3 bg-gradient-to-r from-amber-300/50 to-yellow-300/50 rounded animate-pulse"})]})]},O)),!f&&u.length===0&&s.jsxs("div",{className:"col-span-full text-center py-16",children:[s.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium pour le moment"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Soyez le premier à passer premium et boostez votre visibilité !"}),s.jsx(fe,{onClick:()=>t("/creer-annonce"),variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Créer une Annonce Premium"})]}),u.slice(0,10).map(P=>s.jsx(eu,{listing:P,showActions:!1},P.id))]}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(fe,{size:"lg",variant:"default",className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white shadow-lg",onClick:()=>t("/premium"),children:[r("listings.viewAllPremium")," ",s.jsx(Qa,{className:"ml-2 h-5 w-5"})]})})]})}),s.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:["🔥 ",s.jsx("span",{className:"gradient-text",children:r("listings.popularListings")})]}),l&&s.jsx("p",{className:"text-center text-destructive mb-8",children:l}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[a&&!n.length&&Array.from({length:6}).map((P,O)=>s.jsxs("div",{className:"bg-card rounded-lg shadow-xl overflow-hidden glassmorphic-card border border-transparent",children:[s.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-muted animate-pulse"}),s.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[s.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),s.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),s.jsx("div",{className:"h-10 w-1/3 bg-muted rounded animate-pulse"})]})]},O)),!a&&n.length===0&&s.jsx("p",{className:"col-span-full text-center text-muted-foreground",children:"Aucune annonce populaire pour le moment."}),n.slice(0,6).map(P=>s.jsx(eu,{listing:P,showActions:!1},P.id))]}),s.jsx("div",{className:"text-center mt-12",children:s.jsxs(fe,{size:"lg",variant:"default",className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-primary-foreground",onClick:()=>t("/marketplace?sort=popular&per=24"),children:[r("listings.viewAll")," ",s.jsx(Qa,{className:"ml-2 h-5 w-5"})]})})]})}),s.jsx("section",{className:"py-20 md:py-32",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[s.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Prêt à ",s.jsx("span",{className:"gradient-text",children:"Rejoindre MaxiMarket"})," ?"]}),s.jsx(Re.p,{className:"text-lg text-muted-foreground mb-10 max-w-xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Créez un compte, publiez votre première annonce ou trouvez l'affaire parfaite en quelques clics."}),s.jsxs(Re.div,{className:"space-y-4 sm:space-y-0 sm:flex sm:justify-center sm:space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[s.jsx(fe,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground w-full sm:w-auto",onClick:()=>{e?t("/creer-annonce"):t("/connexion",{state:{from:"/creer-annonce"}})},children:"Publier une Annonce"}),s.jsx(fe,{size:"lg",variant:"outline",className:"w-full sm:w-auto",onClick:()=>t("/inscription"),children:"Créer un Compte"})]})]})})]})},kTe=()=>{const{user:t}=Mr(),e=En(),r=Vi(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",a=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,type:"",minPrice:a,maxPrice:o}),{listings:d,loading:f,error:g,hasMore:v,loadMore:y}=uj("real_estate",c),{toggleFavorite:b}=KAe(),_=A=>{A.preventDefault()},j=(A,E)=>{u(P=>({...P,[A]:E}))},N=()=>{u({search:"",location:"",type:"",minPrice:"",maxPrice:""})},C=()=>{if(!t){e("/connexion");return}e("/creer-annonce/real-estate")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-green-900/10 text-foreground py-12",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",s.jsx("span",{className:"gradient-text-emerald",children:"Immobilier"})," en Afrique de l'Ouest"]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Appartements, maisons, terrains et locaux commerciaux. Trouvez votre prochaine propriété ou investissement ici."})]}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:s.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"search",type:"text",placeholder:"Entrez une ville, quartier, mots-clés...",value:c.search,onChange:A=>j("search",A.target.value),className:"pl-10"}),s.jsx(Mi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),s.jsx(it,{id:"location",type:"text",placeholder:"Ville, région...",value:c.location,onChange:A=>j("location",A.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"minPrice",className:"block text-sm font-medium mb-1",children:"Prix min"}),s.jsx(it,{id:"minPrice",type:"number",placeholder:"0",value:c.minPrice,onChange:A=>j("minPrice",A.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium mb-1",children:"Prix max"}),s.jsx(it,{id:"maxPrice",type:"number",placeholder:"∞",value:c.maxPrice,onChange:A=>j("maxPrice",A.target.value)})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{type:"submit",className:"flex-1",children:[s.jsx(Mi,{className:"mr-2 h-4 w-4"}),"Rechercher"]}),s.jsx(fe,{type:"button",variant:"outline",onClick:N,children:s.jsx(Hs,{className:"h-4 w-4"})})]})]})}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center mb-12",children:s.jsx(fe,{onClick:C,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:"Publier une annonce immobilière"})}),f&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[s.jsx(nn,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des annonces..."})]}),g&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[s.jsx(wn,{className:"h-12 w-12 text-destructive mb-4"}),s.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:g}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),s.jsx(fe,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!f&&d.length>0&&s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:d.map((A,E)=>s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.1},children:s.jsx(eu,{listing:A,onToggleFavorite:b})},A.id))}),!f&&!g&&d.length===0&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce trouvée"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucune annonce immobilière ne correspond à vos critères de recherche."}),s.jsx(fe,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&d.length>0&&s.jsx("div",{className:"text-center mt-16",children:s.jsx(fe,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):s.jsxs(s.Fragment,{children:["Charger plus d'annonces ",s.jsx(Qa,{className:"ml-2 h-5 w-5"})]})})}),d.length>0&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[d.length," annonce",d.length>1?"s":""," immobilière",d.length>1?"s":""," trouvée",d.length>1?"s":""]})})]})})},ATe=()=>{const{user:t}=Mr(),e=En(),r=Vi(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",a=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",c=n.get("brand")||"",[u,d]=x.useState({search:i,location:l,brand:c,minPrice:a,maxPrice:o,year:"",fuel:""}),{listings:f,loading:g,error:v,hasMore:y,loadMore:b,toggleFavorite:_}=uj("automobile",u),j=E=>{E.preventDefault()},N=(E,P)=>{d(O=>({...O,[E]:P}))},C=()=>{d({search:"",location:"",brand:"",minPrice:"",maxPrice:"",year:"",fuel:""})},A=()=>{if(!t){e("/connexion");return}e("/creer-annonce/automobile")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-blue-900/10 text-foreground py-12",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",s.jsx("span",{className:"gradient-text-blue",children:"Automobile"})," en Afrique de l'Ouest"]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Voitures, motos, utilitaires et pièces détachées. Trouvez votre prochain véhicule ou vendez le vôtre ici."})]}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:s.jsxs("form",{onSubmit:j,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"search",type:"text",placeholder:"Marque, modèle, mots-clés...",className:"pl-10 h-12 text-base",value:u.search,onChange:E=>N("search",E.target.value)}),s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),s.jsx(it,{id:"location",type:"text",placeholder:"Ville, région...",className:"h-12 text-base",value:u.location,onChange:E=>N("location",E.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",children:"Marque"}),s.jsxs("select",{id:"brand",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.brand,onChange:E=>N("brand",E.target.value),children:[s.jsx("option",{value:"",children:"Toutes marques"}),s.jsx("option",{value:"Toyota",children:"Toyota"}),s.jsx("option",{value:"Peugeot",children:"Peugeot"}),s.jsx("option",{value:"Renault",children:"Renault"}),s.jsx("option",{value:"Citroën",children:"Citroën"}),s.jsx("option",{value:"Ford",children:"Ford"}),s.jsx("option",{value:"Volkswagen",children:"Volkswagen"}),s.jsx("option",{value:"BMW",children:"BMW"}),s.jsx("option",{value:"Mercedes",children:"Mercedes"}),s.jsx("option",{value:"Audi",children:"Audi"}),s.jsx("option",{value:"Honda",children:"Honda"}),s.jsx("option",{value:"Nissan",children:"Nissan"}),s.jsx("option",{value:"Hyundai",children:"Hyundai"}),s.jsx("option",{value:"Kia",children:"Kia"}),s.jsx("option",{value:"Autre",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"year",className:"block text-sm font-medium mb-1",children:"Année"}),s.jsxs("select",{id:"year",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.year,onChange:E=>N("year",E.target.value),children:[s.jsx("option",{value:"",children:"Toutes années"}),Array.from({length:25},(E,P)=>2024-P).map(E=>s.jsx("option",{value:E,children:E},E))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"fuel",className:"block text-sm font-medium mb-1",children:"Carburant"}),s.jsxs("select",{id:"fuel",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.fuel,onChange:E=>N("fuel",E.target.value),children:[s.jsx("option",{value:"",children:"Tous carburants"}),s.jsx("option",{value:"essence",children:"Essence"}),s.jsx("option",{value:"diesel",children:"Diesel"}),s.jsx("option",{value:"hybride",children:"Hybride"}),s.jsx("option",{value:"electrique",children:"Électrique"}),s.jsx("option",{value:"gpl",children:"GPL"})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[s.jsx(Hs,{className:"mr-2 h-5 w-5"})," Rechercher"]}),s.jsx(fe,{type:"button",variant:"outline",className:"h-12 px-3",onClick:C,children:"Effacer"})]})]})}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:s.jsx(fe,{onClick:A,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🚗 Publier une annonce automobile"})}),g&&f.length===0&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[s.jsx(nn,{className:"h-12 w-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des véhicules..."})]}),v&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[s.jsx(wn,{className:"h-12 w-12 text-destructive mb-4"}),s.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:v}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),s.jsx(fe,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!g&&f.length>0&&s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((E,P)=>s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:P*.1},children:s.jsx(eu,{listing:E,onToggleFavorite:_})},E.id))}),!g&&!v&&f.length===0&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🚗"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun véhicule trouvé"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun véhicule ne correspond à vos critères de recherche."}),s.jsx(fe,{onClick:C,variant:"outline",children:"Effacer les filtres"})]}),y&&f.length>0&&s.jsx("div",{className:"text-center mt-16",children:s.jsx(fe,{onClick:b,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:g,children:g?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):s.jsxs(s.Fragment,{children:["Charger plus de véhicules ",s.jsx(Qa,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[f.length," véhicule",f.length>1?"s":""," trouvé",f.length>1?"s":""]})})]})})},TTe=()=>{const{user:t}=Mr(),e=En(),r=Vi(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",a=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,serviceType:"",minPrice:a,maxPrice:o}),{listings:d,loading:f,error:g,hasMore:v,loadMore:y,toggleFavorite:b}=uj("services",c),_=A=>{A.preventDefault()},j=(A,E)=>{u(P=>({...P,[A]:E}))},N=()=>{u({search:"",location:"",serviceType:"",minPrice:"",maxPrice:""})},C=()=>{if(!t){e("/connexion");return}e("/creer-annonce/services")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/10 text-foreground py-12",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur des ",s.jsx("span",{className:"gradient-text-purple",children:"Services"})," en Afrique de l'Ouest"]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Plomberie, électricité, cours particuliers, événementiel et bien plus. Trouvez le service dont vous avez besoin."})]}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:s.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"search",type:"text",placeholder:"Type de service, mots-clés...",className:"pl-10 h-12 text-base",value:c.search,onChange:A=>j("search",A.target.value)}),s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),s.jsx(it,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:c.location,onChange:A=>j("location",A.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"service-type",className:"block text-sm font-medium mb-1",children:"Type de service"}),s.jsxs("select",{id:"service-type",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:c.serviceType,onChange:A=>j("serviceType",A.target.value),children:[s.jsx("option",{value:"",children:"Tous services"}),s.jsx("option",{value:"plomberie",children:"Plomberie"}),s.jsx("option",{value:"electricite",children:"Électricité"}),s.jsx("option",{value:"menage",children:"Ménage"}),s.jsx("option",{value:"jardinage",children:"Jardinage"}),s.jsx("option",{value:"education",children:"Éducation"}),s.jsx("option",{value:"informatique",children:"Informatique"}),s.jsx("option",{value:"coiffure",children:"Coiffure"}),s.jsx("option",{value:"beaute",children:"Beauté"}),s.jsx("option",{value:"evenementiel",children:"Événementiel"}),s.jsx("option",{value:"transport",children:"Transport"}),s.jsx("option",{value:"reparation",children:"Réparation"}),s.jsx("option",{value:"conseil",children:"Conseil"}),s.jsx("option",{value:"autre",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(it,{type:"number",placeholder:"Min",className:"h-12 text-base",value:c.minPrice,onChange:A=>j("minPrice",A.target.value)}),s.jsx(it,{type:"number",placeholder:"Max",className:"h-12 text-base",value:c.maxPrice,onChange:A=>j("maxPrice",A.target.value)})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[s.jsx(Hs,{className:"mr-2 h-5 w-5"})," Rechercher"]}),s.jsx(fe,{type:"button",variant:"outline",className:"h-12 px-3",onClick:N,children:"Effacer"})]})]})}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:s.jsx(fe,{onClick:C,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🔧 Proposer un service"})}),f&&d.length===0&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[s.jsx(nn,{className:"h-12 w-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des services..."})]}),g&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[s.jsx(wn,{className:"h-12 w-12 text-destructive mb-4"}),s.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:g}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),s.jsx(fe,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!f&&d.length>0&&s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:d.map((A,E)=>s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.1},children:s.jsx(eu,{listing:A,onToggleFavorite:b})},A.id))}),!f&&!g&&d.length===0&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🔧"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun service trouvé"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun service ne correspond à vos critères de recherche."}),s.jsx(fe,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&d.length>0&&s.jsx("div",{className:"text-center mt-16",children:s.jsx(fe,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):s.jsxs(s.Fragment,{children:["Charger plus de services ",s.jsx(Qa,{className:"ml-2 h-5 w-5"})]})})}),d.length>0&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[d.length," service",d.length>1?"s":""," trouvé",d.length>1?"s":""]})})]})})},OTe=()=>{const{user:t}=Mr(),e=En(),r=Vi(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("sort")||"",a=parseInt(n.get("per")||"12",10),o=n.get("search")||"",l=n.get("minPrice")||"",c=n.get("maxPrice")||"",u=n.get("location")||"",[d,f]=x.useState({search:o,location:u,category:"",minPrice:l,maxPrice:c,condition:"",sort:i,per:isNaN(a)?12:Math.min(Math.max(a,6),48)}),{listings:g,loading:v,error:y,hasMore:b,loadMore:_,toggleFavorite:j}=uj("marketplace",d),N=P=>{P.preventDefault()};x.useMemo(()=>d.sort==="popular"?[...g].sort((P,O)=>(O?.views_count||0)-(P?.views_count||0)):g,[d.sort,g]);const C=(P,O)=>{f(I=>({...I,[P]:O}))},A=()=>{f({search:"",location:"",category:"",minPrice:"",maxPrice:"",condition:""})},E=()=>{if(!t){e("/connexion");return}e("/creer-annonce/marketplace")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-orange-900/10 text-foreground py-12",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur ",s.jsx("span",{className:"gradient-text-orange",children:"Marketplace"})," en Afrique de l'Ouest"]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Téléphones, vêtements, meubles, livres et bien plus. Achetez et vendez en toute sécurité."})]}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:s.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(it,{id:"search",type:"text",placeholder:"Produit, marque, mots-clés...",className:"pl-10 h-12 text-base",value:d.search,onChange:P=>C("search",P.target.value)}),s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),s.jsx(it,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:d.location,onChange:P=>C("location",P.target.value)})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Catégorie"}),s.jsxs("select",{id:"category",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:d.category,onChange:P=>C("category",P.target.value),children:[s.jsx("option",{value:"",children:"Toutes catégories"}),s.jsx("option",{value:"telephonie",children:"Téléphonie"}),s.jsx("option",{value:"informatique",children:"Informatique"}),s.jsx("option",{value:"vetements",children:"Vêtements"}),s.jsx("option",{value:"chaussures",children:"Chaussures"}),s.jsx("option",{value:"accessoires",children:"Accessoires"}),s.jsx("option",{value:"mobilier",children:"Mobilier"}),s.jsx("option",{value:"electromenager",children:"Électroménager"}),s.jsx("option",{value:"livres",children:"Livres"}),s.jsx("option",{value:"sport",children:"Sport"}),s.jsx("option",{value:"beaute",children:"Beauté"}),s.jsx("option",{value:"jouets",children:"Jouets"}),s.jsx("option",{value:"bricolage",children:"Bricolage"}),s.jsx("option",{value:"jardinage",children:"Jardinage"}),s.jsx("option",{value:"autre",children:"Autre"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium mb-1",children:"État"}),s.jsxs("select",{id:"condition",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:d.condition,onChange:P=>C("condition",P.target.value),children:[s.jsx("option",{value:"",children:"Tous états"}),s.jsx("option",{value:"neuf",children:"Neuf"}),s.jsx("option",{value:"excellent",children:"Excellent"}),s.jsx("option",{value:"bon",children:"Bon"}),s.jsx("option",{value:"moyen",children:"Moyen"}),s.jsx("option",{value:"usage",children:"Usage"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(it,{type:"number",placeholder:"Min",className:"h-12 text-base",value:d.minPrice,onChange:P=>C("minPrice",P.target.value)}),s.jsx(it,{type:"number",placeholder:"Max",className:"h-12 text-base",value:d.maxPrice,onChange:P=>C("maxPrice",P.target.value)})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[s.jsx(Hs,{className:"mr-2 h-5 w-5"})," Rechercher"]}),s.jsx(fe,{type:"button",variant:"outline",className:"h-12 px-3",onClick:A,children:"Effacer"})]})]})}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:s.jsx(fe,{onClick:E,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🛍️ Vendre un produit"})}),v&&g.length===0&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[s.jsx(nn,{className:"h-12 w-12 animate-spin text-primary mb-4"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des produits..."})]}),y&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[s.jsx(wn,{className:"h-12 w-12 text-destructive mb-4"}),s.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:y}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),s.jsx(fe,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!v&&g.length>0&&s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:g.map((P,O)=>s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:O*.1},children:s.jsx(eu,{listing:P,onToggleFavorite:j})},P.id))}),!v&&!y&&g.length===0&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🛍️"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun produit trouvé"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun produit ne correspond à vos critères de recherche."}),s.jsx(fe,{onClick:A,variant:"outline",children:"Effacer les filtres"})]}),b&&g.length>0&&s.jsx("div",{className:"text-center mt-16",children:s.jsx(fe,{onClick:_,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:v,children:v?s.jsxs(s.Fragment,{children:[s.jsx(nn,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):s.jsxs(s.Fragment,{children:["Charger plus de produits ",s.jsx(Qa,{className:"ml-2 h-5 w-5"})]})})}),g.length>0&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:s.jsxs("p",{className:"text-muted-foreground",children:[g.length," produit",g.length>1?"s":""," trouvé",g.length>1?"s":""]})})]})})},RTe=()=>{const t=En(),[e,r]=x.useState([]),[n,i]=x.useState(!0),[a,o]=x.useState(null),[l,c]=x.useState(1),[u,d]=x.useState(1),[f,g]=x.useState(!1),[v,y]=x.useState({category:"",minPrice:"",maxPrice:"",location:"",search:""}),b=async(E=1,P=v)=>{try{i(!0),o(null);const O=await rn.getPremiumListings(100,!0);if(O?.data){let I=O.data;P.category&&(I=I.filter(te=>te.category===P.category)),P.minPrice&&(I=I.filter(te=>te.price>=parseFloat(P.minPrice))),P.maxPrice&&(I=I.filter(te=>te.price<=parseFloat(P.maxPrice))),P.location&&(I=I.filter(te=>te.location?.city?.toLowerCase().includes(P.location.toLowerCase())||te.location?.country?.toLowerCase().includes(P.location.toLowerCase()))),P.search&&(I=I.filter(te=>te.title.toLowerCase().includes(P.search.toLowerCase())||te.description.toLowerCase().includes(P.search.toLowerCase())));const F=12,H=I.length,U=Math.ceil(H/F),z=(E-1)*F,V=z+F,X=I.slice(z,V);r(X),d(U),g(E<U),c(E)}}catch(O){o(O?.message||"Erreur lors du chargement des annonces premium")}finally{i(!1)}};x.useEffect(()=>{b(1,v)},[]);const _=(E,P)=>{const O={...v,[E]:P};y(O),c(1),b(1,O)},j=E=>{E.preventDefault(),b(1,v)},N=()=>{const E={category:"",minPrice:"",maxPrice:"",location:"",search:""};y(E),b(1,E)},C=E=>{E>=1&&E<=u&&b(E,v)},A=[{value:"real_estate",label:"🏠 Immobilier",color:"bg-blue-100 text-blue-800"},{value:"automobile",label:"🚗 Automobile",color:"bg-green-100 text-green-800"},{value:"services",label:"🔧 Services",color:"bg-purple-100 text-purple-800"},{value:"marketplace",label:"🛍️ Marketplace",color:"bg-orange-100 text-orange-800"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20",children:[s.jsx(Re.section,{className:"relative py-16 md:py-24 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s.jsx("div",{className:"flex items-center mb-6",children:s.jsxs(fe,{variant:"ghost",onClick:()=>t(-1),className:"mr-4 hover:bg-amber-100",children:[s.jsx(kd,{className:"h-5 w-5 mr-2"}),"Retour"]})}),s.jsxs(Re.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[s.jsxs("div",{className:"flex justify-center items-center mb-6",children:[s.jsx(Ew,{className:"h-16 w-16 text-amber-500 mr-4"}),s.jsx(cs,{className:"h-12 w-12 text-yellow-500"})]}),s.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Annonces ",s.jsx("span",{className:"gradient-text",children:"Premium"})]}),s.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto mb-8",children:"Découvrez notre sélection exclusive d'annonces premium. Qualité garantie, visibilité maximale."}),s.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[s.jsxs(vt,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300",children:[s.jsx(S1,{className:"h-4 w-4 mr-2"}),"Mise en avant garantie"]}),s.jsxs(vt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[s.jsx(cs,{className:"h-4 w-4 mr-2"}),"Qualité premium"]}),s.jsxs(vt,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[s.jsx(Ew,{className:"h-4 w-4 mr-2"}),"Support prioritaire"]})]})]})]})}),s.jsx("section",{className:"py-8 bg-background/50",children:s.jsx("div",{className:"container mx-auto px-4 md:px-6",children:s.jsx(Re.div,{className:"bg-card rounded-xl p-6 shadow-lg border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:s.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("form",{onSubmit:j,className:"relative",children:[s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),s.jsx(it,{type:"text",placeholder:"Rechercher dans les annonces premium...",value:v.search,onChange:E=>_("search",E.target.value),className:"pl-10 pr-4 py-3"})]})}),s.jsxs("div",{className:"flex flex-wrap gap-4",children:[s.jsxs("select",{value:v.category,onChange:E=>_("category",E.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[s.jsx("option",{value:"",children:"Toutes catégories"}),A.map(E=>s.jsx("option",{value:E.value,children:E.label},E.value))]}),s.jsx(it,{type:"number",placeholder:"Prix min",value:v.minPrice,onChange:E=>_("minPrice",E.target.value),className:"w-32"}),s.jsx(it,{type:"number",placeholder:"Prix max",value:v.maxPrice,onChange:E=>_("maxPrice",E.target.value),className:"w-32"}),s.jsx(it,{type:"text",placeholder:"Localisation",value:v.location,onChange:E=>_("location",E.target.value),className:"w-40"}),s.jsxs(fe,{variant:"outline",onClick:N,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),"Effacer"]})]})]})})})}),s.jsx("section",{className:"py-16",children:s.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a&&s.jsx(Re.div,{className:"text-center text-destructive mb-8 p-4 bg-destructive/10 rounded-lg",initial:{opacity:0},animate:{opacity:1},children:a}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?Array.from({length:9}).map((E,P)=>s.jsxs(Re.div,{className:"bg-card rounded-lg shadow-lg overflow-hidden border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:P*.1},children:[s.jsx("div",{className:"h-48 bg-muted animate-pulse"}),s.jsxs("div",{className:"p-4",children:[s.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),s.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),s.jsx("div",{className:"h-8 w-1/3 bg-muted rounded animate-pulse"})]})]},P)):e.length>0?e.map((E,P)=>s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:P*.1},children:s.jsx(eu,{listing:E,showActions:!1})},E.id)):s.jsxs(Re.div,{className:"col-span-full text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[s.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),s.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium trouvée"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Essayez de modifier vos filtres ou revenez plus tard"}),s.jsx(fe,{onClick:N,variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Effacer les filtres"})]})}),!n&&u>1&&s.jsxs(Re.div,{className:"flex justify-center items-center mt-12 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[s.jsx(fe,{variant:"outline",onClick:()=>C(l-1),disabled:l===1,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Précédent"}),Array.from({length:u},(E,P)=>P+1).map(E=>s.jsx(fe,{variant:l===E?"default":"outline",onClick:()=>C(E),className:l===E?"bg-amber-500 hover:bg-amber-600":"border-amber-300 text-amber-700 hover:bg-amber-100",children:E},E)),s.jsx(fe,{variant:"outline",onClick:()=>C(l+1),disabled:l===u,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Suivant"})]}),!n&&e.length>0&&s.jsx(Re.div,{className:"text-center mt-8 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:s.jsxs("p",{children:["Affichage de ",e.length," annonces premium",u>1&&` (page ${l} sur ${u})`]})})]})})]})},MTe=[{value:"real_estate",label:"Immobilier"},{value:"automobile",label:"Automobile"},{value:"services",label:"Service"},{value:"marketplace",label:"Produit"}],dB={title:"",description:"",price:"",currency:"XOF",category:"",subCategory:"",location:{city:"",country:""},images:[],videos:[],specificData:{}},ITe=t=>({"real-estate":"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"})[t]||"",DTe=({onSuccess:t,category:e,onDataChange:r,currentStep:n=1,onStepChange:i})=>{const{toast:a}=Vr(),[o,l]=x.useState({...dB,category:e?ITe(e):""}),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[g,v]=x.useState({current:0,total:0}),[y,b]=x.useState(n);x.useEffect(()=>{b(n)},[n]);const _=[{code:"BJ",name:"Bénin",cities:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Kandi","Abomey","Natitingou","Ouidah","Lokossa"]},{code:"CI",name:"Côte d'Ivoire",cities:["Abidjan","Bouaké","Daloa","Yamoussoukro","San Pedro","Korhogo","Man","Gagnoa","Abengourou","Divo"]},{code:"NG",name:"Nigeria",cities:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"]}],j=G=>{const{name:ie,value:Z}=G.target;if(ie.startsWith("location.")){const de=ie.split(".")[1];l(Se=>({...Se,location:{...Se.location,[de]:Z}}))}else l(de=>({...de,[ie]:Z}));r&&r({[ie]:Z})},N=G=>{const{name:ie,value:Z}=G.target;l(de=>({...de,specificData:{...de.specificData,[ie]:Z}}))},C=(G,ie=1920,Z=.8)=>new Promise(de=>{const Se=document.createElement("canvas"),Me=Se.getContext("2d"),qe=new Image;qe.onload=()=>{let{width:oe,height:ae}=qe;oe>ie&&(ae=ae*ie/oe,oe=ie),Se.width=oe,Se.height=ae,Me.drawImage(qe,0,0,oe,ae),Se.toBlob(ge=>{const ve=new File([ge],G.name,{type:"image/jpeg",lastModified:Date.now()});de(ve)},"image/jpeg",Z)},qe.src=URL.createObjectURL(G)}),A=G=>new Promise(ie=>{const Z=new FileReader;Z.onload=de=>{ie({url:de.target.result,file:G,id:Date.now()+Math.random()})},Z.readAsDataURL(G)}),E=async G=>{const ie=Array.from(G.target.files);if(!ie.length)return;if(o.images.length+ie.length>8){a({title:"Limite atteinte",description:"Vous pouvez uploader jusqu'à 8 images maximum.",variant:"destructive"});return}if(ie.filter(de=>!de.type.startsWith("image/")).length>0){a({title:"Type de fichier invalide",description:"Seules les images sont acceptées.",variant:"destructive"});return}f(!0),v({current:0,total:ie.length});try{const de=await Promise.all(ie.map(A)),Se=[...o.images,...de.map(ve=>({url:ve.url,isPreview:!0,id:ve.id,file:ve.file}))];l(ve=>({...ve,images:Se})),r&&r({images:Se});const Me=await Promise.all(ie.map(ve=>C(ve,1920,.8))),qe=async(ve,Ae)=>{const Q=ve.slice(Ae,Ae+3);return Promise.all(Q.map(async(Y,Ee)=>{const Ce=Ae+Ee;try{const Qe=await Rme.uploadImage(Y,"listings");return v({current:Ce+1,total:ve.length}),{success:!0,url:Qe,index:Ce}}catch(Qe){return console.error("Erreur upload pour",Y.name,Qe),v({current:Ce+1,total:ve.length}),{success:!1,error:Qe.message,index:Ce}}}))},oe=[];for(let ve=0;ve<Me.length;ve+=3){const Ae=await qe(Me,ve);oe.push(...Ae)}const ae=oe.filter(ve=>ve.success),ge=oe.filter(ve=>!ve.success);if(ae.length>0){const ve=[...Se];ae.forEach(({url:Ae,index:Q})=>{const Y=ve.findIndex(Ee=>Ee.isPreview&&Ee.id===de[Q].id);Y!==-1&&(ve[Y]={url:Ae,isPreview:!1})}),l(Ae=>({...Ae,images:ve})),r&&r({images:ve}),a({title:"Images ajoutées",description:`${ae.length} image(s) téléchargée(s) avec succès.`})}ge.length>0&&a({title:"Erreurs d'upload",description:`Erreurs pour ${ge.length} fichier(s): ${ge.map(ve=>ve.error).join(", ")}`,variant:"destructive"})}catch(de){console.error("Erreur générale upload:",de),a({title:"Erreur upload",description:de?.message||"Erreur lors de l'upload.",variant:"destructive"})}finally{f(!1),v({current:0,total:0})}},P=G=>{l(ie=>{const Z=ie.images.filter((de,Se)=>Se!==G);return r&&r({images:Z}),{...ie,images:Z}})},O=()=>!o.title||o.title.length<5?"Le titre est requis (min 5 caractères)":!o.description||o.description.length<10?"La description est requise (min 10 caractères)":!o.price||isNaN(Number(o.price))?"Le prix est requis et doit être un nombre":o.category?null:"La catégorie est requise",I=()=>{y<2&&(b(y+1),i&&i(y+1))},F=()=>{y>1&&(b(y-1),i&&i(y-1))},H=async G=>{G.preventDefault();const ie=O();if(ie){a({title:"Erreur de validation",description:ie,variant:"destructive"});return}u(!0);try{const Z=o.images.filter(Me=>!Me.isPreview).map(Me=>Me.url),de={...o,images:Z,price:Number(o.price)},Se=await rn.createListing(de);a({title:"Annonce créée !",description:"Votre annonce a été soumise avec succès."}),l(dB),t&&t(Se)}catch(Z){a({title:"Erreur",description:Z?.message||"Erreur lors de la création.",variant:"destructive"})}finally{u(!1)}},U=()=>{switch(o.category){case"real_estate":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"propertyType",children:"Type de bien immobilier"}),s.jsx(it,{id:"propertyType",name:"propertyType",placeholder:"Ex: Appartement, Maison, Terrain, Local commercial...",value:o.specificData.propertyType||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"transactionType",children:"Type de transaction"}),s.jsx(it,{id:"transactionType",name:"transactionType",placeholder:"Ex: Vente, Location, Location-vente...",value:o.specificData.transactionType||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"bedrooms",children:"Nombre de chambres"}),s.jsx(it,{id:"bedrooms",name:"bedrooms",type:"number",placeholder:"Ex: 3",min:"0",value:o.specificData.bedrooms||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"bathrooms",children:"Nombre de salles de bain"}),s.jsx(it,{id:"bathrooms",name:"bathrooms",type:"number",placeholder:"Ex: 2",min:"0",value:o.specificData.bathrooms||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"areaSqMeters",children:"Surface en mètres carrés"}),s.jsx(it,{id:"areaSqMeters",name:"areaSqMeters",type:"number",placeholder:"Ex: 120",min:"1",value:o.specificData.areaSqMeters||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{children:"Commodités et équipements"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez les commodités disponibles (piscine, parking, climatisation, etc.)"}),(o.specificData.amenities||[]).map((G,ie)=>s.jsxs("div",{className:"flex gap-2 mb-1",children:[s.jsx(it,{value:G,onChange:Z=>te(ie,Z.target.value),placeholder:"Ex: Piscine, Parking, Climatisation..."}),s.jsx(fe,{type:"button",size:"icon",variant:"destructive",onClick:()=>W(ie),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ie)),s.jsx(fe,{type:"button",size:"sm",variant:"outline",onClick:le,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter une commodité"})]})]});case"automobile":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"vehicleType",children:"Type de véhicule"}),s.jsx(it,{id:"vehicleType",name:"vehicleType",placeholder:"Ex: Voiture, Moto, Camion, Bus...",value:o.specificData.vehicleType||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"make",children:"Marque du véhicule"}),s.jsx(it,{id:"make",name:"make",placeholder:"Ex: Toyota, Honda, BMW...",value:o.specificData.make||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"model",children:"Modèle du véhicule"}),s.jsx(it,{id:"model",name:"model",placeholder:"Ex: Corolla, Civic, X5...",value:o.specificData.model||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"year",children:"Année de fabrication"}),s.jsx(it,{id:"year",name:"year",type:"number",placeholder:"Ex: 2020",min:"1900",max:new Date().getFullYear()+1,value:o.specificData.year||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"mileage",children:"Kilométrage en km"}),s.jsx(it,{id:"mileage",name:"mileage",type:"number",placeholder:"Ex: 50000",min:"0",value:o.specificData.mileage||"",onChange:N})]})]});case"services":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"serviceCategory",children:"Catégorie de service"}),s.jsx(it,{id:"serviceCategory",name:"serviceCategory",placeholder:"Ex: Plomberie, Électricité, Design, Formation...",value:o.specificData.serviceCategory||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"availability",children:"Disponibilité"}),s.jsx(it,{id:"availability",name:"availability",placeholder:"Ex: Lundi-Vendredi 9h-18h, Weekends...",value:o.specificData.availability||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"experienceYears",children:"Années d'expérience"}),s.jsx(it,{id:"experienceYears",name:"experienceYears",type:"number",placeholder:"Ex: 5",min:"0",value:o.specificData.experienceYears||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{children:"Liens de portfolio et références"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez des liens vers vos réalisations, portfolio ou références"}),(o.specificData.portfolioLinks||[]).map((G,ie)=>s.jsxs("div",{className:"flex gap-2 mb-1",children:[s.jsx(it,{value:G,onChange:Z=>z(ie,Z.target.value),placeholder:"https://votre-portfolio.com ou lien vers vos réalisations..."}),s.jsx(fe,{type:"button",size:"icon",variant:"destructive",onClick:()=>X(ie),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ie)),s.jsx(fe,{type:"button",size:"sm",variant:"outline",onClick:V,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter un lien de portfolio"})]})]});case"marketplace":return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"productCategory",children:"Catégorie de produit"}),s.jsx(it,{id:"productCategory",name:"productCategory",placeholder:"Ex: Électronique, Vêtements, Livres, Sport...",value:o.specificData.productCategory||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"brand",children:"Marque du produit"}),s.jsx(it,{id:"brand",name:"brand",placeholder:"Ex: Apple, Nike, Samsung...",value:o.specificData.brand||"",onChange:N})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"stockQuantity",children:"Quantité disponible en stock"}),s.jsx(it,{id:"stockQuantity",name:"stockQuantity",type:"number",placeholder:"Ex: 10",min:"0",value:o.specificData.stockQuantity||"",onChange:N})]})]});default:return null}},z=(G,ie)=>{l(Z=>({...Z,specificData:{...Z.specificData,portfolioLinks:Z.specificData.portfolioLinks?.map((de,Se)=>Se===G?ie:de)||[]}}))},V=()=>{l(G=>({...G,specificData:{...G.specificData,portfolioLinks:[...G.specificData.portfolioLinks||[],""]}}))},X=G=>{l(ie=>({...ie,specificData:{...ie.specificData,portfolioLinks:ie.specificData.portfolioLinks?.filter((Z,de)=>de!==G)||[]}}))},te=(G,ie)=>{l(Z=>({...Z,specificData:{...Z.specificData,amenities:Z.specificData.amenities?.map((de,Se)=>Se===G?ie:de)||[]}}))},le=()=>{l(G=>({...G,specificData:{...G.specificData,amenities:[...G.specificData.amenities||[],""]}}))},W=G=>{l(ie=>({...ie,specificData:{...ie.specificData,amenities:ie.specificData.amenities?.filter((Z,de)=>de!==G)||[]}}))},re=()=>{switch(y){case 1:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Informations de base"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Commencez par les informations essentielles de votre annonce."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"title",children:"Titre de l'annonce *"}),s.jsx(it,{id:"title",name:"title",value:o.title,onChange:j,placeholder:"Ex: Appartement moderne 3 pièces à Cotonou",required:!0,className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"description",children:"Description *"}),s.jsx(Rd,{id:"description",name:"description",value:o.description,onChange:j,placeholder:"Décrivez votre offre en détail...",rows:4,required:!0,className:"max-w-2xl resize-none transition-all duration-200",style:{minHeight:"120px",height:"auto",overflow:"hidden"},onInput:G=>{G.target.style.height="auto",G.target.style.height=Math.min(G.target.scrollHeight,300)+"px"}})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"category",children:"Catégorie *"}),s.jsxs("select",{id:"category",name:"category",value:o.category,onChange:j,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[s.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une catégorie"}),MTe.map(G=>s.jsx("option",{value:G.value,className:"text-foreground",children:G.label},G.value))]})]})]}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Prix et localisation"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"price",children:"Prix *"}),s.jsx(it,{id:"price",name:"price",type:"number",value:o.price,onChange:j,placeholder:"0",required:!0,className:"h-12"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"currency",children:"Devise"}),s.jsxs("select",{id:"currency",name:"currency",value:o.currency,onChange:j,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[s.jsx("option",{value:"XOF",className:"text-foreground",children:"XOF (Franc CFA)"}),s.jsx("option",{value:"EUR",className:"text-foreground",children:"EUR (Euro)"}),s.jsx("option",{value:"USD",className:"text-foreground",children:"USD (Dollar US)"}),s.jsx("option",{value:"NGN",className:"text-foreground",children:"NGN (Naira)"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"country",children:"Pays"}),s.jsxs("select",{id:"country",name:"location.country",value:o.location.country,onChange:j,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[s.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner un pays"}),_.map(G=>s.jsx("option",{value:G.name,className:"text-foreground",children:G.name},G.code))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"city",children:"Ville"}),s.jsxs("select",{id:"city",name:"location.city",value:o.location.city,onChange:j,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.location.country,children:[s.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une ville"}),_.find(G=>G.name===o.location.country)?.cities?.map((G,ie)=>s.jsx("option",{value:G,className:"text-foreground",children:G},`${o.location.country||"unknown"}-${G}-${ie}`))]})]})]})]})]});case 2:return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Médias et détails"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Ajoutez des photos et des informations spécifiques à votre catégorie."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Images et médias"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"image-upload",children:"Sélectionner des images"}),s.jsxs("div",{className:`border-2 border-dashed border-gray-400 rounded-lg p-6 text-center transition-colors ${d?"border-blue-400 bg-blue-50":"hover:border-primary"}`,children:[s.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:E,className:"hidden",id:"image-upload",disabled:d}),s.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer ${d?"cursor-not-allowed":""}`,children:s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:d?s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}):s.jsx(qf,{className:"h-6 w-6 text-gray-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-gray-900",children:d?"Chargement en cours...":"Cliquez pour ajouter des images"}),s.jsx("p",{className:"text-xs text-gray-600",children:d?`Veuillez patienter (${g.current}/${g.total})`:"PNG, JPG jusqu'à 10MB"}),d&&g.total>0&&s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:s.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})})]})]})})]})]}),o.images.length>0&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs(ot,{children:["Images sélectionnées (",o.images.length,")"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o.images.map((G,ie)=>s.jsxs("div",{className:"relative group aspect-square",children:[s.jsx("img",{src:G.url,alt:`Aperçu ${ie+1}`,className:`w-full h-full object-cover rounded-lg border ${G.isPreview?"opacity-70":""}`}),G.isPreview&&s.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:s.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:s.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}),s.jsx("button",{type:"button",onClick:()=>P(ie),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity shadow-md",title:"Supprimer cette image",disabled:G.isPreview,children:"×"})]},ie))})]})]}),s.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[s.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Détails spécifiques à la catégorie"}),o.category?s.jsx("div",{className:"space-y-4",children:U()}):s.jsx("div",{className:"text-center py-4",children:s.jsx("p",{className:"text-muted-foreground",children:"Veuillez d'abord sélectionner une catégorie à l'étape 1."})})]})]});default:return null}};return s.jsxs("div",{className:"space-y-6",children:[re(),s.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[s.jsx(fe,{type:"button",variant:"outline",onClick:F,disabled:y===1,children:"Précédent"}),s.jsx("div",{className:"flex items-center space-x-2",children:y<2?s.jsx(fe,{type:"button",onClick:I,disabled:!o.title||!o.description||!o.category,children:"Suivant"}):s.jsx(fe,{type:"submit",onClick:H,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?"Publication...":"Publier l'annonce"})})]})]})},LTe=({formData:t,onClose:e})=>{const[r,n]=x.useState(0),[i,a]=x.useState(!1),o=b=>({real_estate:QA,automobile:x1,services:Xf,marketplace:hh})[b]||QA,l=b=>b?typeof b=="string"?b:b?.url?b.url:b?.file?URL.createObjectURL(b.file):b?.src?b.src:null:null,c=()=>!t.images||!Array.isArray(t.images)?[]:t.images.map(b=>{const _=l(b);return _?{...b,displayUrl:_}:null}).filter(Boolean),u=b=>({real_estate:"Immobilier",automobile:"Automobile",services:"Service",marketplace:"Produit"})[b]||"Autre",d=o(t.category),f=c(),g=()=>{f.length>0&&n(b=>b===f.length-1?0:b+1)},v=()=>{f.length>0&&n(b=>b===0?f.length-1:b)},y=b=>{b>=0&&b<f.length&&n(b)};return s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:s.jsxs(Re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:b=>b.stopPropagation(),children:[s.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-6 py-4 flex items-center justify-between z-10",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Aperçu de l'annonce"}),(!t.title||!t.description||!t.price)&&s.jsx(vt,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Preview partiel"})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:e,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:f.length>0?s.jsxs(s.Fragment,{children:[s.jsx(Bn,{mode:"wait",children:s.jsx(Re.img,{src:f[r]?.displayUrl,alt:`Image ${r+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},r)}),f.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:s.jsx(ro,{className:"h-5 w-5"})}),s.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:s.jsx(no,{className:"h-5 w-5"})})]}),s.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:[r+1," / ",f.length]}),s.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[s.jsx("button",{onClick:()=>a(!i),className:`p-2 rounded-full transition-all ${i?"bg-red-500 text-white":"bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100"}`,children:s.jsx(Al,{className:`h-5 w-5 ${i?"fill-current":""}`})}),s.jsx("button",{className:"p-2 rounded-full bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100 transition-all",children:s.jsx(iT,{className:"h-5 w-5"})})]})]}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(ph,{className:"h-8 w-8"})}),s.jsx("p",{children:"Aucune image"}),s.jsx("p",{className:"text-xs mt-1",children:"Ajoutez des images à l'étape 2"})]})})}),f.length>1&&s.jsx("div",{className:"flex space-x-2 mt-4 overflow-x-auto",children:f.map((b,_)=>s.jsx("button",{onClick:()=>y(_),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${_===r?"border-primary":"border-border hover:border-primary/50"}`,children:s.jsx("img",{src:b.displayUrl,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2",children:[s.jsxs("div",{className:"mb-4",children:[s.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[s.jsxs(vt,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[s.jsx(d,{className:"h-3 w-3 mr-1"}),u(t.category)]}),s.jsx(vt,{variant:"outline",className:"text-green-600 border-green-600",children:"Actif"})]}),s.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:t.title||"Titre de l'annonce (à définir)"}),s.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[s.jsx(Nl,{className:"h-4 w-4 mr-1"}),t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:"Localisation non définie"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("div",{className:"text-3xl font-bold text-foreground",children:t.price?`${t.price} ${t.currency||"XOF"}`:"Prix à définir"}),t.category==="real_estate"&&t.specificData?.areaSqMeters&&s.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[t.specificData.areaSqMeters," m²"]})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Description"}),s.jsx("p",{className:"text-foreground leading-relaxed",children:t.description||"Description à ajouter pour votre annonce."})]}),t.specificData&&Object.keys(t.specificData).length>0&&s.jsxs("div",{className:"mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Détails"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.category==="real_estate"&&s.jsxs(s.Fragment,{children:[t.specificData.propertyType&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),s.jsx("div",{className:"font-medium text-foreground",children:t.specificData.propertyType})]}),t.specificData.bedrooms&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Chambres:"}),s.jsx("div",{className:"font-medium text-foreground",children:t.specificData.bedrooms})]}),t.specificData.bathrooms&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Salles de bain:"}),s.jsx("div",{className:"font-medium text-foreground",children:t.specificData.bathrooms})]}),t.specificData.areaSqMeters&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Surface:"}),s.jsxs("div",{className:"font-medium text-foreground",children:[t.specificData.areaSqMeters," m²"]})]})]}),t.category==="automobile"&&s.jsxs(s.Fragment,{children:[t.specificData.make&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Marque:"}),s.jsx("div",{className:"font-medium text-foreground",children:t.specificData.make})]}),t.specificData.model&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Modèle:"}),s.jsx("div",{className:"font-medium text-foreground",children:t.specificData.model})]}),t.specificData.year&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Année:"}),s.jsx("div",{className:"font-medium text-foreground",children:t.specificData.year})]}),t.specificData.mileage&&s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Kilométrage:"}),s.jsxs("div",{className:"font-medium text-foreground",children:[t.specificData.mileage," km"]})]})]})]})]})]}),s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Images"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:[s.jsxs("p",{children:["• ",f.length," image(s) ajoutée(s)"]}),f.length===0&&s.jsx("p",{className:"text-yellow-600 mt-1",children:"⚠️ Aucune image - Ajoutez des images à l'étape 2"})]})]})})]})]})]})})},Db=()=>{const t=En(),{category:e,id:r}=nx(),{toast:n}=Vr(),[i,a]=x.useState(1),[o,l]=x.useState({}),[c,u]=x.useState(!1),[d,f]=x.useState(!1),[g,v]=x.useState(!1),y=async I=>{try{v(!0);const F=await rn.getListingById(I);if(F){const H={title:F.title||"",description:F.description||"",price:F.price||"",category:F.category||e,location:F.location||{},images:F.images||[],contact_info:F.contact_info||{},real_estate_details:F.real_estate_details||{},automobile_details:F.automobile_details||{},service_details:F.service_details||{},product_details:F.product_details||{}};l(H),n({title:"Annonce chargée",description:"Les données de l'annonce ont été chargées avec succès."})}}catch(F){console.error("Erreur lors du chargement de l'annonce:",F),n({title:"Erreur",description:"Impossible de charger les données de l'annonce. Veuillez réessayer.",variant:"destructive"})}finally{v(!1)}};ne.useEffect(()=>{r&&(f(!0),y(r))},[r]);const b=I=>({"real-estate":"Immobilière",automobile:"Automobile",services:"de Service",marketplace:"Marketplace"})[I]||"",j=(I=>({"real-estate":Sl,automobile:x1,services:Xf,marketplace:hh})[I]||Sl)(e),N=[{id:1,title:"Informations de base",description:"Titre, description, catégorie, prix et localisation",icon:yn,completed:!1},{id:2,title:"Médias et publication",description:"Photos, vidéos, caractéristiques spécifiques et publication",icon:qf,completed:!1}],C=I=>{I?.id?t("/profile",{state:{message:d?"Annonce modifiée avec succès ! Les changements sont maintenant visibles sur le site.":"Annonce créée avec succès ! Elle est maintenant visible sur le site.",type:"success"}}):t("/profile")},A=I=>{l(F=>({...F,...I}))},E=()=>o.title||o.description||o.price,P=()=>!o.title&&!o.description&&!o.price?"Commencez à remplir le formulaire pour voir l'aperçu":"Aperçu disponible (certaines données peuvent être manquantes)",O=()=>{const I=encodeURIComponent("Support création annonce - MaxiMarket"),F=encodeURIComponent(`Bonjour l'équipe MaxiMarket,

Je rencontre des difficultés lors de la création de mon annonce et j'aurais besoin de votre aide.

📋 Détails de ma demande :
• Catégorie d'annonce : ${e?b(e):"Non spécifiée"}
• Étape actuelle : Étape ${i} sur ${N.length}
• Problème rencontré : [Veuillez décrire votre problème ici]

📧 Mon email de contact : [Votre email]
📱 Mon téléphone : [Votre téléphone]

Merci de votre aide !

Cordialement,
[Votre nom]

---
Ce message a été généré automatiquement depuis le formulaire de création d'annonce MaxiMarket.
Support : support@maximarket.com
Site : https://maximarket.com`),H=`mailto:support@maximarket.com?subject=${I}&body=${F}`;window.open(H,"_blank")};return s.jsxs("div",{className:"min-h-screen bg-background",children:[s.jsx("div",{className:"bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-50",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(fe,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"text-muted-foreground hover:text-foreground",children:[s.jsx(kd,{className:"h-4 w-4 mr-2"}),"Retour"]}),s.jsx("div",{className:"flex items-center space-x-3",children:e&&s.jsxs("div",{className:"flex items-center space-x-2 bg-primary/10 px-3 py-1 rounded-full",children:[s.jsx(j,{className:"h-4 w-4 text-primary"}),s.jsx("span",{className:"text-sm font-medium text-primary",children:b(e)})]})})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>u(!c),disabled:!E(),className:E()?"":"opacity-50 cursor-not-allowed",title:E()?"Voir l'aperçu de votre annonce":P(),children:[s.jsx(Bo,{className:"h-4 w-4 mr-2"}),c?"Masquer":"Aperçu"]})})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[s.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:d?"Modifier l'annonce":e?`Créer une annonce ${b(e)}`:"Créer une annonce"}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:d?g?"Chargement des données de l'annonce...":"Modifiez les informations de votre annonce existante.":"Partagez votre offre avec notre communauté. Remplissez les informations ci-dessous pour publier votre annonce."})]}),s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[s.jsx("div",{className:"flex items-center justify-center space-x-4",children:N.map((I,F)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${i>=I.id?"bg-primary border-primary text-white":"bg-card border-border text-muted-foreground"}`,children:i>I.id?s.jsx(zn,{className:"h-5 w-5"}):s.jsx(I.icon,{className:"h-5 w-5"})}),F<N.length-1&&s.jsx("div",{className:`w-16 h-0.5 mx-2 ${i>I.id?"bg-primary":"bg-border"}`})]},I.id))}),s.jsx("div",{className:"text-center mt-4",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Étape ",i," sur ",N.length," : ",N[i-1]?.title]})})]}),c&&s.jsx(LTe,{formData:o,onClose:()=>u(!1)}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsx("div",{className:"lg:col-span-2",children:s.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:s.jsx(xt,{className:"shadow-lg border-0",children:s.jsx(wt,{className:"p-6",children:s.jsx(DTe,{onSuccess:C,category:e,onDataChange:A,currentStep:i,onStepChange:a})})})})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:s.jsx(xt,{className:"shadow-lg border-0",children:s.jsxs(wt,{className:"p-6",children:[s.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[s.jsx(zn,{className:"h-5 w-5 text-green-500 mr-2"}),"Conseils pour une annonce réussie"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez un titre clair et descriptif"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez des photos de qualité"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Décrivez précisément votre offre"})]}),s.jsxs("div",{className:"flex items-start space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixez un prix compétitif"})]})]})]})})}),s.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:s.jsx(xt,{className:"shadow-lg border-0",children:s.jsxs(wt,{className:"p-6",children:[s.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Besoin d'aide ?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Notre équipe est là pour vous accompagner dans la création de votre annonce."}),s.jsx(fe,{variant:"outline",className:"w-full",onClick:O,children:"Contacter le support"})]})})})]})]})]})}),s.jsx(X7,{})]})},$Te=ne.memo(({images:t=[],title:e="Galerie d'images"})=>{const[r,n]=x.useState(0),[i,a]=x.useState(!1),[o,l]=x.useState(!1),c=x.useRef(null);wTe(t,r);const{touchHandlers:u,zoomLevel:d}=jTe(()=>n(j=>(j+1)%t.length),()=>n(j=>(j-1+t.length)%t.length),j=>l(j>1)),f=x.useCallback(()=>{n(j=>(j+1)%t.length)},[t.length]),g=x.useCallback(()=>{n(j=>(j-1+t.length)%t.length)},[t.length]),v=j=>{n(j)};x.useEffect(()=>{const j=N=>{if(i)switch(N.key){case"ArrowLeft":N.preventDefault(),g();break;case"ArrowRight":N.preventDefault(),f();break;case"Escape":N.preventDefault(),a(!1),l(!1);break;case" ":N.preventDefault(),l(!o);break}};return i&&(document.addEventListener("keydown",j),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",j),document.body.style.overflow="unset"}},[i,o,f,g]);const y=()=>{i?l(!o):a(!0)},b=()=>{l(!o)};if(!t||t.length===0)return s.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted flex items-center justify-center",children:s.jsx("div",{className:"text-center text-muted-foreground",children:s.jsx("p",{children:"Aucune image disponible"})})});const _=t[r];return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"relative",children:[s.jsxs("div",{ref:c,className:"relative aspect-video rounded-lg overflow-hidden bg-muted cursor-pointer group",...u,onClick:y,children:[s.jsx(Ww,{src:_,alt:`${e} - Image ${r+1}`,className:"w-full h-full",context:"gallery",quality:"high",showSkeleton:!0}),s.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300",children:s.jsx(fe,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:j=>{j.stopPropagation(),a(!0)},children:s.jsx(Q3,{className:"h-4 w-4"})})}),t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(fe,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:j=>{j.stopPropagation(),g()},children:s.jsx(ro,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:j=>{j.stopPropagation(),f()},children:s.jsx(no,{className:"h-4 w-4"})})]})]}),t.length>1&&s.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:t.map((j,N)=>s.jsx("button",{onClick:()=>v(N),className:`w-2 h-2 rounded-full transition-all duration-300 ${N===r?"bg-primary scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),t.length>1&&s.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[r+1," / ",t.length]})]}),s.jsx(Bn,{children:i&&s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",...u,children:[s.jsx(fe,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white z-10",onClick:()=>{a(!1),l(!1)},children:s.jsx(Gs,{className:"h-6 w-6"})}),s.jsx(fe,{variant:"ghost",size:"sm",className:"absolute top-4 right-16 bg-black/50 hover:bg-black/70 text-white z-10",onClick:b,children:o?s.jsx(xpe,{className:"h-6 w-6"}):s.jsx(Q3,{className:"h-6 w-6"})}),s.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:s.jsx(Ww,{src:_,alt:`${e} - Image ${r+1}`,className:`max-w-full max-h-full object-contain transition-transform duration-300 ${o?"cursor-zoom-out":"cursor-zoom-in"}`,context:"fullscreen",quality:"high",showSkeleton:!1,onClick:y,style:{transform:`scale(${d})`,cursor:o?"zoom-out":"zoom-in"}})}),t.length>1&&s.jsxs(s.Fragment,{children:[s.jsx(fe,{variant:"ghost",size:"lg",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:g,children:s.jsx(ro,{className:"h-8 w-8"})}),s.jsx(fe,{variant:"ghost",size:"lg",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:f,children:s.jsx(no,{className:"h-8 w-8"})})]}),t.length>1&&s.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:t.map((j,N)=>s.jsx("button",{onClick:()=>v(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===r?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),s.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white text-sm px-3 py-1 rounded",children:[r+1," / ",t.length]}),s.jsx("div",{className:"absolute top-4 left-4 text-white/70 text-sm",children:s.jsx("p",{children:"← → Navigation • Espace Zoom • Échap Fermer"})})]})})]})}),pte=({rating:t=0,onRatingChange:e,readonly:r=!1,size:n="md",showLabel:i=!1,className:a=""})=>{const[o,l]=x.useState(0),c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6"},u=y=>{r||l(y)},d=()=>{r||l(0)},f=y=>{!r&&e&&e(y)},g=y=>y<=(o||t)?"text-yellow-400 fill-current":"text-gray-300",v=y=>({0:"Aucune note",1:"Très mauvais",2:"Mauvais",3:"Moyen",4:"Bon",5:"Excellent"})[y]||"Aucune note";return s.jsxs("div",{className:Je("flex items-center space-x-1",a),children:[s.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(y=>s.jsx("button",{type:"button",onClick:()=>f(y),onMouseEnter:()=>u(y),onMouseLeave:d,disabled:r,className:Je("transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 rounded-sm",c[n],r?"cursor-default":"cursor-pointer hover:scale-110",g(y)),"aria-label":`${y} étoile${y>1?"s":""}`,children:s.jsx(cs,{className:"w-full h-full"})},y))}),i&&s.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:v(t)}),!r&&s.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:t>0?`${t}/5`:"Cliquez pour noter"})]})},FTe=ni({content:$t().min(1,"Le commentaire ne peut pas être vide").max(1e3,"Le commentaire ne peut pas dépasser 1000 caractères"),parent_id:$t().uuid().optional()}),cO=({listingId:t,onSubmit:e,onCancel:r,initialData:n=null,parentId:i=null,className:a=""})=>{const{toast:o}=Vr(),[l,c]=x.useState(!1),[u,d]=x.useState(n?.rating||0),{register:f,handleSubmit:g,watch:v,formState:{errors:y,isValid:b},reset:_}=Ym({resolver:MPe(FTe),defaultValues:{content:n?.content||"",parent_id:i||n?.parent_id},mode:"onChange"}),j=v("content"),N=!!n,C=async O=>{console.log("🔍 [CommentForm] handleFormSubmit appelé avec:",{data:O,rating:u}),console.log("🔍 [CommentForm] Formulaire soumis !"),console.log("🔍 [CommentForm] Note fournie:",u),console.log("🔍 [CommentForm] Début de la soumission..."),c(!0);try{console.log("🔍 [CommentForm] Préparation des données...");const I={...O,rating:u||null,listing_id:t,parent_id:i||n?.parent_id};console.log("🔍 [CommentForm] Données préparées:",I),console.log("🔍 [CommentForm] Appel de onSubmit...");const F=await e(I);if(console.log("🔍 [CommentForm] Résultat onSubmit:",F),F.error)throw new Error(F.error);o({title:N?"Commentaire modifié":"Commentaire ajouté",description:N?"Votre commentaire a été modifié avec succès.":"Votre commentaire a été ajouté avec succès."}),N||(_(),d(0)),r&&r()}catch(I){o({title:"Erreur",description:I.message||"Une erreur est survenue lors de l'envoi du commentaire.",variant:"destructive"})}finally{c(!1)}},A=O=>{d(O)},E=()=>j?.length||0,P=()=>{const O=E();return O===0?"text-red-500":O>900?"text-orange-500":"text-muted-foreground"};return s.jsxs("div",{className:Je("space-y-4",a),children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-lg font-semibold",children:N?"Modifier le commentaire":"Ajouter un commentaire"}),i&&s.jsx(vt,{variant:"secondary",className:"text-xs",children:"Réponse"})]}),s.jsxs("form",{onSubmit:g(C),className:"space-y-4",children:[console.log("🔍 [CommentForm] Rendu du formulaire, isValid:",b,"errors:",y),console.log("🔍 [CommentForm] VERSION DE TEST - 2024-08-21-15h30"),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Votre note (optionnelle)"}),s.jsx(pte,{rating:u,onRatingChange:A,size:"lg",showLabel:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Votre commentaire *"}),s.jsx(Rd,{id:"content",...f("content"),placeholder:N?"Modifiez votre commentaire...":"Partagez votre expérience avec cette annonce...",className:Je("min-h-[120px] resize-none",y.content&&"border-red-500 focus:border-red-500"),maxLength:1e3}),s.jsx("div",{className:"flex items-center justify-between text-xs",children:s.jsxs("span",{className:P(),children:[E(),"/1000 caractères"]})}),y.content&&s.jsxs("p",{className:"text-sm text-red-500 flex items-center",children:[s.jsx(wn,{className:"h-4 w-4 mr-1"}),y.content.message]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2",children:[s.jsx("div",{className:"flex items-center space-x-2",children:r&&s.jsx(fe,{type:"button",variant:"outline",onClick:r,disabled:l,children:"Annuler"})}),s.jsx(fe,{type:"submit",disabled:l||!j?.trim(),className:"flex items-center space-x-2",onClick:O=>{O.preventDefault(),console.log("🔍 [CommentForm] Bouton cliqué - validation manuelle"),console.log("🔍 [CommentForm] État:",{rating:u,content:j?.trim(),isSubmitting:l}),j?.trim()&&!l&&g(C)()},children:l?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),s.jsx("span",{children:"Envoi..."})]}):s.jsxs(s.Fragment,{children:[s.jsx(Bc,{className:"h-4 w-4"}),s.jsx("span",{children:N?"Modifier":"Publier"})]})})]})]})]})},mte=({comment:t,onUpdate:e,onDelete:r,onReply:n,onReport:i,showReplies:a=!0,className:o=""})=>{const{user:l}=Mr(),{toast:c}=Vr(),[u,d]=x.useState(!1),[f,g]=x.useState(!1),[v,y]=x.useState(!1),[b,_]=x.useState(t.replies||[]),j=l?.id===t.user_id,N=l?.role==="admin",C=j||N,A=()=>{d(!0)},E=async()=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce commentaire ?"))try{const z=await r(t.id);if(z.error)throw new Error(z.error);c({title:"Commentaire supprimé",description:"Votre commentaire a été supprimé avec succès."})}catch(z){c({title:"Erreur",description:z.message||"Impossible de supprimer le commentaire.",variant:"destructive"})}},P=()=>{g(!0)},O=async()=>{try{const z=await i(t.id,{reason:"inappropriate",description:"Commentaire signalé par l'utilisateur"});if(z.error)throw new Error(z.error);c({title:"Commentaire signalé",description:"Le commentaire a été signalé aux modérateurs."})}catch(z){c({title:"Erreur",description:z.message||"Impossible de signaler le commentaire.",variant:"destructive"})}},I=z=>{d(!1),e&&e(z)},F=z=>{g(!1),_(V=>[z,...V]),n&&n(z)},H=z=>{switch(z){case"approved":return s.jsxs(vt,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:[s.jsx(zn,{className:"h-3 w-3 mr-1"}),"Approuvé"]});case"pending":return s.jsxs(vt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[s.jsx(Ri,{className:"h-3 w-3 mr-1"}),"En attente"]});case"rejected":return s.jsxs(vt,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-300",children:[s.jsx(Vf,{className:"h-3 w-3 mr-1"}),"Rejeté"]});default:return null}},U=z=>z?.split(" ").map(V=>V[0]).join("").toUpperCase().slice(0,2)||"U";return u?s.jsx("div",{className:Je("border rounded-lg p-4 bg-muted/30",o),children:s.jsx(cO,{listingId:t.listing_id,onSubmit:async z=>{try{const V=await e(t.id,z);if(V.error)throw new Error(V.error);return I(V.comment),V}catch(V){return{error:V.message}}},onCancel:()=>d(!1),initialData:t})}):s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:Je("transition-all",o),children:[s.jsxs("div",{className:"flex items-start justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Gw,{className:"h-10 w-10",children:s.jsx(Zw,{className:"bg-primary/10 text-primary",children:U(t.user_id||"U")})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("h4",{className:"font-medium text-sm",children:t.user_display_name||`Utilisateur ${t.user_id?.slice(0,8)}...`}),t.is_verified_purchase&&s.jsxs(vt,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-300",children:[s.jsx(zn,{className:"h-3 w-3 mr-1"}),"Achat vérifié"]})]}),s.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[s.jsx("span",{children:rme(t.created_at)}),t.updated_at!==t.created_at&&s.jsx("span",{children:"(modifié)"})]})]})]}),s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsx(fe,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:s.jsx(GH,{className:"h-4 w-4"})})}),s.jsxs(au,{align:"end",children:[s.jsxs($r,{onClick:P,children:[s.jsx(rT,{className:"h-4 w-4 mr-2"}),"Répondre"]}),C&&s.jsxs(s.Fragment,{children:[s.jsxs($r,{onClick:A,children:[s.jsx(j1,{className:"h-4 w-4 mr-2"}),"Modifier"]}),s.jsxs($r,{onClick:E,className:"text-red-600",children:[s.jsx(qo,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]}),!j&&s.jsxs($r,{onClick:O,children:[s.jsx(Vf,{className:"h-4 w-4 mr-2"}),"Signaler"]})]})]})]}),t.status!=="approved"&&s.jsx("div",{className:"mb-3",children:H(t.status)}),s.jsx("div",{className:"mb-3",children:s.jsx(pte,{rating:t.rating,readonly:!0,size:"sm"})}),s.jsx("div",{className:"mb-4",children:s.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:t.content})}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[s.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[t.likes_count>0&&s.jsxs("span",{children:[t.likes_count," j'aime"]}),t.replies_count>0&&s.jsxs("button",{onClick:()=>y(!v),className:"flex items-center space-x-1 hover:text-foreground transition-colors",children:[s.jsx(Oi,{className:"h-3 w-3"}),s.jsxs("span",{children:[t.replies_count," réponse",t.replies_count>1?"s":""]})]})]}),s.jsxs(fe,{variant:"ghost",size:"sm",onClick:P,className:"text-xs",children:[s.jsx(rT,{className:"h-3 w-3 mr-1"}),"Répondre"]})]}),f&&s.jsx("div",{className:"mt-4 pt-4 border-t",children:s.jsx(cO,{listingId:t.listing_id,onSubmit:async z=>{try{const V=await n(z);if(V.error)throw new Error(V.error);return F(V.comment),V}catch(V){return{error:V.message}}},onCancel:()=>g(!1),parentId:t.id})}),a&&t.replies_count>0&&v&&s.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[s.jsxs("h5",{className:"text-sm font-medium text-muted-foreground",children:["Réponses (",t.replies_count,")"]}),b.map(z=>s.jsx(mte,{comment:z,onUpdate:e,onDelete:r,onReply:n,onReport:i,showReplies:!1,className:"ml-4 border-l-2 border-muted pl-4"},z.id))]})]})},BTe=({listingId:t,listing:e,className:r="",showStats:n=!0,showFilters:i=!0})=>{console.log("🔍 [CommentsSection] Rendu avec listingId:",t);const{user:a}=Mr(),{toast:o}=Vr(),[l,c]=x.useState(!1),{comments:u,loading:d,error:f,pagination:g,addComment:v,updateComment:y,deleteComment:b,reportComment:_,changePage:j,refresh:N,forceRefresh:C}=bTe(t);console.log("🔍 [CommentsSection] État du hook:",{commentsLength:u?.length,loading:d,error:f,user:!!a,showForm:l});const A=async F=>{if(!a){o({title:"Connexion requise",description:"Vous devez être connecté pour ajouter un commentaire.",variant:"destructive"});return}const H=await v({...F,user_id:a.id});return H.error||c(!1),H},E=async(F,H)=>await y(F,H),P=async F=>await b(F),O=async F=>a?await v({...F,user_id:a.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour répondre.",variant:"destructive"}),{error:"Connexion requise"}),I=async(F,H)=>a?await _(F,{...H,reporter_id:a.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour signaler un commentaire.",variant:"destructive"}),{error:"Connexion requise"});return f?s.jsx(xt,{className:Je("mt-8",r),children:s.jsx(wt,{className:"p-6",children:s.jsxs("div",{className:"text-center text-muted-foreground",children:[s.jsx(Oi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Impossible de charger les commentaires"}),s.jsx("p",{className:"mb-4",children:"Une erreur est survenue lors du chargement des commentaires."}),s.jsxs(fe,{onClick:N,variant:"outline",children:[s.jsx(zo,{className:"h-4 w-4 mr-2"}),"Réessayer"]})]})})}):s.jsxs("div",{className:Je("space-y-6",r),children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Oi,{className:"h-6 w-6 text-primary"}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Commentaires et Avis"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(fe,{variant:"outline",size:"sm",onClick:()=>{console.log("🔄 [CommentsSection] Force refresh cliqué"),C()},disabled:d,className:"flex items-center space-x-2",children:[s.jsx(zo,{className:`h-4 w-4 ${d?"animate-spin":""}`}),s.jsx("span",{className:"hidden sm:inline",children:"Actualiser"})]})})]}),s.jsx(Bn,{children:l&&s.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Ht,{children:"Ajouter un commentaire"}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:s.jsx(Gs,{className:"h-4 w-4"})})]})}),s.jsx(wt,{children:s.jsx(cO,{listingId:t,onSubmit:A,onCancel:()=>c(!1)})})]})})}),s.jsx(xt,{children:s.jsx(wt,{className:"p-0",children:d?s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"Chargement des commentaires..."})]}):u.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(Oi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun commentaire"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Soyez le premier à laisser un commentaire sur cette annonce !"}),a&&s.jsxs(fe,{onClick:()=>{console.log("🔍 [CommentsSection] Bouton Ajouter (carte vide) cliqué"),c(!0)},children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Ajouter un commentaire"]})]}):s.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[s.jsx("div",{className:"divide-y divide-border",children:u.map((F,H)=>s.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:s.jsx(mte,{comment:F,onUpdate:E,onDelete:P,onReply:O,onReport:I,className:"border-0 p-0 shadow-none"})},F.id))}),g&&g.pages>1&&s.jsxs("div",{className:"flex items-center justify-center space-x-2 p-4 border-t",children:[s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>j(g.page-1),disabled:g.page<=1,children:"Précédent"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",g.page," sur ",g.pages]}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>j(g.page+1),disabled:g.page>=g.pages,children:"Suivant"})]})]})})})]})},zTe=({listings:t=[],title:e="Annonces similaires"})=>{const[r,n]=x.useState(0),[i,a]=x.useState(!0),[o,l]=x.useState(!1),c=()=>typeof window>"u"?3:window.innerWidth<768||window.innerWidth<1024?2:3,[u,d]=x.useState(c()),f=Math.max(0,t.length-u);x.useEffect(()=>{const N=()=>{d(c())};return window.addEventListener("resize",N),()=>window.removeEventListener("resize",N)},[]),x.useEffect(()=>{if(!i||t.length<=u||o)return;const N=setInterval(()=>{n(C=>(C+1)%(f+1))},5e3);return()=>clearInterval(N)},[i,t.length,u,f,o]);const g=x.useCallback(()=>l(!0),[]),v=x.useCallback(()=>l(!1),[]),y=x.useCallback(()=>{n(N=>(N+1)%(f+1))},[f]),b=x.useCallback(()=>{n(N=>(N-1+(f+1))%(f+1))},[f]),_=x.useCallback(N=>{n(Math.max(0,Math.min(N,f)))},[f]),j=N=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(N);return!t||t.length===0?null:s.jsxs("div",{className:"mt-12",onMouseEnter:g,onMouseLeave:v,children:[s.jsx("div",{className:"mb-6",children:s.jsx("h2",{className:"text-2xl font-bold",children:e})}),s.jsxs("div",{className:"relative overflow-hidden",children:[t.length>u&&s.jsxs(s.Fragment,{children:[s.jsx(fe,{variant:"outline",size:"sm",onClick:b,className:"absolute left-2 top-1/2 -translate-y-1/2 z-10 h-10 w-10 p-0 bg-black/20 hover:bg-black/40 text-white shadow-lg border-0 backdrop-blur-sm",children:s.jsx(ro,{className:"h-5 w-5"})}),s.jsx(fe,{variant:"outline",size:"sm",onClick:y,className:"absolute right-2 top-1/2 -translate-y-1/2 z-10 h-10 w-10 p-0 bg-black/20 hover:bg-black/40 text-white shadow-lg border-0 backdrop-blur-sm",children:s.jsx(no,{className:"h-5 w-5"})})]}),s.jsx(Bn,{mode:"wait",children:s.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.5,ease:"easeOut"},className:"flex gap-4",style:{transform:`translateX(-${r*(100/u)}%)`,width:`${t.length/u*100}%`},children:t.map((N,C)=>s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:C*.1},className:"min-w-[280px] sm:min-w-[320px] md:min-w-[300px] flex-shrink-0",children:s.jsx(pr,{to:`/annonce/${N.id}`,className:"group block",children:s.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary hover:shadow-lg",children:[s.jsxs("div",{className:"aspect-video relative overflow-hidden",children:[s.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:N.title,src:N.images?.[0]||"/placeholder-image.jpg",loading:"lazy"}),(N.is_featured||N.is_boosted||N.is_premium)&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"bg-gradient-to-r from-amber-500 to-yellow-500 text-white text-xs px-2 py-1 rounded-full",children:"⭐ Premium"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors line-clamp-1",children:N.title}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2 mb-3",children:N.description}),N.location&&s.jsxs("div",{className:"flex items-center text-xs text-muted-foreground mb-2",children:[s.jsx("span",{className:"mr-1",children:"📍"}),s.jsx("span",{children:N.location.city&&N.location.country?`${N.location.city}, ${N.location.country}`:"Localisation non spécifiée"})]}),s.jsx("p",{className:"text-lg font-bold text-primary",children:j(N.price)})]})]})})},N.id))},r)})]}),t.length>u&&s.jsx("div",{className:"mt-6 flex justify-center",children:s.jsx("div",{className:"flex gap-2",children:Array.from({length:f+1}).map((N,C)=>s.jsx("button",{onClick:()=>_(C),className:`w-3 h-3 rounded-full transition-all duration-300 ${C===r?"bg-primary scale-125":"bg-muted hover:bg-muted-foreground"}`},C))})})]})},qTe=({isOpen:t,onClose:e,listing:r,onReportSubmitted:n})=>{const[i,a]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState("medium"),[d,f]=x.useState(!1),{toast:g}=Vr(),v=[{value:"inappropriate_content",label:"Contenu inapproprié",description:"Contenu offensant, violent ou choquant"},{value:"fake_listing",label:"Annonce fausse",description:"Produit/service inexistant ou trompeur"},{value:"spam",label:"Spam",description:"Annonce répétitive ou non pertinente"},{value:"scam",label:"Arnaque",description:"Tentative de fraude ou d'escroquerie"},{value:"copyright",label:"Violation de droits",description:"Contenu protégé par des droits d'auteur"},{value:"other",label:"Autre",description:"Autre raison non listée"}],y=[{value:"low",label:"Faible",color:"bg-blue-100 text-blue-800"},{value:"medium",label:"Moyen",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"Élevé",color:"bg-red-100 text-red-800"}],b=async j=>{if(j.preventDefault(),!i){g({title:"Erreur",description:"Veuillez sélectionner une raison de signalement.",variant:"destructive"});return}if(!o.trim()){g({title:"Erreur",description:"Veuillez décrire le problème.",variant:"destructive"});return}f(!0);try{const N={listing_id:r.id,type:"listing",reason:i,description:o.trim(),severity:c,status:"pending"};await Mme.createReport(N),g({title:"Signalement envoyé",description:"Votre signalement a été enregistré et sera examiné par notre équipe."}),a(""),l(""),u("medium"),e(),n&&n()}catch(N){console.error("Erreur lors du signalement:",N),g({title:"Erreur",description:"Impossible d'envoyer le signalement. Veuillez réessayer.",variant:"destructive"})}finally{f(!1)}},_=()=>{d||e()};return t?s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs(xt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Vf,{className:"h-5 w-5 text-red-500"}),s.jsxs("div",{children:[s.jsx(Ht,{children:"Signaler cette annonce"}),s.jsx(ii,{children:"Aidez-nous à maintenir la qualité de notre plateforme"})]})]}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:_,disabled:d,className:"h-8 w-8 p-0",children:s.jsx(Gs,{className:"h-4 w-4"})})]}),s.jsxs(wt,{className:"space-y-6",children:[s.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Annonce signalée :"}),s.jsxs("div",{className:"flex items-start space-x-3",children:[r.images&&r.images[0]&&s.jsx("img",{src:r.images[0],alt:r.title,className:"w-16 h-16 object-cover rounded-lg"}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("h5",{className:"font-medium truncate",children:r.title}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Publiée le ",new Date(r.created_at).toLocaleDateString()]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Catégorie : ",r.category]})]})]})]}),s.jsxs("form",{onSubmit:b,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"reason",children:"Raison du signalement *"}),s.jsxs(Kr,{value:i,onValueChange:a,disabled:d,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Sélectionnez une raison"})}),s.jsx(Ur,{children:v.map(j=>s.jsx(Ge,{value:j.value,children:s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"font-medium",children:j.label}),s.jsx("span",{className:"text-xs text-muted-foreground",children:j.description})]})},j.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"severity",children:"Niveau de gravité"}),s.jsxs(Kr,{value:c,onValueChange:u,disabled:d,children:[s.jsx(qr,{children:s.jsx(Gr,{})}),s.jsx(Ur,{children:y.map(j=>s.jsx(Ge,{value:j.value,children:s.jsx(vt,{className:j.color,variant:"secondary",children:j.label})},j.value))})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ot,{htmlFor:"description",children:["Description détaillée du problème *",s.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(minimum 20 caractères)"})]}),s.jsx(Rd,{id:"description",value:o,onChange:j=>l(j.target.value),placeholder:"Décrivez en détail le problème que vous avez identifié...",rows:4,disabled:d,minLength:20,required:!0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length,"/500 caractères"]})]}),s.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(mh,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[s.jsx("p",{className:"font-medium",children:"Important :"}),s.jsx("p",{children:"Les signalements abusifs peuvent entraîner la suspension de votre compte. Assurez-vous que votre signalement est justifié et basé sur des faits."})]})]})}),s.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[s.jsx(fe,{type:"button",variant:"outline",onClick:_,disabled:d,children:"Annuler"}),s.jsx(fe,{type:"submit",disabled:d||!i||o.length<20,className:"bg-red-600 hover:bg-red-700",children:d?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bc,{className:"h-4 w-4 mr-2"}),"Envoyer le signalement"]})})]})]})]})]})}):null},UTe=()=>{const{id:t}=nx(),e=En(),{user:r}=Mr(),{toast:n}=Vr(),[i,a]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(!0),[d,f]=x.useState(!1),[g,v]=x.useState(!1),[y,b]=x.useState(!1),[_,j]=x.useState(!1),{images:N}=dte(i);x.useEffect(()=>{t&&(async()=>{u(!0);try{if(!t||t===""||typeof t!="string")throw new Error(`ID d'annonce invalide: "${t}"`);const z=await rn.getListingById(t);if(z){a(z);try{rn.incrementViews(z.id)}catch{}z.status!=="approved"&&n({title:"Annonce en attente",description:"Cette annonce est en cours de modération.",variant:"default"});const{data:V}=await rn.getAllListings({category:z.category,status:"approved",limit:15});l(V.filter(X=>X.id!==z.id).slice(0,10))}else n({title:"Annonce non trouvée",description:"L'annonce que vous recherchez n'existe pas ou a été supprimée.",variant:"destructive"}),e("/marketplace")}catch(z){console.error("Erreur lors du chargement de l'annonce:",z),console.error("Détails de l'erreur:",{message:z.message,code:z.code,details:z.details,hint:z.hint}),n({title:"Erreur",description:`Impossible de charger les détails de l'annonce: ${z.message}`,variant:"destructive"}),e("/marketplace")}finally{u(!1)}})()},[t,e,n]),x.useEffect(()=>{try{if(typeof window<"u"&&i){const U=i?.location&&typeof i.location=="object"&&i.location.city||"";window.__MAXIMARKET_CONTEXT={listing:{id:i.id,title:i.title,price:i.price,locationCity:U,sellerId:i.user_id,category:i.category}}}}catch{}return()=>{try{typeof window<"u"&&window.__MAXIMARKET_CONTEXT&&delete window.__MAXIMARKET_CONTEXT}catch{}}},[i]);const C=U=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(U),A=U=>new Date(U).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),E=U=>{switch(U){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},P=U=>{switch(U){case"real_estate":return"Immobilier";case"automobile":return"Automobile";case"services":return"Services";case"marketplace":return"Marketplace";default:return"Autre"}},O=async()=>{if(!r){e("/connexion");return}try{f(!d),n({title:d?"Retiré des favoris":"Ajouté aux favoris",description:d?"L'annonce a été retirée de vos favoris.":"L'annonce a été ajoutée à vos favoris."})}catch{n({title:"Erreur",description:"Impossible de modifier les favoris.",variant:"destructive"})}},I=async U=>{if(U==="whatsapp"||U==="phone"){const z=i.contact_info?.phone||i.users?.phone_number;if(!z){n({title:"Pas de numéro disponible",description:"Aucun numéro de téléphone n'est disponible pour cette annonce.",variant:"destructive"});return}const V=z.replace(/[\s\-\(\)]/g,""),X=V.startsWith("+")?V:V.startsWith("221")?`+${V}`:`+221${V}`;if(U==="phone")window.open(`tel:${X}`,"_blank"),n({title:"Appel en cours",description:`Appel vers ${X}`});else if(U==="whatsapp"){const te=encodeURIComponent(`Bonjour ! Je suis intéressé(e) par votre annonce "${i.title}".

Pouvez-vous me donner plus d'informations ?`);window.open(`https://wa.me/${X}?text=${te}`,"_blank"),n({title:"WhatsApp ouvert",description:`Conversation WhatsApp avec ${X}`})}return}if(U==="message"){if(!r){n({title:"Connexion requise",description:"Connectez-vous pour envoyer un message privé au vendeur.",variant:"default"}),e("/connexion");return}if(i.user_id===r.id){n({title:"Action impossible",description:"Vous ne pouvez pas vous contacter vous-même.",variant:"destructive"});return}if(!i.user_id||i.user_id==="test-user-1"){n({title:"Annonce de test",description:"Cette annonce est en mode test. Les fonctionnalités de contact ne sont pas disponibles.",variant:"default"});return}try{const V=await is.createConversation(i.user_id,i.id);e(`/messages?conversation=${V.id}&listing=${i.id}`),n({title:"Conversation créée",description:"Vous avez été redirigé vers la messagerie."})}catch(V){console.error("Erreur lors de la création de la conversation:",V),n({title:"Erreur",description:"Impossible de créer la conversation. Veuillez réessayer.",variant:"destructive"})}}},F=()=>{if(!r){e("/connexion");return}v(!0)},H=()=>{console.log("Signalement soumis avec succès")};return c?s.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'annonce..."})]})}):i?s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs(fe,{variant:"ghost",onClick:()=>e(-1),className:"mb-4",children:[s.jsx(kd,{className:"h-4 w-4 mr-2"}),"Retour"]}),s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[s.jsx(pr,{to:"/",className:"hover:text-primary",children:"Accueil"}),s.jsx("span",{children:"/"}),s.jsx(pr,{to:`/${i.category==="real_estate"?"immobilier":i.category==="automobile"?"automobile":i.category==="services"?"services":"marketplace"}`,className:"hover:text-primary",children:P(i.category)}),s.jsx("span",{children:"/"}),s.jsx("span",{className:"text-foreground",children:i.title})]})]}),s.jsx("div",{className:"max-w-4xl mx-auto",children:s.jsxs("div",{children:[s.jsx("div",{className:"mb-8",children:s.jsx($Te,{images:N,title:i.title})}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.title}),s.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Nl,{className:"h-4 w-4 mr-1"}),s.jsx("span",{children:i.location&&typeof i.location=="object"&&i.location.city?`${i.location.city}, ${i.location.country||""}`:"Localisation non spécifiée"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(zl,{className:"h-4 w-4 mr-1"}),s.jsxs("span",{children:["Publié le ",A(i.created_at)]})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(hte,{listing:i,variant:"compact"}),s.jsxs(fe,{variant:"outline",size:"sm",onClick:F,children:[s.jsx(Vf,{className:"h-4 w-4 mr-1"}),"Signaler"]})]})]}),s.jsxs("div",{className:"text-3xl font-bold text-primary mb-4",children:[C(i.price),(i.is_featured||i.is_boosted||i.is_premium)&&s.jsx(vt,{className:"ml-3 bg-gradient-to-r from-amber-500 to-yellow-500 text-white border-amber-600",children:"⭐ Premium"})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[s.jsxs(vt,{variant:"secondary",className:"bg-primary/10 text-primary",children:[E(i.category)," ",P(i.category)]}),i.status==="approved"&&s.jsx(vt,{variant:"default",className:"badge-approved",children:"Approuvé"}),r&&i.user_id===r.id&&s.jsx(fte,{listingId:i.id,listing:i,size:"default",showActions:!0,className:"ml-auto"})]})]}),s.jsx(uy,{className:"my-8"}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Description"}),s.jsx("div",{className:"prose prose-invert max-w-none",children:s.jsx("p",{className:"whitespace-pre-line",children:i.description})})]}),i.real_estate_details&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails immobiliers"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.real_estate_details.type&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),s.jsx("p",{className:"font-medium",children:i.real_estate_details.type})]}),i.real_estate_details.rooms&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Pièces"}),s.jsx("p",{className:"font-medium",children:i.real_estate_details.rooms})]}),i.real_estate_details.surface&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),s.jsxs("p",{className:"font-medium",children:[i.real_estate_details.surface," m²"]})]})]})]}),i.automobile_details&&s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails automobile"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.automobile_details.brand&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Marque"}),s.jsx("p",{className:"font-medium",children:i.automobile_details.brand})]}),i.automobile_details.model&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Modèle"}),s.jsx("p",{className:"font-medium",children:i.automobile_details.model})]}),i.automobile_details.year&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Année"}),s.jsx("p",{className:"font-medium",children:i.automobile_details.year})]}),i.automobile_details.fuel&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Carburant"}),s.jsx("p",{className:"font-medium",children:i.automobile_details.fuel})]})]})]}),s.jsx("div",{className:"mt-12 mb-8",children:s.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[s.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contacter le vendeur"}),i.users&&s.jsxs("div",{className:"mb-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendeur"}),s.jsxs("p",{className:"font-medium",children:[i.users.first_name," ",i.users.last_name]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsxs(fe,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>I("whatsapp"),children:[s.jsx(Oi,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),s.jsxs(fe,{className:"w-full",onClick:()=>I("phone"),children:[s.jsx(Xa,{className:"h-4 w-4 mr-2"}),"Appeler"]}),s.jsxs(fe,{variant:"outline",className:"w-full",onClick:()=>I("message"),children:[s.jsx(_a,{className:"h-4 w-4 mr-2"}),"Message"]}),s.jsxs(fe,{variant:"outline",className:"w-full",onClick:O,children:[s.jsx(Al,{className:`h-4 w-4 mr-2 ${d?"fill-red-500 text-red-500":""}`}),d?"Retirer":"Favoris"]})]}),!r&&s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["💡 ",s.jsx("strong",{children:"Conseil :"})," Vous pouvez contacter le vendeur directement par WhatsApp ou téléphone sans créer de compte. Connectez-vous uniquement si vous souhaitez utiliser la messagerie privée."]})})]})}),s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-amber-600 dark:text-amber-400 text-lg mr-2",children:"⚠️"}),s.jsx("h3",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Conseils de sécurité"})]}),s.jsx("button",{onClick:()=>b(!y),className:"text-xs text-amber-600 dark:text-amber-400 hover:underline",children:y?"Masquer":"Voir plus"})]}),s.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 mb-2",children:"🤝 Lieu public • 🔍 Vérifiez le bien • 💰 Paiement sécurisé • 🚨 Signalez les problèmes"}),y&&s.jsx("div",{className:"mt-3 pt-3 border-t border-amber-200 dark:border-amber-700",children:s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs",children:[s.jsxs("div",{children:[s.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Rencontre :"}),s.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Lieu public, évitez les heures tardives"})]}),s.jsxs("div",{children:[s.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Vérification :"}),s.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Inspectez, testez, demandez les documents"})]}),s.jsxs("div",{children:[s.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Paiement :"}),s.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Espèces privilégiées, méfiez-vous des prix bas"})]}),s.jsxs("div",{children:[s.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Signalement :"}),s.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Conservez les communications, signalez les abus"})]})]})})]})}),s.jsx("div",{className:"mb-8",children:s.jsx(BTe,{listingId:i.id,listing:i,className:"mt-8"})}),s.jsx(zTe,{listings:o,title:"Annonces similaires"})]})}),s.jsx(qTe,{isOpen:g,onClose:()=>v(!1),listing:i,onReportSubmitted:H})]}):null},VTe=()=>{const{user:t}=Mr(),[e,r]=x.useState([]),[n,i]=x.useState([]),[a,o]=x.useState(!0),[l,c]=x.useState("grid"),[u,d]=x.useState(""),[f,g]=x.useState([]),[v,y]=x.useState(null),[b,_]=x.useState(""),j=async()=>{if(t){o(!0);try{const{data:O,error:I}=await be.from("favorites").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(I)throw I;const F=O.map(H=>H.listing_id);if(F.length>0){const{data:H,error:U}=await be.from("listings").select(`
            *,
            user:users(id, full_name, avatar_url),
            category:categories(name, slug)
          `).in("id",F).eq("status","approved");if(U)throw U;const z=O.map(V=>{const X=H.find(te=>te.id===V.listing_id);return{...V,listing:X}}).filter(V=>V.listing);r(z),i(H)}else r([]),i([])}catch(O){console.error("Erreur chargement favoris:",O)}finally{o(!1)}}},N=async O=>{try{const{error:I}=await be.from("favorites").delete().eq("id",O);if(I)throw I;r(F=>F.filter(H=>H.id!==O))}catch(I){console.error("Erreur suppression favoris:",I)}},C=async(O,I)=>{try{const{error:F}=await be.from("favorites").update({notes:I}).eq("id",O);if(F)throw F;r(H=>H.map(U=>U.id===O?{...U,notes:I}:U)),y(null),_("")}catch(F){console.error("Erreur mise à jour notes:",F)}};x.useEffect(()=>{j()},[t]);const A=e.filter(O=>{const I=O.listing;if(!I)return!1;const F=u===""||I.title.toLowerCase().includes(u.toLowerCase())||I.description?.toLowerCase().includes(u.toLowerCase())||O.notes?.toLowerCase().includes(u.toLowerCase()),H=f.length===0||f.some(U=>O.tags?.includes(U));return F&&H}),E=[...new Set(e.flatMap(O=>O.tags||[]))].sort(),P={total:e.length,withNotes:e.filter(O=>O.notes).length,withTags:e.filter(O=>O.tags&&O.tags.length>0).length,categories:[...new Set(e.map(O=>O.listing?.category?.name).filter(Boolean))]};return t?s.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx("div",{className:"mb-8",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),s.jsxs("p",{className:"text-gray-600 mt-2",children:[P.total," annonce(s) sauvegardée(s)"]})]}),s.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[s.jsxs("span",{children:[P.withNotes," avec notes"]}),s.jsxs("span",{children:[P.withTags," avec tags"]}),s.jsxs("span",{children:[P.categories.length," catégories"]})]})]})}),s.jsx("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsx("div",{className:"flex-1",children:s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),s.jsx("input",{type:"text",placeholder:"Rechercher dans vos favoris...",value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Hs,{size:20,className:"text-gray-400"}),s.jsxs("select",{value:f.length>0?f[0]:"",onChange:O=>g(O.target.value?[O.target.value]:[]),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[s.jsx("option",{value:"",children:"Tous les tags"}),E.map(O=>s.jsx("option",{value:O,children:O},O))]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded ${l==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:s.jsx(Whe,{size:20})}),s.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded ${l==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:s.jsx(Zhe,{size:20})})]})]})}),a?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de vos favoris..."})]}):A.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Al,{className:"mx-auto h-12 w-12 text-gray-400"}),s.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:u||f.length>0?"Aucun résultat":"Aucun favori"}),s.jsx("p",{className:"mt-2 text-gray-600",children:u||f.length>0?"Essayez de modifier vos critères de recherche":"Commencez à ajouter des annonces à vos favoris"})]}):s.jsx("div",{className:l==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(O=>s.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[s.jsx("div",{className:"p-4",children:s.jsx(eu,{listing:O.listing,compact:l==="list"})}),s.jsxs("div",{className:"px-4 pb-4",children:[O.tags&&O.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:O.tags.map(I=>s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[s.jsx(ph,{size:12,className:"mr-1"}),I]},I))}),s.jsx("div",{className:"mb-3",children:v===O.id?s.jsxs("div",{className:"space-y-2",children:[s.jsx("textarea",{value:b,onChange:I=>_(I.target.value),placeholder:"Ajouter une note...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:"2"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx("button",{onClick:()=>C(O.id,b),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Sauvegarder"}),s.jsx("button",{onClick:()=>{y(null),_("")},className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Annuler"})]})]}):s.jsxs("div",{className:"flex items-start justify-between",children:[s.jsx("p",{className:"text-sm text-gray-600 flex-1",children:O.notes||"Aucune note"}),s.jsx("button",{onClick:()=>{y(O.id),_(O.notes||"")},className:"ml-2 p-1 text-gray-400 hover:text-gray-600",children:s.jsx(rpe,{size:14})})]})}),s.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[s.jsxs("span",{className:"text-xs text-gray-500",children:["Ajouté le ",new Date(O.created_at).toLocaleDateString("fr-FR")]}),s.jsxs("button",{onClick:()=>N(O.id),className:"flex items-center space-x-1 text-red-600 hover:text-red-800 text-sm",children:[s.jsx(Hhe,{size:14}),s.jsx("span",{children:"Retirer"})]})]})]})]},O.id))})]}):s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Connectez-vous pour voir vos favoris"})})},WTe=()=>s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsxs("div",{className:"flex items-center justify-center mb-4",children:[s.jsx(Al,{className:"h-12 w-12 text-primary mr-4"}),s.jsx("h1",{className:"text-4xl font-bold",children:"Mes Favoris"})]}),s.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Retrouvez toutes vos annonces sauvegardées et gérez vos favoris en toute simplicité."})]}),s.jsxs(xt,{className:"shadow-lg border-0",children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center space-x-2",children:[s.jsx(Al,{className:"h-5 w-5 text-primary"}),s.jsx("span",{children:"Annonces Favorites"})]})}),s.jsx(wt,{children:s.jsx(VTe,{})})]}),s.jsxs("div",{className:"text-center mt-12",children:[s.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),s.jsx(fe,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>window.location.href="/marketplace",children:"Explorer le Marketplace"})]})]})}),HTe=({listingId:t,onPackageSelected:e,onClose:r})=>{const{user:n}=Mr(),i=En(),[a,o]=x.useState([]),[l,c]=x.useState(!0),[u,d]=x.useState(null),[f,g]=x.useState(!1),[v,y]=x.useState(null);x.useEffect(()=>{b()},[]);const b=async()=>{try{c(!0);const E=await qc.getBoostPackages();o(E.packages||[])}catch(E){y("Erreur lors du chargement des packages de boost"),console.error("Erreur packages:",E)}finally{c(!1)}},_=E=>{d(E)},j=async()=>{if(!n){i("/connexion",{state:{from:"/booster-annonce"}});return}if(!u){y("Veuillez sélectionner un package");return}try{g(!0),y(null);const E=await qc.purchaseBoost(u.id,t,n.id);E.success&&(e?.(E),r?.())}catch(E){y(E.message||"Erreur lors de l'achat du boost")}finally{g(!1)}},N=E=>{switch(E){case"priority":return s.jsx(bs,{className:"h-4 w-4"});case"badge":return s.jsx(cs,{className:"h-4 w-4"});case"featured":return s.jsx(Ew,{className:"h-4 w-4"});case"analytics":return s.jsx(ml,{className:"h-4 w-4"});case"support":return s.jsx(va,{className:"h-4 w-4"});default:return s.jsx(Ad,{className:"h-4 w-4"})}},C=(E,P)=>{switch(E){case"priority":return P==="highest"?"Priorité maximale":P==="high"?"Priorité élevée":"Priorité moyenne";case"badge":return"Badge boosté visible";case"featured":return P?"Mise en avant premium":"Visibilité standard";case"analytics":return P==="premium"?"Analytics détaillés":P==="detailed"?"Analytics avancés":"Analytics de base";case"support":return"Support prioritaire";default:return P}},A=E=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(E);return l?s.jsx("div",{className:"flex items-center justify-center p-8",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):v?s.jsxs("div",{className:"text-center p-6",children:[s.jsx("div",{className:"text-red-500 mb-4",children:v}),s.jsx(fe,{onClick:b,variant:"outline",children:"Réessayer"})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"🚀 Booster votre annonce"}),s.jsx("p",{className:"text-muted-foreground",children:"Choisissez le package qui correspond à vos besoins et boostez votre visibilité !"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.map((E,P)=>s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:P*.1},children:s.jsxs(xt,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${u?.id===E.id?"ring-2 ring-primary border-primary":"hover:border-primary/50"}`,onClick:()=>_(E),children:[s.jsxs(Wt,{className:"text-center pb-4",children:[s.jsx("div",{className:"flex justify-center mb-3",children:E.features?.featured?s.jsx(Ew,{className:"h-8 w-8 text-yellow-500"}):E.features?.priority==="highest"?s.jsx(cs,{className:"h-8 w-8 text-purple-500"}):s.jsx(S1,{className:"h-8 w-8 text-blue-500"})}),s.jsx(Ht,{className:"text-xl",children:E.name}),s.jsx("p",{className:"text-muted-foreground text-sm",children:E.description})]}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-primary mb-1",children:A(E.price)}),s.jsxs("div",{className:"flex items-center justify-center text-sm text-muted-foreground",children:[s.jsx(Ri,{className:"h-4 w-4 mr-1"}),E.duration_days," jour",E.duration_days>1?"s":""]})]}),s.jsx("div",{className:"space-y-2",children:Object.entries(E.features||{}).map(([O,I])=>s.jsxs("div",{className:"flex items-center text-sm",children:[s.jsx("div",{className:"text-primary mr-2",children:N(O)}),s.jsx("span",{children:C(O,I)})]},O))}),u?.id===E.id&&s.jsx("div",{className:"flex justify-center",children:s.jsxs(vt,{variant:"default",className:"bg-primary",children:[s.jsx(Ad,{className:"h-4 w-4 mr-1"}),"Sélectionné"]})})]})]})},E.id))}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx(fe,{onClick:r,variant:"outline",className:"flex-1 sm:flex-none",children:"Annuler"}),s.jsx(fe,{onClick:j,disabled:!u||f,className:"flex-1 sm:flex-none bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Achat en cours..."]}):s.jsxs(s.Fragment,{children:["🚀 Acheter le Boost",u&&` - ${A(u.price)}`]})})]}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("p",{children:"💡 Les boosts sont activés immédiatement après confirmation du paiement"}),s.jsx("p",{children:"🔄 Vous pouvez renouveler ou annuler vos boosts à tout moment"})]})]})},KTe=()=>{const{id:t}=nx(),e=En(),{user:r}=Mr(),{toast:n}=Vr(),[i,a]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(!0),[d,f]=x.useState(null),[g,v]=x.useState(!1),[y,b]=x.useState(null);x.useEffect(()=>{t&&_()},[t]);const _=async()=>{try{u(!0),f(null);const A=await rn.getListingById(t);a(A);const E=await qc.getBoostStatus(t);l(E)}catch(A){f(A.message||"Erreur lors du chargement des données"),console.error("Erreur chargement:",A)}finally{u(!1)}},j=A=>{b(A),v(!1),A.boostId?e(`/paiement/${A.boostId}`):n({title:"Erreur",description:"Erreur lors de la création du boost. Veuillez réessayer.",variant:"destructive"})},N=async()=>{if(o?.currentBoost)try{(await qc.renewBoost(o.currentBoost.id,r.id)).success&&(n({title:"Boost renouvelé !",description:"Votre boost a été prolongé avec succès."}),_())}catch(A){n({title:"Erreur",description:A.message||"Erreur lors du renouvellement",variant:"destructive"})}},C=async()=>{if(o?.currentBoost&&confirm("Êtes-vous sûr de vouloir annuler ce boost ?"))try{(await qc.cancelBoost(o.currentBoost.id,r.id)).success&&(n({title:"Boost annulé",description:"Votre boost a été annulé avec succès."}),_())}catch(A){n({title:"Erreur",description:A.message||"Erreur lors de l'annulation",variant:"destructive"})}};return c?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"flex items-center justify-center py-20",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})})}):d?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Erreur"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:d}),s.jsx(fe,{onClick:()=>e(-1),variant:"outline",children:"Retour"})]})}):i?r?.id!==i.user_id?s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🚫"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Accès non autorisé"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Vous ne pouvez booster que vos propres annonces."}),s.jsx(fe,{onClick:()=>e(-1),variant:"outline",children:"Retour"})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/30",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs(fe,{onClick:()=>e(-1),variant:"ghost",className:"mb-4",children:[s.jsx(kd,{className:"h-4 w-4 mr-2"}),"Retour"]}),s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"🚀 Booster votre annonce"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Augmentez votre visibilité et obtenez plus de contacts"})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:[s.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Votre annonce"}),s.jsx(eu,{listing:i,showActions:!1})]}),s.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center",children:[s.jsx(bs,{className:"h-5 w-5 mr-2 text-primary"}),"Statut du boost"]})}),s.jsx(wt,{children:o?.hasActiveBoost?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 bg-green-50 rounded-lg border border-green-200",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(cs,{className:"h-5 w-5 text-green-600 mr-2"}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold text-green-800",children:["Boost actif : ",o.currentBoost.boost_packages?.name]}),s.jsxs("p",{className:"text-sm text-green-600",children:["Expire le ",new Date(o.currentBoost.end_date).toLocaleDateString("fr-FR")]})]})]}),s.jsx(vt,{variant:"default",className:"bg-green-600",children:"Actif"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(fe,{onClick:N,variant:"outline",className:"flex-1",children:"🔄 Renouveler"}),s.jsx(fe,{onClick:C,variant:"outline",className:"flex-1",children:"❌ Annuler"})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx("div",{className:"text-6xl mb-4",children:"📈"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun boost actif"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Votre annonce n'est actuellement pas boostée"}),s.jsx(fe,{onClick:()=>v(!0),className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:"🚀 Booster maintenant"})]})})]})})]}),s.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"space-y-6",children:!o?.hasActiveBoost&&s.jsx(xt,{className:"bg-gradient-to-br from-primary/10 to-blue-500/10 border-primary/20",children:s.jsxs(wt,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-4xl mb-3",children:"🚀"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Prêt à booster ?"}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Augmentez votre visibilité et obtenez plus de contacts"}),s.jsx(fe,{onClick:()=>v(!0),className:"w-full bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:"Commencer maintenant"})]})})})]}),y&&s.jsx(sm,{open:!!y,onOpenChange:()=>b(null),children:s.jsxs(eh,{className:"sm:max-w-md",children:[s.jsx(th,{children:s.jsx(rh,{className:"text-center",children:"🎉 Boost acheté !"})}),s.jsxs("div",{className:"text-center py-6",children:[s.jsx("div",{className:"text-6xl mb-4",children:"✅"}),s.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Félicitations !"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Votre boost a été acheté avec succès et sera activé après confirmation du paiement."}),s.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:s.jsxs("p",{className:"text-sm text-green-800",children:[s.jsx("strong",{children:"Package :"})," ",y.packageData.name,s.jsx("br",{}),s.jsx("strong",{children:"Prix :"})," ",y.packageData.price," FCFA",s.jsx("br",{}),s.jsx("strong",{children:"Durée :"})," ",y.packageData.duration_days," jours"]})})]}),s.jsx("div",{className:"flex justify-center",children:s.jsx(fe,{onClick:()=>b(null),children:"Continuer"})})]})}),s.jsx(sm,{open:g,onOpenChange:v,children:s.jsxs(eh,{className:"sm:max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(th,{children:s.jsx(rh,{children:"Choisir un package de boost"})}),s.jsx(HTe,{listingId:t,onPackageSelected:j,onClose:()=>v(!1)})]})})]})}):s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsxs("div",{className:"text-center py-20",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Annonce non trouvée"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"L'annonce que vous recherchez n'existe pas."}),s.jsx(fe,{onClick:()=>e(-1),variant:"outline",children:"Retour"})]})})},GTe=({amount:t,currency:e="XOF",onPaymentMethodSelected:r,onClose:n,packageName:i="Package Premium",userCountry:a="BJ"})=>{const[o,l]=x.useState(""),[c,u]=x.useState(""),[d,f]=x.useState({number:"",expiry:"",cvv:"",name:"",brand:"visa"}),[g,v]=x.useState(!1),[y,b]=x.useState(null),[_,j]=x.useState(!1),[N,C]=x.useState(""),[A,E]=x.useState(a),P=To.getPaymentMethods(A),O=te=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:e,minimumFractionDigits:0,maximumFractionDigits:0}).format(te),I=te=>{l(te),b(null)},F=te=>{const le=To.formatPhoneNumber(te,A);u(le)},H=te=>{const le=te.replace(/\D/g,"").match(/.{1,4}/g)?.join(" ")||"";f(G=>({...G,number:le}));const W=te.replace(/\D/g,"")[0];let re="visa";W==="5"?re="mastercard":W==="3"?re="amex":W==="6"&&(re="discover"),f(G=>({...G,brand:re}))},U=te=>{let le=te.replace(/\D/g,"");le.length>=2&&(le=le.substring(0,2)+"/"+le.substring(2,4)),f(W=>({...W,expiry:le}))},z=async()=>{if(b(null),!o){b("Veuillez sélectionner une méthode de paiement");return}if((o==="orange_money"||o==="mtn_mobile_money"||o==="moov_money")&&(!c||!To.validatePhoneNumber(c,A))){b("Veuillez entrer un numéro de téléphone valide");return}if(o==="card"&&(!d.number||!d.expiry||!d.cvv||!d.name)){b("Veuillez remplir tous les champs de la carte correctement");return}try{v(!0);const te={method:o,amount:t,currency:e,packageName:i,country:A,...o==="orange_money"||o==="mtn_mobile_money"||o==="moov_money"?{phoneNumber:c}:{},...o==="card"?{cardData:d}:{}};r(te)}catch(te){b(te.message||"Erreur lors de la sélection de la méthode de paiement")}finally{v(!1)}},V=te=>{switch(te){case"orange":return"border-orange-200 bg-gradient-to-r from-orange-50 to-amber-50 hover:from-orange-100 hover:to-amber-100";case"yellow":return"border-yellow-200 bg-gradient-to-r from-yellow-50 to-orange-50 hover:from-yellow-100 hover:to-orange-100";case"blue":return"border-blue-200 bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100";case"green":return"border-green-200 bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100";default:return"border-gray-200 bg-gradient-to-r from-gray-50 to-slate-50 hover:from-gray-100 hover:to-slate-100"}},X=te=>{switch(te){case"visa":return"💳";case"mastercard":return"💳";case"amex":return"💳";default:return"💳"}};return s.jsx(Af,{children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-2 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"💳 Choisir le mode de paiement"}),s.jsx("p",{className:"text-muted-foreground",children:"Sélectionnez votre méthode de paiement préférée pour finaliser votre achat"}),s.jsx("div",{className:"mt-4 flex justify-center",children:s.jsxs("div",{className:"flex items-center gap-2 bg-white/50 px-4 py-2 rounded-lg border",children:[s.jsx(w1,{className:"h-4 w-4 text-muted-foreground"}),s.jsx("span",{className:"text-sm text-muted-foreground",children:"Pays :"}),s.jsxs(Kr,{value:A,onValueChange:E,children:[s.jsx(qr,{className:"w-32 h-8",children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"BJ",children:"🇧🇯 Bénin"}),s.jsx(Ge,{value:"CI",children:"🇨🇮 Côte d'Ivoire"}),s.jsx(Ge,{value:"SN",children:"🇸🇳 Sénégal"}),s.jsx(Ge,{value:"ML",children:"🇲🇱 Mali"}),s.jsx(Ge,{value:"BF",children:"🇧🇫 Burkina Faso"}),s.jsx(Ge,{value:"NE",children:"🇳🇪 Niger"}),s.jsx(Ge,{value:"TG",children:"🇹🇬 Togo"}),s.jsx(Ge,{value:"GH",children:"🇬🇭 Ghana"}),s.jsx(Ge,{value:"NG",children:"🇳🇬 Nigeria"})]})]})]})}),s.jsxs(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-6 p-6 bg-gradient-to-r from-primary/5 to-blue-500/5 rounded-xl border border-primary/20 shadow-sm",children:[s.jsx("div",{className:"text-sm text-muted-foreground mb-2",children:"Résumé de votre commande"}),s.jsx("div",{className:"font-semibold text-lg text-primary",children:i}),s.jsx("div",{className:"text-3xl font-bold text-primary",children:O(t)}),s.jsx("div",{className:"mt-2 text-xs text-muted-foreground",children:"Paiement sécurisé via Kkiapay • Frais : 1.5% + 50 FCFA"})]})]}),s.jsx($J,{value:o,onValueChange:I,children:s.jsx("div",{className:"space-y-4",children:Object.entries(P).map(([te,le],W)=>s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:W*.1},children:[s.jsx(FJ,{value:te,id:te,className:"sr-only"}),s.jsx(ot,{htmlFor:te,className:`block cursor-pointer p-6 border-2 rounded-xl transition-all duration-300 hover:shadow-lg ${o===te?"border-primary bg-gradient-to-r from-primary/5 to-blue-500/5 shadow-lg scale-[1.02]":V(le.color||"blue")}`,children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx(Re.div,{whileHover:{scale:1.1},className:"p-3 rounded-lg bg-white shadow-sm",children:s.jsx("span",{className:"text-2xl",children:le.icon})})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"font-semibold text-lg",children:le.name}),le.popular&&s.jsxs(vt,{variant:"default",className:"bg-gradient-to-r from-orange-500 to-red-500 text-white text-xs",children:[s.jsx(cs,{className:"h-3 w-3 mr-1"}),"Populaire"]}),s.jsxs(Mo,{children:[s.jsx(Io,{children:s.jsx(kw,{className:"h-4 w-4 text-muted-foreground"})}),s.jsx(Za,{children:s.jsxs("p",{children:["Temps de traitement : ",le.processingTime]})})]})]}),s.jsxs("div",{className:"text-xs text-muted-foreground mb-2",children:["⏱️ Traitement : ",le.processingTime]})]}),s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:`w-6 h-6 rounded-full border-2 transition-all duration-300 ${o===te?"border-primary bg-primary shadow-lg":"border-gray-300"}`,children:o===te&&s.jsx(Re.div,{initial:{scale:0},animate:{scale:1},className:"w-3 h-3 bg-white rounded-full m-0.5"})})})]})})]},te))})}),s.jsx(Bn,{mode:"wait",children:o&&s.jsxs(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4",children:[(o==="orange_money"||o==="mtn_mobile_money"||o==="moov_money")&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(xt,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center gap-2",children:[s.jsx(lpe,{className:"h-5 w-5"}),P[o]?.name]})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"phone",className:"text-sm font-medium",children:"Numéro de téléphone"}),s.jsx(it,{id:"phone",type:"tel",placeholder:`Ex: ${A==="BJ"?"90 12 34 56":A==="CI"?"07 08 09 10 11":"Numéro local"}`,value:c,onChange:te=>F(te.target.value),className:"mt-2 h-12 text-lg",onFocus:()=>C("phone"),onBlur:()=>C("")}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Entrez votre numéro ",P[o]?.name]})]}),s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(xd,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Paiement sécurisé"}),s.jsx("p",{children:"Vous recevrez un SMS de confirmation pour valider le paiement"})]})]})})]})]})}),o==="card"&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:s.jsxs(xt,{className:"border-0 shadow-lg bg-gradient-to-r from-blue-50 to-indigo-50",children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center gap-2",children:[s.jsx(yd,{className:"h-5 w-5"}),"Informations de la carte"]})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"cardNumber",className:"text-sm font-medium",children:"Numéro de carte"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(it,{id:"cardNumber",type:"text",placeholder:"1234 5678 9012 3456",value:d.number,onChange:te=>H(te.target.value),maxLength:19,className:"h-12 text-lg pr-12",onFocus:()=>C("cardNumber"),onBlur:()=>C("")}),s.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-2xl",children:X(d.brand)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"expiry",className:"text-sm font-medium",children:"Date d'expiration"}),s.jsx(it,{id:"expiry",type:"text",placeholder:"MM/AA",value:d.expiry,onChange:te=>U(te.target.value),maxLength:5,className:"mt-2 h-12",onFocus:()=>C("expiry"),onBlur:()=>C("")})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"cvv",className:"text-sm font-medium",children:"Code de sécurité"}),s.jsxs("div",{className:"relative mt-2",children:[s.jsx(it,{id:"cvv",type:_?"text":"password",placeholder:"123",value:d.cvv,onChange:te=>f(le=>({...le,cvv:te.target.value})),maxLength:4,className:"h-12 pr-12",onFocus:()=>C("cvv"),onBlur:()=>C("")}),s.jsx(fe,{type:"button",variant:"ghost",size:"sm",className:"absolute right-1 top-1/2 transform -translate-y-1/2 h-8 w-8 p-0",onClick:()=>j(!_),children:_?s.jsx(ZH,{className:"h-4 w-4"}):s.jsx(Bo,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"cardName",className:"text-sm font-medium",children:"Nom sur la carte"}),s.jsx(it,{id:"cardName",type:"text",placeholder:"Nom et prénom",value:d.name,onChange:te=>f(le=>({...le,name:te.target.value})),className:"mt-2 h-12",onFocus:()=>C("cardName"),onBlur:()=>C("")})]}),s.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Tl,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{className:"text-sm text-green-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Paiement sécurisé SSL"}),s.jsx("p",{children:"Vos informations sont chiffrées et protégées"})]})]})})]})]})})]},o)}),s.jsx(Bn,{children:y&&s.jsx(Re.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"p-4 bg-red-50 border border-red-200 rounded-lg",children:s.jsxs("div",{className:"flex items-center gap-2 text-red-800",children:[s.jsx(wn,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:y})]})})}),s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row gap-3 justify-center",children:[s.jsx(fe,{onClick:n,variant:"outline",className:"flex-1 sm:flex-none h-12",children:"Annuler"}),s.jsx(fe,{onClick:z,disabled:!o||g,className:"flex-1 sm:flex-none h-12 bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 shadow-lg",children:g?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Traitement..."]}):s.jsxs(s.Fragment,{children:[s.jsx(S1,{className:"h-4 w-4 mr-2"}),"Payer ",O(t)]})})]}),s.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center text-sm text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[s.jsx(Tl,{className:"h-4 w-4"}),s.jsx("span",{children:"Paiement 100% sécurisé via Kkiapay"})]}),s.jsx("p",{children:"Vos informations de paiement sont protégées par un chiffrement SSL de niveau bancaire"})]})]})})},ZTe=()=>{const{boostId:t}=nx(),e=En(),r=Vi(),{user:n}=Mr(),{toast:i}=Vr(),[a,o]=x.useState("method-selection"),[l,c]=x.useState(null),[u,d]=x.useState(null),[f,g]=x.useState("pending"),[v,y]=x.useState(!0),[b,_]=x.useState(null),[j,N]=x.useState(!1),[C,A]=x.useState(0),[E,P]=x.useState(0),[O,I]=x.useState(!1);x.useEffect(()=>{t&&F()},[t]);const F=async()=>{try{if(y(!0),_(null),r.state?.boostData)c(r.state.boostData);else{const W=await qc.getBoostStatus(t);if(W.currentBoost)c(W.currentBoost);else{const{data:re,error:G}=await be.from("listing_boosts").select(`
              *,
              boost_packages (*)
            `).eq("id",t).single();if(G||!re)throw new Error("Boost non trouvé");c(re)}}}catch(W){_(W.message||"Erreur lors du chargement des données du boost"),i({title:"Erreur",description:W.message,variant:"destructive"})}finally{y(!1)}},H=async W=>{try{o("payment-processing"),A(0);const re=l.boost_packages,G=re?.price||0,ie=await To.createPayment({userId:n.id,amount:G,currency:"XOF",paymentMethod:W.method,boostId:l.id,packageName:re?.name||"Package Premium",listingId:l.listing_id,description:`Boost ${re?.name||"Premium"}`,phoneNumber:W.phoneNumber,email:n.email,country:W.country,cardData:W.cardData});if(!ie.success)throw new Error("Erreur lors de la création du paiement");A(30);let Z;if(W.method==="orange_money"?Z=await To.initiateOrangeMoneyPayment(ie.paymentId,W.phoneNumber):W.method==="mtn_mobile_money"?Z=await To.initiateMTNPayment(ie.paymentId,W.phoneNumber):W.method==="moov_money"?Z=await To.initiateMoovPayment(ie.paymentId,W.phoneNumber):W.method==="card"&&(Z=await To.initiateCardPayment(ie.paymentId,W.cardData)),A(60),!Z.success)throw new Error("Erreur lors de l'initialisation du paiement");if(A(80),Z.paymentUrl)window.location.href=Z.paymentUrl;else throw new Error("URL de paiement non disponible");A(100)}catch(re){console.error("Erreur lors du traitement du paiement:",re),_(re.message),o("error")}},U=async()=>{P(W=>W+1),_(null),o("method-selection")},z=()=>{o("method-selection"),d(null),g("pending"),_(null),A(0)},V=()=>{N(!0)},X=async()=>{try{const W=await To.generateReceipt(u?.paymentId);if(W.success){const re=document.createElement("a");re.href=W.receiptUrl,re.download=`receipt-${t}.pdf`,document.body.appendChild(re),re.click(),document.body.removeChild(re),i({title:"Reçu téléchargé",description:"Le reçu a été téléchargé avec succès."})}}catch{i({title:"Erreur",description:"Impossible de télécharger le reçu",variant:"destructive"})}},te=W=>{switch(W){case"orange_money":return s.jsx(KH,{className:"h-6 w-6 text-orange-500"});case"mtn_mobile_money":return s.jsx(ype,{className:"h-6 w-6 text-yellow-500"});case"card":return s.jsx(yd,{className:"h-6 w-6 text-blue-500"});default:return s.jsx(yd,{className:"h-6 w-6"})}},le=W=>{switch(W){case"orange_money":return"Orange Money";case"mtn_mobile_money":return"MTN Mobile Money";case"card":return"Carte Bancaire";default:return"Méthode de paiement"}};return n?v?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/30 flex items-center justify-center",children:s.jsx(xt,{className:"w-full max-w-md mx-4",children:s.jsxs(wt,{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Chargement..."}),s.jsx("p",{className:"text-muted-foreground",children:"Préparation de votre paiement"})]})})}):b&&a==="error"?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/30 flex items-center justify-center",children:s.jsx(xt,{className:"w-full max-w-md mx-4",children:s.jsxs(wt,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-red-500 text-6xl mb-4",children:"⚠️"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Erreur de paiement"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:b}),E<3&&s.jsx("div",{className:"mb-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:s.jsxs("p",{className:"text-sm text-yellow-800",children:["Tentative ",E+1," sur 3"]})}),s.jsxs("div",{className:"space-y-3",children:[E<3&&s.jsxs(fe,{onClick:U,className:"w-full",children:[s.jsx(zo,{className:"h-4 w-4 mr-2"}),"Réessayer"]}),s.jsx(fe,{onClick:z,variant:"outline",className:"w-full",children:"Changer de méthode"}),s.jsx(fe,{onClick:()=>e(-1),variant:"ghost",className:"w-full",children:"Retour"})]})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/30",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[s.jsxs(fe,{onClick:()=>e(-1),variant:"ghost",className:"mb-4 hover:bg-white/50",children:[s.jsx(kd,{className:"h-4 w-4 mr-2"}),"Retour"]}),s.jsxs("div",{className:"text-center",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2 bg-gradient-to-r from-primary to-blue-600 bg-clip-text text-transparent",children:"💳 Paiement Sécurisé"}),s.jsx("p",{className:"text-muted-foreground text-lg",children:"Finalisez votre achat de boost premium en toute sécurité"})]})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[s.jsxs("div",{className:`flex items-center ${a==="method-selection"?"text-primary":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${a==="method-selection"?"border-primary bg-primary text-white shadow-lg":"border-muted-foreground"}`,children:"1"}),s.jsx("span",{className:"ml-3 text-sm font-medium hidden sm:block",children:"Méthode de paiement"})]}),s.jsx("div",{className:"w-8 h-1 bg-muted-foreground/30"}),s.jsxs("div",{className:`flex items-center ${a==="payment-processing"?"text-primary":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${a==="payment-processing"?"border-primary bg-primary text-white shadow-lg":"border-muted-foreground"}`,children:"2"}),s.jsx("span",{className:"ml-3 text-sm font-medium hidden sm:block",children:"Traitement"})]}),s.jsx("div",{className:"w-8 h-1 bg-muted-foreground/30"}),s.jsxs("div",{className:`flex items-center ${a==="success"?"text-primary":"text-muted-foreground"}`,children:[s.jsx("div",{className:`w-10 h-10 rounded-full border-2 flex items-center justify-center transition-all duration-300 ${a==="success"?"border-primary bg-primary text-white shadow-lg":"border-muted-foreground"}`,children:"3"}),s.jsx("span",{className:"ml-3 text-sm font-medium hidden sm:block",children:"Confirmation"})]})]}),a==="payment-processing"&&s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx(Oc,{value:C,className:"h-2"}),s.jsxs("p",{className:"text-center text-sm text-muted-foreground mt-2",children:[C,"% terminé"]})]})]}),s.jsxs(Bn,{mode:"wait",children:[a==="method-selection"&&s.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"max-w-2xl mx-auto",children:s.jsx(GTe,{amount:l?.boost_packages?.price||0,currency:"XOF",packageName:l?.boost_packages?.name||"Package Premium",onPaymentMethodSelected:H,onClose:()=>e(-1)})},"method-selection"),a==="payment-processing"&&s.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:20},className:"max-w-md mx-auto",children:s.jsx(xt,{className:"shadow-xl border-0 bg-white/80 backdrop-blur-sm",children:s.jsxs(wt,{className:"p-8 text-center",children:[s.jsx(Re.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0},className:"mb-6",children:te(u?.method)}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Traitement en cours..."}),s.jsxs("p",{className:"text-muted-foreground mb-6",children:["Votre paiement via ",le(u?.method)," est en cours de traitement."]}),s.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground mb-6",children:[s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(zn,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Vérification de la transaction"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(zn,{className:"h-4 w-4 text-green-500"}),s.jsx("span",{children:"Confirmation du paiement"})]}),s.jsxs("div",{className:"flex items-center justify-center gap-2",children:[s.jsx(Ri,{className:"h-4 w-4 text-blue-500"}),s.jsx("span",{children:"Activation de votre boost"})]})]}),s.jsx("div",{className:"p-4 bg-blue-50 border border-blue-200 rounded-lg mb-6",children:s.jsxs("div",{className:"flex items-center gap-2 text-blue-800",children:[s.jsx(kw,{className:"h-4 w-4"}),s.jsx("span",{className:"text-sm",children:"Ne fermez pas cette page pendant le traitement"})]})}),s.jsx(fe,{onClick:z,variant:"outline",size:"sm",children:"Annuler"})]})})},"payment-processing"),a==="success"&&s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"max-w-md mx-auto",children:s.jsx(xt,{className:"border-green-200 bg-gradient-to-br from-green-50 to-emerald-50 shadow-xl",children:s.jsxs(wt,{className:"p-8 text-center",children:[s.jsx(Re.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},className:"text-6xl mb-4",children:"🎉"}),s.jsx("h3",{className:"text-2xl font-bold text-green-800 mb-2",children:"Paiement réussi !"}),s.jsx("p",{className:"text-green-700 mb-6",children:"Votre boost premium a été activé avec succès."}),s.jsx("div",{className:"bg-white p-4 rounded-lg border border-green-200 mb-6 shadow-sm",children:s.jsxs("div",{className:"text-sm text-green-800 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Package :"}),s.jsx("span",{className:"font-semibold",children:l?.boost_packages?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Montant :"}),s.jsx("span",{className:"font-bold",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(l?.boost_packages?.price||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Méthode :"}),s.jsx("span",{children:le(u?.method)})]})]})}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(fe,{onClick:V,variant:"outline",className:"w-full hover:bg-green-50",children:[s.jsx(X3,{className:"h-4 w-4 mr-2"}),"Voir le reçu"]}),s.jsxs(fe,{onClick:()=>e(`/booster-annonce/${l?.listing_id}`),className:"w-full bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 shadow-lg",children:[s.jsx(bs,{className:"h-4 w-4 mr-2"}),"Voir mon boost"]}),s.jsx(fe,{onClick:()=>e("/mes-boosts"),variant:"ghost",className:"w-full hover:bg-green-50",children:"Mes boosts"})]})]})})},"success")]}),s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mt-8 text-center",children:s.jsxs("div",{className:"inline-flex items-center gap-2 text-sm text-muted-foreground bg-white/50 px-4 py-2 rounded-full border",children:[s.jsx(xd,{className:"h-4 w-4"}),s.jsx("span",{children:"Paiement 100% sécurisé SSL"}),s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>I(!0),className:"h-6 w-6 p-0",children:s.jsx(kw,{className:"h-3 w-3"})})]})}),s.jsx(sm,{open:j,onOpenChange:N,children:s.jsxs(eh,{className:"sm:max-w-md",children:[s.jsx(th,{children:s.jsxs(rh,{className:"flex items-center gap-2",children:[s.jsx(X3,{className:"h-5 w-5"}),"Reçu de paiement"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"text-sm space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Numéro de transaction :"}),s.jsxs("span",{className:"font-mono",children:["TXN-",Date.now()]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Date :"}),s.jsx("span",{children:new Date().toLocaleDateString("fr-FR")})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Package :"}),s.jsx("span",{children:l?.boost_packages?.name})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Montant :"}),s.jsx("span",{className:"font-bold",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(l?.boost_packages?.price||0)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Méthode :"}),s.jsx("span",{children:le(u?.method)})]})]})}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{onClick:X,className:"flex-1",children:[s.jsx(eo,{className:"h-4 w-4 mr-2"}),"Télécharger"]}),s.jsx(fe,{onClick:()=>N(!1),variant:"outline",className:"flex-1",children:"Fermer"})]})]})]})}),s.jsx(sm,{open:O,onOpenChange:I,children:s.jsxs(eh,{className:"sm:max-w-md",children:[s.jsx(th,{children:s.jsxs(rh,{className:"flex items-center gap-2",children:[s.jsx(xd,{className:"h-5 w-5"}),"Sécurité du paiement"]})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Tl,{className:"h-5 w-5 text-green-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Chiffrement SSL"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Vos données sont protégées par un chiffrement de niveau bancaire"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(xd,{className:"h-5 w-5 text-blue-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Conformité PCI DSS"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nos partenaires de paiement respectent les standards internationaux"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Bo,{className:"h-5 w-5 text-purple-600 mt-0.5"}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Aucun stockage"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Nous ne stockons jamais vos informations de paiement"})]})]})]}),s.jsx(fe,{onClick:()=>I(!1),className:"w-full",children:"Compris"})]})]})})]})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/30 flex items-center justify-center",children:s.jsx(xt,{className:"w-full max-w-md mx-4",children:s.jsxs(wt,{className:"p-8 text-center",children:[s.jsx("div",{className:"text-6xl mb-4",children:"🔒"}),s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Connexion requise"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Vous devez être connecté pour effectuer un paiement."}),s.jsx(fe,{onClick:()=>e("/connexion"),className:"w-full",children:"Se connecter"})]})})})},YTe=()=>{const[t]=u1(),e=En(),{toast:r}=Vr(),[n,i]=x.useState("processing"),[a,o]=x.useState(null),[l,c]=x.useState(!0),[u,d]=x.useState(null);x.useEffect(()=>{f()},[]);const f=async()=>{try{c(!0);const b=t.get("payment_id"),_=t.get("transaction_id"),j=t.get("status"),N=t.get("reference");if(!b)throw new Error("ID de paiement manquant");if(j==="success"||j==="successful"){const C=await To.confirmPayment(b,{transactionId:_,reference:N,status:"successful"});if(C.success)i("success"),o(C.paymentData),r({title:"🎉 Paiement réussi !",description:"Votre boost a été activé avec succès."});else throw new Error("Erreur lors de la confirmation du paiement")}else if(j==="failed"||j==="cancelled")i("failed"),d("Le paiement a échoué ou a été annulé"),r({title:"❌ Paiement échoué",description:"Le paiement n'a pas pu être traité.",variant:"destructive"});else{const C=await To.getPaymentStatus(b);C.status==="completed"?(i("success"),o(C)):C.status==="failed"||C.status==="cancelled"?(i("failed"),d("Le paiement a échoué")):(i("pending"),d("Le statut du paiement est en attente de confirmation"))}}catch(b){console.error("Erreur callback paiement:",b),i("error"),d(b.message),r({title:"Erreur",description:b.message,variant:"destructive"})}finally{c(!1)}},g=()=>{switch(n){case"success":return s.jsx(zn,{className:"h-16 w-16 text-green-500"});case"failed":case"error":return s.jsx(b1,{className:"h-16 w-16 text-red-500"});case"pending":return s.jsx(Ri,{className:"h-16 w-16 text-yellow-500"});default:return s.jsx(wn,{className:"h-16 w-16 text-blue-500"})}},v=()=>{switch(n){case"success":return"Paiement réussi !";case"failed":return"Paiement échoué";case"error":return"Erreur de paiement";case"pending":return"Paiement en attente";default:return"Traitement en cours..."}},y=()=>{switch(n){case"success":return"Votre boost premium a été activé avec succès.";case"failed":return"Le paiement n'a pas pu être traité. Veuillez réessayer.";case"error":return"Une erreur s'est produite lors du traitement du paiement.";case"pending":return"Votre paiement est en cours de traitement.";default:return"Vérification du statut de votre paiement..."}};return l?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/30 flex items-center justify-center",children:s.jsx(xt,{className:"w-full max-w-md mx-4",children:s.jsxs(wt,{className:"p-8 text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto mb-4"}),s.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Vérification du paiement..."}),s.jsx("p",{className:"text-muted-foreground",children:"Veuillez patienter pendant que nous vérifions votre transaction"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/30",children:s.jsx("div",{className:"container mx-auto px-4 py-8",children:s.jsx("div",{className:"max-w-md mx-auto",children:s.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5},children:s.jsx(xt,{className:"shadow-xl border-0",children:s.jsxs(wt,{className:"p-8 text-center",children:[s.jsx(Re.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:260,damping:20},className:"mb-6",children:g()}),s.jsx("h1",{className:"text-2xl font-bold mb-2",children:v()}),s.jsx("p",{className:"text-muted-foreground mb-6",children:y()}),n==="success"&&a&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-green-50 p-4 rounded-lg border border-green-200 mb-6",children:s.jsxs("div",{className:"text-sm text-green-800 space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Référence :"}),s.jsx("span",{className:"font-mono",children:a.reference})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Montant :"}),s.jsx("span",{className:"font-bold",children:new Intl.NumberFormat("fr-FR",{style:"currency",currency:a.currency||"XOF"}).format(a.amount)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Méthode :"}),s.jsx("span",{children:a.paymentMethod})]})]})}),n==="failed"||n==="error"&&s.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-red-50 p-4 rounded-lg border border-red-200 mb-6",children:s.jsxs("div",{className:"text-sm text-red-800",children:[s.jsx("p",{className:"font-medium mb-1",children:"Détails de l'erreur :"}),s.jsx("p",{children:u})]})}),s.jsxs("div",{className:"space-y-3",children:[n==="success"&&s.jsxs(s.Fragment,{children:[s.jsxs(fe,{onClick:()=>e("/mes-boosts"),className:"w-full bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Voir mes boosts"]}),s.jsxs(fe,{onClick:()=>e("/dashboard"),variant:"outline",className:"w-full",children:[s.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Retour au tableau de bord"]})]}),(n==="failed"||n==="error")&&s.jsxs(s.Fragment,{children:[s.jsxs(fe,{onClick:()=>e(-2),className:"w-full bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Réessayer le paiement"]}),s.jsxs(fe,{onClick:()=>e("/"),variant:"outline",className:"w-full",children:[s.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Retour à l'accueil"]})]}),n==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs(fe,{onClick:()=>window.location.reload(),className:"w-full bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90",children:[s.jsx(Qa,{className:"h-4 w-4 mr-2"}),"Actualiser le statut"]}),s.jsxs(fe,{onClick:()=>e("/"),variant:"outline",className:"w-full",children:[s.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Retour à l'accueil"]})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t border-gray-200",children:s.jsx("p",{className:"text-xs text-muted-foreground",children:"Si vous avez des questions, contactez notre support client."})})]})})})})})})},XTe=()=>{const{user:t,hasRole:e}=Mr(),r=En(),[n,i]=x.useState(!1),[a,o]=x.useState(!0),[l,c]=x.useState(!0),[u,d]=x.useState([{title:"Utilisateurs Actifs",value:"-",icon:s.jsx(va,{className:"h-8 w-8 text-blue-400"}),trend:"Chargement...",color:"blue",key:"activeUsers"},{title:"Annonces en Attente",value:"-",icon:s.jsx(Bv,{className:"h-8 w-8 text-yellow-400"}),trend:"Chargement...",color:"yellow",key:"pendingListings"},{title:"Revenus (30j)",value:"-",icon:s.jsx(em,{className:"h-8 w-8 text-green-400"}),trend:"Chargement...",color:"green",key:"revenue"},{title:"Activités Récentes",value:"-",icon:s.jsx(Oi,{className:"h-8 w-8 text-red-400"}),trend:"Chargement...",color:"red",key:"recentActivities"}]),[f,g]=x.useState([]),[v]=x.useState([{label:"Gérer les Annonces",icon:s.jsx(Bv,{className:"mr-3 h-5 w-5"}),color:"blue",link:"/admin/listings"},{label:"Gérer les Utilisateurs",icon:s.jsx(va,{className:"mr-3 h-5 w-5"}),color:"green",link:"/admin/users"},{label:"Newsletter",icon:s.jsx(_a,{className:"mr-3 h-5 w-5"}),color:"orange",link:"/admin/newsletter"},{label:"Voir les Transactions",icon:s.jsx(em,{className:"mr-3 h-5 w-5"}),color:"purple",link:"/admin/transactions"},{label:"Statistiques Détaillées",icon:s.jsx(wM,{className:"mr-3 h-5 w-5"}),color:"teal",link:"/admin/analytics"}]);x.useEffect(()=>{(async()=>{try{if(t){const N=e("admin");if(i(N),!N){fE.error("Accès non autorisé"),r("/");return}await y()}else r("/connexion",{state:{from:"/admin"}})}catch(N){console.error("Erreur de vérification des autorisations:",N),fE.error("Erreur lors de la vérification des autorisations"),r("/")}finally{o(!1)}})()},[t,e,r]);const y=async()=>{try{c(!0),console.log("🔍 Début du chargement des données du tableau de bord...");let j=[],N=[],C=[];try{j=(await rn.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",j.length)}catch(H){console.error("❌ Erreur lors du chargement des annonces:",H),j=[]}try{N=await Lo.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",N.length)}catch(H){console.error("❌ Erreur lors du chargement des utilisateurs:",H),N=[]}try{C=await fK.getUserNotifications(),console.log("🔍 Notifications récupérées:",C.length)}catch(H){console.error("❌ Erreur lors du chargement des notifications:",H),C=[]}const A=N.filter(H=>H.status==="active").length,E=N.length,P=j.filter(H=>H.status==="pending").length,O=j.length,I=C.slice(0,5);console.log("🔍 Statistiques calculées:",{activeUsers:A,totalUsers:E,pendingListings:P,totalListings:O,recentNotifications:I.length}),d(H=>H.map(U=>U.key==="activeUsers"?{...U,value:A.toLocaleString(),trend:`Total: ${E}`}:U.key==="pendingListings"?{...U,value:P.toString(),trend:`Total: ${O}`}:U.key==="revenue"?{...U,value:"0 FCFA",trend:"Revenus du mois"}:U.key==="recentActivities"?{...U,value:I.length.toString(),trend:"Dernières activités"}:U));const F=I.map(H=>({id:H.id||`notif-${Date.now()}`,type:H.type||"Notification",item:H.title||H.message||"Nouvelle activité",timestamp:H.created_at,status:H.read?"read":"unread"}));g(F),console.log("✅ Données du tableau de bord chargées avec succès")}catch(j){console.error("❌ Erreur lors du chargement des données du tableau de bord:",j),fE.error("Erreur lors du chargement des données"),d(N=>N.map(C=>C.key==="activeUsers"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="pendingListings"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="revenue"?{...C,value:"0 FCFA",trend:"Erreur de chargement"}:C.key==="recentActivities"?{...C,value:"0",trend:"Erreur de chargement"}:C))}finally{c(!1)}},b=j=>{const N=new Date,C=new Date(j),A=Math.floor((N-C)/1e3);return A<60?"À l'instant":A<3600?`Il y a ${Math.floor(A/60)} min`:A<86400?`Il y a ${Math.floor(A/3600)} h`:`Il y a ${Math.floor(A/86400)} j`};if(a)return s.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:s.jsx(nn,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!n)return s.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:s.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[s.jsx("div",{className:"flex justify-center mb-4",children:s.jsx(wn,{className:"h-12 w-12 text-red-500"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accès refusé"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),s.jsx(fe,{onClick:()=>r("/"),children:"Retour à l'accueil"})]})});const _=(j,N)=>{if(N==="Approuvée"||N==="Complétée"||N.startsWith("VIP"))return s.jsx(epe,{className:"h-5 w-5 text-green-400"});if(N==="En attente KYC"||N==="En cours d'examen")return s.jsx(mh,{className:"h-5 w-5 text-yellow-400"});switch(j){case"Immobilier":return s.jsx(Bv,{className:"h-5 w-5 text-blue-400"});case"Automobile":return s.jsx(x1,{className:"h-5 w-5 text-red-400"});case"Services":return s.jsx(Xf,{className:"h-5 w-5 text-purple-400"});case"Marketplace":return s.jsx(hh,{className:"h-5 w-5 text-yellow-400"});case"Utilisateur":return s.jsx(va,{className:"h-5 w-5 text-teal-400"});default:return s.jsx(_1,{className:"h-5 w-5 text-gray-400"})}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 sm:p-8",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[s.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:["Tableau de Bord Administrateur ",s.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),s.jsx("p",{className:"text-md sm:text-lg text-slate-400",children:"Vue d'ensemble et gestion de la marketplace."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-10",children:u.map((j,N)=>s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:N*.1},className:`bg-slate-800 p-5 rounded-xl shadow-lg border border-slate-700 hover:border-${j.color}-500 transition-colors`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsx("h2",{className:"text-md font-semibold text-slate-300",children:j.title}),j.icon]}),l?s.jsx("div",{className:"flex items-center justify-center h-12",children:s.jsx(nn,{className:"h-6 w-6 animate-spin text-gray-400"})}):s.jsxs(s.Fragment,{children:[s.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:j.value}),s.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[s.jsx(bs,{className:`mr-1 h-4 w-4 text-${j.color}-400`}),j.trend]})]})]},j.title))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[s.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"lg:col-span-1 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Actions Rapides"}),s.jsx("div",{className:"space-y-3",children:v.map(j=>s.jsxs("a",{href:j.link,className:`w-full flex items-center justify-start p-3 bg-${j.color}-600/10 hover:bg-${j.color}-600/20 text-${j.color}-300 rounded-lg transition-colors`,children:[j.icon," ",j.label]},j.label))})]}),s.jsxs(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[s.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Activité Récente"}),s.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:l?s.jsx("div",{className:"flex items-center justify-center h-40",children:s.jsx(nn,{className:"h-8 w-8 animate-spin text-blue-400"})}):f.length>0?f.map(j=>s.jsxs("div",{className:"flex items-start p-3 bg-slate-700/50 rounded-lg",children:[s.jsx("div",{className:`p-2 bg-${j.status==="Approuvée"||j.status==="Complétée"||j.status.startsWith("VIP")?"green":j.status==="En attente KYC"||j.status==="En cours d'examen"?"yellow":"slate"}-600/30 rounded-full mr-3`,children:_(j.category,j.status)}),s.jsxs("div",{className:"flex-grow",children:[s.jsxs("p",{className:"font-medium text-slate-200 text-sm",children:[s.jsxs("span",{className:"font-bold",children:[j.type,":"]})," ",j.item,j.value&&s.jsxs("span",{className:"text-green-400",children:[" (",j.value,")"]})]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[j.timestamp?b(j.timestamp):"Récemment"," - ",s.jsx("span",{className:`font-semibold text-${j.status==="read"?"green":"yellow"}-400`,children:j.status==="read"?"Lu":"Non lu"})]})]})]},j.id)):s.jsx("div",{className:"text-center py-8 text-slate-400",children:l?"Chargement des activités...":"Aucune activité récente à afficher"})})]})]})]})},JTe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},QTe=(t,e,r)=>{let n;const i=JTe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},eOe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},tOe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},rOe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nOe={date:zp({formats:eOe,defaultWidth:"full"}),time:zp({formats:tOe,defaultWidth:"full"}),dateTime:zp({formats:rOe,defaultWidth:"full"})},iOe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},sOe=(t,e,r,n)=>iOe[t],aOe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},oOe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},lOe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},cOe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},uOe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},dOe=(t,e)=>{const r=Number(t),n=e?.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let a;return r===1?a=n&&i.includes(n)?"ère":"er":a="ème",r+a},fOe=["MMM","MMMM"],hOe={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&fOe.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:dOe,era:gl({values:aOe,defaultWidth:"wide"}),quarter:gl({values:oOe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:gl({values:lOe,defaultWidth:"wide"}),day:gl({values:cOe,defaultWidth:"wide"}),dayPeriod:gl({values:uOe,defaultWidth:"wide"})},pOe=/^(\d+)(ième|ère|ème|er|e)?/i,mOe=/\d+/i,gOe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},vOe={any:[/^av/i,/^ap/i]},yOe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},xOe={any:[/1/i,/2/i,/3/i,/4/i]},bOe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},wOe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},_Oe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},jOe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},SOe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},NOe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},COe={ordinalNumber:vK({matchPattern:pOe,parsePattern:mOe,valueCallback:t=>parseInt(t)}),era:vl({matchPatterns:gOe,defaultMatchWidth:"wide",parsePatterns:vOe,defaultParseWidth:"any"}),quarter:vl({matchPatterns:yOe,defaultMatchWidth:"wide",parsePatterns:xOe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:vl({matchPatterns:bOe,defaultMatchWidth:"wide",parsePatterns:wOe,defaultParseWidth:"any"}),day:vl({matchPatterns:_Oe,defaultMatchWidth:"wide",parsePatterns:jOe,defaultParseWidth:"any"}),dayPeriod:vl({matchPatterns:SOe,defaultMatchWidth:"any",parsePatterns:NOe,defaultParseWidth:"any"})},sg={code:"fr",formatDistance:QTe,formatLong:nOe,formatRelative:sOe,localize:hOe,match:COe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function EOe(){const{toast:t}=Vr(),e=Bl(),[r,n]=x.useState(""),[i,a]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[d,f]=x.useState("desc"),[g,v]=x.useState(1),[y,b]=x.useState(10),{data:_,isLoading:j,isError:N}=Ti({queryKey:["adminUsers",{searchTerm:r,statusFilter:i,roleFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>await Lo.getAllUsers()}),C=Ui({mutationFn:({userId:z,status:V})=>Lo.updateUserStatus(z,V),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Statut utilisateur mis à jour avec succès"})},onError:z=>{t({title:"Erreur",description:z.message||"Une erreur est survenue",variant:"destructive"})}}),A=Ui({mutationFn:z=>Lo.updateUserStatus(z,"deleted"),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Utilisateur supprimé avec succès"})},onError:z=>{t({title:"Erreur",description:z.message||"Une erreur est survenue lors de la suppression",variant:"destructive"})}}),E=Ui({mutationFn:({userId:z,role:V})=>Lo.updateUserRole(z,V),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Rôle utilisateur mis à jour avec succès"})},onError:z=>{t({title:"Erreur",description:z.message||"Une erreur est survenue",variant:"destructive"})}}),P=(z,V)=>{C.mutate({userId:z,status:V})},O=(z,V)=>{E.mutate({userId:z,role:V})},I=z=>{window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.")&&A.mutate(z)},F=()=>{try{if(!_||_.length===0){t({title:"Aucune donnée",description:"Aucun utilisateur à exporter",variant:"destructive"});return}C1.users(_,"utilisateurs-maximarket"),t({title:"Export réussi",description:"Liste des utilisateurs exportée en CSV"})}catch(z){t({title:"Erreur d'export",description:z.message||"Impossible d'exporter les données",variant:"destructive"})}},H=()=>{t({title:"Fonctionnalité à venir",description:"La création d'utilisateur sera bientôt disponible"})},U=z=>{n(z.target.value),v(1)};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez les utilisateurs de la plateforme"})]}),s.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[s.jsxs(fe,{onClick:()=>F(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),s.jsxs(fe,{onClick:H,children:[s.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Nouvel Utilisateur"]})]})]}),s.jsx("div",{className:"rounded-md border bg-card p-4",children:s.jsxs("form",{onSubmit:U,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(it,{type:"search",placeholder:"Rechercher un utilisateur...",className:"pl-8",value:r,onChange:z=>n(z.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Statut"}),s.jsxs(Kr,{value:i,onValueChange:a,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les statuts"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les statuts"}),s.jsx(Ge,{value:"active",children:"Actif"}),s.jsx(Ge,{value:"inactive",children:"Inactif"}),s.jsx(Ge,{value:"suspended",children:"Suspendu"}),s.jsx(Ge,{value:"pending",children:"En attente"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Rôle"}),s.jsxs(Kr,{value:o,onValueChange:l,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les rôles"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les rôles"}),s.jsx(Ge,{value:"user",children:"Utilisateur"}),s.jsx(Ge,{value:"vendor",children:"Vendeur"}),s.jsx(Ge,{value:"admin",children:"Administrateur"}),s.jsx(Ge,{value:"moderator",children:"Modérateur"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Kr,{value:c,onValueChange:u,children:[s.jsx(qr,{className:"w-full",children:s.jsx(Gr,{placeholder:"Trier par"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"createdAt",children:"Date d'inscription"}),s.jsx(Ge,{value:"name",children:"Nom"}),s.jsx(Ge,{value:"email",children:"Email"}),s.jsx(Ge,{value:"lastLogin",children:"Dernière connexion"})]})]}),s.jsx(fe,{type:"button",variant:"outline",size:"icon",onClick:()=>f(d==="asc"?"desc":"asc"),children:d==="asc"?s.jsx(Uf,{className:"h-4 w-4"}):s.jsx(Fc,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs(fe,{type:"submit",variant:"outline",children:[s.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),s.jsxs(fe,{type:"button",variant:"outline",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(eg,{children:[s.jsx(tg,{children:s.jsxs(On,{children:[s.jsx(Ar,{children:"Utilisateur"}),s.jsx(Ar,{children:"Email"}),s.jsx(Ar,{children:"Rôle"}),s.jsx(Ar,{children:"Statut"}),s.jsx(Ar,{children:"Inscrit le"}),s.jsx(Ar,{className:"text-right",children:"Actions"})]})}),s.jsx(rg,{children:j?s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des utilisateurs"})}):_?.length>0?_.slice((g-1)*y,g*y).map(z=>s.jsxs(On,{children:[s.jsx(er,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:s.jsx("span",{className:"text-sm font-medium text-slate-700",children:z.first_name?.charAt(0)||z.last_name?.charAt(0)||"U"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:z.first_name&&z.last_name?`${z.first_name} ${z.last_name}`:z.first_name||z.last_name||"Utilisateur sans nom"}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",z.id?.substring(0,6),"..."]})]})]})}),s.jsx(er,{children:z.email}),s.jsx(er,{children:s.jsxs(Kr,{value:z.role,onValueChange:V=>O(z.id,V),disabled:E.isLoading,children:[s.jsx(qr,{className:"w-[120px]",children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"user",children:"Utilisateur"}),s.jsx(Ge,{value:"vendor",children:"Vendeur"}),s.jsx(Ge,{value:"moderator",children:"Modérateur"}),s.jsx(Ge,{value:"admin",children:"Administrateur"})]})]})}),s.jsx(er,{children:s.jsx(vt,{variant:z.status==="active"?"default":z.status==="suspended"?"destructive":"outline",className:"capitalize",children:z.status==="active"?"Actif":z.status==="suspended"?"Suspendu":z.status==="pending"?"En attente":"Inactif"})}),s.jsx(er,{children:z.created_at?en(new Date(z.created_at),"PP",{locale:sg}):"N/A"}),s.jsx(er,{className:"text-right",children:s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsxs(fe,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),s.jsx(fh,{className:"h-4 w-4"})]})}),s.jsxs(au,{align:"end",children:[s.jsxs($r,{children:[s.jsx(_a,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Envoyer un message"})]}),s.jsx($r,{onClick:()=>P(z.id,z.status==="active"?"suspended":"active"),disabled:C.isLoading,children:z.status==="active"?s.jsxs(s.Fragment,{children:[s.jsx(mpe,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Suspendre"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ppe,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Activer"})]})}),s.jsx(Km,{}),s.jsxs($r,{className:"text-destructive",onClick:()=>I(z.id),disabled:A.isLoading,children:[s.jsx(qo,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Supprimer"})]})]})]})})]},z.id)):s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"h-24 text-center",children:"Aucun utilisateur trouvé"})})})]})}),_&&_.length>y&&s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",s.jsx("span",{className:"font-medium",children:(g-1)*y+1})," à"," ",s.jsx("span",{className:"font-medium",children:Math.min(g*y,_.length)})," ","sur ",s.jsx("span",{className:"font-medium",children:_.length})," utilisateurs"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),s.jsxs(Kr,{value:`${y}`,onValueChange:z=>{b(Number(z)),v(1)},children:[s.jsx(qr,{className:"h-8 w-[70px]",children:s.jsx(Gr,{placeholder:y})}),s.jsx(Ur,{side:"top",children:[5,10,20,30,40,50].map(z=>s.jsx(Ge,{value:`${z}`,children:z},z))})]})]}),s.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(_.length/y)]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[s.jsx("span",{className:"sr-only",children:"Aller à la première page"}),s.jsx(ux,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[s.jsx("span",{className:"sr-only",children:"Page précédente"}),s.jsx(ro,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(_.length/y),g+1)),disabled:g===Math.ceil(_.length/y),children:[s.jsx("span",{className:"sr-only",children:"Page suivante"}),s.jsx(no,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(_.length/y)),disabled:g===Math.ceil(_.length/y),children:[s.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),s.jsx(dx,{className:"h-4 w-4"})]})]})]})]})]})}function POe(){const{toast:t}=Vr(),e=Bl(),[r,n]=x.useState(""),[i,a]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[d,f]=x.useState("desc"),[g,v]=x.useState(1),[y,b]=x.useState(10),{data:_,isLoading:j,isError:N}=Ti({queryKey:["adminListings",{searchTerm:r,statusFilter:i,categoryFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>{const W={};return r&&(W.search=r),i!=="all"&&(W.status=i),o!=="all"&&(W.category=o),await rn.getAllListings(W)}}),C=_?.data||[],A=_?.count||0;_?.hasMore;const{data:E}=Ti({queryKey:["categories"],queryFn:()=>_v.getAllCategories()}),P=Ui({mutationFn:W=>rn.updateListingStatus(W,"approved"),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce approuvée avec succès"})},onError:W=>{t({title:"Erreur",description:W.message||"Erreur lors de l'approbation",variant:"destructive"})}}),O=Ui({mutationFn:W=>rn.updateListingStatus(W,"rejected"),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce rejetée avec succès"})},onError:W=>{t({title:"Erreur",description:W.message||"Erreur lors du rejet",variant:"destructive"})}}),I=Ui({mutationFn:W=>rn.deleteListing(W),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce supprimée avec succès"})},onError:W=>{t({title:"Erreur",description:W.message||"Erreur lors de la suppression",variant:"destructive"})}}),F=Ui({mutationFn:({listingId:W,featured:re})=>rn.updateListing(W,{featured:re}),onSuccess:(W,re)=>{e.invalidateQueries(["adminListings"]);const G=re.featured?"mise en avant":"retirée de l'avant";t({title:"Succès",description:`Annonce ${G} avec succès`})},onError:W=>{t({title:"Erreur",description:W.message||"Erreur lors de la mise à jour",variant:"destructive"})}}),H=W=>{P.mutate(W)},U=W=>{O.mutate(W)},z=W=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette annonce ?")&&I.mutate(W)},V=(W,re)=>{F.mutate({listingId:W,featured:re})},X=W=>{W.preventDefault(),v(1)},te=W=>{n(W.target.value),v(1)},le=()=>{try{if(!C||C.length===0){t({title:"Aucune donnée",description:"Aucune annonce à exporter",variant:"destructive"});return}C1.listings(C,"annonces-maximarket"),t({title:"Export réussi",description:"Liste des annonces exportée en CSV"})}catch(W){t({title:"Erreur d'export",description:W.message||"Impossible d'exporter les données",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Annonces"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez et modérez les annonces de la plateforme"})]}),s.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[s.jsxs(fe,{onClick:()=>le(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),s.jsx(fe,{asChild:!0,children:s.jsxs(pr,{to:"/creer-annonce",children:[s.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Nouvelle Annonce"]})})]})]}),s.jsx("div",{className:"rounded-md border bg-card p-4",children:s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(it,{type:"search",placeholder:"Rechercher une annonce...",className:"pl-8",value:r,onChange:te})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Statut"}),s.jsxs(Kr,{value:i,onValueChange:a,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les statuts"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les statuts"}),s.jsx(Ge,{value:"pending",children:"En attente"}),s.jsx(Ge,{value:"approved",children:"Approuvé"}),s.jsx(Ge,{value:"rejected",children:"Rejeté"}),s.jsx(Ge,{value:"expired",children:"Expiré"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Catégorie"}),s.jsxs(Kr,{value:o,onValueChange:l,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Toutes les catégories"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Toutes les catégories"}),s.jsx(Ge,{value:"real_estate",children:"Immobilier"}),s.jsx(Ge,{value:"automobile",children:"Automobile"}),s.jsx(Ge,{value:"services",children:"Services"}),s.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(Kr,{value:c,onValueChange:u,children:[s.jsx(qr,{className:"w-full",children:s.jsx(Gr,{placeholder:"Trier par"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"created_at",children:"Date de création"}),s.jsx(Ge,{value:"title",children:"Titre"}),s.jsx(Ge,{value:"price",children:"Prix"}),s.jsx(Ge,{value:"views",children:"Vues"})]})]}),s.jsx(fe,{type:"button",variant:"outline",size:"icon",onClick:()=>f(d==="asc"?"desc":"asc"),children:d==="asc"?s.jsx(Uf,{className:"h-4 w-4"}):s.jsx(Fc,{className:"h-4 w-4"})})]})]})]}),s.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[s.jsxs(fe,{type:"submit",variant:"outline",children:[s.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),s.jsxs(fe,{type:"button",variant:"outline",onClick:()=>le(),children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(eg,{children:[s.jsx(tg,{children:s.jsxs(On,{children:[s.jsx(Ar,{children:"Annonce"}),s.jsx(Ar,{children:"Catégorie"}),s.jsx(Ar,{children:"Prix"}),s.jsx(Ar,{children:"Statut"}),s.jsx(Ar,{children:"Créé le"}),s.jsx(Ar,{className:"text-right",children:"Actions"})]})}),s.jsx(rg,{children:j?s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des annonces"})}):C?.length>0?C.map(W=>s.jsxs(On,{children:[s.jsx(er,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"h-12 w-12 rounded-md bg-slate-100 flex items-center justify-center",children:W.images?.[0]?s.jsx("img",{src:W.images[0],alt:W.title,className:"h-12 w-12 rounded-md object-cover"}):s.jsx("div",{className:"text-slate-400",children:"📷"})}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:W.title}),s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Par ",W.users?.first_name&&W.users?.last_name?`${W.users.first_name} ${W.users.last_name}`:W.users?.first_name||W.users?.last_name||"Utilisateur"]})]})]})}),s.jsx(er,{children:s.jsx(vt,{variant:"outline",className:"capitalize",children:W.category==="real_estate"?"Immobilier":W.category==="automobile"?"Automobile":W.category==="services"?"Services":W.category==="marketplace"?"Marketplace":"Général"})}),s.jsx(er,{children:W.price?`${W.price.toLocaleString()} FCFA`:"N/A"}),s.jsx(er,{children:s.jsx(vt,{variant:W.status==="approved"?"default":W.status==="rejected"?"destructive":"outline",className:"capitalize",children:W.status==="pending"?"En attente":W.status==="approved"?"Approuvé":W.status==="rejected"?"Rejeté":W.status==="expired"?"Expiré":W.status})}),s.jsx(er,{children:W.created_at?en(new Date(W.created_at),"PP",{locale:sg}):"N/A"}),s.jsx(er,{className:"text-right",children:s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsxs(fe,{variant:"ghost",className:"h-8 w-8 p-0",children:[s.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),s.jsx(fh,{className:"h-4 w-4"})]})}),s.jsxs(au,{align:"end",children:[s.jsxs($r,{children:[s.jsx(Bo,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Voir les détails"})]}),W.status==="pending"&&s.jsxs(s.Fragment,{children:[s.jsxs($r,{onClick:()=>H(W.id),disabled:P.isLoading,children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Approuver"})]}),s.jsxs($r,{onClick:()=>U(W.id),disabled:O.isLoading,children:[s.jsx(b1,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Rejeter"})]})]}),W.status==="rejected"&&s.jsxs($r,{onClick:()=>H(W.id),disabled:P.isLoading,children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Approuver"})]}),W.status==="expired"&&s.jsxs($r,{onClick:()=>H(W.id),disabled:P.isLoading,children:[s.jsx(zn,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Réactiver"})]}),s.jsx($r,{onClick:()=>V(W.id,!W.featured),disabled:F.isLoading,children:W.featured?s.jsxs(s.Fragment,{children:[s.jsx(dpe,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Retirer la mise en avant"})]}):s.jsxs(s.Fragment,{children:[s.jsx(cs,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Mettre en avant"})]})}),s.jsx(Km,{}),s.jsxs($r,{className:"text-destructive",onClick:()=>z(W.id),disabled:I.isLoading,children:[s.jsx(qo,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"Supprimer"})]})]})]})})]},W.id)):s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"h-24 text-center",children:"Aucune annonce trouvée"})})})]})}),A>y&&s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",s.jsx("span",{className:"font-medium",children:(g-1)*y+1})," à"," ",s.jsx("span",{className:"font-medium",children:Math.min(g*y,A)})," ","sur ",s.jsx("span",{className:"font-medium",children:A})," annonces"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),s.jsxs(Kr,{value:`${y}`,onValueChange:W=>{b(Number(W)),v(1)},children:[s.jsx(qr,{className:"h-8 w-[70px]",children:s.jsx(Gr,{placeholder:y})}),s.jsx(Ur,{side:"top",children:[5,10,20,30,40,50].map(W=>s.jsx(Ge,{value:`${W}`,children:W},W))})]})]}),s.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(A/y)]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[s.jsx("span",{className:"sr-only",children:"Aller à la première page"}),s.jsx(ux,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[s.jsx("span",{className:"sr-only",children:"Page précédente"}),s.jsx(ro,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(A/y),g+1)),disabled:g===Math.ceil(A/y),children:[s.jsx("span",{className:"sr-only",children:"Page suivante"}),s.jsx(no,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(A/y)),disabled:g===Math.ceil(A/y),children:[s.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),s.jsx(dx,{className:"h-4 w-4"})]})]})]})]})]})}function kOe(){const[t,e]=x.useState(""),[r,n]=x.useState("all"),[i,a]=x.useState("all"),[o,l]=x.useState("created_at"),[c,u]=x.useState("desc"),[d,f]=x.useState(1),[g,v]=x.useState(10),{data:y,isLoading:b,isError:_}=Ti({queryKey:["adminTransactions",{searchTerm:t,statusFilter:r,typeFilter:i,sortBy:o,sortOrder:c,page:d,perPage:g}],queryFn:async()=>{const P={};return r!=="all"&&(P.status=r),i!=="all"&&(P.type=i),await kme.getAllTransactions(P)}}),j=P=>{e(P.target.value),f(1)},N=(P,O="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:O,minimumFractionDigits:0,maximumFractionDigits:0}).format(P),C=P=>{switch(P){case"completed":return s.jsxs(vt,{variant:"success",children:[s.jsx(zn,{className:"mr-1 h-3 w-3"})," Complétée"]});case"pending":return s.jsxs(vt,{variant:"warning",children:[s.jsx(Ri,{className:"mr-1 h-3 w-3"})," En attente"]});case"failed":return s.jsxs(vt,{variant:"destructive",children:[s.jsx(b1,{className:"mr-1 h-3 w-3"})," Échouée"]});case"refunded":return s.jsxs(vt,{variant:"outline",children:[s.jsx(yd,{className:"mr-1 h-3 w-3"})," Remboursée"]});default:return s.jsx(vt,{variant:"outline",children:P})}},A=P=>{switch(P){case"purchase":return s.jsx(vt,{variant:"default",children:"Achat"});case"subscription":return s.jsx(vt,{variant:"secondary",children:"Abonnement"});case"refund":return s.jsx(vt,{variant:"outline",children:"Remboursement"});default:return s.jsx(vt,{variant:"outline",children:P})}},E=y?{totalRevenue:y.filter(P=>P.status==="completed").reduce((P,O)=>P+(O.amount||0),0),totalTransactions:y.length,successRate:y.length>0?Math.round(y.filter(P=>P.status==="completed").length/y.length*100):0,averageOrderValue:y.filter(P=>P.status==="completed").length>0?y.filter(P=>P.status==="completed").reduce((P,O)=>P+(O.amount||0),0)/y.filter(P=>P.status==="completed").length:0}:{totalRevenue:0,totalTransactions:0,successRate:0,averageOrderValue:0};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Transactions"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez et surveillez toutes les transactions de la plateforme"})]}),s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter"]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:s.jsx(em,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chiffre d'affaires total"}),s.jsx("p",{className:"text-2xl font-bold",children:N(E.totalRevenue)})]})]}),s.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 12% "}),"vs période précédente"]})]}),s.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:s.jsx(yd,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),s.jsx("p",{className:"text-2xl font-bold",children:E.totalTransactions})]})]}),s.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 8% "}),"vs période précédente"]})]}),s.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:s.jsx(zn,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de réussite"}),s.jsxs("p",{className:"text-2xl font-bold",children:[E.successRate,"%"]})]})]}),s.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 2% "}),"vs période précédente"]})]}),s.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/50",children:s.jsx(wn,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur moyenne"}),s.jsx("p",{className:"text-2xl font-bold",children:N(E.averageOrderValue)})]})]}),s.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 5% "}),"vs période précédente"]})]})]}),s.jsx("div",{className:"rounded-md border bg-card p-4",children:s.jsx("form",{onSubmit:P=>{P.preventDefault(),f(1)},className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Rechercher"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),s.jsx(it,{placeholder:"Rechercher une transaction...",className:"pl-8",value:t,onChange:j})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Statut"}),s.jsxs(Kr,{value:r,onValueChange:n,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les statuts"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les statuts"}),s.jsx(Ge,{value:"pending",children:"En attente"}),s.jsx(Ge,{value:"completed",children:"Complétée"}),s.jsx(Ge,{value:"failed",children:"Échouée"}),s.jsx(Ge,{value:"refunded",children:"Remboursée"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Type"}),s.jsxs(Kr,{value:i,onValueChange:a,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les types"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les types"}),s.jsx(Ge,{value:"purchase",children:"Achats"}),s.jsx(Ge,{value:"subscription",children:"Abonnements"}),s.jsx(Ge,{value:"refund",children:"Remboursements"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),s.jsxs(Kr,{value:o,onValueChange:l,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Trier par"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"created_at",children:"Date"}),s.jsx(Ge,{value:"amount",children:"Montant"}),s.jsx(Ge,{value:"reference",children:"Référence"})]})]})]})]})})}),s.jsx("div",{className:"rounded-md border",children:s.jsxs(eg,{children:[s.jsx(tg,{children:s.jsxs(On,{children:[s.jsx(Ar,{children:"Référence"}),s.jsx(Ar,{children:"Utilisateur"}),s.jsx(Ar,{children:"Montant"}),s.jsx(Ar,{children:"Type"}),s.jsx(Ar,{children:"Statut"}),s.jsx(Ar,{children:"Date"}),s.jsx(Ar,{className:"text-right",children:"Actions"})]})}),s.jsx(rg,{children:b?s.jsx(On,{children:s.jsx(er,{colSpan:7,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsx("span",{className:"ml-2",children:"Chargement des transactions..."})]})})}):_?s.jsx(On,{children:s.jsx(er,{colSpan:7,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center text-destructive",children:[s.jsx(wn,{className:"mr-2 h-4 w-4"}),"Erreur lors du chargement des transactions"]})})}):y?.length===0?s.jsx(On,{children:s.jsx(er,{colSpan:7,className:"text-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx(yd,{className:"h-12 w-12 text-muted-foreground mb-4"}),s.jsx("p",{className:"text-lg font-medium",children:"Aucune transaction trouvée"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transactions apparaîtront ici une fois qu'elles seront créées."})]})})}):y?.map(P=>s.jsxs(On,{children:[s.jsx(er,{className:"font-medium",children:P.payment_reference||P.id.slice(0,8)}),s.jsx(er,{children:s.jsxs("div",{children:[s.jsxs("p",{className:"font-medium",children:[P.users?.first_name," ",P.users?.last_name]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:P.users?.email})]})}),s.jsx(er,{className:"font-medium",children:N(P.amount,P.currency)}),s.jsx(er,{children:A(P.type)}),s.jsx(er,{children:C(P.status)}),s.jsx(er,{children:P.created_at?en(new Date(P.created_at),"PP",{locale:sg}):"N/A"}),s.jsx(er,{className:"text-right",children:s.jsx(fe,{variant:"ghost",size:"sm",children:s.jsx(fh,{className:"h-4 w-4"})})})]},P.id))})]})}),s.jsxs("div",{className:"flex items-center justify-between px-2",children:[s.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",s.jsx("span",{className:"font-medium",children:(d-1)*g+1})," à"," ",s.jsx("span",{className:"font-medium",children:Math.min(d*g,y?.length||0)})," ","sur ",s.jsx("span",{className:"font-medium",children:y?.length||0})," transactions"]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),s.jsxs(Kr,{value:`${g}`,onValueChange:P=>{v(Number(P)),f(1)},children:[s.jsx(qr,{className:"h-8 w-[70px]",children:s.jsx(Gr,{placeholder:g})}),s.jsx(Ur,{side:"top",children:[5,10,20,30,40,50].map(P=>s.jsx(Ge,{value:`${P}`,children:P},P))})]})]}),s.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",d," sur ",Math.ceil((y?.length||0)/g)]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(1),disabled:d===1,children:[s.jsx("span",{className:"sr-only",children:"Aller à la première page"}),s.jsx(ux,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(Math.max(1,d-1)),disabled:d===1,children:[s.jsx("span",{className:"sr-only",children:"Page précédente"}),s.jsx(ro,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(Math.min(Math.ceil((y?.length||0)/g),d+1)),disabled:d===Math.ceil((y?.length||0)/g),children:[s.jsx("span",{className:"sr-only",children:"Page suivante"}),s.jsx(no,{className:"h-4 w-4"})]}),s.jsxs(fe,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(Math.ceil((y?.length||0)/g)),disabled:d===Math.ceil((y?.length||0)/g),children:[s.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),s.jsx(dx,{className:"h-4 w-4"})]})]})]})]})]})}var hE,fB;function Ys(){if(fB)return hE;fB=1;var t=Array.isArray;return hE=t,hE}var pE,hB;function gte(){if(hB)return pE;hB=1;var t=typeof qs=="object"&&qs&&qs.Object===Object&&qs;return pE=t,pE}var mE,pB;function Ul(){if(pB)return mE;pB=1;var t=gte(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return mE=r,mE}var gE,mB;function Fx(){if(mB)return gE;mB=1;var t=Ul(),e=t.Symbol;return gE=e,gE}var vE,gB;function AOe(){if(gB)return vE;gB=1;var t=Fx(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[i]=c:delete o[i]),d}return vE=a,vE}var yE,vB;function TOe(){if(vB)return yE;vB=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return yE=r,yE}var xE,yB;function cu(){if(yB)return xE;yB=1;var t=Fx(),e=AOe(),r=TOe(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:a&&a in Object(l)?e(l):r(l)}return xE=o,xE}var bE,xB;function uu(){if(xB)return bE;xB=1;function t(e){return e!=null&&typeof e=="object"}return bE=t,bE}var wE,bB;function ag(){if(bB)return wE;bB=1;var t=cu(),e=uu(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return wE=n,wE}var _E,wB;function QI(){if(wB)return _E;wB=1;var t=Ys(),e=ag(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,o){if(t(a))return!1;var l=typeof a;return l=="number"||l=="symbol"||l=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||o!=null&&a in Object(o)}return _E=i,_E}var jE,_B;function qd(){if(_B)return jE;_B=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return jE=t,jE}var SE,jB;function eD(){if(jB)return SE;jB=1;var t=cu(),e=qd(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==a}return SE=o,SE}var NE,SB;function OOe(){if(SB)return NE;SB=1;var t=Ul(),e=t["__core-js_shared__"];return NE=e,NE}var CE,NB;function ROe(){if(NB)return CE;NB=1;var t=OOe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return CE=r,CE}var EE,CB;function vte(){if(CB)return EE;CB=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return EE=r,EE}var PE,EB;function MOe(){if(EB)return PE;EB=1;var t=eD(),e=ROe(),r=qd(),n=vte(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(g){if(!r(g)||e(g))return!1;var v=t(g)?d:a;return v.test(n(g))}return PE=f,PE}var kE,PB;function IOe(){if(PB)return kE;PB=1;function t(e,r){return e?.[r]}return kE=t,kE}var AE,kB;function _h(){if(kB)return AE;kB=1;var t=MOe(),e=IOe();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return AE=r,AE}var TE,AB;function dj(){if(AB)return TE;AB=1;var t=_h(),e=t(Object,"create");return TE=e,TE}var OE,TB;function DOe(){if(TB)return OE;TB=1;var t=dj();function e(){this.__data__=t?t(null):{},this.size=0}return OE=e,OE}var RE,OB;function LOe(){if(OB)return RE;OB=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return RE=t,RE}var ME,RB;function $Oe(){if(RB)return ME;RB=1;var t=dj(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var o=this.__data__;if(t){var l=o[a];return l===e?void 0:l}return n.call(o,a)?o[a]:void 0}return ME=i,ME}var IE,MB;function FOe(){if(MB)return IE;MB=1;var t=dj(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return IE=n,IE}var DE,IB;function BOe(){if(IB)return DE;IB=1;var t=dj(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return DE=r,DE}var LE,DB;function zOe(){if(DB)return LE;DB=1;var t=DOe(),e=LOe(),r=$Oe(),n=FOe(),i=BOe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,LE=a,LE}var $E,LB;function qOe(){if(LB)return $E;LB=1;function t(){this.__data__=[],this.size=0}return $E=t,$E}var FE,$B;function tD(){if($B)return FE;$B=1;function t(e,r){return e===r||e!==e&&r!==r}return FE=t,FE}var BE,FB;function fj(){if(FB)return BE;FB=1;var t=tD();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return BE=e,BE}var zE,BB;function UOe(){if(BB)return zE;BB=1;var t=fj(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,o=t(a,i);if(o<0)return!1;var l=a.length-1;return o==l?a.pop():r.call(a,o,1),--this.size,!0}return zE=n,zE}var qE,zB;function VOe(){if(zB)return qE;zB=1;var t=fj();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return qE=e,qE}var UE,qB;function WOe(){if(qB)return UE;qB=1;var t=fj();function e(r){return t(this.__data__,r)>-1}return UE=e,UE}var VE,UB;function HOe(){if(UB)return VE;UB=1;var t=fj();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return VE=e,VE}var WE,VB;function hj(){if(VB)return WE;VB=1;var t=qOe(),e=UOe(),r=VOe(),n=WOe(),i=HOe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,WE=a,WE}var HE,WB;function rD(){if(WB)return HE;WB=1;var t=_h(),e=Ul(),r=t(e,"Map");return HE=r,HE}var KE,HB;function KOe(){if(HB)return KE;HB=1;var t=zOe(),e=hj(),r=rD();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return KE=n,KE}var GE,KB;function GOe(){if(KB)return GE;KB=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return GE=t,GE}var ZE,GB;function pj(){if(GB)return ZE;GB=1;var t=GOe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return ZE=e,ZE}var YE,ZB;function ZOe(){if(ZB)return YE;ZB=1;var t=pj();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return YE=e,YE}var XE,YB;function YOe(){if(YB)return XE;YB=1;var t=pj();function e(r){return t(this,r).get(r)}return XE=e,XE}var JE,XB;function XOe(){if(XB)return JE;XB=1;var t=pj();function e(r){return t(this,r).has(r)}return JE=e,JE}var QE,JB;function JOe(){if(JB)return QE;JB=1;var t=pj();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return QE=e,QE}var e2,QB;function nD(){if(QB)return e2;QB=1;var t=KOe(),e=ZOe(),r=YOe(),n=XOe(),i=JOe();function a(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,e2=a,e2}var t2,e8;function yte(){if(e8)return t2;e8=1;var t=nD(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=a.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return a.cache=c.set(l,u)||c,u};return a.cache=new(r.Cache||t),a}return r.Cache=t,t2=r,t2}var r2,t8;function QOe(){if(t8)return r2;t8=1;var t=yte(),e=500;function r(n){var i=t(n,function(o){return a.size===e&&a.clear(),o}),a=i.cache;return i}return r2=r,r2}var n2,r8;function eRe(){if(r8)return n2;r8=1;var t=QOe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(o,l,c,u){a.push(c?u.replace(r,"$1"):l||o)}),a});return n2=n,n2}var i2,n8;function iD(){if(n8)return i2;n8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return i2=t,i2}var s2,i8;function tRe(){if(i8)return s2;i8=1;var t=Fx(),e=iD(),r=Ys(),n=ag(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return a?a.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return s2=o,s2}var a2,s8;function xte(){if(s8)return a2;s8=1;var t=tRe();function e(r){return r==null?"":t(r)}return a2=e,a2}var o2,a8;function bte(){if(a8)return o2;a8=1;var t=Ys(),e=QI(),r=eRe(),n=xte();function i(a,o){return t(a)?a:e(a,o)?[a]:r(n(a))}return o2=i,o2}var l2,o8;function mj(){if(o8)return l2;o8=1;var t=ag();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return l2=e,l2}var c2,l8;function sD(){if(l8)return c2;l8=1;var t=bte(),e=mj();function r(n,i){i=t(i,n);for(var a=0,o=i.length;n!=null&&a<o;)n=n[e(i[a++])];return a&&a==o?n:void 0}return c2=r,c2}var u2,c8;function wte(){if(c8)return u2;c8=1;var t=sD();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return u2=e,u2}var rRe=wte();const xa=Er(rRe);var d2,u8;function nRe(){if(u8)return d2;u8=1;function t(e){return e==null}return d2=t,d2}var iRe=nRe();const nr=Er(iRe);var f2,d8;function sRe(){if(d8)return f2;d8=1;var t=cu(),e=Ys(),r=uu(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return f2=i,f2}var aRe=sRe();const ah=Er(aRe);var oRe=eD();const tr=Er(oRe);var lRe=qd();const og=Er(lRe);var h2={exports:{}},Br={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f8;function cRe(){if(f8)return Br;f8=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function b(_){if(typeof _=="object"&&_!==null){var j=_.$$typeof;switch(j){case t:switch(_=_.type,_){case r:case i:case n:case u:case d:return _;default:switch(_=_&&_.$$typeof,_){case l:case o:case c:case g:case f:case a:return _;default:return j}}case e:return j}}}return Br.ContextConsumer=o,Br.ContextProvider=a,Br.Element=t,Br.ForwardRef=c,Br.Fragment=r,Br.Lazy=g,Br.Memo=f,Br.Portal=e,Br.Profiler=i,Br.StrictMode=n,Br.Suspense=u,Br.SuspenseList=d,Br.isAsyncMode=function(){return!1},Br.isConcurrentMode=function(){return!1},Br.isContextConsumer=function(_){return b(_)===o},Br.isContextProvider=function(_){return b(_)===a},Br.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},Br.isForwardRef=function(_){return b(_)===c},Br.isFragment=function(_){return b(_)===r},Br.isLazy=function(_){return b(_)===g},Br.isMemo=function(_){return b(_)===f},Br.isPortal=function(_){return b(_)===e},Br.isProfiler=function(_){return b(_)===i},Br.isStrictMode=function(_){return b(_)===n},Br.isSuspense=function(_){return b(_)===u},Br.isSuspenseList=function(_){return b(_)===d},Br.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===u||_===d||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===f||_.$$typeof===a||_.$$typeof===o||_.$$typeof===c||_.$$typeof===y||_.getModuleId!==void 0)},Br.typeOf=b,Br}var h8;function uRe(){return h8||(h8=1,h2.exports=cRe()),h2.exports}var dRe=uRe(),p2,p8;function _te(){if(p8)return p2;p8=1;var t=cu(),e=uu(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return p2=n,p2}var m2,m8;function fRe(){if(m8)return m2;m8=1;var t=_te();function e(r){return t(r)&&r!=+r}return m2=e,m2}var hRe=fRe();const Bx=Er(hRe);var pRe=_te();const mRe=Er(pRe);var ws=function(e){return e===0?0:e>0?1:-1},If=function(e){return ah(e)&&e.indexOf("%")===e.length-1},ft=function(e){return mRe(e)&&!Bx(e)},gRe=function(e){return nr(e)},bi=function(e){return ft(e)||ah(e)},vRe=0,lg=function(e){var r=++vRe;return"".concat(e||"").concat(r)},$o=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ft(e)&&!ah(e))return n;var a;if(If(e)){var o=e.indexOf("%");a=r*parseFloat(e.slice(0,o))/100}else a=+e;return Bx(a)&&(a=n),i&&a>r&&(a=r),a},fd=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},yRe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},pa=function(e,r){return ft(e)&&ft(r)?function(n){return e+n*(r-e)}:function(){return r}};function a_(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):xa(n,e))===r})}var xRe=function(e,r){return ft(e)&&ft(r)?e-r:ah(e)&&ah(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Hp(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function uO(t){"@babel/helpers - typeof";return uO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uO(t)}var bRe=["viewBox","children"],wRe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],g8=["points","pathLength"],g2={svg:bRe,polygon:g8,polyline:g8},aD=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],o_=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!og(n))return null;var i={};return Object.keys(n).forEach(function(a){aD.includes(a)&&(i[a]=r||function(o){return n[a](n,o)})}),i},_Re=function(e,r,n){return function(i){return e(r,n,i),null}},gy=function(e,r,n){if(!og(e)||uO(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];aD.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=_Re(o,r,n))}),i},jRe=["children"],SRe=["children"];function v8(t,e){if(t==null)return{};var r=NRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dO(t){"@babel/helpers - typeof";return dO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dO(t)}var y8={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Hc=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},x8=null,v2=null,oD=function t(e){if(e===x8&&Array.isArray(v2))return v2;var r=[];return x.Children.forEach(e,function(n){nr(n)||(dRe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),v2=r,x8=e,r};function ba(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Hc(i)}):n=[Hc(e)],oD(t).forEach(function(i){var a=xa(i,"type.displayName")||xa(i,"type.name");n.indexOf(a)!==-1&&r.push(i)}),r}function ua(t,e){var r=ba(t,e);return r&&r[0]}var b8=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ft(n)||n<=0||!ft(i)||i<=0)},CRe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],ERe=function(e){return e&&e.type&&ah(e.type)&&CRe.indexOf(e.type)>=0},PRe=function(e){return e&&dO(e)==="object"&&"clipDot"in e},kRe=function(e,r,n,i){var a,o=(a=g2?.[i])!==null&&a!==void 0?a:[];return r.startsWith("data-")||!tr(e)&&(i&&o.includes(r)||wRe.includes(r))||n&&aD.includes(r)},fr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(x.isValidElement(e)&&(i=e.props),!og(i))return null;var a={};return Object.keys(i).forEach(function(o){var l;kRe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(a[o]=i[o])}),a},fO=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return w8(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var a=e[i],o=r[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!w8(a,o))return!1}return!0},w8=function(e,r){if(nr(e)&&nr(r))return!0;if(!nr(e)&&!nr(r)){var n=e.props||{},i=n.children,a=v8(n,jRe),o=r.props||{},l=o.children,c=v8(o,SRe);return i&&l?Hp(a,c)&&fO(i,l):!i&&!l?Hp(a,c):!1}return!1},_8=function(e,r){var n=[],i={};return oD(e).forEach(function(a,o){if(ERe(a))n.push(a);else if(a){var l=Hc(a.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(a,l,o);n.push(f),i[l]=!0}}}),n},ARe=function(e){var r=e&&e.type;return r&&y8[r]?y8[r]:null},TRe=function(e,r){return oD(r).indexOf(e)},ORe=["children","width","height","viewBox","className","style","title","desc"];function hO(){return hO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hO.apply(this,arguments)}function RRe(t,e){if(t==null)return{};var r=MRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pO(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,a=t.className,o=t.style,l=t.title,c=t.desc,u=RRe(t,ORe),d=i||{width:r,height:n,x:0,y:0},f=mr("recharts-surface",a);return ne.createElement("svg",hO({},fr(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),ne.createElement("title",null,l),ne.createElement("desc",null,c),e)}var IRe=["children","className"];function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mO.apply(this,arguments)}function DRe(t,e){if(t==null)return{};var r=LRe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var fn=ne.forwardRef(function(t,e){var r=t.children,n=t.className,i=DRe(t,IRe),a=mr("recharts-layer",n);return ne.createElement("g",mO({className:a},fr(i,!0),{ref:e}),r)}),Fo=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a]},y2,j8;function $Re(){if(j8)return y2;j8=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(a);++i<a;)o[i]=e[i+r];return o}return y2=t,y2}var x2,S8;function FRe(){if(S8)return x2;S8=1;var t=$Re();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return x2=e,x2}var b2,N8;function jte(){if(N8)return b2;N8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+a+"]");function c(u){return l.test(u)}return b2=c,b2}var w2,C8;function BRe(){if(C8)return w2;C8=1;function t(e){return e.split("")}return w2=t,w2}var _2,E8;function zRe(){if(E8)return _2;E8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",y=u+"?",b="["+a+"]?",_="(?:"+v+"(?:"+[d,f,g].join("|")+")"+b+y+")*",j=b+y+_,N="(?:"+[d+l+"?",l,f,g,o].join("|")+")",C=RegExp(c+"(?="+c+")|"+N+j,"g");function A(E){return E.match(C)||[]}return _2=A,_2}var j2,P8;function qRe(){if(P8)return j2;P8=1;var t=BRe(),e=jte(),r=zRe();function n(i){return e(i)?r(i):t(i)}return j2=n,j2}var S2,k8;function URe(){if(k8)return S2;k8=1;var t=FRe(),e=jte(),r=qRe(),n=xte();function i(a){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[a]()+u}}return S2=i,S2}var N2,A8;function VRe(){if(A8)return N2;A8=1;var t=URe(),e=t("toUpperCase");return N2=e,N2}var WRe=VRe();const gj=Er(WRe);function dn(t){return function(){return t}}const Ste=Math.cos,l_=Math.sin,Zo=Math.sqrt,c_=Math.PI,vj=2*c_,gO=Math.PI,vO=2*gO,Cf=1e-6,HRe=vO-Cf;function Nte(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function KRe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Nte;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class GRe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Nte:KRe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,f=l-r,g=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Cf)if(!(Math.abs(f*c-u*d)>Cf)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,y=i-l,b=c*c+u*u,_=v*v+y*y,j=Math.sqrt(b),N=Math.sqrt(g),C=a*Math.tan((gO-Math.acos((b+g-_)/(2*j*N)))/2),A=C/N,E=C/j;Math.abs(A-1)>Cf&&this._append`L${e+A*d},${r+A*f}`,this._append`A${a},${a},0,0,${+(f*v>d*y)},${this._x1=e+E*c},${this._y1=r+E*u}`}}arc(e,r,n,i,a,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,f=1^o,g=o?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Cf||Math.abs(this._y1-d)>Cf)&&this._append`L${u},${d}`,n&&(g<0&&(g=g%vO+vO),g>HRe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:g>Cf&&this._append`A${n},${n},0,${+(g>=gO)},${f},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function lD(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new GRe(e)}function cD(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Cte(t){this._context=t}Cte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yj(t){return new Cte(t)}function Ete(t){return t[0]}function Pte(t){return t[1]}function kte(t,e){var r=dn(!0),n=null,i=yj,a=null,o=lD(l);t=typeof t=="function"?t:t===void 0?Ete:dn(t),e=typeof e=="function"?e:e===void 0?Pte:dn(e);function l(c){var u,d=(c=cD(c)).length,f,g=!1,v;for(n==null&&(a=i(v=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(f,u,c),+e(f,u,c));if(v)return a=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:dn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:dn(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:dn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),l):n},l}function Lb(t,e,r){var n=null,i=dn(!0),a=null,o=yj,l=null,c=lD(u);t=typeof t=="function"?t:t===void 0?Ete:dn(+t),e=typeof e=="function"?e:dn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Pte:dn(+r);function u(f){var g,v,y,b=(f=cD(f)).length,_,j=!1,N,C=new Array(b),A=new Array(b);for(a==null&&(l=o(N=c())),g=0;g<=b;++g){if(!(g<b&&i(_=f[g],g,f))===j)if(j=!j)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=g-1;y>=v;--y)l.point(C[y],A[y]);l.lineEnd(),l.areaEnd()}j&&(C[g]=+t(_,g,f),A[g]=+e(_,g,f),l.point(n?+n(_,g,f):C[g],r?+r(_,g,f):A[g]))}if(N)return l=null,N+""||null}function d(){return kte().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:dn(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:dn(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:dn(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:dn(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:dn(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:dn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:dn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(l=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=l=null:l=o(a=f),u):a},u}class Ate{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function ZRe(t){return new Ate(t,!0)}function YRe(t){return new Ate(t,!1)}const uD={draw(t,e){const r=Zo(e/c_);t.moveTo(r,0),t.arc(0,0,r,0,vj)}},XRe={draw(t,e){const r=Zo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Tte=Zo(1/3),JRe=Tte*2,QRe={draw(t,e){const r=Zo(e/JRe),n=r*Tte;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},eMe={draw(t,e){const r=Zo(e),n=-r/2;t.rect(n,n,r,r)}},tMe=.8908130915292852,Ote=l_(c_/10)/l_(7*c_/10),rMe=l_(vj/10)*Ote,nMe=-Ste(vj/10)*Ote,iMe={draw(t,e){const r=Zo(e*tMe),n=rMe*r,i=nMe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const o=vj*a/5,l=Ste(o),c=l_(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},C2=Zo(3),sMe={draw(t,e){const r=-Zo(e/(C2*3));t.moveTo(0,r*2),t.lineTo(-C2*r,-r),t.lineTo(C2*r,-r),t.closePath()}},Ua=-.5,Va=Zo(3)/2,yO=1/Zo(12),aMe=(yO/2+1)*3,oMe={draw(t,e){const r=Zo(e/aMe),n=r/2,i=r*yO,a=n,o=r*yO+r,l=-a,c=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(l,c),t.lineTo(Ua*n-Va*i,Va*n+Ua*i),t.lineTo(Ua*a-Va*o,Va*a+Ua*o),t.lineTo(Ua*l-Va*c,Va*l+Ua*c),t.lineTo(Ua*n+Va*i,Ua*i-Va*n),t.lineTo(Ua*a+Va*o,Ua*o-Va*a),t.lineTo(Ua*l+Va*c,Ua*c-Va*l),t.closePath()}};function lMe(t,e){let r=null,n=lD(i);t=typeof t=="function"?t:dn(t||uD),e=typeof e=="function"?e:dn(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:dn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:dn(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function u_(){}function d_(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Rte(t){this._context=t}Rte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:d_(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:d_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function cMe(t){return new Rte(t)}function Mte(t){this._context=t}Mte.prototype={areaStart:u_,areaEnd:u_,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:d_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function uMe(t){return new Mte(t)}function Ite(t){this._context=t}Ite.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:d_(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function dMe(t){return new Ite(t)}function Dte(t){this._context=t}Dte.prototype={areaStart:u_,areaEnd:u_,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function fMe(t){return new Dte(t)}function T8(t){return t<0?-1:1}function O8(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(a*i+o*n)/(n+i);return(T8(a)+T8(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(l))||0}function R8(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function E2(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,l=(a-n)/3;t._context.bezierCurveTo(n+l,i+l*e,a-l,o-l*r,a,o)}function f_(t){this._context=t}f_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:E2(this,this._t0,R8(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,E2(this,R8(this,r=O8(this,t,e)),r);break;default:E2(this,this._t0,r=O8(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Lte(t){this._context=new $te(t)}(Lte.prototype=Object.create(f_.prototype)).point=function(t,e){f_.prototype.point.call(this,e,t)};function $te(t){this._context=t}$te.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function hMe(t){return new f_(t)}function pMe(t){return new Lte(t)}function Fte(t){this._context=t}Fte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=M8(t),i=M8(e),a=0,o=1;o<r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function M8(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function mMe(t){return new Fte(t)}function xj(t,e){this._context=t,this._t=e}xj.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function gMe(t){return new xj(t,.5)}function vMe(t){return new xj(t,0)}function yMe(t){return new xj(t,1)}function pm(t,e){if((o=t.length)>1)for(var r=1,n,i,a=t[e[0]],o,l=a.length;r<o;++r)for(i=a,a=t[e[r]],n=0;n<l;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function xO(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function xMe(t,e){return t[e]}function bMe(t){const e=[];return e.key=t,e}function wMe(){var t=dn([]),e=xO,r=pm,n=xMe;function i(a){var o=Array.from(t.apply(this,arguments),bMe),l,c=o.length,u=-1,d;for(const f of a)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,a)]).data=f;for(l=0,d=cD(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:dn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:dn(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?xO:typeof a=="function"?a:dn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??pm,i):r},i}function _Me(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,o;i<a;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}pm(t,e)}}function jMe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}pm(t,e)}}function SMe(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,o;n<a;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,g=d[n-1][1]||0,v=(f-g)/2,y=0;y<l;++y){var b=t[e[y]],_=b[n][1]||0,j=b[n-1][1]||0;v+=_-j}c+=f,u+=v*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,pm(t,e)}}function vy(t){"@babel/helpers - typeof";return vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vy(t)}var NMe=["type","size","sizeType"];function bO(){return bO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bO.apply(this,arguments)}function I8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(r),!0).forEach(function(n){CMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CMe(t,e,r){return e=EMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EMe(t){var e=PMe(t,"string");return vy(e)=="symbol"?e:e+""}function PMe(t,e){if(vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kMe(t,e){if(t==null)return{};var r=AMe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function AMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Bte={symbolCircle:uD,symbolCross:XRe,symbolDiamond:QRe,symbolSquare:eMe,symbolStar:iMe,symbolTriangle:sMe,symbolWye:oMe},TMe=Math.PI/180,OMe=function(e){var r="symbol".concat(gj(e));return Bte[r]||uD},RMe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*TMe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},MMe=function(e,r){Bte["symbol".concat(gj(e))]=r},dD=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,a=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=kMe(e,NMe),u=D8(D8({},c),{},{type:n,size:a,sizeType:l}),d=function(){var _=OMe(n),j=lMe().type(_).size(RMe(a,l,n));return j()},f=u.className,g=u.cx,v=u.cy,y=fr(u,!0);return g===+g&&v===+v&&a===+a?ne.createElement("path",bO({},y,{className:mr("recharts-symbols",f),transform:"translate(".concat(g,", ").concat(v,")"),d:d()})):null};dD.registerSymbol=MMe;function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function wO(){return wO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wO.apply(this,arguments)}function L8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L8(Object(r),!0).forEach(function(n){yy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function DMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qte(n.key),n)}}function $Me(t,e,r){return e&&LMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function FMe(t,e,r){return e=h_(e),BMe(t,zte()?Reflect.construct(e,r||[],h_(t).constructor):e.apply(t,r))}function BMe(t,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zMe(t)}function zMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zte=function(){return!!t})()}function h_(t){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h_(t)}function qMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_O(t,e)}function _O(t,e){return _O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},_O(t,e)}function yy(t,e,r){return e=qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qte(t){var e=UMe(t,"string");return mm(e)=="symbol"?e:e+""}function UMe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wa=32,fD=function(t){function e(){return DMe(this,e),FMe(this,e,arguments)}return qMe(e,t),$Me(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,a=Wa/2,o=Wa/6,l=Wa/3,c=n.inactive?i:n.color;if(n.type==="plainline")return ne.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:a,x2:Wa,y2:a,className:"recharts-legend-icon"});if(n.type==="line")return ne.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(a,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(a,`
            H`).concat(Wa,"M").concat(2*l,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(a),className:"recharts-legend-icon"});if(n.type==="rect")return ne.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Wa/8,"h").concat(Wa,"v").concat(Wa*3/4,"h").concat(-Wa,"z"),className:"recharts-legend-icon"});if(ne.isValidElement(n.legendIcon)){var u=IMe({},n);return delete u.legendIcon,ne.cloneElement(n.legendIcon,u)}return ne.createElement(dD,{fill:c,cx:a,cy:a,size:Wa,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,a=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Wa,height:Wa},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(v,y){var b=v.formatter||c,_=mr(yy(yy({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",v.inactive));if(v.type==="none")return null;var j=tr(v.value)?null:v.value;Fo(!tr(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?u:v.color;return ne.createElement("li",wO({className:_,style:f,key:"legend-item-".concat(y)},gy(n.props,v,y)),ne.createElement(pO,{width:o,height:o,viewBox:d,style:g},n.renderIcon(v)),ne.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},b?b(j,v,y):j))})}},{key:"render",value:function(){var n=this.props,i=n.payload,a=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return ne.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);yy(fD,"displayName","Legend");yy(fD,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var P2,$8;function VMe(){if($8)return P2;$8=1;var t=hj();function e(){this.__data__=new t,this.size=0}return P2=e,P2}var k2,F8;function WMe(){if(F8)return k2;F8=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return k2=t,k2}var A2,B8;function HMe(){if(B8)return A2;B8=1;function t(e){return this.__data__.get(e)}return A2=t,A2}var T2,z8;function KMe(){if(z8)return T2;z8=1;function t(e){return this.__data__.has(e)}return T2=t,T2}var O2,q8;function GMe(){if(q8)return O2;q8=1;var t=hj(),e=rD(),r=nD(),n=200;function i(a,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([a,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(a,o),this.size=l.size,this}return O2=i,O2}var R2,U8;function Ute(){if(U8)return R2;U8=1;var t=hj(),e=VMe(),r=WMe(),n=HMe(),i=KMe(),a=GMe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=a,R2=o,R2}var M2,V8;function ZMe(){if(V8)return M2;V8=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return M2=e,M2}var I2,W8;function YMe(){if(W8)return I2;W8=1;function t(e){return this.__data__.has(e)}return I2=t,I2}var D2,H8;function Vte(){if(H8)return D2;H8=1;var t=nD(),e=ZMe(),r=YMe();function n(i){var a=-1,o=i==null?0:i.length;for(this.__data__=new t;++a<o;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,D2=n,D2}var L2,K8;function Wte(){if(K8)return L2;K8=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return L2=t,L2}var $2,G8;function Hte(){if(G8)return $2;G8=1;function t(e,r){return e.has(r)}return $2=t,$2}var F2,Z8;function Kte(){if(Z8)return F2;Z8=1;var t=Vte(),e=Wte(),r=Hte(),n=1,i=2;function a(o,l,c,u,d,f){var g=c&n,v=o.length,y=l.length;if(v!=y&&!(g&&y>v))return!1;var b=f.get(o),_=f.get(l);if(b&&_)return b==l&&_==o;var j=-1,N=!0,C=c&i?new t:void 0;for(f.set(o,l),f.set(l,o);++j<v;){var A=o[j],E=l[j];if(u)var P=g?u(E,A,j,l,o,f):u(A,E,j,o,l,f);if(P!==void 0){if(P)continue;N=!1;break}if(C){if(!e(l,function(O,I){if(!r(C,I)&&(A===O||d(A,O,c,u,f)))return C.push(I)})){N=!1;break}}else if(!(A===E||d(A,E,c,u,f))){N=!1;break}}return f.delete(o),f.delete(l),N}return F2=a,F2}var B2,Y8;function XMe(){if(Y8)return B2;Y8=1;var t=Ul(),e=t.Uint8Array;return B2=e,B2}var z2,X8;function JMe(){if(X8)return z2;X8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return z2=t,z2}var q2,J8;function hD(){if(J8)return q2;J8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return q2=t,q2}var U2,Q8;function QMe(){if(Q8)return U2;Q8=1;var t=Fx(),e=XMe(),r=tD(),n=Kte(),i=JMe(),a=hD(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",g="[object Number]",v="[object RegExp]",y="[object Set]",b="[object String]",_="[object Symbol]",j="[object ArrayBuffer]",N="[object DataView]",C=t?t.prototype:void 0,A=C?C.valueOf:void 0;function E(P,O,I,F,H,U,z){switch(I){case N:if(P.byteLength!=O.byteLength||P.byteOffset!=O.byteOffset)return!1;P=P.buffer,O=O.buffer;case j:return!(P.byteLength!=O.byteLength||!U(new e(P),new e(O)));case c:case u:case g:return r(+P,+O);case d:return P.name==O.name&&P.message==O.message;case v:case b:return P==O+"";case f:var V=i;case y:var X=F&o;if(V||(V=a),P.size!=O.size&&!X)return!1;var te=z.get(P);if(te)return te==O;F|=l,z.set(P,O);var le=n(V(P),V(O),F,H,U,z);return z.delete(P),le;case _:if(A)return A.call(P)==A.call(O)}return!1}return U2=E,U2}var V2,ez;function Gte(){if(ez)return V2;ez=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return V2=t,V2}var W2,tz;function eIe(){if(tz)return W2;tz=1;var t=Gte(),e=Ys();function r(n,i,a){var o=i(n);return e(n)?o:t(o,a(n))}return W2=r,W2}var H2,rz;function tIe(){if(rz)return H2;rz=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[a++]=l)}return o}return H2=t,H2}var K2,nz;function rIe(){if(nz)return K2;nz=1;function t(){return[]}return K2=t,K2}var G2,iz;function nIe(){if(iz)return G2;iz=1;var t=tIe(),e=rIe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return G2=a,G2}var Z2,sz;function iIe(){if(sz)return Z2;sz=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return Z2=t,Z2}var Y2,az;function sIe(){if(az)return Y2;az=1;var t=cu(),e=uu(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return Y2=n,Y2}var X2,oz;function pD(){if(oz)return X2;oz=1;var t=sIe(),e=uu(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return X2=a,X2}var Av={exports:{}},J2,lz;function aIe(){if(lz)return J2;lz=1;function t(){return!1}return J2=t,J2}Av.exports;var cz;function Zte(){return cz||(cz=1,function(t,e){var r=Ul(),n=aIe(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(Av,Av.exports)),Av.exports}var Q2,uz;function mD(){if(uz)return Q2;uz=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return Q2=r,Q2}var eP,dz;function gD(){if(dz)return eP;dz=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return eP=e,eP}var tP,fz;function oIe(){if(fz)return tP;fz=1;var t=cu(),e=gD(),r=uu(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",g="[object RegExp]",v="[object Set]",y="[object String]",b="[object WeakMap]",_="[object ArrayBuffer]",j="[object DataView]",N="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",E="[object Int16Array]",P="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",U={};U[N]=U[C]=U[A]=U[E]=U[P]=U[O]=U[I]=U[F]=U[H]=!0,U[n]=U[i]=U[_]=U[a]=U[j]=U[o]=U[l]=U[c]=U[u]=U[d]=U[f]=U[g]=U[v]=U[y]=U[b]=!1;function z(V){return r(V)&&e(V.length)&&!!U[t(V)]}return tP=z,tP}var rP,hz;function Yte(){if(hz)return rP;hz=1;function t(e){return function(r){return e(r)}}return rP=t,rP}var Tv={exports:{}};Tv.exports;var pz;function lIe(){return pz||(pz=1,function(t,e){var r=gte(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,o=a&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(Tv,Tv.exports)),Tv.exports}var nP,mz;function Xte(){if(mz)return nP;mz=1;var t=oIe(),e=Yte(),r=lIe(),n=r&&r.isTypedArray,i=n?e(n):t;return nP=i,nP}var iP,gz;function cIe(){if(gz)return iP;gz=1;var t=iIe(),e=pD(),r=Ys(),n=Zte(),i=mD(),a=Xte(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),g=!f&&e(u),v=!f&&!g&&n(u),y=!f&&!g&&!v&&a(u),b=f||g||v||y,_=b?t(u.length,String):[],j=_.length;for(var N in u)(d||l.call(u,N))&&!(b&&(N=="length"||v&&(N=="offset"||N=="parent")||y&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,j)))&&_.push(N);return _}return iP=c,iP}var sP,vz;function uIe(){if(vz)return sP;vz=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return sP=e,sP}var aP,yz;function Jte(){if(yz)return aP;yz=1;function t(e,r){return function(n){return e(r(n))}}return aP=t,aP}var oP,xz;function dIe(){if(xz)return oP;xz=1;var t=Jte(),e=t(Object.keys,Object);return oP=e,oP}var lP,bz;function fIe(){if(bz)return lP;bz=1;var t=uIe(),e=dIe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var o=[];for(var l in Object(a))n.call(a,l)&&l!="constructor"&&o.push(l);return o}return lP=i,lP}var cP,wz;function zx(){if(wz)return cP;wz=1;var t=eD(),e=gD();function r(n){return n!=null&&e(n.length)&&!t(n)}return cP=r,cP}var uP,_z;function bj(){if(_z)return uP;_z=1;var t=cIe(),e=fIe(),r=zx();function n(i){return r(i)?t(i):e(i)}return uP=n,uP}var dP,jz;function hIe(){if(jz)return dP;jz=1;var t=eIe(),e=nIe(),r=bj();function n(i){return t(i,r,e)}return dP=n,dP}var fP,Sz;function pIe(){if(Sz)return fP;Sz=1;var t=hIe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,o,l,c,u,d){var f=l&e,g=t(a),v=g.length,y=t(o),b=y.length;if(v!=b&&!f)return!1;for(var _=v;_--;){var j=g[_];if(!(f?j in o:n.call(o,j)))return!1}var N=d.get(a),C=d.get(o);if(N&&C)return N==o&&C==a;var A=!0;d.set(a,o),d.set(o,a);for(var E=f;++_<v;){j=g[_];var P=a[j],O=o[j];if(c)var I=f?c(O,P,j,o,a,d):c(P,O,j,a,o,d);if(!(I===void 0?P===O||u(P,O,l,c,d):I)){A=!1;break}E||(E=j=="constructor")}if(A&&!E){var F=a.constructor,H=o.constructor;F!=H&&"constructor"in a&&"constructor"in o&&!(typeof F=="function"&&F instanceof F&&typeof H=="function"&&H instanceof H)&&(A=!1)}return d.delete(a),d.delete(o),A}return fP=i,fP}var hP,Nz;function mIe(){if(Nz)return hP;Nz=1;var t=_h(),e=Ul(),r=t(e,"DataView");return hP=r,hP}var pP,Cz;function gIe(){if(Cz)return pP;Cz=1;var t=_h(),e=Ul(),r=t(e,"Promise");return pP=r,pP}var mP,Ez;function Qte(){if(Ez)return mP;Ez=1;var t=_h(),e=Ul(),r=t(e,"Set");return mP=r,mP}var gP,Pz;function vIe(){if(Pz)return gP;Pz=1;var t=_h(),e=Ul(),r=t(e,"WeakMap");return gP=r,gP}var vP,kz;function yIe(){if(kz)return vP;kz=1;var t=mIe(),e=rD(),r=gIe(),n=Qte(),i=vIe(),a=cu(),o=vte(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",g="[object DataView]",v=o(t),y=o(e),b=o(r),_=o(n),j=o(i),N=a;return(t&&N(new t(new ArrayBuffer(1)))!=g||e&&N(new e)!=l||r&&N(r.resolve())!=u||n&&N(new n)!=d||i&&N(new i)!=f)&&(N=function(C){var A=a(C),E=A==c?C.constructor:void 0,P=E?o(E):"";if(P)switch(P){case v:return g;case y:return l;case b:return u;case _:return d;case j:return f}return A}),vP=N,vP}var yP,Az;function xIe(){if(Az)return yP;Az=1;var t=Ute(),e=Kte(),r=QMe(),n=pIe(),i=yIe(),a=Ys(),o=Zte(),l=Xte(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function y(b,_,j,N,C,A){var E=a(b),P=a(_),O=E?d:i(b),I=P?d:i(_);O=O==u?f:O,I=I==u?f:I;var F=O==f,H=I==f,U=O==I;if(U&&o(b)){if(!o(_))return!1;E=!0,F=!1}if(U&&!F)return A||(A=new t),E||l(b)?e(b,_,j,N,C,A):r(b,_,O,j,N,C,A);if(!(j&c)){var z=F&&v.call(b,"__wrapped__"),V=H&&v.call(_,"__wrapped__");if(z||V){var X=z?b.value():b,te=V?_.value():_;return A||(A=new t),C(X,te,j,N,A)}}return U?(A||(A=new t),n(b,_,j,N,C,A)):!1}return yP=y,yP}var xP,Tz;function vD(){if(Tz)return xP;Tz=1;var t=xIe(),e=uu();function r(n,i,a,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,o,r,l)}return xP=r,xP}var bP,Oz;function bIe(){if(Oz)return bP;Oz=1;var t=Ute(),e=vD(),r=1,n=2;function i(a,o,l,c){var u=l.length,d=u,f=!c;if(a==null)return!d;for(a=Object(a);u--;){var g=l[u];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++u<d;){g=l[u];var v=g[0],y=a[v],b=g[1];if(f&&g[2]){if(y===void 0&&!(v in a))return!1}else{var _=new t;if(c)var j=c(y,b,v,a,o,_);if(!(j===void 0?e(b,y,r|n,c,_):j))return!1}}return!0}return bP=i,bP}var wP,Rz;function ere(){if(Rz)return wP;Rz=1;var t=qd();function e(r){return r===r&&!t(r)}return wP=e,wP}var _P,Mz;function wIe(){if(Mz)return _P;Mz=1;var t=ere(),e=bj();function r(n){for(var i=e(n),a=i.length;a--;){var o=i[a],l=n[o];i[a]=[o,l,t(l)]}return i}return _P=r,_P}var jP,Iz;function tre(){if(Iz)return jP;Iz=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return jP=t,jP}var SP,Dz;function _Ie(){if(Dz)return SP;Dz=1;var t=bIe(),e=wIe(),r=tre();function n(i){var a=e(i);return a.length==1&&a[0][2]?r(a[0][0],a[0][1]):function(o){return o===i||t(o,i,a)}}return SP=n,SP}var NP,Lz;function jIe(){if(Lz)return NP;Lz=1;function t(e,r){return e!=null&&r in Object(e)}return NP=t,NP}var CP,$z;function SIe(){if($z)return CP;$z=1;var t=bte(),e=pD(),r=Ys(),n=mD(),i=gD(),a=mj();function o(l,c,u){c=t(c,l);for(var d=-1,f=c.length,g=!1;++d<f;){var v=a(c[d]);if(!(g=l!=null&&u(l,v)))break;l=l[v]}return g||++d!=f?g:(f=l==null?0:l.length,!!f&&i(f)&&n(v,f)&&(r(l)||e(l)))}return CP=o,CP}var EP,Fz;function NIe(){if(Fz)return EP;Fz=1;var t=jIe(),e=SIe();function r(n,i){return n!=null&&e(n,i,t)}return EP=r,EP}var PP,Bz;function CIe(){if(Bz)return PP;Bz=1;var t=vD(),e=wte(),r=NIe(),n=QI(),i=ere(),a=tre(),o=mj(),l=1,c=2;function u(d,f){return n(d)&&i(f)?a(o(d),f):function(g){var v=e(g,d);return v===void 0&&v===f?r(g,d):t(f,v,l|c)}}return PP=u,PP}var kP,zz;function cg(){if(zz)return kP;zz=1;function t(e){return e}return kP=t,kP}var AP,qz;function EIe(){if(qz)return AP;qz=1;function t(e){return function(r){return r?.[e]}}return AP=t,AP}var TP,Uz;function PIe(){if(Uz)return TP;Uz=1;var t=sD();function e(r){return function(n){return t(n,r)}}return TP=e,TP}var OP,Vz;function kIe(){if(Vz)return OP;Vz=1;var t=EIe(),e=PIe(),r=QI(),n=mj();function i(a){return r(a)?t(n(a)):e(a)}return OP=i,OP}var RP,Wz;function Ud(){if(Wz)return RP;Wz=1;var t=_Ie(),e=CIe(),r=cg(),n=Ys(),i=kIe();function a(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return RP=a,RP}var MP,Hz;function rre(){if(Hz)return MP;Hz=1;function t(e,r,n,i){for(var a=e.length,o=n+(i?1:-1);i?o--:++o<a;)if(r(e[o],o,e))return o;return-1}return MP=t,MP}var IP,Kz;function AIe(){if(Kz)return IP;Kz=1;function t(e){return e!==e}return IP=t,IP}var DP,Gz;function TIe(){if(Gz)return DP;Gz=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return DP=t,DP}var LP,Zz;function OIe(){if(Zz)return LP;Zz=1;var t=rre(),e=AIe(),r=TIe();function n(i,a,o){return a===a?r(i,a,o):t(i,e,o)}return LP=n,LP}var $P,Yz;function RIe(){if(Yz)return $P;Yz=1;var t=OIe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return $P=e,$P}var FP,Xz;function MIe(){if(Xz)return FP;Xz=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return FP=t,FP}var BP,Jz;function IIe(){if(Jz)return BP;Jz=1;function t(){}return BP=t,BP}var zP,Qz;function DIe(){if(Qz)return zP;Qz=1;var t=Qte(),e=IIe(),r=hD(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(a){return new t(a)}:e;return zP=i,zP}var qP,eq;function LIe(){if(eq)return qP;eq=1;var t=Vte(),e=RIe(),r=MIe(),n=Hte(),i=DIe(),a=hD(),o=200;function l(c,u,d){var f=-1,g=e,v=c.length,y=!0,b=[],_=b;if(d)y=!1,g=r;else if(v>=o){var j=u?null:i(c);if(j)return a(j);y=!1,g=n,_=new t}else _=u?[]:b;e:for(;++f<v;){var N=c[f],C=u?u(N):N;if(N=d||N!==0?N:0,y&&C===C){for(var A=_.length;A--;)if(_[A]===C)continue e;u&&_.push(C),b.push(N)}else g(_,C,d)||(_!==b&&_.push(C),b.push(N))}return b}return qP=l,qP}var UP,tq;function $Ie(){if(tq)return UP;tq=1;var t=Ud(),e=LIe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return UP=r,UP}var FIe=$Ie();const rq=Er(FIe);function nre(t,e,r){return e===!0?rq(t,r):tr(e)?rq(t,e):t}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}var BIe=["ref"];function nq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nq(Object(r),!0).forEach(function(n){wj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function iq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sre(n.key),n)}}function qIe(t,e,r){return e&&iq(t.prototype,e),r&&iq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UIe(t,e,r){return e=p_(e),VIe(t,ire()?Reflect.construct(e,r||[],p_(t).constructor):e.apply(t,r))}function VIe(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WIe(t)}function WIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ire(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ire=function(){return!!t})()}function p_(t){return p_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},p_(t)}function HIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jO(t,e)}function jO(t,e){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},jO(t,e)}function wj(t,e,r){return e=sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sre(t){var e=KIe(t,"string");return gm(e)=="symbol"?e:e+""}function KIe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function GIe(t,e){if(t==null)return{};var r=ZIe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YIe(t){return t.value}function XIe(t,e){if(ne.isValidElement(t))return ne.cloneElement(t,e);if(typeof t=="function")return ne.createElement(t,e);e.ref;var r=GIe(e,BIe);return ne.createElement(fD,r)}var sq=1,Sd=function(t){function e(){var r;zIe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=UIe(this,e,[].concat(i)),wj(r,"lastBoundingBox",{width:-1,height:-1}),r}return HIe(e,t),qIe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>sq||Math.abs(i.height-this.lastBoundingBox.height)>sq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Nc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,a=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&a==="vertical"){var v=this.getBBoxSnapshot();f={left:((u||0)-v.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();g={top:((d||0)-y.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Nc(Nc({},f),g)}},{key:"render",value:function(){var n=this,i=this.props,a=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=Nc(Nc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return ne.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){n.wrapperNode=v}},XIe(a,Nc(Nc({},this.props),{},{payload:nre(d,u,YIe)})))}}],[{key:"getWithHeight",value:function(n,i){var a=Nc(Nc({},this.defaultProps),n.props),o=a.layout;return o==="vertical"&&ft(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);wj(Sd,"displayName","Legend");wj(Sd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VP,aq;function JIe(){if(aq)return VP;aq=1;var t=Fx(),e=pD(),r=Ys(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return VP=i,VP}var WP,oq;function are(){if(oq)return WP;oq=1;var t=Gte(),e=JIe();function r(n,i,a,o,l){var c=-1,u=n.length;for(a||(a=e),l||(l=[]);++c<u;){var d=n[c];i>0&&a(d)?i>1?r(d,i-1,a,o,l):t(l,d):o||(l[l.length]=d)}return l}return WP=r,WP}var HP,lq;function QIe(){if(lq)return HP;lq=1;function t(e){return function(r,n,i){for(var a=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[e?c:++a];if(n(o[u],u,o)===!1)break}return r}}return HP=t,HP}var KP,cq;function eDe(){if(cq)return KP;cq=1;var t=QIe(),e=t();return KP=e,KP}var GP,uq;function ore(){if(uq)return GP;uq=1;var t=eDe(),e=bj();function r(n,i){return n&&t(n,i,e)}return GP=r,GP}var ZP,dq;function tDe(){if(dq)return ZP;dq=1;var t=zx();function e(r,n){return function(i,a){if(i==null)return i;if(!t(i))return r(i,a);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&a(c[l],l,c)!==!1;);return i}}return ZP=e,ZP}var YP,fq;function yD(){if(fq)return YP;fq=1;var t=ore(),e=tDe(),r=e(t);return YP=r,YP}var XP,hq;function lre(){if(hq)return XP;hq=1;var t=yD(),e=zx();function r(n,i){var a=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++a]=i(l,c,u)}),o}return XP=r,XP}var JP,pq;function rDe(){if(pq)return JP;pq=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return JP=t,JP}var QP,mq;function nDe(){if(mq)return QP;mq=1;var t=ag();function e(r,n){if(r!==n){var i=r!==void 0,a=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||a&&c&&d||!i&&d||!o)return 1;if(!a&&!l&&!f&&r<n||f&&i&&o&&!a&&!l||u&&i&&o||!c&&o||!d)return-1}return 0}return QP=e,QP}var ek,gq;function iDe(){if(gq)return ek;gq=1;var t=nDe();function e(r,n,i){for(var a=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++a<c;){var d=t(o[a],l[a]);if(d){if(a>=u)return d;var f=i[a];return d*(f=="desc"?-1:1)}}return r.index-n.index}return ek=e,ek}var tk,vq;function sDe(){if(vq)return tk;vq=1;var t=iD(),e=sD(),r=Ud(),n=lre(),i=rDe(),a=Yte(),o=iDe(),l=cg(),c=Ys();function u(d,f,g){f.length?f=t(f,function(b){return c(b)?function(_){return e(_,b.length===1?b[0]:b)}:b}):f=[l];var v=-1;f=t(f,a(r));var y=n(d,function(b,_,j){var N=t(f,function(C){return C(b)});return{criteria:N,index:++v,value:b}});return i(y,function(b,_){return o(b,_,g)})}return tk=u,tk}var rk,yq;function aDe(){if(yq)return rk;yq=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return rk=t,rk}var nk,xq;function oDe(){if(xq)return nk;xq=1;var t=aDe(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=o[l];return d[i]=a(u),t(n,this,d)}}return nk=r,nk}var ik,bq;function lDe(){if(bq)return ik;bq=1;function t(e){return function(){return e}}return ik=t,ik}var sk,wq;function cre(){if(wq)return sk;wq=1;var t=_h(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return sk=e,sk}var ak,_q;function cDe(){if(_q)return ak;_q=1;var t=lDe(),e=cre(),r=cg(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return ak=n,ak}var ok,jq;function uDe(){if(jq)return ok;jq=1;var t=800,e=16,r=Date.now;function n(i){var a=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return ok=n,ok}var lk,Sq;function dDe(){if(Sq)return lk;Sq=1;var t=cDe(),e=uDe(),r=e(t);return lk=r,lk}var ck,Nq;function fDe(){if(Nq)return ck;Nq=1;var t=cg(),e=oDe(),r=dDe();function n(i,a){return r(e(i,a,t),i+"")}return ck=n,ck}var uk,Cq;function _j(){if(Cq)return uk;Cq=1;var t=tD(),e=zx(),r=mD(),n=qd();function i(a,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],a):!1}return uk=i,uk}var dk,Eq;function hDe(){if(Eq)return dk;Eq=1;var t=are(),e=sDe(),r=fDe(),n=_j(),i=r(function(a,o){if(a==null)return[];var l=o.length;return l>1&&n(a,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(a,t(o,1),[])});return dk=i,dk}var pDe=hDe();const xD=Er(pDe);function xy(t){"@babel/helpers - typeof";return xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xy(t)}function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SO.apply(this,arguments)}function mDe(t,e){return xDe(t)||yDe(t,e)||vDe(t,e)||gDe()}function gDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vDe(t,e){if(t){if(typeof t=="string")return Pq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pq(t,e)}}function Pq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function xDe(t){if(Array.isArray(t))return t}function kq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kq(Object(r),!0).forEach(function(n){bDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bDe(t,e,r){return e=wDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wDe(t){var e=_De(t,"string");return xy(e)=="symbol"?e:e+""}function _De(t,e){if(xy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jDe(t){return Array.isArray(t)&&bi(t[0])&&bi(t[1])?t.join(" ~ "):t}var SDe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,g=e.itemSorter,v=e.wrapperClassName,y=e.labelClassName,b=e.label,_=e.labelFormatter,j=e.accessibilityLayer,N=j===void 0?!1:j,C=function(){if(d&&d.length){var z={padding:0,margin:0},V=(g?xD(d,g):d).map(function(X,te){if(X.type==="none")return null;var le=fk({display:"block",paddingTop:4,paddingBottom:4,color:X.color||"#000"},l),W=X.formatter||f||jDe,re=X.value,G=X.name,ie=re,Z=G;if(W&&ie!=null&&Z!=null){var de=W(re,G,X,te,d);if(Array.isArray(de)){var Se=mDe(de,2);ie=Se[0],Z=Se[1]}else ie=de}return ne.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(te),style:le},bi(Z)?ne.createElement("span",{className:"recharts-tooltip-item-name"},Z):null,bi(Z)?ne.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,ne.createElement("span",{className:"recharts-tooltip-item-value"},ie),ne.createElement("span",{className:"recharts-tooltip-item-unit"},X.unit||""))});return ne.createElement("ul",{className:"recharts-tooltip-item-list",style:z},V)}return null},A=fk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=fk({margin:0},u),P=!nr(b),O=P?b:"",I=mr("recharts-default-tooltip",v),F=mr("recharts-tooltip-label",y);P&&_&&d!==void 0&&d!==null&&(O=_(b,d));var H=N?{role:"status","aria-live":"assertive"}:{};return ne.createElement("div",SO({className:I,style:A},H),ne.createElement("p",{className:F,style:E},ne.isValidElement(O)?O:"".concat(O)),C())};function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function $b(t,e,r){return e=NDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NDe(t){var e=CDe(t,"string");return by(e)=="symbol"?e:e+""}function CDe(t,e){if(by(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lv="recharts-tooltip-wrapper",EDe={visibility:"hidden"};function PDe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return mr(lv,$b($b($b($b({},"".concat(lv,"-right"),ft(r)&&e&&ft(e.x)&&r>=e.x),"".concat(lv,"-left"),ft(r)&&e&&ft(e.x)&&r<e.x),"".concat(lv,"-bottom"),ft(n)&&e&&ft(e.y)&&n>=e.y),"".concat(lv,"-top"),ft(n)&&e&&ft(e.y)&&n<e.y))}function Aq(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(a&&ft(a[n]))return a[n];var d=r[n]-l-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var g=d,v=c[n];return g<v?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,b=c[n]+u;return y>b?Math.max(d,c[n]):Math.max(f,c[n])}function kDe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ADe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=Aq({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Aq({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=kDe({translateX:d,translateY:f,useTranslate3d:l})):u=EDe,{cssProperties:u,cssClasses:PDe({translateX:d,translateY:f,coordinate:r})}}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function Tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(r),!0).forEach(function(n){CO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ODe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dre(n.key),n)}}function RDe(t,e,r){return e&&ODe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MDe(t,e,r){return e=m_(e),IDe(t,ure()?Reflect.construct(e,r||[],m_(t).constructor):e.apply(t,r))}function IDe(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DDe(t)}function DDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ure(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ure=function(){return!!t})()}function m_(t){return m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m_(t)}function LDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NO(t,e)}function NO(t,e){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NO(t,e)}function CO(t,e,r){return e=dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dre(t){var e=$De(t,"string");return vm(e)=="symbol"?e:e+""}function $De(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rq=1,FDe=function(t){function e(){var r;TDe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=MDe(this,e,[].concat(i)),CO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),CO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return LDe(e,t),RDe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Rq||Math.abs(n.height-this.state.lastBoundingBox.height)>Rq)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,g=i.isAnimationActive,v=i.offset,y=i.position,b=i.reverseDirection,_=i.useTranslate3d,j=i.viewBox,N=i.wrapperStyle,C=ADe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:v,position:y,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:j}),A=C.cssClasses,E=C.cssProperties,P=Oq(Oq({transition:g&&a?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},N);return ne.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(I){n.wrapperNode=I}},u)}}])}(x.PureComponent),BDe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jh={isSsr:BDe()};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function Mq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mq(Object(r),!0).forEach(function(n){bD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hre(n.key),n)}}function UDe(t,e,r){return e&&qDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VDe(t,e,r){return e=g_(e),WDe(t,fre()?Reflect.construct(e,r||[],g_(t).constructor):e.apply(t,r))}function WDe(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HDe(t)}function HDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fre=function(){return!!t})()}function g_(t){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g_(t)}function KDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},EO(t,e)}function bD(t,e,r){return e=hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hre(t){var e=GDe(t,"string");return ym(e)=="symbol"?e:e+""}function GDe(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ZDe(t){return t.dataKey}function YDe(t,e){return ne.isValidElement(t)?ne.cloneElement(t,e):typeof t=="function"?ne.createElement(t,e):ne.createElement(SDe,e)}var xs=function(t){function e(){return zDe(this,e),VDe(this,e,arguments)}return KDe(e,t),UDe(e,[{key:"render",value:function(){var n=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,g=i.isAnimationActive,v=i.offset,y=i.payload,b=i.payloadUniqBy,_=i.position,j=i.reverseDirection,N=i.useTranslate3d,C=i.viewBox,A=i.wrapperStyle,E=y??[];f&&E.length&&(E=nre(y.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),b,ZDe));var P=E.length>0;return ne.createElement(FDe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:a,coordinate:d,hasPayload:P,offset:v,position:_,reverseDirection:j,useTranslate3d:N,viewBox:C,wrapperStyle:A},YDe(u,Iq(Iq({},this.props),{},{payload:E})))}}])}(x.PureComponent);bD(xs,"displayName","Tooltip");bD(xs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var hk,Dq;function XDe(){if(Dq)return hk;Dq=1;var t=Ul(),e=function(){return t.Date.now()};return hk=e,hk}var pk,Lq;function JDe(){if(Lq)return pk;Lq=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return pk=e,pk}var mk,$q;function QDe(){if($q)return mk;$q=1;var t=JDe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return mk=r,mk}var gk,Fq;function pre(){if(Fq)return gk;Fq=1;var t=QDe(),e=qd(),r=ag(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=a.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):i.test(u)?n:+u}return gk=c,gk}var vk,Bq;function eLe(){if(Bq)return vk;Bq=1;var t=qd(),e=XDe(),r=pre(),n="Expected a function",i=Math.max,a=Math.min;function o(l,c,u){var d,f,g,v,y,b,_=0,j=!1,N=!1,C=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(j=!!u.leading,N="maxWait"in u,g=N?i(r(u.maxWait)||0,c):g,C="trailing"in u?!!u.trailing:C);function A(V){var X=d,te=f;return d=f=void 0,_=V,v=l.apply(te,X),v}function E(V){return _=V,y=setTimeout(I,c),j?A(V):v}function P(V){var X=V-b,te=V-_,le=c-X;return N?a(le,g-te):le}function O(V){var X=V-b,te=V-_;return b===void 0||X>=c||X<0||N&&te>=g}function I(){var V=e();if(O(V))return F(V);y=setTimeout(I,P(V))}function F(V){return y=void 0,C&&d?A(V):(d=f=void 0,v)}function H(){y!==void 0&&clearTimeout(y),_=0,d=b=f=y=void 0}function U(){return y===void 0?v:F(e())}function z(){var V=e(),X=O(V);if(d=arguments,f=this,b=V,X){if(y===void 0)return E(b);if(N)return clearTimeout(y),y=setTimeout(I,c),A(b)}return y===void 0&&(y=setTimeout(I,c)),v}return z.cancel=H,z.flush=U,z}return vk=o,vk}var yk,zq;function tLe(){if(zq)return yk;zq=1;var t=eLe(),e=qd(),r="Expected a function";function n(i,a,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,a,{leading:l,maxWait:a,trailing:c})}return yk=n,yk}var rLe=tLe();const mre=Er(rLe);function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qq(Object(r),!0).forEach(function(n){nLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nLe(t,e,r){return e=iLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iLe(t){var e=sLe(t,"string");return wy(e)=="symbol"?e:e+""}function sLe(t,e){if(wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aLe(t,e){return uLe(t)||cLe(t,e)||lLe(t,e)||oLe()}function oLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lLe(t,e){if(t){if(typeof t=="string")return Uq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uq(t,e)}}function Uq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uLe(t){if(Array.isArray(t))return t}var yp=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,a=t.width,o=a===void 0?"100%":a,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,g=t.maxHeight,v=t.children,y=t.debounce,b=y===void 0?0:y,_=t.id,j=t.className,N=t.onResize,C=t.style,A=C===void 0?{}:C,E=x.useRef(null),P=x.useRef();P.current=N,x.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var O=x.useState({containerWidth:i.width,containerHeight:i.height}),I=aLe(O,2),F=I[0],H=I[1],U=x.useCallback(function(V,X){H(function(te){var le=Math.round(V),W=Math.round(X);return te.containerWidth===le&&te.containerHeight===W?te:{containerWidth:le,containerHeight:W}})},[]);x.useEffect(function(){var V=function(G){var ie,Z=G[0].contentRect,de=Z.width,Se=Z.height;U(de,Se),(ie=P.current)===null||ie===void 0||ie.call(P,de,Se)};b>0&&(V=mre(V,b,{trailing:!0,leading:!1}));var X=new ResizeObserver(V),te=E.current.getBoundingClientRect(),le=te.width,W=te.height;return U(le,W),X.observe(E.current),function(){X.disconnect()}},[U,b]);var z=x.useMemo(function(){var V=F.containerWidth,X=F.containerHeight;if(V<0||X<0)return null;Fo(If(o)||If(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Fo(!r||r>0,"The aspect(%s) must be greater than zero.",r);var te=If(o)?V:o,le=If(c)?X:c;r&&r>0&&(te?le=te/r:le&&(te=le*r),g&&le>g&&(le=g)),Fo(te>0||le>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,te,le,o,c,d,f,r);var W=!Array.isArray(v)&&Hc(v.type).endsWith("Chart");return ne.Children.map(v,function(re){return ne.isValidElement(re)?x.cloneElement(re,Fb({width:te,height:le},W?{style:Fb({height:"100%",width:"100%",maxHeight:le,maxWidth:te},re.props.style)}:{})):re})},[r,v,c,g,f,d,F,o]);return ne.createElement("div",{id:_?"".concat(_):void 0,className:mr("recharts-responsive-container",j),style:Fb(Fb({},A),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:g}),ref:E},z)}),_y=function(e){return null};_y.displayName="Cell";function jy(t){"@babel/helpers - typeof";return jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jy(t)}function Vq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(r),!0).forEach(function(n){dLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dLe(t,e,r){return e=fLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fLe(t){var e=hLe(t,"string");return jy(e)=="symbol"?e:e+""}function hLe(t,e){if(jy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xp={widthCache:{},cacheCount:0},pLe=2e3,mLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Wq="recharts_measurement_span";function gLe(t){var e=PO({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Uv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jh.isSsr)return{width:0,height:0};var n=gLe(r),i=JSON.stringify({text:e,copyStyle:n});if(xp.widthCache[i])return xp.widthCache[i];try{var a=document.getElementById(Wq);a||(a=document.createElement("span"),a.setAttribute("id",Wq),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=PO(PO({},mLe),n);Object.assign(a.style,o),a.textContent="".concat(e);var l=a.getBoundingClientRect(),c={width:l.width,height:l.height};return xp.widthCache[i]=c,++xp.cacheCount>pLe&&(xp.cacheCount=0,xp.widthCache={}),c}catch{return{width:0,height:0}}},vLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}function v_(t,e){return wLe(t)||bLe(t,e)||xLe(t,e)||yLe()}function yLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xLe(t,e){if(t){if(typeof t=="string")return Hq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Hq(t,e)}}function Hq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wLe(t){if(Array.isArray(t))return t}function _Le(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SLe(n.key),n)}}function jLe(t,e,r){return e&&Kq(t.prototype,e),r&&Kq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function SLe(t){var e=NLe(t,"string");return Sy(e)=="symbol"?e:e+""}function NLe(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Gq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Zq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,ELe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,gre={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},PLe=Object.keys(gre),Dp="NaN";function kLe(t,e){return t*gre[e]}var Bb=function(){function t(e,r){_Le(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!CLe.test(r)&&(this.num=NaN,this.unit=""),PLe.includes(r)&&(this.num=kLe(e,r),this.unit="px")}return jLe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=ELe.exec(r))!==null&&n!==void 0?n:[],a=v_(i,3),o=a[1],l=a[2];return new t(parseFloat(o),l??"")}}])}();function vre(t){if(t.includes(Dp))return Dp;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Gq.exec(e))!==null&&r!==void 0?r:[],i=v_(n,4),a=i[1],o=i[2],l=i[3],c=Bb.parse(a??""),u=Bb.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return Dp;e=e.replace(Gq,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,g=(f=Zq.exec(e))!==null&&f!==void 0?f:[],v=v_(g,4),y=v[1],b=v[2],_=v[3],j=Bb.parse(y??""),N=Bb.parse(_??""),C=b==="+"?j.add(N):j.subtract(N);if(C.isNaN())return Dp;e=e.replace(Zq,C.toString())}return e}var Yq=/\(([^()]*)\)/;function ALe(t){for(var e=t;e.includes("(");){var r=Yq.exec(e),n=v_(r,2),i=n[1];e=e.replace(Yq,vre(i))}return e}function TLe(t){var e=t.replace(/\s+/g,"");return e=ALe(e),e=vre(e),e}function OLe(t){try{return TLe(t)}catch{return Dp}}function xk(t){var e=OLe(t.slice(5,-1));return e===Dp?"":e}var RLe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],MLe=["dx","dy","angle","className","breakAll"];function kO(){return kO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kO.apply(this,arguments)}function Xq(t,e){if(t==null)return{};var r=ILe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ILe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jq(t,e){return FLe(t)||$Le(t,e)||LLe(t,e)||DLe()}function DLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LLe(t,e){if(t){if(typeof t=="string")return Qq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qq(t,e)}}function Qq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $Le(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function FLe(t){if(Array.isArray(t))return t}var yre=/[ \f\n\r\t\v\u2028\u2029]+/,xre=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var a=[];nr(r)||(n?a=r.toString().split(""):a=r.toString().split(yre));var o=a.map(function(c){return{word:c,width:Uv(c,i).width}}),l=n?0:Uv(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},BLe=function(e,r,n,i,a){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ft(o),f=l,g=function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return te.reduce(function(le,W){var re=W.word,G=W.width,ie=le[le.length-1];if(ie&&(i==null||a||ie.width+G+n<Number(i)))ie.words.push(re),ie.width+=G+n;else{var Z={words:[re],width:G};le.push(Z)}return le},[])},v=g(r),y=function(te){return te.reduce(function(le,W){return le.width>W.width?le:W})};if(!d)return v;for(var b="…",_=function(te){var le=f.slice(0,te),W=xre({breakAll:u,style:c,children:le+b}).wordsWithComputedWidth,re=g(W),G=re.length>o||y(re).width>Number(i);return[G,re]},j=0,N=f.length-1,C=0,A;j<=N&&C<=f.length-1;){var E=Math.floor((j+N)/2),P=E-1,O=_(P),I=Jq(O,2),F=I[0],H=I[1],U=_(E),z=Jq(U,1),V=z[0];if(!F&&!V&&(j=E+1),F&&V&&(N=E-1),!F&&V){A=H;break}C++}return A||v},eU=function(e){var r=nr(e)?[]:e.toString().split(yre);return[{words:r}]},zLe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!jh.isSsr){var c,u,d=xre({breakAll:o,children:i,style:a});if(d){var f=d.wordsWithComputedWidth,g=d.spaceWidth;c=f,u=g}else return eU(i);return BLe({breakAll:o,children:i,maxLines:l,style:a},c,u,r,n)}return eU(i)},tU="#808080",Ny=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,g=e.textAnchor,v=g===void 0?"start":g,y=e.verticalAnchor,b=y===void 0?"end":y,_=e.fill,j=_===void 0?tU:_,N=Xq(e,RLe),C=x.useMemo(function(){return zLe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:f,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,f,N.style,N.width]),A=N.dx,E=N.dy,P=N.angle,O=N.className,I=N.breakAll,F=Xq(N,MLe);if(!bi(n)||!bi(a))return null;var H=n+(ft(A)?A:0),U=a+(ft(E)?E:0),z;switch(b){case"start":z=xk("calc(".concat(u,")"));break;case"middle":z=xk("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:z=xk("calc(".concat(C.length-1," * -").concat(l,")"));break}var V=[];if(f){var X=C[0].width,te=N.width;V.push("scale(".concat((ft(te)?te/X:1)/X,")"))}return P&&V.push("rotate(".concat(P,", ").concat(H,", ").concat(U,")")),V.length&&(F.transform=V.join(" ")),ne.createElement("text",kO({},fr(F,!0),{x:H,y:U,className:mr("recharts-text",O),textAnchor:v,fill:j.includes("url")?tU:j}),C.map(function(le,W){var re=le.words.join(I?"":" ");return ne.createElement("tspan",{x:H,dy:W===0?z:l,key:"".concat(re,"-").concat(W)},re)}))};function Nd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function qLe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wD(t){let e,r,n;t.length!==2?(e=Nd,r=(l,c)=>Nd(t(l),c),n=(l,c)=>t(l)-c):(e=t===Nd||t===qLe?t:ULe,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:a}}function ULe(){return 0}function bre(t){return t===null?NaN:+t}function*VLe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const WLe=wD(Nd),qx=WLe.right;wD(bre).center;class rU extends Map{constructor(e,r=GLe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(nU(this,e))}has(e){return super.has(nU(this,e))}set(e,r){return super.set(HLe(this,e),r)}delete(e){return super.delete(KLe(this,e))}}function nU({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function HLe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function KLe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function GLe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ZLe(t=Nd){if(t===Nd)return wre;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function wre(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const YLe=Math.sqrt(50),XLe=Math.sqrt(10),JLe=Math.sqrt(2);function y_(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),o=a>=YLe?10:a>=XLe?5:a>=JLe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?y_(t,e,r*2):[l,c,u]}function AO(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,o]=n?y_(e,t,r):y_(t,e,r);if(!(a>=i))return[];const l=a-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(a-u)/-o;else for(let u=0;u<l;++u)c[u]=(a-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function TO(t,e,r){return e=+e,t=+t,r=+r,y_(t,e,r)[2]}function OO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?TO(e,t,r):TO(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function iU(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function sU(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function _re(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?wre:ZLe(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(e-u*f/c+g)),y=Math.min(n,Math.floor(e+(c-u)*f/c+g));_re(t,e,v,y,i)}const a=t[e];let o=r,l=n;for(cv(t,r,e),i(t[n],a)>0&&cv(t,r,n);o<l;){for(cv(t,o,l),++o,--l;i(t[o],a)<0;)++o;for(;i(t[l],a)>0;)--l}i(t[r],a)===0?cv(t,r,l):(++l,cv(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function cv(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function QLe(t,e,r){if(t=Float64Array.from(VLe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return sU(t);if(e>=1)return iU(t);var n,i=(n-1)*e,a=Math.floor(i),o=iU(_re(t,a).subarray(0,a+1)),l=sU(t.subarray(a+1));return o+(l-o)*(i-a)}}function e4e(t,e,r=bre){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t),l=+r(t[a+1],a+1,t);return o+(l-o)*(i-a)}}function t4e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function lo(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function du(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const RO=Symbol("implicit");function _D(){var t=new rU,e=[],r=[],n=RO;function i(a){let o=t.get(a);if(o===void 0){if(n!==RO)return n;t.set(a,o=e.push(a)-1)}return r[o%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new rU;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return _D(e,r).unknown(n)},lo.apply(i,arguments),i}function Cy(){var t=_D().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var g=e().length,v=i<n,y=v?i:n,b=v?n:i;a=(b-y)/Math.max(1,g-c+u*2),l&&(a=Math.floor(a)),y+=(b-y-a*(g-c))*d,o=a*(1-c),l&&(y=Math.round(y),o=Math.round(o));var _=t4e(g).map(function(j){return y+a*j});return r(v?_.reverse():_)}return t.domain=function(g){return arguments.length?(e(g),f()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(g){return arguments.length?(l=!!g,f()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),f()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),f()):c},t.paddingOuter=function(g){return arguments.length?(u=+g,f()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),f()):d},t.copy=function(){return Cy(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},lo.apply(f(),arguments)}function jre(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return jre(e())},t}function Vv(){return jre(Cy.apply(null,arguments).paddingInner(1))}function jD(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Sre(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Ux(){}var Ey=.7,x_=1/Ey,Kp="\\s*([+-]?\\d+)\\s*",Py="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Pl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",r4e=/^#([0-9a-f]{3,8})$/,n4e=new RegExp(`^rgb\\(${Kp},${Kp},${Kp}\\)$`),i4e=new RegExp(`^rgb\\(${Pl},${Pl},${Pl}\\)$`),s4e=new RegExp(`^rgba\\(${Kp},${Kp},${Kp},${Py}\\)$`),a4e=new RegExp(`^rgba\\(${Pl},${Pl},${Pl},${Py}\\)$`),o4e=new RegExp(`^hsl\\(${Py},${Pl},${Pl}\\)$`),l4e=new RegExp(`^hsla\\(${Py},${Pl},${Pl},${Py}\\)$`),aU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};jD(Ux,ky,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:oU,formatHex:oU,formatHex8:c4e,formatHsl:u4e,formatRgb:lU,toString:lU});function oU(){return this.rgb().formatHex()}function c4e(){return this.rgb().formatHex8()}function u4e(){return Nre(this).formatHsl()}function lU(){return this.rgb().formatRgb()}function ky(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=r4e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?cU(e):r===3?new Vs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?zb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?zb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=n4e.exec(t))?new Vs(e[1],e[2],e[3],1):(e=i4e.exec(t))?new Vs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=s4e.exec(t))?zb(e[1],e[2],e[3],e[4]):(e=a4e.exec(t))?zb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=o4e.exec(t))?fU(e[1],e[2]/100,e[3]/100,1):(e=l4e.exec(t))?fU(e[1],e[2]/100,e[3]/100,e[4]):aU.hasOwnProperty(t)?cU(aU[t]):t==="transparent"?new Vs(NaN,NaN,NaN,0):null}function cU(t){return new Vs(t>>16&255,t>>8&255,t&255,1)}function zb(t,e,r,n){return n<=0&&(t=e=r=NaN),new Vs(t,e,r,n)}function d4e(t){return t instanceof Ux||(t=ky(t)),t?(t=t.rgb(),new Vs(t.r,t.g,t.b,t.opacity)):new Vs}function MO(t,e,r,n){return arguments.length===1?d4e(t):new Vs(t,e,r,n??1)}function Vs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}jD(Vs,MO,Sre(Ux,{brighter(t){return t=t==null?x_:Math.pow(x_,t),new Vs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Ey:Math.pow(Ey,t),new Vs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Vs(Kf(this.r),Kf(this.g),Kf(this.b),b_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uU,formatHex:uU,formatHex8:f4e,formatRgb:dU,toString:dU}));function uU(){return`#${Df(this.r)}${Df(this.g)}${Df(this.b)}`}function f4e(){return`#${Df(this.r)}${Df(this.g)}${Df(this.b)}${Df((isNaN(this.opacity)?1:this.opacity)*255)}`}function dU(){const t=b_(this.opacity);return`${t===1?"rgb(":"rgba("}${Kf(this.r)}, ${Kf(this.g)}, ${Kf(this.b)}${t===1?")":`, ${t})`}`}function b_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Kf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Df(t){return t=Kf(t),(t<16?"0":"")+t.toString(16)}function fU(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Do(t,e,r,n)}function Nre(t){if(t instanceof Do)return new Do(t.h,t.s,t.l,t.opacity);if(t instanceof Ux||(t=ky(t)),!t)return new Do;if(t instanceof Do)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),o=NaN,l=a-i,c=(a+i)/2;return l?(e===a?o=(r-n)/l+(r<n)*6:r===a?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?a+i:2-a-i,o*=60):l=c>0&&c<1?0:o,new Do(o,l,c,t.opacity)}function h4e(t,e,r,n){return arguments.length===1?Nre(t):new Do(t,e,r,n??1)}function Do(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}jD(Do,h4e,Sre(Ux,{brighter(t){return t=t==null?x_:Math.pow(x_,t),new Do(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Ey:Math.pow(Ey,t),new Do(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Vs(bk(t>=240?t-240:t+120,i,n),bk(t,i,n),bk(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Do(hU(this.h),qb(this.s),qb(this.l),b_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=b_(this.opacity);return`${t===1?"hsl(":"hsla("}${hU(this.h)}, ${qb(this.s)*100}%, ${qb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function hU(t){return t=(t||0)%360,t<0?t+360:t}function qb(t){return Math.max(0,Math.min(1,t||0))}function bk(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const SD=t=>()=>t;function p4e(t,e){return function(r){return t+r*e}}function m4e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function g4e(t){return(t=+t)==1?Cre:function(e,r){return r-e?m4e(e,r,t):SD(isNaN(e)?r:e)}}function Cre(t,e){var r=e-t;return r?p4e(t,r):SD(isNaN(t)?e:t)}const pU=function t(e){var r=g4e(e);function n(i,a){var o=r((i=MO(i)).r,(a=MO(a)).r),l=r(i.g,a.g),c=r(i.b,a.b),u=Cre(i.opacity,a.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function v4e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function y4e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function x4e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),o;for(o=0;o<n;++o)i[o]=ug(t[o],e[o]);for(;o<r;++o)a[o]=e[o];return function(l){for(o=0;o<n;++o)a[o]=i[o](l);return a}}function b4e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function w_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function w4e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=ug(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var IO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wk=new RegExp(IO.source,"g");function _4e(t){return function(){return t}}function j4e(t){return function(e){return t(e)+""}}function S4e(t,e){var r=IO.lastIndex=wk.lastIndex=0,n,i,a,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=IO.exec(t))&&(i=wk.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),l[o]?l[o]+=a:l[++o]=a),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:w_(n,i)})),r=wk.lastIndex;return r<e.length&&(a=e.slice(r),l[o]?l[o]+=a:l[++o]=a),l.length<2?c[0]?j4e(c[0].x):_4e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function ug(t,e){var r=typeof e,n;return e==null||r==="boolean"?SD(e):(r==="number"?w_:r==="string"?(n=ky(e))?(e=n,pU):S4e:e instanceof ky?pU:e instanceof Date?b4e:y4e(e)?v4e:Array.isArray(e)?x4e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?w4e:w_)(t,e)}function ND(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function N4e(t,e){e===void 0&&(e=t,t=ug);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return a[l](o-l)}}function C4e(t){return function(){return t}}function __(t){return+t}var mU=[0,1];function _s(t){return t}function DO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:C4e(isNaN(e)?NaN:.5)}function E4e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function P4e(t,e,r){var n=t[0],i=t[1],a=e[0],o=e[1];return i<n?(n=DO(i,n),a=r(o,a)):(n=DO(n,i),a=r(a,o)),function(l){return a(n(l))}}function k4e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=DO(t[o],t[o+1]),a[o]=r(e[o],e[o+1]);return function(l){var c=qx(t,l,1,n)-1;return a[c](i[c](l))}}function Vx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function jj(){var t=mU,e=mU,r=ug,n,i,a,o=_s,l,c,u;function d(){var g=Math.min(t.length,e.length);return o!==_s&&(o=E4e(t[0],t[g-1])),l=g>2?k4e:P4e,c=u=null,f}function f(g){return g==null||isNaN(g=+g)?a:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return f.invert=function(g){return o(i((u||(u=l(e,t.map(n),w_)))(g)))},f.domain=function(g){return arguments.length?(t=Array.from(g,__),d()):t.slice()},f.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},f.rangeRound=function(g){return e=Array.from(g),r=ND,d()},f.clamp=function(g){return arguments.length?(o=g?!0:_s,d()):o!==_s},f.interpolate=function(g){return arguments.length?(r=g,d()):r},f.unknown=function(g){return arguments.length?(a=g,f):a},function(g,v){return n=g,i=v,d()}}function CD(){return jj()(_s,_s)}function A4e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function j_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function xm(t){return t=j_(Math.abs(t)),t?t[1]:NaN}function T4e(t,e){return function(r,n){for(var i=r.length,a=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),a.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return a.reverse().join(e)}}function O4e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var R4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ay(t){if(!(e=R4e.exec(t)))throw new Error("invalid format: "+t);var e;return new ED({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ay.prototype=ED.prototype;function ED(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ED.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function M4e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Ere;function I4e(t,e){var r=j_(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(Ere=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return a===o?n:a>o?n+new Array(a-o+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+j_(t,Math.max(0,e+a-1))[0]}function gU(t,e){var r=j_(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const vU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:A4e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>gU(t*100,e),r:gU,s:I4e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function yU(t){return t}var xU=Array.prototype.map,bU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function D4e(t){var e=t.grouping===void 0||t.thousands===void 0?yU:T4e(xU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?yU:O4e(xU.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=Ay(f);var g=f.fill,v=f.align,y=f.sign,b=f.symbol,_=f.zero,j=f.width,N=f.comma,C=f.precision,A=f.trim,E=f.type;E==="n"?(N=!0,E="g"):vU[E]||(C===void 0&&(C=12),A=!0,E="g"),(_||g==="0"&&v==="=")&&(_=!0,g="0",v="=");var P=b==="$"?r:b==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",O=b==="$"?n:/[%p]/.test(E)?o:"",I=vU[E],F=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function H(U){var z=P,V=O,X,te,le;if(E==="c")V=I(U)+V,U="";else{U=+U;var W=U<0||1/U<0;if(U=isNaN(U)?c:I(Math.abs(U),C),A&&(U=M4e(U)),W&&+U==0&&y!=="+"&&(W=!1),z=(W?y==="("?y:l:y==="-"||y==="("?"":y)+z,V=(E==="s"?bU[8+Ere/3]:"")+V+(W&&y==="("?")":""),F){for(X=-1,te=U.length;++X<te;)if(le=U.charCodeAt(X),48>le||le>57){V=(le===46?i+U.slice(X+1):U.slice(X))+V,U=U.slice(0,X);break}}}N&&!_&&(U=e(U,1/0));var re=z.length+U.length+V.length,G=re<j?new Array(j-re+1).join(g):"";switch(N&&_&&(U=e(G+U,G.length?j-V.length:1/0),G=""),v){case"<":U=z+U+V+G;break;case"=":U=z+G+U+V;break;case"^":U=G.slice(0,re=G.length>>1)+z+U+V+G.slice(re);break;default:U=G+z+U+V;break}return a(U)}return H.toString=function(){return f+""},H}function d(f,g){var v=u((f=Ay(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(xm(g)/3)))*3,b=Math.pow(10,-y),_=bU[8+y/3];return function(j){return v(b*j)+_}}return{format:u,formatPrefix:d}}var Ub,PD,Pre;L4e({thousands:",",grouping:[3],currency:["$",""]});function L4e(t){return Ub=D4e(t),PD=Ub.format,Pre=Ub.formatPrefix,Ub}function $4e(t){return Math.max(0,-xm(Math.abs(t)))}function F4e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(xm(e)/3)))*3-xm(Math.abs(t)))}function B4e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,xm(e)-xm(t))+1}function kre(t,e,r,n){var i=OO(t,e,r),a;switch(n=Ay(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=F4e(i,o))&&(n.precision=a),Pre(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=B4e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=$4e(i))&&(n.precision=a-(n.type==="%")*2);break}}return PD(n)}function Vd(t){var e=t.domain;return t.ticks=function(r){var n=e();return AO(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return kre(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,o=n[i],l=n[a],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=a,a=u);d-- >0;){if(u=TO(o,l,r),u===c)return n[i]=o,n[a]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function S_(){var t=CD();return t.copy=function(){return Vx(t,S_())},lo.apply(t,arguments),Vd(t)}function Are(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,__),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Are(t).unknown(e)},t=arguments.length?Array.from(t,__):[0,1],Vd(r)}function Tre(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],o;return a<i&&(o=r,r=n,n=o,o=i,i=a,a=o),t[r]=e.floor(i),t[n]=e.ceil(a),t}function wU(t){return Math.log(t)}function _U(t){return Math.exp(t)}function z4e(t){return-Math.log(-t)}function q4e(t){return-Math.exp(-t)}function U4e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function V4e(t){return t===10?U4e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function W4e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function jU(t){return(e,r)=>-t(-e,r)}function kD(t){const e=t(wU,_U),r=e.domain;let n=10,i,a;function o(){return i=W4e(n),a=V4e(n),r()[0]<0?(i=jU(i),a=jU(a),t(z4e,q4e)):t(wU,_U),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let g=i(u),v=i(d),y,b;const _=l==null?10:+l;let j=[];if(!(n%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(y=1;y<n;++y)if(b=g<0?y/a(-g):y*a(g),!(b<u)){if(b>d)break;j.push(b)}}else for(;g<=v;++g)for(y=n-1;y>=1;--y)if(b=g>0?y/a(-g):y*a(g),!(b<u)){if(b>d)break;j.push(b)}j.length*2<_&&(j=AO(u,d,_))}else j=AO(g,v,Math.min(v-g,_)).map(a);return f?j.reverse():j},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ay(c)).precision==null&&(c.trim=!0),c=PD(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(Tre(r(),{floor:l=>a(Math.floor(i(l))),ceil:l=>a(Math.ceil(i(l)))})),e}function Ore(){const t=kD(jj()).domain([1,10]);return t.copy=()=>Vx(t,Ore()).base(t.base()),lo.apply(t,arguments),t}function SU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function NU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AD(t){var e=1,r=t(SU(e),NU(e));return r.constant=function(n){return arguments.length?t(SU(e=+n),NU(e)):e},Vd(r)}function Rre(){var t=AD(jj());return t.copy=function(){return Vx(t,Rre()).constant(t.constant())},lo.apply(t,arguments)}function CU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function H4e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function K4e(t){return t<0?-t*t:t*t}function TD(t){var e=t(_s,_s),r=1;function n(){return r===1?t(_s,_s):r===.5?t(H4e,K4e):t(CU(r),CU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Vd(e)}function OD(){var t=TD(jj());return t.copy=function(){return Vx(t,OD()).exponent(t.exponent())},lo.apply(t,arguments),t}function G4e(){return OD.apply(null,arguments).exponent(.5)}function EU(t){return Math.sign(t)*t*t}function Z4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Mre(){var t=CD(),e=[0,1],r=!1,n;function i(a){var o=Z4e(t(a));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(a){return t.invert(EU(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,__)).map(EU)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Mre(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},lo.apply(i,arguments),Vd(i)}function Ire(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=e4e(t,o/l);return a}function a(o){return o==null||isNaN(o=+o)?n:e[qx(r,o)]}return a.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Nd),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(n=o,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return Ire().domain(t).range(e).unknown(n)},lo.apply(a,arguments)}function Dre(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function o(c){return c!=null&&c<=c?i[qx(n,c,0,r)]:a}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(a=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Dre().domain([t,e]).range(i).unknown(a)},lo.apply(Vd(o),arguments)}function Lre(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[qx(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Lre().domain(t).range(e).unknown(r)},lo.apply(i,arguments)}const _k=new Date,jk=new Date;function wi(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),l=i.ceil(a);return a-o<l-a?o:l},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,l)=>{const c=[];if(a=i.ceil(a),l=l==null?1:Math.floor(l),!(a<o)||!(l>0))return c;let u;do c.push(u=new Date(+a)),e(a,l),t(a);while(u<a&&a<o);return c},i.filter=a=>wi(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!a(o););else for(;--l>=0;)for(;e(o,1),!a(o););}),r&&(i.count=(a,o)=>(_k.setTime(+a),jk.setTime(+o),t(_k),t(jk),Math.floor(r(_k,jk))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?o=>n(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const N_=wi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);N_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?wi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):N_);N_.range;const Mc=1e3,Ja=Mc*60,Ic=Ja*60,tu=Ic*24,RD=tu*7,PU=tu*30,Sk=tu*365,Lf=wi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Mc)},(t,e)=>(e-t)/Mc,t=>t.getUTCSeconds());Lf.range;const MD=wi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mc)},(t,e)=>{t.setTime(+t+e*Ja)},(t,e)=>(e-t)/Ja,t=>t.getMinutes());MD.range;const ID=wi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ja)},(t,e)=>(e-t)/Ja,t=>t.getUTCMinutes());ID.range;const DD=wi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Mc-t.getMinutes()*Ja)},(t,e)=>{t.setTime(+t+e*Ic)},(t,e)=>(e-t)/Ic,t=>t.getHours());DD.range;const LD=wi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ic)},(t,e)=>(e-t)/Ic,t=>t.getUTCHours());LD.range;const Wx=wi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ja)/tu,t=>t.getDate()-1);Wx.range;const Sj=wi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/tu,t=>t.getUTCDate()-1);Sj.range;const $re=wi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/tu,t=>Math.floor(t/tu));$re.range;function Sh(t){return wi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ja)/RD)}const Nj=Sh(0),C_=Sh(1),Y4e=Sh(2),X4e=Sh(3),bm=Sh(4),J4e=Sh(5),Q4e=Sh(6);Nj.range;C_.range;Y4e.range;X4e.range;bm.range;J4e.range;Q4e.range;function Nh(t){return wi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/RD)}const Cj=Nh(0),E_=Nh(1),e$e=Nh(2),t$e=Nh(3),wm=Nh(4),r$e=Nh(5),n$e=Nh(6);Cj.range;E_.range;e$e.range;t$e.range;wm.range;r$e.range;n$e.range;const $D=wi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$D.range;const FD=wi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FD.range;const ru=wi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ru.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ru.range;const nu=wi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());nu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:wi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});nu.range;function Fre(t,e,r,n,i,a){const o=[[Lf,1,Mc],[Lf,5,5*Mc],[Lf,15,15*Mc],[Lf,30,30*Mc],[a,1,Ja],[a,5,5*Ja],[a,15,15*Ja],[a,30,30*Ja],[i,1,Ic],[i,3,3*Ic],[i,6,6*Ic],[i,12,12*Ic],[n,1,tu],[n,2,2*tu],[r,1,RD],[e,1,PU],[e,3,3*PU],[t,1,Sk]];function l(u,d,f){const g=d<u;g&&([u,d]=[d,u]);const v=f&&typeof f.range=="function"?f:c(u,d,f),y=v?v.range(u,+d+1):[];return g?y.reverse():y}function c(u,d,f){const g=Math.abs(d-u)/f,v=wD(([,,_])=>_).right(o,g);if(v===o.length)return t.every(OO(u/Sk,d/Sk,f));if(v===0)return N_.every(Math.max(OO(u,d,f),1));const[y,b]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return y.every(b)}return[l,c]}const[i$e,s$e]=Fre(nu,FD,Cj,$re,LD,ID),[a$e,o$e]=Fre(ru,$D,Nj,Wx,DD,MD);function Nk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ck(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function uv(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function l$e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=dv(i),d=fv(i),f=dv(a),g=fv(a),v=dv(o),y=fv(o),b=dv(l),_=fv(l),j=dv(c),N=fv(c),C={a:W,A:re,b:G,B:ie,c:null,d:MU,e:MU,f:T$e,g:z$e,G:U$e,H:P$e,I:k$e,j:A$e,L:Bre,m:O$e,M:R$e,p:Z,q:de,Q:LU,s:$U,S:M$e,u:I$e,U:D$e,V:L$e,w:$$e,W:F$e,x:null,X:null,y:B$e,Y:q$e,Z:V$e,"%":DU},A={a:Se,A:Me,b:qe,B:oe,c:null,d:IU,e:IU,f:G$e,g:i3e,G:a3e,H:W$e,I:H$e,j:K$e,L:qre,m:Z$e,M:Y$e,p:ae,q:ge,Q:LU,s:$U,S:X$e,u:J$e,U:Q$e,V:e3e,w:t3e,W:r3e,x:null,X:null,y:n3e,Y:s3e,Z:o3e,"%":DU},E={a:H,A:U,b:z,B:V,c:X,d:OU,e:OU,f:S$e,g:TU,G:AU,H:RU,I:RU,j:b$e,L:j$e,m:x$e,M:w$e,p:F,q:y$e,Q:C$e,s:E$e,S:_$e,u:h$e,U:p$e,V:m$e,w:f$e,W:g$e,x:te,X:le,y:TU,Y:AU,Z:v$e,"%":N$e};C.x=P(r,C),C.X=P(n,C),C.c=P(e,C),A.x=P(r,A),A.X=P(n,A),A.c=P(e,A);function P(ve,Ae){return function(Q){var Y=[],Ee=-1,Ce=0,Qe=ve.length,Ze,Oe,ht;for(Q instanceof Date||(Q=new Date(+Q));++Ee<Qe;)ve.charCodeAt(Ee)===37&&(Y.push(ve.slice(Ce,Ee)),(Oe=kU[Ze=ve.charAt(++Ee)])!=null?Ze=ve.charAt(++Ee):Oe=Ze==="e"?" ":"0",(ht=Ae[Ze])&&(Ze=ht(Q,Oe)),Y.push(Ze),Ce=Ee+1);return Y.push(ve.slice(Ce,Ee)),Y.join("")}}function O(ve,Ae){return function(Q){var Y=uv(1900,void 0,1),Ee=I(Y,ve,Q+="",0),Ce,Qe;if(Ee!=Q.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Ae&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(Ce=Ck(uv(Y.y,0,1)),Qe=Ce.getUTCDay(),Ce=Qe>4||Qe===0?E_.ceil(Ce):E_(Ce),Ce=Sj.offset(Ce,(Y.V-1)*7),Y.y=Ce.getUTCFullYear(),Y.m=Ce.getUTCMonth(),Y.d=Ce.getUTCDate()+(Y.w+6)%7):(Ce=Nk(uv(Y.y,0,1)),Qe=Ce.getDay(),Ce=Qe>4||Qe===0?C_.ceil(Ce):C_(Ce),Ce=Wx.offset(Ce,(Y.V-1)*7),Y.y=Ce.getFullYear(),Y.m=Ce.getMonth(),Y.d=Ce.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),Qe="Z"in Y?Ck(uv(Y.y,0,1)).getUTCDay():Nk(uv(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(Qe+5)%7:Y.w+Y.U*7-(Qe+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,Ck(Y)):Nk(Y)}}function I(ve,Ae,Q,Y){for(var Ee=0,Ce=Ae.length,Qe=Q.length,Ze,Oe;Ee<Ce;){if(Y>=Qe)return-1;if(Ze=Ae.charCodeAt(Ee++),Ze===37){if(Ze=Ae.charAt(Ee++),Oe=E[Ze in kU?Ae.charAt(Ee++):Ze],!Oe||(Y=Oe(ve,Q,Y))<0)return-1}else if(Ze!=Q.charCodeAt(Y++))return-1}return Y}function F(ve,Ae,Q){var Y=u.exec(Ae.slice(Q));return Y?(ve.p=d.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function H(ve,Ae,Q){var Y=v.exec(Ae.slice(Q));return Y?(ve.w=y.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function U(ve,Ae,Q){var Y=f.exec(Ae.slice(Q));return Y?(ve.w=g.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function z(ve,Ae,Q){var Y=j.exec(Ae.slice(Q));return Y?(ve.m=N.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function V(ve,Ae,Q){var Y=b.exec(Ae.slice(Q));return Y?(ve.m=_.get(Y[0].toLowerCase()),Q+Y[0].length):-1}function X(ve,Ae,Q){return I(ve,e,Ae,Q)}function te(ve,Ae,Q){return I(ve,r,Ae,Q)}function le(ve,Ae,Q){return I(ve,n,Ae,Q)}function W(ve){return o[ve.getDay()]}function re(ve){return a[ve.getDay()]}function G(ve){return c[ve.getMonth()]}function ie(ve){return l[ve.getMonth()]}function Z(ve){return i[+(ve.getHours()>=12)]}function de(ve){return 1+~~(ve.getMonth()/3)}function Se(ve){return o[ve.getUTCDay()]}function Me(ve){return a[ve.getUTCDay()]}function qe(ve){return c[ve.getUTCMonth()]}function oe(ve){return l[ve.getUTCMonth()]}function ae(ve){return i[+(ve.getUTCHours()>=12)]}function ge(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Ae=P(ve+="",C);return Ae.toString=function(){return ve},Ae},parse:function(ve){var Ae=O(ve+="",!1);return Ae.toString=function(){return ve},Ae},utcFormat:function(ve){var Ae=P(ve+="",A);return Ae.toString=function(){return ve},Ae},utcParse:function(ve){var Ae=O(ve+="",!0);return Ae.toString=function(){return ve},Ae}}}var kU={"-":"",_:" ",0:"0"},Ii=/^\s*\d+/,c$e=/^%/,u$e=/[\\^$*+?|[\]().{}]/g;function Rr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function d$e(t){return t.replace(u$e,"\\$&")}function dv(t){return new RegExp("^(?:"+t.map(d$e).join("|")+")","i")}function fv(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function f$e(t,e,r){var n=Ii.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function h$e(t,e,r){var n=Ii.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function p$e(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function m$e(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function g$e(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function AU(t,e,r){var n=Ii.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function TU(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function v$e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function y$e(t,e,r){var n=Ii.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function x$e(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function OU(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function b$e(t,e,r){var n=Ii.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function RU(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function w$e(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function _$e(t,e,r){var n=Ii.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function j$e(t,e,r){var n=Ii.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function S$e(t,e,r){var n=Ii.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function N$e(t,e,r){var n=c$e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function C$e(t,e,r){var n=Ii.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function E$e(t,e,r){var n=Ii.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function MU(t,e){return Rr(t.getDate(),e,2)}function P$e(t,e){return Rr(t.getHours(),e,2)}function k$e(t,e){return Rr(t.getHours()%12||12,e,2)}function A$e(t,e){return Rr(1+Wx.count(ru(t),t),e,3)}function Bre(t,e){return Rr(t.getMilliseconds(),e,3)}function T$e(t,e){return Bre(t,e)+"000"}function O$e(t,e){return Rr(t.getMonth()+1,e,2)}function R$e(t,e){return Rr(t.getMinutes(),e,2)}function M$e(t,e){return Rr(t.getSeconds(),e,2)}function I$e(t){var e=t.getDay();return e===0?7:e}function D$e(t,e){return Rr(Nj.count(ru(t)-1,t),e,2)}function zre(t){var e=t.getDay();return e>=4||e===0?bm(t):bm.ceil(t)}function L$e(t,e){return t=zre(t),Rr(bm.count(ru(t),t)+(ru(t).getDay()===4),e,2)}function $$e(t){return t.getDay()}function F$e(t,e){return Rr(C_.count(ru(t)-1,t),e,2)}function B$e(t,e){return Rr(t.getFullYear()%100,e,2)}function z$e(t,e){return t=zre(t),Rr(t.getFullYear()%100,e,2)}function q$e(t,e){return Rr(t.getFullYear()%1e4,e,4)}function U$e(t,e){var r=t.getDay();return t=r>=4||r===0?bm(t):bm.ceil(t),Rr(t.getFullYear()%1e4,e,4)}function V$e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Rr(e/60|0,"0",2)+Rr(e%60,"0",2)}function IU(t,e){return Rr(t.getUTCDate(),e,2)}function W$e(t,e){return Rr(t.getUTCHours(),e,2)}function H$e(t,e){return Rr(t.getUTCHours()%12||12,e,2)}function K$e(t,e){return Rr(1+Sj.count(nu(t),t),e,3)}function qre(t,e){return Rr(t.getUTCMilliseconds(),e,3)}function G$e(t,e){return qre(t,e)+"000"}function Z$e(t,e){return Rr(t.getUTCMonth()+1,e,2)}function Y$e(t,e){return Rr(t.getUTCMinutes(),e,2)}function X$e(t,e){return Rr(t.getUTCSeconds(),e,2)}function J$e(t){var e=t.getUTCDay();return e===0?7:e}function Q$e(t,e){return Rr(Cj.count(nu(t)-1,t),e,2)}function Ure(t){var e=t.getUTCDay();return e>=4||e===0?wm(t):wm.ceil(t)}function e3e(t,e){return t=Ure(t),Rr(wm.count(nu(t),t)+(nu(t).getUTCDay()===4),e,2)}function t3e(t){return t.getUTCDay()}function r3e(t,e){return Rr(E_.count(nu(t)-1,t),e,2)}function n3e(t,e){return Rr(t.getUTCFullYear()%100,e,2)}function i3e(t,e){return t=Ure(t),Rr(t.getUTCFullYear()%100,e,2)}function s3e(t,e){return Rr(t.getUTCFullYear()%1e4,e,4)}function a3e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?wm(t):wm.ceil(t),Rr(t.getUTCFullYear()%1e4,e,4)}function o3e(){return"+0000"}function DU(){return"%"}function LU(t){return+t}function $U(t){return Math.floor(+t/1e3)}var bp,Vre,Wre;l3e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function l3e(t){return bp=l$e(t),Vre=bp.format,bp.parse,Wre=bp.utcFormat,bp.utcParse,bp}function c3e(t){return new Date(t)}function u3e(t){return t instanceof Date?+t:+new Date(+t)}function BD(t,e,r,n,i,a,o,l,c,u){var d=CD(),f=d.invert,g=d.domain,v=u(".%L"),y=u(":%S"),b=u("%I:%M"),_=u("%I %p"),j=u("%a %d"),N=u("%b %d"),C=u("%B"),A=u("%Y");function E(P){return(c(P)<P?v:l(P)<P?y:o(P)<P?b:a(P)<P?_:n(P)<P?i(P)<P?j:N:r(P)<P?C:A)(P)}return d.invert=function(P){return new Date(f(P))},d.domain=function(P){return arguments.length?g(Array.from(P,u3e)):g().map(c3e)},d.ticks=function(P){var O=g();return t(O[0],O[O.length-1],P??10)},d.tickFormat=function(P,O){return O==null?E:u(O)},d.nice=function(P){var O=g();return(!P||typeof P.range!="function")&&(P=e(O[0],O[O.length-1],P??10)),P?g(Tre(O,P)):d},d.copy=function(){return Vx(d,BD(t,e,r,n,i,a,o,l,c,u))},d}function d3e(){return lo.apply(BD(a$e,o$e,ru,$D,Nj,Wx,DD,MD,Lf,Vre).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function f3e(){return lo.apply(BD(i$e,s$e,nu,FD,Cj,Sj,LD,ID,Lf,Wre).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ej(){var t=0,e=1,r,n,i,a,o=_s,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(a(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(g){var v,y;return arguments.length?([v,y]=g,o=f(v,y),u):[o(0),o(1)]}}return u.range=d(ug),u.rangeRound=d(ND),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function Wd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Hre(){var t=Vd(Ej()(_s));return t.copy=function(){return Wd(t,Hre())},du.apply(t,arguments)}function Kre(){var t=kD(Ej()).domain([1,10]);return t.copy=function(){return Wd(t,Kre()).base(t.base())},du.apply(t,arguments)}function Gre(){var t=AD(Ej());return t.copy=function(){return Wd(t,Gre()).constant(t.constant())},du.apply(t,arguments)}function zD(){var t=TD(Ej());return t.copy=function(){return Wd(t,zD()).exponent(t.exponent())},du.apply(t,arguments)}function h3e(){return zD.apply(null,arguments).exponent(.5)}function Zre(){var t=[],e=_s;function r(n){if(n!=null&&!isNaN(n=+n))return e((qx(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Nd),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>QLe(t,a/n))},r.copy=function(){return Zre(e).domain(t)},du.apply(r,arguments)}function Pj(){var t=0,e=.5,r=1,n=1,i,a,o,l,c,u=_s,d,f=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-a)*(n*b<n*a?l:c),u(f?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),a=d(e=+e),o=d(r=+r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,v):[t,e,r]},v.clamp=function(b){return arguments.length?(f=!!b,v):f},v.interpolator=function(b){return arguments.length?(u=b,v):u};function y(b){return function(_){var j,N,C;return arguments.length?([j,N,C]=_,u=N4e(b,[j,N,C]),v):[u(0),u(.5),u(1)]}}return v.range=y(ug),v.rangeRound=y(ND),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return d=b,i=b(t),a=b(e),o=b(r),l=i===a?0:.5/(a-i),c=a===o?0:.5/(o-a),n=a<i?-1:1,v}}function Yre(){var t=Vd(Pj()(_s));return t.copy=function(){return Wd(t,Yre())},du.apply(t,arguments)}function Xre(){var t=kD(Pj()).domain([.1,1,10]);return t.copy=function(){return Wd(t,Xre()).base(t.base())},du.apply(t,arguments)}function Jre(){var t=AD(Pj());return t.copy=function(){return Wd(t,Jre()).constant(t.constant())},du.apply(t,arguments)}function qD(){var t=TD(Pj());return t.copy=function(){return Wd(t,qD()).exponent(t.exponent())},du.apply(t,arguments)}function p3e(){return qD.apply(null,arguments).exponent(.5)}const FU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Cy,scaleDiverging:Yre,scaleDivergingLog:Xre,scaleDivergingPow:qD,scaleDivergingSqrt:p3e,scaleDivergingSymlog:Jre,scaleIdentity:Are,scaleImplicit:RO,scaleLinear:S_,scaleLog:Ore,scaleOrdinal:_D,scalePoint:Vv,scalePow:OD,scaleQuantile:Ire,scaleQuantize:Dre,scaleRadial:Mre,scaleSequential:Hre,scaleSequentialLog:Kre,scaleSequentialPow:zD,scaleSequentialQuantile:Zre,scaleSequentialSqrt:h3e,scaleSequentialSymlog:Gre,scaleSqrt:G4e,scaleSymlog:Rre,scaleThreshold:Lre,scaleTime:d3e,scaleUtc:f3e,tickFormat:kre},Symbol.toStringTag,{value:"Module"}));var Ek,BU;function Qre(){if(BU)return Ek;BU=1;var t=ag();function e(r,n,i){for(var a=-1,o=r.length;++a<o;){var l=r[a],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=l}return d}return Ek=e,Ek}var Pk,zU;function m3e(){if(zU)return Pk;zU=1;function t(e,r){return e>r}return Pk=t,Pk}var kk,qU;function g3e(){if(qU)return kk;qU=1;var t=Qre(),e=m3e(),r=cg();function n(i){return i&&i.length?t(i,r,e):void 0}return kk=n,kk}var v3e=g3e();const kj=Er(v3e);var Ak,UU;function y3e(){if(UU)return Ak;UU=1;function t(e,r){return e<r}return Ak=t,Ak}var Tk,VU;function x3e(){if(VU)return Tk;VU=1;var t=Qre(),e=y3e(),r=cg();function n(i){return i&&i.length?t(i,r,e):void 0}return Tk=n,Tk}var b3e=x3e();const Aj=Er(b3e);var Ok,WU;function w3e(){if(WU)return Ok;WU=1;var t=iD(),e=Ud(),r=lre(),n=Ys();function i(a,o){var l=n(a)?t:r;return l(a,e(o,3))}return Ok=i,Ok}var Rk,HU;function _3e(){if(HU)return Rk;HU=1;var t=are(),e=w3e();function r(n,i){return t(e(n,i),1)}return Rk=r,Rk}var j3e=_3e();const S3e=Er(j3e);var Mk,KU;function N3e(){if(KU)return Mk;KU=1;var t=vD();function e(r,n){return t(r,n)}return Mk=e,Mk}var C3e=N3e();const Hx=Er(C3e);var dg=1e9,E3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},VD,Cn=!0,so="[DecimalError] ",Gf=so+"Invalid argument: ",UD=so+"Exponent out of range: ",fg=Math.floor,Ef=Math.pow,P3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ma,Ai=1e7,xn=7,ene=9007199254740991,P_=fg(ene/xn),_t={};_t.absoluteValue=_t.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_t.comparedTo=_t.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};_t.decimalPlaces=_t.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*xn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};_t.dividedBy=_t.div=function(t){return Kc(this,new this.constructor(t))};_t.dividedToIntegerBy=_t.idiv=function(t){var e=this,r=e.constructor;return sn(Kc(e,new r(t),0,1),r.precision)};_t.equals=_t.eq=function(t){return!this.cmp(t)};_t.exponent=function(){return oi(this)};_t.greaterThan=_t.gt=function(t){return this.cmp(t)>0};_t.greaterThanOrEqualTo=_t.gte=function(t){return this.cmp(t)>=0};_t.isInteger=_t.isint=function(){return this.e>this.d.length-2};_t.isNegative=_t.isneg=function(){return this.s<0};_t.isPositive=_t.ispos=function(){return this.s>0};_t.isZero=function(){return this.s===0};_t.lessThan=_t.lt=function(t){return this.cmp(t)<0};_t.lessThanOrEqualTo=_t.lte=function(t){return this.cmp(t)<1};_t.logarithm=_t.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ma))throw Error(so+"NaN");if(r.s<1)throw Error(so+(r.s?"NaN":"-Infinity"));return r.eq(ma)?new n(0):(Cn=!1,e=Kc(Ty(r,a),Ty(t,a),a),Cn=!0,sn(e,i))};_t.minus=_t.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nne(e,t):tne(e,(t.s=-t.s,t))};_t.modulo=_t.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(so+"NaN");return r.s?(Cn=!1,e=Kc(r,t,0,1).times(t),Cn=!0,r.minus(e)):sn(new n(r),i)};_t.naturalExponential=_t.exp=function(){return rne(this)};_t.naturalLogarithm=_t.ln=function(){return Ty(this)};_t.negated=_t.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_t.plus=_t.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tne(e,t):nne(e,(t.s=-t.s,t))};_t.precision=_t.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Gf+t);if(e=oi(i)+1,n=i.d.length-1,r=n*xn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};_t.squareRoot=_t.sqrt=function(){var t,e,r,n,i,a,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(so+"NaN")}for(t=oi(l),Cn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=bl(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=fg((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(a=n,n=a.plus(Kc(l,a,o+2)).times(.5),bl(a.d).slice(0,o)===(e=bl(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(sn(a,r+1,0),a.times(a).eq(l)){n=a;break}}else if(e!="9999")break;o+=4}return Cn=!0,sn(n,r)};_t.times=_t.mul=function(t){var e,r,n,i,a,o,l,c,u,d=this,f=d.constructor,g=d.d,v=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=g.length,u=v.length,c<u&&(a=g,g=v,v=a,o=c,c=u,u=o),a=[],o=c+u,n=o;n--;)a.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=a[i]+v[n]*g[i-n-1]+e,a[i--]=l%Ai|0,e=l/Ai|0;a[i]=(a[i]+e)%Ai|0}for(;!a[--o];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Cn?sn(t,f.precision):t};_t.toDecimalPlaces=_t.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Ll(t,0,dg),e===void 0?e=n.rounding:Ll(e,0,8),sn(r,t+oi(r)+1,e))};_t.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=oh(n,!0):(Ll(t,0,dg),e===void 0?e=i.rounding:Ll(e,0,8),n=sn(new i(n),t+1,e),r=oh(n,!0,t+1)),r};_t.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?oh(i):(Ll(t,0,dg),e===void 0?e=a.rounding:Ll(e,0,8),n=sn(new a(i),t+oi(i)+1,e),r=oh(n.abs(),!1,t+oi(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};_t.toInteger=_t.toint=function(){var t=this,e=t.constructor;return sn(new e(t),oi(t)+1,e.rounding)};_t.toNumber=function(){return+this};_t.toPower=_t.pow=function(t){var e,r,n,i,a,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(ma);if(l=new c(l),!l.s){if(t.s<1)throw Error(so+"Infinity");return l}if(l.eq(ma))return l;if(n=c.precision,t.eq(ma))return sn(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,a=l.s,o){if((r=d<0?-d:d)<=ene){for(i=new c(ma),e=Math.ceil(n/xn+4),Cn=!1;r%2&&(i=i.times(l),ZU(i.d,e)),r=fg(r/2),r!==0;)l=l.times(l),ZU(l.d,e);return Cn=!0,t.s<0?new c(ma).div(i):sn(i,n)}}else if(a<0)throw Error(so+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Cn=!1,i=t.times(Ty(l,n+u)),Cn=!0,i=rne(i),i.s=a,i};_t.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=oi(i),n=oh(i,r<=a.toExpNeg||r>=a.toExpPos)):(Ll(t,1,dg),e===void 0?e=a.rounding:Ll(e,0,8),i=sn(new a(i),t,e),r=oi(i),n=oh(i,t<=r||r<=a.toExpNeg,t)),n};_t.toSignificantDigits=_t.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Ll(t,1,dg),e===void 0?e=n.rounding:Ll(e,0,8)),sn(new n(r),t,e)};_t.toString=_t.valueOf=_t.val=_t.toJSON=_t[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=oi(t),r=t.constructor;return oh(t,e<=r.toExpNeg||e>=r.toExpPos)};function tne(t,e){var r,n,i,a,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Cn?sn(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),a=o-i,a){for(a<0?(n=c,a=-a,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/xn),l=o>l?o+1:l+1,a>l&&(a=l,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(l=c.length,a=u.length,l-a<0&&(a=l,n=u,u=c,c=n),r=0;a;)r=(c[--a]=c[a]+u[a]+r)/Ai|0,c[a]%=Ai;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Cn?sn(e,f):e}function Ll(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Gf+t)}function bl(t){var e,r,n,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)n=t[e]+"",r=xn-n.length,r&&(a+=od(r)),a+=n;o=t[e],n=o+"",r=xn-n.length,r&&(a+=od(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var Kc=function(){function t(n,i){var a,o=0,l=n.length;for(n=n.slice();l--;)a=n[l]*i+o,n[l]=a%Ai|0,o=a/Ai|0;return o&&n.unshift(o),n}function e(n,i,a,o){var l,c;if(a!=o)c=a>o?1:-1;else for(l=c=0;l<a;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,a){for(var o=0;a--;)n[a]-=o,o=n[a]<i[a]?1:0,n[a]=o*Ai+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,o){var l,c,u,d,f,g,v,y,b,_,j,N,C,A,E,P,O,I,F=n.constructor,H=n.s==i.s?1:-1,U=n.d,z=i.d;if(!n.s)return new F(n);if(!i.s)throw Error(so+"Division by zero");for(c=n.e-i.e,O=z.length,E=U.length,v=new F(H),y=v.d=[],u=0;z[u]==(U[u]||0);)++u;if(z[u]>(U[u]||0)&&--c,a==null?N=a=F.precision:o?N=a+(oi(n)-oi(i))+1:N=a,N<0)return new F(0);if(N=N/xn+2|0,u=0,O==1)for(d=0,z=z[0],N++;(u<E||d)&&N--;u++)C=d*Ai+(U[u]||0),y[u]=C/z|0,d=C%z|0;else{for(d=Ai/(z[0]+1)|0,d>1&&(z=t(z,d),U=t(U,d),O=z.length,E=U.length),A=O,b=U.slice(0,O),_=b.length;_<O;)b[_++]=0;I=z.slice(),I.unshift(0),P=z[0],z[1]>=Ai/2&&++P;do d=0,l=e(z,b,O,_),l<0?(j=b[0],O!=_&&(j=j*Ai+(b[1]||0)),d=j/P|0,d>1?(d>=Ai&&(d=Ai-1),f=t(z,d),g=f.length,_=b.length,l=e(f,b,g,_),l==1&&(d--,r(f,O<g?I:z,g))):(d==0&&(l=d=1),f=z.slice()),g=f.length,g<_&&f.unshift(0),r(b,f,_),l==-1&&(_=b.length,l=e(z,b,O,_),l<1&&(d++,r(b,O<_?I:z,_))),_=b.length):l===0&&(d++,b=[0]),y[u++]=d,l&&b[0]?b[_++]=U[A]||0:(b=[U[A]],_=1);while((A++<E||b[0]!==void 0)&&N--)}return y[0]||y.shift(),v.e=c,sn(v,o?a+oi(v)+1:a)}}();function rne(t,e){var r,n,i,a,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(oi(t)>16)throw Error(UD+oi(t));if(!t.s)return new d(ma);for(Cn=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Ef(2,u))/Math.LN10*2+5|0,l+=n,r=i=a=new d(ma),d.precision=l;;){if(i=sn(i.times(t),l),r=r.times(++c),o=a.plus(Kc(i,r,l)),bl(o.d).slice(0,l)===bl(a.d).slice(0,l)){for(;u--;)a=sn(a.times(a),l);return d.precision=f,e==null?(Cn=!0,sn(a,f)):a}a=o}}function oi(t){for(var e=t.e*xn,r=t.d[0];r>=10;r/=10)e++;return e}function Ik(t,e,r){if(e>t.LN10.sd())throw Cn=!0,r&&(t.precision=r),Error(so+"LN10 precision limit exceeded");return sn(new t(t.LN10),e)}function od(t){for(var e="";t--;)e+="0";return e}function Ty(t,e){var r,n,i,a,o,l,c,u,d,f=1,g=10,v=t,y=v.d,b=v.constructor,_=b.precision;if(v.s<1)throw Error(so+(v.s?"NaN":"-Infinity"));if(v.eq(ma))return new b(0);if(e==null?(Cn=!1,u=_):u=e,v.eq(10))return e==null&&(Cn=!0),Ik(b,u);if(u+=g,b.precision=u,r=bl(y),n=r.charAt(0),a=oi(v),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=bl(v.d),n=r.charAt(0),f++;a=oi(v),n>1?(v=new b("0."+r),a++):v=new b(n+"."+r.slice(1))}else return c=Ik(b,u+2,_).times(a+""),v=Ty(new b(n+"."+r.slice(1)),u-g).plus(c),b.precision=_,e==null?(Cn=!0,sn(v,_)):v;for(l=o=v=Kc(v.minus(ma),v.plus(ma),u),d=sn(v.times(v),u),i=3;;){if(o=sn(o.times(d),u),c=l.plus(Kc(o,new b(i),u)),bl(c.d).slice(0,u)===bl(l.d).slice(0,u))return l=l.times(2),a!==0&&(l=l.plus(Ik(b,u+2,_).times(a+""))),l=Kc(l,new b(f),u),b.precision=_,e==null?(Cn=!0,sn(l,_)):l;l=c,i+=2}}function GU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=fg(r/xn),t.d=[],n=(r+1)%xn,r<0&&(n+=xn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=xn;n<i;)t.d.push(+e.slice(n,n+=xn));e=e.slice(n),n=xn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Cn&&(t.e>P_||t.e<-P_))throw Error(UD+r)}else t.s=0,t.e=0,t.d=[0];return t}function sn(t,e,r){var n,i,a,o,l,c,u,d,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(n=e-o,n<0)n+=xn,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/xn),a=f.length,d>=a)return t;for(u=a=f[d],o=1;a>=10;a/=10)o++;n%=xn,i=n-xn+o}if(r!==void 0&&(a=Ef(10,o-i-1),l=u/a%10|0,c=e<0||f[d+1]!==void 0||u%a,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/Ef(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(a=oi(t),f.length=1,e=e-a-1,f[0]=Ef(10,(xn-e%xn)%xn),t.e=fg(-e/xn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,a=1,d--):(f.length=d+1,a=Ef(10,xn-n),f[d]=i>0?(u/Ef(10,o-i)%Ef(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==Ai&&(f[0]=1,++t.e);break}else{if(f[d]+=a,f[d]!=Ai)break;f[d--]=0,a=1}for(n=f.length;f[--n]===0;)f.pop();if(Cn&&(t.e>P_||t.e<-P_))throw Error(UD+oi(t));return t}function nne(t,e){var r,n,i,a,o,l,c,u,d,f,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Cn?sn(e,v):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(v/xn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=Ai-1;--c[a],c[i]+=Ai}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Cn?sn(e,v):e):new g(0)}function oh(t,e,r){var n,i=oi(t),a=bl(t.d),o=a.length;return e?(r&&(n=r-o)>0?a=a.charAt(0)+"."+a.slice(1)+od(n):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+od(-i-1)+a,r&&(n=r-o)>0&&(a+=od(n))):i>=o?(a+=od(i+1-o),r&&(n=r-i-1)>0&&(a=a+"."+od(n))):((n=i+1)<o&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(a+="."),a+=od(n))),t.s<0?"-"+a:a}function ZU(t,e){if(t.length>e)return t.length=e,!0}function ine(t){var e,r,n;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Gf+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return GU(o,a.toString())}else if(typeof a!="string")throw Error(Gf+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,P3e.test(a))GU(o,a);else throw Error(Gf+a)}if(i.prototype=_t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ine,i.config=i.set=k3e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function k3e(t){if(!t||typeof t!="object")throw Error(so+"Object expected");var e,r,n,i=["precision",1,dg,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(fg(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Gf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gf+r+": "+n);return this}var VD=ine(E3e);ma=new VD(1);const tn=VD;function A3e(t){return M3e(t)||R3e(t)||O3e(t)||T3e()}function T3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O3e(t,e){if(t){if(typeof t=="string")return LO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LO(t,e)}}function R3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function M3e(t){if(Array.isArray(t))return LO(t)}function LO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var I3e=function(e){return e},sne={},ane=function(e){return e===sne},YU=function(e){return function r(){return arguments.length===0||arguments.length===1&&ane(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},D3e=function t(e,r){return e===1?r:YU(function(){for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];var o=i.filter(function(l){return l!==sne}).length;return o>=e?r.apply(void 0,i):t(e-o,YU(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return ane(f)?c.shift():f});return r.apply(void 0,A3e(d).concat(c))}))})},Tj=function(e){return D3e(e.length,e)},$O=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},L3e=Tj(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),$3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return I3e;var i=r.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},a.apply(void 0,arguments))}},FO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},one=function(e){var r=null,n=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return r&&a.every(function(l,c){return l===r[c]})||(r=a,n=e.apply(void 0,a)),n}};function F3e(t){var e;return t===0?e=1:e=Math.floor(new tn(t).abs().log(10).toNumber())+1,e}function B3e(t,e,r){for(var n=new tn(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var z3e=Tj(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),q3e=Tj(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),U3e=Tj(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Oj={rangeStep:B3e,getDigitCount:F3e,interpolateNumber:z3e,uninterpolateNumber:q3e,uninterpolateTruncation:U3e};function BO(t){return H3e(t)||W3e(t)||lne(t)||V3e()}function V3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function H3e(t){if(Array.isArray(t))return zO(t)}function Oy(t,e){return Z3e(t)||G3e(t,e)||lne(t,e)||K3e()}function K3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lne(t,e){if(t){if(typeof t=="string")return zO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zO(t,e)}}function zO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,a=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw a}}return r}}function Z3e(t){if(Array.isArray(t))return t}function cne(t){var e=Oy(t,2),r=e[0],n=e[1],i=r,a=n;return r>n&&(i=n,a=r),[i,a]}function une(t,e,r){if(t.lte(0))return new tn(0);var n=Oj.getDigitCount(t.toNumber()),i=new tn(10).pow(n),a=t.div(i),o=n!==1?.05:.1,l=new tn(Math.ceil(a.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new tn(Math.ceil(c))}function Y3e(t,e,r){var n=1,i=new tn(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new tn(10).pow(Oj.getDigitCount(t)-1),i=new tn(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new tn(Math.floor(t)))}else t===0?i=new tn(Math.floor((e-1)/2)):r||(i=new tn(Math.floor(t)));var o=Math.floor((e-1)/2),l=$3e(L3e(function(c){return i.add(new tn(c-o).mul(n)).toNumber()}),$O);return l(0,e)}function dne(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new tn(0),tickMin:new tn(0),tickMax:new tn(0)};var a=une(new tn(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new tn(0):(o=new tn(t).add(e).div(2),o=o.sub(new tn(o).mod(a)));var l=Math.ceil(o.sub(t).div(a).toNumber()),c=Math.ceil(new tn(e).sub(o).div(a).toNumber()),u=l+c+1;return u>r?dne(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:a,tickMin:o.sub(new tn(l).mul(a)),tickMax:o.add(new tn(c).mul(a))})}function X3e(t){var e=Oy(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=cne([r,n]),c=Oy(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(BO($O(0,i-1).map(function(){return 1/0}))):[].concat(BO($O(0,i-1).map(function(){return-1/0})),[d]);return r>n?FO(f):f}if(u===d)return Y3e(u,i,a);var g=dne(u,d,o,a),v=g.step,y=g.tickMin,b=g.tickMax,_=Oj.rangeStep(y,b.add(new tn(.1).mul(v)),v);return r>n?FO(_):_}function J3e(t,e){var r=Oy(t,2),n=r[0],i=r[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=cne([n,i]),l=Oy(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=une(new tn(u).sub(c).div(d-1),a,0),g=[].concat(BO(Oj.rangeStep(new tn(c),new tn(u).sub(new tn(.99).mul(f)),f)),[u]);return n>i?FO(g):g}var Q3e=one(X3e),eFe=one(J3e),tFe="Invariant failed";function lh(t,e){throw new Error(tFe)}var rFe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k_.apply(this,arguments)}function nFe(t,e){return oFe(t)||aFe(t,e)||sFe(t,e)||iFe()}function iFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sFe(t,e){if(t){if(typeof t=="string")return XU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XU(t,e)}}function XU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function oFe(t){if(Array.isArray(t))return t}function lFe(t,e){if(t==null)return{};var r=cFe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function cFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pne(n.key),n)}}function fFe(t,e,r){return e&&dFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hFe(t,e,r){return e=A_(e),pFe(t,fne()?Reflect.construct(e,r||[],A_(t).constructor):e.apply(t,r))}function pFe(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mFe(t)}function mFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fne=function(){return!!t})()}function A_(t){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A_(t)}function gFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qO(t,e)}function qO(t,e){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qO(t,e)}function hne(t,e,r){return e=pne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pne(t){var e=vFe(t,"string");return _m(e)=="symbol"?e:e+""}function vFe(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kx=function(t){function e(){return uFe(this,e),hFe(this,e,arguments)}return gFe(e,t),fFe(e,[{key:"render",value:function(){var n=this.props,i=n.offset,a=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,g=lFe(n,rFe),v=fr(g,!1);this.props.direction==="x"&&d.type!=="number"&&lh();var y=c.map(function(b){var _=u(b,l),j=_.x,N=_.y,C=_.value,A=_.errorVal;if(!A)return null;var E=[],P,O;if(Array.isArray(A)){var I=nFe(A,2);P=I[0],O=I[1]}else P=O=A;if(a==="vertical"){var F=d.scale,H=N+i,U=H+o,z=H-o,V=F(C-P),X=F(C+O);E.push({x1:X,y1:U,x2:X,y2:z}),E.push({x1:V,y1:H,x2:X,y2:H}),E.push({x1:V,y1:U,x2:V,y2:z})}else if(a==="horizontal"){var te=f.scale,le=j+i,W=le-o,re=le+o,G=te(C-P),ie=te(C+O);E.push({x1:W,y1:ie,x2:re,y2:ie}),E.push({x1:le,y1:G,x2:le,y2:ie}),E.push({x1:W,y1:G,x2:re,y2:G})}return ne.createElement(fn,k_({className:"recharts-errorBar",key:"bar-".concat(E.map(function(Z){return"".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))},v),E.map(function(Z){return ne.createElement("line",k_({},Z,{key:"line-".concat(Z.x1,"-").concat(Z.x2,"-").concat(Z.y1,"-").concat(Z.y2)}))}))});return ne.createElement(fn,{className:"recharts-errorBars"},y)}}])}(ne.Component);hne(Kx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});hne(Kx,"displayName","ErrorBar");function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function JU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(r),!0).forEach(function(n){yFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yFe(t,e,r){return e=xFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xFe(t){var e=bFe(t,"string");return Ry(e)=="symbol"?e:e+""}function bFe(t,e){if(Ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mne=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=ua(r,Sd);if(!o)return null;var l=Sd.defaultProps,c=l!==void 0?wf(wf({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(n||[]).reduce(function(d,f){var g=f.item,v=f.props,y=v.sectors||v.data||[];return d.concat(y.map(function(b){return{type:o.props.iconType||g.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):u=(n||[]).map(function(d){var f=d.item,g=f.type.defaultProps,v=g!==void 0?wf(wf({},g),f.props):{},y=v.dataKey,b=v.name,_=v.legendType,j=v.hide;return{inactive:j,dataKey:y,type:c.iconType||_||"square",color:WD(f),value:b||y,payload:v}}),wf(wf(wf({},c),Sd.getWithHeight(o,i)),{},{payload:u,item:o})};function My(t){"@babel/helpers - typeof";return My=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},My(t)}function QU(t){return SFe(t)||jFe(t)||_Fe(t)||wFe()}function wFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _Fe(t,e){if(t){if(typeof t=="string")return UO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return UO(t,e)}}function jFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function SFe(t){if(Array.isArray(t))return UO(t)}function UO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(r),!0).forEach(function(n){Gp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gp(t,e,r){return e=NFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NFe(t){var e=CFe(t,"string");return My(e)=="symbol"?e:e+""}function CFe(t,e){if(My(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(My(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xi(t,e,r){return nr(t)||nr(e)?r:bi(e)?xa(t,e,r):tr(e)?e(t):r}function Wv(t,e,r,n){var i=S3e(t,function(l){return xi(l,e)});if(r==="number"){var a=i.filter(function(l){return ft(l)||parseFloat(l)});return a.length?[Aj(a),kj(a)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!nr(l)}):i;return o.map(function(l){return bi(l)||l instanceof Date?l:""})}var EFe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var c=a.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(ws(f-d)!==ws(g-f)){var y=[];if(ws(g-f)===ws(c[1]-c[0])){v=g;var b=f+c[1]-c[0];y[0]=Math.min(b,(b+d)/2),y[1]=Math.max(b,(b+d)/2)}else{v=d;var _=g+c[1]-c[0];y[0]=Math.min(f,(_+f)/2),y[1]=Math.max(f,(_+f)/2)}var j=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>j[0]&&e<=j[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var N=Math.min(d,g),C=Math.max(d,g);if(e>(N+f)/2&&e<=(C+f)/2){o=i[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},WD=function(e){var r,n=e,i=n.type.displayName,a=(r=e.type)!==null&&r!==void 0&&r.defaultProps?$n($n({},e.type.defaultProps),e.props):e.props,o=a.stroke,l=a.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},PFe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},l=Object.keys(a),c=0,u=l.length;c<u;c++)for(var d=a[l[c]].stackGroups,f=Object.keys(d),g=0,v=f.length;g<v;g++){var y=d[f[g]],b=y.items,_=y.cateAxisId,j=b.filter(function(O){return Hc(O.type).indexOf("Bar")>=0});if(j&&j.length){var N=j[0].type.defaultProps,C=N!==void 0?$n($n({},N),j[0].props):j[0].props,A=C.barSize,E=C[_];o[E]||(o[E]=[]);var P=nr(A)?r:A;o[E].push({item:j[0],stackList:j.slice(1),barSize:nr(P)?void 0:$o(P,n,0)})}}return o},kFe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=$o(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/c,y=o.reduce(function(A,E){return A+E.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&v>0&&(g=!0,v*=.9,y=c*v);var b=(i-y)/2>>0,_={offset:b-u,size:0};d=o.reduce(function(A,E){var P={item:E.item,position:{offset:_.offset+_.size+u,size:g?v:E.barSize}},O=[].concat(QU(A),[P]);return _=O[O.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){O.push({item:I,position:_})}),O},f)}else{var j=$o(n,i,0,!0);i-2*j-(c-1)*u<=0&&(u=0);var N=(i-2*j-(c-1)*u)/c;N>1&&(N>>=0);var C=l===+l?Math.min(N,l):N;d=o.reduce(function(A,E,P){var O=[].concat(QU(A),[{item:E.item,position:{offset:j+(N+u)*P+(N-C)/2,size:C}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},f)}return d},AFe=function(e,r,n,i){var a=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=mne({children:a,legendWidth:c});if(u){var d=i||{},f=d.width,g=d.height,v=u.align,y=u.verticalAlign,b=u.layout;if((b==="vertical"||b==="horizontal"&&y==="middle")&&v!=="center"&&ft(e[v]))return $n($n({},e),{},Gp({},v,e[v]+(f||0)));if((b==="horizontal"||b==="vertical"&&v==="center")&&y!=="middle"&&ft(e[y]))return $n($n({},e),{},Gp({},y,e[y]+(g||0)))}return e},TFe=function(e,r,n){return nr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},gne=function(e,r,n,i,a){var o=r.props.children,l=ba(o,Kx).filter(function(u){return TFe(i,a,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=xi(d,n);if(nr(f))return u;var g=Array.isArray(f)?[Aj(f),kj(f)]:[f,f],v=c.reduce(function(y,b){var _=xi(d,b,0),j=g[0]-Math.abs(Array.isArray(_)?_[0]:_),N=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(j,y[0]),Math.max(N,y[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},OFe=function(e,r,n,i,a){var o=r.map(function(l){return gne(e,l,n,a,i)}).filter(function(l){return!nr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},vne=function(e,r,n,i,a){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&gne(e,c,u,i)||Wv(e,u,n,a)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},yne=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},xne=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var a,o,l=e.map(function(c){return c.coordinate===r&&(a=!0),c.coordinate===n&&(o=!0),c.coordinate});return a||l.push(r),o||l.push(n),l},Dc=function(e,r,n){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&l?.length>=2?ws(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var g=a?a.indexOf(f):f;return{coordinate:i(g)+u,value:f,offset:u}});return d.filter(function(f){return!Bx(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,g){return{coordinate:i(f)+u,value:f,index:g,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,g){return{coordinate:i(f)+u,value:a?a[f]:f,index:g,offset:u}})},Dk=new WeakMap,Vb=function(e,r){if(typeof r!="function")return e;Dk.has(e)||Dk.set(e,new WeakMap);var n=Dk.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},RFe=function(e,r,n){var i=e.scale,a=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Cy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:S_(),realScaleType:"linear"}:a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Vv(),realScaleType:"point"}:a==="category"?{scale:Cy(),realScaleType:"band"}:{scale:S_(),realScaleType:"linear"};if(ah(i)){var c="scale".concat(gj(i));return{scale:(FU[c]||Vv)(),realScaleType:FU[c]?c:"point"}}return tr(i)?{scale:i}:{scale:Vv(),realScaleType:"point"}},tV=1e-4,MFe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),a=Math.min(i[0],i[1])-tV,o=Math.max(i[0],i[1])+tV,l=e(r[0]),c=e(r[n-1]);(l<a||l>o||c<a||c>o)&&e.domain([r[0],r[n-1]])}},IFe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},DFe=function(e,r){if(!r||r.length!==2||!ft(r[0])||!ft(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),a=[e[0],e[1]];return(!ft(e[0])||e[0]<n)&&(a[0]=n),(!ft(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<n&&(a[1]=n),a},LFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0,l=0;l<r;++l){var c=Bx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=a,e[l][n][1]=a+c,a=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},$Fe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var a=0,o=0;o<r;++o){var l=Bx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=a,e[o][n][1]=a+l,a=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},FFe={sign:LFe,expand:_Me,none:pm,silhouette:jMe,wiggle:SMe,positive:$Fe},BFe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),a=FFe[n],o=wMe().keys(i).value(function(l,c){return+xi(l,c,0)}).order(xO).offset(a);return o(e)},zFe=function(e,r,n,i,a,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,g){var v,y=(v=g.type)!==null&&v!==void 0&&v.defaultProps?$n($n({},g.type.defaultProps),g.props):g.props,b=y.stackId,_=y.hide;if(_)return f;var j=y[n],N=f[j]||{hasStack:!1,stackGroups:{}};if(bi(b)){var C=N.stackGroups[b]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(g),N.hasStack=!0,N.stackGroups[b]=C}else N.stackGroups[lg("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return $n($n({},f),{},Gp({},j,N))},c),d={};return Object.keys(u).reduce(function(f,g){var v=u[g];if(v.hasStack){var y={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(b,_){var j=v.stackGroups[_];return $n($n({},b),{},Gp({},_,{numericAxisId:n,cateAxisId:i,items:j.items,stackedData:BFe(e,j.items,a)}))},y)}return $n($n({},f),{},Gp({},g,v))},d)},qFe=function(e,r){var n=r.realScaleType,i=r.type,a=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=Q3e(u,a,l);return e.domain([Aj(d),kj(d)]),{niceTicks:d}}if(a&&i==="number"){var f=e.domain(),g=eFe(f,a,l);return{niceTicks:g}}return null};function rV(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nr(i[e.dataKey])){var l=a_(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[a]?r[a].coordinate+n/2:null}var c=xi(i,nr(o)?e.dataKey:o);return nr(c)?null:e.scale(c)}var nV=function(e){var r=e.axis,n=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=xi(o,r.dataKey,r.domain[l]);return nr(c)?null:r.scale(c)-a/2+i},UFe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),a=Math.max(n[0],n[1]);return i<=0&&a>=0?0:a<0?a:i}return n[0]},VFe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?$n($n({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(bi(a)){var o=r[a];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},WFe=function(e){return e.reduce(function(r,n){return[Aj(n.concat([r[0]]).filter(ft)),kj(n.concat([r[1]]).filter(ft))]},[1/0,-1/0])},bne=function(e,r,n){return Object.keys(e).reduce(function(i,a){var o=e[a],l=o.stackedData,c=l.reduce(function(u,d){var f=WFe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},iV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,VO=function(e,r,n){if(tr(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ft(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(iV.test(e[0])){var a=+iV.exec(e[0])[1];i[0]=r[0]-a}else tr(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ft(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(sV.test(e[1])){var o=+sV.exec(e[1])[1];i[1]=r[1]+o}else tr(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},T_=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var a=xD(r,function(f){return f.coordinate}),o=1/0,l=1,c=a.length;l<c;l++){var u=a[l],d=a[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},aV=function(e,r,n){return!e||!e.length||Hx(e,xa(n,"type.defaultProps.domain"))?r:e},wne=function(e,r){var n=e.type.defaultProps?$n($n({},e.type.defaultProps),e.props):e.props,i=n.dataKey,a=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return $n($n({},fr(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:a||i,color:WD(e),value:xi(r,i),type:c,payload:r,chartType:u,hide:d})};function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function oV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oV(Object(r),!0).forEach(function(n){HFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HFe(t,e,r){return e=KFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KFe(t){var e=GFe(t,"string");return Iy(e)=="symbol"?e:e+""}function GFe(t,e){if(Iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O_=Math.PI/180,ZFe=function(e){return e*180/Math.PI},ai=function(e,r,n,i){return{x:e+Math.cos(-O_*i)*n,y:r+Math.sin(-O_*i)*n}},YFe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},XFe=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return Math.sqrt(Math.pow(n-a,2)+Math.pow(i-o,2))},JFe=function(e,r){var n=e.x,i=e.y,a=r.cx,o=r.cy,l=XFe({x:n,y:i},{x:a,y:o});if(l<=0)return{radius:l};var c=(n-a)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:ZFe(u),angleInRadian:u}},QFe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),a=Math.floor(n/360),o=Math.min(i,a);return{startAngle:r-o*360,endAngle:n-o*360}},e5e=function(e,r){var n=r.startAngle,i=r.endAngle,a=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(a,o);return e+l*360},cV=function(e,r){var n=e.x,i=e.y,a=JFe({x:n,y:i},r),o=a.radius,l=a.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=QFe(r),f=d.startAngle,g=d.endAngle,v=l,y;if(f<=g){for(;v>g;)v-=360;for(;v<f;)v+=360;y=v>=f&&v<=g}else{for(;v>f;)v-=360;for(;v<g;)v+=360;y=v>=g&&v<=f}return y?lV(lV({},r),{},{radius:o,angle:e5e(v,r)}):null};function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}var t5e=["offset"];function r5e(t){return a5e(t)||s5e(t)||i5e(t)||n5e()}function n5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i5e(t,e){if(t){if(typeof t=="string")return WO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WO(t,e)}}function s5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function a5e(t){if(Array.isArray(t))return WO(t)}function WO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o5e(t,e){if(t==null)return{};var r=l5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function l5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function uV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uV(Object(r),!0).forEach(function(n){c5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c5e(t,e,r){return e=u5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u5e(t){var e=d5e(t,"string");return Dy(e)=="symbol"?e:e+""}function d5e(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ly.apply(this,arguments)}var f5e=function(e){var r=e.value,n=e.formatter,i=nr(e.children)?r:e.children;return tr(n)?n(i):i},h5e=function(e,r){var n=ws(r-e),i=Math.min(Math.abs(r-e),360);return n*i},p5e=function(e,r,n){var i=e.position,a=e.viewBox,o=e.offset,l=e.className,c=a,u=c.cx,d=c.cy,f=c.innerRadius,g=c.outerRadius,v=c.startAngle,y=c.endAngle,b=c.clockWise,_=(f+g)/2,j=h5e(v,y),N=j>=0?1:-1,C,A;i==="insideStart"?(C=v+N*o,A=b):i==="insideEnd"?(C=y-N*o,A=!b):i==="end"&&(C=y+N*o,A=b),A=j<=0?A:!A;var E=ai(u,d,_,C),P=ai(u,d,_,C+(A?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),I=nr(e.id)?lg("recharts-radial-line-"):e.id;return ne.createElement("text",Ly({},n,{dominantBaseline:"central",className:mr("recharts-radial-bar-label",l)}),ne.createElement("defs",null,ne.createElement("path",{id:I,d:O})),ne.createElement("textPath",{xlinkHref:"#".concat(I)},r))},m5e=function(e){var r=e.viewBox,n=e.offset,i=e.position,a=r,o=a.cx,l=a.cy,c=a.innerRadius,u=a.outerRadius,d=a.startAngle,f=a.endAngle,g=(d+f)/2;if(i==="outside"){var v=ai(o,l,u+n,g),y=v.x,b=v.y;return{x:y,y:b,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,j=ai(o,l,_,g),N=j.x,C=j.y;return{x:N,y:C,textAnchor:"middle",verticalAnchor:"middle"}},g5e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,a=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,g=f*i,v=f>0?"end":"start",y=f>0?"start":"end",b=u>=0?1:-1,_=b*i,j=b>0?"end":"start",N=b>0?"start":"end";if(a==="top"){var C={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:v};return hi(hi({},C),n?{height:Math.max(c-n.y,0),width:u}:{})}if(a==="bottom"){var A={x:l+u/2,y:c+d+g,textAnchor:"middle",verticalAnchor:y};return hi(hi({},A),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(a==="left"){var E={x:l-_,y:c+d/2,textAnchor:j,verticalAnchor:"middle"};return hi(hi({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(a==="right"){var P={x:l+u+_,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return hi(hi({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return a==="insideLeft"?hi({x:l+_,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},O):a==="insideRight"?hi({x:l+u-_,y:c+d/2,textAnchor:j,verticalAnchor:"middle"},O):a==="insideTop"?hi({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:y},O):a==="insideBottom"?hi({x:l+u/2,y:c+d-g,textAnchor:"middle",verticalAnchor:v},O):a==="insideTopLeft"?hi({x:l+_,y:c+g,textAnchor:N,verticalAnchor:y},O):a==="insideTopRight"?hi({x:l+u-_,y:c+g,textAnchor:j,verticalAnchor:y},O):a==="insideBottomLeft"?hi({x:l+_,y:c+d-g,textAnchor:N,verticalAnchor:v},O):a==="insideBottomRight"?hi({x:l+u-_,y:c+d-g,textAnchor:j,verticalAnchor:v},O):og(a)&&(ft(a.x)||If(a.x))&&(ft(a.y)||If(a.y))?hi({x:l+$o(a.x,u),y:c+$o(a.y,d),textAnchor:"end",verticalAnchor:"end"},O):hi({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},v5e=function(e){return"cx"in e&&ft(e.cx)};function qi(t){var e=t.offset,r=e===void 0?5:e,n=o5e(t,t5e),i=hi({offset:r},n),a=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,g=i.textBreakAll;if(!a||nr(l)&&nr(c)&&!x.isValidElement(u)&&!tr(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var v;if(tr(u)){if(v=x.createElement(u,i),x.isValidElement(v))return v}else v=f5e(i);var y=v5e(a),b=fr(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return p5e(i,v,b);var _=y?m5e(i):g5e(i);return ne.createElement(Ny,Ly({className:mr("recharts-label",f)},b,_,{breakAll:g}),v)}qi.displayName="Label";var _ne=function(e){var r=e.cx,n=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,g=e.y,v=e.top,y=e.left,b=e.width,_=e.height,j=e.clockWise,N=e.labelViewBox;if(N)return N;if(ft(b)&&ft(_)){if(ft(f)&&ft(g))return{x:f,y:g,width:b,height:_};if(ft(v)&&ft(y))return{x:v,y,width:b,height:_}}return ft(f)&&ft(g)?{x:f,y:g,width:0,height:0}:ft(r)&&ft(n)?{cx:r,cy:n,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:j}:e.viewBox?e.viewBox:{}},y5e=function(e,r){return e?e===!0?ne.createElement(qi,{key:"label-implicit",viewBox:r}):bi(e)?ne.createElement(qi,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===qi?x.cloneElement(e,{key:"label-implicit",viewBox:r}):ne.createElement(qi,{key:"label-implicit",content:e,viewBox:r}):tr(e)?ne.createElement(qi,{key:"label-implicit",content:e,viewBox:r}):og(e)?ne.createElement(qi,Ly({viewBox:r},e,{key:"label-implicit"})):null:null},x5e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=_ne(e),o=ba(i,qi).map(function(c,u){return x.cloneElement(c,{viewBox:r||a,key:"label-".concat(u)})});if(!n)return o;var l=y5e(e.label,r||a);return[l].concat(r5e(o))};qi.parseViewBox=_ne;qi.renderCallByParent=x5e;var Lk,dV;function b5e(){if(dV)return Lk;dV=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Lk=t,Lk}var w5e=b5e();const _5e=Er(w5e);function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}var j5e=["valueAccessor"],S5e=["data","dataKey","clockWise","id","textBreakAll"];function N5e(t){return k5e(t)||P5e(t)||E5e(t)||C5e()}function C5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E5e(t,e){if(t){if(typeof t=="string")return HO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(t,e)}}function P5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function k5e(t){if(Array.isArray(t))return HO(t)}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R_(){return R_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R_.apply(this,arguments)}function fV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fV(Object(r),!0).forEach(function(n){A5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A5e(t,e,r){return e=T5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T5e(t){var e=O5e(t,"string");return $y(e)=="symbol"?e:e+""}function O5e(t,e){if($y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pV(t,e){if(t==null)return{};var r=R5e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var M5e=function(e){return Array.isArray(e.value)?_5e(e.value):e.value};function Gc(t){var e=t.valueAccessor,r=e===void 0?M5e:e,n=pV(t,j5e),i=n.data,a=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=pV(n,S5e);return!i||!i.length?null:ne.createElement(fn,{className:"recharts-label-list"},i.map(function(d,f){var g=nr(a)?r(d,f):xi(d&&d.payload,a),v=nr(l)?{}:{id:"".concat(l,"-").concat(f)};return ne.createElement(qi,R_({},fr(d,!0),u,v,{parentViewBox:d.parentViewBox,value:g,textBreakAll:c,viewBox:qi.parseViewBox(nr(o)?d:hV(hV({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Gc.displayName="LabelList";function I5e(t,e){return t?t===!0?ne.createElement(Gc,{key:"labelList-implicit",data:e}):ne.isValidElement(t)||tr(t)?ne.createElement(Gc,{key:"labelList-implicit",data:e,content:t}):og(t)?ne.createElement(Gc,R_({data:e},t,{key:"labelList-implicit"})):null:null}function D5e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ba(n,Gc).map(function(o,l){return x.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var a=I5e(t.label,e);return[a].concat(N5e(i))}Gc.renderCallByParent=D5e;function Fy(t){"@babel/helpers - typeof";return Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fy(t)}function KO(){return KO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KO.apply(this,arguments)}function mV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(r),!0).forEach(function(n){L5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L5e(t,e,r){return e=$5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $5e(t){var e=F5e(t,"string");return Fy(e)=="symbol"?e:e+""}function F5e(t,e){if(Fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var B5e=function(e,r){var n=ws(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Wb=function(e){var r=e.cx,n=e.cy,i=e.radius,a=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/O_,g=u?a:a+o*f,v=ai(r,n,d,g),y=ai(r,n,i,g),b=u?a-o*f:a,_=ai(r,n,d*Math.cos(f*O_),b);return{center:v,circleTangency:y,lineTangency:_,theta:f}},jne=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,l=e.endAngle,c=B5e(o,l),u=o+c,d=ai(r,n,a,o),f=ai(r,n,a,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var v=ai(r,n,i,o),y=ai(r,n,i,u);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},z5e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=ws(d-u),g=Wb({cx:r,cy:n,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,y=g.lineTangency,b=g.theta,_=Wb({cx:r,cy:n,radius:a,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),j=_.circleTangency,N=_.lineTangency,C=_.theta,A=c?Math.abs(u-d):Math.abs(u-d)-b-C;if(A<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):jne({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var P=Wb({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=P.circleTangency,I=P.lineTangency,F=P.theta,H=Wb({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),U=H.circleTangency,z=H.lineTangency,V=H.theta,X=c?Math.abs(u-d):Math.abs(u-d)-F-V;if(X<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(z.x,",").concat(z.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(U.x,",").concat(U.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(X>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},q5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sne=function(e){var r=gV(gV({},q5e),e),n=r.cx,i=r.cy,a=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,g=r.className;if(o<a||d===f)return null;var v=mr("recharts-sector",g),y=o-a,b=$o(l,y,0,!0),_;return b>0&&Math.abs(d-f)<360?_=z5e({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(b,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):_=jne({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:d,endAngle:f}),ne.createElement("path",KO({},fr(r,!0),{className:v,d:_,role:"img"}))};function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function GO(){return GO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GO.apply(this,arguments)}function vV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(r),!0).forEach(function(n){U5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U5e(t,e,r){return e=V5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V5e(t){var e=W5e(t,"string");return By(e)=="symbol"?e:e+""}function W5e(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xV={curveBasisClosed:uMe,curveBasisOpen:dMe,curveBasis:cMe,curveBumpX:ZRe,curveBumpY:YRe,curveLinearClosed:fMe,curveLinear:yj,curveMonotoneX:hMe,curveMonotoneY:pMe,curveNatural:mMe,curveStep:gMe,curveStepAfter:yMe,curveStepBefore:vMe},Hb=function(e){return e.x===+e.x&&e.y===+e.y},hv=function(e){return e.x},pv=function(e){return e.y},H5e=function(e,r){if(tr(e))return e;var n="curve".concat(gj(e));return(n==="curveMonotone"||n==="curveBump")&&r?xV["".concat(n).concat(r==="vertical"?"Y":"X")]:xV[n]||yj},K5e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,a=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=H5e(n,l),f=u?a.filter(function(b){return Hb(b)}):a,g;if(Array.isArray(o)){var v=u?o.filter(function(b){return Hb(b)}):o,y=f.map(function(b,_){return yV(yV({},b),{},{base:v[_]})});return l==="vertical"?g=Lb().y(pv).x1(hv).x0(function(b){return b.base.x}):g=Lb().x(hv).y1(pv).y0(function(b){return b.base.y}),g.defined(Hb).curve(d),g(y)}return l==="vertical"&&ft(o)?g=Lb().y(pv).x1(hv).x0(o):ft(o)?g=Lb().x(hv).y1(pv).y0(o):g=kte().x(hv).y(pv),g.defined(Hb).curve(d),g(f)},M_=function(e){var r=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?K5e(e):i;return x.createElement("path",GO({},fr(e,!1),o_(e),{className:mr("recharts-curve",r),d:o,ref:a}))},$k={exports:{}},Fk,bV;function G5e(){if(bV)return Fk;bV=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fk=t,Fk}var Bk,wV;function Z5e(){if(wV)return Bk;wV=1;var t=G5e();function e(){}function r(){}return r.resetWarningCache=e,Bk=function(){function n(o,l,c,u,d,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},Bk}var _V;function Y5e(){return _V||(_V=1,$k.exports=Z5e()()),$k.exports}var X5e=Y5e();const zr=Er(X5e);var J5e=Object.getOwnPropertyNames,Q5e=Object.getOwnPropertySymbols,e6e=Object.prototype.hasOwnProperty;function jV(t,e){return function(n,i,a){return t(n,i,a)&&e(n,i,a)}}function Kb(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var a=i.cache,o=a.get(r),l=a.get(n);if(o&&l)return o===n&&l===r;a.set(r,n),a.set(n,r);var c=t(r,n,i);return a.delete(r),a.delete(n),c}}function SV(t){return J5e(t).concat(Q5e(t))}var t6e=Object.hasOwn||function(t,e){return e6e.call(t,e)};function Ch(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var r6e="__v",n6e="__o",i6e="_owner",NV=Object.getOwnPropertyDescriptor,CV=Object.keys;function s6e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function a6e(t,e){return Ch(t.getTime(),e.getTime())}function o6e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function l6e(t,e){return t===e}function EV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.entries(),o,l,c=0;(o=a.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var g=o.value,v=l.value;if(r.equals(g[0],v[0],c,f,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var c6e=Ch;function u6e(t,e,r){var n=CV(t),i=n.length;if(CV(e).length!==i)return!1;for(;i-- >0;)if(!Nne(t,e,r,n[i]))return!1;return!0}function mv(t,e,r){var n=SV(t),i=n.length;if(SV(e).length!==i)return!1;for(var a,o,l;i-- >0;)if(a=n[i],!Nne(t,e,r,a)||(o=NV(t,a),l=NV(e,a),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function d6e(t,e){return Ch(t.valueOf(),e.valueOf())}function f6e(t,e){return t.source===e.source&&t.flags===e.flags}function PV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),a=t.values(),o,l;(o=a.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function h6e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function p6e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Nne(t,e,r,n){return(n===i6e||n===n6e||n===r6e)&&(t.$$typeof||e.$$typeof)?!0:t6e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var m6e="[object Arguments]",g6e="[object Boolean]",v6e="[object Date]",y6e="[object Error]",x6e="[object Map]",b6e="[object Number]",w6e="[object Object]",_6e="[object RegExp]",j6e="[object Set]",S6e="[object String]",N6e="[object URL]",C6e=Array.isArray,kV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,AV=Object.assign,E6e=Object.prototype.toString.call.bind(Object.prototype.toString);function P6e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(y,b,_){if(y===b)return!0;if(y==null||b==null)return!1;var j=typeof y;if(j!==typeof b)return!1;if(j!=="object")return j==="number"?o(y,b,_):j==="function"?i(y,b,_):!1;var N=y.constructor;if(N!==b.constructor)return!1;if(N===Object)return l(y,b,_);if(C6e(y))return e(y,b,_);if(kV!=null&&kV(y))return f(y,b,_);if(N===Date)return r(y,b,_);if(N===RegExp)return u(y,b,_);if(N===Map)return a(y,b,_);if(N===Set)return d(y,b,_);var C=E6e(y);return C===v6e?r(y,b,_):C===_6e?u(y,b,_):C===x6e?a(y,b,_):C===j6e?d(y,b,_):C===w6e?typeof y.then!="function"&&typeof b.then!="function"&&l(y,b,_):C===N6e?g(y,b,_):C===y6e?n(y,b,_):C===m6e?l(y,b,_):C===g6e||C===b6e||C===S6e?c(y,b,_):!1}}function k6e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?mv:s6e,areDatesEqual:a6e,areErrorsEqual:o6e,areFunctionsEqual:l6e,areMapsEqual:n?jV(EV,mv):EV,areNumbersEqual:c6e,areObjectsEqual:n?mv:u6e,arePrimitiveWrappersEqual:d6e,areRegExpsEqual:f6e,areSetsEqual:n?jV(PV,mv):PV,areTypedArraysEqual:n?mv:h6e,areUrlsEqual:p6e};if(r&&(i=AV({},i,r(i))),e){var a=Kb(i.areArraysEqual),o=Kb(i.areMapsEqual),l=Kb(i.areObjectsEqual),c=Kb(i.areSetsEqual);i=AV({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function A6e(t){return function(e,r,n,i,a,o,l){return t(e,r,l)}}function T6e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,a=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,g=f===void 0?e?new WeakMap:void 0:f,v=d.meta;return r(c,u,{cache:g,equals:i,meta:v,strict:a})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(c,u){return r(c,u,o)}}var O6e=Hd();Hd({strict:!0});Hd({circular:!0});Hd({circular:!0,strict:!0});Hd({createInternalComparator:function(){return Ch}});Hd({strict:!0,createInternalComparator:function(){return Ch}});Hd({circular:!0,createInternalComparator:function(){return Ch}});Hd({circular:!0,createInternalComparator:function(){return Ch},strict:!0});function Hd(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,l=k6e(t),c=P6e(l),u=n?n(c):A6e(c);return T6e({circular:r,comparator:c,createState:i,equals:u,strict:o})}function R6e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function TV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(a){r<0&&(r=a),a-r>e?(t(a),r=-1):R6e(i)};requestAnimationFrame(n)}function ZO(t){"@babel/helpers - typeof";return ZO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZO(t)}function M6e(t){return $6e(t)||L6e(t)||D6e(t)||I6e()}function I6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D6e(t,e){if(t){if(typeof t=="string")return OV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OV(t,e)}}function OV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $6e(t){if(Array.isArray(t))return t}function F6e(){var t={},e=function(){return null},r=!1,n=function i(a){if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,l=M6e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){TV(i.bind(null,u),c);return}i(c),TV(i.bind(null,u));return}ZO(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){r=!0},start:function(a){r=!1,n(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function RV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(r),!0).forEach(function(n){Cne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cne(t,e,r){return e=B6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function B6e(t){var e=z6e(t,"string");return zy(e)==="symbol"?e:String(e)}function z6e(t,e){if(zy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var q6e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(a){return i.includes(a)})})},U6e=function(e){return e},V6e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Hv=function(e,r){return Object.keys(r).reduce(function(n,i){return MV(MV({},n),{},Cne({},i,e(i,r[i])))},{})},IV=function(e,r,n){return e.map(function(i){return"".concat(V6e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function W6e(t,e){return G6e(t)||K6e(t,e)||Ene(t,e)||H6e()}function H6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function G6e(t){if(Array.isArray(t))return t}function Z6e(t){return J6e(t)||X6e(t)||Ene(t)||Y6e()}function Y6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ene(t,e){if(t){if(typeof t=="string")return YO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return YO(t,e)}}function X6e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function J6e(t){if(Array.isArray(t))return YO(t)}function YO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var I_=1e-4,Pne=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},kne=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},DV=function(e,r){return function(n){var i=Pne(e,r);return kne(i,n)}},Q6e=function(e,r){return function(n){var i=Pne(e,r),a=[].concat(Z6e(i.map(function(o,l){return o*l}).slice(1)),[0]);return kne(a,n)}},LV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],a=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,a=0,o=1,l=1;break;case"ease":i=.25,a=.1,o=.25,l=1;break;case"ease-in":i=.42,a=0,o=1,l=1;break;case"ease-out":i=.42,a=0,o=.58,l=1;break;case"ease-in-out":i=0,a=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),d=W6e(u,4);i=d[0],a=d[1],o=d[2],l=d[3]}}}var f=DV(i,o),g=DV(a,l),v=Q6e(i,o),y=function(j){return j>1?1:j<0?0:j},b=function(j){for(var N=j>1?1:j,C=N,A=0;A<8;++A){var E=f(C)-N,P=v(C);if(Math.abs(E-N)<I_||P<I_)return g(C);C=y(C-E/P)}return g(C)};return b.isStepper=!1,b},eBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,a=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,g){var v=-(d-f)*n,y=g*a,b=g+(v-y)*l/1e3,_=g*l/1e3+d;return Math.abs(_-f)<I_&&Math.abs(b)<I_?[f,0]:[_,b]};return c.isStepper=!0,c.dt=l,c},tBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return LV(i);case"spring":return eBe();default:if(i.split("(")[0]==="cubic-bezier")return LV(i)}return typeof i=="function"?i:null};function qy(t){"@babel/helpers - typeof";return qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qy(t)}function $V(t){return iBe(t)||nBe(t)||Ane(t)||rBe()}function rBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iBe(t){if(Array.isArray(t))return JO(t)}function FV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FV(Object(r),!0).forEach(function(n){XO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XO(t,e,r){return e=sBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sBe(t){var e=aBe(t,"string");return qy(e)==="symbol"?e:String(e)}function aBe(t,e){if(qy(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qy(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oBe(t,e){return uBe(t)||cBe(t,e)||Ane(t,e)||lBe()}function lBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ane(t,e){if(t){if(typeof t=="string")return JO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JO(t,e)}}function JO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function uBe(t){if(Array.isArray(t))return t}var D_=function(e,r,n){return e+(r-e)*n},QO=function(e){var r=e.from,n=e.to;return r!==n},dBe=function t(e,r,n){var i=Hv(function(a,o){if(QO(o)){var l=e(o.from,o.to,o.velocity),c=oBe(l,2),u=c[0],d=c[1];return Bi(Bi({},o),{},{from:u,velocity:d})}return o},r);return n<1?Hv(function(a,o){return QO(o)?Bi(Bi({},o),{},{velocity:D_(o.velocity,i[a].velocity,n),from:D_(o.from,i[a].from,n)}):o},r):t(e,i,n-1)};const fBe=function(t,e,r,n,i){var a=q6e(t,e),o=a.reduce(function(_,j){return Bi(Bi({},_),{},XO({},j,[t[j],e[j]]))},{}),l=a.reduce(function(_,j){return Bi(Bi({},_),{},XO({},j,{from:t[j],velocity:0,to:e[j]}))},{}),c=-1,u,d,f=function(){return null},g=function(){return Hv(function(j,N){return N.from},l)},v=function(){return!Object.values(l).filter(QO).length},y=function(j){u||(u=j);var N=j-u,C=N/r.dt;l=dBe(r,l,C),i(Bi(Bi(Bi({},t),e),g())),u=j,v()||(c=requestAnimationFrame(f))},b=function(j){d||(d=j);var N=(j-d)/n,C=Hv(function(E,P){return D_.apply(void 0,$V(P).concat([r(N)]))},o);if(i(Bi(Bi(Bi({},t),e),C)),N<1)c=requestAnimationFrame(f);else{var A=Hv(function(E,P){return D_.apply(void 0,$V(P).concat([r(1)]))},o);i(Bi(Bi(Bi({},t),e),A))}};return f=r.isStepper?y:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function jm(t){"@babel/helpers - typeof";return jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jm(t)}var hBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pBe(t,e){if(t==null)return{};var r=mBe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,a;for(a=0;a<n.length;a++)i=n[a],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function zk(t){return xBe(t)||yBe(t)||vBe(t)||gBe()}function gBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vBe(t,e){if(t){if(typeof t=="string")return eR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eR(t,e)}}function yBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xBe(t){if(Array.isArray(t))return eR(t)}function eR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BV(Object(r),!0).forEach(function(n){Ov(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ov(t,e,r){return e=Tne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tne(n.key),n)}}function _Be(t,e,r){return e&&wBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tne(t){var e=jBe(t,"string");return jm(e)==="symbol"?e:String(e)}function jBe(t,e){if(jm(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jm(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tR(t,e)}function tR(t,e){return tR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tR(t,e)}function NBe(t){var e=CBe();return function(){var n=L_(t),i;if(e){var a=L_(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return rR(this,i)}}function rR(t,e){if(e&&(jm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nR(t)}function nR(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CBe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L_(t){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L_(t)}var $l=function(t){SBe(r,t);var e=NBe(r);function r(n,i){var a;bBe(this,r),a=e.call(this,n,i);var o=a.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,g=o.children,v=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(nR(a)),a.changeStyle=a.changeStyle.bind(nR(a)),!l||v<=0)return a.state={style:{}},typeof g=="function"&&(a.state={style:d}),rR(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof g=="function")return a.state={style:u},rR(a);a.state={style:c?Ov({},c,u):u}}else a.state={style:{}};return a}return _Be(r,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,l=a.canBegin,c=a.attributeName,u=a.shouldReAnimate,d=a.to,f=a.from,g=this.state.style;if(l){if(!o){var v={style:c?Ov({},c,d):d};this.state&&g&&(c&&g[c]!==d||!c&&g!==d)&&this.setState(v);return}if(!(O6e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=y||u?f:i.to;if(this.state&&g){var _={style:c?Ov({},c,b):b};(c&&g[c]!==b||!c&&g!==b)&&this.setState(_)}this.runAnimation(jo(jo({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,g=i.onAnimationStart,v=fBe(o,l,tBe(u),c,this.changeStyle),y=function(){a.stopJSAnimation=v()};this.manager.start([g,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,g=f===void 0?0:f,v=function(b,_,j){if(j===0)return b;var N=_.duration,C=_.easing,A=C===void 0?"ease":C,E=_.style,P=_.properties,O=_.onAnimationEnd,I=j>0?o[j-1]:_,F=P||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(zk(b),[a.runJSAnimation.bind(a,{from:I.style,to:E,duration:N,easing:A}),N]);var H=IV(F,N,A),U=jo(jo(jo({},I.style),E),{},{transition:H});return[].concat(zk(b),[U,N,O]).filter(U6e)};return this.manager.start([c].concat(zk(o.reduce(v,[d,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=F6e());var a=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,g=i.steps,v=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var b=l?Ov({},l,c):c,_=IV(Object.keys(b),o,u);y.start([d,a,jo(jo({},b),{},{transition:_}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=pBe(i,hBe),u=x.Children.count(a),d=this.state.style;if(typeof a=="function")return a(d);if(!l||u===0||o<=0)return a;var f=function(v){var y=v.props,b=y.style,_=b===void 0?{}:b,j=y.className,N=x.cloneElement(v,jo(jo({},c),{},{style:jo(jo({},_),d),className:j}));return N};return u===1?f(x.Children.only(a)):ne.createElement("div",null,x.Children.map(a,function(g){return f(g)}))}}]),r}(x.PureComponent);$l.displayName="Animate";$l.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$l.propTypes={from:zr.oneOfType([zr.object,zr.string]),to:zr.oneOfType([zr.object,zr.string]),attributeName:zr.string,duration:zr.number,begin:zr.number,easing:zr.oneOfType([zr.string,zr.func]),steps:zr.arrayOf(zr.shape({duration:zr.number.isRequired,style:zr.object.isRequired,easing:zr.oneOfType([zr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),zr.func]),properties:zr.arrayOf("string"),onAnimationEnd:zr.func})),children:zr.oneOfType([zr.node,zr.func]),isActive:zr.bool,canBegin:zr.bool,onAnimationEnd:zr.func,shouldReAnimate:zr.bool,onAnimationStart:zr.func,onAnimationReStart:zr.func};function Uy(t){"@babel/helpers - typeof";return Uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uy(t)}function $_(){return $_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$_.apply(this,arguments)}function EBe(t,e){return TBe(t)||ABe(t,e)||kBe(t,e)||PBe()}function PBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kBe(t,e){if(t){if(typeof t=="string")return zV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zV(t,e)}}function zV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ABe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function TBe(t){if(Array.isArray(t))return t}function qV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(r),!0).forEach(function(n){OBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OBe(t,e,r){return e=RBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RBe(t){var e=MBe(t,"string");return Uy(e)=="symbol"?e:e+""}function MBe(t,e){if(Uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VV=function(e,r,n,i,a){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],g=0,v=4;g<v;g++)f[g]=a[g]>o?o:a[g];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*f[3])),d+="Z"}else if(o>0&&a===+a&&a>0){var y=Math.min(o,a);d="M ".concat(e,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(r,`
            L `).concat(e+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*y,`
            L `).concat(e+n,",").concat(r+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(r+i,`
            L `).concat(e+c*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*y," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},IBe=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,a=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(a,a+l),d=Math.max(a,a+l),f=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=g}return!1},DBe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},HD=function(e){var r=UV(UV({},DBe),e),n=x.useRef(),i=x.useState(-1),a=EBe(i,2),o=a[0],l=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,g=r.radius,v=r.className,y=r.animationEasing,b=r.animationDuration,_=r.animationBegin,j=r.isAnimationActive,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var C=mr("recharts-rectangle",v);return N?ne.createElement($l,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:b,animationEasing:y,isActive:N},function(A){var E=A.width,P=A.height,O=A.x,I=A.y;return ne.createElement($l,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:b,isActive:j,easing:y},ne.createElement("path",$_({},fr(r,!0),{className:C,d:VV(O,I,E,P,g),ref:n})))}):ne.createElement("path",$_({},fr(r,!0),{className:C,d:VV(c,u,d,f,g)}))};function iR(){return iR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iR.apply(this,arguments)}var KD=function(e){var r=e.cx,n=e.cy,i=e.r,a=e.className,o=mr("recharts-dot",a);return r===+r&&n===+n&&i===+i?x.createElement("circle",iR({},fr(e,!1),o_(e),{className:o,cx:r,cy:n,r:i})):null};function Vy(t){"@babel/helpers - typeof";return Vy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vy(t)}var LBe=["x","y","top","left","width","height","className"];function sR(){return sR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sR.apply(this,arguments)}function WV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $Be(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WV(Object(r),!0).forEach(function(n){FBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FBe(t,e,r){return e=BBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BBe(t){var e=zBe(t,"string");return Vy(e)=="symbol"?e:e+""}function zBe(t,e){if(Vy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qBe(t,e){if(t==null)return{};var r=UBe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function UBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var VBe=function(e,r,n,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},WBe=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,a=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,g=e.height,v=g===void 0?0:g,y=e.className,b=qBe(e,LBe),_=$Be({x:n,y:a,top:l,left:u,width:f,height:v},b);return!ft(n)||!ft(a)||!ft(f)||!ft(v)||!ft(l)||!ft(u)?null:ne.createElement("path",sR({},fr(_,!0),{className:mr("recharts-cross",y),d:VBe(n,a,f,v,l,u)}))},qk,HV;function HBe(){if(HV)return qk;HV=1;var t=Jte(),e=t(Object.getPrototypeOf,Object);return qk=e,qk}var Uk,KV;function KBe(){if(KV)return Uk;KV=1;var t=cu(),e=HBe(),r=uu(),n="[object Object]",i=Function.prototype,a=Object.prototype,o=i.toString,l=a.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var g=l.call(f,"constructor")&&f.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return Uk=u,Uk}var GBe=KBe();const ZBe=Er(GBe);var Vk,GV;function YBe(){if(GV)return Vk;GV=1;var t=cu(),e=uu(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return Vk=n,Vk}var XBe=YBe();const JBe=Er(XBe);function Wy(t){"@babel/helpers - typeof";return Wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wy(t)}function F_(){return F_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F_.apply(this,arguments)}function QBe(t,e){return n8e(t)||r8e(t,e)||t8e(t,e)||e8e()}function e8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function t8e(t,e){if(t){if(typeof t=="string")return ZV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZV(t,e)}}function ZV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function r8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function n8e(t){if(Array.isArray(t))return t}function YV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(r),!0).forEach(function(n){i8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i8e(t,e,r){return e=s8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s8e(t){var e=a8e(t,"string");return Wy(e)=="symbol"?e:e+""}function a8e(t,e){if(Wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JV=function(e,r,n,i,a){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+a),l+="L ".concat(e+n-o/2-i,",").concat(r+a),l+="L ".concat(e,",").concat(r," Z"),l},o8e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},l8e=function(e){var r=XV(XV({},o8e),e),n=x.useRef(),i=x.useState(-1),a=QBe(i,2),o=a[0],l=a[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,g=r.height,v=r.className,y=r.animationEasing,b=r.animationDuration,_=r.animationBegin,j=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||g!==+g||d===0&&f===0||g===0)return null;var N=mr("recharts-trapezoid",v);return j?ne.createElement($l,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:g,x:c,y:u},duration:b,animationEasing:y,isActive:j},function(C){var A=C.upperWidth,E=C.lowerWidth,P=C.height,O=C.x,I=C.y;return ne.createElement($l,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:b,easing:y},ne.createElement("path",F_({},fr(r,!0),{className:N,d:JV(O,I,A,E,P),ref:n})))}):ne.createElement("g",null,ne.createElement("path",F_({},fr(r,!0),{className:N,d:JV(c,u,d,f,g)})))},c8e=["option","shapeType","propTransformer","activeClassName","isActive"];function Hy(t){"@babel/helpers - typeof";return Hy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hy(t)}function u8e(t,e){if(t==null)return{};var r=d8e(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function B_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QV(Object(r),!0).forEach(function(n){f8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f8e(t,e,r){return e=h8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h8e(t){var e=p8e(t,"string");return Hy(e)=="symbol"?e:e+""}function p8e(t,e){if(Hy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m8e(t,e){return B_(B_({},e),t)}function g8e(t,e){return t==="symbols"}function e9(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return ne.createElement(HD,r);case"trapezoid":return ne.createElement(l8e,r);case"sector":return ne.createElement(Sne,r);case"symbols":if(g8e(e))return ne.createElement(dD,r);break;default:return null}}function v8e(t){return x.isValidElement(t)?t.props:t}function One(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?m8e:n,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,l=t.isActive,c=u8e(t,c8e),u;if(x.isValidElement(e))u=x.cloneElement(e,B_(B_({},c),v8e(e)));else if(tr(e))u=e(c);else if(ZBe(e)&&!JBe(e)){var d=i(e,c);u=ne.createElement(e9,{shapeType:r,elementProps:d})}else{var f=c;u=ne.createElement(e9,{shapeType:r,elementProps:f})}return l?ne.createElement(fn,{className:o},u):u}function Rj(t,e){return e!=null&&"trapezoids"in t.props}function Mj(t,e){return e!=null&&"sectors"in t.props}function Ky(t,e){return e!=null&&"points"in t.props}function y8e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,a=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&a}function x8e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function b8e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function w8e(t,e){var r;return Rj(t,e)?r=y8e:Mj(t,e)?r=x8e:Ky(t,e)&&(r=b8e),r}function _8e(t,e){var r;return Rj(t,e)?r="trapezoids":Mj(t,e)?r="sectors":Ky(t,e)&&(r="points"),r}function j8e(t,e){if(Rj(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(Mj(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Ky(t,e)?e.payload:{}}function S8e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=_8e(r,e),a=j8e(r,e),o=n.filter(function(c,u){var d=Hx(a,c),f=r.props[i].filter(function(y){var b=w8e(r,e);return b(y,e)}),g=r.props[i].indexOf(f[f.length-1]),v=u===g;return d&&v}),l=n.indexOf(o[o.length-1]);return l}var fw;function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function Lp(){return Lp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lp.apply(this,arguments)}function t9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function un(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t9(Object(r),!0).forEach(function(n){Ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function N8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Mne(n.key),n)}}function C8e(t,e,r){return e&&r9(t.prototype,e),r&&r9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function E8e(t,e,r){return e=z_(e),P8e(t,Rne()?Reflect.construct(e,r||[],z_(t).constructor):e.apply(t,r))}function P8e(t,e){if(e&&(Sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k8e(t)}function k8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rne=function(){return!!t})()}function z_(t){return z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},z_(t)}function A8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aR(t,e)}function aR(t,e){return aR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},aR(t,e)}function Ya(t,e,r){return e=Mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Mne(t){var e=T8e(t,"string");return Sm(e)=="symbol"?e:e+""}function T8e(t,e){if(Sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var iu=function(t){function e(r){var n;return N8e(this,e),n=E8e(this,e,[r]),Ya(n,"pieRef",null),Ya(n,"sectorRefs",[]),Ya(n,"id",lg("recharts-pie-")),Ya(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),tr(i)&&i()}),Ya(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),tr(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return A8e(e,t),C8e(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.label,l=a.labelLine,c=a.dataKey,u=a.valueKey,d=fr(this.props,!1),f=fr(o,!1),g=fr(l,!1),v=o&&o.offsetRadius||20,y=n.map(function(b,_){var j=(b.startAngle+b.endAngle)/2,N=ai(b.cx,b.cy,b.outerRadius+v,j),C=un(un(un(un({},d),b),{},{stroke:"none"},f),{},{index:_,textAnchor:e.getTextAnchor(N.x,b.cx)},N),A=un(un(un(un({},d),b),{},{fill:"none",stroke:b.fill},g),{},{index:_,points:[ai(b.cx,b.cy,b.outerRadius,j),N]}),E=c;return nr(c)&&nr(u)?E="value":nr(c)&&(E=u),ne.createElement(fn,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(_)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,C,xi(b,E)))});return ne.createElement(fn,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,a=this.props,o=a.activeShape,l=a.blendStroke,c=a.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=i.isActiveIndex(d),g=c&&i.hasActiveIndex()?c:null,v=f?o:g,y=un(un({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return ne.createElement(fn,Lp({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},gy(i.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),ne.createElement(One,Lp({option:v,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,a=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,g=f.prevSectors,v=f.prevIsAnimationActive;return ne.createElement($l,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var b=y.t,_=[],j=a&&a[0],N=j.startAngle;return a.forEach(function(C,A){var E=g&&g[A],P=A>0?xa(C,"paddingAngle",0):0;if(E){var O=pa(E.endAngle-E.startAngle,C.endAngle-C.startAngle),I=un(un({},C),{},{startAngle:N+P,endAngle:N+O(b)+P});_.push(I),N=I.endAngle}else{var F=C.endAngle,H=C.startAngle,U=pa(0,F-H),z=U(b),V=un(un({},C),{},{startAngle:N+P,endAngle:N+z+P});_.push(V),N=V.endAngle}}),ne.createElement(fn,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(a){if(!a.altKey)switch(a.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,a=n.isAnimationActive,o=this.state.prevSectors;return a&&i&&i.length&&(!o||!Hx(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,a=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,y=this.state.isAnimationFinished;if(a||!o||!o.length||!ft(u)||!ft(d)||!ft(f)||!ft(g))return null;var b=mr("recharts-pie",l);return ne.createElement(fn,{tabIndex:this.props.rootTabIndex,className:b,ref:function(j){n.pieRef=j}},this.renderSectors(),c&&this.renderLabels(o),qi.renderCallByParent(this.props,null,!1),(!v||y)&&Gc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,a){if(ne.isValidElement(n))return ne.cloneElement(n,i);if(tr(n))return n(i);var o=mr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return ne.createElement(M_,Lp({},i,{key:a,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,a){if(ne.isValidElement(n))return ne.cloneElement(n,i);var o=a;if(tr(n)&&(o=n(i),ne.isValidElement(o)))return o;var l=mr("recharts-pie-label-text",typeof n!="boolean"&&!tr(n)?n.className:"");return ne.createElement(Ny,Lp({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);fw=iu;Ya(iu,"displayName","Pie");Ya(iu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!jh.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Ya(iu,"parseDeltaAngle",function(t,e){var r=ws(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Ya(iu,"getRealPieData",function(t){var e=t.data,r=t.children,n=fr(t,!1),i=ba(r,_y);return e&&e.length?e.map(function(a,o){return un(un(un({payload:a},n),a),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(a){return un(un({},n),a.props)}):[]});Ya(iu,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,a=e.height,o=YFe(i,a),l=n+$o(t.cx,i,i/2),c=r+$o(t.cy,a,a/2),u=$o(t.innerRadius,o,0),d=$o(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Ya(iu,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?un(un({},e.type.defaultProps),e.props):e.props,i=fw.getRealPieData(n);if(!i||!i.length)return null;var a=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),y=fw.parseCoordinateOfPie(n,r),b=fw.parseDeltaAngle(o,l),_=Math.abs(b),j=u;nr(u)&&nr(f)?(Fo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j="value"):nr(u)&&(Fo(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),j=f);var N=i.filter(function(I){return xi(I,j,0)!==0}).length,C=(_>=360?N:N-1)*c,A=_-N*v-C,E=i.reduce(function(I,F){var H=xi(F,j,0);return I+(ft(H)?H:0)},0),P;if(E>0){var O;P=i.map(function(I,F){var H=xi(I,j,0),U=xi(I,d,F),z=(ft(H)?H:0)/E,V;F?V=O.endAngle+ws(b)*c*(H!==0?1:0):V=o;var X=V+ws(b)*((H!==0?v:0)+z*A),te=(V+X)/2,le=(y.innerRadius+y.outerRadius)/2,W=[{name:U,value:H,payload:I,dataKey:j,type:g}],re=ai(y.cx,y.cy,le,te);return O=un(un(un({percent:z,cornerRadius:a,name:U,tooltipPayload:W,midAngle:te,middleRadius:le,tooltipPosition:re},I),y),{},{value:xi(I,j),startAngle:V,endAngle:X,payload:I,paddingAngle:ws(b)*c}),O})}return un(un({},y),{},{sectors:P,data:i})});var Wk,n9;function O8e(){if(n9)return Wk;n9=1;var t=Math.ceil,e=Math.max;function r(n,i,a,o){for(var l=-1,c=e(t((i-n)/(a||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=a;return u}return Wk=r,Wk}var Hk,i9;function Ine(){if(i9)return Hk;i9=1;var t=pre(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var a=i<0?-1:1;return a*r}return i===i?i:0}return Hk=n,Hk}var Kk,s9;function R8e(){if(s9)return Kk;s9=1;var t=O8e(),e=_j(),r=Ine();function n(i){return function(a,o,l){return l&&typeof l!="number"&&e(a,o,l)&&(o=l=void 0),a=r(a),o===void 0?(o=a,a=0):o=r(o),l=l===void 0?a<o?1:-1:r(l),t(a,o,l,i)}}return Kk=n,Kk}var Gk,a9;function M8e(){if(a9)return Gk;a9=1;var t=R8e(),e=t();return Gk=e,Gk}var I8e=M8e();const q_=Er(I8e);function Gy(t){"@babel/helpers - typeof";return Gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gy(t)}function o9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function l9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(r),!0).forEach(function(n){Dne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dne(t,e,r){return e=D8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D8e(t){var e=L8e(t,"string");return Gy(e)=="symbol"?e:e+""}function L8e(t,e){if(Gy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $8e=["Webkit","Moz","O","ms"],F8e=function(e,r){var n=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=$8e.reduce(function(a,o){return l9(l9({},a),{},Dne({},o+n,r))},{});return i[e]=r,i};function Nm(t){"@babel/helpers - typeof";return Nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nm(t)}function U_(){return U_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U_.apply(this,arguments)}function c9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c9(Object(r),!0).forEach(function(n){ca(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$ne(n.key),n)}}function z8e(t,e,r){return e&&u9(t.prototype,e),r&&u9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function q8e(t,e,r){return e=V_(e),U8e(t,Lne()?Reflect.construct(e,r||[],V_(t).constructor):e.apply(t,r))}function U8e(t,e){if(e&&(Nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V8e(t)}function V8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lne=function(){return!!t})()}function V_(t){return V_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V_(t)}function W8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oR(t,e)}function oR(t,e){return oR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oR(t,e)}function ca(t,e,r){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ne(t){var e=H8e(t,"string");return Nm(e)=="symbol"?e:e+""}function H8e(t,e){if(Nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var K8e=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,a=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Vv().domain(q_(0,c)).range([a,a+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},d9=function(e){return e.changedTouches&&!!e.changedTouches.length},Cm=function(t){function e(r){var n;return B8e(this,e),n=q8e(this,e,[r]),ca(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),ca(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),ca(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,a=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:a,startIndex:l})}),n.detachDragEndListener()}),ca(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),ca(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),ca(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),ca(n,"handleSlideDragStart",function(i){var a=d9(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return W8e(e,t),z8e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,a=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,a),g=Math.max(i,a),v=e.getIndexInRange(o,f),y=e.getIndexInRange(o,g);return{startIndex:v-v%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,a=i.data,o=i.tickFormatter,l=i.dataKey,c=xi(a[n],l,n);return tr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,a=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,g=c.startIndex,v=c.endIndex,y=c.onChange,b=n.pageX-a;b>0?b=Math.min(b,u+d-f-l,u+d-f-o):b<0&&(b=Math.max(b,u-o,u-l));var _=this.getIndex({startX:o+b,endX:l+b});(_.startIndex!==g||_.endIndex!==v)&&y&&y(_),this.setState({startX:o+b,endX:l+b,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var a=d9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,g=d.width,v=d.travellerWidth,y=d.onChange,b=d.gap,_=d.data,j={startX:this.state.startX,endX:this.state.endX},N=n.pageX-a;N>0?N=Math.min(N,f+g-v-u):N<0&&(N=Math.max(N,f-u)),j[o]=u+N;var C=this.getIndex(j),A=C.startIndex,E=C.endIndex,P=function(){var I=_.length-1;return o==="startX"&&(l>c?A%b===0:E%b===0)||l<c&&E===I||o==="endX"&&(l>c?E%b===0:A%b===0)||l>c&&E===I};this.setState(ca(ca({},o,u+N),"brushMoveStartX",n.pageX),function(){y&&P()&&y(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var a=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var g=f+n;if(!(g===-1||g>=l.length)){var v=l[g];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(ca({},i,v),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return ne.createElement("rect",{stroke:u,fill:c,x:i,y:a,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=x.Children.only(u);return f?ne.cloneElement(f,{x:i,y:a,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var a,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,g=c.traveller,v=c.ariaLabel,y=c.data,b=c.startIndex,_=c.endIndex,j=Math.max(n,this.props.x),N=Zk(Zk({},fr(this.props,!1)),{},{x:j,y:u,width:d,height:f}),C=v||"Min value: ".concat((a=y[b])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=y[_])===null||o===void 0?void 0:o.name);return ne.createElement(fn,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,i){var a=this.props,o=a.y,l=a.height,c=a.stroke,u=a.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return ne.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,a=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,g=d.endX,v=5,y={pointerEvents:"none",fill:u};return ne.createElement(fn,{className:"recharts-brush-texts"},ne.createElement(Ny,U_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,g)-v,y:o+l/2},y),this.getTextOfTick(i)),ne.createElement(Ny,U_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,g)+c+v,y:o+l/2},y),this.getTextOfTick(a)))}},{key:"render",value:function(){var n=this.props,i=n.data,a=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,g=this.state,v=g.startX,y=g.endX,b=g.isTextActive,_=g.isSlideMoving,j=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!ft(l)||!ft(c)||!ft(u)||!ft(d)||u<=0||d<=0)return null;var C=mr("recharts-brush",a),A=ne.Children.count(o)===1,E=F8e("userSelect","none");return ne.createElement(fn,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,y),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(y,"endX"),(b||_||j||N||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,a=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(a+l/2)-1;return ne.createElement(ne.Fragment,null,ne.createElement("rect",{x:i,y:a,width:o,height:l,fill:c,stroke:"none"}),ne.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),ne.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var a;return ne.isValidElement(n)?a=ne.cloneElement(n,i):tr(n)?a=n(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(n,i){var a=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return Zk({prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},a&&a.length?K8e({data:a,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:a,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var a=n.length,o=0,l=a-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(x.PureComponent);ca(Cm,"displayName","Brush");ca(Cm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yk,f9;function G8e(){if(f9)return Yk;f9=1;var t=yD();function e(r,n){var i;return t(r,function(a,o,l){return i=n(a,o,l),!i}),!!i}return Yk=e,Yk}var Xk,h9;function Z8e(){if(h9)return Xk;h9=1;var t=Wte(),e=Ud(),r=G8e(),n=Ys(),i=_j();function a(o,l,c){var u=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),u(o,e(l,3))}return Xk=a,Xk}var Y8e=Z8e();const X8e=Er(Y8e);var kl=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},Jk,p9;function J8e(){if(p9)return Jk;p9=1;var t=cre();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return Jk=e,Jk}var Qk,m9;function Q8e(){if(m9)return Qk;m9=1;var t=J8e(),e=ore(),r=Ud();function n(i,a){var o={};return a=r(a,3),e(i,function(l,c,u){t(o,c,a(l,c,u))}),o}return Qk=n,Qk}var eze=Q8e();const tze=Er(eze);var eA,g9;function rze(){if(g9)return eA;g9=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return eA=t,eA}var tA,v9;function nze(){if(v9)return tA;v9=1;var t=yD();function e(r,n){var i=!0;return t(r,function(a,o,l){return i=!!n(a,o,l),i}),i}return tA=e,tA}var rA,y9;function ize(){if(y9)return rA;y9=1;var t=rze(),e=nze(),r=Ud(),n=Ys(),i=_j();function a(o,l,c){var u=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return rA=a,rA}var sze=ize();const Fne=Er(sze);var aze=["x","y"];function Zy(t){"@babel/helpers - typeof";return Zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zy(t)}function lR(){return lR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lR.apply(this,arguments)}function x9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(r),!0).forEach(function(n){oze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oze(t,e,r){return e=lze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lze(t){var e=cze(t,"string");return Zy(e)=="symbol"?e:e+""}function cze(t,e){if(Zy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uze(t,e){if(t==null)return{};var r=dze(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function dze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fze(t,e){var r=t.x,n=t.y,i=uze(t,aze),a="".concat(r),o=parseInt(a,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),g=parseInt(f,10);return gv(gv(gv(gv(gv({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function b9(t){return ne.createElement(One,lR({shapeType:"rectangle",propTransformer:fze,activeClassName:"recharts-active-bar"},t))}var hze=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var a=ft(n)||gRe(n);return a?e(n,i):(a||lh(),r)}},pze=["value","background"],Bne;function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function mze(t,e){if(t==null)return{};var r=gze(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function W_(){return W_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W_.apply(this,arguments)}function w9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ei(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(r),!0).forEach(function(n){md(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qne(n.key),n)}}function yze(t,e,r){return e&&_9(t.prototype,e),r&&_9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function xze(t,e,r){return e=H_(e),bze(t,zne()?Reflect.construct(e,r||[],H_(t).constructor):e.apply(t,r))}function bze(t,e){if(e&&(Em(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wze(t)}function wze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zne=function(){return!!t})()}function H_(t){return H_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H_(t)}function _ze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cR(t,e)}function cR(t,e){return cR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},cR(t,e)}function md(t,e,r){return e=qne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qne(t){var e=jze(t,"string");return Em(e)=="symbol"?e:e+""}function jze(t,e){if(Em(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Em(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Zc=function(t){function e(){var r;vze(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=xze(this,e,[].concat(i)),md(r,"state",{isAnimationFinished:!1}),md(r,"id",lg("recharts-bar-")),md(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),md(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return _ze(e,t),yze(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,a=this.props,o=a.shape,l=a.dataKey,c=a.activeIndex,u=a.activeBar,d=fr(this.props,!1);return n&&n.map(function(f,g){var v=g===c,y=v?u:o,b=ei(ei(ei({},d),f),{},{isActive:v,option:y,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ne.createElement(fn,W_({className:"recharts-bar-rectangle"},gy(i.props,f,g),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(g)}),ne.createElement(b9,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,a=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,g=this.state.prevData;return ne.createElement($l,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t,b=a.map(function(_,j){var N=g&&g[j];if(N){var C=pa(N.x,_.x),A=pa(N.y,_.y),E=pa(N.width,_.width),P=pa(N.height,_.height);return ei(ei({},_),{},{x:C(y),y:A(y),width:E(y),height:P(y)})}if(o==="horizontal"){var O=pa(0,_.height),I=O(y);return ei(ei({},_),{},{y:_.y+_.height-I,height:I})}var F=pa(0,_.width),H=F(y);return ei(ei({},_),{},{width:H})});return ne.createElement(fn,null,n.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,a=n.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!Hx(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,a=i.data,o=i.dataKey,l=i.activeIndex,c=fr(this.props.background,!1);return a.map(function(u,d){u.value;var f=u.background,g=mze(u,pze);if(!f)return null;var v=ei(ei(ei(ei(ei({},g),{},{fill:"#eee"},f),c),gy(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return ne.createElement(b9,W_({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ba(d,Kx);if(!f)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,v=function(_,j){var N=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:N,errorVal:xi(_,j)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(fn,y,f.map(function(b){return ne.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,a=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,g=n.height,v=n.isAnimationActive,y=n.background,b=n.id;if(i||!a||!a.length)return null;var _=this.state.isAnimationFinished,j=mr("recharts-bar",o),N=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,A=N||C,E=nr(b)?this.id:b;return ne.createElement(fn,{className:j},N||C?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(E)},ne.createElement("rect",{x:N?u:u-f/2,y:C?d:d-g/2,width:N?f:f*2,height:C?g:g*2}))):null,ne.createElement(fn,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!v||_)&&Gc.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);Bne=Zc;md(Zc,"displayName","Bar");md(Zc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});md(Zc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,g=t.offset,v=IFe(n,r);if(!v)return null;var y=e.layout,b=r.type.defaultProps,_=b!==void 0?ei(ei({},b),r.props):r.props,j=_.dataKey,N=_.children,C=_.minPointSize,A=y==="horizontal"?o:a,E=u?A.scale.domain():null,P=UFe({numericAxis:A}),O=ba(N,_y),I=f.map(function(F,H){var U,z,V,X,te,le;u?U=DFe(u[d+H],E):(U=xi(F,j),Array.isArray(U)||(U=[P,U]));var W=hze(C,Bne.defaultProps.minPointSize)(U[1],H);if(y==="horizontal"){var re,G=[o.scale(U[0]),o.scale(U[1])],ie=G[0],Z=G[1];z=nV({axis:a,ticks:l,bandSize:i,offset:v.offset,entry:F,index:H}),V=(re=Z??ie)!==null&&re!==void 0?re:void 0,X=v.size;var de=ie-Z;if(te=Number.isNaN(de)?0:de,le={x:z,y:o.y,width:X,height:o.height},Math.abs(W)>0&&Math.abs(te)<Math.abs(W)){var Se=ws(te||W)*(Math.abs(W)-Math.abs(te));V-=Se,te+=Se}}else{var Me=[a.scale(U[0]),a.scale(U[1])],qe=Me[0],oe=Me[1];if(z=qe,V=nV({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:F,index:H}),X=oe-qe,te=v.size,le={x:a.x,y:V,width:a.width,height:te},Math.abs(W)>0&&Math.abs(X)<Math.abs(W)){var ae=ws(X||W)*(Math.abs(W)-Math.abs(X));X+=ae}}return ei(ei(ei({},F),{},{x:z,y:V,width:X,height:te,value:u?U:U[1],payload:F,background:le},O&&O[H]&&O[H].props),{},{tooltipPayload:[wne(r,F)],tooltipPosition:{x:z+X/2,y:V+te/2}})});return ei({data:I,layout:y},g)});function Yy(t){"@babel/helpers - typeof";return Yy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yy(t)}function Sze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Une(n.key),n)}}function Nze(t,e,r){return e&&j9(t.prototype,e),r&&j9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function S9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(r),!0).forEach(function(n){Ij(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ij(t,e,r){return e=Une(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Une(t){var e=Cze(t,"string");return Yy(e)=="symbol"?e:e+""}function Cze(t,e){if(Yy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Eze=function(e,r,n,i,a){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!ua(u,Zc);return d.reduce(function(v,y){var b=r[y],_=b.orientation,j=b.domain,N=b.padding,C=N===void 0?{}:N,A=b.mirror,E=b.reversed,P="".concat(_).concat(A?"Mirror":""),O,I,F,H,U;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var z=j[1]-j[0],V=1/0,X=b.categoricalDomain.sort(xRe);if(X.forEach(function(Me,qe){qe>0&&(V=Math.min((Me||0)-(X[qe-1]||0),V))}),Number.isFinite(V)){var te=V/z,le=b.layout==="vertical"?n.height:n.width;if(b.padding==="gap"&&(O=te*le/2),b.padding==="no-gap"){var W=$o(e.barCategoryGap,te*le),re=te*le/2;O=re-W-(re-W)/le*W}}}i==="xAxis"?I=[n.left+(C.left||0)+(O||0),n.left+n.width-(C.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(O||0),n.top+n.height-(C.bottom||0)-(O||0)]:I=b.range,E&&(I=[I[1],I[0]]);var G=RFe(b,a,g),ie=G.scale,Z=G.realScaleType;ie.domain(j).range(I),MFe(ie);var de=qFe(ie,ko(ko({},b),{},{realScaleType:Z}));i==="xAxis"?(U=_==="top"&&!A||_==="bottom"&&A,F=n.left,H=f[P]-U*b.height):i==="yAxis"&&(U=_==="left"&&!A||_==="right"&&A,F=f[P]-U*b.width,H=n.top);var Se=ko(ko(ko({},b),de),{},{realScaleType:Z,x:F,y:H,scale:ie,width:i==="xAxis"?n.width:b.width,height:i==="yAxis"?n.height:b.height});return Se.bandSize=T_(Se,de),!b.hide&&i==="xAxis"?f[P]+=(U?-1:1)*Se.height:b.hide||(f[P]+=(U?-1:1)*Se.width),ko(ko({},v),{},Ij({},y,Se))},{})},Vne=function(e,r){var n=e.x,i=e.y,a=r.x,o=r.y;return{x:Math.min(n,a),y:Math.min(i,o),width:Math.abs(a-n),height:Math.abs(o-i)}},Pze=function(e){var r=e.x1,n=e.y1,i=e.x2,a=e.y2;return Vne({x:r,y:n},{x:i,y:a})},Wne=function(){function t(e){Sze(this,t),this.scale=e}return Nze(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,a=n.position;if(r!==void 0){if(a)switch(a){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],a=n[n.length-1];return i<=a?r>=i&&r<=a:r>=a&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();Ij(Wne,"EPS",1e-4);var GD=function(e){var r=Object.keys(e).reduce(function(n,i){return ko(ko({},n),{},Ij({},i,Wne.create(e[i])))},{});return ko(ko({},r),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,l=a.position;return tze(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Fne(i,function(a,o){return r[o].isInRange(a)})}})};function kze(t){return(t%180+180)%180}var Aze=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=kze(i),o=a*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},nA,N9;function Tze(){if(N9)return nA;N9=1;var t=Ud(),e=zx(),r=bj();function n(i){return function(a,o,l){var c=Object(a);if(!e(a)){var u=t(o,3);a=r(a),o=function(f){return u(c[f],f,c)}}var d=i(a,o,l);return d>-1?c[u?a[d]:d]:void 0}}return nA=n,nA}var iA,C9;function Oze(){if(C9)return iA;C9=1;var t=Ine();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return iA=e,iA}var sA,E9;function Rze(){if(E9)return sA;E9=1;var t=rre(),e=Ud(),r=Oze(),n=Math.max;function i(a,o,l){var c=a==null?0:a.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(a,e(o,3),u)}return sA=i,sA}var aA,P9;function Mze(){if(P9)return aA;P9=1;var t=Tze(),e=Rze(),r=t(e);return aA=r,aA}var Ize=Mze();const Dze=Er(Ize);var Lze=yte();const $ze=Er(Lze);var Fze=$ze(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),ZD=x.createContext(void 0),YD=x.createContext(void 0),Hne=x.createContext(void 0),Kne=x.createContext({}),Gne=x.createContext(void 0),Zne=x.createContext(0),Yne=x.createContext(0),k9=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,a=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=Fze(a);return ne.createElement(ZD.Provider,{value:n},ne.createElement(YD.Provider,{value:i},ne.createElement(Kne.Provider,{value:a},ne.createElement(Hne.Provider,{value:d},ne.createElement(Gne.Provider,{value:o},ne.createElement(Zne.Provider,{value:u},ne.createElement(Yne.Provider,{value:c},l)))))))},Bze=function(){return x.useContext(Gne)},Xne=function(e){var r=x.useContext(ZD);r==null&&lh();var n=r[e];return n==null&&lh(),n},zze=function(){var e=x.useContext(ZD);return fd(e)},qze=function(){var e=x.useContext(YD),r=Dze(e,function(n){return Fne(n.domain,Number.isFinite)});return r||fd(e)},Jne=function(e){var r=x.useContext(YD);r==null&&lh();var n=r[e];return n==null&&lh(),n},Uze=function(){var e=x.useContext(Hne);return e},Vze=function(){return x.useContext(Kne)},XD=function(){return x.useContext(Yne)},JD=function(){return x.useContext(Zne)};function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function Wze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eie(n.key),n)}}function Kze(t,e,r){return e&&Hze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gze(t,e,r){return e=K_(e),Zze(t,Qne()?Reflect.construct(e,r||[],K_(t).constructor):e.apply(t,r))}function Zze(t,e){if(e&&(Pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yze(t)}function Yze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Qne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Qne=function(){return!!t})()}function K_(t){return K_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K_(t)}function Xze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uR(t,e)}function uR(t,e){return uR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uR(t,e)}function A9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function T9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A9(Object(r),!0).forEach(function(n){QD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QD(t,e,r){return e=eie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eie(t){var e=Jze(t,"string");return Pm(e)=="symbol"?e:e+""}function Jze(t,e){if(Pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Qze(t,e){return nqe(t)||rqe(t,e)||tqe(t,e)||eqe()}function eqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tqe(t,e){if(t){if(typeof t=="string")return O9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O9(t,e)}}function O9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function nqe(t){if(Array.isArray(t))return t}function dR(){return dR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dR.apply(this,arguments)}var iqe=function(e,r){var n;return ne.isValidElement(e)?n=ne.cloneElement(e,r):tr(e)?n=e(r):n=ne.createElement("line",dR({},r,{className:"recharts-reference-line-line"})),n},sqe=function(e,r,n,i,a,o,l,c,u){var d=a.x,f=a.y,g=a.width,v=a.height;if(n){var y=u.y,b=e.y.apply(y,{position:o});if(kl(u,"discard")&&!e.y.isInRange(b))return null;var _=[{x:d+g,y:b},{x:d,y:b}];return c==="left"?_.reverse():_}if(r){var j=u.x,N=e.x.apply(j,{position:o});if(kl(u,"discard")&&!e.x.isInRange(N))return null;var C=[{x:N,y:f+v},{x:N,y:f}];return l==="top"?C.reverse():C}if(i){var A=u.segment,E=A.map(function(P){return e.apply(P,{position:o})});return kl(u,"discard")&&X8e(E,function(P){return!e.isInRange(P)})?null:E}return null};function aqe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=Bze(),d=Xne(i),f=Jne(a),g=Uze();if(!u||!g)return null;Fo(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=GD({x:d.scale,y:f.scale}),y=bi(e),b=bi(r),_=n&&n.length===2,j=sqe(v,y,b,_,g,t.position,d.orientation,f.orientation,t);if(!j)return null;var N=Qze(j,2),C=N[0],A=C.x,E=C.y,P=N[1],O=P.x,I=P.y,F=kl(t,"hidden")?"url(#".concat(u,")"):void 0,H=T9(T9({clipPath:F},fr(t,!0)),{},{x1:A,y1:E,x2:O,y2:I});return ne.createElement(fn,{className:mr("recharts-reference-line",l)},iqe(o,H),qi.renderCallByParent(t,Pze({x1:A,y1:E,x2:O,y2:I})))}var eL=function(t){function e(){return Wze(this,e),Gze(this,e,arguments)}return Xze(e,t),Kze(e,[{key:"render",value:function(){return ne.createElement(aqe,this.props)}}])}(ne.Component);QD(eL,"displayName","ReferenceLine");QD(eL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function fR(){return fR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fR.apply(this,arguments)}function km(t){"@babel/helpers - typeof";return km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},km(t)}function R9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function M9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(r),!0).forEach(function(n){Dj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rie(n.key),n)}}function cqe(t,e,r){return e&&lqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uqe(t,e,r){return e=G_(e),dqe(t,tie()?Reflect.construct(e,r||[],G_(t).constructor):e.apply(t,r))}function dqe(t,e){if(e&&(km(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fqe(t)}function fqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tie=function(){return!!t})()}function G_(t){return G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G_(t)}function hqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hR(t,e)}function hR(t,e){return hR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hR(t,e)}function Dj(t,e,r){return e=rie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rie(t){var e=pqe(t,"string");return km(e)=="symbol"?e:e+""}function pqe(t,e){if(km(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(km(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mqe=function(e){var r=e.x,n=e.y,i=e.xAxis,a=e.yAxis,o=GD({x:i.scale,y:a.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return kl(e,"discard")&&!o.isInRange(l)?null:l},Lj=function(t){function e(){return oqe(this,e),uqe(this,e,arguments)}return hqe(e,t),cqe(e,[{key:"render",value:function(){var n=this.props,i=n.x,a=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=bi(i),d=bi(a);if(Fo(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=mqe(this.props);if(!f)return null;var g=f.x,v=f.y,y=this.props,b=y.shape,_=y.className,j=kl(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=M9(M9({clipPath:j},fr(this.props,!0)),{},{cx:g,cy:v});return ne.createElement(fn,{className:mr("recharts-reference-dot",_)},e.renderDot(b,N),qi.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])}(ne.Component);Dj(Lj,"displayName","ReferenceDot");Dj(Lj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Dj(Lj,"renderDot",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):tr(t)?r=t(e):r=ne.createElement(KD,fR({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function pR(){return pR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pR.apply(this,arguments)}function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function I9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I9(Object(r),!0).forEach(function(n){$j(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,iie(n.key),n)}}function yqe(t,e,r){return e&&vqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xqe(t,e,r){return e=Z_(e),bqe(t,nie()?Reflect.construct(e,r||[],Z_(t).constructor):e.apply(t,r))}function bqe(t,e){if(e&&(Am(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wqe(t)}function wqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nie=function(){return!!t})()}function Z_(t){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z_(t)}function _qe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mR(t,e)}function mR(t,e){return mR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mR(t,e)}function $j(t,e,r){return e=iie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iie(t){var e=jqe(t,"string");return Am(e)=="symbol"?e:e+""}function jqe(t,e){if(Am(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Am(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sqe=function(e,r,n,i,a){var o=a.x1,l=a.x2,c=a.y1,u=a.y2,d=a.xAxis,f=a.yAxis;if(!d||!f)return null;var g=GD({x:d.scale,y:f.scale}),v={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},y={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return kl(a,"discard")&&(!g.isInRange(v)||!g.isInRange(y))?null:Vne(v,y)},Fj=function(t){function e(){return gqe(this,e),xqe(this,e,arguments)}return _qe(e,t),yqe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,a=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Fo(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=bi(i),g=bi(a),v=bi(o),y=bi(l),b=this.props.shape;if(!f&&!g&&!v&&!y&&!b)return null;var _=Sqe(f,g,v,y,this.props);if(!_&&!b)return null;var j=kl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return ne.createElement(fn,{className:mr("recharts-reference-area",c)},e.renderRect(b,D9(D9({clipPath:j},fr(this.props,!0)),_)),qi.renderCallByParent(this.props,_))}}])}(ne.Component);$j(Fj,"displayName","ReferenceArea");$j(Fj,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});$j(Fj,"renderRect",function(t,e){var r;return ne.isValidElement(t)?r=ne.cloneElement(t,e):tr(t)?r=t(e):r=ne.createElement(HD,pR({},e,{className:"recharts-reference-area-rect"})),r});function sie(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function Nqe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Aze(n,r)}function Cqe(t,e,r){var n=r==="width",i=t.x,a=t.y,o=t.width,l=t.height;return e===1?{start:n?i:a,end:n?i+o:a+l}:{start:n?i+o:a+l,end:n?i:a}}function Y_(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function Eqe(t,e){return sie(t,e+1)}function Pqe(t,e,r,n,i){for(var a=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var y=n?.[c];if(y===void 0)return{v:sie(n,u)};var b=c,_,j=function(){return _===void 0&&(_=r(y,b)),_},N=y.coordinate,C=c===0||Y_(t,N,j,d,l);C||(c=0,d=o,u+=1),C&&(d=N+t*(j()/2+i),c+=u)},g;u<=a.length;)if(g=f(),g)return g.v;return[]}function Xy(t){"@babel/helpers - typeof";return Xy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xy(t)}function L9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(r),!0).forEach(function(n){kqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kqe(t,e,r){return e=Aqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Aqe(t){var e=Tqe(t,"string");return Xy(e)=="symbol"?e:e+""}function Tqe(t,e){if(Xy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oqe(t,e,r,n,i){for(var a=(n||[]).slice(),o=a.length,l=e.start,c=e.end,u=function(g){var v=a[g],y,b=function(){return y===void 0&&(y=r(v,g)),y};if(g===o-1){var _=t*(v.coordinate+t*b()/2-c);a[g]=v=ns(ns({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else a[g]=v=ns(ns({},v),{},{tickCoord:v.coordinate});var j=Y_(t,v.tickCoord,b,l,c);j&&(c=v.tickCoord-t*(b()/2+i),a[g]=ns(ns({},v),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return a}function Rqe(t,e,r,n,i,a){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(a){var d=n[l-1],f=r(d,l-1),g=t*(d.coordinate+t*f/2-u);o[l-1]=d=ns(ns({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var v=Y_(t,d.tickCoord,function(){return f},c,u);v&&(u=d.tickCoord-t*(f/2+i),o[l-1]=ns(ns({},d),{},{isShow:!0}))}for(var y=a?l-1:l,b=function(N){var C=o[N],A,E=function(){return A===void 0&&(A=r(C,N)),A};if(N===0){var P=t*(C.coordinate-t*E()/2-c);o[N]=C=ns(ns({},C),{},{tickCoord:P<0?C.coordinate-P*t:C.coordinate})}else o[N]=C=ns(ns({},C),{},{tickCoord:C.coordinate});var O=Y_(t,C.tickCoord,E,c,u);O&&(c=C.tickCoord+t*(E()/2+i),o[N]=ns(ns({},C),{},{isShow:!0}))},_=0;_<y;_++)b(_);return o}function tL(t,e,r){var n=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ft(c)||jh.isSsr)return Eqe(i,typeof c=="number"&&ft(c)?c:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",y=d&&v==="width"?Uv(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},b=function(C,A){var E=tr(u)?u(C.value,A):C.value;return v==="width"?Nqe(Uv(E,{fontSize:e,letterSpacing:r}),y,f):Uv(E,{fontSize:e,letterSpacing:r})[v]},_=i.length>=2?ws(i[1].coordinate-i[0].coordinate):1,j=Cqe(a,_,v);return c==="equidistantPreserveStart"?Pqe(_,j,b,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=Rqe(_,j,b,i,o,c==="preserveStartEnd"):g=Oqe(_,j,b,i,o),g.filter(function(N){return N.isShow}))}var Mqe=["viewBox"],Iqe=["viewBox"],Dqe=["ticks"];function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function $p(){return $p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$p.apply(this,arguments)}function $9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$9(Object(r),!0).forEach(function(n){rL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oA(t,e){if(t==null)return{};var r=Lqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Lqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $qe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function F9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oie(n.key),n)}}function Fqe(t,e,r){return e&&F9(t.prototype,e),r&&F9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bqe(t,e,r){return e=X_(e),zqe(t,aie()?Reflect.construct(e,r||[],X_(t).constructor):e.apply(t,r))}function zqe(t,e){if(e&&(Tm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qqe(t)}function qqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function aie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(aie=function(){return!!t})()}function X_(t){return X_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X_(t)}function Uqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gR(t,e)}function gR(t,e){return gR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},gR(t,e)}function rL(t,e,r){return e=oie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oie(t){var e=Vqe(t,"string");return Tm(e)=="symbol"?e:e+""}function Vqe(t,e){if(Tm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hg=function(t){function e(r){var n;return $qe(this,e),n=Bqe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return Uqe(e,t),Fqe(e,[{key:"shouldComponentUpdate",value:function(n,i){var a=n.viewBox,o=oA(n,Mqe),l=this.props,c=l.viewBox,u=oA(l,Iqe);return!Hp(a,c)||!Hp(o,u)||!Hp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,a=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,g=i.tickMargin,v,y,b,_,j,N,C=f?-1:1,A=n.tickSize||d,E=ft(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=y=n.coordinate,_=o+ +!f*c,b=_-C*A,N=b-C*g,j=E;break;case"left":b=_=n.coordinate,y=a+ +!f*l,v=y-C*A,j=v-C*g,N=E;break;case"right":b=_=n.coordinate,y=a+ +f*l,v=y+C*A,j=v+C*g,N=E;break;default:v=y=n.coordinate,_=o+ +f*c,b=_+C*A,N=b+C*g,j=E;break}return{line:{x1:v,y1:b,x2:y,y2:_},tick:{x:j,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,a=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,a=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=fi(fi(fi({},fr(this.props,!1)),fr(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);f=fi(fi({},f),{},{x1:i,y1:a+g*l,x2:i+o,y2:a+g*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);f=fi(fi({},f),{},{x1:i+v*o,y1:a,x2:i+v*o,y2:a+l})}return ne.createElement("line",$p({},f,{className:mr("recharts-cartesian-axis-line",xa(d,"className"))}))}},{key:"renderTicks",value:function(n,i,a){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,g=l.unit,v=tL(fi(fi({},this.props),{},{ticks:n}),i,a),y=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),_=fr(this.props,!1),j=fr(d,!1),N=fi(fi({},_),{},{fill:"none"},fr(c,!1)),C=v.map(function(A,E){var P=o.getTickLineCoord(A),O=P.line,I=P.tick,F=fi(fi(fi(fi({textAnchor:y,verticalAnchor:b},_),{},{stroke:"none",fill:u},j),I),{},{index:E,payload:A,visibleTicksCount:v.length,tickFormatter:f});return ne.createElement(fn,$p({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},gy(o.props,A,E)),c&&ne.createElement("line",$p({},N,O,{className:mr("recharts-cartesian-axis-tick-line",xa(c,"className"))})),d&&e.renderTickItem(d,F,"".concat(tr(f)?f(A.value,E):A.value).concat(g||"")))});return ne.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,a=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,g=f.ticks,v=oA(f,Dqe),y=g;return tr(c)&&(y=g&&g.length>0?c(this.props):c(v)),o<=0||l<=0||!y||!y.length?null:ne.createElement(fn,{className:mr("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},a&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),qi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,a){var o,l=mr(i.className,"recharts-cartesian-axis-tick-value");return ne.isValidElement(n)?o=ne.cloneElement(n,fi(fi({},i),{},{className:l})):tr(n)?o=n(fi(fi({},i),{},{className:l})):o=ne.createElement(Ny,$p({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(x.Component);rL(hg,"displayName","CartesianAxis");rL(hg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wqe=["x1","y1","x2","y2","key"],Hqe=["offset"];function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function B9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B9(Object(r),!0).forEach(function(n){Kqe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kqe(t,e,r){return e=Gqe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gqe(t){var e=Zqe(t,"string");return ch(e)=="symbol"?e:e+""}function Zqe(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$f.apply(this,arguments)}function z9(t,e){if(t==null)return{};var r=Yqe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yqe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Xqe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,l=e.height,c=e.ry;return ne.createElement("rect",{x:i,y:a,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function lie(t,e){var r;if(ne.isValidElement(t))r=ne.cloneElement(t,e);else if(tr(t))r=t(e);else{var n=e.x1,i=e.y1,a=e.x2,o=e.y2,l=e.key,c=z9(e,Wqe),u=fr(c,!1);u.offset;var d=z9(u,Hqe);r=ne.createElement("line",$f({},d,{x1:n,y1:i,x2:a,y2:o,fill:"none",key:l}))}return r}function Jqe(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ss(ss({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return lie(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Qqe(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(l,c){var u=ss(ss({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return lie(i,u)});return ne.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function eUe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,a=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==d[0]&&d.unshift(0);var f=d.map(function(g,v){var y=!d[v+1],b=y?i+o-g:d[v+1]-g;if(b<=0)return null;var _=v%e.length;return ne.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:b,width:a,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tUe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(g){return Math.round(g+a-a)}).sort(function(g,v){return g-v});a!==d[0]&&d.unshift(0);var f=d.map(function(g,v){var y=!d[v+1],b=y?a+l-g:d[v+1]-g;if(b<=0)return null;var _=v%n.length;return ne.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:b,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ne.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var rUe=function(e,r){var n=e.xAxis,i=e.width,a=e.height,o=e.offset;return xne(tL(ss(ss(ss({},hg.defaultProps),n),{},{ticks:Dc(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,r)},nUe=function(e,r){var n=e.yAxis,i=e.width,a=e.height,o=e.offset;return xne(tL(ss(ss(ss({},hg.defaultProps),n),{},{ticks:Dc(n,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,r)},wp={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Rv(t){var e,r,n,i,a,o,l=XD(),c=JD(),u=Vze(),d=ss(ss({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:wp.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:wp.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:wp.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:wp.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:wp.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:wp.verticalFill,x:ft(t.x)?t.x:u.left,y:ft(t.y)?t.y:u.top,width:ft(t.width)?t.width:u.width,height:ft(t.height)?t.height:u.height}),f=d.x,g=d.y,v=d.width,y=d.height,b=d.syncWithTicks,_=d.horizontalValues,j=d.verticalValues,N=zze(),C=qze();if(!ft(v)||v<=0||!ft(y)||y<=0||!ft(f)||f!==+f||!ft(g)||g!==+g)return null;var A=d.verticalCoordinatesGenerator||rUe,E=d.horizontalCoordinatesGenerator||nUe,P=d.horizontalPoints,O=d.verticalPoints;if((!P||!P.length)&&tr(E)){var I=_&&_.length,F=E({yAxis:C?ss(ss({},C),{},{ticks:I?_:C.ticks}):void 0,width:l,height:c,offset:u},I?!0:b);Fo(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ch(F),"]")),Array.isArray(F)&&(P=F)}if((!O||!O.length)&&tr(A)){var H=j&&j.length,U=A({xAxis:N?ss(ss({},N),{},{ticks:H?j:N.ticks}):void 0,width:l,height:c,offset:u},H?!0:b);Fo(Array.isArray(U),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ch(U),"]")),Array.isArray(U)&&(O=U)}return ne.createElement("g",{className:"recharts-cartesian-grid"},ne.createElement(Xqe,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),ne.createElement(Jqe,$f({},d,{offset:u,horizontalPoints:P,xAxis:N,yAxis:C})),ne.createElement(Qqe,$f({},d,{offset:u,verticalPoints:O,xAxis:N,yAxis:C})),ne.createElement(eUe,$f({},d,{horizontalPoints:P})),ne.createElement(tUe,$f({},d,{verticalPoints:O})))}Rv.displayName="CartesianGrid";var iUe=["type","layout","connectNulls","ref"],sUe=["key"];function Om(t){"@babel/helpers - typeof";return Om=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Om(t)}function q9(t,e){if(t==null)return{};var r=aUe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aUe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Kv(){return Kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kv.apply(this,arguments)}function U9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function la(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U9(Object(r),!0).forEach(function(n){Ao(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _p(t){return uUe(t)||cUe(t)||lUe(t)||oUe()}function oUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lUe(t,e){if(t){if(typeof t=="string")return vR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vR(t,e)}}function cUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uUe(t){if(Array.isArray(t))return vR(t)}function vR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function dUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function V9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uie(n.key),n)}}function fUe(t,e,r){return e&&V9(t.prototype,e),r&&V9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function hUe(t,e,r){return e=J_(e),pUe(t,cie()?Reflect.construct(e,r||[],J_(t).constructor):e.apply(t,r))}function pUe(t,e){if(e&&(Om(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mUe(t)}function mUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cie=function(){return!!t})()}function J_(t){return J_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J_(t)}function gUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yR(t,e)}function yR(t,e){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},yR(t,e)}function Ao(t,e,r){return e=uie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uie(t){var e=vUe(t,"string");return Om(e)=="symbol"?e:e+""}function vUe(t,e){if(Om(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Om(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Jy=function(t){function e(){var r;dUe(this,e);for(var n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return r=hUe(this,e,[].concat(i)),Ao(r,"state",{isAnimationFinished:!0,totalLength:0}),Ao(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ao(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(j,N){return j+N});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,g=l-o,v=[],y=0,b=0;y<c.length;b+=c[y],++y)if(b+c[y]>f){v=[].concat(_p(c.slice(0,y)),[f-b]);break}var _=v.length%2===0?[0,g]:[g];return[].concat(_p(e.repeat(c,d)),_p(v),_).map(function(j){return"".concat(j,"px")}).join(", ")}),Ao(r,"id",lg("recharts-line-")),Ao(r,"pathRef",function(o){r.mainCurve=o}),Ao(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ao(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return gUe(e,t),fUe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,l=a.xAxis,c=a.yAxis,u=a.layout,d=a.children,f=ba(d,Kx);if(!f)return null;var g=function(b,_){return{x:b.x,y:b.y,value:b.value,errorVal:xi(b.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return ne.createElement(fn,v,f.map(function(y){return ne.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=fr(this.props,!1),g=fr(c,!0),v=u.map(function(b,_){var j=la(la(la({key:"dot-".concat(_),r:3},f),g),{},{index:_,cx:b.x,cy:b.y,value:b.value,dataKey:d,payload:b.payload,points:u});return e.renderDotItem(c,j)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return ne.createElement(fn,Kv({className:"recharts-line-dots",key:"dots"},y),v)}},{key:"renderCurveStatically",value:function(n,i,a,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=q9(l,iUe),g=la(la(la({},fr(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return ne.createElement(M_,Kv({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var a=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,g=o.animationEasing,v=o.animationId,y=o.animateNewValues,b=o.width,_=o.height,j=this.state,N=j.prevPoints,C=j.totalLength;return ne.createElement($l,{begin:d,duration:f,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(N){var P=N.length/l.length,O=l.map(function(z,V){var X=Math.floor(V*P);if(N[X]){var te=N[X],le=pa(te.x,z.x),W=pa(te.y,z.y);return la(la({},z),{},{x:le(E),y:W(E)})}if(y){var re=pa(b*2,z.x),G=pa(_/2,z.y);return la(la({},z),{},{x:re(E),y:G(E)})}return la(la({},z),{},{x:z.x,y:z.y})});return a.renderCurveStatically(O,n,i)}var I=pa(0,C),F=I(E),H;if(c){var U="".concat(c).split(/[,\s]+/gim).map(function(z){return parseFloat(z)});H=a.getStrokeDasharray(F,C,U)}else H=a.generateSimpleStrokeDasharray(C,F);return a.renderCurveStatically(l,n,i,{strokeDasharray:H})})}},{key:"renderCurve",value:function(n,i){var a=this.props,o=a.points,l=a.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Hx(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,a=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,g=i.left,v=i.width,y=i.height,b=i.isAnimationActive,_=i.id;if(a||!l||!l.length)return null;var j=this.state.isAnimationFinished,N=l.length===1,C=mr("recharts-line",c),A=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,P=A||E,O=nr(_)?this.id:_,I=(n=fr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},F=I.r,H=F===void 0?3:F,U=I.strokeWidth,z=U===void 0?2:U,V=PRe(o)?o:{},X=V.clipDot,te=X===void 0?!0:X,le=H*2+z;return ne.createElement(fn,{className:C},A||E?ne.createElement("defs",null,ne.createElement("clipPath",{id:"clipPath-".concat(O)},ne.createElement("rect",{x:A?g:g-v/2,y:E?f:f-y/2,width:A?v:v*2,height:E?y:y*2})),!te&&ne.createElement("clipPath",{id:"clipPath-dots-".concat(O)},ne.createElement("rect",{x:g-le/2,y:f-le/2,width:v+le,height:y+le}))):null,!N&&this.renderCurve(P,O),this.renderErrorBar(P,O),(N||o)&&this.renderDots(P,te,O),(!b||j)&&Gc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var a=n.length%2!==0?[].concat(_p(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(_p(o),_p(a));return o}},{key:"renderDotItem",value:function(n,i){var a;if(ne.isValidElement(n))a=ne.cloneElement(n,i);else if(tr(n))a=n(i);else{var o=i.key,l=q9(i,sUe),c=mr("recharts-line-dot",typeof n!="boolean"?n.className:"");a=ne.createElement(KD,Kv({key:o},l,{className:c}))}return a}}])}(x.PureComponent);Ao(Jy,"displayName","Line");Ao(Jy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!jh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ao(Jy,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(g,v){var y=xi(g,o);return d==="horizontal"?{x:rV({axis:r,ticks:i,bandSize:l,entry:g,index:v}),y:nr(y)?null:n.scale(y),value:y,payload:g}:{x:nr(y)?null:r.scale(y),y:rV({axis:n,ticks:a,bandSize:l,entry:g,index:v}),value:y,payload:g}});return la({points:f,layout:d},u)});function Rm(t){"@babel/helpers - typeof";return Rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rm(t)}function yUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hie(n.key),n)}}function bUe(t,e,r){return e&&xUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wUe(t,e,r){return e=Q_(e),_Ue(t,die()?Reflect.construct(e,r||[],Q_(t).constructor):e.apply(t,r))}function _Ue(t,e){if(e&&(Rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jUe(t)}function jUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function die(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(die=function(){return!!t})()}function Q_(t){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q_(t)}function SUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xR(t,e)}function xR(t,e){return xR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xR(t,e)}function fie(t,e,r){return e=hie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hie(t){var e=NUe(t,"string");return Rm(e)=="symbol"?e:e+""}function NUe(t,e){if(Rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function bR(){return bR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bR.apply(this,arguments)}function CUe(t){var e=t.xAxisId,r=XD(),n=JD(),i=Xne(e);return i==null?null:x.createElement(hg,bR({},i,{className:mr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return Dc(o,!0)}}))}var Ff=function(t){function e(){return yUe(this,e),wUe(this,e,arguments)}return SUe(e,t),bUe(e,[{key:"render",value:function(){return x.createElement(CUe,this.props)}}])}(x.Component);fie(Ff,"displayName","XAxis");fie(Ff,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function EUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gie(n.key),n)}}function kUe(t,e,r){return e&&PUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function AUe(t,e,r){return e=e1(e),TUe(t,pie()?Reflect.construct(e,r||[],e1(t).constructor):e.apply(t,r))}function TUe(t,e){if(e&&(Mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OUe(t)}function OUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pie=function(){return!!t})()}function e1(t){return e1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e1(t)}function RUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wR(t,e)}function wR(t,e){return wR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},wR(t,e)}function mie(t,e,r){return e=gie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gie(t){var e=MUe(t,"string");return Mm(e)=="symbol"?e:e+""}function MUe(t,e){if(Mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _R(){return _R=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_R.apply(this,arguments)}var IUe=function(e){var r=e.yAxisId,n=XD(),i=JD(),a=Jne(r);return a==null?null:x.createElement(hg,_R({},a,{className:mr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return Dc(l,!0)}}))},Bf=function(t){function e(){return EUe(this,e),AUe(this,e,arguments)}return RUe(e,t),kUe(e,[{key:"render",value:function(){return x.createElement(IUe,this.props)}}])}(x.Component);mie(Bf,"displayName","YAxis");mie(Bf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function W9(t){return FUe(t)||$Ue(t)||LUe(t)||DUe()}function DUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(t,e){if(t){if(typeof t=="string")return jR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jR(t,e)}}function $Ue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FUe(t){if(Array.isArray(t))return jR(t)}function jR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var SR=function(e,r,n,i,a){var o=ba(e,eL),l=ba(e,Lj),c=[].concat(W9(o),W9(l)),u=ba(e,Fj),d="".concat(i,"Id"),f=i[0],g=r;if(c.length&&(g=c.reduce(function(b,_){if(_.props[d]===n&&kl(_.props,"extendDomain")&&ft(_.props[f])){var j=_.props[f];return[Math.min(b[0],j),Math.max(b[1],j)]}return b},g)),u.length){var v="".concat(f,"1"),y="".concat(f,"2");g=u.reduce(function(b,_){if(_.props[d]===n&&kl(_.props,"extendDomain")&&ft(_.props[v])&&ft(_.props[y])){var j=_.props[v],N=_.props[y];return[Math.min(b[0],j,N),Math.max(b[1],j,N)]}return b},g)}return a&&a.length&&(g=a.reduce(function(b,_){return ft(_)?[Math.min(b[0],_),Math.max(b[1],_)]:b},g)),g},lA={exports:{}},H9;function BUe(){return H9||(H9=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,f||c,g),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],v]:c._events[y].push(v):(c._events[y]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,v=f.length,y=new Array(v);g<v;g++)y[g]=f[g].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,g,v,y){var b=r?r+u:u;if(!this._events[b])return!1;var _=this._events[b],j=arguments.length,N,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),j){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,f),!0;case 4:return _.fn.call(_.context,d,f,g),!0;case 5:return _.fn.call(_.context,d,f,g,v),!0;case 6:return _.fn.call(_.context,d,f,g,v,y),!0}for(C=1,N=new Array(j-1);C<j;C++)N[C-1]=arguments[C];_.fn.apply(_.context,N)}else{var A=_.length,E;for(C=0;C<A;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),j){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,d);break;case 3:_[C].fn.call(_[C].context,d,f);break;case 4:_[C].fn.call(_[C].context,d,f,g);break;default:if(!N)for(E=1,N=new Array(j-1);E<j;E++)N[E-1]=arguments[E];_[C].fn.apply(_[C].context,N)}}return!0},l.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,g){var v=r?r+u:u;if(!this._events[v])return this;if(!d)return o(this,v),this;var y=this._events[v];if(y.fn)y.fn===d&&(!g||y.once)&&(!f||y.context===f)&&o(this,v);else{for(var b=0,_=[],j=y.length;b<j;b++)(y[b].fn!==d||g&&!y[b].once||f&&y[b].context!==f)&&_.push(y[b]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(lA)),lA.exports}var zUe=BUe();const qUe=Er(zUe);var cA=new qUe,uA="recharts.syncMouseEvents";function Qy(t){"@babel/helpers - typeof";return Qy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qy(t)}function UUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,vie(n.key),n)}}function WUe(t,e,r){return e&&VUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dA(t,e,r){return e=vie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vie(t){var e=HUe(t,"string");return Qy(e)=="symbol"?e:e+""}function HUe(t,e){if(Qy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var KUe=function(){function t(){UUe(this,t),dA(this,"activeIndex",0),dA(this,"coordinateList",[]),dA(this,"layout","horizontal")}return WUe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,a=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=a??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=a+c+u,g=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:g})}}}])}();function GUe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ft(n)&&ft(i))return!0}return!1}function ZUe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function yie(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,a=t.endAngle,o=ai(e,r,n,i),l=ai(e,r,n,a);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}function YUe(t,e,r){var n,i,a,o;if(t==="horizontal")n=e.x,a=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,a=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,g=ai(l,c,u,f),v=ai(l,c,d,f);n=g.x,i=g.y,a=v.x,o=v.y}else return yie(e);return[{x:n,y:i},{x:a,y:o}]}function ex(t){"@babel/helpers - typeof";return ex=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ex(t)}function K9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K9(Object(r),!0).forEach(function(n){XUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XUe(t,e,r){return e=JUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JUe(t){var e=QUe(t,"string");return ex(e)=="symbol"?e:e+""}function QUe(t,e){if(ex(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ex(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eVe(t){var e,r,n=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!a||!o||g!=="ScatterChart"&&i!=="axis")return null;var y,b=M_;if(g==="ScatterChart")y=o,b=WBe;else if(g==="BarChart")y=ZUe(f,o,c,d),b=HD;else if(f==="radial"){var _=yie(o),j=_.cx,N=_.cy,C=_.radius,A=_.startAngle,E=_.endAngle;y={cx:j,cy:N,startAngle:A,endAngle:E,innerRadius:C,outerRadius:C},b=Sne}else y={points:YUe(f,o,c)},b=M_;var P=Gb(Gb(Gb(Gb({stroke:"#ccc",pointerEvents:"none"},c),y),fr(v,!1)),{},{payload:l,payloadIndex:u,className:mr("recharts-tooltip-cursor",v.className)});return x.isValidElement(v)?x.cloneElement(v,P):x.createElement(b,P)}var tVe=["item"],rVe=["children","className","width","height","style","compact","title","desc"];function Im(t){"@babel/helpers - typeof";return Im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Im(t)}function Fp(){return Fp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fp.apply(this,arguments)}function G9(t,e){return sVe(t)||iVe(t,e)||bie(t,e)||nVe()}function nVe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iVe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,a,o,l=[],c=!0,u=!1;try{if(a=(r=r.call(t)).next,e!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function sVe(t){if(Array.isArray(t))return t}function Z9(t,e){if(t==null)return{};var r=aVe(t,e),n,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)n=a[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function aVe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oVe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lVe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wie(n.key),n)}}function cVe(t,e,r){return e&&lVe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function uVe(t,e,r){return e=t1(e),dVe(t,xie()?Reflect.construct(e,r||[],t1(t).constructor):e.apply(t,r))}function dVe(t,e){if(e&&(Im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fVe(t)}function fVe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xie=function(){return!!t})()}function t1(t){return t1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t1(t)}function hVe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NR(t,e)}function NR(t,e){return NR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},NR(t,e)}function Dm(t){return gVe(t)||mVe(t)||bie(t)||pVe()}function pVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bie(t,e){if(t){if(typeof t=="string")return CR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CR(t,e)}}function mVe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gVe(t){if(Array.isArray(t))return CR(t)}function CR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Y9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y9(Object(r),!0).forEach(function(n){qt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qt(t,e,r){return e=wie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wie(t){var e=vVe(t,"string");return Im(e)=="symbol"?e:e+""}function vVe(t,e){if(Im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yVe={xAxis:["bottom","top"],yAxis:["left","right"]},xVe={width:"100%",height:"100%"},_ie={x:0,y:0};function Zb(t){return t}var bVe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},wVe=function(e,r,n,i){var a=r.find(function(d){return d&&d.index===n});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,l=i.radius;return He(He(He({},i),ai(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=a.coordinate,u=i.angle;return He(He(He({},i),ai(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return _ie},Bj=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,a=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Dm(l),Dm(u)):l},[]);return o.length>0?o:e&&e.length&&ft(i)&&ft(a)?e.slice(i,a+1):[]};function jie(t){return t==="number"?[0,"auto"]:void 0}var ER=function(e,r,n,i){var a=e.graphicalItems,o=e.tooltipAxis,l=Bj(r,e);return n<0||!a||!a.length||n>=l.length?null:a.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=f===void 0?l:f;g=a_(v,o.dataKey,i)}else g=f&&f[n]||l[n];return g?[].concat(Dm(c),[wne(u,g)]):c},[])},X9=function(e,r,n,i){var a=i||{x:e.chartX,y:e.chartY},o=bVe(a,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=EFe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,g=ER(e,r,d,f),v=wVe(n,l,d,a);return{activeTooltipIndex:d,activeLabel:f,activePayload:g,activeCoordinate:v}}return null},_Ve=function(e,r){var n=r.axes,i=r.graphicalItems,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,g=e.stackOffset,v=yne(d,a);return n.reduce(function(y,b){var _,j=b.type.defaultProps!==void 0?He(He({},b.type.defaultProps),b.props):b.props,N=j.type,C=j.dataKey,A=j.allowDataOverflow,E=j.allowDuplicatedCategory,P=j.scale,O=j.ticks,I=j.includeHidden,F=j[o];if(y[F])return y;var H=Bj(e.data,{graphicalItems:i.filter(function(de){var Se,Me=o in de.props?de.props[o]:(Se=de.type.defaultProps)===null||Se===void 0?void 0:Se[o];return Me===F}),dataStartIndex:c,dataEndIndex:u}),U=H.length,z,V,X;GUe(j.domain,A,N)&&(z=VO(j.domain,null,A),v&&(N==="number"||P!=="auto")&&(X=Wv(H,C,"category")));var te=jie(N);if(!z||z.length===0){var le,W=(le=j.domain)!==null&&le!==void 0?le:te;if(C){if(z=Wv(H,C,N),N==="category"&&v){var re=yRe(z);E&&re?(V=z,z=q_(0,U)):E||(z=aV(W,z,b).reduce(function(de,Se){return de.indexOf(Se)>=0?de:[].concat(Dm(de),[Se])},[]))}else if(N==="category")E?z=z.filter(function(de){return de!==""&&!nr(de)}):z=aV(W,z,b).reduce(function(de,Se){return de.indexOf(Se)>=0||Se===""||nr(Se)?de:[].concat(Dm(de),[Se])},[]);else if(N==="number"){var G=OFe(H,i.filter(function(de){var Se,Me,qe=o in de.props?de.props[o]:(Se=de.type.defaultProps)===null||Se===void 0?void 0:Se[o],oe="hide"in de.props?de.props.hide:(Me=de.type.defaultProps)===null||Me===void 0?void 0:Me.hide;return qe===F&&(I||!oe)}),C,a,d);G&&(z=G)}v&&(N==="number"||P!=="auto")&&(X=Wv(H,C,"category"))}else v?z=q_(0,U):l&&l[F]&&l[F].hasStack&&N==="number"?z=g==="expand"?[0,1]:bne(l[F].stackGroups,c,u):z=vne(H,i.filter(function(de){var Se=o in de.props?de.props[o]:de.type.defaultProps[o],Me="hide"in de.props?de.props.hide:de.type.defaultProps.hide;return Se===F&&(I||!Me)}),N,d,!0);if(N==="number")z=SR(f,z,F,a,O),W&&(z=VO(W,z,A));else if(N==="category"&&W){var ie=W,Z=z.every(function(de){return ie.indexOf(de)>=0});Z&&(z=ie)}}return He(He({},y),{},qt({},F,He(He({},j),{},{axisType:a,domain:z,categoricalDomain:X,duplicateDomain:V,originalDomain:(_=j.domain)!==null&&_!==void 0?_:te,isCategorical:v,layout:d})))},{})},jVe=function(e,r){var n=r.graphicalItems,i=r.Axis,a=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,g=Bj(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=g.length,y=yne(d,a),b=-1;return n.reduce(function(_,j){var N=j.type.defaultProps!==void 0?He(He({},j.type.defaultProps),j.props):j.props,C=N[o],A=jie("number");if(!_[C]){b++;var E;return y?E=q_(0,v):l&&l[C]&&l[C].hasStack?(E=bne(l[C].stackGroups,c,u),E=SR(f,E,C,a)):(E=VO(A,vne(g,n.filter(function(P){var O,I,F=o in P.props?P.props[o]:(O=P.type.defaultProps)===null||O===void 0?void 0:O[o],H="hide"in P.props?P.props.hide:(I=P.type.defaultProps)===null||I===void 0?void 0:I.hide;return F===C&&!H}),"number",d),i.defaultProps.allowDataOverflow),E=SR(f,E,C,a)),He(He({},_),{},qt({},C,He(He({axisType:a},i.defaultProps),{},{hide:!0,orientation:xa(yVe,"".concat(a,".").concat(b%2),null),domain:E,originalDomain:A,isCategorical:y,layout:d})))}return _},{})},SVe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,a=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),g=ba(d,a),v={};return g&&g.length?v=_Ve(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=jVe(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},NVe=function(e){var r=fd(e),n=Dc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xD(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:T_(r,n)}},J9=function(e){var r=e.children,n=e.defaultShowTooltip,i=ua(r,Cm),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},CVe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Hc(r&&r.type);return n&&n.indexOf("Bar")>=0})},Q9=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},EVe=function(e,r){var n=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,g=n.margin||{},v=ua(f,Cm),y=ua(f,Sd),b=Object.keys(c).reduce(function(E,P){var O=c[P],I=O.orientation;return!O.mirror&&!O.hide?He(He({},E),{},qt({},I,E[I]+O.width)):E},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(E,P){var O=o[P],I=O.orientation;return!O.mirror&&!O.hide?He(He({},E),{},qt({},I,xa(E,"".concat(I))+O.height)):E},{top:g.top||0,bottom:g.bottom||0}),j=He(He({},_),b),N=j.bottom;v&&(j.bottom+=v.props.height||Cm.defaultProps.height),y&&r&&(j=AFe(j,i,n,r));var C=u-j.left-j.right,A=d-j.top-j.bottom;return He(He({brushBottom:N},j),{},{width:Math.max(C,0),height:Math.max(A,0)})},PVe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},kVe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,g=function(j,N){var C=N.graphicalItems,A=N.stackGroups,E=N.offset,P=N.updateId,O=N.dataStartIndex,I=N.dataEndIndex,F=j.barSize,H=j.layout,U=j.barGap,z=j.barCategoryGap,V=j.maxBarSize,X=Q9(H),te=X.numericAxisName,le=X.cateAxisName,W=CVe(C),re=[];return C.forEach(function(G,ie){var Z=Bj(j.data,{graphicalItems:[G],dataStartIndex:O,dataEndIndex:I}),de=G.type.defaultProps!==void 0?He(He({},G.type.defaultProps),G.props):G.props,Se=de.dataKey,Me=de.maxBarSize,qe=de["".concat(te,"Id")],oe=de["".concat(le,"Id")],ae={},ge=c.reduce(function(Pe,Fe){var et=N["".concat(Fe.axisType,"Map")],lt=de["".concat(Fe.axisType,"Id")];et&&et[lt]||Fe.axisType==="zAxis"||lh();var ue=et[lt];return He(He({},Pe),{},qt(qt({},Fe.axisType,ue),"".concat(Fe.axisType,"Ticks"),Dc(ue)))},ae),ve=ge[le],Ae=ge["".concat(le,"Ticks")],Q=A&&A[qe]&&A[qe].hasStack&&VFe(G,A[qe].stackGroups),Y=Hc(G.type).indexOf("Bar")>=0,Ee=T_(ve,Ae),Ce=[],Qe=W&&PFe({barSize:F,stackGroups:A,totalSize:PVe(ge,le)});if(Y){var Ze,Oe,ht=nr(Me)?V:Me,Ft=(Ze=(Oe=T_(ve,Ae,!0))!==null&&Oe!==void 0?Oe:ht)!==null&&Ze!==void 0?Ze:0;Ce=kFe({barGap:U,barCategoryGap:z,bandSize:Ft!==Ee?Ft:Ee,sizeList:Qe[oe],maxBarSize:ht}),Ft!==Ee&&(Ce=Ce.map(function(Pe){return He(He({},Pe),{},{position:He(He({},Pe.position),{},{offset:Pe.position.offset-Ft/2})})}))}var ye=G&&G.type&&G.type.getComposedData;ye&&re.push({props:He(He({},ye(He(He({},ge),{},{displayedData:Z,props:j,dataKey:Se,item:G,bandSize:Ee,barPosition:Ce,offset:E,stackedData:Q,layout:H,dataStartIndex:O,dataEndIndex:I}))),{},qt(qt(qt({key:G.key||"item-".concat(ie)},te,ge[te]),le,ge[le]),"animationId",P)),childIndex:TRe(G,j.children),item:G})}),re},v=function(j,N){var C=j.props,A=j.dataStartIndex,E=j.dataEndIndex,P=j.updateId;if(!b8({props:C}))return null;var O=C.children,I=C.layout,F=C.stackOffset,H=C.data,U=C.reverseStackOrder,z=Q9(I),V=z.numericAxisName,X=z.cateAxisName,te=ba(O,n),le=zFe(H,te,"".concat(V,"Id"),"".concat(X,"Id"),F,U),W=c.reduce(function(de,Se){var Me="".concat(Se.axisType,"Map");return He(He({},de),{},qt({},Me,SVe(C,He(He({},Se),{},{graphicalItems:te,stackGroups:Se.axisType===V&&le,dataStartIndex:A,dataEndIndex:E}))))},{}),re=EVe(He(He({},W),{},{props:C,graphicalItems:te}),N?.legendBBox);Object.keys(W).forEach(function(de){W[de]=d(C,W[de],re,de.replace("Map",""),r)});var G=W["".concat(X,"Map")],ie=NVe(G),Z=g(C,He(He({},W),{},{dataStartIndex:A,dataEndIndex:E,updateId:P,graphicalItems:te,stackGroups:le,offset:re}));return He(He({formattedGraphicalItems:Z,graphicalItems:te,offset:re,stackGroups:le},ie),W)},y=function(_){function j(N){var C,A,E;return oVe(this,j),E=uVe(this,j,[N]),qt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),qt(E,"accessibilityManager",new KUe),qt(E,"handleLegendBBoxUpdate",function(P){if(P){var O=E.state,I=O.dataStartIndex,F=O.dataEndIndex,H=O.updateId;E.setState(He({legendBBox:P},v({props:E.props,dataStartIndex:I,dataEndIndex:F,updateId:H},He(He({},E.state),{},{legendBBox:P}))))}}),qt(E,"handleReceiveSyncEvent",function(P,O,I){if(E.props.syncId===P){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(O)}}),qt(E,"handleBrushChange",function(P){var O=P.startIndex,I=P.endIndex;if(O!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var F=E.state.updateId;E.setState(function(){return He({dataStartIndex:O,dataEndIndex:I},v({props:E.props,dataStartIndex:O,dataEndIndex:I,updateId:F},E.state))}),E.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),qt(E,"handleMouseEnter",function(P){var O=E.getMouseInfo(P);if(O){var I=He(He({},O),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var F=E.props.onMouseEnter;tr(F)&&F(I,P)}}),qt(E,"triggeredAfterMouseMove",function(P){var O=E.getMouseInfo(P),I=O?He(He({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var F=E.props.onMouseMove;tr(F)&&F(I,P)}),qt(E,"handleItemMouseEnter",function(P){E.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),qt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),qt(E,"handleMouseMove",function(P){P.persist(),E.throttleTriggeredAfterMouseMove(P)}),qt(E,"handleMouseLeave",function(P){E.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var I=E.props.onMouseLeave;tr(I)&&I(O,P)}),qt(E,"handleOuterEvent",function(P){var O=ARe(P),I=xa(E.props,"".concat(O));if(O&&tr(I)){var F,H;/.*touch.*/i.test(O)?H=E.getMouseInfo(P.changedTouches[0]):H=E.getMouseInfo(P),I((F=H)!==null&&F!==void 0?F:{},P)}}),qt(E,"handleClick",function(P){var O=E.getMouseInfo(P);if(O){var I=He(He({},O),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var F=E.props.onClick;tr(F)&&F(I,P)}}),qt(E,"handleMouseDown",function(P){var O=E.props.onMouseDown;if(tr(O)){var I=E.getMouseInfo(P);O(I,P)}}),qt(E,"handleMouseUp",function(P){var O=E.props.onMouseUp;if(tr(O)){var I=E.getMouseInfo(P);O(I,P)}}),qt(E,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),qt(E,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseDown(P.changedTouches[0])}),qt(E,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&E.handleMouseUp(P.changedTouches[0])}),qt(E,"handleDoubleClick",function(P){var O=E.props.onDoubleClick;if(tr(O)){var I=E.getMouseInfo(P);O(I,P)}}),qt(E,"handleContextMenu",function(P){var O=E.props.onContextMenu;if(tr(O)){var I=E.getMouseInfo(P);O(I,P)}}),qt(E,"triggerSyncEvent",function(P){E.props.syncId!==void 0&&cA.emit(uA,E.props.syncId,P,E.eventEmitterSymbol)}),qt(E,"applySyncEvent",function(P){var O=E.props,I=O.layout,F=O.syncMethod,H=E.state.updateId,U=P.dataStartIndex,z=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)E.setState(He({dataStartIndex:U,dataEndIndex:z},v({props:E.props,dataStartIndex:U,dataEndIndex:z,updateId:H},E.state)));else if(P.activeTooltipIndex!==void 0){var V=P.chartX,X=P.chartY,te=P.activeTooltipIndex,le=E.state,W=le.offset,re=le.tooltipTicks;if(!W)return;if(typeof F=="function")te=F(re,P);else if(F==="value"){te=-1;for(var G=0;G<re.length;G++)if(re[G].value===P.activeLabel){te=G;break}}var ie=He(He({},W),{},{x:W.left,y:W.top}),Z=Math.min(V,ie.x+ie.width),de=Math.min(X,ie.y+ie.height),Se=re[te]&&re[te].value,Me=ER(E.state,E.props.data,te),qe=re[te]?{x:I==="horizontal"?re[te].coordinate:Z,y:I==="horizontal"?de:re[te].coordinate}:_ie;E.setState(He(He({},P),{},{activeLabel:Se,activeCoordinate:qe,activePayload:Me,activeTooltipIndex:te}))}else E.setState(P)}),qt(E,"renderCursor",function(P){var O,I=E.state,F=I.isTooltipActive,H=I.activeCoordinate,U=I.activePayload,z=I.offset,V=I.activeTooltipIndex,X=I.tooltipAxisBandSize,te=E.getTooltipEventType(),le=(O=P.props.active)!==null&&O!==void 0?O:F,W=E.props.layout,re=P.key||"_recharts-cursor";return ne.createElement(eVe,{key:re,activeCoordinate:H,activePayload:U,activeTooltipIndex:V,chartName:r,element:P,isActive:le,layout:W,offset:z,tooltipAxisBandSize:X,tooltipEventType:te})}),qt(E,"renderPolarAxis",function(P,O,I){var F=xa(P,"type.axisType"),H=xa(E.state,"".concat(F,"Map")),U=P.type.defaultProps,z=U!==void 0?He(He({},U),P.props):P.props,V=H&&H[z["".concat(F,"Id")]];return x.cloneElement(P,He(He({},V),{},{className:mr(F,V.className),key:P.key||"".concat(O,"-").concat(I),ticks:Dc(V,!0)}))}),qt(E,"renderPolarGrid",function(P){var O=P.props,I=O.radialLines,F=O.polarAngles,H=O.polarRadius,U=E.state,z=U.radiusAxisMap,V=U.angleAxisMap,X=fd(z),te=fd(V),le=te.cx,W=te.cy,re=te.innerRadius,G=te.outerRadius;return x.cloneElement(P,{polarAngles:Array.isArray(F)?F:Dc(te,!0).map(function(ie){return ie.coordinate}),polarRadius:Array.isArray(H)?H:Dc(X,!0).map(function(ie){return ie.coordinate}),cx:le,cy:W,innerRadius:re,outerRadius:G,key:P.key||"polar-grid",radialLines:I})}),qt(E,"renderLegend",function(){var P=E.state.formattedGraphicalItems,O=E.props,I=O.children,F=O.width,H=O.height,U=E.props.margin||{},z=F-(U.left||0)-(U.right||0),V=mne({children:I,formattedGraphicalItems:P,legendWidth:z,legendContent:u});if(!V)return null;var X=V.item,te=Z9(V,tVe);return x.cloneElement(X,He(He({},te),{},{chartWidth:F,chartHeight:H,margin:U,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),qt(E,"renderTooltip",function(){var P,O=E.props,I=O.children,F=O.accessibilityLayer,H=ua(I,xs);if(!H)return null;var U=E.state,z=U.isTooltipActive,V=U.activeCoordinate,X=U.activePayload,te=U.activeLabel,le=U.offset,W=(P=H.props.active)!==null&&P!==void 0?P:z;return x.cloneElement(H,{viewBox:He(He({},le),{},{x:le.left,y:le.top}),active:W,label:te,payload:W?X:[],coordinate:V,accessibilityLayer:F})}),qt(E,"renderBrush",function(P){var O=E.props,I=O.margin,F=O.data,H=E.state,U=H.offset,z=H.dataStartIndex,V=H.dataEndIndex,X=H.updateId;return x.cloneElement(P,{key:P.key||"_recharts-brush",onChange:Vb(E.handleBrushChange,P.props.onChange),data:F,x:ft(P.props.x)?P.props.x:U.left,y:ft(P.props.y)?P.props.y:U.top+U.height+U.brushBottom-(I.bottom||0),width:ft(P.props.width)?P.props.width:U.width,startIndex:z,endIndex:V,updateId:"brush-".concat(X)})}),qt(E,"renderReferenceElement",function(P,O,I){if(!P)return null;var F=E,H=F.clipPathId,U=E.state,z=U.xAxisMap,V=U.yAxisMap,X=U.offset,te=P.type.defaultProps||{},le=P.props,W=le.xAxisId,re=W===void 0?te.xAxisId:W,G=le.yAxisId,ie=G===void 0?te.yAxisId:G;return x.cloneElement(P,{key:P.key||"".concat(O,"-").concat(I),xAxis:z[re],yAxis:V[ie],viewBox:{x:X.left,y:X.top,width:X.width,height:X.height},clipPathId:H})}),qt(E,"renderActivePoints",function(P){var O=P.item,I=P.activePoint,F=P.basePoint,H=P.childIndex,U=P.isRange,z=[],V=O.props.key,X=O.item.type.defaultProps!==void 0?He(He({},O.item.type.defaultProps),O.item.props):O.item.props,te=X.activeDot,le=X.dataKey,W=He(He({index:H,dataKey:le,cx:I.x,cy:I.y,r:4,fill:WD(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},fr(te,!1)),o_(te));return z.push(j.renderActiveDot(te,W,"".concat(V,"-activePoint-").concat(H))),F?z.push(j.renderActiveDot(te,He(He({},W),{},{cx:F.x,cy:F.y}),"".concat(V,"-basePoint-").concat(H))):U&&z.push(null),z}),qt(E,"renderGraphicChild",function(P,O,I){var F=E.filterFormatItem(P,O,I);if(!F)return null;var H=E.getTooltipEventType(),U=E.state,z=U.isTooltipActive,V=U.tooltipAxis,X=U.activeTooltipIndex,te=U.activeLabel,le=E.props.children,W=ua(le,xs),re=F.props,G=re.points,ie=re.isRange,Z=re.baseLine,de=F.item.type.defaultProps!==void 0?He(He({},F.item.type.defaultProps),F.item.props):F.item.props,Se=de.activeDot,Me=de.hide,qe=de.activeBar,oe=de.activeShape,ae=!!(!Me&&z&&W&&(Se||qe||oe)),ge={};H!=="axis"&&W&&W.props.trigger==="click"?ge={onClick:Vb(E.handleItemMouseEnter,P.props.onClick)}:H!=="axis"&&(ge={onMouseLeave:Vb(E.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:Vb(E.handleItemMouseEnter,P.props.onMouseEnter)});var ve=x.cloneElement(P,He(He({},F.props),ge));function Ae(Fe){return typeof V.dataKey=="function"?V.dataKey(Fe.payload):null}if(ae)if(X>=0){var Q,Y;if(V.dataKey&&!V.allowDuplicatedCategory){var Ee=typeof V.dataKey=="function"?Ae:"payload.".concat(V.dataKey.toString());Q=a_(G,Ee,te),Y=ie&&Z&&a_(Z,Ee,te)}else Q=G?.[X],Y=ie&&Z&&Z[X];if(oe||qe){var Ce=P.props.activeIndex!==void 0?P.props.activeIndex:X;return[x.cloneElement(P,He(He(He({},F.props),ge),{},{activeIndex:Ce})),null,null]}if(!nr(Q))return[ve].concat(Dm(E.renderActivePoints({item:F,activePoint:Q,basePoint:Y,childIndex:X,isRange:ie})))}else{var Qe,Ze=(Qe=E.getItemByXY(E.state.activeCoordinate))!==null&&Qe!==void 0?Qe:{graphicalItem:ve},Oe=Ze.graphicalItem,ht=Oe.item,Ft=ht===void 0?P:ht,ye=Oe.childIndex,Pe=He(He(He({},F.props),ge),{},{activeIndex:ye});return[x.cloneElement(Ft,Pe),null,null]}return ie?[ve,null,null]:[ve,null]}),qt(E,"renderCustomized",function(P,O,I){return x.cloneElement(P,He(He({key:"recharts-customized-".concat(I)},E.props),E.state))}),qt(E,"renderMap",{CartesianGrid:{handler:Zb,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Zb},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Zb},YAxis:{handler:Zb},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((C=N.id)!==null&&C!==void 0?C:lg("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=mre(E.triggeredAfterMouseMove,(A=N.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return hVe(j,_),cVe(j,[{key:"componentDidMount",value:function(){var C,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,A=C.children,E=C.data,P=C.height,O=C.layout,I=ua(A,xs);if(I){var F=I.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,U=ER(this.state,E,F,H),z=this.state.tooltipTicks[F].coordinate,V=(this.state.offset.top+P)/2,X=O==="horizontal",te=X?{x:z,y:V}:{y:z,x:V},le=this.state.formattedGraphicalItems.find(function(re){var G=re.item;return G.type.name==="Scatter"});le&&(te=He(He({},te),le.props.points[F].tooltipPosition),U=le.props.points[F].tooltipPayload);var W={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:H,activePayload:U,activeCoordinate:te};this.setState(W),this.renderCursor(I),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var E,P;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(C){fO([ua(C.children,xs)],[ua(this.props.children,xs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=ua(this.props.children,xs);if(C&&typeof C.props.shared=="boolean"){var A=C.props.shared?"axis":"item";return l.indexOf(A)>=0?A:a}return a}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),P=vLe(E),O={chartX:Math.round(C.pageX-P.left),chartY:Math.round(C.pageY-P.top)},I=E.width/A.offsetWidth||1,F=this.inRange(O.chartX,O.chartY,I);if(!F)return null;var H=this.state,U=H.xAxisMap,z=H.yAxisMap,V=this.getTooltipEventType(),X=X9(this.state,this.props.data,this.props.layout,F);if(V!=="axis"&&U&&z){var te=fd(U).scale,le=fd(z).scale,W=te&&te.invert?te.invert(O.chartX):null,re=le&&le.invert?le.invert(O.chartY):null;return He(He({},O),{},{xValue:W,yValue:re},X)}return X?He(He({},O),X):null}},{key:"inRange",value:function(C,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,O=C/E,I=A/E;if(P==="horizontal"||P==="vertical"){var F=this.state.offset,H=O>=F.left&&O<=F.left+F.width&&I>=F.top&&I<=F.top+F.height;return H?{x:O,y:I}:null}var U=this.state,z=U.angleAxisMap,V=U.radiusAxisMap;if(z&&V){var X=fd(z);return cV({x:O,y:I},X)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,A=this.getTooltipEventType(),E=ua(C,xs),P={};E&&A==="axis"&&(E.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=o_(this.props,this.handleOuterEvent);return He(He({},O),P)}},{key:"addListener",value:function(){cA.on(uA,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){cA.removeListener(uA,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,A,E){for(var P=this.state.formattedGraphicalItems,O=0,I=P.length;O<I;O++){var F=P[O];if(F.item===C||F.props.key===C.key||A===Hc(F.item.type)&&E===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,A=this.state.offset,E=A.left,P=A.top,O=A.height,I=A.width;return ne.createElement("defs",null,ne.createElement("clipPath",{id:C},ne.createElement("rect",{x:E,y:P,height:O,width:I})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(A,E){var P=G9(E,2),O=P[0],I=P[1];return He(He({},A),{},qt({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(A,E){var P=G9(E,2),O=P[0],I=P[1];return He(He({},A),{},qt({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(C){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(C){var A=this.state,E=A.formattedGraphicalItems,P=A.activeItem;if(E&&E.length)for(var O=0,I=E.length;O<I;O++){var F=E[O],H=F.props,U=F.item,z=U.type.defaultProps!==void 0?He(He({},U.type.defaultProps),U.props):U.props,V=Hc(U.type);if(V==="Bar"){var X=(H.data||[]).find(function(re){return IBe(C,re)});if(X)return{graphicalItem:F,payload:X}}else if(V==="RadialBar"){var te=(H.data||[]).find(function(re){return cV(C,re)});if(te)return{graphicalItem:F,payload:te}}else if(Rj(F,P)||Mj(F,P)||Ky(F,P)){var le=S8e({graphicalItem:F,activeTooltipItem:P,itemData:z.data}),W=z.activeIndex===void 0?le:z.activeIndex;return{graphicalItem:He(He({},F),{},{childIndex:W}),payload:Ky(F,P)?z.data[le]:F.props.data[le]}}}return null}},{key:"render",value:function(){var C=this;if(!b8(this))return null;var A=this.props,E=A.children,P=A.className,O=A.width,I=A.height,F=A.style,H=A.compact,U=A.title,z=A.desc,V=Z9(A,rVe),X=fr(V,!1);if(H)return ne.createElement(k9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement(pO,Fp({},X,{width:O,height:I,title:U,desc:z}),this.renderClipPath(),_8(E,this.renderMap)));if(this.props.accessibilityLayer){var te,le;X.tabIndex=(te=this.props.tabIndex)!==null&&te!==void 0?te:0,X.role=(le=this.props.role)!==null&&le!==void 0?le:"application",X.onKeyDown=function(re){C.accessibilityManager.keyboardEvent(re)},X.onFocus=function(){C.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return ne.createElement(k9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ne.createElement("div",Fp({className:mr("recharts-wrapper",P),style:He({position:"relative",cursor:"default",width:O,height:I},F)},W,{ref:function(G){C.container=G}}),ne.createElement(pO,Fp({},X,{width:O,height:I,title:U,desc:z,style:xVe}),this.renderClipPath(),_8(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);qt(y,"displayName",r),qt(y,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),qt(y,"getDerivedStateFromProps",function(_,j){var N=_.dataKey,C=_.data,A=_.children,E=_.width,P=_.height,O=_.layout,I=_.stackOffset,F=_.margin,H=j.dataStartIndex,U=j.dataEndIndex;if(j.updateId===void 0){var z=J9(_);return He(He(He({},z),{},{updateId:0},v(He(He({props:_},z),{},{updateId:0}),j)),{},{prevDataKey:N,prevData:C,prevWidth:E,prevHeight:P,prevLayout:O,prevStackOffset:I,prevMargin:F,prevChildren:A})}if(N!==j.prevDataKey||C!==j.prevData||E!==j.prevWidth||P!==j.prevHeight||O!==j.prevLayout||I!==j.prevStackOffset||!Hp(F,j.prevMargin)){var V=J9(_),X={chartX:j.chartX,chartY:j.chartY,isTooltipActive:j.isTooltipActive},te=He(He({},X9(j,C,O)),{},{updateId:j.updateId+1}),le=He(He(He({},V),X),te);return He(He(He({},le),v(He({props:_},le),j)),{},{prevDataKey:N,prevData:C,prevWidth:E,prevHeight:P,prevLayout:O,prevStackOffset:I,prevMargin:F,prevChildren:A})}if(!fO(A,j.prevChildren)){var W,re,G,ie,Z=ua(A,Cm),de=Z&&(W=(re=Z.props)===null||re===void 0?void 0:re.startIndex)!==null&&W!==void 0?W:H,Se=Z&&(G=(ie=Z.props)===null||ie===void 0?void 0:ie.endIndex)!==null&&G!==void 0?G:U,Me=de!==H||Se!==U,qe=!nr(C),oe=qe&&!Me?j.updateId:j.updateId+1;return He(He({updateId:oe},v(He(He({props:_},j),{},{updateId:oe,dataStartIndex:de,dataEndIndex:Se}),j)),{},{prevChildren:A,dataStartIndex:de,dataEndIndex:Se})}return null}),qt(y,"renderActiveDot",function(_,j,N){var C;return x.isValidElement(_)?C=x.cloneElement(_,j):tr(_)?C=_(j):C=ne.createElement(KD,j),ne.createElement(fn,{className:"recharts-active-dot",key:N},C)});var b=x.forwardRef(function(j,N){return ne.createElement(y,Fp({},j,{ref:N}))});return b.displayName=y.displayName,b},e7=kVe({chartName:"BarChart",GraphicalChild:Zc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ff},{axisType:"yAxis",AxisComp:Bf}],formatAxisMap:Eze});const jp=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function AVe(){console.log("🚀 AnalyticsPage - Composant initialisé");const[t,e]=x.useState("7days"),[r,n]=x.useMemo(()=>{const P=new Date;console.log("🔍 Calcul des dates - dateRange:",t);let O,I;switch(t){case"today":O=en(P,"yyyy-MM-dd"),I=en(P,"yyyy-MM-dd");break;case"yesterday":const F=ev(P,1);O=en(F,"yyyy-MM-dd"),I=en(F,"yyyy-MM-dd");break;case"7days":O=en(ev(P,7),"yyyy-MM-dd"),I=en(P,"yyyy-MM-dd");break;case"30days":O=en(ev(P,30),"yyyy-MM-dd"),I=en(P,"yyyy-MM-dd");break;case"90days":O=en(ev(P,90),"yyyy-MM-dd"),I=en(P,"yyyy-MM-dd");break;case"thisMonth":O=en(new Date(P.getFullYear(),P.getMonth(),1),"yyyy-MM-dd"),I=en(P,"yyyy-MM-dd");break;case"lastMonth":const H=new Date(P.getFullYear(),P.getMonth()-1,1),U=new Date(P.getFullYear(),P.getMonth(),0);O=en(H,"yyyy-MM-dd"),I=en(U,"yyyy-MM-dd");break;case"thisYear":O=en(new Date(P.getFullYear(),0,1),"yyyy-MM-dd"),I=en(P,"yyyy-MM-dd");break;default:O=en(ev(P,7),"yyyy-MM-dd"),I=en(P,"yyyy-MM-dd");break}return console.log("🔍 Dates calculées:",{start:O,end:I}),[O,I]},[t]),{data:i,isLoading:a,error:o}=Ti({queryKey:["analytics","overview",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données analytics..."),console.log("🔍 Période:",{startDate:r,endDate:n});let P=[],O=[];try{P=(await rn.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",P.length)}catch(X){console.error("❌ Erreur lors du chargement des annonces:",X),P=[]}try{O=await Lo.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",O.length)}catch(X){console.error("❌ Erreur lors du chargement des utilisateurs:",X),O=[]}console.log("🔍 Données récupérées:",{listingsCount:P?.length,usersCount:O?.length});const I=P?.length||0,F=P?.filter(X=>X.status==="approved")?.length||0,H=P?.filter(X=>X.status==="pending")?.length||0,U=O?.length||0,z=O?.filter(X=>X.status==="active")?.length||0,V={totalListings:I,approvedListings:F,pendingListings:H,totalUsers:U,activeUsers:z,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:z,change:0},growth:{listings:0,users:0,revenue:0}};return console.log("🔍 Résultat analytics calculé:",V),V}catch(P){return console.error("❌ Erreur lors du chargement des données analytics:",P),{totalListings:0,approvedListings:0,pendingListings:0,totalUsers:0,activeUsers:0,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:0,change:0},growth:{listings:0,users:0,revenue:0}}}}}),{data:l,isLoading:c}=Ti({queryKey:["analytics","revenue",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données de revenus..."),console.log("🔍 Période:",{startDate:r,endDate:n});const P=await pF.getRevenueData(r,n);return console.log("🔍 Données de revenus récupérées:",P),P}catch(P){return console.error("❌ Erreur lors du chargement des données de revenus:",P),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}}}),{data:u,isLoading:d}=Ti({queryKey:["analytics","users",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données utilisateurs...");const P=await Lo.getAllUsers();if(console.log("🔍 Utilisateurs récupérés pour analytics:",P?.length),!P||P.length===0)return console.log("⚠️ Aucun utilisateur trouvé, retour de données par défaut"),[];const O=P.reduce((F,H)=>{if(H.created_at){const U=en(new Date(H.created_at),"yyyy-MM-dd");F[U]=(F[U]||0)+1}return F},{}),I=Object.entries(O).map(([F,H])=>({date:F,users:H}));return console.log("🔍 Données utilisateurs formatées:",I),I}catch(P){return console.error("❌ Erreur lors du chargement des données utilisateurs:",P),[]}}}),{data:f,isLoading:g}=Ti({queryKey:["analytics","top-products",r,n],queryFn:async()=>[]}),{data:v,isLoading:y}=Ti({queryKey:["analytics","growth",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des tendances de croissance..."),console.log("🔍 Période:",{startDate:r,endDate:n});const P=await pF.getGrowthTrends(r,n);return console.log("🔍 Tendances de croissance récupérées:",P),P}catch(P){return console.error("❌ Erreur lors du chargement des tendances de croissance:",P),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}}}),{data:b,isLoading:_}=Ti({queryKey:["analytics","traffic",r,n],queryFn:async()=>({"Recherche directe":45,"Réseaux sociaux":30,"Moteurs de recherche":15,"Liens externes":10})}),{data:j,isLoading:N}=Ti({queryKey:["analytics","categories",r,n],queryFn:async()=>({Immobilier:40,Automobile:25,Services:20,Marketplace:15})}),C=x.useMemo(()=>u?u.map(P=>({date:en(Yge(P.date),"MMM d"),newUsers:P.users,activeUsers:P.users,returningUsers:0})):[],[u]),A=x.useMemo(()=>b?Object.entries(b).map(([P,O])=>({name:P,value:O})):[],[b]),E=a||c||d||g||_||N||y;return console.log("🔍 État des données avant rendu:",{analyticsData:i,revenueData:l,userData:u,growthTrends:v,isLoading:E,analyticsError:o}),o?(console.error("❌ Erreur analytics détectée:",o),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ml,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),s.jsx(fe,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):!i||!l?(console.log("⚠️ Données manquantes, affichage du chargement..."),console.log("🔍 analyticsData:",i),console.log("🔍 revenueData:",l),console.log("🔍 isLoading:",E),E?s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ml,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des données..."}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Veuillez patienter pendant le chargement des données."}),s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})]})}):o?(console.error("❌ Erreur analytics détectée:",o),s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ml,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),s.jsx(fe,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):s.jsx("div",{className:"space-y-6",children:s.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx(ml,{className:"h-16 w-16 text-muted-foreground mb-4"}),s.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune donnée disponible"}),s.jsx("p",{className:"text-muted-foreground mb-4",children:"Aucune donnée n'est disponible pour la période sélectionnée."}),s.jsx(fe,{onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})})):s.jsxs("div",{className:"space-y-6",children:[console.log("🔍 Rendu principal - début"),s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau de Bord Analytique"}),s.jsx("p",{className:"text-muted-foreground",children:"Aperçu des performances et des tendances de votre plateforme"})]}),s.jsxs("div",{className:"mt-4 flex items-center space-x-2 md:mt-0",children:[s.jsxs(Kr,{value:t,onValueChange:e,children:[s.jsxs(qr,{className:"w-[180px]",children:[s.jsx(zl,{className:"mr-2 h-4 w-4"}),s.jsx(Gr,{placeholder:"Sélectionner une période"})]}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"today",children:"Aujourd'hui"}),s.jsx(Ge,{value:"yesterday",children:"Hier"}),s.jsx(Ge,{value:"7days",children:"7 derniers jours"}),s.jsx(Ge,{value:"30days",children:"30 derniers jours"}),s.jsx(Ge,{value:"90days",children:"90 derniers jours"}),s.jsx(Ge,{value:"thisMonth",children:"Ce mois-ci"}),s.jsx(Ge,{value:"lastMonth",children:"Le mois dernier"}),s.jsx(Ge,{value:"thisYear",children:"Cette année"})]})]}),s.jsxs(fe,{variant:"outline",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),console.log("🔍 Rendu - Stats Grid"),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsxs(xt,{children:[console.log("🔍 Rendu - Carte Total Annonces"),s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Total Annonces"}),s.jsx(hh,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(()=>{const P=i?.totalListings;return console.log("🔍 Affichage Total Annonces:",{value:P,type:typeof P}),E?"...":P?.toLocaleString()||0})()}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," approuvées, ",i?.pendingListings||0," en attente"]})]})]}),s.jsxs(xt,{children:[console.log("🔍 Rendu - Carte Utilisateurs"),s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Utilisateurs"}),s.jsx(va,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E?"...":i?.totalUsers?.toLocaleString()||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.activeUsers?.current||0," actifs"]})]})]}),s.jsxs(xt,{children:[console.log("🔍 Rendu - Carte Chiffre d'affaires"),s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),s.jsx(em,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E?"...":`${(l?.totalRevenue||0).toLocaleString()} FCFA`}),s.jsx("p",{className:"text-xs text-muted-foreground",children:l?.revenueByDate?.length>0&&s.jsxs("span",{className:"text-green-600",children:["↑ ",l.revenueByDate.length," transactions"]})})]})]}),s.jsxs(xt,{children:[console.log("🔍 Rendu - Carte Taux d'approbation"),s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Taux d'approbation"}),s.jsx(bs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:E?"...":i?.totalListings?`${Math.round(i.approvedListings/i.totalListings*100)}%`:"0%"}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," sur ",i?.totalListings||0," annonces"]})]})]})]}),console.log("🔍 Rendu - Main Charts"),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[s.jsxs(xt,{className:"col-span-4",children:[console.log("🔍 Rendu - Graphique Évolution des Revenus"),s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Évolution des Revenus"}),s.jsx(ii,{children:"Chiffre d'affaires sur la période sélectionnée"})]}),s.jsx(wt,{className:"pl-2",children:s.jsx("div",{className:"h-[300px]",children:s.jsx(yp,{width:"100%",height:"100%",children:s.jsxs(Z3,{data:l?.revenueByDate||[],margin:{top:5,right:10,left:0,bottom:5},children:[s.jsx(Rv,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Ff,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(Bf,{tickFormatter:P=>`${P.toLocaleString()} FCFA`,tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(xs,{formatter:P=>[`${P.toLocaleString()} FCFA`,"Revenus"]}),s.jsx(Jy,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),s.jsxs(xt,{className:"col-span-3",children:[console.log("🔍 Rendu - Graphique Sources de trafic"),s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Sources de trafic"}),s.jsx(ii,{children:"Répartition des sources de trafic sur votre site"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"h-[300px]",children:s.jsx(yp,{width:"100%",height:"100%",children:s.jsxs(Y3,{children:[s.jsx(iu,{data:A,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:A.map((P,O)=>s.jsx(_y,{fill:jp[O%jp.length]},`cell-${O}`))}),s.jsx(xs,{formatter:(P,O)=>[`${P}%`,O]}),s.jsx(Sd,{})]})})}),s.jsx("div",{className:"mt-4 space-y-2",children:A.map((P,O)=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:jp[O%jp.length]}}),s.jsx("span",{className:"text-sm",children:P.name})]}),s.jsxs("span",{className:"text-sm font-medium",children:[P.value,"%"]})]},P.name))})]})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[s.jsxs(xt,{className:"col-span-4",children:[s.jsx(Wt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ht,{children:"Activité des utilisateurs"}),s.jsx(ii,{children:"Évolution des nouveaux utilisateurs et des utilisateurs actifs"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-blue-500"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveaux"})]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-green-600"}),s.jsx("span",{className:"text-xs text-muted-foreground",children:"Actifs"})]})]})]})}),s.jsx(wt,{className:"pl-2",children:s.jsx("div",{className:"h-[300px]",children:s.jsx(yp,{width:"100%",height:"100%",children:s.jsxs(e7,{data:C,children:[s.jsx(Rv,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Ff,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(Bf,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),s.jsx(xs,{}),s.jsx(Sd,{}),s.jsx(Zc,{dataKey:"newUsers",fill:"#3b82f6",radius:[4,4,0,0]}),s.jsx(Zc,{dataKey:"activeUsers",fill:"#10b981",radius:[4,4,0,0]})]})})})})]}),s.jsxs(xt,{className:"col-span-3",children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Croissance des Utilisateurs"}),s.jsx(ii,{children:"Nouveaux utilisateurs par période"})]}),s.jsx(wt,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(yp,{width:"100%",height:"100%",children:s.jsxs(e7,{data:v?.users?.daily||[],children:[s.jsx(Rv,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Ff,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),s.jsx(Bf,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),s.jsx(xs,{formatter:P=>[P,"Nouveaux utilisateurs"]}),s.jsx(Zc,{dataKey:"value",fill:"#82ca9d",radius:[4,4,0,0]})]})})})})]})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Croissance des Annonces"}),s.jsx(ii,{children:"Nouvelles annonces créées par période"})]}),s.jsx(wt,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(yp,{width:"100%",height:"100%",children:s.jsxs(Z3,{data:v?.listings?.daily||[],children:[s.jsx(Rv,{strokeDasharray:"3 3",vertical:!1}),s.jsx(Ff,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),s.jsx(Bf,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),s.jsx(xs,{formatter:P=>[P,"Nouvelles annonces"]}),s.jsx(Jy,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Répartition des Revenus par Catégorie"}),s.jsx(ii,{children:"Chiffre d'affaires par catégorie d'annonces"})]}),s.jsx(wt,{children:s.jsx("div",{className:"h-[300px]",children:s.jsx(yp,{width:"100%",height:"100%",children:s.jsxs(Y3,{children:[s.jsx(iu,{data:Object.entries(l?.revenueByCategory||{}).map(([P,O])=>({name:P==="real_estate"?"Immobilier":P==="automobile"?"Automobile":P==="services"?"Services":P==="marketplace"?"Marketplace":P,value:O})),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:P,percent:O})=>`${P} ${(O*100).toFixed(0)}%`,children:Object.entries(l?.revenueByCategory||{}).map((P,O)=>s.jsx(_y,{fill:jp[O%jp.length]},`cell-${O}`))}),s.jsx(xs,{formatter:P=>[`${P.toLocaleString()} FCFA`,"Revenus"]})]})})})})]})]}),s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(Ht,{children:"Produits les plus vendus"}),s.jsx(ii,{children:"Les produits les plus populaires sur votre plateforme"})]}),s.jsx(fe,{variant:"outline",size:"sm",children:"Voir tout"})]})}),s.jsx(wt,{children:s.jsx("div",{className:"space-y-4",children:E?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx("p",{children:"Chargement des produits..."})}):f?.length>0?f.map((P,O)=>s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center mr-4",children:s.jsx("span",{className:"text-sm font-medium text-slate-700",children:O+1})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-medium",children:P.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.category," • ",P.orders," ventes"]})]}),s.jsxs("div",{className:"text-right",children:[s.jsxs("p",{className:"font-medium",children:["$",P.revenue.toLocaleString()]}),s.jsxs("div",{className:"flex items-center justify-end",children:[P.change>=0?s.jsx(Lhe,{className:"h-3 w-3 text-green-500 mr-1"}):s.jsx(Dhe,{className:"h-3 w-3 text-red-500 mr-1"}),s.jsxs("span",{className:`text-xs ${P.change>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(P.change),"%"]})]})]})]},P.id)):s.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[s.jsx(ml,{className:"h-12 w-12 text-muted-foreground mb-2"}),s.jsx("p",{className:"text-muted-foreground",children:"Aucune donnée disponible"})]})})})]})]})}const zs={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",IGNORED:"ignored"},da={LISTING:"listing",COMMENT:"comment",USER:"user",REVIEW:"review"},TVe=({level:t})=>{const e=()=>{switch(t){case"low":return"outline";case"medium":return"warning";case"high":return"destructive";default:return"outline"}},r=()=>{switch(t){case"low":return"Faible";case"medium":return"Moyen";case"high":return"Élevé";default:return t}};return s.jsx(vt,{variant:e(),children:r()})},OVe=({status:t})=>{const e=()=>{switch(t){case zs.PENDING:return"warning";case zs.APPROVED:return"success";case zs.REJECTED:return"destructive";case zs.IGNORED:return"outline";default:return"outline"}},r=()=>{switch(t){case zs.PENDING:return"En attente";case zs.APPROVED:return"Approuvé";case zs.REJECTED:return"Rejeté";case zs.IGNORED:return"Ignoré";default:return t}};return s.jsx(vt,{variant:e(),children:r()})},RVe=({type:t})=>{const e=()=>{switch(t){case da.LISTING:return s.jsx(hh,{className:"h-3 w-3"});case da.COMMENT:return s.jsx(Oi,{className:"h-3 w-3"});case da.USER:return s.jsx(Us,{className:"h-3 w-3"});case da.REVIEW:return s.jsx(cs,{className:"h-3 w-3"});default:return s.jsx(wn,{className:"h-3 w-3"})}},r=()=>{switch(t){case da.LISTING:return"Annonce";case da.COMMENT:return"Commentaire";case da.USER:return"Utilisateur";case da.REVIEW:return"Avis";default:return t}};return s.jsxs(vt,{variant:"outline",className:"flex items-center gap-1",children:[e(),r()]})};function MVe(){const t=Bl(),[e,r]=x.useState(""),[n,i]=x.useState("all"),[a,o]=x.useState("all"),[l,c]=x.useState("all"),[u,d]=x.useState("created_at"),[f,g]=x.useState("desc"),[v,y]=x.useState(1),[b,_]=x.useState(10),[j,N]=x.useState(new Set),[C,A]=x.useState(null),[E,P]=x.useState(!1),[O,I]=x.useState(null),{data:F,isLoading:H,isError:U}=Ti({queryKey:["moderation","reports",{searchTerm:e,statusFilter:n,typeFilter:a,severityFilter:l,sortBy:u,sortOrder:f,page:v,perPage:b}],queryFn:async()=>(await rn.getAllListings({status:"pending"})).map(Z=>({id:Z.id,type:da.LISTING,content:Z,reporter:{id:"system",name:"Système",email:"system@maximarket.com"},reason:"Annonce en attente de modération",description:"Cette annonce nécessite une vérification avant publication",severity:"medium",status:zs.PENDING,createdAt:Z.created_at,updatedAt:Z.updated_at}))}),{data:z}=Ti({queryKey:["moderation","stats"],queryFn:async()=>{const ie=await rn.getAllListings();return await Lo.getAllUsers(),{totalReports:ie.filter(Z=>Z.status==="pending").length,pendingReports:ie.filter(Z=>Z.status==="pending").length,resolvedReports:ie.filter(Z=>Z.status==="approved"||Z.status==="rejected").length,averageResponseTime:"2h",topReportedTypes:[{type:"listing",count:ie.filter(Z=>Z.status==="pending").length},{type:"user",count:0},{type:"comment",count:0}]}}}),{mutate:V,isLoading:X}=Ui({mutationFn:({reportId:ie,action:Z,reason:de})=>console.log(`Moderating report ${ie} with action: ${Z}, reason: ${de}`),onSuccess:()=>{t.invalidateQueries(["moderation","reports"]),t.invalidateQueries(["moderation","stats"]),A(null),P(!1)},onError:ie=>{console.error("Error moderating content:",ie)}}),te=ie=>{N(Z=>{const de=new Set(Z);return de.has(ie)?de.delete(ie):de.add(ie),de})},le=(ie,Z)=>{A(ie),I(Z),(Z==="approve"||Z==="reject"||Z==="ignore"||Z==="delete")&&P(!0)},W=()=>{if(!C||!O)return;let ie=O,Z="";O==="reject"?Z="Contenu inapproprié":O==="delete"&&(Z="Suppression demandée"),V({reportId:C,action:ie,reason:Z})},re=ie=>{switch(ie){case"approve":return"default";case"reject":return"destructive";case"ignore":return"outline";case"delete":return"destructive";default:return"outline"}},G=ie=>{switch(ie){case"approve":return"Approuver";case"reject":return"Rejeter";case"ignore":return"Ignorer";case"delete":return"Supprimer";default:return ie}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modération"}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez les signalements et le contenu inapproprié"})]})}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[s.jsx("div",{className:"rounded-lg border bg-card p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements en attente"}),s.jsx("p",{className:"text-2xl font-bold",children:z?.pendingReports||0})]}),s.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:s.jsx(Vf,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})}),s.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements aujourd'hui"}),s.jsx("p",{className:"text-2xl font-bold",children:z?.today||0})]}),s.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:s.jsx(Vf,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),s.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[s.jsxs("span",{className:z?.todayChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[z?.todayChange>=0?"↑":"↓"," ",Math.abs(z?.todayChange||0),"%"]})," ","vs hier"]})]}),s.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de modération"}),s.jsxs("p",{className:"text-2xl font-bold",children:[z?.moderationRate||0,"%"]})]}),s.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:s.jsx(Ad,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),s.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[z?.moderatedToday||0," modérations aujourd'hui"]})]}),s.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contenu supprimé"}),s.jsx("p",{className:"text-2xl font-bold",children:z?.removedContent||0})]}),s.jsx("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/50",children:s.jsx(qo,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]}),s.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[z?.removedThisMonth||0," ce mois-ci"]})]})]}),s.jsxs(H1,{defaultValue:"reports",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(Ix,{children:[s.jsx(gi,{value:"reports",children:"Signalements"}),s.jsx(gi,{value:"logs",children:"Journal de modération"}),s.jsx(gi,{value:"settings",children:"Paramètres"})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Filtres"]}),s.jsxs(fe,{variant:"outline",size:"sm",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),s.jsxs(vi,{value:"reports",className:"space-y-4",children:[s.jsx("div",{className:"rounded-md border bg-card p-4",children:s.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),s.jsxs("div",{className:"relative",children:[s.jsx(Mi,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(it,{type:"search",placeholder:"Rechercher...",className:"pl-8",value:e,onChange:ie=>r(ie.target.value)})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Statut"}),s.jsxs(Kr,{value:n,onValueChange:i,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les statuts"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les statuts"}),s.jsx(Ge,{value:zs.PENDING,children:"En attente"}),s.jsx(Ge,{value:zs.APPROVED,children:"Approuvé"}),s.jsx(Ge,{value:zs.REJECTED,children:"Rejeté"}),s.jsx(Ge,{value:zs.IGNORED,children:"Ignoré"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Type de contenu"}),s.jsxs(Kr,{value:a,onValueChange:o,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les types"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les types"}),s.jsx(Ge,{value:da.LISTING,children:"Annonces"}),s.jsx(Ge,{value:da.COMMENT,children:"Commentaires"}),s.jsx(Ge,{value:da.USER,children:"Utilisateurs"}),s.jsx(Ge,{value:da.REVIEW,children:"Avis"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Gravité"}),s.jsxs(Kr,{value:l,onValueChange:c,children:[s.jsx(qr,{children:s.jsx(Gr,{placeholder:"Tous les niveaux"})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les niveaux"}),s.jsx(Ge,{value:"low",children:"Faible"}),s.jsx(Ge,{value:"medium",children:"Moyen"}),s.jsx(Ge,{value:"high",children:"Élevé"})]})]})]})]})}),s.jsx("div",{className:"rounded-md border bg-card",children:s.jsxs(eg,{children:[s.jsx(tg,{children:s.jsxs(On,{children:[s.jsx(Ar,{children:"Contenu"}),s.jsx(Ar,{children:"Type"}),s.jsx(Ar,{children:"Gravité"}),s.jsx(Ar,{children:"Statut"}),s.jsx(Ar,{children:"Date"}),s.jsx(Ar,{children:"Actions"})]})}),s.jsx(rg,{children:H?s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),s.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):U?s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"text-center py-8",children:s.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[s.jsx(wn,{className:"h-5 w-5 mr-2"}),"Erreur lors du chargement des signalements"]})})}):F?.length===0?s.jsx(On,{children:s.jsx(er,{colSpan:6,className:"text-center py-8",children:s.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[s.jsx(Vf,{className:"h-12 w-12 mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"Aucun signalement trouvé"}),s.jsx("p",{className:"text-sm",children:"Il n'y a pas de signalements correspondant à vos critères."})]})})}):F?.map(ie=>s.jsxs(On,{children:[s.jsx(er,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fe,{variant:"ghost",size:"sm",onClick:()=>te(ie.id),children:j.has(ie.id)?s.jsx(Uf,{className:"h-4 w-4"}):s.jsx(Fc,{className:"h-4 w-4"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ie.content.title||"Contenu signalé"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Par ",ie.reporter?.name||"Utilisateur anonyme"]})]})]}),j.has(ie.id)&&s.jsxs("div",{className:"ml-8 p-3 bg-muted rounded-md",children:[s.jsx("p",{className:"text-sm",children:ie.reason}),ie.description&&s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:ie.description})]})]})}),s.jsx(er,{children:s.jsx(RVe,{type:ie.type})}),s.jsx(er,{children:s.jsx(TVe,{level:ie.severity})}),s.jsx(er,{children:s.jsx(OVe,{status:ie.status})}),s.jsx(er,{children:s.jsx(Af,{children:s.jsxs(Mo,{children:[s.jsx(Io,{children:s.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[s.jsx(Ri,{className:"h-4 w-4 mr-1"}),wK(new Date(ie.createdAt),{addSuffix:!0,locale:sg})]})}),s.jsx(Za,{children:new Date(ie.createdAt).toLocaleString("fr-FR")})]})})}),s.jsx(er,{children:s.jsxs("div",{className:"flex space-x-1",children:[ie.status===zs.PENDING&&s.jsxs(s.Fragment,{children:[s.jsx(Af,{children:s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>le(ie.id,"approve"),disabled:X,children:s.jsx(Ad,{className:"h-4 w-4"})})}),s.jsx(Za,{children:"Approuver"})]})}),s.jsx(Af,{children:s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>le(ie.id,"reject"),disabled:X,children:s.jsx(Gs,{className:"h-4 w-4"})})}),s.jsx(Za,{children:"Rejeter"})]})}),s.jsx(Af,{children:s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>le(ie.id,"ignore"),disabled:X,children:s.jsx(ZH,{className:"h-4 w-4"})})}),s.jsx(Za,{children:"Ignorer"})]})})]}),s.jsx(Af,{children:s.jsxs(Mo,{children:[s.jsx(Io,{asChild:!0,children:s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>le(ie.id,"delete"),disabled:X,children:s.jsx(qo,{className:"h-4 w-4"})})}),s.jsx(Za,{children:"Supprimer"})]})})]})})]},ie.id))})]})}),F?.pagination&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center space-x-2",children:s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Affichage de ",(v-1)*b+1," à ",Math.min(v*b,F.pagination.total)," sur ",F.pagination.total," signalements"]})}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>y(1),disabled:v===1,children:s.jsx(ux,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>y(v-1),disabled:v===1,children:s.jsx(ro,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",v," sur ",F.pagination.totalPages]}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>y(v+1),disabled:v===F.pagination.totalPages,children:s.jsx(no,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>y(F.pagination.totalPages),disabled:v===F.pagination.totalPages,children:s.jsx(dx,{className:"h-4 w-4"})})]})]})]}),s.jsx(vi,{value:"logs",className:"space-y-4",children:s.jsxs("div",{className:"rounded-md border bg-card",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Journal de modération"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Historique des actions de modération effectuées"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Ri,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"Journal de modération à venir"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"L'historique des actions de modération sera disponible prochainement."})]})})]})}),s.jsx(vi,{value:"settings",className:"space-y-4",children:s.jsxs("div",{className:"rounded-md border bg-card",children:[s.jsxs("div",{className:"p-4 border-b",children:[s.jsx("h3",{className:"text-lg font-medium",children:"Paramètres de modération"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurez les règles et seuils de modération"})]}),s.jsx("div",{className:"p-4",children:s.jsxs("div",{className:"text-center py-8",children:[s.jsx(mh,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{className:"text-lg font-medium",children:"Paramètres à venir"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Les paramètres de modération seront disponibles prochainement."})]})})]})})]}),s.jsx(jX,{open:E,onOpenChange:P,children:s.jsxs(jI,{children:[s.jsxs(SI,{children:[s.jsx(CI,{children:"Confirmer l'action"}),s.jsxs(EI,{children:["Êtes-vous sûr de vouloir ",G(O)?.toLowerCase()," ce signalement ? Cette action ne peut pas être annulée."]})]}),s.jsxs(NI,{children:[s.jsx(PI,{children:"Annuler"}),s.jsx(NX,{onClick:W,className:re(O)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:G(O)})]})]})})]})}ni({first_name:$t().min(2,"Le prénom doit contenir au moins 2 caractères").max(50,"Le prénom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le prénom ne peut contenir que des lettres, espaces, tirets et apostrophes"),last_name:$t().min(2,"Le nom doit contenir au moins 2 caractères").max(50,"Le nom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes"),email:$t().email("Format d'email invalide").min(5,"L'email doit contenir au moins 5 caractères").max(100,"L'email ne peut pas dépasser 100 caractères"),phone_number:$t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide (ex: +221 77 123 4567)").optional().nullable(),role:Fn(["user","vendor","admin","moderator"],{errorMap:()=>({message:"Rôle invalide"})}),status:Fn(["active","inactive","suspended","pending"],{errorMap:()=>({message:"Statut invalide"})}),is_verified:Qn().optional(),profile_image:$t().url("URL d'image invalide").optional().nullable()});ni({title:$t().min(10,"Le titre doit contenir au moins 10 caractères").max(255,"Le titre ne peut pas dépasser 255 caractères"),description:$t().min(20,"La description doit contenir au moins 20 caractères").max(2e3,"La description ne peut pas dépasser 2000 caractères"),price:as().min(0,"Le prix ne peut pas être négatif").max(1e9,"Le prix ne peut pas dépasser 1 milliard"),category:Fn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Catégorie invalide"})}),subcategory:$t().min(2,"La sous-catégorie doit contenir au moins 2 caractères").max(100,"La sous-catégorie ne peut pas dépasser 100 caractères").optional(),status:Fn(["pending","approved","rejected","expired"],{errorMap:()=>({message:"Statut invalide"})}),images:aw($t().url("URL d'image invalide")).min(1,"Au moins une image est requise").max(10,"Maximum 10 images autorisées"),location:ni({city:$t().min(2,"Ville requise"),country:$t().min(2,"Pays requis"),address:$t().optional(),coordinates:ni({lat:as().min(-90).max(90).optional(),lng:as().min(-180).max(180).optional()}).optional()}),contact_info:ni({phone:$t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),email:$t().email("Format d'email invalide"),website:$t().url("URL invalide").optional()}),real_estate_details:ni({type:Fn(["appartement","maison","terrain","bureau","commerce"]),rooms:$t().min(1,"Nombre de pièces requis"),surface:$t().min(1,"Surface requise"),amenities:aw($t()).optional()}).optional(),automobile_details:ni({brand:$t().min(2,"Marque requise"),model:$t().min(2,"Modèle requis"),year:as().min(1900).max(new Date().getFullYear()+1,"Année invalide"),mileage:as().min(0,"Kilométrage invalide").optional(),transmission:Fn(["manuelle","automatique"]).optional(),fuel:Fn(["essence","diesel","électrique","hybride"]).optional()}).optional(),service_details:ni({expertise:$t().min(2,"Expertise requise"),experience:$t().min(2,"Expérience requise"),availability:$t().min(2,"Disponibilité requise"),verified:Qn().optional(),certifications:aw($t()).optional()}).optional(),product_details:ni({brand:$t().min(2,"Marque requise"),model:$t().min(2,"Modèle requis"),condition:Fn(["neuf","excellent","bon","moyen","usé"]),warranty:$t().optional(),dimensions:$t().optional(),weight:$t().optional()}).optional()});const fA=ni({name:$t().min(2,"Le nom doit contenir au moins 2 caractères").max(100,"Le nom ne peut pas dépasser 100 caractères").regex(/^[a-zA-ZÀ-ÿ0-9\s'-]+$/,"Le nom ne peut contenir que des lettres, chiffres, espaces, tirets et apostrophes"),slug:$t().min(2,"Le slug doit contenir au moins 2 caractères").max(100,"Le slug ne peut pas dépasser 100 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),parent_category:Fn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Type parent invalide"})}),description:$t().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),icon:$t().min(1,"L'icône est requise").max(50,"L'icône ne peut pas dépasser 50 caractères").optional(),sort_order:as().int("L'ordre de tri doit être un nombre entier").min(0,"L'ordre de tri ne peut pas être négatif").max(999,"L'ordre de tri ne peut pas dépasser 999").optional(),is_active:Qn().optional()});ni({reference:$t().min(5,"La référence doit contenir au moins 5 caractères").max(50,"La référence ne peut pas dépasser 50 caractères").regex(/^[A-Z0-9-]+$/,"La référence ne peut contenir que des lettres majuscules, chiffres et tirets"),type:Fn(["purchase","rental","service","transfer"],{errorMap:()=>({message:"Type de transaction invalide"})}),amount:as().positive("Le montant doit être positif").max(1e9,"Le montant ne peut pas dépasser 1 milliard"),currency:Fn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),status:Fn(["pending","completed","cancelled","failed"],{errorMap:()=>({message:"Statut invalide"})}),payment_method:Fn(["mobile_money","bank_transfer","cash","card"],{errorMap:()=>({message:"Méthode de paiement invalide"})}).optional(),description:$t().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),expires_at:tO().optional(),metadata:lke(oke()).optional()});ni({reason:$t().min(10,"La raison doit contenir au moins 10 caractères").max(200,"La raison ne peut pas dépasser 200 caractères"),description:$t().min(20,"La description doit contenir au moins 20 caractères").max(1e3,"La description ne peut pas dépasser 1000 caractères").optional(),type:Fn(["listing","comment","user","review"],{errorMap:()=>({message:"Type de rapport invalide"})}),severity:Fn(["low","medium","high"],{errorMap:()=>({message:"Sévérité invalide"})}),status:Fn(["pending","investigating","resolved","dismissed"],{errorMap:()=>({message:"Statut invalide"})}),moderator_notes:$t().max(500,"Les notes ne peuvent pas dépasser 500 caractères").optional()});ni({general:ni({siteName:$t().min(2,"Nom du site requis"),siteDescription:$t().min(10,"Description du site requise"),contactEmail:$t().email("Email de contact invalide"),supportPhone:$t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),timezone:$t().min(1,"Fuseau horaire requis"),currency:Fn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),language:Fn(["fr","en"],{errorMap:()=>({message:"Langue invalide"})})}),appearance:ni({theme:Fn(["light","dark","auto"],{errorMap:()=>({message:"Thème invalide"})}),primaryColor:$t().regex(/^#[0-9A-Fa-f]{6}$/,"Couleur hexadécimale invalide"),logoUrl:$t().url("URL du logo invalide").optional(),faviconUrl:$t().url("URL du favicon invalide").optional(),enableAnimations:Qn(),enableGradients:Qn()}),notifications:ni({emailNotifications:Qn(),pushNotifications:Qn(),smsNotifications:Qn(),adminAlerts:Qn(),userWelcome:Qn(),listingApproval:Qn(),transactionUpdates:Qn()}),security:ni({requireEmailVerification:Qn(),requirePhoneVerification:Qn(),twoFactorAuth:Qn(),sessionTimeout:as().min(1).max(168),maxLoginAttempts:as().min(3).max(10),passwordMinLength:as().min(6).max(20),enableCaptcha:Qn()}),system:ni({maintenanceMode:Qn(),debugMode:Qn(),enableLogs:Qn(),backupFrequency:Fn(["hourly","daily","weekly","monthly"]),maxFileSize:as().min(1).max(100),allowedFileTypes:aw($t()),enableCaching:Qn(),cacheTTL:as().min(60).max(86400)})});ni({searchTerm:$t().max(100,"Terme de recherche trop long").optional(),status:Fn(["all","active","inactive","pending","approved","rejected"]).optional(),category:$t().optional(),dateFrom:tO().optional(),dateTo:tO().optional(),minPrice:as().min(0).optional(),maxPrice:as().min(0).optional(),sortBy:$t().optional(),sortOrder:Fn(["asc","desc"]).optional(),page:as().int().min(1).optional(),perPage:as().int().min(1).max(100).optional()});const hA=(t,e)=>{try{return{success:!0,data:t.parse(e),errors:null}}catch(r){return r instanceof Ml?{success:!1,data:null,errors:r.errors.reduce((i,a)=>{const o=a.path.join(".");return i[o]=a.message,i},{})}:{success:!1,data:null,errors:{general:"Erreur de validation inconnue"}}}};function IVe(){const{toast:t}=Vr(),e=Bl(),[r,n]=x.useState(""),[i,a]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("name"),[d,f]=x.useState("asc"),[g,v]=x.useState(1),[y,b]=x.useState(10),[_,j]=x.useState(!1),[N,C]=x.useState(!1),[A,E]=x.useState(null),[P,O]=x.useState({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0}),[I,F]=x.useState({}),{getFieldError:H,hasFieldError:U,clearFieldError:z}=APe(I),{data:V,isLoading:X,isError:te}=Ti({queryKey:["adminCategories",{searchTerm:r,typeFilter:i,statusFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>await _v.getAllCategories()}),le=Ui({mutationFn:Oe=>_v.createCategory(Oe),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),j(!1),qe(),t({title:"Succès",description:"Catégorie créée avec succès"})},onError:Oe=>{t({title:"Erreur",description:Oe.message||"Une erreur est survenue",variant:"destructive"})}}),W=Ui({mutationFn:({id:Oe,data:ht})=>_v.updateCategory(Oe,ht),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),C(!1),E(null),qe(),t({title:"Succès",description:"Catégorie mise à jour avec succès"})},onError:Oe=>{t({title:"Erreur",description:Oe.message||"Une erreur est survenue",variant:"destructive"})}}),re=Ui({mutationFn:Oe=>_v.deleteCategory(Oe),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),t({title:"Succès",description:"Catégorie supprimée avec succès"})},onError:Oe=>{t({title:"Erreur",description:Oe.message||"Une erreur est survenue",variant:"destructive"})}}),G=Oe=>{n(Oe.target.value),v(1)},ie=Oe=>{c===Oe?f(d==="asc"?"desc":"asc"):(u(Oe),f("asc"))},Z=Oe=>{v(Oe)},de=Oe=>{b(Oe),v(1)},Se=Oe=>{E(Oe),O({name:Oe.name,slug:Oe.slug,parent_category:Oe.parent_category,description:Oe.description||"",icon:Oe.icon||"",sort_order:Oe.sort_order||0}),F({}),C(!0)},Me=()=>{qe(),F({}),j(!0)},qe=()=>{O({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0})},oe=Oe=>{Oe.preventDefault();const ht=hA(fA,P);if(!ht.success){Object.values(ht.errors).forEach(Ft=>{t({title:"Erreur de validation",description:Ft,variant:"destructive"})});return}A?W.mutate({id:A.id,data:ht.data}):le.mutate(ht.data)},ae=Oe=>{re.mutate(Oe)},ge=()=>{try{if(!V||V.length===0){t({title:"Aucune donnée",description:"Aucune catégorie à exporter",variant:"destructive"});return}C1.categories(V,"categories-maximarket"),t({title:"Export réussi",description:"Liste des catégories exportée en CSV"})}catch(Oe){t({title:"Erreur d'export",description:Oe.message||"Impossible d'exporter les données",variant:"destructive"})}},ve=V?V.filter(Oe=>!(r&&!Oe.name.toLowerCase().includes(r.toLowerCase())||i!=="all"&&Oe.parent_category!==i||o!=="all"&&Oe.is_active!==(o==="active"))).sort((Oe,ht)=>{let Ft=Oe[c],ye=ht[c];return typeof Ft=="string"&&(Ft=Ft.toLowerCase(),ye=ye.toLowerCase()),d==="asc"?Ft>ye?1:-1:Ft<ye?1:-1}):[],Ae=Math.ceil(ve.length/y),Q=(g-1)*y,Y=Q+y,Ee=ve.slice(Q,Y),Ce=Oe=>Oe.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),Qe=Oe=>{O(Ft=>({...Ft,name:Oe,slug:Ce(Oe)}));const ht=hA(fA,{...P,name:Oe});ht.success?z("name",F):F(Ft=>({...Ft,name:ht.errors.name}))},Ze=(Oe,ht)=>{const Ft={...P,[Oe]:ht},ye=hA(fA,Ft);!ye.success&&ye.errors[Oe]?F(Pe=>({...Pe,[Oe]:ye.errors[Oe]})):z(Oe,F)};return X?s.jsx("div",{className:"flex items-center justify-center min-h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):te?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des catégories"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gérez les catégories et sous-catégories de votre marketplace"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{onClick:()=>ge(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),s.jsxs(fe,{onClick:Me,className:"bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700",children:[s.jsx(Ol,{className:"mr-2 h-4 w-4"}),"Nouvelle Catégorie"]})]})]}),s.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"search",children:"Recherche"}),s.jsx(it,{id:"search",placeholder:"Rechercher une catégorie...",value:r,onChange:G,className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"typeFilter",children:"Type"}),s.jsxs(Kr,{value:i,onValueChange:a,children:[s.jsx(qr,{className:"mt-1",children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les types"}),s.jsx(Ge,{value:"real_estate",children:"Immobilier"}),s.jsx(Ge,{value:"automobile",children:"Automobile"}),s.jsx(Ge,{value:"services",children:"Services"}),s.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"statusFilter",children:"Statut"}),s.jsxs(Kr,{value:o,onValueChange:l,children:[s.jsx(qr,{className:"mt-1",children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"all",children:"Tous les statuts"}),s.jsx(Ge,{value:"active",children:"Actif"}),s.jsx(Ge,{value:"inactive",children:"Inactif"})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"perPage",children:"Par page"}),s.jsxs(Kr,{value:y.toString(),onValueChange:Oe=>de(parseInt(Oe)),children:[s.jsx(qr,{className:"mt-1",children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"10",children:"10"}),s.jsx(Ge,{value:"25",children:"25"}),s.jsx(Ge,{value:"50",children:"50"})]})]})]})]})}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(eg,{children:[s.jsx(tg,{children:s.jsxs(On,{children:[s.jsx(Ar,{children:s.jsxs(fe,{variant:"ghost",onClick:()=>ie("name"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Nom",c==="name"&&(d==="asc"?s.jsx(Uf,{className:"h-4 w-4"}):s.jsx(Fc,{className:"h-4 w-4"}))]})}),s.jsx(Ar,{children:s.jsxs(fe,{variant:"ghost",onClick:()=>ie("parent_category"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Type",c==="parent_category"&&(d==="asc"?s.jsx(Uf,{className:"h-4 w-4"}):s.jsx(Fc,{className:"h-4 w-4"}))]})}),s.jsx(Ar,{children:"Slug"}),s.jsx(Ar,{children:s.jsxs(fe,{variant:"ghost",onClick:()=>ie("sort_order"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Ordre",c==="sort_order"&&(d==="asc"?s.jsx(Uf,{className:"h-4 w-4"}):s.jsx(Fc,{className:"h-4 w-4"}))]})}),s.jsx(Ar,{children:"Statut"}),s.jsx(Ar,{children:"Actions"})]})}),s.jsx(rg,{children:Ee.map(Oe=>s.jsxs(On,{children:[s.jsx(er,{className:"font-medium",children:s.jsxs("div",{className:"flex items-center gap-2",children:[Oe.icon&&s.jsx("span",{className:"text-lg",children:Oe.icon}),Oe.name]})}),s.jsx(er,{children:s.jsxs(vt,{variant:"outline",children:[Oe.parent_category==="real_estate"&&"Immobilier",Oe.parent_category==="automobile"&&"Automobile",Oe.parent_category==="services"&&"Services",Oe.parent_category==="marketplace"&&"Marketplace"]})}),s.jsx(er,{className:"font-mono text-sm text-gray-500",children:Oe.slug}),s.jsx(er,{children:Oe.sort_order||0}),s.jsx(er,{children:s.jsx(vt,{variant:Oe.is_active?"success":"secondary",children:Oe.is_active?"Actif":"Inactif"})}),s.jsx(er,{children:s.jsxs(Ld,{children:[s.jsx($d,{asChild:!0,children:s.jsx(fe,{variant:"ghost",className:"h-8 w-8 p-0",children:s.jsx(fh,{className:"h-4 w-4"})})}),s.jsxs(au,{align:"end",children:[s.jsxs($r,{onClick:()=>Se(Oe),children:[s.jsx(j1,{className:"mr-2 h-4 w-4"}),"Modifier"]}),s.jsx(Km,{}),s.jsxs($r,{onClick:()=>ae(Oe.id),className:"text-red-600",children:[s.jsx(qo,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},Oe.id))})]})}),Ae>1&&s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[s.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de ",Q+1," à ",Math.min(Y,ve.length)," sur ",ve.length," résultats"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>Z(1),disabled:g===1,children:s.jsx(ux,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>Z(g-1),disabled:g===1,children:s.jsx(ro,{className:"h-4 w-4"})}),s.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",g," sur ",Ae]}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>Z(g+1),disabled:g===Ae,children:s.jsx(no,{className:"h-4 w-4"})}),s.jsx(fe,{variant:"outline",size:"sm",onClick:()=>Z(Ae),disabled:g===Ae,children:s.jsx(dx,{className:"h-4 w-4"})})]})]})]}),s.jsx(sm,{open:_,onOpenChange:j,children:s.jsxs(eh,{className:"sm:max-w-[500px]",children:[s.jsxs(th,{children:[s.jsx(rh,{children:"Créer une nouvelle catégorie"}),s.jsx(RT,{children:"Remplissez les informations pour créer une nouvelle catégorie"})]}),s.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"name",children:"Nom *"}),s.jsx(it,{id:"name",value:P.name,onChange:Oe=>Qe(Oe.target.value),onBlur:Oe=>Ze("name",Oe.target.value),placeholder:"Nom de la catégorie",required:!0,className:U("name")?"border-red-500 focus:border-red-500":""}),s.jsx(Sb,{error:H("name")})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"slug",children:"Slug *"}),s.jsx(it,{id:"slug",value:P.slug,onChange:Oe=>O(ht=>({...ht,slug:Oe.target.value})),onBlur:Oe=>Ze("slug",Oe.target.value),placeholder:"slug-categorie",required:!0,className:U("slug")?"border-red-500 focus:border-red-500":""}),s.jsx(Sb,{error:H("slug")})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"parent_category",children:"Type parent *"}),s.jsxs(Kr,{value:P.parent_category,onValueChange:Oe=>O(ht=>({...ht,parent_category:Oe})),children:[s.jsx(qr,{children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"real_estate",children:"Immobilier"}),s.jsx(Ge,{value:"automobile",children:"Automobile"}),s.jsx(Ge,{value:"services",children:"Services"}),s.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"description",children:"Description"}),s.jsx(Rd,{id:"description",value:P.description,onChange:Oe=>O(ht=>({...ht,description:Oe.target.value})),onBlur:Oe=>Ze("description",Oe.target.value),placeholder:"Description de la catégorie",rows:3,className:U("description")?"border-red-500 focus:border-red-500":""}),s.jsx(Sb,{error:H("description")})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"icon",children:"Icône"}),s.jsx(it,{id:"icon",value:P.icon,onChange:Oe=>O(ht=>({...ht,icon:Oe.target.value})),placeholder:"🏠"})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"sort_order",children:"Ordre de tri"}),s.jsx(it,{id:"sort_order",type:"number",value:P.sort_order,onChange:Oe=>O(ht=>({...ht,sort_order:parseInt(Oe.target.value)||0})),onBlur:Oe=>Ze("sort_order",parseInt(Oe.target.value)||0),placeholder:"0",className:U("sort_order")?"border-red-500 focus:border-red-500":""}),s.jsx(Sb,{error:H("sort_order")})]})]}),s.jsxs(OT,{children:[s.jsx(fe,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Annuler"}),s.jsx(fe,{type:"submit",disabled:le.isLoading,children:le.isLoading?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nT,{className:"mr-2 h-4 w-4"}),"Créer"]})})]})]})]})}),s.jsx(sm,{open:N,onOpenChange:C,children:s.jsxs(eh,{className:"sm:max-w-[500px]",children:[s.jsxs(th,{children:[s.jsx(rh,{children:"Modifier la catégorie"}),s.jsx(RT,{children:"Modifiez les informations de la catégorie"})]}),s.jsxs("form",{onSubmit:oe,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"edit-name",children:"Nom *"}),s.jsx(it,{id:"edit-name",value:P.name,onChange:Oe=>Qe(Oe.target.value),placeholder:"Nom de la catégorie",required:!0})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"edit-slug",children:"Slug *"}),s.jsx(it,{id:"edit-slug",value:P.slug,onChange:Oe=>O(ht=>({...ht,slug:Oe.target.value})),placeholder:"slug-categorie",required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"edit-parent_category",children:"Type parent *"}),s.jsxs(Kr,{value:P.parent_category,onValueChange:Oe=>O(ht=>({...ht,parent_category:Oe})),children:[s.jsx(qr,{children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"real_estate",children:"Immobilier"}),s.jsx(Ge,{value:"automobile",children:"Automobile"}),s.jsx(Ge,{value:"services",children:"Services"}),s.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"edit-description",children:"Description"}),s.jsx(Rd,{id:"edit-description",value:P.description,onChange:Oe=>O(ht=>({...ht,description:Oe.target.value})),placeholder:"Description de la catégorie",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"edit-icon",children:"Icône"}),s.jsx(it,{id:"edit-icon",value:P.icon,onChange:Oe=>O(ht=>({...ht,icon:Oe.target.value})),placeholder:"🏠"})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"edit-sort_order",children:"Ordre de tri"}),s.jsx(it,{id:"edit-sort_order",type:"number",value:P.sort_order,onChange:Oe=>O(ht=>({...ht,sort_order:parseInt(Oe.target.value)||0})),placeholder:"0"})]})]}),s.jsxs(OT,{children:[s.jsx(fe,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Annuler"}),s.jsx(fe,{type:"submit",disabled:W.isLoading,children:W.isLoading?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):s.jsxs(s.Fragment,{children:[s.jsx(nT,{className:"mr-2 h-4 w-4"}),"Mettre à jour"]})})]})]})]})})]})}function DVe(){const{toast:t}=Vr(),[e,r]=x.useState(!1),[n,i]=x.useState(!1),{data:a,isLoading:o,error:l}=Ti({queryKey:["systemSettings"],queryFn:()=>Wn.getSystemSettings(),staleTime:5*60*1e3}),[c,u]=x.useState({});x.useEffect(()=>{a&&u(a)},[a]),x.useEffect(()=>{Object.keys(c).length>0&&r(!0)},[c]);const d=(v,y,b)=>{u(_=>({..._,[v]:{..._[v],[y]:b}}))},f=async()=>{i(!0);try{await Wn.updateSystemSettings(c),r(!1),t({title:"Succès",description:"Paramètres sauvegardés avec succès"})}catch(v){t({title:"Erreur",description:v.message||"Erreur lors de la sauvegarde",variant:"destructive"})}finally{i(!1)}},g=async()=>{try{await Wn.resetToDefaults();const v=await Wn.getSystemSettings();u(v),r(!1),t({title:"Réinitialisation",description:"Paramètres réinitialisés aux valeurs par défaut"})}catch(v){t({title:"Erreur",description:v.message||"Erreur lors de la réinitialisation",variant:"destructive"})}};return o?s.jsx("div",{className:"flex items-center justify-center min-h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):!c||Object.keys(c).length===0?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des paramètres"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold",children:"Paramètres Système"}),s.jsx("p",{className:"text-gray-600",children:"Configurez votre marketplace"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{variant:"outline",onClick:g,children:[s.jsx(zo,{className:"mr-2 h-4 w-4"}),"Réinitialiser"]}),s.jsx(fe,{onClick:f,disabled:!e||n,children:n?"Sauvegarde...":s.jsxs(s.Fragment,{children:[s.jsx(nT,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]})]}),e&&s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(wn,{className:"h-5 w-5 text-blue-600"}),s.jsx("span",{className:"text-blue-800 font-medium",children:"Modifications non sauvegardées"})]})}),s.jsxs(H1,{defaultValue:"general",className:"space-y-6",children:[s.jsxs(Ix,{className:"grid w-full grid-cols-4",children:[s.jsx(gi,{value:"general",children:"Général"}),s.jsx(gi,{value:"appearance",children:"Apparence"}),s.jsx(gi,{value:"notifications",children:"Notifications"}),s.jsx(gi,{value:"security",children:"Sécurité"})]}),s.jsx(vi,{value:"general",children:s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Informations du site"})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Nom du site"}),s.jsx(it,{value:c.general.siteName,onChange:v=>d("general","siteName",v.target.value)})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Email de contact"}),s.jsx(it,{value:c.general.contactEmail,onChange:v=>d("general","contactEmail",v.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Fuseau horaire"}),s.jsxs(Kr,{value:c.general.timezone,onValueChange:v=>d("general","timezone",v),children:[s.jsx(qr,{children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"Africa/Dakar",children:"Dakar (GMT+0)"}),s.jsx(Ge,{value:"Africa/Lagos",children:"Lagos (GMT+1)"})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Devise"}),s.jsxs(Kr,{value:c.general.currency,onValueChange:v=>d("general","currency",v),children:[s.jsx(qr,{children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"XOF",children:"XOF (Franc CFA)"}),s.jsx(Ge,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]})]})}),s.jsx(vi,{value:"appearance",children:s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Thème et apparence"})}),s.jsx(wt,{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Thème"}),s.jsxs(Kr,{value:c.appearance.theme,onValueChange:v=>d("appearance","theme",v),children:[s.jsx(qr,{children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"light",children:"Clair"}),s.jsx(Ge,{value:"dark",children:"Sombre"}),s.jsx(Ge,{value:"auto",children:"Auto"})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Couleur principale"}),s.jsx(it,{type:"color",value:c.appearance.primaryColor,onChange:v=>d("appearance","primaryColor",v.target.value),className:"w-full h-10"})]})]})})]})}),s.jsx(vi,{value:"notifications",children:s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Configuration des notifications"})}),s.jsx(wt,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Notifications par email"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),s.jsx(Cv,{checked:c.notifications.emailNotifications,onCheckedChange:v=>d("notifications","emailNotifications",v)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Notifications push"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Notifications push dans le navigateur"})]}),s.jsx(Cv,{checked:c.notifications.pushNotifications,onCheckedChange:v=>d("notifications","pushNotifications",v)})]})]})})]})}),s.jsx(vi,{value:"security",children:s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Sécurité et authentification"})}),s.jsx(wt,{className:"space-y-4",children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Vérification email obligatoire"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vérifier leur email"})]}),s.jsx(Cv,{checked:c.security.requireEmailVerification,onCheckedChange:v=>d("security","requireEmailVerification",v)})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Activer le captcha"}),s.jsx("p",{className:"text-sm text-gray-500",children:"Protection contre les bots"})]}),s.jsx(Cv,{checked:c.security.enableCaptcha,onCheckedChange:v=>d("security","enableCaptcha",v)})]})]})})]})})]})]})}const LVe=()=>{const{toast:t}=Vr(),[e,r]=x.useState(null),[n,i]=x.useState([]),[a,o]=x.useState([]),[l,c]=x.useState(null),[u,d]=x.useState(!0),[f,g]=x.useState(!1),[v,y]=x.useState({type:"weeklyNewsletter",subject:"",data:{},scheduledDate:""});x.useEffect(()=>{b()},[]);const b=async()=>{try{d(!0);const[N,C,A,E]=await Promise.all([td.getStats(),td.getStats(),cT.getAllCampaigns(),cT.getCampaignStats()]);r(N),i(C.data||[]),o(A||[]),c(E)}catch(N){console.error("Erreur chargement données:",N),t({title:"Erreur",description:"Impossible de charger les données",variant:"destructive"})}finally{d(!1)}},_=async()=>{try{g(!0);let N;switch(v.type){case"weeklyNewsletter":N=await td.sendWeeklyNewsletter(v.data);break;case"monthlyNewsletter":N=await td.sendMonthlyNewsletter(v.data);break;case"specialOffer":N=await td.sendSpecialOffer(v.data);break;case"reengagementCampaign":N=await td.sendReengagementCampaign(v.data);break;case"maintenanceNotification":N=await td.sendMaintenanceNotification(v.data);break;default:throw new Error("Type de campagne non supporté")}t({title:"Succès",description:N.message||"Campagne envoyée avec succès"}),await b(),y({type:"weeklyNewsletter",subject:"",data:{},scheduledDate:""})}catch(N){console.error("Erreur envoi campagne:",N),t({title:"Erreur",description:N.message||"Erreur lors de l'envoi de la campagne",variant:"destructive"})}finally{g(!1)}},j=()=>{const N={weekStart:new Date().toLocaleDateString("fr-FR"),newListings:Math.floor(Math.random()*200)+100+"+",activeUsers:(Math.random()*5+1).toFixed(1)+"k",transactions:Math.floor(Math.random()*100)+50,newUsers:Math.floor(Math.random()*500)+200,featuredListings:[{id:1,title:"Appartement moderne",price:"150,000 €",location:"Dakar"},{id:2,title:"Voiture d'occasion",price:"25,000 €",location:"Abidjan"}]};y(C=>({...C,data:N})),t({title:"Données de test générées",description:"Les données de test ont été ajoutées au formulaire"})};return u?s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})}):s.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(_a,{className:"h-8 w-8 text-primary"}),"Dashboard Newsletter"]}),s.jsx("p",{className:"text-muted-foreground",children:"Gérez vos campagnes email et suivez vos statistiques"})]}),s.jsxs(fe,{onClick:b,variant:"outline",children:[s.jsx(Ihe,{className:"h-4 w-4 mr-2"}),"Actualiser"]})]}),s.jsxs(H1,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Ix,{children:[s.jsx(gi,{value:"overview",children:"Vue d'ensemble"}),s.jsx(gi,{value:"campaigns",children:"Campagnes"}),s.jsx(gi,{value:"subscribers",children:"Abonnés"}),s.jsx(gi,{value:"analytics",children:"Analytics"})]}),s.jsxs(vi,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(xt,{children:[s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Total Abonnés"}),s.jsx(va,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold",children:e?.total||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",e?.active||0," actifs"]})]})]}),s.jsxs(xt,{children:[s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Abonnés Actifs"}),s.jsx(zn,{className:"h-4 w-4 text-green-600"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:e?.active||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[e?.total?Math.round(e.active/e.total*100):0,"% du total"]})]})]}),s.jsxs(xt,{children:[s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Abonnés Inactifs"}),s.jsx(wn,{className:"h-4 w-4 text-orange-600"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:e?.inactive||0}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Désinscrits ou inactifs"})]})]}),s.jsxs(xt,{children:[s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Taux d'Engagement"}),s.jsx(bs,{className:"h-4 w-4 text-blue-600"})]}),s.jsxs(wt,{children:[s.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e?.total?Math.round(e.active/e.total*100):0,"%"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Abonnés actifs"})]})]}),s.jsxs(xt,{children:[s.jsxs(Wt,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(Ht,{className:"text-sm font-medium",children:"Campagnes Envoyées"}),s.jsx(Bc,{className:"h-4 w-4 text-purple-600"})]}),s.jsxs(wt,{children:[s.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l?.sent||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Sur ",l?.total||0," total"]})]})]})]}),s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Évolution des abonnés"})}),s.jsx(wt,{children:s.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ml,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Graphique d'évolution à implémenter"})]})})})]})]}),s.jsxs(vi,{value:"campaigns",className:"space-y-6",children:[s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs(Ht,{className:"flex items-center gap-2",children:[s.jsx(Bc,{className:"h-5 w-5"}),"Créer une nouvelle campagne"]})}),s.jsxs(wt,{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"campaign-type",children:"Type de campagne"}),s.jsxs(Kr,{value:v.type,onValueChange:N=>y(C=>({...C,type:N})),children:[s.jsx(qr,{children:s.jsx(Gr,{})}),s.jsxs(Ur,{children:[s.jsx(Ge,{value:"weeklyNewsletter",children:"Newsletter Hebdomadaire"}),s.jsx(Ge,{value:"monthlyNewsletter",children:"Newsletter Mensuelle"}),s.jsx(Ge,{value:"specialOffer",children:"Offre Spéciale"}),s.jsx(Ge,{value:"reengagementCampaign",children:"Campagne de Réengagement"}),s.jsx(Ge,{value:"maintenanceNotification",children:"Notification de Maintenance"})]})]})]}),s.jsxs("div",{children:[s.jsx(ot,{htmlFor:"scheduled-date",children:"Date programmée (optionnel)"}),s.jsx(it,{id:"scheduled-date",type:"datetime-local",value:v.scheduledDate,onChange:N=>y(C=>({...C,scheduledDate:N.target.value}))})]})]}),v.type==="weeklyNewsletter"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Données de la newsletter hebdomadaire"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Début de semaine"}),s.jsx(it,{value:v.data.weekStart||"",onChange:N=>y(C=>({...C,data:{...C.data,weekStart:N.target.value}})),placeholder:"1er janvier 2024"})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Nouvelles annonces"}),s.jsx(it,{value:v.data.newListings||"",onChange:N=>y(C=>({...C,data:{...C.data,newListings:N.target.value}})),placeholder:"150+"})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Utilisateurs actifs"}),s.jsx(it,{value:v.data.activeUsers||"",onChange:N=>y(C=>({...C,data:{...C.data,activeUsers:N.target.value}})),placeholder:"2.5k"})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Transactions"}),s.jsx(it,{value:v.data.transactions||"",onChange:N=>y(C=>({...C,data:{...C.data,transactions:N.target.value}})),placeholder:"89"})]})]})]}),v.type==="specialOffer"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"font-medium",children:"Détails de l'offre spéciale"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ot,{children:"Réduction"}),s.jsx(it,{value:v.data.discount||"",onChange:N=>y(C=>({...C,data:{...C.data,discount:N.target.value}})),placeholder:"20%"})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Code promo"}),s.jsx(it,{value:v.data.code||"",onChange:N=>y(C=>({...C,data:{...C.data,code:N.target.value}})),placeholder:"NEWSLETTER20"})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Description"}),s.jsx(it,{value:v.data.description||"",onChange:N=>y(C=>({...C,data:{...C.data,description:N.target.value}})),placeholder:"Sur tous les services premium"})]}),s.jsxs("div",{children:[s.jsx(ot,{children:"Date d'expiration"}),s.jsx(it,{value:v.data.expiryDate||"",onChange:N=>y(C=>({...C,data:{...C.data,expiryDate:N.target.value}})),placeholder:"31 décembre 2024"})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(fe,{onClick:j,variant:"outline",children:[s.jsx(Ol,{className:"h-4 w-4 mr-2"}),"Générer données de test"]}),s.jsx(fe,{onClick:_,disabled:f,className:"flex-1",children:f?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Envoi en cours..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bc,{className:"h-4 w-4 mr-2"}),"Envoyer la campagne"]})})]})]})]}),s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs(Ht,{children:["Historique des campagnes (",a.length,")"]})}),s.jsx(wt,{children:s.jsx("div",{className:"space-y-4",children:a.length>0?a.map(N=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`p-2 rounded-full ${N.status==="sent"?"bg-green-100":N.status==="draft"?"bg-gray-100":N.status==="scheduled"?"bg-blue-100":N.status==="sending"?"bg-yellow-100":"bg-red-100"}`,children:N.status==="sent"?s.jsx(zn,{className:"h-4 w-4 text-green-600"}):N.status==="draft"?s.jsx(Ri,{className:"h-4 w-4 text-gray-600"}):N.status==="scheduled"?s.jsx(zl,{className:"h-4 w-4 text-blue-600"}):N.status==="sending"?s.jsx(Loader2,{className:"h-4 w-4 text-yellow-600 animate-spin"}):s.jsx(wn,{className:"h-4 w-4 text-red-600"})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:N.subject||N.type}),s.jsx("p",{className:"text-sm text-muted-foreground",children:N.sent_at?`Envoyée le ${new Date(N.sent_at).toLocaleDateString("fr-FR")}`:N.scheduled_date?`Programmée le ${new Date(N.scheduled_date).toLocaleDateString("fr-FR")}`:`Créée le ${new Date(N.created_at).toLocaleDateString("fr-FR")}`})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{variant:N.status==="sent"?"default":N.status==="draft"?"secondary":N.status==="scheduled"?"outline":"destructive",children:N.status==="sent"?"Envoyée":N.status==="draft"?"Brouillon":N.status==="scheduled"?"Programmée":N.status==="sending"?"Envoi...":"Échec"}),N.recipient_count>0&&s.jsxs(vt,{variant:"secondary",children:[N.recipient_count," destinataires"]})]})]},N.id)):s.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[s.jsx(_a,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Aucune campagne créée"})]})})})]})]}),s.jsx(vi,{value:"subscribers",className:"space-y-6",children:s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsxs(Ht,{children:["Liste des abonnés (",n.length,")"]})}),s.jsx(wt,{children:s.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:n.map((N,C)=>s.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:N.email}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Inscrit le ",new Date(N.subscribed_at).toLocaleDateString("fr-FR")]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(vt,{variant:N.is_active?"default":"secondary",children:N.is_active?"Actif":"Inactif"}),N.source&&s.jsx(vt,{variant:"outline",children:N.source})]})]},N.id||C))})})]})}),s.jsxs(vi,{value:"analytics",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Taux d'ouverture"})}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Newsletter hebdomadaire"}),s.jsx("span",{className:"font-medium",children:"78%"})]}),s.jsx(Oc,{value:78,className:"h-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Offres spéciales"}),s.jsx("span",{className:"font-medium",children:"65%"})]}),s.jsx(Oc,{value:65,className:"h-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Notifications système"}),s.jsx("span",{className:"font-medium",children:"92%"})]}),s.jsx(Oc,{value:92,className:"h-2"})]})})]}),s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Taux de clic"})}),s.jsx(wt,{children:s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Newsletter hebdomadaire"}),s.jsx("span",{className:"font-medium",children:"23%"})]}),s.jsx(Oc,{value:23,className:"h-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Offres spéciales"}),s.jsx("span",{className:"font-medium",children:"45%"})]}),s.jsx(Oc,{value:45,className:"h-2"}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Notifications système"}),s.jsx("span",{className:"font-medium",children:"12%"})]}),s.jsx(Oc,{value:12,className:"h-2"})]})})]})]}),s.jsxs(xt,{children:[s.jsx(Wt,{children:s.jsx(Ht,{children:"Performance par jour"})}),s.jsx(wt,{children:s.jsx("div",{className:"h-64 flex items-center justify-center text-muted-foreground",children:s.jsxs("div",{className:"text-center",children:[s.jsx(ml,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Graphique de performance à implémenter"})]})})})]})]})]})]})},$Ve=()=>s.jsxs("div",{className:"container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-[60vh]",children:[s.jsxs(Re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center max-w-lg",children:[s.jsx("h1",{className:"text-9xl font-bold gradient-text mb-4",children:"404"}),s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Page non trouvée"}),s.jsx("p",{className:"text-muted-foreground mb-8",children:"La page que vous recherchez n'existe pas ou a été déplacée."}),s.jsx(fe,{asChild:!0,size:"lg",children:s.jsxs(pr,{to:"/",children:[s.jsx(kd,{className:"mr-2 h-4 w-4"}),"Retour à l'accueil"]})})]}),s.jsx("div",{className:"absolute top-1/3 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl"})]}),FVe=()=>{const t=[{icon:s.jsx(Khe,{className:"h-8 w-8 text-primary"}),title:"Innovation Continue",description:"Nous repoussons constamment les limites pour offrir des solutions de pointe."},{icon:s.jsx(_1,{className:"h-8 w-8 text-primary"}),title:"Confiance & Sécurité",description:"La sécurité de vos transactions et de vos données est notre priorité absolue."},{icon:s.jsx(va,{className:"h-8 w-8 text-primary"}),title:"Approche Communautaire",description:"Nous construisons une plateforme pour et avec la communauté ouest-africaine."},{icon:s.jsx(w1,{className:"h-8 w-8 text-primary"}),title:"Impact Local Positif",description:"Nous visons à dynamiser l'économie locale et à créer des opportunités."}];return s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-16",children:[s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["À Propos de ",s.jsx("span",{className:"gradient-text",children:kr.siteName})]}),s.jsxs("p",{className:"text-xl text-muted-foreground",children:[kr.tagline,". Notre mission est de révolutionner le commerce en ligne en Afrique de l'Ouest grâce à une technologie innovante et une approche centrée sur l'utilisateur."]})]}),s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs(Re.section,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"mb-20 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[s.jsx(QA,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Histoire"]}),s.jsxs("p",{className:"text-muted-foreground mb-4",children:["Fondée avec la vision de simplifier et de sécuriser les échanges commerciaux en Afrique de l'Ouest, ",kr.siteName," est née d'une passion pour la technologie et d'un engagement profond envers le développement économique de la région. Nous avons identifié un besoin crucial pour une plateforme unifiée, moderne et fiable, capable de connecter acheteurs et vendeurs de manière transparente."]}),s.jsxs("p",{className:"text-muted-foreground",children:["Depuis nos débuts, nous avons travaillé sans relâche pour construire une marketplace qui non seulement répond aux besoins actuels, mais anticipe également les tendances futures du commerce électronique. Notre équipe est composée d'experts locaux et internationaux, tous unis par l'objectif de faire de ",kr.siteName," le leader incontesté du marché."]})]}),s.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden shadow-2xl",children:[s.jsx("img",{className:"w-full h-full object-cover",alt:"Équipe MaxiMarket travaillant ensemble",src:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})]}),s.jsx(uy,{className:"my-20"}),s.jsxs(Re.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-20 text-center",children:[s.jsxs("h2",{className:"text-3xl font-bold mb-10 flex items-center justify-center",children:[s.jsx(hpe,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Mission & Vision"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[s.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Mission"}),s.jsx("p",{className:"text-muted-foreground",children:"Connecter l'Afrique de l'Ouest au futur du commerce en fournissant une plateforme marketplace innovante, sécurisée et accessible à tous. Nous nous engageons à autonomiser les individus et les entreprises en facilitant les transactions et en stimulant la croissance économique locale."})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[s.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Vision"}),s.jsx("p",{className:"text-muted-foreground",children:"Devenir la marketplace de référence en Afrique, reconnue pour son excellence technologique, son impact positif sur les communautés et sa contribution à un écosystème commercial numérique florissant et inclusif pour le continent."})]})]})]}),s.jsx(uy,{className:"my-20"}),s.jsxs(Re.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.6},className:"mb-16",children:[s.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nos Valeurs Fondamentales"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>s.jsxs(Re.div,{className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors duration-300 glassmorphic-card",whileHover:{y:-5},children:[s.jsx("div",{className:"p-4 bg-primary/10 rounded-full inline-block mb-4",children:e.icon}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),s.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},r))})]}),s.jsx("div",{className:"text-center mt-16",children:s.jsxs("p",{className:"text-lg text-muted-foreground",children:["Prêt à découvrir la différence ",kr.siteName," ? ",s.jsx("a",{href:"/",className:"text-primary font-semibold hover:underline",children:"Explorez notre plateforme dès maintenant."})]})})]})]})},BVe=()=>{const{toast:t}=Vr(),[e,r]=x.useState({name:"",email:"",subject:"",message:""}),[n,i]=x.useState(!1),a=l=>{const{name:c,value:u}=l.target;r(d=>({...d,[c]:u}))},o=l=>{l.preventDefault(),i(!0),setTimeout(()=>{console.log("Form submitted:",e),t({title:"Message envoyé !",description:"Merci pour votre message. Je vous répondrai dès que possible.",duration:5e3}),r({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return s.jsxs(Re.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:o,className:"space-y-6 gradient-border p-6 bg-card rounded-lg",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"name",children:"Nom"}),s.jsx(it,{id:"name",name:"name",placeholder:"Votre nom",value:e.name,onChange:a,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"email",children:"Email"}),s.jsx(it,{id:"email",name:"email",type:"email",placeholder:"votre@email.com",value:e.email,onChange:a,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"subject",children:"Sujet"}),s.jsx(it,{id:"subject",name:"subject",placeholder:"Sujet de votre message",value:e.subject,onChange:a,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ot,{htmlFor:"message",children:"Message"}),s.jsx(Rd,{id:"message",name:"message",placeholder:"Votre message...",rows:6,value:e.message,onChange:a,required:!0})]}),s.jsx(fe,{type:"submit",className:"w-full",disabled:n,children:n?s.jsxs("span",{className:"flex items-center",children:[s.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[s.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),s.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):s.jsxs("span",{className:"flex items-center",children:[s.jsx(Bc,{className:"mr-2 h-4 w-4"}),"Envoyer le message"]})})]})},zVe=()=>{const t=[{icon:s.jsx(_a,{className:"h-6 w-6"}),label:"Email",value:"contact@example.com",href:"mailto:contact@example.com"},{icon:s.jsx(Xa,{className:"h-6 w-6"}),label:"Téléphone",value:"+33 6 12 34 56 78",href:"tel:+33612345678"},{icon:s.jsx(Nl,{className:"h-6 w-6"}),label:"Adresse",value:"Paris, France",href:"https://maps.google.com/?q=Paris,France"}],e=[{icon:s.jsx(Vhe,{className:"h-6 w-6"}),label:"GitHub",href:"https://github.com"},{icon:s.jsx(QH,{className:"h-6 w-6"}),label:"Twitter",href:"https://twitter.com"},{icon:s.jsx(Ghe,{className:"h-6 w-6"}),label:"LinkedIn",href:"https://linkedin.com"}];return s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Contactez ",s.jsx("span",{className:"gradient-text",children:"moi"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Vous avez un projet en tête ou une question ? N'hésitez pas à me contacter !"})]}),s.jsx("div",{className:"max-w-5xl mx-auto",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[s.jsxs(Re.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-8",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informations de contact"}),s.jsx("div",{className:"space-y-6",children:t.map((r,n)=>s.jsxs(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 p-4 rounded-lg glass-effect hover:border-primary transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:[s.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:r.icon}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium",children:r.label}),s.jsx("p",{className:"text-muted-foreground",children:r.value})]})]},n))})]}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Réseaux sociaux"}),s.jsx("div",{className:"flex space-x-4",children:e.map((r,n)=>s.jsx(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer","aria-label":r.label,className:"p-4 rounded-full bg-secondary hover:bg-primary/20 transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:r.icon},n))})]})]}),s.jsx(Re.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Envoyez un message"}),s.jsx(BVe,{})]})})]})})]})},qVe=()=>{const t=[{title:"Développeur Frontend Senior (React)",location:"Dakar, Sénégal (Hybride)",type:"Temps Plein",link:"#"},{title:"Chef de Produit Marketplace",location:"Abidjan, Côte d'Ivoire",type:"Temps Plein",link:"#"},{title:"Spécialiste Marketing Digital",location:"Lagos, Nigéria (Remote)",type:"Temps Plein",link:"#"},{title:"Responsable Service Client Bilingue",location:"Dakar, Sénégal",type:"Temps Plein",link:"#"}];return s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[s.jsx(Xf,{className:"h-16 w-16 text-primary mx-auto mb-6"}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Rejoignez l'Équipe ",s.jsx("span",{className:"gradient-text",children:kr.siteName})]}),s.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Façonnez l'avenir du commerce en Afrique de l'Ouest avec nous. Découvrez nos opportunités de carrière passionnantes."})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16 bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card",children:[s.jsxs("h2",{className:"text-3xl font-bold mb-8 text-center flex items-center justify-center",children:["Pourquoi travailler chez ",kr.siteName," ?"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[s.jsxs("div",{className:"p-6",children:[s.jsx(upe,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Impact Significatif"}),s.jsx("p",{className:"text-muted-foreground",children:"Contribuez à un projet qui transforme réellement la vie des gens et l'économie locale."})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(va,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Culture Collaborative"}),s.jsx("p",{className:"text-muted-foreground",children:"Rejoignez une équipe passionnée, diverse et solidaire où chaque voix compte."})]}),s.jsxs("div",{className:"p-6",children:[s.jsx(Xf,{className:"h-12 w-12 text-green-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Croissance et Apprentissage"}),s.jsx("p",{className:"text-muted-foreground",children:"Bénéficiez d'opportunités de développement professionnel continu et relevez des défis stimulants."})]})]})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[s.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Postes Ouverts Actuellement"}),t.length>0?s.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:t.map((e,r)=>s.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*r+.5},className:"bg-card p-6 rounded-lg shadow-md border border-border hover:border-primary transition-colors flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-primary",children:e.title}),s.jsxs("p",{className:"text-muted-foreground text-sm",children:[e.location," - ",e.type]})]}),s.jsx(fe,{asChild:!0,className:"mt-4 sm:mt-0 bg-primary hover:bg-primary/90",children:s.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:["Voir l'Offre ",s.jsx(iy,{className:"ml-2 h-4 w-4"})]})})]},r))}):s.jsx("p",{className:"text-center text-muted-foreground text-lg",children:"Nous n'avons pas de postes ouverts pour le moment, mais nous sommes toujours à la recherche de talents exceptionnels. N'hésitez pas à nous envoyer une candidature spontanée !"}),s.jsx("div",{className:"text-center mt-12",children:s.jsx(fe,{variant:"outline",size:"lg",children:"Envoyer une Candidature Spontanée"})})]})]})},UVe=()=>{const t=[{id:1,title:"MaxiMarket révolutionne le e-commerce en Afrique de l'Ouest",date:"01 Juin 2025",description:"Lancement officiel de la plateforme marketplace innovante MaxiMarket.",pdfUrl:"#"},{id:2,title:"Partenariat stratégique avec PayDunya",date:"15 Mai 2025",description:"MaxiMarket s'associe à PayDunya pour faciliter les paiements en ligne.",pdfUrl:"#"}],e={logos:[{name:"Logo Principal",format:"PNG, SVG",size:"2MB",url:"#"},{name:"Logo Monochrome",format:"PNG, SVG",size:"1.5MB",url:"#"}],photos:[{name:"Photos de l'équipe",format:"JPG",size:"5MB",url:"#"},{name:"Interface utilisateur",format:"JPG",size:"3MB",url:"#"}]},r={name:"Service Relations Presse",email:"presse@maximarket.com",phone:"+221 77 123 45 67"};return s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx(Qhe,{className:"h-16 w-16 text-primary mx-auto mb-6"}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Espace ",s.jsx("span",{className:"gradient-text",children:"Presse"})]}),s.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Retrouvez toutes les actualités, ressources et informations pour la presse concernant ",kr.siteName,"."]})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:[s.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center",children:[s.jsx($he,{className:"h-6 w-6 mr-2 text-primary"}),"Derniers Communiqués de Presse"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(n=>s.jsxs(xt,{className:"hover:border-primary transition-colors",children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:n.title}),s.jsx(ii,{children:n.date})]}),s.jsxs(wt,{children:[s.jsx("p",{className:"mb-4 text-muted-foreground",children:n.description}),s.jsx(fe,{variant:"outline",className:"w-full",asChild:!0,children:s.jsxs("a",{href:n.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:[s.jsx(eo,{className:"mr-2 h-4 w-4"})," Télécharger le PDF"]})})]})]},n.id))})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Kit Média"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Logos"}),s.jsx(ii,{children:"Téléchargez nos logos officiels"})]}),s.jsx(wt,{children:s.jsx("ul",{className:"space-y-4",children:e.logos.map((n,i)=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),s.jsx(fe,{variant:"outline",size:"sm",asChild:!0,children:s.jsx("a",{href:n.url,download:!0,children:s.jsx(eo,{className:"h-4 w-4"})})})]},i))})})]}),s.jsxs(xt,{children:[s.jsxs(Wt,{children:[s.jsx(Ht,{children:"Photos"}),s.jsx(ii,{children:"Photos officielles haute résolution"})]}),s.jsx(wt,{children:s.jsx("ul",{className:"space-y-4",children:e.photos.map((n,i)=>s.jsxs("li",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:n.name}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),s.jsx(fe,{variant:"outline",size:"sm",asChild:!0,children:s.jsx("a",{href:n.url,download:!0,children:s.jsx(eo,{className:"h-4 w-4"})})})]},i))})})]})]})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"text-center bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Presse"}),s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("p",{className:"font-medium text-lg mb-2",children:r.name}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"Pour toute demande d'interview ou d'information complémentaire"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(fe,{variant:"outline",className:"w-full",asChild:!0,children:s.jsxs("a",{href:`mailto:${r.email}`,children:[s.jsx(iy,{className:"mr-2 h-4 w-4"}),r.email]})}),s.jsxs(fe,{variant:"outline",className:"w-full",children:[s.jsx(iy,{className:"mr-2 h-4 w-4"}),r.phone]})]})]})]})]})},VVe=()=>{const[t,e]=x.useState(""),r=[{title:"Comment publier une annonce ?",link:"/faq#publier-annonce"},{title:"Sécuriser mon compte",link:"/faq#securite-compte"},{title:"Problèmes de paiement",link:"/faq#paiement"},{title:"Contacter un vendeur/acheteur",link:"/faq#contacter-utilisateur"},{title:"Signaler un problème",link:"/faq#signaler-probleme"}],n=[{name:"Comptes et Profils",icon:s.jsx(va,{className:"h-8 w-8 text-primary"}),description:"Gestion de votre compte, paramètres et notifications."},{name:"Acheter sur MaxiMarket",icon:s.jsx(ope,{className:"h-8 w-8 text-primary"}),description:"Recherche, achat, paiements et livraisons."},{name:"Vendre sur MaxiMarket",icon:s.jsx(ph,{className:"h-8 w-8 text-primary"}),description:"Création d'annonces, gestion des ventes, boosters."},{name:"Sécurité et Confiance",icon:s.jsx(_1,{className:"h-8 w-8 text-primary"}),description:"Protéger votre compte, éviter les fraudes."}],i=a=>{a.preventDefault(),console.log("Searching for:",t)};return s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx(_M,{className:"h-16 w-16 text-primary mx-auto mb-6"}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Centre d'Aide ",s.jsx("span",{className:"gradient-text",children:kr.siteName})]}),s.jsx("p",{className:"text-xl text-muted-foreground",children:"Comment pouvons-nous vous aider aujourd'hui ?"})]}),s.jsxs(Re.form,{onSubmit:i,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-16 relative",children:[s.jsx(it,{type:"search",placeholder:"Rechercher des articles d'aide (ex: mot de passe oublié)",className:"w-full h-14 pl-12 pr-4 text-lg rounded-full shadow-lg",value:t,onChange:a=>e(a.target.value)}),s.jsx(Mi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-muted-foreground"}),s.jsx(fe,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-10 rounded-full",children:"Rechercher"})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sujets Populaires"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((a,o)=>s.jsxs(pr,{to:a.link,className:"block bg-card p-6 rounded-lg shadow-md hover:shadow-lg hover:border-primary border border-transparent transition-all duration-300 transform hover:-translate-y-1 glassmorphic-card",children:[s.jsxs("h3",{className:"text-lg font-semibold text-primary mb-2 flex items-center",children:[a.title," ",s.jsx(Qa,{className:"ml-auto h-4 w-4 opacity-50 group-hover:opacity-100"})]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez notre FAQ pour une réponse rapide."})]},o))})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mb-16",children:[s.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Parcourir par Catégorie"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((a,o)=>s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1+.7},className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors glassmorphic-card",children:[s.jsx("div",{className:"p-3 bg-primary/10 rounded-full inline-block mb-4",children:a.icon}),s.jsx("h3",{className:"text-xl font-semibold mb-2",children:a.name}),s.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:a.description}),s.jsx(fe,{variant:"outline",asChild:!0,children:s.jsx(pr,{to:`/faq#cat-${a.name.toLowerCase().replace(/\s+/g,"-")}`,children:"Explorer"})})]},o))})]}),s.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"text-center bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card border border-border",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),s.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Notre équipe d'assistance est là pour vous aider. Contactez-nous directement ou consultez notre FAQ complète."}),s.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[s.jsx(fe,{size:"lg",asChild:!0,className:"bg-primary hover:bg-primary/90",children:s.jsxs(pr,{to:"/contactez-nous",children:[s.jsx(Oi,{className:"mr-2 h-5 w-5"})," Contacter le Support"]})}),s.jsx(fe,{size:"lg",variant:"outline",asChild:!0,children:s.jsxs(pr,{to:"/faq",children:[s.jsx(Bhe,{className:"mr-2 h-5 w-5"})," Consulter la FAQ"]})})]})]})]})},WVe=()=>{const t=kr.siteName,e=[{id:"general-1",category:"Général",question:`Qu'est-ce que ${t} ?`,answer:`${t} est une plateforme marketplace innovante conçue pour l'Afrique de l'Ouest, facilitant l'achat et la vente de biens immobiliers, véhicules, services professionnels et divers autres produits. Notre objectif est de simplifier le commerce en ligne et de le rendre plus sûr et accessible.`},{id:"compte-1",category:"Compte Utilisateur",question:`Comment créer un compte sur ${t} ?`,answer:"Pour créer un compte, cliquez sur le bouton 'Connexion / Inscription' en haut à droite de la page. Vous pourrez alors vous inscrire en utilisant votre adresse e-mail ou via des services tiers comme Google ou Facebook (si activé). Suivez simplement les instructions à l'écran."},{id:"compte-2",category:"Compte Utilisateur",question:"J'ai oublié mon mot de passe, que faire ?",answer:"Si vous avez oublié votre mot de passe, cliquez sur le lien 'Mot de passe oublié ?' sur la page de connexion. Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe."},{id:"publier-annonce",category:`Vendre sur ${t}`,question:"Comment publier une annonce ?",answer:"Une fois connecté, accédez à votre tableau de bord et cherchez le bouton 'Publier une annonce' ou 'Nouvelle annonce'. Choisissez la catégorie appropriée, remplissez tous les champs requis (titre, description, prix, photos, etc.) et soumettez votre annonce. Elle sera examinée par notre équipe avant d'être publiée."},{id:"paiement",category:"Paiements et Transactions",question:"Quels sont les moyens de paiement acceptés ?",answer:"Nous acceptons plusieurs moyens de paiement, y compris les cartes bancaires (Visa, Mastercard), les paiements mobiles (Orange Money, Wave, etc. selon disponibilité régionale), PayPal et PayDunya. Les options exactes peuvent varier en fonction de votre pays."},{id:"securite-compte",category:"Sécurité",question:"Comment puis-je sécuriser mon compte ?",answer:"Pour sécuriser votre compte, utilisez un mot de passe fort et unique. Activez l'authentification à deux facteurs (2FA) si disponible dans vos paramètres de compte. Méfiez-vous des e-mails de phishing et ne partagez jamais vos identifiants."},{id:"contacter-utilisateur",category:"Interaction",question:"Comment contacter un vendeur ou un acheteur ?",answer:"Sur la page d'une annonce, vous trouverez généralement un bouton ou un lien pour contacter le vendeur (par exemple, 'Contacter le vendeur', 'Envoyer un message'). Utilisez notre système de messagerie intégré pour communiquer en toute sécurité. Les coordonnées directes ne sont partagées qu'avec le consentement des deux parties."},{id:"signaler-probleme",category:"Support et Litiges",question:"Comment signaler un problème ou une annonce suspecte ?",answer:"Si vous rencontrez un problème ou si une annonce vous semble suspecte, vous pouvez la signaler en utilisant le lien 'Signaler cette annonce' présent sur la page de l'annonce. Pour d'autres problèmes, contactez notre support client via le Centre d'Aide."}],r=[...new Set(e.map(n=>n.category))];return s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx(_M,{className:"h-16 w-16 text-primary mx-auto mb-6"}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:["Questions Fréquemment Posées ",s.jsx("span",{className:"gradient-text",children:"(FAQ)"})]}),s.jsxs("p",{className:"text-xl text-muted-foreground",children:["Trouvez des réponses rapides à vos questions sur ",t,"."]})]}),r.map((n,i)=>s.jsxs(Re.section,{id:`cat-${n.toLowerCase().replace(/\s+/g,"-")}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i},className:"mb-12 max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6 border-l-4 border-primary pl-4 text-foreground",children:n}),s.jsx(Hje,{type:"single",collapsible:!0,className:"w-full space-y-3",children:e.filter(a=>a.category===n).map(a=>s.jsxs(LY,{value:a.id,className:"bg-card border border-border rounded-lg shadow-sm hover:border-primary/50 transition-colors",children:[s.jsx($Y,{className:"p-6 text-left font-semibold hover:no-underline text-foreground",children:a.question}),s.jsx(FY,{className:"p-6 pt-0 text-muted-foreground",children:a.answer})]},a.id))})]},n)),s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+.1*r.length},className:"text-center mt-16",children:[s.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Vous n'avez pas trouvé de réponse ?"}),s.jsx(fe,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 transition-opacity",children:s.jsx(pr,{to:"/contactez-nous",children:"Contactez notre support"})})]})]})},HVe=()=>s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx(_1,{className:"h-16 w-16 text-primary mx-auto mb-6"}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Politique de ",s.jsx("span",{className:"gradient-text",children:"Confidentialité"})]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[s.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:s.jsxs("p",{className:"text-lg mb-6",children:["Bienvenue sur ",kr.siteName,". Nous nous engageons à protéger la confidentialité de vos informations personnelles. Cette politique de confidentialité explique comment nous collectons, utilisons, divulguons et protégeons vos informations lorsque vous visitez notre site web et utilisez nos services."]})}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"1. Informations que nous collectons"]}),s.jsx("p",{className:"mb-4",children:"Nous pouvons collecter des informations personnelles vous concernant de différentes manières, notamment :"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Informations fournies directement par vous :"})," Lorsque vous créez un compte, publiez une annonce, effectuez une transaction, communiquez avec nous ou d'autres utilisateurs (nom, adresse e-mail, numéro de téléphone, informations de paiement, etc.)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Informations collectées automatiquement :"})," Lorsque vous utilisez notre site, nous pouvons collecter des informations sur votre appareil, votre activité de navigation, votre adresse IP, votre localisation (si autorisée), les cookies et autres technologies de suivi."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Informations provenant de tiers :"})," Nous pouvons recevoir des informations vous concernant de la part de services tiers, tels que les fournisseurs de services de paiement ou les plateformes de médias sociaux si vous choisissez de lier votre compte."]})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"2. Utilisation de vos informations"]}),s.jsx("p",{className:"mb-4",children:"Nous utilisons les informations que nous collectons pour :"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Fournir, exploiter et améliorer nos services."}),s.jsx("li",{children:"Traiter vos transactions et gérer votre compte."}),s.jsx("li",{children:"Personnaliser votre expérience sur notre plateforme."}),s.jsx("li",{children:"Communiquer avec vous, y compris pour le service client et les mises à jour."}),s.jsx("li",{children:"Assurer la sécurité de notre plateforme et prévenir la fraude."}),s.jsx("li",{children:"Analyser l'utilisation de notre site et améliorer nos offres."}),s.jsx("li",{children:"Respecter nos obligations légales."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"3. Partage de vos informations"]}),s.jsx("p",{className:"mb-4",children:"Nous pouvons partager vos informations personnelles dans les circonstances suivantes :"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsxs("li",{children:[s.jsx("strong",{children:"Avec d'autres utilisateurs :"})," Pour faciliter les transactions et les communications (par exemple, partager votre nom d'utilisateur ou les informations de contact nécessaires pour une transaction)."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Avec des fournisseurs de services tiers :"})," Qui nous aident à exploiter notre plateforme (hébergement, traitement des paiements, analyse de données, marketing, etc.). Ces fournisseurs sont contractuellement tenus de protéger vos informations."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"Pour des raisons légales :"})," Si la loi l'exige, ou pour répondre à une procédure légale valide, protéger nos droits, notre propriété ou notre sécurité, ou ceux de nos utilisateurs ou du public."]}),s.jsxs("li",{children:[s.jsx("strong",{children:"En cas de transfert d'entreprise :"})," En cas de fusion, acquisition, réorganisation ou vente d'actifs, vos informations peuvent être transférées."]})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"4. Vos droits et choix"]}),s.jsx("p",{className:"mb-4",children:"Selon votre juridiction, vous pouvez avoir certains droits concernant vos informations personnelles, tels que :"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Le droit d'accéder à vos informations."}),s.jsx("li",{children:"Le droit de corriger ou de mettre à jour vos informations."}),s.jsx("li",{children:"Le droit de supprimer vos informations."}),s.jsx("li",{children:"Le droit de vous opposer ou de restreindre certains traitements."}),s.jsx("li",{children:"Le droit à la portabilité des données."})]}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Vous pouvez généralement gérer les informations de votre compte et vos préférences de communication via les paramètres de votre compte. Pour exercer d'autres droits, veuillez nous contacter."})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"5. Sécurité des données"]}),s.jsx("p",{className:"text-muted-foreground",children:"Nous mettons en œuvre des mesures de sécurité techniques et organisationnelles raisonnables pour protéger vos informations personnelles contre l'accès non autorisé, la divulgation, l'altération ou la destruction. Cependant, aucune méthode de transmission sur Internet ou de stockage électronique n'est totalement sécurisée."})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"6. Conservation des données"]}),s.jsx("p",{className:"text-muted-foreground",children:"Nous conservons vos informations personnelles aussi longtemps que nécessaire pour atteindre les objectifs décrits dans cette politique de confidentialité, sauf si une période de conservation plus longue est requise ou autorisée par la loi."})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"7. Transferts internationaux"]}),s.jsx("p",{className:"text-muted-foreground",children:"Vos informations peuvent être transférées et traitées dans des pays autres que votre pays de résidence, où les lois sur la protection des données peuvent différer. Nous prendrons des mesures appropriées pour garantir que vos informations personnelles restent protégées conformément à cette politique."})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"8. Modifications de cette politique"]}),s.jsx("p",{className:"text-muted-foreground",children:'Nous pouvons mettre à jour cette politique de confidentialité de temps à autre. Nous vous informerons de tout changement important en publiant la nouvelle politique sur notre site et en mettant à jour la date de "Dernière mise à jour".'})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"9. Nous contacter"]}),s.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions ou des préoccupations concernant cette politique de confidentialité ou nos pratiques en matière de données, veuillez nous contacter à ",s.jsxs("a",{href:`mailto:privacy@${kr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["privacy@",kr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),KVe=()=>s.jsxs("div",{className:"container mx-auto px-4 py-16",children:[s.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[s.jsx(yn,{className:"h-16 w-16 text-primary mx-auto mb-6"}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Termes et ",s.jsx("span",{className:"gradient-text",children:"Conditions"})," d'Utilisation"]}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[s.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:s.jsxs("p",{className:"text-lg",children:[`Veuillez lire attentivement ces Termes et Conditions ("Termes") avant d'utiliser le site web `,kr.siteName,' (le "Service") exploité par ',kr.siteName,` ("nous", "notre", ou "nos"). Votre accès et votre utilisation du Service sont conditionnés par votre acceptation et votre respect de ces Termes. Ces Termes s'appliquent à tous les visiteurs, utilisateurs et autres personnes qui accèdent ou utilisent le Service.`]})}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(mh,{className:"mr-2 h-6 w-6 text-primary"}),"1. Acceptation des Termes"]}),s.jsx("p",{className:"text-muted-foreground",children:"En accédant ou en utilisant le Service, vous acceptez d'être lié par ces Termes. Si vous n'êtes pas d'accord avec une partie des termes, vous ne pouvez pas accéder au Service."})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"2. Comptes"]}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"Lorsque vous créez un compte chez nous, vous devez nous fournir des informations exactes, complètes et à jour à tout moment. Le non-respect de cette obligation constitue une violation des Termes, ce qui peut entraîner la résiliation immédiate de votre compte sur notre Service."}),s.jsx("p",{children:"Vous êtes responsable de la protection du mot de passe que vous utilisez pour accéder au Service et de toutes les activités ou actions effectuées sous votre mot de passe, que votre mot de passe soit avec notre Service ou un service tiers."}),s.jsx("p",{children:"Vous acceptez de ne pas divulguer votre mot de passe à un tiers. Vous devez nous informer immédiatement dès que vous prenez connaissance d'une violation de la sécurité ou d'une utilisation non autorisée de votre compte."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"3. Contenu Utilisateur"]}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:'Notre Service vous permet de publier, lier, stocker, partager et autrement rendre disponible certaines informations, textes, graphiques, vidéos ou autres supports ("Contenu Utilisateur"). Vous êtes responsable du Contenu Utilisateur que vous publiez sur ou via le Service, y compris sa légalité, sa fiabilité et sa pertinence.'}),s.jsx("p",{children:"En publiant du Contenu Utilisateur sur ou via le Service, vous déclarez et garantissez que : (i) le Contenu Utilisateur vous appartient (vous en êtes propriétaire) et/ou vous avez le droit de l'utiliser et le droit de nous accorder les droits et la licence prévus dans ces Termes, et (ii) la publication de votre Contenu Utilisateur sur ou via le Service ne viole pas les droits à la vie privée, les droits de publicité, les droits d'auteur, les droits contractuels ou tout autre droit de toute personne ou entité."}),s.jsx("p",{children:"Vous conservez tous vos droits sur tout Contenu Utilisateur que vous soumettez, publiez ou affichez sur ou via le Service et vous êtes responsable de la protection de ces droits. Nous n'assumons aucune responsabilité et n'engageons aucune responsabilité pour le Contenu Utilisateur que vous ou un tiers publiez sur ou via le Service."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"4. Utilisation Acceptable"]}),s.jsx("p",{className:"mb-4",children:"Vous acceptez de ne pas utiliser le Service pour :"}),s.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[s.jsx("li",{children:"Publier du contenu illégal, nuisible, menaçant, abusif, harcelant, diffamatoire, vulgaire, obscène, haineux ou autrement répréhensible."}),s.jsx("li",{children:"Usurper l'identité d'une personne ou d'une entité, ou déclarer faussement ou déformer autrement votre affiliation avec une personne ou une entité."}),s.jsx("li",{children:"Télécharger, publier ou transmettre de quelque manière que ce soit tout contenu que vous n'avez pas le droit de transmettre en vertu d'une loi ou de relations contractuelles ou fiduciaires."}),s.jsx("li",{children:"Violer toute loi locale, étatique, nationale ou internationale applicable."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"5. Propriété Intellectuelle"]}),s.jsxs("p",{className:"text-muted-foreground",children:["Le Service et son contenu original (à l'exclusion du Contenu Utilisateur), ses caractéristiques et fonctionnalités sont et resteront la propriété exclusive de ",kr.siteName," et de ses concédants de licence. Le Service est protégé par le droit d'auteur, les marques commerciales et d'autres lois. Nos marques et habillages commerciaux ne peuvent être utilisés en relation avec un produit ou service sans le consentement écrit préalable de ",kr.siteName,"."]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"6. Liens Vers D'autres Sites Web"]}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsxs("p",{children:["Notre Service peut contenir des liens vers des sites web ou des services tiers qui ne sont pas détenus ou contrôlés par ",kr.siteName,"."]}),s.jsxs("p",{children:[kr.siteName," n'a aucun contrôle sur, et n'assume aucune responsabilité pour, le contenu, les politiques de confidentialité ou les pratiques de tout site web ou service tiers. Vous reconnaissez et acceptez en outre que ",kr.siteName," ne sera pas responsable, directement ou indirectement, de tout dommage ou perte causé ou présumé avoir été causé par ou en relation avec l'utilisation ou la confiance accordée à un tel contenu, biens ou services disponibles sur ou via de tels sites web ou services."]}),s.jsx("p",{children:"Nous vous conseillons vivement de lire les termes et conditions et les politiques de confidentialité de tout site web ou service tiers que vous visitez."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"7. Résiliation"]}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"Nous pouvons résilier ou suspendre votre compte et interdire l'accès au Service immédiatement, sans préavis ni responsabilité, à notre seule discrétion, pour quelque raison que ce soit et sans limitation, y compris mais sans s'y limiter, une violation des Termes."}),s.jsx("p",{children:"Si vous souhaitez résilier votre compte, vous pouvez simplement cesser d'utiliser le Service."}),s.jsx("p",{children:"Toutes les dispositions des Termes qui, de par leur nature, devraient survivre à la résiliation survivront à la résiliation, y compris, sans limitation, les dispositions relatives à la propriété, les exclusions de garantie, l'indemnisation et les limitations de responsabilité."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"8. Limitation de Responsabilité"]}),s.jsxs("p",{className:"text-muted-foreground",children:["En aucun cas ",kr.siteName,", ni ses administrateurs, employés, partenaires, agents, fournisseurs ou affiliés, ne pourront être tenus responsables de tout dommage indirect, accessoire, spécial, consécutif ou punitif, y compris, sans limitation, la perte de profits, de données, d'utilisation, de clientèle ou d'autres pertes immatérielles, résultant de votre accès ou votre utilisation ou votre incapacité à accéder ou à utiliser le Service."]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"9. Droit Applicable"]}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"Ces Termes seront régis et interprétés conformément aux lois du Sénégal, sans égard à ses dispositions relatives aux conflits de lois."}),s.jsx("p",{children:"Notre manquement à faire respecter un droit ou une disposition de ces Termes ne sera pas considéré comme une renonciation à ces droits. Si une disposition de ces Termes est jugée invalide ou inapplicable par un tribunal, les autres dispositions de ces Termes resteront en vigueur. Ces Termes constituent l'intégralité de l'accord entre nous concernant notre Service, et remplacent et annulent tous les accords antérieurs que nous pourrions avoir entre nous concernant le Service."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"10. Modifications"]}),s.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[s.jsx("p",{children:"Nous nous réservons le droit, à notre seule discrétion, de modifier ou de remplacer ces Termes à tout moment. Si une révision est importante, nous nous efforcerons de fournir un préavis d'au moins 30 jours avant l'entrée en vigueur des nouveaux termes. Ce qui constitue un changement important sera déterminé à notre seule discrétion."}),s.jsx("p",{children:"En continuant à accéder ou à utiliser notre Service après l'entrée en vigueur de ces révisions, vous acceptez d'être lié par les termes révisés. Si vous n'acceptez pas les nouveaux termes, veuillez cesser d'utiliser le Service."})]})]}),s.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[s.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[s.jsx(yn,{className:"mr-2 h-6 w-6 text-primary"}),"11. Nous Contacter"]}),s.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions concernant ces Termes, veuillez nous contacter à ",s.jsxs("a",{href:`mailto:legal@${kr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["legal@",kr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),GVe=({post:t,index:e,featured:r=!1})=>{const n=new Date(t.publishedAt),i=wK(n,{addSuffix:!0,locale:sg});return s.jsx(Re.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.1},className:Je("group overflow-hidden rounded-lg border border-border bg-card transition-all duration-300 card-hover",r?"col-span-full md:col-span-2 md:row-span-2":"md:col-span-1"),children:s.jsxs(pr,{to:`/blog/${t.slug||t.id}`,className:"block h-full",children:[s.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[s.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${t.title}`,src:"https://images.unsplash.com/photo-1578811344633-3376eab0f8ce"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-70"}),r&&s.jsx("div",{className:"absolute top-4 left-4",children:s.jsx(vt,{variant:"default",className:"bg-primary/90 backdrop-blur-sm",children:"À la une"})}),s.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[t.tags&&t.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.tags.slice(0,r?3:2).map((a,o)=>s.jsx(vt,{variant:"secondary",className:"bg-secondary/50 backdrop-blur-sm",children:a},o))}),r&&s.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 line-clamp-2",children:t.title})]})]}),s.jsxs("div",{className:"p-5",children:[!r&&s.jsx("h2",{className:"text-lg font-bold mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:t.title}),s.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-4",children:t.excerpt}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs("span",{className:"flex items-center",children:[s.jsx(zl,{className:"h-3 w-3 mr-1"}),i]}),s.jsxs("span",{className:"flex items-center",children:[s.jsx(Ri,{className:"h-3 w-3 mr-1"}),t.readingTime]})]}),t.category&&s.jsxs("span",{className:"flex items-center",children:[s.jsx(ph,{className:"h-3 w-3 mr-1"}),t.category]})]})]})]})})},ZVe=[{id:"maximarket-welcome-post",title:"Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !",slug:"bienvenue-sur-maximarket-marketplace-futuriste",excerpt:"Découvrez MaxiMarket, la plateforme innovante qui révolutionne le commerce en Afrique de l'Ouest. Immobilier, automobile, services et plus encore !",content:`
# Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !

Nous sommes ravis de vous accueillir sur **MaxiMarket**, la destination incontournable pour toutes vos transactions en Afrique de l'Ouest. Que vous cherchiez à acheter, vendre ou louer, MaxiMarket vous offre une expérience utilisateur unique, moderne et sécurisée.

## Ce que MaxiMarket vous propose :

### 1. Immobilier de Pointe
Trouvez l'appartement de vos rêves, la maison idéale pour votre famille, un terrain pour construire votre avenir ou le local commercial parfait pour votre entreprise. Avec nos filtres avancés, nos visites virtuelles à 360° et nos outils d'estimation IA, la recherche immobilière n'a jamais été aussi simple et efficace.

### 2. Automobile Simplifié
Parcourez notre vaste sélection de voitures, motos et véhicules utilitaires, neufs ou d'occasion. Bénéficiez d'historiques de véhicules transparents, d'inspections virtuelles et de calculateurs de financement intégrés pour prendre des décisions éclairées.

### 3. Services Professionnels à portée de clic
Besoin d'un expert en BTP, d'un technicien qualifié, d'une aide domestique ou d'un professionnel de la santé ? MaxiMarket vous met en relation avec des prestataires vérifiés. Prenez rendez-vous en ligne, consultez les portfolios et suivez l'avancement de vos projets en toute sérénité.

### 4. Une Marketplace Générale Riche et Variée
Explorez un univers de produits allant de l'électronique dernier cri à la mode tendance, en passant par les articles pour la maison, les équipements sportifs et l'artisanat local authentique. MaxiMarket est votre guichet unique pour tous vos besoins.

## Une Expérience Utilisateur Inégalée

Chez MaxiMarket, nous avons mis l'accent sur un design futuriste et des fonctionnalités innovantes :
- **Thème adaptatif sombre/clair** et effets visuels saisissants comme le glassmorphism.
- **Recherche vocale** et **contrôles gestuels** sur mobile pour une navigation intuitive.
- **Tableaux de bord personnalisés** avec analyses détaillées pour les vendeurs.
- **Intelligence Artificielle** intégrée pour des recommandations personnalisées, des estimations de prix et une modération intelligente.

## Rejoignez la Révolution MaxiMarket !

Nous sommes plus qu'une simple marketplace. Nous sommes une communauté qui construit l'avenir du commerce en Afrique de l'Ouest. Créez votre compte dès aujourd'hui, publiez vos annonces ou trouvez exactement ce que vous cherchez.

L'équipe MaxiMarket.
    `,coverImage:"maximarket-marketplace-skyline-futuristic",author:{name:"L'équipe MaxiMarket",avatar:"maximarket-logo-avatar"},category:"Annonces MaxiMarket",tags:["MaxiMarket","Marketplace","Afrique de l'Ouest","Innovation","Immobilier","Automobile","Services"],publishedAt:"2025-06-02T10:00:00Z",readingTime:"4 min"},{id:"1",title:"Comment j'ai créé une application React performante",slug:"comment-jai-cree-une-application-react-performante",excerpt:"Découvrez les techniques que j'ai utilisées pour optimiser les performances de mon application React.",content:`
# Comment j'ai créé une application React performante

React est une bibliothèque JavaScript populaire pour créer des interfaces utilisateur interactives. Cependant, à mesure que les applications grandissent, les performances peuvent devenir un problème. Dans cet article, je vais partager les techniques que j'ai utilisées pour optimiser les performances de mon application React.

## 1. Utilisation de React.memo et useMemo

L'un des premiers problèmes que j'ai rencontrés était des rendus inutiles de composants. Pour résoudre ce problème, j'ai utilisé React.memo pour mémoriser les composants et useMemo pour mémoriser les valeurs calculées.

\`\`\`jsx
const ExpensiveComponent = React.memo(({ data }) => {
  // Rendu du composant
});

function App() {
  const expensiveCalculation = useMemo(() => {
    return performExpensiveCalculation(data);
  }, [data]);
  
  return <div>{expensiveCalculation}</div>;
}
\`\`\`

## 2. Optimisation des listes avec useCallback

Pour les listes, j'ai utilisé useCallback pour éviter de recréer des fonctions à chaque rendu.

\`\`\`jsx
function TodoList({ todos }) {
  const handleDelete = useCallback((id) => {
    // Logique de suppression
  }, []);
  
  return (
    <ul>
      {todos.map(todo => (
        <TodoItem 
          key={todo.id} 
          todo={todo} 
          onDelete={handleDelete} 
        />
      ))}
    </ul>
  );
}
\`\`\`

## 3. Lazy Loading des composants

J'ai utilisé le lazy loading pour charger les composants uniquement lorsqu'ils sont nécessaires.

\`\`\`jsx
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
\`\`\`

## 4. Utilisation de la virtualisation pour les grandes listes

Pour les listes contenant de nombreux éléments, j'ai utilisé la virtualisation pour ne rendre que les éléments visibles à l'écran.

## Conclusion

L'optimisation des performances est un aspect crucial du développement d'applications React. En utilisant ces techniques, j'ai pu améliorer considérablement les performances de mon application.
    `,coverImage:"react-performance",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"React",tags:["React","Performance","JavaScript","Optimisation"],publishedAt:"2023-09-15T10:00:00Z",readingTime:"8 min"},{id:"2",title:"Les meilleures pratiques pour l'architecture de vos projets React",slug:"meilleures-pratiques-architecture-projets-react",excerpt:"Une architecture bien pensée est essentielle pour maintenir des projets React à long terme. Voici mes conseils.",content:`
# Les meilleures pratiques pour l'architecture de vos projets React

Une bonne architecture est la clé pour maintenir des projets React à long terme. Dans cet article, je partage mes meilleures pratiques pour structurer vos projets React.

## 1. Organisation des dossiers

J'ai trouvé qu'une structure de dossiers claire aide énormément à naviguer dans le code. Voici comment j'organise généralement mes projets:

\`\`\`
src/
  ├── components/
  │   ├── common/
  │   ├── layout/
  │   └── features/
  ├── hooks/
  ├── context/
  ├── utils/
  ├── services/
  ├── pages/
  └── assets/
\`\`\`

## 2. Séparation des préoccupations

Il est important de séparer la logique métier de la présentation. J'utilise des hooks personnalisés pour encapsuler la logique et des composants pour la présentation.

## 3. Utilisation des patterns React modernes

J'ai adopté des patterns comme le Compound Component et le Render Props pour créer des composants flexibles et réutilisables.

## 4. Tests unitaires et d'intégration

Les tests sont essentiels pour maintenir la qualité du code. J'utilise Jest et React Testing Library pour tester mes composants.

## Conclusion

Une bonne architecture est un investissement qui paie sur le long terme. En suivant ces pratiques, vous pourrez maintenir et faire évoluer vos projets React plus facilement.
    `,coverImage:"react-architecture",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"Architecture",tags:["React","Architecture","Bonnes pratiques","Structure de projet"],publishedAt:"2023-08-22T14:30:00Z",readingTime:"6 min"},{id:"3",title:"Comment j'ai intégré TailwindCSS dans mon workflow",slug:"comment-jai-integre-tailwindcss-dans-mon-workflow",excerpt:"TailwindCSS a révolutionné ma façon de styliser mes applications. Voici comment je l'ai intégré dans mon workflow.",content:`
# Comment j'ai intégré TailwindCSS dans mon workflow

TailwindCSS est un framework CSS utilitaire qui a changé ma façon de styliser mes applications. Dans cet article, je vais vous montrer comment je l'ai intégré dans mon workflow et les avantages que j'en ai tirés.

## 1. Installation et configuration

L'installation de TailwindCSS est simple avec npm ou yarn:

\`\`\`bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
\`\`\`

## 2. Personnalisation du thème

J'ai personnalisé le thème pour correspondre à l'identité visuelle de mon projet:

\`\`\`js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#3490dc',
        secondary: '#ffed4a',
        danger: '#e3342f',
      },
    },
  },
  // ...
}
\`\`\`

## 3. Création de composants réutilisables

J'ai créé des composants réutilisables avec TailwindCSS:

\`\`\`jsx
function Button({ children, variant = 'primary' }) {
  const baseClasses = 'px-4 py-2 rounded font-bold';
  const variantClasses = {
    primary: 'bg-primary text-white',
    secondary: 'bg-secondary text-gray-800',
    danger: 'bg-danger text-white',
  };
  
  return (
    <button className={\`\${baseClasses} \${variantClasses[variant]}\`}>
      {children}
    </button>
  );
}
\`\`\`

## 4. Optimisation pour la production

Pour la production, j'ai utilisé PurgeCSS pour éliminer les classes non utilisées:

\`\`\`js
// tailwind.config.js
module.exports = {
  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
  // ...
}
\`\`\`

## Conclusion

TailwindCSS a considérablement amélioré ma productivité en me permettant de styliser rapidement mes applications sans quitter mon HTML/JSX. Si vous n'avez pas encore essayé, je vous encourage vivement à le faire!
    `,coverImage:"tailwindcss-workflow",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"CSS",tags:["TailwindCSS","CSS","Workflow","Design"],publishedAt:"2023-07-10T09:15:00Z",readingTime:"5 min"}],YVe=t=>{const r=t.split(/\s+/).length;return Math.ceil(r/200)},XVe=t=>t.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");let Gx=localStorage.getItem("blogPosts")?JSON.parse(localStorage.getItem("blogPosts")):ZVe.map(t=>({...t,readingTime:`${YVe(t.content)} min`,author:t.author||{name:"MaxiMarket Admin",avatar:"maximarket-admin-avatar"},slug:t.slug||XVe(t.title),id:t.id||tme(),publishedAt:t.publishedAt||new Date().toISOString()}));const JVe=()=>[...Gx].sort((t,e)=>new Date(e.publishedAt)-new Date(t.publishedAt)),QVe=t=>Gx.find(e=>e.id===t||e.slug===t),e9e=t=>t?Gx.filter(e=>e.id!==t.id&&(e.category===t.category||e.tags&&t.tags&&e.tags.some(r=>t.tags.includes(r)))).sort((e,r)=>new Date(r.publishedAt)-new Date(e.publishedAt)).slice(0,3):[],t9e=()=>[...new Set(Gx.map(t=>t.category).filter(Boolean))],r9e=()=>{const t=Gx.flatMap(e=>e.tags||[]);return[...new Set(t.filter(Boolean))]},n9e=()=>{const[t,e]=x.useState(""),[r,n]=x.useState(""),[i,a]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState([]),[d,f]=x.useState([]),[g,v]=x.useState([]);x.useEffect(()=>{const j=JVe();l(j),u(j),f(t9e()),v(r9e())},[]),x.useEffect(()=>{let j=[...o];if(t){const N=t.toLowerCase();j=j.filter(C=>C.title.toLowerCase().includes(N)||C.excerpt.toLowerCase().includes(N)||C.content.toLowerCase().includes(N))}r&&(j=j.filter(N=>N.category===r)),i&&(j=j.filter(N=>N.tags.includes(i))),u(j)},[t,r,i,o]);const y=j=>{n(N=>N===j?"":j)},b=j=>{a(N=>N===j?"":j)},_=()=>{e(""),n(""),a("")};return s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[s.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Mon ",s.jsx("span",{className:"gradient-text",children:"Blog"})]}),s.jsx("p",{className:"text-muted-foreground",children:"Découvrez mes articles sur le développement web, les technologies et les bonnes pratiques."})]}),s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[s.jsxs("div",{className:"relative flex-grow",children:[s.jsx(Mi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),s.jsx(it,{type:"text",placeholder:"Rechercher un article...",value:t,onChange:j=>e(j.target.value),className:"pl-10"})]}),(r||i||t)&&s.jsx(fe,{variant:"outline",onClick:_,children:"Effacer les filtres"})]}),s.jsxs("div",{className:"space-y-4",children:[d.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Catégories"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((j,N)=>s.jsx(vt,{variant:r===j?"default":"outline",className:"cursor-pointer",onClick:()=>y(j),children:j},N))})]}),g.length>0&&s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx(Hs,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm font-medium",children:"Tags"})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((j,N)=>s.jsx(vt,{variant:i===j?"default":"outline",className:"cursor-pointer",onClick:()=>b(j),children:j},N))})]})]})]}),c.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((j,N)=>s.jsx(GVe,{post:j,index:N,featured:N===0&&!t&&!r&&!i},j.id))}):s.jsx("div",{className:"text-center py-12",children:s.jsx("p",{className:"text-muted-foreground",children:"Aucun article ne correspond à votre recherche."})})]})},i9e=()=>{const{id:t}=nx(),[e,r]=x.useState(null),[n,i]=x.useState([]),[a,o]=x.useState(!0),{toast:l}=Vr();if(x.useEffect(()=>{o(!0),setTimeout(()=>{const d=QVe(t);if(d){r(d);const f=e9e(d);i(f)}else l({title:"Article non trouvé",description:"L'article que vous recherchez n'existe pas.",variant:"destructive"});o(!1)},500)},[t,l]),a)return s.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),s.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'article..."})]})});if(!e)return s.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:s.jsxs("div",{className:"text-center",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Article non trouvé"}),s.jsx("p",{className:"text-muted-foreground mb-6",children:"L'article que vous recherchez n'existe pas ou a été supprimé."}),s.jsx(fe,{asChild:!0,children:s.jsxs(pr,{to:"/blog",children:[s.jsx(kd,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})})]})});const c=new Date(e.publishedAt),u=en(c,"d MMMM yyyy",{locale:sg});return s.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsx(fe,{asChild:!0,variant:"outline",className:"mb-8",children:s.jsxs(pr,{to:"/blog",children:[s.jsx(kd,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})}),s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:e.title}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[e.author&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Us,{className:"h-4 w-4 mr-1"}),e.author.name]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(zl,{className:"h-4 w-4 mr-1"}),u]}),s.jsxs("div",{className:"flex items-center",children:[s.jsx(Ri,{className:"h-4 w-4 mr-1"}),e.readingTime]}),e.category&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(ph,{className:"h-4 w-4 mr-1"}),e.category]})]}),e.coverImage&&s.jsx("div",{className:"relative aspect-[21/9] rounded-lg overflow-hidden mb-8",children:s.jsx("img",{className:"w-full h-full object-cover",alt:`Image de couverture pour l'article ${e.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),e.tags&&e.tags.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:e.tags.map((d,f)=>s.jsx(vt,{variant:"secondary",children:d},f))}),s.jsx("div",{className:"prose prose-invert max-w-none",children:s.jsx("div",{className:"whitespace-pre-line",children:e.content})})]}),n.length>0&&s.jsxs(s.Fragment,{children:[s.jsx(uy,{className:"my-12"}),s.jsxs("div",{className:"mt-12",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Articles similaires"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(d=>s.jsx(pr,{to:`/blog/${d.slug||d.id}`,className:"group block",children:s.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[d.coverImage&&s.jsx("div",{className:"aspect-video relative overflow-hidden",children:s.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${d.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),s.jsxs("div",{className:"p-4",children:[s.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:d.title}),s.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:d.excerpt})]})]})},d.id))})]})]})]})})};function s9e(){return ne.useEffect(()=>{_pe.register()},[]),s.jsxs(K7,{client:bpe,children:[s.jsx(ume,{children:s.jsxs(pme,{children:[s.jsxs(Ohe,{children:[s.jsx(hme,{}),s.jsx(Bn,{mode:"wait",children:s.jsx(dae,{children:s.jsxs(Jt,{path:"/",element:s.jsx(awe,{}),children:[s.jsx(Jt,{index:!0,element:s.jsx(PTe,{})}),s.jsx(Jt,{path:"connexion",element:s.jsx(I1e,{})}),s.jsx(Jt,{path:"inscription",element:s.jsx(L1e,{})}),s.jsx(Jt,{path:"auth/callback",element:s.jsx(hke,{})}),s.jsx(Jt,{path:"mot-de-passe-oublie",element:s.jsx($1e,{})}),s.jsx(Jt,{path:"reinitialiser-mot-de-passe",element:s.jsx(F1e,{})}),s.jsx(Jt,{path:"profile",element:s.jsx(fke,{})}),s.jsx(Jt,{path:"messages",element:s.jsx(Ec,{children:s.jsx(HAe,{})})}),s.jsx(Jt,{path:"immobilier",element:s.jsx(kTe,{})}),s.jsx(Jt,{path:"automobile",element:s.jsx(ATe,{})}),s.jsx(Jt,{path:"services",element:s.jsx(TTe,{})}),s.jsx(Jt,{path:"marketplace",element:s.jsx(OTe,{})}),s.jsx(Jt,{path:"premium",element:s.jsx(RTe,{})}),s.jsx(Jt,{path:"creer-annonce",element:s.jsx(Ec,{children:s.jsx(Db,{})})}),s.jsx(Jt,{path:"creer-annonce/:category",element:s.jsx(Ec,{children:s.jsx(Db,{})})}),s.jsx(Jt,{path:"create-listing",element:s.jsx(Ec,{children:s.jsx(Db,{})})}),s.jsx(Jt,{path:"annonce/:id",element:s.jsx(UTe,{})}),s.jsx(Jt,{path:"booster-annonce/:id",element:s.jsx(Ec,{children:s.jsx(KTe,{})})}),s.jsx(Jt,{path:"paiement/:boostId",element:s.jsx(Ec,{children:s.jsx(ZTe,{})})}),s.jsx(Jt,{path:"payment-callback",element:s.jsx(YTe,{})}),s.jsx(Jt,{path:"annonce/:id/modifier",element:s.jsx(Ec,{children:s.jsx(Db,{})})}),s.jsx(Jt,{path:"favorites",element:s.jsx(Ec,{children:s.jsx(WTe,{})})}),s.jsxs(Jt,{path:"admin",element:s.jsx(a1e,{}),children:[s.jsx(Jt,{index:!0,element:s.jsx(wc,{children:s.jsx(XTe,{})})}),s.jsx(Jt,{path:"users",element:s.jsx(wc,{children:s.jsx(EOe,{})})}),s.jsx(Jt,{path:"listings",element:s.jsx(wc,{children:s.jsx(POe,{})})}),s.jsx(Jt,{path:"transactions",element:s.jsx(wc,{children:s.jsx(kOe,{})})}),s.jsx(Jt,{path:"analytics",element:s.jsx(wc,{children:s.jsx(AVe,{})})}),s.jsx(Jt,{path:"newsletter",element:s.jsx(wc,{children:s.jsx(LVe,{})})}),s.jsx(Jt,{path:"moderation",element:s.jsx(wc,{children:s.jsx(MVe,{})})}),s.jsx(Jt,{path:"categories",element:s.jsx(wc,{children:s.jsx(IVe,{})})}),s.jsx(Jt,{path:"settings",element:s.jsx(wc,{children:s.jsx(DVe,{})})})]}),s.jsx(Jt,{path:"a-propos",element:s.jsx(FVe,{})}),s.jsx(Jt,{path:"contact",element:s.jsx(zVe,{})}),s.jsx(Jt,{path:"carrieres",element:s.jsx(qVe,{})}),s.jsx(Jt,{path:"presse",element:s.jsx(UVe,{})}),s.jsx(Jt,{path:"aide",element:s.jsx(VVe,{})}),s.jsx(Jt,{path:"faq",element:s.jsx(WVe,{})}),s.jsx(Jt,{path:"politique-confidentialite",element:s.jsx(HVe,{})}),s.jsx(Jt,{path:"conditions-utilisation",element:s.jsx(KVe,{})}),s.jsx(Jt,{path:"blog",element:s.jsx(n9e,{})}),s.jsx(Jt,{path:"blog/:id",element:s.jsx(i9e,{})}),s.jsx(Jt,{path:"*",element:s.jsx($Ve,{})})]})})})]}),s.jsx(X7,{}),s.jsx(eye,{})]})}),!1]})}class a9e extends ne.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Erreur non interceptée:",e,r)}render(){return this.state.hasError?s.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",color:"#e2e8f0",padding:24,textAlign:"center"},children:s.jsxs("div",{style:{maxWidth:720},children:[s.jsx("h1",{style:{marginBottom:12},children:"Une erreur est survenue"}),s.jsx("p",{style:{opacity:.9},children:"Une erreur inattendue a été détectée."}),s.jsx("pre",{style:{textAlign:"left",background:"#111827",padding:12,borderRadius:8,overflow:"auto",marginTop:16},children:String(this.state.error)}),!1]})}):this.props.children}}const Yt=t=>typeof t=="string",vv=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},t7=t=>t==null?"":""+t,o9e=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},l9e=/###/g,r7=t=>t&&t.indexOf("###")>-1?t.replace(l9e,"."):t,n7=t=>!t||Yt(t),Gv=(t,e,r)=>{const n=Yt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(n7(t))return{};const a=r7(n[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return n7(t)?{}:{obj:t,k:r7(n[i])}},i7=(t,e,r)=>{const{obj:n,k:i}=Gv(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let a=e[e.length-1],o=e.slice(0,e.length-1),l=Gv(t,o,Object);for(;l.obj===void 0&&o.length;)a=`${o[o.length-1]}.${a}`,o=o.slice(0,o.length-1),l=Gv(t,o,Object),l?.obj&&typeof l.obj[`${l.k}.${a}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${a}`]=r},c9e=(t,e,r,n)=>{const{obj:i,k:a}=Gv(t,e,Object);i[a]=i[a]||[],i[a].push(r)},r1=(t,e)=>{const{obj:r,k:n}=Gv(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},u9e=(t,e,r)=>{const n=r1(t,r);return n!==void 0?n:r1(e,r)},Sie=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Yt(t[n])||t[n]instanceof String||Yt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Sie(t[n],e[n],r):t[n]=e[n]);return t},Sp=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var d9e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const f9e=t=>Yt(t)?t.replace(/[&<>"'\/]/g,e=>d9e[e]):t;class h9e{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const p9e=[" ",",","?","!",";"],m9e=new h9e(20),g9e=(t,e,r)=>{e=e||"",r=r||"";const n=p9e.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=m9e.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let a=!i.test(t);if(!a){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(a=!0)}return a},PR=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let a=0;a<n.length;){if(!i||typeof i!="object")return;let o,l="";for(let c=a;c<n.length;++c)if(c!==a&&(l+=r),l+=n[c],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;a+=c-a+1;break}i=o}return i},tx=t=>t?.replace("_","-"),v9e={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class n1{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||v9e,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Yt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new n1(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new n1(this.logger,e)}}var wl=new n1;class zj{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let o=0;o<a;o++)i.apply(i,[e,...r])})}}class s7 extends zj{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):Yt(n)&&a?l.push(...n.split(a)):l.push(n)));const c=r1(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Yt(n)?c:PR(this.data?.[e]?.[r],n,a)}addResource(e,r,n,i,a={silent:!1}){const o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(l=e.split("."),i=r,r=l[1]),this.addNamespaces(r),i7(this.data,l,i),a.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const a in n)(Yt(n[a])||Array.isArray(n[a]))&&this.addResource(e,r,a,n[a],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,a,o={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=r1(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Sie(c,n,a):c={...c,...n},i7(this.data,l,c),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var Nie={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(a=>{e=this.processors[a]?.process(e,r,n,i)??e}),e}};const Cie=Symbol("i18next/PATH_KEY");function y9e(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>(r?.revoke?.(),i===Cie?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function x9e(t,e){const{[Cie]:r}=t(y9e());return r.join(e?.keySeparator??".")}const a7={},o7=t=>!Yt(t)&&typeof t!="boolean"&&typeof t!="number";class i1 extends zj{constructor(e,r={}){super(),o9e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=wl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!g9e(e,n,i);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Yt(a)?[a]:a};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(i)}return{key:e,namespaces:Yt(a)?[a]:a}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=x9e(e,i)),Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=i.lng||this.language,g=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return g?a?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${l}`:a?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const v=this.resolve(e,i);let y=v?.res;const b=v?.usedKey||l,_=v?.exactUsedKey||l,j=["[object Number]","[object Function]","[object RegExp]"],N=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,A=i.count!==void 0&&!Yt(i.count),E=i1.hasDefaultValue(i),P=A?this.pluralResolver.getSuffix(f,i.count,i):"",O=i.ordinal&&A?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",I=A&&!i.ordinal&&i.count===0,F=I&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${O}`]||i.defaultValue;let H=y;C&&!y&&E&&(H=F);const U=o7(H),z=Object.prototype.toString.apply(H);if(C&&H&&U&&j.indexOf(z)<0&&!(Yt(N)&&Array.isArray(H))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const V=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,H,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return a?(v.res=V,v.usedParams=this.getUsedParamsDetails(i),v):V}if(o){const V=Array.isArray(H),X=V?[]:{},te=V?_:b;for(const le in H)if(Object.prototype.hasOwnProperty.call(H,le)){const W=`${te}${o}${le}`;E&&!y?X[le]=this.translate(W,{...i,defaultValue:o7(F)?F[le]:void 0,joinArrays:!1,ns:c}):X[le]=this.translate(W,{...i,joinArrays:!1,ns:c}),X[le]===W&&(X[le]=H[le])}y=X}}else if(C&&Yt(N)&&Array.isArray(y))y=y.join(N),y&&(y=this.extendTranslation(y,e,i,n));else{let V=!1,X=!1;!this.isValidLookup(y)&&E&&(V=!0,y=F),this.isValidLookup(y)||(X=!0,y=l);const le=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&X?void 0:y,W=E&&F!==y&&this.options.updateMissing;if(X||V||W){if(this.logger.log(W?"updateKey":"missingKey",f,u,l,W?F:y),o){const Z=this.resolve(l,{...i,keySeparator:!1});Z&&Z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let re=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let Z=0;Z<G.length;Z++)re.push(G[Z]);else this.options.saveMissingTo==="all"?re=this.languageUtils.toResolveHierarchy(i.lng||this.language):re.push(i.lng||this.language);const ie=(Z,de,Se)=>{const Me=E&&Se!==y?Se:le;this.options.missingKeyHandler?this.options.missingKeyHandler(Z,u,de,Me,W,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Z,u,de,Me,W,i),this.emit("missingKey",Z,u,de,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?re.forEach(Z=>{const de=this.pluralResolver.getSuffixes(Z,i);I&&i[`defaultValue${this.options.pluralSeparator}zero`]&&de.indexOf(`${this.options.pluralSeparator}zero`)<0&&de.push(`${this.options.pluralSeparator}zero`),de.forEach(Se=>{ie([Z],l+Se,i[`defaultValue${Se}`]||F)})}):ie(re,l,F))}y=this.extendTranslation(y,e,i,v,n),X&&y===l&&this.options.appendNamespaceToMissingKey&&(y=`${u}${d}${l}`),(X||V)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,V?y:void 0,i))}return a?(v.res=y,v.usedParams=this.getUsedParamsDetails(i),v):y}extendTranslation(e,r,n,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=Yt(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let d=n.replace&&!Yt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||i.usedLng,n),c){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;u<g&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>a?.[0]===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Yt(o)?[o]:o;return e!=null&&l?.length&&n.applyPostProcessor!==!1&&(e=Nie.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,a,o,l;return Yt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;i=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=r.count!==void 0&&!Yt(r.count),v=g&&!r.ordinal&&r.count===0,y=r.context!==void 0&&(Yt(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(_=>{this.isValidLookup(n)||(l=_,!a7[`${b[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(a7[`${b[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(j=>{if(this.isValidLookup(n))return;o=j;const N=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,d,j,_,r);else{let A;g&&(A=this.pluralResolver.getSuffix(j,r.count,r));const E=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&A.indexOf(P)===0&&N.push(d+A.replace(P,this.options.pluralSeparator)),N.push(d+A),v&&N.push(d+E)),y){const O=`${d}${this.options.contextSeparator||"_"}${r.context}`;N.push(O),g&&(r.ordinal&&A.indexOf(P)===0&&N.push(O+A.replace(P,this.options.pluralSeparator)),N.push(O+A),v&&N.push(O+E))}}let C;for(;C=N.pop();)this.isValidLookup(n)||(a=C,n=this.getResource(j,_,C,r))}))})}),{res:n,usedKey:i,exactUsedKey:a,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Yt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class l7{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=wl.create("languageUtils")}getScriptPartFromCode(e){if(e=tx(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=tx(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Yt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(o=>{if(o===a)return o;if(!(o.indexOf("-")<0&&a.indexOf("-")<0)&&(o.indexOf("-")>0&&a.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===a||o.indexOf(a)===0&&a.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Yt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],a=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Yt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Yt(e)&&a(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&a(this.formatLanguageCode(o))}),i}}const c7={zero:0,one:1,two:2,few:3,many:4,other:5},u7={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class b9e{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=wl.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=tx(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:n,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),u7;if(!e.match(/-|_/))return u7;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,r)}return this.pluralRulesCache[a]=o,o}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,a)=>c7[i]-c7[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const d7=(t,e,r,n=".",i=!0)=>{let a=u9e(t,e,r);return!a&&i&&Yt(r)&&(a=PR(t,r,n),a===void 0&&(a=PR(e,r,n))),a},pA=t=>t.replace(/\$/g,"$$$$");class w9e{constructor(e={}){this.logger=wl.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:a,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:v,nestingSuffix:y,nestingSuffixEscaped:b,nestingOptionsSeparator:_,maxReplaces:j,alwaysFormat:N}=e.interpolation;this.escape=r!==void 0?r:f9e,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?Sp(a):o||"{{",this.suffix=l?Sp(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=g?Sp(g):v||Sp("$t("),this.nestingSuffix=y?Sp(y):b||Sp(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=j||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let a,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const j=d7(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,n,{...i,...r,interpolationkey:v}):j}const y=v.split(this.formatSeparator),b=y.shift().trim(),_=y.join(this.formatSeparator).trim();return this.format(d7(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...i,...r,interpolationkey:b})};this.resetRegExp();const d=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>pA(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?pA(this.escape(v)):pA(v)}].forEach(v=>{for(l=0;a=v.regex.exec(e);){const y=a[1].trim();if(o=u(y),o===void 0)if(typeof d=="function"){const _=d(e,a,i);o=Yt(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(f){o=a[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!Yt(o)&&!this.useRawValueToEscape&&(o=t7(o));const b=v.safeValue(o);if(e=e.replace(a[0],b),f?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=a[0].length):v.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,a,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let g=`{${f[1]}`;c=f[0],g=this.interpolate(g,o);const v=g.match(/'/g),y=g.match(/"/g);((v?.length??0)%2===0&&!y||y.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${d}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!Yt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),a=r(l.call(this,i[1].trim(),o),o),a&&i[0]===e&&!Yt(a))return a;Yt(a)||(a=t7(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const _9e=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},f7=t=>{const e={};return(r,n,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const o=n+JSON.stringify(a);let l=e[o];return l||(l=t(tx(n),i),e[o]=l),l(r)}},j9e=t=>(e,r,n)=>t(tx(r),n)(e);class S9e{constructor(e={}){this.logger=wl.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?f7:j9e;this.formats={number:n((i,a)=>{const o=new Intl.NumberFormat(i,{...a});return l=>o.format(l)}),currency:n((i,a)=>{const o=new Intl.NumberFormat(i,{...a,style:"currency"});return l=>o.format(l)}),datetime:n((i,a)=>{const o=new Intl.DateTimeFormat(i,{...a});return l=>o.format(l)}),relativetime:n((i,a)=>{const o=new Intl.RelativeTimeFormat(i,{...a});return l=>o.format(l,a.range||"day")}),list:n((i,a)=>{const o=new Intl.ListFormat(i,{...a});return l=>o.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=f7(r)}format(e,r,n,i={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(l=>l.indexOf(")")>-1)){const l=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,l)].join(this.formatSeparator)}return a.reduce((l,c)=>{const{formatName:u,formatOptions:d}=_9e(c);if(this.formats[u]){let f=l;try{const g=i?.formatParams?.[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||n;f=this.formats[u](l,v,{...d,...i,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const N9e=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class C9e extends zj{constructor(e,r,n,i={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=wl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const a={},o={},l={},c={};return e.forEach(u=>{let d=!0;r.forEach(f=>{const g=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,d=!1,o[g]===void 0&&(o[g]=!0),a[g]===void 0&&(a[g]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(a).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),a=i[0],o=i[1];r&&this.emit("failedLoading",a,o,r),!r&&n&&this.store.addResourceBundle(a,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{c9e(c.loaded,[a],o),N9e(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,i=0,a=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:a,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,a*2,o)},a);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,r,l)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Yt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Yt(r)&&(r=[r]);const a=this.queueLoad(e,r,n,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],a=n[1];this.read(i,a,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,l),this.loaded(e,o,l)})}saveMissing(e,r,n,i,a,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...o,isUpdate:a},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,r,n,i,c):d=u(e,r,n,i),d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}else u(e,r,n,i,l,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const h7=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Yt(t[1])&&(e.defaultValue=t[1]),Yt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),p7=t=>(Yt(t.ns)&&(t.ns=[t.ns]),Yt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Yt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Yb=()=>{},E9e=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class rx extends zj{constructor(e={},r){if(super(),this.options=p7(e),this.services={},this.logger=wl,this.modules={external:[]},E9e(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Yt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=h7();this.options={...n,...this.options,...p7(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?wl.init(i(this.modules.logger),this.options):wl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=S9e;const d=new l7(this.options);this.store=new s7(this.options.resources,this.options);const f=this.services;f.logger=wl,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new b9e(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=i(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new w9e(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new C9e(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new i1(this.services,this.options),this.translator.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Yb),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=vv(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=Yb){let n=r;const i=Yt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const a=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&a.indexOf(u)<0&&a.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(a,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,r,n){const i=vv();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Yb),this.services.backendConnector.reload(e,r,a=>{i.resolve(),n(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Nie.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=vv();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=Yt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Yt(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{a(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,n){const i=(a,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([a,o].concat(l)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(a)?d=a.map(f=>`${c.keyPrefix}${u}${f}`):d=c.keyPrefix?`${c.keyPrefix}${u}${a}`:a,this.t(d,c)};return Yt(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(a,e)))}loadNamespaces(e,r){const n=vv();return this.options.ns?(Yt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=vv();Yt(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return a.length?(this.options.preload=i.concat(a),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new l7(h7());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new rx(e,r)}cloneInstance(e={},r=Yb){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new rx(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(l=>{a[l]=this[l]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});a.store=new s7(l,i),a.services.resourceStore=a.store}return a.translator=new i1(a.services,i),a.translator.on("*",(l,...c)=>{a.emit(l,...c)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Wi=rx.createInstance();Wi.createInstance=rx.createInstance;Wi.createInstance;Wi.dir;Wi.init;Wi.loadResources;Wi.reloadResources;Wi.use;Wi.changeLanguage;Wi.getFixedT;Wi.t;Wi.exists;Wi.setDefaultNamespace;Wi.hasLoadedNamespace;Wi.loadNamespaces;Wi.loadLanguages;const{slice:P9e,forEach:k9e}=[];function A9e(t){return k9e.call(P9e.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function T9e(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const m7=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,O9e=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let a=`${t}=${i}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!m7.test(n.domain))throw new TypeError("option domain is invalid");a+=`; Domain=${n.domain}`}if(n.path){if(!m7.test(n.path))throw new TypeError("option path is invalid");a+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(a+="; Partitioned"),a},g7={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=O9e(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var R9e={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return g7.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:a}=e;r&&typeof document<"u"&&g7.create(r,t,n,i,a)}},M9e={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const a=n.substring(1).split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===e&&(r=a[o].substring(l+1))}}return r}},I9e={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const a=i.substring(1);if(e){const o=a.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(n=o[l].substring(c+1))}}if(n)return n;if(!n&&r>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let Np=null;const v7=()=>{if(Np!==null)return Np;try{if(Np=typeof window<"u"&&window.localStorage!==null,!Np)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Np=!1}return Np};var D9e={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&v7())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&v7()&&window.localStorage.setItem(r,t)}};let Cp=null;const y7=()=>{if(Cp!==null)return Cp;try{if(Cp=typeof window<"u"&&window.sessionStorage!==null,!Cp)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Cp=!1}return Cp};var L9e={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&y7())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&y7()&&window.sessionStorage.setItem(r,t)}},$9e={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let a=0;a<r.length;a++)e.push(r[a]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},F9e={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},B9e={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},z9e={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let Eie=!1;try{document.cookie,Eie=!0}catch{}const Pie=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Eie||Pie.splice(1,1);const q9e=()=>({order:Pie,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class kie{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=A9e(r,this.options||{},q9e()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(R9e),this.addDetector(M9e),this.addDetector(D9e),this.addDetector(L9e),this.addDetector($9e),this.addDetector(F9e),this.addDetector(B9e),this.addDetector(z9e),this.addDetector(I9e)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!T9e(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}kie.type="languageDetector";const U9e={home:"Accueil",marketplace:"Marketplace",immobilier:"Immobilier",automobile:"Automobile",services:"Services",blog:"Blog",contact:"Contact",about:"À propos",dashboard:"Tableau de bord",profile:"Profil",settings:"Paramètres",logout:"Déconnexion"},V9e={create:"Créer",edit:"Modifier",delete:"Supprimer",save:"Enregistrer",cancel:"Annuler",search:"Rechercher",filter:"Filtrer",sort:"Trier",view:"Voir",add:"Ajouter",remove:"Retirer",update:"Mettre à jour",submit:"Soumettre",close:"Fermer",open:"Ouvrir",download:"Télécharger",upload:"Téléverser",share:"Partager",like:"J'aime",dislike:"Je n'aime pas",discover:"Découvrir"},W9e={loading:"Chargement...",error:"Erreur",success:"Succès",warning:"Attention",info:"Information",pending:"En attente",approved:"Approuvé",rejected:"Rejeté",draft:"Brouillon",published:"Publié",unpublished:"Non publié"},H9e={confirmDelete:"Êtes-vous sûr de vouloir supprimer cet élément ?",confirmAction:"Êtes-vous sûr de vouloir effectuer cette action ?",operationSuccess:"Opération réussie",operationFailed:"Opération échouée",noData:"Aucune donnée disponible",noResults:"Aucun résultat trouvé",tryAgain:"Veuillez réessayer",connectionError:"Erreur de connexion",serverError:"Erreur du serveur",validationError:"Erreur de validation"},K9e={now:"Maintenant",today:"Aujourd'hui",yesterday:"Hier",tomorrow:"Demain",thisWeek:"Cette semaine",lastWeek:"La semaine dernière",thisMonth:"Ce mois",lastMonth:"Le mois dernier",thisYear:"Cette année",lastYear:"L'année dernière"},G9e={XOF:"Franc CFA",EUR:"Euro",USD:"Dollar US",GHS:"Cedi ghanéen",NGN:"Naira nigérian"},Z9e={navigation:U9e,actions:V9e,status:W9e,messages:H9e,time:K9e,currency:G9e},Y9e={title:"Connexion",subtitle:"Connectez-vous à votre compte",email:"Adresse e-mail",password:"Mot de passe",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oublié ?",loginButton:"Se connecter",noAccount:"Vous n'avez pas de compte ?",signUp:"S'inscrire",or:"ou",continueWithGoogle:"Continuer avec Google",continueWithFacebook:"Continuer avec Facebook"},X9e={title:"Inscription",subtitle:"Créez votre compte",firstName:"Prénom",lastName:"Nom",email:"Adresse e-mail",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",phone:"Numéro de téléphone",acceptTerms:"J'accepte les conditions d'utilisation",registerButton:"S'inscrire",hasAccount:"Vous avez déjà un compte ?",signIn:"Se connecter"},J9e={title:"Mot de passe oublié",subtitle:"Entrez votre adresse e-mail pour réinitialiser votre mot de passe",email:"Adresse e-mail",resetButton:"Réinitialiser le mot de passe",backToLogin:"Retour à la connexion"},Q9e={title:"Réinitialiser le mot de passe",subtitle:"Entrez votre nouveau mot de passe",newPassword:"Nouveau mot de passe",confirmPassword:"Confirmer le mot de passe",resetButton:"Réinitialiser le mot de passe"},e7e={title:"Profil",personalInfo:"Informations personnelles",security:"Sécurité",preferences:"Préférences",saveChanges:"Enregistrer les modifications",avatar:"Photo de profil",uploadAvatar:"Téléverser une photo",removeAvatar:"Supprimer la photo"},t7e={emailRequired:"L'adresse e-mail est requise",emailInvalid:"L'adresse e-mail n'est pas valide",passwordRequired:"Le mot de passe est requis",passwordMinLength:"Le mot de passe doit contenir au moins 8 caractères",passwordMatch:"Les mots de passe ne correspondent pas",firstNameRequired:"Le prénom est requis",lastNameRequired:"Le nom est requis",phoneInvalid:"Le numéro de téléphone n'est pas valide"},r7e={invalidCredentials:"Identifiants invalides",emailAlreadyExists:"Cette adresse e-mail est déjà utilisée",weakPassword:"Le mot de passe est trop faible",userNotFound:"Utilisateur non trouvé",tooManyRequests:"Trop de tentatives. Veuillez réessayer plus tard",networkError:"Erreur de réseau. Vérifiez votre connexion"},n7e={login:Y9e,register:X9e,forgotPassword:J9e,resetPassword:Q9e,profile:e7e,validation:t7e,errors:r7e},i7e={title:"Créer une annonce",subtitle:"Publiez votre annonce en quelques étapes",basicInfo:"Informations de base",details:"Détails",images:"Images",pricing:"Prix",location:"Localisation",contact:"Contact",review:"Aperçu",publish:"Publier"},s7e={title:"Titre de l'annonce",titlePlaceholder:"Entrez un titre descriptif",description:"Description",descriptionPlaceholder:"Décrivez votre produit ou service en détail",category:"Catégorie",selectCategory:"Sélectionnez une catégorie",subcategory:"Sous-catégorie",selectSubcategory:"Sélectionnez une sous-catégorie",condition:"État",new:"Neuf",used:"Occasion",refurbished:"Reconditionné",price:"Prix",pricePlaceholder:"Entrez le prix",currency:"Devise",negotiable:"Prix négociable",location:"Localisation",address:"Adresse",city:"Ville",country:"Pays",postalCode:"Code postal",contactPhone:"Téléphone",contactEmail:"E-mail",tags:"Mots-clés",tagsPlaceholder:"Ajoutez des mots-clés séparés par des virgules"},a7e={title:"Détails de l'annonce",postedBy:"Publié par",postedOn:"Publié le",views:"vues",favorites:"favoris",shares:"partages",contactSeller:"Contacter le vendeur",reportAd:"Signaler l'annonce",shareAd:"Partager l'annonce",similarAds:"Annonces similaires",relatedAds:"Annonces connexes"},o7e={title:"Filtres",priceRange:"Fourchette de prix",minPrice:"Prix minimum",maxPrice:"Prix maximum",condition:"État",location:"Localisation",category:"Catégorie",datePosted:"Date de publication",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois",clearFilters:"Effacer les filtres",applyFilters:"Appliquer les filtres"},l7e={placeholder:"Rechercher des annonces...",noResults:"Aucune annonce trouvée",tryDifferentKeywords:"Essayez des mots-clés différents",searchResults:"Résultats de recherche",resultsCount:"{{count}} annonce(s) trouvée(s)"},c7e={active:"Active",inactive:"Inactive",pending:"En attente",approved:"Approuvée",rejected:"Rejetée",expired:"Expirée",sold:"Vendue",reserved:"Réservée"},u7e={edit:"Modifier l'annonce",delete:"Supprimer l'annonce",renew:"Renouveler l'annonce",boost:"Booster l'annonce",markAsSold:"Marquer comme vendue",unmarkAsSold:"Retirer le statut vendue",duplicate:"Dupliquer l'annonce"},d7e={titleRequired:"Le titre est requis",titleMinLength:"Le titre doit contenir au moins 10 caractères",descriptionRequired:"La description est requise",descriptionMinLength:"La description doit contenir au moins 50 caractères",categoryRequired:"La catégorie est requise",priceRequired:"Le prix est requis",pricePositive:"Le prix doit être positif",locationRequired:"La localisation est requise",contactRequired:"Au moins un moyen de contact est requis"},f7e={createSuccess:"Annonce créée avec succès",updateSuccess:"Annonce mise à jour avec succès",deleteSuccess:"Annonce supprimée avec succès",boostSuccess:"Annonce boostée avec succès",renewSuccess:"Annonce renouvelée avec succès",createError:"Erreur lors de la création de l'annonce",updateError:"Erreur lors de la mise à jour de l'annonce",deleteError:"Erreur lors de la suppression de l'annonce",boostError:"Erreur lors du boost de l'annonce"},h7e="Populaires",p7e="Annonces",m7e="Annonces Populaires",g7e="Voir Toutes les Annonces",v7e="Voir Toutes les Annonces Premium",y7e={create:i7e,form:s7e,details:a7e,filters:o7e,search:l7e,status:c7e,actions:u7e,validation:d7e,messages:f7e,popular:h7e,listings:p7e,popularListings:m7e,viewAll:g7e,viewAllPremium:v7e},x7e={home:"Home",marketplace:"Marketplace",immobilier:"Real Estate",automobile:"Automotive",services:"Services",blog:"Blog",contact:"Contact",about:"About",dashboard:"Dashboard",profile:"Profile",settings:"Settings",logout:"Logout"},b7e={create:"Create",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",search:"Search",filter:"Filter",sort:"Sort",view:"View",add:"Add",remove:"Remove",update:"Update",submit:"Submit",close:"Close",open:"Open",download:"Download",upload:"Upload",share:"Share",like:"Like",dislike:"Dislike",discover:"Discover"},w7e={loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",pending:"Pending",approved:"Approved",rejected:"Rejected",draft:"Draft",published:"Published",unpublished:"Unpublished"},_7e={confirmDelete:"Are you sure you want to delete this item?",confirmAction:"Are you sure you want to perform this action?",operationSuccess:"Operation successful",operationFailed:"Operation failed",noData:"No data available",noResults:"No results found",tryAgain:"Please try again",connectionError:"Connection error",serverError:"Server error",validationError:"Validation error"},j7e={now:"Now",today:"Today",yesterday:"Yesterday",tomorrow:"Tomorrow",thisWeek:"This week",lastWeek:"Last week",thisMonth:"This month",lastMonth:"Last month",thisYear:"This year",lastYear:"Last year"},S7e={XOF:"CFA Franc",EUR:"Euro",USD:"US Dollar",GHS:"Ghanaian Cedi",NGN:"Nigerian Naira"},N7e={navigation:x7e,actions:b7e,status:w7e,messages:_7e,time:j7e,currency:S7e},C7e={title:"Login",subtitle:"Sign in to your account",email:"Email address",password:"Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",loginButton:"Sign in",noAccount:"Don't have an account?",signUp:"Sign up",or:"or",continueWithGoogle:"Continue with Google",continueWithFacebook:"Continue with Facebook"},E7e={title:"Sign up",subtitle:"Create your account",firstName:"First name",lastName:"Last name",email:"Email address",password:"Password",confirmPassword:"Confirm password",phone:"Phone number",acceptTerms:"I accept the terms of service",registerButton:"Sign up",hasAccount:"Already have an account?",signIn:"Sign in"},P7e={title:"Forgot password",subtitle:"Enter your email address to reset your password",email:"Email address",resetButton:"Reset password",backToLogin:"Back to login"},k7e={title:"Reset password",subtitle:"Enter your new password",newPassword:"New password",confirmPassword:"Confirm password",resetButton:"Reset password"},A7e={title:"Profile",personalInfo:"Personal information",security:"Security",preferences:"Preferences",saveChanges:"Save changes",avatar:"Profile picture",uploadAvatar:"Upload picture",removeAvatar:"Remove picture"},T7e={emailRequired:"Email is required",emailInvalid:"Email is not valid",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 8 characters",passwordMatch:"Passwords do not match",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",phoneInvalid:"Phone number is not valid"},O7e={invalidCredentials:"Invalid credentials",emailAlreadyExists:"This email is already in use",weakPassword:"Password is too weak",userNotFound:"User not found",tooManyRequests:"Too many attempts. Please try again later",networkError:"Network error. Check your connection"},R7e={login:C7e,register:E7e,forgotPassword:P7e,resetPassword:k7e,profile:A7e,validation:T7e,errors:O7e},M7e={title:"Create listing",subtitle:"Publish your listing in a few steps",basicInfo:"Basic information",details:"Details",images:"Images",pricing:"Pricing",location:"Location",contact:"Contact",review:"Preview",publish:"Publish"},I7e={title:"Listing title",titlePlaceholder:"Enter a descriptive title",description:"Description",descriptionPlaceholder:"Describe your product or service in detail",category:"Category",selectCategory:"Select a category",subcategory:"Subcategory",selectSubcategory:"Select a subcategory",condition:"Condition",new:"New",used:"Used",refurbished:"Refurbished",price:"Price",pricePlaceholder:"Enter price",currency:"Currency",negotiable:"Price negotiable",location:"Location",address:"Address",city:"City",country:"Country",postalCode:"Postal code",contactPhone:"Phone",contactEmail:"Email",tags:"Tags",tagsPlaceholder:"Add tags separated by commas"},D7e={title:"Listing details",postedBy:"Posted by",postedOn:"Posted on",views:"views",favorites:"favorites",shares:"shares",contactSeller:"Contact seller",reportAd:"Report listing",shareAd:"Share listing",similarAds:"Similar listings",relatedAds:"Related listings"},L7e={title:"Filters",priceRange:"Price range",minPrice:"Minimum price",maxPrice:"Maximum price",condition:"Condition",location:"Location",category:"Category",datePosted:"Date posted",today:"Today",thisWeek:"This week",thisMonth:"This month",clearFilters:"Clear filters",applyFilters:"Apply filters"},$7e={placeholder:"Search listings...",noResults:"No listings found",tryDifferentKeywords:"Try different keywords",searchResults:"Search results",resultsCount:"{{count}} listing(s) found"},F7e={active:"Active",inactive:"Inactive",pending:"Pending",approved:"Approved",rejected:"Rejected",expired:"Expired",sold:"Sold",reserved:"Reserved"},B7e={edit:"Edit listing",delete:"Delete listing",renew:"Renew listing",boost:"Boost listing",markAsSold:"Mark as sold",unmarkAsSold:"Unmark as sold",duplicate:"Duplicate listing"},z7e={titleRequired:"Title is required",titleMinLength:"Title must be at least 10 characters",descriptionRequired:"Description is required",descriptionMinLength:"Description must be at least 50 characters",categoryRequired:"Category is required",priceRequired:"Price is required",pricePositive:"Price must be positive",locationRequired:"Location is required",contactRequired:"At least one contact method is required"},q7e={createSuccess:"Listing created successfully",updateSuccess:"Listing updated successfully",deleteSuccess:"Listing deleted successfully",boostSuccess:"Listing boosted successfully",renewSuccess:"Listing renewed successfully",createError:"Error creating listing",updateError:"Error updating listing",deleteError:"Error deleting listing",boostError:"Error boosting listing"},U7e="Popular",V7e="Listings",W7e="View All Listings",H7e="View All Premium Listings",K7e={create:M7e,form:I7e,details:D7e,filters:L7e,search:$7e,status:F7e,actions:B7e,validation:z7e,messages:q7e,popular:U7e,listings:V7e,viewAll:W7e,viewAllPremium:H7e},G7e={fr:{common:Z9e,auth:n7e,listings:y7e},en:{common:N7e,auth:R7e,listings:K7e}};Wi.use(kie).use(fye).init({resources:G7e,fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},react:{useSuspense:!1},defaultNS:"common",ns:["common","auth","listings"],supportedLngs:["fr","en"],load:"languageOnly",saveMissing:!1,missingKeyHandler:(t,e,r,n)=>{}});const Z7e=({children:t})=>s.jsx(vye,{i18n:Wi,children:t});bse.createRoot(document.getElementById("root")).render(s.jsx(ne.StrictMode,{children:s.jsx(a9e,{children:s.jsx(Z7e,{children:s.jsx(bae,{children:s.jsx(s9e,{})})})})}));
