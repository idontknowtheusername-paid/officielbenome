function xre(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ts=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ZU(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var sS={exports:{}},Xm={},aS={exports:{}},Ht={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dD;function bre(){if(dD)return Ht;dD=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(J){return J===null||typeof J!="object"?null:(J=p&&J[p]||J["@@iterator"],typeof J=="function"?J:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,y={};function _(J,oe,be){this.props=J,this.context=oe,this.refs=y,this.updater=be||v}_.prototype.isReactComponent={},_.prototype.setState=function(J,oe){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,oe,"setState")},_.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function S(){}S.prototype=_.prototype;function N(J,oe,be){this.props=J,this.context=oe,this.refs=y,this.updater=be||v}var C=N.prototype=new S;C.constructor=N,b(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,k=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(J,oe,be){var Ce,Le={},ce=null,ae=null;if(oe!=null)for(Ce in oe.ref!==void 0&&(ae=oe.ref),oe.key!==void 0&&(ce=""+oe.key),oe)k.call(oe,Ce)&&!O.hasOwnProperty(Ce)&&(Le[Ce]=oe[Ce]);var ge=arguments.length-2;if(ge===1)Le.children=be;else if(1<ge){for(var he=Array(ge),Pe=0;Pe<ge;Pe++)he[Pe]=arguments[Pe+2];Le.children=he}if(J&&J.defaultProps)for(Ce in ge=J.defaultProps,ge)Le[Ce]===void 0&&(Le[Ce]=ge[Ce]);return{$$typeof:e,type:J,key:ce,ref:ae,props:Le,_owner:P.current}}function B(J,oe){return{$$typeof:e,type:J.type,key:oe,ref:J.ref,props:J.props,_owner:J._owner}}function K(J){return typeof J=="object"&&J!==null&&J.$$typeof===e}function V(J){var oe={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(be){return oe[be]})}var U=/\/+/g;function q(J,oe){return typeof J=="object"&&J!==null&&J.key!=null?V(""+J.key):oe.toString(36)}function H(J,oe,be,Ce,Le){var ce=typeof J;(ce==="undefined"||ce==="boolean")&&(J=null);var ae=!1;if(J===null)ae=!0;else switch(ce){case"string":case"number":ae=!0;break;case"object":switch(J.$$typeof){case e:case t:ae=!0}}if(ae)return ae=J,Le=Le(ae),J=Ce===""?"."+q(ae,0):Ce,A(Le)?(be="",J!=null&&(be=J.replace(U,"$&/")+"/"),H(Le,oe,be,"",function(Pe){return Pe})):Le!=null&&(K(Le)&&(Le=B(Le,be+(!Le.key||ae&&ae.key===Le.key?"":(""+Le.key).replace(U,"$&/")+"/")+J)),oe.push(Le)),1;if(ae=0,Ce=Ce===""?".":Ce+":",A(J))for(var ge=0;ge<J.length;ge++){ce=J[ge];var he=Ce+q(ce,ge);ae+=H(ce,oe,be,he,Le)}else if(he=g(J),typeof he=="function")for(J=he.call(J),ge=0;!(ce=J.next()).done;)ce=ce.value,he=Ce+q(ce,ge++),ae+=H(ce,oe,be,he,Le);else if(ce==="object")throw oe=String(J),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return ae}function G(J,oe,be){if(J==null)return J;var Ce=[],Le=0;return H(J,Ce,"","",function(ce){return oe.call(be,ce,Le++)}),Ce}function se(J){if(J._status===-1){var oe=J._result;oe=oe(),oe.then(function(be){(J._status===0||J._status===-1)&&(J._status=1,J._result=be)},function(be){(J._status===0||J._status===-1)&&(J._status=2,J._result=be)}),J._status===-1&&(J._status=0,J._result=oe)}if(J._status===1)return J._result.default;throw J._result}var W={current:null},ee={transition:null},X={ReactCurrentDispatcher:W,ReactCurrentBatchConfig:ee,ReactCurrentOwner:P};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Ht.Children={map:G,forEach:function(J,oe,be){G(J,function(){oe.apply(this,arguments)},be)},count:function(J){var oe=0;return G(J,function(){oe++}),oe},toArray:function(J){return G(J,function(oe){return oe})||[]},only:function(J){if(!K(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},Ht.Component=_,Ht.Fragment=r,Ht.Profiler=i,Ht.PureComponent=N,Ht.StrictMode=n,Ht.Suspense=c,Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ht.act=ne,Ht.cloneElement=function(J,oe,be){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var Ce=b({},J.props),Le=J.key,ce=J.ref,ae=J._owner;if(oe!=null){if(oe.ref!==void 0&&(ce=oe.ref,ae=P.current),oe.key!==void 0&&(Le=""+oe.key),J.type&&J.type.defaultProps)var ge=J.type.defaultProps;for(he in oe)k.call(oe,he)&&!O.hasOwnProperty(he)&&(Ce[he]=oe[he]===void 0&&ge!==void 0?ge[he]:oe[he])}var he=arguments.length-2;if(he===1)Ce.children=be;else if(1<he){ge=Array(he);for(var Pe=0;Pe<he;Pe++)ge[Pe]=arguments[Pe+2];Ce.children=ge}return{$$typeof:e,type:J.type,key:Le,ref:ce,props:Ce,_owner:ae}},Ht.createContext=function(J){return J={$$typeof:o,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:s,_context:J},J.Consumer=J},Ht.createElement=I,Ht.createFactory=function(J){var oe=I.bind(null,J);return oe.type=J,oe},Ht.createRef=function(){return{current:null}},Ht.forwardRef=function(J){return{$$typeof:l,render:J}},Ht.isValidElement=K,Ht.lazy=function(J){return{$$typeof:f,_payload:{_status:-1,_result:J},_init:se}},Ht.memo=function(J,oe){return{$$typeof:u,type:J,compare:oe===void 0?null:oe}},Ht.startTransition=function(J){var oe=ee.transition;ee.transition={};try{J()}finally{ee.transition=oe}},Ht.unstable_act=ne,Ht.useCallback=function(J,oe){return W.current.useCallback(J,oe)},Ht.useContext=function(J){return W.current.useContext(J)},Ht.useDebugValue=function(){},Ht.useDeferredValue=function(J){return W.current.useDeferredValue(J)},Ht.useEffect=function(J,oe){return W.current.useEffect(J,oe)},Ht.useId=function(){return W.current.useId()},Ht.useImperativeHandle=function(J,oe,be){return W.current.useImperativeHandle(J,oe,be)},Ht.useInsertionEffect=function(J,oe){return W.current.useInsertionEffect(J,oe)},Ht.useLayoutEffect=function(J,oe){return W.current.useLayoutEffect(J,oe)},Ht.useMemo=function(J,oe){return W.current.useMemo(J,oe)},Ht.useReducer=function(J,oe,be){return W.current.useReducer(J,oe,be)},Ht.useRef=function(J){return W.current.useRef(J)},Ht.useState=function(J){return W.current.useState(J)},Ht.useSyncExternalStore=function(J,oe,be){return W.current.useSyncExternalStore(J,oe,be)},Ht.useTransition=function(){return W.current.useTransition()},Ht.version="18.3.1",Ht}var fD;function o_(){return fD||(fD=1,aS.exports=bre()),aS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hD;function wre(){if(hD)return Xm;hD=1;var e=o_(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var f,p={},g=null,v=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(f in c)n.call(c,f)&&!s.hasOwnProperty(f)&&(p[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:t,type:l,key:g,ref:v,props:p,_owner:i.current}}return Xm.Fragment=r,Xm.jsx=o,Xm.jsxs=o,Xm}var pD;function _re(){return pD||(pD=1,sS.exports=wre()),sS.exports}var a=_re(),x=o_();const Q=pr(x),au=xre({__proto__:null,default:Q},[x]);var l0={},oS={exports:{}},Zi={},lS={exports:{}},cS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mD;function jre(){return mD||(mD=1,function(e){function t(ee,X){var ne=ee.length;ee.push(X);e:for(;0<ne;){var J=ne-1>>>1,oe=ee[J];if(0<i(oe,X))ee[J]=X,ee[ne]=oe,ne=J;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var X=ee[0],ne=ee.pop();if(ne!==X){ee[0]=ne;e:for(var J=0,oe=ee.length,be=oe>>>1;J<be;){var Ce=2*(J+1)-1,Le=ee[Ce],ce=Ce+1,ae=ee[ce];if(0>i(Le,ne))ce<oe&&0>i(ae,Le)?(ee[J]=ae,ee[ce]=ne,J=ce):(ee[J]=Le,ee[Ce]=ne,J=Ce);else if(ce<oe&&0>i(ae,ne))ee[J]=ae,ee[ce]=ne,J=ce;else break e}}return X}function i(ee,X){var ne=ee.sortIndex-X.sortIndex;return ne!==0?ne:ee.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,p=null,g=3,v=!1,b=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ee){for(var X=r(u);X!==null;){if(X.callback===null)n(u);else if(X.startTime<=ee)n(u),X.sortIndex=X.expirationTime,t(c,X);else break;X=r(u)}}function A(ee){if(y=!1,C(ee),!b)if(r(c)!==null)b=!0,se(k);else{var X=r(u);X!==null&&W(A,X.startTime-ee)}}function k(ee,X){b=!1,y&&(y=!1,S(I),I=-1),v=!0;var ne=g;try{for(C(X),p=r(c);p!==null&&(!(p.expirationTime>X)||ee&&!V());){var J=p.callback;if(typeof J=="function"){p.callback=null,g=p.priorityLevel;var oe=J(p.expirationTime<=X);X=e.unstable_now(),typeof oe=="function"?p.callback=oe:p===r(c)&&n(c),C(X)}else n(c);p=r(c)}if(p!==null)var be=!0;else{var Ce=r(u);Ce!==null&&W(A,Ce.startTime-X),be=!1}return be}finally{p=null,g=ne,v=!1}}var P=!1,O=null,I=-1,B=5,K=-1;function V(){return!(e.unstable_now()-K<B)}function U(){if(O!==null){var ee=e.unstable_now();K=ee;var X=!0;try{X=O(!0,ee)}finally{X?q():(P=!1,O=null)}}else P=!1}var q;if(typeof N=="function")q=function(){N(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,G=H.port2;H.port1.onmessage=U,q=function(){G.postMessage(null)}}else q=function(){_(U,0)};function se(ee){O=ee,P||(P=!0,q())}function W(ee,X){I=_(function(){ee(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ee){ee.callback=null},e.unstable_continueExecution=function(){b||v||(b=!0,se(k))},e.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<ee?Math.floor(1e3/ee):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var ne=g;g=X;try{return ee()}finally{g=ne}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ee,X){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=g;g=ee;try{return X()}finally{g=ne}},e.unstable_scheduleCallback=function(ee,X,ne){var J=e.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?J+ne:J):ne=J,ee){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,ee={id:f++,callback:X,priorityLevel:ee,startTime:ne,expirationTime:oe,sortIndex:-1},ne>J?(ee.sortIndex=ne,t(u,ee),r(c)===null&&ee===r(u)&&(y?(S(I),I=-1):y=!0,W(A,ne-J))):(ee.sortIndex=oe,t(c,ee),b||v||(b=!0,se(k))),ee},e.unstable_shouldYield=V,e.unstable_wrapCallback=function(ee){var X=g;return function(){var ne=g;g=X;try{return ee.apply(this,arguments)}finally{g=ne}}}}(cS)),cS}var gD;function Sre(){return gD||(gD=1,lS.exports=jre()),lS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vD;function Nre(){if(vD)return Zi;vD=1;var e=o_(),t=Sre();function r(d){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+d,j=1;j<arguments.length;j++)m+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+d+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(d,m){o(d,m),o(d+"Capture",m)}function o(d,m){for(i[d]=m,d=0;d<m.length;d++)n.add(m[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(d){return c.call(p,d)?!0:c.call(f,d)?!1:u.test(d)?p[d]=!0:(f[d]=!0,!1)}function v(d,m,j,T){if(j!==null&&j.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return T?!1:j!==null?!j.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function b(d,m,j,T){if(m===null||typeof m>"u"||v(d,m,j,T))return!0;if(T)return!1;if(j!==null)switch(j.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function y(d,m,j,T,M,$,re){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=T,this.attributeNamespace=M,this.mustUseProperty=j,this.propertyName=d,this.type=m,this.sanitizeURL=$,this.removeEmptyString=re}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){_[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var m=d[0];_[m]=new y(m,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){_[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){_[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){_[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){_[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){_[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){_[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){_[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var m=d.replace(S,N);_[m]=new y(m,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),_.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){_[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function C(d,m,j,T){var M=_.hasOwnProperty(m)?_[m]:null;(M!==null?M.type!==0:T||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(b(m,j,M,T)&&(j=null),T||M===null?g(m)&&(j===null?d.removeAttribute(m):d.setAttribute(m,""+j)):M.mustUseProperty?d[M.propertyName]=j===null?M.type===3?!1:"":j:(m=M.attributeName,T=M.attributeNamespace,j===null?d.removeAttribute(m):(M=M.type,j=M===3||M===4&&j===!0?"":""+j,T?d.setAttributeNS(T,m,j):d.setAttribute(m,j))))}var A=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),K=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),ee=Symbol.iterator;function X(d){return d===null||typeof d!="object"?null:(d=ee&&d[ee]||d["@@iterator"],typeof d=="function"?d:null)}var ne=Object.assign,J;function oe(d){if(J===void 0)try{throw Error()}catch(j){var m=j.stack.trim().match(/\n( *(at )?)/);J=m&&m[1]||""}return`
`+J+d}var be=!1;function Ce(d,m){if(!d||be)return"";be=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ie){var T=Ie}Reflect.construct(d,[],m)}else{try{m.call()}catch(Ie){T=Ie}d.call(m.prototype)}else{try{throw Error()}catch(Ie){T=Ie}d()}}catch(Ie){if(Ie&&T&&typeof Ie.stack=="string"){for(var M=Ie.stack.split(`
`),$=T.stack.split(`
`),re=M.length-1,de=$.length-1;1<=re&&0<=de&&M[re]!==$[de];)de--;for(;1<=re&&0<=de;re--,de--)if(M[re]!==$[de]){if(re!==1||de!==1)do if(re--,de--,0>de||M[re]!==$[de]){var ve=`
`+M[re].replace(" at new "," at ");return d.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",d.displayName)),ve}while(1<=re&&0<=de);break}}}finally{be=!1,Error.prepareStackTrace=j}return(d=d?d.displayName||d.name:"")?oe(d):""}function Le(d){switch(d.tag){case 5:return oe(d.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return d=Ce(d.type,!1),d;case 11:return d=Ce(d.type.render,!1),d;case 1:return d=Ce(d.type,!0),d;default:return""}}function ce(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case O:return"Fragment";case P:return"Portal";case B:return"Profiler";case I:return"StrictMode";case q:return"Suspense";case H:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case V:return(d.displayName||"Context")+".Consumer";case K:return(d._context.displayName||"Context")+".Provider";case U:var m=d.render;return d=d.displayName,d||(d=m.displayName||m.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case G:return m=d.displayName||null,m!==null?m:ce(d.type)||"Memo";case se:m=d._payload,d=d._init;try{return ce(d(m))}catch{}}return null}function ae(d){var m=d.type;switch(d.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=m.render,d=d.displayName||d.name||"",m.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ge(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function he(d){var m=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Pe(d){var m=he(d)?"checked":"value",j=Object.getOwnPropertyDescriptor(d.constructor.prototype,m),T=""+d[m];if(!d.hasOwnProperty(m)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var M=j.get,$=j.set;return Object.defineProperty(d,m,{configurable:!0,get:function(){return M.call(this)},set:function(re){T=""+re,$.call(this,re)}}),Object.defineProperty(d,m,{enumerable:j.enumerable}),{getValue:function(){return T},setValue:function(re){T=""+re},stopTracking:function(){d._valueTracker=null,delete d[m]}}}}function te(d){d._valueTracker||(d._valueTracker=Pe(d))}function Y(d){if(!d)return!1;var m=d._valueTracker;if(!m)return!0;var j=m.getValue(),T="";return d&&(T=he(d)?d.checked?"true":"false":d.value),d=T,d!==j?(m.setValue(d),!0):!1}function _e(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function xe(d,m){var j=m.checked;return ne({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??d._wrapperState.initialChecked})}function We(d,m){var j=m.defaultValue==null?"":m.defaultValue,T=m.checked!=null?m.checked:m.defaultChecked;j=ge(m.value!=null?m.value:j),d._wrapperState={initialChecked:T,initialValue:j,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ue(d,m){m=m.checked,m!=null&&C(d,"checked",m,!1)}function Ne(d,m){Ue(d,m);var j=ge(m.value),T=m.type;if(j!=null)T==="number"?(j===0&&d.value===""||d.value!=j)&&(d.value=""+j):d.value!==""+j&&(d.value=""+j);else if(T==="submit"||T==="reset"){d.removeAttribute("value");return}m.hasOwnProperty("value")?Dt(d,m.type,j):m.hasOwnProperty("defaultValue")&&Dt(d,m.type,ge(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(d.defaultChecked=!!m.defaultChecked)}function ot(d,m,j){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var T=m.type;if(!(T!=="submit"&&T!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+d._wrapperState.initialValue,j||m===d.value||(d.value=m),d.defaultValue=m}j=d.name,j!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,j!==""&&(d.name=j)}function Dt(d,m,j){(m!=="number"||_e(d.ownerDocument)!==d)&&(j==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+j&&(d.defaultValue=""+j))}var fe=Array.isArray;function je(d,m,j,T){if(d=d.options,m){m={};for(var M=0;M<j.length;M++)m["$"+j[M]]=!0;for(j=0;j<d.length;j++)M=m.hasOwnProperty("$"+d[j].value),d[j].selected!==M&&(d[j].selected=M),M&&T&&(d[j].defaultSelected=!0)}else{for(j=""+ge(j),m=null,M=0;M<d.length;M++){if(d[M].value===j){d[M].selected=!0,T&&(d[M].defaultSelected=!0);return}m!==null||d[M].disabled||(m=d[M])}m!==null&&(m.selected=!0)}}function Ae(d,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},m,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Ze(d,m){var j=m.value;if(j==null){if(j=m.children,m=m.defaultValue,j!=null){if(m!=null)throw Error(r(92));if(fe(j)){if(1<j.length)throw Error(r(93));j=j[0]}m=j}m==null&&(m=""),j=m}d._wrapperState={initialValue:ge(j)}}function Xe(d,m){var j=ge(m.value),T=ge(m.defaultValue);j!=null&&(j=""+j,j!==d.value&&(d.value=j),m.defaultValue==null&&d.defaultValue!==j&&(d.defaultValue=j)),T!=null&&(d.defaultValue=""+T)}function me(d){var m=d.textContent;m===d._wrapperState.initialValue&&m!==""&&m!==null&&(d.value=m)}function De(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z(d,m){return d==null||d==="http://www.w3.org/1999/xhtml"?De(m):d==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var D,F=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,j,T,M){MSApp.execUnsafeLocalFunction(function(){return d(m,j,T,M)})}:d}(function(d,m){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=m;else{for(D=D||document.createElement("div"),D.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=D.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;m.firstChild;)d.appendChild(m.firstChild)}});function le(d,m){if(m){var j=d.firstChild;if(j&&j===d.lastChild&&j.nodeType===3){j.nodeValue=m;return}}d.textContent=m}var ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Oe=["Webkit","ms","Moz","O"];Object.keys(ye).forEach(function(d){Oe.forEach(function(m){m=m+d.charAt(0).toUpperCase()+d.substring(1),ye[m]=ye[d]})});function $e(d,m,j){return m==null||typeof m=="boolean"||m===""?"":j||typeof m!="number"||m===0||ye.hasOwnProperty(d)&&ye[d]?(""+m).trim():m+"px"}function yt(d,m){d=d.style;for(var j in m)if(m.hasOwnProperty(j)){var T=j.indexOf("--")===0,M=$e(j,m[j],T);j==="float"&&(j="cssFloat"),T?d.setProperty(j,M):d[j]=M}}var lr=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qt(d,m){if(m){if(lr[d]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Yt(d,m){if(d.indexOf("-")===-1)return typeof m.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wt=null;function Zl(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Uo=null,pa=null,os=null;function ls(d){if(d=tl(d)){if(typeof Uo!="function")throw Error(r(280));var m=d.stateNode;m&&(m=Lf(m),Uo(d.stateNode,d.type,m))}}function uf(d){pa?os?os.push(d):os=[d]:pa=d}function Nt(){if(pa){var d=pa,m=os;if(os=pa=null,ls(d),m)for(d=0;d<m.length;d++)ls(m[d])}}function tr(d,m){return d(m)}function br(){}var ei=!1;function qn(d,m,j){if(ei)return d(m,j);ei=!0;try{return tr(d,m,j)}finally{ei=!1,(pa!==null||os!==null)&&(br(),Nt())}}function ci(d,m){var j=d.stateNode;if(j===null)return null;var T=Lf(j);if(T===null)return null;j=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(d=d.type,T=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!T;break e;default:d=!1}if(d)return null;if(j&&typeof j!="function")throw Error(r(231,m,typeof j));return j}var cs=!1;if(l)try{var Tn={};Object.defineProperty(Tn,"passive",{get:function(){cs=!0}}),window.addEventListener("test",Tn,Tn),window.removeEventListener("test",Tn,Tn)}catch{cs=!1}function $s(d,m,j,T,M,$,re,de,ve){var Ie=Array.prototype.slice.call(arguments,3);try{m.apply(j,Ie)}catch(Ke){this.onError(Ke)}}var ui=!1,pt=null,Cu=!1,df=null,Zy={onError:function(d){ui=!0,pt=d}};function Yy(d,m,j,T,M,$,re,de,ve){ui=!1,pt=null,$s.apply(Zy,arguments)}function lm(d,m,j,T,M,$,re,de,ve){if(Yy.apply(this,arguments),ui){if(ui){var Ie=pt;ui=!1,pt=null}else throw Error(r(198));Cu||(Cu=!0,df=Ie)}}function to(d){var m=d,j=d;if(d.alternate)for(;m.return;)m=m.return;else{d=m;do m=d,(m.flags&4098)!==0&&(j=m.return),d=m.return;while(d)}return m.tag===3?j:null}function Vo(d){if(d.tag===13){var m=d.memoizedState;if(m===null&&(d=d.alternate,d!==null&&(m=d.memoizedState)),m!==null)return m.dehydrated}return null}function cm(d){if(to(d)!==d)throw Error(r(188))}function D1(d){var m=d.alternate;if(!m){if(m=to(d),m===null)throw Error(r(188));return m!==d?null:d}for(var j=d,T=m;;){var M=j.return;if(M===null)break;var $=M.alternate;if($===null){if(T=M.return,T!==null){j=T;continue}break}if(M.child===$.child){for($=M.child;$;){if($===j)return cm(M),d;if($===T)return cm(M),m;$=$.sibling}throw Error(r(188))}if(j.return!==T.return)j=M,T=$;else{for(var re=!1,de=M.child;de;){if(de===j){re=!0,j=M,T=$;break}if(de===T){re=!0,T=M,j=$;break}de=de.sibling}if(!re){for(de=$.child;de;){if(de===j){re=!0,j=$,T=M;break}if(de===T){re=!0,T=$,j=M;break}de=de.sibling}if(!re)throw Error(r(189))}}if(j.alternate!==T)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?d:m}function Xy(d){return d=D1(d),d!==null?Jy(d):null}function Jy(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var m=Jy(d);if(m!==null)return m;d=d.sibling}return null}var Qy=t.unstable_scheduleCallback,um=t.unstable_cancelCallback,$1=t.unstable_shouldYield,ff=t.unstable_requestPaint,Qr=t.unstable_now,F1=t.unstable_getCurrentPriorityLevel,dm=t.unstable_ImmediatePriority,ex=t.unstable_UserBlockingPriority,hf=t.unstable_NormalPriority,fm=t.unstable_LowPriority,Yl=t.unstable_IdlePriority,Eu=null,us=null;function Pu(d){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(Eu,d,void 0,(d.current.flags&128)===128)}catch{}}var Rt=Math.clz32?Math.clz32:Xl,Ur=Math.log,pf=Math.LN2;function Xl(d){return d>>>=0,d===0?32:31-(Ur(d)/pf|0)|0}var ma=64,Jl=4194304;function Pt(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Lr(d,m){var j=d.pendingLanes;if(j===0)return 0;var T=0,M=d.suspendedLanes,$=d.pingedLanes,re=j&268435455;if(re!==0){var de=re&~M;de!==0?T=Pt(de):($&=re,$!==0&&(T=Pt($)))}else re=j&~M,re!==0?T=Pt(re):$!==0&&(T=Pt($));if(T===0)return 0;if(m!==0&&m!==T&&(m&M)===0&&(M=T&-T,$=m&-m,M>=$||M===16&&($&4194240)!==0))return m;if((T&4)!==0&&(T|=j&16),m=d.entangledLanes,m!==0)for(d=d.entanglements,m&=T;0<m;)j=31-Rt(m),M=1<<j,T|=d[j],m&=~M;return T}function hm(d,m){switch(d){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mf(d,m){for(var j=d.suspendedLanes,T=d.pingedLanes,M=d.expirationTimes,$=d.pendingLanes;0<$;){var re=31-Rt($),de=1<<re,ve=M[re];ve===-1?((de&j)===0||(de&T)!==0)&&(M[re]=hm(de,m)):ve<=m&&(d.expiredLanes|=de),$&=~de}}function di(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function tx(){var d=ma;return ma<<=1,(ma&4194240)===0&&(ma=64),d}function Ql(d){for(var m=[],j=0;31>j;j++)m.push(d);return m}function ds(d,m,j){d.pendingLanes|=m,m!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,m=31-Rt(m),d[m]=j}function on(d,m){var j=d.pendingLanes&~m;d.pendingLanes=m,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=m,d.mutableReadLanes&=m,d.entangledLanes&=m,m=d.entanglements;var T=d.eventTimes;for(d=d.expirationTimes;0<j;){var M=31-Rt(j),$=1<<M;m[M]=0,T[M]=-1,d[M]=-1,j&=~$}}function ga(d,m){var j=d.entangledLanes|=m;for(d=d.entanglements;j;){var T=31-Rt(j),M=1<<T;M&m|d[T]&m&&(d[T]|=m),j&=~M}}var Xt=0;function ec(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var gf,Wo,vf,yf,Tu,ku=!1,tc=[],fs=null,va=null,Fs=null,Au=new Map,Ct=new Map,kn=[],Sr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pm(d,m){switch(d){case"focusin":case"focusout":fs=null;break;case"dragenter":case"dragleave":va=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Au.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(m.pointerId)}}function Ho(d,m,j,T,M,$){return d===null||d.nativeEvent!==$?(d={blockedOn:m,domEventName:j,eventSystemFlags:T,nativeEvent:$,targetContainers:[M]},m!==null&&(m=tl(m),m!==null&&Wo(m)),d):(d.eventSystemFlags|=T,m=d.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),d)}function mm(d,m,j,T,M){switch(m){case"focusin":return fs=Ho(fs,d,m,j,T,M),!0;case"dragenter":return va=Ho(va,d,m,j,T,M),!0;case"mouseover":return Fs=Ho(Fs,d,m,j,T,M),!0;case"pointerover":var $=M.pointerId;return Au.set($,Ho(Au.get($)||null,d,m,j,T,M)),!0;case"gotpointercapture":return $=M.pointerId,Ct.set($,Ho(Ct.get($)||null,d,m,j,T,M)),!0}return!1}function xf(d){var m=el(d.target);if(m!==null){var j=to(m);if(j!==null){if(m=j.tag,m===13){if(m=Vo(j),m!==null){d.blockedOn=m,Tu(d.priority,function(){vf(j)});return}}else if(m===3&&j.stateNode.current.memoizedState.isDehydrated){d.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}d.blockedOn=null}function Bs(d){if(d.blockedOn!==null)return!1;for(var m=d.targetContainers;0<m.length;){var j=_f(d.domEventName,d.eventSystemFlags,m[0],d.nativeEvent);if(j===null){j=d.nativeEvent;var T=new j.constructor(j.type,j);Wt=T,j.target.dispatchEvent(T),Wt=null}else return m=tl(j),m!==null&&Wo(m),d.blockedOn=j,!1;m.shift()}return!0}function bf(d,m,j){Bs(d)&&j.delete(m)}function Ou(){ku=!1,fs!==null&&Bs(fs)&&(fs=null),va!==null&&Bs(va)&&(va=null),Fs!==null&&Bs(Fs)&&(Fs=null),Au.forEach(bf),Ct.forEach(bf)}function en(d,m){d.blockedOn===m&&(d.blockedOn=null,ku||(ku=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ou)))}function hs(d){function m(M){return en(M,d)}if(0<tc.length){en(tc[0],d);for(var j=1;j<tc.length;j++){var T=tc[j];T.blockedOn===d&&(T.blockedOn=null)}}for(fs!==null&&en(fs,d),va!==null&&en(va,d),Fs!==null&&en(Fs,d),Au.forEach(m),Ct.forEach(m),j=0;j<kn.length;j++)T=kn[j],T.blockedOn===d&&(T.blockedOn=null);for(;0<kn.length&&(j=kn[0],j.blockedOn===null);)xf(j),j.blockedOn===null&&kn.shift()}var Ko=A.ReactCurrentBatchConfig,Ru=!0;function B1(d,m,j,T){var M=Xt,$=Ko.transition;Ko.transition=null;try{Xt=1,Mu(d,m,j,T)}finally{Xt=M,Ko.transition=$}}function rx(d,m,j,T){var M=Xt,$=Ko.transition;Ko.transition=null;try{Xt=4,Mu(d,m,j,T)}finally{Xt=M,Ko.transition=$}}function Mu(d,m,j,T){if(Ru){var M=_f(d,m,j,T);if(M===null)h(d,m,T,wf,j),pm(d,T);else if(mm(M,d,m,j,T))T.stopPropagation();else if(pm(d,T),m&4&&-1<Sr.indexOf(d)){for(;M!==null;){var $=tl(M);if($!==null&&gf($),$=_f(d,m,j,T),$===null&&h(d,m,T,wf,j),$===M)break;M=$}M!==null&&T.stopPropagation()}else h(d,m,T,null,j)}}var wf=null;function _f(d,m,j,T){if(wf=null,d=Zl(T),d=el(d),d!==null)if(m=to(d),m===null)d=null;else if(j=m.tag,j===13){if(d=Vo(m),d!==null)return d;d=null}else if(j===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;d=null}else m!==d&&(d=null);return wf=d,null}function Gt(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F1()){case dm:return 1;case ex:return 4;case hf:case fm:return 16;case Yl:return 536870912;default:return 16}default:return 16}}var ro=null,Ei=null,no=null;function gm(){if(no)return no;var d,m=Ei,j=m.length,T,M="value"in ro?ro.value:ro.textContent,$=M.length;for(d=0;d<j&&m[d]===M[d];d++);var re=j-d;for(T=1;T<=re&&m[j-T]===M[$-T];T++);return no=M.slice(d,1<T?1-T:void 0)}function jf(d){var m=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&m===13&&(d=13)):d=m,d===10&&(d=13),32<=d||d===13?d:0}function rc(){return!0}function nx(){return!1}function fi(d){function m(j,T,M,$,re){this._reactName=j,this._targetInst=M,this.type=T,this.nativeEvent=$,this.target=re,this.currentTarget=null;for(var de in d)d.hasOwnProperty(de)&&(j=d[de],this[de]=j?j($):$[de]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?rc:nx,this.isPropagationStopped=nx,this}return ne(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=rc)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=rc)},persist:function(){},isPersistent:rc}),m}var nc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vm=fi(nc),Go=ne({},nc,{view:0,detail:0}),z1=fi(Go),qi,ym,ic,ps=ne({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yo,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==ic&&(ic&&d.type==="mousemove"?(qi=d.screenX-ic.screenX,ym=d.screenY-ic.screenY):ym=qi=0,ic=d),qi)},movementY:function(d){return"movementY"in d?d.movementY:ym}}),xm=fi(ps),ix=ne({},ps,{dataTransfer:0}),bm=fi(ix),q1=ne({},Go,{relatedTarget:0}),Sf=fi(q1),sx=ne({},nc,{animationName:0,elapsedTime:0,pseudoElement:0}),U1=fi(sx),V1=ne({},nc,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),wm=fi(V1),W1=ne({},nc,{data:0}),_m=fi(W1),ax={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function H1(d){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(d):(d=Zo[d])?!!m[d]:!1}function Yo(){return H1}var Ui=ne({},Go,{key:function(d){if(d.key){var m=ax[d.key]||d.key;if(m!=="Unidentified")return m}return d.type==="keypress"?(d=jf(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Nf[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yo,charCode:function(d){return d.type==="keypress"?jf(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?jf(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),ox=fi(Ui),lx=ne({},ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cx=fi(lx),jm=ne({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yo}),Sm=fi(jm),K1=ne({},nc,{propertyName:0,elapsedTime:0,pseudoElement:0}),G1=fi(K1),ux=ne({},ps,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Z1=fi(ux),ms=[9,13,27,32],io=l&&"CompositionEvent"in window,Iu=null;l&&"documentMode"in document&&(Iu=document.documentMode);var ya=l&&"TextEvent"in window&&!Iu,dx=l&&(!io||Iu&&8<Iu&&11>=Iu),Xo=" ",fx=!1;function sc(d,m){switch(d){case"keyup":return ms.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nm(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var xa=!1;function Y1(d,m){switch(d){case"compositionend":return Nm(m);case"keypress":return m.which!==32?null:(fx=!0,Xo);case"textInput":return d=m.data,d===Xo&&fx?null:d;default:return null}}function so(d,m){if(xa)return d==="compositionend"||!io&&sc(d,m)?(d=gm(),no=Ei=ro=null,xa=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return dx&&m.locale!=="ko"?null:m.data;default:return null}}var Cf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hx(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m==="input"?!!Cf[d.type]:m==="textarea"}function Ef(d,m,j,T){uf(T),m=E(m,"onChange"),0<m.length&&(j=new vm("onChange","change",null,j,T),d.push({event:j,listeners:m}))}var Lu=null,Pi=null;function X1(d){Mm(d,0)}function ba(d){var m=rl(d);if(Y(m))return d}function J1(d,m){if(d==="change")return m}var zs=!1;if(l){var ac;if(l){var Pf="oninput"in document;if(!Pf){var Tf=document.createElement("div");Tf.setAttribute("oninput","return;"),Pf=typeof Tf.oninput=="function"}ac=Pf}else ac=!1;zs=ac&&(!document.documentMode||9<document.documentMode)}function Du(){Lu&&(Lu.detachEvent("onpropertychange",kf),Pi=Lu=null)}function kf(d){if(d.propertyName==="value"&&ba(Pi)){var m=[];Ef(m,Pi,d,Zl(d)),qn(X1,m)}}function Af(d,m,j){d==="focusin"?(Du(),Lu=m,Pi=j,Lu.attachEvent("onpropertychange",kf)):d==="focusout"&&Du()}function oc(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return ba(Pi)}function Of(d,m){if(d==="click")return ba(m)}function Cm(d,m){if(d==="input"||d==="change")return ba(m)}function px(d,m){return d===m&&(d!==0||1/d===1/m)||d!==d&&m!==m}var gs=typeof Object.is=="function"?Object.is:px;function ao(d,m){if(gs(d,m))return!0;if(typeof d!="object"||d===null||typeof m!="object"||m===null)return!1;var j=Object.keys(d),T=Object.keys(m);if(j.length!==T.length)return!1;for(T=0;T<j.length;T++){var M=j[T];if(!c.call(m,M)||!gs(d[M],m[M]))return!1}return!0}function mx(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function Em(d,m){var j=mx(d);d=0;for(var T;j;){if(j.nodeType===3){if(T=d+j.textContent.length,d<=m&&T>=m)return{node:j,offset:m-d};d=T}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=mx(j)}}function gx(d,m){return d&&m?d===m?!0:d&&d.nodeType===3?!1:m&&m.nodeType===3?gx(d,m.parentNode):"contains"in d?d.contains(m):d.compareDocumentPosition?!!(d.compareDocumentPosition(m)&16):!1:!1}function Pm(){for(var d=window,m=_e();m instanceof d.HTMLIFrameElement;){try{var j=typeof m.contentWindow.location.href=="string"}catch{j=!1}if(j)d=m.contentWindow;else break;m=_e(d.document)}return m}function Tm(d){var m=d&&d.nodeName&&d.nodeName.toLowerCase();return m&&(m==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||m==="textarea"||d.contentEditable==="true")}function qs(d){var m=Pm(),j=d.focusedElem,T=d.selectionRange;if(m!==j&&j&&j.ownerDocument&&gx(j.ownerDocument.documentElement,j)){if(T!==null&&Tm(j)){if(m=T.start,d=T.end,d===void 0&&(d=m),"selectionStart"in j)j.selectionStart=m,j.selectionEnd=Math.min(d,j.value.length);else if(d=(m=j.ownerDocument||document)&&m.defaultView||window,d.getSelection){d=d.getSelection();var M=j.textContent.length,$=Math.min(T.start,M);T=T.end===void 0?$:Math.min(T.end,M),!d.extend&&$>T&&(M=T,T=$,$=M),M=Em(j,$);var re=Em(j,T);M&&re&&(d.rangeCount!==1||d.anchorNode!==M.node||d.anchorOffset!==M.offset||d.focusNode!==re.node||d.focusOffset!==re.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),d.removeAllRanges(),$>T?(d.addRange(m),d.extend(re.node,re.offset)):(m.setEnd(re.node,re.offset),d.addRange(m)))}}for(m=[],d=j;d=d.parentNode;)d.nodeType===1&&m.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<m.length;j++)d=m[j],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var Rf=l&&"documentMode"in document&&11>=document.documentMode,lc=null,cc=null,$u=null,Mf=!1;function vx(d,m,j){var T=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Mf||lc==null||lc!==_e(T)||(T=lc,"selectionStart"in T&&Tm(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),$u&&ao($u,T)||($u=T,T=E(cc,"onSelect"),0<T.length&&(m=new vm("onSelect","select",null,m,j),d.push({event:m,listeners:T}),m.target=lc)))}function oo(d,m){var j={};return j[d.toLowerCase()]=m.toLowerCase(),j["Webkit"+d]="webkit"+m,j["Moz"+d]="moz"+m,j}var uc={animationend:oo("Animation","AnimationEnd"),animationiteration:oo("Animation","AnimationIteration"),animationstart:oo("Animation","AnimationStart"),transitionend:oo("Transition","TransitionEnd")},lo={},km={};l&&(km=document.createElement("div").style,"AnimationEvent"in window||(delete uc.animationend.animation,delete uc.animationiteration.animation,delete uc.animationstart.animation),"TransitionEvent"in window||delete uc.transitionend.transition);function Fu(d){if(lo[d])return lo[d];if(!uc[d])return d;var m=uc[d],j;for(j in m)if(m.hasOwnProperty(j)&&j in km)return lo[d]=m[j];return d}var yx=Fu("animationend"),Us=Fu("animationiteration"),Am=Fu("animationstart"),Om=Fu("transitionend"),dc=new Map,xx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(d,m){dc.set(d,m),s(m,[d])}for(var Jo=0;Jo<xx.length;Jo++){var If=xx[Jo],bx=If.toLowerCase(),Q1=If[0].toUpperCase()+If.slice(1);vs(bx,"on"+Q1)}vs(yx,"onAnimationEnd"),vs(Us,"onAnimationIteration"),vs(Am,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(Om,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wx=new Set("cancel close invalid load scroll toggle".split(" ").concat(fc));function Rm(d,m,j){var T=d.type||"unknown-event";d.currentTarget=j,lm(T,m,void 0,d),d.currentTarget=null}function Mm(d,m){m=(m&4)!==0;for(var j=0;j<d.length;j++){var T=d[j],M=T.event;T=T.listeners;e:{var $=void 0;if(m)for(var re=T.length-1;0<=re;re--){var de=T[re],ve=de.instance,Ie=de.currentTarget;if(de=de.listener,ve!==$&&M.isPropagationStopped())break e;Rm(M,de,Ie),$=ve}else for(re=0;re<T.length;re++){if(de=T[re],ve=de.instance,Ie=de.currentTarget,de=de.listener,ve!==$&&M.isPropagationStopped())break e;Rm(M,de,Ie),$=ve}}}if(Cu)throw d=df,Cu=!1,df=null,d}function Nr(d,m){var j=m[gc];j===void 0&&(j=m[gc]=new Set);var T=d+"__bubble";j.has(T)||(_x(m,d,2,!1),j.add(T))}function Im(d,m,j){var T=0;m&&(T|=4),_x(j,d,T,m)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function hc(d){if(!d[Bu]){d[Bu]=!0,n.forEach(function(j){j!=="selectionchange"&&(wx.has(j)||Im(j,!1,d),Im(j,!0,d))});var m=d.nodeType===9?d:d.ownerDocument;m===null||m[Bu]||(m[Bu]=!0,Im("selectionchange",!1,m))}}function _x(d,m,j,T){switch(Gt(m)){case 1:var M=B1;break;case 4:M=rx;break;default:M=Mu}j=M.bind(null,m,j,d),M=void 0,!cs||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),T?M!==void 0?d.addEventListener(m,j,{capture:!0,passive:M}):d.addEventListener(m,j,!0):M!==void 0?d.addEventListener(m,j,{passive:M}):d.addEventListener(m,j,!1)}function h(d,m,j,T,M){var $=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var re=T.tag;if(re===3||re===4){var de=T.stateNode.containerInfo;if(de===M||de.nodeType===8&&de.parentNode===M)break;if(re===4)for(re=T.return;re!==null;){var ve=re.tag;if((ve===3||ve===4)&&(ve=re.stateNode.containerInfo,ve===M||ve.nodeType===8&&ve.parentNode===M))return;re=re.return}for(;de!==null;){if(re=el(de),re===null)return;if(ve=re.tag,ve===5||ve===6){T=$=re;continue e}de=de.parentNode}}T=T.return}qn(function(){var Ie=$,Ke=Zl(j),Ye=[];e:{var He=dc.get(d);if(He!==void 0){var st=vm,ut=d;switch(d){case"keypress":if(jf(j)===0)break e;case"keydown":case"keyup":st=ox;break;case"focusin":ut="focus",st=Sf;break;case"focusout":ut="blur",st=Sf;break;case"beforeblur":case"afterblur":st=Sf;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=xm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Sm;break;case yx:case Us:case Am:st=U1;break;case Om:st=G1;break;case"scroll":st=z1;break;case"wheel":st=Z1;break;case"copy":case"cut":case"paste":st=wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=cx}var ht=(m&4)!==0,fn=!ht&&d==="scroll",Te=ht?He!==null?He+"Capture":null:He;ht=[];for(var Se=Ie,ke;Se!==null;){ke=Se;var Je=ke.stateNode;if(ke.tag===5&&Je!==null&&(ke=Je,Te!==null&&(Je=ci(Se,Te),Je!=null&&ht.push(w(Se,Je,ke)))),fn)break;Se=Se.return}0<ht.length&&(He=new st(He,ut,null,j,Ke),Ye.push({event:He,listeners:ht}))}}if((m&7)===0){e:{if(He=d==="mouseover"||d==="pointerover",st=d==="mouseout"||d==="pointerout",He&&j!==Wt&&(ut=j.relatedTarget||j.fromElement)&&(el(ut)||ut[mr]))break e;if((st||He)&&(He=Ke.window===Ke?Ke:(He=Ke.ownerDocument)?He.defaultView||He.parentWindow:window,st?(ut=j.relatedTarget||j.toElement,st=Ie,ut=ut?el(ut):null,ut!==null&&(fn=to(ut),ut!==fn||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(st=null,ut=Ie),st!==ut)){if(ht=xm,Je="onMouseLeave",Te="onMouseEnter",Se="mouse",(d==="pointerout"||d==="pointerover")&&(ht=cx,Je="onPointerLeave",Te="onPointerEnter",Se="pointer"),fn=st==null?He:rl(st),ke=ut==null?He:rl(ut),He=new ht(Je,Se+"leave",st,j,Ke),He.target=fn,He.relatedTarget=ke,Je=null,el(Ke)===Ie&&(ht=new ht(Te,Se+"enter",ut,j,Ke),ht.target=ke,ht.relatedTarget=fn,Je=ht),fn=Je,st&&ut)t:{for(ht=st,Te=ut,Se=0,ke=ht;ke;ke=R(ke))Se++;for(ke=0,Je=Te;Je;Je=R(Je))ke++;for(;0<Se-ke;)ht=R(ht),Se--;for(;0<ke-Se;)Te=R(Te),ke--;for(;Se--;){if(ht===Te||Te!==null&&ht===Te.alternate)break t;ht=R(ht),Te=R(Te)}ht=null}else ht=null;st!==null&&z(Ye,He,st,ht,!1),ut!==null&&fn!==null&&z(Ye,fn,ut,ht,!0)}}e:{if(He=Ie?rl(Ie):window,st=He.nodeName&&He.nodeName.toLowerCase(),st==="select"||st==="input"&&He.type==="file")var gt=J1;else if(hx(He))if(zs)gt=Cm;else{gt=oc;var bt=Af}else(st=He.nodeName)&&st.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(gt=Of);if(gt&&(gt=gt(d,Ie))){Ef(Ye,gt,j,Ke);break e}bt&&bt(d,He,Ie),d==="focusout"&&(bt=He._wrapperState)&&bt.controlled&&He.type==="number"&&Dt(He,"number",He.value)}switch(bt=Ie?rl(Ie):window,d){case"focusin":(hx(bt)||bt.contentEditable==="true")&&(lc=bt,cc=Ie,$u=null);break;case"focusout":$u=cc=lc=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,vx(Ye,j,Ke);break;case"selectionchange":if(Rf)break;case"keydown":case"keyup":vx(Ye,j,Ke)}var wt;if(io)e:{switch(d){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else xa?sc(d,j)&&(Et="onCompositionEnd"):d==="keydown"&&j.keyCode===229&&(Et="onCompositionStart");Et&&(dx&&j.locale!=="ko"&&(xa||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&xa&&(wt=gm()):(ro=Ke,Ei="value"in ro?ro.value:ro.textContent,xa=!0)),bt=E(Ie,Et),0<bt.length&&(Et=new _m(Et,d,null,j,Ke),Ye.push({event:Et,listeners:bt}),wt?Et.data=wt:(wt=Nm(j),wt!==null&&(Et.data=wt)))),(wt=ya?Y1(d,j):so(d,j))&&(Ie=E(Ie,"onBeforeInput"),0<Ie.length&&(Ke=new _m("onBeforeInput","beforeinput",null,j,Ke),Ye.push({event:Ke,listeners:Ie}),Ke.data=wt))}Mm(Ye,m)})}function w(d,m,j){return{instance:d,listener:m,currentTarget:j}}function E(d,m){for(var j=m+"Capture",T=[];d!==null;){var M=d,$=M.stateNode;M.tag===5&&$!==null&&(M=$,$=ci(d,j),$!=null&&T.unshift(w(d,$,M)),$=ci(d,m),$!=null&&T.push(w(d,$,M))),d=d.return}return T}function R(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function z(d,m,j,T,M){for(var $=m._reactName,re=[];j!==null&&j!==T;){var de=j,ve=de.alternate,Ie=de.stateNode;if(ve!==null&&ve===T)break;de.tag===5&&Ie!==null&&(de=Ie,M?(ve=ci(j,$),ve!=null&&re.unshift(w(j,ve,de))):M||(ve=ci(j,$),ve!=null&&re.push(w(j,ve,de)))),j=j.return}re.length!==0&&d.push({event:m,listeners:re})}var ie=/\r\n?/g,pe=/\u0000|\uFFFD/g;function Ee(d){return(typeof d=="string"?d:""+d).replace(ie,`
`).replace(pe,"")}function Me(d,m,j){if(m=Ee(m),Ee(d)!==m&&j)throw Error(r(425))}function ze(){}var nt=null,xt=null;function $t(d,m){return d==="textarea"||d==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var An=typeof setTimeout=="function"?setTimeout:void 0,vn=typeof clearTimeout=="function"?clearTimeout:void 0,Ti=typeof Promise=="function"?Promise:void 0,hi=typeof queueMicrotask=="function"?queueMicrotask:typeof Ti<"u"?function(d){return Ti.resolve(null).then(d).catch(pc)}:An;function pc(d){setTimeout(function(){throw d})}function Lm(d,m){var j=m,T=0;do{var M=j.nextSibling;if(d.removeChild(j),M&&M.nodeType===8)if(j=M.data,j==="/$"){if(T===0){d.removeChild(M),hs(m);return}T--}else j!=="$"&&j!=="$?"&&j!=="$!"||T++;j=M}while(j);hs(m)}function co(d){for(;d!=null;d=d.nextSibling){var m=d.nodeType;if(m===1||m===3)break;if(m===8){if(m=d.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return d}function jx(d){d=d.previousSibling;for(var m=0;d;){if(d.nodeType===8){var j=d.data;if(j==="$"||j==="$!"||j==="$?"){if(m===0)return d;m--}else j==="/$"&&m++}d=d.previousSibling}return null}var Qo=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Qo,mc="__reactProps$"+Qo,mr="__reactContainer$"+Qo,gc="__reactEvents$"+Qo,ej="__reactListeners$"+Qo,tj="__reactHandles$"+Qo;function el(d){var m=d[Vs];if(m)return m;for(var j=d.parentNode;j;){if(m=j[mr]||j[Vs]){if(j=m.alternate,m.child!==null||j!==null&&j.child!==null)for(d=jx(d);d!==null;){if(j=d[Vs])return j;d=jx(d)}return m}d=j,j=d.parentNode}return null}function tl(d){return d=d[Vs]||d[mr],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function rl(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function Lf(d){return d[mc]||null}var rj=[],Df=-1;function vc(d){return{current:d}}function Vr(d){0>Df||(d.current=rj[Df],rj[Df]=null,Df--)}function Dr(d,m){Df++,rj[Df]=d.current,d.current=m}var yc={},pi=vc(yc),Vi=vc(!1),zu=yc;function $f(d,m){var j=d.type.contextTypes;if(!j)return yc;var T=d.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var M={},$;for($ in j)M[$]=m[$];return T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=m,d.__reactInternalMemoizedMaskedChildContext=M),M}function Wi(d){return d=d.childContextTypes,d!=null}function Sx(){Vr(Vi),Vr(pi)}function RI(d,m,j){if(pi.current!==yc)throw Error(r(168));Dr(pi,m),Dr(Vi,j)}function MI(d,m,j){var T=d.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return j;T=T.getChildContext();for(var M in T)if(!(M in m))throw Error(r(108,ae(d)||"Unknown",M));return ne({},j,T)}function Nx(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||yc,zu=pi.current,Dr(pi,d),Dr(Vi,Vi.current),!0}function II(d,m,j){var T=d.stateNode;if(!T)throw Error(r(169));j?(d=MI(d,m,zu),T.__reactInternalMemoizedMergedChildContext=d,Vr(Vi),Vr(pi),Dr(pi,d)):Vr(Vi),Dr(Vi,j)}var nl=null,Cx=!1,nj=!1;function LI(d){nl===null?nl=[d]:nl.push(d)}function $te(d){Cx=!0,LI(d)}function xc(){if(!nj&&nl!==null){nj=!0;var d=0,m=Xt;try{var j=nl;for(Xt=1;d<j.length;d++){var T=j[d];do T=T(!0);while(T!==null)}nl=null,Cx=!1}catch(M){throw nl!==null&&(nl=nl.slice(d+1)),Qy(dm,xc),M}finally{Xt=m,nj=!1}}return null}var Ff=[],Bf=0,Ex=null,Px=0,Ws=[],Hs=0,qu=null,il=1,sl="";function Uu(d,m){Ff[Bf++]=Px,Ff[Bf++]=Ex,Ex=d,Px=m}function DI(d,m,j){Ws[Hs++]=il,Ws[Hs++]=sl,Ws[Hs++]=qu,qu=d;var T=il;d=sl;var M=32-Rt(T)-1;T&=~(1<<M),j+=1;var $=32-Rt(m)+M;if(30<$){var re=M-M%5;$=(T&(1<<re)-1).toString(32),T>>=re,M-=re,il=1<<32-Rt(m)+M|j<<M|T,sl=$+d}else il=1<<$|j<<M|T,sl=d}function ij(d){d.return!==null&&(Uu(d,1),DI(d,1,0))}function sj(d){for(;d===Ex;)Ex=Ff[--Bf],Ff[Bf]=null,Px=Ff[--Bf],Ff[Bf]=null;for(;d===qu;)qu=Ws[--Hs],Ws[Hs]=null,sl=Ws[--Hs],Ws[Hs]=null,il=Ws[--Hs],Ws[Hs]=null}var ys=null,xs=null,Yr=!1,wa=null;function $I(d,m){var j=Ys(5,null,null,0);j.elementType="DELETED",j.stateNode=m,j.return=d,m=d.deletions,m===null?(d.deletions=[j],d.flags|=16):m.push(j)}function FI(d,m){switch(d.tag){case 5:var j=d.type;return m=m.nodeType!==1||j.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(d.stateNode=m,ys=d,xs=co(m.firstChild),!0):!1;case 6:return m=d.pendingProps===""||m.nodeType!==3?null:m,m!==null?(d.stateNode=m,ys=d,xs=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(j=qu!==null?{id:il,overflow:sl}:null,d.memoizedState={dehydrated:m,treeContext:j,retryLane:1073741824},j=Ys(18,null,null,0),j.stateNode=m,j.return=d,d.child=j,ys=d,xs=null,!0):!1;default:return!1}}function aj(d){return(d.mode&1)!==0&&(d.flags&128)===0}function oj(d){if(Yr){var m=xs;if(m){var j=m;if(!FI(d,m)){if(aj(d))throw Error(r(418));m=co(j.nextSibling);var T=ys;m&&FI(d,m)?$I(T,j):(d.flags=d.flags&-4097|2,Yr=!1,ys=d)}}else{if(aj(d))throw Error(r(418));d.flags=d.flags&-4097|2,Yr=!1,ys=d}}}function BI(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;ys=d}function Tx(d){if(d!==ys)return!1;if(!Yr)return BI(d),Yr=!0,!1;var m;if((m=d.tag!==3)&&!(m=d.tag!==5)&&(m=d.type,m=m!=="head"&&m!=="body"&&!$t(d.type,d.memoizedProps)),m&&(m=xs)){if(aj(d))throw zI(),Error(r(418));for(;m;)$I(d,m),m=co(m.nextSibling)}if(BI(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,m=0;d;){if(d.nodeType===8){var j=d.data;if(j==="/$"){if(m===0){xs=co(d.nextSibling);break e}m--}else j!=="$"&&j!=="$!"&&j!=="$?"||m++}d=d.nextSibling}xs=null}}else xs=ys?co(d.stateNode.nextSibling):null;return!0}function zI(){for(var d=xs;d;)d=co(d.nextSibling)}function zf(){xs=ys=null,Yr=!1}function lj(d){wa===null?wa=[d]:wa.push(d)}var Fte=A.ReactCurrentBatchConfig;function Dm(d,m,j){if(d=j.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(r(309));var T=j.stateNode}if(!T)throw Error(r(147,d));var M=T,$=""+d;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(re){var de=M.refs;re===null?delete de[$]:de[$]=re},m._stringRef=$,m)}if(typeof d!="string")throw Error(r(284));if(!j._owner)throw Error(r(290,d))}return d}function kx(d,m){throw d=Object.prototype.toString.call(m),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":d))}function qI(d){var m=d._init;return m(d._payload)}function UI(d){function m(Te,Se){if(d){var ke=Te.deletions;ke===null?(Te.deletions=[Se],Te.flags|=16):ke.push(Se)}}function j(Te,Se){if(!d)return null;for(;Se!==null;)m(Te,Se),Se=Se.sibling;return null}function T(Te,Se){for(Te=new Map;Se!==null;)Se.key!==null?Te.set(Se.key,Se):Te.set(Se.index,Se),Se=Se.sibling;return Te}function M(Te,Se){return Te=Ec(Te,Se),Te.index=0,Te.sibling=null,Te}function $(Te,Se,ke){return Te.index=ke,d?(ke=Te.alternate,ke!==null?(ke=ke.index,ke<Se?(Te.flags|=2,Se):ke):(Te.flags|=2,Se)):(Te.flags|=1048576,Se)}function re(Te){return d&&Te.alternate===null&&(Te.flags|=2),Te}function de(Te,Se,ke,Je){return Se===null||Se.tag!==6?(Se=Qj(ke,Te.mode,Je),Se.return=Te,Se):(Se=M(Se,ke),Se.return=Te,Se)}function ve(Te,Se,ke,Je){var gt=ke.type;return gt===O?Ke(Te,Se,ke.props.children,Je,ke.key):Se!==null&&(Se.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===se&&qI(gt)===Se.type)?(Je=M(Se,ke.props),Je.ref=Dm(Te,Se,ke),Je.return=Te,Je):(Je=e0(ke.type,ke.key,ke.props,null,Te.mode,Je),Je.ref=Dm(Te,Se,ke),Je.return=Te,Je)}function Ie(Te,Se,ke,Je){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==ke.containerInfo||Se.stateNode.implementation!==ke.implementation?(Se=eS(ke,Te.mode,Je),Se.return=Te,Se):(Se=M(Se,ke.children||[]),Se.return=Te,Se)}function Ke(Te,Se,ke,Je,gt){return Se===null||Se.tag!==7?(Se=Xu(ke,Te.mode,Je,gt),Se.return=Te,Se):(Se=M(Se,ke),Se.return=Te,Se)}function Ye(Te,Se,ke){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=Qj(""+Se,Te.mode,ke),Se.return=Te,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case k:return ke=e0(Se.type,Se.key,Se.props,null,Te.mode,ke),ke.ref=Dm(Te,null,Se),ke.return=Te,ke;case P:return Se=eS(Se,Te.mode,ke),Se.return=Te,Se;case se:var Je=Se._init;return Ye(Te,Je(Se._payload),ke)}if(fe(Se)||X(Se))return Se=Xu(Se,Te.mode,ke,null),Se.return=Te,Se;kx(Te,Se)}return null}function He(Te,Se,ke,Je){var gt=Se!==null?Se.key:null;if(typeof ke=="string"&&ke!==""||typeof ke=="number")return gt!==null?null:de(Te,Se,""+ke,Je);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case k:return ke.key===gt?ve(Te,Se,ke,Je):null;case P:return ke.key===gt?Ie(Te,Se,ke,Je):null;case se:return gt=ke._init,He(Te,Se,gt(ke._payload),Je)}if(fe(ke)||X(ke))return gt!==null?null:Ke(Te,Se,ke,Je,null);kx(Te,ke)}return null}function st(Te,Se,ke,Je,gt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return Te=Te.get(ke)||null,de(Se,Te,""+Je,gt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case k:return Te=Te.get(Je.key===null?ke:Je.key)||null,ve(Se,Te,Je,gt);case P:return Te=Te.get(Je.key===null?ke:Je.key)||null,Ie(Se,Te,Je,gt);case se:var bt=Je._init;return st(Te,Se,ke,bt(Je._payload),gt)}if(fe(Je)||X(Je))return Te=Te.get(ke)||null,Ke(Se,Te,Je,gt,null);kx(Se,Je)}return null}function ut(Te,Se,ke,Je){for(var gt=null,bt=null,wt=Se,Et=Se=0,Wn=null;wt!==null&&Et<ke.length;Et++){wt.index>Et?(Wn=wt,wt=null):Wn=wt.sibling;var cr=He(Te,wt,ke[Et],Je);if(cr===null){wt===null&&(wt=Wn);break}d&&wt&&cr.alternate===null&&m(Te,wt),Se=$(cr,Se,Et),bt===null?gt=cr:bt.sibling=cr,bt=cr,wt=Wn}if(Et===ke.length)return j(Te,wt),Yr&&Uu(Te,Et),gt;if(wt===null){for(;Et<ke.length;Et++)wt=Ye(Te,ke[Et],Je),wt!==null&&(Se=$(wt,Se,Et),bt===null?gt=wt:bt.sibling=wt,bt=wt);return Yr&&Uu(Te,Et),gt}for(wt=T(Te,wt);Et<ke.length;Et++)Wn=st(wt,Te,Et,ke[Et],Je),Wn!==null&&(d&&Wn.alternate!==null&&wt.delete(Wn.key===null?Et:Wn.key),Se=$(Wn,Se,Et),bt===null?gt=Wn:bt.sibling=Wn,bt=Wn);return d&&wt.forEach(function(Pc){return m(Te,Pc)}),Yr&&Uu(Te,Et),gt}function ht(Te,Se,ke,Je){var gt=X(ke);if(typeof gt!="function")throw Error(r(150));if(ke=gt.call(ke),ke==null)throw Error(r(151));for(var bt=gt=null,wt=Se,Et=Se=0,Wn=null,cr=ke.next();wt!==null&&!cr.done;Et++,cr=ke.next()){wt.index>Et?(Wn=wt,wt=null):Wn=wt.sibling;var Pc=He(Te,wt,cr.value,Je);if(Pc===null){wt===null&&(wt=Wn);break}d&&wt&&Pc.alternate===null&&m(Te,wt),Se=$(Pc,Se,Et),bt===null?gt=Pc:bt.sibling=Pc,bt=Pc,wt=Wn}if(cr.done)return j(Te,wt),Yr&&Uu(Te,Et),gt;if(wt===null){for(;!cr.done;Et++,cr=ke.next())cr=Ye(Te,cr.value,Je),cr!==null&&(Se=$(cr,Se,Et),bt===null?gt=cr:bt.sibling=cr,bt=cr);return Yr&&Uu(Te,Et),gt}for(wt=T(Te,wt);!cr.done;Et++,cr=ke.next())cr=st(wt,Te,Et,cr.value,Je),cr!==null&&(d&&cr.alternate!==null&&wt.delete(cr.key===null?Et:cr.key),Se=$(cr,Se,Et),bt===null?gt=cr:bt.sibling=cr,bt=cr);return d&&wt.forEach(function(yre){return m(Te,yre)}),Yr&&Uu(Te,Et),gt}function fn(Te,Se,ke,Je){if(typeof ke=="object"&&ke!==null&&ke.type===O&&ke.key===null&&(ke=ke.props.children),typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case k:e:{for(var gt=ke.key,bt=Se;bt!==null;){if(bt.key===gt){if(gt=ke.type,gt===O){if(bt.tag===7){j(Te,bt.sibling),Se=M(bt,ke.props.children),Se.return=Te,Te=Se;break e}}else if(bt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===se&&qI(gt)===bt.type){j(Te,bt.sibling),Se=M(bt,ke.props),Se.ref=Dm(Te,bt,ke),Se.return=Te,Te=Se;break e}j(Te,bt);break}else m(Te,bt);bt=bt.sibling}ke.type===O?(Se=Xu(ke.props.children,Te.mode,Je,ke.key),Se.return=Te,Te=Se):(Je=e0(ke.type,ke.key,ke.props,null,Te.mode,Je),Je.ref=Dm(Te,Se,ke),Je.return=Te,Te=Je)}return re(Te);case P:e:{for(bt=ke.key;Se!==null;){if(Se.key===bt)if(Se.tag===4&&Se.stateNode.containerInfo===ke.containerInfo&&Se.stateNode.implementation===ke.implementation){j(Te,Se.sibling),Se=M(Se,ke.children||[]),Se.return=Te,Te=Se;break e}else{j(Te,Se);break}else m(Te,Se);Se=Se.sibling}Se=eS(ke,Te.mode,Je),Se.return=Te,Te=Se}return re(Te);case se:return bt=ke._init,fn(Te,Se,bt(ke._payload),Je)}if(fe(ke))return ut(Te,Se,ke,Je);if(X(ke))return ht(Te,Se,ke,Je);kx(Te,ke)}return typeof ke=="string"&&ke!==""||typeof ke=="number"?(ke=""+ke,Se!==null&&Se.tag===6?(j(Te,Se.sibling),Se=M(Se,ke),Se.return=Te,Te=Se):(j(Te,Se),Se=Qj(ke,Te.mode,Je),Se.return=Te,Te=Se),re(Te)):j(Te,Se)}return fn}var qf=UI(!0),VI=UI(!1),Ax=vc(null),Ox=null,Uf=null,cj=null;function uj(){cj=Uf=Ox=null}function dj(d){var m=Ax.current;Vr(Ax),d._currentValue=m}function fj(d,m,j){for(;d!==null;){var T=d.alternate;if((d.childLanes&m)!==m?(d.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),d===j)break;d=d.return}}function Vf(d,m){Ox=d,cj=Uf=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&m)!==0&&(Hi=!0),d.firstContext=null)}function Ks(d){var m=d._currentValue;if(cj!==d)if(d={context:d,memoizedValue:m,next:null},Uf===null){if(Ox===null)throw Error(r(308));Uf=d,Ox.dependencies={lanes:0,firstContext:d}}else Uf=Uf.next=d;return m}var Vu=null;function hj(d){Vu===null?Vu=[d]:Vu.push(d)}function WI(d,m,j,T){var M=m.interleaved;return M===null?(j.next=j,hj(m)):(j.next=M.next,M.next=j),m.interleaved=j,al(d,T)}function al(d,m){d.lanes|=m;var j=d.alternate;for(j!==null&&(j.lanes|=m),j=d,d=d.return;d!==null;)d.childLanes|=m,j=d.alternate,j!==null&&(j.childLanes|=m),j=d,d=d.return;return j.tag===3?j.stateNode:null}var bc=!1;function pj(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function HI(d,m){d=d.updateQueue,m.updateQueue===d&&(m.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function ol(d,m){return{eventTime:d,lane:m,tag:0,payload:null,callback:null,next:null}}function wc(d,m,j){var T=d.updateQueue;if(T===null)return null;if(T=T.shared,(rr&2)!==0){var M=T.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),T.pending=m,al(d,j)}return M=T.interleaved,M===null?(m.next=m,hj(T)):(m.next=M.next,M.next=m),T.interleaved=m,al(d,j)}function Rx(d,m,j){if(m=m.updateQueue,m!==null&&(m=m.shared,(j&4194240)!==0)){var T=m.lanes;T&=d.pendingLanes,j|=T,m.lanes=j,ga(d,j)}}function KI(d,m){var j=d.updateQueue,T=d.alternate;if(T!==null&&(T=T.updateQueue,j===T)){var M=null,$=null;if(j=j.firstBaseUpdate,j!==null){do{var re={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};$===null?M=$=re:$=$.next=re,j=j.next}while(j!==null);$===null?M=$=m:$=$.next=m}else M=$=m;j={baseState:T.baseState,firstBaseUpdate:M,lastBaseUpdate:$,shared:T.shared,effects:T.effects},d.updateQueue=j;return}d=j.lastBaseUpdate,d===null?j.firstBaseUpdate=m:d.next=m,j.lastBaseUpdate=m}function Mx(d,m,j,T){var M=d.updateQueue;bc=!1;var $=M.firstBaseUpdate,re=M.lastBaseUpdate,de=M.shared.pending;if(de!==null){M.shared.pending=null;var ve=de,Ie=ve.next;ve.next=null,re===null?$=Ie:re.next=Ie,re=ve;var Ke=d.alternate;Ke!==null&&(Ke=Ke.updateQueue,de=Ke.lastBaseUpdate,de!==re&&(de===null?Ke.firstBaseUpdate=Ie:de.next=Ie,Ke.lastBaseUpdate=ve))}if($!==null){var Ye=M.baseState;re=0,Ke=Ie=ve=null,de=$;do{var He=de.lane,st=de.eventTime;if((T&He)===He){Ke!==null&&(Ke=Ke.next={eventTime:st,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ut=d,ht=de;switch(He=m,st=j,ht.tag){case 1:if(ut=ht.payload,typeof ut=="function"){Ye=ut.call(st,Ye,He);break e}Ye=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ht.payload,He=typeof ut=="function"?ut.call(st,Ye,He):ut,He==null)break e;Ye=ne({},Ye,He);break e;case 2:bc=!0}}de.callback!==null&&de.lane!==0&&(d.flags|=64,He=M.effects,He===null?M.effects=[de]:He.push(de))}else st={eventTime:st,lane:He,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Ke===null?(Ie=Ke=st,ve=Ye):Ke=Ke.next=st,re|=He;if(de=de.next,de===null){if(de=M.shared.pending,de===null)break;He=de,de=He.next,He.next=null,M.lastBaseUpdate=He,M.shared.pending=null}}while(!0);if(Ke===null&&(ve=Ye),M.baseState=ve,M.firstBaseUpdate=Ie,M.lastBaseUpdate=Ke,m=M.shared.interleaved,m!==null){M=m;do re|=M.lane,M=M.next;while(M!==m)}else $===null&&(M.shared.lanes=0);Ku|=re,d.lanes=re,d.memoizedState=Ye}}function GI(d,m,j){if(d=m.effects,m.effects=null,d!==null)for(m=0;m<d.length;m++){var T=d[m],M=T.callback;if(M!==null){if(T.callback=null,T=j,typeof M!="function")throw Error(r(191,M));M.call(T)}}}var $m={},uo=vc($m),Fm=vc($m),Bm=vc($m);function Wu(d){if(d===$m)throw Error(r(174));return d}function mj(d,m){switch(Dr(Bm,m),Dr(Fm,d),Dr(uo,$m),d=m.nodeType,d){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Z(null,"");break;default:d=d===8?m.parentNode:m,m=d.namespaceURI||null,d=d.tagName,m=Z(m,d)}Vr(uo),Dr(uo,m)}function Wf(){Vr(uo),Vr(Fm),Vr(Bm)}function ZI(d){Wu(Bm.current);var m=Wu(uo.current),j=Z(m,d.type);m!==j&&(Dr(Fm,d),Dr(uo,j))}function gj(d){Fm.current===d&&(Vr(uo),Vr(Fm))}var tn=vc(0);function Ix(d){for(var m=d;m!==null;){if(m.tag===13){var j=m.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var vj=[];function yj(){for(var d=0;d<vj.length;d++)vj[d]._workInProgressVersionPrimary=null;vj.length=0}var Lx=A.ReactCurrentDispatcher,xj=A.ReactCurrentBatchConfig,Hu=0,rn=null,On=null,Un=null,Dx=!1,zm=!1,qm=0,Bte=0;function mi(){throw Error(r(321))}function bj(d,m){if(m===null)return!1;for(var j=0;j<m.length&&j<d.length;j++)if(!gs(d[j],m[j]))return!1;return!0}function wj(d,m,j,T,M,$){if(Hu=$,rn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Lx.current=d===null||d.memoizedState===null?Vte:Wte,d=j(T,M),zm){$=0;do{if(zm=!1,qm=0,25<=$)throw Error(r(301));$+=1,Un=On=null,m.updateQueue=null,Lx.current=Hte,d=j(T,M)}while(zm)}if(Lx.current=Bx,m=On!==null&&On.next!==null,Hu=0,Un=On=rn=null,Dx=!1,m)throw Error(r(300));return d}function _j(){var d=qm!==0;return qm=0,d}function fo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?rn.memoizedState=Un=d:Un=Un.next=d,Un}function Gs(){if(On===null){var d=rn.alternate;d=d!==null?d.memoizedState:null}else d=On.next;var m=Un===null?rn.memoizedState:Un.next;if(m!==null)Un=m,On=d;else{if(d===null)throw Error(r(310));On=d,d={memoizedState:On.memoizedState,baseState:On.baseState,baseQueue:On.baseQueue,queue:On.queue,next:null},Un===null?rn.memoizedState=Un=d:Un=Un.next=d}return Un}function Um(d,m){return typeof m=="function"?m(d):m}function jj(d){var m=Gs(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=d;var T=On,M=T.baseQueue,$=j.pending;if($!==null){if(M!==null){var re=M.next;M.next=$.next,$.next=re}T.baseQueue=M=$,j.pending=null}if(M!==null){$=M.next,T=T.baseState;var de=re=null,ve=null,Ie=$;do{var Ke=Ie.lane;if((Hu&Ke)===Ke)ve!==null&&(ve=ve.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),T=Ie.hasEagerState?Ie.eagerState:d(T,Ie.action);else{var Ye={lane:Ke,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ve===null?(de=ve=Ye,re=T):ve=ve.next=Ye,rn.lanes|=Ke,Ku|=Ke}Ie=Ie.next}while(Ie!==null&&Ie!==$);ve===null?re=T:ve.next=de,gs(T,m.memoizedState)||(Hi=!0),m.memoizedState=T,m.baseState=re,m.baseQueue=ve,j.lastRenderedState=T}if(d=j.interleaved,d!==null){M=d;do $=M.lane,rn.lanes|=$,Ku|=$,M=M.next;while(M!==d)}else M===null&&(j.lanes=0);return[m.memoizedState,j.dispatch]}function Sj(d){var m=Gs(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=d;var T=j.dispatch,M=j.pending,$=m.memoizedState;if(M!==null){j.pending=null;var re=M=M.next;do $=d($,re.action),re=re.next;while(re!==M);gs($,m.memoizedState)||(Hi=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),j.lastRenderedState=$}return[$,T]}function YI(){}function XI(d,m){var j=rn,T=Gs(),M=m(),$=!gs(T.memoizedState,M);if($&&(T.memoizedState=M,Hi=!0),T=T.queue,Nj(eL.bind(null,j,T,d),[d]),T.getSnapshot!==m||$||Un!==null&&Un.memoizedState.tag&1){if(j.flags|=2048,Vm(9,QI.bind(null,j,T,M,m),void 0,null),Vn===null)throw Error(r(349));(Hu&30)!==0||JI(j,m,M)}return M}function JI(d,m,j){d.flags|=16384,d={getSnapshot:m,value:j},m=rn.updateQueue,m===null?(m={lastEffect:null,stores:null},rn.updateQueue=m,m.stores=[d]):(j=m.stores,j===null?m.stores=[d]:j.push(d))}function QI(d,m,j,T){m.value=j,m.getSnapshot=T,tL(m)&&rL(d)}function eL(d,m,j){return j(function(){tL(m)&&rL(d)})}function tL(d){var m=d.getSnapshot;d=d.value;try{var j=m();return!gs(d,j)}catch{return!0}}function rL(d){var m=al(d,1);m!==null&&Na(m,d,1,-1)}function nL(d){var m=fo();return typeof d=="function"&&(d=d()),m.memoizedState=m.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Um,lastRenderedState:d},m.queue=d,d=d.dispatch=Ute.bind(null,rn,d),[m.memoizedState,d]}function Vm(d,m,j,T){return d={tag:d,create:m,destroy:j,deps:T,next:null},m=rn.updateQueue,m===null?(m={lastEffect:null,stores:null},rn.updateQueue=m,m.lastEffect=d.next=d):(j=m.lastEffect,j===null?m.lastEffect=d.next=d:(T=j.next,j.next=d,d.next=T,m.lastEffect=d)),d}function iL(){return Gs().memoizedState}function $x(d,m,j,T){var M=fo();rn.flags|=d,M.memoizedState=Vm(1|m,j,void 0,T===void 0?null:T)}function Fx(d,m,j,T){var M=Gs();T=T===void 0?null:T;var $=void 0;if(On!==null){var re=On.memoizedState;if($=re.destroy,T!==null&&bj(T,re.deps)){M.memoizedState=Vm(m,j,$,T);return}}rn.flags|=d,M.memoizedState=Vm(1|m,j,$,T)}function sL(d,m){return $x(8390656,8,d,m)}function Nj(d,m){return Fx(2048,8,d,m)}function aL(d,m){return Fx(4,2,d,m)}function oL(d,m){return Fx(4,4,d,m)}function lL(d,m){if(typeof m=="function")return d=d(),m(d),function(){m(null)};if(m!=null)return d=d(),m.current=d,function(){m.current=null}}function cL(d,m,j){return j=j!=null?j.concat([d]):null,Fx(4,4,lL.bind(null,m,d),j)}function Cj(){}function uL(d,m){var j=Gs();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&bj(m,T[1])?T[0]:(j.memoizedState=[d,m],d)}function dL(d,m){var j=Gs();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&bj(m,T[1])?T[0]:(d=d(),j.memoizedState=[d,m],d)}function fL(d,m,j){return(Hu&21)===0?(d.baseState&&(d.baseState=!1,Hi=!0),d.memoizedState=j):(gs(j,m)||(j=tx(),rn.lanes|=j,Ku|=j,d.baseState=!0),m)}function zte(d,m){var j=Xt;Xt=j!==0&&4>j?j:4,d(!0);var T=xj.transition;xj.transition={};try{d(!1),m()}finally{Xt=j,xj.transition=T}}function hL(){return Gs().memoizedState}function qte(d,m,j){var T=Nc(d);if(j={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null},pL(d))mL(m,j);else if(j=WI(d,m,j,T),j!==null){var M=Ai();Na(j,d,T,M),gL(j,m,T)}}function Ute(d,m,j){var T=Nc(d),M={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null};if(pL(d))mL(m,M);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var re=m.lastRenderedState,de=$(re,j);if(M.hasEagerState=!0,M.eagerState=de,gs(de,re)){var ve=m.interleaved;ve===null?(M.next=M,hj(m)):(M.next=ve.next,ve.next=M),m.interleaved=M;return}}catch{}finally{}j=WI(d,m,M,T),j!==null&&(M=Ai(),Na(j,d,T,M),gL(j,m,T))}}function pL(d){var m=d.alternate;return d===rn||m!==null&&m===rn}function mL(d,m){zm=Dx=!0;var j=d.pending;j===null?m.next=m:(m.next=j.next,j.next=m),d.pending=m}function gL(d,m,j){if((j&4194240)!==0){var T=m.lanes;T&=d.pendingLanes,j|=T,m.lanes=j,ga(d,j)}}var Bx={readContext:Ks,useCallback:mi,useContext:mi,useEffect:mi,useImperativeHandle:mi,useInsertionEffect:mi,useLayoutEffect:mi,useMemo:mi,useReducer:mi,useRef:mi,useState:mi,useDebugValue:mi,useDeferredValue:mi,useTransition:mi,useMutableSource:mi,useSyncExternalStore:mi,useId:mi,unstable_isNewReconciler:!1},Vte={readContext:Ks,useCallback:function(d,m){return fo().memoizedState=[d,m===void 0?null:m],d},useContext:Ks,useEffect:sL,useImperativeHandle:function(d,m,j){return j=j!=null?j.concat([d]):null,$x(4194308,4,lL.bind(null,m,d),j)},useLayoutEffect:function(d,m){return $x(4194308,4,d,m)},useInsertionEffect:function(d,m){return $x(4,2,d,m)},useMemo:function(d,m){var j=fo();return m=m===void 0?null:m,d=d(),j.memoizedState=[d,m],d},useReducer:function(d,m,j){var T=fo();return m=j!==void 0?j(m):m,T.memoizedState=T.baseState=m,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:m},T.queue=d,d=d.dispatch=qte.bind(null,rn,d),[T.memoizedState,d]},useRef:function(d){var m=fo();return d={current:d},m.memoizedState=d},useState:nL,useDebugValue:Cj,useDeferredValue:function(d){return fo().memoizedState=d},useTransition:function(){var d=nL(!1),m=d[0];return d=zte.bind(null,d[1]),fo().memoizedState=d,[m,d]},useMutableSource:function(){},useSyncExternalStore:function(d,m,j){var T=rn,M=fo();if(Yr){if(j===void 0)throw Error(r(407));j=j()}else{if(j=m(),Vn===null)throw Error(r(349));(Hu&30)!==0||JI(T,m,j)}M.memoizedState=j;var $={value:j,getSnapshot:m};return M.queue=$,sL(eL.bind(null,T,$,d),[d]),T.flags|=2048,Vm(9,QI.bind(null,T,$,j,m),void 0,null),j},useId:function(){var d=fo(),m=Vn.identifierPrefix;if(Yr){var j=sl,T=il;j=(T&~(1<<32-Rt(T)-1)).toString(32)+j,m=":"+m+"R"+j,j=qm++,0<j&&(m+="H"+j.toString(32)),m+=":"}else j=Bte++,m=":"+m+"r"+j.toString(32)+":";return d.memoizedState=m},unstable_isNewReconciler:!1},Wte={readContext:Ks,useCallback:uL,useContext:Ks,useEffect:Nj,useImperativeHandle:cL,useInsertionEffect:aL,useLayoutEffect:oL,useMemo:dL,useReducer:jj,useRef:iL,useState:function(){return jj(Um)},useDebugValue:Cj,useDeferredValue:function(d){var m=Gs();return fL(m,On.memoizedState,d)},useTransition:function(){var d=jj(Um)[0],m=Gs().memoizedState;return[d,m]},useMutableSource:YI,useSyncExternalStore:XI,useId:hL,unstable_isNewReconciler:!1},Hte={readContext:Ks,useCallback:uL,useContext:Ks,useEffect:Nj,useImperativeHandle:cL,useInsertionEffect:aL,useLayoutEffect:oL,useMemo:dL,useReducer:Sj,useRef:iL,useState:function(){return Sj(Um)},useDebugValue:Cj,useDeferredValue:function(d){var m=Gs();return On===null?m.memoizedState=d:fL(m,On.memoizedState,d)},useTransition:function(){var d=Sj(Um)[0],m=Gs().memoizedState;return[d,m]},useMutableSource:YI,useSyncExternalStore:XI,useId:hL,unstable_isNewReconciler:!1};function _a(d,m){if(d&&d.defaultProps){m=ne({},m),d=d.defaultProps;for(var j in d)m[j]===void 0&&(m[j]=d[j]);return m}return m}function Ej(d,m,j,T){m=d.memoizedState,j=j(T,m),j=j==null?m:ne({},m,j),d.memoizedState=j,d.lanes===0&&(d.updateQueue.baseState=j)}var zx={isMounted:function(d){return(d=d._reactInternals)?to(d)===d:!1},enqueueSetState:function(d,m,j){d=d._reactInternals;var T=Ai(),M=Nc(d),$=ol(T,M);$.payload=m,j!=null&&($.callback=j),m=wc(d,$,M),m!==null&&(Na(m,d,M,T),Rx(m,d,M))},enqueueReplaceState:function(d,m,j){d=d._reactInternals;var T=Ai(),M=Nc(d),$=ol(T,M);$.tag=1,$.payload=m,j!=null&&($.callback=j),m=wc(d,$,M),m!==null&&(Na(m,d,M,T),Rx(m,d,M))},enqueueForceUpdate:function(d,m){d=d._reactInternals;var j=Ai(),T=Nc(d),M=ol(j,T);M.tag=2,m!=null&&(M.callback=m),m=wc(d,M,T),m!==null&&(Na(m,d,T,j),Rx(m,d,T))}};function vL(d,m,j,T,M,$,re){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(T,$,re):m.prototype&&m.prototype.isPureReactComponent?!ao(j,T)||!ao(M,$):!0}function yL(d,m,j){var T=!1,M=yc,$=m.contextType;return typeof $=="object"&&$!==null?$=Ks($):(M=Wi(m)?zu:pi.current,T=m.contextTypes,$=(T=T!=null)?$f(d,M):yc),m=new m(j,$),d.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=zx,d.stateNode=m,m._reactInternals=d,T&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=M,d.__reactInternalMemoizedMaskedChildContext=$),m}function xL(d,m,j,T){d=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(j,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(j,T),m.state!==d&&zx.enqueueReplaceState(m,m.state,null)}function Pj(d,m,j,T){var M=d.stateNode;M.props=j,M.state=d.memoizedState,M.refs={},pj(d);var $=m.contextType;typeof $=="object"&&$!==null?M.context=Ks($):($=Wi(m)?zu:pi.current,M.context=$f(d,$)),M.state=d.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Ej(d,m,$,j),M.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&zx.enqueueReplaceState(M,M.state,null),Mx(d,j,M,T),M.state=d.memoizedState),typeof M.componentDidMount=="function"&&(d.flags|=4194308)}function Hf(d,m){try{var j="",T=m;do j+=Le(T),T=T.return;while(T);var M=j}catch($){M=`
Error generating stack: `+$.message+`
`+$.stack}return{value:d,source:m,stack:M,digest:null}}function Tj(d,m,j){return{value:d,source:null,stack:j??null,digest:m??null}}function kj(d,m){try{console.error(m.value)}catch(j){setTimeout(function(){throw j})}}var Kte=typeof WeakMap=="function"?WeakMap:Map;function bL(d,m,j){j=ol(-1,j),j.tag=3,j.payload={element:null};var T=m.value;return j.callback=function(){Gx||(Gx=!0,Wj=T),kj(d,m)},j}function wL(d,m,j){j=ol(-1,j),j.tag=3;var T=d.type.getDerivedStateFromError;if(typeof T=="function"){var M=m.value;j.payload=function(){return T(M)},j.callback=function(){kj(d,m)}}var $=d.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(j.callback=function(){kj(d,m),typeof T!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var re=m.stack;this.componentDidCatch(m.value,{componentStack:re!==null?re:""})}),j}function _L(d,m,j){var T=d.pingCache;if(T===null){T=d.pingCache=new Kte;var M=new Set;T.set(m,M)}else M=T.get(m),M===void 0&&(M=new Set,T.set(m,M));M.has(j)||(M.add(j),d=ore.bind(null,d,m,j),m.then(d,d))}function jL(d){do{var m;if((m=d.tag===13)&&(m=d.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return d;d=d.return}while(d!==null);return null}function SL(d,m,j,T,M){return(d.mode&1)===0?(d===m?d.flags|=65536:(d.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(m=ol(-1,1),m.tag=2,wc(j,m,1))),j.lanes|=1),d):(d.flags|=65536,d.lanes=M,d)}var Gte=A.ReactCurrentOwner,Hi=!1;function ki(d,m,j,T){m.child=d===null?VI(m,null,j,T):qf(m,d.child,j,T)}function NL(d,m,j,T,M){j=j.render;var $=m.ref;return Vf(m,M),T=wj(d,m,j,T,$,M),j=_j(),d!==null&&!Hi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,ll(d,m,M)):(Yr&&j&&ij(m),m.flags|=1,ki(d,m,T,M),m.child)}function CL(d,m,j,T,M){if(d===null){var $=j.type;return typeof $=="function"&&!Jj($)&&$.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(m.tag=15,m.type=$,EL(d,m,$,T,M)):(d=e0(j.type,null,T,m,m.mode,M),d.ref=m.ref,d.return=m,m.child=d)}if($=d.child,(d.lanes&M)===0){var re=$.memoizedProps;if(j=j.compare,j=j!==null?j:ao,j(re,T)&&d.ref===m.ref)return ll(d,m,M)}return m.flags|=1,d=Ec($,T),d.ref=m.ref,d.return=m,m.child=d}function EL(d,m,j,T,M){if(d!==null){var $=d.memoizedProps;if(ao($,T)&&d.ref===m.ref)if(Hi=!1,m.pendingProps=T=$,(d.lanes&M)!==0)(d.flags&131072)!==0&&(Hi=!0);else return m.lanes=d.lanes,ll(d,m,M)}return Aj(d,m,j,T,M)}function PL(d,m,j){var T=m.pendingProps,M=T.children,$=d!==null?d.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dr(Gf,bs),bs|=j;else{if((j&1073741824)===0)return d=$!==null?$.baseLanes|j:j,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:d,cachePool:null,transitions:null},m.updateQueue=null,Dr(Gf,bs),bs|=d,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:j,Dr(Gf,bs),bs|=T}else $!==null?(T=$.baseLanes|j,m.memoizedState=null):T=j,Dr(Gf,bs),bs|=T;return ki(d,m,M,j),m.child}function TL(d,m){var j=m.ref;(d===null&&j!==null||d!==null&&d.ref!==j)&&(m.flags|=512,m.flags|=2097152)}function Aj(d,m,j,T,M){var $=Wi(j)?zu:pi.current;return $=$f(m,$),Vf(m,M),j=wj(d,m,j,T,$,M),T=_j(),d!==null&&!Hi?(m.updateQueue=d.updateQueue,m.flags&=-2053,d.lanes&=~M,ll(d,m,M)):(Yr&&T&&ij(m),m.flags|=1,ki(d,m,j,M),m.child)}function kL(d,m,j,T,M){if(Wi(j)){var $=!0;Nx(m)}else $=!1;if(Vf(m,M),m.stateNode===null)Ux(d,m),yL(m,j,T),Pj(m,j,T,M),T=!0;else if(d===null){var re=m.stateNode,de=m.memoizedProps;re.props=de;var ve=re.context,Ie=j.contextType;typeof Ie=="object"&&Ie!==null?Ie=Ks(Ie):(Ie=Wi(j)?zu:pi.current,Ie=$f(m,Ie));var Ke=j.getDerivedStateFromProps,Ye=typeof Ke=="function"||typeof re.getSnapshotBeforeUpdate=="function";Ye||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==T||ve!==Ie)&&xL(m,re,T,Ie),bc=!1;var He=m.memoizedState;re.state=He,Mx(m,T,re,M),ve=m.memoizedState,de!==T||He!==ve||Vi.current||bc?(typeof Ke=="function"&&(Ej(m,j,Ke,T),ve=m.memoizedState),(de=bc||vL(m,j,de,T,He,ve,Ie))?(Ye||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(m.flags|=4194308)):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=ve),re.props=T,re.state=ve,re.context=Ie,T=de):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{re=m.stateNode,HI(d,m),de=m.memoizedProps,Ie=m.type===m.elementType?de:_a(m.type,de),re.props=Ie,Ye=m.pendingProps,He=re.context,ve=j.contextType,typeof ve=="object"&&ve!==null?ve=Ks(ve):(ve=Wi(j)?zu:pi.current,ve=$f(m,ve));var st=j.getDerivedStateFromProps;(Ke=typeof st=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==Ye||He!==ve)&&xL(m,re,T,ve),bc=!1,He=m.memoizedState,re.state=He,Mx(m,T,re,M);var ut=m.memoizedState;de!==Ye||He!==ut||Vi.current||bc?(typeof st=="function"&&(Ej(m,j,st,T),ut=m.memoizedState),(Ie=bc||vL(m,j,Ie,T,He,ut,ve)||!1)?(Ke||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(T,ut,ve),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(T,ut,ve)),typeof re.componentDidUpdate=="function"&&(m.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof re.componentDidUpdate!="function"||de===d.memoizedProps&&He===d.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&He===d.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=ut),re.props=T,re.state=ut,re.context=ve,T=Ie):(typeof re.componentDidUpdate!="function"||de===d.memoizedProps&&He===d.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===d.memoizedProps&&He===d.memoizedState||(m.flags|=1024),T=!1)}return Oj(d,m,j,T,$,M)}function Oj(d,m,j,T,M,$){TL(d,m);var re=(m.flags&128)!==0;if(!T&&!re)return M&&II(m,j,!1),ll(d,m,$);T=m.stateNode,Gte.current=m;var de=re&&typeof j.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,d!==null&&re?(m.child=qf(m,d.child,null,$),m.child=qf(m,null,de,$)):ki(d,m,de,$),m.memoizedState=T.state,M&&II(m,j,!0),m.child}function AL(d){var m=d.stateNode;m.pendingContext?RI(d,m.pendingContext,m.pendingContext!==m.context):m.context&&RI(d,m.context,!1),mj(d,m.containerInfo)}function OL(d,m,j,T,M){return zf(),lj(M),m.flags|=256,ki(d,m,j,T),m.child}var Rj={dehydrated:null,treeContext:null,retryLane:0};function Mj(d){return{baseLanes:d,cachePool:null,transitions:null}}function RL(d,m,j){var T=m.pendingProps,M=tn.current,$=!1,re=(m.flags&128)!==0,de;if((de=re)||(de=d!==null&&d.memoizedState===null?!1:(M&2)!==0),de?($=!0,m.flags&=-129):(d===null||d.memoizedState!==null)&&(M|=1),Dr(tn,M&1),d===null)return oj(m),d=m.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((m.mode&1)===0?m.lanes=1:d.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(re=T.children,d=T.fallback,$?(T=m.mode,$=m.child,re={mode:"hidden",children:re},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=re):$=t0(re,T,0,null),d=Xu(d,T,j,null),$.return=m,d.return=m,$.sibling=d,m.child=$,m.child.memoizedState=Mj(j),m.memoizedState=Rj,d):Ij(m,re));if(M=d.memoizedState,M!==null&&(de=M.dehydrated,de!==null))return Zte(d,m,re,T,de,M,j);if($){$=T.fallback,re=m.mode,M=d.child,de=M.sibling;var ve={mode:"hidden",children:T.children};return(re&1)===0&&m.child!==M?(T=m.child,T.childLanes=0,T.pendingProps=ve,m.deletions=null):(T=Ec(M,ve),T.subtreeFlags=M.subtreeFlags&14680064),de!==null?$=Ec(de,$):($=Xu($,re,j,null),$.flags|=2),$.return=m,T.return=m,T.sibling=$,m.child=T,T=$,$=m.child,re=d.child.memoizedState,re=re===null?Mj(j):{baseLanes:re.baseLanes|j,cachePool:null,transitions:re.transitions},$.memoizedState=re,$.childLanes=d.childLanes&~j,m.memoizedState=Rj,T}return $=d.child,d=$.sibling,T=Ec($,{mode:"visible",children:T.children}),(m.mode&1)===0&&(T.lanes=j),T.return=m,T.sibling=null,d!==null&&(j=m.deletions,j===null?(m.deletions=[d],m.flags|=16):j.push(d)),m.child=T,m.memoizedState=null,T}function Ij(d,m){return m=t0({mode:"visible",children:m},d.mode,0,null),m.return=d,d.child=m}function qx(d,m,j,T){return T!==null&&lj(T),qf(m,d.child,null,j),d=Ij(m,m.pendingProps.children),d.flags|=2,m.memoizedState=null,d}function Zte(d,m,j,T,M,$,re){if(j)return m.flags&256?(m.flags&=-257,T=Tj(Error(r(422))),qx(d,m,re,T)):m.memoizedState!==null?(m.child=d.child,m.flags|=128,null):($=T.fallback,M=m.mode,T=t0({mode:"visible",children:T.children},M,0,null),$=Xu($,M,re,null),$.flags|=2,T.return=m,$.return=m,T.sibling=$,m.child=T,(m.mode&1)!==0&&qf(m,d.child,null,re),m.child.memoizedState=Mj(re),m.memoizedState=Rj,$);if((m.mode&1)===0)return qx(d,m,re,null);if(M.data==="$!"){if(T=M.nextSibling&&M.nextSibling.dataset,T)var de=T.dgst;return T=de,$=Error(r(419)),T=Tj($,T,void 0),qx(d,m,re,T)}if(de=(re&d.childLanes)!==0,Hi||de){if(T=Vn,T!==null){switch(re&-re){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(T.suspendedLanes|re))!==0?0:M,M!==0&&M!==$.retryLane&&($.retryLane=M,al(d,M),Na(T,d,M,-1))}return Xj(),T=Tj(Error(r(421))),qx(d,m,re,T)}return M.data==="$?"?(m.flags|=128,m.child=d.child,m=lre.bind(null,d),M._reactRetry=m,null):(d=$.treeContext,xs=co(M.nextSibling),ys=m,Yr=!0,wa=null,d!==null&&(Ws[Hs++]=il,Ws[Hs++]=sl,Ws[Hs++]=qu,il=d.id,sl=d.overflow,qu=m),m=Ij(m,T.children),m.flags|=4096,m)}function ML(d,m,j){d.lanes|=m;var T=d.alternate;T!==null&&(T.lanes|=m),fj(d.return,m,j)}function Lj(d,m,j,T,M){var $=d.memoizedState;$===null?d.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:j,tailMode:M}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=j,$.tailMode=M)}function IL(d,m,j){var T=m.pendingProps,M=T.revealOrder,$=T.tail;if(ki(d,m,T.children,j),T=tn.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=m.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&ML(d,j,m);else if(d.tag===19)ML(d,j,m);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===m)break e;for(;d.sibling===null;){if(d.return===null||d.return===m)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}T&=1}if(Dr(tn,T),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(j=m.child,M=null;j!==null;)d=j.alternate,d!==null&&Ix(d)===null&&(M=j),j=j.sibling;j=M,j===null?(M=m.child,m.child=null):(M=j.sibling,j.sibling=null),Lj(m,!1,M,j,$);break;case"backwards":for(j=null,M=m.child,m.child=null;M!==null;){if(d=M.alternate,d!==null&&Ix(d)===null){m.child=M;break}d=M.sibling,M.sibling=j,j=M,M=d}Lj(m,!0,j,null,$);break;case"together":Lj(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function Ux(d,m){(m.mode&1)===0&&d!==null&&(d.alternate=null,m.alternate=null,m.flags|=2)}function ll(d,m,j){if(d!==null&&(m.dependencies=d.dependencies),Ku|=m.lanes,(j&m.childLanes)===0)return null;if(d!==null&&m.child!==d.child)throw Error(r(153));if(m.child!==null){for(d=m.child,j=Ec(d,d.pendingProps),m.child=j,j.return=m;d.sibling!==null;)d=d.sibling,j=j.sibling=Ec(d,d.pendingProps),j.return=m;j.sibling=null}return m.child}function Yte(d,m,j){switch(m.tag){case 3:AL(m),zf();break;case 5:ZI(m);break;case 1:Wi(m.type)&&Nx(m);break;case 4:mj(m,m.stateNode.containerInfo);break;case 10:var T=m.type._context,M=m.memoizedProps.value;Dr(Ax,T._currentValue),T._currentValue=M;break;case 13:if(T=m.memoizedState,T!==null)return T.dehydrated!==null?(Dr(tn,tn.current&1),m.flags|=128,null):(j&m.child.childLanes)!==0?RL(d,m,j):(Dr(tn,tn.current&1),d=ll(d,m,j),d!==null?d.sibling:null);Dr(tn,tn.current&1);break;case 19:if(T=(j&m.childLanes)!==0,(d.flags&128)!==0){if(T)return IL(d,m,j);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Dr(tn,tn.current),T)break;return null;case 22:case 23:return m.lanes=0,PL(d,m,j)}return ll(d,m,j)}var LL,Dj,DL,$L;LL=function(d,m){for(var j=m.child;j!==null;){if(j.tag===5||j.tag===6)d.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===m)break;for(;j.sibling===null;){if(j.return===null||j.return===m)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},Dj=function(){},DL=function(d,m,j,T){var M=d.memoizedProps;if(M!==T){d=m.stateNode,Wu(uo.current);var $=null;switch(j){case"input":M=xe(d,M),T=xe(d,T),$=[];break;case"select":M=ne({},M,{value:void 0}),T=ne({},T,{value:void 0}),$=[];break;case"textarea":M=Ae(d,M),T=Ae(d,T),$=[];break;default:typeof M.onClick!="function"&&typeof T.onClick=="function"&&(d.onclick=ze)}qt(j,T);var re;j=null;for(Ie in M)if(!T.hasOwnProperty(Ie)&&M.hasOwnProperty(Ie)&&M[Ie]!=null)if(Ie==="style"){var de=M[Ie];for(re in de)de.hasOwnProperty(re)&&(j||(j={}),j[re]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?$||($=[]):($=$||[]).push(Ie,null));for(Ie in T){var ve=T[Ie];if(de=M?.[Ie],T.hasOwnProperty(Ie)&&ve!==de&&(ve!=null||de!=null))if(Ie==="style")if(de){for(re in de)!de.hasOwnProperty(re)||ve&&ve.hasOwnProperty(re)||(j||(j={}),j[re]="");for(re in ve)ve.hasOwnProperty(re)&&de[re]!==ve[re]&&(j||(j={}),j[re]=ve[re])}else j||($||($=[]),$.push(Ie,j)),j=ve;else Ie==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,de=de?de.__html:void 0,ve!=null&&de!==ve&&($=$||[]).push(Ie,ve)):Ie==="children"?typeof ve!="string"&&typeof ve!="number"||($=$||[]).push(Ie,""+ve):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(ve!=null&&Ie==="onScroll"&&Nr("scroll",d),$||de===ve||($=[])):($=$||[]).push(Ie,ve))}j&&($=$||[]).push("style",j);var Ie=$;(m.updateQueue=Ie)&&(m.flags|=4)}},$L=function(d,m,j,T){j!==T&&(m.flags|=4)};function Wm(d,m){if(!Yr)switch(d.tailMode){case"hidden":m=d.tail;for(var j=null;m!==null;)m.alternate!==null&&(j=m),m=m.sibling;j===null?d.tail=null:j.sibling=null;break;case"collapsed":j=d.tail;for(var T=null;j!==null;)j.alternate!==null&&(T=j),j=j.sibling;T===null?m||d.tail===null?d.tail=null:d.tail.sibling=null:T.sibling=null}}function gi(d){var m=d.alternate!==null&&d.alternate.child===d.child,j=0,T=0;if(m)for(var M=d.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags&14680064,T|=M.flags&14680064,M.return=d,M=M.sibling;else for(M=d.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags,T|=M.flags,M.return=d,M=M.sibling;return d.subtreeFlags|=T,d.childLanes=j,m}function Xte(d,m,j){var T=m.pendingProps;switch(sj(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gi(m),null;case 1:return Wi(m.type)&&Sx(),gi(m),null;case 3:return T=m.stateNode,Wf(),Vr(Vi),Vr(pi),yj(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(d===null||d.child===null)&&(Tx(m)?m.flags|=4:d===null||d.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,wa!==null&&(Gj(wa),wa=null))),Dj(d,m),gi(m),null;case 5:gj(m);var M=Wu(Bm.current);if(j=m.type,d!==null&&m.stateNode!=null)DL(d,m,j,T,M),d.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(r(166));return gi(m),null}if(d=Wu(uo.current),Tx(m)){T=m.stateNode,j=m.type;var $=m.memoizedProps;switch(T[Vs]=m,T[mc]=$,d=(m.mode&1)!==0,j){case"dialog":Nr("cancel",T),Nr("close",T);break;case"iframe":case"object":case"embed":Nr("load",T);break;case"video":case"audio":for(M=0;M<fc.length;M++)Nr(fc[M],T);break;case"source":Nr("error",T);break;case"img":case"image":case"link":Nr("error",T),Nr("load",T);break;case"details":Nr("toggle",T);break;case"input":We(T,$),Nr("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Nr("invalid",T);break;case"textarea":Ze(T,$),Nr("invalid",T)}qt(j,$),M=null;for(var re in $)if($.hasOwnProperty(re)){var de=$[re];re==="children"?typeof de=="string"?T.textContent!==de&&($.suppressHydrationWarning!==!0&&Me(T.textContent,de,d),M=["children",de]):typeof de=="number"&&T.textContent!==""+de&&($.suppressHydrationWarning!==!0&&Me(T.textContent,de,d),M=["children",""+de]):i.hasOwnProperty(re)&&de!=null&&re==="onScroll"&&Nr("scroll",T)}switch(j){case"input":te(T),ot(T,$,!0);break;case"textarea":te(T),me(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=ze)}T=M,m.updateQueue=T,T!==null&&(m.flags|=4)}else{re=M.nodeType===9?M:M.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=De(j)),d==="http://www.w3.org/1999/xhtml"?j==="script"?(d=re.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof T.is=="string"?d=re.createElement(j,{is:T.is}):(d=re.createElement(j),j==="select"&&(re=d,T.multiple?re.multiple=!0:T.size&&(re.size=T.size))):d=re.createElementNS(d,j),d[Vs]=m,d[mc]=T,LL(d,m,!1,!1),m.stateNode=d;e:{switch(re=Yt(j,T),j){case"dialog":Nr("cancel",d),Nr("close",d),M=T;break;case"iframe":case"object":case"embed":Nr("load",d),M=T;break;case"video":case"audio":for(M=0;M<fc.length;M++)Nr(fc[M],d);M=T;break;case"source":Nr("error",d),M=T;break;case"img":case"image":case"link":Nr("error",d),Nr("load",d),M=T;break;case"details":Nr("toggle",d),M=T;break;case"input":We(d,T),M=xe(d,T),Nr("invalid",d);break;case"option":M=T;break;case"select":d._wrapperState={wasMultiple:!!T.multiple},M=ne({},T,{value:void 0}),Nr("invalid",d);break;case"textarea":Ze(d,T),M=Ae(d,T),Nr("invalid",d);break;default:M=T}qt(j,M),de=M;for($ in de)if(de.hasOwnProperty($)){var ve=de[$];$==="style"?yt(d,ve):$==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&F(d,ve)):$==="children"?typeof ve=="string"?(j!=="textarea"||ve!=="")&&le(d,ve):typeof ve=="number"&&le(d,""+ve):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ve!=null&&$==="onScroll"&&Nr("scroll",d):ve!=null&&C(d,$,ve,re))}switch(j){case"input":te(d),ot(d,T,!1);break;case"textarea":te(d),me(d);break;case"option":T.value!=null&&d.setAttribute("value",""+ge(T.value));break;case"select":d.multiple=!!T.multiple,$=T.value,$!=null?je(d,!!T.multiple,$,!1):T.defaultValue!=null&&je(d,!!T.multiple,T.defaultValue,!0);break;default:typeof M.onClick=="function"&&(d.onclick=ze)}switch(j){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return gi(m),null;case 6:if(d&&m.stateNode!=null)$L(d,m,d.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(r(166));if(j=Wu(Bm.current),Wu(uo.current),Tx(m)){if(T=m.stateNode,j=m.memoizedProps,T[Vs]=m,($=T.nodeValue!==j)&&(d=ys,d!==null))switch(d.tag){case 3:Me(T.nodeValue,j,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&Me(T.nodeValue,j,(d.mode&1)!==0)}$&&(m.flags|=4)}else T=(j.nodeType===9?j:j.ownerDocument).createTextNode(T),T[Vs]=m,m.stateNode=T}return gi(m),null;case 13:if(Vr(tn),T=m.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Yr&&xs!==null&&(m.mode&1)!==0&&(m.flags&128)===0)zI(),zf(),m.flags|=98560,$=!1;else if($=Tx(m),T!==null&&T.dehydrated!==null){if(d===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[Vs]=m}else zf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;gi(m),$=!1}else wa!==null&&(Gj(wa),wa=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=j,m):(T=T!==null,T!==(d!==null&&d.memoizedState!==null)&&T&&(m.child.flags|=8192,(m.mode&1)!==0&&(d===null||(tn.current&1)!==0?Rn===0&&(Rn=3):Xj())),m.updateQueue!==null&&(m.flags|=4),gi(m),null);case 4:return Wf(),Dj(d,m),d===null&&hc(m.stateNode.containerInfo),gi(m),null;case 10:return dj(m.type._context),gi(m),null;case 17:return Wi(m.type)&&Sx(),gi(m),null;case 19:if(Vr(tn),$=m.memoizedState,$===null)return gi(m),null;if(T=(m.flags&128)!==0,re=$.rendering,re===null)if(T)Wm($,!1);else{if(Rn!==0||d!==null&&(d.flags&128)!==0)for(d=m.child;d!==null;){if(re=Ix(d),re!==null){for(m.flags|=128,Wm($,!1),T=re.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),m.subtreeFlags=0,T=j,j=m.child;j!==null;)$=j,d=T,$.flags&=14680066,re=$.alternate,re===null?($.childLanes=0,$.lanes=d,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=re.childLanes,$.lanes=re.lanes,$.child=re.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=re.memoizedProps,$.memoizedState=re.memoizedState,$.updateQueue=re.updateQueue,$.type=re.type,d=re.dependencies,$.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),j=j.sibling;return Dr(tn,tn.current&1|2),m.child}d=d.sibling}$.tail!==null&&Qr()>Zf&&(m.flags|=128,T=!0,Wm($,!1),m.lanes=4194304)}else{if(!T)if(d=Ix(re),d!==null){if(m.flags|=128,T=!0,j=d.updateQueue,j!==null&&(m.updateQueue=j,m.flags|=4),Wm($,!0),$.tail===null&&$.tailMode==="hidden"&&!re.alternate&&!Yr)return gi(m),null}else 2*Qr()-$.renderingStartTime>Zf&&j!==1073741824&&(m.flags|=128,T=!0,Wm($,!1),m.lanes=4194304);$.isBackwards?(re.sibling=m.child,m.child=re):(j=$.last,j!==null?j.sibling=re:m.child=re,$.last=re)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=Qr(),m.sibling=null,j=tn.current,Dr(tn,T?j&1|2:j&1),m):(gi(m),null);case 22:case 23:return Yj(),T=m.memoizedState!==null,d!==null&&d.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(bs&1073741824)!==0&&(gi(m),m.subtreeFlags&6&&(m.flags|=8192)):gi(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function Jte(d,m){switch(sj(m),m.tag){case 1:return Wi(m.type)&&Sx(),d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 3:return Wf(),Vr(Vi),Vr(pi),yj(),d=m.flags,(d&65536)!==0&&(d&128)===0?(m.flags=d&-65537|128,m):null;case 5:return gj(m),null;case 13:if(Vr(tn),d=m.memoizedState,d!==null&&d.dehydrated!==null){if(m.alternate===null)throw Error(r(340));zf()}return d=m.flags,d&65536?(m.flags=d&-65537|128,m):null;case 19:return Vr(tn),null;case 4:return Wf(),null;case 10:return dj(m.type._context),null;case 22:case 23:return Yj(),null;case 24:return null;default:return null}}var Vx=!1,vi=!1,Qte=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Kf(d,m){var j=d.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(T){ln(d,m,T)}else j.current=null}function $j(d,m,j){try{j()}catch(T){ln(d,m,T)}}var FL=!1;function ere(d,m){if(nt=Ru,d=Pm(),Tm(d)){if("selectionStart"in d)var j={start:d.selectionStart,end:d.selectionEnd};else e:{j=(j=d.ownerDocument)&&j.defaultView||window;var T=j.getSelection&&j.getSelection();if(T&&T.rangeCount!==0){j=T.anchorNode;var M=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{j.nodeType,$.nodeType}catch{j=null;break e}var re=0,de=-1,ve=-1,Ie=0,Ke=0,Ye=d,He=null;t:for(;;){for(var st;Ye!==j||M!==0&&Ye.nodeType!==3||(de=re+M),Ye!==$||T!==0&&Ye.nodeType!==3||(ve=re+T),Ye.nodeType===3&&(re+=Ye.nodeValue.length),(st=Ye.firstChild)!==null;)He=Ye,Ye=st;for(;;){if(Ye===d)break t;if(He===j&&++Ie===M&&(de=re),He===$&&++Ke===T&&(ve=re),(st=Ye.nextSibling)!==null)break;Ye=He,He=Ye.parentNode}Ye=st}j=de===-1||ve===-1?null:{start:de,end:ve}}else j=null}j=j||{start:0,end:0}}else j=null;for(xt={focusedElem:d,selectionRange:j},Ru=!1,lt=m;lt!==null;)if(m=lt,d=m.child,(m.subtreeFlags&1028)!==0&&d!==null)d.return=m,lt=d;else for(;lt!==null;){m=lt;try{var ut=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ht=ut.memoizedProps,fn=ut.memoizedState,Te=m.stateNode,Se=Te.getSnapshotBeforeUpdate(m.elementType===m.type?ht:_a(m.type,ht),fn);Te.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var ke=m.stateNode.containerInfo;ke.nodeType===1?ke.textContent="":ke.nodeType===9&&ke.documentElement&&ke.removeChild(ke.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Je){ln(m,m.return,Je)}if(d=m.sibling,d!==null){d.return=m.return,lt=d;break}lt=m.return}return ut=FL,FL=!1,ut}function Hm(d,m,j){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var M=T=T.next;do{if((M.tag&d)===d){var $=M.destroy;M.destroy=void 0,$!==void 0&&$j(m,j,$)}M=M.next}while(M!==T)}}function Wx(d,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var j=m=m.next;do{if((j.tag&d)===d){var T=j.create;j.destroy=T()}j=j.next}while(j!==m)}}function Fj(d){var m=d.ref;if(m!==null){var j=d.stateNode;switch(d.tag){case 5:d=j;break;default:d=j}typeof m=="function"?m(d):m.current=d}}function BL(d){var m=d.alternate;m!==null&&(d.alternate=null,BL(m)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(m=d.stateNode,m!==null&&(delete m[Vs],delete m[mc],delete m[gc],delete m[ej],delete m[tj])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function zL(d){return d.tag===5||d.tag===3||d.tag===4}function qL(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||zL(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Bj(d,m,j){var T=d.tag;if(T===5||T===6)d=d.stateNode,m?j.nodeType===8?j.parentNode.insertBefore(d,m):j.insertBefore(d,m):(j.nodeType===8?(m=j.parentNode,m.insertBefore(d,j)):(m=j,m.appendChild(d)),j=j._reactRootContainer,j!=null||m.onclick!==null||(m.onclick=ze));else if(T!==4&&(d=d.child,d!==null))for(Bj(d,m,j),d=d.sibling;d!==null;)Bj(d,m,j),d=d.sibling}function zj(d,m,j){var T=d.tag;if(T===5||T===6)d=d.stateNode,m?j.insertBefore(d,m):j.appendChild(d);else if(T!==4&&(d=d.child,d!==null))for(zj(d,m,j),d=d.sibling;d!==null;)zj(d,m,j),d=d.sibling}var ti=null,ja=!1;function _c(d,m,j){for(j=j.child;j!==null;)UL(d,m,j),j=j.sibling}function UL(d,m,j){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(Eu,j)}catch{}switch(j.tag){case 5:vi||Kf(j,m);case 6:var T=ti,M=ja;ti=null,_c(d,m,j),ti=T,ja=M,ti!==null&&(ja?(d=ti,j=j.stateNode,d.nodeType===8?d.parentNode.removeChild(j):d.removeChild(j)):ti.removeChild(j.stateNode));break;case 18:ti!==null&&(ja?(d=ti,j=j.stateNode,d.nodeType===8?Lm(d.parentNode,j):d.nodeType===1&&Lm(d,j),hs(d)):Lm(ti,j.stateNode));break;case 4:T=ti,M=ja,ti=j.stateNode.containerInfo,ja=!0,_c(d,m,j),ti=T,ja=M;break;case 0:case 11:case 14:case 15:if(!vi&&(T=j.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){M=T=T.next;do{var $=M,re=$.destroy;$=$.tag,re!==void 0&&(($&2)!==0||($&4)!==0)&&$j(j,m,re),M=M.next}while(M!==T)}_c(d,m,j);break;case 1:if(!vi&&(Kf(j,m),T=j.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=j.memoizedProps,T.state=j.memoizedState,T.componentWillUnmount()}catch(de){ln(j,m,de)}_c(d,m,j);break;case 21:_c(d,m,j);break;case 22:j.mode&1?(vi=(T=vi)||j.memoizedState!==null,_c(d,m,j),vi=T):_c(d,m,j);break;default:_c(d,m,j)}}function VL(d){var m=d.updateQueue;if(m!==null){d.updateQueue=null;var j=d.stateNode;j===null&&(j=d.stateNode=new Qte),m.forEach(function(T){var M=cre.bind(null,d,T);j.has(T)||(j.add(T),T.then(M,M))})}}function Sa(d,m){var j=m.deletions;if(j!==null)for(var T=0;T<j.length;T++){var M=j[T];try{var $=d,re=m,de=re;e:for(;de!==null;){switch(de.tag){case 5:ti=de.stateNode,ja=!1;break e;case 3:ti=de.stateNode.containerInfo,ja=!0;break e;case 4:ti=de.stateNode.containerInfo,ja=!0;break e}de=de.return}if(ti===null)throw Error(r(160));UL($,re,M),ti=null,ja=!1;var ve=M.alternate;ve!==null&&(ve.return=null),M.return=null}catch(Ie){ln(M,m,Ie)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)WL(m,d),m=m.sibling}function WL(d,m){var j=d.alternate,T=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Sa(m,d),ho(d),T&4){try{Hm(3,d,d.return),Wx(3,d)}catch(ht){ln(d,d.return,ht)}try{Hm(5,d,d.return)}catch(ht){ln(d,d.return,ht)}}break;case 1:Sa(m,d),ho(d),T&512&&j!==null&&Kf(j,j.return);break;case 5:if(Sa(m,d),ho(d),T&512&&j!==null&&Kf(j,j.return),d.flags&32){var M=d.stateNode;try{le(M,"")}catch(ht){ln(d,d.return,ht)}}if(T&4&&(M=d.stateNode,M!=null)){var $=d.memoizedProps,re=j!==null?j.memoizedProps:$,de=d.type,ve=d.updateQueue;if(d.updateQueue=null,ve!==null)try{de==="input"&&$.type==="radio"&&$.name!=null&&Ue(M,$),Yt(de,re);var Ie=Yt(de,$);for(re=0;re<ve.length;re+=2){var Ke=ve[re],Ye=ve[re+1];Ke==="style"?yt(M,Ye):Ke==="dangerouslySetInnerHTML"?F(M,Ye):Ke==="children"?le(M,Ye):C(M,Ke,Ye,Ie)}switch(de){case"input":Ne(M,$);break;case"textarea":Xe(M,$);break;case"select":var He=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!$.multiple;var st=$.value;st!=null?je(M,!!$.multiple,st,!1):He!==!!$.multiple&&($.defaultValue!=null?je(M,!!$.multiple,$.defaultValue,!0):je(M,!!$.multiple,$.multiple?[]:"",!1))}M[mc]=$}catch(ht){ln(d,d.return,ht)}}break;case 6:if(Sa(m,d),ho(d),T&4){if(d.stateNode===null)throw Error(r(162));M=d.stateNode,$=d.memoizedProps;try{M.nodeValue=$}catch(ht){ln(d,d.return,ht)}}break;case 3:if(Sa(m,d),ho(d),T&4&&j!==null&&j.memoizedState.isDehydrated)try{hs(m.containerInfo)}catch(ht){ln(d,d.return,ht)}break;case 4:Sa(m,d),ho(d);break;case 13:Sa(m,d),ho(d),M=d.child,M.flags&8192&&($=M.memoizedState!==null,M.stateNode.isHidden=$,!$||M.alternate!==null&&M.alternate.memoizedState!==null||(Vj=Qr())),T&4&&VL(d);break;case 22:if(Ke=j!==null&&j.memoizedState!==null,d.mode&1?(vi=(Ie=vi)||Ke,Sa(m,d),vi=Ie):Sa(m,d),ho(d),T&8192){if(Ie=d.memoizedState!==null,(d.stateNode.isHidden=Ie)&&!Ke&&(d.mode&1)!==0)for(lt=d,Ke=d.child;Ke!==null;){for(Ye=lt=Ke;lt!==null;){switch(He=lt,st=He.child,He.tag){case 0:case 11:case 14:case 15:Hm(4,He,He.return);break;case 1:Kf(He,He.return);var ut=He.stateNode;if(typeof ut.componentWillUnmount=="function"){T=He,j=He.return;try{m=T,ut.props=m.memoizedProps,ut.state=m.memoizedState,ut.componentWillUnmount()}catch(ht){ln(T,j,ht)}}break;case 5:Kf(He,He.return);break;case 22:if(He.memoizedState!==null){GL(Ye);continue}}st!==null?(st.return=He,lt=st):GL(Ye)}Ke=Ke.sibling}e:for(Ke=null,Ye=d;;){if(Ye.tag===5){if(Ke===null){Ke=Ye;try{M=Ye.stateNode,Ie?($=M.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(de=Ye.stateNode,ve=Ye.memoizedProps.style,re=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,de.style.display=$e("display",re))}catch(ht){ln(d,d.return,ht)}}}else if(Ye.tag===6){if(Ke===null)try{Ye.stateNode.nodeValue=Ie?"":Ye.memoizedProps}catch(ht){ln(d,d.return,ht)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===d)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===d)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===d)break e;Ke===Ye&&(Ke=null),Ye=Ye.return}Ke===Ye&&(Ke=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:Sa(m,d),ho(d),T&4&&VL(d);break;case 21:break;default:Sa(m,d),ho(d)}}function ho(d){var m=d.flags;if(m&2){try{e:{for(var j=d.return;j!==null;){if(zL(j)){var T=j;break e}j=j.return}throw Error(r(160))}switch(T.tag){case 5:var M=T.stateNode;T.flags&32&&(le(M,""),T.flags&=-33);var $=qL(d);zj(d,$,M);break;case 3:case 4:var re=T.stateNode.containerInfo,de=qL(d);Bj(d,de,re);break;default:throw Error(r(161))}}catch(ve){ln(d,d.return,ve)}d.flags&=-3}m&4096&&(d.flags&=-4097)}function tre(d,m,j){lt=d,HL(d)}function HL(d,m,j){for(var T=(d.mode&1)!==0;lt!==null;){var M=lt,$=M.child;if(M.tag===22&&T){var re=M.memoizedState!==null||Vx;if(!re){var de=M.alternate,ve=de!==null&&de.memoizedState!==null||vi;de=Vx;var Ie=vi;if(Vx=re,(vi=ve)&&!Ie)for(lt=M;lt!==null;)re=lt,ve=re.child,re.tag===22&&re.memoizedState!==null?ZL(M):ve!==null?(ve.return=re,lt=ve):ZL(M);for(;$!==null;)lt=$,HL($),$=$.sibling;lt=M,Vx=de,vi=Ie}KL(d)}else(M.subtreeFlags&8772)!==0&&$!==null?($.return=M,lt=$):KL(d)}}function KL(d){for(;lt!==null;){var m=lt;if((m.flags&8772)!==0){var j=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:vi||Wx(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!vi)if(j===null)T.componentDidMount();else{var M=m.elementType===m.type?j.memoizedProps:_a(m.type,j.memoizedProps);T.componentDidUpdate(M,j.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&GI(m,$,T);break;case 3:var re=m.updateQueue;if(re!==null){if(j=null,m.child!==null)switch(m.child.tag){case 5:j=m.child.stateNode;break;case 1:j=m.child.stateNode}GI(m,re,j)}break;case 5:var de=m.stateNode;if(j===null&&m.flags&4){j=de;var ve=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&j.focus();break;case"img":ve.src&&(j.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ie=m.alternate;if(Ie!==null){var Ke=Ie.memoizedState;if(Ke!==null){var Ye=Ke.dehydrated;Ye!==null&&hs(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}vi||m.flags&512&&Fj(m)}catch(He){ln(m,m.return,He)}}if(m===d){lt=null;break}if(j=m.sibling,j!==null){j.return=m.return,lt=j;break}lt=m.return}}function GL(d){for(;lt!==null;){var m=lt;if(m===d){lt=null;break}var j=m.sibling;if(j!==null){j.return=m.return,lt=j;break}lt=m.return}}function ZL(d){for(;lt!==null;){var m=lt;try{switch(m.tag){case 0:case 11:case 15:var j=m.return;try{Wx(4,m)}catch(ve){ln(m,j,ve)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var M=m.return;try{T.componentDidMount()}catch(ve){ln(m,M,ve)}}var $=m.return;try{Fj(m)}catch(ve){ln(m,$,ve)}break;case 5:var re=m.return;try{Fj(m)}catch(ve){ln(m,re,ve)}}}catch(ve){ln(m,m.return,ve)}if(m===d){lt=null;break}var de=m.sibling;if(de!==null){de.return=m.return,lt=de;break}lt=m.return}}var rre=Math.ceil,Hx=A.ReactCurrentDispatcher,qj=A.ReactCurrentOwner,Zs=A.ReactCurrentBatchConfig,rr=0,Vn=null,yn=null,ri=0,bs=0,Gf=vc(0),Rn=0,Km=null,Ku=0,Kx=0,Uj=0,Gm=null,Ki=null,Vj=0,Zf=1/0,cl=null,Gx=!1,Wj=null,jc=null,Zx=!1,Sc=null,Yx=0,Zm=0,Hj=null,Xx=-1,Jx=0;function Ai(){return(rr&6)!==0?Qr():Xx!==-1?Xx:Xx=Qr()}function Nc(d){return(d.mode&1)===0?1:(rr&2)!==0&&ri!==0?ri&-ri:Fte.transition!==null?(Jx===0&&(Jx=tx()),Jx):(d=Xt,d!==0||(d=window.event,d=d===void 0?16:Gt(d.type)),d)}function Na(d,m,j,T){if(50<Zm)throw Zm=0,Hj=null,Error(r(185));ds(d,j,T),((rr&2)===0||d!==Vn)&&(d===Vn&&((rr&2)===0&&(Kx|=j),Rn===4&&Cc(d,ri)),Gi(d,T),j===1&&rr===0&&(m.mode&1)===0&&(Zf=Qr()+500,Cx&&xc()))}function Gi(d,m){var j=d.callbackNode;mf(d,m);var T=Lr(d,d===Vn?ri:0);if(T===0)j!==null&&um(j),d.callbackNode=null,d.callbackPriority=0;else if(m=T&-T,d.callbackPriority!==m){if(j!=null&&um(j),m===1)d.tag===0?$te(XL.bind(null,d)):LI(XL.bind(null,d)),hi(function(){(rr&6)===0&&xc()}),j=null;else{switch(ec(T)){case 1:j=dm;break;case 4:j=ex;break;case 16:j=hf;break;case 536870912:j=Yl;break;default:j=hf}j=sD(j,YL.bind(null,d))}d.callbackPriority=m,d.callbackNode=j}}function YL(d,m){if(Xx=-1,Jx=0,(rr&6)!==0)throw Error(r(327));var j=d.callbackNode;if(Yf()&&d.callbackNode!==j)return null;var T=Lr(d,d===Vn?ri:0);if(T===0)return null;if((T&30)!==0||(T&d.expiredLanes)!==0||m)m=Qx(d,T);else{m=T;var M=rr;rr|=2;var $=QL();(Vn!==d||ri!==m)&&(cl=null,Zf=Qr()+500,Zu(d,m));do try{sre();break}catch(de){JL(d,de)}while(!0);uj(),Hx.current=$,rr=M,yn!==null?m=0:(Vn=null,ri=0,m=Rn)}if(m!==0){if(m===2&&(M=di(d),M!==0&&(T=M,m=Kj(d,M))),m===1)throw j=Km,Zu(d,0),Cc(d,T),Gi(d,Qr()),j;if(m===6)Cc(d,T);else{if(M=d.current.alternate,(T&30)===0&&!nre(M)&&(m=Qx(d,T),m===2&&($=di(d),$!==0&&(T=$,m=Kj(d,$))),m===1))throw j=Km,Zu(d,0),Cc(d,T),Gi(d,Qr()),j;switch(d.finishedWork=M,d.finishedLanes=T,m){case 0:case 1:throw Error(r(345));case 2:Yu(d,Ki,cl);break;case 3:if(Cc(d,T),(T&130023424)===T&&(m=Vj+500-Qr(),10<m)){if(Lr(d,0)!==0)break;if(M=d.suspendedLanes,(M&T)!==T){Ai(),d.pingedLanes|=d.suspendedLanes&M;break}d.timeoutHandle=An(Yu.bind(null,d,Ki,cl),m);break}Yu(d,Ki,cl);break;case 4:if(Cc(d,T),(T&4194240)===T)break;for(m=d.eventTimes,M=-1;0<T;){var re=31-Rt(T);$=1<<re,re=m[re],re>M&&(M=re),T&=~$}if(T=M,T=Qr()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*rre(T/1960))-T,10<T){d.timeoutHandle=An(Yu.bind(null,d,Ki,cl),T);break}Yu(d,Ki,cl);break;case 5:Yu(d,Ki,cl);break;default:throw Error(r(329))}}}return Gi(d,Qr()),d.callbackNode===j?YL.bind(null,d):null}function Kj(d,m){var j=Gm;return d.current.memoizedState.isDehydrated&&(Zu(d,m).flags|=256),d=Qx(d,m),d!==2&&(m=Ki,Ki=j,m!==null&&Gj(m)),d}function Gj(d){Ki===null?Ki=d:Ki.push.apply(Ki,d)}function nre(d){for(var m=d;;){if(m.flags&16384){var j=m.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var T=0;T<j.length;T++){var M=j[T],$=M.getSnapshot;M=M.value;try{if(!gs($(),M))return!1}catch{return!1}}}if(j=m.child,m.subtreeFlags&16384&&j!==null)j.return=m,m=j;else{if(m===d)break;for(;m.sibling===null;){if(m.return===null||m.return===d)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Cc(d,m){for(m&=~Uj,m&=~Kx,d.suspendedLanes|=m,d.pingedLanes&=~m,d=d.expirationTimes;0<m;){var j=31-Rt(m),T=1<<j;d[j]=-1,m&=~T}}function XL(d){if((rr&6)!==0)throw Error(r(327));Yf();var m=Lr(d,0);if((m&1)===0)return Gi(d,Qr()),null;var j=Qx(d,m);if(d.tag!==0&&j===2){var T=di(d);T!==0&&(m=T,j=Kj(d,T))}if(j===1)throw j=Km,Zu(d,0),Cc(d,m),Gi(d,Qr()),j;if(j===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=m,Yu(d,Ki,cl),Gi(d,Qr()),null}function Zj(d,m){var j=rr;rr|=1;try{return d(m)}finally{rr=j,rr===0&&(Zf=Qr()+500,Cx&&xc())}}function Gu(d){Sc!==null&&Sc.tag===0&&(rr&6)===0&&Yf();var m=rr;rr|=1;var j=Zs.transition,T=Xt;try{if(Zs.transition=null,Xt=1,d)return d()}finally{Xt=T,Zs.transition=j,rr=m,(rr&6)===0&&xc()}}function Yj(){bs=Gf.current,Vr(Gf)}function Zu(d,m){d.finishedWork=null,d.finishedLanes=0;var j=d.timeoutHandle;if(j!==-1&&(d.timeoutHandle=-1,vn(j)),yn!==null)for(j=yn.return;j!==null;){var T=j;switch(sj(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Sx();break;case 3:Wf(),Vr(Vi),Vr(pi),yj();break;case 5:gj(T);break;case 4:Wf();break;case 13:Vr(tn);break;case 19:Vr(tn);break;case 10:dj(T.type._context);break;case 22:case 23:Yj()}j=j.return}if(Vn=d,yn=d=Ec(d.current,null),ri=bs=m,Rn=0,Km=null,Uj=Kx=Ku=0,Ki=Gm=null,Vu!==null){for(m=0;m<Vu.length;m++)if(j=Vu[m],T=j.interleaved,T!==null){j.interleaved=null;var M=T.next,$=j.pending;if($!==null){var re=$.next;$.next=M,T.next=re}j.pending=T}Vu=null}return d}function JL(d,m){do{var j=yn;try{if(uj(),Lx.current=Bx,Dx){for(var T=rn.memoizedState;T!==null;){var M=T.queue;M!==null&&(M.pending=null),T=T.next}Dx=!1}if(Hu=0,Un=On=rn=null,zm=!1,qm=0,qj.current=null,j===null||j.return===null){Rn=1,Km=m,yn=null;break}e:{var $=d,re=j.return,de=j,ve=m;if(m=ri,de.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ie=ve,Ke=de,Ye=Ke.tag;if((Ke.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var He=Ke.alternate;He?(Ke.updateQueue=He.updateQueue,Ke.memoizedState=He.memoizedState,Ke.lanes=He.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var st=jL(re);if(st!==null){st.flags&=-257,SL(st,re,de,$,m),st.mode&1&&_L($,Ie,m),m=st,ve=Ie;var ut=m.updateQueue;if(ut===null){var ht=new Set;ht.add(ve),m.updateQueue=ht}else ut.add(ve);break e}else{if((m&1)===0){_L($,Ie,m),Xj();break e}ve=Error(r(426))}}else if(Yr&&de.mode&1){var fn=jL(re);if(fn!==null){(fn.flags&65536)===0&&(fn.flags|=256),SL(fn,re,de,$,m),lj(Hf(ve,de));break e}}$=ve=Hf(ve,de),Rn!==4&&(Rn=2),Gm===null?Gm=[$]:Gm.push($),$=re;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var Te=bL($,ve,m);KI($,Te);break e;case 1:de=ve;var Se=$.type,ke=$.stateNode;if(($.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||ke!==null&&typeof ke.componentDidCatch=="function"&&(jc===null||!jc.has(ke)))){$.flags|=65536,m&=-m,$.lanes|=m;var Je=wL($,de,m);KI($,Je);break e}}$=$.return}while($!==null)}tD(j)}catch(gt){m=gt,yn===j&&j!==null&&(yn=j=j.return);continue}break}while(!0)}function QL(){var d=Hx.current;return Hx.current=Bx,d===null?Bx:d}function Xj(){(Rn===0||Rn===3||Rn===2)&&(Rn=4),Vn===null||(Ku&268435455)===0&&(Kx&268435455)===0||Cc(Vn,ri)}function Qx(d,m){var j=rr;rr|=2;var T=QL();(Vn!==d||ri!==m)&&(cl=null,Zu(d,m));do try{ire();break}catch(M){JL(d,M)}while(!0);if(uj(),rr=j,Hx.current=T,yn!==null)throw Error(r(261));return Vn=null,ri=0,Rn}function ire(){for(;yn!==null;)eD(yn)}function sre(){for(;yn!==null&&!$1();)eD(yn)}function eD(d){var m=iD(d.alternate,d,bs);d.memoizedProps=d.pendingProps,m===null?tD(d):yn=m,qj.current=null}function tD(d){var m=d;do{var j=m.alternate;if(d=m.return,(m.flags&32768)===0){if(j=Xte(j,m,bs),j!==null){yn=j;return}}else{if(j=Jte(j,m),j!==null){j.flags&=32767,yn=j;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Rn=6,yn=null;return}}if(m=m.sibling,m!==null){yn=m;return}yn=m=d}while(m!==null);Rn===0&&(Rn=5)}function Yu(d,m,j){var T=Xt,M=Zs.transition;try{Zs.transition=null,Xt=1,are(d,m,j,T)}finally{Zs.transition=M,Xt=T}return null}function are(d,m,j,T){do Yf();while(Sc!==null);if((rr&6)!==0)throw Error(r(327));j=d.finishedWork;var M=d.finishedLanes;if(j===null)return null;if(d.finishedWork=null,d.finishedLanes=0,j===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var $=j.lanes|j.childLanes;if(on(d,$),d===Vn&&(yn=Vn=null,ri=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||Zx||(Zx=!0,sD(hf,function(){return Yf(),null})),$=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||$){$=Zs.transition,Zs.transition=null;var re=Xt;Xt=1;var de=rr;rr|=4,qj.current=null,ere(d,j),WL(j,d),qs(xt),Ru=!!nt,xt=nt=null,d.current=j,tre(j),ff(),rr=de,Xt=re,Zs.transition=$}else d.current=j;if(Zx&&(Zx=!1,Sc=d,Yx=M),$=d.pendingLanes,$===0&&(jc=null),Pu(j.stateNode),Gi(d,Qr()),m!==null)for(T=d.onRecoverableError,j=0;j<m.length;j++)M=m[j],T(M.value,{componentStack:M.stack,digest:M.digest});if(Gx)throw Gx=!1,d=Wj,Wj=null,d;return(Yx&1)!==0&&d.tag!==0&&Yf(),$=d.pendingLanes,($&1)!==0?d===Hj?Zm++:(Zm=0,Hj=d):Zm=0,xc(),null}function Yf(){if(Sc!==null){var d=ec(Yx),m=Zs.transition,j=Xt;try{if(Zs.transition=null,Xt=16>d?16:d,Sc===null)var T=!1;else{if(d=Sc,Sc=null,Yx=0,(rr&6)!==0)throw Error(r(331));var M=rr;for(rr|=4,lt=d.current;lt!==null;){var $=lt,re=$.child;if((lt.flags&16)!==0){var de=$.deletions;if(de!==null){for(var ve=0;ve<de.length;ve++){var Ie=de[ve];for(lt=Ie;lt!==null;){var Ke=lt;switch(Ke.tag){case 0:case 11:case 15:Hm(8,Ke,$)}var Ye=Ke.child;if(Ye!==null)Ye.return=Ke,lt=Ye;else for(;lt!==null;){Ke=lt;var He=Ke.sibling,st=Ke.return;if(BL(Ke),Ke===Ie){lt=null;break}if(He!==null){He.return=st,lt=He;break}lt=st}}}var ut=$.alternate;if(ut!==null){var ht=ut.child;if(ht!==null){ut.child=null;do{var fn=ht.sibling;ht.sibling=null,ht=fn}while(ht!==null)}}lt=$}}if(($.subtreeFlags&2064)!==0&&re!==null)re.return=$,lt=re;else e:for(;lt!==null;){if($=lt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Hm(9,$,$.return)}var Te=$.sibling;if(Te!==null){Te.return=$.return,lt=Te;break e}lt=$.return}}var Se=d.current;for(lt=Se;lt!==null;){re=lt;var ke=re.child;if((re.subtreeFlags&2064)!==0&&ke!==null)ke.return=re,lt=ke;else e:for(re=Se;lt!==null;){if(de=lt,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:Wx(9,de)}}catch(gt){ln(de,de.return,gt)}if(de===re){lt=null;break e}var Je=de.sibling;if(Je!==null){Je.return=de.return,lt=Je;break e}lt=de.return}}if(rr=M,xc(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(Eu,d)}catch{}T=!0}return T}finally{Xt=j,Zs.transition=m}}return!1}function rD(d,m,j){m=Hf(j,m),m=bL(d,m,1),d=wc(d,m,1),m=Ai(),d!==null&&(ds(d,1,m),Gi(d,m))}function ln(d,m,j){if(d.tag===3)rD(d,d,j);else for(;m!==null;){if(m.tag===3){rD(m,d,j);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(jc===null||!jc.has(T))){d=Hf(j,d),d=wL(m,d,1),m=wc(m,d,1),d=Ai(),m!==null&&(ds(m,1,d),Gi(m,d));break}}m=m.return}}function ore(d,m,j){var T=d.pingCache;T!==null&&T.delete(m),m=Ai(),d.pingedLanes|=d.suspendedLanes&j,Vn===d&&(ri&j)===j&&(Rn===4||Rn===3&&(ri&130023424)===ri&&500>Qr()-Vj?Zu(d,0):Uj|=j),Gi(d,m)}function nD(d,m){m===0&&((d.mode&1)===0?m=1:(m=Jl,Jl<<=1,(Jl&130023424)===0&&(Jl=4194304)));var j=Ai();d=al(d,m),d!==null&&(ds(d,m,j),Gi(d,j))}function lre(d){var m=d.memoizedState,j=0;m!==null&&(j=m.retryLane),nD(d,j)}function cre(d,m){var j=0;switch(d.tag){case 13:var T=d.stateNode,M=d.memoizedState;M!==null&&(j=M.retryLane);break;case 19:T=d.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(m),nD(d,j)}var iD;iD=function(d,m,j){if(d!==null)if(d.memoizedProps!==m.pendingProps||Vi.current)Hi=!0;else{if((d.lanes&j)===0&&(m.flags&128)===0)return Hi=!1,Yte(d,m,j);Hi=(d.flags&131072)!==0}else Hi=!1,Yr&&(m.flags&1048576)!==0&&DI(m,Px,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;Ux(d,m),d=m.pendingProps;var M=$f(m,pi.current);Vf(m,j),M=wj(null,m,T,d,M,j);var $=_j();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Wi(T)?($=!0,Nx(m)):$=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,pj(m),M.updater=zx,m.stateNode=M,M._reactInternals=m,Pj(m,T,d,j),m=Oj(null,m,T,!0,$,j)):(m.tag=0,Yr&&$&&ij(m),ki(null,m,M,j),m=m.child),m;case 16:T=m.elementType;e:{switch(Ux(d,m),d=m.pendingProps,M=T._init,T=M(T._payload),m.type=T,M=m.tag=dre(T),d=_a(T,d),M){case 0:m=Aj(null,m,T,d,j);break e;case 1:m=kL(null,m,T,d,j);break e;case 11:m=NL(null,m,T,d,j);break e;case 14:m=CL(null,m,T,_a(T.type,d),j);break e}throw Error(r(306,T,""))}return m;case 0:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:_a(T,M),Aj(d,m,T,M,j);case 1:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:_a(T,M),kL(d,m,T,M,j);case 3:e:{if(AL(m),d===null)throw Error(r(387));T=m.pendingProps,$=m.memoizedState,M=$.element,HI(d,m),Mx(m,T,null,j);var re=m.memoizedState;if(T=re.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){M=Hf(Error(r(423)),m),m=OL(d,m,T,j,M);break e}else if(T!==M){M=Hf(Error(r(424)),m),m=OL(d,m,T,j,M);break e}else for(xs=co(m.stateNode.containerInfo.firstChild),ys=m,Yr=!0,wa=null,j=VI(m,null,T,j),m.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(zf(),T===M){m=ll(d,m,j);break e}ki(d,m,T,j)}m=m.child}return m;case 5:return ZI(m),d===null&&oj(m),T=m.type,M=m.pendingProps,$=d!==null?d.memoizedProps:null,re=M.children,$t(T,M)?re=null:$!==null&&$t(T,$)&&(m.flags|=32),TL(d,m),ki(d,m,re,j),m.child;case 6:return d===null&&oj(m),null;case 13:return RL(d,m,j);case 4:return mj(m,m.stateNode.containerInfo),T=m.pendingProps,d===null?m.child=qf(m,null,T,j):ki(d,m,T,j),m.child;case 11:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:_a(T,M),NL(d,m,T,M,j);case 7:return ki(d,m,m.pendingProps,j),m.child;case 8:return ki(d,m,m.pendingProps.children,j),m.child;case 12:return ki(d,m,m.pendingProps.children,j),m.child;case 10:e:{if(T=m.type._context,M=m.pendingProps,$=m.memoizedProps,re=M.value,Dr(Ax,T._currentValue),T._currentValue=re,$!==null)if(gs($.value,re)){if($.children===M.children&&!Vi.current){m=ll(d,m,j);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var de=$.dependencies;if(de!==null){re=$.child;for(var ve=de.firstContext;ve!==null;){if(ve.context===T){if($.tag===1){ve=ol(-1,j&-j),ve.tag=2;var Ie=$.updateQueue;if(Ie!==null){Ie=Ie.shared;var Ke=Ie.pending;Ke===null?ve.next=ve:(ve.next=Ke.next,Ke.next=ve),Ie.pending=ve}}$.lanes|=j,ve=$.alternate,ve!==null&&(ve.lanes|=j),fj($.return,j,m),de.lanes|=j;break}ve=ve.next}}else if($.tag===10)re=$.type===m.type?null:$.child;else if($.tag===18){if(re=$.return,re===null)throw Error(r(341));re.lanes|=j,de=re.alternate,de!==null&&(de.lanes|=j),fj(re,j,m),re=$.sibling}else re=$.child;if(re!==null)re.return=$;else for(re=$;re!==null;){if(re===m){re=null;break}if($=re.sibling,$!==null){$.return=re.return,re=$;break}re=re.return}$=re}ki(d,m,M.children,j),m=m.child}return m;case 9:return M=m.type,T=m.pendingProps.children,Vf(m,j),M=Ks(M),T=T(M),m.flags|=1,ki(d,m,T,j),m.child;case 14:return T=m.type,M=_a(T,m.pendingProps),M=_a(T.type,M),CL(d,m,T,M,j);case 15:return EL(d,m,m.type,m.pendingProps,j);case 17:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:_a(T,M),Ux(d,m),m.tag=1,Wi(T)?(d=!0,Nx(m)):d=!1,Vf(m,j),yL(m,T,M),Pj(m,T,M,j),Oj(null,m,T,!0,d,j);case 19:return IL(d,m,j);case 22:return PL(d,m,j)}throw Error(r(156,m.tag))};function sD(d,m){return Qy(d,m)}function ure(d,m,j,T){this.tag=d,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ys(d,m,j,T){return new ure(d,m,j,T)}function Jj(d){return d=d.prototype,!(!d||!d.isReactComponent)}function dre(d){if(typeof d=="function")return Jj(d)?1:0;if(d!=null){if(d=d.$$typeof,d===U)return 11;if(d===G)return 14}return 2}function Ec(d,m){var j=d.alternate;return j===null?(j=Ys(d.tag,m,d.key,d.mode),j.elementType=d.elementType,j.type=d.type,j.stateNode=d.stateNode,j.alternate=d,d.alternate=j):(j.pendingProps=m,j.type=d.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=d.flags&14680064,j.childLanes=d.childLanes,j.lanes=d.lanes,j.child=d.child,j.memoizedProps=d.memoizedProps,j.memoizedState=d.memoizedState,j.updateQueue=d.updateQueue,m=d.dependencies,j.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},j.sibling=d.sibling,j.index=d.index,j.ref=d.ref,j}function e0(d,m,j,T,M,$){var re=2;if(T=d,typeof d=="function")Jj(d)&&(re=1);else if(typeof d=="string")re=5;else e:switch(d){case O:return Xu(j.children,M,$,m);case I:re=8,M|=8;break;case B:return d=Ys(12,j,m,M|2),d.elementType=B,d.lanes=$,d;case q:return d=Ys(13,j,m,M),d.elementType=q,d.lanes=$,d;case H:return d=Ys(19,j,m,M),d.elementType=H,d.lanes=$,d;case W:return t0(j,M,$,m);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case K:re=10;break e;case V:re=9;break e;case U:re=11;break e;case G:re=14;break e;case se:re=16,T=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return m=Ys(re,j,m,M),m.elementType=d,m.type=T,m.lanes=$,m}function Xu(d,m,j,T){return d=Ys(7,d,T,m),d.lanes=j,d}function t0(d,m,j,T){return d=Ys(22,d,T,m),d.elementType=W,d.lanes=j,d.stateNode={isHidden:!1},d}function Qj(d,m,j){return d=Ys(6,d,null,m),d.lanes=j,d}function eS(d,m,j){return m=Ys(4,d.children!==null?d.children:[],d.key,m),m.lanes=j,m.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},m}function fre(d,m,j,T,M){this.tag=m,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ql(0),this.expirationTimes=Ql(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ql(0),this.identifierPrefix=T,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function tS(d,m,j,T,M,$,re,de,ve){return d=new fre(d,m,j,de,ve),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Ys(3,null,null,m),d.current=$,$.stateNode=d,$.memoizedState={element:T,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},pj($),d}function hre(d,m,j){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:T==null?null:""+T,children:d,containerInfo:m,implementation:j}}function aD(d){if(!d)return yc;d=d._reactInternals;e:{if(to(d)!==d||d.tag!==1)throw Error(r(170));var m=d;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Wi(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(d.tag===1){var j=d.type;if(Wi(j))return MI(d,j,m)}return m}function oD(d,m,j,T,M,$,re,de,ve){return d=tS(j,T,!0,d,M,$,re,de,ve),d.context=aD(null),j=d.current,T=Ai(),M=Nc(j),$=ol(T,M),$.callback=m??null,wc(j,$,M),d.current.lanes=M,ds(d,M,T),Gi(d,T),d}function r0(d,m,j,T){var M=m.current,$=Ai(),re=Nc(M);return j=aD(j),m.context===null?m.context=j:m.pendingContext=j,m=ol($,re),m.payload={element:d},T=T===void 0?null:T,T!==null&&(m.callback=T),d=wc(M,m,re),d!==null&&(Na(d,M,re,$),Rx(d,M,re)),re}function n0(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function lD(d,m){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var j=d.retryLane;d.retryLane=j!==0&&j<m?j:m}}function rS(d,m){lD(d,m),(d=d.alternate)&&lD(d,m)}function pre(){return null}var cD=typeof reportError=="function"?reportError:function(d){console.error(d)};function nS(d){this._internalRoot=d}i0.prototype.render=nS.prototype.render=function(d){var m=this._internalRoot;if(m===null)throw Error(r(409));r0(d,m,null,null)},i0.prototype.unmount=nS.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var m=d.containerInfo;Gu(function(){r0(null,d,null,null)}),m[mr]=null}};function i0(d){this._internalRoot=d}i0.prototype.unstable_scheduleHydration=function(d){if(d){var m=yf();d={blockedOn:null,target:d,priority:m};for(var j=0;j<kn.length&&m!==0&&m<kn[j].priority;j++);kn.splice(j,0,d),j===0&&xf(d)}};function iS(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s0(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function uD(){}function mre(d,m,j,T,M){if(M){if(typeof T=="function"){var $=T;T=function(){var Ie=n0(re);$.call(Ie)}}var re=oD(m,T,d,0,null,!1,!1,"",uD);return d._reactRootContainer=re,d[mr]=re.current,hc(d.nodeType===8?d.parentNode:d),Gu(),re}for(;M=d.lastChild;)d.removeChild(M);if(typeof T=="function"){var de=T;T=function(){var Ie=n0(ve);de.call(Ie)}}var ve=tS(d,0,!1,null,null,!1,!1,"",uD);return d._reactRootContainer=ve,d[mr]=ve.current,hc(d.nodeType===8?d.parentNode:d),Gu(function(){r0(m,ve,j,T)}),ve}function a0(d,m,j,T,M){var $=j._reactRootContainer;if($){var re=$;if(typeof M=="function"){var de=M;M=function(){var ve=n0(re);de.call(ve)}}r0(m,re,d,M)}else re=mre(j,m,d,M,T);return n0(re)}gf=function(d){switch(d.tag){case 3:var m=d.stateNode;if(m.current.memoizedState.isDehydrated){var j=Pt(m.pendingLanes);j!==0&&(ga(m,j|1),Gi(m,Qr()),(rr&6)===0&&(Zf=Qr()+500,xc()))}break;case 13:Gu(function(){var T=al(d,1);if(T!==null){var M=Ai();Na(T,d,1,M)}}),rS(d,1)}},Wo=function(d){if(d.tag===13){var m=al(d,134217728);if(m!==null){var j=Ai();Na(m,d,134217728,j)}rS(d,134217728)}},vf=function(d){if(d.tag===13){var m=Nc(d),j=al(d,m);if(j!==null){var T=Ai();Na(j,d,m,T)}rS(d,m)}},yf=function(){return Xt},Tu=function(d,m){var j=Xt;try{return Xt=d,m()}finally{Xt=j}},Uo=function(d,m,j){switch(m){case"input":if(Ne(d,j),m=j.name,j.type==="radio"&&m!=null){for(j=d;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<j.length;m++){var T=j[m];if(T!==d&&T.form===d.form){var M=Lf(T);if(!M)throw Error(r(90));Y(T),Ne(T,M)}}}break;case"textarea":Xe(d,j);break;case"select":m=j.value,m!=null&&je(d,!!j.multiple,m,!1)}},tr=Zj,br=Gu;var gre={usingClientEntryPoint:!1,Events:[tl,rl,Lf,uf,Nt,Zj]},Ym={findFiberByHostInstance:el,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vre={bundleType:Ym.bundleType,version:Ym.version,rendererPackageName:Ym.rendererPackageName,rendererConfig:Ym.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=Xy(d),d===null?null:d.stateNode},findFiberByHostInstance:Ym.findFiberByHostInstance||pre,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var o0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!o0.isDisabled&&o0.supportsFiber)try{Eu=o0.inject(vre),us=o0}catch{}}return Zi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gre,Zi.createPortal=function(d,m){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iS(m))throw Error(r(200));return hre(d,m,null,j)},Zi.createRoot=function(d,m){if(!iS(d))throw Error(r(299));var j=!1,T="",M=cD;return m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=tS(d,1,!1,null,null,j,!1,T,M),d[mr]=m.current,hc(d.nodeType===8?d.parentNode:d),new nS(m)},Zi.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var m=d._reactInternals;if(m===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=Xy(m),d=d===null?null:d.stateNode,d},Zi.flushSync=function(d){return Gu(d)},Zi.hydrate=function(d,m,j){if(!s0(m))throw Error(r(200));return a0(null,d,m,!0,j)},Zi.hydrateRoot=function(d,m,j){if(!iS(d))throw Error(r(405));var T=j!=null&&j.hydratedSources||null,M=!1,$="",re=cD;if(j!=null&&(j.unstable_strictMode===!0&&(M=!0),j.identifierPrefix!==void 0&&($=j.identifierPrefix),j.onRecoverableError!==void 0&&(re=j.onRecoverableError)),m=oD(m,null,d,1,j??null,M,!1,$,re),d[mr]=m.current,hc(d),T)for(d=0;d<T.length;d++)j=T[d],M=j._getVersion,M=M(j._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[j,M]:m.mutableSourceEagerHydrationData.push(j,M);return new i0(m)},Zi.render=function(d,m,j){if(!s0(m))throw Error(r(200));return a0(null,d,m,!1,j)},Zi.unmountComponentAtNode=function(d){if(!s0(d))throw Error(r(40));return d._reactRootContainer?(Gu(function(){a0(null,null,d,!1,function(){d._reactRootContainer=null,d[mr]=null})}),!0):!1},Zi.unstable_batchedUpdates=Zj,Zi.unstable_renderSubtreeIntoContainer=function(d,m,j,T){if(!s0(j))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return a0(d,m,j,!1,T)},Zi.version="18.3.1-next-f1338f8080-20240426",Zi}var yD;function YU(){if(yD)return oS.exports;yD=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),oS.exports=Nre(),oS.exports}var xD;function Cre(){if(xD)return l0;xD=1;var e=YU();return l0.createRoot=e.createRoot,l0.hydrateRoot=e.hydrateRoot,l0}var Ere=Cre();const Pre=pr(Ere);var Ya=YU();const l_=pr(Ya);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qg(){return Qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qg.apply(this,arguments)}var Zc;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zc||(Zc={}));const bD="popstate";function Tre(e){e===void 0&&(e={});function t(n,i){let{pathname:s,search:o,hash:l}=n.location;return qP("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:yb(i)}return Are(t,r,null,e)}function an(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function XU(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function kre(){return Math.random().toString(36).substr(2,8)}function wD(e,t){return{usr:e.state,key:e.key,idx:t}}function qP(e,t,r,n){return r===void 0&&(r=null),Qg({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Ap(t):t,{state:r,key:t&&t.key||n||kre()})}function yb(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ap(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Are(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Zc.Pop,c=null,u=f();u==null&&(u=0,o.replaceState(Qg({},o.state,{idx:u}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Zc.Pop;let _=f(),S=_==null?null:_-u;u=_,c&&c({action:l,location:y.location,delta:S})}function g(_,S){l=Zc.Push;let N=qP(y.location,_,S);u=f()+1;let C=wD(N,u),A=y.createHref(N);try{o.pushState(C,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(A)}s&&c&&c({action:l,location:y.location,delta:1})}function v(_,S){l=Zc.Replace;let N=qP(y.location,_,S);u=f();let C=wD(N,u),A=y.createHref(N);o.replaceState(C,"",A),s&&c&&c({action:l,location:y.location,delta:0})}function b(_){let S=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:yb(_);return N=N.replace(/ $/,"%20"),an(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let y={get action(){return l},get location(){return e(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(bD,p),c=_,()=>{i.removeEventListener(bD,p),c=null}},createHref(_){return t(i,_)},createURL:b,encodeLocation(_){let S=b(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(_){return o.go(_)}};return y}var _D;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(_D||(_D={}));function Ore(e,t,r){return r===void 0&&(r="/"),Rre(e,t,r)}function Rre(e,t,r,n){let i=typeof t=="string"?Ap(t):t,s=Vh(i.pathname||"/",r);if(s==null)return null;let o=JU(e);Mre(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Wre(s);l=Ure(o[c],u)}return l}function JU(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(an(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Jc([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(an(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),JU(s.children,t,f,u)),!(s.path==null&&!s.index)&&t.push({path:u,score:zre(u,s.index),routesMeta:f})};return e.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of QU(s.path))i(s,o,c)}),t}function QU(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=QU(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>e.startsWith("/")&&c===""?"/":c)}function Mre(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:qre(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Ire=/^:[\w-]+$/,Lre=3,Dre=2,$re=1,Fre=10,Bre=-2,jD=e=>e==="*";function zre(e,t){let r=e.split("/"),n=r.length;return r.some(jD)&&(n+=Bre),t&&(n+=Dre),r.filter(i=>!jD(i)).reduce((i,s)=>i+(Ire.test(s)?Lre:s===""?$re:Fre),n)}function qre(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Ure(e,t,r){let{routesMeta:n}=e,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?t:t.slice(s.length)||"/",p=UP({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!p)return null;Object.assign(i,p.params),o.push({params:i,pathname:Jc([s,p.pathname]),pathnameBase:Zre(Jc([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=Jc([s,p.pathnameBase]))}return o}function UP(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Vre(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,f,p)=>{let{paramName:g,isOptional:v}=f;if(g==="*"){let y=l[p]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const b=l[p];return v&&!b?u[g]=void 0:u[g]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:e}}function Vre(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),XU(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Wre(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return XU(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vh(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Hre(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Ap(e):e;return{pathname:r?r.startsWith("/")?r:Kre(r,t):t,search:Yre(n),hash:Xre(i)}}function Kre(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function uS(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Gre(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function QA(e,t){let r=Gre(e);return t?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function eO(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=Ap(e):(i=Qg({},e),an(!i.pathname||!i.pathname.includes("?"),uS("?","pathname","search",i)),an(!i.pathname||!i.pathname.includes("#"),uS("#","pathname","hash",i)),an(!i.search||!i.search.includes("#"),uS("#","search","hash",i)));let s=e===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let p=t.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}l=p>=0?t[p]:"/"}let c=Hre(i,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const Jc=e=>e.join("/").replace(/\/\/+/g,"/"),Zre=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Yre=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Xre=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Jre(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const eV=["post","put","patch","delete"];new Set(eV);const Qre=["get",...eV];new Set(Qre);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ev(){return ev=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ev.apply(this,arguments)}const c_=x.createContext(null),tV=x.createContext(null),ql=x.createContext(null),u_=x.createContext(null),Fo=x.createContext({outlet:null,matches:[],isDataRoute:!1}),rV=x.createContext(null);function ene(e,t){let{relative:r}=t===void 0?{}:t;Op()||an(!1);let{basename:n,navigator:i}=x.useContext(ql),{hash:s,pathname:o,search:l}=d_(e,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Jc([n,o])),i.createHref({pathname:c,search:l,hash:s})}function Op(){return x.useContext(u_)!=null}function Ci(){return Op()||an(!1),x.useContext(u_).location}function nV(e){x.useContext(ql).static||x.useLayoutEffect(e)}function Bn(){let{isDataRoute:e}=x.useContext(Fo);return e?mne():tne()}function tne(){Op()||an(!1);let e=x.useContext(c_),{basename:t,future:r,navigator:n}=x.useContext(ql),{matches:i}=x.useContext(Fo),{pathname:s}=Ci(),o=JSON.stringify(QA(i,r.v7_relativeSplatPath)),l=x.useRef(!1);return nV(()=>{l.current=!0}),x.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=eO(u,JSON.parse(o),s,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:Jc([t,p.pathname])),(f.replace?n.replace:n.push)(p,f.state,f)},[t,n,o,s,e])}const rne=x.createContext(null);function nne(e){let t=x.useContext(Fo).outlet;return t&&x.createElement(rne.Provider,{value:e},t)}function tO(){let{matches:e}=x.useContext(Fo),t=e[e.length-1];return t?t.params:{}}function d_(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=x.useContext(ql),{matches:i}=x.useContext(Fo),{pathname:s}=Ci(),o=JSON.stringify(QA(i,n.v7_relativeSplatPath));return x.useMemo(()=>eO(e,JSON.parse(o),s,r==="path"),[e,o,s,r])}function ine(e,t){return sne(e,t)}function sne(e,t,r,n){Op()||an(!1);let{navigator:i}=x.useContext(ql),{matches:s}=x.useContext(Fo),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Ci(),f;if(t){var p;let _=typeof t=="string"?Ap(t):t;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||an(!1),f=_}else f=u;let g=f.pathname||"/",v=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=Ore(e,{pathname:v}),y=une(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:Jc([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Jc([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return t&&y?x.createElement(u_.Provider,{value:{location:ev({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Zc.Pop}},y):y}function ane(){let e=pne(),t=Jre(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:i},r):null,null)}const one=x.createElement(ane,null);class lne extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Fo.Provider,{value:this.props.routeContext},x.createElement(rV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cne(e){let{routeContext:t,match:r,children:n}=e,i=x.useContext(c_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Fo.Provider,{value:t},n)}function une(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var s;if(!r)return null;if(r.errors)e=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(i=r)==null?void 0:i.errors;if(l!=null){let f=o.findIndex(p=>p.route.id&&l?.[p.route.id]!==void 0);f>=0||an(!1),o=o.slice(0,Math.min(o.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let p=o[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(u=f),p.route.id){let{loaderData:g,errors:v}=r,b=p.route.loader&&g[p.route.id]===void 0&&(!v||v[p.route.id]===void 0);if(p.route.lazy||b){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((f,p,g)=>{let v,b=!1,y=null,_=null;r&&(v=l&&p.route.id?l[p.route.id]:void 0,y=p.route.errorElement||one,c&&(u<0&&g===0?(gne("route-fallback"),b=!0,_=null):u===g&&(b=!0,_=p.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,g+1)),N=()=>{let C;return v?C=y:b?C=_:p.route.Component?C=x.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,x.createElement(cne,{match:p,routeContext:{outlet:f,matches:S,isDataRoute:r!=null},children:C})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?x.createElement(lne,{location:r.location,revalidation:r.revalidation,component:y,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var iV=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(iV||{}),sV=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(sV||{});function dne(e){let t=x.useContext(c_);return t||an(!1),t}function fne(e){let t=x.useContext(tV);return t||an(!1),t}function hne(e){let t=x.useContext(Fo);return t||an(!1),t}function aV(e){let t=hne(),r=t.matches[t.matches.length-1];return r.route.id||an(!1),r.route.id}function pne(){var e;let t=x.useContext(rV),r=fne(),n=aV();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function mne(){let{router:e}=dne(iV.UseNavigateStable),t=aV(sV.UseNavigateStable),r=x.useRef(!1);return nV(()=>{r.current=!0}),x.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,ev({fromRouteId:t},s)))},[e,t])}const SD={};function gne(e,t,r){SD[e]||(SD[e]=!0)}function vne(e,t){e?.v7_startTransition,e?.v7_relativeSplatPath}function ND(e){let{to:t,replace:r,state:n,relative:i}=e;Op()||an(!1);let{future:s,static:o}=x.useContext(ql),{matches:l}=x.useContext(Fo),{pathname:c}=Ci(),u=Bn(),f=eO(t,QA(l,s.v7_relativeSplatPath),c,i==="path"),p=JSON.stringify(f);return x.useEffect(()=>u(JSON.parse(p),{replace:r,state:n,relative:i}),[u,p,i,r,n]),null}function oV(e){return nne(e.context)}function zt(e){an(!1)}function yne(e){let{basename:t="/",children:r=null,location:n,navigationType:i=Zc.Pop,navigator:s,static:o=!1,future:l}=e;Op()&&an(!1);let c=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:o,future:ev({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Ap(n));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:b="default"}=n,y=x.useMemo(()=>{let _=Vh(f,c);return _==null?null:{location:{pathname:_,search:p,hash:g,state:v,key:b},navigationType:i}},[c,f,p,g,v,b,i]);return y==null?null:x.createElement(ql.Provider,{value:u},x.createElement(u_.Provider,{children:r,value:y}))}function xne(e){let{children:t,location:r}=e;return ine(VP(t),r)}new Promise(()=>{});function VP(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,i)=>{if(!x.isValidElement(n))return;let s=[...t,i];if(n.type===x.Fragment){r.push.apply(r,VP(n.props.children,s));return}n.type!==zt&&an(!1),!n.props.index||!n.props.children||an(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=VP(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xb(){return xb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xb.apply(this,arguments)}function lV(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function bne(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function wne(e,t){return e.button===0&&(!t||t==="_self")&&!bne(e)}function WP(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function _ne(e,t){let r=WP(e);return t&&t.forEach((n,i)=>{r.has(i)||t.getAll(i).forEach(s=>{r.append(i,s)})}),r}const jne=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Sne=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Nne="6";try{window.__reactRouterVersion=Nne}catch{}const Cne=x.createContext({isTransitioning:!1}),Ene="startTransition",CD=au[Ene];function Pne(e){let{basename:t,children:r,future:n,window:i}=e,s=x.useRef();s.current==null&&(s.current=Tre({window:i,v5Compat:!0}));let o=s.current,[l,c]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},f=x.useCallback(p=>{u&&CD?CD(()=>c(p)):c(p)},[c,u]);return x.useLayoutEffect(()=>o.listen(f),[o,f]),x.useEffect(()=>vne(n),[n]),x.createElement(yne,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Tne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kne=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=x.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:p}=t,g=lV(t,jne),{basename:v}=x.useContext(ql),b,y=!1;if(typeof u=="string"&&kne.test(u)&&(b=u,Tne))try{let C=new URL(window.location.href),A=u.startsWith("//")?new URL(C.protocol+u):new URL(u),k=Vh(A.pathname,v);A.origin===C.origin&&k!=null?u=k+A.search+A.hash:y=!0}catch{}let _=ene(u,{relative:i}),S=One(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:i,viewTransition:p});function N(C){n&&n(C),C.defaultPrevented||S(C)}return x.createElement("a",xb({},g,{href:b||_,onClick:y||s?n:N,ref:r,target:c}))}),Ju=x.forwardRef(function(t,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:f}=t,p=lV(t,Sne),g=d_(c,{relative:p.relative}),v=Ci(),b=x.useContext(tV),{navigator:y,basename:_}=x.useContext(ql),S=b!=null&&Rne(g)&&u===!0,N=y.encodeLocation?y.encodeLocation(g).pathname:g.pathname,C=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(C=C.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&_&&(A=Vh(A,_)||A);const k=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=C===N||!o&&C.startsWith(N)&&C.charAt(k)==="/",O=A!=null&&(A===N||!o&&A.startsWith(N)&&A.charAt(N.length)==="/"),I={isActive:P,isPending:O,isTransitioning:S},B=P?n:void 0,K;typeof s=="function"?K=s(I):K=[s,P?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return x.createElement(ar,xb({},p,{"aria-current":B,className:K,ref:r,style:V,to:c,viewTransition:u}),typeof f=="function"?f(I):f)});var HP;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(HP||(HP={}));var ED;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(ED||(ED={}));function Ane(e){let t=x.useContext(c_);return t||an(!1),t}function One(e,t){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=t===void 0?{}:t,c=Bn(),u=Ci(),f=d_(e,{relative:o});return x.useCallback(p=>{if(wne(p,r)){p.preventDefault();let g=n!==void 0?n:yb(u)===yb(f);c(e,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,f,n,i,r,e,s,o,l])}function rO(e){let t=x.useRef(WP(e)),r=x.useRef(!1),n=Ci(),i=x.useMemo(()=>_ne(n.search,r.current?null:t.current),[n.search]),s=Bn(),o=x.useCallback((l,c)=>{const u=WP(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function Rne(e,t){t===void 0&&(t={});let r=x.useContext(Cne);r==null&&an(!1);let{basename:n}=Ane(HP.useViewTransitionState),i=d_(e,{relative:t.relative});if(!r.isTransitioning)return!1;let s=Vh(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Vh(r.nextLocation.pathname,n)||r.nextLocation.pathname;return UP(i.pathname,o)!=null||UP(i.pathname,s)!=null}var Rp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},kd=typeof window>"u"||"Deno"in globalThis;function Oi(){}function Mne(e,t){return typeof e=="function"?e(t):e}function KP(e){return typeof e=="number"&&e>=0&&e!==1/0}function cV(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Qc(e,t){return typeof e=="function"?e(t):e}function ra(e,t){return typeof e=="function"?e(t):e}function PD(e,t){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=e;if(o){if(n){if(t.queryHash!==nO(o,t.options))return!1}else if(!tv(t.queryKey,o))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&t.isStale()!==l||i&&i!==t.state.fetchStatus||s&&!s(t))}function TD(e,t){const{exact:r,status:n,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(Ad(t.options.mutationKey)!==Ad(s))return!1}else if(!tv(t.options.mutationKey,s))return!1}return!(n&&t.state.status!==n||i&&!i(t))}function nO(e,t){return(t?.queryKeyHashFn||Ad)(e)}function Ad(e){return JSON.stringify(e,(t,r)=>GP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function tv(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>tv(e[r],t[r])):!1}function uV(e,t){if(e===t)return e;const r=kD(e)&&kD(t);if(r||GP(e)&&GP(t)){const n=r?e:Object.keys(e),i=n.length,s=r?t:Object.keys(t),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let f=0;f<o;f++){const p=r?f:s[f];(!r&&c.has(p)||r)&&e[p]===void 0&&t[p]===void 0?(l[p]=void 0,u++):(l[p]=uV(e[p],t[p]),l[p]===e[p]&&e[p]!==void 0&&u++)}return i===o&&u===i?e:l}return t}function bb(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function kD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function GP(e){if(!AD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!AD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function AD(e){return Object.prototype.toString.call(e)==="[object Object]"}function Ine(e){return new Promise(t=>{setTimeout(t,e)})}function ZP(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?uV(e,t):t}function Lne(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Dne(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var iO=Symbol();function dV(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:!e.queryFn||e.queryFn===iO?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function fV(e,t){return typeof e=="function"?e(...t):!!e}var $ne=class extends Rp{#t;#e;#r;constructor(){super(),this.#r=e=>{if(!kd&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(t=>{typeof t=="boolean"?this.setFocused(t):this.onFocus()})}setFocused(e){this.#t!==e&&(this.#t=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},sO=new $ne,Fne=class extends Rp{#t=!0;#e;#r;constructor(){super(),this.#r=e=>{if(!kd&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(e){this.#r=e,this.#e?.(),this.#e=e(this.setOnline.bind(this))}setOnline(e){this.#t!==e&&(this.#t=e,this.listeners.forEach(r=>{r(e)}))}isOnline(){return this.#t}},wb=new Fne;function YP(){let e,t;const r=new Promise((i,s)=>{e=i,t=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),e(i)},r.reject=i=>{n({status:"rejected",reason:i}),t(i)},r}function Bne(e){return Math.min(1e3*2**e,3e4)}function hV(e){return(e??"online")==="online"?wb.isOnline():!0}var pV=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function mV(e){let t=!1,r=0,n;const i=YP(),s=()=>i.status!=="pending",o=y=>{s()||(g(new pV(y)),e.abort?.())},l=()=>{t=!0},c=()=>{t=!1},u=()=>sO.isFocused()&&(e.networkMode==="always"||wb.isOnline())&&e.canRun(),f=()=>hV(e.networkMode)&&e.canRun(),p=y=>{s()||(n?.(),i.resolve(y))},g=y=>{s()||(n?.(),i.reject(y))},v=()=>new Promise(y=>{n=_=>{(s()||u())&&y(_)},e.onPause?.()}).then(()=>{n=void 0,s()||e.onContinue?.()}),b=()=>{if(s())return;let y;const _=r===0?e.initialPromise:void 0;try{y=_??e.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(p).catch(S=>{if(s())return;const N=e.retry??(kd?0:3),C=e.retryDelay??Bne,A=typeof C=="function"?C(r,S):C,k=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,S);if(t||!k){g(S);return}r++,e.onFail?.(r,S),Ine(A).then(()=>u()?void 0:v()).then(()=>{t?g(S):b()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:l,continueRetry:c,canStart:f,start:()=>(f()?b():v().then(b),i)}}var zne=e=>setTimeout(e,0);function qne(){let e=[],t=0,r=l=>{l()},n=l=>{l()},i=zne;const s=l=>{t?e.push(l):i(()=>{r(l)})},o=()=>{const l=e;e=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;t++;try{c=l()}finally{t--,t||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Dn=qne(),gV=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),KP(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(kd?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Une=class extends gV{#t;#e;#r;#n;#i;#a;#o;constructor(e){super(),this.#o=!1,this.#a=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#n=e.client,this.#r=this.#n.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#t=Vne(this.options),this.state=e.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(e){this.options={...this.#a,...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(e,t){const r=ZP(this.state.data,e,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),r}setState(e,t){this.#s({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#i?.promise;return this.#i?.cancel(e),t?t.then(Oi).catch(Oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(e=>ra(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===iO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Qc(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!cV(this.state.dataUpdatedAt,e)}onFocus(){this.observers.find(t=>t.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(t=>t.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(e,t){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(e&&this.setOptions(e),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const l=dV(this.options,t),u=(()=>{const f={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(f),f})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=mV({initialPromise:t?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof pV){if(l.silent)return this.#i.promise;if(l.revert)return this.setState({...this.#e,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(e){const t=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...vV(r.data,this.options),fetchMeta:e.meta??null};case"success":const n={...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=e.manual?n:void 0,n;case"error":const i=e.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=t(this.state),Dn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:e})})}};function vV(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:hV(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Vne(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Wne=class extends Rp{constructor(e={}){super(),this.config=e,this.#t=new Map}#t;build(e,t,r){const n=t.queryKey,i=t.queryHash??nO(n,t);let s=this.get(i);return s||(s=new Une({client:e,queryKey:n,queryHash:i,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(s)),s}add(e){this.#t.has(e.queryHash)||(this.#t.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#t.get(e.queryHash);t&&(e.destroy(),t===e&&this.#t.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Dn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#t.get(e)}getAll(){return[...this.#t.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(r=>PD(t,r))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(r=>PD(e,r)):t}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Dn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Hne=class extends gV{#t;#e;#r;constructor(e){super(),this.mutationId=e.mutationId,this.#e=e.mutationCache,this.#t=[],this.state=e.state||yV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#t.includes(e)||(this.#t.push(e),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#t=this.#t.filter(t=>t!==e),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#n({type:"continue"})};this.#r=mV({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)t();else{this.#n({type:"pending",variables:e,isPaused:n}),await this.#e.config.onMutate?.(e,this);const s=await this.options.onMutate?.(e);s!==this.state.context&&this.#n({type:"pending",context:s,variables:e,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,e,this.state.context,this),await this.options.onSuccess?.(i,e,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,e,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,e,this.state.context,this),await this.options.onError?.(i,e,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,e,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(e){const t=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Dn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(e)}),this.#e.notify({mutation:this,type:"updated",action:e})})}};function yV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Kne=class extends Rp{constructor(e={}){super(),this.config=e,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(e,t,r){const n=new Hne({mutationCache:this,mutationId:++this.#r,options:e.defaultMutationOptions(t),state:r});return this.add(n),n}add(e){this.#t.add(e);const t=c0(e);if(typeof t=="string"){const r=this.#e.get(t);r?r.push(e):this.#e.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#t.delete(e)){const t=c0(e);if(typeof t=="string"){const r=this.#e.get(t);if(r)if(r.length>1){const n=r.indexOf(e);n!==-1&&r.splice(n,1)}else r[0]===e&&this.#e.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=c0(e);if(typeof t=="string"){const n=this.#e.get(t)?.find(i=>i.state.status==="pending");return!n||n===e}else return!0}runNext(e){const t=c0(e);return typeof t=="string"?this.#e.get(t)?.find(n=>n!==e&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Dn.batch(()=>{this.#t.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(e){const t={exact:!0,...e};return this.getAll().find(r=>TD(t,r))}findAll(e={}){return this.getAll().filter(t=>TD(e,t))}notify(e){Dn.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Dn.batch(()=>Promise.all(e.map(t=>t.continue().catch(Oi))))}};function c0(e){return e.options.scope?.id}function _b(e){return{onFetch:(t,r)=>{const n=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,s=t.state.data?.pages||[],o=t.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let f=!1;const p=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?f=!0:t.signal.addEventListener("abort",()=>{f=!0}),t.signal)})},g=dV(t.options,t.fetchOptions),v=async(b,y,_)=>{if(f)return Promise.reject();if(y==null&&b.pages.length)return Promise.resolve(b);const N=(()=>{const P={client:t.client,queryKey:t.queryKey,pageParam:y,direction:_?"backward":"forward",meta:t.options.meta};return p(P),P})(),C=await g(N),{maxPages:A}=t.options,k=_?Dne:Lne;return{pages:k(b.pages,C,A),pageParams:k(b.pageParams,y,A)}};if(i&&s.length){const b=i==="backward",y=b?xV:XP,_={pages:s,pageParams:o},S=y(n,_);l=await v(_,S,b)}else{const b=e??s.length;do{const y=c===0?o[0]??n.initialPageParam:XP(n,l);if(c>0&&y==null)break;l=await v(l,y),c++}while(c<b)}return l};t.options.persister?t.fetchFn=()=>t.options.persister?.(u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r):t.fetchFn=u}}}function XP(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function xV(e,{pages:t,pageParams:r}){return t.length>0?e.getPreviousPageParam?.(t[0],t,r[0],r):void 0}function Gne(e,t){return t?XP(e,t)!=null:!1}function Zne(e,t){return!t||!e.getPreviousPageParam?!1:xV(e,t)!=null}var bV=class{#t;#e;#r;#n;#i;#a;#o;#s;constructor(e={}){this.#t=e.queryCache||new Wne,this.#e=e.mutationCache||new Kne,this.#r=e.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=sO.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=wb.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(e){return this.#t.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#e.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=this.#t.build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(Qc(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return this.#t.findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),s=this.#t.get(n.queryHash)?.state.data,o=Mne(t,s);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(e,t,r){return Dn.batch(()=>this.#t.findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#t.get(t.queryHash)?.state}removeQueries(e){const t=this.#t;Dn.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=this.#t;return Dn.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Dn.batch(()=>this.#t.findAll(e).map(i=>i.cancel(r)));return Promise.all(n).then(Oi).catch(Oi)}invalidateQueries(e,t={}){return Dn.batch(()=>(this.#t.findAll(e).forEach(r=>{r.invalidate()}),e?.refetchType==="none"?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Dn.batch(()=>this.#t.findAll(e).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Oi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Oi)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=this.#t.build(this,t);return r.isStaleByTime(Qc(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Oi).catch(Oi)}fetchInfiniteQuery(e){return e.behavior=_b(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Oi).catch(Oi)}ensureInfiniteQueryData(e){return e.behavior=_b(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return wb.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(e){this.#r=e}setQueryDefaults(e,t){this.#n.set(Ad(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#n.values()],r={};return t.forEach(n=>{tv(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){this.#i.set(Ad(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#i.values()],r={};return t.forEach(n=>{tv(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#r.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=nO(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===iO&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#r.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},wV=class extends Rp{constructor(e,t){super(),this.options=t,this.#t=e,this.#s=null,this.#o=YP(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),OD(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return JP(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return JP(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(e){const t=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ra(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),t._defaulted&&!bb(this.options,t)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&RD(this.#e,r,this.options,t)&&this.#d(),this.updateResult(),n&&(this.#e!==r||ra(this.options.enabled,this.#e)!==ra(t.enabled,this.#e)||Qc(this.options.staleTime,this.#e)!==Qc(t.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||ra(this.options.enabled,this.#e)!==ra(t.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(e){const t=this.#t.getQueryCache().build(this.#t,e),r=this.createResult(t,e);return Xne(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(e,t){return new Proxy(e,{get:(r,n)=>(this.trackProp(n),t?.(n),Reflect.get(r,n))})}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#e}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=this.#t.defaultQueryOptions(e),r=this.#t.getQueryCache().build(this.#t,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#d({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(e){this.#_();let t=this.#e.fetch(this.options,e);return e?.throwOnError||(t=t.catch(Oi)),t}#g(){this.#b();const e=Qc(this.options.staleTime,this.#e);if(kd||this.#n.isStale||!KP(e))return;const r=cV(this.#n.dataUpdatedAt,e)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(e){this.#w(),this.#l=e,!(kd||ra(this.options.enabled,this.#e)===!1||!KP(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||sO.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(e,t){const r=this.#e,n=this.options,i=this.#n,s=this.#i,o=this.#a,c=e!==r?e.state:this.#r,{state:u}=e;let f={...u},p=!1,g;if(t._optimisticResults){const I=this.hasListeners(),B=!I&&OD(e,t),K=I&&RD(e,r,t,n);(B||K)&&(f={...f,...vV(u.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:y}=f;g=f.data;let _=!1;if(t.placeholderData!==void 0&&g===void 0&&y==="pending"){let I;i?.isPlaceholderData&&t.placeholderData===o?.placeholderData?(I=i.data,_=!0):I=typeof t.placeholderData=="function"?t.placeholderData(this.#h?.state.data,this.#h):t.placeholderData,I!==void 0&&(y="success",g=ZP(i?.data,I,t),p=!0)}if(t.select&&g!==void 0&&!_)if(i&&g===s?.data&&t.select===this.#m)g=this.#f;else try{this.#m=t.select,g=t.select(g),g=ZP(i?.data,g,t),this.#f=g,this.#s=null}catch(I){this.#s=I}this.#s&&(v=this.#s,g=this.#f,b=Date.now(),y="error");const S=f.fetchStatus==="fetching",N=y==="pending",C=y==="error",A=N&&S,k=g!==void 0,O={status:y,fetchStatus:f.fetchStatus,isPending:N,isSuccess:y==="success",isError:C,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!N,isLoadingError:C&&!k,isPaused:f.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:C&&k,isStale:aO(e,t),refetch:this.refetch,promise:this.#o,isEnabled:ra(t.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const I=V=>{O.status==="error"?V.reject(O.error):O.data!==void 0&&V.resolve(O.data)},B=()=>{const V=this.#o=O.promise=YP();I(V)},K=this.#o;switch(K.status){case"pending":e.queryHash===r.queryHash&&I(K);break;case"fulfilled":(O.status==="error"||O.data!==K.value)&&B();break;case"rejected":(O.status!=="error"||O.error!==K.reason)&&B();break}}return O}updateResult(){const e=this.#n,t=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),bb(t,e))return;this.#n=t;const r=()=>{if(!e)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==e[l]&&s.has(l)})};this.#j({listeners:r()})}#_(){const e=this.#t.getQueryCache().build(this.#t,this.options);if(e===this.#e)return;const t=this.#e;this.#e=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(e){Dn.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Yne(e,t){return ra(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function OD(e,t){return Yne(e,t)||e.state.data!==void 0&&JP(e,t,t.refetchOnMount)}function JP(e,t,r){if(ra(t.enabled,e)!==!1&&Qc(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&aO(e,t)}return!1}function RD(e,t,r,n){return(e!==t||ra(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&aO(e,r)}function aO(e,t){return ra(t.enabled,e)!==!1&&e.isStaleByTime(Qc(t.staleTime,e))}function Xne(e,t){return!bb(e.getCurrentResult(),t)}var Jne=class extends wV{constructor(e,t){super(e,t)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(e){super.setOptions({...e,behavior:_b()})}getOptimisticResult(e){return e.behavior=_b(),super.getOptimisticResult(e)}fetchNextPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(e){return this.fetch({...e,meta:{fetchMore:{direction:"backward"}}})}createResult(e,t){const{state:r}=e,n=super.createResult(e,t),{isFetching:i,isRefetching:s,isError:o,isRefetchError:l}=n,c=r.fetchMeta?.fetchMore?.direction,u=o&&c==="forward",f=i&&c==="forward",p=o&&c==="backward",g=i&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Gne(t,r.data),hasPreviousPage:Zne(t,r.data),isFetchNextPageError:u,isFetchingNextPage:f,isFetchPreviousPageError:p,isFetchingPreviousPage:g,isRefetchError:l&&!u&&!p,isRefetching:s&&!f&&!g}}},Qne=class extends Rp{#t;#e=void 0;#r;#n;constructor(t,r){super(),this.#t=t,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){const r=this.options;this.options=this.#t.defaultMutationOptions(t),bb(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Ad(r.mutationKey)!==Ad(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(t){this.#i(),this.#a(t)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(t,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(t)}#i(){const t=this.#r?.state??yV();this.#e={...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset}}#a(t){Dn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;t?.type==="success"?(this.#n.onSuccess?.(t.data,r,n),this.#n.onSettled?.(t.data,null,r,n)):t?.type==="error"&&(this.#n.onError?.(t.error,r,n),this.#n.onSettled?.(void 0,t.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},_V=x.createContext(void 0),Bo=e=>{const t=x.useContext(_V);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},jV=({client:e,children:t})=>(x.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),a.jsx(_V.Provider,{value:e,children:t})),SV=x.createContext(!1),eie=()=>x.useContext(SV);SV.Provider;function tie(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var rie=x.createContext(tie()),NV=()=>x.useContext(rie),nie=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},iie=e=>{x.useEffect(()=>{e.clearReset()},[e])},sie=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:i})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(i&&e.data===void 0||fV(r,[e.error,n])),aie=e=>{if(e.suspense){const t=n=>n==="static"?n:Math.max(n??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...n)=>t(r(...n)):t(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},oie=(e,t)=>e.isLoading&&e.isFetching&&!t,lie=(e,t)=>e?.suspense&&t.isPending,MD=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function CV(e,t,r){const n=eie(),i=NV(),s=Bo(),o=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",aie(o),nie(o,i),iie(i);const l=!s.getQueryCache().get(o.queryHash),[c]=x.useState(()=>new t(s,o)),u=c.getOptimisticResult(o),f=!n&&e.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(p=>{const g=f?c.subscribe(Dn.batchCalls(p)):Oi;return c.updateResult(),g},[c,f]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),x.useEffect(()=>{c.setOptions(o)},[o,c]),lie(o,u))throw MD(o,c,i);if(sie({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!kd&&oie(u,n)&&(l?MD(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Oi).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Zn(e,t){return CV(e,wV)}function oi(e,t){const r=Bo(),[n]=x.useState(()=>new Qne(r,e));x.useEffect(()=>{n.setOptions(e)},[n,e]);const i=x.useSyncExternalStore(x.useCallback(o=>n.subscribe(Dn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=x.useCallback((o,l)=>{n.mutate(o,l).catch(Oi)},[n]);if(i.error&&fV(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function cie(e,t){return CV(e,Jne)}const uie="modulepreload",die=function(e){return"/"+e},ID={},ay=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(r.map(f=>{if(f=die(f),f in ID)return;ID[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":uie,p||(v.as="script"),v.crossOrigin="",v.href=f,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((b,y)=>{v.addEventListener("load",b),v.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${f}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return t().catch(s)})};function EV(){return x.useEffect(()=>{if(typeof document<"u"){let e=document.getElementById("toaster-container");e||(e=document.createElement("div"),e.id="toaster-container",e.className="fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none",document.body.appendChild(e))}},[]),a.jsx("div",{id:"toaster-container",className:"fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none"})}const oO=x.createContext({});function lO(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const f_=x.createContext(null),cO=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class fie extends x.Component{getSnapshotBeforeUpdate(t){const r=this.props.childRef.current;if(r&&t.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function hie({children:e,isPresent:t}){const r=x.useId(),n=x.useRef(null),i=x.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=x.useContext(cO);return x.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(t||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const f=document.createElement("style");return s&&(f.nonce=s),document.head.appendChild(f),f.sheet&&f.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(f)}},[t]),a.jsx(fie,{isPresent:t,childRef:n,sizeRef:i,children:x.cloneElement(e,{ref:n})})}const pie=({children:e,initial:t,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=lO(mie),c=x.useId(),u=x.useCallback(p=>{l.set(p,!0);for(const g of l.values())if(!g)return;n&&n()},[l,n]),f=x.useMemo(()=>({id:c,initial:t,isPresent:r,custom:i,onExitComplete:u,register:p=>(l.set(p,!1),()=>l.delete(p))}),s?[Math.random(),u]:[r,u]);return x.useMemo(()=>{l.forEach((p,g)=>l.set(g,!1))},[r]),x.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(e=a.jsx(hie,{isPresent:r,children:e})),a.jsx(f_.Provider,{value:f,children:e})};function mie(){return new Map}function PV(e=!0){const t=x.useContext(f_);if(t===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=t,s=x.useId();x.useEffect(()=>{e&&i(s)},[e]);const o=x.useCallback(()=>e&&n&&n(s),[s,n,e]);return!r&&n?[!1,o]:[!0]}const u0=e=>e.key||"";function LD(e){const t=[];return x.Children.forEach(e,r=>{x.isValidElement(r)&&t.push(r)}),t}const uO=typeof window<"u",TV=uO?x.useLayoutEffect:x.useEffect,li=({children:e,custom:t,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[l,c]=PV(o),u=x.useMemo(()=>LD(e),[e]),f=o&&!l?[]:u.map(u0),p=x.useRef(!0),g=x.useRef(u),v=lO(()=>new Map),[b,y]=x.useState(u),[_,S]=x.useState(u);TV(()=>{p.current=!1,g.current=u;for(let A=0;A<_.length;A++){const k=u0(_[A]);f.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[_,f.length,f.join("-")]);const N=[];if(u!==b){let A=[...u];for(let k=0;k<_.length;k++){const P=_[k],O=u0(P);f.includes(O)||(A.splice(k,0,P),N.push(P))}s==="wait"&&N.length&&(A=N),S(LD(A)),y(u);return}const{forceRender:C}=x.useContext(oO);return a.jsx(a.Fragment,{children:_.map(A=>{const k=u0(A),P=o&&!l?!1:u===_||f.includes(k),O=()=>{if(v.has(k))v.set(k,!0);else return;let I=!0;v.forEach(B=>{B||(I=!1)}),I&&(C?.(),S(g.current),o&&c?.(),n&&n())};return a.jsx(pie,{isPresent:P,initial:!p.current||r?void 0:!1,custom:P?void 0:t,presenceAffectsLayout:i,mode:s,onExitComplete:P?void 0:O,children:A},k)})})},ks=e=>e;let kV=ks;function dO(e){let t;return()=>(t===void 0&&(t=e()),t)}const Wh=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},wl=e=>e*1e3,_l=e=>e/1e3,gie={useManualTiming:!1};function vie(e){let t=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),e()),u(o)}const c={schedule:(u,f=!1,p=!1)=>{const v=p&&n?t:r;return f&&s.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[t,r]=[r,t],t.forEach(l),t.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const d0=["read","resolveKeyframes","update","preRender","render","postRender"],yie=40;function AV(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=d0.reduce((S,N)=>(S[N]=vie(s),S),{}),{read:l,resolveKeyframes:c,update:u,preRender:f,render:p,postRender:g}=o,v=()=>{const S=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,yie),1),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),f.process(i),p.process(i),g.process(i),i.isProcessing=!1,r&&t&&(n=!1,e(v))},b=()=>{r=!0,n=!0,i.isProcessing||e(v)};return{schedule:d0.reduce((S,N)=>{const C=o[N];return S[N]=(A,k=!1,P=!1)=>(r||b(),C.schedule(A,k,P)),S},{}),cancel:S=>{for(let N=0;N<d0.length;N++)o[d0[N]].cancel(S)},state:i,steps:o}}const{schedule:Gr,cancel:ou,state:ii,steps:dS}=AV(typeof requestAnimationFrame<"u"?requestAnimationFrame:ks,!0),OV=x.createContext({strict:!1}),DD={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Hh={};for(const e in DD)Hh[e]={isEnabled:t=>DD[e].some(r=>!!t[r])};function xie(e){for(const t in e)Hh[t]={...Hh[t],...e[t]}}const bie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jb(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||bie.has(e)}let RV=e=>!jb(e);function wie(e){e&&(RV=t=>t.startsWith("on")?!jb(t):e(t))}try{wie(require("@emotion/is-prop-valid").default)}catch{}function _ie(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(RV(i)||r===!0&&jb(i)||!t&&!jb(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function jie(e){if(typeof Proxy>"u")return e;const t=new Map,r=(...n)=>e(...n);return new Proxy(r,{get:(n,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}const h_=x.createContext({});function rv(e){return typeof e=="string"||Array.isArray(e)}function p_(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const fO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],hO=["initial",...fO];function m_(e){return p_(e.animate)||hO.some(t=>rv(e[t]))}function MV(e){return!!(m_(e)||e.variants)}function Sie(e,t){if(m_(e)){const{initial:r,animate:n}=e;return{initial:r===!1||rv(r)?r:void 0,animate:rv(n)?n:void 0}}return e.inherit!==!1?t:{}}function Nie(e){const{initial:t,animate:r}=Sie(e,x.useContext(h_));return x.useMemo(()=>({initial:t,animate:r}),[$D(t),$D(r)])}function $D(e){return Array.isArray(e)?e.join(" "):e}const Cie=Symbol.for("motionComponentSymbol");function Ch(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Eie(e,t,r){return x.useCallback(n=>{n&&e.onMount&&e.onMount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Ch(r)&&(r.current=n))},[t])}const pO=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Pie="framerAppearId",IV="data-"+pO(Pie),{schedule:mO}=AV(queueMicrotask,!1),LV=x.createContext({});function Tie(e,t,r,n,i){var s,o;const{visualElement:l}=x.useContext(h_),c=x.useContext(OV),u=x.useContext(f_),f=x.useContext(cO).reducedMotion,p=x.useRef(null);n=n||c.renderer,!p.current&&n&&(p.current=n(e,{visualState:t,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:f}));const g=p.current,v=x.useContext(LV);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&kie(p.current,r,i,v);const b=x.useRef(!1);x.useInsertionEffect(()=>{g&&b.current&&g.update(r,u)});const y=r[IV],_=x.useRef(!!y&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,y))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,y)));return TV(()=>{g&&(b.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),mO.render(g.render),_.current&&g.animationState&&g.animationState.animateChanges())}),x.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,y)}),_.current=!1))}),g}function kie(e,t,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=t;e.projection=new r(e.latestValues,t["data-framer-portal-id"]?void 0:DV(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Ch(l),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function DV(e){if(e)return e.options.allowProjection!==!1?e.projection:DV(e.parent)}function Aie({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){var s,o;e&&xie(e);function l(u,f){let p;const g={...x.useContext(cO),...u,layoutId:Oie(u)},{isStatic:v}=g,b=Nie(u),y=n(u,v);if(!v&&uO){Rie();const _=Mie(g);p=_.MeasureLayout,b.visualElement=Tie(i,y,g,t,_.ProjectionNode)}return a.jsxs(h_.Provider,{value:b,children:[p&&b.visualElement?a.jsx(p,{visualElement:b.visualElement,...g}):null,r(i,u,Eie(y,b.visualElement,f),y,v,b.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=x.forwardRef(l);return c[Cie]=i,c}function Oie({layoutId:e}){const t=x.useContext(oO).id;return t&&e!==void 0?t+"-"+e:e}function Rie(e,t){x.useContext(OV).strict}function Mie(e){const{drag:t,layout:r}=Hh;if(!t&&!r)return{};const n={...t,...r};return{MeasureLayout:t?.isEnabled(e)||r?.isEnabled(e)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const Iie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function gO(e){return typeof e!="string"||e.includes("-")?!1:!!(Iie.indexOf(e)>-1||/[A-Z]/u.test(e))}function FD(e){const t=[{},{}];return e?.values.forEach((r,n)=>{t[0][n]=r.get(),t[1][n]=r.getVelocity()}),t}function vO(e,t,r,n){if(typeof t=="function"){const[i,s]=FD(n);t=t(r!==void 0?r:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=FD(n);t=t(r!==void 0?r:e.custom,i,s)}return t}const QP=e=>Array.isArray(e),Lie=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Die=e=>QP(e)?e[e.length-1]||0:e,Si=e=>!!(e&&e.getVelocity);function nb(e){const t=Si(e)?e.get():e;return Lie(t)?t.toValue():t}function $ie({scrapeMotionValuesFromProps:e,createRenderState:t,onUpdate:r},n,i,s){const o={latestValues:Fie(n,i,s,e),renderState:t()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const $V=e=>(t,r)=>{const n=x.useContext(h_),i=x.useContext(f_),s=()=>$ie(e,t,n,i);return r?s():lO(s)};function Fie(e,t,r,n){const i={},s=n(e,{});for(const g in s)i[g]=nb(s[g]);let{initial:o,animate:l}=e;const c=m_(e),u=MV(e);t&&u&&!c&&e.inherit!==!1&&(o===void 0&&(o=t.initial),l===void 0&&(l=t.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const p=f?l:o;if(p&&typeof p!="boolean"&&!p_(p)){const g=Array.isArray(p)?p:[p];for(let v=0;v<g.length;v++){const b=vO(e,g[v]);if(b){const{transitionEnd:y,transition:_,...S}=b;for(const N in S){let C=S[N];if(Array.isArray(C)){const A=f?C.length-1:0;C=C[A]}C!==null&&(i[N]=C)}for(const N in y)i[N]=y[N]}}}return i}const Mp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Vd=new Set(Mp),FV=e=>t=>typeof t=="string"&&t.startsWith(e),BV=FV("--"),Bie=FV("var(--"),yO=e=>Bie(e)?zie.test(e.split("/*")[0].trim()):!1,zie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,zV=(e,t)=>t&&typeof e=="number"?t.transform(e):e,Rl=(e,t,r)=>r>t?t:r<e?e:r,Ip={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},nv={...Ip,transform:e=>Rl(0,1,e)},f0={...Ip,default:1},oy=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Lc=oy("deg"),jo=oy("%"),St=oy("px"),qie=oy("vh"),Uie=oy("vw"),BD={...jo,parse:e=>jo.parse(e)/100,transform:e=>jo.transform(e*100)},Vie={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St},Wie={rotate:Lc,rotateX:Lc,rotateY:Lc,rotateZ:Lc,scale:f0,scaleX:f0,scaleY:f0,scaleZ:f0,skew:Lc,skewX:Lc,skewY:Lc,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:nv,originX:BD,originY:BD,originZ:St},zD={...Ip,transform:Math.round},xO={...Vie,...Wie,zIndex:zD,size:St,fillOpacity:nv,strokeOpacity:nv,numOctaves:zD},Hie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Kie=Mp.length;function Gie(e,t,r){let n="",i=!0;for(let s=0;s<Kie;s++){const o=Mp[s],l=e[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=zV(l,xO[o]);if(!c){i=!1;const f=Hie[o]||o;n+=`${f}(${u}) `}r&&(t[o]=u)}}return n=n.trim(),r?n=r(t,i?"":n):i&&(n="none"),n}function bO(e,t,r){const{style:n,vars:i,transformOrigin:s}=e;let o=!1,l=!1;for(const c in t){const u=t[c];if(Vd.has(c)){o=!0;continue}else if(BV(c)){i[c]=u;continue}else{const f=zV(u,xO[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(t.transform||(o||r?n.transform=Gie(t,e.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const Zie={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yie={offset:"strokeDashoffset",array:"strokeDasharray"};function Xie(e,t,r=1,n=0,i=!0){e.pathLength=1;const s=i?Zie:Yie;e[s.offset]=St.transform(-n);const o=St.transform(t),l=St.transform(r);e[s.array]=`${o} ${l}`}function qD(e,t,r){return typeof e=="string"?e:St.transform(t+r*e)}function Jie(e,t,r){const n=qD(t,e.x,e.width),i=qD(r,e.y,e.height);return`${n} ${i}`}function wO(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},f,p){if(bO(e,u,p),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:v,dimensions:b}=e;g.transform&&(b&&(v.transform=g.transform),delete g.transform),b&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Jie(b,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(g.x=t),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&Xie(g,o,l,c,!1)}const _O=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),qV=()=>({..._O(),attrs:{}}),jO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function UV(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const s in r)e.style.setProperty(s,r[s])}const VV=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WV(e,t,r,n){UV(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(VV.has(i)?i:pO(i),t.attrs[i])}const Sb={};function Qie(e){Object.assign(Sb,e)}function HV(e,{layout:t,layoutId:r}){return Vd.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!Sb[e]||e==="opacity")}function SO(e,t,r){var n;const{style:i}=e,s={};for(const o in i)(Si(i[o])||t.style&&Si(t.style[o])||HV(o,e)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function KV(e,t,r){const n=SO(e,t,r);for(const i in e)if(Si(e[i])||Si(t[i])){const s=Mp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=e[i]}return n}function ese(e,t){try{t.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const UD=["x","y","width","height","cx","cy","r"],tse={useVisualState:$V({scrapeMotionValuesFromProps:KV,createRenderState:qV,onUpdate:({props:e,prevProps:t,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!e.drag;if(!s){for(const l in i)if(Vd.has(l)){s=!0;break}}if(!s)return;let o=!t;if(t)for(let l=0;l<UD.length;l++){const c=UD[l];e[c]!==t[c]&&(o=!0)}o&&Gr.read(()=>{ese(r,n),Gr.render(()=>{wO(n,i,jO(r.tagName),e.transformTemplate),WV(r,n)})})}})},rse={useVisualState:$V({scrapeMotionValuesFromProps:SO,createRenderState:_O})};function GV(e,t,r){for(const n in t)!Si(t[n])&&!HV(n,r)&&(e[n]=t[n])}function nse({transformTemplate:e},t){return x.useMemo(()=>{const r=_O();return bO(r,t,e),Object.assign({},r.vars,r.style)},[t])}function ise(e,t){const r=e.style||{},n={};return GV(n,r,e),Object.assign(n,nse(e,t)),n}function sse(e,t){const r={},n=ise(e,t);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=n,r}function ase(e,t,r,n){const i=x.useMemo(()=>{const s=qV();return wO(s,t,jO(n),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};GV(s,e.style,e),i.style={...s,...i.style}}return i}function ose(e=!1){return(r,n,i,{latestValues:s},o)=>{const c=(gO(r)?ase:sse)(n,s,o,r),u=_ie(n,typeof r=="string",e),f=r!==x.Fragment?{...u,...c,ref:i}:{},{children:p}=n,g=x.useMemo(()=>Si(p)?p.get():p,[p]);return x.createElement(r,{...f,children:g})}}function lse(e,t){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...gO(n)?tse:rse,preloadedFeatures:e,useRender:ose(i),createVisualElement:t,Component:n};return Aie(o)}}function ZV(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function g_(e,t,r){const n=e.getProps();return vO(n,t,r!==void 0?r:n.custom,e)}const cse=dO(()=>window.ScrollTimeline!==void 0);class use{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,r){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=r}attachTimeline(t,r){const n=this.animations.map(i=>{if(cse()&&i.attachTimeline)return i.attachTimeline(t);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let r=0;r<this.animations.length;r++)t=Math.max(t,this.animations[r].duration);return t}runAll(t){this.animations.forEach(r=>r[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class dse extends use{then(t,r){return Promise.all(this.animations).then(t).catch(r)}}function NO(e,t){return e?e[t]||e.default||e:void 0}const eT=2e4;function YV(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<eT;)t+=r,n=e.next(t);return t>=eT?1/0:t}function CO(e){return typeof e=="function"}function VD(e,t){e.timeline=t,e.onfinish=null}const EO=e=>Array.isArray(e)&&typeof e[0]=="number",fse={linearEasing:void 0};function hse(e,t){const r=dO(e);return()=>{var n;return(n=fse[t])!==null&&n!==void 0?n:r()}}const Nb=hse(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),XV=(e,t,r=10)=>{let n="";const i=Math.max(Math.round(t/r),2);for(let s=0;s<i;s++)n+=e(Wh(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function JV(e){return!!(typeof e=="function"&&Nb()||!e||typeof e=="string"&&(e in tT||Nb())||EO(e)||Array.isArray(e)&&e.every(JV))}const _g=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,tT={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:_g([0,.65,.55,1]),circOut:_g([.55,0,1,.45]),backIn:_g([.31,.01,.66,-.59]),backOut:_g([.33,1.53,.69,.99])};function QV(e,t){if(e)return typeof e=="function"&&Nb()?XV(e,t):EO(e)?_g(e):Array.isArray(e)?e.map(r=>QV(r,t)||tT.easeOut):tT[e]}const Ta={x:!1,y:!1};function e9(){return Ta.x||Ta.y}function pse(e,t,r){var n;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}function t9(e,t){const r=pse(e),n=new AbortController,i={passive:!0,...t,signal:n.signal};return[r,i,()=>n.abort()]}function WD(e){return t=>{t.pointerType==="touch"||e9()||e(t)}}function mse(e,t,r={}){const[n,i,s]=t9(e,r),o=WD(l=>{const{target:c}=l,u=t(l);if(typeof u!="function"||!c)return;const f=WD(p=>{u(p),c.removeEventListener("pointerleave",f)});c.addEventListener("pointerleave",f,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const r9=(e,t)=>t?e===t?!0:r9(e,t.parentElement):!1,PO=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,gse=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function vse(e){return gse.has(e.tagName)||e.tabIndex!==-1}const jg=new WeakSet;function HD(e){return t=>{t.key==="Enter"&&e(t)}}function fS(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const yse=(e,t)=>{const r=e.currentTarget;if(!r)return;const n=HD(()=>{if(jg.has(r))return;fS(r,"down");const i=HD(()=>{fS(r,"up")}),s=()=>fS(r,"cancel");r.addEventListener("keyup",i,t),r.addEventListener("blur",s,t)});r.addEventListener("keydown",n,t),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),t)};function KD(e){return PO(e)&&!e9()}function xse(e,t,r={}){const[n,i,s]=t9(e,r),o=l=>{const c=l.currentTarget;if(!KD(l)||jg.has(c))return;jg.add(c);const u=t(l),f=(v,b)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",g),!(!KD(v)||!jg.has(c))&&(jg.delete(c),typeof u=="function"&&u(v,{success:b}))},p=v=>{f(v,r.useGlobalTarget||r9(c,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",g,i)};return n.forEach(l=>{!vse(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>yse(u,i),i)}),s}function bse(e){return e==="x"||e==="y"?Ta[e]?null:(Ta[e]=!0,()=>{Ta[e]=!1}):Ta.x||Ta.y?null:(Ta.x=Ta.y=!0,()=>{Ta.x=Ta.y=!1})}const n9=new Set(["width","height","top","left","right","bottom",...Mp]);let ib;function wse(){ib=void 0}const So={now:()=>(ib===void 0&&So.set(ii.isProcessing||gie.useManualTiming?ii.timestamp:performance.now()),ib),set:e=>{ib=e,queueMicrotask(wse)}};function TO(e,t){e.indexOf(t)===-1&&e.push(t)}function kO(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class AO{constructor(){this.subscriptions=[]}add(t){return TO(this.subscriptions,t),()=>kO(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function i9(e,t){return t?e*(1e3/t):0}const GD=30,_se=e=>!isNaN(parseFloat(e));class jse{constructor(t,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=So.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=r.owner}setCurrent(t){this.current=t,this.updatedAt=So.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=_se(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new AO);const n=this.events[t].add(r);return t==="change"?()=>{n(),Gr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,r=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=So.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>GD)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,GD);return i9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function iv(e,t){return new jse(e,t)}function Sse(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,iv(r))}function Nse(e,t){const r=g_(e,t);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=Die(s[o]);Sse(e,o,l)}}function Cse(e){return!!(Si(e)&&e.add)}function rT(e,t){const r=e.getValue("willChange");if(Cse(r))return r.add(t)}function s9(e){return e.props[IV]}const a9=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Ese=1e-7,Pse=12;function Tse(e,t,r,n,i){let s,o,l=0;do o=t+(r-t)/2,s=a9(o,n,i)-e,s>0?r=o:t=o;while(Math.abs(s)>Ese&&++l<Pse);return o}function ly(e,t,r,n){if(e===t&&r===n)return ks;const i=s=>Tse(s,0,1,e,r);return s=>s===0||s===1?s:a9(i(s),t,n)}const o9=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,l9=e=>t=>1-e(1-t),c9=ly(.33,1.53,.69,.99),OO=l9(c9),u9=o9(OO),d9=e=>(e*=2)<1?.5*OO(e):.5*(2-Math.pow(2,-10*(e-1))),RO=e=>1-Math.sin(Math.acos(e)),f9=l9(RO),h9=o9(RO),p9=e=>/^0[^.\s]+$/u.test(e);function kse(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||p9(e):!0}const $g=e=>Math.round(e*1e5)/1e5,MO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Ase(e){return e==null}const Ose=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,IO=(e,t)=>r=>!!(typeof r=="string"&&Ose.test(r)&&r.startsWith(e)||t&&!Ase(r)&&Object.prototype.hasOwnProperty.call(r,t)),m9=(e,t,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(MO);return{[e]:parseFloat(i),[t]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Rse=e=>Rl(0,255,e),hS={...Ip,transform:e=>Math.round(Rse(e))},hd={test:IO("rgb","red"),parse:m9("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+hS.transform(e)+", "+hS.transform(t)+", "+hS.transform(r)+", "+$g(nv.transform(n))+")"};function Mse(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const nT={test:IO("#"),parse:Mse,transform:hd.transform},Eh={test:IO("hsl","hue"),parse:m9("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+jo.transform($g(t))+", "+jo.transform($g(r))+", "+$g(nv.transform(n))+")"},bi={test:e=>hd.test(e)||nT.test(e)||Eh.test(e),parse:e=>hd.test(e)?hd.parse(e):Eh.test(e)?Eh.parse(e):nT.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?hd.transform(e):Eh.transform(e)},Ise=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Lse(e){var t,r;return isNaN(e)&&typeof e=="string"&&(((t=e.match(MO))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(Ise))===null||r===void 0?void 0:r.length)||0)>0}const g9="number",v9="color",Dse="var",$se="var(",ZD="${}",Fse=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function sv(e){const t=e.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=t.replace(Fse,c=>(bi.test(c)?(n.color.push(s),i.push(v9),r.push(bi.parse(c))):c.startsWith($se)?(n.var.push(s),i.push(Dse),r.push(c)):(n.number.push(s),i.push(g9),r.push(parseFloat(c))),++s,ZD)).split(ZD);return{values:r,split:l,indexes:n,types:i}}function y9(e){return sv(e).values}function x9(e){const{split:t,types:r}=sv(e),n=t.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=t[o],i[o]!==void 0){const l=r[o];l===g9?s+=$g(i[o]):l===v9?s+=bi.transform(i[o]):s+=i[o]}return s}}const Bse=e=>typeof e=="number"?0:e;function zse(e){const t=y9(e);return x9(e)(t.map(Bse))}const lu={test:Lse,parse:y9,createTransformer:x9,getAnimatableNone:zse},qse=new Set(["brightness","contrast","saturate","opacity"]);function Use(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(MO)||[];if(!n)return e;const i=r.replace(n,"");let s=qse.has(t)?1:0;return n!==r&&(s*=100),t+"("+s+i+")"}const Vse=/\b([a-z-]*)\(.*?\)/gu,iT={...lu,getAnimatableNone:e=>{const t=e.match(Vse);return t?t.map(Use).join(" "):e}},Wse={...xO,color:bi,backgroundColor:bi,outlineColor:bi,fill:bi,stroke:bi,borderColor:bi,borderTopColor:bi,borderRightColor:bi,borderBottomColor:bi,borderLeftColor:bi,filter:iT,WebkitFilter:iT},LO=e=>Wse[e];function b9(e,t){let r=LO(e);return r!==iT&&(r=lu),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const Hse=new Set(["auto","none","0"]);function Kse(e,t,r){let n=0,i;for(;n<e.length&&!i;){const s=e[n];typeof s=="string"&&!Hse.has(s)&&sv(s).values.length&&(i=e[n]),n++}if(i&&r)for(const s of t)e[s]=b9(r,i)}const YD=e=>e===Ip||e===St,XD=(e,t)=>parseFloat(e.split(", ")[t]),JD=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return XD(i[1],t);{const s=n.match(/^matrix\((.+)\)$/u);return s?XD(s[1],e):0}},Gse=new Set(["x","y","z"]),Zse=Mp.filter(e=>!Gse.has(e));function Yse(e){const t=[];return Zse.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t}const Kh={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:JD(4,13),y:JD(5,14)};Kh.translateX=Kh.x;Kh.translateY=Kh.y;const jd=new Set;let sT=!1,aT=!1;function w9(){if(aT){const e=Array.from(jd).filter(n=>n.needsMeasurement),t=new Set(e.map(n=>n.element)),r=new Map;t.forEach(n=>{const i=Yse(n);i.length&&(r.set(n,i),n.render())}),e.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),e.forEach(n=>n.measureEndState()),e.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}aT=!1,sT=!1,jd.forEach(e=>e.complete()),jd.clear()}function _9(){jd.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(aT=!0)})}function Xse(){_9(),w9()}class DO{constructor(t,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(jd.add(this),sT||(sT=!0,Gr.read(_9),Gr.resolveKeyframes(w9))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:r,element:n,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const o=i?.get(),l=t[t.length-1];if(o!==void 0)t[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(t[0]=c)}t[0]===void 0&&(t[0]=l),i&&o===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),jd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,jd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const j9=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),Jse=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Qse(e){const t=Jse.exec(e);if(!t)return[,];const[,r,n,i]=t;return[`--${r??n}`,i]}function S9(e,t,r=1){const[n,i]=Qse(e);if(!n)return;const s=window.getComputedStyle(t).getPropertyValue(n);if(s){const o=s.trim();return j9(o)?parseFloat(o):o}return yO(i)?S9(i,t,r+1):i}const N9=e=>t=>t.test(e),eae={test:e=>e==="auto",parse:e=>e},C9=[Ip,St,jo,Lc,Uie,qie,eae],QD=e=>C9.find(N9(e));class E9 extends DO{constructor(t,r,n,i,s){super(t,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<t.length;c++){let u=t[c];if(typeof u=="string"&&(u=u.trim(),yO(u))){const f=S9(u,r.current);f!==void 0&&(t[c]=f),c===t.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!n9.has(n)||t.length!==2)return;const[i,s]=t,o=QD(i),l=QD(s);if(o!==l)if(YD(o)&&YD(l))for(let c=0;c<t.length;c++){const u=t[c];typeof u=="string"&&(t[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:r}=this,n=[];for(let i=0;i<t.length;i++)kse(t[i])&&n.push(i);n.length&&Kse(t,n,r)}measureInitialState(){const{element:t,unresolvedKeyframes:r,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Kh[n](t.measureViewportBox(),window.getComputedStyle(t.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&t.getValue(n,i).jump(i,!1)}measureEndState(){var t;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Kh[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const e4=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(lu.test(e)||e==="0")&&!e.startsWith("url("));function tae(e){const t=e[0];if(e.length===1)return!0;for(let r=0;r<e.length;r++)if(e[r]!==t)return!0}function rae(e,t,r,n){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],o=e4(i,t),l=e4(s,t);return!o||!l?!1:tae(e)||(r==="spring"||CO(r))&&n}const nae=e=>e!==null;function v_(e,{repeat:t,repeatType:r="loop"},n){const i=e.filter(nae),s=t&&r!=="loop"&&t%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const iae=40;class P9{constructor({autoplay:t=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=So.now(),this.options={autoplay:t,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>iae?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Xse(),this._resolved}onKeyframesResolved(t,r){this.resolvedAt=So.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!rae(t,n,i,s))if(o)this.options.duration=0;else{c&&c(v_(t,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const f=this.initPlayback(t,r);f!==!1&&(this._resolved={keyframes:t,finalKeyframe:r,...f},this.onPostResolved())}onPostResolved(){}then(t,r){return this.currentFinishedPromise.then(t,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const nn=(e,t,r)=>e+(t-e)*r;function pS(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function sae({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,s=0,o=0;if(!t)i=s=o=r;else{const l=r<.5?r*(1+t):r+t-r*t,c=2*r-l;i=pS(c,l,e+1/3),s=pS(c,l,e),o=pS(c,l,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Cb(e,t){return r=>r>0?t:e}const mS=(e,t,r)=>{const n=e*e,i=r*(t*t-n)+n;return i<0?0:Math.sqrt(i)},aae=[nT,hd,Eh],oae=e=>aae.find(t=>t.test(e));function t4(e){const t=oae(e);if(!t)return!1;let r=t.parse(e);return t===Eh&&(r=sae(r)),r}const r4=(e,t)=>{const r=t4(e),n=t4(t);if(!r||!n)return Cb(e,t);const i={...r};return s=>(i.red=mS(r.red,n.red,s),i.green=mS(r.green,n.green,s),i.blue=mS(r.blue,n.blue,s),i.alpha=nn(r.alpha,n.alpha,s),hd.transform(i))},lae=(e,t)=>r=>t(e(r)),cy=(...e)=>e.reduce(lae),oT=new Set(["none","hidden"]);function cae(e,t){return oT.has(e)?r=>r<=0?e:t:r=>r>=1?t:e}function uae(e,t){return r=>nn(e,t,r)}function $O(e){return typeof e=="number"?uae:typeof e=="string"?yO(e)?Cb:bi.test(e)?r4:hae:Array.isArray(e)?T9:typeof e=="object"?bi.test(e)?r4:dae:Cb}function T9(e,t){const r=[...e],n=r.length,i=e.map((s,o)=>$O(s)(s,t[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function dae(e,t){const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=$O(e[i])(e[i],t[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function fae(e,t){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const o=t.types[s],l=e.indexes[o][i[o]],c=(r=e.values[l])!==null&&r!==void 0?r:0;n[s]=c,i[o]++}return n}const hae=(e,t)=>{const r=lu.createTransformer(t),n=sv(e),i=sv(t);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?oT.has(e)&&!i.values.length||oT.has(t)&&!n.values.length?cae(e,t):cy(T9(fae(n,i),i.values),r):Cb(e,t)};function k9(e,t,r){return typeof e=="number"&&typeof t=="number"&&typeof r=="number"?nn(e,t,r):$O(e)(e,t)}const pae=5;function A9(e,t,r){const n=Math.max(t-pae,0);return i9(r-e(n),t-n)}const cn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},gS=.001;function mae({duration:e=cn.duration,bounce:t=cn.bounce,velocity:r=cn.velocity,mass:n=cn.mass}){let i,s,o=1-t;o=Rl(cn.minDamping,cn.maxDamping,o),e=Rl(cn.minDuration,cn.maxDuration,_l(e)),o<1?(i=u=>{const f=u*o,p=f*e,g=f-r,v=lT(u,o),b=Math.exp(-p);return gS-g/v*b},s=u=>{const p=u*o*e,g=p*r+r,v=Math.pow(o,2)*Math.pow(u,2)*e,b=Math.exp(-p),y=lT(Math.pow(u,2),o);return(-i(u)+gS>0?-1:1)*((g-v)*b)/y}):(i=u=>{const f=Math.exp(-u*e),p=(u-r)*e+1;return-gS+f*p},s=u=>{const f=Math.exp(-u*e),p=(r-u)*(e*e);return f*p});const l=5/e,c=vae(i,s,l);if(e=wl(e),isNaN(c))return{stiffness:cn.stiffness,damping:cn.damping,duration:e};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:e}}}const gae=12;function vae(e,t,r){let n=r;for(let i=1;i<gae;i++)n=n-e(n)/t(n);return n}function lT(e,t){return e*Math.sqrt(1-t*t)}const yae=["duration","bounce"],xae=["stiffness","damping","mass"];function n4(e,t){return t.some(r=>e[r]!==void 0)}function bae(e){let t={velocity:cn.velocity,stiffness:cn.stiffness,damping:cn.damping,mass:cn.mass,isResolvedFromDuration:!1,...e};if(!n4(e,xae)&&n4(e,yae))if(e.visualDuration){const r=e.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Rl(.05,1,1-(e.bounce||0))*Math.sqrt(i);t={...t,mass:cn.mass,stiffness:i,damping:s}}else{const r=mae(e);t={...t,...r,mass:cn.mass},t.isResolvedFromDuration=!0}return t}function O9(e=cn.visualDuration,t=cn.bounce){const r=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:p,velocity:g,isResolvedFromDuration:v}=bae({...r,velocity:-_l(r.velocity||0)}),b=g||0,y=u/(2*Math.sqrt(c*f)),_=o-s,S=_l(Math.sqrt(c/f)),N=Math.abs(_)<5;n||(n=N?cn.restSpeed.granular:cn.restSpeed.default),i||(i=N?cn.restDelta.granular:cn.restDelta.default);let C;if(y<1){const k=lT(S,y);C=P=>{const O=Math.exp(-y*S*P);return o-O*((b+y*S*_)/k*Math.sin(k*P)+_*Math.cos(k*P))}}else if(y===1)C=k=>o-Math.exp(-S*k)*(_+(b+S*_)*k);else{const k=S*Math.sqrt(y*y-1);C=P=>{const O=Math.exp(-y*S*P),I=Math.min(k*P,300);return o-O*((b+y*S*_)*Math.sinh(I)+k*_*Math.cosh(I))/k}}const A={calculatedDuration:v&&p||null,next:k=>{const P=C(k);if(v)l.done=k>=p;else{let O=0;y<1&&(O=k===0?wl(b):A9(C,k,P));const I=Math.abs(O)<=n,B=Math.abs(o-P)<=i;l.done=I&&B}return l.value=l.done?o:P,l},toString:()=>{const k=Math.min(YV(A),eT),P=XV(O=>A.next(k*O).value,k,30);return k+"ms "+P}};return A}function i4({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const p=e[0],g={done:!1,value:p},v=I=>l!==void 0&&I<l||c!==void 0&&I>c,b=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let y=r*t;const _=p+y,S=o===void 0?_:o(_);S!==_&&(y=S-p);const N=I=>-y*Math.exp(-I/n),C=I=>S+N(I),A=I=>{const B=N(I),K=C(I);g.done=Math.abs(B)<=u,g.value=g.done?S:K};let k,P;const O=I=>{v(g.value)&&(k=I,P=O9({keyframes:[g.value,b(g.value)],velocity:A9(C,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return O(0),{calculatedDuration:null,next:I=>{let B=!1;return!P&&k===void 0&&(B=!0,A(I),O(I)),k!==void 0&&I>=k?P.next(I-k):(!B&&A(I),g)}}}const wae=ly(.42,0,1,1),_ae=ly(0,0,.58,1),R9=ly(.42,0,.58,1),jae=e=>Array.isArray(e)&&typeof e[0]!="number",Sae={linear:ks,easeIn:wae,easeInOut:R9,easeOut:_ae,circIn:RO,circInOut:h9,circOut:f9,backIn:OO,backInOut:u9,backOut:c9,anticipate:d9},s4=e=>{if(EO(e)){kV(e.length===4);const[t,r,n,i]=e;return ly(t,r,n,i)}else if(typeof e=="string")return Sae[e];return e};function Nae(e,t,r){const n=[],i=r||k9,s=e.length-1;for(let o=0;o<s;o++){let l=i(e[o],e[o+1]);if(t){const c=Array.isArray(t)?t[o]||ks:t;l=cy(c,l)}n.push(l)}return n}function Cae(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const s=e.length;if(kV(s===t.length),s===1)return()=>t[0];if(s===2&&t[0]===t[1])return()=>t[1];const o=e[0]===e[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=Nae(t,n,i),c=l.length,u=f=>{if(o&&f<e[0])return t[0];let p=0;if(c>1)for(;p<e.length-2&&!(f<e[p+1]);p++);const g=Wh(e[p],e[p+1],f);return l[p](g)};return r?f=>u(Rl(e[0],e[s-1],f)):u}function Eae(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=Wh(0,t,n);e.push(nn(r,1,i))}}function Pae(e){const t=[0];return Eae(t,e.length-1),t}function Tae(e,t){return e.map(r=>r*t)}function kae(e,t){return e.map(()=>t||R9).splice(0,e.length-1)}function Eb({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=jae(n)?n.map(s4):s4(n),s={done:!1,value:t[0]},o=Tae(r&&r.length===t.length?r:Pae(t),e),l=Cae(o,t,{ease:Array.isArray(i)?i:kae(t,i)});return{calculatedDuration:e,next:c=>(s.value=l(c),s.done=c>=e,s)}}const Aae=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Gr.update(t,!0),stop:()=>ou(t),now:()=>ii.isProcessing?ii.timestamp:So.now()}},Oae={decay:i4,inertia:i4,tween:Eb,keyframes:Eb,spring:O9},Rae=e=>e/100;class FO extends P9{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||DO,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=CO(r)?r:Oae[r]||Eb;let c,u;l!==Eb&&typeof t[0]!="number"&&(c=cy(Rae,k9(t[0],t[1])),t=[0,100]);const f=l({...this.options,keyframes:t});s==="mirror"&&(u=l({...this.options,keyframes:[...t].reverse(),velocity:-o})),f.calculatedDuration===null&&(f.calculatedDuration=YV(f));const{calculatedDuration:p}=f,g=p+i,v=g*(n+1)-i;return{generator:f,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:p,resolvedDuration:g,totalDuration:v}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:f,resolvedDuration:p}=n;if(this.startTime===null)return s.next(0);const{delay:g,repeat:v,repeatType:b,repeatDelay:y,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-f/this.speed,this.startTime)),r?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const S=this.currentTime-g*(this.speed>=0?1:-1),N=this.speed>=0?S<0:S>f;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=f);let C=this.currentTime,A=s;if(v){const I=Math.min(this.currentTime,f)/p;let B=Math.floor(I),K=I%1;!K&&I>=1&&(K=1),K===1&&B--,B=Math.min(B,v+1),!!(B%2)&&(b==="reverse"?(K=1-K,y&&(K-=y/p)):b==="mirror"&&(A=o)),C=Rl(0,1,K)*p}const k=N?{done:!1,value:c[0]}:A.next(C);l&&(k.value=l(k.value));let{done:P}=k;!N&&u!==null&&(P=this.speed>=0?this.currentTime>=f:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return O&&i!==void 0&&(k.value=v_(c,this.options,i)),_&&_(k.value),O&&this.finish(),k}get duration(){const{resolved:t}=this;return t?_l(t.calculatedDuration):0}get time(){return _l(this.currentTime)}set time(t){t=wl(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const r=this.playbackSpeed!==t;this.playbackSpeed=t,r&&(this.time=_l(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=Aae,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const Mae=new Set(["opacity","clipPath","filter","transform"]);function Iae(e,t,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[t]:r};c&&(u.offset=c);const f=QV(l,i);return Array.isArray(f)&&(u.easing=f),e.animate(u,{delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Lae=dO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Pb=10,Dae=2e4;function $ae(e){return CO(e.type)||e.type==="spring"||!JV(e.ease)}function Fae(e,t){const r=new FO({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:e[0]};const i=[];let s=0;for(;!n.done&&s<Dae;)n=r.sample(s),i.push(n.value),s+=Pb;return{times:void 0,keyframes:i,duration:s-Pb,ease:"linear"}}const M9={anticipate:d9,backInOut:u9,circInOut:h9};function Bae(e){return e in M9}class a4 extends P9{constructor(t){super(t);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new E9(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(t,r){let{duration:n=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&Nb()&&Bae(s)&&(s=M9[s]),$ae(this.options)){const{onComplete:p,onUpdate:g,motionValue:v,element:b,...y}=this.options,_=Fae(t,y);t=_.keyframes,t.length===1&&(t[1]=t[0]),n=_.duration,i=_.times,s=_.ease,o="keyframes"}const f=Iae(l.owner.current,c,t,{...this.options,duration:n,times:i,ease:s});return f.startTime=u??this.calcStartTime(),this.pendingTimeline?(VD(f,this.pendingTimeline),this.pendingTimeline=void 0):f.onfinish=()=>{const{onComplete:p}=this.options;l.set(v_(t,this.options,r)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:f,duration:n,times:i,type:o,ease:s,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:r}=t;return _l(r)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:r}=t;return _l(r.currentTime||0)}set time(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=wl(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:r}=t;return r.playbackRate}set speed(t){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:r}=t;return r.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:r}=t;return r.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:r}=this;if(!r)return ks;const{animation:n}=r;VD(n,t)}return ks}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:l}=t;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:f,onComplete:p,element:g,...v}=this.options,b=new FO({...v,keyframes:n,duration:i,type:s,ease:o,times:l,isGenerator:!0}),y=wl(this.time);u.setWithVelocity(b.sample(y-Pb).value,b.sample(y).value,Pb)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=t;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return Lae()&&n&&Mae.has(n)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const zae={type:"spring",stiffness:500,damping:25,restSpeed:10},qae=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Uae={type:"keyframes",duration:.8},Vae={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wae=(e,{keyframes:t})=>t.length>2?Uae:Vd.has(e)?e.startsWith("scale")?qae(t[1]):zae:Vae;function Hae({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const BO=(e,t,r,n={},i,s)=>o=>{const l=NO(n,e)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-wl(c);let f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:t.getVelocity(),...l,delay:-u,onUpdate:g=>{t.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:e,motionValue:t,element:s?void 0:i};Hae(l)||(f={...f,...Wae(e,f)}),f.duration&&(f.duration=wl(f.duration)),f.repeatDelay&&(f.repeatDelay=wl(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let p=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(f.duration=0,f.delay===0&&(p=!0)),p&&!s&&t.get()!==void 0){const g=v_(f.keyframes,l);if(g!==void 0)return Gr.update(()=>{f.onUpdate(g),f.onComplete()}),new dse([])}return!s&&a4.supports(f)?new a4(f):new FO(f)};function Kae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function I9(e,t,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=t;n&&(o=n);const u=[],f=i&&e.animationState&&e.animationState.getState()[i];for(const p in c){const g=e.getValue(p,(s=e.latestValues[p])!==null&&s!==void 0?s:null),v=c[p];if(v===void 0||f&&Kae(f,p))continue;const b={delay:r,...NO(o||{},p)};let y=!1;if(window.MotionHandoffAnimation){const S=s9(e);if(S){const N=window.MotionHandoffAnimation(S,p,Gr);N!==null&&(b.startTime=N,y=!0)}}rT(e,p),g.start(BO(p,g,v,e.shouldReduceMotion&&n9.has(p)?{type:!1}:b,e,y));const _=g.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{Gr.update(()=>{l&&Nse(e,l)})}),u}function cT(e,t,r={}){var n;const i=g_(e,t,r.type==="exit"?(n=e.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(I9(e,i,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:p,staggerDirection:g}=s;return Gae(e,t,f+u,p,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,f]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>f())}else return Promise.all([o(),l(r.delay)])}function Gae(e,t,r=0,n=0,i=1,s){const o=[],l=(e.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(e.variantChildren).sort(Zae).forEach((u,f)=>{u.notify("AnimationStart",t),o.push(cT(u,t,{...s,delay:r+c(f)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(o)}function Zae(e,t){return e.sortNodePosition(t)}function Yae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(s=>cT(e,s,r));n=Promise.all(i)}else if(typeof t=="string")n=cT(e,t,r);else{const i=typeof t=="function"?g_(e,t,r.custom):t;n=Promise.all(I9(e,i,r))}return n.then(()=>{e.notify("AnimationComplete",t)})}const Xae=hO.length;function L9(e){if(!e)return;if(!e.isControllingVariants){const r=e.parent?L9(e.parent)||{}:{};return e.props.initial!==void 0&&(r.initial=e.props.initial),r}const t={};for(let r=0;r<Xae;r++){const n=hO[r],i=e.props[n];(rv(i)||i===!1)&&(t[n]=i)}return t}const Jae=[...fO].reverse(),Qae=fO.length;function eoe(e){return t=>Promise.all(t.map(({animation:r,options:n})=>Yae(e,r,n)))}function toe(e){let t=eoe(e),r=o4(),n=!0;const i=c=>(u,f)=>{var p;const g=g_(e,f,c==="exit"?(p=e.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(g){const{transition:v,transitionEnd:b,...y}=g;u={...u,...y,...b}}return u};function s(c){t=c(e)}function o(c){const{props:u}=e,f=L9(e.parent)||{},p=[],g=new Set;let v={},b=1/0;for(let _=0;_<Qae;_++){const S=Jae[_],N=r[S],C=u[S]!==void 0?u[S]:f[S],A=rv(C),k=S===c?N.isActive:null;k===!1&&(b=_);let P=C===f[S]&&C!==u[S]&&A;if(P&&n&&e.manuallyAnimateOnMount&&(P=!1),N.protectedKeys={...v},!N.isActive&&k===null||!C&&!N.prevProp||p_(C)||typeof C=="boolean")continue;const O=roe(N.prevProp,C);let I=O||S===c&&N.isActive&&!P&&A||_>b&&A,B=!1;const K=Array.isArray(C)?C:[C];let V=K.reduce(i(S),{});k===!1&&(V={});const{prevResolvedValues:U={}}=N,q={...U,...V},H=W=>{I=!0,g.has(W)&&(B=!0,g.delete(W)),N.needsAnimating[W]=!0;const ee=e.getValue(W);ee&&(ee.liveStyle=!1)};for(const W in q){const ee=V[W],X=U[W];if(v.hasOwnProperty(W))continue;let ne=!1;QP(ee)&&QP(X)?ne=!ZV(ee,X):ne=ee!==X,ne?ee!=null?H(W):g.add(W):ee!==void 0&&g.has(W)?H(W):N.protectedKeys[W]=!0}N.prevProp=C,N.prevResolvedValues=V,N.isActive&&(v={...v,...V}),n&&e.blockInitialAnimation&&(I=!1),I&&(!(P&&O)||B)&&p.push(...K.map(W=>({animation:W,options:{type:S}})))}if(g.size){const _={};g.forEach(S=>{const N=e.getBaseTarget(S),C=e.getValue(S);C&&(C.liveStyle=!0),_[S]=N??null}),p.push({animation:_})}let y=!!p.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(y=!1),n=!1,y?t(p):Promise.resolve()}function l(c,u){var f;if(r[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const p=o(c);for(const g in r)r[g].protectedKeys={};return p}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=o4(),n=!0}}}function roe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!ZV(t,e):!1}function Qu(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function o4(){return{animate:Qu(!0),whileInView:Qu(),whileHover:Qu(),whileTap:Qu(),whileDrag:Qu(),whileFocus:Qu(),exit:Qu()}}class mu{constructor(t){this.isMounted=!1,this.node=t}update(){}}class noe extends mu{constructor(t){super(t),t.animationState||(t.animationState=toe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();p_(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let ioe=0;class soe extends mu{constructor(){super(...arguments),this.id=ioe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const i=this.node.animationState.setActive("exit",!t);r&&!t&&i.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const aoe={animation:{Feature:noe},exit:{Feature:soe}};function av(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}function uy(e){return{point:{x:e.pageX,y:e.pageY}}}const ooe=e=>t=>PO(t)&&e(t,uy(t));function Fg(e,t,r,n){return av(e,t,ooe(r),n)}const l4=(e,t)=>Math.abs(e-t);function loe(e,t){const r=l4(e.x,t.x),n=l4(e.y,t.y);return Math.sqrt(r**2+n**2)}class D9{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=yS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=loe(p.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:b}=p,{timestamp:y}=ii;this.history.push({...b,timestamp:y});const{onStart:_,onMove:S}=this.handlers;g||(_&&_(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=vS(g,this.transformPagePoint),Gr.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:b,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=yS(p.type==="pointercancel"?this.lastMoveEventInfo:vS(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,_),b&&b(p,_)},!PO(t))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=uy(t),l=vS(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ii;this.history=[{...c,timestamp:u}];const{onSessionStart:f}=r;f&&f(t,yS(l,this.history)),this.removeListeners=cy(Fg(this.contextWindow,"pointermove",this.handlePointerMove),Fg(this.contextWindow,"pointerup",this.handlePointerUp),Fg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),ou(this.updatePoint)}}function vS(e,t){return t?{point:t(e.point)}:e}function c4(e,t){return{x:e.x-t.x,y:e.y-t.y}}function yS({point:e},t){return{point:e,delta:c4(e,$9(t)),offset:c4(e,coe(t)),velocity:uoe(t,.1)}}function coe(e){return e[0]}function $9(e){return e[e.length-1]}function uoe(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=$9(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>wl(t)));)r--;if(!n)return{x:0,y:0};const s=_l(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const F9=1e-4,doe=1-F9,foe=1+F9,B9=.01,hoe=0-B9,poe=0+B9;function Ms(e){return e.max-e.min}function moe(e,t,r){return Math.abs(e-t)<=r}function u4(e,t,r,n=.5){e.origin=n,e.originPoint=nn(t.min,t.max,e.origin),e.scale=Ms(r)/Ms(t),e.translate=nn(r.min,r.max,e.origin)-e.originPoint,(e.scale>=doe&&e.scale<=foe||isNaN(e.scale))&&(e.scale=1),(e.translate>=hoe&&e.translate<=poe||isNaN(e.translate))&&(e.translate=0)}function Bg(e,t,r,n){u4(e.x,t.x,r.x,n?n.originX:void 0),u4(e.y,t.y,r.y,n?n.originY:void 0)}function d4(e,t,r){e.min=r.min+t.min,e.max=e.min+Ms(t)}function goe(e,t,r){d4(e.x,t.x,r.x),d4(e.y,t.y,r.y)}function f4(e,t,r){e.min=t.min-r.min,e.max=e.min+Ms(t)}function zg(e,t,r){f4(e.x,t.x,r.x),f4(e.y,t.y,r.y)}function voe(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?nn(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?nn(r,e,n.max):Math.min(e,r)),e}function h4(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function yoe(e,{top:t,left:r,bottom:n,right:i}){return{x:h4(e.x,r,i),y:h4(e.y,t,n)}}function p4(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function xoe(e,t){return{x:p4(e.x,t.x),y:p4(e.y,t.y)}}function boe(e,t){let r=.5;const n=Ms(e),i=Ms(t);return i>n?r=Wh(t.min,t.max-n,e.min):n>i&&(r=Wh(e.min,e.max-i,t.min)),Rl(0,1,r)}function woe(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const uT=.35;function _oe(e=uT){return e===!1?e=0:e===!0&&(e=uT),{x:m4(e,"left","right"),y:m4(e,"top","bottom")}}function m4(e,t,r){return{min:g4(e,t),max:g4(e,r)}}function g4(e,t){return typeof e=="number"?e:e[t]||0}const v4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ph=()=>({x:v4(),y:v4()}),y4=()=>({min:0,max:0}),pn=()=>({x:y4(),y:y4()});function ta(e){return[e("x"),e("y")]}function z9({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function joe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Soe(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function xS(e){return e===void 0||e===1}function dT({scale:e,scaleX:t,scaleY:r}){return!xS(e)||!xS(t)||!xS(r)}function nd(e){return dT(e)||q9(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function q9(e){return x4(e.x)||x4(e.y)}function x4(e){return e&&e!=="0%"}function Tb(e,t,r){const n=e-r,i=t*n;return r+i}function b4(e,t,r,n,i){return i!==void 0&&(e=Tb(e,i,n)),Tb(e,r,n)+t}function fT(e,t=0,r=1,n,i){e.min=b4(e.min,t,r,n,i),e.max=b4(e.max,t,r,n,i)}function U9(e,{x:t,y:r}){fT(e.x,t.translate,t.scale,t.originPoint),fT(e.y,r.translate,r.scale,r.originPoint)}const w4=.999999999999,_4=1.0000000000001;function Noe(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&kh(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(t.x*=o.x.scale,t.y*=o.y.scale,U9(e,o)),n&&nd(s.latestValues)&&kh(e,s.latestValues))}t.x<_4&&t.x>w4&&(t.x=1),t.y<_4&&t.y>w4&&(t.y=1)}function Th(e,t){e.min=e.min+t,e.max=e.max+t}function j4(e,t,r,n,i=.5){const s=nn(e.min,e.max,i);fT(e,t,r,s,n)}function kh(e,t){j4(e.x,t.x,t.scaleX,t.scale,t.originX),j4(e.y,t.y,t.scaleY,t.scale,t.originY)}function V9(e,t){return z9(Soe(e.getBoundingClientRect(),t))}function Coe(e,t,r){const n=V9(e,r),{scroll:i}=t;return i&&(Th(n.x,i.offset.x),Th(n.y,i.offset.y)),n}const W9=({current:e})=>e?e.ownerDocument.defaultView:null,Eoe=new WeakMap;class Poe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(uy(f).point)},s=(f,p)=>{const{drag:g,dragPropagation:v,onDragStart:b}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bse(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ta(_=>{let S=this.getAxisMotionValue(_).get()||0;if(jo.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const C=N.layout.layoutBox[_];C&&(S=Ms(C)*(parseFloat(S)/100))}}this.originPoint[_]=S}),b&&Gr.postRender(()=>b(f,p)),rT(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},o=(f,p)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:b,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=p;if(v&&this.currentDirection===null){this.currentDirection=Toe(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",p.point,_),this.updateAxis("y",p.point,_),this.visualElement.render(),y&&y(f,p)},l=(f,p)=>this.stop(f,p),c=()=>ta(f=>{var p;return this.getAnimationState(f)==="paused"&&((p=this.getAxisMotionValue(f).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new D9(t,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:W9(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Gr.postRender(()=>s(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!h0(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let o=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(o=voe(o,this.constraints[t],this.elastic[t])),s.set(o)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;r&&Ch(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=yoe(i.layoutBox,r):this.constraints=!1,this.elastic=_oe(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ta(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=woe(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Ch(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Coe(n,i.root,this.visualElement.getTransformPagePoint());let o=xoe(i.layout.layoutBox,s);if(r){const l=r(joe(o));this.hasMutatedConstraints=!!l,l&&(o=z9(l))}return o}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ta(f=>{if(!h0(f,r,this.currentDirection))return;let p=c&&c[f]||{};o&&(p={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,b={type:"inertia",velocity:n?t[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(f,b)});return Promise.all(u).then(l)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return rT(this.visualElement,t),n.start(BO(t,n,0,r,this.visualElement,!1))}stopAnimation(){ta(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ta(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ta(r=>{const{drag:n}=this.getProps();if(!h0(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(t[r]-nn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ch(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ta(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=boe({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ta(o=>{if(!h0(o,t,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(nn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Eoe.set(this.visualElement,this);const t=this.visualElement.current,r=Fg(t,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Ch(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gr.read(n);const o=av(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ta(f=>{const p=this.getAxisMotionValue(f);p&&(this.originPoint[f]+=c[f].translate,p.set(p.get()+c[f].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=uT,dragMomentum:l=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function h0(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Toe(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class koe extends mu{constructor(t){super(t),this.removeGroupControls=ks,this.removeListeners=ks,this.controls=new Poe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ks}unmount(){this.removeGroupControls(),this.removeListeners()}}const S4=e=>(t,r)=>{e&&Gr.postRender(()=>e(t,r))};class Aoe extends mu{constructor(){super(...arguments),this.removePointerDownListener=ks}onPointerDown(t){this.session=new D9(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:W9(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:S4(t),onStart:S4(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Gr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Fg(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const sb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function N4(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Jm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(St.test(e))e=parseFloat(e);else return e;const r=N4(e,t.target.x),n=N4(e,t.target.y);return`${r}% ${n}%`}},Ooe={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=lu.parse(e);if(i.length>5)return n;const s=lu.createTransformer(e),o=typeof i[0]!="number"?1:0,l=r.x.scale*t.x,c=r.y.scale*t.y;i[0+o]/=l,i[1+o]/=c;const u=nn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Roe extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=t;Qie(Moe),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),sb.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||t.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?o.promote():o.relegate()||Gr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),mO.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function H9(e){const[t,r]=PV(),n=x.useContext(oO);return a.jsx(Roe,{...e,layoutGroup:n,switchLayoutGroup:x.useContext(LV),isPresent:t,safeToRemove:r})}const Moe={borderRadius:{...Jm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jm,borderTopRightRadius:Jm,borderBottomLeftRadius:Jm,borderBottomRightRadius:Jm,boxShadow:Ooe};function Ioe(e,t,r){const n=Si(e)?e:iv(e);return n.start(BO("",n,t,r)),n.animation}function Loe(e){return e instanceof SVGElement&&e.tagName!=="svg"}const Doe=(e,t)=>e.depth-t.depth;class $oe{constructor(){this.children=[],this.isDirty=!1}add(t){TO(this.children,t),this.isDirty=!0}remove(t){kO(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Doe),this.isDirty=!1,this.children.forEach(t)}}function Foe(e,t){const r=So.now(),n=({timestamp:i})=>{const s=i-r;s>=t&&(ou(n),e(s-t))};return Gr.read(n,!0),()=>ou(n)}const K9=["TopLeft","TopRight","BottomLeft","BottomRight"],Boe=K9.length,C4=e=>typeof e=="string"?parseFloat(e):e,E4=e=>typeof e=="number"||St.test(e);function zoe(e,t,r,n,i,s){i?(e.opacity=nn(0,r.opacity!==void 0?r.opacity:1,qoe(n)),e.opacityExit=nn(t.opacity!==void 0?t.opacity:1,0,Uoe(n))):s&&(e.opacity=nn(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Boe;o++){const l=`border${K9[o]}Radius`;let c=P4(t,l),u=P4(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||E4(c)===E4(u)?(e[l]=Math.max(nn(C4(c),C4(u),n),0),(jo.test(u)||jo.test(c))&&(e[l]+="%")):e[l]=u}(t.rotate||r.rotate)&&(e.rotate=nn(t.rotate||0,r.rotate||0,n))}function P4(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const qoe=G9(0,.5,f9),Uoe=G9(.5,.95,ks);function G9(e,t,r){return n=>n<e?0:n>t?1:r(Wh(e,t,n))}function T4(e,t){e.min=t.min,e.max=t.max}function Xs(e,t){T4(e.x,t.x),T4(e.y,t.y)}function k4(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function A4(e,t,r,n,i){return e-=t,e=Tb(e,1/r,n),i!==void 0&&(e=Tb(e,1/i,n)),e}function Voe(e,t=0,r=1,n=.5,i,s=e,o=e){if(jo.test(t)&&(t=parseFloat(t),t=nn(o.min,o.max,t/100)-o.min),typeof t!="number")return;let l=nn(s.min,s.max,n);e===s&&(l-=t),e.min=A4(e.min,t,r,l,i),e.max=A4(e.max,t,r,l,i)}function O4(e,t,[r,n,i],s,o){Voe(e,t[r],t[n],t[i],t.scale,s,o)}const Woe=["x","scaleX","originX"],Hoe=["y","scaleY","originY"];function R4(e,t,r,n){O4(e.x,t,Woe,r?r.x:void 0,n?n.x:void 0),O4(e.y,t,Hoe,r?r.y:void 0,n?n.y:void 0)}function M4(e){return e.translate===0&&e.scale===1}function Z9(e){return M4(e.x)&&M4(e.y)}function I4(e,t){return e.min===t.min&&e.max===t.max}function Koe(e,t){return I4(e.x,t.x)&&I4(e.y,t.y)}function L4(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function Y9(e,t){return L4(e.x,t.x)&&L4(e.y,t.y)}function D4(e){return Ms(e.x)/Ms(e.y)}function $4(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Goe{constructor(){this.members=[]}add(t){TO(this.members,t),t.scheduleRender()}remove(t){if(kO(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Zoe(e,t,r){let n="";const i=e.x.translate/t.x,s=e.y.translate/t.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:p,rotateY:g,skewX:v,skewY:b}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),p&&(n+=`rotateX(${p}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),b&&(n+=`skewY(${b}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const id={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Sg=typeof window<"u"&&window.MotionDebug!==void 0,bS=["","X","Y","Z"],Yoe={visibility:"hidden"},F4=1e3;let Xoe=0;function wS(e,t,r,n){const{latestValues:i}=t;i[e]&&(r[e]=i[e],t.setStaticValue(e,0),n&&(n[e]=0))}function X9(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const r=s9(t);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(r,"transform",Gr,!(i||s))}const{parent:n}=e;n&&!n.hasCheckedOptimisedAppear&&X9(n)}function J9({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=t?.()){this.id=Xoe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Sg&&(id.totalNodes=id.resolvedTargetDeltas=id.recalculatedProjection=0),this.nodes.forEach(ele),this.nodes.forEach(sle),this.nodes.forEach(ale),this.nodes.forEach(tle),Sg&&window.MotionDebug.record(id)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new $oe)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new AO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Loe(o),this.instance=o;const{layoutId:c,layout:u,visualElement:f}=this.options;if(f&&!f.current&&f.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),e){let p;const g=()=>this.root.updateBlockedByResize=!1;e(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=Foe(g,250),sb.hasAnimatedSinceResize&&(sb.hasAnimatedSinceResize=!1,this.nodes.forEach(z4))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&f&&(c||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:b})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||f.getDefaultTransition()||dle,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=f.getProps(),N=!this.targetLayout||!Y9(this.targetLayout,b)||v,C=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,C);const A={...NO(y,"layout"),onPlay:_,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else g||z4(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=b})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ou(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(ole),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&X9(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const p=this.path[f];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(B4);return}this.isUpdating||this.nodes.forEach(nle),this.isUpdating=!1,this.nodes.forEach(ile),this.nodes.forEach(Joe),this.nodes.forEach(Qoe),this.clearAllSnapshots();const l=So.now();ii.delta=Rl(0,1e3/60,l-ii.timestamp),ii.timestamp=l,ii.isProcessing=!0,dS.update.process(ii),dS.preRender.process(ii),dS.render.process(ii),ii.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,mO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(rle),this.sharedNodes.forEach(lle)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Z9(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&(l||nd(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),fle(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return pn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(hle))){const{scroll:f}=this.root;f&&(Th(c.x,f.offset.x),Th(c.y,f.offset.y))}return c}removeElementScroll(o){var l;const c=pn();if(Xs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:p,options:g}=f;f!==this.root&&p&&g.layoutScroll&&(p.wasRoot&&Xs(c,o),Th(c.x,p.offset.x),Th(c.y,p.offset.y))}return c}applyTransform(o,l=!1){const c=pn();Xs(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&kh(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),nd(f.latestValues)&&kh(c,f.latestValues)}return nd(this.latestValues)&&kh(c,this.latestValues),c}removeTransform(o){const l=pn();Xs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!nd(u.latestValues))continue;dT(u.latestValues)&&u.updateSnapshot();const f=pn(),p=u.measurePageBox();Xs(f,p),R4(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return nd(this.latestValues)&&R4(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ii.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:g}=this.options;if(!(!this.layout||!(p||g))){if(this.resolvedRelativeTargetAt=ii.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),zg(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pn(),this.targetWithTransforms=pn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),goe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Xs(this.target,this.layout.layoutBox),U9(this.target,this.targetDelta)):Xs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pn(),this.relativeTargetOrigin=pn(),zg(this.relativeTargetOrigin,this.target,v.target),Xs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Sg&&id.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||dT(this.parent.latestValues)||q9(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ii.timestamp&&(u=!1),u)return;const{layout:f,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||p))return;Xs(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;Noe(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=pn());const{target:b}=l;if(!b){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(k4(this.prevProjectionDelta.x,this.projectionDelta.x),k4(this.prevProjectionDelta.y,this.projectionDelta.y)),Bg(this.projectionDelta,this.layoutCorrected,b,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!$4(this.projectionDelta.x,this.prevProjectionDelta.x)||!$4(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",b)),Sg&&id.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ph(),this.projectionDelta=Ph(),this.projectionDeltaWithTransform=Ph()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},p=Ph();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=pn(),v=c?c.source:void 0,b=this.layout?this.layout.source:void 0,y=v!==b,_=this.getStack(),S=!_||_.members.length<=1,N=!!(y&&!S&&this.options.crossfade===!0&&!this.path.some(ule));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const k=A/1e3;q4(p.x,o.x,k),q4(p.y,o.y,k),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),cle(this.relativeTarget,this.relativeTargetOrigin,g,k),C&&Koe(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=pn()),Xs(C,this.relativeTarget)),y&&(this.animationValues=f,zoe(f,u,this.latestValues,k,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ou(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gr.update(()=>{sb.hasAnimatedSinceResize=!0,this.currentAnimation=Ioe(0,F4,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(F4),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&Q9(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||pn();const p=Ms(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+p;const g=Ms(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Xs(l,c),kh(l,f),Bg(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Goe),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&wS("z",o,u,this.animationValues);for(let f=0;f<bS.length;f++)wS(`rotate${bS[f]}`,o,u,this.animationValues),wS(`skew${bS[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Yoe;const u={visibility:""},f=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=nb(o?.pointerEvents)||"",u.transform=f?f(this.latestValues,""):"none",u;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=nb(o?.pointerEvents)||""),this.hasProjected&&!nd(this.latestValues)&&(y.transform=f?f({},""):"none",this.hasProjected=!1),y}const g=p.animationValues||p.latestValues;this.applyTransformsToTarget(),u.transform=Zoe(this.projectionDeltaWithTransform,this.treeScale,g),f&&(u.transform=f(g,u.transform));const{x:v,y:b}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${b.origin*100}% 0`,p.animationValues?u.opacity=p===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const y in Sb){if(g[y]===void 0)continue;const{correct:_,applyTo:S}=Sb[y],N=u.transform==="none"?g[y]:_(g[y],p);if(S){const C=S.length;for(let A=0;A<C;A++)u[S[A]]=N}else u[y]=N}return this.options.layoutId&&(u.pointerEvents=p===this?nb(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(B4),this.root.sharedNodes.clear()}}}function Joe(e){e.updateLayout()}function Qoe(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:s}=e.options,o=r.source!==e.layout.source;s==="size"?ta(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],v=Ms(g);g.min=n[p].min,g.max=g.min+v}):Q9(s,r.layoutBox,n)&&ta(p=>{const g=o?r.measuredBox[p]:r.layoutBox[p],v=Ms(n[p]);g.max=g.min+v,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[p].max=e.relativeTarget[p].min+v)});const l=Ph();Bg(l,n,r.layoutBox);const c=Ph();o?Bg(c,e.applyTransform(i,!0),r.measuredBox):Bg(c,n,r.layoutBox);const u=!Z9(l);let f=!1;if(!e.resumeFrom){const p=e.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:g,layout:v}=p;if(g&&v){const b=pn();zg(b,r.layoutBox,g.layoutBox);const y=pn();zg(y,n,v.layoutBox),Y9(b,y)||(f=!0),p.options.layoutRoot&&(e.relativeTarget=y,e.relativeTargetOrigin=b,e.relativeParent=p)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:f})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function ele(e){Sg&&id.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function tle(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function rle(e){e.clearSnapshot()}function B4(e){e.clearMeasurements()}function nle(e){e.isLayoutDirty=!1}function ile(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function z4(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function sle(e){e.resolveTargetDelta()}function ale(e){e.calcProjection()}function ole(e){e.resetSkewAndRotation()}function lle(e){e.removeLeadSnapshot()}function q4(e,t,r){e.translate=nn(t.translate,0,r),e.scale=nn(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function U4(e,t,r,n){e.min=nn(t.min,r.min,n),e.max=nn(t.max,r.max,n)}function cle(e,t,r,n){U4(e.x,t.x,r.x,n),U4(e.y,t.y,r.y,n)}function ule(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const dle={duration:.45,ease:[.4,0,.1,1]},V4=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),W4=V4("applewebkit/")&&!V4("chrome/")?Math.round:ks;function H4(e){e.min=W4(e.min),e.max=W4(e.max)}function fle(e){H4(e.x),H4(e.y)}function Q9(e,t,r){return e==="position"||e==="preserve-aspect"&&!moe(D4(t),D4(r),.2)}function hle(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const ple=J9({attachResizeListener:(e,t)=>av(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),_S={current:void 0},e7=J9({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!_S.current){const e=new ple({});e.mount(window),e.setOptions({layoutScroll:!0}),_S.current=e}return _S.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),mle={pan:{Feature:Aoe},drag:{Feature:koe,ProjectionNode:e7,MeasureLayout:H9}};function K4(e,t,r){const{props:n}=e;e.animationState&&n.whileHover&&e.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Gr.postRender(()=>s(t,uy(t)))}class gle extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=mse(t,r=>(K4(this.node,r,"Start"),n=>K4(this.node,n,"End"))))}unmount(){}}class vle extends mu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=cy(av(this.node.current,"focus",()=>this.onFocus()),av(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function G4(e,t,r){const{props:n}=e;e.animationState&&n.whileTap&&e.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Gr.postRender(()=>s(t,uy(t)))}class yle extends mu{mount(){const{current:t}=this.node;t&&(this.unmount=xse(t,r=>(G4(this.node,r,"Start"),(n,{success:i})=>G4(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const hT=new WeakMap,jS=new WeakMap,xle=e=>{const t=hT.get(e.target);t&&t(e)},ble=e=>{e.forEach(xle)};function wle({root:e,...t}){const r=e||document;jS.has(r)||jS.set(r,{});const n=jS.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(ble,{root:e,...t})),n[i]}function _le(e,t,r){const n=wle(t);return hT.set(e,r),n.observe(e),()=>{hT.delete(e),n.unobserve(e)}}const jle={some:0,all:1};class Sle extends mu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=t,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:jle[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:p}=this.node.getProps(),g=u?f:p;g&&g(c)};return _le(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Nle(t,r))&&this.startObserver()}unmount(){}}function Nle({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const Cle={inView:{Feature:Sle},tap:{Feature:yle},focus:{Feature:vle},hover:{Feature:gle}},Ele={layout:{ProjectionNode:e7,MeasureLayout:H9}},pT={current:null},t7={current:!1};function Ple(){if(t7.current=!0,!!uO)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>pT.current=e.matches;e.addListener(t),t()}else pT.current=!1}const Tle=[...C9,bi,lu],kle=e=>Tle.find(N9(e)),Z4=new WeakMap;function Ale(e,t,r){for(const n in t){const i=t[n],s=r[n];if(Si(i))e.addValue(n,i);else if(Si(s))e.addValue(n,iv(i,{owner:e}));else if(s!==i)if(e.hasValue(n)){const o=e.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=e.getStaticValue(n);e.addValue(n,iv(o!==void 0?o:i,{owner:e}))}}for(const n in r)t[n]===void 0&&e.removeValue(n);return t}const Y4=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ole{scrapeMotionValuesFromProps(t,r,n){return{}}constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=DO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=So.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Gr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:f}=o;this.onUpdate=f,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=m_(r),this.isVariantNode=MV(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:p,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const b=g[v];c[v]!==void 0&&Si(b)&&b.set(c[v],!1)}}mount(t){this.current=t,Z4.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),t7.current||Ple(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:pT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Z4.delete(this.current),this.projection&&this.projection.unmount(),ou(this.notifyUpdate),ou(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const r=this.features[t];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(t,r){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Vd.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Gr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,t,r)),this.valueSubscriptions.set(t,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Hh){const r=Hh[t];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[t]&&i&&n(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<Y4.length;n++){const i=Y4[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=t[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Ale(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){const n=this.values.get(t);r!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,r),this.values.set(t,r),this.latestValues[t]=r.get())}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=iv(r===null?void 0:r,{owner:this}),this.addValue(t,n)),n}readValue(t,r){var n;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(j9(i)||p9(i))?i=parseFloat(i):!kle(i)&&lu.test(r)&&(i=b9(t,r)),this.setBaseTarget(t,Si(i)?i.get():i)),Si(i)?i.get():i}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=vO(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[t])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Si(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new AO),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class r7 extends Ole{constructor(){super(...arguments),this.KeyframeResolver=E9}sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Si(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Rle(e){return window.getComputedStyle(e)}class Mle extends r7{constructor(){super(...arguments),this.type="html",this.renderInstance=UV}readValueFromInstance(t,r){if(Vd.has(r)){const n=LO(r);return n&&n.default||0}else{const n=Rle(t),i=(BV(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return V9(t,r)}build(t,r,n){bO(t,r,n.transformTemplate)}scrapeMotionValuesFromProps(t,r,n){return SO(t,r,n)}}class Ile extends r7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=pn}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(Vd.has(r)){const n=LO(r);return n&&n.default||0}return r=VV.has(r)?r:pO(r),t.getAttribute(r)}scrapeMotionValuesFromProps(t,r,n){return KV(t,r,n)}build(t,r,n){wO(t,r,this.isSVGTag,n.transformTemplate)}renderInstance(t,r,n,i){WV(t,r,n,i)}mount(t){this.isSVGTag=jO(t.tagName),super.mount(t)}}const Lle=(e,t)=>gO(e)?new Ile(t):new Mle(t,{allowProjection:e!==x.Fragment}),Dle=lse({...aoe,...Cle,...mle,...Ele},Lle),Re=jie(Dle),$le=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ay(async()=>{const{default:n}=await Promise.resolve().then(()=>Lp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class zO extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Fle extends zO{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class X4 extends zO{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class J4 extends zO{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mT;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mT||(mT={}));var Ble=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class zle{constructor(t,{headers:r={},customFetch:n,region:i=mT.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=$le(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return Ble(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let f;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(l["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(l["Content-Type"]="application/json",f=JSON.stringify(o)));const p=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:f}).catch(y=>{throw new Fle(y)}),g=p.headers.get("x-relay-error");if(g&&g==="true")throw new X4(p);if(!p.ok)throw new J4(p);let v=((n=p.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return v==="application/json"?b=yield p.json():v==="application/octet-stream"?b=yield p.blob():v==="text/event-stream"?b=p:v==="multipart/form-data"?b=yield p.formData():b=yield p.text(),{data:b,error:null,response:p}}catch(i){return{data:null,error:i,response:i instanceof J4||i instanceof X4?i.context:void 0}}})}}var Hn={},Xf={},Jf={},Qf={},eh={},th={},qle=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Gh=qle();const Ule=Gh.fetch,n7=Gh.fetch.bind(Gh),i7=Gh.Headers,Vle=Gh.Request,Wle=Gh.Response,Lp=Object.freeze(Object.defineProperty({__proto__:null,Headers:i7,Request:Vle,Response:Wle,default:n7,fetch:Ule},Symbol.toStringTag,{value:"Module"})),Hle=ZU(Lp);var p0={},Q4;function s7(){if(Q4)return p0;Q4=1,Object.defineProperty(p0,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return p0.default=e,p0}var e$;function a7(){if(e$)return th;e$=1;var e=th&&th.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(th,"__esModule",{value:!0});const t=e(Hle),r=e(s7());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var f,p,g;let v=null,b=null,y=null,_=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?b=k:b=JSON.parse(k))}const C=(f=this.headers.Prefer)===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),A=(p=u.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");C&&A&&A.length>1&&(y=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(v={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,_=406,S="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const C=await u.text();try{v=JSON.parse(C),Array.isArray(v)&&u.status===404&&(b=[],v=null,_=200,S="OK")}catch{u.status===404&&C===""?(_=204,S="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,_=200,S="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:b,count:y,status:_,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var f,p,g;return{error:{message:`${(f=u?.name)!==null&&f!==void 0?f:"FetchError"}: ${u?.message}`,details:`${(p=u?.stack)!==null&&p!==void 0?p:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return th.default=n,th}var t$;function o7(){if(t$)return eh;t$=1;var e=eh&&eh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(eh,"__esModule",{value:!0});const t=e(a7());class r extends t.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var f;const p=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.Accept)!==null&&f!==void 0?f:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${p};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return eh.default=r,eh}var r$;function qO(){if(r$)return Qf;r$=1;var e=Qf&&Qf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Qf,"__esModule",{value:!0});const t=e(o7());class r extends t.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Qf.default=r,Qf}var n$;function l7(){if(n$)return Jf;n$=1;var e=Jf&&Jf.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Jf,"__esModule",{value:!0});const t=e(qO());class r{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=s,this.schema=o,this.fetch=l}select(i,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(f=>/\s/.test(f)&&!c?"":(f==='"'&&(c=!c),f)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((f,p)=>f.concat(Object.keys(p)),[]);if(u.length>0){const f=[...new Set(u)].map(p=>`"${p}"`);this.url.searchParams.set("columns",f.join(","))}}return new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",f=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&f.push(this.headers.Prefer),l&&f.push(`count=${l}`),c||f.push("missing=default"),this.headers.Prefer=f.join(","),Array.isArray(i)){const p=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(p.length>0){const g=[...new Set(p)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Jf.default=r,Jf}var Qm={},eg={},i$;function Kle(){return i$||(i$=1,Object.defineProperty(eg,"__esModule",{value:!0}),eg.version=void 0,eg.version="0.0.0-automated"),eg}var s$;function Gle(){if(s$)return Qm;s$=1,Object.defineProperty(Qm,"__esModule",{value:!0}),Qm.DEFAULT_HEADERS=void 0;const e=Kle();return Qm.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${e.version}`},Qm}var a$;function Zle(){if(a$)return Xf;a$=1;var e=Xf&&Xf.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Xf,"__esModule",{value:!0});const t=e(l7()),r=e(qO()),n=Gle();class i{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new t.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:f}={}){let p;const g=new URL(`${this.url}/rpc/${o}`);let v;c||u?(p=c?"HEAD":"GET",Object.entries(l).filter(([y,_])=>_!==void 0).map(([y,_])=>[y,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([y,_])=>{g.searchParams.append(y,_)})):(p="POST",v=l);const b=Object.assign({},this.headers);return f&&(b.Prefer=`count=${f}`),new r.default({method:p,url:g,headers:b,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return Xf.default=i,Xf}var o$;function Yle(){if(o$)return Hn;o$=1;var e=Hn&&Hn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.PostgrestError=Hn.PostgrestBuilder=Hn.PostgrestTransformBuilder=Hn.PostgrestFilterBuilder=Hn.PostgrestQueryBuilder=Hn.PostgrestClient=void 0;const t=e(Zle());Hn.PostgrestClient=t.default;const r=e(l7());Hn.PostgrestQueryBuilder=r.default;const n=e(qO());Hn.PostgrestFilterBuilder=n.default;const i=e(o7());Hn.PostgrestTransformBuilder=i.default;const s=e(a7());Hn.PostgrestBuilder=s.default;const o=e(s7());return Hn.PostgrestError=o.default,Hn.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Hn}var Xle=Yle();const Jle=pr(Xle),{PostgrestClient:Qle,PostgrestQueryBuilder:xze,PostgrestFilterBuilder:bze,PostgrestTransformBuilder:wze,PostgrestBuilder:_ze,PostgrestError:jze}=Jle;function ece(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const tce=ece(),rce="2.11.15",nce=`realtime-js/${rce}`,ice="1.0.0",c7=1e4,sce=1e3;var qg;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(qg||(qg={}));var xi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(xi||(xi={}));var Aa;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Aa||(Aa={}));var gT;(function(e){e.websocket="websocket"})(gT||(gT={}));var ud;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ud||(ud={}));class ace{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+i));o=o+i;const c=n.decode(t.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class u7{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var $r;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})($r||($r={}));const l$=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=oce(o,e,t,i),s),{})},oce=(e,t,r,n)=>{const i=t.find(l=>l.name===e),s=i?.type,o=r[e];return s&&!n.includes(s)?d7(s,o):vT(o)},d7=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return dce(t,r)}switch(e){case $r.bool:return lce(t);case $r.float4:case $r.float8:case $r.int2:case $r.int4:case $r.int8:case $r.numeric:case $r.oid:return cce(t);case $r.json:case $r.jsonb:return uce(t);case $r.timestamp:return fce(t);case $r.abstime:case $r.date:case $r.daterange:case $r.int4range:case $r.int8range:case $r.money:case $r.reltime:case $r.text:case $r.time:case $r.timestamptz:case $r.timetz:case $r.tsrange:case $r.tstzrange:return vT(t);default:return vT(t)}},vT=e=>e,lce=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cce=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},uce=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dce=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let s;const o=e.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>d7(t,l))}return e},fce=e=>typeof e=="string"?e.replace(" ","T"):e,f7=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class SS{constructor(t,r,n={},i=c7){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var c$;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(c$||(c$={}));class Ug{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ug.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Ug.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Ug.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const s=this.cloneDeep(t),o=this.transformState(r),l={},c={};return this.map(s,(u,f)=>{o[u]||(c[u]=f)}),this.map(o,(u,f)=>{const p=s[u];if(p){const g=f.map(_=>_.presence_ref),v=p.map(_=>_.presence_ref),b=f.filter(_=>v.indexOf(_.presence_ref)<0),y=p.filter(_=>g.indexOf(_.presence_ref)<0);b.length>0&&(l[u]=b),y.length>0&&(c[u]=y)}else l[u]=f}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(t,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const f=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),f.length>0){const p=t[l].map(v=>v.presence_ref),g=f.filter(v=>p.indexOf(v.presence_ref)<0);t[l].unshift(...g)}n(l,f,c)}),this.map(o,(l,c)=>{let u=t[l];if(!u)return;const f=c.map(p=>p.presence_ref);u=u.filter(p=>f.indexOf(p.presence_ref)<0),t[l]=u,i(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var u$;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(u$||(u$={}));var d$;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(d$||(d$={}));var pl;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(pl||(pl={}));class UO{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=xi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new SS(this,Aa.join,this.params,this.timeout),this.rejoinTimer=new u7(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=xi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=xi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=xi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=xi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Aa.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Ug(this),this.broadcastEndpointURL=f7(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==xi.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(f=>t?.(pl.CHANNEL_ERROR,f)),this._onClose(()=>t?.(pl.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var p;if(this.socket.setAuth(),f===void 0){t?.(pl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(p=g?.length)!==null&&p!==void 0?p:0,b=[];for(let y=0;y<v;y++){const _=g[y],{filter:{event:S,schema:N,table:C,filter:A}}=_,k=f&&f[y];if(k&&k.event===S&&k.schema===N&&k.table===C&&k.filter===A)b.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=xi.errored,t?.(pl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,t&&t(pl.SUBSCRIBED);return}}).receive("error",f=>{this.state=xi.errored,t?.(pl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t?.(pl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=xi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Aa.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new SS(this,Aa.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new SS(this,t,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,s;const o=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:f}=Aa;if(n&&[l,c,u,f].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var b,y,_;return((b=v.filter)===null||b===void 0?void 0:b.event)==="*"||((_=(y=v.filter)===null||y===void 0?void 0:y.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var b,y,_,S,N,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const A=v.id,k=(b=v.filter)===null||b===void 0?void 0:b.event;return A&&((y=r.ids)===null||y===void 0?void 0:y.includes(A))&&(k==="*"||k?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(N=(S=v?.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const b=g.data,{schema:y,table:_,commit_timestamp:S,type:N,errors:C}=b;g=Object.assign(Object.assign({},{schema:y,table:_,commit_timestamp:S,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(b))}v.callback(g,n)})}_isClosed(){return this.state===xi.closed}_isJoined(){return this.state===xi.joined}_isJoining(){return this.state===xi.joining}_isLeaving(){return this.state===xi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&UO.isEqual(i.filter,r))}),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Aa.close,{},t)}_onError(t){this._on(Aa.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=xi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=l$(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=l$(t.columns,t.old_record)),r}}const f$=()=>{},hce=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pce{constructor(t,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=c7,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=f$,this.ref=0,this.logger=f$,this.conn=null,this.sendBuffer=[],this.serializer=new ace,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>ay(async()=>{const{default:c}=await Promise.resolve().then(()=>Lp);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${t}/${gT.websocket}`,this.httpEndpoint=f7(t),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new u7(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=tce),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ice}))}disconnect(t,r){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case qg.connecting:return ud.Connecting;case qg.open:return ud.Open;case qg.closing:return ud.Closing;default:return ud.Closed}}isConnected(){return this.connectionState()===ud.Open}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new UO(`realtime:${t}`,r,this);return this.channels.push(s),s}}push(t){const{topic:r,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){let r=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:nce};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Aa.access_token,{access_token:r})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(sce,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Aa.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([hce],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class VO extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Kn(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class mce extends VO{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yT extends VO{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var gce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const h7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ay(async()=>{const{default:n}=await Promise.resolve().then(()=>Lp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},vce=()=>gce(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ay(()=>Promise.resolve().then(()=>Lp),void 0)).Response:Response}),xT=e=>{if(Array.isArray(e))return e.map(r=>xT(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=xT(n)}),t},yce=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Wd=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const NS=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xce=(e,t,r)=>Wd(void 0,void 0,void 0,function*(){const n=yield vce();e instanceof n&&!r?.noResolveJson?e.json().then(i=>{const s=e.status||500,o=i?.statusCode||s+"";t(new mce(NS(i),s,o))}).catch(i=>{t(new yT(NS(i),i))}):t(new yT(NS(e),e))}),bce=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"||!n?i:(yce(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function dy(e,t,r,n,i,s){return Wd(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,bce(t,n,i,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>xce(c,l,n))})})}function kb(e,t,r,n){return Wd(this,void 0,void 0,function*(){return dy(e,"GET",t,r,n)})}function ml(e,t,r,n,i){return Wd(this,void 0,void 0,function*(){return dy(e,"POST",t,n,i,r)})}function bT(e,t,r,n,i){return Wd(this,void 0,void 0,function*(){return dy(e,"PUT",t,n,i,r)})}function wce(e,t,r,n){return Wd(this,void 0,void 0,function*(){return dy(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function p7(e,t,r,n,i){return Wd(this,void 0,void 0,function*(){return dy(e,"DELETE",t,n,i,r)})}var Yi=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const _ce={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class jce{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=h7(i)}uploadOrUpdate(t,r,n,i){return Yi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},h$),i);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),p=yield(t=="PUT"?bT:ml)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:p.Id,fullPath:p.Key},error:null}}catch(s){if(Kn(s))return{data:null,error:s};throw s}})}upload(t,r,n){return Yi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Yi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:h$.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const p=yield bT(this.fetch,l.toString(),c,{headers:f});return{data:{path:s,fullPath:p.Key},error:null}}catch(c){if(Kn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return Yi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield ml(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new VO("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}update(t,r,n){return Yi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Yi(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Yi(this,void 0,void 0,function*(){try{return{data:{path:(yield ml(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Yi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ml(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Yi(this,void 0,void 0,function*(){try{const i=yield ml(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}download(t,r){return Yi(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield kb(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Kn(l))return{data:null,error:l};throw l}})}info(t){return Yi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield kb(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xT(n),error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}exists(t){return Yi(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield wce(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Kn(n)&&n instanceof yT){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return Yi(this,void 0,void 0,function*(){try{return{data:yield p7(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}list(t,r,n){return Yi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},_ce),r),{prefix:t||""});return{data:yield ml(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Kn(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Sce="2.10.4",Nce={"X-Client-Info":`storage-js/${Sce}`};var rh=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Cce{constructor(t,r={},n,i){const s=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Nce),r),this.fetch=h7(n)}listBuckets(){return rh(this,void 0,void 0,function*(){try{return{data:yield kb(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Kn(t))return{data:null,error:t};throw t}})}getBucket(t){return rh(this,void 0,void 0,function*(){try{return{data:yield kb(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return rh(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return rh(this,void 0,void 0,function*(){try{return{data:yield bT(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Kn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return rh(this,void 0,void 0,function*(){try{return{data:yield ml(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rh(this,void 0,void 0,function*(){try{return{data:yield p7(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Kn(r))return{data:null,error:r};throw r}})}}class Ece extends Cce{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new jce(this.url,this.headers,t,this.fetch)}}const Pce="2.53.0";let Ng="";typeof Deno<"u"?Ng="deno":typeof document<"u"?Ng="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ng="react-native":Ng="node";const Tce={"X-Client-Info":`supabase-js-${Ng}/${Pce}`},kce={headers:Tce},Ace={schema:"public"},Oce={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rce={};var Mce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Ice=e=>{let t;return e?t=e:typeof fetch>"u"?t=n7:t=fetch,(...r)=>t(...r)},Lce=()=>typeof Headers>"u"?i7:Headers,Dce=(e,t,r)=>{const n=Ice(r),i=Lce();return(s,o)=>Mce(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var $ce=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Fce(e){return e.endsWith("/")?e:e+"/"}function Bce(e,t){var r,n;const{db:i,auth:s,realtime:o,global:l}=e,{db:c,auth:u,realtime:f,global:p}=t,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},p),l),{headers:Object.assign(Object.assign({},(r=p?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>$ce(this,void 0,void 0,function*(){return""})};return e.accessToken?g.accessToken=e.accessToken:delete g.accessToken,g}const m7="2.71.1",wh=30*1e3,wT=3,CS=wT*wh,zce="http://localhost:9999",qce="supabase.auth.token",Uce={"X-Client-Info":`gotrue-js/${m7}`},_T="X-Supabase-Api-Version",g7={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Vce=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Wce=10*60*1e3;class WO extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ft(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Hce extends WO{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Kce(e){return Ft(e)&&e.name==="AuthApiError"}class v7 extends WO{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class gu extends WO{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Dc extends gu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Gce(e){return Ft(e)&&e.name==="AuthSessionMissingError"}class m0 extends gu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class g0 extends gu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class v0 extends gu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zce(e){return Ft(e)&&e.name==="AuthImplicitGrantRedirectError"}class p$ extends gu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jT extends gu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ES(e){return Ft(e)&&e.name==="AuthRetryableFetchError"}class m$ extends gu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ST extends gu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ab="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),g$=` 	
\r=`.split(""),Yce=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<g$.length;t+=1)e[g$[t].charCodeAt(0)]=-2;for(let t=0;t<Ab.length;t+=1)e[Ab[t].charCodeAt(0)]=t;return e})();function v$(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ab[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ab[n]),t.queuedBits-=6}}function y7(e,t,r){const n=Yce[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function y$(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{Qce(o,n,r)};for(let o=0;o<e.length;o+=1)y7(e.charCodeAt(o),i,s);return t.join("")}function Xce(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Jce(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Xce(n,t)}}function Qce(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function eue(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)y7(e.charCodeAt(i),r,n);return new Uint8Array(t)}function tue(e){const t=[];return Jce(e,r=>t.push(r)),new Uint8Array(t)}function rue(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>v$(i,r,n)),v$(null,r,n),t.join("")}function nue(e){return Math.round(Date.now()/1e3)+e}function iue(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pa=()=>typeof window<"u"&&typeof document<"u",ed={tested:!1,writable:!1},x7=()=>{if(!Pa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ed.tested)return ed.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ed.tested=!0,ed.writable=!0}catch{ed.tested=!0,ed.writable=!1}return ed.writable};function sue(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const b7=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>ay(async()=>{const{default:n}=await Promise.resolve().then(()=>Lp);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},aue=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",_h=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},td=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tc=async(e,t)=>{await e.removeItem(t)};class y_{constructor(){this.promise=new y_.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}y_.promiseConstructor=Promise;function PS(e){const t=e.split(".");if(t.length!==3)throw new ST("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Vce.test(t[n]))throw new ST("JWT not in base64url format");return{header:JSON.parse(y$(t[0])),payload:JSON.parse(y$(t[1])),signature:eue(t[2]),raw:{header:t[0],payload:t[1]}}}async function oue(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lue(e,t){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await e(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})()})}function cue(e){return("0"+e.toString(16)).substr(-2)}function uue(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,cue).join("")}async function due(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function fue(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await due(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nh(e,t,r=!1){const n=uue();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await _h(e,`${t}-code-verifier`,i);const s=await fue(n);return[s,n===s?"plain":"s256"]}const hue=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pue(e){const t=e.headers.get(_T);if(!t||!t.match(hue))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function mue(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function gue(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vue=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ih(e){if(!vue.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function TS(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x$(e){return JSON.parse(JSON.stringify(e))}var yue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const sd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xue=[502,503,504];async function b$(e){var t;if(!aue(e))throw new jT(sd(e),0);if(xue.includes(e.status))throw new jT(sd(e),e.status);let r;try{r=await e.json()}catch(s){throw new v7(sd(s),s)}let n;const i=pue(e);if(i&&i.getTime()>=g7["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new m$(sd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Dc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new m$(sd(r),e.status,r.weak_password.reasons);throw new Hce(sd(r),e.status||500,n)}const bue=(e,t,r,n)=>{const i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Zt(e,t,r,n){var i;const s=Object.assign({},n?.headers);s[_T]||(s[_T]=g7["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await wue(e,t,r+l,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function wue(e,t,r,n,i,s){const o=bue(t,n,i,s);let l;try{l=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new jT(sd(c),0)}if(l.ok||await b$(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await b$(c)}}function hl(e){var t;let r=null;Nue(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=nue(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function w$(e){const t=hl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Vc(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function _ue(e){return{data:e,error:null}}function jue(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=e,o=yue(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Sue(e){return e}function Nue(e){return e.access_token&&e.refresh_token&&e.expires_in}const kS=["global","local","others"];var Cue=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class Eue{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=b7(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=kS[0]){if(kS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kS.join(", ")}`);try{return await Zt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Zt(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Cue(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Zt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:jue,redirectTo:r?.redirectTo})}catch(r){if(Ft(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Zt(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Vc})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},f=await Zt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Sue});if(f.error)throw f.error;const p=await f.json(),g=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=f.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(b=>{const y=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(b.split(";")[1].split("=")[1]);u[`${_}Page`]=y}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},p),u),error:null}}catch(u){if(Ft(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){ih(t);try{return await Zt(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Vc})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ih(t);try{return await Zt(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Vc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ih(t);try{return await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ih(t.userId);try{const{data:r,error:n}=await Zt(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ih(t.userId),ih(t.id);try{return{data:await Zt(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}}function _$(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function Pue(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const sh={debug:!!(globalThis&&x7()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class w7 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Tue extends w7{}async function kue(e,t,r){sh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),sh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){sh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{sh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw sh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Tue(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Pue();const Aue={url:zce,storageKey:qce,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function j$(e,t,r){return await r()}const ah={};class ov{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ov.nextInstanceID,ov.nextInstanceID+=1,this.instanceID>0&&Pa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Aue),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Eue({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=b7(i.fetch),this.lock=i.lock||j$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Pa()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=kue:this.lock=j$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:x7()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=_$(this.memoryStorage)),Pa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=ah[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ah[this.storageKey]=Object.assign(Object.assign({},ah[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ah[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ah[this.storageKey]=Object.assign(Object.assign({},ah[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${m7}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=sue(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Pa()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Zce(s)){const c=(t=s.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ft(r)?{error:r}:{error:new v7("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t?.options)===null||i===void 0?void 0:i.captchaToken}},xform:hl}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ft(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var r,n,i;try{let s;if("email"in t){const{email:f,password:p,options:g}=t;let v=null,b=null;this.flowType==="pkce"&&([v,b]=await nh(this.storage,this.storageKey)),s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:f,password:p,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:b},xform:hl})}else if("phone"in t){const{phone:f,password:p,options:g}=t;s=await Zt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:p,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:hl})}else throw new g0("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let r;if("email"in t){const{email:s,password:o,options:l}=t;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:w$})}else if("phone"in t){const{phone:s,password:o,options:l}=t;r=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:w$})}else throw new g0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new m0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,s,o,l,c,u,f,p,g,v;let b,y;if("message"in t)b=t.message,y=t.signature;else{const{chain:_,wallet:S,statement:N,options:C}=t;let A;if(Pa())if(typeof S=="object")A=S;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))A=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const k=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const P=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),N?{statement:N}:null));let O;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")O=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)O=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)b=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),y=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${k.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(f=C?.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const P=await A.signMessage(new TextEncoder().encode(b),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=P}}try{const{data:_,error:S}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:rue(y)},!((g=t.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:hl});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new m0}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Ft(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await td(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:hl});if(await Tc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new m0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ft(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=t,l=await Zt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:hl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new m0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,s,o;try{if("email"in t){const{email:l,options:c}=t;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await nh(this.storage,this.storageKey));const{error:p}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:f}=await Zt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:f}}throw new g0("You must provide either an email or phone number.")}catch(l){if(Ft(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let i,s;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,s=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Zt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:hl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await nh(this.storage,this.storageKey)),await Zt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:_ue})}catch(s){if(Ft(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Dc;const{error:i}=await Zt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(Ft(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:s}=t,{error:o}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:i,options:s}=t,{data:o,error:l}=await Zt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new g0("You must provide either an email or phone number and a type")}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await td(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<CS:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await td(this.userStorage,this.storageKey+"-user");o?.user?t.user=o.user:t.user=TS()}if(this.storage.isServer&&t.user){let o=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,f)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,f))})}return{data:{session:t},error:null}}const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Vc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Dc}:await Zt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Vc})})}catch(r){if(Ft(r))return Gce(r)&&(await this._removeSession(),await Tc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Dc;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await nh(this.storage,this.storageKey));const{data:u,error:f}=await Zt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Vc});if(f)throw f;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Dc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=PS(t.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;s={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ft(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new Dc;const{session:i,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Pa())throw new v0("No browser detected.");if(t.error||t.error_description||t.error_code)throw new v0(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new p$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new v0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new p$("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(t.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=t;if(!s||!l||!o||!u)throw new v0("No session defined in URL");const f=Math.round(Date.now()/1e3),p=parseInt(l);let g=f+p;c&&(g=parseInt(c));const v=g-f;v*1e3<=wh&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${p}s`);const b=g-p;f-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,g,f):f-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,g,f);const{data:y,error:_}=await this._getUser(s);if(_)throw _;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:p,expires_at:g,refresh_token:o,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if(Ft(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await td(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(Kce(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Tc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=iue(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await nh(this.storage,this.storageKey,!0));try{return await Zt(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ft(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,f;const{data:p,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Zt(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=p.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Pa()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Ft(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Zt(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lue(async i=>(i>0&&await oue(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Zt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:hl})),(i,s)=>{const o=200*Math.pow(2,i);return s&&ES(s)&&Date.now()+o-n<wh})}catch(n){if(this._debug(r,"error",n),Ft(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Pa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await td(this.storage,this.storageKey);if(i&&this.userStorage){let o=await td(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await _h(this.userStorage,this.storageKey+"-user",o)),i.user=(t=o?.user)!==null&&t!==void 0?t:TS()}else if(i&&!i.user&&!i.user){const o=await td(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Tc(this.storage,this.storageKey+"-user"),await _h(this.storage,this.storageKey,i)):i.user=TS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<CS;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${CS}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),ES(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Dc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new y_;const{data:s,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!s.session)throw new Dc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Ft(s)){const o={session:null,error:s};return ES(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await _h(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=x$(i);await _h(this.storage,this.storageKey,s)}else{const i=x$(r);await _h(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Tc(this.storage,this.storageKey),await Tc(this.storage,this.storageKey+"-code-verifier"),await Tc(this.storage,this.storageKey+"-user"),this.userStorage&&await Tc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pa()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),wh);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/wh);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wh}ms, refresh threshold is ${wT} ticks`),i<=wT&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof w7)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pa()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await nh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Zt(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Zt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Zt(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:s}=t;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=PS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const f=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Wce>i)return n;const{data:s,error:o}=await Zt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:v,error:b}=await this.getSession();if(b||!v.session)return{data:null,error:b};n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=PS(n);r?.allowExpired||mue(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const f=gue(i.alg),p=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,p,o,tue(`${l}.${c}`)))throw new ST("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}}ov.nextInstanceID=0;const Oue=ov;class Rue extends Oue{constructor(t){super(t)}}var Mue=function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(f){try{u(n.next(f))}catch(p){o(p)}}function c(f){try{u(n.throw(f))}catch(p){o(p)}}function u(f){f.done?s(f.value):i(f.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class Iue{constructor(t,r,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=Fce(t),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,f={db:Ace,realtime:Rce,auth:Object.assign(Object.assign({},Oce),{storageKey:u}),global:kce},p=Bce(n??{},f);this.storageKey=(i=p.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=p.global.headers)!==null&&s!==void 0?s:{},p.accessToken?(this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=p.auth)!==null&&o!==void 0?o:{},this.headers,p.global.fetch),this.fetch=Dce(r,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.rest=new Qle(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch}),this.storage=new Ece(this.storageUrl.href,this.headers,this.fetch,n?.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new zle(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return Mue(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:c},u,f){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Rue({url:this.authUrl.href,headers:Object.assign(Object.assign({},p),u),storageKey:s,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new pce(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Lue=(e,t,r)=>new Iue(e,t,r);function Due(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Due()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Wc="https://vvlpgviacinsbggfsexs.supabase.co";const HO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ2bHBndmlhY2luc2JnZ2ZzZXhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MjMzNjUsImV4cCI6MjA3MDA5OTM2NX0.YsZUDyYfgGHD7jNDKAVaR4Y0yzulwLo2NGo85ohHefY";console.log("🔍 Variables d'environnement détectées:");console.log("🔍 VITE_SUPABASE_URL:",Wc);console.log("🔍 VITE_SUPABASE_ANON_KEY length:",HO?.length);Wc&&Wc.startsWith("//")&&(Wc="https:"+Wc,console.log("🔧 URL Supabase corrigée:",Wc));const yr=!!(Wc&&HO);console.log("🔍 isSupabaseConfigured:",yr);yr||console.error("Supabase non configuré: VITE_SUPABASE_URL ou VITE_SUPABASE_ANON_KEY manquants");const gl={sessionTimeout:30*60*1e3,rememberMeDays:7,autoRefresh:!0,detectSessionInUrl:!0,persistSession:!0},we=Lue(Wc||"https://placeholder.supabase.co",HO,{auth:{autoRefreshToken:gl.autoRefresh,persistSession:gl.persistSession,detectSessionInUrl:gl.detectSessionInUrl,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"maximarket-web"}}});let $ue=0;const Fue=function(e){if(typeof window>"u"||typeof document>"u")return{id:"noop",dismiss:function(){}};const t="toast-"+ ++$ue,r=document.getElementById("toaster-container");if(!r)return console.warn("Toast container not found"),{id:"noop",dismiss:function(){}};try{const n=document.createElement("div");n.id=t,n.className="bg-background border rounded-md p-4 shadow-lg max-w-sm mb-2";let i="";return e.title&&(i+='<div class="font-semibold">'+e.title+"</div>"),e.description&&(i+='<div class="text-sm opacity-90 mt-1">'+e.description+"</div>"),n.innerHTML=i+'<button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-foreground/50 hover:text-foreground">✕</button>',r.appendChild(n),e.duration!==1/0&&setTimeout(function(){n.parentNode&&n.remove()},e.duration||5e3),{id:t,dismiss:function(){n.parentNode&&n.remove()}}}catch(n){return console.error("Error creating toast:",n),{id:"error",dismiss:function(){}}}};function Zr(){return{toast:Fue,toasts:[]}}const _7=x.createContext({}),Bue=({children:e})=>{const[t,r]=x.useState(null),[n,i]=x.useState(null),[s,o]=x.useState(!0),[l,c]=x.useState(null),[u,f]=x.useState(null),[p,g]=x.useState(!1),{toast:v}=Zr(),b=x.useCallback(()=>{if(l&&!p){const V=Date.now();V-(l.created_at?new Date(l.created_at).getTime():V)>gl.sessionTimeout&&(console.log("🕐 Session expirée, déconnexion automatique"),N(),v({title:"Session expirée",description:"Votre session a expiré. Veuillez vous reconnecter.",variant:"destructive"}))}},[l,p,v]);x.useEffect(()=>{if(!l)return;const V=setInterval(b,6e4);return()=>clearInterval(V)},[l,b]);const y=x.useCallback(V=>{g(V),V?(localStorage.setItem("maximarket-remember-me","true"),localStorage.setItem("maximarket-remember-date",new Date().toISOString())):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"))},[]);x.useEffect(()=>{const V=localStorage.getItem("maximarket-remember-me")==="true",U=localStorage.getItem("maximarket-remember-date");V&&U&&((Date.now()-new Date(U).getTime())/864e5<=gl.rememberMeDays?g(!0):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),g(!1)))},[]),x.useEffect(()=>{if(!yr){o(!1);return}(async()=>{const{data:{session:q}}=await we.auth.getSession();if(c(q),r(q?.user??null),q?.user)try{const{data:H}=await we.from("users").select("*").eq("id",q.user.id).single();if(i(H),q.created_at){const G=new Date(q.created_at).getTime()+gl.sessionTimeout;f(G)}}catch(H){console.error("Erreur lors de la récupération du profil:",H)}o(!1)})();const{data:{subscription:U}}=we.auth.onAuthStateChange(async(q,H)=>{if(console.log("Auth state changed:",q,H),c(H),r(H?.user??null),H?.user)try{const{data:G}=await we.from("users").select("*").eq("id",H.user.id).single();if(i(G),H.created_at){const se=new Date(H.created_at).getTime()+gl.sessionTimeout;f(se)}}catch(G){console.error("Erreur lors de la récupération du profil:",G)}else i(null),f(null);if(o(!1),q==="SIGNED_IN"){if(H?.user){const G={id:H.user.id,first_name:H.user.user_metadata?.first_name||"",last_name:H.user.user_metadata?.last_name||"",email:H.user.email,phone_number:H.user.user_metadata?.phone_number||"",role:"user"},{error:se}=await we.from("users").upsert([G],{onConflict:"id"});se&&console.error("Profile upsert error:",se)}v({title:"Connexion réussie",description:"Bienvenue sur MaxiMarket !"})}else if(q==="SIGNED_OUT")f(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date");else if(q==="TOKEN_REFRESHED"&&H?.created_at){const G=new Date(H.created_at).getTime()+gl.sessionTimeout;f(G)}});return()=>U.unsubscribe()},[v]);const _=async(V,U=!1)=>{try{if(!yr)throw new Error("Supabase non configuré");const{data:q,error:H}=await we.auth.signInWithPassword({email:V.email,password:V.password});if(H)throw H;return y(U),console.log("Supabase login successful:",q),!0}catch(q){return console.error("Login error:",q),v({title:"Erreur de connexion",description:q.message,variant:"destructive"}),!1}},S=async V=>{try{if(!yr)throw new Error("Supabase non configuré");const U=(V?.phoneNumber||"").trim(),q=/^\+?[1-9]\d{1,14}$/;if(!U)return v({title:"Numéro requis",description:"Le numéro de téléphone est obligatoire pour créer un compte.",variant:"destructive"}),!1;if(!q.test(U))return v({title:"Numéro invalide",description:"Veuillez saisir un numéro de téléphone valide (format international).",variant:"destructive"}),!1;const{data:H,error:G}=await we.auth.signUp({email:V.email,password:V.password,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{first_name:V.firstName,last_name:V.lastName,phone_number:U}}});if(G)throw G;if(console.log("Supabase register successful:",H),H.user){const{error:se}=await we.from("users").upsert([{id:H.user.id,first_name:V.firstName,last_name:V.lastName,email:V.email,phone_number:U,role:"user"}],{onConflict:"id"});se&&console.error("Profile upsert error:",se)}return H.user&&!H.user.email_confirmed_at?(v({title:"Inscription réussie",description:"Vérifiez votre email pour confirmer votre compte !"}),{success:!0,needsConfirmation:!0}):(v({title:"Inscription réussie",description:"Bienvenue sur MaxiMarket !"}),{success:!0,needsConfirmation:!1})}catch(U){return console.error("Register error:",U),v({title:"Erreur d'inscription",description:U.message,variant:"destructive"}),!1}},N=async()=>{try{const{error:V}=await we.auth.signOut();if(V)throw V;return f(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),!0}catch(V){return console.error("Logout error:",V),v({title:"Erreur de déconnexion",description:V.message,variant:"destructive"}),!1}},K={user:n||t,userProfile:n,session:l,sessionExpiry:u,isRememberMe:p,loading:s,login:_,register:S,logout:N,extendSession:async()=>{try{if(!l)return!1;const{data:V,error:U}=await we.auth.refreshSession();if(U)throw U;if(V.session){const q=new Date(V.session.created_at).getTime()+gl.sessionTimeout;return f(q),v({title:"Session étendue",description:"Votre session a été prolongée avec succès."}),!0}return!1}catch(V){return console.error("Erreur lors de l'extension de session:",V),!1}},getSessionStatus:()=>{if(!l)return"disconnected";if(p)return"remembered";if(u){const V=Date.now(),U=u-V;return U<=0?"expired":U<=5*60*1e3?"expiring_soon":"active"}return"active"},getSessionTimeLeft:()=>{if(!u)return 0;const V=Date.now(),U=u-V;return Math.max(0,U)},resetPassword:async V=>{try{const{error:U}=await we.auth.resetPasswordForEmail(V,{redirectTo:`${window.location.origin}/reset-password`});if(U)throw U;return v({title:"Email envoyé",description:"Vérifiez votre boîte mail pour réinitialiser votre mot de passe."}),!0}catch(U){return console.error("Reset password error:",U),v({title:"Erreur",description:U.message,variant:"destructive"}),!1}},updatePassword:async V=>{try{const{error:U}=await we.auth.updateUser({password:V});if(U)throw U;return v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été modifié avec succès."}),!0}catch(U){return console.error("Update password error:",U),v({title:"Erreur",description:U.message,variant:"destructive"}),!1}},hasRole:V=>t?n?.role?n.role===V:t.user_metadata?.role===V||t.app_metadata?.role===V:!1,hasAnyRole:V=>{if(!t)return!1;if(n?.role)return V.includes(n.role);const U=t.user_metadata?.role||t.app_metadata?.role;return V.includes(U)},isAuthenticated:!!t};return a.jsx(_7.Provider,{value:K,children:e})},jr=()=>{const e=x.useContext(_7);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(e,t)=>{const r=x.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},f)=>x.createElement("svg",{ref:f,...zue,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${que(e)}`,l].join(" "),...u},[...t.map(([p,g])=>x.createElement(p,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x_=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=Be("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vue=Be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=Be("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=Be("BadgeCent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M15.4 10a4 4 0 1 0 0 4",key:"2eqtx8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=Be("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NT=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CT=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sd=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b_=Be("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=Be("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hy=Be("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pn=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yn=Be("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=Be("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yue=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S$=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vg=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xue=Be("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N$=Be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=Be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=Be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jue=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ET=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hr=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=Be("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=Be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=Be("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ede=Be("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tde=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rde=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nde=Be("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rd=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ide=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PT=Be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sde=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C$=Be("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Be("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ade=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Md=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cu=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xn=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ode=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lde=Be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cde=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ude=Be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dde=Be("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fde=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hde=Be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pde=Be("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AS=Be("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mde=Be("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E$=Be("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gde=Be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kd=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TT=Be("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P$=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kT=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vde=Be("SearchCode",[["path",{d:"m9 9-2 2 2 2",key:"17gsfh"}],["path",{d:"m13 13 2-2-2-2",key:"186z8k"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const py=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AT=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=Be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rb=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gd=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yde=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xde=Be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=Be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bde=Be("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Is=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wde=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _de=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sa=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yd=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tg=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jde=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sde=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=Be("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nde=Be("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cde=Be("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ede=Be("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T$=Be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pde=Be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),ad=({children:e,requiredRole:t="user"})=>{const{user:r,loading:n}=jr(),i=Ci();if(console.log("🔒 ProtectedRoute check:",{user:!!r,loading:n,requiredRole:t,path:i.pathname}),n)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Mr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!r)return console.log("🔒 User not authenticated, redirecting to /connexion"),a.jsx(ND,{to:"/connexion",state:{from:i},replace:!0});const s=Array.isArray(r.roles)&&r.roles.includes(t)||r.role===t||r.roles===t;return t&&!s?a.jsx(ND,{to:"/",replace:!0}):e},kc=({children:e})=>a.jsx(ad,{requiredRole:"admin",children:e}),Tde=new bV({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(e,t)=>t?.status>=500?e<2:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}}),k$={listings:{staleTime:2*60*1e3,gcTime:5*60*1e3}};class kde{constructor(){this.isSupported="serviceWorker"in navigator,this.registration=null,this.updateAvailable=!1}async register(){if(!this.isSupported)return console.warn("⚠️ Service Worker non supporté par ce navigateur"),!1;try{return console.log("🔄 Enregistrement du Service Worker..."),this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("✅ Service Worker enregistré:",this.registration),this.registration.addEventListener("updatefound",()=>{console.log("🔄 Mise à jour du Service Worker disponible"),this.updateAvailable=!0}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("✅ Nouveau Service Worker activé"),this.updateAvailable=!1,window.location.reload()}),navigator.serviceWorker.addEventListener("message",t=>{console.log("📨 Message du Service Worker:",t.data)}),!0}catch(t){return console.error("❌ Erreur lors de l'enregistrement du Service Worker:",t),!1}}async unregister(){if(this.registration)try{return await this.registration.unregister(),console.log("✅ Service Worker désenregistré"),!0}catch(t){return console.error("❌ Erreur lors du désenregistrement:",t),!1}return!1}async update(){if(this.registration&&this.updateAvailable)try{return this.registration.active.postMessage({type:"SKIP_WAITING"}),console.log("🔄 Mise à jour du Service Worker déclenchée"),!0}catch(t){return console.error("❌ Erreur lors de la mise à jour:",t),!1}return!1}async clearCache(){if(this.registration)try{return this.registration.active.postMessage({type:"CLEAR_CACHE"}),console.log("🗑️ Vidage du cache demandé"),!0}catch(t){return console.error("❌ Erreur lors du vidage du cache:",t),!1}return!1}getStatus(){return{isSupported:this.isSupported,isRegistered:!!this.registration,updateAvailable:this.updateAvailable,scope:this.registration?.scope||null}}}const QO=new kde;class Ade{constructor(){this.usagePatterns=new Map,this.optimizations=new Map,this.isOptimizing=!1}recordUsage(t,r,n){this.usagePatterns.has(t)||this.usagePatterns.set(t,{hits:0,misses:0,lastAccess:n,accessTimes:[],totalAccesses:0});const i=this.usagePatterns.get(t);i.totalAccesses++,i.lastAccess=n,i.accessTimes.push(n),r?i.hits++:i.misses++,i.accessTimes.length>100&&i.accessTimes.shift(),this.optimizeTTL(t)}calculateAverageInterval(t){if(t.length<2)return 0;const r=[];for(let i=1;i<t.length;i++)r.push(t[i]-t[i-1]);return r.reduce((i,s)=>i+s,0)/r.length}calculateFreshnessRatio(t){if(t.hits+t.misses===0)return 0;const n=t.hits,i=t.misses;return n/(n+i)}optimizeTTL(t){const r=this.usagePatterns.get(t);if(!r||r.totalAccesses<10)return;const n=this.calculateAverageInterval(r.accessTimes),i=this.calculateFreshnessRatio(r),s=this.getCurrentTTL(t);let o=s;n<5*60*1e3&&i>.8?o=Math.min(s*1.5,30*60*1e3):n>15*60*1e3&&i<.3?o=Math.max(s*.7,1*60*1e3):n<1*60*1e3&&(o=Math.max(n*2,30*1e3)),this.optimizations.set(t,{currentTTL:s,optimalTTL:o,averageInterval:n,freshnessRatio:i,lastOptimized:Date.now()}),console.log(`🔧 TTL optimisé pour ${t}:`,{current:`${s/1e3}s`,optimal:`${o/1e3}s`,interval:`${n/1e3}s`,ratio:`${(i*100).toFixed(1)}%`})}getCurrentTTL(t){return t.includes("categories")?10*60*1e3:t.includes("listings")?2*60*1e3:t.includes("userListings")?1*60*1e3:(t.includes("search"),5*60*1e3)}getOptimalTTL(t){const r=this.optimizations.get(t);return r?r.optimalTTL:this.getCurrentTTL(t)}getOptimizationRecommendations(){const t=[];for(const[r,n]of this.optimizations){const i=(n.optimalTTL-n.currentTTL)/n.currentTTL*100;Math.abs(i)>10&&t.push({cacheKey:r,currentTTL:n.currentTTL,optimalTTL:n.optimalTTL,improvement:i.toFixed(1),averageInterval:n.averageInterval,freshnessRatio:n.freshnessRatio})}return t.sort((r,n)=>Math.abs(n.improvement)-Math.abs(r.improvement))}applyOptimizations(){const t=this.getOptimizationRecommendations();let r=0;for(const n of t)console.log(`✅ Optimisation appliquée pour ${n.cacheKey}:`,{from:`${n.currentTTL/1e3}s`,to:`${n.optimalTTL/1e3}s`,improvement:`${n.improvement}%`}),r++;return r}getOptimizationStats(){const t=this.usagePatterns.size,r=this.optimizations.size,n=this.getOptimizationRecommendations();return{totalPatterns:t,totalOptimizations:r,activeRecommendations:n.length,averageImprovement:n.length>0?n.reduce((i,s)=>i+Math.abs(parseFloat(s.improvement)),0)/n.length:0}}reset(){this.usagePatterns.clear(),this.optimizations.clear(),console.log("🔄 Optimisations TTL réinitialisées")}}const oh=new Ade;class Ode{constructor(t="benome"){this.prefix=t,this.maxSize=50*1024*1024}_getKey(t){return`${this.prefix}:${t}`}_isExpired(t,r){return Date.now()-t>r}_getSize(t){return new Blob([JSON.stringify(t)]).size}_cleanup(){const r=Object.keys(localStorage).filter(o=>o.startsWith(`${this.prefix}:`));if(r.length===0)return;const n=r.map(o=>{try{const l=JSON.parse(localStorage.getItem(o));return{key:o,timestamp:l.timestamp,size:this._getSize(l)}}catch{return{key:o,timestamp:0,size:0}}}).sort((o,l)=>o.timestamp-l.timestamp);let i=this._getCurrentCacheSize();const s=this.maxSize*.8;for(const o of n){if(i<=s)break;localStorage.removeItem(o.key),i-=o.size}}_getCurrentCacheSize(){return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).reduce((n,i)=>{try{const s=JSON.parse(localStorage.getItem(i));return n+this._getSize(s)}catch{return n}},0)}set(t,r,n=5*60*1e3){try{const i=this._getKey(t),s={data:r,timestamp:Date.now(),ttl:n,version:"1.0"},o=this._getSize(s);return o>this.maxSize?(console.warn("⚠️ Données trop volumineuses pour le cache local"),!1):(this._getCurrentCacheSize()+o>this.maxSize&&this._cleanup(),localStorage.setItem(i,JSON.stringify(s)),oh.recordUsage(t,!1,Date.now()),!0)}catch(i){return console.error("❌ Erreur lors de la sauvegarde en cache:",i),!1}}get(t){try{const r=this._getKey(t),n=localStorage.getItem(r);if(!n)return oh.recordUsage(t,!1,Date.now()),null;const i=JSON.parse(n);return this._isExpired(i.timestamp,i.ttl)?(this.delete(t),oh.recordUsage(t,!1,Date.now()),null):(oh.recordUsage(t,!0,Date.now()),i.data)}catch(r){return console.error("❌ Erreur lors de la récupération du cache:",r),this.delete(t),null}}delete(t){try{const r=this._getKey(t);return localStorage.removeItem(r),!0}catch(r){return console.error("❌ Erreur lors de la suppression du cache:",r),!1}}clear(){try{return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).forEach(n=>localStorage.removeItem(n)),!0}catch(t){return console.error("❌ Erreur lors du vidage du cache:",t),!1}}getStats(){try{const r=Object.keys(localStorage).filter(s=>s.startsWith(`${this.prefix}:`)),n={totalEntries:r.length,totalSize:this._getCurrentCacheSize(),maxSize:this.maxSize,usagePercentage:this._getCurrentCacheSize()/this.maxSize*100};let i=0;return r.forEach(s=>{try{const o=JSON.parse(localStorage.getItem(s));this._isExpired(o.timestamp,o.ttl)&&i++}catch{i++}}),n.expiredEntries=i,n}catch(t){return console.error("❌ Erreur lors du calcul des statistiques:",t),null}}cleanup(){try{const r=Object.keys(localStorage).filter(i=>i.startsWith(`${this.prefix}:`));let n=0;return r.forEach(i=>{try{const s=JSON.parse(localStorage.getItem(i));this._isExpired(s.timestamp,s.ttl)&&(localStorage.removeItem(i),n++)}catch{localStorage.removeItem(i),n++}}),console.log(`🧹 Cache nettoyé: ${n} entrées supprimées`),n}catch(t){return console.error("❌ Erreur lors du nettoyage du cache:",t),0}}getTTLOptimizations(){return oh.getOptimizationRecommendations()}applyTTLOptimizations(){return oh.applyOptimizations()}}const eR=new Ode;setInterval(()=>{eR.cleanup()},5*60*1e3);const Rde=(e,t)=>t.map(r=>{const n=e[r.key]||"";return r.type==="date"?Mde(n):r.type==="currency"?Ide(n):r.type==="boolean"?n?"Oui":"Non":r.type==="array"?Array.isArray(n)?n.join(", "):n:r.type==="object"&&typeof n=="object"?JSON.stringify(n):n}).map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","),Mde=e=>{if(!e)return"";try{const t=new Date(e);return isNaN(t.getTime())?e:t.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return e}},Ide=e=>{if(e==null)return"";try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}catch{return String(e)}},rg=(e,t,r="export")=>{try{const n=t.map(u=>u.label).join(","),i=e.map(u=>Rde(u,t)),s=[n,...i].join(`
`),o=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);return l.setAttribute("href",c),l.setAttribute("download",`${r}-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),{success:!0,message:"Export CSV réussi"}}catch(n){throw console.error("Erreur lors de l'export CSV:",n),new Error("Impossible d'exporter les données")}},Lde=[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"last_login_at",label:"Dernière connexion",type:"date"}],Dde=[{key:"id",label:"ID",type:"string"},{key:"title",label:"Titre",type:"string"},{key:"price",label:"Prix",type:"currency"},{key:"category",label:"Catégorie",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"location",label:"Localisation",type:"object"},{key:"views_count",label:"Vues",type:"number"},{key:"favorites_count",label:"Favoris",type:"number"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],$de=[{key:"id",label:"ID",type:"string"},{key:"reference",label:"Référence",type:"string"},{key:"type",label:"Type",type:"string"},{key:"amount",label:"Montant",type:"currency"},{key:"currency",label:"Devise",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"payment_method",label:"Méthode de paiement",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"completed_at",label:"Date de finalisation",type:"date"}],Fde=[{key:"id",label:"ID",type:"string"},{key:"name",label:"Nom",type:"string"},{key:"slug",label:"Slug",type:"string"},{key:"parent_category",label:"Type parent",type:"string"},{key:"description",label:"Description",type:"string"},{key:"icon",label:"Icône",type:"string"},{key:"sort_order",label:"Ordre de tri",type:"number"},{key:"is_active",label:"Actif",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],Bde=[{key:"id",label:"ID",type:"string"},{key:"reason",label:"Raison",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"type",label:"Type",type:"string"},{key:"severity",label:"Sévérité",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"moderated_at",label:"Date de modération",type:"date"}],j_={users:(e,t="utilisateurs")=>rg(e,Lde,t),listings:(e,t="annonces")=>rg(e,Dde,t),transactions:(e,t="transactions")=>rg(e,$de,t),categories:(e,t="categories")=>rg(e,Fde,t),reports:(e,t="rapports")=>rg(e,Bde,t)},Ba={getProfile:async(e=null)=>{const{data:{user:t}}=await we.auth.getUser(),r=e||t?.id;if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await we.from("users").select("*").eq("id",r).single();if(i)throw i;return n},updateProfile:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await we.from("users").update(e).eq("id",t.id).select().single();if(n)throw n;return r},getAllUsers:async()=>{const{data:e,error:t}=await we.from("users").select("*").order("created_at",{ascending:!1});if(t)throw t;return e},updateUserStatus:async(e,t)=>{const{data:r,error:n}=await we.from("users").update({status:t}).eq("id",e).select().single();if(n)throw n;return r},getUserById:async e=>{const{data:t,error:r}=await we.from("users").select("*").eq("id",e).single();if(r)throw r;return t},searchUsers:async(e,t={})=>{let r=we.from("users").select("*").or(`first_name.ilike.%${e}%,last_name.ilike.%${e}%,email.ilike.%${e}%`);t.role&&(r=r.eq("role",t.role)),t.status&&(r=r.eq("status",t.status));const{data:n,error:i}=await r.order("created_at",{ascending:!1});if(i)throw i;return n},updateUserRole:async(e,t)=>{const{data:r,error:n}=await we.from("users").update({role:t}).eq("id",e).select().single();if(n)throw n;return r},deleteUser:async e=>{const{error:t}=await we.from("users").delete().eq("id",e);if(t)throw t;return!0},getUserStats:async()=>{const{data:e,error:t}=await we.from("users").select("role, status, created_at");if(t)throw t;const r={total:e.length,byRole:{},byStatus:{},byMonth:{}};return e.forEach(n=>{r.byRole[n.role]=(r.byRole[n.role]||0)+1,r.byStatus[n.status]=(r.byStatus[n.status]||0)+1;const i=new Date(n.created_at).toISOString().slice(0,7);r.byMonth[i]=(r.byMonth[i]||0)+1}),r},exportUsers:async(e="csv")=>{const t=await Ba.getAllUsers();return j_(t,[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],`utilisateurs-${new Date().toISOString().split("T")[0]}`,e)}},zde=(e,t)=>{const r=e?.length||0;if(r===0)return{data:[],hasMore:!1,totalPremium:0};if(r<=t)return{data:e||[],hasMore:!1,totalPremium:r};const n=new Date,i=Math.floor((n-new Date(n.getFullYear(),0,0))/(1e3*60*60*24)),s=i%r,o=[];for(let l=0;l<t;l++){const c=(s+l)%r;o.push(e[c])}return console.log(`🔄 Rotation premium: ${r} total, ${t} affichées, offset: ${s}`),{data:o,hasMore:r>t,totalPremium:r,rotationInfo:{dayOfYear:i,rotationOffset:s,nextRotation:new Date(n.getTime()+24*60*60*1e3)}}},OS=e=>{let t=0;t+={highest:1e3,high:800,medium:600,low:400}[e.premium_metadata?.priority]||500,e.is_featured&&e.is_boosted?t+=900:e.is_featured?t+=700:e.is_boosted&&(t+=600);const n=Math.ceil((new Date(e.boost_expires_at)-new Date)/(1e3*60*60*24));t+=Math.max(0,n*10);const i=Math.ceil((Date.now()-new Date(e.updated_at))/(1e3*60*60*24));return t+=Math.max(0,30-i),t},zr={getAllListings:async(e={})=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour de données de test"),{data:[{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}},{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",description:"Véhicule en parfait état, entretien régulier, première main.",price:25e5,category:"automobile",status:"approved",user_id:"test-user-2",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},automobile_details:{brand:"Toyota",model:"Corolla",year:"2020"},contact_info:{phone:"+221 76 987 6543",email:"vendeur-auto@test.com"},users:{id:"test-user-2",first_name:"Fatou",last_name:"Sall",phone_number:"+221 76 987 6543",email:"fatou.sall@test.com"}},{id:"test-3",title:"Service de Plomberie Professionnel",description:"Plombier qualifié avec 10 ans d'expérience. Réparation, installation, maintenance. Intervention rapide 24h/24.",price:15e3,category:"services",status:"approved",user_id:"test-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Plomberie",experience:"10 ans",availability:"24h/24",verified:!0,certifications:["Certification professionnelle","Assurance responsabilité civile"]},contact_info:{phone:"+221 78 555 1234",email:"plombier@test.com",website:"www.plombier-dakar.com"},users:{id:"test-user-3",first_name:"Ibrahima",last_name:"Ndiaye",phone_number:"+221 78 555 1234",email:"ibrahima.ndiaye@test.com"}},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",description:"iPhone 13 Pro 128GB en excellent état, acheté il y a 6 mois. Boîte et accessoires inclus.",price:45e4,category:"marketplace",status:"approved",user_id:"test-user-4",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},product_details:{brand:"Apple",model:"iPhone 13 Pro",condition:"Excellent",warranty:"Garantie constructeur",dimensions:"146.7 x 71.5 x 7.65 mm",weight:"203g"},contact_info:{phone:"+221 77 888 9999",email:"tech@test.com"},users:{id:"test-user-4",first_name:"Aissatou",last_name:"Diop",phone_number:"+221 77 888 9999",email:"aissatou.diop@test.com"}}],count:4,hasMore:!1};const{page:t=0,limit:r=12,sort:n}=e,i=t*r,s=i+r-1;try{console.log("🔍 Début de la requête getAllListings"),console.log("🔍 Construction de la requête Supabase...");let o=we.from("listings").select("*").order(n==="popular"?"views_count":"created_at",{ascending:!1}).range(i,s);if(console.log("🔍 Requête de base construite"),e.category&&e.category!=="all"&&(o=o.eq("category",e.category)),e.status&&e.status!=="all"&&(o=o.eq("status",e.status)),e.user_id&&(o=o.eq("user_id",e.user_id)),e.search&&(o=o.or(`title.ilike.%${e.search}%,description.ilike.%${e.search}%`)),e.minPrice&&(o=o.gte("price",Number(e.minPrice))),e.maxPrice&&(o=o.lte("price",Number(e.maxPrice))),e.location){const f=String(e.location).trim();f&&(o=o.or(`location->>city.ilike.%${f}%,location->>country.ilike.%${f}%`))}console.log("🔍 Executing query with filters:",e),console.log("🔍 Lancement de la requête...");const{data:l,error:c}=await o;if(console.log("🔍 Requête terminée"),c)throw console.error("❌ Erreur Supabase:",c),c;const u=l?.map(f=>{try{return{...f,location:f.location?typeof f.location=="string"?JSON.parse(f.location):f.location:null,real_estate_details:f.real_estate_details?typeof f.real_estate_details=="string"?JSON.parse(f.real_estate_details):f.real_estate_details:null,automobile_details:f.automobile_details?typeof f.automobile_details=="string"?JSON.parse(f.automobile_details):f.automobile_details:null,service_details:f.service_details?typeof f.service_details=="string"?JSON.parse(f.service_details):f.service_details:null,product_details:f.product_details?typeof f.product_details=="string"?JSON.parse(f.product_details):f.product_details:null,contact_info:f.contact_info?typeof f.contact_info=="string"?JSON.parse(f.contact_info):f.contact_info:null}}catch(p){return console.warn("⚠️ Erreur parsing JSONB pour listing:",f.id,p),f}})||[];return{data:u,count:u.length,hasMore:!1}}catch(o){throw console.error("❌ Erreur dans getAllListings:",o),o}},getListingById:async e=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour d'annonce de test"),{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}};try{const{data:t,error:r}=await we.from("listings").select(`
          *,
          users:users!listings_user_id_fkey (
            id,
            first_name,
            last_name,
            phone_number,
            email
          )
        `).eq("id",e).eq("status","approved").single();if(r){console.log("🔍 Erreur avec requête simple:",r);const{data:n,error:i}=await we.from("listings").select(`
            *,
            users:users!listings_user_id_fkey (
              id,
              first_name,
              last_name,
              phone_number,
              email
            )
          `).eq("id",e).single();if(i)throw i;return n?(console.log("🔍 Annonce trouvée sans filtre de statut:",n.status),{...n,location:typeof n.location=="string"?JSON.parse(n.location):n.location,real_estate_details:typeof n.real_estate_details=="string"?JSON.parse(n.real_estate_details):n.real_estate_details,automobile_details:typeof n.automobile_details=="string"?JSON.parse(n.automobile_details):n.automobile_details,service_details:typeof n.service_details=="string"?JSON.parse(n.service_details):n.service_details,product_details:typeof n.product_details=="string"?JSON.parse(n.product_details):n.product_details,contact_info:typeof n.contact_info=="string"?JSON.parse(n.contact_info):n.contact_info}):null}return t?{...t,location:typeof t.location=="string"?JSON.parse(t.location):t.location,real_estate_details:typeof t.real_estate_details=="string"?JSON.parse(t.real_estate_details):t.real_estate_details,automobile_details:typeof t.automobile_details=="string"?JSON.parse(t.automobile_details):t.automobile_details,service_details:typeof t.service_details=="string"?JSON.parse(t.service_details):t.service_details,product_details:typeof t.product_details=="string"?JSON.parse(t.product_details):t.product_details,contact_info:typeof t.contact_info=="string"?JSON.parse(t.contact_info):t.contact_info}:null}catch(t){throw console.error("🔍 Erreur dans getListingById:",t),t}},incrementViews:async e=>{try{const{error:t}=await we.rpc("increment_listing_views",{listing_id:e});if(t)throw t}catch(t){console.warn("⚠️ Impossible d'incrémenter views_count pour",e,t?.message)}},getTopViewedListings:async(e=6)=>{if(console.log("🔍 getTopViewedListings appelé avec limit:",e),console.log("🔍 isSupabaseConfigured:",yr),!yr)return console.warn("⚠️ Supabase non configuré, retour de données de test (top vues)"),[{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",price:25e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:1200,is_featured:!1,is_boosted:!1},{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",price:5e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:980,is_featured:!1,is_boosted:!1},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",price:45e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!1}].slice(0,e);try{console.log("🔍 Tentative de connexion à Supabase...");const{data:t,error:r}=await we.from("listings").select("*").eq("status","approved").not("is_featured","eq",!0).not("is_boosted","eq",!0).order("views_count",{ascending:!1,nullsFirst:!1}).limit(e);if(console.log("🔍 Réponse Supabase:",{data:t,error:r}),r)throw r;const n=(t||[]).map(i=>({...i,location:i.location?typeof i.location=="string"?JSON.parse(i.location):i.location:null,real_estate_details:i.real_estate_details?typeof i.real_estate_details=="string"?JSON.parse(i.real_estate_details):i.real_estate_details:null,automobile_details:i.automobile_details?typeof i.automobile_details=="string"?JSON.parse(i.automobile_details):i.automobile_details:null,service_details:i.service_details?typeof i.service_details=="string"?JSON.parse(i.service_details):i.service_details:null,product_details:i.product_details?typeof i.product_details=="string"?JSON.parse(i.product_details):i.product_details:null,contact_info:i.contact_info?typeof i.contact_info=="string"?JSON.parse(i.contact_info):i.contact_info:null}));return console.log("🔍 Données nettoyées:",n),n}catch(t){throw console.error("❌ Erreur dans getTopViewedListings:",t),t}},getUserListings:async()=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await we.from("listings").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},createListing:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{currency:r,specificData:n,subCategory:i,videos:s,...o}=e,l={...o,user_id:t.id,status:"approved"};r&&(l.currency=r),n&&Object.keys(n).length>0&&(l.specific_data=n),i&&(l.subCategory=i),s&&s.length>0&&(l.videos=s);const{data:c,error:u}=await we.from("listings").insert([l]).select().single();if(u)throw console.error("Erreur création annonce:",u),u;return c},updateListing:async(e,t)=>{const{data:r,error:n}=await we.from("listings").update(t).eq("id",e).select().single();if(n)throw n;return r},deleteListing:async e=>{const{error:t}=await we.from("listings").delete().eq("id",e);if(t)throw t},updateListingStatus:async(e,t)=>{const{data:r,error:n}=await we.from("listings").update({status:t}).eq("id",e).select().single();if(n)throw n;return r},searchListings:async e=>{const{query:t,category:r,minPrice:n,maxPrice:i,location:s,status:o="approved"}=e;let l=we.from("listings").select("*").eq("status",o);t&&(l=l.or(`title.ilike.%${t}%,description.ilike.%${t}%`)),r&&(l=l.eq("category",r)),n&&(l=l.gte("price",Number(n))),i&&(l=l.lte("price",Number(i))),s&&(l=l.or(`location->>city.ilike.%${s}%,location->>country.ilike.%${s}%`));const{data:c,error:u}=await l.order("created_at",{ascending:!1});if(u)throw u;return c},getListingStats:async()=>{const{data:e,error:t}=await we.from("listings").select("category, status, created_at, price");if(t)throw t;const r={total:e.length,byCategory:{},byStatus:{},byMonth:{},totalValue:0,averagePrice:0};let n=0;return e.forEach(i=>{r.byCategory[i.category]=(r.byCategory[i.category]||0)+1,r.byStatus[i.status]=(r.byStatus[i.status]||0)+1;const s=new Date(i.created_at).toISOString().slice(0,7);r.byMonth[s]=(r.byMonth[s]||0)+1,i.price&&(n+=i.price)}),r.totalValue=n,r.averagePrice=e.length>0?n/e.length:0,r},getPremiumListings:async(e=6,t=!1)=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour de données de test premium"),{data:[{id:"premium-1",title:"Villa de luxe avec vue mer - Premium",description:"Magnifique villa 5 pièces avec vue panoramique sur l'océan. Piscine privée, jardin paysager, garage 2 voitures.",price:15e6,category:"real_estate",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-1",created_at:new Date().toISOString(),location:{city:"Saly",country:"Sénégal"},real_estate_details:{type:"Villa",rooms:"5 pièces",surface:"200m²",amenities:["Piscine","Jardin","Garage"]},contact_info:{phone:"+221 77 999 8888",email:"villa-premium@test.com"},views_count:1250,favorites_count:89,users:{id:"premium-user-1",first_name:"Omar",last_name:"Diop",phone_number:"+221 77 999 8888",email:"omar.diop@test.com"}},{id:"premium-2",title:"Mercedes Classe S 2023 - Premium",description:"Berline de luxe Mercedes Classe S en parfait état, toutes options, entretien constructeur, garantie étendue.",price:45e6,category:"automobile",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-2",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},automobile_details:{brand:"Mercedes",model:"Classe S",year:"2023",condition:"Parfait"},contact_info:{phone:"+221 76 777 6666",email:"mercedes-premium@test.com"},views_count:890,favorites_count:67,users:{id:"premium-user-2",first_name:"Aissatou",last_name:"Fall",phone_number:"+221 76 777 6666",email:"aissatou.fall@test.com"}},{id:"premium-3",title:"Service de Design d'Intérieur Premium",description:"Designer d'intérieur certifié avec 15 ans d'expérience. Projets résidentiels et commerciaux, suivi complet.",price:25e4,category:"services",status:"approved",is_featured:!0,is_boosted:!1,user_id:"premium-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Design d'Intérieur",experience:"15 ans",availability:"Sur rendez-vous",verified:!0,certifications:["Certification internationale","Membre de l'ordre des designers"]},contact_info:{phone:"+221 78 444 3333",email:"design-premium@test.com",website:"www.design-interieur-premium.com"},views_count:567,favorites_count:34,users:{id:"premium-user-3",first_name:"Mariama",last_name:"Ba",phone_number:"+221 78 444 3333",email:"mariama.ba@test.com"}}],hasMore:!1};try{const{data:r,error:n}=await we.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            phone_number,
            email
          ),
          listing_boosts (
            boost_packages (
              features
            ),
            end_date
          )
        `).or("is_featured.eq.true,is_boosted.eq.true").eq("status","approved").order("updated_at",{ascending:!1});if(n)throw n;const i=r.map(s=>{const o=s.listing_boosts?.[0],l=o?.boost_packages?.features;return{...s,premium_metadata:{priority:l?.priority||"medium",badge:l?.badge||"boosted",featured:l?.featured||!1,analytics:l?.analytics||"basic",support:l?.support||"standard"},boost_expires_at:o?.end_date||null}});if(t){console.log("🏆 Tri par score premium activé");const s=i.sort((o,l)=>{const c=OS(o);return OS(l)-c});return{data:s.slice(0,e),hasMore:s.length>e,totalPremium:s.length,sortingMethod:"score",topScores:s.slice(0,3).map((o,l)=>({position:l+1,score:OS(o),title:o.title}))}}else return console.log("🔄 Rotation intelligente activée"),zde(i,e)}catch(r){throw console.error("Erreur lors de la récupération des annonces premium:",r),r}}};class qde{async getUserTransactions(t,r={}){try{let n=we.from("transactions").select(`
          *,
          listing:listings(id, title, price, images),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url)
        `).or(`sender_id.eq.${t},receiver_id.eq.${t}`).order("created_at",{ascending:!1});r.status&&(n=n.eq("status",r.status)),r.type&&(n=n.eq("type",r.type)),r.dateFrom&&(n=n.gte("created_at",r.dateFrom)),r.dateTo&&(n=n.lte("created_at",r.dateTo)),r.amountMin&&(n=n.gte("amount",r.amountMin)),r.amountMax&&(n=n.lte("amount",r.amountMax));const{data:i,error:s}=await n;if(s)throw s;return i}catch(n){throw console.error("Erreur lors de la récupération des transactions:",n),n}}async createTransaction(t){try{const{data:r,error:n}=await we.from("transactions").insert([{...t,status:"pending",created_at:new Date().toISOString()}]).select().single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la création de la transaction:",r),r}}async updateTransactionStatus(t,r,n={}){try{const{data:i,error:s}=await we.from("transactions").update({status:r,metadata:{...n,status_updated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(s)throw s;return i}catch(i){throw console.error("Erreur lors de la mise à jour du statut:",i),i}}async getTransaction(t){try{const{data:r,error:n}=await we.from("transactions").select(`
          *,
          listing:listings(id, title, price, images, description),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url, email)
        `).eq("id",t).single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la récupération de la transaction:",r),r}}async cancelTransaction(t,r){try{const{data:n,error:i}=await we.from("transactions").update({status:"cancelled",metadata:{cancellation_reason:r,cancelled_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de l'annulation de la transaction:",n),n}}async getTransactionStats(t){try{const{data:r,error:n}=await we.from("transactions").select("status, amount, type, created_at").or(`sender_id.eq.${t},receiver_id.eq.${t}`);if(n)throw n;const i={total:r.length,totalAmount:r.reduce((s,o)=>s+(o.amount||0),0),byStatus:{},byType:{},monthly:{}};return r.forEach(s=>{i.byStatus[s.status]=(i.byStatus[s.status]||0)+1,i.byType[s.type]=(i.byType[s.type]||0)+1;const o=new Date(s.created_at).toISOString().slice(0,7);i.monthly[o]||(i.monthly[o]={count:0,amount:0}),i.monthly[o].count++,i.monthly[o].amount+=s.amount||0}),i}catch(r){throw console.error("Erreur lors de la récupération des statistiques:",r),r}}async searchTransactions(t,r){try{const{data:n,error:i}=await we.from("transactions").select(`
          *,
          listing:listings(id, title),
          sender:users!transactions_sender_id_fkey(id, full_name),
          receiver:users!transactions_receiver_id_fkey(id, full_name)
        `).or(`sender_id.eq.${t},receiver_id.eq.${t}`).or(`reference.ilike.%${r}%,description.ilike.%${r}%`).order("created_at",{ascending:!1});if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la recherche de transactions:",n),n}}async exportTransactions(t,r={}){try{return(await this.getUserTransactions(t,r)).map(s=>({Référence:s.reference,Date:new Date(s.created_at).toLocaleDateString("fr-FR"),Type:s.type,Statut:s.status,Montant:s.amount,Devise:s.currency,Description:s.description,Expéditeur:s.sender?.full_name||"N/A",Destinataire:s.receiver?.full_name||"N/A"}))}catch(n){throw console.error("Erreur lors de l'export des transactions:",n),n}}async validateTransaction(t,r){try{const{data:n,error:i}=await we.from("transactions").update({status:"completed",metadata:{validated_by:r,validated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",t).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la validation de la transaction:",n),n}}async getPendingTransactions(){try{const{data:t,error:r}=await we.from("transactions").select(`
          *,
          listing:listings(id, title, price),
          sender:users!transactions_sender_id_fkey(id, full_name, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, email)
        `).eq("status","pending").order("created_at",{ascending:!0});if(r)throw r;return t}catch(t){throw console.error("Erreur lors de la récupération des transactions en attente:",t),t}}}const Ude=new qde,k7={getUserNotifications:async()=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await we.from("notifications").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},markAsRead:async e=>{const{data:t,error:r}=await we.from("notifications").update({read:!0}).eq("id",e).select().single();if(r)throw r;return t},createNotification:async e=>{const{data:t,error:r}=await we.from("notifications").insert([e]).select().single();if(r)throw r;return t},markAllAsRead:async()=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:t}=await we.from("notifications").update({read:!0}).eq("user_id",e.id).eq("read",!1);if(t)throw t;return!0},deleteNotification:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:r}=await we.from("notifications").delete().eq("id",e).eq("user_id",t.id);if(r)throw r;return!0},getUnreadCount:async()=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{count:t,error:r}=await we.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",e.id).eq("read",!1);if(r)throw r;return t||0},sendPushNotification:async(e,t,r,n={})=>{try{const{data:i,error:s}=await we.from("users").select("push_token").eq("id",e).single();return s||!i?.push_token?(console.warn("Aucun token push trouvé pour l'utilisateur:",e),!1):await k7.createNotification({user_id:e,title:t,body:r,type:"push",data:JSON.stringify(n),read:!1})}catch(i){throw console.error("Erreur envoi notification push:",i),i}}};new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const Vde=async e=>{try{console.log("🔍 Création de la conversation de bienvenue pour l'utilisateur:",e);const{data:t,error:r}=await we.from("conversations").insert([{participant1_id:"00000000-0000-0000-0000-000000000000",participant2_id:e,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw console.error("❌ Erreur création conversation de bienvenue:",r),r;console.log("✅ Conversation de bienvenue créée:",t.id);const n={conversation_id:t.id,sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:e,content:`🤖 Bienvenue sur MaxiMarket !

Votre marketplace de confiance pour l'Afrique de l'Ouest.

✨ Découvrez nos fonctionnalités :
• 🏠 Immobilier : Achetez, vendez, louez
• 🚗 Automobile : Véhicules neufs et d'occasion
• 🛠️ Services : Trouvez des professionnels
• 🛍️ Marketplace : Tout ce dont vous avez besoin

🔒 Sécurité garantie avec nos partenaires vérifiés
💬 Support 24/7 disponible

Besoin d'aide ? Je suis là pour vous accompagner !`,message_type:"system",is_read:!1,created_at:new Date().toISOString()},{data:i,error:s}=await we.from("messages").insert([n]).select().single();if(s)throw console.error("❌ Erreur ajout message de bienvenue:",s),s;return console.log("✅ Message de bienvenue ajouté:",i.id),t}catch(t){return console.error("❌ Erreur création conversation de bienvenue:",t),null}},_i={getUserConversations:async()=>{try{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des conversations pour l'utilisateur:",e.id);const{data:t,error:r}=await we.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1});if(r)throw console.error("❌ Erreur récupération conversations:",r),r;console.log("🔍 Conversations trouvées:",t?.length||0),console.log("🔍 Vérification de la conversation de l'assistant...");const{data:n,error:i}=await we.from("conversations").select(`
          id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.00000000-0000-0000-0000-000000000000,participant2_id.eq.${e.id}`).or(`participant1_id.eq.${e.id},participant2_id.eq.00000000-0000-0000-0000-000000000000`).single();let s=null;i||!n?(console.log("Création de la conversation de l'assistant pour l'utilisateur:",e.id),s=await Vde(e.id)):(console.log("Conversation de l'assistant existante trouvée:",n.id),s=n);let o=null;if(s){const{data:c,error:u}=await we.from("messages").select("*").eq("conversation_id",s.id).eq("sender_id","00000000-0000-0000-0000-000000000000").single();!u&&c&&(o={...s,messages:[c],participant1:{id:"00000000-0000-0000-0000-000000000000",first_name:"Assistant",last_name:"MaxiMarket",profile_image:null},participant2:{id:e.id,first_name:e.user_metadata?.first_name||"",last_name:e.user_metadata?.last_name||"",profile_image:e.user_metadata?.profile_image||null},listing:null})}if((!t||t.length===0)&&!o)return console.log("Aucune conversation trouvée, impossible de créer l'assistant"),[];const l=await Promise.all(t.map(async c=>{try{console.log(`🔍 Traitement de la conversation: ${c.id}`);let u=null;if(c.listing_id){const{data:S,error:N}=await we.from("listings").select("id, title, price, images").eq("id",c.listing_id).single();!N&&S?(u=S,console.log(`✅ Listing récupéré pour la conversation ${c.id}:`,S.title)):console.warn(`⚠️ Listing non trouvé pour la conversation ${c.id}:`,N)}const f=c.participant1_id,p=c.participant2_id;console.log(`🔍 Récupération des participants pour la conversation ${c.id}:`),console.log(`🔍 Participant 1 ID: ${f}`),console.log(`🔍 Participant 2 ID: ${p}`);let g=null,v=null;if(f)try{console.log(`🔍 Récupération des détails du participant 1: ${f}`);const{data:S,error:N}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",f).single();console.log("🔍 Résultat participant 1 - data:",S),console.log("🔍 Résultat participant 1 - error:",N),!N&&S?(g=S,console.log(`✅ Participant 1 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 1 non trouvé pour la conversation ${c.id}:`,f,N),g={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 1 pour la conversation ${c.id}:`,S),g={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}if(p)try{console.log(`🔍 Récupération des détails du participant 2: ${p}`);const{data:S,error:N}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",p).single();console.log("🔍 Résultat participant 2 - data:",S),console.log("🔍 Résultat participant 2 - error:",N),!N&&S?(v=S,console.log(`✅ Participant 2 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 2 non trouvé pour la conversation ${c.id}:`,p,N),v={id:p,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 2 pour la conversation ${c.id}:`,S),v={id:p,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}const{data:b,error:y}=await we.from("messages").select(`
                id,
                content,
                created_at,
                is_read,
                sender_id,
                conversation_id
              `).eq("conversation_id",c.id).order("created_at",{ascending:!0});if(y)return console.error(`❌ Erreur récupération messages pour la conversation ${c.id}:`,y),{...c,messages:[],listing:u,participant1:g,participant2:v};console.log(`✅ Messages récupérés pour la conversation ${c.id}:`,b?.length||0);const _=await Promise.all((b||[]).map(async S=>{try{let N=null;if(S.sender_id){console.log(`🔍 Récupération de l'expéditeur pour le message ${S.id}: ${S.sender_id}`);const{data:C,error:A}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",S.sender_id).single();!A&&C?(N=C,console.log(`✅ Expéditeur récupéré pour le message ${S.id}:`,{id:C.id,name:`${C.first_name||"N/A"} ${C.last_name||"N/A"}`})):console.warn(`⚠️ Expéditeur non trouvé pour le message ${S.id}:`,S.sender_id,A)}return{...S,sender:N}}catch(N){return console.error(`❌ Erreur lors de la récupération des détails de l'expéditeur pour le message ${S.id}:`,N),S}}));return console.log(`✅ Conversation ${c.id} traitée avec succès:`,{participant1:g?`${g.first_name||"N/A"} ${g.last_name||"N/A"}`:"N/A",participant2:v?`${v.first_name||"N/A"} ${v.last_name||"N/A"}`:"N/A",messages:_?.length||0,listing:u?.title||"N/A"}),{...c,messages:_||[],listing:u,participant1:g,participant2:v}}catch(u){return console.error(`❌ Erreur lors du traitement de la conversation ${c.id}:`,u),{...c,messages:[],listing:null,participant1:null,participant2:null}}}));return o&&(l.unshift(o),console.log("✅ Conversation de l'assistant ajoutée à la liste")),console.log(`✅ Total des conversations traitées: ${l.length}`),l.forEach((c,u)=>{console.log(`🔍 Conversation ${u+1}:`,{id:c.id,p1:c.participant1?`${c.participant1.first_name||"N/A"} ${c.participant1.last_name||"N/A"}`:"N/A",p2:c.participant2?`${c.participant2.first_name||"N/A"} ${c.participant2.last_name||"N/A"}`:"N/A",messages:c.messages?.length||0})}),l}catch(e){throw console.error("❌ Erreur dans getUserConversations:",e),e}},getConversationMessages:async e=>{try{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages pour la conversation:",e);const{data:r,error:n}=await we.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",e).order("created_at",{ascending:!0});if(n)throw console.error("Erreur récupération messages:",n),n;return await Promise.all((r||[]).map(async s=>{try{let o=null,l=null;if(s.sender_id){const{data:c,error:u}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.sender_id).single();!u&&c&&(o=c)}if(s.receiver_id){const{data:c,error:u}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.receiver_id).single();!u&&c&&(l=c)}return{...s,sender:o,receiver:l}}catch(o){return console.error("Erreur lors de la récupération des détails utilisateur:",o),s}}))}catch(t){throw console.error("Erreur dans getConversationMessages:",t),t}},sendMessage:async(e,t,r="text")=>{const{data:{user:n}}=await we.auth.getUser();if(!n)throw new Error("Utilisateur non connecté");console.log("📤 Envoi de message dans la conversation:",e);const{data:i,error:s}=await we.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(s)throw s;const o=i.participant1_id===n.id?i.participant2_id:i.participant1_id,l=new Date().toISOString(),{data:c,error:u}=await we.from("messages").insert([{sender_id:n.id,receiver_id:o,conversation_id:e,content:t,message_type:r,created_at:l}]).select().single();if(u)throw u;console.log("✅ Message envoyé avec succès, mise à jour de la conversation..."),console.log("🔍 message.service - Mise à jour de la conversation:",e),console.log("🔍 message.service - currentTime:",l);const{data:f,error:p}=await we.from("conversations").update({last_message_at:l,updated_at:l}).eq("id",e).select();return p?console.error("❌ Erreur mise à jour conversation:",p):(console.log("✅ Conversation mise à jour avec succès:",f),console.log("✅ last_message_at mis à jour:",l)),c},refreshConversations:async()=>{try{return console.log("🔄 Actualisation automatique des conversations..."),await _i.getUserConversations()}catch(e){throw console.error("❌ Erreur lors de l'actualisation des conversations:",e),e}},syncConversation:async e=>{try{console.log("🔄 Synchronisation de la conversation:",e);const{data:t,error:r}=await we.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",e).order("created_at",{ascending:!0});if(r)throw r;const n=await Promise.all((t||[]).map(async i=>{try{let s=null;if(i.sender_id){const{data:o,error:l}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!l&&o&&(s=o)}return{...i,sender:s}}catch(s){return console.error("Erreur lors de la récupération des détails de l'expéditeur:",s),i}}));return console.log("✅ Conversation synchronisée:",n?.length||0,"messages"),n}catch(t){throw console.error("❌ Erreur lors de la synchronisation de la conversation:",t),t}},createConversation:async(e,t=null)=>{const{data:{user:r}}=await we.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await we.from("conversations").select("id").or(`and(participant1_id.eq.${r.id},participant2_id.eq.${e}),and(participant1_id.eq.${e},participant2_id.eq.${r.id})`).eq("listing_id",t).single();if(n)return n;const{data:s,error:o}=await we.from("conversations").insert([{participant1_id:r.id,participant2_id:e,listing_id:t,is_active:!0}]).select().single();if(o)throw o;return s},markMessagesAsRead:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Marquage des messages comme lus pour la conversation:",e);const{error:r}=await we.from("messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",e).neq("sender_id",t.id).eq("is_read",!1);if(r)throw console.error("Erreur lors du marquage des messages comme lus:",r),r;return console.log("✅ Messages marqués comme lus avec succès"),!0},archiveConversation:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Archivage de la conversation:",e);const{data:r,error:n}=await we.from("conversations").select("participant1_id, participant2_id, is_archived").eq("id",e).single();if(n)throw n;if(r.participant1_id!==t.id&&r.participant2_id!==t.id)throw new Error("Non autorisé");const i=!r.is_archived,{error:s}=await we.from("conversations").update({is_archived:i,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw console.error("Erreur lors de l'archivage de la conversation:",s),s;return console.log(`✅ Conversation ${i?"archivée":"désarchivée"} avec succès`),{is_archived:i}},toggleConversationStar:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Basculement du statut favori pour la conversation:",e);const{data:r,error:n}=await we.from("conversations").select("participant1_id, participant2_id, starred").eq("id",e).single();if(n)throw n;if(r.participant1_id!==t.id&&r.participant2_id!==t.id)throw new Error("Non autorisé");const i=!r.starred,{error:s}=await we.from("conversations").update({starred:i,updated_at:new Date().toISOString()}).eq("id",e);if(s)throw console.error("Erreur lors du basculement du statut favori:",s),s;return console.log(`✅ Conversation ${i?"ajoutée aux":"retirée des"} favoris avec succès`),{starred:i}},deleteMessage:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression du message:",e);const{data:r,error:n}=await we.from("messages").select("sender_id, conversation_id").eq("id",e).single();if(n)throw n;if(r.sender_id!==t.id)throw new Error("Vous ne pouvez supprimer que vos propres messages");const{error:i}=await we.from("messages").delete().eq("id",e);if(i)throw console.error("Erreur lors de la suppression du message:",i),i;return console.log("✅ Message supprimé avec succès"),!0},deleteConversation:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression de la conversation:",e),console.log("🔍 Utilisateur actuel:",t.id);const{data:r,error:n}=await we.from("conversations").select("participant1_id, participant2_id").eq("id",e).single();if(n)throw console.error("❌ Erreur lors de la vérification de la conversation:",n),n;if(console.log("🔍 Conversation trouvée:",r),r.participant1_id!==t.id&&r.participant2_id!==t.id)throw console.error("❌ Utilisateur non autorisé à supprimer cette conversation"),new Error("Non autorisé");console.log("✅ Autorisation vérifiée, suppression en cours..."),console.log("🔍 Suppression des messages de la conversation...");const{error:i}=await we.from("messages").delete().eq("conversation_id",e);if(i)throw console.error("❌ Erreur lors de la suppression des messages:",i),i;console.log("✅ Messages supprimés avec succès"),console.log("🔍 Suppression de la conversation...");const{error:s}=await we.from("conversations").delete().eq("id",e);if(s)throw console.error("❌ Erreur lors de la suppression de la conversation:",s),s;return console.log("✅ Conversation supprimée avec succès"),!0},searchConversations:async e=>{try{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Recherche de conversations avec le terme:",e);const{data:r,error:n}=await we.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1});if(n)throw console.error("Erreur recherche conversations:",n),n;return(await Promise.all((r||[]).map(async s=>{try{let o=null,l=null,c=null;if(s.listing_id){const{data:u,error:f}=await we.from("listings").select("id, title").eq("id",s.listing_id).single();!f&&u&&(o=u)}if(s.participant1_id){const{data:u,error:f}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant1_id).single();!f&&u&&(l=u)}if(s.participant2_id){const{data:u,error:f}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant2_id).single();!f&&u&&(c=u)}return{...s,listing:o,participant1:l,participant2:c}}catch(o){return console.error("Erreur lors de l'enrichissement de la conversation:",o),s}}))).filter(s=>{if(!e)return!0;const o=e.toLowerCase();return!!(s.listing?.title?.toLowerCase().includes(o)||s.participant1?.first_name?.toLowerCase().includes(o)||s.participant1?.last_name?.toLowerCase().includes(o)||s.participant2?.first_name?.toLowerCase().includes(o)||s.participant2?.last_name?.toLowerCase().includes(o))})}catch(t){throw console.error("Erreur dans searchConversations:",t),t}},getUnreadMessages:async()=>{try{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages non lus pour l'utilisateur:",e.id);const{data:t,error:r}=await we.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("receiver_id",e.id).eq("is_read",!1).order("created_at",{ascending:!1});if(r)throw console.error("Erreur récupération messages non lus:",r),r;return await Promise.all((t||[]).map(async i=>{try{let s=null,o=null;if(i.conversation_id){const{data:l,error:c}=await we.from("conversations").select("id, listing_id").eq("id",i.conversation_id).single();!c&&l&&(s=l)}if(i.sender_id){const{data:l,error:c}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!c&&l&&(o=l)}return{...i,conversation:s,sender:o}}catch(s){return console.error("Erreur lors de l'enrichissement du message:",s),i}}))}catch(e){throw console.error("Erreur dans getUnreadMessages:",e),e}},getUnreadMessageCount:async()=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{count:t,error:r}=await we.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",e.id).eq("is_read",!1);if(r)throw r;return t||0},sendSystemMessage:async(e,t,r="system")=>{const{data:n,error:i}=await we.from("messages").insert([{sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:e,content:t,message_type:r,is_read:!1}]).select().single();if(i)throw i;return n}};class Wde{async getComments(t,r={}){const{page:n=1,limit:i=10,sort:s="created_at",order:o="desc",rating:l=null,verifiedOnly:c=!1,parentId:u=null}=r;try{let f=we.from("comments").select(`
          *,
          user:user_profiles!comments_user_id_fkey(
            id,
            full_name,
            avatar_url,
            verified
          ),
          replies:comments!comments_parent_id_fkey(count)
        `).eq("listing_id",t).eq("status","approved");l&&(f=f.eq("rating",l)),c&&(f=f.eq("is_verified_purchase",!0)),u?f=f.eq("parent_id",u):f=f.is("parent_id",null),f=f.order(s,{ascending:o==="asc"});const p=(n-1)*i,g=p+i-1;f=f.range(p,g);const{data:v,error:b,count:y}=await f;if(b)throw b;return{comments:v||[],pagination:{page:n,limit:i,total:y,pages:Math.ceil(y/i)},error:null}}catch(f){return console.error("Erreur lors de la récupération des commentaires:",f),{comments:[],pagination:{page:n,limit:i,total:0,pages:0},error:f.message}}}async createComment(t){try{const{data:r,error:n}=await we.from("comments").insert([t]).select(`
          *,
          user:user_profiles!comments_user_id_fkey(
            id,
            full_name,
            avatar_url,
            verified
          )
        `).single();if(n)throw n;return{comment:r,error:null}}catch(r){return console.error("Erreur lors de la création du commentaire:",r),{comment:null,error:r.message}}}async updateComment(t,r){try{const{data:n,error:i}=await we.from("comments").update(r).eq("id",t).select(`
          *,
          user:user_profiles!comments_user_id_fkey(
            id,
            full_name,
            avatar_url,
            verified
          )
        `).single();if(i)throw i;return{comment:n,error:null}}catch(n){return console.error("Erreur lors de la mise à jour du commentaire:",n),{comment:null,error:n.message}}}async deleteComment(t){try{const{error:r}=await we.from("comments").delete().eq("id",t);if(r)throw r;return{error:null}}catch(r){return console.error("Erreur lors de la suppression du commentaire:",r),{error:r.message}}}async reportComment(t,r){try{const{data:n,error:i}=await we.from("comment_reports").insert([{comment_id:t,...r}]).select().single();if(i)throw i;return{report:n,error:null}}catch(n){return console.error("Erreur lors du signalement du commentaire:",n),{report:null,error:n.message}}}async getCommentStats(t){try{const{data:r,error:n}=await we.rpc("get_listing_comment_stats",{listing_uuid:t});if(n)throw n;return{stats:r[0]||null,error:null}}catch(r){console.error("Erreur lors de la récupération des statistiques:",r);try{const{data:n,error:i}=await we.from("comments").select("rating, is_verified_purchase").eq("listing_id",t).eq("status","approved");if(i)throw i;return{stats:{total_comments:n.length,average_rating:n.length>0?n.reduce((o,l)=>o+l.rating,0)/n.length:0,verified_purchases:n.filter(o=>o.is_verified_purchase).length,rating_distribution:{1:n.filter(o=>o.rating===1).length,2:n.filter(o=>o.rating===2).length,3:n.filter(o=>o.rating===3).length,4:n.filter(o=>o.rating===4).length,5:n.filter(o=>o.rating===5).length}},error:null}}catch(n){return{stats:null,error:n.message}}}}async getUserComments(t,r={}){const{page:n=1,limit:i=10,status:s=null}=r;try{let o=we.from("comments").select(`
          *,
          listing:listings!comments_listing_id_fkey(
            id,
            title,
            category,
            images
          )
        `).eq("user_id",t);s&&(o=o.eq("status",s)),o=o.order("created_at",{ascending:!1});const l=(n-1)*i,c=l+i-1;o=o.range(l,c);const{data:u,error:f,count:p}=await o;if(f)throw f;return{comments:u||[],pagination:{page:n,limit:i,total:p,pages:Math.ceil(p/i)},error:null}}catch(o){return console.error("Erreur lors de la récupération des commentaires utilisateur:",o),{comments:[],pagination:{page:n,limit:i,total:0,pages:0},error:o.message}}}async getPendingComments(t={}){const{page:r=1,limit:n=20}=t;try{const{data:i,error:s,count:o}=await we.from("comments").select(`
          *,
          user:user_profiles!comments_user_id_fkey(
            id,
            full_name,
            avatar_url,
            verified
          ),
          listing:listings!comments_listing_id_fkey(
            id,
            title,
            category
          )
        `).eq("status","pending").order("created_at",{ascending:!1}).range((r-1)*n,r*n-1);if(s)throw s;return{comments:i||[],pagination:{page:r,limit:n,total:o,pages:Math.ceil(o/n)},error:null}}catch(i){return console.error("Erreur lors de la récupération des commentaires en attente:",i),{comments:[],pagination:{page:r,limit:n,total:0,pages:0},error:i.message}}}async moderateComment(t,r,n=null){try{const i={status:r,updated_at:new Date().toISOString()},{data:s,error:o}=await we.from("comments").update(i).eq("id",t).select().single();if(o)throw o;return{comment:s,error:null}}catch(i){return console.error("Erreur lors de la modération du commentaire:",i),{comment:null,error:i.message}}}}const lh=new Wde,Cg={getAllCategories:async()=>{const{data:e,error:t}=await we.from("categories").select("*").order("name");if(t)throw t;return e},getCategoryById:async e=>{const{data:t,error:r}=await we.from("categories").select("*").eq("id",e).single();if(r)throw r;return t},getCategoryBySlug:async e=>{const{data:t,error:r}=await we.from("categories").select("*").eq("slug",e).single();if(r)throw r;return t},getCategoriesByType:async e=>{const{data:t,error:r}=await we.from("categories").select("*").eq("type",e).order("name");if(r)throw r;return t},createCategory:async e=>{const{data:t,error:r}=await we.from("categories").insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},updateCategory:async(e,t)=>{const{data:r,error:n}=await we.from("categories").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},deleteCategory:async e=>{const{error:t}=await we.from("categories").delete().eq("id",e);if(t)throw t;return{success:!0}},toggleCategoryStatus:async(e,t)=>{const{data:r,error:n}=await we.from("categories").update({is_active:t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r}},Nl={getUserFavorites:async()=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:t,error:r}=await we.from("favorites").select(`
        *,
        listings!favorites_listing_id_fkey (
          *,
          users!listings_user_id_fkey (
            id,
            first_name,
            last_name
          )
        )
      `).eq("user_id",e.id).order("created_at",{ascending:!1});if(r)throw r;return t},addToFavorites:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await we.from("favorites").insert([{user_id:t.id,listing_id:e}]).select().single();if(n)throw n;return r},removeFromFavorites:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:r}=await we.from("favorites").delete().eq("user_id",t.id).eq("listing_id",e);if(r)throw r},isFavorite:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)return!1;const{data:r,error:n}=await we.from("favorites").select("id").eq("user_id",t.id).eq("listing_id",e).single();if(n&&n.code!=="PGRST116")throw n;return!!r},toggleFavorite:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");try{return await Nl.isFavorite(e)?(await Nl.removeFromFavorites(e),{is_favorite:!1,action:"removed"}):(await Nl.addToFavorites(e),{is_favorite:!0,action:"added"})}catch(r){throw console.error("Erreur lors du basculement des favoris:",r),new Error("Impossible de modifier les favoris")}},getUserFavoritesWithStatus:async()=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");try{const{data:t,error:r}=await we.from("favorites").select("listing_id").eq("user_id",e.id);if(r)throw r;return new Set(t.map(i=>i.listing_id))}catch(t){return console.error("Erreur lors de la récupération des favoris:",t),new Set}}},Hde={uploadImage:async(e,t="listings")=>{try{const{data:{user:r}}=await we.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");if(!e.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(e.size>5*1024*1024)throw new Error("L'image ne doit pas dépasser 5MB");const n=`${Date.now()}-${Math.random().toString(36).substring(2)}-${e.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,i=`${t}/${r.id}/${n}`,{data:s,error:o}=await we.storage.from("images").upload(i,e,{cacheControl:"31536000",upsert:!1,contentType:"image/jpeg"});if(o)throw console.error("Erreur upload Supabase:",o),new Error(`Erreur lors de l'upload: ${o.message}`);const{data:{publicUrl:l}}=we.storage.from("images").getPublicUrl(i);return l}catch(r){throw console.error("Erreur dans uploadImage:",r),r}},deleteImage:async e=>{try{const{error:t}=await we.storage.from("images").remove([e]);if(t)throw t}catch(t){throw console.error("Erreur dans deleteImage:",t),t}},listUserImages:async(e,t="listings")=>{try{const{data:r,error:n}=await we.storage.from("images").list(`${t}/${e}`);if(n)throw n;return r}catch(r){throw console.error("Erreur dans listUserImages:",r),r}}},Kde={getAllReports:async(e={})=>{let t=we.from("reports").select(`
        *,
        reporter:users!reports_reporter_id_fkey (
          id,
          first_name,
          last_name,
          email
        ),
        listing:listings!reports_listing_id_fkey (
          id,
          title,
          description
        )
      `).order("created_at",{ascending:!1});e.status&&(t=t.eq("status",e.status)),e.type&&(t=t.eq("type",e.type)),e.severity&&(t=t.eq("severity",e.severity));const{data:r,error:n}=await t;if(n)throw n;return r},createReport:async e=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await we.from("reports").insert([{...e,reporter_id:t.id,status:"pending"}]).select().single();if(n)throw n;return r},moderateReport:async(e,t,r=null)=>{const n={status:t,moderated_at:new Date().toISOString(),moderator_reason:r},{data:i,error:s}=await we.from("reports").update(n).eq("id",e).select().single();if(s)throw s;return i}},RS={getBoostPackages:async()=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour de packages de test"),[{id:"test-basic",name:"Boost Basique",description:"Visibilité améliorée pendant 7 jours",duration_days:7,price:5e3,features:{priority:"medium",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:1},{id:"test-premium",name:"Boost Premium",description:"Mise en avant complète pendant 14 jours",duration_days:14,price:12e3,features:{priority:"high",badge:"boosted",featured:!0,analytics:"detailed"},is_active:!0,sort_order:2},{id:"test-vip",name:"Boost VIP",description:"Visibilité maximale pendant 30 jours",duration_days:30,price:25e3,features:{priority:"highest",badge:"boosted",featured:!0,analytics:"premium",support:"priority"},is_active:!0,sort_order:3},{id:"test-flash",name:"Boost Flash",description:"Visibilité intensive pendant 3 jours",duration_days:3,price:3e3,features:{priority:"high",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:4}];try{const{data:e,error:t}=await we.from("boost_packages").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(t)throw t;return e||[]}catch(e){throw console.error("Erreur lors de la récupération des packages de boost:",e),e}},purchaseBoost:async(e,t,r)=>{if(!yr)return console.warn("⚠️ Supabase non configuré, simulation d'achat de boost"),{success:!0,boostId:"test-boost-"+Date.now(),message:"Boost acheté avec succès (mode test)"};try{const{data:n,error:i}=await we.from("boost_packages").select("*").eq("id",t).eq("is_active",!0).single();if(i||!n)throw new Error("Package de boost non trouvé ou inactif");const{data:s,error:o}=await we.from("listings").select("id, user_id, status").eq("id",e).eq("user_id",r).eq("status","approved").single();if(o||!s)throw new Error("Annonce non trouvée ou non autorisée");const l=new Date,c=new Date;c.setDate(c.getDate()+n.duration_days);const{data:u,error:f}=await we.from("listing_boosts").insert({listing_id:e,package_id:t,user_id:r,start_date:l.toISOString(),end_date:c.toISOString(),status:"pending",metadata:{views_before:0,contacts_before:0}}).select().single();if(f)throw f;return await we.from("boost_history").insert({listing_id:e,boost_id:u.id,user_id:r,action:"purchased",details:{package_name:n.name,price:n.price,duration_days:n.duration_days}}),{success:!0,boostId:u.id,boostData:u,packageData:n,message:"Boost acheté avec succès"}}catch(n){throw console.error("Erreur lors de l'achat du boost:",n),n}},getBoostStatus:async e=>{if(!yr)return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]};try{const{data:t,error:r}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            description,
            features
          )
        `).eq("listing_id",e).order("created_at",{ascending:!1});if(r)throw r;const n=t?.find(s=>s.status==="active");return{hasActiveBoost:!!n,currentBoost:n,boostHistory:t||[]}}catch(t){throw console.error("Erreur lors de la vérification du statut de boost:",t),t}},cancelBoost:async(e,t)=>{if(!yr)return{success:!0,message:"Boost annulé avec succès (mode test)"};try{const{data:r,error:n}=await we.from("listing_boosts").select("*").eq("id",e).eq("user_id",t).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const{error:i}=await we.from("listing_boosts").update({status:"cancelled"}).eq("id",e);if(i)throw i;return await we.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:t,action:"cancelled",details:{reason:"user_cancelled",cancelled_at:new Date().toISOString()}}),{success:!0,message:"Boost annulé avec succès"}}catch(r){throw console.error("Erreur lors de l'annulation du boost:",r),r}},getBoostHistory:async e=>{if(!yr)return[];try{const{data:t,error:r}=await we.from("boost_history").select(`
          *,
          listing_boosts (
            boost_packages (
              name,
              price
            )
          ),
          listings (
            title,
            category
          )
        `).eq("user_id",e).order("created_at",{ascending:!1});if(r)throw r;return t||[]}catch(t){throw console.error("Erreur lors de la récupération de l'historique des boosts:",t),t}},activateBoost:async(e,t)=>{if(!yr)return{success:!0,message:"Boost activé avec succès (mode test)"};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          *,
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",e).single();if(n||!r)throw new Error("Boost non trouvé");const{error:i}=await we.from("listing_boosts").update({status:"active",payment_id:t,metadata:{views_before:r.listings.views_count||0,contacts_before:r.listings.favorites_count||0,activated_at:new Date().toISOString()}}).eq("id",e);if(i)throw i;return await we.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:r.user_id,action:"activated",details:{payment_id:t,activated_at:new Date().toISOString()}}),{success:!0,message:"Boost activé avec succès"}}catch(r){throw console.error("Erreur lors de l'activation du boost:",r),r}},renewBoost:async(e,t)=>{if(!yr)return{success:!0,message:"Boost renouvelé avec succès (mode test)"};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            duration_days,
            price
          )
        `).eq("id",e).eq("user_id",t).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const i=new Date;i.setDate(i.getDate()+r.boost_packages.duration_days);const{error:s}=await we.from("listing_boosts").update({end_date:i.toISOString(),updated_at:new Date().toISOString()}).eq("id",e);if(s)throw s;return await we.from("boost_history").insert({listing_id:r.listing_id,boost_id:e,user_id:t,action:"renewed",details:{new_end_date:i.toISOString(),renewed_at:new Date().toISOString()}}),{success:!0,message:"Boost renouvelé avec succès"}}catch(r){throw console.error("Erreur lors du renouvellement du boost:",r),r}},getBoostStats:async e=>{if(!yr)return{total_boosts:0,active_boosts:0,total_days:0,total_investment:0,current_boost:null};try{const{data:t,error:r}=await we.rpc("get_boost_stats",{listing_id_param:e});if(r)throw r;return t||{}}catch(t){throw console.error("Erreur lors de la récupération des statistiques de boost:",t),t}}};function _r(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Il(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Gde(e,t){const r=_r(e);return isNaN(t)?Il(e,NaN):(t&&r.setDate(r.getDate()+t),r)}const A7=6048e5,Zde=864e5,O7=6e4,R7=36e5,x0=43200,A$=1440;let Yde={};function my(){return Yde}function Xh(e,t){const r=my(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=_r(e),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Mb(e){return Xh(e,{weekStartsOn:1})}function M7(e){const t=_r(e),r=t.getFullYear(),n=Il(e,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Mb(n),s=Il(e,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Mb(s);return t.getTime()>=i.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function O$(e){const t=_r(e);return t.setHours(0,0,0,0),t}function Ib(e){const t=_r(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Xde(e,t){const r=O$(e),n=O$(t),i=+r-Ib(r),s=+n-Ib(n);return Math.round((i-s)/Zde)}function Jde(e){const t=M7(e),r=Il(e,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),Mb(r)}function ab(e,t){const r=_r(e),n=_r(t),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Qde(e){return Il(e,Date.now())}function efe(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function tfe(e){if(!efe(e)&&typeof e!="number")return!1;const t=_r(e);return!isNaN(Number(t))}function rfe(e,t){const r=_r(e),n=_r(t),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function nfe(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function ife(e,t){return+_r(e)-+_r(t)}function sfe(e){const t=_r(e);return t.setHours(23,59,59,999),t}function afe(e){const t=_r(e),r=t.getMonth();return t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t}function ofe(e){const t=_r(e);return+sfe(t)==+afe(t)}function lfe(e,t){const r=_r(e),n=_r(t),i=ab(r,n),s=Math.abs(rfe(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=ab(r,n)===-i;ofe(_r(e))&&s===1&&ab(e,n)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function cfe(e,t,r){const n=ife(e,t)/1e3;return nfe(r?.roundingMethod)(n)}function ufe(e){const t=_r(e);return t.setDate(1),t.setHours(0,0,0,0),t}function dfe(e){const t=_r(e),r=Il(e,0);return r.setFullYear(t.getFullYear(),0,1),r.setHours(0,0,0,0),r}const ffe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},hfe=(e,t,r)=>{let n;const i=ffe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Ih(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const pfe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mfe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},gfe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},vfe={date:Ih({formats:pfe,defaultWidth:"full"}),time:Ih({formats:mfe,defaultWidth:"full"}),dateTime:Ih({formats:gfe,defaultWidth:"full"})},yfe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xfe=(e,t,r,n)=>yfe[e];function go(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&e.formattingValues){const o=e.defaultFormattingWidth||e.defaultWidth,l=r?.width?String(r.width):o;i=e.formattingValues[l]||e.formattingValues[o]}else{const o=e.defaultWidth,l=r?.width?String(r.width):e.defaultWidth;i=e.values[l]||e.values[o]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const bfe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},wfe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_fe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jfe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nfe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Cfe=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Efe={ordinalNumber:Cfe,era:go({values:bfe,defaultWidth:"wide"}),quarter:go({values:wfe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:go({values:_fe,defaultWidth:"wide"}),day:go({values:jfe,defaultWidth:"wide"}),dayPeriod:go({values:Sfe,defaultWidth:"wide",formattingValues:Nfe,defaultFormattingWidth:"wide"})};function vo(e){return(t,r={})=>{const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const o=s[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?Tfe(l,p=>p.test(o)):Pfe(l,p=>p.test(o));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=t.slice(o.length);return{value:u,rest:f}}}function Pfe(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function Tfe(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function I7(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const i=n[0],s=t.match(e.parsePattern);if(!s)return null;let o=e.valueCallback?e.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=t.slice(i.length);return{value:o,rest:l}}}const kfe=/^(\d+)(th|st|nd|rd)?/i,Afe=/\d+/i,Ofe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Rfe={any:[/^b/i,/^(a|c)/i]},Mfe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ife={any:[/1/i,/2/i,/3/i,/4/i]},Lfe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Dfe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$fe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ffe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Bfe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},zfe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qfe={ordinalNumber:I7({matchPattern:kfe,parsePattern:Afe,valueCallback:e=>parseInt(e,10)}),era:vo({matchPatterns:Ofe,defaultMatchWidth:"wide",parsePatterns:Rfe,defaultParseWidth:"any"}),quarter:vo({matchPatterns:Mfe,defaultMatchWidth:"wide",parsePatterns:Ife,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vo({matchPatterns:Lfe,defaultMatchWidth:"wide",parsePatterns:Dfe,defaultParseWidth:"any"}),day:vo({matchPatterns:$fe,defaultMatchWidth:"wide",parsePatterns:Ffe,defaultParseWidth:"any"}),dayPeriod:vo({matchPatterns:Bfe,defaultMatchWidth:"any",parsePatterns:zfe,defaultParseWidth:"any"})},L7={code:"en-US",formatDistance:hfe,formatLong:vfe,formatRelative:xfe,localize:Efe,match:qfe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ufe(e){const t=_r(e);return Xde(t,dfe(t))+1}function Vfe(e){const t=_r(e),r=+Mb(t)-+Jde(t);return Math.round(r/A7)+1}function D7(e,t){const r=_r(e),n=r.getFullYear(),i=my(),s=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=Il(e,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Xh(o,t),c=Il(e,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Xh(c,t);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Wfe(e,t){const r=my(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=D7(e,t),s=Il(e,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Xh(s,t)}function Hfe(e,t){const r=_r(e),n=+Xh(r,t)-+Wfe(r,t);return Math.round(n/A7)+1}function wr(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Ac={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return wr(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):wr(r+1,2)},d(e,t){return wr(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return wr(e.getHours()%12||12,t.length)},H(e,t){return wr(e.getHours(),t.length)},m(e,t){return wr(e.getMinutes(),t.length)},s(e,t){return wr(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return wr(i,t.length)}},ch={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},R$={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ac.y(e,t)},Y:function(e,t,r,n){const i=D7(e,n),s=i>0?i:1-i;if(t==="YY"){const o=s%100;return wr(o,2)}return t==="Yo"?r.ordinalNumber(s,{unit:"year"}):wr(s,t.length)},R:function(e,t){const r=M7(e);return wr(r,t.length)},u:function(e,t){const r=e.getFullYear();return wr(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return wr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return wr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Ac.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return wr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=Hfe(e,n);return t==="wo"?r.ordinalNumber(i,{unit:"week"}):wr(i,t.length)},I:function(e,t,r){const n=Vfe(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):wr(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Ac.d(e,t)},D:function(e,t,r){const n=Ufe(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):wr(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return wr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return wr(s,t.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=n===0?7:n;switch(t){case"i":return String(i);case"ii":return wr(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(n===12?i=ch.noon:n===0?i=ch.midnight:i=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(n>=17?i=ch.evening:n>=12?i=ch.afternoon:n>=4?i=ch.morning:i=ch.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ac.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Ac.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):wr(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):wr(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ac.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Ac.s(e,t)},S:function(e,t){return Ac.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return I$(n);case"XXXX":case"XX":return od(n);case"XXXXX":case"XXX":default:return od(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return I$(n);case"xxxx":case"xx":return od(n);case"xxxxx":case"xxx":default:return od(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+M$(n,":");case"OOOO":default:return"GMT"+od(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+M$(n,":");case"zzzz":default:return"GMT"+od(n,":")}},t:function(e,t,r){const n=Math.trunc(e.getTime()/1e3);return wr(n,t.length)},T:function(e,t,r){const n=e.getTime();return wr(n,t.length)}};function M$(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+t+wr(s,2)}function I$(e,t){return e%60===0?(e>0?"-":"+")+wr(Math.abs(e)/60,2):od(e,t)}function od(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),i=wr(Math.trunc(n/60),2),s=wr(n%60,2);return r+i+t+s}const L$=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},$7=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Kfe=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return L$(e,t);let s;switch(n){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",L$(n,t)).replace("{{time}}",$7(i,t))},Gfe={p:$7,P:Kfe},Zfe=/^D+$/,Yfe=/^Y+$/,Xfe=["D","DD","YY","YYYY"];function Jfe(e){return Zfe.test(e)}function Qfe(e){return Yfe.test(e)}function ehe(e,t,r){const n=the(e,t,r);if(console.warn(n),Xfe.includes(e))throw new RangeError(n)}function the(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const rhe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,nhe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ihe=/^'([^]*?)'?$/,she=/''/g,ahe=/[a-zA-Z]/;function Er(e,t,r){const n=my(),i=r?.locale??n.locale??L7,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=_r(e);if(!tfe(l))throw new RangeError("Invalid time value");let c=t.match(nhe).map(f=>{const p=f[0];if(p==="p"||p==="P"){const g=Gfe[p];return g(f,i.formatLong)}return f}).join("").match(rhe).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const p=f[0];if(p==="'")return{isToken:!1,value:ohe(f)};if(R$[p])return{isToken:!0,value:f};if(p.match(ahe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:f}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(f=>{if(!f.isToken)return f.value;const p=f.value;(!r?.useAdditionalWeekYearTokens&&Qfe(p)||!r?.useAdditionalDayOfYearTokens&&Jfe(p))&&ehe(p,t,String(e));const g=R$[p[0]];return g(l,p,i.localize,u)}).join("")}function ohe(e){const t=e.match(ihe);return t?t[1].replace(she,"'"):e}function lhe(e,t,r){const n=my(),i=r?.locale??n.locale??L7,s=2520,o=ab(e,t);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=_r(t),u=_r(e)):(c=_r(e),u=_r(t));const f=cfe(u,c),p=(Ib(u)-Ib(c))/1e3,g=Math.round((f-p)/60);let v;if(g<2)return r?.includeSeconds?f<5?i.formatDistance("lessThanXSeconds",5,l):f<10?i.formatDistance("lessThanXSeconds",10,l):f<20?i.formatDistance("lessThanXSeconds",20,l):f<40?i.formatDistance("halfAMinute",0,l):f<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<A$){const b=Math.round(g/60);return i.formatDistance("aboutXHours",b,l)}else{if(g<s)return i.formatDistance("xDays",1,l);if(g<x0){const b=Math.round(g/A$);return i.formatDistance("xDays",b,l)}else if(g<x0*2)return v=Math.round(g/x0),i.formatDistance("aboutXMonths",v,l)}if(v=lfe(u,c),v<12){const b=Math.round(g/x0);return i.formatDistance("xMonths",b,l)}else{const b=v%12,y=Math.trunc(v/12);return b<3?i.formatDistance("aboutXYears",y,l):b<9?i.formatDistance("overXYears",y,l):i.formatDistance("almostXYears",y+1,l)}}function F7(e,t){return lhe(e,Qde(e),t)}function ng(e,t){return Gde(e,-t)}function che(e,t){const n=hhe(e);let i;if(n.date){const c=phe(n.date,2);i=mhe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(n.time&&(o=ghe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=vhe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+l)}const b0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},uhe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,dhe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,fhe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hhe(e){const t={},r=e.split(b0.dateTimeDelimiter);let n;if(r.length>2)return t;if(/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],b0.timeZoneDelimiter.test(t.date)&&(t.date=e.split(b0.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length))),n){const i=b0.timezone.exec(n);i?(t.time=n.replace(i[1],""),t.timezone=i[1]):t.time=n}return t}function phe(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:e.slice((n[1]||n[2]).length)}}function mhe(e,t){if(t===null)return new Date(NaN);const r=e.match(uhe);if(!r)return new Date(NaN);const n=!!r[4],i=ig(r[1]),s=ig(r[2])-1,o=ig(r[3]),l=ig(r[4]),c=ig(r[5])-1;if(n)return _he(t,l,c)?yhe(t,l,c):new Date(NaN);{const u=new Date(0);return!bhe(t,s,o)||!whe(t,i)?new Date(NaN):(u.setUTCFullYear(t,s,Math.max(i,o)),u)}}function ig(e){return e?parseInt(e):1}function ghe(e){const t=e.match(dhe);if(!t)return NaN;const r=MS(t[1]),n=MS(t[2]),i=MS(t[3]);return jhe(r,n,i)?r*R7+n*O7+i*1e3:NaN}function MS(e){return e&&parseFloat(e.replace(",","."))||0}function vhe(e){if(e==="Z")return 0;const t=e.match(fhe);if(!t)return 0;const r=t[1]==="+"?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;return She(n,i)?r*(n*R7+i*O7):NaN}function yhe(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,s=(t-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const xhe=[31,null,31,30,31,30,31,31,30,31,30,31];function B7(e){return e%400===0||e%4===0&&e%100!==0}function bhe(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(xhe[t]||(B7(e)?29:28))}function whe(e,t){return t>=1&&t<=(B7(e)?366:365)}function _he(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}function jhe(e,t,r){return e===24?t===0&&r===0:r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}function She(e,t){return t>=0&&t<=59}const D$={getBoostAnalytics:async(e=null,t="30d")=>{if(!yr)return console.warn("⚠️ Supabase non configuré, retour d'analytics de test"),{totalBoosts:45,activeBoosts:12,totalRevenue:45e4,averageBoostPrice:1e4,successRate:87.5,topPerformingCategories:["Immobilier","Automobile","Services"],boostTrends:{daily:[12,15,18,22,25,28,30],weekly:[85,92,105,118,125,132,140],monthly:[350,420,480,520,580,620,680]}};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            title,
            category,
            views_count,
            favorites_count
          )
        `).eq("status","active").gte("created_at",jh(t));if(n)throw n;return Nhe(r||[],e)}catch(r){throw console.error("Erreur lors de la récupération des analytics de boost:",r),r}},getBoostPerformance:async e=>{if(!yr)return{viewsIncrease:245,favoritesIncrease:18,contactsIncrease:12,roi:320,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]};try{const{data:t,error:r}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",e).single();if(r)throw r;return Che(t)}catch(t){throw console.error("Erreur lors de la récupération des performances:",t),t}},getPaymentAnalytics:async(e=null,t="30d")=>{if(!yr)return{totalPayments:67,totalRevenue:67e4,averageTransactionValue:1e4,paymentMethods:{orange_money:45,mtn_mobile_money:15,card:7},conversionRate:78.5,refundRate:2.3};try{const{data:r,error:n}=await we.from("payments").select("*").gte("created_at",jh(t));if(n)throw n;return Ehe(r||[],e)}catch(r){throw console.error("Erreur lors de la récupération des analytics de paiement:",r),r}},getRevenueData:async(e,t)=>{if(!yr)return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0};try{const{data:r,error:n}=await we.from("payments").select(`
          *,
          listings (
            category,
            title
          )
        `).eq("status","completed").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw n;const i=r?.reduce((c,u)=>c+(u.amount||0),0)||0,s=r?.reduce((c,u)=>{const f=Er(new Date(u.created_at),"yyyy-MM-dd");return c[f]=(c[f]||0)+(u.amount||0),c},{})||{},o=r?.reduce((c,u)=>{const f=u.listings?.category||"Autre";return c[f]=(c[f]||0)+(u.amount||0),c},{})||{},l=r?.reduce((c,u)=>{const f=u.payment_method||"Autre";return c[f]=(c[f]||0)+(u.amount||0),c},{})||{};return{totalRevenue:i,revenueByDate:Object.entries(s).map(([c,u])=>({date:c,revenue:u})),revenueByCategory:o,paymentMethods:l,growth:0}}catch(r){return console.error("Erreur lors de la récupération des données de revenus:",r),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}},getUserPremiumAnalytics:async(e,t="30d")=>{if(!yr)return{totalBoosts:8,totalSpent:85e3,averageBoostPrice:10625,boostSuccessRate:87.5,favoriteCategories:["Immobilier","Services"],boostHistory:[{date:"2024-01-15",package:"Boost Premium",price:12e3,status:"active"},{date:"2024-01-08",package:"Boost Basique",price:5e3,status:"expired"}]};try{const[r,n]=await Promise.all([we.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            )
          `).eq("user_id",e).gte("created_at",jh(t)),we.from("payments").select("*").eq("user_id",e).gte("created_at",jh(t))]);if(r.error)throw r.error;if(n.error)throw n.error;return Phe(r.data||[],n.data||[])}catch(r){throw console.error("Erreur lors de la récupération des analytics utilisateur:",r),r}},getPerformanceTrends:async(e="30d",t="revenue")=>{if(!yr)return{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],data:[45e3,52e3,48e3,61e3],trend:"up",percentageChange:15.6};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          created_at,
          boost_packages (
            price
          )
        `).gte("created_at",jh(e)).order("created_at",{ascending:!0});if(n)throw n;return The(r||[],e,t)}catch(r){throw console.error("Erreur lors de la récupération des tendances:",r),r}},getGrowthTrends:async(e,t)=>{if(!yr)return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}};try{const{data:r,error:n}=await we.from("users").select("created_at").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(n)throw n;const{data:i,error:s}=await we.from("listings").select("created_at, status").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(s)throw s;const{data:o,error:l}=await we.from("payments").select("created_at, amount").eq("status","completed").gte("created_at",e).lte("created_at",t).order("created_at",{ascending:!0});if(l)throw l;const c=IS(r,"created_at"),u=IS(i,"created_at"),f=IS(o,"created_at","amount"),p=LS(r,"created_at"),g=LS(i,"created_at"),v=LS(o,"created_at","amount"),b=DS(r,"created_at"),y=DS(i,"created_at"),_=DS(o,"created_at","amount");return{users:{daily:c,weekly:p,monthly:b},listings:{daily:u,weekly:g,monthly:y},revenue:{daily:f,weekly:v,monthly:_}}}catch(r){return console.error("Erreur lors de la récupération des tendances de croissance:",r),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}},getInsightsAndRecommendations:async(e=null)=>{if(!yr)return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]};try{const[t,r]=await Promise.all([we.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            ),
            listings (
              category,
              views_count,
              favorites_count
            )
          `).eq("status","active"),we.from("payments").select("*").eq("status","completed")]);if(t.error)throw t.error;if(r.error)throw r.error;return Ihe(t.data||[],r.data||[],e)}catch(t){throw console.error("Erreur lors de la génération des insights:",t),t}},getComparisonMetrics:async(e="7d",t="30d")=>{if(!yr)return{revenue:{period1:45e3,period2:18e4,change:300},boosts:{period1:12,period2:45,change:275},conversion:{period1:8.5,period2:12.3,change:44.7}};try{const[r,n]=await Promise.all([$$(e),$$(t)]);return Lhe(r,n)}catch(r){throw console.error("Erreur lors de la comparaison des métriques:",r),r}}};function jh(e){const t=new Date;switch(e){case"7d":return new Date(t.getTime()-7*24*60*60*1e3);case"30d":return new Date(t.getTime()-30*24*60*60*1e3);case"90d":return new Date(t.getTime()-90*24*60*60*1e3);case"1y":return new Date(t.getTime()-365*24*60*60*1e3);default:return new Date(t.getTime()-30*24*60*60*1e3)}}function Nhe(e,t){const r=t?e.filter(f=>f.user_id===t):e,n=r.length,i=r.filter(f=>f.status==="active").length,s=r.reduce((f,p)=>f+(p.boost_packages?.price||0),0),o=n>0?s/n:0,l=Ohe(r),c=Rhe(r),u=Mhe();return{totalBoosts:n,activeBoosts:i,totalRevenue:s,averageBoostPrice:Math.round(o),successRate:l,topPerformingCategories:c.slice(0,5),boostTrends:u}}function Che(e){const t=e.metadata?.views_before||0,n=(e.listings?.views_count||0)-t,i=e.metadata?.contacts_before||0,o=(e.listings?.favorites_count||0)-i,l=Math.round(o*.8),c=Ahe(e.boost_packages?.price||0,n,l);return{viewsIncrease:n,favoritesIncrease:o,contactsIncrease:l,roi:c,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]}}function Ehe(e,t){const r=t?e.filter(p=>p.user_id===t):e,n=r.length,i=r.reduce((p,g)=>p+g.amount,0),s=n>0?i/n:0,o={};r.forEach(p=>{o[p.payment_method]=(o[p.payment_method]||0)+1});const l=r.filter(p=>p.status==="completed").length,c=n>0?l/n*100:0,u=r.filter(p=>p.status==="refunded").length,f=n>0?u/n*100:0;return{totalPayments:n,totalRevenue:i,averageTransactionValue:Math.round(s),paymentMethods:o,conversionRate:Math.round(c*100)/100,refundRate:Math.round(f*100)/100}}function Phe(e,t){const r=e.length,n=t.reduce((p,g)=>p+g.amount,0),i=r>0?n/r:0,s=e.filter(p=>p.status==="active").length,o=r>0?s/r*100:0,l=e.map(p=>p.listings?.category).filter(Boolean),c={};l.forEach(p=>{c[p]=(c[p]||0)+1});const u=Object.entries(c).sort(([,p],[,g])=>g-p).slice(0,3).map(([p])=>p),f=e.slice(0,5).map(p=>({date:new Date(p.created_at).toLocaleDateString("fr-FR"),package:p.boost_packages?.name||"Package",price:p.boost_packages?.price||0,status:p.status}));return{totalBoosts:r,totalSpent:n,averageBoostPrice:Math.round(i),boostSuccessRate:Math.round(o*100)/100,favoriteCategories:u,boostHistory:f}}function The(e,t,r){const n=khe(e,t),i=Object.keys(n),s=Object.values(n).map(c=>r==="revenue"?c.reduce((u,f)=>u+(f.boost_packages?.price||0),0):r==="boosts"?c.length:0),o=s[s.length-1]>s[0]?"up":"down",l=s[0]>0?(s[s.length-1]-s[0])/s[0]*100:0;return{labels:i,data:s,trend:o,percentageChange:Math.round(l*100)/100}}function khe(e,t){const r={};return e.forEach(n=>{const i=new Date(n.created_at);let s;switch(t){case"7d":s=i.toLocaleDateString("fr-FR",{weekday:"short"});break;case"30d":s=`Sem ${Math.ceil(i.getDate()/7)}`;break;case"90d":s=i.toLocaleDateString("fr-FR",{month:"short"});break;default:s=i.toLocaleDateString("fr-FR",{month:"short"})}r[s]||(r[s]=[]),r[s].push(n)}),r}function Ahe(e,t,r){if(e<=0)return 0;const i=(r*2e3-e)/e*100;return Math.round(i*100)/100}function Ohe(e){if(e.length===0)return 0;const t=e.filter(r=>{const n=(r.listings?.views_count||0)-(r.metadata?.views_before||0),i=(r.listings?.favorites_count||0)-(r.metadata?.contacts_before||0);return n>10||i>2});return Math.round(t.length/e.length*100)}function Rhe(e){const t={};return e.forEach(r=>{const n=r.listings?.category;n&&(t[n]||(t[n]={count:0,totalViews:0,totalFavorites:0}),t[n].count++,t[n].totalViews+=r.listings?.views_count||0,t[n].totalFavorites+=r.listings?.favorites_count||0)}),Object.entries(t).map(([r,n])=>({category:r,performance:(n.totalViews+n.totalFavorites*10)/n.count})).sort((r,n)=>n.performance-r.performance).map(r=>r.category)}function Mhe(e){const t=new Date,r=[],n=[],i=[];for(let s=6;s>=0;s--)new Date(t.getTime()-s*24*60*60*1e3),r.push(Math.floor(Math.random()*20)+10);for(let s=6;s>=0;s--)n.push(Math.floor(Math.random()*50)+80);for(let s=6;s>=0;s--)i.push(Math.floor(Math.random()*100)+300);return{daily:r,weekly:n,monthly:i}}function Ihe(e,t,r){return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]}}async function $$(e){const{data:t,error:r}=await we.from("listing_boosts").select(`
      created_at,
      boost_packages (
        price
      )
    `).gte("created_at",jh(e));if(r)throw r;return t||[]}function Lhe(e,t){const r=e.reduce((o,l)=>o+(l.boost_packages?.price||0),0),n=t.reduce((o,l)=>o+(l.boost_packages?.price||0),0),i=e.length,s=t.length;return{revenue:{period1:r,period2:n,change:r>0?(n-r)/r*100:0},boosts:{period1:i,period2:s,change:i>0?(s-i)/i*100:0}}}function IS(e,t,r=null){const n={};return e?.forEach(i=>{const s=Er(new Date(i[t]),"yyyy-MM-dd");r?n[s]=(n[s]||0)+(i[r]||0):n[s]=(n[s]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function LS(e,t,r=null){const n={};return e?.forEach(i=>{const s=new Date(i[t]),o=Er(Xh(s,{weekStartsOn:1}),"yyyy-MM-dd");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function DS(e,t,r=null){const n={};return e?.forEach(i=>{const s=new Date(i[t]),o=Er(ufe(s),"yyyy-MM");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}const hn={getSystemSettings:async()=>{try{if(!yr)return{general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}};const{data:e,error:t}=await we.from("system_settings").select("*").single();return t?(console.warn("Table system_settings non trouvée, utilisation des paramètres par défaut"),hn.getDefaultSettings()):e.settings||hn.getDefaultSettings()}catch(e){return console.error("Erreur lors de la récupération des paramètres:",e),hn.getDefaultSettings()}},updateSystemSettings:async e=>{try{if(!yr)return console.log("Paramètres mis à jour (mode développement):",e),{success:!0,message:"Paramètres mis à jour en mode développement"};const{data:t,error:r}=await we.from("system_settings").upsert([{id:"main",settings:e,updated_at:new Date().toISOString()}],{onConflict:"id"}).select().single();if(r)throw r;return{success:!0,data:t,message:"Paramètres mis à jour avec succès"}}catch(t){throw console.error("Erreur lors de la mise à jour des paramètres:",t),new Error("Impossible de sauvegarder les paramètres")}},getSetting:async(e,t)=>{try{return(await hn.getSystemSettings())[e]?.[t]}catch(r){return console.error("Erreur lors de la récupération du paramètre:",r),null}},updateSetting:async(e,t,r)=>{try{const n=await hn.getSystemSettings();return n[e]||(n[e]={}),n[e][t]=r,await hn.updateSystemSettings(n)}catch(n){throw console.error("Erreur lors de la mise à jour du paramètre:",n),n}},getSettingsBySection:async e=>{try{return(await hn.getSystemSettings())[e]||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de la section:",t),{}}},getSiteSettings:async()=>{try{return(await hn.getSystemSettings()).general||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres du site:",e),{}}},getAppearanceSettings:async()=>{try{return(await hn.getSystemSettings()).appearance||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres d'apparence:",e),{}}},getNotificationSettings:async()=>{try{return(await hn.getSystemSettings()).notifications||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de notifications:",e),{}}},getSecuritySettings:async()=>{try{return(await hn.getSystemSettings()).security||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de sécurité:",e),{}}},getSystemSettingsSection:async()=>{try{return(await hn.getSystemSettings()).system||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres système:",e),{}}},resetToDefaults:async()=>{try{const e=hn.getDefaultSettings();return await hn.updateSystemSettings(e)}catch(e){throw console.error("Erreur lors de la réinitialisation des paramètres:",e),e}},exportSettings:async()=>{try{const e=await hn.getSystemSettings(),t=JSON.stringify(e,null,2),r=new Blob([t],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");return i.href=n,i.download=`maximarket-settings-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n),{success:!0,message:"Paramètres exportés avec succès"}}catch(e){throw console.error("Erreur lors de l'export des paramètres:",e),new Error("Impossible d'exporter les paramètres")}},importSettings:async e=>{try{return new Promise((t,r)=>{const n=new FileReader;n.onload=async i=>{try{const s=JSON.parse(i.target.result);if(!hn.validateSettings(s)){r(new Error("Format de paramètres invalide"));return}const o=await hn.updateSystemSettings(s);t(o)}catch{r(new Error("Fichier JSON invalide"))}},n.onerror=()=>r(new Error("Erreur de lecture du fichier")),n.readAsText(e)})}catch(t){throw console.error("Erreur lors de l'import des paramètres:",t),t}},validateSettings:e=>{const t=["general","appearance","notifications","security","system"];for(const n of t)if(!e[n]||typeof e[n]!="object")return!1;const r=e.general;return!(!r.siteName||!r.contactEmail||!r.timezone||!r.currency)},getDefaultSettings:()=>({general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}})};function z7(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=z7(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Kt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=z7(e))&&(n&&(n+=" "),n+=t);return n}const tR="-",Dhe=e=>{const t=Fhe(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:o=>{const l=o.split(tR);return l[0]===""&&l.length!==1&&l.shift(),q7(l,t)||$he(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},q7=(e,t)=>{if(e.length===0)return t.classGroupId;const r=e[0],n=t.nextPart.get(r),i=n?q7(e.slice(1),n):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(tR);return t.validators.find(({validator:o})=>o(s))?.classGroupId},F$=/^\[(.+)\]$/,$he=e=>{if(F$.test(e)){const t=F$.exec(e)[1],r=t?.substring(0,t.indexOf(":"));if(r)return"arbitrary.."+r}},Fhe=e=>{const{theme:t,prefix:r}=e,n={nextPart:new Map,validators:[]};return zhe(Object.entries(e.classGroups),r).forEach(([s,o])=>{OT(o,n,s,t)}),n},OT=(e,t,r,n)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:B$(t,i);s.classGroupId=r;return}if(typeof i=="function"){if(Bhe(i)){OT(i(n),t,r,n);return}t.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{OT(o,B$(t,s),r,n)})})},B$=(e,t)=>{let r=e;return t.split(tR).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Bhe=e=>e.isThemeGetter,zhe=(e,t)=>t?e.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[t+o,l])):s);return[r,i]}):e,qhe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),t++,t>e&&(t=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},U7="!",Uhe=e=>{const{separator:t,experimentalParseClassName:r}=e,n=t.length===1,i=t[0],s=t.length,o=l=>{const c=[];let u=0,f=0,p;for(let _=0;_<l.length;_++){let S=l[_];if(u===0){if(S===i&&(n||l.slice(_,_+s)===t)){c.push(l.slice(f,_)),f=_+s;continue}if(S==="/"){p=_;continue}}S==="["?u++:S==="]"&&u--}const g=c.length===0?l:l.substring(f),v=g.startsWith(U7),b=v?g.substring(1):g,y=p&&p>f?p-f:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:b,maybePostfixModifierPosition:y}};return r?l=>r({className:l,parseClassName:o}):o},Vhe=e=>{if(e.length<=1)return e;const t=[];let r=[];return e.forEach(n=>{n[0]==="["?(t.push(...r.sort(),n),r=[]):r.push(n)}),t.push(...r.sort()),t},Whe=e=>({cache:qhe(e.cacheSize),parseClassName:Uhe(e),...Dhe(e)}),Hhe=/\s+/,Khe=(e,t)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=t,s=[],o=e.trim().split(Hhe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:f,hasImportantModifier:p,baseClassName:g,maybePostfixModifierPosition:v}=r(u);let b=!!v,y=n(b?g.substring(0,v):g);if(!y){if(!b){l=u+(l.length>0?" "+l:l);continue}if(y=n(g),!y){l=u+(l.length>0?" "+l:l);continue}b=!1}const _=Vhe(f).join(":"),S=p?_+U7:_,N=S+y;if(s.includes(N))continue;s.push(N);const C=i(y,b);for(let A=0;A<C.length;++A){const k=C[A];s.push(S+k)}l=u+(l.length>0?" "+l:l)}return l};function Ghe(){let e=0,t,r,n="";for(;e<arguments.length;)(t=arguments[e++])&&(r=V7(t))&&(n&&(n+=" "),n+=r);return n}const V7=e=>{if(typeof e=="string")return e;let t,r="";for(let n=0;n<e.length;n++)e[n]&&(t=V7(e[n]))&&(r&&(r+=" "),r+=t);return r};function Zhe(e,...t){let r,n,i,s=o;function o(c){const u=t.reduce((f,p)=>p(f),e());return r=Whe(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const f=Khe(c,r);return i(c,f),f}return function(){return s(Ghe.apply(null,arguments))}}const Wr=e=>{const t=r=>r[e]||[];return t.isThemeGetter=!0,t},W7=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yhe=/^\d+\/\d+$/,Xhe=new Set(["px","full","screen"]),Jhe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Qhe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,epe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,tpe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,rpe=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ul=e=>Lh(e)||Xhe.has(e)||Yhe.test(e),Oc=e=>Dp(e,"length",upe),Lh=e=>!!e&&!Number.isNaN(Number(e)),$S=e=>Dp(e,"number",Lh),sg=e=>!!e&&Number.isInteger(Number(e)),npe=e=>e.endsWith("%")&&Lh(e.slice(0,-1)),Bt=e=>W7.test(e),Rc=e=>Jhe.test(e),ipe=new Set(["length","size","percentage"]),spe=e=>Dp(e,ipe,H7),ape=e=>Dp(e,"position",H7),ope=new Set(["image","url"]),lpe=e=>Dp(e,ope,fpe),cpe=e=>Dp(e,"",dpe),ag=()=>!0,Dp=(e,t,r)=>{const n=W7.exec(e);return n?n[1]?typeof t=="string"?n[1]===t:t.has(n[1]):r(n[2]):!1},upe=e=>Qhe.test(e)&&!epe.test(e),H7=()=>!1,dpe=e=>tpe.test(e),fpe=e=>rpe.test(e),hpe=()=>{const e=Wr("colors"),t=Wr("spacing"),r=Wr("blur"),n=Wr("brightness"),i=Wr("borderColor"),s=Wr("borderRadius"),o=Wr("borderSpacing"),l=Wr("borderWidth"),c=Wr("contrast"),u=Wr("grayscale"),f=Wr("hueRotate"),p=Wr("invert"),g=Wr("gap"),v=Wr("gradientColorStops"),b=Wr("gradientColorStopPositions"),y=Wr("inset"),_=Wr("margin"),S=Wr("opacity"),N=Wr("padding"),C=Wr("saturate"),A=Wr("scale"),k=Wr("sepia"),P=Wr("skew"),O=Wr("space"),I=Wr("translate"),B=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",Bt,t],U=()=>[Bt,t],q=()=>["",ul,Oc],H=()=>["auto",Lh,Bt],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],W=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],X=()=>["","0",Bt],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Lh,Bt];return{cacheSize:500,separator:":",theme:{colors:[ag],spacing:[ul,Oc],blur:["none","",Rc,Bt],brightness:J(),borderColor:[e],borderRadius:["none","","full",Rc,Bt],borderSpacing:U(),borderWidth:q(),contrast:J(),grayscale:X(),hueRotate:J(),invert:X(),gap:U(),gradientColorStops:[e],gradientColorStopPositions:[npe,Oc],inset:V(),margin:V(),opacity:J(),padding:U(),saturate:J(),scale:J(),sepia:X(),skew:J(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",Bt]}],container:["container"],columns:[{columns:[Rc]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),Bt]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",sg,Bt]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Bt]}],grow:[{grow:X()}],shrink:[{shrink:X()}],order:[{order:["first","last","none",sg,Bt]}],"grid-cols":[{"grid-cols":[ag]}],"col-start-end":[{col:["auto",{span:["full",sg,Bt]},Bt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[ag]}],"row-start-end":[{row:["auto",{span:[sg,Bt]},Bt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Bt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Bt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Bt,t]}],"min-w":[{"min-w":[Bt,t,"min","max","fit"]}],"max-w":[{"max-w":[Bt,t,"none","full","min","max","fit","prose",{screen:[Rc]},Rc]}],h:[{h:[Bt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Bt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Bt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Rc,Oc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",$S]}],"font-family":[{font:[ag]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Bt]}],"line-clamp":[{"line-clamp":["none",Lh,$S]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ul,Bt]}],"list-image":[{"list-image":["none",Bt]}],"list-style-type":[{list:["none","disc","decimal",Bt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ul,Oc]}],"underline-offset":[{"underline-offset":["auto",ul,Bt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),ape]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",spe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},lpe]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[ul,Bt]}],"outline-w":[{outline:[ul,Oc]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:q()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[ul,Oc]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Rc,cpe]}],"shadow-color":[{shadow:[ag]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...W(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":W()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Rc,Bt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[f]}],invert:[{invert:[p]}],saturate:[{saturate:[C]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[f]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Bt]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Bt]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Bt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[sg,Bt]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Bt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Bt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Bt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[ul,Oc,$S]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},ppe=Zhe(hpe);function qe(...e){return ppe(Kt(e))}function mpe(){return Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}function gpe(e){if(!e)return"Date inconnue";const t=new Date(e),n=(new Date-t)/(1e3*60*60);if(n<1)return"À l'instant";if(n<24){const i=Math.floor(n);return`Il y a ${i} heure${i>1?"s":""}`}else{if(n<48)return"Hier";if(n<168){const i=Math.floor(n/24);return`Il y a ${i} jour${i>1?"s":""}`}else return t.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}}function z$(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Ls(...e){return t=>{let r=!1;const n=e.map(i=>{const s=z$(i,t);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():z$(e[i],null)}}}}function at(...e){return x.useCallback(Ls(...e),e)}function Jh(e){const t=vpe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(xpe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}var K7=Jh("Slot");function vpe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r,o=x.isValidElement(i)?wpe(i):void 0,l=at(o,n);if(x.isValidElement(i)){const c=bpe(s,i.props);return i.type!==x.Fragment&&(c.ref=l),x.cloneElement(i,c)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var G7=Symbol("radix.slottable");function ype(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=G7,t}function xpe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===G7}function bpe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function wpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}const q$=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,U$=Kt,S_=(e,t)=>r=>{var n;if(t?.variants==null)return U$(e,r?.class,r?.className);const{variants:i,defaultVariants:s}=t,o=Object.keys(i).map(u=>{const f=r?.[u],p=s?.[u];if(f===null)return null;const g=q$(f)||q$(p);return i[u][g]}),l=r&&Object.entries(r).reduce((u,f)=>{let[p,g]=f;return g===void 0||(u[p]=g),u},{}),c=t==null||(n=t.compoundVariants)===null||n===void 0?void 0:n.reduce((u,f)=>{let{class:p,className:g,...v}=f;return Object.entries(v).every(b=>{let[y,_]=b;return Array.isArray(_)?_.includes({...s,...l}[y]):{...s,...l}[y]===_})?[...u,p,g]:u},[]);return U$(e,o,c,r?.class,r?.className)},rR=S_("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=Q.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},s)=>{const o=n?K7:"button";return a.jsx(o,{className:qe(rR({variant:t,size:r,className:e})),ref:s,...i})});ue.displayName="Button";const Tt=Q.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));Tt.displayName="Card";const nr=Q.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:qe("flex flex-col space-y-1.5 p-6",e),...t}));nr.displayName="CardHeader";const ir=Q.forwardRef(({className:e,...t},r)=>a.jsx("h3",{ref:r,className:qe("text-2xl font-semibold leading-none tracking-tight",e),...t}));ir.displayName="CardTitle";const Sn=Q.forwardRef(({className:e,...t},r)=>a.jsx("p",{ref:r,className:qe("text-sm text-muted-foreground",e),...t}));Sn.displayName="CardDescription";const At=Q.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:qe("p-6 pt-0",e),...t}));At.displayName="CardContent";const uv=Q.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:qe("flex items-center p-6 pt-0",e),...t}));uv.displayName="CardFooter";const _pe=S_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function mt({className:e,variant:t,...r}){return a.jsx("div",{className:qe(_pe({variant:t}),e),...r})}function jpe(e,t){const r=x.createContext(t),n=s=>{const{children:o,...l}=s,c=x.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=e+"Provider";function i(s){const o=x.useContext(r);if(o)return o;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[n,i]}function Ir(e,t=[]){let r=[];function n(s,o){const l=x.createContext(o),c=r.length;r=[...r,o];const u=p=>{const{scope:g,children:v,...b}=p,y=g?.[e]?.[c]||l,_=x.useMemo(()=>b,Object.values(b));return a.jsx(y.Provider,{value:_,children:v})};u.displayName=s+"Provider";function f(p,g){const v=g?.[e]?.[c]||l,b=x.useContext(v);if(b)return b;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[u,f]}const i=()=>{const s=r.map(o=>x.createContext(o));return function(l){const c=l?.[e]||s;return x.useMemo(()=>({[`__scope${e}`]:{...l,[e]:c}}),[l,c])}};return i.scopeName=e,[n,Spe(i,...t)]}function Spe(...e){const t=e[0];if(e.length===1)return t;const r=()=>{const n=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const p=c(s)[`__scope${u}`];return{...l,...p}},{});return x.useMemo(()=>({[`__scope${t.scopeName}`]:o}),[o])}};return r.scopeName=t.scopeName,r}function Npe(e){const t=Cpe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Ppe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Cpe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=kpe(i),l=Tpe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Epe=Symbol("radix.slottable");function Ppe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Epe}function Tpe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function kpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Ape=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Z7=Ape.reduce((e,t)=>{const r=Npe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),nR="Progress",iR=100,[Ope,Sze]=Ir(nR),[Rpe,Mpe]=Ope(nR),Y7=x.forwardRef((e,t)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Ipe,...o}=e;(i||i===0)&&!V$(i)&&console.error(Lpe(`${i}`,"Progress"));const l=V$(i)?i:iR;n!==null&&!W$(n,l)&&console.error(Dpe(`${n}`,"Progress"));const c=W$(n,l)?n:null,u=Lb(c)?s(c,l):void 0;return a.jsx(Rpe,{scope:r,value:c,max:l,children:a.jsx(Z7.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Lb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":Q7(c,l),"data-value":c??void 0,"data-max":l,...o,ref:t})})});Y7.displayName=nR;var X7="ProgressIndicator",J7=x.forwardRef((e,t)=>{const{__scopeProgress:r,...n}=e,i=Mpe(X7,r);return a.jsx(Z7.div,{"data-state":Q7(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:t})});J7.displayName=X7;function Ipe(e,t){return`${Math.round(e/t*100)}%`}function Q7(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Lb(e){return typeof e=="number"}function V$(e){return Lb(e)&&!isNaN(e)&&e>0}function W$(e,t){return Lb(e)&&!isNaN(e)&&e<=t&&e>=0}function Lpe(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${iR}\`.`}function Dpe(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${iR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var eW=Y7,$pe=J7;const tW=x.forwardRef(({className:e,value:t,...r},n)=>a.jsx(eW,{ref:n,className:qe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:a.jsx($pe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));tW.displayName=eW.displayName;const Fpe=()=>{const[e,t]=x.useState(null),[r,n]=x.useState(null),[i,s]=x.useState(!1);x.useEffect(()=>{o();const l=setInterval(o,5e3);return()=>clearInterval(l)},[]);const o=()=>{t(eR.getStats()),n(QO.getStatus())};return null};class Bpe{constructor(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},this.observers=[],this.isMonitoring=!1}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.monitorMemoryUsage(),this.monitorNetworkRequests(),this.monitorCachePerformance(),console.log("📊 Monitoring de performance démarré"))}stopMonitoring(){this.isMonitoring=!1,console.log("📊 Monitoring de performance arrêté")}recordCacheHit(t,r){this.metrics.cacheHits++,this.notifyObservers("cacheHit",{type:t,key:r,timestamp:Date.now()})}recordCacheMiss(t,r){this.metrics.cacheMisses++,this.notifyObservers("cacheMiss",{type:t,key:r,timestamp:Date.now()})}recordApiCall(t,r){this.metrics.apiCalls++,this.metrics.loadTimes.push(r),this.metrics.loadTimes.length>100&&this.metrics.loadTimes.shift(),this.notifyObservers("apiCall",{endpoint:t,duration:r,timestamp:Date.now()})}recordError(t,r){this.metrics.errors++,this.notifyObservers("error",{type:t,error:r,timestamp:Date.now()})}getCacheHitRatio(){const t=this.metrics.cacheHits+this.metrics.cacheMisses;return t>0?this.metrics.cacheHits/t*100:0}getAverageLoadTime(){return this.metrics.loadTimes.length===0?0:this.metrics.loadTimes.reduce((r,n)=>r+n,0)/this.metrics.loadTimes.length}getStats(){const t=Date.now()-this.metrics.startTime;return{uptime:Math.floor(t/1e3),cacheHits:this.metrics.cacheHits,cacheMisses:this.metrics.cacheMisses,cacheHitRatio:this.getCacheHitRatio(),apiCalls:this.metrics.apiCalls,errors:this.metrics.errors,averageLoadTime:this.getAverageLoadTime(),memoryUsage:this.metrics.memoryUsage[this.metrics.memoryUsage.length-1]||0,isMonitoring:this.isMonitoring}}monitorMemoryUsage(){if(this.isMonitoring){if("memory"in performance){const t=performance.memory;this.metrics.memoryUsage.push({used:t.usedJSHeapSize,total:t.totalJSHeapSize,limit:t.jsHeapSizeLimit,timestamp:Date.now()}),this.metrics.memoryUsage.length>50&&this.metrics.memoryUsage.shift()}setTimeout(()=>this.monitorMemoryUsage(),5e3)}}monitorNetworkRequests(){if(!this.isMonitoring)return;const t=window.fetch;window.fetch=async(...r)=>{const n=performance.now();try{const i=await t(...r),s=performance.now()-n;return this.recordApiCall(r[0],s),i}catch(i){throw this.recordError("network",i),i}}}monitorCachePerformance(){if(!this.isMonitoring)return;const t=Storage.prototype.getItem,r=Storage.prototype.setItem;Storage.prototype.getItem=function(n){const i=t.call(this,n);return i&&n.startsWith("benome:")&&Dh.recordCacheHit("localStorage",n),i},Storage.prototype.setItem=function(n,i){return n.startsWith("benome:")&&Dh.recordCacheMiss("localStorage",n),r.call(this,n,i)}}addObserver(t){this.observers.push(t)}removeObserver(t){this.observers=this.observers.filter(r=>r!==t)}notifyObservers(t,r){this.observers.forEach(n=>{try{n(t,r)}catch(i){console.error("Erreur dans l'observateur de métriques:",i)}})}exportMetrics(){return{...this.metrics,cacheHitRatio:this.getCacheHitRatio(),averageLoadTime:this.getAverageLoadTime(),exportTime:new Date().toISOString()}}reset(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},console.log("📊 Métriques réinitialisées")}}const Dh=new Bpe;Dh.startMonitoring();function Ve(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function RT(e){const t=zpe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Upe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function zpe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=Wpe(i),l=Vpe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var qpe=Symbol("radix.slottable");function Upe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===qpe}function Vpe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Wpe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function Hpe(e){const t=e+"CollectionProvider",[r,n]=Ir(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=RT(l),u=Q.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=RT(f),v=Q.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=Q.useRef(null),k=at(_,A),P=s(f,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:k,children:N})});v.displayName=f;function b(y){const _=s(e+"CollectionConsumer",y);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},b,n]}var or=globalThis?.document?x.useLayoutEffect:()=>{},Kpe=au[" useId ".trim().toString()]||(()=>{}),Gpe=0;function rs(e){const[t,r]=x.useState(Kpe());return or(()=>{r(n=>n??String(Gpe++))},[e]),t?`radix-${t}`:""}var Zpe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],$p=Zpe.reduce((e,t)=>{const r=RT(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function fr(e){const t=x.useRef(e);return x.useEffect(()=>{t.current=e}),x.useMemo(()=>(...r)=>t.current?.(...r),[])}var Ype=au[" useInsertionEffect ".trim().toString()]||or;function ns({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){const[i,s,o]=Xpe({defaultProp:t,onChange:r}),l=e!==void 0,c=l?e:i;{const f=x.useRef(e!==void 0);x.useEffect(()=>{const p=f.current;p!==l&&console.warn(`${n} is changing from ${p?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),f.current=l},[l,n])}const u=x.useCallback(f=>{if(l){const p=Jpe(f)?f(e):f;p!==e&&o.current?.(p)}else s(f)},[l,e,s,o]);return[c,u]}function Xpe({defaultProp:e,onChange:t}){const[r,n]=x.useState(e),i=x.useRef(r),s=x.useRef(t);return Ype(()=>{s.current=t},[t]),x.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function Jpe(e){return typeof e=="function"}var Qpe=x.createContext(void 0);function Fp(e){const t=x.useContext(Qpe);return e||t||"ltr"}var FS="rovingFocusGroup.onEntryFocus",eme={bubbles:!1,cancelable:!0},gy="RovingFocusGroup",[MT,rW,tme]=Hpe(gy),[rme,nW]=Ir(gy,[tme]),[nme,ime]=rme(gy),iW=x.forwardRef((e,t)=>a.jsx(MT.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(MT.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(sme,{...e,ref:t})})}));iW.displayName=gy;var sme=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=x.useRef(null),v=at(t,g),b=Fp(s),[y,_]=ns({prop:o,defaultProp:l??null,onChange:c,caller:gy}),[S,N]=x.useState(!1),C=fr(u),A=rW(r),k=x.useRef(!1),[P,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(FS,C),()=>I.removeEventListener(FS,C)},[C]),a.jsx(nme,{scope:r,orientation:n,dir:b,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:a.jsx($p.div,{tabIndex:S||P===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Ve(e.onMouseDown,()=>{k.current=!0}),onFocus:Ve(e.onFocus,I=>{const B=!k.current;if(I.target===I.currentTarget&&B&&!S){const K=new CustomEvent(FS,eme);if(I.currentTarget.dispatchEvent(K),!K.defaultPrevented){const V=A().filter(se=>se.focusable),U=V.find(se=>se.active),q=V.find(se=>se.id===y),G=[U,q,...V].filter(Boolean).map(se=>se.ref.current);oW(G,f)}}k.current=!1}),onBlur:Ve(e.onBlur,()=>N(!1))})})}),sW="RovingFocusGroupItem",aW=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=rs(),u=s||c,f=ime(sW,r),p=f.currentTabStopId===u,g=rW(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=f;return x.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),a.jsx(MT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx($p.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ve(e.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:Ve(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ve(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=lme(_,f.orientation,f.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=f.loop?cme(C,A+1):C.slice(A+1)}setTimeout(()=>oW(C))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});aW.displayName=sW;var ame={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ome(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function lme(e,t,r){const n=ome(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ame[n]}function oW(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function cme(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var ume=iW,dme=aW;function fme(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var ss=e=>{const{present:t,children:r}=e,n=hme(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=at(n.ref,pme(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};ss.displayName="Presence";function hme(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=fme(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=w0(n.current);s.current=l==="mounted"?u:"none"},[l]),or(()=>{const u=n.current,f=i.current;if(f!==e){const g=s.current,v=w0(u);e?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),or(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=v=>{const y=w0(n.current).includes(v.animationName);if(v.target===t&&y&&(c("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=v=>{v.target===t&&(s.current=w0(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function w0(e){return e?.animationName||"none"}function pme(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var N_="Tabs",[mme,Nze]=Ir(N_,[nW]),lW=nW(),[gme,sR]=mme(N_),cW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=e,f=Fp(l),[p,g]=ns({prop:n,onChange:i,defaultProp:s??"",caller:N_});return a.jsx(gme,{scope:r,baseId:rs(),value:p,onValueChange:g,orientation:o,dir:f,activationMode:c,children:a.jsx($p.div,{dir:f,"data-orientation":o,...u,ref:t})})});cW.displayName=N_;var uW="TabsList",dW=x.forwardRef((e,t)=>{const{__scopeTabs:r,loop:n=!0,...i}=e,s=sR(uW,r),o=lW(r);return a.jsx(ume,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx($p.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});dW.displayName=uW;var fW="TabsTrigger",hW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=e,o=sR(fW,r),l=lW(r),c=gW(o.baseId,n),u=vW(o.baseId,n),f=n===o.value;return a.jsx(dme,{asChild:!0,...l,focusable:!i,active:f,children:a.jsx($p.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":u,"data-state":f?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:t,onMouseDown:Ve(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?o.onValueChange(n):p.preventDefault()}),onKeyDown:Ve(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&o.onValueChange(n)}),onFocus:Ve(e.onFocus,()=>{const p=o.activationMode!=="manual";!f&&!i&&p&&o.onValueChange(n)})})})});hW.displayName=fW;var pW="TabsContent",mW=x.forwardRef((e,t)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=e,l=sR(pW,r),c=gW(l.baseId,n),u=vW(l.baseId,n),f=n===l.value,p=x.useRef(f);return x.useEffect(()=>{const g=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(ss,{present:i||f,children:({present:g})=>a.jsx($p.div,{"data-state":f?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:g&&s})})});mW.displayName=pW;function gW(e,t){return`${e}-trigger-${t}`}function vW(e,t){return`${e}-content-${t}`}var vme=cW,yW=dW,xW=hW,bW=mW;const aR=vme,C_=Q.forwardRef(({className:e,...t},r)=>a.jsx(yW,{ref:r,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));C_.displayName=yW.displayName;const Mi=Q.forwardRef(({className:e,...t},r)=>a.jsx(xW,{ref:r,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Mi.displayName=xW.displayName;const Ii=Q.forwardRef(({className:e,...t},r)=>a.jsx(bW,{ref:r,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Ii.displayName=bW.displayName;const yme=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState("overview"),[i,s]=x.useState(null),[o,l]=x.useState(null),[c,u]=x.useState(null),[f,p]=x.useState([]);return x.useEffect(()=>{if(!e)return;const g=()=>{s(Dh.getStats()),l(eR.getStats()),u(QO.getStatus())};g();const v=setInterval(g,2e3),b=(y,_)=>{p(S=>[...S,{event:y,data:_,timestamp:Date.now()}].slice(-50))};return Dh.addObserver(b),()=>{clearInterval(v),Dh.removeObserver(b)}},[e]),null},xme=S_("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),wW=x.forwardRef(({className:e,variant:t,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:qe(xme({variant:t}),e),...r}));wW.displayName="Alert";const _W=x.forwardRef(({className:e,...t},r)=>a.jsx("h5",{ref:r,className:qe("mb-1 font-medium leading-none tracking-tight",e),...t}));_W.displayName="AlertTitle";const jW=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{ref:r,className:qe("text-sm [&_p]:leading-relaxed",e),...t}));jW.displayName="AlertDescription";let bme=class extends Q.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("QueryErrorBoundary caught an error:",t,r)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender({error:this.state.error,resetErrorBoundary:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()}}):a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"Erreur inconnue"}),a.jsxs(ue,{onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()},variant:"outline",children:[a.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}):this.props.children}};const wme=({children:e})=>{const{reset:t}=NV();return a.jsx(bme,{onReset:t,fallbackRender:({error:r,resetErrorBoundary:n})=>a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs(wW,{className:"max-w-md",children:[a.jsx(Yd,{className:"h-4 w-4"}),a.jsx(_W,{children:"Erreur de chargement"}),a.jsxs(jW,{className:"mt-2",children:["Une erreur est survenue lors du chargement des données.",a.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:r.message})]}),a.jsxs(ue,{onClick:n,className:"mt-4",variant:"outline",children:[a.jsx(Kd,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}),children:e})},uh={theme:"light",notifications:{email:!0,push:!0,sms:!1},privacy:{profile_visibility:"public",show_online_status:!0,allow_messages:!0},security_settings:{two_factor_auth:!1,login_notifications:!0,session_timeout:30,require_password_change:!1,remember_me_enabled:!0,auto_logout:!0,max_session_age:7},customization:{primary_color:"#3B82F6",accent_color:"#10B981",font_size:"medium",animations_enabled:!0}},_me=()=>{const{user:e}=jr(),[t,r]=x.useState(uh),[n,i]=x.useState(!1),[s,o]=x.useState(null),l=async()=>{if(!e){r(uh),i(!1);return}try{i(!0),o(null);const p=localStorage.getItem(`maximarket-preferences-${e.id}`);if(p){const g=JSON.parse(p);r({...uh,...g})}else r(uh)}catch(p){console.error("Erreur lors du chargement des préférences:",p),o(p.message),r(uh)}finally{i(!1)}},c=async(p,g)=>{if(e)try{const v={...t},b=p.split(".");let y=v;for(let _=0;_<b.length-1;_++)y[b[_]]||(y[b[_]]={}),y=y[b[_]];y[b[b.length-1]]=g,r(v),localStorage.setItem(`maximarket-preferences-${e.id}`,JSON.stringify(v))}catch(v){console.error("Erreur lors de la mise à jour des préférences:",v),o(v.message)}},u=async p=>{if(e)try{const g={...t};Object.entries(p).forEach(([v,b])=>{const y=v.split(".");let _=g;for(let S=0;S<y.length-1;S++)_[y[S]]||(_[y[S]]={}),_=_[y[S]];_[y[y.length-1]]=b}),r(g),localStorage.setItem(`maximarket-preferences-${e.id}`,JSON.stringify(g))}catch(g){console.error("Erreur lors de la mise à jour des préférences:",g),o(g.message)}},f=async()=>{if(e)try{r(uh),localStorage.removeItem(`maximarket-preferences-${e.id}`)}catch(p){console.error("Erreur lors de la réinitialisation des préférences:",p),o(p.message)}};return x.useEffect(()=>{l()},[e]),{preferences:t,loading:n,error:s,updatePreference:c,updateMultiplePreferences:u,resetPreferences:f,reloadPreferences:l}},jme=()=>{const{session:e,logout:t,isRememberMe:r}=jr(),{preferences:n}=_me(),i=x.useRef(null),s=x.useRef(Date.now()),o=x.useCallback(()=>{if(s.current=Date.now(),i.current&&clearTimeout(i.current),!e||r||!n?.security_settings?.auto_logout)return;const u=(n.security_settings.session_timeout||30)*60*1e3;i.current=setTimeout(()=>{console.log("🕐 Inactivité détectée, déconnexion automatique"),t()},u)},[e,r,n,t]),l=x.useCallback(()=>{o()},[o]);return x.useEffect(()=>{if(!e)return;const c=["mousedown","mousemove","keypress","keydown","scroll","touchstart","click","focus","input","change"];return c.forEach(u=>{document.addEventListener(u,l,{passive:!0})}),o(),()=>{c.forEach(u=>{document.removeEventListener(u,l)}),i.current&&clearTimeout(i.current)}},[e,l,o]),x.useEffect(()=>{!e&&i.current&&clearTimeout(i.current)},[e]),{lastActivity:s.current,resetTimer:o}},Sme=()=>(jme(),null),Nme=({children:e})=>yr?e:a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",color:"#fff",fontFamily:"Arial, sans-serif",padding:"20px",textAlign:"center"},children:a.jsxs("div",{children:[a.jsx("h1",{style:{color:"#e74c3c",marginBottom:"20px"},children:"⚠️ Configuration Supabase requise"}),a.jsx("p",{style:{marginBottom:"15px"},children:"L'application nécessite la configuration des variables Supabase."}),a.jsxs("div",{style:{backgroundColor:"#2c3e50",padding:"15px",borderRadius:"5px",textAlign:"left",marginBottom:"20px"},children:[a.jsx("strong",{children:"Variables requises dans Vercel :"}),a.jsxs("div",{style:{marginTop:"10px",fontFamily:"monospace"},children:["VITE_SUPABASE_URL",a.jsx("br",{}),"VITE_SUPABASE_ANON_KEY"]})]}),a.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},children:"🔄 Recharger"})]})});async function Cme(e,t={},r="mistral-small-latest",n,i){const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:e,context:t,model:r,stream:!0}),signal:i});if(!s.ok||!s.body){const f=await s.json().catch(()=>({}));throw new Error(f?.error||"Chat API error")}const o=s.body.getReader(),l=new TextDecoder;let c="",u="";for(;;){const{value:f,done:p}=await o.read();if(p)break;c+=l.decode(f,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)if(v.startsWith("data: ")){const b=v.slice(6);if(b==="[DONE]")continue;try{const _=JSON.parse(b)?.choices?.[0]?.delta?.content||"";_&&(u+=_,n?.(u))}catch{}}}}const tt=Q.forwardRef(({className:e,type:t,...r},n)=>a.jsx("input",{type:t,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-foreground",e),ref:n,...r}));tt.displayName="Input";const Eme=["Dakar","Thiès","Saint-Louis","Kaolack","Ziguinchor","Touba","Mbour","Rufisque","Pikine","Guédiawaye","Cotonou","Porto-Novo","Abomey-Calavi","Parakou","Djougou","Bohicon","Kandi","Lokossa","Ouidah","Natitingou","Lomé","Sokodé","Kara","Kpalimé","Atakpamé","Bassar","Tsévié","Aného","Dapaong","Mango","Abidjan","Bouaké","Daloa","Yamoussoukro","San-Pédro","Korhogo","Man","Abengourou","Gagnoa","Anyama","Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"],H$=["toyota","peugeot","renault","citroën","citroen","ford","volkswagen","vw","bmw","mercedes","audi","honda","nissan","hyundai","kia","dacia","opel","fiat","chevrolet","mazda","suzuki"];function IT(e){if(!e||typeof e!="string")return{section:"marketplace",params:{sort:"popular"}};const t=e.trim(),r=t.toLowerCase(),n=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=n.replace(/[\s-]/g,""),s=y=>{const _=y.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),S=_.replace(/[\s-]/g,"");return n.includes(_)||i.includes(S)},o=Eme.find(y=>s(y));let l,c;const u=r.match(/(\d+[\.,]?\d*)\s*(k|m)?/gi)||[],f=y=>{const _=y.match(/(\d+[\.,]?\d*)\s*(k|m)?/i);if(!_)return null;const S=parseFloat(_[1].replace(",",".")),N=_[2]?_[2].toLowerCase()==="m"?1e6:1e3:1;return Math.round(S*N)};if(u.length>=2&&/entre|et|-/i.test(r)){const y=f(u[0]),_=f(u[1]);y&&_&&(l=Math.min(y,_),c=Math.max(y,_))}else/max|<=|<\s*/i.test(r)&&u[0]?c=f(u[0]):/min|>=|>\s*/i.test(r)&&u[0]?l=f(u[0]):u.length===1&&(c=f(u[0]));let p="marketplace";/\b(appartement|maison|terrain|studio|immobilier|villa|pi[eè]ces|m²|m2)\b/i.test(r)?p="immobilier":/\b(voiture|auto|car|moto|scooter|camion|camionnette|vehicule|véhicule)\b/i.test(r)||H$.some(y=>r.includes(y))?p="automobile":/\b(plombier|electricien|électricien|menage|ménage|jardinage|coiffure|réparation|reparation|d[eé]m[eé]nagement|cours|prof|service|informatique|evenementiel|événementiel)\b/i.test(r)&&(p="services");let g;const v=H$.find(y=>r.includes(y));v&&(g=v);const b={search:t,sort:"popular"};return o&&(b.location=o),l&&(b.minPrice=String(l)),c&&(b.maxPrice=String(c)),g&&p==="automobile"&&(b.brand=g),{section:p,params:b}}const Pme=({pageContext:e={}})=>{const{user:t}=jr(),[r,n]=x.useState(!1),[i,s]=x.useState(""),[o,l]=x.useState(!1),[c,u]=x.useState([]),[f,p]=x.useState([]),[g,v]=x.useState(null),[b,y]=x.useState(!1),[_,S]=x.useState(!1),[N,C]=x.useState(!1),A=x.useRef(null),k=x.useRef(null),P=x.useMemo(()=>({path:window.location.pathname,...typeof window<"u"&&window.__MAXIMARKET_CONTEXT?window.__MAXIMARKET_CONTEXT:{},...e}),[e]);x.useEffect(()=>{const q=localStorage.getItem("chatbot_conversations");if(q)try{const H=JSON.parse(q);Array.isArray(H)&&p(H)}catch(H){console.error("Erreur parsing conversations:",H)}},[]),x.useEffect(()=>{f.length>0&&localStorage.setItem("chatbot_conversations",JSON.stringify(f))},[f]),x.useEffect(()=>{const q=()=>S(window.matchMedia("(max-width: 640px)").matches);return q(),window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]);const O=async()=>{const q=i.trim();if(!q||o)return;if(c.length===0){const G=Date.now().toString();v(G),p(se=>[...se,{id:G,title:q.length>30?q.substring(0,30)+"...":q,date:new Date().toLocaleDateString(),messages:[]}])}const H=[...c,{role:"user",content:q}];u(H),s(""),l(!0);try{const G=/^(yo|salut|bonjour|hello|hi|hey|ciao|hola|bonsoir|bonne\s+nuit)$/i.test(q.trim()),se=/\b(appartement|maison|voiture|service|immobilier|auto|plombier|electricien|terrain|studio|villa|moto|scooter|camion|menage|jardinage|coiffure|reparation|demenagement|cours|prof|informatique|evenementiel)\b/i.test(q.toLowerCase()),W=/\d+\s*(k|m|xof|frs?)|(dakar|abidjan|lome|cotonou|thiès|saint-louis|kaolack|ziguinchor|touba|mbour|rufisque|pikine|guediawaye)/i.test(q.toLowerCase());let ee=null,X="",ne=[];if(y(!1),!G&&(se||W)&&(ee=IT(q)),ee){const{section:Ce,params:Le}=ee,ae={...Le,category:{immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[Ce]||void 0,limit:3,page:0,status:"approved"};try{const ge=await zr.getAllListings(ae);ge?.data?.length&&(ne=ge.data.slice(0,3).map(he=>({id:he.id,title:he.title,price:he.price})),X+=`J'ai trouvé ${ge.data.length} résultats. Voici quelques suggestions:
`+ne.map(he=>`• ${he.title} — ${he.price??""} XOF (ouvrir: /annonce/${he.id})`).join(`
`)+`

`,y(!0))}catch{}}u(Ce=>[...Ce,{role:"assistant",content:X}]);const J=H.length;let oe="";k.current?.abort();const be=new AbortController;k.current=be,await Cme(H,{...P,intent:ee},void 0,Ce=>{oe=Ce;const Le=X+oe;u(ce=>ce.map((ae,ge)=>ge===J?{...ae,content:Le}:ae))},be.signal),setTimeout(()=>A.current?.scrollTo({top:A.current.scrollHeight,behavior:"smooth"}),50)}catch(G){if(G?.name!=="AbortError"){console.error("Chat error:",G);let se="Une erreur serveur est survenue côté assistant.";G.message?.includes("API configuration error")?se="Erreur de configuration API. Veuillez contacter l'administrateur.":G.message?.includes("401")||G.message?.includes("Unauthorized")?se="Erreur d'authentification API. Veuillez réessayer plus tard.":G.message?.includes("429")||G.message?.includes("Too Many Requests")?se="Limite de requêtes atteinte. Veuillez réessayer dans quelques minutes.":(G.message?.includes("500")||G.message?.includes("Internal Server Error"))&&(se="Erreur serveur temporaire. Veuillez réessayer dans un instant.");const W="Bonjour. Je reste à votre disposition pour la recherche et vos questions.",ee=b?`${se} Vous pouvez cliquer sur « Voir plus » pour ouvrir tous les résultats, ou réessayer dans un instant.`:`${se} Veuillez réessayer dans un instant ou lancer la recherche complète depuis le marketplace.`;u(X=>[...X,{role:"assistant",content:W},{role:"assistant",content:ee}])}}finally{l(!1)}},I=()=>{try{k.current?.abort()}catch{}if(c.length>0&&g){const H=c.find(W=>W.role==="user")?.content||"Nouvelle conversation",G=H.length>30?H.substring(0,30)+"...":H,se=f.map(W=>W.id===g?{...W,messages:c,title:G}:W);p(se)}const q=Date.now().toString();v(q),u([]),s(""),l(!1),setTimeout(()=>A.current?.scrollTo({top:0,behavior:"smooth"}),50)},B=()=>{const q=[],H=c.filter(ee=>ee.role==="user").map(ee=>ee.content.toLowerCase()),G=H.some(ee=>ee.includes("immobilier")||ee.includes("appartement")||ee.includes("maison")||ee.includes("terrain")),se=H.some(ee=>ee.includes("voiture")||ee.includes("auto")||ee.includes("véhicule")),W=H.some(ee=>ee.includes("service")||ee.includes("plomberie")||ee.includes("électricité"));return G&&(q.push("Appartements 2 chambres à Dakar"),q.push("Terrains constructibles")),se&&(q.push("Voitures d'occasion récentes"),q.push("Motos économiques")),W&&(q.push("Services de nettoyage"),q.push("Réparation électroménager")),q.length===0&&q.push("Immobilier à Dakar","Voitures < 3 000 000 XOF"),q.slice(0,3)},K=()=>f.map(q=>({id:q.id,title:q.title||"Conversation sans titre",date:q.date||new Date(q.id).toLocaleDateString(),messageCount:q.messages?.length||0})).slice(-10).reverse(),V=()=>{const q=c.filter(se=>se.role==="user").length,H=c.filter(se=>se.role==="assistant").length,G=c.length;return{userMessages:q,assistantMessages:H,totalMessages:G,sessionDuration:c.length>0?Math.floor((Date.now()-new Date().getTime())/6e4):0}},U=(q,H={})=>{switch(q){case"publish_listing":window.location.href="/creer-annonce";break;case"my_listings":t?window.location.href="/mes-annonces":u(G=>[...G,{role:"assistant",content:"Vous devez être connecté pour voir vos annonces. Connectez-vous d'abord."}]);break;case"contact_seller":P.listing?.sellerId?window.location.href=`/annonce/${P.listing.id}#contact`:u(G=>[...G,{role:"assistant",content:"Informations de contact non disponibles pour cette annonce."}]);break;case"share_listing":if(P.listing?.id){const G=`${window.location.origin}/annonce/${P.listing.id}`;navigator.share?navigator.share({title:P.listing.title||"Annonce MaxiMarket",url:G}):(navigator.clipboard.writeText(G),u(se=>[...se,{role:"assistant",content:"Lien copié dans le presse-papiers !"}]))}break}};return a.jsxs("div",{children:[!r&&a.jsx("button",{onClick:()=>n(!0),"aria-label":"Ouvrir le chat",style:{position:"fixed",bottom:"calc(16px + env(safe-area-inset-bottom, 0px))",right:"calc(16px + env(safe-area-inset-right, 0px))",zIndex:9999,width:56,height:56,borderRadius:14,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"white",border:"1px solid #1f2937",boxShadow:"0 10px 30px rgba(0,0,0,0.55)",display:"grid",placeItems:"center"},children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M21 12c0 4.418-4.03 8-9 8-1.032 0-2.021-.152-2.94-.432L3 21l1.49-4.47C3.55 15.19 3 13.65 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8Z",stroke:"#e5e7eb",strokeWidth:"1.2"}),a.jsx("path",{d:"M7.5 11h9M7.5 14h5",stroke:"#9ca3af",strokeWidth:"1.2",strokeLinecap:"round"})]})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{onClick:()=>{n(!1),C(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,background:"rgba(0,0,0,0.3)"}}),N&&a.jsx("div",{onClick:()=>C(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9997,background:"transparent"}}),a.jsxs("div",{style:{position:"fixed",bottom:_?"calc(16px + env(safe-area-inset-bottom, 0px))":20,right:_?"calc(16px + env(safe-area-inset-right, 0px))":20,left:"auto",top:"auto",zIndex:9999,width:_?"80vw":420,maxWidth:"95vw",height:_?"90vw":560,maxHeight:"78vh",background:"#0b0f14",border:"1px solid #111827",borderRadius:16,display:"flex",flexDirection:"column",boxShadow:"0 18px 38px rgba(0,0,0,0.6)"},children:[a.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #1f2937",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#0e141b",position:_?"sticky":"static",top:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsx("button",{onClick:()=>C(!N),style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"#fff",display:"grid",placeItems:"center",border:"1px solid #1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="linear-gradient(135deg,#1f2937,#111827)",onMouseLeave:q=>q.target.style.background="linear-gradient(135deg,#111827,#0b0f14)",children:N?a.jsxs("div",{style:{position:"relative",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(45deg)",transition:"all 0.2s"}}),a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(-45deg)",transition:"all 0.2s"}})]}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}})]})}),N&&a.jsxs("div",{onClick:q=>q.stopPropagation(),style:{position:"absolute",top:"100%",left:0,width:280,background:"#0b0f14",border:"1px solid #1f2937",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",zIndex:1e4,marginTop:8,padding:16},children:[a.jsxs("div",{style:{borderBottom:"1px solid #1f2937",paddingBottom:12,marginBottom:12},children:[a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:14,marginBottom:4},children:"Assistant MaxiMarket"}),a.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:[V().totalMessages," messages • ",V().userMessages," recherches"]})]}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"CONVERSATIONS RÉCENTES"}),a.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:K().length>0?K().map((q,H)=>a.jsx("button",{onClick:()=>{const G=f.find(se=>se.id===q.id);G&&(u(G.messages||[]),v(q.id),C(!1))},style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",color:"#e5e7eb",fontSize:12,textAlign:"left",borderRadius:6,cursor:"pointer",marginBottom:2,transition:"all 0.2s"},onMouseEnter:G=>G.target.style.background="#1f2937",onMouseLeave:G=>G.target.style.background="transparent",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:"#6b7280"}}),a.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[a.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:q.title}),a.jsxs("div",{style:{fontSize:10,color:"#9ca3af"},children:[q.date," • ",q.messageCount," messages"]})]})]})},q.id)):a.jsx("div",{style:{fontSize:12,color:"#6b7280",fontStyle:"italic"},children:"Aucune conversation récente"})})]}),a.jsxs("div",{style:{borderTop:"1px solid #1f2937",paddingTop:12},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"ACTIONS RAPIDES"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[a.jsx("button",{onClick:()=>{U("publish_listing"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="#1f2937",onMouseLeave:q=>q.target.style.background="transparent",children:"📝 Publier une annonce"}),t&&a.jsx("button",{onClick:()=>{U("my_listings"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="#1f2937",onMouseLeave:q=>q.target.style.background="transparent",children:"📋 Mes annonces"}),a.jsx("button",{onClick:()=>{I(),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:q=>q.target.style.background="#1f2937",onMouseLeave:q=>q.target.style.background="transparent",children:"🆕 Nouveau chat"})]})]})]})]}),a.jsx("div",{children:a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:15},children:"Assistant MaxiMarket"})})]}),a.jsxs("div",{style:{display:"flex",gap:6},children:[a.jsx("button",{onClick:I,title:"Nouveau chat","aria-label":"Nouveau chat",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontWeight:600,fontSize:16},children:"+"}),o&&a.jsx("button",{onClick:()=>k.current?.abort(),title:"Arrêter",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:12,fontWeight:600},children:"⏹"}),a.jsx("button",{onClick:()=>{n(!1),C(!1)},"aria-label":"Fermer",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:16,fontWeight:600},children:"×"})]})]}),a.jsxs("div",{ref:A,style:{flex:1,overflowY:"auto",padding:14,paddingBottom:"calc(14px + env(safe-area-inset-bottom, 0px))"},children:[c.length===0&&a.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:["Bonjour. Je suis l'assistant Maximarket. Indiquez ce que vous recherchez (catégorie, budget, ville) ou posez votre question.",a.jsx("div",{style:{marginTop:10,display:"flex",flexWrap:"wrap",gap:8},children:[...B(),"Publier une annonce","Services plomberie",t?"Voir mes annonces":"Se connecter"].map((q,H)=>a.jsx("button",{onClick:()=>{q==="Publier une annonce"?U("publish_listing"):q==="Voir mes annonces"?U("my_listings"):q==="Se connecter"?window.location.href="/connexion":s(q)},style:{padding:"6px 10px",border:"1px solid #374151",borderRadius:999,background:"#0e141b",color:"#e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:G=>G.target.style.background="#1f2937",onMouseLeave:G=>G.target.style.background="#0e141b",children:q},H))}),P.listing&&a.jsxs("div",{style:{marginTop:15,paddingTop:15,borderTop:"1px solid #1f2937"},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:"Actions rapides :"}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[a.jsx("button",{onClick:()=>U("contact_seller"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Contacter le vendeur"}),a.jsx("button",{onClick:()=>U("share_listing"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Partager"})]})]})]}),c.map((q,H)=>a.jsxs("div",{style:{margin:"10px 0",display:"flex",gap:10,alignItems:"flex-start"},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:q.role==="user"?"#111827":"#0e141b",color:"#e5e7eb",display:"grid",placeItems:"center",fontSize:12,border:"1px solid #1f2937"},children:q.role==="user"?"Vous":"AI"}),a.jsx("div",{style:{whiteSpace:"pre-wrap",background:q.role==="user"?"#0e141b":"#0b0f14",border:"1px solid #1f2937",color:"#e5e7eb",borderRadius:12,padding:"10px 12px",maxWidth:"85%"},children:q.content})]},H)),o&&a.jsx("div",{style:{color:"#9ca3af",fontSize:14},children:"Rédaction..."})]}),a.jsxs("div",{style:{display:"flex",gap:8,padding:12,paddingBottom:"calc(12px + env(safe-area-inset-bottom, 0px))",borderTop:"1px solid #1f2937",background:"#0e141b",borderBottomLeftRadius:16,borderBottomRightRadius:16},children:[a.jsx(tt,{value:i,onChange:q=>s(q.target.value),onKeyDown:q=>{q.key==="Enter"&&O()},placeholder:"Votre message...",style:{background:"#0b0f14",color:"#e5e7eb",borderColor:"#1f2937"}}),a.jsx(ue,{onClick:O,disabled:o||!i.trim(),style:{background:"#111827",border:"1px solid #1f2937"},children:"Envoyer"}),b&&a.jsx(ue,{variant:"outline",onClick:()=>{const q=c.filter(se=>se.role==="user").slice(-1)[0]?.content||"",H=IT(q),G=new URLSearchParams;H?.params?.search&&G.set("search",H.params.search),H?.params?.minPrice&&G.set("minPrice",H.params.minPrice),H?.params?.maxPrice&&G.set("maxPrice",H.params.maxPrice),H?.params?.location&&G.set("location",H.params.location),window.location.href=`/marketplace?${G.toString()}`},style:{border:"1px solid #374151",color:"#e5e7eb"},children:"Voir plus"})]})]})]})]})},sr={siteName:"MaxiMarket",tagline:"Votre Hub Innovant pour l'Afrique de l'Ouest",socials:{linkedin:"https://linkedin.com/in/yourusername",twitter:"https://twitter.com/yourusername",instagram:"https://instagram.com/yourusername",facebook:"https://facebook.com/yourusername",youtube:"https://youtube.com/yourusername"}},Tme=()=>{const[e,t]=x.useState(!1),[r,n]=x.useState(!1),[i,s]=x.useState(!0),{user:o}=jr(),l=x.useMemo(()=>[{name:"Immobilier",path:"/immobilier",icon:a.jsx(Rd,{className:"mr-2 h-4 w-4"})},{name:"Automobile",path:"/automobile",icon:a.jsx(b_,{className:"mr-2 h-4 w-4"})},{name:"Services",path:"/services",icon:a.jsx(Od,{className:"mr-2 h-4 w-4"})},{name:"Marketplace",path:"/marketplace",icon:a.jsx(Gd,{className:"mr-2 h-4 w-4"})}],[]),c=x.useMemo(()=>({closed:{opacity:0,x:"-100%"},open:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}}}),[]),u=x.useMemo(()=>"text-muted-foreground hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium flex items-center",[]),f=x.useMemo(()=>"text-primary bg-primary/10",[]);x.useEffect(()=>{const v=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",v,{passive:!0}),()=>window.removeEventListener("scroll",v)},[]),x.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const p=()=>{s(!i)},g=x.useMemo(()=>a.jsx(ar,{to:"/",className:"flex items-center space-x-2","aria-label":"Accueil MaxiMarket",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:sr.siteName})}),[]);return a.jsxs("header",{role:"banner","aria-label":"Navigation principale",children:[a.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${r||e?"bg-background/95 shadow-lg backdrop-blur-md":"bg-transparent"}`,role:"navigation","aria-label":"Menu principal",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:g}),a.jsx("nav",{role:"navigation","aria-label":"Navigation desktop",className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:l.map(v=>a.jsxs(Ju,{to:v.path,className:({isActive:b})=>`${u} ${b?f:""}`,"aria-current":({isActive:b})=>b?"page":void 0,children:[v.icon,v.name]},v.name))}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{variant:"ghost",size:"icon",onClick:p,"aria-label":"Changer de thème",type:"button",children:i?a.jsx(wde,{className:"h-5 w-5"}):a.jsx(cde,{className:"h-5 w-5"})}),a.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Rechercher",type:"button",children:a.jsx(Jn,{className:"h-5 w-5"})}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ar,{to:"/connexion","aria-label":"Se connecter",children:[a.jsx(y0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-secondary",children:a.jsxs(ar,{to:"/inscription","aria-label":"S'inscrire",children:[a.jsx(y0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})})]}),o&&o.role==="admin"?a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-secondary",children:a.jsxs(ar,{to:"/admin","aria-label":"Accéder à l'administration",children:[a.jsx(pd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]})}):o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ar,{to:"/messages","aria-label":"Accéder aux messages",children:[a.jsx(Xn,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ar,{to:"/profile","aria-label":"Accéder à mon compte",children:[a.jsx(pd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>t(!e),"aria-label":e?"Fermer le menu":"Ouvrir le menu","aria-expanded":e,type:"button",children:e?a.jsx(is,{className:"h-6 w-6"}):a.jsx(E7,{className:"h-6 w-6"})})})]})]})})}),a.jsx(li,{children:e&&a.jsxs(Re.nav,{variants:c,initial:"closed",animate:"open",exit:"closed",className:"md:hidden fixed inset-0 top-20 bg-background/95 backdrop-blur-md z-40 p-4 space-y-3 border-t border-border",role:"navigation","aria-label":"Menu mobile",children:[l.map(v=>a.jsxs(Ju,{to:v.path,onClick:()=>t(!1),className:({isActive:b})=>`${u} text-base w-full justify-start ${b?f:""}`,"aria-current":({isActive:b})=>b?"page":void 0,children:[v.icon,v.name]},v.name)),!o&&a.jsxs(a.Fragment,{children:[a.jsxs(Ju,{to:"/connexion",onClick:()=>t(!1),className:`${u} text-base w-full justify-start`,"aria-label":"Se connecter",children:[a.jsx(y0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]}),a.jsxs(Ju,{to:"/inscription",onClick:()=>t(!1),className:`${u} text-base w-full justify-start`,"aria-label":"S'inscrire",children:[a.jsx(y0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})]}),o&&o.role==="admin"?a.jsxs(Ju,{to:"/admin",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder à l'administration",children:[a.jsx(pd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]}):o&&a.jsxs(a.Fragment,{children:[a.jsxs(Ju,{to:"/messages",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder aux messages",children:[a.jsx(Xn,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]}),a.jsxs(Ju,{to:"/profile",onClick:()=>t(!1),className:({isActive:v})=>`${u} text-base w-full justify-start ${v?f:""}`,"aria-label":"Accéder à mon compte",children:[a.jsx(pd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})]})]})})]})},kme=()=>{const e=new Date().getFullYear(),t=[{title:"Explorer",links:[{name:"Immobilier",path:"/immobilier"},{name:"Automobile",path:"/automobile"},{name:"Services Pro",path:"/services"},{name:"Marketplace",path:"/marketplace"}]},{title:"Entreprise",links:[{name:"À Propos",path:"/a-propos"},{name:"Carrières",path:"/carrieres"},{name:"Presse",path:"/presse"},{name:"Blog",path:"/blog"}]},{title:"Support",links:[{name:"Centre d'Aide",path:"/aide"},{name:"Contactez-nous",path:"/contact"},{name:"FAQ",path:"/faq"},{name:"Politique de Confidentialité",path:"/politique-confidentialite"},{name:"Termes & Conditions",path:"/conditions-utilisation"}]}],r=[{name:"Facebook",icon:a.jsx(ET,{className:"h-5 w-5"}),path:sr.socials.facebook},{name:"Twitter",icon:a.jsx(P7,{className:"h-5 w-5"}),path:sr.socials.twitter},{name:"Instagram",icon:a.jsx(PT,{className:"h-5 w-5"}),path:sr.socials.instagram},{name:"LinkedIn",icon:a.jsx(C7,{className:"h-5 w-5"}),path:sr.socials.linkedin},{name:"YouTube",icon:a.jsx(Ede,{className:"h-5 w-5"}),path:sr.socials.youtube}].filter(n=>n.path&&!n.path.includes("yourusername"));return a.jsx("footer",{className:"bg-card text-card-foreground border-t border-border pt-16 pb-8",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2 lg:col-span-1 xl:col-span-2 pr-4",children:[a.jsx(ar,{to:"/",className:"flex items-center space-x-2 mb-6",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:sr.siteName})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"La plateforme N°1 en Afrique de l'Ouest pour l'immobilier, l'automobile, les services et bien plus."}),a.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Restez informé de nos nouveautés :"}),a.jsxs("form",{className:"flex items-center gap-2",children:[a.jsx(tt,{type:"email",placeholder:"Votre adresse e-mail",className:"flex-grow"}),a.jsx(ue,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary/90",children:a.jsx(py,{className:"h-4 w-4"})})]})]}),t.map(n=>a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold mb-4",children:n.title}),a.jsx("ul",{className:"space-y-2",children:n.links.map(i=>a.jsx("li",{children:a.jsxs(ar,{to:i.path,className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center group",children:[i.name,a.jsx(jl,{className:"h-3 w-3 ml-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},i.name))})]},n.title))]}),a.jsxs("div",{className:"border-t border-border pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-xs text-muted-foreground mb-4 md:mb-0",children:["© ",e," ",sr.siteName,". Tous droits réservés."]}),a.jsx("div",{className:"flex space-x-4",children:r.map(n=>a.jsx(ar,{to:n.path,target:"_blank",rel:"noopener noreferrer","aria-label":n.name,className:"text-muted-foreground hover:text-primary transition-colors",children:n.icon},n.name))})]})]})})},Ame=()=>{const e=Ci(),[t,r]=x.useState(!1),n=x.useCallback(()=>{r(window.scrollY>20)},[]);x.useEffect(()=>(window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)),[n]),x.useEffect(()=>{window.scrollTo(0,0)},[e.pathname]);const i=x.useMemo(()=>qe("fixed top-0 left-0 right-0 z-50 transition-all duration-300",t?"py-3 glass-effect":"py-5 bg-transparent"),[t]),s=x.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background grid-pattern",children:[a.jsx("header",{className:i,role:"banner","aria-label":"En-tête principal",children:a.jsx(Tme,{})}),a.jsx("main",{className:"flex-grow pt-24 pb-16",role:"main","aria-label":"Contenu principal",id:"main-content",children:a.jsx(Re.div,{...s,children:a.jsx(oV,{})},e.pathname)}),a.jsx(kme,{})]})},Ome=[{name:"Tableau de bord",href:"/admin",icon:N7},{name:"Utilisateurs",href:"/admin/users",icon:Ua},{name:"Annonces",href:"/admin/listings",icon:Wg},{name:"Transactions",href:"/admin/transactions",icon:Yh},{name:"Catégories",href:"/admin/categories",icon:Zd},{name:"Rapports",href:"/admin/analytics",icon:KO},{name:"Modération",href:"/admin/moderation",icon:Rb},{name:"Paramètres",href:"/admin/settings",icon:pd}];function Rme({className:e}){const t=Ci(),{logout:r}=jr(),n=async()=>{try{await r()}catch(i){console.error("Erreur lors de la déconnexion:",i)}};return a.jsxs("div",{className:qe("hidden md:flex md:flex-col md:w-64 bg-slate-900 border-r border-slate-800 min-h-screen",e),children:[a.jsx("div",{className:"p-4 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:Ome.map(i=>a.jsxs(ar,{to:i.href,className:qe("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",t.pathname===i.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[a.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.href))}),a.jsx("div",{className:"p-4 border-t border-slate-800",children:a.jsxs(ue,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-slate-800 hover:text-white",children:[a.jsx(YO,{className:"mr-3 h-5 w-5"}),"Déconnexion"]})})]})}var Mme=Object.defineProperty,Ime=(e,t,r)=>t in e?Mme(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,BS=(e,t,r)=>(Ime(e,typeof t!="symbol"?t+"":t,r),r);let Lme=class{constructor(){BS(this,"current",this.detect()),BS(this,"handoffState","pending"),BS(this,"currentId",0)}set(t){this.current!==t&&(this.handoffState="pending",this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Cl=new Lme,ca=(e,t)=>{Cl.isServer?x.useEffect(e,t):x.useLayoutEffect(e,t)};function El(e){let t=x.useRef(e);return ca(()=>{t.current=e},[e]),t}let Xr=function(e){let t=El(e);return Q.useCallback((...r)=>t.current(...r),[t])};function E_(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function Xd(){let e=[],t={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),t.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return t.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return t.requestAnimationFrame(()=>t.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return t.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return E_(()=>{n.current&&r[0]()}),t.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=Xd();return r(n),this.add(()=>n.dispose())},add(r){return e.push(r),()=>{let n=e.indexOf(r);if(n>=0)for(let i of e.splice(n,1))i()}},dispose(){for(let r of e.splice(0))r()}};return t}function oR(){let[e]=x.useState(Xd);return x.useEffect(()=>()=>e.dispose(),[e]),e}function Dme(){let e=typeof document>"u";return"useSyncExternalStore"in au?(t=>t.useSyncExternalStore)(au)(()=>()=>{},()=>!1,()=>!e):!1}function Bp(){let e=Dme(),[t,r]=x.useState(Cl.isHandoffComplete);return t&&Cl.isHandoffComplete===!1&&r(!1),x.useEffect(()=>{t!==!0&&r(!0)},[t]),x.useEffect(()=>Cl.handoff(),[]),e?!1:t}var K$;let zp=(K$=Q.useId)!=null?K$:function(){let e=Bp(),[t,r]=Q.useState(e?()=>Cl.nextId():null);return ca(()=>{t===null&&r(Cl.nextId())},[t]),t!=null?""+t:void 0};function Ni(e,t,...r){if(e in t){let i=t[e];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ni),n}function SW(e){return Cl.isServer?null:e instanceof Node?e.ownerDocument:e!=null&&e.hasOwnProperty("current")&&e.current instanceof Node?e.current.ownerDocument:document}let LT=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var fd=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(fd||{}),NW=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(NW||{}),$me=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))($me||{});function Fme(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(LT)).sort((t,r)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var CW=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(CW||{});function Bme(e,t=0){var r;return e===((r=SW(e))==null?void 0:r.body)?!1:Ni(t,{0(){return e.matches(LT)},1(){let n=e;for(;n!==null;){if(n.matches(LT))return!0;n=n.parentElement}return!1}})}var zme=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(zme||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ed(e){e?.focus({preventScroll:!0})}let qme=["textarea","input"].join(",");function Ume(e){var t,r;return(r=(t=e?.matches)==null?void 0:t.call(e,qme))!=null?r:!1}function Vme(e,t=r=>r){return e.slice().sort((r,n)=>{let i=t(r),s=t(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function ob(e,t,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e.ownerDocument,o=Array.isArray(e)?r?Vme(e):e:Fme(e);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),n=n??s.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,o.indexOf(n))-1;if(t&4)return Math.max(0,o.indexOf(n))+1;if(t&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=t&32?{preventScroll:!0}:{},f=0,p=o.length,g;do{if(f>=p||f+p<=0)return 0;let v=c+f;if(t&16)v=(v+p)%p;else{if(v<0)return 3;if(v>=p)return 1}g=o[v],g?.focus(u),f+=l}while(g!==s.activeElement);return t&6&&Ume(g)&&g.select(),2}function EW(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Wme(){return/Android/gi.test(window.navigator.userAgent)}function Hme(){return EW()||Wme()}function _0(e,t,r){let n=El(t);x.useEffect(()=>{function i(s){n.current(s)}return document.addEventListener(e,i,r),()=>document.removeEventListener(e,i,r)},[e,r])}function PW(e,t,r){let n=El(t);x.useEffect(()=>{function i(s){n.current(s)}return window.addEventListener(e,i,r),()=>window.removeEventListener(e,i,r)},[e,r])}function Kme(e,t,r=!0){let n=x.useRef(!1);x.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(o,l){if(!n.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function f(p){return typeof p=="function"?f(p()):Array.isArray(p)||p instanceof Set?p:[p]}(e);for(let f of u){if(f===null)continue;let p=f instanceof HTMLElement?f:f.current;if(p!=null&&p.contains(c)||o.composed&&o.composedPath().includes(p))return}return!Bme(c,CW.Loose)&&c.tabIndex!==-1&&o.preventDefault(),t(o,c)}let s=x.useRef(null);_0("pointerdown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),_0("mousedown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),_0("click",o=>{Hme()||s.current&&(i(o,()=>s.current),s.current=null)},!0),_0("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),PW("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function vy(...e){return x.useMemo(()=>SW(...e),[...e])}let TW=Symbol();function Gme(e,t=!0){return Object.assign(e,{[TW]:t})}function Xa(...e){let t=x.useRef(e);x.useEffect(()=>{t.current=e},[e]);let r=Xr(n=>{for(let i of t.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return e.every(n=>n==null||n?.[TW])?void 0:r}function lR(e,t){let r=x.useRef([]),n=Xr(e);x.useEffect(()=>{let i=[...r.current];for(let[s,o]of t.entries())if(r.current[s]!==o){let l=n(t,i);return r.current=t,l}},[n,...t])}function Db(...e){return Array.from(new Set(e.flatMap(t=>typeof t=="string"?t.split(" "):[]))).filter(Boolean).join(" ")}var $b=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))($b||{}),Yc=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(Yc||{});function da({ourProps:e,theirProps:t,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??Zme;let c=kW(t,e);if(s)return j0(c,r,n,o,l);let u=i??0;if(u&2){let{static:f=!1,...p}=c;if(f)return j0(p,r,n,o,l)}if(u&1){let{unmount:f=!0,...p}=c;return Ni(f?0:1,{0(){return null},1(){return j0({...p,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return j0(c,r,n,o,l)}function j0(e,t={},r,n,i){let{as:s=r,children:o,refName:l="ref",...c}=zS(e,["unmount","static"]),u=e.ref!==void 0?{[l]:e.ref}:{},f=typeof o=="function"?o(t):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(t));let p={};if(t){let g=!1,v=[];for(let[b,y]of Object.entries(t))typeof y=="boolean"&&(g=!0),y===!0&&v.push(b);g&&(p["data-headlessui-state"]=v.join(" "))}if(s===x.Fragment&&Object.keys(G$(c)).length>0){if(!x.isValidElement(f)||Array.isArray(f)&&f.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(y=>`  - ${y}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(y=>`  - ${y}`).join(`
`)].join(`
`));let g=f.props,v=typeof g?.className=="function"?(...y)=>Db(g?.className(...y),c.className):Db(g?.className,c.className),b=v?{className:v}:{};return x.cloneElement(f,Object.assign({},kW(f.props,G$(zS(c,["ref"]))),p,u,{ref:i(f.ref,u.ref)},b))}return x.createElement(s,Object.assign({},zS(c,["ref"]),s!==x.Fragment&&u,s!==x.Fragment&&p),f)}function Zme(...e){return e.every(t=>t==null)?void 0:t=>{for(let r of e)r!=null&&(typeof r=="function"?r(t):r.current=t)}}function kW(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},r={};for(let n of e)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):t[i]=n[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(t,{[n](i,...s){let o=r[n];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return t}function Ds(e){var t;return Object.assign(x.forwardRef(e),{displayName:(t=e.displayName)!=null?t:e.name})}function G$(e){let t=Object.assign({},e);for(let r in t)t[r]===void 0&&delete t[r];return t}function zS(e,t=[]){let r=Object.assign({},e);for(let n of t)n in r&&delete r[n];return r}let Yme="div";var Fb=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Fb||{});function Xme(e,t){var r;let{features:n=1,...i}=e,s={ref:t,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return da({ourProps:s,theirProps:i,slot:{},defaultTag:Yme,name:"Hidden"})}let DT=Ds(Xme),cR=x.createContext(null);cR.displayName="OpenClosedContext";var Ns=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Ns||{});function uR(){return x.useContext(cR)}function Jme({value:e,children:t}){return Q.createElement(cR.Provider,{value:e},t)}function Qme(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}let Hc=[];Qme(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&Hc[0]!==t.target&&(Hc.unshift(t.target),Hc=Hc.filter(r=>r!=null&&r.isConnected),Hc.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function ege(e){let t=e.parentElement,r=null;for(;t&&!(t instanceof HTMLFieldSetElement);)t instanceof HTMLLegendElement&&(r=t),t=t.parentElement;let n=t?.getAttribute("disabled")==="";return n&&tge(r)?!1:n}function tge(e){if(!e)return!1;let t=e.previousElementSibling;for(;t!==null;){if(t instanceof HTMLLegendElement)return!1;t=t.previousElementSibling}return!0}var AW=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(AW||{});function OW(e,t,r,n){let i=El(r);x.useEffect(()=>{e=e??window;function s(o){i.current(o)}return e.addEventListener(t,s,n),()=>e.removeEventListener(t,s,n)},[e,t,n])}function yy(){let e=x.useRef(!1);return ca(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function RW(e){let t=Xr(e),r=x.useRef(!1);x.useEffect(()=>(r.current=!1,()=>{r.current=!0,E_(()=>{r.current&&t()})}),[t])}var Eg=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(Eg||{});function rge(){let e=x.useRef(0);return PW("keydown",t=>{t.key==="Tab"&&(e.current=t.shiftKey?1:0)},!0),e}function MW(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let r of e.current)r.current instanceof HTMLElement&&t.add(r.current);return t}let nge="div";var IW=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(IW||{});function ige(e,t){let r=x.useRef(null),n=Xa(r,t),{initialFocus:i,containers:s,features:o=30,...l}=e;Bp()||(o=1);let c=vy(r);oge({ownerDocument:c},!!(o&16));let u=lge({ownerDocument:c,container:r,initialFocus:i},!!(o&2));cge({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(o&8));let f=rge(),p=Xr(y=>{let _=r.current;_&&(S=>S())(()=>{Ni(f.current,{[Eg.Forwards]:()=>{ob(_,fd.First,{skipElements:[y.relatedTarget]})},[Eg.Backwards]:()=>{ob(_,fd.Last,{skipElements:[y.relatedTarget]})}})})}),g=oR(),v=x.useRef(!1),b={ref:n,onKeyDown(y){y.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(y){let _=MW(s);r.current instanceof HTMLElement&&_.add(r.current);let S=y.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(LW(_,S)||(v.current?ob(r.current,Ni(f.current,{[Eg.Forwards]:()=>fd.Next,[Eg.Backwards]:()=>fd.Previous})|fd.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Ed(y.target)))}};return Q.createElement(Q.Fragment,null,!!(o&4)&&Q.createElement(DT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Fb.Focusable}),da({ourProps:b,theirProps:l,defaultTag:nge,name:"FocusTrap"}),!!(o&4)&&Q.createElement(DT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:p,features:Fb.Focusable}))}let sge=Ds(ige),og=Object.assign(sge,{features:IW});function age(e=!0){let t=x.useRef(Hc.slice());return lR(([r],[n])=>{n===!0&&r===!1&&E_(()=>{t.current.splice(0)}),n===!1&&r===!0&&(t.current=Hc.slice())},[e,Hc,t]),Xr(()=>{var r;return(r=t.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function oge({ownerDocument:e},t){let r=age(t);lR(()=>{t||e?.activeElement===e?.body&&Ed(r())},[t]),RW(()=>{t&&Ed(r())})}function lge({ownerDocument:e,container:t,initialFocus:r},n){let i=x.useRef(null),s=yy();return lR(()=>{if(!n)return;let o=t.current;o&&E_(()=>{if(!s.current)return;let l=e?.activeElement;if(r!=null&&r.current){if(r?.current===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}r!=null&&r.current?Ed(r.current):ob(o,fd.First)===NW.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=e?.activeElement})},[n]),i}function cge({ownerDocument:e,container:t,containers:r,previousActiveElement:n},i){let s=yy();OW(e?.defaultView,"focus",o=>{if(!i||!s.current)return;let l=MW(r);t.current instanceof HTMLElement&&l.add(t.current);let c=n.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?LW(l,u)?(n.current=u,Ed(u)):(o.preventDefault(),o.stopPropagation(),Ed(c)):Ed(n.current)},!0)}function LW(e,t){for(let r of e)if(r.contains(t))return!0;return!1}let DW=x.createContext(!1);function uge(){return x.useContext(DW)}function $T(e){return Q.createElement(DW.Provider,{value:e.force},e.children)}function dge(e){let t=uge(),r=x.useContext($W),n=vy(e),[i,s]=x.useState(()=>{if(!t&&r!==null||Cl.isServer)return null;let o=n?.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return x.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),x.useEffect(()=>{t||r!==null&&s(r.current)},[r,s,t]),i}let fge=x.Fragment;function hge(e,t){let r=e,n=x.useRef(null),i=Xa(Gme(f=>{n.current=f}),t),s=vy(n),o=dge(n),[l]=x.useState(()=>{var f;return Cl.isServer?null:(f=s?.createElement("div"))!=null?f:null}),c=x.useContext(FT),u=Bp();return ca(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),ca(()=>{if(l&&c)return c.register(l)},[c,l]),RW(()=>{var f;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((f=o.parentElement)==null||f.removeChild(o)))}),u?!o||!l?null:Ya.createPortal(da({ourProps:{ref:i},theirProps:r,defaultTag:fge,name:"Portal"}),l):null}let pge=x.Fragment,$W=x.createContext(null);function mge(e,t){let{target:r,...n}=e,i={ref:Xa(t)};return Q.createElement($W.Provider,{value:r},da({ourProps:i,theirProps:n,defaultTag:pge,name:"Popover.Group"}))}let FT=x.createContext(null);function gge(){let e=x.useContext(FT),t=x.useRef([]),r=Xr(s=>(t.current.push(s),e&&e.register(s),()=>n(s))),n=Xr(s=>{let o=t.current.indexOf(s);o!==-1&&t.current.splice(o,1),e&&e.unregister(s)}),i=x.useMemo(()=>({register:r,unregister:n,portals:t}),[r,n,t]);return[t,x.useMemo(()=>function({children:s}){return Q.createElement(FT.Provider,{value:i},s)},[i])]}let vge=Ds(hge),yge=Ds(mge),BT=Object.assign(vge,{Group:yge});function xge(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}const bge=typeof Object.is=="function"?Object.is:xge,{useState:wge,useEffect:_ge,useLayoutEffect:jge,useDebugValue:Sge}=au;function Nge(e,t,r){const n=t(),[{inst:i},s]=wge({inst:{value:n,getSnapshot:t}});return jge(()=>{i.value=n,i.getSnapshot=t,qS(i)&&s({inst:i})},[e,n,t]),_ge(()=>(qS(i)&&s({inst:i}),e(()=>{qS(i)&&s({inst:i})})),[e]),Sge(n),n}function qS(e){const t=e.getSnapshot,r=e.value;try{const n=t();return!bge(r,n)}catch{return!0}}function Cge(e,t,r){return t()}const Ege=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Pge=!Ege,Tge=Pge?Cge:Nge,kge="useSyncExternalStore"in au?(e=>e.useSyncExternalStore)(au):Tge;function Age(e){return kge(e.subscribe,e.getSnapshot,e.getSnapshot)}function Oge(e,t){let r=e(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=t[i].call(r,...s);o&&(r=o,n.forEach(l=>l()))}}}function Rge(){let e;return{before({doc:t}){var r;let n=t.documentElement;e=((r=t.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:t,d:r}){let n=t.documentElement,i=n.clientWidth-n.offsetWidth,s=e-i;r.style(n,"paddingRight",`${s}px`)}}}function Mge(){return EW()?{before({doc:e,d:t,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}t.microTask(()=>{var i;if(window.getComputedStyle(e.documentElement).scrollBehavior!=="auto"){let l=Xd();l.style(e.documentElement,"scrollBehavior","auto"),t.add(()=>t.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;t.addEventListener(e,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),f=e.querySelector(u);f&&!n(f)&&(o=f)}catch{}},!0),t.addEventListener(e,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;t.style(c,"overscrollBehavior","contain")}else t.style(l.target,"touchAction","none")}),t.addEventListener(e,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),t.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Ige(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function Lge(e){let t={};for(let r of e)Object.assign(t,r(t));return t}let md=Oge(()=>new Map,{PUSH(e,t){var r;let n=(r=this.get(e))!=null?r:{doc:e,count:0,d:Xd(),meta:new Set};return n.count++,n.meta.add(t),this.set(e,n),this},POP(e,t){let r=this.get(e);return r&&(r.count--,r.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:r}){let n={doc:e,d:t,meta:Lge(r)},i=[Mge(),Rge(),Ige()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});md.subscribe(()=>{let e=md.getSnapshot(),t=new Map;for(let[r]of e)t.set(r,r.documentElement.style.overflow);for(let r of e.values()){let n=t.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&md.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&md.dispatch("TEARDOWN",r)}});function Dge(e,t,r){let n=Age(md),i=e?n.get(e):void 0,s=i?i.count>0:!1;return ca(()=>{if(!(!e||!t))return md.dispatch("PUSH",e,r),()=>md.dispatch("POP",e,r)},[t,e]),s}let US=new Map,lg=new Map;function Z$(e,t=!0){ca(()=>{var r;if(!t)return;let n=typeof e=="function"?e():e.current;if(!n)return;function i(){var o;if(!n)return;let l=(o=lg.get(n))!=null?o:1;if(l===1?lg.delete(n):lg.set(n,l-1),l!==1)return;let c=US.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,US.delete(n))}let s=(r=lg.get(n))!=null?r:0;return lg.set(n,s+1),s!==0||(US.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),i},[e,t])}function $ge({defaultContainers:e=[],portals:t,mainTreeNodeRef:r}={}){var n;let i=x.useRef((n=r?.current)!=null?n:null),s=vy(i),o=Xr(()=>{var l,c,u;let f=[];for(let p of e)p!==null&&(p instanceof HTMLElement?f.push(p):"current"in p&&p.current instanceof HTMLElement&&f.push(p.current));if(t!=null&&t.current)for(let p of t.current)f.push(p);for(let p of(l=s?.querySelectorAll("html > *, body > *"))!=null?l:[])p!==document.body&&p!==document.head&&p instanceof HTMLElement&&p.id!=="headlessui-portal-root"&&(p.contains(i.current)||p.contains((u=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||f.some(g=>p.contains(g))||f.push(p));return f});return{resolveContainers:o,contains:Xr(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:i,MainTreeNode:x.useMemo(()=>function(){return r!=null?null:Q.createElement(DT,{features:Fb.Hidden,ref:i})},[i,r])}}let dR=x.createContext(()=>{});dR.displayName="StackContext";var zT=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(zT||{});function Fge(){return x.useContext(dR)}function Bge({children:e,onUpdate:t,type:r,element:n,enabled:i}){let s=Fge(),o=Xr((...l)=>{t?.(...l),s(...l)});return ca(()=>{let l=i===void 0||i===!0;return l&&o(0,r,n),()=>{l&&o(1,r,n)}},[o,r,n,i]),Q.createElement(dR.Provider,{value:o},e)}let FW=x.createContext(null);function BW(){let e=x.useContext(FW);if(e===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,BW),t}return e}function zge(){let[e,t]=x.useState([]);return[e.length>0?e.join(" "):void 0,x.useMemo(()=>function(r){let n=Xr(s=>(t(o=>[...o,s]),()=>t(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=x.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return Q.createElement(FW.Provider,{value:i},r.children)},[t])]}let qge="p";function Uge(e,t){let r=zp(),{id:n=`headlessui-description-${r}`,...i}=e,s=BW(),o=Xa(t);ca(()=>s.register(n),[n,s.register]);let l={ref:o,...s.props,id:n};return da({ourProps:l,theirProps:i,slot:s.slot||{},defaultTag:qge,name:s.name||"Description"})}let Vge=Ds(Uge),Wge=Object.assign(Vge,{});var Hge=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Hge||{}),Kge=(e=>(e[e.SetTitleId=0]="SetTitleId",e))(Kge||{});let Gge={0(e,t){return e.titleId===t.id?e:{...e,titleId:t.id}}},Bb=x.createContext(null);Bb.displayName="DialogContext";function xy(e){let t=x.useContext(Bb);if(t===null){let r=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xy),r}return t}function Zge(e,t,r=()=>[document.body]){Dge(e,t,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function Yge(e,t){return Ni(t.type,Gge,e,t)}let Xge="div",Jge=$b.RenderStrategy|$b.Static;function Qge(e,t){let r=zp(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=e,[f,p]=x.useState(0),g=x.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=uR();i===void 0&&v!==null&&(i=(v&Ns.Open)===Ns.Open);let b=x.useRef(null),y=Xa(b,t),_=vy(b),S=e.hasOwnProperty("open")||v!==null,N=e.hasOwnProperty("onClose");if(!S&&!N)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!N)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let C=i?0:1,[A,k]=x.useReducer(Yge,{titleId:null,descriptionId:null,panelRef:x.createRef()}),P=Xr(()=>s(!1)),O=Xr(te=>k({type:0,id:te})),I=Bp()?c?!1:C===0:!1,B=f>1,K=x.useContext(Bb)!==null,[V,U]=gge(),q={get current(){var te;return(te=A.panelRef.current)!=null?te:b.current}},{resolveContainers:H,mainTreeNodeRef:G,MainTreeNode:se}=$ge({portals:V,defaultContainers:[q]}),W=B?"parent":"leaf",ee=v!==null?(v&Ns.Closing)===Ns.Closing:!1,X=K||ee?!1:I,ne=x.useCallback(()=>{var te,Y;return(Y=Array.from((te=_?.querySelectorAll("body > *"))!=null?te:[]).find(_e=>_e.id==="headlessui-portal-root"?!1:_e.contains(G.current)&&_e instanceof HTMLElement))!=null?Y:null},[G]);Z$(ne,X);let J=B?!0:I,oe=x.useCallback(()=>{var te,Y;return(Y=Array.from((te=_?.querySelectorAll("[data-headlessui-portal]"))!=null?te:[]).find(_e=>_e.contains(G.current)&&_e instanceof HTMLElement))!=null?Y:null},[G]);Z$(oe,J),Kme(H,te=>{te.preventDefault(),P()},!(!I||B));let Ce=!(B||C!==0);OW(_?.defaultView,"keydown",te=>{Ce&&(te.defaultPrevented||te.key===AW.Escape&&(te.preventDefault(),te.stopPropagation(),P()))}),Zge(_,!(ee||C!==0||K),H),x.useEffect(()=>{if(C!==0||!b.current)return;let te=new ResizeObserver(Y=>{for(let _e of Y){let xe=_e.target.getBoundingClientRect();xe.x===0&&xe.y===0&&xe.width===0&&xe.height===0&&P()}});return te.observe(b.current),()=>te.disconnect()},[C,b,P]);let[ce,ae]=zge(),ge=x.useMemo(()=>[{dialogState:C,close:P,setTitleId:O},A],[C,A,P,O]),he=x.useMemo(()=>({open:C===0}),[C]),Pe={ref:y,id:n,role:l,"aria-modal":C===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":ce};return Q.createElement(Bge,{type:"Dialog",enabled:C===0,element:b,onUpdate:Xr((te,Y)=>{Y==="Dialog"&&Ni(te,{[zT.Add]:()=>p(_e=>_e+1),[zT.Remove]:()=>p(_e=>_e-1)})})},Q.createElement($T,{force:!0},Q.createElement(BT,null,Q.createElement(Bb.Provider,{value:ge},Q.createElement(BT.Group,{target:b},Q.createElement($T,{force:!1},Q.createElement(ae,{slot:he,name:"Dialog.Description"},Q.createElement(og,{initialFocus:o,containers:H,features:I?Ni(W,{parent:og.features.RestoreFocus,leaf:og.features.All&~og.features.FocusLock}):og.features.None},Q.createElement(U,null,da({ourProps:Pe,theirProps:u,slot:he,defaultTag:Xge,features:Jge,visible:C===0,name:"Dialog"}))))))))),Q.createElement(se,null))}let eve="div";function tve(e,t){let r=zp(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=e,[{dialogState:s,close:o}]=xy("Dialog.Overlay"),l=Xa(t),c=Xr(f=>{if(f.target===f.currentTarget){if(ege(f.currentTarget))return f.preventDefault();f.preventDefault(),f.stopPropagation(),o()}}),u=x.useMemo(()=>({open:s===0}),[s]);return da({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:i,slot:u,defaultTag:eve,name:"Dialog.Overlay"})}let rve="div";function nve(e,t){let r=zp(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=e,[{dialogState:s},o]=xy("Dialog.Backdrop"),l=Xa(t);x.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=x.useMemo(()=>({open:s===0}),[s]);return Q.createElement($T,{force:!0},Q.createElement(BT,null,da({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:rve,name:"Dialog.Backdrop"})))}let ive="div";function sve(e,t){let r=zp(),{id:n=`headlessui-dialog-panel-${r}`,...i}=e,[{dialogState:s},o]=xy("Dialog.Panel"),l=Xa(t,o.panelRef),c=x.useMemo(()=>({open:s===0}),[s]),u=Xr(f=>{f.stopPropagation()});return da({ourProps:{ref:l,id:n,onClick:u},theirProps:i,slot:c,defaultTag:ive,name:"Dialog.Panel"})}let ave="h2";function ove(e,t){let r=zp(),{id:n=`headlessui-dialog-title-${r}`,...i}=e,[{dialogState:s,setTitleId:o}]=xy("Dialog.Title"),l=Xa(t);x.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=x.useMemo(()=>({open:s===0}),[s]);return da({ourProps:{ref:l,id:n},theirProps:i,slot:c,defaultTag:ave,name:"Dialog.Title"})}let lve=Ds(Qge),cve=Ds(nve),uve=Ds(sve),dve=Ds(tve),fve=Ds(ove),Y$=Object.assign(lve,{Backdrop:cve,Panel:uve,Overlay:dve,Title:fve,Description:Wge});function hve(e=0){let[t,r]=x.useState(e),n=yy(),i=x.useCallback(c=>{n.current&&r(u=>u|c)},[t,n]),s=x.useCallback(c=>!!(t&c),[t]),o=x.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=x.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:t,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:l}}function pve(e){let t={called:!1};return(...r)=>{if(!t.called)return t.called=!0,e(...r)}}function VS(e,...t){e&&t.length>0&&e.classList.add(...t)}function WS(e,...t){e&&t.length>0&&e.classList.remove(...t)}function mve(e,t){let r=Xd();if(!e)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(e),[s,o]=[n,i].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(f=>f.includes("ms")?parseFloat(f):parseFloat(f)*1e3).sort((f,p)=>p-f);return u}),l=s+o;if(l!==0){r.group(u=>{u.setTimeout(()=>{t(),u.dispose()},l),u.addEventListener(e,"transitionrun",f=>{f.target===f.currentTarget&&u.dispose()})});let c=r.addEventListener(e,"transitionend",u=>{u.target===u.currentTarget&&(t(),c())})}else t();return r.add(()=>t()),r.dispose}function gve(e,t,r,n){let i=r?"enter":"leave",s=Xd(),o=n!==void 0?pve(n):()=>{};i==="enter"&&(e.removeAttribute("hidden"),e.style.display="");let l=Ni(i,{enter:()=>t.enter,leave:()=>t.leave}),c=Ni(i,{enter:()=>t.enterTo,leave:()=>t.leaveTo}),u=Ni(i,{enter:()=>t.enterFrom,leave:()=>t.leaveFrom});return WS(e,...t.base,...t.enter,...t.enterTo,...t.enterFrom,...t.leave,...t.leaveFrom,...t.leaveTo,...t.entered),VS(e,...t.base,...l,...u),s.nextFrame(()=>{WS(e,...t.base,...l,...u),VS(e,...t.base,...l,...c),mve(e,()=>(WS(e,...t.base,...l),VS(e,...t.base,...t.entered),o()))}),s.dispose}function vve({immediate:e,container:t,direction:r,classes:n,onStart:i,onStop:s}){let o=yy(),l=oR(),c=El(r);ca(()=>{e&&(c.current="enter")},[e]),ca(()=>{let u=Xd();l.add(u.dispose);let f=t.current;if(f&&c.current!=="idle"&&o.current)return u.dispose(),i.current(c.current),u.add(gve(f,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Mc(e=""){return e.split(/\s+/).filter(t=>t.length>1)}let P_=x.createContext(null);P_.displayName="TransitionContext";var yve=(e=>(e.Visible="visible",e.Hidden="hidden",e))(yve||{});function xve(){let e=x.useContext(P_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}function bve(){let e=x.useContext(T_);if(e===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return e}let T_=x.createContext(null);T_.displayName="NestingContext";function k_(e){return"children"in e?k_(e.children):e.current.filter(({el:t})=>t.current!==null).filter(({state:t})=>t==="visible").length>0}function zW(e,t){let r=El(e),n=x.useRef([]),i=yy(),s=oR(),o=Xr((v,b=Yc.Hidden)=>{let y=n.current.findIndex(({el:_})=>_===v);y!==-1&&(Ni(b,{[Yc.Unmount](){n.current.splice(y,1)},[Yc.Hidden](){n.current[y].state="hidden"}}),s.microTask(()=>{var _;!k_(n)&&i.current&&((_=r.current)==null||_.call(r))}))}),l=Xr(v=>{let b=n.current.find(({el:y})=>y===v);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,Yc.Unmount)}),c=x.useRef([]),u=x.useRef(Promise.resolve()),f=x.useRef({enter:[],leave:[],idle:[]}),p=Xr((v,b,y)=>{c.current.splice(0),t&&(t.chains.current[b]=t.chains.current[b].filter(([_])=>_!==v)),t?.chains.current[b].push([v,new Promise(_=>{c.current.push(_)})]),t?.chains.current[b].push([v,new Promise(_=>{Promise.all(f.current[b].map(([S,N])=>N)).then(()=>_())})]),b==="enter"?u.current=u.current.then(()=>t?.wait.current).then(()=>y(b)):y(b)}),g=Xr((v,b,y)=>{Promise.all(f.current[b].splice(0).map(([_,S])=>S)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>y(b))});return x.useMemo(()=>({children:n,register:l,unregister:o,onStart:p,onStop:g,wait:u,chains:f}),[l,o,n,p,g,f,u])}function wve(){}let _ve=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function X$(e){var t;let r={};for(let n of _ve)r[n]=(t=e[n])!=null?t:wve;return r}function jve(e){let t=x.useRef(X$(e));return x.useEffect(()=>{t.current=X$(e)},[e]),t}let Sve="div",qW=$b.RenderStrategy;function Nve(e,t){var r,n;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:f,entered:p,leave:g,leaveFrom:v,leaveTo:b,...y}=e,_=x.useRef(null),S=Xa(_,t),N=(r=y.unmount)==null||r?Yc.Unmount:Yc.Hidden,{show:C,appear:A,initial:k}=xve(),[P,O]=x.useState(C?"visible":"hidden"),I=bve(),{register:B,unregister:K}=I;x.useEffect(()=>B(_),[B,_]),x.useEffect(()=>{if(N===Yc.Hidden&&_.current){if(C&&P!=="visible"){O("visible");return}return Ni(P,{hidden:()=>K(_),visible:()=>B(_)})}},[P,_,B,K,C,N]);let V=El({base:Mc(y.className),enter:Mc(c),enterFrom:Mc(u),enterTo:Mc(f),entered:Mc(p),leave:Mc(g),leaveFrom:Mc(v),leaveTo:Mc(b)}),U=jve({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l}),q=Bp();x.useEffect(()=>{if(q&&P==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,P,q]);let H=k&&!A,G=A&&C&&k,se=!q||H?"idle":C?"enter":"leave",W=hve(0),ee=Xr(Ce=>Ni(Ce,{enter:()=>{W.addFlag(Ns.Opening),U.current.beforeEnter()},leave:()=>{W.addFlag(Ns.Closing),U.current.beforeLeave()},idle:()=>{}})),X=Xr(Ce=>Ni(Ce,{enter:()=>{W.removeFlag(Ns.Opening),U.current.afterEnter()},leave:()=>{W.removeFlag(Ns.Closing),U.current.afterLeave()},idle:()=>{}})),ne=zW(()=>{O("hidden"),K(_)},I),J=x.useRef(!1);vve({immediate:G,container:_,classes:V,direction:se,onStart:El(Ce=>{J.current=!0,ne.onStart(_,Ce,ee)}),onStop:El(Ce=>{J.current=!1,ne.onStop(_,Ce,X),Ce==="leave"&&!k_(ne)&&(O("hidden"),K(_))})});let oe=y,be={ref:S};return G?oe={...oe,className:Db(y.className,...V.current.enter,...V.current.enterFrom)}:J.current&&(oe.className=Db(y.className,(n=_.current)==null?void 0:n.className),oe.className===""&&delete oe.className),Q.createElement(T_.Provider,{value:ne},Q.createElement(Jme,{value:Ni(P,{visible:Ns.Open,hidden:Ns.Closed})|W.flags},da({ourProps:be,theirProps:oe,defaultTag:Sve,features:qW,visible:P==="visible",name:"Transition.Child"})))}function Cve(e,t){let{show:r,appear:n=!1,unmount:i=!0,...s}=e,o=x.useRef(null),l=Xa(o,t);Bp();let c=uR();if(r===void 0&&c!==null&&(r=(c&Ns.Open)===Ns.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,f]=x.useState(r?"visible":"hidden"),p=zW(()=>{f("hidden")}),[g,v]=x.useState(!0),b=x.useRef([r]);ca(()=>{g!==!1&&b.current[b.current.length-1]!==r&&(b.current.push(r),v(!1))},[b,r]);let y=x.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);x.useEffect(()=>{if(r)f("visible");else if(!k_(p))f("hidden");else{let C=o.current;if(!C)return;let A=C.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&f("hidden")}},[r,p]);let _={unmount:i},S=Xr(()=>{var C;g&&v(!1),(C=e.beforeEnter)==null||C.call(e)}),N=Xr(()=>{var C;g&&v(!1),(C=e.beforeLeave)==null||C.call(e)});return Q.createElement(T_.Provider,{value:p},Q.createElement(P_.Provider,{value:y},da({ourProps:{..._,as:x.Fragment,children:Q.createElement(UW,{ref:l,..._,...s,beforeEnter:S,beforeLeave:N})},theirProps:{},defaultTag:x.Fragment,features:qW,visible:u==="visible",name:"Transition"})))}function Eve(e,t){let r=x.useContext(P_)!==null,n=uR()!==null;return Q.createElement(Q.Fragment,null,!r&&n?Q.createElement(qT,{ref:t,...e}):Q.createElement(UW,{ref:t,...e}))}let qT=Ds(Cve),UW=Ds(Nve),Pve=Ds(Eve),HS=Object.assign(qT,{Child:Pve,Root:qT});const Tve=[{name:"Tableau de bord",href:"/admin",icon:N7},{name:"Utilisateurs",href:"/admin/users",icon:Ua},{name:"Annonces",href:"/admin/listings",icon:Wg},{name:"Transactions",href:"/admin/transactions",icon:Yh},{name:"Catégories",href:"/admin/categories",icon:Zd},{name:"Rapports",href:"/admin/analytics",icon:KO},{name:"Modération",href:"/admin/moderation",icon:Rb},{name:"Paramètres",href:"/admin/settings",icon:pd}];function kve({sidebarOpen:e,setSidebarOpen:t}){const r=Ci(),{logout:n}=jr(),i=async()=>{try{await n(),t(!1)}catch(s){console.error("Erreur lors de la déconnexion:",s)}};return a.jsx(HS.Root,{show:e,as:x.Fragment,children:a.jsxs(Y$,{as:"div",className:"fixed inset-0 z-40 flex md:hidden",onClose:t,children:[a.jsx(HS.Child,{as:x.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(Y$.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),a.jsx(HS.Child,{as:x.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-slate-900",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>t(!1),children:[a.jsx("span",{className:"sr-only",children:"Fermer le menu"}),a.jsx(is,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:a.jsx("h1",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:Tve.map(s=>a.jsxs(ar,{to:s.href,onClick:()=>t(!1),className:[r.pathname===s.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center px-2 py-2 text-base font-medium rounded-md"].join(" "),children:[a.jsx(s.icon,{className:["mr-4 flex-shrink-0 h-6 w-6",r.pathname===s.href?"text-white":"text-slate-400 group-hover:text-white"].join(" "),"aria-hidden":"true"}),s.name]},s.name))})]}),a.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-800 p-4",children:a.jsx("button",{onClick:i,className:"flex-shrink-0 w-full group block",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{children:a.jsx(YO,{className:"h-6 w-6 text-slate-400 group-hover:text-white","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-slate-300 group-hover:text-white",children:"Déconnexion"})})]})})})]})}),a.jsx("div",{className:"flex-shrink-0 w-14"})]})})}function Ave(){const{user:e,hasRole:t,loading:r}=jr(),[n,i]=x.useState(!1),s=Bn();return x.useEffect(()=>{!r&&!e?s("/connexion",{state:{from:"/admin"}}):!r&&e&&!t("admin")&&s("/")},[e,r,t,s]),r?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:a.jsx(Mr,{className:"h-12 w-12 animate-spin text-blue-500"})}):a.jsxs("div",{className:"flex h-screen bg-slate-900 text-white overflow-hidden",children:[a.jsx(kve,{sidebarOpen:n,setSidebarOpen:i}),a.jsx(Rme,{className:"hidden md:flex"}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-slate-800 border-b border-slate-700 flex items-center justify-between p-4",children:[a.jsxs("button",{type:"button",className:"md:hidden text-slate-400 hover:text-white focus:outline-none",onClick:()=>i(!0),children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"p-1 rounded-full text-slate-400 hover:text-white focus:outline-none",children:[a.jsx("span",{className:"sr-only",children:"Notifications"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),a.jsx("div",{className:"relative",children:a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",children:[a.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-slate-700 text-sm font-medium text-white",children:e?.name?.charAt(0)||"A"}),a.jsxs("span",{className:"hidden md:inline-flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:e?.name||"Admin"}),a.jsx("svg",{className:"ml-2 h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-900 p-4 md:p-8",children:a.jsx(oV,{})})]})]})}var by=e=>e.type==="checkbox",gd=e=>e instanceof Date,Ri=e=>e==null;const VW=e=>typeof e=="object";var mn=e=>!Ri(e)&&!Array.isArray(e)&&VW(e)&&!gd(e),Ove=e=>mn(e)&&e.target?by(e.target)?e.target.checked:e.target.value:e,Rve=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Mve=(e,t)=>e.has(Rve(t)),Ive=e=>{const t=e.constructor&&e.constructor.prototype;return mn(t)&&t.hasOwnProperty("isPrototypeOf")},fR=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function yi(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(fR&&(e instanceof Blob||n))&&(r||mn(e)))if(t=r?[]:{},!r&&!Ive(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=yi(e[i]));else return e;return t}var A_=e=>Array.isArray(e)?e.filter(Boolean):[],_n=e=>e===void 0,dt=(e,t,r)=>{if(!t||!mn(e))return r;const n=A_(t.split(/[,[\].]+?/)).reduce((i,s)=>Ri(i)?i:i[s],e);return _n(n)||n===e?_n(e[t])?r:e[t]:n},po=e=>typeof e=="boolean",hR=e=>/^\w*$/.test(e),WW=e=>A_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),Cr=(e,t,r)=>{let n=-1;const i=hR(t)?[t]:WW(t),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=e[l];c=mn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;e[l]=c,e=e[l]}};const J$={BLUR:"blur",FOCUS_OUT:"focusout"},Ia={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},dl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Lve=Q.createContext(null),Dve=()=>Q.useContext(Lve);var $ve=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const o=s;return t._proxyFormState[o]!==Ia.all&&(t._proxyFormState[o]=!n||Ia.all),e[o]}});return i};const Fve=typeof window<"u"?x.useLayoutEffect:x.useEffect;var wo=e=>typeof e=="string",Bve=(e,t,r,n,i)=>wo(e)?(n&&t.watch.add(e),dt(r,e,i)):Array.isArray(e)?e.map(s=>(n&&t.watch.add(s),dt(r,s))):(n&&(t.watchAll=!0),r),HW=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},Hg=e=>Array.isArray(e)?e:[e],Q$=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},UT=e=>Ri(e)||!VW(e);function Kc(e,t){if(UT(e)||UT(t))return e===t;if(gd(e)&&gd(t))return e.getTime()===t.getTime();const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(const i of r){const s=e[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=t[i];if(gd(s)&&gd(o)||mn(s)&&mn(o)||Array.isArray(s)&&Array.isArray(o)?!Kc(s,o):s!==o)return!1}}return!0}var Xi=e=>mn(e)&&!Object.keys(e).length,pR=e=>e.type==="file",La=e=>typeof e=="function",zb=e=>{if(!fR)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},KW=e=>e.type==="select-multiple",mR=e=>e.type==="radio",zve=e=>mR(e)||by(e),KS=e=>zb(e)&&e.isConnected;function qve(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=_n(e)?n++:e[t[n++]];return e}function Uve(e){for(const t in e)if(e.hasOwnProperty(t)&&!_n(e[t]))return!1;return!0}function Ln(e,t){const r=Array.isArray(t)?t:hR(t)?[t]:WW(t),n=r.length===1?e:qve(e,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(mn(n)&&Xi(n)||Array.isArray(n)&&Uve(n))&&Ln(e,r.slice(0,-1)),e}var GW=e=>{for(const t in e)if(La(e[t]))return!0;return!1};function qb(e,t={}){const r=Array.isArray(e);if(mn(e)||r)for(const n in e)Array.isArray(e[n])||mn(e[n])&&!GW(e[n])?(t[n]=Array.isArray(e[n])?[]:{},qb(e[n],t[n])):Ri(e[n])||(t[n]=!0);return t}function ZW(e,t,r){const n=Array.isArray(e);if(mn(e)||n)for(const i in e)Array.isArray(e[i])||mn(e[i])&&!GW(e[i])?_n(t)||UT(r[i])?r[i]=Array.isArray(e[i])?qb(e[i],[]):{...qb(e[i])}:ZW(e[i],Ri(t)?{}:t[i],r[i]):r[i]=!Kc(e[i],t[i]);return r}var cg=(e,t)=>ZW(e,t,qb(t));const e3={value:!1,isValid:!1},t3={value:!0,isValid:!0};var YW=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!_n(e[0].attributes.value)?_n(e[0].value)||e[0].value===""?t3:{value:e[0].value,isValid:!0}:t3:e3}return e3},XW=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>_n(e)?e:t?e===""?NaN:e&&+e:r&&wo(e)?new Date(e):n?n(e):e;const r3={isValid:!1,value:null};var JW=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,r3):r3;function n3(e){const t=e.ref;return pR(t)?t.files:mR(t)?JW(e.refs).value:KW(t)?[...t.selectedOptions].map(({value:r})=>r):by(t)?YW(e.refs).value:XW(_n(t.value)?e.ref.value:t.value,e)}var Vve=(e,t,r,n)=>{const i={};for(const s of e){const o=dt(t,s);o&&Cr(i,s,o._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Ub=e=>e instanceof RegExp,ug=e=>_n(e)?e:Ub(e)?e.source:mn(e)?Ub(e.value)?e.value.source:e.value:e,i3=e=>({isOnSubmit:!e||e===Ia.onSubmit,isOnBlur:e===Ia.onBlur,isOnChange:e===Ia.onChange,isOnAll:e===Ia.all,isOnTouch:e===Ia.onTouched});const s3="AsyncFunction";var Wve=e=>!!e&&!!e.validate&&!!(La(e.validate)&&e.validate.constructor.name===s3||mn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===s3)),Hve=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),a3=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Kg=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const s=dt(e,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&t(o.refs[0],i)&&!n)return!0;if(o.ref&&t(o.ref,o.name)&&!n)return!0;if(Kg(l,t))break}else if(mn(l)&&Kg(l,t))break}}};function o3(e,t,r){const n=dt(e,r);if(n||hR(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=dt(t,s),l=dt(e,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:r}}var Kve=(e,t,r,n)=>{r(e);const{name:i,...s}=e;return Xi(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(o=>t[o]===(!n||Ia.all))},Gve=(e,t,r)=>!e||!t||e===t||Hg(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),Zve=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,Yve=(e,t)=>!A_(dt(e,t)).length&&Ln(e,t),Xve=(e,t,r)=>{const n=Hg(dt(e,r));return Cr(n,"root",t[r]),Cr(e,r,n),e},lb=e=>wo(e);function l3(e,t,r="validate"){if(lb(e)||Array.isArray(e)&&e.every(lb)||po(e)&&!e)return{type:r,message:lb(e)?e:"",ref:t}}var dh=e=>mn(e)&&!Ub(e)?e:{value:e,message:""},c3=async(e,t,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:f,min:p,max:g,pattern:v,validate:b,name:y,valueAsNumber:_,mount:S}=e._f,N=dt(r,y);if(!S||t.has(y))return{};const C=l?l[0]:o,A=U=>{i&&C.reportValidity&&(C.setCustomValidity(po(U)?"":U||""),C.reportValidity())},k={},P=mR(o),O=by(o),I=P||O,B=(_||pR(o))&&_n(o.value)&&_n(N)||zb(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,K=HW.bind(null,y,n,k),V=(U,q,H,G=dl.maxLength,se=dl.minLength)=>{const W=U?q:H;k[y]={type:U?G:se,message:W,ref:o,...K(U?G:se,W)}};if(s?!Array.isArray(N)||!N.length:c&&(!I&&(B||Ri(N))||po(N)&&!N||O&&!YW(l).isValid||P&&!JW(l).isValid)){const{value:U,message:q}=lb(c)?{value:!!c,message:c}:dh(c);if(U&&(k[y]={type:dl.required,message:q,ref:C,...K(dl.required,q)},!n))return A(q),k}if(!B&&(!Ri(p)||!Ri(g))){let U,q;const H=dh(g),G=dh(p);if(!Ri(N)&&!isNaN(N)){const se=o.valueAsNumber||N&&+N;Ri(H.value)||(U=se>H.value),Ri(G.value)||(q=se<G.value)}else{const se=o.valueAsDate||new Date(N),W=ne=>new Date(new Date().toDateString()+" "+ne),ee=o.type=="time",X=o.type=="week";wo(H.value)&&N&&(U=ee?W(N)>W(H.value):X?N>H.value:se>new Date(H.value)),wo(G.value)&&N&&(q=ee?W(N)<W(G.value):X?N<G.value:se<new Date(G.value))}if((U||q)&&(V(!!U,H.message,G.message,dl.max,dl.min),!n))return A(k[y].message),k}if((u||f)&&!B&&(wo(N)||s&&Array.isArray(N))){const U=dh(u),q=dh(f),H=!Ri(U.value)&&N.length>+U.value,G=!Ri(q.value)&&N.length<+q.value;if((H||G)&&(V(H,U.message,q.message),!n))return A(k[y].message),k}if(v&&!B&&wo(N)){const{value:U,message:q}=dh(v);if(Ub(U)&&!N.match(U)&&(k[y]={type:dl.pattern,message:q,ref:o,...K(dl.pattern,q)},!n))return A(q),k}if(b){if(La(b)){const U=await b(N,r),q=l3(U,C);if(q&&(k[y]={...q,...K(dl.validate,q.message)},!n))return A(q.message),k}else if(mn(b)){let U={};for(const q in b){if(!Xi(U)&&!n)break;const H=l3(await b[q](N,r),C,q);H&&(U={...H,...K(q,H.message)},A(H.message),n&&(k[y]=U))}if(!Xi(U)&&(k[y]={ref:C,...U},!n))return k}}return A(!0),k};const Jve={mode:Ia.onSubmit,reValidateMode:Ia.onChange,shouldFocusError:!0};function Qve(e={}){let t={...Jve,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:La(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const n={};let i=mn(t.defaultValues)||mn(t.values)?yi(t.defaultValues||t.values)||{}:{},s=t.shouldUnregister?{}:yi(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const f={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...f};const g={array:Q$(),state:Q$()},v=t.criteriaMode===Ia.all,b=fe=>je=>{clearTimeout(u),u=setTimeout(fe,je)},y=async fe=>{if(!t.disabled&&(f.isValid||p.isValid||fe)){const je=t.resolver?Xi((await O()).errors):await B(n,!0);je!==r.isValid&&g.state.next({isValid:je})}},_=(fe,je)=>{!t.disabled&&(f.isValidating||f.validatingFields||p.isValidating||p.validatingFields)&&((fe||Array.from(l.mount)).forEach(Ae=>{Ae&&(je?Cr(r.validatingFields,Ae,je):Ln(r.validatingFields,Ae))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Xi(r.validatingFields)}))},S=(fe,je=[],Ae,Ze,Xe=!0,me=!0)=>{if(Ze&&Ae&&!t.disabled){if(o.action=!0,me&&Array.isArray(dt(n,fe))){const De=Ae(dt(n,fe),Ze.argA,Ze.argB);Xe&&Cr(n,fe,De)}if(me&&Array.isArray(dt(r.errors,fe))){const De=Ae(dt(r.errors,fe),Ze.argA,Ze.argB);Xe&&Cr(r.errors,fe,De),Yve(r.errors,fe)}if((f.touchedFields||p.touchedFields)&&me&&Array.isArray(dt(r.touchedFields,fe))){const De=Ae(dt(r.touchedFields,fe),Ze.argA,Ze.argB);Xe&&Cr(r.touchedFields,fe,De)}(f.dirtyFields||p.dirtyFields)&&(r.dirtyFields=cg(i,s)),g.state.next({name:fe,isDirty:V(fe,je),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Cr(s,fe,je)},N=(fe,je)=>{Cr(r.errors,fe,je),g.state.next({errors:r.errors})},C=fe=>{r.errors=fe,g.state.next({errors:r.errors,isValid:!1})},A=(fe,je,Ae,Ze)=>{const Xe=dt(n,fe);if(Xe){const me=dt(s,fe,_n(Ae)?dt(i,fe):Ae);_n(me)||Ze&&Ze.defaultChecked||je?Cr(s,fe,je?me:n3(Xe._f)):H(fe,me),o.mount&&y()}},k=(fe,je,Ae,Ze,Xe)=>{let me=!1,De=!1;const Z={name:fe};if(!t.disabled){if(!Ae||Ze){(f.isDirty||p.isDirty)&&(De=r.isDirty,r.isDirty=Z.isDirty=V(),me=De!==Z.isDirty);const D=Kc(dt(i,fe),je);De=!!dt(r.dirtyFields,fe),D?Ln(r.dirtyFields,fe):Cr(r.dirtyFields,fe,!0),Z.dirtyFields=r.dirtyFields,me=me||(f.dirtyFields||p.dirtyFields)&&De!==!D}if(Ae){const D=dt(r.touchedFields,fe);D||(Cr(r.touchedFields,fe,Ae),Z.touchedFields=r.touchedFields,me=me||(f.touchedFields||p.touchedFields)&&D!==Ae)}me&&Xe&&g.state.next(Z)}return me?Z:{}},P=(fe,je,Ae,Ze)=>{const Xe=dt(r.errors,fe),me=(f.isValid||p.isValid)&&po(je)&&r.isValid!==je;if(t.delayError&&Ae?(c=b(()=>N(fe,Ae)),c(t.delayError)):(clearTimeout(u),c=null,Ae?Cr(r.errors,fe,Ae):Ln(r.errors,fe)),(Ae?!Kc(Xe,Ae):Xe)||!Xi(Ze)||me){const De={...Ze,...me&&po(je)?{isValid:je}:{},errors:r.errors,name:fe};r={...r,...De},g.state.next(De)}},O=async fe=>{_(fe,!0);const je=await t.resolver(s,t.context,Vve(fe||l.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return _(fe),je},I=async fe=>{const{errors:je}=await O(fe);if(fe)for(const Ae of fe){const Ze=dt(je,Ae);Ze?Cr(r.errors,Ae,Ze):Ln(r.errors,Ae)}else r.errors=je;return je},B=async(fe,je,Ae={valid:!0})=>{for(const Ze in fe){const Xe=fe[Ze];if(Xe){const{_f:me,...De}=Xe;if(me){const Z=l.array.has(me.name),D=Xe._f&&Wve(Xe._f);D&&f.validatingFields&&_([Ze],!0);const F=await c3(Xe,l.disabled,s,v,t.shouldUseNativeValidation&&!je,Z);if(D&&f.validatingFields&&_([Ze]),F[me.name]&&(Ae.valid=!1,je))break;!je&&(dt(F,me.name)?Z?Xve(r.errors,F,me.name):Cr(r.errors,me.name,F[me.name]):Ln(r.errors,me.name))}!Xi(De)&&await B(De,je,Ae)}}return Ae.valid},K=()=>{for(const fe of l.unMount){const je=dt(n,fe);je&&(je._f.refs?je._f.refs.every(Ae=>!KS(Ae)):!KS(je._f.ref))&&ae(fe)}l.unMount=new Set},V=(fe,je)=>!t.disabled&&(fe&&je&&Cr(s,fe,je),!Kc(ne(),i)),U=(fe,je,Ae)=>Bve(fe,l,{...o.mount?s:_n(je)?i:wo(fe)?{[fe]:je}:je},Ae,je),q=fe=>A_(dt(o.mount?s:i,fe,t.shouldUnregister?dt(i,fe,[]):[])),H=(fe,je,Ae={})=>{const Ze=dt(n,fe);let Xe=je;if(Ze){const me=Ze._f;me&&(!me.disabled&&Cr(s,fe,XW(je,me)),Xe=zb(me.ref)&&Ri(je)?"":je,KW(me.ref)?[...me.ref.options].forEach(De=>De.selected=Xe.includes(De.value)):me.refs?by(me.ref)?me.refs.forEach(De=>{(!De.defaultChecked||!De.disabled)&&(Array.isArray(Xe)?De.checked=!!Xe.find(Z=>Z===De.value):De.checked=Xe===De.value||!!Xe)}):me.refs.forEach(De=>De.checked=De.value===Xe):pR(me.ref)?me.ref.value="":(me.ref.value=Xe,me.ref.type||g.state.next({name:fe,values:yi(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&k(fe,Xe,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&X(fe)},G=(fe,je,Ae)=>{for(const Ze in je){if(!je.hasOwnProperty(Ze))return;const Xe=je[Ze],me=fe+"."+Ze,De=dt(n,me);(l.array.has(fe)||mn(Xe)||De&&!De._f)&&!gd(Xe)?G(me,Xe,Ae):H(me,Xe,Ae)}},se=(fe,je,Ae={})=>{const Ze=dt(n,fe),Xe=l.array.has(fe),me=yi(je);Cr(s,fe,me),Xe?(g.array.next({name:fe,values:yi(s)}),(f.isDirty||f.dirtyFields||p.isDirty||p.dirtyFields)&&Ae.shouldDirty&&g.state.next({name:fe,dirtyFields:cg(i,s),isDirty:V(fe,me)})):Ze&&!Ze._f&&!Ri(me)?G(fe,me,Ae):H(fe,me,Ae),a3(fe,l)&&g.state.next({...r}),g.state.next({name:o.mount?fe:void 0,values:yi(s)})},W=async fe=>{o.mount=!0;const je=fe.target;let Ae=je.name,Ze=!0;const Xe=dt(n,Ae),me=D=>{Ze=Number.isNaN(D)||gd(D)&&isNaN(D.getTime())||Kc(D,dt(s,Ae,D))},De=i3(t.mode),Z=i3(t.reValidateMode);if(Xe){let D,F;const le=je.type?n3(Xe._f):Ove(fe),ye=fe.type===J$.BLUR||fe.type===J$.FOCUS_OUT,Oe=!Hve(Xe._f)&&!t.resolver&&!dt(r.errors,Ae)&&!Xe._f.deps||Zve(ye,dt(r.touchedFields,Ae),r.isSubmitted,Z,De),$e=a3(Ae,l,ye);Cr(s,Ae,le),ye?(Xe._f.onBlur&&Xe._f.onBlur(fe),c&&c(0)):Xe._f.onChange&&Xe._f.onChange(fe);const yt=k(Ae,le,ye),lr=!Xi(yt)||$e;if(!ye&&g.state.next({name:Ae,type:fe.type,values:yi(s)}),Oe)return(f.isValid||p.isValid)&&(t.mode==="onBlur"?ye&&y():ye||y()),lr&&g.state.next({name:Ae,...$e?{}:yt});if(!ye&&$e&&g.state.next({...r}),t.resolver){const{errors:qt}=await O([Ae]);if(me(le),Ze){const Yt=o3(r.errors,n,Ae),Wt=o3(qt,n,Yt.name||Ae);D=Wt.error,Ae=Wt.name,F=Xi(qt)}}else _([Ae],!0),D=(await c3(Xe,l.disabled,s,v,t.shouldUseNativeValidation))[Ae],_([Ae]),me(le),Ze&&(D?F=!1:(f.isValid||p.isValid)&&(F=await B(n,!0)));Ze&&(Xe._f.deps&&X(Xe._f.deps),P(Ae,F,D,yt))}},ee=(fe,je)=>{if(dt(r.errors,je)&&fe.focus)return fe.focus(),1},X=async(fe,je={})=>{let Ae,Ze;const Xe=Hg(fe);if(t.resolver){const me=await I(_n(fe)?fe:Xe);Ae=Xi(me),Ze=fe?!Xe.some(De=>dt(me,De)):Ae}else fe?(Ze=(await Promise.all(Xe.map(async me=>{const De=dt(n,me);return await B(De&&De._f?{[me]:De}:De)}))).every(Boolean),!(!Ze&&!r.isValid)&&y()):Ze=Ae=await B(n);return g.state.next({...!wo(fe)||(f.isValid||p.isValid)&&Ae!==r.isValid?{}:{name:fe},...t.resolver||!fe?{isValid:Ae}:{},errors:r.errors}),je.shouldFocus&&!Ze&&Kg(n,ee,fe?Xe:l.mount),Ze},ne=fe=>{const je={...o.mount?s:i};return _n(fe)?je:wo(fe)?dt(je,fe):fe.map(Ae=>dt(je,Ae))},J=(fe,je)=>({invalid:!!dt((je||r).errors,fe),isDirty:!!dt((je||r).dirtyFields,fe),error:dt((je||r).errors,fe),isValidating:!!dt(r.validatingFields,fe),isTouched:!!dt((je||r).touchedFields,fe)}),oe=fe=>{fe&&Hg(fe).forEach(je=>Ln(r.errors,je)),g.state.next({errors:fe?r.errors:{}})},be=(fe,je,Ae)=>{const Ze=(dt(n,fe,{_f:{}})._f||{}).ref,Xe=dt(r.errors,fe)||{},{ref:me,message:De,type:Z,...D}=Xe;Cr(r.errors,fe,{...D,...je,ref:Ze}),g.state.next({name:fe,errors:r.errors,isValid:!1}),Ae&&Ae.shouldFocus&&Ze&&Ze.focus&&Ze.focus()},Ce=(fe,je)=>La(fe)?g.state.subscribe({next:Ae=>fe(U(void 0,je),Ae)}):U(fe,je,!0),Le=fe=>g.state.subscribe({next:je=>{Gve(fe.name,je.name,fe.exact)&&Kve(je,fe.formState||f,Ne,fe.reRenderRoot)&&fe.callback({values:{...s},...r,...je})}}).unsubscribe,ce=fe=>(o.mount=!0,p={...p,...fe.formState},Le({...fe,formState:p})),ae=(fe,je={})=>{for(const Ae of fe?Hg(fe):l.mount)l.mount.delete(Ae),l.array.delete(Ae),je.keepValue||(Ln(n,Ae),Ln(s,Ae)),!je.keepError&&Ln(r.errors,Ae),!je.keepDirty&&Ln(r.dirtyFields,Ae),!je.keepTouched&&Ln(r.touchedFields,Ae),!je.keepIsValidating&&Ln(r.validatingFields,Ae),!t.shouldUnregister&&!je.keepDefaultValue&&Ln(i,Ae);g.state.next({values:yi(s)}),g.state.next({...r,...je.keepDirty?{isDirty:V()}:{}}),!je.keepIsValid&&y()},ge=({disabled:fe,name:je})=>{(po(fe)&&o.mount||fe||l.disabled.has(je))&&(fe?l.disabled.add(je):l.disabled.delete(je))},he=(fe,je={})=>{let Ae=dt(n,fe);const Ze=po(je.disabled)||po(t.disabled);return Cr(n,fe,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:fe}},name:fe,mount:!0,...je}}),l.mount.add(fe),Ae?ge({disabled:po(je.disabled)?je.disabled:t.disabled,name:fe}):A(fe,!0,je.value),{...Ze?{disabled:je.disabled||t.disabled}:{},...t.progressive?{required:!!je.required,min:ug(je.min),max:ug(je.max),minLength:ug(je.minLength),maxLength:ug(je.maxLength),pattern:ug(je.pattern)}:{},name:fe,onChange:W,onBlur:W,ref:Xe=>{if(Xe){he(fe,je),Ae=dt(n,fe);const me=_n(Xe.value)&&Xe.querySelectorAll&&Xe.querySelectorAll("input,select,textarea")[0]||Xe,De=zve(me),Z=Ae._f.refs||[];if(De?Z.find(D=>D===me):me===Ae._f.ref)return;Cr(n,fe,{_f:{...Ae._f,...De?{refs:[...Z.filter(KS),me,...Array.isArray(dt(i,fe))?[{}]:[]],ref:{type:me.type,name:fe}}:{ref:me}}}),A(fe,!1,void 0,me)}else Ae=dt(n,fe,{}),Ae._f&&(Ae._f.mount=!1),(t.shouldUnregister||je.shouldUnregister)&&!(Mve(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},Pe=()=>t.shouldFocusError&&Kg(n,ee,l.mount),te=fe=>{po(fe)&&(g.state.next({disabled:fe}),Kg(n,(je,Ae)=>{const Ze=dt(n,Ae);Ze&&(je.disabled=Ze._f.disabled||fe,Array.isArray(Ze._f.refs)&&Ze._f.refs.forEach(Xe=>{Xe.disabled=Ze._f.disabled||fe}))},0,!1))},Y=(fe,je)=>async Ae=>{let Ze;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Xe=yi(s);if(g.state.next({isSubmitting:!0}),t.resolver){const{errors:me,values:De}=await O();r.errors=me,Xe=De}else await B(n);if(l.disabled.size)for(const me of l.disabled)Cr(Xe,me,void 0);if(Ln(r.errors,"root"),Xi(r.errors)){g.state.next({errors:{}});try{await fe(Xe,Ae)}catch(me){Ze=me}}else je&&await je({...r.errors},Ae),Pe(),setTimeout(Pe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Xi(r.errors)&&!Ze,submitCount:r.submitCount+1,errors:r.errors}),Ze)throw Ze},_e=(fe,je={})=>{dt(n,fe)&&(_n(je.defaultValue)?se(fe,yi(dt(i,fe))):(se(fe,je.defaultValue),Cr(i,fe,yi(je.defaultValue))),je.keepTouched||Ln(r.touchedFields,fe),je.keepDirty||(Ln(r.dirtyFields,fe),r.isDirty=je.defaultValue?V(fe,yi(dt(i,fe))):V()),je.keepError||(Ln(r.errors,fe),f.isValid&&y()),g.state.next({...r}))},xe=(fe,je={})=>{const Ae=fe?yi(fe):i,Ze=yi(Ae),Xe=Xi(fe),me=Xe?i:Ze;if(je.keepDefaultValues||(i=Ae),!je.keepValues){if(je.keepDirtyValues){const De=new Set([...l.mount,...Object.keys(cg(i,s))]);for(const Z of Array.from(De))dt(r.dirtyFields,Z)?Cr(me,Z,dt(s,Z)):se(Z,dt(me,Z))}else{if(fR&&_n(fe))for(const De of l.mount){const Z=dt(n,De);if(Z&&Z._f){const D=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(zb(D)){const F=D.closest("form");if(F){F.reset();break}}}}for(const De of l.mount)se(De,dt(me,De))}s=yi(me),g.array.next({values:{...me}}),g.state.next({values:{...me}})}l={mount:je.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!f.isValid||!!je.keepIsValid||!!je.keepDirtyValues,o.watch=!!t.shouldUnregister,g.state.next({submitCount:je.keepSubmitCount?r.submitCount:0,isDirty:Xe?!1:je.keepDirty?r.isDirty:!!(je.keepDefaultValues&&!Kc(fe,i)),isSubmitted:je.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Xe?{}:je.keepDirtyValues?je.keepDefaultValues&&s?cg(i,s):r.dirtyFields:je.keepDefaultValues&&fe?cg(i,fe):je.keepDirty?r.dirtyFields:{},touchedFields:je.keepTouched?r.touchedFields:{},errors:je.keepErrors?r.errors:{},isSubmitSuccessful:je.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},We=(fe,je)=>xe(La(fe)?fe(s):fe,je),Ue=(fe,je={})=>{const Ae=dt(n,fe),Ze=Ae&&Ae._f;if(Ze){const Xe=Ze.refs?Ze.refs[0]:Ze.ref;Xe.focus&&(Xe.focus(),je.shouldSelect&&La(Xe.select)&&Xe.select())}},Ne=fe=>{r={...r,...fe}},Dt={control:{register:he,unregister:ae,getFieldState:J,handleSubmit:Y,setError:be,_subscribe:Le,_runSchema:O,_focusError:Pe,_getWatch:U,_getDirty:V,_setValid:y,_setFieldArray:S,_setDisabledField:ge,_setErrors:C,_getFieldArray:q,_reset:xe,_resetDefaultValues:()=>La(t.defaultValues)&&t.defaultValues().then(fe=>{We(fe,t.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:K,_disableForm:te,_subjects:g,_proxyFormState:f,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return i},get _names(){return l},set _names(fe){l=fe},get _formState(){return r},get _options(){return t},set _options(fe){t={...t,...fe}}},subscribe:ce,trigger:X,register:he,handleSubmit:Y,watch:Ce,setValue:se,getValues:ne,reset:We,resetField:_e,clearErrors:oe,unregister:ae,setError:be,setFocus:Ue,getFieldState:J};return{...Dt,formControl:Dt}}function qp(e={}){const t=Q.useRef(void 0),r=Q.useRef(void 0),[n,i]=Q.useState({isDirty:!1,isValidating:!1,isLoading:La(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:La(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:Qve(e),formState:n},e.formControl&&e.defaultValues&&!La(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,Fve(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),Q.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),Q.useEffect(()=>{e.mode&&(s._options.mode=e.mode),e.reValidateMode&&(s._options.reValidateMode=e.reValidateMode)},[s,e.mode,e.reValidateMode]),Q.useEffect(()=>{e.errors&&(s._setErrors(e.errors),s._focusError())},[s,e.errors]),Q.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,e.shouldUnregister]),Q.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),Q.useEffect(()=>{e.values&&!Kc(e.values,r.current)?(s._reset(e.values,s._options.resetOptions),r.current=e.values,i(o=>({...o}))):s._resetDefaultValues()},[s,e.values]),Q.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),t.current.formState=$ve(n,s),t.current}var eye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],er=eye.reduce((e,t)=>{const r=Jh(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function gR(e,t){e&&Ya.flushSync(()=>e.dispatchEvent(t))}var tye="Label",QW=x.forwardRef((e,t)=>a.jsx(er.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QW.displayName=tye;var eH=QW;const rt=Q.forwardRef(({className:e,...t},r)=>a.jsx(eH,{ref:r,className:qe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...t}));rt.displayName=eH.displayName;function vR(e){const t=x.useRef({value:e,previous:e});return x.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function Jd(e){const[t,r]=x.useState(void 0);return or(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=e.offsetWidth,l=e.offsetHeight;r({width:o,height:l})});return n.observe(e,{box:"border-box"}),()=>n.unobserve(e)}else r(void 0)},[e]),t}var O_="Checkbox",[rye,Pze]=Ir(O_),[nye,yR]=rye(O_);function iye(e){const{__scopeCheckbox:t,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:f="on",internal_do_not_use_render:p}=e,[g,v]=ns({prop:r,defaultProp:i??!1,onChange:c,caller:O_}),[b,y]=x.useState(null),[_,S]=x.useState(null),N=x.useRef(!1),C=b?!!o||!!b.closest("form"):!0,A={checked:g,disabled:s,setChecked:v,control:b,setControl:y,name:l,form:o,value:f,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:eu(i)?!1:i,isFormControl:C,bubbleInput:_,setBubbleInput:S};return a.jsx(nye,{scope:t,...A,children:sye(p)?p(A):n})}var tH="CheckboxTrigger",rH=x.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:f,setChecked:p,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:b}=yR(tH,e),y=at(i,f),_=x.useRef(c);return x.useEffect(()=>{const S=s?.form;if(S){const N=()=>p(_.current);return S.addEventListener("reset",N),()=>S.removeEventListener("reset",N)}},[s,p]),a.jsx(er.button,{type:"button",role:"checkbox","aria-checked":eu(c)?"mixed":c,"aria-required":u,"data-state":oH(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:y,onKeyDown:Ve(t,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ve(r,S=>{p(N=>eu(N)?!0:!N),b&&v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});rH.displayName=tH;var xR=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:f,...p}=e;return a.jsx(iye,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:f,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(rH,{...p,ref:t,__scopeCheckbox:r}),g&&a.jsx(aH,{__scopeCheckbox:r})]})})});xR.displayName=O_;var nH="CheckboxIndicator",iH=x.forwardRef((e,t)=>{const{__scopeCheckbox:r,forceMount:n,...i}=e,s=yR(nH,r);return a.jsx(ss,{present:n||eu(s.checked)||s.checked===!0,children:a.jsx(er.span,{"data-state":oH(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});iH.displayName=nH;var sH="CheckboxBubbleInput",aH=x.forwardRef(({__scopeCheckbox:e,...t},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:f,form:p,bubbleInput:g,setBubbleInput:v}=yR(sH,e),b=at(r,v),y=vR(s),_=Jd(n);x.useEffect(()=>{const N=g;if(!N)return;const C=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(C,"checked").set,P=!i.current;if(y!==s&&k){const O=new Event("click",{bubbles:P});N.indeterminate=eu(s),k.call(N,eu(s)?!1:s),N.dispatchEvent(O)}},[g,y,s,i]);const S=x.useRef(eu(s)?!1:s);return a.jsx(er.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:l,disabled:c,name:u,value:f,form:p,...t,tabIndex:-1,ref:b,style:{...t.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});aH.displayName=sH;function sye(e){return typeof e=="function"}function eu(e){return e==="indeterminate"}function oH(e){return eu(e)?"indeterminate":e?"checked":"unchecked"}const lH=x.forwardRef(({className:e,...t},r)=>a.jsx(xR,{ref:r,className:qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:a.jsx(iH,{className:qe("flex items-center justify-center text-current"),children:a.jsx(lv,{className:"h-4 w-4"})})}));lH.displayName=xR.displayName;const aye=()=>{const{login:e}=jr(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=qp(),[s,o]=x.useState(!1),l=async c=>{await e(c,s)};return a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Connexion"}),a.jsx(Sn,{children:"Connectez-vous à votre compte MaxiMarket"})]}),a.jsx(At,{children:a.jsxs("form",{onSubmit:r(l),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(cu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...t("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),n.password&&a.jsx("p",{className:"text-sm text-destructive",children:n.password.message})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(lH,{id:"rememberMe",checked:s,onCheckedChange:o}),a.jsx(rt,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:"Se souvenir de moi pendant 7 jours"})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Connexion en cours..."]}):"Se connecter"})]})}),a.jsxs(uv,{className:"flex flex-col space-y-2",children:[a.jsx(ar,{to:"/mot-de-passe-oublie",className:"text-sm text-primary hover:underline",children:"Mot de passe oublié ?"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",a.jsx(ar,{to:"/inscription",className:"text-primary hover:underline",children:"S'inscrire"})]})]})]})})},oye=()=>{const{user:e,loading:t}=jr(),r=Bn(),n=Ci();return x.useEffect(()=>{if(!t&&e){const i=n.state?.from||(e.role==="admin"?"/admin":"/");r(i,{replace:!0})}},[e,t,r,n]),t||e?null:a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(aye,{})})},lye=()=>{const{register:e}=jr(),{register:t,handleSubmit:r,watch:n,formState:{errors:i,isSubmitting:s}}=qp(),[o,l]=x.useState({shown:!1,email:""}),[c,u]=x.useState(!1),[f,p]=x.useState(null),g=async b=>{const y=await e(b);y&&y.needsConfirmation&&l({shown:!0,email:b.email})},v=n("password");return o.shown?a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zue,{className:"h-5 w-5 text-green-600"}),a.jsx(ir,{children:"Inscription réussie"})]}),a.jsx(Sn,{children:"Vérifiez votre email pour confirmer votre compte."})]}),a.jsxs(At,{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nous avons envoyé un lien de confirmation à:",a.jsx("div",{className:"mt-1 font-medium text-foreground",children:o.email})]}),f&&a.jsx("div",{className:"text-sm",children:f}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{type:"button",onClick:async()=>{try{u(!0),p(null);const{error:b}=await we.auth.resend({type:"signup",email:o.email,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(b)throw b;p("Un nouvel email de confirmation a été envoyé.")}catch(b){p(b.message||"Impossible d'envoyer l'email de confirmation.")}finally{u(!1)}},disabled:c,className:"inline-flex items-center",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gde,{className:"mr-2 h-4 w-4"}),"Renvoyer l'email"]})}),a.jsx(ue,{type:"button",variant:"outline",onClick:()=>l({shown:!1,email:""}),children:"Utiliser une autre adresse"})]})]}),a.jsxs(uv,{className:"flex flex-col items-start gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Déjà confirmé ?"}),a.jsx(ar,{to:"/connexion",className:"text-primary hover:underline text-sm",children:"Se connecter"})]})]})}):a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Inscription"}),a.jsx(Sn,{children:"Créez votre compte MaxiMarket"})]}),a.jsx(At,{children:a.jsxs("form",{onSubmit:r(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",type:"text",placeholder:"John",className:"pl-10",...t("firstName",{required:"Le prénom est requis",minLength:{value:2,message:"Le prénom doit contenir au moins 2 caractères"}})})]}),i.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:i.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",type:"text",placeholder:"Doe",className:"pl-10",...t("lastName",{required:"Le nom est requis",minLength:{value:2,message:"Le nom doit contenir au moins 2 caractères"}})})]}),i.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:i.lastName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(cu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),i.email&&a.jsx("p",{className:"text-sm text-destructive",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",placeholder:"+221 77 123 45 67",className:"pl-10",...t("phoneNumber",{required:"Le numéro de téléphone est requis",pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),i.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:i.phoneNumber.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...t("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),i.password&&a.jsx("p",{className:"text-sm text-destructive",children:i.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",placeholder:"••••••••",className:"pl-10",...t("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:b=>b===v||"Les mots de passe ne correspondent pas"})})]}),i.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:i.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription en cours..."]}):"S'inscrire"})]})}),a.jsx(uv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",a.jsx(ar,{to:"/connexion",className:"text-primary hover:underline",children:"Se connecter"})]})})]})})},cye=()=>a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(lye,{})}),uye=()=>{const{toast:e}=Zr(),{register:t,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=qp(),s=async o=>{try{e({title:"Email envoyé",description:"Si un compte existe avec cet email, vous recevrez les instructions de réinitialisation."})}catch(l){e({title:"Erreur",description:l.message,variant:"destructive"})}};return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Mot de passe oublié"}),a.jsx(Sn,{children:"Entrez votre adresse email pour recevoir les instructions de réinitialisation"})]}),a.jsx(At,{children:a.jsxs("form",{onSubmit:r(s),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(cu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...t("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer les instructions"})]})}),a.jsx(uv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Retour à la"," ",a.jsx(ar,{to:"/connexion",className:"text-primary hover:underline",children:"page de connexion"})]})})]})})})},dye=()=>{const{toast:e}=Zr(),t=Bn(),[r]=rO(),n=r.get("token"),{register:i,handleSubmit:s,watch:o,formState:{errors:l,isSubmitting:c}}=qp(),u=o("password"),f=async p=>{try{if(!n)throw new Error("Token de réinitialisation manquant");e({title:"Mot de passe réinitialisé",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),t("/connexion")}catch(g){e({title:"Erreur",description:g.message,variant:"destructive"})}};return n?a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Réinitialisation du mot de passe"}),a.jsx(Sn,{children:"Choisissez votre nouveau mot de passe"})]}),a.jsx(At,{children:a.jsxs("form",{onSubmit:s(f),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",className:"pl-10",...i("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),l.password&&a.jsx("p",{className:"text-sm text-destructive",children:l.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",className:"pl-10",...i("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:p=>p===u||"Les mots de passe ne correspondent pas"})})]}),l.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:l.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Réinitialisation en cours..."]}):"Réinitialiser le mot de passe"})]})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Tt,{children:a.jsxs(nr,{children:[a.jsx(ir,{className:"text-destructive",children:"Lien invalide"}),a.jsx(Sn,{children:"Le lien de réinitialisation est invalide ou a expiré. Veuillez faire une nouvelle demande de réinitialisation."})]})})})},fye=(e="dashboard")=>{const[t,r]=rO(),[n,i]=x.useState(e);return x.useEffect(()=>{const o=t.get("tab");o&&i(o)},[t]),{activeTab:n,handleTabChange:o=>{i(o),r({tab:o})},setActiveTab:i}},S0=({title:e,value:t,icon:r,trend:n,trendValue:i,color:s="blue",className:o})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600",pink:"from-pink-500 to-pink-600"},c={blue:"text-blue-200",green:"text-green-200",purple:"text-purple-200",orange:"text-orange-200",red:"text-red-200",teal:"text-teal-200",indigo:"text-indigo-200",pink:"text-pink-200"};return a.jsx(Tt,{className:qe(`bg-gradient-to-br ${l[s]} text-white overflow-hidden`,o),children:a.jsx(At,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm opacity-90 mb-1",children:e}),a.jsx("p",{className:"text-2xl font-bold",children:t}),n&&a.jsx("div",{className:"flex items-center mt-2",children:a.jsxs(mt,{variant:"secondary",className:qe("text-xs bg-white/20 text-white border-0",n==="up"?"text-green-200":"text-red-200"),children:[n==="up"?"↗":"↘"," ",i]})})]}),r&&a.jsx("div",{className:qe("p-3 rounded-full bg-white/10",c[s]),children:a.jsx(r,{className:"h-6 w-6"})})]})})})},hye=(e={})=>{const{threshold:t=.1,rootMargin:r="50px",root:n=null,triggerOnce:i=!1}=e,[s,o]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),f=x.useCallback(p=>{const[g]=p;g.isIntersecting?(o(!0),i&&!l&&c(!0)):i||o(!1)},[i,l]);return x.useEffect(()=>{const p=u.current;if(!p)return;const g=new IntersectionObserver(f,{threshold:t,rootMargin:r,root:n});return g.observe(p),()=>{g.unobserve(p),g.disconnect()}},[f,t,r,n]),[u,s]},pye=(e={})=>{const{threshold:t=.1,rootMargin:r="100px",placeholder:n=null,onLoad:i=null,onError:s=null}=e,[o,l]=x.useState({src:null,isLoading:!1,hasLoaded:!1,hasError:!1}),[c,u]=hye({threshold:t,rootMargin:r,triggerOnce:!0}),f=x.useCallback(g=>{if(!g||o.src===g)return;l(b=>({...b,src:g,isLoading:!0,hasLoaded:!1,hasError:!1}));const v=new Image;v.onload=()=>{l(b=>({...b,isLoading:!1,hasLoaded:!0})),i?.(g)},v.onerror=()=>{l(b=>({...b,isLoading:!1,hasError:!0})),s?.(g)},v.src=g},[o.src,i,s]);x.useEffect(()=>{u&&o.src&&f(o.src)},[u,o.src,f]);const p=x.useCallback(g=>{g!==o.src&&l(v=>({...v,src:g}))},[o.src]);return{elementRef:c,isIntersecting:u,imageState:o,setImageSrc:p,loadImage:f}},u3={thumbnail:{width:150,height:150},card:{width:400,height:300},gallery:{width:800,height:600},fullscreen:{width:1200,height:900},hero:{width:1920,height:1080}},d3={low:60,medium:80,high:95},cH=(e,t="gallery",r="medium")=>{if(!e)return e;const n=u3[t]||u3.gallery,i=d3[r]||d3.medium;if(e.includes("unsplash.com"))return`${e}?w=${n.width}&h=${n.height}&fit=crop&q=${i}&auto=format&fm=webp`;if(e.includes("cloudinary.com"))return e.replace("/upload/",`/upload/w_${n.width},h_${n.height},c_fill,q_${i},f_auto/`);if(e.includes("imagekit.io"))return`${e}?tr=w-${n.width},h-${n.height},c-at_max,q-${i}`;if(e.includes("cdn.")||e.includes("static.")){const s=e.includes("?")?"&":"?";return`${e}${s}w=${n.width}&h=${n.height}&q=${i}`}return e},mye=(e,t="gallery",r="medium")=>Array.isArray(e)?e.map(n=>cH(n,t,r)):[],gye=({src:e,alt:t,className:r="",placeholder:n=null,context:i="gallery",quality:s="medium",onLoad:o=null,onError:l=null,showSkeleton:c=!0,priority:u="medium",fallbackSrc:f=null,enableHeroAnimations:p=!1,showOverlay:g=!1,overlayGradient:v="to-b from-transparent via-transparent to-black/20",...b})=>{const[y,_]=x.useState(!1),[S,N]=x.useState(!1),C=G=>G?typeof G=="string"?G:G?.url?G.url:G?.file?URL.createObjectURL(G.file):G?.src?G.src:G?.displayUrl?G.displayUrl:null:null,A=x.useMemo(()=>{const G=C(e);return G?cH(G,i,s):null},[e,i,s]),k=x.useMemo(()=>{if(f)return f;const G={hero:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop",city:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?q=80&w=1920&auto=format&fit=crop",business:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"};return G[i]||G.hero},[f,i]),{elementRef:P,isIntersecting:O,imageState:I,setImageSrc:B}=pye({threshold:.1,rootMargin:u==="high"?"50px":"100px",onLoad:G=>{N(!0),_(!1),o?.(G)},onError:G=>{_(!0),N(!1),l?.(G)}});Q.useEffect(()=>{O&&A&&B(A)},[O,A,B]);const K=x.useCallback(G=>{b.onClick&&b.onClick(G)},[b.onClick]),V=y?k:I.src||C(e),U=()=>a.jsx("div",{className:"animate-pulse bg-muted rounded-lg",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-muted via-muted/50 to-muted"})}),q=()=>a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Image non disponible"})]})});if(!e)return a.jsx("div",{className:r,children:a.jsx(q,{})});const H=C(e)!==null;return a.jsxs("div",{ref:P,className:`relative overflow-hidden ${r}`,children:[c&&!S&&!y&&H&&a.jsx(li,{children:a.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx(U,{})})}),n&&!S&&!y&&H&&a.jsx(li,{children:a.jsx(Re.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx("img",{src:n,alt:"Placeholder",className:"w-full h-full object-cover"})})}),a.jsx(li,{mode:"wait",children:!y&&H&&a.jsx(Re.img,{src:V,alt:t,className:`w-full h-full object-cover transition-opacity duration-300 ${S?"opacity-100":"opacity-0"}`,initial:p?{opacity:0,scale:1.1}:{opacity:0},animate:p?{opacity:S?1:.7,scale:S?1:1.05}:{opacity:S?1:0},exit:p?{opacity:0,scale:.95}:{opacity:0},transition:p?{duration:.8,ease:"easeOut",opacity:{duration:.5}}:{duration:.3},onLoad:()=>{V&&(N(!0),_(!1),o?.(V))},onError:()=>{_(!0),N(!1),l?.(V)},onClick:K,loading:u==="high"?"eager":"lazy",decoding:"async",...b},V)}),g&&S&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:`absolute inset-0 bg-gradient-${v}`}),y&&a.jsx(li,{children:a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"absolute inset-0 z-20",children:a.jsx(q,{})})}),I.isLoading&&!S&&!y&&H&&a.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/10",children:a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full"})}),!H&&a.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Format d'image non supporté"})]})})]})},VT=Q.memo(gye),uH=Q.memo(({images:e=[],title:t="Galerie d'images",className:r=""})=>{const[n,i]=x.useState(0),[s,o]=x.useState(!1),l=v=>v?typeof v=="string"?v:v?.url?v.url:v?.file?URL.createObjectURL(v.file):v?.src?v.src:v?.displayUrl?v.displayUrl:null:null,c=e.filter(v=>l(v)!==null);x.useEffect(()=>{if(!s||c.length<=1)return;const v=setInterval(()=>{i(b=>(b+1)%c.length)},3e3);return()=>clearInterval(v)},[s,c.length]);const u=()=>{c.length>0&&i(v=>(v+1)%c.length)},f=()=>{c.length>0&&i(v=>(v-1+c.length)%c.length)},p=v=>{v>=0&&v<c.length&&i(v)};if(!c||c.length===0)return a.jsx("div",{className:`relative bg-muted flex items-center justify-center ${r}`,children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{className:"text-xs sm:text-sm",children:"Aucune image"})})});const g=c[n];return a.jsxs("div",{className:`relative bg-muted overflow-hidden group ${r}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(li,{mode:"wait",children:a.jsx(Re.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full h-full",children:a.jsx(VT,{src:g,alt:`${t} - Image ${n+1}`,className:"w-full h-full object-cover",context:"card",quality:"medium",showSkeleton:!0})},n)}),c.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),f()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image précédente",children:a.jsx(Wa,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("button",{onClick:v=>{v.stopPropagation(),u()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image suivante",children:a.jsx(Ha,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),c.length>1&&a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 sm:gap-1.5",children:c.map((v,b)=>a.jsx("button",{onClick:y=>{y.stopPropagation(),p(b)},className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full transition-all duration-200 ${b===n?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${b+1}`},b))})]})}),f3=({listing:e,onEdit:t,onDelete:r,onRefresh:n,onBoost:i,showActions:s=!0})=>{const o=u=>{switch(u){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=u=>{switch(u){case"active":return"Active";case"pending":return"En attente";case"expired":return"Expirée";case"draft":return"Brouillon";default:return u}},c=u=>{let f="";if(typeof u=="string")f=u;else if(u&&typeof u=="object"&&u.name)f=u.name;else return"📦";switch(f.toLowerCase()){case"immobilier":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📦"}};return a.jsxs(Tt,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx(uH,{images:e.images||[e.image],title:e.title,className:"h-48"}),a.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[a.jsx(mt,{variant:"secondary",className:qe("text-xs font-medium",o(e.status)),children:l(e.status)}),e.featured&&a.jsx(mt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200 text-xs",children:"⭐ Premium"})]}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"text-2xl",children:c(e.category)})})]}),a.jsx(At,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2",children:e.title}),a.jsx("p",{className:"text-primary font-bold text-lg",children:e.price})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(No,{className:"h-3 w-3 mr-1"}),e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:e.location?.city||e.location?.country||"Localisation non spécifiée"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ul,{className:"h-3 w-3 mr-1"}),e.createdAt||e.created_at?new Date(e.createdAt||e.created_at).toLocaleDateString("fr-FR"):"Date inconnue"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ml,{className:"h-4 w-4 mr-1"}),e.views||e.views_count||0," vues"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ua,{className:"h-4 w-4 mr-1"}),e.contacts||e.contacts_count||0," contacts"]})]}),e.boosted&&a.jsxs(mt,{variant:"outline",className:"text-xs",children:[a.jsx(sa,{className:"h-3 w-3 mr-1"}),"Boosté"]})]}),s&&a.jsxs("div",{className:"flex space-x-2 pt-2 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>t?.(e),children:[a.jsx(__,{className:"h-4 w-4 mr-1"}),"Modifier"]}),e.status==="active"&&a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(e),className:"flex-1",children:[a.jsx(sa,{className:"h-4 w-4 mr-1"}),"Booster"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>n?.(e),children:a.jsx(Kd,{className:"h-4 w-4"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(e),className:"text-red-600 hover:text-red-700",children:a.jsx(Ka,{className:"h-4 w-4"})})]})]})})]})};function WT(e){const t=vye(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(xye);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function vye(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=wye(i),l=bye(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yye=Symbol("radix.slottable");function xye(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yye}function bye(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function wye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function _ye(e){const t=e+"CollectionProvider",[r,n]=Ir(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=WT(l),u=Q.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=WT(f),v=Q.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=Q.useRef(null),k=at(_,A),P=s(f,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:k,children:N})});v.displayName=f;function b(y){const _=s(e+"CollectionConsumer",y);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},b,n]}var jye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dH=jye.reduce((e,t)=>{const r=WT(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function Sye(e){const t=Nye(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(Eye);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function Nye(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=Tye(i),l=Pye(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Cye=Symbol("radix.slottable");function Eye(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Cye}function Pye(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Tye(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var kye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],bR=kye.reduce((e,t)=>{const r=Sye(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),R_="Collapsible",[Aye,fH]=Ir(R_),[Oye,wR]=Aye(R_),hH=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=e,[c,u]=ns({prop:n,defaultProp:i??!1,onChange:o,caller:R_});return a.jsx(Oye,{scope:r,disabled:s,contentId:rs(),open:c,onOpenToggle:x.useCallback(()=>u(f=>!f),[u]),children:a.jsx(bR.div,{"data-state":jR(c),"data-disabled":s?"":void 0,...l,ref:t})})});hH.displayName=R_;var pH="CollapsibleTrigger",mH=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,...n}=e,i=wR(pH,r);return a.jsx(bR.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":jR(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:t,onClick:Ve(e.onClick,i.onOpenToggle)})});mH.displayName=pH;var _R="CollapsibleContent",gH=x.forwardRef((e,t)=>{const{forceMount:r,...n}=e,i=wR(_R,e.__scopeCollapsible);return a.jsx(ss,{present:r||i.open,children:({present:s})=>a.jsx(Rye,{...n,ref:t,present:s})})});gH.displayName=_R;var Rye=x.forwardRef((e,t)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=e,o=wR(_R,r),[l,c]=x.useState(n),u=x.useRef(null),f=at(t,u),p=x.useRef(0),g=p.current,v=x.useRef(0),b=v.current,y=o.open||l,_=x.useRef(y),S=x.useRef(void 0);return x.useEffect(()=>{const N=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(N)},[]),or(()=>{const N=u.current;if(N){S.current=S.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const C=N.getBoundingClientRect();p.current=C.height,v.current=C.width,_.current||(N.style.transitionDuration=S.current.transitionDuration,N.style.animationName=S.current.animationName),c(n)}},[o.open,n]),a.jsx(bR.div,{"data-state":jR(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!y,...s,ref:f,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":b?`${b}px`:void 0,...e.style},children:y&&i})});function jR(e){return e?"open":"closed"}var Mye=hH,Iye=mH,Lye=gH,Ja="Accordion",Dye=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[SR,$ye,Fye]=_ye(Ja),[M_,Tze]=Ir(Ja,[Fye,fH]),NR=fH(),vH=Q.forwardRef((e,t)=>{const{type:r,...n}=e,i=n,s=n;return a.jsx(SR.Provider,{scope:e.__scopeAccordion,children:r==="multiple"?a.jsx(Uye,{...s,ref:t}):a.jsx(qye,{...i,ref:t})})});vH.displayName=Ja;var[yH,Bye]=M_(Ja),[xH,zye]=M_(Ja,{collapsible:!1}),qye=Q.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=e,[l,c]=ns({prop:r,defaultProp:n??"",onChange:i,caller:Ja});return a.jsx(yH,{scope:e.__scopeAccordion,value:Q.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Q.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(xH,{scope:e.__scopeAccordion,collapsible:s,children:a.jsx(bH,{...o,ref:t})})})}),Uye=Q.forwardRef((e,t)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=e,[o,l]=ns({prop:r,defaultProp:n??[],onChange:i,caller:Ja}),c=Q.useCallback(f=>l((p=[])=>[...p,f]),[l]),u=Q.useCallback(f=>l((p=[])=>p.filter(g=>g!==f)),[l]);return a.jsx(yH,{scope:e.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(xH,{scope:e.__scopeAccordion,collapsible:!0,children:a.jsx(bH,{...s,ref:t})})})}),[Vye,I_]=M_(Ja),bH=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=e,l=Q.useRef(null),c=at(l,t),u=$ye(r),p=Fp(i)==="ltr",g=Ve(e.onKeyDown,v=>{if(!Dye.includes(v.key))return;const b=v.target,y=u().filter(I=>!I.ref.current?.disabled),_=y.findIndex(I=>I.ref.current===b),S=y.length;if(_===-1)return;v.preventDefault();let N=_;const C=0,A=S-1,k=()=>{N=_+1,N>A&&(N=C)},P=()=>{N=_-1,N<C&&(N=A)};switch(v.key){case"Home":N=C;break;case"End":N=A;break;case"ArrowRight":s==="horizontal"&&(p?k():P());break;case"ArrowDown":s==="vertical"&&k();break;case"ArrowLeft":s==="horizontal"&&(p?P():k());break;case"ArrowUp":s==="vertical"&&P();break}const O=N%S;y[O].ref.current?.focus()});return a.jsx(Vye,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(SR.Slot,{scope:r,children:a.jsx(dH.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:g})})})}),Vb="AccordionItem",[Wye,CR]=M_(Vb),wH=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,value:n,...i}=e,s=I_(Vb,r),o=Bye(Vb,r),l=NR(r),c=rs(),u=n&&o.value.includes(n)||!1,f=s.disabled||e.disabled;return a.jsx(Wye,{scope:r,open:u,disabled:f,triggerId:c,children:a.jsx(Mye,{"data-orientation":s.orientation,"data-state":EH(u),...l,...i,ref:t,disabled:f,open:u,onOpenChange:p=>{p?o.onItemOpen(n):o.onItemClose(n)}})})});wH.displayName=Vb;var _H="AccordionHeader",jH=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=I_(Ja,r),s=CR(_H,r);return a.jsx(dH.h3,{"data-orientation":i.orientation,"data-state":EH(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:t})});jH.displayName=_H;var HT="AccordionTrigger",SH=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=I_(Ja,r),s=CR(HT,r),o=zye(HT,r),l=NR(r);return a.jsx(SR.ItemSlot,{scope:r,children:a.jsx(Iye,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...n,ref:t})})});SH.displayName=HT;var NH="AccordionContent",CH=Q.forwardRef((e,t)=>{const{__scopeAccordion:r,...n}=e,i=I_(Ja,r),s=CR(NH,r),o=NR(r);return a.jsx(Lye,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});CH.displayName=NH;function EH(e){return e?"open":"closed"}var Hye=vH,Kye=wH,Gye=jH,PH=SH,TH=CH;const Zye=Hye,kH=Q.forwardRef(({className:e,...t},r)=>a.jsx(Kye,{ref:r,className:qe("border-b border-border",e),...t}));kH.displayName="AccordionItem";const AH=Q.forwardRef(({className:e,children:t,...r},n)=>a.jsx(Gye,{className:"flex",children:a.jsxs(PH,{ref:n,className:qe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline text-foreground [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,a.jsx(Sl,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));AH.displayName=PH.displayName;const OH=Q.forwardRef(({className:e,children:t,...r},n)=>a.jsx(TH,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:qe("pb-4 pt-0 text-muted-foreground",e),children:t})}));OH.displayName=TH.displayName;function wy(e,t=globalThis?.document){const r=fr(e);x.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return t.addEventListener("keydown",n,{capture:!0}),()=>t.removeEventListener("keydown",n,{capture:!0})},[r,t])}var Yye="DismissableLayer",KT="dismissableLayer.update",Xye="dismissableLayer.pointerDownOutside",Jye="dismissableLayer.focusOutside",h3,RH=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),L_=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(RH),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),b=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=exe(O=>{const I=O.target,B=[...u.branches].some(K=>K.contains(I));!A||B||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=txe(O=>{const I=O.target;[...u.branches].some(K=>K.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return wy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(h3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),p3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=h3)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),p3())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(KT,O),()=>document.removeEventListener(KT,O)},[]),a.jsx(er.div,{...c,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,k.onPointerDownCapture)})});L_.displayName=Yye;var Qye="DismissableLayerBranch",MH=x.forwardRef((e,t)=>{const r=x.useContext(RH),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(er.div,{...e,ref:i})});MH.displayName=Qye;function exe(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){IH(Xye,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function txe(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&IH(Jye,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function p3(){const e=new CustomEvent(KT);document.dispatchEvent(e)}function IH(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?gR(i,s):i.dispatchEvent(s)}var rxe=L_,nxe=MH,GS="focusScope.autoFocusOnMount",ZS="focusScope.autoFocusOnUnmount",m3={bubbles:!1,cancelable:!0},ixe="FocusScope",ER=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=fr(i),f=fr(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?p.current=A:$c(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||$c(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&$c(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){v3.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(GS,m3);l.addEventListener(GS,u),l.dispatchEvent(S),S.defaultPrevented||(sxe(uxe(LH(l)),{select:!0}),document.activeElement===y&&$c(l))}return()=>{l.removeEventListener(GS,u),setTimeout(()=>{const S=new CustomEvent(ZS,m3);l.addEventListener(ZS,f),l.dispatchEvent(S),S.defaultPrevented||$c(y??document.body,{select:!0}),l.removeEventListener(ZS,f),v3.remove(v)},0)}}},[l,u,f,v]);const b=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,A]=axe(N);C&&A?!y.shiftKey&&S===A?(y.preventDefault(),r&&$c(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&$c(A,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(er.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});ER.displayName=ixe;function sxe(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if($c(n,{select:t}),document.activeElement!==r)return}function axe(e){const t=LH(e),r=g3(t,e),n=g3(t.reverse(),e);return[r,n]}function LH(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function g3(e,t){for(const r of e)if(!oxe(r,{upTo:t}))return r}function oxe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function lxe(e){return e instanceof HTMLInputElement&&"select"in e}function $c(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&lxe(e)&&t&&e.select()}}var v3=cxe();function cxe(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=y3(e,t),e.unshift(t)},remove(t){e=y3(e,t),e[0]?.resume()}}}function y3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function uxe(e){return e.filter(t=>t.tagName!=="A")}var dxe="Portal",D_=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);or(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?l_.createPortal(a.jsx(er.div,{...n,ref:t}),o):null});D_.displayName=dxe;var YS=0;function PR(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??x3()),document.body.insertAdjacentElement("beforeend",e[1]??x3()),YS++,()=>{YS===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),YS--}},[])}function x3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var yo=function(){return yo=Object.assign||function(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s])}return t},yo.apply(this,arguments)};function DH(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r}function fxe(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return e.concat(s||Array.prototype.slice.call(t))}var cb="right-scroll-bar-position",ub="width-before-scroll-bar",hxe="with-scroll-bars-hidden",pxe="--removed-body-scroll-bar-size";function XS(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function mxe(e,t){var r=x.useState(function(){return{value:e,callback:t,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=t,r.facade}var gxe=typeof window<"u"?x.useLayoutEffect:x.useEffect,b3=new WeakMap;function vxe(e,t){var r=mxe(null,function(n){return e.forEach(function(i){return XS(i,n)})});return gxe(function(){var n=b3.get(r);if(n){var i=new Set(n),s=new Set(e),o=r.current;i.forEach(function(l){s.has(l)||XS(l,null)}),s.forEach(function(l){i.has(l)||XS(l,o)})}b3.set(r,e)},[e]),r}function yxe(e){return e}function xxe(e,t){t===void 0&&(t=yxe);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:e},useMedium:function(s){var o=t(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var f=o;o=[],f.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(f){o.push(f),u()},filter:function(f){return o=o.filter(f),r}}}};return i}function bxe(e){e===void 0&&(e={});var t=xxe(null);return t.options=yo({async:!0,ssr:!1},e),t}var $H=function(e){var t=e.sideCar,r=DH(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,yo({},r))};$H.isSideCarExport=!0;function wxe(e,t){return e.useMedium(t),$H}var FH=bxe(),JS=function(){},$_=x.forwardRef(function(e,t){var r=x.useRef(null),n=x.useState({onScrollCapture:JS,onWheelCapture:JS,onTouchMoveCapture:JS}),i=n[0],s=n[1],o=e.forwardProps,l=e.children,c=e.className,u=e.removeScrollBar,f=e.enabled,p=e.shards,g=e.sideCar,v=e.noIsolation,b=e.inert,y=e.allowPinchZoom,_=e.as,S=_===void 0?"div":_,N=e.gapMode,C=DH(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,k=vxe([r,t]),P=yo(yo({},C),i);return x.createElement(x.Fragment,null,f&&x.createElement(A,{sideCar:FH,removeScrollBar:u,shards:p,noIsolation:v,inert:b,setCallbacks:s,allowPinchZoom:!!y,lockRef:r,gapMode:N}),o?x.cloneElement(x.Children.only(l),yo(yo({},P),{ref:k})):x.createElement(S,yo({},P,{className:c,ref:k}),l))});$_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};$_.classNames={fullWidth:ub,zeroRight:cb};var _xe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jxe(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=_xe();return t&&e.setAttribute("nonce",t),e}function Sxe(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function Nxe(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var Cxe=function(){var e=0,t=null;return{add:function(r){e==0&&(t=jxe())&&(Sxe(t,r),Nxe(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},Exe=function(){var e=Cxe();return function(t,r){x.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},BH=function(){var e=Exe(),t=function(r){var n=r.styles,i=r.dynamic;return e(n,i),null};return t},Pxe={left:0,top:0,right:0,gap:0},QS=function(e){return parseInt(e||"",10)||0},Txe=function(e){var t=window.getComputedStyle(document.body),r=t[e==="padding"?"paddingLeft":"marginLeft"],n=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[QS(r),QS(n),QS(i)]},kxe=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return Pxe;var t=Txe(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},Axe=BH(),$h="data-scroll-locked",Oxe=function(e,t,r,n){var i=e.left,s=e.top,o=e.right,l=e.gap;return r===void 0&&(r="margin"),`
  .`.concat(hxe,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat($h,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(cb,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(ub,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(cb," .").concat(cb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ub," .").concat(ub,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat($h,`] {
    `).concat(pxe,": ").concat(l,`px;
  }
`)},w3=function(){var e=parseInt(document.body.getAttribute($h)||"0",10);return isFinite(e)?e:0},Rxe=function(){x.useEffect(function(){return document.body.setAttribute($h,(w3()+1).toString()),function(){var e=w3()-1;e<=0?document.body.removeAttribute($h):document.body.setAttribute($h,e.toString())}},[])},Mxe=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,i=n===void 0?"margin":n;Rxe();var s=x.useMemo(function(){return kxe(i)},[i]);return x.createElement(Axe,{styles:Oxe(s,!t,i,r?"":"!important")})},GT=!1;if(typeof window<"u")try{var N0=Object.defineProperty({},"passive",{get:function(){return GT=!0,!0}});window.addEventListener("test",N0,N0),window.removeEventListener("test",N0,N0)}catch{GT=!1}var fh=GT?{passive:!1}:!1,Ixe=function(e){return e.tagName==="TEXTAREA"},zH=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return r[t]!=="hidden"&&!(r.overflowY===r.overflowX&&!Ixe(e)&&r[t]==="visible")},Lxe=function(e){return zH(e,"overflowY")},Dxe=function(e){return zH(e,"overflowX")},_3=function(e,t){var r=t.ownerDocument,n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=qH(e,n);if(i){var s=UH(e,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},$xe=function(e){var t=e.scrollTop,r=e.scrollHeight,n=e.clientHeight;return[t,r,n]},Fxe=function(e){var t=e.scrollLeft,r=e.scrollWidth,n=e.clientWidth;return[t,r,n]},qH=function(e,t){return e==="v"?Lxe(t):Dxe(t)},UH=function(e,t){return e==="v"?$xe(t):Fxe(t)},Bxe=function(e,t){return e==="h"&&t==="rtl"?-1:1},zxe=function(e,t,r,n,i){var s=Bxe(e,window.getComputedStyle(t).direction),o=s*n,l=r.target,c=t.contains(l),u=!1,f=o>0,p=0,g=0;do{var v=UH(e,l),b=v[0],y=v[1],_=v[2],S=y-_-s*b;(b||S)&&qH(e,l)&&(p+=S,g+=b),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(t.contains(l)||t===l));return(f&&Math.abs(p)<1||!f&&Math.abs(g)<1)&&(u=!0),u},C0=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},j3=function(e){return[e.deltaX,e.deltaY]},S3=function(e){return e&&"current"in e?e.current:e},qxe=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Uxe=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Vxe=0,hh=[];function Wxe(e){var t=x.useRef([]),r=x.useRef([0,0]),n=x.useRef(),i=x.useState(Vxe++)[0],s=x.useState(BH)[0],o=x.useRef(e);x.useEffect(function(){o.current=e},[e]),x.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var y=fxe([e.lockRef.current],(e.shards||[]).map(S3),!0).filter(Boolean);return y.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),y.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var l=x.useCallback(function(y,_){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!o.current.allowPinchZoom;var S=C0(y),N=r.current,C="deltaX"in y?y.deltaX:N[0]-S[0],A="deltaY"in y?y.deltaY:N[1]-S[1],k,P=y.target,O=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in y&&O==="h"&&P.type==="range")return!1;var I=_3(O,P);if(!I)return!0;if(I?k=O:(k=O==="v"?"h":"v",I=_3(O,P)),!I)return!1;if(!n.current&&"changedTouches"in y&&(C||A)&&(n.current=k),!k)return!0;var B=n.current||k;return zxe(B,_,y,B==="h"?C:A)},[]),c=x.useCallback(function(y){var _=y;if(!(!hh.length||hh[hh.length-1]!==s)){var S="deltaY"in _?j3(_):C0(_),N=t.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&qxe(k.delta,S)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(S3).filter(Boolean).filter(function(k){return k.contains(_.target)}),A=C.length>0?l(_,C[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=x.useCallback(function(y,_,S,N){var C={name:y,delta:_,target:S,should:N,shadowParent:Hxe(S)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(A){return A!==C})},1)},[]),f=x.useCallback(function(y){r.current=C0(y),n.current=void 0},[]),p=x.useCallback(function(y){u(y.type,j3(y),y.target,l(y,e.lockRef.current))},[]),g=x.useCallback(function(y){u(y.type,C0(y),y.target,l(y,e.lockRef.current))},[]);x.useEffect(function(){return hh.push(s),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:g}),document.addEventListener("wheel",c,fh),document.addEventListener("touchmove",c,fh),document.addEventListener("touchstart",f,fh),function(){hh=hh.filter(function(y){return y!==s}),document.removeEventListener("wheel",c,fh),document.removeEventListener("touchmove",c,fh),document.removeEventListener("touchstart",f,fh)}},[]);var v=e.removeScrollBar,b=e.inert;return x.createElement(x.Fragment,null,b?x.createElement(s,{styles:Uxe(i)}):null,v?x.createElement(Mxe,{gapMode:e.gapMode}):null)}function Hxe(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Kxe=wxe(FH,Wxe);var _y=x.forwardRef(function(e,t){return x.createElement($_,yo({},e,{ref:t,sideCar:Kxe}))});_y.classNames=$_.classNames;var Gxe=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ph=new WeakMap,E0=new WeakMap,P0={},eN=0,VH=function(e){return e&&(e.host||VH(e.parentNode))},Zxe=function(e,t){return t.map(function(r){if(e.contains(r))return r;var n=VH(r);return n&&e.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",e,". Doing nothing"),null)}).filter(function(r){return!!r})},Yxe=function(e,t,r,n){var i=Zxe(t,Array.isArray(e)?e:[e]);P0[r]||(P0[r]=new WeakMap);var s=P0[r],o=[],l=new Set,c=new Set(i),u=function(p){!p||l.has(p)||(l.add(p),u(p.parentNode))};i.forEach(u);var f=function(p){!p||c.has(p)||Array.prototype.forEach.call(p.children,function(g){if(l.has(g))f(g);else try{var v=g.getAttribute(n),b=v!==null&&v!=="false",y=(ph.get(g)||0)+1,_=(s.get(g)||0)+1;ph.set(g,y),s.set(g,_),o.push(g),y===1&&b&&E0.set(g,!0),_===1&&g.setAttribute(r,"true"),b||g.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return f(t),l.clear(),eN++,function(){o.forEach(function(p){var g=ph.get(p)-1,v=s.get(p)-1;ph.set(p,g),s.set(p,v),g||(E0.has(p)||p.removeAttribute(n),E0.delete(p)),v||p.removeAttribute(r)}),eN--,eN||(ph=new WeakMap,ph=new WeakMap,E0=new WeakMap,P0={})}},F_=function(e,t,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),i=Gxe(e);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Yxe(n,i,r,"aria-hidden")):function(){return null}},B_="Dialog",[WH,HH]=Ir(B_),[Xxe,Qa]=WH(B_),KH=e=>{const{__scopeDialog:t,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=e,l=x.useRef(null),c=x.useRef(null),[u,f]=ns({prop:n,defaultProp:i??!1,onChange:s,caller:B_});return a.jsx(Xxe,{scope:t,triggerRef:l,contentRef:c,contentId:rs(),titleId:rs(),descriptionId:rs(),open:u,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(p=>!p),[f]),modal:o,children:r})};KH.displayName=B_;var GH="DialogTrigger",ZH=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(GH,r),s=at(t,i.triggerRef);return a.jsx(er.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":AR(i.open),...n,ref:s,onClick:Ve(e.onClick,i.onOpenToggle)})});ZH.displayName=GH;var TR="DialogPortal",[Jxe,YH]=WH(TR,{forceMount:void 0}),XH=e=>{const{__scopeDialog:t,forceMount:r,children:n,container:i}=e,s=Qa(TR,t);return a.jsx(Jxe,{scope:t,forceMount:r,children:x.Children.map(n,o=>a.jsx(ss,{present:r||s.open,children:a.jsx(D_,{asChild:!0,container:i,children:o})}))})};XH.displayName=TR;var Wb="DialogOverlay",JH=x.forwardRef((e,t)=>{const r=YH(Wb,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Qa(Wb,e.__scopeDialog);return s.modal?a.jsx(ss,{present:n||s.open,children:a.jsx(e0e,{...i,ref:t})}):null});JH.displayName=Wb;var Qxe=Jh("DialogOverlay.RemoveScroll"),e0e=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(Wb,r);return a.jsx(_y,{as:Qxe,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(er.div,{"data-state":AR(i.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),Id="DialogContent",QH=x.forwardRef((e,t)=>{const r=YH(Id,e.__scopeDialog),{forceMount:n=r.forceMount,...i}=e,s=Qa(Id,e.__scopeDialog);return a.jsx(ss,{present:n||s.open,children:s.modal?a.jsx(t0e,{...i,ref:t}):a.jsx(r0e,{...i,ref:t})})});QH.displayName=Id;var t0e=x.forwardRef((e,t)=>{const r=Qa(Id,e.__scopeDialog),n=x.useRef(null),i=at(t,r.contentRef,n);return x.useEffect(()=>{const s=n.current;if(s)return F_(s)},[]),a.jsx(eK,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(e.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ve(e.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ve(e.onFocusOutside,s=>s.preventDefault())})}),r0e=x.forwardRef((e,t)=>{const r=Qa(Id,e.__scopeDialog),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(eK,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),eK=x.forwardRef((e,t)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=e,l=Qa(Id,r),c=x.useRef(null),u=at(t,c);return PR(),a.jsxs(a.Fragment,{children:[a.jsx(ER,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(L_,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":AR(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(i0e,{titleId:l.titleId}),a.jsx(a0e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),kR="DialogTitle",tK=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(kR,r);return a.jsx(er.h2,{id:i.titleId,...n,ref:t})});tK.displayName=kR;var rK="DialogDescription",nK=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(rK,r);return a.jsx(er.p,{id:i.descriptionId,...n,ref:t})});nK.displayName=rK;var iK="DialogClose",sK=x.forwardRef((e,t)=>{const{__scopeDialog:r,...n}=e,i=Qa(iK,r);return a.jsx(er.button,{type:"button",...n,ref:t,onClick:Ve(e.onClick,()=>i.onOpenChange(!1))})});sK.displayName=iK;function AR(e){return e?"open":"closed"}var aK="DialogTitleWarning",[n0e,oK]=jpe(aK,{contentName:Id,titleName:kR,docsSlug:"dialog"}),i0e=({titleId:e})=>{const t=oK(aK),r=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return x.useEffect(()=>{e&&(document.getElementById(e)||console.error(r))},[r,e]),null},s0e="DialogDescriptionWarning",a0e=({contentRef:e,descriptionId:t})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${oK(s0e).contentName}}.`;return x.useEffect(()=>{const i=e.current?.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(n))},[n,e,t]),null},lK=KH,o0e=ZH,cK=XH,OR=JH,RR=QH,MR=tK,IR=nK,LR=sK,uK="AlertDialog",[l0e,kze]=Ir(uK,[HH]),Vl=HH(),dK=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vl(t);return a.jsx(lK,{...n,...r,modal:!0})};dK.displayName=uK;var c0e="AlertDialogTrigger",u0e=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Vl(r);return a.jsx(o0e,{...i,...n,ref:t})});u0e.displayName=c0e;var d0e="AlertDialogPortal",fK=e=>{const{__scopeAlertDialog:t,...r}=e,n=Vl(t);return a.jsx(cK,{...n,...r})};fK.displayName=d0e;var f0e="AlertDialogOverlay",hK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Vl(r);return a.jsx(OR,{...i,...n,ref:t})});hK.displayName=f0e;var Fh="AlertDialogContent",[h0e,p0e]=l0e(Fh),m0e=ype("AlertDialogContent"),pK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,children:n,...i}=e,s=Vl(r),o=x.useRef(null),l=at(t,o),c=x.useRef(null);return a.jsx(n0e,{contentName:Fh,titleName:mK,docsSlug:"alert-dialog",children:a.jsx(h0e,{scope:r,cancelRef:c,children:a.jsxs(RR,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ve(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(m0e,{children:n}),a.jsx(v0e,{contentRef:o})]})})})});pK.displayName=Fh;var mK="AlertDialogTitle",gK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Vl(r);return a.jsx(MR,{...i,...n,ref:t})});gK.displayName=mK;var vK="AlertDialogDescription",yK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Vl(r);return a.jsx(IR,{...i,...n,ref:t})});yK.displayName=vK;var g0e="AlertDialogAction",xK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,i=Vl(r);return a.jsx(LR,{...i,...n,ref:t})});xK.displayName=g0e;var bK="AlertDialogCancel",wK=x.forwardRef((e,t)=>{const{__scopeAlertDialog:r,...n}=e,{cancelRef:i}=p0e(bK,r),s=Vl(r),o=at(t,i);return a.jsx(LR,{...s,...n,ref:o})});wK.displayName=bK;var v0e=({contentRef:e})=>{const t=`\`${Fh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Fh}\` by passing a \`${vK}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Fh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},y0e=dK,x0e=fK,_K=hK,jK=pK,SK=xK,NK=wK,CK=gK,EK=yK;const PK=y0e,b0e=x0e,TK=x.forwardRef(({className:e,...t},r)=>a.jsx(_K,{className:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));TK.displayName=_K.displayName;const DR=x.forwardRef(({className:e,...t},r)=>a.jsxs(b0e,{children:[a.jsx(TK,{}),a.jsx(jK,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));DR.displayName=jK.displayName;const $R=({className:e,...t})=>a.jsx("div",{className:qe("flex flex-col space-y-2 text-center sm:text-left",e),...t});$R.displayName="AlertDialogHeader";const FR=({className:e,...t})=>a.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});FR.displayName="AlertDialogFooter";const BR=x.forwardRef(({className:e,...t},r)=>a.jsx(CK,{ref:r,className:qe("text-lg font-semibold",e),...t}));BR.displayName=CK.displayName;const zR=x.forwardRef(({className:e,...t},r)=>a.jsx(EK,{ref:r,className:qe("text-sm text-muted-foreground",e),...t}));zR.displayName=EK.displayName;const kK=x.forwardRef(({className:e,...t},r)=>a.jsx(SK,{ref:r,className:qe(rR(),e),...t}));kK.displayName=SK.displayName;const qR=x.forwardRef(({className:e,...t},r)=>a.jsx(NK,{ref:r,className:qe(rR({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));qR.displayName=NK.displayName;var tN={exports:{}},rN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N3;function w0e(){if(N3)return rN;N3=1;var e=o_();function t(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,i=e.useEffect,s=e.useLayoutEffect,o=e.useDebugValue;function l(p,g){var v=g(),b=n({inst:{value:v,getSnapshot:g}}),y=b[0].inst,_=b[1];return s(function(){y.value=v,y.getSnapshot=g,c(y)&&_({inst:y})},[p,v,g]),i(function(){return c(y)&&_({inst:y}),p(function(){c(y)&&_({inst:y})})},[p]),o(v),v}function c(p){var g=p.getSnapshot;p=p.value;try{var v=g();return!r(p,v)}catch{return!0}}function u(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return rN.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:f,rN}var C3;function _0e(){return C3||(C3=1,tN.exports=w0e()),tN.exports}var j0e=_0e();function S0e(){return j0e.useSyncExternalStore(N0e,()=>!0,()=>!1)}function N0e(){return()=>{}}var UR="Avatar",[C0e,Aze]=Ir(UR),[E0e,AK]=C0e(UR),OK=x.forwardRef((e,t)=>{const{__scopeAvatar:r,...n}=e,[i,s]=x.useState("idle");return a.jsx(E0e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(er.span,{...n,ref:t})})});OK.displayName=UR;var RK="AvatarImage",MK=x.forwardRef((e,t)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=e,o=AK(RK,r),l=P0e(n,s),c=fr(u=>{i(u),o.onImageLoadingStatusChange(u)});return or(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(er.img,{...s,ref:t,src:n}):null});MK.displayName=RK;var IK="AvatarFallback",LK=x.forwardRef((e,t)=>{const{__scopeAvatar:r,delayMs:n,...i}=e,s=AK(IK,r),[o,l]=x.useState(n===void 0);return x.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(er.span,{...i,ref:t}):null});LK.displayName=IK;function E3(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function P0e(e,{referrerPolicy:t,crossOrigin:r}){const n=S0e(),i=x.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=x.useState(()=>E3(s,e));return or(()=>{l(E3(s,e))},[s,e]),or(()=>{const c=p=>()=>{l(p)};if(!s)return;const u=c("loaded"),f=c("error");return s.addEventListener("load",u),s.addEventListener("error",f),t&&(s.referrerPolicy=t),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",f)}},[s,r,t]),o}var DK=OK,$K=MK,FK=LK;const Hb=Q.forwardRef(({className:e,...t},r)=>a.jsx(DK,{ref:r,className:qe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));Hb.displayName=DK.displayName;const VR=Q.forwardRef(({className:e,...t},r)=>a.jsx($K,{ref:r,className:qe("aspect-square h-full w-full",e),...t}));VR.displayName=$K.displayName;const Kb=Q.forwardRef(({className:e,...t},r)=>a.jsx(FK,{ref:r,className:qe("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Kb.displayName=FK.displayName;const z_=({isOpen:e,onClose:t,onConfirm:r,title:n,description:i,confirmText:s="Confirmer",cancelText:o="Annuler",variant:l="destructive",icon:c=Yd,isLoading:u=!1})=>{const f=()=>{switch(l){case"destructive":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}},p=()=>{switch(l){case"destructive":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"outline"}};return a.jsx(PK,{open:e,onOpenChange:t,children:a.jsxs(DR,{children:[a.jsxs($R,{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(c,{className:`h-6 w-6 ${f()}`}),a.jsx(BR,{children:n})]}),a.jsx(zR,{className:"text-left",children:i})]}),a.jsxs(FR,{children:[a.jsx(qR,{disabled:u,children:o}),a.jsxs(ue,{variant:p(),onClick:r,disabled:u,className:"flex items-center space-x-2",children:[u&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:s})]})]})]})})},T0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(z_,{isOpen:e,onClose:t,onConfirm:r,title:"Confirmer la suppression",description:`Êtes-vous sûr de vouloir supprimer "${n}" ? Cette action est irréversible.`,confirmText:"Supprimer",variant:"destructive",icon:Ka,isLoading:i}),k0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(z_,{isOpen:e,onClose:t,onConfirm:r,title:"Modifier l'élément",description:`Voulez-vous modifier "${n}" ?`,confirmText:"Modifier",variant:"info",icon:__,isLoading:i}),A0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(z_,{isOpen:e,onClose:t,onConfirm:r,title:"Actualiser l'élément",description:`Voulez-vous actualiser "${n}" ? Cela remettra l'élément en haut de la liste.`,confirmText:"Actualiser",variant:"info",icon:Kd,isLoading:i}),O0e=({isOpen:e,onClose:t,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(z_,{isOpen:e,onClose:t,onConfirm:r,title:"Booster l'élément",description:`Voulez-vous booster "${n}" ? Cela augmentera sa visibilité.`,confirmText:"Booster",variant:"warning",icon:Is,isLoading:i}),P3=lK,R0e=cK,BK=Q.forwardRef(({className:e,...t},r)=>a.jsx(OR,{ref:r,className:qe("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));BK.displayName=OR.displayName;const ZT=Q.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(R0e,{children:[a.jsx(BK,{}),a.jsxs(RR,{ref:n,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...r,children:[t,a.jsxs(LR,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ZT.displayName=RR.displayName;const YT=({className:e,...t})=>a.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});YT.displayName="DialogHeader";const XT=({className:e,...t})=>a.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});XT.displayName="DialogFooter";const JT=Q.forwardRef(({className:e,...t},r)=>a.jsx(MR,{ref:r,className:qe("text-lg font-semibold leading-none tracking-tight",e),...t}));JT.displayName=MR.displayName;const QT=Q.forwardRef(({className:e,...t},r)=>a.jsx(IR,{ref:r,className:qe("text-sm text-muted-foreground",e),...t}));QT.displayName=IR.displayName;function WR(e){const t=e+"CollectionProvider",[r,n]=Ir(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=Jh(l),u=Q.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=Jh(f),v=Q.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=Q.useRef(null),k=at(_,A),P=s(f,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:k,children:N})});v.displayName=f;function b(y){const _=s(e+"CollectionConsumer",y);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},b,n]}const M0e=["top","right","bottom","left"],uu=Math.min,Cs=Math.max,Gb=Math.round,T0=Math.floor,Co=e=>({x:e,y:e}),I0e={left:"right",right:"left",bottom:"top",top:"bottom"},L0e={start:"end",end:"start"};function ek(e,t,r){return Cs(e,uu(t,r))}function Ll(e,t){return typeof e=="function"?e(t):e}function Dl(e){return e.split("-")[0]}function Up(e){return e.split("-")[1]}function HR(e){return e==="x"?"y":"x"}function KR(e){return e==="y"?"height":"width"}function Pl(e){return["top","bottom"].includes(Dl(e))?"y":"x"}function GR(e){return HR(Pl(e))}function D0e(e,t,r){r===void 0&&(r=!1);const n=Up(e),i=GR(e),s=KR(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=Zb(o)),[o,Zb(o)]}function $0e(e){const t=Zb(e);return[tk(e),t,tk(t)]}function tk(e){return e.replace(/start|end/g,t=>L0e[t])}function F0e(e,t,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?i:n:t?n:i;case"left":case"right":return t?s:o;default:return[]}}function B0e(e,t,r,n){const i=Up(e);let s=F0e(Dl(e),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),t&&(s=s.concat(s.map(tk)))),s}function Zb(e){return e.replace(/left|right|bottom|top/g,t=>I0e[t])}function z0e(e){return{top:0,right:0,bottom:0,left:0,...e}}function zK(e){return typeof e!="number"?z0e(e):{top:e,right:e,bottom:e,left:e}}function Yb(e){const{x:t,y:r,width:n,height:i}=e;return{width:n,height:i,top:r,left:t,right:t+n,bottom:r+i,x:t,y:r}}function T3(e,t,r){let{reference:n,floating:i}=e;const s=Pl(t),o=GR(t),l=KR(o),c=Dl(t),u=s==="y",f=n.x+n.width/2-i.width/2,p=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:f,y:n.y-i.height};break;case"bottom":v={x:f,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:p};break;case"left":v={x:n.x-i.width,y:p};break;default:v={x:n.x,y:n.y}}switch(Up(t)){case"start":v[o]-=g*(r&&u?-1:1);break;case"end":v[o]+=g*(r&&u?-1:1);break}return v}const q0e=async(e,t,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(t));let u=await o.getElementRects({reference:e,floating:t,strategy:i}),{x:f,y:p}=T3(u,n,c),g=n,v={},b=0;for(let y=0;y<l.length;y++){const{name:_,fn:S}=l[y],{x:N,y:C,data:A,reset:k}=await S({x:f,y:p,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:e,floating:t}});f=N??f,p=C??p,v={...v,[_]:{...v[_],...A}},k&&b<=50&&(b++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:e,floating:t,strategy:i}):k.rects),{x:f,y:p}=T3(u,g,c)),y=-1)}return{x:f,y:p,placement:g,strategy:i,middlewareData:v}};async function dv(e,t){var r;t===void 0&&(t={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=e,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:p="floating",altBoundary:g=!1,padding:v=0}=Ll(t,e),b=zK(v),_=l[g?p==="floating"?"reference":"floating":p],S=Yb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),N=p==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},k=Yb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:C,strategy:c}):N);return{top:(S.top-k.top+b.top)/A.y,bottom:(k.bottom-S.bottom+b.bottom)/A.y,left:(S.left-k.left+b.left)/A.x,right:(k.right-S.right+b.right)/A.x}}const U0e=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=t,{element:u,padding:f=0}=Ll(e,t)||{};if(u==null)return{};const p=zK(f),g={x:r,y:n},v=GR(i),b=KR(v),y=await o.getDimensions(u),_=v==="y",S=_?"top":"left",N=_?"bottom":"right",C=_?"clientHeight":"clientWidth",A=s.reference[b]+s.reference[v]-g[v]-s.floating[b],k=g[v]-s.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=P?P[C]:0;(!O||!await(o.isElement==null?void 0:o.isElement(P)))&&(O=l.floating[C]||s.floating[b]);const I=A/2-k/2,B=O/2-y[b]/2-1,K=uu(p[S],B),V=uu(p[N],B),U=K,q=O-y[b]-V,H=O/2-y[b]/2+I,G=ek(U,H,q),se=!c.arrow&&Up(i)!=null&&H!==G&&s.reference[b]/2-(H<U?K:V)-y[b]/2<0,W=se?H<U?H-U:H-q:0;return{[v]:g[v]+W,data:{[v]:G,centerOffset:H-G-W,...se&&{alignmentOffset:W}},reset:se}}}),V0e=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=t,{mainAxis:f=!0,crossAxis:p=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:y=!0,..._}=Ll(e,t);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=Dl(i),N=Pl(l),C=Dl(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=g||(C||!y?[Zb(l)]:$0e(l)),P=b!=="none";!g&&P&&k.push(...B0e(l,y,b,A));const O=[l,...k],I=await dv(t,_),B=[];let K=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&B.push(I[S]),p){const G=D0e(i,o,A);B.push(I[G[0]],I[G[1]])}if(K=[...K,{placement:i,overflows:B}],!B.every(G=>G<=0)){var V,U;const G=(((V=s.flip)==null?void 0:V.index)||0)+1,se=O[G];if(se){var q;const ee=p==="alignment"?N!==Pl(se):!1,X=((q=K[0])==null?void 0:q.overflows[0])>0;if(!ee||X)return{data:{index:G,overflows:K},reset:{placement:se}}}let W=(U=K.filter(ee=>ee.overflows[0]<=0).sort((ee,X)=>ee.overflows[1]-X.overflows[1])[0])==null?void 0:U.placement;if(!W)switch(v){case"bestFit":{var H;const ee=(H=K.filter(X=>{if(P){const ne=Pl(X.placement);return ne===N||ne==="y"}return!0}).map(X=>[X.placement,X.overflows.filter(ne=>ne>0).reduce((ne,J)=>ne+J,0)]).sort((X,ne)=>X[1]-ne[1])[0])==null?void 0:H[0];ee&&(W=ee);break}case"initialPlacement":W=l;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function k3(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function A3(e){return M0e.some(t=>e[t]>=0)}const W0e=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:r}=t,{strategy:n="referenceHidden",...i}=Ll(e,t);switch(n){case"referenceHidden":{const s=await dv(t,{...i,elementContext:"reference"}),o=k3(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A3(o)}}}case"escaped":{const s=await dv(t,{...i,altBoundary:!0}),o=k3(s,r.floating);return{data:{escapedOffsets:o,escaped:A3(o)}}}default:return{}}}}};async function H0e(e,t){const{placement:r,platform:n,elements:i}=e,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Dl(r),l=Up(r),c=Pl(r)==="y",u=["left","top"].includes(o)?-1:1,f=s&&c?-1:1,p=Ll(t,e);let{mainAxis:g,crossAxis:v,alignmentAxis:b}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return l&&typeof b=="number"&&(v=l==="end"?b*-1:b),c?{x:v*f,y:g*u}:{x:g*u,y:v*f}}const K0e=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=t,c=await H0e(t,e);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},G0e=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:i}=t,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:S,y:N}=_;return{x:S,y:N}}},...c}=Ll(e,t),u={x:r,y:n},f=await dv(t,c),p=Pl(Dl(i)),g=HR(p);let v=u[g],b=u[p];if(s){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",N=v+f[_],C=v-f[S];v=ek(N,v,C)}if(o){const _=p==="y"?"top":"left",S=p==="y"?"bottom":"right",N=b+f[_],C=b-f[S];b=ek(N,b,C)}const y=l.fn({...t,[g]:v,[p]:b});return{...y,data:{x:y.x-r,y:y.y-n,enabled:{[g]:s,[p]:o}}}}}},Z0e=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=t,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Ll(e,t),f={x:r,y:n},p=Pl(i),g=HR(p);let v=f[g],b=f[p];const y=Ll(l,t),_=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(c){const C=g==="y"?"height":"width",A=s.reference[g]-s.floating[C]+_.mainAxis,k=s.reference[g]+s.reference[C]-_.mainAxis;v<A?v=A:v>k&&(v=k)}if(u){var S,N;const C=g==="y"?"width":"height",A=["top","left"].includes(Dl(i)),k=s.reference[p]-s.floating[C]+(A&&((S=o.offset)==null?void 0:S[p])||0)+(A?0:_.crossAxis),P=s.reference[p]+s.reference[C]+(A?0:((N=o.offset)==null?void 0:N[p])||0)-(A?_.crossAxis:0);b<k?b=k:b>P&&(b=P)}return{[g]:v,[p]:b}}}},Y0e=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var r,n;const{placement:i,rects:s,platform:o,elements:l}=t,{apply:c=()=>{},...u}=Ll(e,t),f=await dv(t,u),p=Dl(i),g=Up(i),v=Pl(i)==="y",{width:b,height:y}=s.floating;let _,S;p==="top"||p==="bottom"?(_=p,S=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=p,_=g==="end"?"top":"bottom");const N=y-f.top-f.bottom,C=b-f.left-f.right,A=uu(y-f[_],N),k=uu(b-f[S],C),P=!t.middlewareData.shift;let O=A,I=k;if((r=t.middlewareData.shift)!=null&&r.enabled.x&&(I=C),(n=t.middlewareData.shift)!=null&&n.enabled.y&&(O=N),P&&!g){const K=Cs(f.left,0),V=Cs(f.right,0),U=Cs(f.top,0),q=Cs(f.bottom,0);v?I=b-2*(K!==0||V!==0?K+V:Cs(f.left,f.right)):O=y-2*(U!==0||q!==0?U+q:Cs(f.top,f.bottom))}await c({...t,availableWidth:I,availableHeight:O});const B=await o.getDimensions(l.floating);return b!==B.width||y!==B.height?{reset:{rects:!0}}:{}}}};function q_(){return typeof window<"u"}function Vp(e){return qK(e)?(e.nodeName||"").toLowerCase():"#document"}function As(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function zo(e){var t;return(t=(qK(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function qK(e){return q_()?e instanceof Node||e instanceof As(e).Node:!1}function Ga(e){return q_()?e instanceof Element||e instanceof As(e).Element:!1}function Ro(e){return q_()?e instanceof HTMLElement||e instanceof As(e).HTMLElement:!1}function O3(e){return!q_()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof As(e).ShadowRoot}function jy(e){const{overflow:t,overflowX:r,overflowY:n,display:i}=Za(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!["inline","contents"].includes(i)}function X0e(e){return["table","td","th"].includes(Vp(e))}function U_(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ZR(e){const t=YR(),r=Ga(e)?Za(e):e;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function J0e(e){let t=du(e);for(;Ro(t)&&!Qh(t);){if(ZR(t))return t;if(U_(t))return null;t=du(t)}return null}function YR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Qh(e){return["html","body","#document"].includes(Vp(e))}function Za(e){return As(e).getComputedStyle(e)}function V_(e){return Ga(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function du(e){if(Vp(e)==="html")return e;const t=e.assignedSlot||e.parentNode||O3(e)&&e.host||zo(e);return O3(t)?t.host:t}function UK(e){const t=du(e);return Qh(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ro(t)&&jy(t)?t:UK(t)}function fv(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const i=UK(e),s=i===((n=e.ownerDocument)==null?void 0:n.body),o=As(i);if(s){const l=rk(o);return t.concat(o,o.visualViewport||[],jy(i)?i:[],l&&r?fv(l):[])}return t.concat(i,fv(i,[],r))}function rk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function VK(e){const t=Za(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const i=Ro(e),s=i?e.offsetWidth:r,o=i?e.offsetHeight:n,l=Gb(r)!==s||Gb(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function XR(e){return Ga(e)?e:e.contextElement}function Bh(e){const t=XR(e);if(!Ro(t))return Co(1);const r=t.getBoundingClientRect(),{width:n,height:i,$:s}=VK(t);let o=(s?Gb(r.width):r.width)/n,l=(s?Gb(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Q0e=Co(0);function WK(e){const t=As(e);return!YR()||!t.visualViewport?Q0e:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function ebe(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==As(e)?!1:t}function Ld(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const i=e.getBoundingClientRect(),s=XR(e);let o=Co(1);t&&(n?Ga(n)&&(o=Bh(n)):o=Bh(e));const l=ebe(s,r,n)?WK(s):Co(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,f=i.width/o.x,p=i.height/o.y;if(s){const g=As(s),v=n&&Ga(n)?As(n):n;let b=g,y=rk(b);for(;y&&n&&v!==b;){const _=Bh(y),S=y.getBoundingClientRect(),N=Za(y),C=S.left+(y.clientLeft+parseFloat(N.paddingLeft))*_.x,A=S.top+(y.clientTop+parseFloat(N.paddingTop))*_.y;c*=_.x,u*=_.y,f*=_.x,p*=_.y,c+=C,u+=A,b=As(y),y=rk(b)}}return Yb({width:f,height:p,x:c,y:u})}function JR(e,t){const r=V_(e).scrollLeft;return t?t.left+r:Ld(zo(e)).left+r}function HK(e,t,r){r===void 0&&(r=!1);const n=e.getBoundingClientRect(),i=n.left+t.scrollLeft-(r?0:JR(e,n)),s=n.top+t.scrollTop;return{x:i,y:s}}function tbe(e){let{elements:t,rect:r,offsetParent:n,strategy:i}=e;const s=i==="fixed",o=zo(n),l=t?U_(t.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=Co(1);const f=Co(0),p=Ro(n);if((p||!p&&!s)&&((Vp(n)!=="body"||jy(o))&&(c=V_(n)),Ro(n))){const v=Ld(n);u=Bh(n),f.x=v.x+n.clientLeft,f.y=v.y+n.clientTop}const g=o&&!p&&!s?HK(o,c,!0):Co(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function rbe(e){return Array.from(e.getClientRects())}function nbe(e){const t=zo(e),r=V_(e),n=e.ownerDocument.body,i=Cs(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),s=Cs(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+JR(e);const l=-r.scrollTop;return Za(n).direction==="rtl"&&(o+=Cs(t.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function ibe(e,t){const r=As(e),n=zo(e),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=YR();(!u||u&&t==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function sbe(e,t){const r=Ld(e,!0,t==="fixed"),n=r.top+e.clientTop,i=r.left+e.clientLeft,s=Ro(e)?Bh(e):Co(1),o=e.clientWidth*s.x,l=e.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function R3(e,t,r){let n;if(t==="viewport")n=ibe(e,r);else if(t==="document")n=nbe(zo(e));else if(Ga(t))n=sbe(t,r);else{const i=WK(e);n={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Yb(n)}function KK(e,t){const r=du(e);return r===t||!Ga(r)||Qh(r)?!1:Za(r).position==="fixed"||KK(r,t)}function abe(e,t){const r=t.get(e);if(r)return r;let n=fv(e,[],!1).filter(l=>Ga(l)&&Vp(l)!=="body"),i=null;const s=Za(e).position==="fixed";let o=s?du(e):e;for(;Ga(o)&&!Qh(o);){const l=Za(o),c=ZR(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||jy(o)&&!c&&KK(e,o))?n=n.filter(f=>f!==o):i=l,o=du(o)}return t.set(e,n),n}function obe(e){let{element:t,boundary:r,rootBoundary:n,strategy:i}=e;const o=[...r==="clippingAncestors"?U_(t)?[]:abe(t,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const p=R3(t,f,i);return u.top=Cs(p.top,u.top),u.right=uu(p.right,u.right),u.bottom=uu(p.bottom,u.bottom),u.left=Cs(p.left,u.left),u},R3(t,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function lbe(e){const{width:t,height:r}=VK(e);return{width:t,height:r}}function cbe(e,t,r){const n=Ro(t),i=zo(t),s=r==="fixed",o=Ld(e,!0,s,t);let l={scrollLeft:0,scrollTop:0};const c=Co(0);function u(){c.x=JR(i)}if(n||!n&&!s)if((Vp(t)!=="body"||jy(i))&&(l=V_(t)),n){const v=Ld(t,!0,s,t);c.x=v.x+t.clientLeft,c.y=v.y+t.clientTop}else i&&u();s&&!n&&i&&u();const f=i&&!n&&!s?HK(i,l):Co(0),p=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:p,y:g,width:o.width,height:o.height}}function nN(e){return Za(e).position==="static"}function M3(e,t){if(!Ro(e)||Za(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return zo(e)===r&&(r=r.ownerDocument.body),r}function GK(e,t){const r=As(e);if(U_(e))return r;if(!Ro(e)){let i=du(e);for(;i&&!Qh(i);){if(Ga(i)&&!nN(i))return i;i=du(i)}return r}let n=M3(e,t);for(;n&&X0e(n)&&nN(n);)n=M3(n,t);return n&&Qh(n)&&nN(n)&&!ZR(n)?r:n||J0e(e)||r}const ube=async function(e){const t=this.getOffsetParent||GK,r=this.getDimensions,n=await r(e.floating);return{reference:cbe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function dbe(e){return Za(e).direction==="rtl"}const fbe={convertOffsetParentRelativeRectToViewportRelativeRect:tbe,getDocumentElement:zo,getClippingRect:obe,getOffsetParent:GK,getElementRects:ube,getClientRects:rbe,getDimensions:lbe,getScale:Bh,isElement:Ga,isRTL:dbe};function ZK(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function hbe(e,t){let r=null,n;const i=zo(e);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=e.getBoundingClientRect(),{left:f,top:p,width:g,height:v}=u;if(l||t(),!g||!v)return;const b=T0(p),y=T0(i.clientWidth-(f+g)),_=T0(i.clientHeight-(p+v)),S=T0(f),C={rootMargin:-b+"px "+-y+"px "+-_+"px "+-S+"px",threshold:Cs(0,uu(1,c))||1};let A=!0;function k(P){const O=P[0].intersectionRatio;if(O!==c){if(!A)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!ZK(u,e.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(k,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,C)}r.observe(e)}return o(!0),s}function Sy(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=XR(e),f=i||s?[...u?fv(u):[],...fv(t)]:[];f.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const p=u&&l?hbe(u,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(S=>{let[N]=S;N&&N.target===u&&v&&(v.unobserve(t),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(t)})),r()}),u&&!c&&v.observe(u),v.observe(t));let b,y=c?Ld(e):null;c&&_();function _(){const S=Ld(e);y&&!ZK(y,S)&&r(),y=S,b=requestAnimationFrame(_)}return r(),()=>{var S;f.forEach(N=>{i&&N.removeEventListener("scroll",r),s&&N.removeEventListener("resize",r)}),p?.(),(S=v)==null||S.disconnect(),v=null,c&&cancelAnimationFrame(b)}}const pbe=K0e,mbe=G0e,gbe=V0e,vbe=Y0e,ybe=W0e,I3=U0e,xbe=Z0e,bbe=(e,t,r)=>{const n=new Map,i={platform:fbe,...r},s={...i.platform,_c:n};return q0e(e,t,{...i,platform:s})};var db=typeof document<"u"?x.useLayoutEffect:x.useEffect;function Xb(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let r,n,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(r=e.length,r!==t.length)return!1;for(n=r;n--!==0;)if(!Xb(e[n],t[n]))return!1;return!0}if(i=Object.keys(e),r=i.length,r!==Object.keys(t).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(t,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&e.$$typeof)&&!Xb(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function YK(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function L3(e,t){const r=YK(e);return Math.round(t*r)/r}function iN(e){const t=x.useRef(e);return db(()=>{t.current=e}),t}function Ny(e){e===void 0&&(e={});const{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=e,[f,p]=x.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[g,v]=x.useState(n);Xb(g,n)||v(n);const[b,y]=x.useState(null),[_,S]=x.useState(null),N=x.useCallback(ee=>{ee!==P.current&&(P.current=ee,y(ee))},[]),C=x.useCallback(ee=>{ee!==O.current&&(O.current=ee,S(ee))},[]),A=s||b,k=o||_,P=x.useRef(null),O=x.useRef(null),I=x.useRef(f),B=c!=null,K=iN(c),V=iN(i),U=iN(u),q=x.useCallback(()=>{if(!P.current||!O.current)return;const ee={placement:t,strategy:r,middleware:g};V.current&&(ee.platform=V.current),bbe(P.current,O.current,ee).then(X=>{const ne={...X,isPositioned:U.current!==!1};H.current&&!Xb(I.current,ne)&&(I.current=ne,Ya.flushSync(()=>{p(ne)}))})},[g,t,r,V,U]);db(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,p(ee=>({...ee,isPositioned:!1})))},[u]);const H=x.useRef(!1);db(()=>(H.current=!0,()=>{H.current=!1}),[]),db(()=>{if(A&&(P.current=A),k&&(O.current=k),A&&k){if(K.current)return K.current(A,k,q);q()}},[A,k,q,K,B]);const G=x.useMemo(()=>({reference:P,floating:O,setReference:N,setFloating:C}),[N,C]),se=x.useMemo(()=>({reference:A,floating:k}),[A,k]),W=x.useMemo(()=>{const ee={position:r,left:0,top:0};if(!se.floating)return ee;const X=L3(se.floating,f.x),ne=L3(se.floating,f.y);return l?{...ee,transform:"translate("+X+"px, "+ne+"px)",...YK(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:ne}},[r,l,se.floating,f.x,f.y]);return x.useMemo(()=>({...f,update:q,refs:G,elements:se,floatingStyles:W}),[f,q,G,se,W])}const wbe=e=>{function t(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:e,fn(r){const{element:n,padding:i}=typeof e=="function"?e(r):e;return n&&t(n)?n.current!=null?I3({element:n.current,padding:i}).fn(r):{}:n?I3({element:n,padding:i}).fn(r):{}}}},Cy=(e,t)=>({...pbe(e),options:[e,t]}),Ey=(e,t)=>({...mbe(e),options:[e,t]}),Py=(e,t)=>({...xbe(e),options:[e,t]}),Ty=(e,t)=>({...gbe(e),options:[e,t]}),ky=(e,t)=>({...vbe(e),options:[e,t]}),Ay=(e,t)=>({...ybe(e),options:[e,t]}),Oy=(e,t)=>({...wbe(e),options:[e,t]});var _be="Arrow",XK=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(er.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});XK.displayName=_be;var jbe=XK,QR="Popper",[JK,QK]=Ir(QR),[Sbe,eG]=JK(QR),tG=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(Sbe,{scope:t,anchor:n,onAnchorChange:i,children:r})};tG.displayName=QR;var rG="PopperAnchor",nG=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=eG(rG,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(er.div,{...i,ref:l})});nG.displayName=rG;var eM="PopperContent",[Nbe,Cbe]=JK(eM),iG=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=e,_=eG(eM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[A,k]=x.useState(null),P=Jd(A),O=P?.width??0,I=P?.height??0,B=n+(s!=="center"?"-"+s:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,q={padding:K,boundary:V.filter(Pbe),altBoundary:U},{refs:H,floatingStyles:G,placement:se,isPositioned:W,middlewareData:ee}=Ny({strategy:"fixed",placement:B,whileElementsMounted:(...ae)=>Sy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Cy({mainAxis:i+I,alignmentAxis:o}),c&&Ey({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Py():void 0,...q}),c&&Ty({...q}),ky({...q,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:Y}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Oy({element:A,padding:l}),Tbe({arrowWidth:O,arrowHeight:I}),g&&Ay({strategy:"referenceHidden",...q})]}),[X,ne]=oG(se),J=fr(b);or(()=>{W&&J?.()},[W,J]);const oe=ee.arrow?.x,be=ee.arrow?.y,Ce=ee.arrow?.centerOffset!==0,[Le,ce]=x.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Nbe,{scope:r,placedSide:X,onArrowChange:k,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(er.div,{"data-side":X,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});iG.displayName=eM;var sG="PopperArrow",Ebe={top:"bottom",right:"left",bottom:"top",left:"right"},aG=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=Cbe(sG,n),o=Ebe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(jbe,{...i,ref:r,style:{...i.style,display:"block"}})})});aG.displayName=sG;function Pbe(e){return e!==null}var Tbe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=oG(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let b="",y="";return u==="bottom"?(b=o?p:`${g}px`,y=`${-c}px`):u==="top"?(b=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:b,y}}}});function oG(e){const[t,r="center"]=e.split("-");return[t,r]}var kbe=tG,Abe=nG,Obe=iG,Rbe=aG,sN="rovingFocusGroup.onEntryFocus",Mbe={bubbles:!1,cancelable:!0},Ry="RovingFocusGroup",[nk,lG,Ibe]=WR(Ry),[Lbe,cG]=Ir(Ry,[Ibe]),[Dbe,$be]=Lbe(Ry),uG=x.forwardRef((e,t)=>a.jsx(nk.Provider,{scope:e.__scopeRovingFocusGroup,children:a.jsx(nk.Slot,{scope:e.__scopeRovingFocusGroup,children:a.jsx(Fbe,{...e,ref:t})})}));uG.displayName=Ry;var Fbe=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:f=!1,...p}=e,g=x.useRef(null),v=at(t,g),b=Fp(s),[y,_]=ns({prop:o,defaultProp:l??null,onChange:c,caller:Ry}),[S,N]=x.useState(!1),C=fr(u),A=lG(r),k=x.useRef(!1),[P,O]=x.useState(0);return x.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(sN,C),()=>I.removeEventListener(sN,C)},[C]),a.jsx(Dbe,{scope:r,orientation:n,dir:b,loop:i,currentTabStopId:y,onItemFocus:x.useCallback(I=>_(I),[_]),onItemShiftTab:x.useCallback(()=>N(!0),[]),onFocusableItemAdd:x.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:x.useCallback(()=>O(I=>I-1),[]),children:a.jsx(er.div,{tabIndex:S||P===0?-1:0,"data-orientation":n,...p,ref:v,style:{outline:"none",...e.style},onMouseDown:Ve(e.onMouseDown,()=>{k.current=!0}),onFocus:Ve(e.onFocus,I=>{const B=!k.current;if(I.target===I.currentTarget&&B&&!S){const K=new CustomEvent(sN,Mbe);if(I.currentTarget.dispatchEvent(K),!K.defaultPrevented){const V=A().filter(se=>se.focusable),U=V.find(se=>se.active),q=V.find(se=>se.id===y),G=[U,q,...V].filter(Boolean).map(se=>se.ref.current);hG(G,f)}}k.current=!1}),onBlur:Ve(e.onBlur,()=>N(!1))})})}),dG="RovingFocusGroupItem",fG=x.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=e,c=rs(),u=s||c,f=$be(dG,r),p=f.currentTabStopId===u,g=lG(r),{onFocusableItemAdd:v,onFocusableItemRemove:b,currentTabStopId:y}=f;return x.useEffect(()=>{if(n)return v(),()=>b()},[n,v,b]),a.jsx(nk.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(er.span,{tabIndex:p?0:-1,"data-orientation":f.orientation,...l,ref:t,onMouseDown:Ve(e.onMouseDown,_=>{n?f.onItemFocus(u):_.preventDefault()}),onFocus:Ve(e.onFocus,()=>f.onItemFocus(u)),onKeyDown:Ve(e.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){f.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=qbe(_,f.orientation,f.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=f.loop?Ube(C,A+1):C.slice(A+1)}setTimeout(()=>hG(C))}}),children:typeof o=="function"?o({isCurrentTabStop:p,hasTabStop:y!=null}):o})})});fG.displayName=dG;var Bbe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function zbe(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function qbe(e,t,r){const n=zbe(e.key,r);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Bbe[n]}function hG(e,t=!1){const r=document.activeElement;for(const n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}function Ube(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Vbe=uG,Wbe=fG,ik=["Enter"," "],Hbe=["ArrowDown","PageUp","Home"],pG=["ArrowUp","PageDown","End"],Kbe=[...Hbe,...pG],Gbe={ltr:[...ik,"ArrowRight"],rtl:[...ik,"ArrowLeft"]},Zbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},My="Menu",[hv,Ybe,Xbe]=WR(My),[Qd,mG]=Ir(My,[Xbe,QK,cG]),W_=QK(),gG=cG(),[Jbe,ef]=Qd(My),[Qbe,Iy]=Qd(My),vG=e=>{const{__scopeMenu:t,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=e,l=W_(t),[c,u]=x.useState(null),f=x.useRef(!1),p=fr(s),g=Fp(i);return x.useEffect(()=>{const v=()=>{f.current=!0,document.addEventListener("pointerdown",b,{capture:!0,once:!0}),document.addEventListener("pointermove",b,{capture:!0,once:!0})},b=()=>f.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",b,{capture:!0}),document.removeEventListener("pointermove",b,{capture:!0})}},[]),a.jsx(kbe,{...l,children:a.jsx(Jbe,{scope:t,open:r,onOpenChange:p,content:c,onContentChange:u,children:a.jsx(Qbe,{scope:t,onClose:x.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:f,dir:g,modal:o,children:n})})})};vG.displayName=My;var ewe="MenuAnchor",tM=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=W_(r);return a.jsx(Abe,{...i,...n,ref:t})});tM.displayName=ewe;var rM="MenuPortal",[twe,yG]=Qd(rM,{forceMount:void 0}),xG=e=>{const{__scopeMenu:t,forceMount:r,children:n,container:i}=e,s=ef(rM,t);return a.jsx(twe,{scope:t,forceMount:r,children:a.jsx(ss,{present:r||s.open,children:a.jsx(D_,{asChild:!0,container:i,children:n})})})};xG.displayName=rM;var oa="MenuContent",[rwe,nM]=Qd(oa),bG=x.forwardRef((e,t)=>{const r=yG(oa,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=ef(oa,e.__scopeMenu),o=Iy(oa,e.__scopeMenu);return a.jsx(hv.Provider,{scope:e.__scopeMenu,children:a.jsx(ss,{present:n||s.open,children:a.jsx(hv.Slot,{scope:e.__scopeMenu,children:o.modal?a.jsx(nwe,{...i,ref:t}):a.jsx(iwe,{...i,ref:t})})})})}),nwe=x.forwardRef((e,t)=>{const r=ef(oa,e.__scopeMenu),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return F_(s)},[]),a.jsx(iM,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ve(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),iwe=x.forwardRef((e,t)=>{const r=ef(oa,e.__scopeMenu);return a.jsx(iM,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),swe=Jh("MenuContent.ScrollLock"),iM=x.forwardRef((e,t)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,disableOutsideScroll:b,...y}=e,_=ef(oa,r),S=Iy(oa,r),N=W_(r),C=gG(r),A=Ybe(r),[k,P]=x.useState(null),O=x.useRef(null),I=at(t,O,_.onContentChange),B=x.useRef(0),K=x.useRef(""),V=x.useRef(0),U=x.useRef(null),q=x.useRef("right"),H=x.useRef(0),G=b?_y:x.Fragment,se=b?{as:swe,allowPinchZoom:!0}:void 0,W=X=>{const ne=K.current+X,J=A().filter(ae=>!ae.disabled),oe=document.activeElement,be=J.find(ae=>ae.ref.current===oe)?.textValue,Ce=J.map(ae=>ae.textValue),Le=vwe(Ce,ne,be),ce=J.find(ae=>ae.textValue===Le)?.ref.current;(function ae(ge){K.current=ge,window.clearTimeout(B.current),ge!==""&&(B.current=window.setTimeout(()=>ae(""),1e3))})(ne),ce&&setTimeout(()=>ce.focus())};x.useEffect(()=>()=>window.clearTimeout(B.current),[]),PR();const ee=x.useCallback(X=>q.current===U.current?.side&&xwe(X,U.current?.area),[]);return a.jsx(rwe,{scope:r,searchRef:K,onItemEnter:x.useCallback(X=>{ee(X)&&X.preventDefault()},[ee]),onItemLeave:x.useCallback(X=>{ee(X)||(O.current?.focus(),P(null))},[ee]),onTriggerLeave:x.useCallback(X=>{ee(X)&&X.preventDefault()},[ee]),pointerGraceTimerRef:V,onPointerGraceIntentChange:x.useCallback(X=>{U.current=X},[]),children:a.jsx(G,{...se,children:a.jsx(ER,{asChild:!0,trapped:i,onMountAutoFocus:Ve(s,X=>{X.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(L_,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:f,onFocusOutside:p,onInteractOutside:g,onDismiss:v,children:a.jsx(Vbe,{asChild:!0,...C,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:P,onEntryFocus:Ve(c,X=>{S.isUsingKeyboardRef.current||X.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(Obe,{role:"menu","aria-orientation":"vertical","data-state":LG(_.open),"data-radix-menu-content":"",dir:S.dir,...N,...y,ref:I,style:{outline:"none",...y.style},onKeyDown:Ve(y.onKeyDown,X=>{const J=X.target.closest("[data-radix-menu-content]")===X.currentTarget,oe=X.ctrlKey||X.altKey||X.metaKey,be=X.key.length===1;J&&(X.key==="Tab"&&X.preventDefault(),!oe&&be&&W(X.key));const Ce=O.current;if(X.target!==Ce||!Kbe.includes(X.key))return;X.preventDefault();const ce=A().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);pG.includes(X.key)&&ce.reverse(),mwe(ce)}),onBlur:Ve(e.onBlur,X=>{X.currentTarget.contains(X.target)||(window.clearTimeout(B.current),K.current="")}),onPointerMove:Ve(e.onPointerMove,pv(X=>{const ne=X.target,J=H.current!==X.clientX;if(X.currentTarget.contains(ne)&&J){const oe=X.clientX>H.current?"right":"left";q.current=oe,H.current=X.clientX}}))})})})})})})});bG.displayName=oa;var awe="MenuGroup",sM=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{role:"group",...n,ref:t})});sM.displayName=awe;var owe="MenuLabel",wG=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});wG.displayName=owe;var Jb="MenuItem",D3="menu.itemSelect",H_=x.forwardRef((e,t)=>{const{disabled:r=!1,onSelect:n,...i}=e,s=x.useRef(null),o=Iy(Jb,e.__scopeMenu),l=nM(Jb,e.__scopeMenu),c=at(t,s),u=x.useRef(!1),f=()=>{const p=s.current;if(!r&&p){const g=new CustomEvent(D3,{bubbles:!0,cancelable:!0});p.addEventListener(D3,v=>n?.(v),{once:!0}),gR(p,g),g.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(_G,{...i,ref:c,disabled:r,onClick:Ve(e.onClick,f),onPointerDown:p=>{e.onPointerDown?.(p),u.current=!0},onPointerUp:Ve(e.onPointerUp,p=>{u.current||p.currentTarget?.click()}),onKeyDown:Ve(e.onKeyDown,p=>{const g=l.searchRef.current!=="";r||g&&p.key===" "||ik.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});H_.displayName=Jb;var _G=x.forwardRef((e,t)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=e,o=nM(Jb,r),l=gG(r),c=x.useRef(null),u=at(t,c),[f,p]=x.useState(!1),[g,v]=x.useState("");return x.useEffect(()=>{const b=c.current;b&&v((b.textContent??"").trim())},[s.children]),a.jsx(hv.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:a.jsx(Wbe,{asChild:!0,...l,focusable:!n,children:a.jsx(er.div,{role:"menuitem","data-highlighted":f?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ve(e.onPointerMove,pv(b=>{n?o.onItemLeave(b):(o.onItemEnter(b),b.defaultPrevented||b.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ve(e.onPointerLeave,pv(b=>o.onItemLeave(b))),onFocus:Ve(e.onFocus,()=>p(!0)),onBlur:Ve(e.onBlur,()=>p(!1))})})})}),lwe="MenuCheckboxItem",jG=x.forwardRef((e,t)=>{const{checked:r=!1,onCheckedChange:n,...i}=e;return a.jsx(PG,{scope:e.__scopeMenu,checked:r,children:a.jsx(H_,{role:"menuitemcheckbox","aria-checked":Qb(r)?"mixed":r,...i,ref:t,"data-state":oM(r),onSelect:Ve(i.onSelect,()=>n?.(Qb(r)?!0:!r),{checkForDefaultPrevented:!1})})})});jG.displayName=lwe;var SG="MenuRadioGroup",[cwe,uwe]=Qd(SG,{value:void 0,onValueChange:()=>{}}),NG=x.forwardRef((e,t)=>{const{value:r,onValueChange:n,...i}=e,s=fr(n);return a.jsx(cwe,{scope:e.__scopeMenu,value:r,onValueChange:s,children:a.jsx(sM,{...i,ref:t})})});NG.displayName=SG;var CG="MenuRadioItem",EG=x.forwardRef((e,t)=>{const{value:r,...n}=e,i=uwe(CG,e.__scopeMenu),s=r===i.value;return a.jsx(PG,{scope:e.__scopeMenu,checked:s,children:a.jsx(H_,{role:"menuitemradio","aria-checked":s,...n,ref:t,"data-state":oM(s),onSelect:Ve(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});EG.displayName=CG;var aM="MenuItemIndicator",[PG,dwe]=Qd(aM,{checked:!1}),TG=x.forwardRef((e,t)=>{const{__scopeMenu:r,forceMount:n,...i}=e,s=dwe(aM,r);return a.jsx(ss,{present:n||Qb(s.checked)||s.checked===!0,children:a.jsx(er.span,{...i,ref:t,"data-state":oM(s.checked)})})});TG.displayName=aM;var fwe="MenuSeparator",kG=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e;return a.jsx(er.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});kG.displayName=fwe;var hwe="MenuArrow",AG=x.forwardRef((e,t)=>{const{__scopeMenu:r,...n}=e,i=W_(r);return a.jsx(Rbe,{...i,...n,ref:t})});AG.displayName=hwe;var pwe="MenuSub",[Oze,OG]=Qd(pwe),Pg="MenuSubTrigger",RG=x.forwardRef((e,t)=>{const r=ef(Pg,e.__scopeMenu),n=Iy(Pg,e.__scopeMenu),i=OG(Pg,e.__scopeMenu),s=nM(Pg,e.__scopeMenu),o=x.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:e.__scopeMenu},f=x.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return x.useEffect(()=>f,[f]),x.useEffect(()=>{const p=l.current;return()=>{window.clearTimeout(p),c(null)}},[l,c]),a.jsx(tM,{asChild:!0,...u,children:a.jsx(_G,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":LG(r.open),...e,ref:Ls(t,i.onTriggerChange),onClick:p=>{e.onClick?.(p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ve(e.onPointerMove,pv(p=>{s.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),f()},100))})),onPointerLeave:Ve(e.onPointerLeave,pv(p=>{f();const g=r.content?.getBoundingClientRect();if(g){const v=r.content?.dataset.side,b=v==="right",y=b?-5:5,_=g[b?"left":"right"],S=g[b?"right":"left"];s.onPointerGraceIntentChange({area:[{x:p.clientX+y,y:p.clientY},{x:_,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:_,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(p),p.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ve(e.onKeyDown,p=>{const g=s.searchRef.current!=="";e.disabled||g&&p.key===" "||Gbe[n.dir].includes(p.key)&&(r.onOpenChange(!0),r.content?.focus(),p.preventDefault())})})})});RG.displayName=Pg;var MG="MenuSubContent",IG=x.forwardRef((e,t)=>{const r=yG(oa,e.__scopeMenu),{forceMount:n=r.forceMount,...i}=e,s=ef(oa,e.__scopeMenu),o=Iy(oa,e.__scopeMenu),l=OG(MG,e.__scopeMenu),c=x.useRef(null),u=at(t,c);return a.jsx(hv.Provider,{scope:e.__scopeMenu,children:a.jsx(ss,{present:n||s.open,children:a.jsx(hv.Slot,{scope:e.__scopeMenu,children:a.jsx(iM,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:f=>{o.isUsingKeyboardRef.current&&c.current?.focus(),f.preventDefault()},onCloseAutoFocus:f=>f.preventDefault(),onFocusOutside:Ve(e.onFocusOutside,f=>{f.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ve(e.onEscapeKeyDown,f=>{o.onClose(),f.preventDefault()}),onKeyDown:Ve(e.onKeyDown,f=>{const p=f.currentTarget.contains(f.target),g=Zbe[o.dir].includes(f.key);p&&g&&(s.onOpenChange(!1),l.trigger?.focus(),f.preventDefault())})})})})})});IG.displayName=MG;function LG(e){return e?"open":"closed"}function Qb(e){return e==="indeterminate"}function oM(e){return Qb(e)?"indeterminate":e?"checked":"unchecked"}function mwe(e){const t=document.activeElement;for(const r of e)if(r===t||(r.focus(),document.activeElement!==t))return}function gwe(e,t){return e.map((r,n)=>e[(t+n)%e.length])}function vwe(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=gwe(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function ywe(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function xwe(e,t){if(!t)return!1;const r={x:e.clientX,y:e.clientY};return ywe(r,t)}function pv(e){return t=>t.pointerType==="mouse"?e(t):void 0}var bwe=vG,wwe=tM,_we=xG,jwe=bG,Swe=sM,Nwe=wG,Cwe=H_,Ewe=jG,Pwe=NG,Twe=EG,kwe=TG,Awe=kG,Owe=AG,Rwe=RG,Mwe=IG,K_="DropdownMenu",[Iwe,Rze]=Ir(K_,[mG]),zi=mG(),[Lwe,DG]=Iwe(K_),$G=e=>{const{__scopeDropdownMenu:t,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,c=zi(t),u=x.useRef(null),[f,p]=ns({prop:i,defaultProp:s??!1,onChange:o,caller:K_});return a.jsx(Lwe,{scope:t,triggerId:rs(),triggerRef:u,contentId:rs(),open:f,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(g=>!g),[p]),modal:l,children:a.jsx(bwe,{...c,open:f,onOpenChange:p,dir:n,modal:l,children:r})})};$G.displayName=K_;var FG="DropdownMenuTrigger",BG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=e,s=DG(FG,r),o=zi(r);return a.jsx(wwe,{asChild:!0,...o,children:a.jsx(er.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:Ls(t,s.triggerRef),onPointerDown:Ve(e.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ve(e.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});BG.displayName=FG;var Dwe="DropdownMenuPortal",zG=e=>{const{__scopeDropdownMenu:t,...r}=e,n=zi(t);return a.jsx(_we,{...n,...r})};zG.displayName=Dwe;var qG="DropdownMenuContent",UG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=DG(qG,r),s=zi(r),o=x.useRef(!1);return a.jsx(jwe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:t,onCloseAutoFocus:Ve(e.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ve(e.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,f=c.button===2||u;(!i.modal||f)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});UG.displayName=qG;var $we="DropdownMenuGroup",Fwe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Swe,{...i,...n,ref:t})});Fwe.displayName=$we;var Bwe="DropdownMenuLabel",VG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Nwe,{...i,...n,ref:t})});VG.displayName=Bwe;var zwe="DropdownMenuItem",WG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Cwe,{...i,...n,ref:t})});WG.displayName=zwe;var qwe="DropdownMenuCheckboxItem",HG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Ewe,{...i,...n,ref:t})});HG.displayName=qwe;var Uwe="DropdownMenuRadioGroup",Vwe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Pwe,{...i,...n,ref:t})});Vwe.displayName=Uwe;var Wwe="DropdownMenuRadioItem",KG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Twe,{...i,...n,ref:t})});KG.displayName=Wwe;var Hwe="DropdownMenuItemIndicator",GG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(kwe,{...i,...n,ref:t})});GG.displayName=Hwe;var Kwe="DropdownMenuSeparator",ZG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Awe,{...i,...n,ref:t})});ZG.displayName=Kwe;var Gwe="DropdownMenuArrow",Zwe=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Owe,{...i,...n,ref:t})});Zwe.displayName=Gwe;var Ywe="DropdownMenuSubTrigger",YG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Rwe,{...i,...n,ref:t})});YG.displayName=Ywe;var Xwe="DropdownMenuSubContent",XG=x.forwardRef((e,t)=>{const{__scopeDropdownMenu:r,...n}=e,i=zi(r);return a.jsx(Mwe,{...i,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XG.displayName=Xwe;var Jwe=$G,Qwe=BG,e_e=zG,JG=UG,QG=VG,eZ=WG,tZ=HG,rZ=KG,nZ=GG,iZ=ZG,sZ=YG,aZ=XG;const tf=Jwe,rf=Qwe,t_e=x.forwardRef(({className:e,inset:t,children:r,...n},i)=>a.jsxs(sZ,{ref:i,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",t&&"pl-8",e),...n,children:[r,a.jsx(Ha,{className:"ml-auto h-4 w-4"})]}));t_e.displayName=sZ.displayName;const r_e=x.forwardRef(({className:e,...t},r)=>a.jsx(aZ,{ref:r,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...t}));r_e.displayName=aZ.displayName;const vu=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(e_e,{children:a.jsx(JG,{ref:n,sideOffset:t,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r})}));vu.displayName=JG.displayName;const xr=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(eZ,{ref:n,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t&&"pl-8",e),...r}));xr.displayName=eZ.displayName;const n_e=x.forwardRef(({className:e,children:t,checked:r,...n},i)=>a.jsxs(tZ,{ref:i,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nZ,{children:a.jsx(lv,{className:"h-4 w-4"})})}),t]}));n_e.displayName=tZ.displayName;const i_e=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(rZ,{ref:n,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(nZ,{children:a.jsx(Yue,{className:"h-2 w-2 fill-current"})})}),t]}));i_e.displayName=rZ.displayName;const s_e=x.forwardRef(({className:e,inset:t,...r},n)=>a.jsx(QG,{ref:n,className:qe("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...r}));s_e.displayName=QG.displayName;const Wp=x.forwardRef(({className:e,...t},r)=>a.jsx(iZ,{ref:r,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));Wp.displayName=iZ.displayName;const a_e=x.createContext({}),G_=()=>{const e=x.useContext(a_e),t=x.useContext(oZ),{getFieldState:r,formState:n}=Dve(),i=r(e.name,n);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},oZ=x.createContext({}),o_e=x.forwardRef(({className:e,...t},r)=>{const n=x.useId();return a.jsx(oZ.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:qe("space-y-2",e),...t})})});o_e.displayName="FormItem";const l_e=x.forwardRef(({className:e,...t},r)=>{const{error:n,formItemId:i}=G_();return a.jsx(rt,{ref:r,className:qe(n&&"text-destructive",e),htmlFor:i,...t})});l_e.displayName="FormLabel";const c_e=x.forwardRef(({...e},t)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=G_();return a.jsx(K7,{ref:t,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...e})});c_e.displayName="FormControl";const u_e=x.forwardRef(({className:e,...t},r)=>{const{formDescriptionId:n}=G_();return a.jsx("p",{ref:r,id:n,className:qe("text-sm text-muted-foreground",e),...t})});u_e.displayName="FormDescription";const d_e=x.forwardRef(({className:e,children:t,...r},n)=>{const{error:i,formMessageId:s}=G_(),o=i?String(i?.message):t;return o?a.jsx("p",{ref:n,id:s,className:qe("text-sm font-medium text-destructive",e),...r,children:o}):null});d_e.displayName="FormMessage";function f_e(e){const t=h_e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(m_e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function h_e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=v_e(i),l=g_e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var p_e=Symbol("radix.slottable");function m_e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===p_e}function g_e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function v_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var y_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hp=y_e.reduce((e,t)=>{const r=f_e(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function x_e(e,t){e&&Ya.flushSync(()=>e.dispatchEvent(t))}var b_e="Arrow",lZ=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Hp.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});lZ.displayName=b_e;var w_e=lZ,cZ="Popper",[uZ,dZ]=Ir(cZ),[Mze,fZ]=uZ(cZ),hZ="PopperAnchor",pZ=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=fZ(hZ,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Hp.div,{...i,ref:l})});pZ.displayName=hZ;var lM="PopperContent",[__e,j_e]=uZ(lM),mZ=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=e,_=fZ(lM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[A,k]=x.useState(null),P=Jd(A),O=P?.width??0,I=P?.height??0,B=n+(s!=="center"?"-"+s:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,q={padding:K,boundary:V.filter(N_e),altBoundary:U},{refs:H,floatingStyles:G,placement:se,isPositioned:W,middlewareData:ee}=Ny({strategy:"fixed",placement:B,whileElementsMounted:(...ae)=>Sy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Cy({mainAxis:i+I,alignmentAxis:o}),c&&Ey({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Py():void 0,...q}),c&&Ty({...q}),ky({...q,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:Y}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Oy({element:A,padding:l}),C_e({arrowWidth:O,arrowHeight:I}),g&&Ay({strategy:"referenceHidden",...q})]}),[X,ne]=yZ(se),J=fr(b);or(()=>{W&&J?.()},[W,J]);const oe=ee.arrow?.x,be=ee.arrow?.y,Ce=ee.arrow?.centerOffset!==0,[Le,ce]=x.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(__e,{scope:r,placedSide:X,onArrowChange:k,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(Hp.div,{"data-side":X,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});mZ.displayName=lM;var gZ="PopperArrow",S_e={top:"bottom",right:"left",bottom:"top",left:"right"},vZ=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=j_e(gZ,n),o=S_e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(w_e,{...i,ref:r,style:{...i.style,display:"block"}})})});vZ.displayName=gZ;function N_e(e){return e!==null}var C_e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=yZ(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let b="",y="";return u==="bottom"?(b=o?p:`${g}px`,y=`${-c}px`):u==="top"?(b=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:b,y}}}});function yZ(e){const[t,r="center"]=e.split("-");return[t,r]}var E_e=pZ,P_e=mZ,T_e=vZ,k_e="DismissableLayer",sk="dismissableLayer.update",A_e="dismissableLayer.pointerDownOutside",O_e="dismissableLayer.focusOutside",$3,xZ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bZ=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(xZ),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),b=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=I_e(O=>{const I=O.target,B=[...u.branches].some(K=>K.contains(I));!A||B||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=L_e(O=>{const I=O.target;[...u.branches].some(K=>K.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return wy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),F3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=$3)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),F3())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(sk,O),()=>document.removeEventListener(sk,O)},[]),a.jsx(Hp.div,{...c,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,k.onPointerDownCapture)})});bZ.displayName=k_e;var R_e="DismissableLayerBranch",M_e=x.forwardRef((e,t)=>{const r=x.useContext(xZ),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Hp.div,{...e,ref:i})});M_e.displayName=R_e;function I_e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){wZ(A_e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function L_e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&wZ(O_e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function F3(){const e=new CustomEvent(sk);document.dispatchEvent(e)}function wZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?x_e(i,s):i.dispatchEvent(s)}var aN,_Z="HoverCard",[jZ,Ize]=Ir(_Z,[dZ]),cM=dZ(),[Lze,uM]=jZ(_Z),SZ="HoverCardTrigger",D_e=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,i=uM(SZ,r),s=cM(r);return a.jsx(E_e,{asChild:!0,...s,children:a.jsx(Hp.a,{"data-state":i.open?"open":"closed",...n,ref:t,onPointerEnter:Ve(e.onPointerEnter,tw(i.onOpen)),onPointerLeave:Ve(e.onPointerLeave,tw(i.onClose)),onFocus:Ve(e.onFocus,i.onOpen),onBlur:Ve(e.onBlur,i.onClose),onTouchStart:Ve(e.onTouchStart,o=>o.preventDefault())})})});D_e.displayName=SZ;var $_e="HoverCardPortal",[Dze,F_e]=jZ($_e,{forceMount:void 0}),ew="HoverCardContent",NZ=x.forwardRef((e,t)=>{const r=F_e(ew,e.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=e,s=uM(ew,e.__scopeHoverCard);return a.jsx(ss,{present:n||s.open,children:a.jsx(B_e,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Ve(e.onPointerEnter,tw(s.onOpen)),onPointerLeave:Ve(e.onPointerLeave,tw(s.onClose)),ref:t})})});NZ.displayName=ew;var B_e=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...l}=e,c=uM(ew,r),u=cM(r),f=x.useRef(null),p=at(t,f),[g,v]=x.useState(!1);return x.useEffect(()=>{if(g){const b=document.body;return aN=b.style.userSelect||b.style.webkitUserSelect,b.style.userSelect="none",b.style.webkitUserSelect="none",()=>{b.style.userSelect=aN,b.style.webkitUserSelect=aN}}},[g]),x.useEffect(()=>{if(f.current){const b=()=>{v(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",b),()=>{document.removeEventListener("pointerup",b),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),x.useEffect(()=>{f.current&&U_e(f.current).forEach(y=>y.setAttribute("tabindex","-1"))}),a.jsx(bZ,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:Ve(s,b=>{b.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(P_e,{...u,...l,onPointerDown:Ve(l.onPointerDown,b=>{b.currentTarget.contains(b.target)&&v(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:p,style:{...l.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),z_e="HoverCardArrow",q_e=x.forwardRef((e,t)=>{const{__scopeHoverCard:r,...n}=e,i=cM(r);return a.jsx(T_e,{...i,...n,ref:t})});q_e.displayName=z_e;function tw(e){return t=>t.pointerType==="touch"?void 0:e()}function U_e(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)t.push(r.currentNode);return t}var CZ=NZ;const V_e=Q.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>a.jsx(CZ,{ref:i,align:t,sideOffset:r,className:qe("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));V_e.displayName=CZ.displayName;function tu(e,t,{checkForDefaultPrevented:r=!0}={}){return function(i){if(e?.(i),r===!1||!i.defaultPrevented)return t?.(i)}}function EZ(e){const t=W_e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(K_e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function W_e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=Z_e(i),l=G_e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var H_e=Symbol("radix.slottable");function K_e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===H_e}function G_e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function Z_e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var Y_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Wl=Y_e.reduce((e,t)=>{const r=EZ(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function X_e(e,t){e&&Ya.flushSync(()=>e.dispatchEvent(t))}var J_e="DismissableLayer",ak="dismissableLayer.update",Q_e="dismissableLayer.pointerDownOutside",e1e="dismissableLayer.focusOutside",B3,PZ=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),TZ=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(PZ),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),b=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=n1e(O=>{const I=O.target,B=[...u.branches].some(K=>K.contains(I));!A||B||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=i1e(O=>{const I=O.target;[...u.branches].some(K=>K.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return wy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(B3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),z3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=B3)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),z3())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(ak,O),()=>document.removeEventListener(ak,O)},[]),a.jsx(Wl.div,{...c,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:tu(e.onFocusCapture,P.onFocusCapture),onBlurCapture:tu(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:tu(e.onPointerDownCapture,k.onPointerDownCapture)})});TZ.displayName=J_e;var t1e="DismissableLayerBranch",r1e=x.forwardRef((e,t)=>{const r=x.useContext(PZ),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Wl.div,{...e,ref:i})});r1e.displayName=t1e;function n1e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){kZ(Q_e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function i1e(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&kZ(e1e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function z3(){const e=new CustomEvent(ak);document.dispatchEvent(e)}function kZ(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?X_e(i,s):i.dispatchEvent(s)}var oN=0;function s1e(){x.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??q3()),document.body.insertAdjacentElement("beforeend",e[1]??q3()),oN++,()=>{oN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),oN--}},[])}function q3(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var lN="focusScope.autoFocusOnMount",cN="focusScope.autoFocusOnUnmount",U3={bubbles:!1,cancelable:!0},a1e="FocusScope",AZ=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=fr(i),f=fr(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?p.current=A:Fc(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||Fc(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&Fc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){W3.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(lN,U3);l.addEventListener(lN,u),l.dispatchEvent(S),S.defaultPrevented||(o1e(f1e(OZ(l)),{select:!0}),document.activeElement===y&&Fc(l))}return()=>{l.removeEventListener(lN,u),setTimeout(()=>{const S=new CustomEvent(cN,U3);l.addEventListener(cN,f),l.dispatchEvent(S),S.defaultPrevented||Fc(y??document.body,{select:!0}),l.removeEventListener(cN,f),W3.remove(v)},0)}}},[l,u,f,v]);const b=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,A]=l1e(N);C&&A?!y.shiftKey&&S===A?(y.preventDefault(),r&&Fc(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&Fc(A,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(Wl.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});AZ.displayName=a1e;function o1e(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Fc(n,{select:t}),document.activeElement!==r)return}function l1e(e){const t=OZ(e),r=V3(t,e),n=V3(t.reverse(),e);return[r,n]}function OZ(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function V3(e,t){for(const r of e)if(!c1e(r,{upTo:t}))return r}function c1e(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function u1e(e){return e instanceof HTMLInputElement&&"select"in e}function Fc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&u1e(e)&&t&&e.select()}}var W3=d1e();function d1e(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=H3(e,t),e.unshift(t)},remove(t){e=H3(e,t),e[0]?.resume()}}}function H3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function f1e(e){return e.filter(t=>t.tagName!=="A")}var h1e="Arrow",RZ=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(Wl.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});RZ.displayName=h1e;var p1e=RZ,MZ="Popper",[IZ,LZ]=Ir(MZ),[$ze,DZ]=IZ(MZ),$Z="PopperAnchor",FZ=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=DZ($Z,r),o=x.useRef(null),l=at(t,o),c=x.useRef(null);return x.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(Wl.div,{...i,ref:l})});FZ.displayName=$Z;var dM="PopperContent",[m1e,g1e]=IZ(dM),BZ=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=e,_=DZ(dM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[A,k]=x.useState(null),P=Jd(A),O=P?.width??0,I=P?.height??0,B=n+(s!=="center"?"-"+s:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,q={padding:K,boundary:V.filter(y1e),altBoundary:U},{refs:H,floatingStyles:G,placement:se,isPositioned:W,middlewareData:ee}=Ny({strategy:"fixed",placement:B,whileElementsMounted:(...ae)=>Sy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Cy({mainAxis:i+I,alignmentAxis:o}),c&&Ey({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Py():void 0,...q}),c&&Ty({...q}),ky({...q,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:Y}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Oy({element:A,padding:l}),x1e({arrowWidth:O,arrowHeight:I}),g&&Ay({strategy:"referenceHidden",...q})]}),[X,ne]=UZ(se),J=fr(b);or(()=>{W&&J?.()},[W,J]);const oe=ee.arrow?.x,be=ee.arrow?.y,Ce=ee.arrow?.centerOffset!==0,[Le,ce]=x.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(m1e,{scope:r,placedSide:X,onArrowChange:k,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(Wl.div,{"data-side":X,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});BZ.displayName=dM;var zZ="PopperArrow",v1e={top:"bottom",right:"left",bottom:"top",left:"right"},qZ=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=g1e(zZ,n),o=v1e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(p1e,{...i,ref:r,style:{...i.style,display:"block"}})})});qZ.displayName=zZ;function y1e(e){return e!==null}var x1e=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=UZ(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let b="",y="";return u==="bottom"?(b=o?p:`${g}px`,y=`${-c}px`):u==="top"?(b=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:b,y}}}});function UZ(e){const[t,r="center"]=e.split("-");return[t,r]}var VZ=FZ,b1e=BZ,w1e=qZ,_1e="Portal",WZ=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);or(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?l_.createPortal(a.jsx(Wl.div,{...n,ref:t}),o):null});WZ.displayName=_1e;function j1e(e,t){return x.useReducer((r,n)=>t[r][n]??r,e)}var fM=e=>{const{present:t,children:r}=e,n=S1e(t),i=typeof r=="function"?r({present:n.isPresent}):x.Children.only(r),s=at(n.ref,N1e(i));return typeof r=="function"||n.isPresent?x.cloneElement(i,{ref:s}):null};fM.displayName="Presence";function S1e(e){const[t,r]=x.useState(),n=x.useRef(null),i=x.useRef(e),s=x.useRef("none"),o=e?"mounted":"unmounted",[l,c]=j1e(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const u=k0(n.current);s.current=l==="mounted"?u:"none"},[l]),or(()=>{const u=n.current,f=i.current;if(f!==e){const g=s.current,v=k0(u);e?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(f&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,c]),or(()=>{if(t){let u;const f=t.ownerDocument.defaultView??window,p=v=>{const y=k0(n.current).includes(CSS.escape(v.animationName));if(v.target===t&&y&&(c("ANIMATION_END"),!i.current)){const _=t.style.animationFillMode;t.style.animationFillMode="forwards",u=f.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=_)})}},g=v=>{v.target===t&&(s.current=k0(n.current))};return t.addEventListener("animationstart",g),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{f.clearTimeout(u),t.removeEventListener("animationstart",g),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else c("ANIMATION_END")},[t,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:x.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function k0(e){return e?.animationName||"none"}function N1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var HZ="Popover",[KZ,Fze]=Ir(HZ,[LZ]),Z_=LZ(),[Bze,yu]=KZ(HZ),GZ="PopoverAnchor",C1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=yu(GZ,r),s=Z_(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return x.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(VZ,{...s,...n,ref:t})});C1e.displayName=GZ;var ZZ="PopoverTrigger",E1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=yu(ZZ,r),s=Z_(r),o=at(t,i.triggerRef),l=a.jsx(Wl.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":eY(i.open),...n,ref:o,onClick:tu(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(VZ,{asChild:!0,...s,children:l})});E1e.displayName=ZZ;var hM="PopoverPortal",[P1e,T1e]=KZ(hM,{forceMount:void 0}),YZ=e=>{const{__scopePopover:t,forceMount:r,children:n,container:i}=e,s=yu(hM,t);return a.jsx(P1e,{scope:t,forceMount:r,children:a.jsx(fM,{present:r||s.open,children:a.jsx(WZ,{asChild:!0,container:i,children:n})})})};YZ.displayName=hM;var ep="PopoverContent",XZ=x.forwardRef((e,t)=>{const r=T1e(ep,e.__scopePopover),{forceMount:n=r.forceMount,...i}=e,s=yu(ep,e.__scopePopover);return a.jsx(fM,{present:n||s.open,children:s.modal?a.jsx(A1e,{...i,ref:t}):a.jsx(O1e,{...i,ref:t})})});XZ.displayName=ep;var k1e=EZ("PopoverContent.RemoveScroll"),A1e=x.forwardRef((e,t)=>{const r=yu(ep,e.__scopePopover),n=x.useRef(null),i=at(t,n),s=x.useRef(!1);return x.useEffect(()=>{const o=n.current;if(o)return F_(o)},[]),a.jsx(_y,{as:k1e,allowPinchZoom:!0,children:a.jsx(JZ,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:tu(e.onCloseAutoFocus,o=>{o.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:tu(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:tu(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),O1e=x.forwardRef((e,t)=>{const r=yu(ep,e.__scopePopover),n=x.useRef(!1),i=x.useRef(!1);return a.jsx(JZ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{e.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{e.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),JZ=x.forwardRef((e,t)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:f,...p}=e,g=yu(ep,r),v=Z_(r);return s1e(),a.jsx(AZ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(TZ,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:f,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:a.jsx(b1e,{"data-state":eY(g.open),role:"dialog",id:g.contentId,...v,...p,ref:t,style:{...p.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),QZ="PopoverClose",R1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=yu(QZ,r);return a.jsx(Wl.button,{type:"button",...n,ref:t,onClick:tu(e.onClick,()=>i.onOpenChange(!1))})});R1e.displayName=QZ;var M1e="PopoverArrow",I1e=x.forwardRef((e,t)=>{const{__scopePopover:r,...n}=e,i=Z_(r);return a.jsx(w1e,{...i,...n,ref:t})});I1e.displayName=M1e;function eY(e){return e?"open":"closed"}var L1e=YZ,tY=XZ;const D1e=x.forwardRef(({className:e,align:t="center",sideOffset:r=4,...n},i)=>a.jsx(L1e,{children:a.jsx(tY,{ref:i,align:t,sideOffset:r,className:qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n})}));D1e.displayName=tY.displayName;const $1e=({currentPage:e,totalPages:t,onPageChange:r,hasNextPage:n,hasPrevPage:i,isLoading:s=!1})=>{const o=()=>{const c=[],u=[];for(let f=Math.max(2,e-2);f<=Math.min(t-1,e+2);f++)c.push(f);return e-2>2?u.push(1,"..."):u.push(1),u.push(...c),e+2<t-1?u.push("...",t):u.push(t),u};return t<=1?null:a.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(e-1),disabled:!i||s,className:"flex items-center space-x-1",children:[a.jsx(Wa,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Précédent"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:o().map((l,c)=>a.jsx(Q.Fragment,{children:l==="..."?a.jsx(j7,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(ue,{variant:e===l?"default":"outline",size:"sm",onClick:()=>r(l),disabled:s,className:"w-8 h-8 p-0",children:l})},c))}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(e+1),disabled:!n||s,className:"flex items-center space-x-1",children:[a.jsx("span",{className:"hidden sm:inline",children:"Suivant"}),a.jsx(Ha,{className:"h-4 w-4"})]})]})},F1e=x.forwardRef(({className:e="",...t},r)=>a.jsx("div",{className:`grid gap-2 ${e}`,ref:r,...t}));F1e.displayName="RadioGroup";const B1e=x.forwardRef(({className:e="",...t},r)=>a.jsx("input",{type:"radio",className:`h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${e}`,ref:r,...t}));B1e.displayName="RadioGroupItem";function K3(e,[t,r]){return Math.min(r,Math.max(t,e))}function rw(e){const t=z1e(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(U1e);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function z1e(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=W1e(i),l=V1e(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var q1e=Symbol("radix.slottable");function U1e(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===q1e}function V1e(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function W1e(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}function H1e(e){const t=e+"CollectionProvider",[r,n]=Ir(t),[i,s]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=y=>{const{scope:_,children:S}=y,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=t;const l=e+"CollectionSlot",c=rw(l),u=Q.forwardRef((y,_)=>{const{scope:S,children:N}=y,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const f=e+"CollectionItemSlot",p="data-radix-collection-item",g=rw(f),v=Q.forwardRef((y,_)=>{const{scope:S,children:N,...C}=y,A=Q.useRef(null),k=at(_,A),P=s(f,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[p]:"",ref:k,children:N})});v.displayName=f;function b(y){const _=s(e+"CollectionConsumer",y);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${p}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},b,n]}var K1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],gn=K1e.reduce((e,t)=>{const r=rw(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function G1e(e,t){e&&Ya.flushSync(()=>e.dispatchEvent(t))}var Z1e="DismissableLayer",ok="dismissableLayer.update",Y1e="dismissableLayer.pointerDownOutside",X1e="dismissableLayer.focusOutside",G3,rY=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),nY=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(rY),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),b=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=eje(O=>{const I=O.target,B=[...u.branches].some(K=>K.contains(I));!A||B||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=tje(O=>{const I=O.target;[...u.branches].some(K=>K.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return wy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(G3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),Z3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=G3)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),Z3())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(ok,O),()=>document.removeEventListener(ok,O)},[]),a.jsx(gn.div,{...c,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,k.onPointerDownCapture)})});nY.displayName=Z1e;var J1e="DismissableLayerBranch",Q1e=x.forwardRef((e,t)=>{const r=x.useContext(rY),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(gn.div,{...e,ref:i})});Q1e.displayName=J1e;function eje(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){iY(Y1e,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function tje(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&iY(X1e,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Z3(){const e=new CustomEvent(ok);document.dispatchEvent(e)}function iY(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?G1e(i,s):i.dispatchEvent(s)}var uN="focusScope.autoFocusOnMount",dN="focusScope.autoFocusOnUnmount",Y3={bubbles:!1,cancelable:!0},rje="FocusScope",sY=x.forwardRef((e,t)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=e,[l,c]=x.useState(null),u=fr(i),f=fr(s),p=x.useRef(null),g=at(t,y=>c(y)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let y=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?p.current=A:Bc(p.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||Bc(p.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&Bc(l)};document.addEventListener("focusin",y),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),x.useEffect(()=>{if(l){J3.add(v);const y=document.activeElement;if(!l.contains(y)){const S=new CustomEvent(uN,Y3);l.addEventListener(uN,u),l.dispatchEvent(S),S.defaultPrevented||(nje(lje(aY(l)),{select:!0}),document.activeElement===y&&Bc(l))}return()=>{l.removeEventListener(uN,u),setTimeout(()=>{const S=new CustomEvent(dN,Y3);l.addEventListener(dN,f),l.dispatchEvent(S),S.defaultPrevented||Bc(y??document.body,{select:!0}),l.removeEventListener(dN,f),J3.remove(v)},0)}}},[l,u,f,v]);const b=x.useCallback(y=>{if(!r&&!n||v.paused)return;const _=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,S=document.activeElement;if(_&&S){const N=y.currentTarget,[C,A]=ije(N);C&&A?!y.shiftKey&&S===A?(y.preventDefault(),r&&Bc(C,{select:!0})):y.shiftKey&&S===C&&(y.preventDefault(),r&&Bc(A,{select:!0})):S===N&&y.preventDefault()}},[r,n,v.paused]);return a.jsx(gn.div,{tabIndex:-1,...o,ref:g,onKeyDown:b})});sY.displayName=rje;function nje(e,{select:t=!1}={}){const r=document.activeElement;for(const n of e)if(Bc(n,{select:t}),document.activeElement!==r)return}function ije(e){const t=aY(e),r=X3(t,e),n=X3(t.reverse(),e);return[r,n]}function aY(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function X3(e,t){for(const r of e)if(!sje(r,{upTo:t}))return r}function sje(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function aje(e){return e instanceof HTMLInputElement&&"select"in e}function Bc(e,{select:t=!1}={}){if(e&&e.focus){const r=document.activeElement;e.focus({preventScroll:!0}),e!==r&&aje(e)&&t&&e.select()}}var J3=oje();function oje(){let e=[];return{add(t){const r=e[0];t!==r&&r?.pause(),e=Q3(e,t),e.unshift(t)},remove(t){e=Q3(e,t),e[0]?.resume()}}}function Q3(e,t){const r=[...e],n=r.indexOf(t);return n!==-1&&r.splice(n,1),r}function lje(e){return e.filter(t=>t.tagName!=="A")}var cje="Arrow",oY=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(gn.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});oY.displayName=cje;var uje=oY,pM="Popper",[lY,cY]=Ir(pM),[dje,uY]=lY(pM),dY=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(dje,{scope:t,anchor:n,onAnchorChange:i,children:r})};dY.displayName=pM;var fY="PopperAnchor",hY=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=uY(fY,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(gn.div,{...i,ref:l})});hY.displayName=fY;var mM="PopperContent",[fje,hje]=lY(mM),pY=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=e,_=uY(mM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[A,k]=x.useState(null),P=Jd(A),O=P?.width??0,I=P?.height??0,B=n+(s!=="center"?"-"+s:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,q={padding:K,boundary:V.filter(mje),altBoundary:U},{refs:H,floatingStyles:G,placement:se,isPositioned:W,middlewareData:ee}=Ny({strategy:"fixed",placement:B,whileElementsMounted:(...ae)=>Sy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Cy({mainAxis:i+I,alignmentAxis:o}),c&&Ey({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Py():void 0,...q}),c&&Ty({...q}),ky({...q,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:Y}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Oy({element:A,padding:l}),gje({arrowWidth:O,arrowHeight:I}),g&&Ay({strategy:"referenceHidden",...q})]}),[X,ne]=vY(se),J=fr(b);or(()=>{W&&J?.()},[W,J]);const oe=ee.arrow?.x,be=ee.arrow?.y,Ce=ee.arrow?.centerOffset!==0,[Le,ce]=x.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(fje,{scope:r,placedSide:X,onArrowChange:k,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(gn.div,{"data-side":X,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});pY.displayName=mM;var mY="PopperArrow",pje={top:"bottom",right:"left",bottom:"top",left:"right"},gY=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=hje(mY,n),o=pje[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(uje,{...i,ref:r,style:{...i.style,display:"block"}})})});gY.displayName=mY;function mje(e){return e!==null}var gje=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=vY(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let b="",y="";return u==="bottom"?(b=o?p:`${g}px`,y=`${-c}px`):u==="top"?(b=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:b,y}}}});function vY(e){const[t,r="center"]=e.split("-");return[t,r]}var vje=dY,yje=hY,xje=pY,bje=gY,wje="Portal",yY=x.forwardRef((e,t)=>{const{container:r,...n}=e,[i,s]=x.useState(!1);or(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?l_.createPortal(a.jsx(gn.div,{...n,ref:t}),o):null});yY.displayName=wje;var xY=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),_je="VisuallyHidden",jje=x.forwardRef((e,t)=>a.jsx(gn.span,{...e,ref:t,style:{...xY,...e.style}}));jje.displayName=_je;var Sje=[" ","Enter","ArrowUp","ArrowDown"],Nje=[" ","Enter"],Dd="Select",[Y_,X_,Cje]=H1e(Dd),[Kp,zze]=Ir(Dd,[Cje,cY]),J_=cY(),[Eje,xu]=Kp(Dd),[Pje,Tje]=Kp(Dd),bY=e=>{const{__scopeSelect:t,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:f,autoComplete:p,disabled:g,required:v,form:b}=e,y=J_(t),[_,S]=x.useState(null),[N,C]=x.useState(null),[A,k]=x.useState(!1),P=Fp(u),[O,I]=ns({prop:n,defaultProp:i??!1,onChange:s,caller:Dd}),[B,K]=ns({prop:o,defaultProp:l,onChange:c,caller:Dd}),V=x.useRef(null),U=_?b||!!_.closest("form"):!0,[q,H]=x.useState(new Set),G=Array.from(q).map(se=>se.props.value).join(";");return a.jsx(vje,{...y,children:a.jsxs(Eje,{required:v,scope:t,trigger:_,onTriggerChange:S,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:rs(),value:B,onValueChange:K,open:O,onOpenChange:I,dir:P,triggerPointerDownPosRef:V,disabled:g,children:[a.jsx(Y_.Provider,{scope:t,children:a.jsx(Pje,{scope:e.__scopeSelect,onNativeOptionAdd:x.useCallback(se=>{H(W=>new Set(W).add(se))},[]),onNativeOptionRemove:x.useCallback(se=>{H(W=>{const ee=new Set(W);return ee.delete(se),ee})},[]),children:r})}),U?a.jsxs(VY,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:p,value:B,onChange:se=>K(se.target.value),disabled:g,form:b,children:[B===void 0?a.jsx("option",{value:""}):null,Array.from(q)]},G):null]})})};bY.displayName=Dd;var wY="SelectTrigger",_Y=x.forwardRef((e,t)=>{const{__scopeSelect:r,disabled:n=!1,...i}=e,s=J_(r),o=xu(wY,r),l=o.disabled||n,c=at(t,o.onTriggerChange),u=X_(r),f=x.useRef("touch"),[p,g,v]=HY(y=>{const _=u().filter(C=>!C.disabled),S=_.find(C=>C.value===o.value),N=KY(_,y,S);N!==void 0&&o.onValueChange(N.value)}),b=y=>{l||(o.onOpenChange(!0),v()),y&&(o.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return a.jsx(yje,{asChild:!0,...s,children:a.jsx(gn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":WY(o.value)?"":void 0,...i,ref:c,onClick:Ve(i.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&b(y)}),onPointerDown:Ve(i.onPointerDown,y=>{f.current=y.pointerType;const _=y.target;_.hasPointerCapture(y.pointerId)&&_.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(b(y),y.preventDefault())}),onKeyDown:Ve(i.onKeyDown,y=>{const _=p.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&g(y.key),!(_&&y.key===" ")&&Sje.includes(y.key)&&(b(),y.preventDefault())})})})});_Y.displayName=wY;var jY="SelectValue",SY=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=e,c=xu(jY,r),{onValueNodeHasChildrenChange:u}=c,f=s!==void 0,p=at(t,c.onValueNodeChange);return or(()=>{u(f)},[u,f]),a.jsx(gn.span,{...l,ref:p,style:{pointerEvents:"none"},children:WY(c.value)?a.jsx(a.Fragment,{children:o}):s})});SY.displayName=jY;var kje="SelectIcon",NY=x.forwardRef((e,t)=>{const{__scopeSelect:r,children:n,...i}=e;return a.jsx(gn.span,{"aria-hidden":!0,...i,ref:t,children:n||"▼"})});NY.displayName=kje;var Aje="SelectPortal",CY=e=>a.jsx(yY,{asChild:!0,...e});CY.displayName=Aje;var $d="SelectContent",EY=x.forwardRef((e,t)=>{const r=xu($d,e.__scopeSelect),[n,i]=x.useState();if(or(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Ya.createPortal(a.jsx(PY,{scope:e.__scopeSelect,children:a.jsx(Y_.Slot,{scope:e.__scopeSelect,children:a.jsx("div",{children:e.children})})}),s):null}return a.jsx(TY,{...e,ref:t})});EY.displayName=$d;var ka=10,[PY,bu]=Kp($d),Oje="SelectContentImpl",Rje=rw("SelectContent.RemoveScroll"),TY=x.forwardRef((e,t)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:_,...S}=e,N=xu($d,r),[C,A]=x.useState(null),[k,P]=x.useState(null),O=at(t,ae=>A(ae)),[I,B]=x.useState(null),[K,V]=x.useState(null),U=X_(r),[q,H]=x.useState(!1),G=x.useRef(!1);x.useEffect(()=>{if(C)return F_(C)},[C]),PR();const se=x.useCallback(ae=>{const[ge,...he]=U().map(Y=>Y.ref.current),[Pe]=he.slice(-1),te=document.activeElement;for(const Y of ae)if(Y===te||(Y?.scrollIntoView({block:"nearest"}),Y===ge&&k&&(k.scrollTop=0),Y===Pe&&k&&(k.scrollTop=k.scrollHeight),Y?.focus(),document.activeElement!==te))return},[U,k]),W=x.useCallback(()=>se([I,C]),[se,I,C]);x.useEffect(()=>{q&&W()},[q,W]);const{onOpenChange:ee,triggerPointerDownPosRef:X}=N;x.useEffect(()=>{if(C){let ae={x:0,y:0};const ge=Pe=>{ae={x:Math.abs(Math.round(Pe.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(X.current?.y??0))}},he=Pe=>{ae.x<=10&&ae.y<=10?Pe.preventDefault():C.contains(Pe.target)||ee(!1),document.removeEventListener("pointermove",ge),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,ee,X]),x.useEffect(()=>{const ae=()=>ee(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[ee]);const[ne,J]=HY(ae=>{const ge=U().filter(te=>!te.disabled),he=ge.find(te=>te.ref.current===document.activeElement),Pe=KY(ge,ae,he);Pe&&setTimeout(()=>Pe.ref.current.focus())}),oe=x.useCallback((ae,ge,he)=>{const Pe=!G.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&(B(ae),Pe&&(G.current=!0))},[N.value]),be=x.useCallback(()=>C?.focus(),[C]),Ce=x.useCallback((ae,ge,he)=>{const Pe=!G.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&V(ae)},[N.value]),Le=n==="popper"?lk:kY,ce=Le===lk?{side:l,sideOffset:c,align:u,alignOffset:f,arrowPadding:p,collisionBoundary:g,collisionPadding:v,sticky:b,hideWhenDetached:y,avoidCollisions:_}:{};return a.jsx(PY,{scope:r,content:C,viewport:k,onViewportChange:P,itemRefCallback:oe,selectedItem:I,onItemLeave:be,itemTextRefCallback:Ce,focusSelectedItem:W,selectedItemText:K,position:n,isPositioned:q,searchRef:ne,children:a.jsx(_y,{as:Rje,allowPinchZoom:!0,children:a.jsx(sY,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ve(i,ae=>{N.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:a.jsx(nY,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(Le,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...S,...ce,onPlaced:()=>H(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ve(S.onKeyDown,ae=>{const ge=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ge&&ae.key.length===1&&J(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Pe=U().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const te=ae.target,Y=Pe.indexOf(te);Pe=Pe.slice(Y+1)}setTimeout(()=>se(Pe)),ae.preventDefault()}})})})})})})});TY.displayName=Oje;var Mje="SelectItemAlignedPosition",kY=x.forwardRef((e,t)=>{const{__scopeSelect:r,onPlaced:n,...i}=e,s=xu($d,r),o=bu($d,r),[l,c]=x.useState(null),[u,f]=x.useState(null),p=at(t,O=>f(O)),g=X_(r),v=x.useRef(!1),b=x.useRef(!0),{viewport:y,selectedItem:_,selectedItemText:S,focusSelectedItem:N}=o,C=x.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&y&&_&&S){const O=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),B=s.valueNode.getBoundingClientRect(),K=S.getBoundingClientRect();if(s.dir!=="rtl"){const te=K.left-I.left,Y=B.left-te,_e=O.left-Y,xe=O.width+_e,We=Math.max(xe,I.width),Ue=window.innerWidth-ka,Ne=K3(Y,[ka,Math.max(ka,Ue-We)]);l.style.minWidth=xe+"px",l.style.left=Ne+"px"}else{const te=I.right-K.right,Y=window.innerWidth-B.right-te,_e=window.innerWidth-O.right-Y,xe=O.width+_e,We=Math.max(xe,I.width),Ue=window.innerWidth-ka,Ne=K3(Y,[ka,Math.max(ka,Ue-We)]);l.style.minWidth=xe+"px",l.style.right=Ne+"px"}const V=g(),U=window.innerHeight-ka*2,q=y.scrollHeight,H=window.getComputedStyle(u),G=parseInt(H.borderTopWidth,10),se=parseInt(H.paddingTop,10),W=parseInt(H.borderBottomWidth,10),ee=parseInt(H.paddingBottom,10),X=G+se+q+ee+W,ne=Math.min(_.offsetHeight*5,X),J=window.getComputedStyle(y),oe=parseInt(J.paddingTop,10),be=parseInt(J.paddingBottom,10),Ce=O.top+O.height/2-ka,Le=U-Ce,ce=_.offsetHeight/2,ae=_.offsetTop+ce,ge=G+se+ae,he=X-ge;if(ge<=Ce){const te=V.length>0&&_===V[V.length-1].ref.current;l.style.bottom="0px";const Y=u.clientHeight-y.offsetTop-y.offsetHeight,_e=Math.max(Le,ce+(te?be:0)+Y+W),xe=ge+_e;l.style.height=xe+"px"}else{const te=V.length>0&&_===V[0].ref.current;l.style.top="0px";const _e=Math.max(Ce,G+y.offsetTop+(te?oe:0)+ce)+he;l.style.height=_e+"px",y.scrollTop=ge-Ce+y.offsetTop}l.style.margin=`${ka}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,l,u,y,_,S,s.dir,n]);or(()=>C(),[C]);const[A,k]=x.useState();or(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const P=x.useCallback(O=>{O&&b.current===!0&&(C(),N?.(),b.current=!1)},[C,N]);return a.jsx(Lje,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:P,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(gn.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});kY.displayName=Mje;var Ije="SelectPopperPosition",lk=x.forwardRef((e,t)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=ka,...s}=e,o=J_(r);return a.jsx(xje,{...o,...s,ref:t,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});lk.displayName=Ije;var[Lje,gM]=Kp($d,{}),ck="SelectViewport",AY=x.forwardRef((e,t)=>{const{__scopeSelect:r,nonce:n,...i}=e,s=bu(ck,r),o=gM(ck,r),l=at(t,s.onViewportChange),c=x.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(Y_.Slot,{scope:r,children:a.jsx(gn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ve(i.onScroll,u=>{const f=u.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:g}=o;if(g?.current&&p){const v=Math.abs(c.current-f.scrollTop);if(v>0){const b=window.innerHeight-ka*2,y=parseFloat(p.style.minHeight),_=parseFloat(p.style.height),S=Math.max(y,_);if(S<b){const N=S+v,C=Math.min(b,N),A=N-C;p.style.height=C+"px",p.style.bottom==="0px"&&(f.scrollTop=A>0?A:0,p.style.justifyContent="flex-end")}}}c.current=f.scrollTop})})})]})});AY.displayName=ck;var OY="SelectGroup",[Dje,$je]=Kp(OY),Fje=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=rs();return a.jsx(Dje,{scope:r,id:i,children:a.jsx(gn.div,{role:"group","aria-labelledby":i,...n,ref:t})})});Fje.displayName=OY;var RY="SelectLabel",MY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=$je(RY,r);return a.jsx(gn.div,{id:i.id,...n,ref:t})});MY.displayName=RY;var nw="SelectItem",[Bje,IY]=Kp(nw),LY=x.forwardRef((e,t)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=e,l=xu(nw,r),c=bu(nw,r),u=l.value===n,[f,p]=x.useState(s??""),[g,v]=x.useState(!1),b=at(t,N=>c.itemRefCallback?.(N,n,i)),y=rs(),_=x.useRef("touch"),S=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Bje,{scope:r,value:n,disabled:i,textId:y,isSelected:u,onItemTextChange:x.useCallback(N=>{p(C=>C||(N?.textContent??"").trim())},[]),children:a.jsx(Y_.ItemSlot,{scope:r,value:n,disabled:i,textValue:f,children:a.jsx(gn.div,{role:"option","aria-labelledby":y,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:b,onFocus:Ve(o.onFocus,()=>v(!0)),onBlur:Ve(o.onBlur,()=>v(!1)),onClick:Ve(o.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Ve(o.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Ve(o.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:Ve(o.onPointerMove,N=>{_.current=N.pointerType,i?c.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ve(o.onKeyDown,N=>{c.searchRef?.current!==""&&N.key===" "||(Nje.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});LY.displayName=nw;var Tg="SelectItemText",DY=x.forwardRef((e,t)=>{const{__scopeSelect:r,className:n,style:i,...s}=e,o=xu(Tg,r),l=bu(Tg,r),c=IY(Tg,r),u=Tje(Tg,r),[f,p]=x.useState(null),g=at(t,S=>p(S),c.onItemTextChange,S=>l.itemTextRefCallback?.(S,c.value,c.disabled)),v=f?.textContent,b=x.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:_}=u;return or(()=>(y(b),()=>_(b)),[y,_,b]),a.jsxs(a.Fragment,{children:[a.jsx(gn.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ya.createPortal(s.children,o.valueNode):null]})});DY.displayName=Tg;var $Y="SelectItemIndicator",FY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return IY($Y,r).isSelected?a.jsx(gn.span,{"aria-hidden":!0,...n,ref:t}):null});FY.displayName=$Y;var uk="SelectScrollUpButton",BY=x.forwardRef((e,t)=>{const r=bu(uk,e.__scopeSelect),n=gM(uk,e.__scopeSelect),[i,s]=x.useState(!1),o=at(t,n.onScrollButtonChange);return or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(qY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});BY.displayName=uk;var dk="SelectScrollDownButton",zY=x.forwardRef((e,t)=>{const r=bu(dk,e.__scopeSelect),n=gM(dk,e.__scopeSelect),[i,s]=x.useState(!1),o=at(t,n.onScrollButtonChange);return or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,f=Math.ceil(c.scrollTop)<u;s(f)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(qY,{...e,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});zY.displayName=dk;var qY=x.forwardRef((e,t)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=e,s=bu("SelectScrollButton",r),o=x.useRef(null),l=X_(r),c=x.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return x.useEffect(()=>()=>c(),[c]),or(()=>{l().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(gn.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Ve(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ve(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ve(i.onPointerLeave,()=>{c()})})}),zje="SelectSeparator",UY=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e;return a.jsx(gn.div,{"aria-hidden":!0,...n,ref:t})});UY.displayName=zje;var fk="SelectArrow",qje=x.forwardRef((e,t)=>{const{__scopeSelect:r,...n}=e,i=J_(r),s=xu(fk,r),o=bu(fk,r);return s.open&&o.position==="popper"?a.jsx(bje,{...i,...n,ref:t}):null});qje.displayName=fk;var Uje="SelectBubbleInput",VY=x.forwardRef(({__scopeSelect:e,value:t,...r},n)=>{const i=x.useRef(null),s=at(n,i),o=vR(t);return x.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&f){const p=new Event("change",{bubbles:!0});f.call(l,t),l.dispatchEvent(p)}},[o,t]),a.jsx(gn.select,{...r,style:{...xY,...r.style},ref:s,defaultValue:t})});VY.displayName=Uje;function WY(e){return e===""||e===void 0}function HY(e){const t=fr(e),r=x.useRef(""),n=x.useRef(0),i=x.useCallback(o=>{const l=r.current+o;t(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[t]),s=x.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function KY(e,t,r){const i=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,s=r?e.indexOf(r):-1;let o=Vje(e,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Vje(e,t){return e.map((r,n)=>e[(t+n)%e.length])}var Wje=bY,GY=_Y,Hje=SY,Kje=NY,Gje=CY,ZY=EY,Zje=AY,YY=MY,XY=LY,Yje=DY,Xje=FY,JY=BY,QY=zY,eX=UY;const Ar=Wje,Or=Hje,Tr=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(GY,{ref:n,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...r,children:[t,a.jsx(Kje,{asChild:!0,children:a.jsx(Sl,{className:"h-4 w-4 opacity-50"})})]}));Tr.displayName=GY.displayName;const tX=x.forwardRef(({className:e,...t},r)=>a.jsx(JY,{ref:r,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Nd,{className:"h-4 w-4"})}));tX.displayName=JY.displayName;const rX=x.forwardRef(({className:e,...t},r)=>a.jsx(QY,{ref:r,className:qe("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(Sl,{className:"h-4 w-4"})}));rX.displayName=QY.displayName;const kr=x.forwardRef(({className:e,children:t,position:r="popper",...n},i)=>a.jsx(Gje,{children:a.jsxs(ZY,{ref:i,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:r,...n,children:[a.jsx(tX,{}),a.jsx(Zje,{className:qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(rX,{})]})}));kr.displayName=ZY.displayName;const Jje=x.forwardRef(({className:e,...t},r)=>a.jsx(YY,{ref:r,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Jje.displayName=YY.displayName;const Ge=x.forwardRef(({className:e,children:t,...r},n)=>a.jsxs(XY,{ref:n,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Xje,{children:a.jsx(lv,{className:"h-4 w-4"})})}),a.jsx(Yje,{children:t})]}));Ge.displayName=XY.displayName;const Qje=x.forwardRef(({className:e,...t},r)=>a.jsx(eX,{ref:r,className:qe("-mx-1 my-1 h-px bg-muted",e),...t}));Qje.displayName=eX.displayName;function eSe(e){const t=tSe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(nSe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function tSe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=sSe(i),l=iSe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rSe=Symbol("radix.slottable");function nSe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rSe}function iSe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function sSe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var aSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oSe=aSe.reduce((e,t)=>{const r=eSe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),lSe="Separator",eF="horizontal",cSe=["horizontal","vertical"],nX=x.forwardRef((e,t)=>{const{decorative:r,orientation:n=eF,...i}=e,s=uSe(n)?n:eF,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(oSe.div,{"data-orientation":s,...l,...i,ref:t})});nX.displayName=lSe;function uSe(e){return cSe.includes(e)}var iX=nX;const mv=Q.forwardRef(({className:e,orientation:t="horizontal",decorative:r=!0,...n},i)=>a.jsx(iX,{ref:i,decorative:r,orientation:t,className:qe("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...n}));mv.displayName=iX.displayName;const mo=({className:e,...t})=>a.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",e),...t}),dSe=()=>a.jsxs("div",{className:"bg-card rounded-lg shadow-lg overflow-hidden",children:[a.jsx(mo,{className:"h-48 w-full"}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx(mo,{className:"h-4 w-3/4"}),a.jsx(mo,{className:"h-4 w-1/2"}),a.jsx(mo,{className:"h-6 w-1/3"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(mo,{className:"h-4 w-20"}),a.jsx(mo,{className:"h-8 w-20 rounded"})]})]})]}),fSe=()=>a.jsxs("div",{className:"bg-card rounded-lg p-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(mo,{className:"h-4 w-1/2"}),a.jsx(mo,{className:"h-8 w-8 rounded"})]}),a.jsx(mo,{className:"h-8 w-1/3"}),a.jsx(mo,{className:"h-3 w-2/3"})]});function hSe(e){const t=pSe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(gSe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function pSe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=ySe(i),l=vSe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var mSe=Symbol("radix.slottable");function gSe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===mSe}function vSe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function ySe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var xSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],sX=xSe.reduce((e,t)=>{const r=hSe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{}),Q_="Switch",[bSe,qze]=Ir(Q_),[wSe,_Se]=bSe(Q_),aX=x.forwardRef((e,t)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:f,...p}=e,[g,v]=x.useState(null),b=at(t,C=>v(C)),y=x.useRef(!1),_=g?f||!!g.closest("form"):!0,[S,N]=ns({prop:i,defaultProp:s??!1,onChange:u,caller:Q_});return a.jsxs(wSe,{scope:r,checked:S,disabled:l,children:[a.jsx(sX.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":uX(S),"data-disabled":l?"":void 0,disabled:l,value:c,...p,ref:b,onClick:Ve(e.onClick,C=>{N(A=>!A),_&&(y.current=C.isPropagationStopped(),y.current||C.stopPropagation())})}),_&&a.jsx(cX,{control:g,bubbles:!y.current,name:n,value:c,checked:S,required:o,disabled:l,form:f,style:{transform:"translateX(-100%)"}})]})});aX.displayName=Q_;var oX="SwitchThumb",lX=x.forwardRef((e,t)=>{const{__scopeSwitch:r,...n}=e,i=_Se(oX,r);return a.jsx(sX.span,{"data-state":uX(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:t})});lX.displayName=oX;var jSe="SwitchBubbleInput",cX=x.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:n=!0,...i},s)=>{const o=x.useRef(null),l=at(o,s),c=vR(r),u=Jd(t);return x.useEffect(()=>{const f=o.current;if(!f)return;const p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(c!==r&&v){const b=new Event("click",{bubbles:n});v.call(f,r),f.dispatchEvent(b)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});cX.displayName=jSe;function uX(e){return e?"checked":"unchecked"}var dX=aX,SSe=lX;const kg=x.forwardRef(({className:e,...t},r)=>a.jsx(dX,{className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:r,children:a.jsx(SSe,{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));kg.displayName=dX.displayName;const Gp=x.forwardRef(({className:e,...t},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:qe("w-full caption-bottom text-sm",e),...t})}));Gp.displayName="Table";const Zp=x.forwardRef(({className:e,...t},r)=>a.jsx("thead",{ref:r,className:qe("[&_tr]:border-b",e),...t}));Zp.displayName="TableHeader";const Yp=x.forwardRef(({className:e,...t},r)=>a.jsx("tbody",{ref:r,className:qe("[&_tr:last-child]:border-0",e),...t}));Yp.displayName="TableBody";const NSe=x.forwardRef(({className:e,...t},r)=>a.jsx("tfoot",{ref:r,className:qe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));NSe.displayName="TableFooter";const sn=x.forwardRef(({className:e,...t},r)=>a.jsx("tr",{ref:r,className:qe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));sn.displayName="TableRow";const ur=x.forwardRef(({className:e,...t},r)=>a.jsx("th",{ref:r,className:qe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));ur.displayName="TableHead";const Mt=x.forwardRef(({className:e,...t},r)=>a.jsx("td",{ref:r,className:qe("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));Mt.displayName="TableCell";const CSe=x.forwardRef(({className:e,...t},r)=>a.jsx("caption",{ref:r,className:qe("mt-4 text-sm text-muted-foreground",e),...t}));CSe.displayName="TableCaption";const fu=Q.forwardRef(({className:e,...t},r)=>a.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));fu.displayName="Textarea";var ESe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PSe="VisuallyHidden",vM=x.forwardRef((e,t)=>a.jsx(er.span,{...e,ref:t,style:{...ESe,...e.style}}));vM.displayName=PSe;var TSe="ToastProvider",[fX,kSe,ASe]=WR("Toast"),[hX,Uze]=Ir("Toast",[ASe]),[Vze,e1]=hX(TSe),pX="ToastViewport",OSe=["F8"],hk="toast.viewportPause",pk="toast.viewportResume",mX=x.forwardRef((e,t)=>{const{__scopeToast:r,hotkey:n=OSe,label:i="Notifications ({hotkey})",...s}=e,o=e1(pX,r),l=kSe(r),c=x.useRef(null),u=x.useRef(null),f=x.useRef(null),p=x.useRef(null),g=at(t,p,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),b=o.toastCount>0;x.useEffect(()=>{const _=S=>{n.length!==0&&n.every(C=>S[C]||S.code===C)&&p.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),x.useEffect(()=>{const _=c.current,S=p.current;if(b&&_&&S){const N=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(hk);S.dispatchEvent(P),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(pk);S.dispatchEvent(P),o.isClosePausedRef.current=!1}},A=P=>{!_.contains(P.relatedTarget)&&C()},k=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",N),_.addEventListener("focusout",A),_.addEventListener("pointermove",N),_.addEventListener("pointerleave",k),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",N),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",N),_.removeEventListener("pointerleave",k),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[b,o.isClosePausedRef]);const y=x.useCallback(({tabbingDirection:_})=>{const N=l().map(C=>{const A=C.ref.current,k=[A,...WSe(A)];return _==="forwards"?k:k.reverse()});return(_==="forwards"?N.reverse():N).flat()},[l]);return x.useEffect(()=>{const _=p.current;if(_){const S=N=>{const C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){const k=document.activeElement,P=N.shiftKey;if(N.target===_&&P){u.current?.focus();return}const B=y({tabbingDirection:P?"backwards":"forwards"}),K=B.findIndex(V=>V===k);fN(B.slice(K+1))?N.preventDefault():P?u.current?.focus():f.current?.focus()}};return _.addEventListener("keydown",S),()=>_.removeEventListener("keydown",S)}},[l,y]),a.jsxs(nxe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:b?void 0:"none"},children:[b&&a.jsx(mk,{ref:u,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"forwards"});fN(_)}}),a.jsx(fX.Slot,{scope:r,children:a.jsx(er.ol,{tabIndex:-1,...s,ref:g})}),b&&a.jsx(mk,{ref:f,onFocusFromOutsideViewport:()=>{const _=y({tabbingDirection:"backwards"});fN(_)}})]})});mX.displayName=pX;var gX="ToastFocusProxy",mk=x.forwardRef((e,t)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=e,s=e1(gX,r);return a.jsx(vM,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&n()}})});mk.displayName=gX;var Ly="Toast",RSe="toast.swipeStart",MSe="toast.swipeMove",ISe="toast.swipeCancel",LSe="toast.swipeEnd",vX=x.forwardRef((e,t)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=e,[l,c]=ns({prop:n,defaultProp:i??!0,onChange:s,caller:Ly});return a.jsx(ss,{present:r||l,children:a.jsx(FSe,{open:l,...o,ref:t,onClose:()=>c(!1),onPause:fr(e.onPause),onResume:fr(e.onResume),onSwipeStart:Ve(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(e.onSwipeMove,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:Ve(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(e.onSwipeEnd,u=>{const{x:f,y:p}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${f}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),c(!1)})})})});vX.displayName=Ly;var[DSe,$Se]=hX(Ly,{onClose(){}}),FSe=x.forwardRef((e,t)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:f,onSwipeMove:p,onSwipeCancel:g,onSwipeEnd:v,...b}=e,y=e1(Ly,r),[_,S]=x.useState(null),N=at(t,H=>S(H)),C=x.useRef(null),A=x.useRef(null),k=i||y.duration,P=x.useRef(0),O=x.useRef(k),I=x.useRef(0),{onToastAdd:B,onToastRemove:K}=y,V=fr(()=>{_?.contains(document.activeElement)&&y.viewport?.focus(),o()}),U=x.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),P.current=new Date().getTime(),I.current=window.setTimeout(V,H))},[V]);x.useEffect(()=>{const H=y.viewport;if(H){const G=()=>{U(O.current),u?.()},se=()=>{const W=new Date().getTime()-P.current;O.current=O.current-W,window.clearTimeout(I.current),c?.()};return H.addEventListener(hk,se),H.addEventListener(pk,G),()=>{H.removeEventListener(hk,se),H.removeEventListener(pk,G)}}},[y.viewport,k,c,u,U]),x.useEffect(()=>{s&&!y.isClosePausedRef.current&&U(k)},[s,k,y.isClosePausedRef,U]),x.useEffect(()=>(B(),()=>K()),[B,K]);const q=x.useMemo(()=>_?SX(_):null,[_]);return y.viewport?a.jsxs(a.Fragment,{children:[q&&a.jsx(BSe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:q}),a.jsx(DSe,{scope:r,onClose:V,children:Ya.createPortal(a.jsx(fX.ItemSlot,{scope:r,children:a.jsx(rxe,{asChild:!0,onEscapeKeyDown:Ve(l,()=>{y.isFocusedToastEscapeKeyDownRef.current||V(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(er.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":y.swipeDirection,...b,ref:N,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Ve(e.onKeyDown,H=>{H.key==="Escape"&&(l?.(H.nativeEvent),H.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ve(e.onPointerDown,H=>{H.button===0&&(C.current={x:H.clientX,y:H.clientY})}),onPointerMove:Ve(e.onPointerMove,H=>{if(!C.current)return;const G=H.clientX-C.current.x,se=H.clientY-C.current.y,W=!!A.current,ee=["left","right"].includes(y.swipeDirection),X=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,ne=ee?X(0,G):0,J=ee?0:X(0,se),oe=H.pointerType==="touch"?10:2,be={x:ne,y:J},Ce={originalEvent:H,delta:be};W?(A.current=be,A0(MSe,p,Ce,{discrete:!1})):tF(be,y.swipeDirection,oe)?(A.current=be,A0(RSe,f,Ce,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(G)>oe||Math.abs(se)>oe)&&(C.current=null)}),onPointerUp:Ve(e.onPointerUp,H=>{const G=A.current,se=H.target;if(se.hasPointerCapture(H.pointerId)&&se.releasePointerCapture(H.pointerId),A.current=null,C.current=null,G){const W=H.currentTarget,ee={originalEvent:H,delta:G};tF(G,y.swipeDirection,y.swipeThreshold)?A0(LSe,v,ee,{discrete:!0}):A0(ISe,g,ee,{discrete:!0}),W.addEventListener("click",X=>X.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),BSe=e=>{const{__scopeToast:t,children:r,...n}=e,i=e1(Ly,t),[s,o]=x.useState(!1),[l,c]=x.useState(!1);return USe(()=>o(!0)),x.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(D_,{asChild:!0,children:a.jsx(vM,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},zSe="ToastTitle",yX=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});yX.displayName=zSe;var qSe="ToastDescription",xX=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e;return a.jsx(er.div,{...n,ref:t})});xX.displayName=qSe;var bX="ToastAction",wX=x.forwardRef((e,t)=>{const{altText:r,...n}=e;return r.trim()?a.jsx(jX,{altText:r,asChild:!0,children:a.jsx(yM,{...n,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${bX}\`. Expected non-empty \`string\`.`),null)});wX.displayName=bX;var _X="ToastClose",yM=x.forwardRef((e,t)=>{const{__scopeToast:r,...n}=e,i=$Se(_X,r);return a.jsx(jX,{asChild:!0,children:a.jsx(er.button,{type:"button",...n,ref:t,onClick:Ve(e.onClick,i.onClose)})})});yM.displayName=_X;var jX=x.forwardRef((e,t)=>{const{__scopeToast:r,altText:n,...i}=e;return a.jsx(er.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:t})});function SX(e){const t=[];return Array.from(e.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&t.push(n.textContent),VSe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&t.push(o)}else t.push(...SX(n))}}),t}function A0(e,t,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?gR(i,s):i.dispatchEvent(s)}var tF=(e,t,r=0)=>{const n=Math.abs(e.x),i=Math.abs(e.y),s=n>i;return t==="left"||t==="right"?s&&n>r:!s&&i>r};function USe(e=()=>{}){const t=fr(e);or(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[t])}function VSe(e){return e.nodeType===e.ELEMENT_NODE}function WSe(e){const t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function fN(e){const t=document.activeElement;return e.some(r=>r===t?!0:(r.focus(),document.activeElement!==t))}var NX=mX,CX=vX,EX=yX,PX=xX,TX=wX,kX=yM;const HSe=Q.forwardRef(({className:e,...t},r)=>a.jsx(NX,{ref:r,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));HSe.displayName=NX.displayName;const KSe=S_("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),GSe=Q.forwardRef(({className:e,variant:t,...r},n)=>a.jsx(CX,{ref:n,className:qe(KSe({variant:t}),e),...r}));GSe.displayName=CX.displayName;const ZSe=Q.forwardRef(({className:e,...t},r)=>a.jsx(TX,{ref:r,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ZSe.displayName=TX.displayName;const YSe=Q.forwardRef(({className:e,...t},r)=>a.jsx(kX,{ref:r,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:a.jsx(is,{className:"h-4 w-4"})}));YSe.displayName=kX.displayName;const XSe=Q.forwardRef(({className:e,...t},r)=>a.jsx(EX,{ref:r,className:qe("text-sm font-semibold",e),...t}));XSe.displayName=EX.displayName;const JSe=Q.forwardRef(({className:e,...t},r)=>a.jsx(PX,{ref:r,className:qe("text-sm opacity-90",e),...t}));JSe.displayName=PX.displayName;function QSe(e){const t=eNe(e),r=x.forwardRef((n,i)=>{const{children:s,...o}=n,l=x.Children.toArray(s),c=l.find(rNe);if(c){const u=c.props.children,f=l.map(p=>p===c?x.Children.count(u)>1?x.Children.only(null):x.isValidElement(u)?u.props.children:null:p);return a.jsx(t,{...o,ref:i,children:x.isValidElement(u)?x.cloneElement(u,void 0,f):null})}return a.jsx(t,{...o,ref:i,children:s})});return r.displayName=`${e}.Slot`,r}function eNe(e){const t=x.forwardRef((r,n)=>{const{children:i,...s}=r;if(x.isValidElement(i)){const o=iNe(i),l=nNe(s,i.props);return i.type!==x.Fragment&&(l.ref=n?Ls(n,o):o),x.cloneElement(i,l)}return x.Children.count(i)>1?x.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var AX=Symbol("radix.slottable");function tNe(e){const t=({children:r})=>a.jsx(a.Fragment,{children:r});return t.displayName=`${e}.Slottable`,t.__radixId=AX,t}function rNe(e){return x.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===AX}function nNe(e,t){const r={...t};for(const n in t){const i=e[n],s=t[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...e,...r}}function iNe(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning;return r?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,r=t&&"isReactWarning"in t&&t.isReactWarning,r?e.props.ref:e.props.ref||e.ref)}var sNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nf=sNe.reduce((e,t)=>{const r=QSe(`Primitive.${t}`),n=x.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function aNe(e,t){e&&Ya.flushSync(()=>e.dispatchEvent(t))}var oNe="DismissableLayer",gk="dismissableLayer.update",lNe="dismissableLayer.pointerDownOutside",cNe="dismissableLayer.focusOutside",rF,OX=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),RX=x.forwardRef((e,t)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=e,u=x.useContext(OX),[f,p]=x.useState(null),g=f?.ownerDocument??globalThis?.document,[,v]=x.useState({}),b=at(t,O=>p(O)),y=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=y.indexOf(_),N=f?y.indexOf(f):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=fNe(O=>{const I=O.target,B=[...u.branches].some(K=>K.contains(I));!A||B||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=hNe(O=>{const I=O.target;[...u.branches].some(K=>K.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return wy(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),x.useEffect(()=>{if(f)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(rF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(f)),u.layers.add(f),nF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=rF)}},[f,g,r,u]),x.useEffect(()=>()=>{f&&(u.layers.delete(f),u.layersWithOutsidePointerEventsDisabled.delete(f),nF())},[f,u]),x.useEffect(()=>{const O=()=>v({});return document.addEventListener(gk,O),()=>document.removeEventListener(gk,O)},[]),a.jsx(nf.div,{...c,ref:b,style:{pointerEvents:C?A?"auto":"none":void 0,...e.style},onFocusCapture:Ve(e.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(e.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(e.onPointerDownCapture,k.onPointerDownCapture)})});RX.displayName=oNe;var uNe="DismissableLayerBranch",dNe=x.forwardRef((e,t)=>{const r=x.useContext(OX),n=x.useRef(null),i=at(t,n);return x.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(nf.div,{...e,ref:i})});dNe.displayName=uNe;function fNe(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1),i=x.useRef(()=>{});return x.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){MX(lNe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=c,t.addEventListener("click",i.current,{once:!0})):c()}else t.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}function hNe(e,t=globalThis?.document){const r=fr(e),n=x.useRef(!1);return x.useEffect(()=>{const i=s=>{s.target&&!n.current&&MX(cNe,r,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function nF(){const e=new CustomEvent(gk);document.dispatchEvent(e)}function MX(e,t,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&i.addEventListener(e,t,{once:!0}),n?aNe(i,s):i.dispatchEvent(s)}var pNe="Arrow",IX=x.forwardRef((e,t)=>{const{children:r,width:n=10,height:i=5,...s}=e;return a.jsx(nf.svg,{...s,ref:t,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});IX.displayName=pNe;var mNe=IX,xM="Popper",[LX,DX]=Ir(xM),[gNe,$X]=LX(xM),FX=e=>{const{__scopePopper:t,children:r}=e,[n,i]=x.useState(null);return a.jsx(gNe,{scope:t,anchor:n,onAnchorChange:i,children:r})};FX.displayName=xM;var BX="PopperAnchor",zX=x.forwardRef((e,t)=>{const{__scopePopper:r,virtualRef:n,...i}=e,s=$X(BX,r),o=x.useRef(null),l=at(t,o);return x.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(nf.div,{...i,ref:l})});zX.displayName=BX;var bM="PopperContent",[vNe,yNe]=LX(bM),qX=x.forwardRef((e,t)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:f=0,sticky:p="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:b,...y}=e,_=$X(bM,r),[S,N]=x.useState(null),C=at(t,ae=>N(ae)),[A,k]=x.useState(null),P=Jd(A),O=P?.width??0,I=P?.height??0,B=n+(s!=="center"?"-"+s:""),K=typeof f=="number"?f:{top:0,right:0,bottom:0,left:0,...f},V=Array.isArray(u)?u:[u],U=V.length>0,q={padding:K,boundary:V.filter(bNe),altBoundary:U},{refs:H,floatingStyles:G,placement:se,isPositioned:W,middlewareData:ee}=Ny({strategy:"fixed",placement:B,whileElementsMounted:(...ae)=>Sy(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Cy({mainAxis:i+I,alignmentAxis:o}),c&&Ey({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?Py():void 0,...q}),c&&Ty({...q}),ky({...q,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:Y}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${Y}px`)}}),A&&Oy({element:A,padding:l}),wNe({arrowWidth:O,arrowHeight:I}),g&&Ay({strategy:"referenceHidden",...q})]}),[X,ne]=WX(se),J=fr(b);or(()=>{W&&J?.()},[W,J]);const oe=ee.arrow?.x,be=ee.arrow?.y,Ce=ee.arrow?.centerOffset!==0,[Le,ce]=x.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:W?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(vNe,{scope:r,placedSide:X,onArrowChange:k,arrowX:oe,arrowY:be,shouldHideArrow:Ce,children:a.jsx(nf.div,{"data-side":X,"data-align":ne,...y,ref:C,style:{...y.style,animation:W?void 0:"none"}})})})});qX.displayName=bM;var UX="PopperArrow",xNe={top:"bottom",right:"left",bottom:"top",left:"right"},VX=x.forwardRef(function(t,r){const{__scopePopper:n,...i}=t,s=yNe(UX,n),o=xNe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(mNe,{...i,ref:r,style:{...i.style,display:"block"}})})});VX.displayName=UX;function bNe(e){return e!==null}var wNe=e=>({name:"transformOrigin",options:e,fn(t){const{placement:r,rects:n,middlewareData:i}=t,o=i.arrow?.centerOffset!==0,l=o?0:e.arrowWidth,c=o?0:e.arrowHeight,[u,f]=WX(r),p={start:"0%",center:"50%",end:"100%"}[f],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let b="",y="";return u==="bottom"?(b=o?p:`${g}px`,y=`${-c}px`):u==="top"?(b=o?p:`${g}px`,y=`${n.floating.height+c}px`):u==="right"?(b=`${-c}px`,y=o?p:`${v}px`):u==="left"&&(b=`${n.floating.width+c}px`,y=o?p:`${v}px`),{data:{x:b,y}}}});function WX(e){const[t,r="center"]=e.split("-");return[t,r]}var _Ne=FX,jNe=zX,SNe=qX,NNe=VX,CNe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),ENe="VisuallyHidden",HX=x.forwardRef((e,t)=>a.jsx(nf.span,{...e,ref:t,style:{...CNe,...e.style}}));HX.displayName=ENe;var PNe=HX,[t1,Wze]=Ir("Tooltip",[DX]),r1=DX(),KX="TooltipProvider",TNe=700,vk="tooltip.open",[kNe,wM]=t1(KX),GX=e=>{const{__scopeTooltip:t,delayDuration:r=TNe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=e,o=x.useRef(!0),l=x.useRef(!1),c=x.useRef(0);return x.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(kNe,{scope:t,isOpenDelayedRef:o,delayDuration:r,onOpen:x.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:x.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};GX.displayName=KX;var gv="Tooltip",[ANe,n1]=t1(gv),ZX=e=>{const{__scopeTooltip:t,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=e,c=wM(gv,e.__scopeTooltip),u=r1(t),[f,p]=x.useState(null),g=rs(),v=x.useRef(0),b=o??c.disableHoverableContent,y=l??c.delayDuration,_=x.useRef(!1),[S,N]=ns({prop:n,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(vk))):c.onClose(),s?.(O)},caller:gv}),C=x.useMemo(()=>S?_.current?"delayed-open":"instant-open":"closed",[S]),A=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,N(!0)},[N]),k=x.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N(!1)},[N]),P=x.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,N(!0),v.current=0},y)},[y,N]);return x.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(_Ne,{...u,children:a.jsx(ANe,{scope:t,contentId:g,open:S,stateAttribute:C,trigger:f,onTriggerChange:p,onTriggerEnter:x.useCallback(()=>{c.isOpenDelayedRef.current?P():A()},[c.isOpenDelayedRef,P,A]),onTriggerLeave:x.useCallback(()=>{b?k():(window.clearTimeout(v.current),v.current=0)},[k,b]),onOpen:A,onClose:k,disableHoverableContent:b,children:r})})};ZX.displayName=gv;var yk="TooltipTrigger",YX=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=n1(yk,r),s=wM(yk,r),o=r1(r),l=x.useRef(null),c=at(t,l,i.onTriggerChange),u=x.useRef(!1),f=x.useRef(!1),p=x.useCallback(()=>u.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),a.jsx(jNe,{asChild:!0,...o,children:a.jsx(nf.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ve(e.onPointerMove,g=>{g.pointerType!=="touch"&&!f.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),f.current=!0)}),onPointerLeave:Ve(e.onPointerLeave,()=>{i.onTriggerLeave(),f.current=!1}),onPointerDown:Ve(e.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:Ve(e.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ve(e.onBlur,i.onClose),onClick:Ve(e.onClick,i.onClose)})})});YX.displayName=yk;var ONe="TooltipPortal",[Hze,RNe]=t1(ONe,{forceMount:void 0}),tp="TooltipContent",XX=x.forwardRef((e,t)=>{const r=RNe(tp,e.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=e,o=n1(tp,e.__scopeTooltip);return a.jsx(ss,{present:n||o.open,children:o.disableHoverableContent?a.jsx(JX,{side:i,...s,ref:t}):a.jsx(MNe,{side:i,...s,ref:t})})}),MNe=x.forwardRef((e,t)=>{const r=n1(tp,e.__scopeTooltip),n=wM(tp,e.__scopeTooltip),i=x.useRef(null),s=at(t,i),[o,l]=x.useState(null),{trigger:c,onClose:u}=r,f=i.current,{onPointerInTransitChange:p}=n,g=x.useCallback(()=>{l(null),p(!1)},[p]),v=x.useCallback((b,y)=>{const _=b.currentTarget,S={x:b.clientX,y:b.clientY},N=FNe(S,_.getBoundingClientRect()),C=BNe(S,N),A=zNe(y.getBoundingClientRect()),k=UNe([...C,...A]);l(k),p(!0)},[p]);return x.useEffect(()=>()=>g(),[g]),x.useEffect(()=>{if(c&&f){const b=_=>v(_,f),y=_=>v(_,c);return c.addEventListener("pointerleave",b),f.addEventListener("pointerleave",y),()=>{c.removeEventListener("pointerleave",b),f.removeEventListener("pointerleave",y)}}},[c,f,v,g]),x.useEffect(()=>{if(o){const b=y=>{const _=y.target,S={x:y.clientX,y:y.clientY},N=c?.contains(_)||f?.contains(_),C=!qNe(S,o);N?g():C&&(g(),u())};return document.addEventListener("pointermove",b),()=>document.removeEventListener("pointermove",b)}},[c,f,o,u,g]),a.jsx(JX,{...e,ref:s})}),[INe,LNe]=t1(gv,{isInside:!1}),DNe=tNe("TooltipContent"),JX=x.forwardRef((e,t)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=e,c=n1(tp,r),u=r1(r),{onClose:f}=c;return x.useEffect(()=>(document.addEventListener(vk,f),()=>document.removeEventListener(vk,f)),[f]),x.useEffect(()=>{if(c.trigger){const p=g=>{g.target?.contains(c.trigger)&&f()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[c.trigger,f]),a.jsx(RX,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:f,children:a.jsxs(SNe,{"data-state":c.stateAttribute,...u,...l,ref:t,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(DNe,{children:n}),a.jsx(INe,{scope:r,isInside:!0,children:a.jsx(PNe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});XX.displayName=tp;var QX="TooltipArrow",$Ne=x.forwardRef((e,t)=>{const{__scopeTooltip:r,...n}=e,i=r1(r);return LNe(QX,r).isInside?null:a.jsx(NNe,{...i,...n,ref:t})});$Ne.displayName=QX;function FNe(e,t){const r=Math.abs(t.top-e.y),n=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function BNe(e,t,r=5){const n=[];switch(t){case"top":n.push({x:e.x-r,y:e.y+r},{x:e.x+r,y:e.y+r});break;case"bottom":n.push({x:e.x-r,y:e.y-r},{x:e.x+r,y:e.y-r});break;case"left":n.push({x:e.x+r,y:e.y-r},{x:e.x+r,y:e.y+r});break;case"right":n.push({x:e.x-r,y:e.y-r},{x:e.x-r,y:e.y+r});break}return n}function zNe(e){const{top:t,right:r,bottom:n,left:i}=e;return[{x:i,y:t},{x:r,y:t},{x:r,y:n},{x:i,y:n}]}function qNe(e,t){const{x:r,y:n}=e;let i=!1;for(let s=0,o=t.length-1;s<t.length;o=s++){const l=t[s],c=t[o],u=l.x,f=l.y,p=c.x,g=c.y;f>n!=g>n&&r<(p-u)*(n-f)/(g-f)+u&&(i=!i)}return i}function UNe(e){const t=e.slice();return t.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),VNe(t)}function VNe(e){if(e.length<=1)return e.slice();const t=[];for(let n=0;n<e.length;n++){const i=e[n];for(;t.length>=2;){const s=t[t.length-1],o=t[t.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))t.pop();else break}t.push(i)}t.pop();const r=[];for(let n=e.length-1;n>=0;n--){const i=e[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),t.length===1&&r.length===1&&t[0].x===r[0].x&&t[0].y===r[0].y?t:t.concat(r)}var WNe=GX,HNe=ZX,KNe=YX,eJ=XX;const Sh=WNe,xo=HNe,bo=KNe,Da=x.forwardRef(({className:e,sideOffset:t=4,...r},n)=>a.jsx(eJ,{ref:n,sideOffset:t,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...r}));Da.displayName=eJ.displayName;const vv=({user:e,size:t="default",className:r,showFallbackIcon:n=!1})=>{if(!e)return a.jsx(Hb,{className:qe("bg-gray-200",t==="sm"&&"h-8 w-8",t==="default"&&"h-10 w-10",t==="lg"&&"h-12 w-12",t==="xl"&&"h-16 w-16",r),children:a.jsx(Kb,{className:"bg-gray-200 text-gray-600",children:a.jsx(es,{className:"h-4 w-4"})})});const i=()=>{const c=e.first_name||"",u=e.last_name||"";return c&&u?`${c.charAt(0)}${u.charAt(0)}`.toUpperCase():c?c.charAt(0).toUpperCase():u?u.charAt(0).toUpperCase():e.email?e.email.charAt(0).toUpperCase():"?"},s=()=>{const c=`${e.first_name||""}${e.last_name||""}`.toLowerCase();if(!c)return"bg-gray-500";const u=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"];let f=0;for(let p=0;p<c.length;p++)f=c.charCodeAt(p)+((f<<5)-f);return u[Math.abs(f)%u.length]},o=()=>{switch(t){case"sm":return"h-8 w-8";case"lg":return"h-12 w-12";case"xl":return"h-16 w-16";default:return"h-10 w-10"}},l=()=>{switch(t){case"sm":return"text-xs";case"lg":return"text-lg";case"xl":return"text-2xl";default:return"text-sm"}};return a.jsxs(Hb,{className:qe(o(),r),children:[e.avatar_url&&a.jsx(VR,{src:e.avatar_url,alt:`${e.first_name||""} ${e.last_name||""}`,onError:c=>{c.target.style.display="none"}}),a.jsx(Kb,{className:qe(s(),"text-white font-semibold",l()),children:n?a.jsx(es,{className:qe(t==="sm"&&"h-3 w-3",t==="default"&&"h-4 w-4",t==="lg"&&"h-5 w-5",t==="xl"&&"h-6 w-6")}):i()})]})},O0=({error:e,className:t="",showIcon:r=!0})=>e?a.jsxs("div",{className:qe("flex items-start gap-1.5 text-xs text-red-600 mt-1",t),children:[r&&a.jsx(Pn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:e})]}):null,GNe=(e={})=>({getFieldError:o=>e[o]||null,hasFieldError:o=>!!e[o],hasAnyErrors:()=>Object.keys(e).length>0,clearFieldError:(o,l)=>{l&&e[o]&&l(c=>{const u={...c};return delete u[o],u})},clearAllErrors:o=>{o&&o({})}}),iF=(e,t,r)=>{if(e&&"reportValidity"in e){const n=dt(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},tJ=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?iF(n.ref,r,e):n.refs&&n.refs.forEach(i=>iF(i,r,e))}},ZNe=(e,t)=>{t.shouldUseNativeValidation&&tJ(e,t);const r={};for(const n in e){const i=dt(t.fields,n),s=Object.assign(e[n]||{},{ref:i&&i.ref});if(YNe(t.names||Object.keys(e),n)){const o=Object.assign({},dt(r,n));Cr(o,"root",s),Cr(r,n,o)}else Cr(r,n,s)}return r},YNe=(e,t)=>e.some(r=>r.startsWith(t+"."));var XNe=function(e,t){for(var r={};e.length;){var n=e[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(f){return f.errors.forEach(function(p){return e.push(p)})}),t){var c=r[o].types,u=c&&c[n.code];r[o]=HW(o,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r},JNe=function(e,t,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(u){return s.shouldUseNativeValidation&&tJ({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:ZNe(XNe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},dr;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=n,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(dr||(dr={}));var sF;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(sF||(sF={}));const ft=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),zc=e=>{switch(typeof e){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(e)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(e)?ft.array:e===null?ft.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?ft.promise:typeof Map<"u"&&e instanceof Map?ft.map:typeof Set<"u"&&e instanceof Set?ft.set:typeof Date<"u"&&e instanceof Date?ft.date:ft.object;default:return ft.unknown}},Qe=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Mo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){const r=t||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(t){if(!(t instanceof Mo))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(t(i))}else n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Mo.create=e=>new Mo(e);const xk=(e,t)=>{let r;switch(e.code){case Qe.invalid_type:e.received===ft.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Qe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dr.jsonStringifyReplacer)}`;break;case Qe.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(e.keys,", ")}`;break;case Qe.invalid_union:r="Invalid input";break;case Qe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(e.options)}`;break;case Qe.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(e.options)}, received '${e.received}'`;break;case Qe.invalid_arguments:r="Invalid function arguments";break;case Qe.invalid_return_type:r="Invalid function return type";break;case Qe.invalid_date:r="Invalid date";break;case Qe.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dr.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Qe.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Qe.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Qe.custom:r="Invalid input";break;case Qe.invalid_intersection_types:r="Intersection results could not be merged";break;case Qe.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Qe.not_finite:r="Number must be finite";break;default:r=t.defaultError,dr.assertNever(e)}return{message:r}};let QNe=xk;function eCe(){return QNe}const tCe=e=>{const{data:t,path:r,errorMaps:n,issueData:i}=e,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:t,defaultError:l}).message;return{...i,path:s,message:l}};function it(e,t){const r=eCe(),n=tCe({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===xk?void 0:xk].filter(i=>!!i)});e.common.issues.push(n)}class Bi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){const n=[];for(const i of r){if(i.status==="aborted")return Ot;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return Bi.mergeObjectSync(t,n)}static mergeObjectSync(t,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Ot;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:t.value,value:n}}}const Ot=Object.freeze({status:"aborted"}),Ag=e=>({status:"dirty",value:e}),fa=e=>({status:"valid",value:e}),aF=e=>e.status==="aborted",oF=e=>e.status==="dirty",rp=e=>e.status==="valid",iw=e=>typeof Promise<"u"&&e instanceof Promise;var vt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t?.message})(vt||(vt={}));class Io{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lF=(e,t)=>{if(rp(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Mo(e.common.issues);return this._error=r,this._error}}};function Ut(e){if(!e)return{};const{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,l)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class Qt{get description(){return this._def.description}_getType(t){return zc(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:zc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Bi,ctx:{common:t.parent.common,data:t.data,parsedType:zc(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const r=this._parse(t);if(iw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){const r=this._parse(t);return Promise.resolve(r)}parse(t,r){const n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zc(t)},i=this._parseSync({data:t,path:n.path,parent:n});return lF(n,i)}"~validate"(t){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zc(t)};if(!this["~standard"].async)try{const n=this._parseSync({data:t,path:[],parent:r});return rp(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:r}).then(n=>rp(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(t,r){const n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:zc(t)},i=this._parse({data:t,path:n.path,parent:n}),s=await(iw(i)?i:Promise.resolve(i));return lF(n,s)}refine(t,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=t(i),l=()=>s.addIssue({code:Qe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new sp({schema:this,typeName:kt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ru.create(this,this._def)}nullable(){return ap.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Eo.create(this)}promise(){return lw.create(this,this._def)}or(t){return sw.create([this,t],this._def)}and(t){return aw.create(this,t,this._def)}transform(t){return new sp({...Ut(this._def),schema:this,typeName:kt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const r=typeof t=="function"?t:()=>t;return new jk({...Ut(this._def),innerType:this,defaultValue:r,typeName:kt.ZodDefault})}brand(){return new SCe({typeName:kt.ZodBranded,type:this,...Ut(this._def)})}catch(t){const r=typeof t=="function"?t:()=>t;return new Sk({...Ut(this._def),innerType:this,catchValue:r,typeName:kt.ZodCatch})}describe(t){const r=this.constructor;return new r({...this._def,description:t})}pipe(t){return _M.create(this,t)}readonly(){return Nk.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const rCe=/^c[^\s-]{8,}$/i,nCe=/^[0-9a-z]+$/,iCe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,sCe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,aCe=/^[a-z0-9_-]{21}$/i,oCe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,lCe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,cCe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,uCe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let hN;const dCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,fCe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,hCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,pCe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,mCe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,gCe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,rJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",vCe=new RegExp(`^${rJ}$`);function nJ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const r=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${r}`}function yCe(e){return new RegExp(`^${nJ(e)}$`)}function xCe(e){let t=`${rJ}T${nJ(e)}`;const r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function bCe(e,t){return!!((t==="v4"||!t)&&dCe.test(e)||(t==="v6"||!t)&&hCe.test(e))}function wCe(e,t){if(!oCe.test(e))return!1;try{const[r]=e.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function _Ce(e,t){return!!((t==="v4"||!t)&&fCe.test(e)||(t==="v6"||!t)&&pCe.test(e))}class vl extends Qt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==ft.string){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_type,expected:ft.string,received:s.parsedType}),Ot}const n=new Bi;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,l=t.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(t,i),o?it(i,{code:Qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&it(i,{code:Qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")cCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"email",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")hN||(hN=new RegExp(uCe,"u")),hN.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"emoji",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")sCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"uuid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")aCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"nanoid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")rCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cuid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")nCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cuid2",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")iCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"ulid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),it(i,{validation:"url",code:Qe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"regex",code:Qe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?xCe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?vCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?yCe(s).test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?lCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"duration",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?bCe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"ip",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?wCe(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"jwt",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?_Ce(t.data,s.version)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"cidr",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?mCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"base64",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?gCe.test(t.data)||(i=this._getOrReturnCtx(t,i),it(i,{validation:"base64url",code:Qe.invalid_string,message:s.message}),n.dirty()):dr.assertNever(s);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Qe.invalid_string,...vt.errToObj(n)})}_addCheck(t){return new vl({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...vt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...vt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...vt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...vt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...vt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...vt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...vt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...vt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...vt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...vt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...vt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...vt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...vt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof t?.precision>"u"?null:t?.precision,offset:t?.offset??!1,local:t?.local??!1,...vt.errToObj(t?.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof t?.precision>"u"?null:t?.precision,...vt.errToObj(t?.message)})}duration(t){return this._addCheck({kind:"duration",...vt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...vt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r?.position,...vt.errToObj(r?.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...vt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...vt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...vt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...vt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...vt.errToObj(r)})}nonempty(t){return this.min(1,vt.errToObj(t))}trim(){return new vl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new vl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}vl.create=e=>new vl({checks:[],typeName:kt.ZodString,coerce:e?.coerce??!1,...Ut(e)});function jCe(e,t){const r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(e.toFixed(i).replace(".","")),o=Number.parseInt(t.toFixed(i).replace(".",""));return s%o/10**i}class np extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==ft.number){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_type,expected:ft.number,received:s.parsedType}),Ot}let n;const i=new Bi;for(const s of this._def.checks)s.kind==="int"?dr.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?jCe(t.data,s.value)!==0&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.not_finite,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,vt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,vt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,vt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,vt.toString(r))}setLimit(t,r,n,i){return new np({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:vt.toString(i)}]})}_addCheck(t){return new np({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:vt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:vt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:vt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vt.toString(t)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dr.isInteger(t.value))}get isFinite(){let t=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}}np.create=e=>new np({checks:[],typeName:kt.ZodNumber,coerce:e?.coerce||!1,...Ut(e)});class yv extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==ft.bigint)return this._getInvalidInput(t);let n;const i=new Bi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),it(n,{code:Qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const r=this._getOrReturnCtx(t);return it(r,{code:Qe.invalid_type,expected:ft.bigint,received:r.parsedType}),Ot}gte(t,r){return this.setLimit("min",t,!0,vt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,vt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,vt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,vt.toString(r))}setLimit(t,r,n,i){return new yv({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:vt.toString(i)}]})}_addCheck(t){return new yv({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:vt.toString(r)})}get minValue(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}}yv.create=e=>new yv({checks:[],typeName:kt.ZodBigInt,coerce:e?.coerce??!1,...Ut(e)});class bk extends Qt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==ft.boolean){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:ft.boolean,received:n.parsedType}),Ot}return fa(t.data)}}bk.create=e=>new bk({typeName:kt.ZodBoolean,coerce:e?.coerce||!1,...Ut(e)});class xv extends Qt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==ft.date){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_type,expected:ft.date,received:s.parsedType}),Ot}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return it(s,{code:Qe.invalid_date}),Ot}const n=new Bi;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),it(i,{code:Qe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):dr.assertNever(s);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new xv({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:vt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:vt.toString(r)})}get minDate(){let t=null;for(const r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}}xv.create=e=>new xv({checks:[],coerce:e?.coerce||!1,typeName:kt.ZodDate,...Ut(e)});class cF extends Qt{_parse(t){if(this._getType(t)!==ft.symbol){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:ft.symbol,received:n.parsedType}),Ot}return fa(t.data)}}cF.create=e=>new cF({typeName:kt.ZodSymbol,...Ut(e)});class uF extends Qt{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:ft.undefined,received:n.parsedType}),Ot}return fa(t.data)}}uF.create=e=>new uF({typeName:kt.ZodUndefined,...Ut(e)});class dF extends Qt{_parse(t){if(this._getType(t)!==ft.null){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:ft.null,received:n.parsedType}),Ot}return fa(t.data)}}dF.create=e=>new dF({typeName:kt.ZodNull,...Ut(e)});class wk extends Qt{constructor(){super(...arguments),this._any=!0}_parse(t){return fa(t.data)}}wk.create=e=>new wk({typeName:kt.ZodAny,...Ut(e)});class fF extends Qt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return fa(t.data)}}fF.create=e=>new fF({typeName:kt.ZodUnknown,...Ut(e)});class hu extends Qt{_parse(t){const r=this._getOrReturnCtx(t);return it(r,{code:Qe.invalid_type,expected:ft.never,received:r.parsedType}),Ot}}hu.create=e=>new hu({typeName:kt.ZodNever,...Ut(e)});class hF extends Qt{_parse(t){if(this._getType(t)!==ft.undefined){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:ft.void,received:n.parsedType}),Ot}return fa(t.data)}}hF.create=e=>new hF({typeName:kt.ZodVoid,...Ut(e)});class Eo extends Qt{_parse(t){const{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==ft.array)return it(r,{code:Qe.invalid_type,expected:ft.array,received:r.parsedType}),Ot;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(it(r,{code:o?Qe.too_big:Qe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(it(r,{code:Qe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(it(r,{code:Qe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Io(r,o,r.path,l)))).then(o=>Bi.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new Io(r,o,r.path,l)));return Bi.mergeArray(n,s)}get element(){return this._def.type}min(t,r){return new Eo({...this._def,minLength:{value:t,message:vt.toString(r)}})}max(t,r){return new Eo({...this._def,maxLength:{value:t,message:vt.toString(r)}})}length(t,r){return new Eo({...this._def,exactLength:{value:t,message:vt.toString(r)}})}nonempty(t){return this.min(1,t)}}Eo.create=(e,t)=>new Eo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:kt.ZodArray,...Ut(t)});function Nh(e){if(e instanceof wn){const t={};for(const r in e.shape){const n=e.shape[r];t[r]=ru.create(Nh(n))}return new wn({...e._def,shape:()=>t})}else return e instanceof Eo?new Eo({...e._def,type:Nh(e.element)}):e instanceof ru?ru.create(Nh(e.unwrap())):e instanceof ap?ap.create(Nh(e.unwrap())):e instanceof Fd?Fd.create(e.items.map(t=>Nh(t))):e}class wn extends Qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),r=dr.objectKeys(t);return this._cached={shape:t,keys:r},this._cached}_parse(t){if(this._getType(t)!==ft.object){const u=this._getOrReturnCtx(t);return it(u,{code:Qe.invalid_type,expected:ft.object,received:u.parsedType}),Ot}const{status:n,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof hu&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const f=s[u],p=i.data[u];c.push({key:{status:"valid",value:u},value:f._parse(new Io(i,p,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof hu){const u=this._def.unknownKeys;if(u==="passthrough")for(const f of l)c.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(u==="strict")l.length>0&&(it(i,{code:Qe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const f of l){const p=i.data[f];c.push({key:{status:"valid",value:f},value:u._parse(new Io(i,p,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const f of c){const p=await f.key,g=await f.value;u.push({key:p,value:g,alwaysSet:f.alwaysSet})}return u}).then(u=>Bi.mergeObjectSync(n,u)):Bi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(t){return vt.errToObj,new wn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:vt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new wn({...this._def,unknownKeys:"strip"})}passthrough(){return new wn({...this._def,unknownKeys:"passthrough"})}extend(t){return new wn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new wn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:kt.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new wn({...this._def,catchall:t})}pick(t){const r={};for(const n of dr.objectKeys(t))t[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new wn({...this._def,shape:()=>r})}omit(t){const r={};for(const n of dr.objectKeys(this.shape))t[n]||(r[n]=this.shape[n]);return new wn({...this._def,shape:()=>r})}deepPartial(){return Nh(this)}partial(t){const r={};for(const n of dr.objectKeys(this.shape)){const i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}return new wn({...this._def,shape:()=>r})}required(t){const r={};for(const n of dr.objectKeys(this.shape))if(t&&!t[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ru;)s=s._def.innerType;r[n]=s}return new wn({...this._def,shape:()=>r})}keyof(){return iJ(dr.objectKeys(this.shape))}}wn.create=(e,t)=>new wn({shape:()=>e,unknownKeys:"strip",catchall:hu.create(),typeName:kt.ZodObject,...Ut(t)});wn.strictCreate=(e,t)=>new wn({shape:()=>e,unknownKeys:"strict",catchall:hu.create(),typeName:kt.ZodObject,...Ut(t)});wn.lazycreate=(e,t)=>new wn({shape:e,unknownKeys:"strip",catchall:hu.create(),typeName:kt.ZodObject,...Ut(t)});class sw extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Mo(l.ctx.common.issues));return it(r,{code:Qe.invalid_union,unionErrors:o}),Ot}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},f=c._parseSync({data:r.data,path:r.path,parent:u});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Mo(c));return it(r,{code:Qe.invalid_union,unionErrors:l}),Ot}}get options(){return this._def.options}}sw.create=(e,t)=>new sw({options:e,typeName:kt.ZodUnion,...Ut(t)});function _k(e,t){const r=zc(e),n=zc(t);if(e===t)return{valid:!0,data:e};if(r===ft.object&&n===ft.object){const i=dr.objectKeys(t),s=dr.objectKeys(e).filter(l=>i.indexOf(l)!==-1),o={...e,...t};for(const l of s){const c=_k(e[l],t[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ft.array&&n===ft.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],l=t[s],c=_k(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===ft.date&&n===ft.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class aw extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=(s,o)=>{if(aF(s)||aF(o))return Ot;const l=_k(s.value,o.value);return l.valid?((oF(s)||oF(o))&&r.dirty(),{status:r.value,value:l.data}):(it(n,{code:Qe.invalid_intersection_types}),Ot)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}aw.create=(e,t,r)=>new aw({left:e,right:t,typeName:kt.ZodIntersection,...Ut(r)});class Fd extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.array)return it(n,{code:Qe.invalid_type,expected:ft.array,received:n.parsedType}),Ot;if(n.data.length<this._def.items.length)return it(n,{code:Qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ot;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:Qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Io(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Bi.mergeArray(r,o)):Bi.mergeArray(r,s)}get items(){return this._def.items}rest(t){return new Fd({...this._def,rest:t})}}Fd.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Fd({items:e,typeName:kt.ZodTuple,rest:null,...Ut(t)})};class ow extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.object)return it(n,{code:Qe.invalid_type,expected:ft.object,received:n.parsedType}),Ot;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Io(n,l,n.path,l)),value:o._parse(new Io(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?Bi.mergeObjectAsync(r,i):Bi.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Qt?new ow({keyType:t,valueType:r,typeName:kt.ZodRecord,...Ut(n)}):new ow({keyType:vl.create(),valueType:t,typeName:kt.ZodRecord,...Ut(r)})}}class pF extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.map)return it(n,{code:Qe.invalid_type,expected:ft.map,received:n.parsedType}),Ot;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Io(n,l,n.path,[u,"key"])),value:s._parse(new Io(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,f=await c.value;if(u.status==="aborted"||f.status==="aborted")return Ot;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,f=c.value;if(u.status==="aborted"||f.status==="aborted")return Ot;(u.status==="dirty"||f.status==="dirty")&&r.dirty(),l.set(u.value,f.value)}return{status:r.value,value:l}}}}pF.create=(e,t,r)=>new pF({valueType:t,keyType:e,typeName:kt.ZodMap,...Ut(r)});class bv extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==ft.set)return it(n,{code:Qe.invalid_type,expected:ft.set,received:n.parsedType}),Ot;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(it(n,{code:Qe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(it(n,{code:Qe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const f of c){if(f.status==="aborted")return Ot;f.status==="dirty"&&r.dirty(),u.add(f.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Io(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(t,r){return new bv({...this._def,minSize:{value:t,message:vt.toString(r)}})}max(t,r){return new bv({...this._def,maxSize:{value:t,message:vt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}}bv.create=(e,t)=>new bv({valueType:e,minSize:null,maxSize:null,typeName:kt.ZodSet,...Ut(t)});class mF extends Qt{get schema(){return this._def.getter()}_parse(t){const{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}mF.create=(e,t)=>new mF({getter:e,typeName:kt.ZodLazy,...Ut(t)});class gF extends Qt{_parse(t){if(t.data!==this._def.value){const r=this._getOrReturnCtx(t);return it(r,{received:r.data,code:Qe.invalid_literal,expected:this._def.value}),Ot}return{status:"valid",value:t.data}}get value(){return this._def.value}}gF.create=(e,t)=>new gF({value:e,typeName:kt.ZodLiteral,...Ut(t)});function iJ(e,t){return new ip({values:e,typeName:kt.ZodEnum,...Ut(t)})}class ip extends Qt{_parse(t){if(typeof t.data!="string"){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{expected:dr.joinValues(n),received:r.parsedType,code:Qe.invalid_type}),Ot}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const r=this._getOrReturnCtx(t),n=this._def.values;return it(r,{received:r.data,code:Qe.invalid_enum_value,options:n}),Ot}return fa(t.data)}get options(){return this._def.values}get enum(){const t={};for(const r of this._def.values)t[r]=r;return t}get Values(){const t={};for(const r of this._def.values)t[r]=r;return t}get Enum(){const t={};for(const r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return ip.create(t,{...this._def,...r})}exclude(t,r=this._def){return ip.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}}ip.create=iJ;class vF extends Qt{_parse(t){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==ft.string&&n.parsedType!==ft.number){const i=dr.objectValues(r);return it(n,{expected:dr.joinValues(i),received:n.parsedType,code:Qe.invalid_type}),Ot}if(this._cache||(this._cache=new Set(dr.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=dr.objectValues(r);return it(n,{received:n.data,code:Qe.invalid_enum_value,options:i}),Ot}return fa(t.data)}get enum(){return this._def.values}}vF.create=(e,t)=>new vF({values:e,typeName:kt.ZodNativeEnum,...Ut(t)});class lw extends Qt{unwrap(){return this._def.type}_parse(t){const{ctx:r}=this._processInputParams(t);if(r.parsedType!==ft.promise&&r.common.async===!1)return it(r,{code:Qe.invalid_type,expected:ft.promise,received:r.parsedType}),Ot;const n=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return fa(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}lw.create=(e,t)=>new lw({type:e,typeName:kt.ZodPromise,...Ut(t)});class sp extends Qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===kt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{it(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Ot;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Ot:c.status==="dirty"||r.value==="dirty"?Ag(c.value):c});{if(r.value==="aborted")return Ot;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Ot:l.status==="dirty"||r.value==="dirty"?Ag(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Ot:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!rp(o))return Ot;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>rp(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):Ot);dr.assertNever(i)}}sp.create=(e,t,r)=>new sp({schema:e,typeName:kt.ZodEffects,effect:t,...Ut(r)});sp.createWithPreprocess=(e,t,r)=>new sp({schema:t,effect:{type:"preprocess",transform:e},typeName:kt.ZodEffects,...Ut(r)});class ru extends Qt{_parse(t){return this._getType(t)===ft.undefined?fa(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ru.create=(e,t)=>new ru({innerType:e,typeName:kt.ZodOptional,...Ut(t)});class ap extends Qt{_parse(t){return this._getType(t)===ft.null?fa(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ap.create=(e,t)=>new ap({innerType:e,typeName:kt.ZodNullable,...Ut(t)});class jk extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t);let n=r.data;return r.parsedType===ft.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}jk.create=(e,t)=>new jk({innerType:e,typeName:kt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ut(t)});class Sk extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return iw(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Mo(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Mo(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Sk.create=(e,t)=>new Sk({innerType:e,typeName:kt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ut(t)});class yF extends Qt{_parse(t){if(this._getType(t)!==ft.nan){const n=this._getOrReturnCtx(t);return it(n,{code:Qe.invalid_type,expected:ft.nan,received:n.parsedType}),Ot}return{status:"valid",value:t.data}}}yF.create=e=>new yF({typeName:kt.ZodNaN,...Ut(e)});class SCe extends Qt{_parse(t){const{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class _M extends Qt{_parse(t){const{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Ot:s.status==="dirty"?(r.dirty(),Ag(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ot:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new _M({in:t,out:r,typeName:kt.ZodPipeline})}}class Nk extends Qt{_parse(t){const r=this._def.innerType._parse(t),n=i=>(rp(i)&&(i.value=Object.freeze(i.value)),i);return iw(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}Nk.create=(e,t)=>new Nk({innerType:e,typeName:kt.ZodReadonly,...Ut(t)});var kt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(kt||(kt={}));const _t=vl.create,ai=np.create,xn=bk.create,Ck=xv.create,NCe=wk.create;hu.create;const fb=Eo.create,jn=wn.create;sw.create;aw.create;Fd.create;const CCe=ow.create,dn=ip.create;lw.create;ru.create;ap.create;const ECe=({conversation:e,onReply:t,onArchive:r,onDelete:n,onMarkAsRead:i,onStar:s,showActions:o=!0})=>{const{user:l}=jr();if(console.log("🔍 ConversationCard - Données reçues:",{id:e.id,participant1_id:e.participant1_id,participant2_id:e.participant2_id,participant1:e.participant1,participant2:e.participant2,messages:e.messages?.length||0,currentUserId:l?.id,p1_details:e.participant1?{id:e.participant1.id,first_name:e.participant1.first_name,last_name:e.participant1.last_name,profile_image:e.participant1.profile_image,avatar_url:e.participant1.avatar_url}:null,p2_details:e.participant2?{id:e.participant2.id,first_name:e.participant2.first_name,last_name:e.participant2.last_name,profile_image:e.participant2.profile_image,avatar_url:e.participant2.avatar_url}:null}),e.id==="welcome-message"||e.type==="system"||e.is_system)return a.jsx(Tt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 shadow-sm",children:a.jsx(At,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"🤖"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-blue-800",children:"Assistant MaxiMarket"}),a.jsx(mt,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Système"})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:e.content||"Bienvenue sur MaxiMarket !"}),a.jsx("div",{className:"flex items-center space-x-1 mt-2",children:a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(la,{className:"h-3 w-3 mr-1"}),"À l'instant"]})})]})]})})});const u=S=>{if(!S)return"À l'instant";try{const N=new Date(S),C=new Date,A=Math.floor((C-N)/(1e3*60*60)),k=Math.floor((C-N)/(1e3*60*60*24));return A<1?"À l'instant":A<24?`Il y a ${A}h`:k<7?`Il y a ${k}j`:N.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}},f=e.messages&&e.messages.length>0?e.messages[e.messages.length-1]:null;let p=null,g="unknown";l&&e.participant1&&e.participant2?e.participant1_id===l.id?(p=e.participant2,g="participant2"):e.participant2_id===l.id?(p=e.participant1,g="participant1"):e.participant1_id==="00000000-0000-0000-0000-000000000000"?(p=e.participant2,g="assistant_participant2"):e.participant2_id==="00000000-0000-0000-0000-000000000000"?(p=e.participant1,g="assistant_participant1"):(p=e.participant1,g="fallback_participant1"):e.participant1?(p=e.participant1,g="only_participant1"):e.participant2&&(p=e.participant2,g="only_participant2"),console.log("🔍 ConversationCard - Logique de sélection du participant:",{conversationId:e.id,currentUserId:l?.id,participant1_id:e.participant1_id,participant2_id:e.participant2_id,participantSource:g,otherParticipant:p?{id:p.id,first_name:p.first_name,last_name:p.last_name,profile_image:p.profile_image,avatar_url:p.avatar_url}:null});const b=(S=>{if(!S)return console.warn("⚠️ ConversationCard - Participant null/undefined"),"Utilisateur inconnu";if(S.first_name&&S.last_name)return`${S.first_name} ${S.last_name}`;if(S.first_name)return S.first_name;if(S.last_name)return S.last_name;if(S.name)return S.name;if(S.email){const N=S.email.split("@")[0];return N.charAt(0).toUpperCase()+N.slice(1)}return console.warn("⚠️ ConversationCard - Aucun nom trouvé pour le participant:",S),"Utilisateur"})(p);console.log("🔍 ConversationCard - Nom d'affichage final:",{conversationId:e.id,displayName:b,participant:p});const y=e.messages&&e.messages.some(S=>!S.is_read&&S.sender_id!==l?.id),_=!p||!p.first_name&&!p.last_name&&!p.name;return a.jsx(Tt,{className:qe("transition-all duration-200 hover:shadow-md",y&&"bg-blue-50 border-blue-200",e.starred&&"bg-yellow-50 border-yellow-200",_&&"bg-orange-50 border-orange-200"),children:a.jsx(At,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(vv,{user:p,size:"lg",className:"flex-shrink-0"}),y&&a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 border-2 border-white rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:b}),_&&a.jsxs(mt,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:[a.jsx(Yd,{className:"h-3 w-3 mr-1"}),"Données manquantes"]}),y&&a.jsx(mt,{variant:"destructive",className:"text-xs",children:"Nouveau"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[e.starred&&a.jsx(Is,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(la,{className:"h-3 w-3 mr-1"}),u(e.last_message_at)]})]})]}),f&&a.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:f.content||"Aucun contenu"}),a.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[e.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Rd,{className:"h-3 w-3 mr-1"}),e.listing.title||"Annonce"]}),e.messages&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Xn,{className:"h-3 w-3 mr-1"}),e.messages.length," message",e.messages.length>1?"s":""]})]})}),o&&a.jsxs("div",{className:"flex items-center space-x-2 mt-3 pt-3 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>t?.(e),className:"flex-1",children:[a.jsx(TT,{className:"h-3 w-3 mr-1"}),"Répondre"]}),a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(e),className:"flex-1",children:[a.jsx(Ml,{className:"h-3 w-3 mr-1"}),"Marquer lu"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(e),children:a.jsx(x_,{className:"h-3 w-3"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>s?.(e),children:a.jsx(Is,{className:"h-3 w-3"})})]})]})]})})})},PCe=({activities:e=[]})=>{const t=i=>{switch(i){case"view":return a.jsx(Ml,{className:"h-4 w-4"});case"message":return a.jsx(Xn,{className:"h-4 w-4"});case"favorite":return a.jsx(Ao,{className:"h-4 w-4"});case"boost":return a.jsx(sa,{className:"h-4 w-4"});case"approval":return a.jsx(Yn,{className:"h-4 w-4"});case"warning":return a.jsx(Pn,{className:"h-4 w-4"});case"info":return a.jsx(ide,{className:"h-4 w-4"});default:return a.jsx(NT,{className:"h-4 w-4"})}},r=i=>{switch(i){case"view":return"bg-blue-50 border-blue-200";case"message":return"bg-green-50 border-green-200";case"favorite":return"bg-pink-50 border-pink-200";case"boost":return"bg-purple-50 border-purple-200";case"approval":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},n=i=>{switch(i){case"view":return"text-blue-500";case"message":return"text-green-500";case"favorite":return"text-pink-500";case"boost":return"text-purple-500";case"approval":return"text-green-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}};return e.length===0?a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsxs(ir,{className:"flex items-center space-x-2",children:[a.jsx(sa,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsx(At,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(sa,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Aucune activité récente"}),a.jsx("p",{className:"text-xs mt-1",children:"Vos activités apparaîtront ici"})]})})]}):a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsxs(ir,{className:"flex items-center space-x-2",children:[a.jsx(sa,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsxs(At,{children:[a.jsx("div",{className:"space-y-4",children:e.map(i=>a.jsxs("div",{className:qe("flex items-start space-x-3 p-3 rounded-lg transition-colors",r(i.type),i.unread&&"bg-blue-50 border-blue-200"),children:[a.jsx("div",{className:qe("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",r(i.type).replace("border-","bg-").replace("-50","-100")),children:a.jsx("div",{className:n(i.type),children:t(i.type)})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:i.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[i.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ml,{className:"h-3 w-3 mr-1"}),i.listing]}),i.location&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(No,{className:"h-3 w-3 mr-1"}),i.location]}),i.sender&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(es,{className:"h-3 w-3 mr-1"}),i.sender]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[i.unread&&a.jsx(mt,{variant:"destructive",className:"text-xs",children:"Nouveau"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(Ul,{className:"h-3 w-3 mr-1"}),i.time]})]})]})})]},i.id))}),activitiesToShow.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(NT,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune activité"}),a.jsx("p",{className:"text-muted-foreground",children:"Vous n'avez pas encore d'activité récente."})]})]})]})},TCe=({stats:e={}})=>{const t=[{id:"new-listing",title:"Nouvelle Annonce",description:"Publier une nouvelle annonce",icon:Oo,color:"from-primary to-blue-600",href:"/creer-annonce",badge:null},{id:"messages",title:"Messages",description:"Voir vos conversations",icon:Xn,color:"from-green-500 to-green-600",href:"/messages",badge:e.unreadMessages||0},{id:"favorites",title:"Mes Favoris",description:"Annonces sauvegardées",icon:Ao,color:"from-pink-500 to-pink-600",href:"/favorites",badge:e.totalFavorites||0},{id:"analytics",title:"Analytics",description:"Voir vos statistiques",icon:sa,color:"from-purple-500 to-purple-600",href:"/admin/analytics",badge:null},{id:"settings",title:"Paramètres",description:"Configurer votre compte",icon:pd,color:"from-gray-500 to-gray-600",href:"/profile",badge:null},{id:"support",title:"Support",description:"Besoin d'aide ?",icon:GO,color:"from-orange-500 to-orange-600",href:"/aide",badge:null}];return a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsxs(ir,{className:"flex items-center space-x-2",children:[a.jsx(Oo,{className:"h-5 w-5"}),a.jsx("span",{children:"Actions Rapides"})]})}),a.jsx(At,{children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:t.map(r=>a.jsx(ue,{variant:"outline",className:`h-12 bg-gradient-to-r ${r.color} hover:from-primary/90 hover:to-blue-600/90 text-white border-0 transition-all duration-200 hover:scale-105`,asChild:!0,children:a.jsxs(ar,{to:r.href,className:"flex items-center space-x-2",children:[a.jsx(r.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:r.title}),r.badge&&r.badge>0&&a.jsx(mt,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-0",children:r.badge})]})},r.id))})})]})},kCe=()=>{const{user:e,loading:t,logout:r}=jr(),{toast:n}=Zr(),i=Bn(),[s,o]=x.useState(!1),{activeTab:l,handleTabChange:c}=fye("dashboard"),[u,f]=x.useState([]),[p,g]=x.useState([]),[v,b]=x.useState([]),[y,_]=x.useState({totalListings:0,activeListings:0,totalViews:0,totalContacts:0,unreadMessages:0,totalFavorites:0}),[S,N]=x.useState({isOpen:!1,item:null}),[C,A]=x.useState({isOpen:!1,item:null}),[k,P]=x.useState({isOpen:!1,item:null}),[O,I]=x.useState({isOpen:!1,item:null}),[B,K]=x.useState(1),[V,U]=x.useState(1),[q]=x.useState(6),{register:H,handleSubmit:G,formState:{errors:se}}=qp({defaultValues:{firstName:e?.firstName||"",lastName:e?.lastName||"",email:e?.email||"",phoneNumber:e?.phoneNumber||""}});x.useEffect(()=>{(async()=>{if(e)try{const We=await zr.getUserListings();f(We);let Ue=[];try{Ue=await Nl.getUserFavorites()}catch(je){console.warn("Erreur lors du chargement des favoris:",je)}b(Ue);let Ne=[];try{Ne=await _i.getUserConversations()}catch(je){console.warn("Erreur lors du chargement des messages:",je)}g(Ne);const ot=We.filter(je=>je.status==="approved").length,Dt=We.reduce((je,Ae)=>je+(Ae.views_count||0),0),fe=Ne.filter(je=>!je.read).length;_({totalListings:We.length,activeListings:ot,totalViews:Dt,totalContacts:Ne.length,unreadMessages:fe,totalFavorites:Ue.length}),U(Math.ceil(We.length/q))}catch(We){console.error("Erreur lors du chargement des données:",We),n({title:"Erreur",description:"Impossible de charger vos données",variant:"destructive"})}})()},[e,n]);const W=async xe=>{try{o(!0),await Ba.updateProfile(xe),n({title:"Profil mis à jour",description:"Vos informations ont été mises à jour avec succès."})}catch(We){n({title:"Erreur",description:We.message,variant:"destructive"})}finally{o(!1)}},ee=async xe=>{try{o(!0),await Ba.updatePassword(xe.newPassword),n({title:"Mot de passe mis à jour",description:"Votre mot de passe a été changé avec succès."})}catch(We){n({title:"Erreur",description:We.message,variant:"destructive"})}finally{o(!1)}},X=xe=>{A({isOpen:!0,item:xe})},ne=xe=>{N({isOpen:!0,item:xe})},J=xe=>{I({isOpen:!0,item:xe})},oe=xe=>{P({isOpen:!0,item:xe})},be=async()=>{try{const xe=C.item;i(`/editer-annonce/${xe.id}`),A({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de modifier l'annonce",variant:"destructive"})}},Ce=async()=>{try{const xe=S.item;await zr.deleteListing(xe.id);const We=u.filter(Ue=>Ue.id!==xe.id);f(We),n({title:"Annonce supprimée",description:`"${xe.title}" a été supprimée`}),N({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de supprimer l'annonce",variant:"destructive"})}},Le=async()=>{try{const xe=O.item;await zr.updateListing(xe.id,{boosted:!xe.boosted});const We=u.map(Ue=>Ue.id===xe.id?{...Ue,boosted:!Ue.boosted}:Ue);f(We),n({title:"Annonce boostée",description:`"${xe.title}" a été boostée`}),I({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de booster l'annonce",variant:"destructive"})}},ce=async()=>{try{const xe=k.item;await zr.updateListing(xe.id,{updated_at:new Date().toISOString()}),n({title:"Annonce actualisée",description:`"${xe.title}" a été actualisée`}),P({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible d'actualiser l'annonce",variant:"destructive"})}},ae=xe=>{K(xe)},ge=()=>{const xe=(B-1)*q,We=xe+q;return u.slice(xe,We)},he=xe=>{i(`/messages?conversation=${xe.id}`)},Pe=async xe=>{try{await _i.archiveConversation(xe.id);const We=p.map(Ue=>Ue.id===xe.id?{...Ue,is_archived:!0}:Ue);g(We),n({title:"Conversation archivée",description:"La conversation a été archivée"})}catch{n({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},te=async xe=>{try{await _i.markMessagesAsRead(xe.id);const We=p.map(Ue=>Ue.id===xe.id?{...Ue,messages:Ue.messages?.map(Ne=>({...Ne,is_read:!0}))}:Ue);g(We),_(Ue=>({...Ue,unreadMessages:Math.max(0,Ue.unreadMessages-1)})),n({title:"Messages marqués comme lus",description:"Les messages ont été marqués comme lus"})}catch{n({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},Y=async xe=>{try{const We=!xe.starred;await _i.toggleConversationStar(xe.id,We);const Ue=p.map(Ne=>Ne.id===xe.id?{...Ne,starred:We}:Ne);g(Ue),n({title:We?"Conversation ajoutée aux favoris":"Conversation retirée des favoris",description:We?"La conversation a été ajoutée à vos favoris":"La conversation a été retirée de vos favoris"})}catch{n({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},_e=async()=>{try{if(await r())n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i("/");else throw new Error("Échec de la déconnexion")}catch(xe){n({title:"Erreur de déconnexion",description:xe.message||"Une erreur est survenue lors de la déconnexion",variant:"destructive"})}};return t?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Mr,{className:"h-8 w-8 animate-spin"})}):a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/20",children:[a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center overflow-hidden shadow-lg",children:e?.profileImage?a.jsx("img",{src:e.profileImage,alt:`${e.firstName} ${e.lastName}`,className:"w-full h-full object-cover"}):a.jsx(es,{className:"h-10 w-10 text-white"})}),a.jsx(ue,{size:"icon",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full shadow-md",children:a.jsx(Sd,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[e?.firstName," ",e?.lastName]}),a.jsxs("p",{className:"text-muted-foreground flex items-center",children:[a.jsx(cu,{className:"h-4 w-4 mr-2"}),e?.email]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsxs(mt,{variant:"secondary",className:"bg-green-100 text-green-800",children:[a.jsx(Rb,{className:"h-3 w-3 mr-1"}),"Compte vérifié"]}),a.jsxs(mt,{variant:"outline",children:["Membre depuis ",new Date(e?.createdAt).toLocaleDateString()]})]})]})]})}),a.jsxs(aR,{value:l,onValueChange:c,className:"w-full",children:[a.jsxs(C_,{className:"grid w-full grid-cols-7 bg-white/50 backdrop-blur-sm border border-border/50",children:[a.jsxs(Mi,{value:"dashboard",className:"flex items-center space-x-2",children:[a.jsx(dd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),a.jsxs(Mi,{value:"listings",className:"flex items-center space-x-2",children:[a.jsx(Rd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Mes Annonces"})]}),a.jsxs(Mi,{value:"messages",className:"flex items-center space-x-2",children:[a.jsx(Xn,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Messages"}),y.unreadMessages>0&&a.jsx(mt,{variant:"destructive",className:"h-5 w-5 p-0 text-xs",children:y.unreadMessages})]}),a.jsxs(Mi,{value:"favorites",className:"flex items-center space-x-2",children:[a.jsx(Ao,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Favoris"})]}),a.jsxs(Mi,{value:"transactions",className:"flex items-center space-x-2",children:[a.jsx(Vg,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),a.jsxs(Mi,{value:"profile",className:"flex items-center space-x-2",children:[a.jsx(es,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Profil"})]}),a.jsxs(Mi,{value:"security",className:"flex items-center space-x-2",children:[a.jsx(Rb,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sécurité"})]})]}),a.jsxs(Ii,{value:"dashboard",className:"space-y-6",children:[t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((xe,We)=>a.jsx(fSe,{},We))}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(S0,{title:"Annonces Actives",value:y.activeListings,icon:Rd,color:"blue"}),a.jsx(S0,{title:"Total des Vues",value:y.totalViews.toLocaleString(),icon:Ml,color:"green"}),a.jsx(S0,{title:"Contacts Reçus",value:y.totalContacts,icon:Ua,color:"purple"}),a.jsx(S0,{title:"Messages Non Lus",value:y.unreadMessages,icon:NT,color:"orange"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(PCe,{}),a.jsx(TCe,{stats:y})]})]}),a.jsxs(Ii,{value:"listings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos annonces publiées"})]}),a.jsx(ue,{asChild:!0,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",children:a.jsxs(ar,{to:"/creer-annonce",children:[a.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Nouvelle Annonce"]})})]}),t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((xe,We)=>a.jsx(dSe,{},We))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge().map(xe=>a.jsx(f3,{listing:xe,onEdit:X,onDelete:ne,onRefresh:oe,onBoost:J,showActions:!0},xe.id))}),a.jsx($1e,{currentPage:B,totalPages:V,onPageChange:ae,hasNextPage:B<V,hasPrevPage:B>1,isLoading:t})]})]}),a.jsxs(Ii,{value:"messages",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Filtrer"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Rechercher"]})]})]}),a.jsx("div",{className:"space-y-4",children:p.map(xe=>a.jsx(ECe,{conversation:xe,onReply:he,onArchive:Pe,onDelete:()=>{},onMarkAsRead:te,onStar:Y,showActions:!0},xe.id))})]}),a.jsxs(Ii,{value:"favorites",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Favoris"}),a.jsx("p",{className:"text-muted-foreground",children:"Annonces que vous avez sauvegardées"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(xe=>a.jsx(f3,{listing:xe,showActions:!1},xe.id))})]}),a.jsxs(Ii,{value:"transactions",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Historique de vos transactions"})]})}),a.jsx(Tt,{children:a.jsx(At,{className:"p-6",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Vg,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune transaction"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous n'avez pas encore effectué de transactions sur MaxiMarket."}),a.jsx(ue,{variant:"outline",children:"Découvrir nos services"})]})})})]}),a.jsxs(Ii,{value:"profile",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Informations du profil"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos informations personnelles"})]})}),a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Paramètres du profil"}),a.jsx(Sn,{children:"Gérez vos informations personnelles et vos préférences"})]}),a.jsx(At,{children:a.jsxs("form",{onSubmit:G(W),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",className:"pl-10",...H("firstName",{required:"Le prénom est requis"})})]}),se.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:se.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(es,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",className:"pl-10",...H("lastName",{required:"Le nom est requis"})})]}),se.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:se.lastName.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(cu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",className:"pl-10",...H("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),se.email&&a.jsx("p",{className:"text-sm text-destructive",children:se.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",className:"pl-10",...H("phoneNumber",{pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),se.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:se.phoneNumber.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Mettre à jour le profil"})]})})]})]}),a.jsxs(Ii,{value:"security",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Sécurité"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez la sécurité de votre compte"})]})}),a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Changer le mot de passe"}),a.jsx(Sn,{children:"Assurez-vous d'utiliser un mot de passe fort et unique"})]}),a.jsx(At,{children:a.jsxs("form",{onSubmit:G(ee),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),a.jsxs("div",{className:"relative",children:[a.jsx(Md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"currentPassword",type:"password",className:"pl-10",...H("currentPassword",{required:"Le mot de passe actuel est requis"})})]}),se.currentPassword&&a.jsx("p",{className:"text-sm text-destructive",children:se.currentPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Md,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"newPassword",type:"password",className:"pl-10",...H("newPassword",{required:"Le nouveau mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),se.newPassword&&a.jsx("p",{className:"text-sm text-destructive",children:se.newPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Changer le mot de passe"})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(ue,{onClick:_e,variant:"destructive",className:"w-full",children:[a.jsx(YO,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})})]})]})]}),a.jsx(T0e,{isOpen:S.isOpen,onClose:()=>N({isOpen:!1,item:null}),onConfirm:Ce,itemName:S.item?.title,isLoading:s}),a.jsx(k0e,{isOpen:C.isOpen,onClose:()=>A({isOpen:!1,item:null}),onConfirm:be,itemName:C.item?.title,isLoading:s}),a.jsx(A0e,{isOpen:k.isOpen,onClose:()=>P({isOpen:!1,item:null}),onConfirm:ce,itemName:k.item?.title,isLoading:s}),a.jsx(O0e,{isOpen:O.isOpen,onClose:()=>I({isOpen:!1,item:null}),onConfirm:Le,itemName:O.item?.title,isLoading:s})]})},ACe=()=>{const e=Bn();return x.useEffect(()=>{(async()=>{try{const{data:{session:r}}=await we.auth.getSession();r?.user?e("/",{replace:!0}):e("/connexion",{replace:!0})}catch{e("/connexion",{replace:!0})}})()},[e]),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx(Mr,{className:"mr-2 h-5 w-5 animate-spin"}),"Traitement de la confirmation..."]})})};function OCe(){const[e,t]=x.useState(null),[r,n]=x.useState(!0),[i,s]=x.useState(null);return x.useEffect(()=>{(async()=>{try{const{data:{session:v}}=await we.auth.getSession();s(v),t(v?.user??null)}catch(v){console.error("Erreur lors de la récupération de la session:",v)}finally{n(!1)}})();const{data:{subscription:g}}=we.auth.onAuthStateChange(async(v,b)=>{console.log("🔄 Événement d'authentification:",v),s(b),t(b?.user??null),n(!1)});return()=>g.unsubscribe()},[]),{user:e,session:i,loading:r,signIn:async(p,g)=>{try{const{data:v,error:b}=await we.auth.signInWithPassword({email:p,password:g});if(b)throw b;return{data:v,error:null}}catch(v){return console.error("Erreur de connexion:",v),{data:null,error:v}}},signUp:async(p,g,v={})=>{try{const{data:b,error:y}=await we.auth.signUp({email:p,password:g,options:{data:v}});if(y)throw y;return{data:b,error:null}}catch(b){return console.error("Erreur d'inscription:",b),{data:null,error:b}}},signOut:async()=>{try{const{error:p}=await we.auth.signOut();if(p)throw p;return{error:null}}catch(p){return console.error("Erreur de déconnexion:",p),{error:p}}},resetPassword:async p=>{try{const{data:g,error:v}=await we.auth.resetPasswordForEmail(p,{redirectTo:`${window.location.origin}/reset-password`});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de réinitialisation de mot de passe:",g),{data:null,error:g}}},updatePassword:async p=>{try{const{data:g,error:v}=await we.auth.updateUser({password:p});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de mise à jour du mot de passe:",g),{data:null,error:g}}},isAuthenticated:!!e}}const RCe=(e={})=>{const{user:t}=jr();return Zn({queryKey:["conversations",t?.id,e],queryFn:async()=>{try{console.log("🔍 Hook useConversations - Début de la récupération");const r=await _i.getUserConversations();return console.log("🔍 Hook useConversations - Récupération réussie:",r?.length||0),r}catch(r){throw console.error("❌ Hook useConversations - Erreur lors de la récupération:",r),r.code==="PGRST116"?new Error("Erreur de base de données: Vérifiez la structure des tables"):r.message?.includes("Invalid Refresh Token")?new Error("Session expirée. Veuillez vous reconnecter."):r.status===400?new Error("Requête invalide. Vérifiez les paramètres."):new Error(`Erreur de messagerie: ${r.message||"Erreur inconnue"}`)}},enabled:!!t,staleTime:3e4,gcTime:5*60*1e3,retry:(r,n)=>n.message?.includes("Session expirée")||n.message?.includes("Utilisateur non connecté")?!1:r<2,retryDelay:r=>Math.min(1e3*2**r,3e4)})},MCe=e=>{const t=Bo(),{user:r}=jr();x.useEffect(()=>{if(!e||!r)return;const n=we.channel(`messages:${e}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${e}`},i=>{t.setQueryData(["conversation-messages",e],s=>{if(!s)return s;const o=i.new,l=[...s.pages];return l.length>0&&(l[l.length-1]=[...l[l.length-1],o]),{...s,pages:l}}),t.setQueryData(["conversations"],s=>s&&s.map(o=>o.id===e?{...o,last_message_at:newMessage.created_at,messages:[...o.messages||[],newMessage]}:o))}).subscribe();return()=>{we.removeChannel(n)}},[e,r,t])},ICe=({selectedConversation:e,onBack:t,onMenuToggle:r,onSearch:n,onFilter:i,onMore:s,onCall:o,onVideo:l,unreadCount:c=0,isStarred:u=!1,isArchived:f=!1})=>e?a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:t,className:"p-2 -ml-2",children:a.jsx(Wa,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:a.jsx(es,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:e.participant1?.first_name||"Utilisateur"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:e.listing?.title||"Conversation"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[o&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:o,className:"p-2",children:a.jsx(Fa,{className:"h-4 w-4"})}),l&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:l,className:"p-2",children:a.jsx(JO,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:a.jsx(Hd,{className:"h-4 w-4"})})]})]}):a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Messages"}),c>0&&a.jsx(mt,{variant:"destructive",className:"h-5 px-2 text-xs",children:c})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-2",children:a.jsx(Jn,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-2",children:a.jsx(Fi,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:a.jsx(E7,{className:"h-4 w-4"})})]})]}),LCe=({searchTerm:e,onSearchChange:t,filterType:r,onFilterChange:n,onClear:i,totalCount:s=0,unreadCount:o=0,starredCount:l=0,archivedCount:c=0})=>{const[u,f]=x.useState(!1),p=[{key:"all",label:"Toutes",icon:Xn,count:s},{key:"unread",label:"Non lues",icon:la,count:o},{key:"starred",label:"Favoris",icon:Is,count:l},{key:"archived",label:"Archivées",icon:x_,count:c}];return a.jsxs("div",{className:"bg-card border-b border-border p-4",children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher des conversations...",value:e,onChange:g=>t(g.target.value),className:"pl-10 pr-10"}),e&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 h-6 w-6",children:a.jsx(is,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex space-x-2 mb-3",children:p.map(g=>a.jsxs(ue,{variant:r===g.key?"default":"outline",size:"sm",onClick:()=>n(g.key),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(g.icon,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs",children:g.label}),g.count>0&&a.jsx(mt,{variant:"secondary",className:"ml-1 h-4 px-1 text-xs",children:g.count})]},g.key))}),u&&a.jsx("div",{className:"pt-3 border-t border-border",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(es,{className:"h-3 w-3 mr-1"}),"Par utilisateur"]}),a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Rd,{className:"h-3 w-3 mr-1"}),"Par annonce"]})]})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>f(!u),className:"text-xs text-muted-foreground hover:text-foreground",children:[a.jsx(Fi,{className:"h-3 w-3 mr-1"}),u?"Masquer":"Plus de filtres"]})})]})},DCe=({onCapture:e,onClose:t,isOpen:r=!1,quality:n=.8,maxWidth:i=1920,maxHeight:s=1080})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState(!1),[p,g]=x.useState(null),[v,b]=x.useState(null),[y,_]=x.useState(null),[S,N]=x.useState(!1),[C,A]=x.useState("user"),{toast:k}=Zr(),P=x.useCallback(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){b("Votre navigateur ne supporte pas l'accès à la caméra");return}f(!0),b(null);try{const q={video:{facingMode:C,width:{ideal:i},height:{ideal:s}},audio:!1},H=await navigator.mediaDevices.getUserMedia(q);c.current=H,o.current&&(o.current.srcObject=H,o.current.onloadedmetadata=()=>{N(!0),f(!1)}),g(!0)}catch(q){console.error("Erreur caméra:",q),q.name==="NotAllowedError"?b("Permission d'accès à la caméra refusée. Veuillez autoriser l'accès dans les paramètres de votre navigateur."):q.name==="NotFoundError"?b("Aucune caméra trouvée sur votre appareil."):q.name==="NotReadableError"?b("La caméra est déjà utilisée par une autre application."):b("Erreur lors de l'accès à la caméra. Veuillez réessayer."),g(!1),f(!1)}},[C,i,s]),O=x.useCallback(()=>{c.current&&(c.current.getTracks().forEach(q=>q.stop()),c.current=null),N(!1)},[]),I=x.useCallback(()=>{S&&(O(),A(q=>q==="user"?"environment":"user"),setTimeout(()=>P(),100))},[S,O,P]),B=x.useCallback(()=>{if(!o.current||!l.current)return;const q=o.current,H=l.current,G=H.getContext("2d");H.width=q.videoWidth,H.height=q.videoHeight,G.drawImage(q,0,0,H.width,H.height),H.toBlob(se=>{if(se){const W=URL.createObjectURL(se);_({blob:se,url:W,timestamp:new Date().toISOString()}),k({title:"Photo capturée !",description:"Votre photo a été capturée avec succès.",duration:3e3})}},"image/jpeg",n)},[n,k]),K=x.useCallback(()=>{_(null),y?.url&&URL.revokeObjectURL(y.url)},[y]),V=x.useCallback(()=>{y&&e&&(e(y),t())},[y,e,t]),U=x.useCallback(()=>{O(),y?.url&&URL.revokeObjectURL(y.url),_(null),b(null),t()},[O,y,t]);return x.useEffect(()=>{r&&!S&&P()},[r,S,P]),x.useEffect(()=>()=>{O(),y?.url&&URL.revokeObjectURL(y.url)},[O,y]),p===!1?a.jsx(li,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Pn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la caméra refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v||"Pour utiliser la caméra, vous devez autoriser l'accès dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Fermer"}),a.jsx(ue,{onClick:P,children:"Réessayer"})]})]})})}):a.jsx(li,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Sd,{className:"h-5 w-5 mr-2"}),"Prendre une photo"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(is,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4",children:u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Mr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]}):y?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:a.jsx("img",{src:y.url,alt:"Photo capturée",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:K,children:[a.jsx(P$,{className:"h-4 w-4 mr-2"}),"Reprendre"]}),a.jsxs(ue,{onClick:V,children:[a.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Utiliser cette photo"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:[a.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!S&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Sd,{className:"h-16 w-16 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]})})]}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:I,disabled:!S,className:"flex items-center",children:[a.jsx(P$,{className:"h-4 w-4 mr-2"}),"Changer de caméra"]}),a.jsxs(ue,{onClick:B,disabled:!S,size:"lg",className:"bg-primary hover:bg-primary/90",children:[a.jsx(Sd,{className:"h-5 w-5 mr-2"}),"Prendre la photo"]})]}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:'Positionnez-vous dans le cadre et appuyez sur "Prendre la photo"'}),a.jsx("p",{className:"mt-1",children:"Vous pourrez reprendre la photo si nécessaire"})]})]})})]})})})},$Ce=({onFilesSelected:e,onClose:t,isOpen:r=!1,maxFiles:n=10,maxFileSize:i=10*1024*1024,acceptedTypes:s=["image/*","video/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","application/zip"],multiple:o=!0})=>{const l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState([]),[p,g]=x.useState(!1),[v,b]=x.useState({}),[y,_]=x.useState([]),[S,N]=x.useState({}),{toast:C}=Zr(),A=W=>W.type.startsWith("image/")?"image":W.type.startsWith("video/")?"video":W.type.startsWith("application/pdf")?"pdf":W.type.includes("word")||W.type.includes("document")?"document":W.type.includes("excel")||W.type.includes("spreadsheet")?"spreadsheet":W.type.includes("text/")||W.type.includes("csv")?"text":W.type.includes("zip")||W.type.includes("archive")?"archive":"other",k=W=>{switch(W){case"image":return a.jsx(S7,{className:"h-8 w-8 text-blue-500"});case"video":return a.jsx(JO,{className:"h-8 w-8 text-purple-500"});case"pdf":return a.jsx(Hr,{className:"h-8 w-8 text-red-500"});case"document":return a.jsx(Hr,{className:"h-8 w-8 text-blue-600"});case"spreadsheet":return a.jsx(Hr,{className:"h-8 w-8 text-green-600"});case"text":return a.jsx(Hr,{className:"h-8 w-8 text-gray-600"});case"archive":return a.jsx(Ob,{className:"h-8 w-8 text-orange-500"});default:return a.jsx(Ob,{className:"h-8 w-8 text-gray-500"})}},P=W=>{if(W===0)return"0 Bytes";const ee=1024,X=["Bytes","KB","MB","GB"],ne=Math.floor(Math.log(W)/Math.log(ee));return parseFloat((W/Math.pow(ee,ne)).toFixed(2))+" "+X[ne]},O=W=>{const ee=[];return W.size>i&&ee.push(`Le fichier "${W.name}" est trop volumineux (${P(W.size)}). Taille maximale : ${P(i)}`),s.some(ne=>ne.endsWith("/*")?W.type.startsWith(ne.slice(0,-1)):W.type===ne)||ee.push(`Le type de fichier "${W.type}" n'est pas accepté pour "${W.name}"`),u.length>=n&&ee.push(`Nombre maximum de fichiers atteint (${n})`),ee},I=x.useCallback(W=>{if(W.type.startsWith("image/")){const ee=new FileReader;ee.onload=X=>{N(ne=>({...ne,[W.name]:X.target.result}))},ee.readAsDataURL(W)}},[]),B=x.useCallback(W=>{const ee=Array.from(W),X=[],ne=[];ee.forEach(J=>{const oe=O(J);oe.length===0?(ne.push(J),I(J)):X.push(...oe)}),X.length>0&&(_(X),C({title:"Erreurs de validation",description:X.slice(0,3).join(". "),variant:"destructive",duration:5e3})),ne.length>0&&(f(J=>[...J,...ne]),C({title:"Fichiers ajoutés",description:`${ne.length} fichier(s) ajouté(s) avec succès.`,duration:3e3}))},[u,n,i,s,I,C]),K=x.useCallback(W=>{W.preventDefault(),g(!1);const ee=W.dataTransfer.files;ee.length>0&&B(ee)},[B]),V=x.useCallback(W=>{W.preventDefault(),g(!0)},[]),U=x.useCallback(W=>{W.preventDefault(),g(!1)},[]),q=x.useCallback(W=>{f(ee=>ee.filter(X=>X.name!==W)),N(ee=>{const X={...ee};return delete X[W],X}),b(ee=>{const X={...ee};return delete X[W],X})},[]),H=x.useCallback(()=>{u.length>0&&e&&(e(u),t())},[u,e,t]),G=x.useCallback(W=>{b(X=>({...X,[W.name]:0}));const ee=setInterval(()=>{b(X=>{const ne=X[W.name]||0;return ne>=100?(clearInterval(ee),X):{...X,[W.name]:ne+10}})},100)},[]),se=x.useCallback(()=>{f([]),N({}),b({}),_([]),t()},[t]);return a.jsx(li,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(tg,{className:"h-5 w-5 mr-2"}),"Sélectionner des fichiers"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:se,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(is,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{ref:c,onDrop:K,onDragOver:V,onDragLeave:U,className:`
                  border-2 border-dashed rounded-lg p-8 text-center transition-colors
                  ${p?"border-primary bg-primary/10":"border-border hover:border-primary/50"}
                `,children:[a.jsx(tg,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Glissez-déposez vos fichiers ici"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"ou cliquez pour sélectionner des fichiers"}),a.jsxs(ue,{onClick:()=>l.current?.click(),variant:"outline",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[a.jsx(tg,{className:"h-4 w-4 mr-2"}),"Choisir des fichiers"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Types acceptés : Images, Vidéos, PDF, Documents, etc.",a.jsx("br",{}),"Taille maximale : ",P(i)," par fichier"]})]}),a.jsx("input",{ref:l,type:"file",multiple:o,accept:s.join(","),onChange:W=>B(W.target.files),className:"hidden"}),u.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium",children:["Fichiers sélectionnés (",u.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:u.map((W,ee)=>a.jsx(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-lg p-3 bg-muted/30",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[k(A(W)),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",title:W.name,children:W.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[P(W.size)," • ",A(W)]}),S[W.name]&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:S[W.name],alt:W.name,className:"w-16 h-16 object-cover rounded border"})}),v[W.name]!==void 0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(tW,{value:v[W.name],className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v[W.name],"% terminé"]})]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>G(W),disabled:v[W.name]!==void 0,children:a.jsx(tg,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>q(W.name),className:"text-red-500 hover:text-red-700",children:a.jsx(Ka,{className:"h-4 w-4"})})]})]})},`${W.name}-${ee}`))})]}),y.length>0&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Pn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreurs de validation"}),a.jsxs("ul",{className:"text-sm text-destructive space-y-1",children:[y.slice(0,5).map((W,ee)=>a.jsxs("li",{children:["• ",W]},ee)),y.length>5&&a.jsxs("li",{children:["• ... et ",y.length-5," autres erreurs"]})]})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:u.length>0?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Yn,{className:"h-4 w-4 mr-2 text-green-500"}),u.length," fichier(s) prêt(s) à être envoyé(s)"]}):"Aucun fichier sélectionné"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:se,children:"Annuler"}),a.jsxs(ue,{onClick:H,disabled:u.length===0,className:"bg-primary hover:bg-primary/90",children:[a.jsx(tg,{className:"h-4 w-4 mr-2"}),"Envoyer ",u.length>0&&`(${u.length})`]})]})]})]})})})};var Og={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var FCe=Og.exports,xF;function BCe(){return xF||(xF=1,function(e,t){(function(r,n){n(t)})(FCe,function(r){var n="1.9.4";function i(h){var w,E,R,z;for(E=1,R=arguments.length;E<R;E++){z=arguments[E];for(w in z)h[w]=z[w]}return h}var s=Object.create||function(){function h(){}return function(w){return h.prototype=w,new h}}();function o(h,w){var E=Array.prototype.slice;if(h.bind)return h.bind.apply(h,E.call(arguments,1));var R=E.call(arguments,2);return function(){return h.apply(w,R.length?R.concat(E.call(arguments)):arguments)}}var l=0;function c(h){return"_leaflet_id"in h||(h._leaflet_id=++l),h._leaflet_id}function u(h,w,E){var R,z,ie,pe;return pe=function(){R=!1,z&&(ie.apply(E,z),z=!1)},ie=function(){R?z=arguments:(h.apply(E,arguments),setTimeout(pe,w),R=!0)},ie}function f(h,w,E){var R=w[1],z=w[0],ie=R-z;return h===R&&E?h:((h-z)%ie+ie)%ie+z}function p(){return!1}function g(h,w){if(w===!1)return h;var E=Math.pow(10,w===void 0?6:w);return Math.round(h*E)/E}function v(h){return h.trim?h.trim():h.replace(/^\s+|\s+$/g,"")}function b(h){return v(h).split(/\s+/)}function y(h,w){Object.prototype.hasOwnProperty.call(h,"options")||(h.options=h.options?s(h.options):{});for(var E in w)h.options[E]=w[E];return h.options}function _(h,w,E){var R=[];for(var z in h)R.push(encodeURIComponent(E?z.toUpperCase():z)+"="+encodeURIComponent(h[z]));return(!w||w.indexOf("?")===-1?"?":"&")+R.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function N(h,w){return h.replace(S,function(E,R){var z=w[R];if(z===void 0)throw new Error("No value provided for variable "+E);return typeof z=="function"&&(z=z(w)),z})}var C=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function A(h,w){for(var E=0;E<h.length;E++)if(h[E]===w)return E;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(h){return window["webkit"+h]||window["moz"+h]||window["ms"+h]}var O=0;function I(h){var w=+new Date,E=Math.max(0,16-(w-O));return O=w+E,window.setTimeout(h,E)}var B=window.requestAnimationFrame||P("RequestAnimationFrame")||I,K=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(h){window.clearTimeout(h)};function V(h,w,E){if(E&&B===I)h.call(w);else return B.call(window,o(h,w))}function U(h){h&&K.call(window,h)}var q={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:f,falseFn:p,formatNum:g,trim:v,splitWords:b,setOptions:y,getParamString:_,template:N,isArray:C,indexOf:A,emptyImageUrl:k,requestFn:B,cancelFn:K,requestAnimFrame:V,cancelAnimFrame:U};function H(){}H.extend=function(h){var w=function(){y(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=w.__super__=this.prototype,R=s(E);R.constructor=w,w.prototype=R;for(var z in this)Object.prototype.hasOwnProperty.call(this,z)&&z!=="prototype"&&z!=="__super__"&&(w[z]=this[z]);return h.statics&&i(w,h.statics),h.includes&&(G(h.includes),i.apply(null,[R].concat(h.includes))),i(R,h),delete R.statics,delete R.includes,R.options&&(R.options=E.options?s(E.options):{},i(R.options,h.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,pe=R._initHooks.length;ie<pe;ie++)R._initHooks[ie].call(this)}},w},H.include=function(h){var w=this.prototype.options;return i(this.prototype,h),h.options&&(this.prototype.options=w,this.mergeOptions(h.options)),this},H.mergeOptions=function(h){return i(this.prototype.options,h),this},H.addInitHook=function(h){var w=Array.prototype.slice.call(arguments,1),E=typeof h=="function"?h:function(){this[h].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function G(h){if(!(typeof L>"u"||!L||!L.Mixin)){h=C(h)?h:[h];for(var w=0;w<h.length;w++)h[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(h,w,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],w);else{h=b(h);for(var z=0,ie=h.length;z<ie;z++)this._on(h[z],w,E)}return this},off:function(h,w,E){if(!arguments.length)delete this._events;else if(typeof h=="object")for(var R in h)this._off(R,h[R],w);else{h=b(h);for(var z=arguments.length===1,ie=0,pe=h.length;ie<pe;ie++)z?this._off(h[ie]):this._off(h[ie],w,E)}return this},_on:function(h,w,E,R){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(h,w,E)===!1){E===this&&(E=void 0);var z={fn:w,ctx:E};R&&(z.once=!0),this._events=this._events||{},this._events[h]=this._events[h]||[],this._events[h].push(z)}},_off:function(h,w,E){var R,z,ie;if(this._events&&(R=this._events[h],!!R)){if(arguments.length===1){if(this._firingCount)for(z=0,ie=R.length;z<ie;z++)R[z].fn=p;delete this._events[h];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var pe=this._listens(h,w,E);if(pe!==!1){var Ee=R[pe];this._firingCount&&(Ee.fn=p,this._events[h]=R=R.slice()),R.splice(pe,1)}}},fire:function(h,w,E){if(!this.listens(h,E))return this;var R=i({},w,{type:h,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var z=this._events[h];if(z){this._firingCount=this._firingCount+1||1;for(var ie=0,pe=z.length;ie<pe;ie++){var Ee=z[ie],Me=Ee.fn;Ee.once&&this.off(h,Me,Ee.ctx),Me.call(Ee.ctx||this,R)}this._firingCount--}}return E&&this._propagateEvent(R),this},listens:function(h,w,E,R){typeof h!="string"&&console.warn('"string" type argument expected');var z=w;typeof w!="function"&&(R=!!w,z=void 0,E=void 0);var ie=this._events&&this._events[h];if(ie&&ie.length&&this._listens(h,z,E)!==!1)return!0;if(R){for(var pe in this._eventParents)if(this._eventParents[pe].listens(h,w,E,R))return!0}return!1},_listens:function(h,w,E){if(!this._events)return!1;var R=this._events[h]||[];if(!w)return!!R.length;E===this&&(E=void 0);for(var z=0,ie=R.length;z<ie;z++)if(R[z].fn===w&&R[z].ctx===E)return z;return!1},once:function(h,w,E){if(typeof h=="object")for(var R in h)this._on(R,h[R],w,!0);else{h=b(h);for(var z=0,ie=h.length;z<ie;z++)this._on(h[z],w,E,!0)}return this},addEventParent:function(h){return this._eventParents=this._eventParents||{},this._eventParents[c(h)]=h,this},removeEventParent:function(h){return this._eventParents&&delete this._eventParents[c(h)],this},_propagateEvent:function(h){for(var w in this._eventParents)this._eventParents[w].fire(h.type,i({layer:h.target,propagatedFrom:h.target},h),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var W=H.extend(se);function ee(h,w,E){this.x=E?Math.round(h):h,this.y=E?Math.round(w):w}var X=Math.trunc||function(h){return h>0?Math.floor(h):Math.ceil(h)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(h){return this.clone()._add(ne(h))},_add:function(h){return this.x+=h.x,this.y+=h.y,this},subtract:function(h){return this.clone()._subtract(ne(h))},_subtract:function(h){return this.x-=h.x,this.y-=h.y,this},divideBy:function(h){return this.clone()._divideBy(h)},_divideBy:function(h){return this.x/=h,this.y/=h,this},multiplyBy:function(h){return this.clone()._multiplyBy(h)},_multiplyBy:function(h){return this.x*=h,this.y*=h,this},scaleBy:function(h){return new ee(this.x*h.x,this.y*h.y)},unscaleBy:function(h){return new ee(this.x/h.x,this.y/h.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=X(this.x),this.y=X(this.y),this},distanceTo:function(h){h=ne(h);var w=h.x-this.x,E=h.y-this.y;return Math.sqrt(w*w+E*E)},equals:function(h){return h=ne(h),h.x===this.x&&h.y===this.y},contains:function(h){return h=ne(h),Math.abs(h.x)<=Math.abs(this.x)&&Math.abs(h.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function ne(h,w,E){return h instanceof ee?h:C(h)?new ee(h[0],h[1]):h==null?h:typeof h=="object"&&"x"in h&&"y"in h?new ee(h.x,h.y):new ee(h,w,E)}function J(h,w){if(h)for(var E=w?[h,w]:h,R=0,z=E.length;R<z;R++)this.extend(E[R])}J.prototype={extend:function(h){var w,E;if(!h)return this;if(h instanceof ee||typeof h[0]=="number"||"x"in h)w=E=ne(h);else if(h=oe(h),w=h.min,E=h.max,!w||!E)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=E.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(h){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,h)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(h){var w,E;return typeof h[0]=="number"||h instanceof ee?h=ne(h):h=oe(h),h instanceof J?(w=h.min,E=h.max):w=E=h,w.x>=this.min.x&&E.x<=this.max.x&&w.y>=this.min.y&&E.y<=this.max.y},intersects:function(h){h=oe(h);var w=this.min,E=this.max,R=h.min,z=h.max,ie=z.x>=w.x&&R.x<=E.x,pe=z.y>=w.y&&R.y<=E.y;return ie&&pe},overlaps:function(h){h=oe(h);var w=this.min,E=this.max,R=h.min,z=h.max,ie=z.x>w.x&&R.x<E.x,pe=z.y>w.y&&R.y<E.y;return ie&&pe},isValid:function(){return!!(this.min&&this.max)},pad:function(h){var w=this.min,E=this.max,R=Math.abs(w.x-E.x)*h,z=Math.abs(w.y-E.y)*h;return oe(ne(w.x-R,w.y-z),ne(E.x+R,E.y+z))},equals:function(h){return h?(h=oe(h),this.min.equals(h.getTopLeft())&&this.max.equals(h.getBottomRight())):!1}};function oe(h,w){return!h||h instanceof J?h:new J(h,w)}function be(h,w){if(h)for(var E=w?[h,w]:h,R=0,z=E.length;R<z;R++)this.extend(E[R])}be.prototype={extend:function(h){var w=this._southWest,E=this._northEast,R,z;if(h instanceof Le)R=h,z=h;else if(h instanceof be){if(R=h._southWest,z=h._northEast,!R||!z)return this}else return h?this.extend(ce(h)||Ce(h)):this;return!w&&!E?(this._southWest=new Le(R.lat,R.lng),this._northEast=new Le(z.lat,z.lng)):(w.lat=Math.min(R.lat,w.lat),w.lng=Math.min(R.lng,w.lng),E.lat=Math.max(z.lat,E.lat),E.lng=Math.max(z.lng,E.lng)),this},pad:function(h){var w=this._southWest,E=this._northEast,R=Math.abs(w.lat-E.lat)*h,z=Math.abs(w.lng-E.lng)*h;return new be(new Le(w.lat-R,w.lng-z),new Le(E.lat+R,E.lng+z))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(h){typeof h[0]=="number"||h instanceof Le||"lat"in h?h=ce(h):h=Ce(h);var w=this._southWest,E=this._northEast,R,z;return h instanceof be?(R=h.getSouthWest(),z=h.getNorthEast()):R=z=h,R.lat>=w.lat&&z.lat<=E.lat&&R.lng>=w.lng&&z.lng<=E.lng},intersects:function(h){h=Ce(h);var w=this._southWest,E=this._northEast,R=h.getSouthWest(),z=h.getNorthEast(),ie=z.lat>=w.lat&&R.lat<=E.lat,pe=z.lng>=w.lng&&R.lng<=E.lng;return ie&&pe},overlaps:function(h){h=Ce(h);var w=this._southWest,E=this._northEast,R=h.getSouthWest(),z=h.getNorthEast(),ie=z.lat>w.lat&&R.lat<E.lat,pe=z.lng>w.lng&&R.lng<E.lng;return ie&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(h,w){return h?(h=Ce(h),this._southWest.equals(h.getSouthWest(),w)&&this._northEast.equals(h.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ce(h,w){return h instanceof be?h:new be(h,w)}function Le(h,w,E){if(isNaN(h)||isNaN(w))throw new Error("Invalid LatLng object: ("+h+", "+w+")");this.lat=+h,this.lng=+w,E!==void 0&&(this.alt=+E)}Le.prototype={equals:function(h,w){if(!h)return!1;h=ce(h);var E=Math.max(Math.abs(this.lat-h.lat),Math.abs(this.lng-h.lng));return E<=(w===void 0?1e-9:w)},toString:function(h){return"LatLng("+g(this.lat,h)+", "+g(this.lng,h)+")"},distanceTo:function(h){return ge.distance(this,ce(h))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(h){var w=180*h/40075017,E=w/Math.cos(Math.PI/180*this.lat);return Ce([this.lat-w,this.lng-E],[this.lat+w,this.lng+E])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function ce(h,w,E){return h instanceof Le?h:C(h)&&typeof h[0]!="object"?h.length===3?new Le(h[0],h[1],h[2]):h.length===2?new Le(h[0],h[1]):null:h==null?h:typeof h=="object"&&"lat"in h?new Le(h.lat,"lng"in h?h.lng:h.lon,h.alt):w===void 0?null:new Le(h,w,E)}var ae={latLngToPoint:function(h,w){var E=this.projection.project(h),R=this.scale(w);return this.transformation._transform(E,R)},pointToLatLng:function(h,w){var E=this.scale(w),R=this.transformation.untransform(h,E);return this.projection.unproject(R)},project:function(h){return this.projection.project(h)},unproject:function(h){return this.projection.unproject(h)},scale:function(h){return 256*Math.pow(2,h)},zoom:function(h){return Math.log(h/256)/Math.LN2},getProjectedBounds:function(h){if(this.infinite)return null;var w=this.projection.bounds,E=this.scale(h),R=this.transformation.transform(w.min,E),z=this.transformation.transform(w.max,E);return new J(R,z)},infinite:!1,wrapLatLng:function(h){var w=this.wrapLng?f(h.lng,this.wrapLng,!0):h.lng,E=this.wrapLat?f(h.lat,this.wrapLat,!0):h.lat,R=h.alt;return new Le(E,w,R)},wrapLatLngBounds:function(h){var w=h.getCenter(),E=this.wrapLatLng(w),R=w.lat-E.lat,z=w.lng-E.lng;if(R===0&&z===0)return h;var ie=h.getSouthWest(),pe=h.getNorthEast(),Ee=new Le(ie.lat-R,ie.lng-z),Me=new Le(pe.lat-R,pe.lng-z);return new be(Ee,Me)}},ge=i({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(h,w){var E=Math.PI/180,R=h.lat*E,z=w.lat*E,ie=Math.sin((w.lat-h.lat)*E/2),pe=Math.sin((w.lng-h.lng)*E/2),Ee=ie*ie+Math.cos(R)*Math.cos(z)*pe*pe,Me=2*Math.atan2(Math.sqrt(Ee),Math.sqrt(1-Ee));return this.R*Me}}),he=6378137,Pe={R:he,MAX_LATITUDE:85.0511287798,project:function(h){var w=Math.PI/180,E=this.MAX_LATITUDE,R=Math.max(Math.min(E,h.lat),-E),z=Math.sin(R*w);return new ee(this.R*h.lng*w,this.R*Math.log((1+z)/(1-z))/2)},unproject:function(h){var w=180/Math.PI;return new Le((2*Math.atan(Math.exp(h.y/this.R))-Math.PI/2)*w,h.x*w/this.R)},bounds:function(){var h=he*Math.PI;return new J([-h,-h],[h,h])}()};function te(h,w,E,R){if(C(h)){this._a=h[0],this._b=h[1],this._c=h[2],this._d=h[3];return}this._a=h,this._b=w,this._c=E,this._d=R}te.prototype={transform:function(h,w){return this._transform(h.clone(),w)},_transform:function(h,w){return w=w||1,h.x=w*(this._a*h.x+this._b),h.y=w*(this._c*h.y+this._d),h},untransform:function(h,w){return w=w||1,new ee((h.x/w-this._b)/this._a,(h.y/w-this._d)/this._c)}};function Y(h,w,E,R){return new te(h,w,E,R)}var _e=i({},ge,{code:"EPSG:3857",projection:Pe,transformation:function(){var h=.5/(Math.PI*Pe.R);return Y(h,.5,-h,.5)}()}),xe=i({},_e,{code:"EPSG:900913"});function We(h){return document.createElementNS("http://www.w3.org/2000/svg",h)}function Ue(h,w){var E="",R,z,ie,pe,Ee,Me;for(R=0,ie=h.length;R<ie;R++){for(Ee=h[R],z=0,pe=Ee.length;z<pe;z++)Me=Ee[z],E+=(z?"L":"M")+Me.x+" "+Me.y;E+=w?pt.svg?"z":"x":""}return E||"M0 0"}var Ne=document.documentElement.style,ot="ActiveXObject"in window,Dt=ot&&!document.addEventListener,fe="msLaunchUri"in navigator&&!("documentMode"in document),je=ui("webkit"),Ae=ui("android"),Ze=ui("android 2")||ui("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),me=Ae&&ui("Google")&&Xe<537&&!("AudioNode"in window),De=!!window.opera,Z=!fe&&ui("chrome"),D=ui("gecko")&&!je&&!De&&!ot,F=!Z&&ui("safari"),le=ui("phantom"),ye="OTransition"in Ne,Oe=navigator.platform.indexOf("Win")===0,$e=ot&&"transition"in Ne,yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ze,lr="MozPerspective"in Ne,qt=!window.L_DISABLE_3D&&($e||yt||lr)&&!ye&&!le,Yt=typeof orientation<"u"||ui("mobile"),Wt=Yt&&je,Zl=Yt&&yt,Uo=!window.PointerEvent&&window.MSPointerEvent,pa=!!(window.PointerEvent||Uo),os="ontouchstart"in window||!!window.TouchEvent,ls=!window.L_NO_TOUCH&&(os||pa),uf=Yt&&De,Nt=Yt&&D,tr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,br=function(){var h=!1;try{var w=Object.defineProperty({},"passive",{get:function(){h=!0}});window.addEventListener("testPassiveEventSupport",p,w),window.removeEventListener("testPassiveEventSupport",p,w)}catch{}return h}(),ei=function(){return!!document.createElement("canvas").getContext}(),qn=!!(document.createElementNS&&We("svg").createSVGRect),ci=!!qn&&function(){var h=document.createElement("div");return h.innerHTML="<svg/>",(h.firstChild&&h.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),cs=!qn&&function(){try{var h=document.createElement("div");h.innerHTML='<v:shape adj="1"/>';var w=h.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),Tn=navigator.platform.indexOf("Mac")===0,$s=navigator.platform.indexOf("Linux")===0;function ui(h){return navigator.userAgent.toLowerCase().indexOf(h)>=0}var pt={ie:ot,ielt9:Dt,edge:fe,webkit:je,android:Ae,android23:Ze,androidStock:me,opera:De,chrome:Z,gecko:D,safari:F,phantom:le,opera12:ye,win:Oe,ie3d:$e,webkit3d:yt,gecko3d:lr,any3d:qt,mobile:Yt,mobileWebkit:Wt,mobileWebkit3d:Zl,msPointer:Uo,pointer:pa,touch:ls,touchNative:os,mobileOpera:uf,mobileGecko:Nt,retina:tr,passiveEvents:br,canvas:ei,svg:qn,vml:cs,inlineSvg:ci,mac:Tn,linux:$s},Cu=pt.msPointer?"MSPointerDown":"pointerdown",df=pt.msPointer?"MSPointerMove":"pointermove",Zy=pt.msPointer?"MSPointerUp":"pointerup",Yy=pt.msPointer?"MSPointerCancel":"pointercancel",lm={touchstart:Cu,touchmove:df,touchend:Zy,touchcancel:Yy},to={touchstart:Qr,touchmove:ff,touchend:ff,touchcancel:ff},Vo={},cm=!1;function D1(h,w,E){return w==="touchstart"&&$1(),to[w]?(E=to[w].bind(this,E),h.addEventListener(lm[w],E,!1),E):(console.warn("wrong event specified:",w),p)}function Xy(h,w,E){if(!lm[w]){console.warn("wrong event specified:",w);return}h.removeEventListener(lm[w],E,!1)}function Jy(h){Vo[h.pointerId]=h}function Qy(h){Vo[h.pointerId]&&(Vo[h.pointerId]=h)}function um(h){delete Vo[h.pointerId]}function $1(){cm||(document.addEventListener(Cu,Jy,!0),document.addEventListener(df,Qy,!0),document.addEventListener(Zy,um,!0),document.addEventListener(Yy,um,!0),cm=!0)}function ff(h,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var E in Vo)w.touches.push(Vo[E]);w.changedTouches=[w],h(w)}}function Qr(h,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&en(w),ff(h,w)}function F1(h){var w={},E,R;for(R in h)E=h[R],w[R]=E&&E.bind?E.bind(h):E;return h=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var dm=200;function ex(h,w){h.addEventListener("dblclick",w);var E=0,R;function z(ie){if(ie.detail!==1){R=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var pe=Ko(ie);if(!(pe.some(function(Me){return Me instanceof HTMLLabelElement&&Me.attributes.for})&&!pe.some(function(Me){return Me instanceof HTMLInputElement||Me instanceof HTMLSelectElement}))){var Ee=Date.now();Ee-E<=dm?(R++,R===2&&w(F1(ie))):R=1,E=Ee}}}return h.addEventListener("click",z),{dblclick:w,simDblclick:z}}function hf(h,w){h.removeEventListener("dblclick",w.dblclick),h.removeEventListener("click",w.simDblclick)}var fm=Ql(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yl=Ql(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Eu=Yl==="webkitTransition"||Yl==="OTransition"?Yl+"End":"transitionend";function us(h){return typeof h=="string"?document.getElementById(h):h}function Pu(h,w){var E=h.style[w]||h.currentStyle&&h.currentStyle[w];if((!E||E==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(h,null);E=R?R[w]:null}return E==="auto"?null:E}function Rt(h,w,E){var R=document.createElement(h);return R.className=w||"",E&&E.appendChild(R),R}function Ur(h){var w=h.parentNode;w&&w.removeChild(h)}function pf(h){for(;h.firstChild;)h.removeChild(h.firstChild)}function Xl(h){var w=h.parentNode;w&&w.lastChild!==h&&w.appendChild(h)}function ma(h){var w=h.parentNode;w&&w.firstChild!==h&&w.insertBefore(h,w.firstChild)}function Jl(h,w){if(h.classList!==void 0)return h.classList.contains(w);var E=mf(h);return E.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(E)}function Pt(h,w){if(h.classList!==void 0)for(var E=b(w),R=0,z=E.length;R<z;R++)h.classList.add(E[R]);else if(!Jl(h,w)){var ie=mf(h);hm(h,(ie?ie+" ":"")+w)}}function Lr(h,w){h.classList!==void 0?h.classList.remove(w):hm(h,v((" "+mf(h)+" ").replace(" "+w+" "," ")))}function hm(h,w){h.className.baseVal===void 0?h.className=w:h.className.baseVal=w}function mf(h){return h.correspondingElement&&(h=h.correspondingElement),h.className.baseVal===void 0?h.className:h.className.baseVal}function di(h,w){"opacity"in h.style?h.style.opacity=w:"filter"in h.style&&tx(h,w)}function tx(h,w){var E=!1,R="DXImageTransform.Microsoft.Alpha";try{E=h.filters.item(R)}catch{if(w===1)return}w=Math.round(w*100),E?(E.Enabled=w!==100,E.Opacity=w):h.style.filter+=" progid:"+R+"(opacity="+w+")"}function Ql(h){for(var w=document.documentElement.style,E=0;E<h.length;E++)if(h[E]in w)return h[E];return!1}function ds(h,w,E){var R=w||new ee(0,0);h.style[fm]=(pt.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(E?" scale("+E+")":"")}function on(h,w){h._leaflet_pos=w,pt.any3d?ds(h,w):(h.style.left=w.x+"px",h.style.top=w.y+"px")}function ga(h){return h._leaflet_pos||new ee(0,0)}var Xt,ec,gf;if("onselectstart"in document)Xt=function(){Ct(window,"selectstart",en)},ec=function(){Sr(window,"selectstart",en)};else{var Wo=Ql(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xt=function(){if(Wo){var h=document.documentElement.style;gf=h[Wo],h[Wo]="none"}},ec=function(){Wo&&(document.documentElement.style[Wo]=gf,gf=void 0)}}function vf(){Ct(window,"dragstart",en)}function yf(){Sr(window,"dragstart",en)}var Tu,ku;function tc(h){for(;h.tabIndex===-1;)h=h.parentNode;h.style&&(fs(),Tu=h,ku=h.style.outlineStyle,h.style.outlineStyle="none",Ct(window,"keydown",fs))}function fs(){Tu&&(Tu.style.outlineStyle=ku,Tu=void 0,ku=void 0,Sr(window,"keydown",fs))}function va(h){do h=h.parentNode;while((!h.offsetWidth||!h.offsetHeight)&&h!==document.body);return h}function Fs(h){var w=h.getBoundingClientRect();return{x:w.width/h.offsetWidth||1,y:w.height/h.offsetHeight||1,boundingClientRect:w}}var Au={__proto__:null,TRANSFORM:fm,TRANSITION:Yl,TRANSITION_END:Eu,get:us,getStyle:Pu,create:Rt,remove:Ur,empty:pf,toFront:Xl,toBack:ma,hasClass:Jl,addClass:Pt,removeClass:Lr,setClass:hm,getClass:mf,setOpacity:di,testProp:Ql,setTransform:ds,setPosition:on,getPosition:ga,get disableTextSelection(){return Xt},get enableTextSelection(){return ec},disableImageDrag:vf,enableImageDrag:yf,preventOutline:tc,restoreOutline:fs,getSizedParentNode:va,getScale:Fs};function Ct(h,w,E,R){if(w&&typeof w=="object")for(var z in w)mm(h,z,w[z],E);else{w=b(w);for(var ie=0,pe=w.length;ie<pe;ie++)mm(h,w[ie],E,R)}return this}var kn="_leaflet_events";function Sr(h,w,E,R){if(arguments.length===1)pm(h),delete h[kn];else if(w&&typeof w=="object")for(var z in w)xf(h,z,w[z],E);else if(w=b(w),arguments.length===2)pm(h,function(Ee){return A(w,Ee)!==-1});else for(var ie=0,pe=w.length;ie<pe;ie++)xf(h,w[ie],E,R);return this}function pm(h,w){for(var E in h[kn]){var R=E.split(/\d/)[0];(!w||w(R))&&xf(h,R,null,null,E)}}var Ho={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mm(h,w,E,R){var z=w+c(E)+(R?"_"+c(R):"");if(h[kn]&&h[kn][z])return this;var ie=function(Ee){return E.call(R||h,Ee||window.event)},pe=ie;!pt.touchNative&&pt.pointer&&w.indexOf("touch")===0?ie=D1(h,w,ie):pt.touch&&w==="dblclick"?ie=ex(h,ie):"addEventListener"in h?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?h.addEventListener(Ho[w]||w,ie,pt.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ie=function(Ee){Ee=Ee||window.event,Mu(h,Ee)&&pe(Ee)},h.addEventListener(Ho[w],ie,!1)):h.addEventListener(w,pe,!1):h.attachEvent("on"+w,ie),h[kn]=h[kn]||{},h[kn][z]=ie}function xf(h,w,E,R,z){z=z||w+c(E)+(R?"_"+c(R):"");var ie=h[kn]&&h[kn][z];if(!ie)return this;!pt.touchNative&&pt.pointer&&w.indexOf("touch")===0?Xy(h,w,ie):pt.touch&&w==="dblclick"?hf(h,ie):"removeEventListener"in h?h.removeEventListener(Ho[w]||w,ie,!1):h.detachEvent("on"+w,ie),h[kn][z]=null}function Bs(h){return h.stopPropagation?h.stopPropagation():h.originalEvent?h.originalEvent._stopped=!0:h.cancelBubble=!0,this}function bf(h){return mm(h,"wheel",Bs),this}function Ou(h){return Ct(h,"mousedown touchstart dblclick contextmenu",Bs),h._leaflet_disable_click=!0,this}function en(h){return h.preventDefault?h.preventDefault():h.returnValue=!1,this}function hs(h){return en(h),Bs(h),this}function Ko(h){if(h.composedPath)return h.composedPath();for(var w=[],E=h.target;E;)w.push(E),E=E.parentNode;return w}function Ru(h,w){if(!w)return new ee(h.clientX,h.clientY);var E=Fs(w),R=E.boundingClientRect;return new ee((h.clientX-R.left)/E.x-w.clientLeft,(h.clientY-R.top)/E.y-w.clientTop)}var B1=pt.linux&&pt.chrome?window.devicePixelRatio:pt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function rx(h){return pt.edge?h.wheelDeltaY/2:h.deltaY&&h.deltaMode===0?-h.deltaY/B1:h.deltaY&&h.deltaMode===1?-h.deltaY*20:h.deltaY&&h.deltaMode===2?-h.deltaY*60:h.deltaX||h.deltaZ?0:h.wheelDelta?(h.wheelDeltaY||h.wheelDelta)/2:h.detail&&Math.abs(h.detail)<32765?-h.detail*20:h.detail?h.detail/-32765*60:0}function Mu(h,w){var E=w.relatedTarget;if(!E)return!0;try{for(;E&&E!==h;)E=E.parentNode}catch{return!1}return E!==h}var wf={__proto__:null,on:Ct,off:Sr,stopPropagation:Bs,disableScrollPropagation:bf,disableClickPropagation:Ou,preventDefault:en,stop:hs,getPropagationPath:Ko,getMousePosition:Ru,getWheelDelta:rx,isExternalTarget:Mu,addListener:Ct,removeListener:Sr},_f=W.extend({run:function(h,w,E,R){this.stop(),this._el=h,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=ga(h),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(h){var w=+new Date-this._startTime,E=this._duration*1e3;w<E?this._runFrame(this._easeOut(w/E),h):(this._runFrame(1),this._complete())},_runFrame:function(h,w){var E=this._startPos.add(this._offset.multiplyBy(h));w&&E._round(),on(this._el,E),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(h){return 1-Math.pow(1-h,this._easeOutPower)}}),Gt=W.extend({options:{crs:_e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(h,w){w=y(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(h),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(ce(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yl&&pt.any3d&&!pt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Eu,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(h,w,E){if(w=w===void 0?this._zoom:this._limitZoom(w),h=this._limitCenter(ce(h),w,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var R=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(h,w,E.zoom):this._tryAnimatedPan(h,E.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(h,w,E.pan&&E.pan.noMoveStart),this},setZoom:function(h,w){return this._loaded?this.setView(this.getCenter(),h,{zoom:w}):(this._zoom=h,this)},zoomIn:function(h,w){return h=h||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+h,w)},zoomOut:function(h,w){return h=h||(pt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-h,w)},setZoomAround:function(h,w,E){var R=this.getZoomScale(w),z=this.getSize().divideBy(2),ie=h instanceof ee?h:this.latLngToContainerPoint(h),pe=ie.subtract(z).multiplyBy(1-1/R),Ee=this.containerPointToLatLng(z.add(pe));return this.setView(Ee,w,{zoom:E})},_getBoundsCenterZoom:function(h,w){w=w||{},h=h.getBounds?h.getBounds():Ce(h);var E=ne(w.paddingTopLeft||w.padding||[0,0]),R=ne(w.paddingBottomRight||w.padding||[0,0]),z=this.getBoundsZoom(h,!1,E.add(R));if(z=typeof w.maxZoom=="number"?Math.min(w.maxZoom,z):z,z===1/0)return{center:h.getCenter(),zoom:z};var ie=R.subtract(E).divideBy(2),pe=this.project(h.getSouthWest(),z),Ee=this.project(h.getNorthEast(),z),Me=this.unproject(pe.add(Ee).divideBy(2).add(ie),z);return{center:Me,zoom:z}},fitBounds:function(h,w){if(h=Ce(h),!h.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(h,w);return this.setView(E.center,E.zoom,w)},fitWorld:function(h){return this.fitBounds([[-90,-180],[90,180]],h)},panTo:function(h,w){return this.setView(h,this._zoom,{pan:w})},panBy:function(h,w){if(h=ne(h).round(),w=w||{},!h.x&&!h.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(h))return this._resetView(this.unproject(this.project(this.getCenter()).add(h)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new _f,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(h).round();this._panAnim.run(this._mapPane,E,w.duration||.25,w.easeLinearity)}else this._rawPanBy(h),this.fire("move").fire("moveend");return this},flyTo:function(h,w,E){if(E=E||{},E.animate===!1||!pt.any3d)return this.setView(h,w,E);this._stop();var R=this.project(this.getCenter()),z=this.project(h),ie=this.getSize(),pe=this._zoom;h=ce(h),w=w===void 0?pe:w;var Ee=Math.max(ie.x,ie.y),Me=Ee*this.getZoomScale(pe,w),ze=z.distanceTo(R)||1,nt=1.42,xt=nt*nt;function $t(mr){var gc=mr?-1:1,ej=mr?Me:Ee,tj=Me*Me-Ee*Ee+gc*xt*xt*ze*ze,el=2*ej*xt*ze,tl=tj/el,rl=Math.sqrt(tl*tl+1)-tl,Lf=rl<1e-9?-18:Math.log(rl);return Lf}function An(mr){return(Math.exp(mr)-Math.exp(-mr))/2}function vn(mr){return(Math.exp(mr)+Math.exp(-mr))/2}function Ti(mr){return An(mr)/vn(mr)}var hi=$t(0);function pc(mr){return Ee*(vn(hi)/vn(hi+nt*mr))}function Lm(mr){return Ee*(vn(hi)*Ti(hi+nt*mr)-An(hi))/xt}function co(mr){return 1-Math.pow(1-mr,1.5)}var jx=Date.now(),Qo=($t(1)-hi)/nt,Vs=E.duration?1e3*E.duration:1e3*Qo*.8;function mc(){var mr=(Date.now()-jx)/Vs,gc=co(mr)*Qo;mr<=1?(this._flyToFrame=V(mc,this),this._move(this.unproject(R.add(z.subtract(R).multiplyBy(Lm(gc)/ze)),pe),this.getScaleZoom(Ee/pc(gc),pe),{flyTo:!0})):this._move(h,w)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),mc.call(this),this},flyToBounds:function(h,w){var E=this._getBoundsCenterZoom(h,w);return this.flyTo(E.center,E.zoom,w)},setMaxBounds:function(h){return h=Ce(h),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),h.isValid()?(this.options.maxBounds=h,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(h){var w=this.options.minZoom;return this.options.minZoom=h,this._loaded&&w!==h&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(h):this},setMaxZoom:function(h){var w=this.options.maxZoom;return this.options.maxZoom=h,this._loaded&&w!==h&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(h):this},panInsideBounds:function(h,w){this._enforcingBounds=!0;var E=this.getCenter(),R=this._limitCenter(E,this._zoom,Ce(h));return E.equals(R)||this.panTo(R,w),this._enforcingBounds=!1,this},panInside:function(h,w){w=w||{};var E=ne(w.paddingTopLeft||w.padding||[0,0]),R=ne(w.paddingBottomRight||w.padding||[0,0]),z=this.project(this.getCenter()),ie=this.project(h),pe=this.getPixelBounds(),Ee=oe([pe.min.add(E),pe.max.subtract(R)]),Me=Ee.getSize();if(!Ee.contains(ie)){this._enforcingBounds=!0;var ze=ie.subtract(Ee.getCenter()),nt=Ee.extend(ie).getSize().subtract(Me);z.x+=ze.x<0?-nt.x:nt.x,z.y+=ze.y<0?-nt.y:nt.y,this.panTo(this.unproject(z),w),this._enforcingBounds=!1}return this},invalidateSize:function(h){if(!this._loaded)return this;h=i({animate:!1,pan:!0},h===!0?{animate:!0}:h);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),R=w.divideBy(2).round(),z=E.divideBy(2).round(),ie=R.subtract(z);return!ie.x&&!ie.y?this:(h.animate&&h.pan?this.panBy(ie):(h.pan&&this._rawPanBy(ie),this.fire("move"),h.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(h){if(h=this._locateOptions=i({timeout:1e4,watch:!1},h),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return h.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,E,h):navigator.geolocation.getCurrentPosition(w,E,h),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(h){if(this._container._leaflet_id){var w=h.code,E=h.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(h){if(this._container._leaflet_id){var w=h.coords.latitude,E=h.coords.longitude,R=new Le(w,E),z=R.toBounds(h.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var pe=this.getBoundsZoom(z);this.setView(R,ie.maxZoom?Math.min(pe,ie.maxZoom):pe)}var Ee={latlng:R,bounds:z,timestamp:h.timestamp};for(var Me in h.coords)typeof h.coords[Me]=="number"&&(Ee[Me]=h.coords[Me]);this.fire("locationfound",Ee)}},addHandler:function(h,w){if(!w)return this;var E=this[h]=new w(this);return this._handlers.push(E),this.options[h]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ur(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var h;for(h in this._layers)this._layers[h].remove();for(h in this._panes)Ur(this._panes[h]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(h,w){var E="leaflet-pane"+(h?" leaflet-"+h.replace("Pane","")+"-pane":""),R=Rt("div",E,w||this._mapPane);return h&&(this._panes[h]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var h=this.getPixelBounds(),w=this.unproject(h.getBottomLeft()),E=this.unproject(h.getTopRight());return new be(w,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(h,w,E){h=Ce(h),E=ne(E||[0,0]);var R=this.getZoom()||0,z=this.getMinZoom(),ie=this.getMaxZoom(),pe=h.getNorthWest(),Ee=h.getSouthEast(),Me=this.getSize().subtract(E),ze=oe(this.project(Ee,R),this.project(pe,R)).getSize(),nt=pt.any3d?this.options.zoomSnap:1,xt=Me.x/ze.x,$t=Me.y/ze.y,An=w?Math.max(xt,$t):Math.min(xt,$t);return R=this.getScaleZoom(An,R),nt&&(R=Math.round(R/(nt/100))*(nt/100),R=w?Math.ceil(R/nt)*nt:Math.floor(R/nt)*nt),Math.max(z,Math.min(ie,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(h,w){var E=this._getTopLeftPoint(h,w);return new J(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(h){return this.options.crs.getProjectedBounds(h===void 0?this.getZoom():h)},getPane:function(h){return typeof h=="string"?this._panes[h]:h},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(h,w){var E=this.options.crs;return w=w===void 0?this._zoom:w,E.scale(h)/E.scale(w)},getScaleZoom:function(h,w){var E=this.options.crs;w=w===void 0?this._zoom:w;var R=E.zoom(h*E.scale(w));return isNaN(R)?1/0:R},project:function(h,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(ce(h),w)},unproject:function(h,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(ne(h),w)},layerPointToLatLng:function(h){var w=ne(h).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(h){var w=this.project(ce(h))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(h){return this.options.crs.wrapLatLng(ce(h))},wrapLatLngBounds:function(h){return this.options.crs.wrapLatLngBounds(Ce(h))},distance:function(h,w){return this.options.crs.distance(ce(h),ce(w))},containerPointToLayerPoint:function(h){return ne(h).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(h){return ne(h).add(this._getMapPanePos())},containerPointToLatLng:function(h){var w=this.containerPointToLayerPoint(ne(h));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(h){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(h)))},mouseEventToContainerPoint:function(h){return Ru(h,this._container)},mouseEventToLayerPoint:function(h){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(h))},mouseEventToLatLng:function(h){return this.layerPointToLatLng(this.mouseEventToLayerPoint(h))},_initContainer:function(h){var w=this._container=us(h);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(w,"scroll",this._onScroll,this),this._containerId=c(w)},_initLayout:function(){var h=this._container;this._fadeAnimated=this.options.fadeAnimation&&pt.any3d,Pt(h,"leaflet-container"+(pt.touch?" leaflet-touch":"")+(pt.retina?" leaflet-retina":"")+(pt.ielt9?" leaflet-oldie":"")+(pt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=Pu(h,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(h.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var h=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),on(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(h.markerPane,"leaflet-zoom-hide"),Pt(h.shadowPane,"leaflet-zoom-hide"))},_resetView:function(h,w,E){on(this._mapPane,new ee(0,0));var R=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var z=this._zoom!==w;this._moveStart(z,E)._move(h,w)._moveEnd(z),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(h,w){return h&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(h,w,E,R){w===void 0&&(w=this._zoom);var z=this._zoom!==w;return this._zoom=w,this._lastCenter=h,this._pixelOrigin=this._getNewPixelOrigin(h),R?E&&E.pinch&&this.fire("zoom",E):((z||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(h){return h&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(h){on(this._mapPane,this._getMapPanePos().subtract(h))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(h){this._targets={},this._targets[c(this._container)]=this;var w=h?Sr:Ct;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),pt.any3d&&this.options.transform3DLimit&&(h?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var h=this._getMapPanePos();Math.max(Math.abs(h.x),Math.abs(h.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(h,w){for(var E=[],R,z=w==="mouseout"||w==="mouseover",ie=h.target||h.srcElement,pe=!1;ie;){if(R=this._targets[c(ie)],R&&(w==="click"||w==="preclick")&&this._draggableMoved(R)){pe=!0;break}if(R&&R.listens(w,!0)&&(z&&!Mu(ie,h)||(E.push(R),z))||ie===this._container)break;ie=ie.parentNode}return!E.length&&!pe&&!z&&this.listens(w,!0)&&(E=[this]),E},_isClickDisabled:function(h){for(;h&&h!==this._container;){if(h._leaflet_disable_click)return!0;h=h.parentNode}},_handleDOMEvent:function(h){var w=h.target||h.srcElement;if(!(!this._loaded||w._leaflet_disable_events||h.type==="click"&&this._isClickDisabled(w))){var E=h.type;E==="mousedown"&&tc(w),this._fireDOMEvent(h,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(h,w,E){if(h.type==="click"){var R=i({},h);R.type="preclick",this._fireDOMEvent(R,R.type,E)}var z=this._findEventTargets(h,w);if(E){for(var ie=[],pe=0;pe<E.length;pe++)E[pe].listens(w,!0)&&ie.push(E[pe]);z=ie.concat(z)}if(z.length){w==="contextmenu"&&en(h);var Ee=z[0],Me={originalEvent:h};if(h.type!=="keypress"&&h.type!=="keydown"&&h.type!=="keyup"){var ze=Ee.getLatLng&&(!Ee._radius||Ee._radius<=10);Me.containerPoint=ze?this.latLngToContainerPoint(Ee.getLatLng()):this.mouseEventToContainerPoint(h),Me.layerPoint=this.containerPointToLayerPoint(Me.containerPoint),Me.latlng=ze?Ee.getLatLng():this.layerPointToLatLng(Me.layerPoint)}for(pe=0;pe<z.length;pe++)if(z[pe].fire(w,Me,!0),Me.originalEvent._stopped||z[pe].options.bubblingMouseEvents===!1&&A(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(h){return h=h.dragging&&h.dragging.enabled()?h:this,h.dragging&&h.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var h=0,w=this._handlers.length;h<w;h++)this._handlers[h].disable()},whenReady:function(h,w){return this._loaded?h.call(w||this,{target:this}):this.on("load",h,w),this},_getMapPanePos:function(){return ga(this._mapPane)||new ee(0,0)},_moved:function(){var h=this._getMapPanePos();return h&&!h.equals([0,0])},_getTopLeftPoint:function(h,w){var E=h&&w!==void 0?this._getNewPixelOrigin(h,w):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(h,w){var E=this.getSize()._divideBy(2);return this.project(h,w)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(h,w,E){var R=this._getNewPixelOrigin(E,w);return this.project(h,w)._subtract(R)},_latLngBoundsToNewLayerBounds:function(h,w,E){var R=this._getNewPixelOrigin(E,w);return oe([this.project(h.getSouthWest(),w)._subtract(R),this.project(h.getNorthWest(),w)._subtract(R),this.project(h.getSouthEast(),w)._subtract(R),this.project(h.getNorthEast(),w)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(h){return this.latLngToLayerPoint(h).subtract(this._getCenterLayerPoint())},_limitCenter:function(h,w,E){if(!E)return h;var R=this.project(h,w),z=this.getSize().divideBy(2),ie=new J(R.subtract(z),R.add(z)),pe=this._getBoundsOffset(ie,E,w);return Math.abs(pe.x)<=1&&Math.abs(pe.y)<=1?h:this.unproject(R.add(pe),w)},_limitOffset:function(h,w){if(!w)return h;var E=this.getPixelBounds(),R=new J(E.min.add(h),E.max.add(h));return h.add(this._getBoundsOffset(R,w))},_getBoundsOffset:function(h,w,E){var R=oe(this.project(w.getNorthEast(),E),this.project(w.getSouthWest(),E)),z=R.min.subtract(h.min),ie=R.max.subtract(h.max),pe=this._rebound(z.x,-ie.x),Ee=this._rebound(z.y,-ie.y);return new ee(pe,Ee)},_rebound:function(h,w){return h+w>0?Math.round(h-w)/2:Math.max(0,Math.ceil(h))-Math.max(0,Math.floor(w))},_limitZoom:function(h){var w=this.getMinZoom(),E=this.getMaxZoom(),R=pt.any3d?this.options.zoomSnap:1;return R&&(h=Math.round(h/R)*R),Math.max(w,Math.min(E,h))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Lr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(h,w){var E=this._getCenterOffset(h)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,w),!0)},_createAnimProxy:function(){var h=this._proxy=Rt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(h),this.on("zoomanim",function(w){var E=fm,R=this._proxy.style[E];ds(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),R===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ur(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var h=this.getCenter(),w=this.getZoom();ds(this._proxy,this.project(h,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(h){this._animatingZoom&&h.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(h,w,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(w),z=this._getCenterOffset(h)._divideBy(1-1/R);return E.animate!==!0&&!this.getSize().contains(z)?!1:(V(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(h,w,!0)},this),!0)},_animateZoom:function(h,w,E,R){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=h,this._animateToZoom=w,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:h,zoom:w,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Lr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ro(h,w){return new Gt(h,w)}var Ei=H.extend({options:{position:"topright"},initialize:function(h){y(this,h)},getPosition:function(){return this.options.position},setPosition:function(h){var w=this._map;return w&&w.removeControl(this),this.options.position=h,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(h){this.remove(),this._map=h;var w=this._container=this.onAdd(h),E=this.getPosition(),R=h._controlCorners[E];return Pt(w,"leaflet-control"),E.indexOf("bottom")!==-1?R.insertBefore(w,R.firstChild):R.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ur(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(h){this._map&&h&&h.screenX>0&&h.screenY>0&&this._map.getContainer().focus()}}),no=function(h){return new Ei(h)};Gt.include({addControl:function(h){return h.addTo(this),this},removeControl:function(h){return h.remove(),this},_initControlPos:function(){var h=this._controlCorners={},w="leaflet-",E=this._controlContainer=Rt("div",w+"control-container",this._container);function R(z,ie){var pe=w+z+" "+w+ie;h[z+ie]=Rt("div",pe,E)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var h in this._controlCorners)Ur(this._controlCorners[h]);Ur(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var gm=Ei.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(h,w,E,R){return E<R?-1:R<E?1:0}},initialize:function(h,w,E){y(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in h)this._addLayer(h[R],R);for(R in w)this._addLayer(w[R],R,!0)},onAdd:function(h){this._initLayout(),this._update(),this._map=h,h.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(h){return Ei.prototype.addTo.call(this,h),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var h=0;h<this._layers.length;h++)this._layers[h].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(h,w){return this._addLayer(h,w),this._map?this._update():this},addOverlay:function(h,w){return this._addLayer(h,w,!0),this._map?this._update():this},removeLayer:function(h){h.off("add remove",this._onLayerChange,this);var w=this._getLayer(c(h));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var h=this._map.getSize().y-(this._container.offsetTop+50);return h<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=h+"px"):Lr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Lr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var h="leaflet-control-layers",w=this._container=Rt("div",h),E=this.options.collapsed;w.setAttribute("aria-haspopup",!0),Ou(w),bf(w);var R=this._section=Rt("section",h+"-list");E&&(this._map.on("click",this.collapse,this),Ct(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var z=this._layersLink=Rt("a",h+"-toggle",w);z.href="#",z.title="Layers",z.setAttribute("role","button"),Ct(z,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){en(ie),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=Rt("div",h+"-base",R),this._separator=Rt("div",h+"-separator",R),this._overlaysList=Rt("div",h+"-overlays",R),w.appendChild(R)},_getLayer:function(h){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&c(this._layers[w].layer)===h)return this._layers[w]},_addLayer:function(h,w,E){this._map&&h.on("add remove",this._onLayerChange,this),this._layers.push({layer:h,name:w,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(R,z){return this.options.sortFunction(R.layer,z.layer,R.name,z.name)},this)),this.options.autoZIndex&&h.setZIndex&&(this._lastZIndex++,h.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;pf(this._baseLayersList),pf(this._overlaysList),this._layerControlInputs=[];var h,w,E,R,z=0;for(E=0;E<this._layers.length;E++)R=this._layers[E],this._addItem(R),w=w||R.overlay,h=h||!R.overlay,z+=R.overlay?0:1;return this.options.hideSingleBase&&(h=h&&z>1,this._baseLayersList.style.display=h?"":"none"),this._separator.style.display=w&&h?"":"none",this},_onLayerChange:function(h){this._handlingClick||this._update();var w=this._getLayer(c(h.target)),E=w.overlay?h.type==="add"?"overlayadd":"overlayremove":h.type==="add"?"baselayerchange":null;E&&this._map.fire(E,w)},_createRadioElement:function(h,w){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+h+'"'+(w?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=E,R.firstChild},_addItem:function(h){var w=document.createElement("label"),E=this._map.hasLayer(h.layer),R;h.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=E):R=this._createRadioElement("leaflet-base-layers_"+c(this),E),this._layerControlInputs.push(R),R.layerId=c(h.layer),Ct(R,"click",this._onInputClick,this);var z=document.createElement("span");z.innerHTML=" "+h.name;var ie=document.createElement("span");w.appendChild(ie),ie.appendChild(R),ie.appendChild(z);var pe=h.overlay?this._overlaysList:this._baseLayersList;return pe.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var h=this._layerControlInputs,w,E,R=[],z=[];this._handlingClick=!0;for(var ie=h.length-1;ie>=0;ie--)w=h[ie],E=this._getLayer(w.layerId).layer,w.checked?R.push(E):w.checked||z.push(E);for(ie=0;ie<z.length;ie++)this._map.hasLayer(z[ie])&&this._map.removeLayer(z[ie]);for(ie=0;ie<R.length;ie++)this._map.hasLayer(R[ie])||this._map.addLayer(R[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var h=this._layerControlInputs,w,E,R=this._map.getZoom(),z=h.length-1;z>=0;z--)w=h[z],E=this._getLayer(w.layerId).layer,w.disabled=E.options.minZoom!==void 0&&R<E.options.minZoom||E.options.maxZoom!==void 0&&R>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var h=this._section;this._preventClick=!0,Ct(h,"click",en),this.expand();var w=this;setTimeout(function(){Sr(h,"click",en),w._preventClick=!1})}}),jf=function(h,w,E){return new gm(h,w,E)},rc=Ei.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(h){var w="leaflet-control-zoom",E=Rt("div",w+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,w+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,w+"-out",E,this._zoomOut),this._updateDisabled(),h.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(h){h.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(h){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(h.shiftKey?3:1))},_zoomOut:function(h){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(h.shiftKey?3:1))},_createButton:function(h,w,E,R,z){var ie=Rt("a",E,R);return ie.innerHTML=h,ie.href="#",ie.title=w,ie.setAttribute("role","button"),ie.setAttribute("aria-label",w),Ou(ie),Ct(ie,"click",hs),Ct(ie,"click",z,this),Ct(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var h=this._map,w="leaflet-disabled";Lr(this._zoomInButton,w),Lr(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||h._zoom===h.getMinZoom())&&(Pt(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||h._zoom===h.getMaxZoom())&&(Pt(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});Gt.mergeOptions({zoomControl:!0}),Gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new rc,this.addControl(this.zoomControl))});var nx=function(h){return new rc(h)},fi=Ei.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(h){var w="leaflet-control-scale",E=Rt("div",w),R=this.options;return this._addScales(R,w+"-line",E),h.on(R.updateWhenIdle?"moveend":"move",this._update,this),h.whenReady(this._update,this),E},onRemove:function(h){h.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(h,w,E){h.metric&&(this._mScale=Rt("div",w,E)),h.imperial&&(this._iScale=Rt("div",w,E))},_update:function(){var h=this._map,w=h.getSize().y/2,E=h.distance(h.containerPointToLatLng([0,w]),h.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(E)},_updateScales:function(h){this.options.metric&&h&&this._updateMetric(h),this.options.imperial&&h&&this._updateImperial(h)},_updateMetric:function(h){var w=this._getRoundNum(h),E=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,E,w/h)},_updateImperial:function(h){var w=h*3.2808399,E,R,z;w>5280?(E=w/5280,R=this._getRoundNum(E),this._updateScale(this._iScale,R+" mi",R/E)):(z=this._getRoundNum(w),this._updateScale(this._iScale,z+" ft",z/w))},_updateScale:function(h,w,E){h.style.width=Math.round(this.options.maxWidth*E)+"px",h.innerHTML=w},_getRoundNum:function(h){var w=Math.pow(10,(Math.floor(h)+"").length-1),E=h/w;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,w*E}}),nc=function(h){return new fi(h)},vm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Go=Ei.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(pt.inlineSvg?vm+" ":"")+"Leaflet</a>"},initialize:function(h){y(this,h),this._attributions={}},onAdd:function(h){h.attributionControl=this,this._container=Rt("div","leaflet-control-attribution"),Ou(this._container);for(var w in h._layers)h._layers[w].getAttribution&&this.addAttribution(h._layers[w].getAttribution());return this._update(),h.on("layeradd",this._addAttribution,this),this._container},onRemove:function(h){h.off("layeradd",this._addAttribution,this)},_addAttribution:function(h){h.layer.getAttribution&&(this.addAttribution(h.layer.getAttribution()),h.layer.once("remove",function(){this.removeAttribution(h.layer.getAttribution())},this))},setPrefix:function(h){return this.options.prefix=h,this._update(),this},addAttribution:function(h){return h?(this._attributions[h]||(this._attributions[h]=0),this._attributions[h]++,this._update(),this):this},removeAttribution:function(h){return h?(this._attributions[h]&&(this._attributions[h]--,this._update()),this):this},_update:function(){if(this._map){var h=[];for(var w in this._attributions)this._attributions[w]&&h.push(w);var E=[];this.options.prefix&&E.push(this.options.prefix),h.length&&E.push(h.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});Gt.mergeOptions({attributionControl:!0}),Gt.addInitHook(function(){this.options.attributionControl&&new Go().addTo(this)});var z1=function(h){return new Go(h)};Ei.Layers=gm,Ei.Zoom=rc,Ei.Scale=fi,Ei.Attribution=Go,no.layers=jf,no.zoom=nx,no.scale=nc,no.attribution=z1;var qi=H.extend({initialize:function(h){this._map=h},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qi.addTo=function(h,w){return h.addHandler(w,this),this};var ym={Events:se},ic=pt.touch?"touchstart mousedown":"mousedown",ps=W.extend({options:{clickTolerance:3},initialize:function(h,w,E,R){y(this,R),this._element=h,this._dragStartTarget=w||h,this._preventOutline=E},enable:function(){this._enabled||(Ct(this._dragStartTarget,ic,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ps._dragging===this&&this.finishDrag(!0),Sr(this._dragStartTarget,ic,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(h){if(this._enabled&&(this._moved=!1,!Jl(this._element,"leaflet-zoom-anim"))){if(h.touches&&h.touches.length!==1){ps._dragging===this&&this.finishDrag();return}if(!(ps._dragging||h.shiftKey||h.which!==1&&h.button!==1&&!h.touches)&&(ps._dragging=this,this._preventOutline&&tc(this._element),vf(),Xt(),!this._moving)){this.fire("down");var w=h.touches?h.touches[0]:h,E=va(this._element);this._startPoint=new ee(w.clientX,w.clientY),this._startPos=ga(this._element),this._parentScale=Fs(E);var R=h.type==="mousedown";Ct(document,R?"mousemove":"touchmove",this._onMove,this),Ct(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(h){if(this._enabled){if(h.touches&&h.touches.length>1){this._moved=!0;return}var w=h.touches&&h.touches.length===1?h.touches[0]:h,E=new ee(w.clientX,w.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,en(h),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=h.target||h.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=h,this._updatePosition())}},_updatePosition:function(){var h={originalEvent:this._lastEvent};this.fire("predrag",h),on(this._element,this._newPos),this.fire("drag",h)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(h){Lr(document.body,"leaflet-dragging"),this._lastTarget&&(Lr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Sr(document,"mousemove touchmove",this._onMove,this),Sr(document,"mouseup touchend touchcancel",this._onUp,this),yf(),ec();var w=this._moved&&this._moving;this._moving=!1,ps._dragging=!1,w&&this.fire("dragend",{noInertia:h,distance:this._newPos.distanceTo(this._startPos)})}});function xm(h,w,E){var R,z=[1,4,2,8],ie,pe,Ee,Me,ze,nt,xt,$t;for(ie=0,nt=h.length;ie<nt;ie++)h[ie]._code=Zo(h[ie],w);for(Ee=0;Ee<4;Ee++){for(xt=z[Ee],R=[],ie=0,nt=h.length,pe=nt-1;ie<nt;pe=ie++)Me=h[ie],ze=h[pe],Me._code&xt?ze._code&xt||($t=Nf(ze,Me,xt,w,E),$t._code=Zo($t,w),R.push($t)):(ze._code&xt&&($t=Nf(ze,Me,xt,w,E),$t._code=Zo($t,w),R.push($t)),R.push(Me));h=R}return h}function ix(h,w){var E,R,z,ie,pe,Ee,Me,ze,nt;if(!h||h.length===0)throw new Error("latlngs not passed");Ui(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var xt=ce([0,0]),$t=Ce(h),An=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());An<1700&&(xt=bm(h));var vn=h.length,Ti=[];for(E=0;E<vn;E++){var hi=ce(h[E]);Ti.push(w.project(ce([hi.lat-xt.lat,hi.lng-xt.lng])))}for(Ee=Me=ze=0,E=0,R=vn-1;E<vn;R=E++)z=Ti[E],ie=Ti[R],pe=z.y*ie.x-ie.y*z.x,Me+=(z.x+ie.x)*pe,ze+=(z.y+ie.y)*pe,Ee+=pe*3;Ee===0?nt=Ti[0]:nt=[Me/Ee,ze/Ee];var pc=w.unproject(ne(nt));return ce([pc.lat+xt.lat,pc.lng+xt.lng])}function bm(h){for(var w=0,E=0,R=0,z=0;z<h.length;z++){var ie=ce(h[z]);w+=ie.lat,E+=ie.lng,R++}return ce([w/R,E/R])}var q1={__proto__:null,clipPolygon:xm,polygonCenter:ix,centroid:bm};function Sf(h,w){if(!w||!h.length)return h.slice();var E=w*w;return h=W1(h,E),h=V1(h,E),h}function sx(h,w,E){return Math.sqrt(Yo(h,w,E,!0))}function U1(h,w,E){return Yo(h,w,E)}function V1(h,w){var E=h.length,R=typeof Uint8Array<"u"?Uint8Array:Array,z=new R(E);z[0]=z[E-1]=1,wm(h,z,w,0,E-1);var ie,pe=[];for(ie=0;ie<E;ie++)z[ie]&&pe.push(h[ie]);return pe}function wm(h,w,E,R,z){var ie=0,pe,Ee,Me;for(Ee=R+1;Ee<=z-1;Ee++)Me=Yo(h[Ee],h[R],h[z],!0),Me>ie&&(pe=Ee,ie=Me);ie>E&&(w[pe]=1,wm(h,w,E,R,pe),wm(h,w,E,pe,z))}function W1(h,w){for(var E=[h[0]],R=1,z=0,ie=h.length;R<ie;R++)H1(h[R],h[z])>w&&(E.push(h[R]),z=R);return z<ie-1&&E.push(h[ie-1]),E}var _m;function ax(h,w,E,R,z){var ie=R?_m:Zo(h,E),pe=Zo(w,E),Ee,Me,ze;for(_m=pe;;){if(!(ie|pe))return[h,w];if(ie&pe)return!1;Ee=ie||pe,Me=Nf(h,w,Ee,E,z),ze=Zo(Me,E),Ee===ie?(h=Me,ie=ze):(w=Me,pe=ze)}}function Nf(h,w,E,R,z){var ie=w.x-h.x,pe=w.y-h.y,Ee=R.min,Me=R.max,ze,nt;return E&8?(ze=h.x+ie*(Me.y-h.y)/pe,nt=Me.y):E&4?(ze=h.x+ie*(Ee.y-h.y)/pe,nt=Ee.y):E&2?(ze=Me.x,nt=h.y+pe*(Me.x-h.x)/ie):E&1&&(ze=Ee.x,nt=h.y+pe*(Ee.x-h.x)/ie),new ee(ze,nt,z)}function Zo(h,w){var E=0;return h.x<w.min.x?E|=1:h.x>w.max.x&&(E|=2),h.y<w.min.y?E|=4:h.y>w.max.y&&(E|=8),E}function H1(h,w){var E=w.x-h.x,R=w.y-h.y;return E*E+R*R}function Yo(h,w,E,R){var z=w.x,ie=w.y,pe=E.x-z,Ee=E.y-ie,Me=pe*pe+Ee*Ee,ze;return Me>0&&(ze=((h.x-z)*pe+(h.y-ie)*Ee)/Me,ze>1?(z=E.x,ie=E.y):ze>0&&(z+=pe*ze,ie+=Ee*ze)),pe=h.x-z,Ee=h.y-ie,R?pe*pe+Ee*Ee:new ee(z,ie)}function Ui(h){return!C(h[0])||typeof h[0][0]!="object"&&typeof h[0][0]<"u"}function ox(h){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ui(h)}function lx(h,w){var E,R,z,ie,pe,Ee,Me,ze;if(!h||h.length===0)throw new Error("latlngs not passed");Ui(h)||(console.warn("latlngs are not flat! Only the first ring will be used"),h=h[0]);var nt=ce([0,0]),xt=Ce(h),$t=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());$t<1700&&(nt=bm(h));var An=h.length,vn=[];for(E=0;E<An;E++){var Ti=ce(h[E]);vn.push(w.project(ce([Ti.lat-nt.lat,Ti.lng-nt.lng])))}for(E=0,R=0;E<An-1;E++)R+=vn[E].distanceTo(vn[E+1])/2;if(R===0)ze=vn[0];else for(E=0,ie=0;E<An-1;E++)if(pe=vn[E],Ee=vn[E+1],z=pe.distanceTo(Ee),ie+=z,ie>R){Me=(ie-R)/z,ze=[Ee.x-Me*(Ee.x-pe.x),Ee.y-Me*(Ee.y-pe.y)];break}var hi=w.unproject(ne(ze));return ce([hi.lat+nt.lat,hi.lng+nt.lng])}var cx={__proto__:null,simplify:Sf,pointToSegmentDistance:sx,closestPointOnSegment:U1,clipSegment:ax,_getEdgeIntersection:Nf,_getBitCode:Zo,_sqClosestPointOnSegment:Yo,isFlat:Ui,_flat:ox,polylineCenter:lx},jm={project:function(h){return new ee(h.lng,h.lat)},unproject:function(h){return new Le(h.y,h.x)},bounds:new J([-180,-90],[180,90])},Sm={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(h){var w=Math.PI/180,E=this.R,R=h.lat*w,z=this.R_MINOR/E,ie=Math.sqrt(1-z*z),pe=ie*Math.sin(R),Ee=Math.tan(Math.PI/4-R/2)/Math.pow((1-pe)/(1+pe),ie/2);return R=-E*Math.log(Math.max(Ee,1e-10)),new ee(h.lng*w*E,R)},unproject:function(h){for(var w=180/Math.PI,E=this.R,R=this.R_MINOR/E,z=Math.sqrt(1-R*R),ie=Math.exp(-h.y/E),pe=Math.PI/2-2*Math.atan(ie),Ee=0,Me=.1,ze;Ee<15&&Math.abs(Me)>1e-7;Ee++)ze=z*Math.sin(pe),ze=Math.pow((1-ze)/(1+ze),z/2),Me=Math.PI/2-2*Math.atan(ie*ze)-pe,pe+=Me;return new Le(pe*w,h.x*w/E)}},K1={__proto__:null,LonLat:jm,Mercator:Sm,SphericalMercator:Pe},G1=i({},ge,{code:"EPSG:3395",projection:Sm,transformation:function(){var h=.5/(Math.PI*Sm.R);return Y(h,.5,-h,.5)}()}),ux=i({},ge,{code:"EPSG:4326",projection:jm,transformation:Y(1/180,1,-1/180,.5)}),Z1=i({},ae,{projection:jm,transformation:Y(1,0,-1,0),scale:function(h){return Math.pow(2,h)},zoom:function(h){return Math.log(h)/Math.LN2},distance:function(h,w){var E=w.lng-h.lng,R=w.lat-h.lat;return Math.sqrt(E*E+R*R)},infinite:!0});ae.Earth=ge,ae.EPSG3395=G1,ae.EPSG3857=_e,ae.EPSG900913=xe,ae.EPSG4326=ux,ae.Simple=Z1;var ms=W.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(h){return h.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(h){return h&&h.removeLayer(this),this},getPane:function(h){return this._map.getPane(h?this.options[h]||h:this.options.pane)},addInteractiveTarget:function(h){return this._map._targets[c(h)]=this,this},removeInteractiveTarget:function(h){return delete this._map._targets[c(h)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(h){var w=h.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var E=this.getEvents();w.on(E,this),this.once("remove",function(){w.off(E,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});Gt.include({addLayer:function(h){if(!h._layerAdd)throw new Error("The provided object is not a Layer.");var w=c(h);return this._layers[w]?this:(this._layers[w]=h,h._mapToAdd=this,h.beforeAdd&&h.beforeAdd(this),this.whenReady(h._layerAdd,h),this)},removeLayer:function(h){var w=c(h);return this._layers[w]?(this._loaded&&h.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:h}),h.fire("remove")),h._map=h._mapToAdd=null,this):this},hasLayer:function(h){return c(h)in this._layers},eachLayer:function(h,w){for(var E in this._layers)h.call(w,this._layers[E]);return this},_addLayers:function(h){h=h?C(h)?h:[h]:[];for(var w=0,E=h.length;w<E;w++)this.addLayer(h[w])},_addZoomLimit:function(h){(!isNaN(h.options.maxZoom)||!isNaN(h.options.minZoom))&&(this._zoomBoundLayers[c(h)]=h,this._updateZoomLevels())},_removeZoomLimit:function(h){var w=c(h);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var h=1/0,w=-1/0,E=this._getZoomSpan();for(var R in this._zoomBoundLayers){var z=this._zoomBoundLayers[R].options;h=z.minZoom===void 0?h:Math.min(h,z.minZoom),w=z.maxZoom===void 0?w:Math.max(w,z.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=h===1/0?void 0:h,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var io=ms.extend({initialize:function(h,w){y(this,w),this._layers={};var E,R;if(h)for(E=0,R=h.length;E<R;E++)this.addLayer(h[E])},addLayer:function(h){var w=this.getLayerId(h);return this._layers[w]=h,this._map&&this._map.addLayer(h),this},removeLayer:function(h){var w=h in this._layers?h:this.getLayerId(h);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(h){var w=typeof h=="number"?h:this.getLayerId(h);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(h){var w=Array.prototype.slice.call(arguments,1),E,R;for(E in this._layers)R=this._layers[E],R[h]&&R[h].apply(R,w);return this},onAdd:function(h){this.eachLayer(h.addLayer,h)},onRemove:function(h){this.eachLayer(h.removeLayer,h)},eachLayer:function(h,w){for(var E in this._layers)h.call(w,this._layers[E]);return this},getLayer:function(h){return this._layers[h]},getLayers:function(){var h=[];return this.eachLayer(h.push,h),h},setZIndex:function(h){return this.invoke("setZIndex",h)},getLayerId:function(h){return c(h)}}),Iu=function(h,w){return new io(h,w)},ya=io.extend({addLayer:function(h){return this.hasLayer(h)?this:(h.addEventParent(this),io.prototype.addLayer.call(this,h),this.fire("layeradd",{layer:h}))},removeLayer:function(h){return this.hasLayer(h)?(h in this._layers&&(h=this._layers[h]),h.removeEventParent(this),io.prototype.removeLayer.call(this,h),this.fire("layerremove",{layer:h})):this},setStyle:function(h){return this.invoke("setStyle",h)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var h=new be;for(var w in this._layers){var E=this._layers[w];h.extend(E.getBounds?E.getBounds():E.getLatLng())}return h}}),dx=function(h,w){return new ya(h,w)},Xo=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(h){y(this,h)},createIcon:function(h){return this._createIcon("icon",h)},createShadow:function(h){return this._createIcon("shadow",h)},_createIcon:function(h,w){var E=this._getIconUrl(h);if(!E){if(h==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(E,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(R,h),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(h,w){var E=this.options,R=E[w+"Size"];typeof R=="number"&&(R=[R,R]);var z=ne(R),ie=ne(w==="shadow"&&E.shadowAnchor||E.iconAnchor||z&&z.divideBy(2,!0));h.className="leaflet-marker-"+w+" "+(E.className||""),ie&&(h.style.marginLeft=-ie.x+"px",h.style.marginTop=-ie.y+"px"),z&&(h.style.width=z.x+"px",h.style.height=z.y+"px")},_createImg:function(h,w){return w=w||document.createElement("img"),w.src=h,w},_getIconUrl:function(h){return pt.retina&&this.options[h+"RetinaUrl"]||this.options[h+"Url"]}});function fx(h){return new Xo(h)}var sc=Xo.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(h){return typeof sc.imagePath!="string"&&(sc.imagePath=this._detectIconPath()),(this.options.imagePath||sc.imagePath)+Xo.prototype._getIconUrl.call(this,h)},_stripUrl:function(h){var w=function(E,R,z){var ie=R.exec(E);return ie&&ie[z]};return h=w(h,/^url\((['"])?(.+)\1\)$/,2),h&&w(h,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var h=Rt("div","leaflet-default-icon-path",document.body),w=Pu(h,"background-image")||Pu(h,"backgroundImage");if(document.body.removeChild(h),w=this._stripUrl(w),w)return w;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),Nm=qi.extend({initialize:function(h){this._marker=h},addHooks:function(){var h=this._marker._icon;this._draggable||(this._draggable=new ps(h,h,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(h,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Lr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(h){var w=this._marker,E=w._map,R=this._marker.options.autoPanSpeed,z=this._marker.options.autoPanPadding,ie=ga(w._icon),pe=E.getPixelBounds(),Ee=E.getPixelOrigin(),Me=oe(pe.min._subtract(Ee).add(z),pe.max._subtract(Ee).subtract(z));if(!Me.contains(ie)){var ze=ne((Math.max(Me.max.x,ie.x)-Me.max.x)/(pe.max.x-Me.max.x)-(Math.min(Me.min.x,ie.x)-Me.min.x)/(pe.min.x-Me.min.x),(Math.max(Me.max.y,ie.y)-Me.max.y)/(pe.max.y-Me.max.y)-(Math.min(Me.min.y,ie.y)-Me.min.y)/(pe.min.y-Me.min.y)).multiplyBy(R);E.panBy(ze,{animate:!1}),this._draggable._newPos._add(ze),this._draggable._startPos._add(ze),on(w._icon,this._draggable._newPos),this._onDrag(h),this._panRequest=V(this._adjustPan.bind(this,h))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(h){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,h)))},_onDrag:function(h){var w=this._marker,E=w._shadow,R=ga(w._icon),z=w._map.layerPointToLatLng(R);E&&on(E,R),w._latlng=z,h.latlng=z,h.oldLatLng=this._oldLatLng,w.fire("move",h).fire("drag",h)},_onDragEnd:function(h){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",h)}}),xa=ms.extend({options:{icon:new sc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(h,w){y(this,w),this._latlng=ce(h)},onAdd:function(h){this._zoomAnimated=this._zoomAnimated&&h.options.markerZoomAnimation,this._zoomAnimated&&h.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(h){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&h.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(h){var w=this._latlng;return this._latlng=ce(h),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(h){return this.options.zIndexOffset=h,this.update()},getIcon:function(){return this.options.icon},setIcon:function(h){return this.options.icon=h,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var h=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(h)}return this},_initIcon:function(){var h=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=h.icon.createIcon(this._icon),R=!1;E!==this._icon&&(this._icon&&this._removeIcon(),R=!0,h.title&&(E.title=h.title),E.tagName==="IMG"&&(E.alt=h.alt||"")),Pt(E,w),h.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,h.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(E,"focus",this._panOnFocus,this);var z=h.icon.createShadow(this._shadow),ie=!1;z!==this._shadow&&(this._removeShadow(),ie=!0),z&&(Pt(z,w),z.alt=""),this._shadow=z,h.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),z&&ie&&this.getPane(h.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Sr(this._icon,"focus",this._panOnFocus,this),Ur(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ur(this._shadow),this._shadow=null},_setPos:function(h){this._icon&&on(this._icon,h),this._shadow&&on(this._shadow,h),this._zIndex=h.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(h){this._icon&&(this._icon.style.zIndex=this._zIndex+h)},_animateZoom:function(h){var w=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Nm)){var h=this.options.draggable;this.dragging&&(h=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Nm(this),h&&this.dragging.enable()}},setOpacity:function(h){return this.options.opacity=h,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var h=this.options.opacity;this._icon&&di(this._icon,h),this._shadow&&di(this._shadow,h)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var h=this._map;if(h){var w=this.options.icon.options,E=w.iconSize?ne(w.iconSize):ne(0,0),R=w.iconAnchor?ne(w.iconAnchor):ne(0,0);h.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:E.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Y1(h,w){return new xa(h,w)}var so=ms.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(h){this._renderer=h.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(h){return y(this,h),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&h&&Object.prototype.hasOwnProperty.call(h,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Cf=so.extend({options:{fill:!0,radius:10},initialize:function(h,w){y(this,w),this._latlng=ce(h),this._radius=this.options.radius},setLatLng:function(h){var w=this._latlng;return this._latlng=ce(h),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(h){return this.options.radius=this._radius=h,this.redraw()},getRadius:function(){return this._radius},setStyle:function(h){var w=h&&h.radius||this._radius;return so.prototype.setStyle.call(this,h),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var h=this._radius,w=this._radiusY||h,E=this._clickTolerance(),R=[h+E,w+E];this._pxBounds=new J(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(h){return h.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function hx(h,w){return new Cf(h,w)}var Ef=Cf.extend({initialize:function(h,w,E){if(typeof w=="number"&&(w=i({},E,{radius:w})),y(this,w),this._latlng=ce(h),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(h){return this._mRadius=h,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var h=[this._radius,this._radiusY||this._radius];return new be(this._map.layerPointToLatLng(this._point.subtract(h)),this._map.layerPointToLatLng(this._point.add(h)))},setStyle:so.prototype.setStyle,_project:function(){var h=this._latlng.lng,w=this._latlng.lat,E=this._map,R=E.options.crs;if(R.distance===ge.distance){var z=Math.PI/180,ie=this._mRadius/ge.R/z,pe=E.project([w+ie,h]),Ee=E.project([w-ie,h]),Me=pe.add(Ee).divideBy(2),ze=E.unproject(Me).lat,nt=Math.acos((Math.cos(ie*z)-Math.sin(w*z)*Math.sin(ze*z))/(Math.cos(w*z)*Math.cos(ze*z)))/z;(isNaN(nt)||nt===0)&&(nt=ie/Math.cos(Math.PI/180*w)),this._point=Me.subtract(E.getPixelOrigin()),this._radius=isNaN(nt)?0:Me.x-E.project([ze,h-nt]).x,this._radiusY=Me.y-pe.y}else{var xt=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(xt).x}this._updateBounds()}});function Lu(h,w,E){return new Ef(h,w,E)}var Pi=so.extend({options:{smoothFactor:1,noClip:!1},initialize:function(h,w){y(this,w),this._setLatLngs(h)},getLatLngs:function(){return this._latlngs},setLatLngs:function(h){return this._setLatLngs(h),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(h){for(var w=1/0,E=null,R=Yo,z,ie,pe=0,Ee=this._parts.length;pe<Ee;pe++)for(var Me=this._parts[pe],ze=1,nt=Me.length;ze<nt;ze++){z=Me[ze-1],ie=Me[ze];var xt=R(h,z,ie,!0);xt<w&&(w=xt,E=R(h,z,ie))}return E&&(E.distance=Math.sqrt(w)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return lx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(h,w){return w=w||this._defaultShape(),h=ce(h),w.push(h),this._bounds.extend(h),this.redraw()},_setLatLngs:function(h){this._bounds=new be,this._latlngs=this._convertLatLngs(h)},_defaultShape:function(){return Ui(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(h){for(var w=[],E=Ui(h),R=0,z=h.length;R<z;R++)E?(w[R]=ce(h[R]),this._bounds.extend(w[R])):w[R]=this._convertLatLngs(h[R]);return w},_project:function(){var h=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,h),this._bounds.isValid()&&h.isValid()&&(this._rawPxBounds=h,this._updateBounds())},_updateBounds:function(){var h=this._clickTolerance(),w=new ee(h,h);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(h,w,E){var R=h[0]instanceof Le,z=h.length,ie,pe;if(R){for(pe=[],ie=0;ie<z;ie++)pe[ie]=this._map.latLngToLayerPoint(h[ie]),E.extend(pe[ie]);w.push(pe)}else for(ie=0;ie<z;ie++)this._projectLatlngs(h[ie],w,E)},_clipPoints:function(){var h=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,E,R,z,ie,pe,Ee,Me;for(E=0,z=0,ie=this._rings.length;E<ie;E++)for(Me=this._rings[E],R=0,pe=Me.length;R<pe-1;R++)Ee=ax(Me[R],Me[R+1],h,R,!0),Ee&&(w[z]=w[z]||[],w[z].push(Ee[0]),(Ee[1]!==Me[R+1]||R===pe-2)&&(w[z].push(Ee[1]),z++))}},_simplifyPoints:function(){for(var h=this._parts,w=this.options.smoothFactor,E=0,R=h.length;E<R;E++)h[E]=Sf(h[E],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(h,w){var E,R,z,ie,pe,Ee,Me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(E=0,ie=this._parts.length;E<ie;E++)for(Ee=this._parts[E],R=0,pe=Ee.length,z=pe-1;R<pe;z=R++)if(!(!w&&R===0)&&sx(h,Ee[z],Ee[R])<=Me)return!0;return!1}});function X1(h,w){return new Pi(h,w)}Pi._flat=ox;var ba=Pi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ix(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(h){var w=Pi.prototype._convertLatLngs.call(this,h),E=w.length;return E>=2&&w[0]instanceof Le&&w[0].equals(w[E-1])&&w.pop(),w},_setLatLngs:function(h){Pi.prototype._setLatLngs.call(this,h),Ui(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ui(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var h=this._renderer._bounds,w=this.options.weight,E=new ee(w,w);if(h=new J(h.min.subtract(E),h.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(h))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,z=this._rings.length,ie;R<z;R++)ie=xm(this._rings[R],h,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(h){var w=!1,E,R,z,ie,pe,Ee,Me,ze;if(!this._pxBounds||!this._pxBounds.contains(h))return!1;for(ie=0,Me=this._parts.length;ie<Me;ie++)for(E=this._parts[ie],pe=0,ze=E.length,Ee=ze-1;pe<ze;Ee=pe++)R=E[pe],z=E[Ee],R.y>h.y!=z.y>h.y&&h.x<(z.x-R.x)*(h.y-R.y)/(z.y-R.y)+R.x&&(w=!w);return w||Pi.prototype._containsPoint.call(this,h,!0)}});function J1(h,w){return new ba(h,w)}var zs=ya.extend({initialize:function(h,w){y(this,w),this._layers={},h&&this.addData(h)},addData:function(h){var w=C(h)?h:h.features,E,R,z;if(w){for(E=0,R=w.length;E<R;E++)z=w[E],(z.geometries||z.geometry||z.features||z.coordinates)&&this.addData(z);return this}var ie=this.options;if(ie.filter&&!ie.filter(h))return this;var pe=ac(h,ie);return pe?(pe.feature=Of(h),pe.defaultOptions=pe.options,this.resetStyle(pe),ie.onEachFeature&&ie.onEachFeature(h,pe),this.addLayer(pe)):this},resetStyle:function(h){return h===void 0?this.eachLayer(this.resetStyle,this):(h.options=i({},h.defaultOptions),this._setLayerStyle(h,this.options.style),this)},setStyle:function(h){return this.eachLayer(function(w){this._setLayerStyle(w,h)},this)},_setLayerStyle:function(h,w){h.setStyle&&(typeof w=="function"&&(w=w(h.feature)),h.setStyle(w))}});function ac(h,w){var E=h.type==="Feature"?h.geometry:h,R=E?E.coordinates:null,z=[],ie=w&&w.pointToLayer,pe=w&&w.coordsToLatLng||Tf,Ee,Me,ze,nt;if(!R&&!E)return null;switch(E.type){case"Point":return Ee=pe(R),Pf(ie,h,Ee,w);case"MultiPoint":for(ze=0,nt=R.length;ze<nt;ze++)Ee=pe(R[ze]),z.push(Pf(ie,h,Ee,w));return new ya(z);case"LineString":case"MultiLineString":return Me=Du(R,E.type==="LineString"?0:1,pe),new Pi(Me,w);case"Polygon":case"MultiPolygon":return Me=Du(R,E.type==="Polygon"?1:2,pe),new ba(Me,w);case"GeometryCollection":for(ze=0,nt=E.geometries.length;ze<nt;ze++){var xt=ac({geometry:E.geometries[ze],type:"Feature",properties:h.properties},w);xt&&z.push(xt)}return new ya(z);case"FeatureCollection":for(ze=0,nt=E.features.length;ze<nt;ze++){var $t=ac(E.features[ze],w);$t&&z.push($t)}return new ya(z);default:throw new Error("Invalid GeoJSON object.")}}function Pf(h,w,E,R){return h?h(w,E):new xa(E,R&&R.markersInheritOptions&&R)}function Tf(h){return new Le(h[1],h[0],h[2])}function Du(h,w,E){for(var R=[],z=0,ie=h.length,pe;z<ie;z++)pe=w?Du(h[z],w-1,E):(E||Tf)(h[z]),R.push(pe);return R}function kf(h,w){return h=ce(h),h.alt!==void 0?[g(h.lng,w),g(h.lat,w),g(h.alt,w)]:[g(h.lng,w),g(h.lat,w)]}function Af(h,w,E,R){for(var z=[],ie=0,pe=h.length;ie<pe;ie++)z.push(w?Af(h[ie],Ui(h[ie])?0:w-1,E,R):kf(h[ie],R));return!w&&E&&z.length>0&&z.push(z[0].slice()),z}function oc(h,w){return h.feature?i({},h.feature,{geometry:w}):Of(w)}function Of(h){return h.type==="Feature"||h.type==="FeatureCollection"?h:{type:"Feature",properties:{},geometry:h}}var Cm={toGeoJSON:function(h){return oc(this,{type:"Point",coordinates:kf(this.getLatLng(),h)})}};xa.include(Cm),Ef.include(Cm),Cf.include(Cm),Pi.include({toGeoJSON:function(h){var w=!Ui(this._latlngs),E=Af(this._latlngs,w?1:0,!1,h);return oc(this,{type:(w?"Multi":"")+"LineString",coordinates:E})}}),ba.include({toGeoJSON:function(h){var w=!Ui(this._latlngs),E=w&&!Ui(this._latlngs[0]),R=Af(this._latlngs,E?2:w?1:0,!0,h);return w||(R=[R]),oc(this,{type:(E?"Multi":"")+"Polygon",coordinates:R})}}),io.include({toMultiPoint:function(h){var w=[];return this.eachLayer(function(E){w.push(E.toGeoJSON(h).geometry.coordinates)}),oc(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(h){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(h);var E=w==="GeometryCollection",R=[];return this.eachLayer(function(z){if(z.toGeoJSON){var ie=z.toGeoJSON(h);if(E)R.push(ie.geometry);else{var pe=Of(ie);pe.type==="FeatureCollection"?R.push.apply(R,pe.features):R.push(pe)}}}),E?oc(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function px(h,w){return new zs(h,w)}var gs=px,ao=ms.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(h,w,E){this._url=h,this._bounds=Ce(w),y(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ur(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(h){return this.options.opacity=h,this._image&&this._updateOpacity(),this},setStyle:function(h){return h.opacity&&this.setOpacity(h.opacity),this},bringToFront:function(){return this._map&&Xl(this._image),this},bringToBack:function(){return this._map&&ma(this._image),this},setUrl:function(h){return this._url=h,this._image&&(this._image.src=h),this},setBounds:function(h){return this._bounds=Ce(h),this._map&&this._reset(),this},getEvents:function(){var h={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var h=this._url.tagName==="IMG",w=this._image=h?this._url:Rt("img");if(Pt(w,"leaflet-image-layer"),this._zoomAnimated&&Pt(w,"leaflet-zoom-animated"),this.options.className&&Pt(w,this.options.className),w.onselectstart=p,w.onmousemove=p,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),h){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(h){var w=this._map.getZoomScale(h.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,h.zoom,h.center).min;ds(this._image,E,w)},_reset:function(){var h=this._image,w=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=w.getSize();on(h,w.min),h.style.width=E.x+"px",h.style.height=E.y+"px"},_updateOpacity:function(){di(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var h=this.options.errorOverlayUrl;h&&this._url!==h&&(this._url=h,this._image.src=h)},getCenter:function(){return this._bounds.getCenter()}}),mx=function(h,w,E){return new ao(h,w,E)},Em=ao.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var h=this._url.tagName==="VIDEO",w=this._image=h?this._url:Rt("video");if(Pt(w,"leaflet-image-layer"),this._zoomAnimated&&Pt(w,"leaflet-zoom-animated"),this.options.className&&Pt(w,this.options.className),w.onselectstart=p,w.onmousemove=p,w.onloadeddata=o(this.fire,this,"load"),h){for(var E=w.getElementsByTagName("source"),R=[],z=0;z<E.length;z++)R.push(E[z].src);this._url=E.length>0?R:[w.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var pe=Rt("source");pe.src=this._url[ie],w.appendChild(pe)}}});function gx(h,w,E){return new Em(h,w,E)}var Pm=ao.extend({_initImage:function(){var h=this._image=this._url;Pt(h,"leaflet-image-layer"),this._zoomAnimated&&Pt(h,"leaflet-zoom-animated"),this.options.className&&Pt(h,this.options.className),h.onselectstart=p,h.onmousemove=p}});function Tm(h,w,E){return new Pm(h,w,E)}var qs=ms.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(h,w){h&&(h instanceof Le||C(h))?(this._latlng=ce(h),y(this,w)):(y(this,h),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(h){return h=arguments.length?h:this._source._map,h.hasLayer(this)||h.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(h){return this._map?this.close():(arguments.length?this._source=h:h=this._source,this._prepareOpen(),this.openOn(h._map)),this},onAdd:function(h){this._zoomAnimated=h._zoomAnimated,this._container||this._initLayout(),h._fadeAnimated&&di(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),h._fadeAnimated&&di(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(h){h._fadeAnimated?(di(this._container,0),this._removeTimeout=setTimeout(o(Ur,void 0,this._container),200)):Ur(this._container),this.options.interactive&&(Lr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(h){return this._latlng=ce(h),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(h){return this._content=h,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var h={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xl(this._container),this},bringToBack:function(){return this._map&&ma(this._container),this},_prepareOpen:function(h){var w=this._source;if(!w._map)return!1;if(w instanceof ya){w=null;var E=this._source._layers;for(var R in E)if(E[R]._map){w=E[R];break}if(!w)return!1;this._source=w}if(!h)if(w.getCenter)h=w.getCenter();else if(w.getLatLng)h=w.getLatLng();else if(w.getBounds)h=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(h),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var h=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")h.innerHTML=w;else{for(;h.hasChildNodes();)h.removeChild(h.firstChild);h.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var h=this._map.latLngToLayerPoint(this._latlng),w=ne(this.options.offset),E=this._getAnchor();this._zoomAnimated?on(this._container,h.add(E)):w=w.add(h).add(E);var R=this._containerBottom=-w.y,z=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=R+"px",this._container.style.left=z+"px"}},_getAnchor:function(){return[0,0]}});Gt.include({_initOverlay:function(h,w,E,R){var z=w;return z instanceof h||(z=new h(R).setContent(w)),E&&z.setLatLng(E),z}}),ms.include({_initOverlay:function(h,w,E,R){var z=E;return z instanceof h?(y(z,R),z._source=this):(z=w&&!R?w:new h(R,this),z.setContent(E)),z}});var Rf=qs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(h){return h=arguments.length?h:this._source._map,!h.hasLayer(this)&&h._popup&&h._popup.options.autoClose&&h.removeLayer(h._popup),h._popup=this,qs.prototype.openOn.call(this,h)},onAdd:function(h){qs.prototype.onAdd.call(this,h),h.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof so||this._source.on("preclick",Bs))},onRemove:function(h){qs.prototype.onRemove.call(this,h),h.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof so||this._source.off("preclick",Bs))},getEvents:function(){var h=qs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(h.preclick=this.close),this.options.keepInView&&(h.moveend=this._adjustPan),h},_initLayout:function(){var h="leaflet-popup",w=this._container=Rt("div",h+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=Rt("div",h+"-content-wrapper",w);if(this._contentNode=Rt("div",h+"-content",E),Ou(w),bf(this._contentNode),Ct(w,"contextmenu",Bs),this._tipContainer=Rt("div",h+"-tip-container",w),this._tip=Rt("div",h+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=Rt("a",h+"-close-button",w);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(R,"click",function(z){en(z),this.close()},this)}},_updateLayout:function(){var h=this._contentNode,w=h.style;w.width="",w.whiteSpace="nowrap";var E=h.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),w.width=E+1+"px",w.whiteSpace="",w.height="";var R=h.offsetHeight,z=this.options.maxHeight,ie="leaflet-popup-scrolled";z&&R>z?(w.height=z+"px",Pt(h,ie)):Lr(h,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(h){var w=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center),E=this._getAnchor();on(this._container,w.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var h=this._map,w=parseInt(Pu(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+w,R=this._containerWidth,z=new ee(this._containerLeft,-E-this._containerBottom);z._add(ga(this._container));var ie=h.layerPointToContainerPoint(z),pe=ne(this.options.autoPanPadding),Ee=ne(this.options.autoPanPaddingTopLeft||pe),Me=ne(this.options.autoPanPaddingBottomRight||pe),ze=h.getSize(),nt=0,xt=0;ie.x+R+Me.x>ze.x&&(nt=ie.x+R-ze.x+Me.x),ie.x-nt-Ee.x<0&&(nt=ie.x-Ee.x),ie.y+E+Me.y>ze.y&&(xt=ie.y+E-ze.y+Me.y),ie.y-xt-Ee.y<0&&(xt=ie.y-Ee.y),(nt||xt)&&(this.options.keepInView&&(this._autopanning=!0),h.fire("autopanstart").panBy([nt,xt]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),lc=function(h,w){return new Rf(h,w)};Gt.mergeOptions({closePopupOnClick:!0}),Gt.include({openPopup:function(h,w,E){return this._initOverlay(Rf,h,w,E).openOn(this),this},closePopup:function(h){return h=arguments.length?h:this._popup,h&&h.close(),this}}),ms.include({bindPopup:function(h,w){return this._popup=this._initOverlay(Rf,this._popup,h,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(h){return this._popup&&(this instanceof ya||(this._popup._source=this),this._popup._prepareOpen(h||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(h){return this._popup&&this._popup.setContent(h),this},getPopup:function(){return this._popup},_openPopup:function(h){if(!(!this._popup||!this._map)){hs(h);var w=h.layer||h.target;if(this._popup._source===w&&!(w instanceof so)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(h.latlng);return}this._popup._source=w,this.openPopup(h.latlng)}},_movePopup:function(h){this._popup.setLatLng(h.latlng)},_onKeyPress:function(h){h.originalEvent.keyCode===13&&this._openPopup(h)}});var cc=qs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(h){qs.prototype.onAdd.call(this,h),this.setOpacity(this.options.opacity),h.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(h){qs.prototype.onRemove.call(this,h),h.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var h=qs.prototype.getEvents.call(this);return this.options.permanent||(h.preclick=this.close),h},_initLayout:function(){var h="leaflet-tooltip",w=h+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Rt("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(h){var w,E,R=this._map,z=this._container,ie=R.latLngToContainerPoint(R.getCenter()),pe=R.layerPointToContainerPoint(h),Ee=this.options.direction,Me=z.offsetWidth,ze=z.offsetHeight,nt=ne(this.options.offset),xt=this._getAnchor();Ee==="top"?(w=Me/2,E=ze):Ee==="bottom"?(w=Me/2,E=0):Ee==="center"?(w=Me/2,E=ze/2):Ee==="right"?(w=0,E=ze/2):Ee==="left"?(w=Me,E=ze/2):pe.x<ie.x?(Ee="right",w=0,E=ze/2):(Ee="left",w=Me+(nt.x+xt.x)*2,E=ze/2),h=h.subtract(ne(w,E,!0)).add(nt).add(xt),Lr(z,"leaflet-tooltip-right"),Lr(z,"leaflet-tooltip-left"),Lr(z,"leaflet-tooltip-top"),Lr(z,"leaflet-tooltip-bottom"),Pt(z,"leaflet-tooltip-"+Ee),on(z,h)},_updatePosition:function(){var h=this._map.latLngToLayerPoint(this._latlng);this._setPosition(h)},setOpacity:function(h){this.options.opacity=h,this._container&&di(this._container,h)},_animateZoom:function(h){var w=this._map._latLngToNewLayerPoint(this._latlng,h.zoom,h.center);this._setPosition(w)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$u=function(h,w){return new cc(h,w)};Gt.include({openTooltip:function(h,w,E){return this._initOverlay(cc,h,w,E).openOn(this),this},closeTooltip:function(h){return h.close(),this}}),ms.include({bindTooltip:function(h,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(cc,this._tooltip,h,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(h){if(!(!h&&this._tooltipHandlersAdded)){var w=h?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[w](E),this._tooltipHandlersAdded=!h}},openTooltip:function(h){return this._tooltip&&(this instanceof ya||(this._tooltip._source=this),this._tooltip._prepareOpen(h)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(h){return this._tooltip&&this._tooltip.setContent(h),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(h){var w=typeof h.getElement=="function"&&h.getElement();w&&(Ct(w,"focus",function(){this._tooltip._source=h,this.openTooltip()},this),Ct(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(h){var w=typeof h.getElement=="function"&&h.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(h){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(h)});return}this._tooltip._source=h.layer||h.target,this.openTooltip(this._tooltip.options.sticky?h.latlng:void 0)}},_moveTooltip:function(h){var w=h.latlng,E,R;this._tooltip.options.sticky&&h.originalEvent&&(E=this._map.mouseEventToContainerPoint(h.originalEvent),R=this._map.containerPointToLayerPoint(E),w=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(w)}});var Mf=Xo.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(h){var w=h&&h.tagName==="DIV"?h:document.createElement("div"),E=this.options;if(E.html instanceof Element?(pf(w),w.appendChild(E.html)):w.innerHTML=E.html!==!1?E.html:"",E.bgPos){var R=ne(E.bgPos);w.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function vx(h){return new Mf(h)}Xo.Default=sc;var oo=ms.extend({options:{tileSize:256,opacity:1,updateWhenIdle:pt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(h){y(this,h)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(h){h._addZoomLimit(this)},onRemove:function(h){this._removeAllTiles(),Ur(this._container),h._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xl(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ma(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(h){return this.options.opacity=h,this._updateOpacity(),this},setZIndex:function(h){return this.options.zIndex=h,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var h=this._clampZoom(this._map.getZoom());h!==this._tileZoom&&(this._tileZoom=h,this._updateLevels()),this._update()}return this},getEvents:function(){var h={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),h.move=this._onMove),this._zoomAnimated&&(h.zoomanim=this._animateZoom),h},createTile:function(){return document.createElement("div")},getTileSize:function(){var h=this.options.tileSize;return h instanceof ee?h:new ee(h,h)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(h){for(var w=this.getPane().children,E=-h(-1/0,1/0),R=0,z=w.length,ie;R<z;R++)ie=w[R].style.zIndex,w[R]!==this._container&&ie&&(E=h(E,+ie));isFinite(E)&&(this.options.zIndex=E+h(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!pt.ielt9){di(this._container,this.options.opacity);var h=+new Date,w=!1,E=!1;for(var R in this._tiles){var z=this._tiles[R];if(!(!z.current||!z.loaded)){var ie=Math.min(1,(h-z.loaded)/200);di(z.el,ie),ie<1?w=!0:(z.active?E=!0:this._onOpaqueTile(z),z.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),w&&(U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=Rt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var h=this._tileZoom,w=this.options.maxZoom;if(h!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===h?(this._levels[E].el.style.zIndex=w-Math.abs(h-E),this._onUpdateLevel(E)):(Ur(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var R=this._levels[h],z=this._map;return R||(R=this._levels[h]={},R.el=Rt("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=w,R.origin=z.project(z.unproject(z.getPixelOrigin()),h).round(),R.zoom=h,this._setZoomTransform(R,z.getCenter(),z.getZoom()),p(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var h,w,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(h in this._tiles)w=this._tiles[h],w.retain=w.current;for(h in this._tiles)if(w=this._tiles[h],w.current&&!w.active){var R=w.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(h in this._tiles)this._tiles[h].retain||this._removeTile(h)}},_removeTilesAtZoom:function(h){for(var w in this._tiles)this._tiles[w].coords.z===h&&this._removeTile(w)},_removeAllTiles:function(){for(var h in this._tiles)this._removeTile(h)},_invalidateAll:function(){for(var h in this._levels)Ur(this._levels[h].el),this._onRemoveLevel(Number(h)),delete this._levels[h];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(h,w,E,R){var z=Math.floor(h/2),ie=Math.floor(w/2),pe=E-1,Ee=new ee(+z,+ie);Ee.z=+pe;var Me=this._tileCoordsToKey(Ee),ze=this._tiles[Me];return ze&&ze.active?(ze.retain=!0,!0):(ze&&ze.loaded&&(ze.retain=!0),pe>R?this._retainParent(z,ie,pe,R):!1)},_retainChildren:function(h,w,E,R){for(var z=2*h;z<2*h+2;z++)for(var ie=2*w;ie<2*w+2;ie++){var pe=new ee(z,ie);pe.z=E+1;var Ee=this._tileCoordsToKey(pe),Me=this._tiles[Ee];if(Me&&Me.active){Me.retain=!0;continue}else Me&&Me.loaded&&(Me.retain=!0);E+1<R&&this._retainChildren(z,ie,E+1,R)}},_resetView:function(h){var w=h&&(h.pinch||h.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(h){this._setView(h.center,h.zoom,!0,h.noUpdate)},_clampZoom:function(h){var w=this.options;return w.minNativeZoom!==void 0&&h<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<h?w.maxNativeZoom:h},_setView:function(h,w,E,R){var z=Math.round(w);this.options.maxZoom!==void 0&&z>this.options.maxZoom||this.options.minZoom!==void 0&&z<this.options.minZoom?z=void 0:z=this._clampZoom(z);var ie=this.options.updateWhenZooming&&z!==this._tileZoom;(!R||ie)&&(this._tileZoom=z,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),z!==void 0&&this._update(h),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(h,w)},_setZoomTransforms:function(h,w){for(var E in this._levels)this._setZoomTransform(this._levels[E],h,w)},_setZoomTransform:function(h,w,E){var R=this._map.getZoomScale(E,h.zoom),z=h.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(w,E)).round();pt.any3d?ds(h.el,z,R):on(h.el,z)},_resetGrid:function(){var h=this._map,w=h.options.crs,E=this._tileSize=this.getTileSize(),R=this._tileZoom,z=this._map.getPixelWorldBounds(this._tileZoom);z&&(this._globalTileRange=this._pxBoundsToTileRange(z)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(h.project([0,w.wrapLng[0]],R).x/E.x),Math.ceil(h.project([0,w.wrapLng[1]],R).x/E.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(h.project([w.wrapLat[0],0],R).y/E.x),Math.ceil(h.project([w.wrapLat[1],0],R).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(h){var w=this._map,E=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),R=w.getZoomScale(E,this._tileZoom),z=w.project(h,this._tileZoom).floor(),ie=w.getSize().divideBy(R*2);return new J(z.subtract(ie),z.add(ie))},_update:function(h){var w=this._map;if(w){var E=this._clampZoom(w.getZoom());if(h===void 0&&(h=w.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(h),z=this._pxBoundsToTileRange(R),ie=z.getCenter(),pe=[],Ee=this.options.keepBuffer,Me=new J(z.getBottomLeft().subtract([Ee,-Ee]),z.getTopRight().add([Ee,-Ee]));if(!(isFinite(z.min.x)&&isFinite(z.min.y)&&isFinite(z.max.x)&&isFinite(z.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ze in this._tiles){var nt=this._tiles[ze].coords;(nt.z!==this._tileZoom||!Me.contains(new ee(nt.x,nt.y)))&&(this._tiles[ze].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(h,E);return}for(var xt=z.min.y;xt<=z.max.y;xt++)for(var $t=z.min.x;$t<=z.max.x;$t++){var An=new ee($t,xt);if(An.z=this._tileZoom,!!this._isValidTile(An)){var vn=this._tiles[this._tileCoordsToKey(An)];vn?vn.current=!0:pe.push(An)}}if(pe.sort(function(hi,pc){return hi.distanceTo(ie)-pc.distanceTo(ie)}),pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ti=document.createDocumentFragment();for($t=0;$t<pe.length;$t++)this._addTile(pe[$t],Ti);this._level.el.appendChild(Ti)}}}},_isValidTile:function(h){var w=this._map.options.crs;if(!w.infinite){var E=this._globalTileRange;if(!w.wrapLng&&(h.x<E.min.x||h.x>E.max.x)||!w.wrapLat&&(h.y<E.min.y||h.y>E.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(h);return Ce(this.options.bounds).overlaps(R)},_keyToBounds:function(h){return this._tileCoordsToBounds(this._keyToTileCoords(h))},_tileCoordsToNwSe:function(h){var w=this._map,E=this.getTileSize(),R=h.scaleBy(E),z=R.add(E),ie=w.unproject(R,h.z),pe=w.unproject(z,h.z);return[ie,pe]},_tileCoordsToBounds:function(h){var w=this._tileCoordsToNwSe(h),E=new be(w[0],w[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(h){return h.x+":"+h.y+":"+h.z},_keyToTileCoords:function(h){var w=h.split(":"),E=new ee(+w[0],+w[1]);return E.z=+w[2],E},_removeTile:function(h){var w=this._tiles[h];w&&(Ur(w.el),delete this._tiles[h],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(h)}))},_initTile:function(h){Pt(h,"leaflet-tile");var w=this.getTileSize();h.style.width=w.x+"px",h.style.height=w.y+"px",h.onselectstart=p,h.onmousemove=p,pt.ielt9&&this.options.opacity<1&&di(h,this.options.opacity)},_addTile:function(h,w){var E=this._getTilePos(h),R=this._tileCoordsToKey(h),z=this.createTile(this._wrapCoords(h),o(this._tileReady,this,h));this._initTile(z),this.createTile.length<2&&V(o(this._tileReady,this,h,null,z)),on(z,E),this._tiles[R]={el:z,coords:h,current:!0},w.appendChild(z),this.fire("tileloadstart",{tile:z,coords:h})},_tileReady:function(h,w,E){w&&this.fire("tileerror",{error:w,tile:E,coords:h});var R=this._tileCoordsToKey(h);E=this._tiles[R],E&&(E.loaded=+new Date,this._map._fadeAnimated?(di(E.el,0),U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),w||(Pt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:h})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),pt.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(h){return h.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(h){var w=new ee(this._wrapX?f(h.x,this._wrapX):h.x,this._wrapY?f(h.y,this._wrapY):h.y);return w.z=h.z,w},_pxBoundsToTileRange:function(h){var w=this.getTileSize();return new J(h.min.unscaleBy(w).floor(),h.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var h in this._tiles)if(!this._tiles[h].loaded)return!1;return!0}});function uc(h){return new oo(h)}var lo=oo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(h,w){this._url=h,w=y(this,w),w.detectRetina&&pt.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(h,w){return this._url===h&&w===void 0&&(w=!0),this._url=h,w||this.redraw(),this},createTile:function(h,w){var E=document.createElement("img");return Ct(E,"load",o(this._tileOnLoad,this,w,E)),Ct(E,"error",o(this._tileOnError,this,w,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(h),E},getTileUrl:function(h){var w={r:pt.retina?"@2x":"",s:this._getSubdomain(h),x:h.x,y:h.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-h.y;this.options.tms&&(w.y=E),w["-y"]=E}return N(this._url,i(w,this.options))},_tileOnLoad:function(h,w){pt.ielt9?setTimeout(o(h,this,null,w),0):h(null,w)},_tileOnError:function(h,w,E){var R=this.options.errorTileUrl;R&&w.getAttribute("src")!==R&&(w.src=R),h(E,w)},_onTileRemove:function(h){h.tile.onload=null},_getZoomForUrl:function(){var h=this._tileZoom,w=this.options.maxZoom,E=this.options.zoomReverse,R=this.options.zoomOffset;return E&&(h=w-h),h+R},_getSubdomain:function(h){var w=Math.abs(h.x+h.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var h,w;for(h in this._tiles)if(this._tiles[h].coords.z!==this._tileZoom&&(w=this._tiles[h].el,w.onload=p,w.onerror=p,!w.complete)){w.src=k;var E=this._tiles[h].coords;Ur(w),delete this._tiles[h],this.fire("tileabort",{tile:w,coords:E})}},_removeTile:function(h){var w=this._tiles[h];if(w)return w.el.setAttribute("src",k),oo.prototype._removeTile.call(this,h)},_tileReady:function(h,w,E){if(!(!this._map||E&&E.getAttribute("src")===k))return oo.prototype._tileReady.call(this,h,w,E)}});function km(h,w){return new lo(h,w)}var Fu=lo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(h,w){this._url=h;var E=i({},this.defaultWmsParams);for(var R in w)R in this.options||(E[R]=w[R]);w=y(this,w);var z=w.detectRetina&&pt.retina?2:1,ie=this.getTileSize();E.width=ie.x*z,E.height=ie.y*z,this.wmsParams=E},onAdd:function(h){this._crs=this.options.crs||h.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,lo.prototype.onAdd.call(this,h)},getTileUrl:function(h){var w=this._tileCoordsToNwSe(h),E=this._crs,R=oe(E.project(w[0]),E.project(w[1])),z=R.min,ie=R.max,pe=(this._wmsVersion>=1.3&&this._crs===ux?[z.y,z.x,ie.y,ie.x]:[z.x,z.y,ie.x,ie.y]).join(","),Ee=lo.prototype.getTileUrl.call(this,h);return Ee+_(this.wmsParams,Ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+pe},setParams:function(h,w){return i(this.wmsParams,h),w||this.redraw(),this}});function yx(h,w){return new Fu(h,w)}lo.WMS=Fu,km.wms=yx;var Us=ms.extend({options:{padding:.1},initialize:function(h){y(this,h),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var h={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(h.zoomanim=this._onAnimZoom),h},_onAnimZoom:function(h){this._updateTransform(h.center,h.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(h,w){var E=this._map.getZoomScale(w,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),z=this._map.project(this._center,w),ie=R.multiplyBy(-E).add(z).subtract(this._map._getNewPixelOrigin(h,w));pt.any3d?ds(this._container,ie,E):on(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var h in this._layers)this._layers[h]._reset()},_onZoomEnd:function(){for(var h in this._layers)this._layers[h]._project()},_updatePaths:function(){for(var h in this._layers)this._layers[h]._update()},_update:function(){var h=this.options.padding,w=this._map.getSize(),E=this._map.containerPointToLayerPoint(w.multiplyBy(-h)).round();this._bounds=new J(E,E.add(w.multiplyBy(1+h*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Am=Us.extend({options:{tolerance:0},getEvents:function(){var h=Us.prototype.getEvents.call(this);return h.viewprereset=this._onViewPreReset,h},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Us.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var h=this._container=document.createElement("canvas");Ct(h,"mousemove",this._onMouseMove,this),Ct(h,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(h,"mouseout",this._handleMouseOut,this),h._leaflet_disable_events=!0,this._ctx=h.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Ur(this._container),Sr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var h;this._redrawBounds=null;for(var w in this._layers)h=this._layers[w],h._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Us.prototype._update.call(this);var h=this._bounds,w=this._container,E=h.getSize(),R=pt.retina?2:1;on(w,h.min),w.width=R*E.x,w.height=R*E.y,w.style.width=E.x+"px",w.style.height=E.y+"px",pt.retina&&this._ctx.scale(2,2),this._ctx.translate(-h.min.x,-h.min.y),this.fire("update")}},_reset:function(){Us.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(h){this._updateDashArray(h),this._layers[c(h)]=h;var w=h._order={layer:h,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(h){this._requestRedraw(h)},_removePath:function(h){var w=h._order,E=w.next,R=w.prev;E?E.prev=R:this._drawLast=R,R?R.next=E:this._drawFirst=E,delete h._order,delete this._layers[c(h)],this._requestRedraw(h)},_updatePath:function(h){this._extendRedrawBounds(h),h._project(),h._update(),this._requestRedraw(h)},_updateStyle:function(h){this._updateDashArray(h),this._requestRedraw(h)},_updateDashArray:function(h){if(typeof h.options.dashArray=="string"){var w=h.options.dashArray.split(/[, ]+/),E=[],R,z;for(z=0;z<w.length;z++){if(R=Number(w[z]),isNaN(R))return;E.push(R)}h.options._dashArray=E}else h.options._dashArray=h.options.dashArray},_requestRedraw:function(h){this._map&&(this._extendRedrawBounds(h),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(h){if(h._pxBounds){var w=(h.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(h._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(h._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var h=this._redrawBounds;if(h){var w=h.getSize();this._ctx.clearRect(h.min.x,h.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var h,w=this._redrawBounds;if(this._ctx.save(),w){var E=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)h=R.layer,(!w||h._pxBounds&&h._pxBounds.intersects(w))&&h._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(h,w){if(this._drawing){var E,R,z,ie,pe=h._parts,Ee=pe.length,Me=this._ctx;if(Ee){for(Me.beginPath(),E=0;E<Ee;E++){for(R=0,z=pe[E].length;R<z;R++)ie=pe[E][R],Me[R?"lineTo":"moveTo"](ie.x,ie.y);w&&Me.closePath()}this._fillStroke(Me,h)}}},_updateCircle:function(h){if(!(!this._drawing||h._empty())){var w=h._point,E=this._ctx,R=Math.max(Math.round(h._radius),1),z=(Math.max(Math.round(h._radiusY),1)||R)/R;z!==1&&(E.save(),E.scale(1,z)),E.beginPath(),E.arc(w.x,w.y/z,R,0,Math.PI*2,!1),z!==1&&E.restore(),this._fillStroke(E,h)}},_fillStroke:function(h,w){var E=w.options;E.fill&&(h.globalAlpha=E.fillOpacity,h.fillStyle=E.fillColor||E.color,h.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(h.setLineDash&&h.setLineDash(w.options&&w.options._dashArray||[]),h.globalAlpha=E.opacity,h.lineWidth=E.weight,h.strokeStyle=E.color,h.lineCap=E.lineCap,h.lineJoin=E.lineJoin,h.stroke())},_onClick:function(h){for(var w=this._map.mouseEventToLayerPoint(h),E,R,z=this._drawFirst;z;z=z.next)E=z.layer,E.options.interactive&&E._containsPoint(w)&&(!(h.type==="click"||h.type==="preclick")||!this._map._draggableMoved(E))&&(R=E);this._fireEvent(R?[R]:!1,h)},_onMouseMove:function(h){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(h);this._handleMouseHover(h,w)}},_handleMouseOut:function(h){var w=this._hoveredLayer;w&&(Lr(this._container,"leaflet-interactive"),this._fireEvent([w],h,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(h,w){if(!this._mouseHoverThrottled){for(var E,R,z=this._drawFirst;z;z=z.next)E=z.layer,E.options.interactive&&E._containsPoint(w)&&(R=E);R!==this._hoveredLayer&&(this._handleMouseOut(h),R&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([R],h,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,h),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(h,w,E){this._map._fireDOMEvent(w,E||w.type,h)},_bringToFront:function(h){var w=h._order;if(w){var E=w.next,R=w.prev;if(E)E.prev=R;else return;R?R.next=E:E&&(this._drawFirst=E),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(h)}},_bringToBack:function(h){var w=h._order;if(w){var E=w.next,R=w.prev;if(R)R.next=E;else return;E?E.prev=R:R&&(this._drawLast=R),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(h)}}});function Om(h){return pt.canvas?new Am(h):null}var dc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(h){return document.createElement("<lvml:"+h+' class="lvml">')}}catch{}return function(h){return document.createElement("<"+h+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),xx={_initContainer:function(){this._container=Rt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Us.prototype._update.call(this),this.fire("update"))},_initPath:function(h){var w=h._container=dc("shape");Pt(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",h._path=dc("path"),w.appendChild(h._path),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){var w=h._container;this._container.appendChild(w),h.options.interactive&&h.addInteractiveTarget(w)},_removePath:function(h){var w=h._container;Ur(w),h.removeInteractiveTarget(w),delete this._layers[c(h)]},_updateStyle:function(h){var w=h._stroke,E=h._fill,R=h.options,z=h._container;z.stroked=!!R.stroke,z.filled=!!R.fill,R.stroke?(w||(w=h._stroke=dc("stroke")),z.appendChild(w),w.weight=R.weight+"px",w.color=R.color,w.opacity=R.opacity,R.dashArray?w.dashStyle=C(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=R.lineCap.replace("butt","flat"),w.joinstyle=R.lineJoin):w&&(z.removeChild(w),h._stroke=null),R.fill?(E||(E=h._fill=dc("fill")),z.appendChild(E),E.color=R.fillColor||R.color,E.opacity=R.fillOpacity):E&&(z.removeChild(E),h._fill=null)},_updateCircle:function(h){var w=h._point.round(),E=Math.round(h._radius),R=Math.round(h._radiusY||E);this._setPath(h,h._empty()?"M0 0":"AL "+w.x+","+w.y+" "+E+","+R+" 0,"+65535*360)},_setPath:function(h,w){h._path.v=w},_bringToFront:function(h){Xl(h._container)},_bringToBack:function(h){ma(h._container)}},vs=pt.vml?dc:We,Jo=Us.extend({_initContainer:function(){this._container=vs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=vs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ur(this._container),Sr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Us.prototype._update.call(this);var h=this._bounds,w=h.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,E.setAttribute("width",w.x),E.setAttribute("height",w.y)),on(E,h.min),E.setAttribute("viewBox",[h.min.x,h.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(h){var w=h._path=vs("path");h.options.className&&Pt(w,h.options.className),h.options.interactive&&Pt(w,"leaflet-interactive"),this._updateStyle(h),this._layers[c(h)]=h},_addPath:function(h){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(h._path),h.addInteractiveTarget(h._path)},_removePath:function(h){Ur(h._path),h.removeInteractiveTarget(h._path),delete this._layers[c(h)]},_updatePath:function(h){h._project(),h._update()},_updateStyle:function(h){var w=h._path,E=h.options;w&&(E.stroke?(w.setAttribute("stroke",E.color),w.setAttribute("stroke-opacity",E.opacity),w.setAttribute("stroke-width",E.weight),w.setAttribute("stroke-linecap",E.lineCap),w.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?w.setAttribute("stroke-dasharray",E.dashArray):w.removeAttribute("stroke-dasharray"),E.dashOffset?w.setAttribute("stroke-dashoffset",E.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),E.fill?(w.setAttribute("fill",E.fillColor||E.color),w.setAttribute("fill-opacity",E.fillOpacity),w.setAttribute("fill-rule",E.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(h,w){this._setPath(h,Ue(h._parts,w))},_updateCircle:function(h){var w=h._point,E=Math.max(Math.round(h._radius),1),R=Math.max(Math.round(h._radiusY),1)||E,z="a"+E+","+R+" 0 1,0 ",ie=h._empty()?"M0 0":"M"+(w.x-E)+","+w.y+z+E*2+",0 "+z+-E*2+",0 ";this._setPath(h,ie)},_setPath:function(h,w){h._path.setAttribute("d",w)},_bringToFront:function(h){Xl(h._path)},_bringToBack:function(h){ma(h._path)}});pt.vml&&Jo.include(xx);function If(h){return pt.svg||pt.vml?new Jo(h):null}Gt.include({getRenderer:function(h){var w=h.options.renderer||this._getPaneRenderer(h.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(h){if(h==="overlayPane"||h===void 0)return!1;var w=this._paneRenderers[h];return w===void 0&&(w=this._createRenderer({pane:h}),this._paneRenderers[h]=w),w},_createRenderer:function(h){return this.options.preferCanvas&&Om(h)||If(h)}});var bx=ba.extend({initialize:function(h,w){ba.prototype.initialize.call(this,this._boundsToLatLngs(h),w)},setBounds:function(h){return this.setLatLngs(this._boundsToLatLngs(h))},_boundsToLatLngs:function(h){return h=Ce(h),[h.getSouthWest(),h.getNorthWest(),h.getNorthEast(),h.getSouthEast()]}});function Q1(h,w){return new bx(h,w)}Jo.create=vs,Jo.pointsToPath=Ue,zs.geometryToLayer=ac,zs.coordsToLatLng=Tf,zs.coordsToLatLngs=Du,zs.latLngToCoords=kf,zs.latLngsToCoords=Af,zs.getFeature=oc,zs.asFeature=Of,Gt.mergeOptions({boxZoom:!0});var fc=qi.extend({initialize:function(h){this._map=h,this._container=h._container,this._pane=h._panes.overlayPane,this._resetStateTimeout=0,h.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Sr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ur(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(h){if(!h.shiftKey||h.which!==1&&h.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xt(),vf(),this._startPoint=this._map.mouseEventToContainerPoint(h),Ct(document,{contextmenu:hs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(h){this._moved||(this._moved=!0,this._box=Rt("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(h);var w=new J(this._point,this._startPoint),E=w.getSize();on(this._box,w.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Ur(this._box),Lr(this._container,"leaflet-crosshair")),ec(),yf(),Sr(document,{contextmenu:hs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(h){if(!(h.which!==1&&h.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new be(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(h){h.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Gt.addInitHook("addHandler","boxZoom",fc),Gt.mergeOptions({doubleClickZoom:!0});var wx=qi.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(h){var w=this._map,E=w.getZoom(),R=w.options.zoomDelta,z=h.originalEvent.shiftKey?E-R:E+R;w.options.doubleClickZoom==="center"?w.setZoom(z):w.setZoomAround(h.containerPoint,z)}});Gt.addInitHook("addHandler","doubleClickZoom",wx),Gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Rm=qi.extend({addHooks:function(){if(!this._draggable){var h=this._map;this._draggable=new ps(h._mapPane,h._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),h.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),h.on("zoomend",this._onZoomEnd,this),h.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Lr(this._map._container,"leaflet-grab"),Lr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var h=this._map;if(h._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=Ce(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;h.fire("movestart").fire("dragstart"),h.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(h){if(this._map.options.inertia){var w=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(w),this._prunePositions(w)}this._map.fire("move",h).fire("drag",h)},_prunePositions:function(h){for(;this._positions.length>1&&h-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var h=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(h).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(h,w){return h-(h-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var h=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;h.x<w.min.x&&(h.x=this._viscousLimit(h.x,w.min.x)),h.y<w.min.y&&(h.y=this._viscousLimit(h.y,w.min.y)),h.x>w.max.x&&(h.x=this._viscousLimit(h.x,w.max.x)),h.y>w.max.y&&(h.y=this._viscousLimit(h.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(h)}},_onPreDragWrap:function(){var h=this._worldWidth,w=Math.round(h/2),E=this._initialWorldOffset,R=this._draggable._newPos.x,z=(R-w+E)%h+w-E,ie=(R+w+E)%h-w-E,pe=Math.abs(z+E)<Math.abs(ie+E)?z:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=pe},_onDragEnd:function(h){var w=this._map,E=w.options,R=!E.inertia||h.noInertia||this._times.length<2;if(w.fire("dragend",h),R)w.fire("moveend");else{this._prunePositions(+new Date);var z=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,pe=E.easeLinearity,Ee=z.multiplyBy(pe/ie),Me=Ee.distanceTo([0,0]),ze=Math.min(E.inertiaMaxSpeed,Me),nt=Ee.multiplyBy(ze/Me),xt=ze/(E.inertiaDeceleration*pe),$t=nt.multiplyBy(-xt/2).round();!$t.x&&!$t.y?w.fire("moveend"):($t=w._limitOffset($t,w.options.maxBounds),V(function(){w.panBy($t,{duration:xt,easeLinearity:pe,noMoveStart:!0,animate:!0})}))}}});Gt.addInitHook("addHandler","dragging",Rm),Gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Mm=qi.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(h){this._map=h,this._setPanDelta(h.options.keyboardPanDelta),this._setZoomDelta(h.options.zoomDelta)},addHooks:function(){var h=this._map._container;h.tabIndex<=0&&(h.tabIndex="0"),Ct(h,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Sr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var h=document.body,w=document.documentElement,E=h.scrollTop||w.scrollTop,R=h.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(R,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(h){var w=this._panKeys={},E=this.keyCodes,R,z;for(R=0,z=E.left.length;R<z;R++)w[E.left[R]]=[-1*h,0];for(R=0,z=E.right.length;R<z;R++)w[E.right[R]]=[h,0];for(R=0,z=E.down.length;R<z;R++)w[E.down[R]]=[0,h];for(R=0,z=E.up.length;R<z;R++)w[E.up[R]]=[0,-1*h]},_setZoomDelta:function(h){var w=this._zoomKeys={},E=this.keyCodes,R,z;for(R=0,z=E.zoomIn.length;R<z;R++)w[E.zoomIn[R]]=h;for(R=0,z=E.zoomOut.length;R<z;R++)w[E.zoomOut[R]]=-h},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Sr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(h){if(!(h.altKey||h.ctrlKey||h.metaKey)){var w=h.keyCode,E=this._map,R;if(w in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(R=this._panKeys[w],h.shiftKey&&(R=ne(R).multiplyBy(3)),E.options.maxBounds&&(R=E._limitOffset(ne(R),E.options.maxBounds)),E.options.worldCopyJump){var z=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(R)));E.panTo(z)}else E.panBy(R)}else if(w in this._zoomKeys)E.setZoom(E.getZoom()+(h.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;hs(h)}}});Gt.addInitHook("addHandler","keyboard",Mm),Gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Nr=qi.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Sr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(h){var w=rx(h),E=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(h),this._startTime||(this._startTime=+new Date);var R=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),R),hs(h)},_performZoom:function(){var h=this._map,w=h.getZoom(),E=this._map.options.zoomSnap||0;h._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),z=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,ie=E?Math.ceil(z/E)*E:z,pe=h._limitZoom(w+(this._delta>0?ie:-ie))-w;this._delta=0,this._startTime=null,pe&&(h.options.scrollWheelZoom==="center"?h.setZoom(w+pe):h.setZoomAround(this._lastMousePos,w+pe))}});Gt.addInitHook("addHandler","scrollWheelZoom",Nr);var Im=600;Gt.mergeOptions({tapHold:pt.touchNative&&pt.safari&&pt.mobile,tapTolerance:15});var Bu=qi.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Sr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(h){if(clearTimeout(this._holdTimeout),h.touches.length===1){var w=h.touches[0];this._startPos=this._newPos=new ee(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",en),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),Im),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function h(){Sr(document,"touchend",en),Sr(document,"touchend touchcancel",h)},_cancel:function(){clearTimeout(this._holdTimeout),Sr(document,"touchend touchcancel contextmenu",this._cancel,this),Sr(document,"touchmove",this._onMove,this)},_onMove:function(h){var w=h.touches[0];this._newPos=new ee(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(h,w){var E=new MouseEvent(h,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});E._simulated=!0,w.target.dispatchEvent(E)}});Gt.addInitHook("addHandler","tapHold",Bu),Gt.mergeOptions({touchZoom:pt.touch,bounceAtZoomLimits:!0});var hc=qi.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Lr(this._map._container,"leaflet-touch-zoom"),Sr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(h){var w=this._map;if(!(!h.touches||h.touches.length!==2||w._animatingZoom||this._zooming)){var E=w.mouseEventToContainerPoint(h.touches[0]),R=w.mouseEventToContainerPoint(h.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(E.add(R)._divideBy(2))),this._startDist=E.distanceTo(R),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),en(h)}},_onTouchMove:function(h){if(!(!h.touches||h.touches.length!==2||!this._zooming)){var w=this._map,E=w.mouseEventToContainerPoint(h.touches[0]),R=w.mouseEventToContainerPoint(h.touches[1]),z=E.distanceTo(R)/this._startDist;if(this._zoom=w.getScaleZoom(z,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&z<1||this._zoom>w.getMaxZoom()&&z>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,z===1)return}else{var ie=E._add(R)._divideBy(2)._subtract(this._centerPoint);if(z===1&&ie.x===0&&ie.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var pe=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(pe,this,!0),en(h)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Sr(document,"touchmove",this._onTouchMove,this),Sr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Gt.addInitHook("addHandler","touchZoom",hc),Gt.BoxZoom=fc,Gt.DoubleClickZoom=wx,Gt.Drag=Rm,Gt.Keyboard=Mm,Gt.ScrollWheelZoom=Nr,Gt.TapHold=Bu,Gt.TouchZoom=hc,r.Bounds=J,r.Browser=pt,r.CRS=ae,r.Canvas=Am,r.Circle=Ef,r.CircleMarker=Cf,r.Class=H,r.Control=Ei,r.DivIcon=Mf,r.DivOverlay=qs,r.DomEvent=wf,r.DomUtil=Au,r.Draggable=ps,r.Evented=W,r.FeatureGroup=ya,r.GeoJSON=zs,r.GridLayer=oo,r.Handler=qi,r.Icon=Xo,r.ImageOverlay=ao,r.LatLng=Le,r.LatLngBounds=be,r.Layer=ms,r.LayerGroup=io,r.LineUtil=cx,r.Map=Gt,r.Marker=xa,r.Mixin=ym,r.Path=so,r.Point=ee,r.PolyUtil=q1,r.Polygon=ba,r.Polyline=Pi,r.Popup=Rf,r.PosAnimation=_f,r.Projection=K1,r.Rectangle=bx,r.Renderer=Us,r.SVG=Jo,r.SVGOverlay=Pm,r.TileLayer=lo,r.Tooltip=cc,r.Transformation=te,r.Util=q,r.VideoOverlay=Em,r.bind=o,r.bounds=oe,r.canvas=Om,r.circle=Lu,r.circleMarker=hx,r.control=no,r.divIcon=vx,r.extend=i,r.featureGroup=dx,r.geoJSON=px,r.geoJson=gs,r.gridLayer=uc,r.icon=fx,r.imageOverlay=mx,r.latLng=ce,r.latLngBounds=Ce,r.layerGroup=Iu,r.map=ro,r.marker=Y1,r.point=ne,r.polygon=J1,r.polyline=X1,r.popup=lc,r.rectangle=Q1,r.setOptions=y,r.stamp=c,r.svg=If,r.svgOverlay=Tm,r.tileLayer=km,r.tooltip=$u,r.transformation=Y,r.version=n,r.videoOverlay=gx;var _x=window.L;r.noConflict=function(){return window.L=_x,this},window.L=r})}(Og,Og.exports)),Og.exports}var zCe=BCe();const qc=pr(zCe);delete qc.Icon.Default.prototype._getIconUrl;qc.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const qCe=({center:e=[48.8566,2.3522],zoom:t=13,onLocationSelect:r,selectedLocation:n=null,height:i="400px",className:s=""})=>{const o=x.useRef(null),l=x.useRef(null),c=x.useRef(null),[u,f]=x.useState(!1);x.useEffect(()=>{if(!o.current||l.current)return;const g=qc.map(o.current).setView(e,t);return l.current=g,qc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(g),g.on("click",v=>{const{lat:b,lng:y}=v.latlng;c.current&&g.removeLayer(c.current),c.current=qc.marker([b,y],{icon:qc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(g),r&&r({latitude:b,longitude:y,timestamp:new Date().toISOString(),source:"map"})}),g.whenReady(()=>{f(!0)}),()=>{l.current&&(l.current.remove(),l.current=null)}},[e,t,r]),x.useEffect(()=>{!l.current||!n||(c.current&&l.current.removeLayer(c.current),c.current=qc.marker([n.latitude,n.longitude],{icon:qc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(l.current),l.current.setView([n.latitude,n.longitude],15))},[n]);const p=(g,v,b=15)=>{l.current&&l.current.setView([g,v],b)};return x.useEffect(()=>{window.centerMapOnLocation,window.centerMapOnLocation=p},[]),a.jsxs("div",{className:`relative ${s}`,children:[a.jsx("div",{ref:o,style:{height:i},className:"w-full rounded-lg overflow-hidden border"}),!u&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement de la carte..."})]})}),a.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-muted-foreground shadow-sm",children:"Cliquez sur la carte pour sélectionner un point"})]})};class UCe{constructor(){this.baseUrl="https://nominatim.openstreetmap.org",this.cache=new Map,this.cacheTimeout=5*60*1e3}async searchLocation(t,r={}){const{limit:n=5,countrycodes:i="",bounded:s=0,viewbox:o="",addressdetails:l=1}=r,c=`${t}_${n}_${i}`,u=this.getFromCache(c);if(u)return u;try{const f=new URLSearchParams({q:t,format:"json",limit:n.toString(),addressdetails:l.toString(),bounded:s.toString()});i&&f.append("countrycodes",i),o&&f.append("viewbox",o);const p=await fetch(`${this.baseUrl}/search?${f}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!p.ok)throw new Error(`Erreur HTTP: ${p.status}`);const v=(await p.json()).map(b=>({id:b.place_id,name:b.display_name,latitude:parseFloat(b.lat),longitude:parseFloat(b.lon),type:b.type,importance:b.importance,address:b.address,boundingbox:b.boundingbox}));return this.setCache(c,v),v}catch(f){throw console.error("Erreur géocodage:",f),new Error("Erreur lors de la recherche d'adresse. Veuillez réessayer.")}}async reverseGeocode(t,r,n={}){const{zoom:i=18,addressdetails:s=1,extratags:o=1}=n,l=`reverse_${t}_${r}_${i}`,c=this.getFromCache(l);if(c)return c;try{const u=new URLSearchParams({lat:t.toString(),lon:r.toString(),format:"json",zoom:i.toString(),addressdetails:s.toString(),extratags:o.toString()}),f=await fetch(`${this.baseUrl}/reverse?${u}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!f.ok)throw new Error(`Erreur HTTP: ${f.status}`);const p=await f.json(),g={id:p.place_id,name:p.display_name,latitude:parseFloat(p.lat),longitude:parseFloat(p.lon),type:p.type,address:p.address,boundingbox:p.boundingbox};return this.setCache(l,g),g}catch(u){throw console.error("Erreur géocodage inverse:",u),new Error("Erreur lors de la récupération de l'adresse. Veuillez réessayer.")}}async searchPopularPlaces(t,r={}){const{limit:n=10,countrycodes:i="fr,be,ch,ca"}=r;try{return(await this.searchLocation(t,{limit:n,countrycodes:i})).sort((o,l)=>l.importance-o.importance)}catch(s){return console.error("Erreur recherche lieux populaires:",s),[]}}validateCoordinates(t,r){const n=parseFloat(t),i=parseFloat(r);return!(isNaN(n)||isNaN(i)||n<-90||n>90||i<-180||i>180)}formatAddress(t){if(!t)return"";const r=[];return t.house_number&&r.push(t.house_number),t.road&&r.push(t.road),t.postcode&&r.push(t.postcode),(t.city||t.town||t.village)&&r.push(t.city||t.town||t.village),t.country&&r.push(t.country),r.join(", ")}getFromCache(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>this.cacheTimeout?(this.cache.delete(t),null):r.data:null}setCache(t,r){this.cache.set(t,{data:r,timestamp:Date.now()})}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const R0=new UCe,VCe=({onLocationSelect:e,onClose:t,isOpen:r=!1,defaultLocation:n=null,showMap:i=!0})=>{x.useRef(null);const s=x.useRef(null),[o,l]=x.useState(!1),[c,u]=x.useState(null),[f,p]=x.useState(null),[g,v]=x.useState(n),[b,y]=x.useState(""),[_,S]=x.useState([]),[N,C]=x.useState(!1),[A,k]=x.useState(null),{toast:P}=Zr(),O=x.useCallback(async()=>{if(!navigator.geolocation){p("La géolocalisation n'est pas supportée par votre navigateur");return}l(!0),p(null);const q={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4};try{const H=await new Promise((ee,X)=>{navigator.geolocation.getCurrentPosition(ee,X,q)}),{latitude:G,longitude:se}=H.coords,W={latitude:G,longitude:se,accuracy:H.coords.accuracy,timestamp:new Date().toISOString(),source:"gps"};k(W),v(W),u(!0),P({title:"Position obtenue !",description:`Précision : ${Math.round(H.coords.accuracy)} mètres`,duration:3e3})}catch(H){console.error("Erreur géolocalisation:",H),H.code===1?p("Permission de géolocalisation refusée. Veuillez autoriser l'accès à votre position dans les paramètres de votre navigateur."):H.code===2?p("Impossible de déterminer votre position. Vérifiez que votre GPS est activé."):H.code===3?p("Délai d'attente dépassé. Vérifiez votre connexion internet."):p("Erreur lors de la géolocalisation. Veuillez réessayer."),u(!1)}finally{l(!1)}},[P]),I=x.useCallback(async q=>{if(!q.trim()){S([]);return}C(!0),p(null);try{const H=await R0.searchLocation(q,{limit:8,countrycodes:"fr,be,ch,ca",addressdetails:1});S(H)}catch(H){console.error("Erreur recherche:",H),p(H.message||"Erreur lors de la recherche. Veuillez réessayer."),S([])}finally{C(!1)}},[]),B=x.useCallback(q=>{const H={latitude:q.latitude,longitude:q.longitude,name:q.name,timestamp:new Date().toISOString(),source:"search"};v(H),y(q.name),S([]),P({title:"Localisation sélectionnée !",description:q.name,duration:3e3})},[P]),K=x.useCallback(async(q,H)=>{try{const G=await R0.reverseGeocode(q,H),se={latitude:q,longitude:H,name:G.name,address:R0.formatAddress(G.address),timestamp:new Date().toISOString(),source:"map"};v(se),P({title:"Position sélectionnée !",description:G.name||`Lat: ${q.toFixed(6)}, Lng: ${H.toFixed(6)}`,duration:3e3})}catch{const se={latitude:q,longitude:H,timestamp:new Date().toISOString(),source:"map"};v(se),P({title:"Position sélectionnée !",description:`Lat: ${q.toFixed(6)}, Lng: ${H.toFixed(6)}`,duration:3e3})}},[P]),V=x.useCallback(()=>{g&&e&&(e(g),t())},[g,e,t]),U=x.useCallback(()=>{v(null),y(""),S([]),p(null),t()},[t]);return x.useEffect(()=>{const q=setTimeout(()=>{b.trim()&&I(b)},500);return()=>clearTimeout(q)},[b,I]),x.useEffect(()=>{r&&!n&&!A&&O()},[r,n,A,O]),c===!1?a.jsx(li,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Pn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la localisation refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:f||"Pour utiliser la géolocalisation, vous devez autoriser l'accès à votre position dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Fermer"}),a.jsx(ue,{onClick:O,children:"Réessayer"})]})]})})}):a.jsx(li,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(No,{className:"h-5 w-5 mr-2"}),"Sélectionner une localisation"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(is,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{ref:s,placeholder:"Rechercher une adresse, ville, lieu...",value:b,onChange:q=>y(q.target.value),className:"pl-10 pr-4"}),N&&a.jsx(Mr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),_.length>0&&a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.map(q=>a.jsxs(Re.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>B(q),children:[a.jsx(No,{className:"h-4 w-4 text-primary"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:q.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[q.type," • ",R0.formatAddress(q.address)]})]})]},q.id))}),i&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Carte interactive"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:O,disabled:o,className:"flex items-center",children:[a.jsx(Xue,{className:"h-4 w-4 mr-2"}),"Ma position"]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>{g&&window.centerMapOnLocation&&window.centerMapOnLocation(g.latitude,g.longitude)},disabled:!g,className:"flex items-center",children:[a.jsx(Kd,{className:"h-4 w-4 mr-2"}),"Centrer"]})]})]}),a.jsx(qCe,{center:A?[A.latitude,A.longitude]:[48.8566,2.3522],zoom:13,onLocationSelect:K,selectedLocation:g,height:"400px",className:"w-full"})]}),g&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Yn,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-primary mb-2",children:"Localisation sélectionnée"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Latitude :"})," ",g.latitude.toFixed(6)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Longitude :"})," ",g.longitude.toFixed(6)]}),g.name&&a.jsxs("p",{children:[a.jsx("strong",{children:"Nom :"})," ",g.name]}),g.address&&a.jsxs("p",{children:[a.jsx("strong",{children:"Adresse :"})," ",g.address]}),g.accuracy&&a.jsxs("p",{children:[a.jsx("strong",{children:"Précision :"})," ",Math.round(g.accuracy)," mètres"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Source :"})," ",g.source]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Heure :"})," ",new Date(g.timestamp).toLocaleTimeString()]})]})]})]})}),f&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Pn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:f})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:g?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Yn,{className:"h-4 w-4 mr-2 text-green-500"}),"Localisation prête à être envoyée"]}):"Aucune localisation sélectionnée"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Annuler"}),a.jsxs(ue,{onClick:V,disabled:!g,className:"bg-primary hover:bg-primary/90",children:[a.jsx(No,{className:"h-4 w-4 mr-2"}),"Utiliser cette localisation"]})]})]})]})})})},WCe=({onAppointmentCreate:e,onClose:t,isOpen:r=!1,existingAppointments:n=[],availableSlots:i=[],timezone:s="Europe/Paris"})=>{const[o,l]=x.useState(""),[c,u]=x.useState(""),[f,p]=x.useState(60),[g,v]=x.useState(""),[b,y]=x.useState(""),[_,S]=x.useState(""),[N,C]=x.useState(1),[A,k]=x.useState(!1),[P,O]=x.useState(null),{toast:I}=Zr(),B=x.useCallback(()=>{const q=[],H=new Date;for(let G=0;G<30;G++){const se=new Date(H);se.setDate(H.getDate()+G);const W=se.getDay();W!==0&&W!==6&&q.push({date:se.toISOString().split("T")[0],label:se.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),isToday:G===0})}return q},[]),K=x.useCallback(async()=>{if(!o||!c||!g.trim()){O("Veuillez remplir tous les champs obligatoires");return}k(!0),O(null);try{const q={id:Date.now().toString(),date:o,time:c,duration:f,title:g.trim(),description:b.trim(),location:_.trim(),timezone:s,createdAt:new Date().toISOString(),status:"confirmed"};await new Promise(H=>setTimeout(H,1e3)),e&&e(q),I({title:"Rendez-vous créé !",description:`Le rendez-vous "${g}" a été planifié avec succès.`,duration:5e3}),t()}catch{O("Erreur lors de la création du rendez-vous. Veuillez réessayer.")}finally{k(!1)}},[o,c,f,g,b,_,s,e,t,I]),V=x.useCallback(()=>{l(""),u(""),p(60),v(""),y(""),S(""),O(null),C(1),t()},[t]),U=B();return a.jsx(li,{children:r&&a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Ul,{className:"h-5 w-5 mr-2"}),"Planifier un rendez-vous"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:V,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(is,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Sélectionnez une date et une heure"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:U.map(q=>a.jsx(ue,{variant:o===q.date?"default":"outline",size:"sm",onClick:()=>l(q.date),className:`h-12 ${q.isToday?"ring-2 ring-primary":""}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:q.label.split(" ")[0]}),a.jsx("div",{className:"font-medium",children:q.label.split(" ")[1]})]})},q.date))})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Heure"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(q=>a.jsx(ue,{variant:c===q?"default":"outline",size:"sm",onClick:()=>u(q),className:"h-10",children:q},q))})]}),o&&c&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Détails du rendez-vous"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),a.jsx(tt,{placeholder:"Titre du rendez-vous",value:g,onChange:q=>v(q.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx(fu,{placeholder:"Description du rendez-vous...",value:b,onChange:q=>y(q.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lieu"}),a.jsx(tt,{placeholder:"Adresse ou lieu",value:_,onChange:q=>S(q.target.value)})]})]}),P&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Pn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:P})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Rendez-vous"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:V,children:"Annuler"}),a.jsx(ue,{onClick:K,disabled:A||!o||!c||!g.trim(),className:"bg-primary hover:bg-primary/90",children:A?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"h-4 w-4 mr-2 animate-spin"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Créer le rendez-vous"]})})]})]})]})})})},Lo=Object.create(null);Lo.open="0";Lo.close="1";Lo.ping="2";Lo.pong="3";Lo.message="4";Lo.upgrade="5";Lo.noop="6";const hb=Object.create(null);Object.keys(Lo).forEach(e=>{hb[Lo[e]]=e});const Ek={type:"error",data:"parser error"},sJ=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",aJ=typeof ArrayBuffer=="function",oJ=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,jM=({type:e,data:t},r,n)=>sJ&&t instanceof Blob?r?n(t):bF(t,n):aJ&&(t instanceof ArrayBuffer||oJ(t))?r?n(t):bF(new Blob([t]),n):n(Lo[e]+(t||"")),bF=(e,t)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];t("b"+(n||""))},r.readAsDataURL(e)};function wF(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let pN;function HCe(e,t){if(sJ&&e.data instanceof Blob)return e.data.arrayBuffer().then(wF).then(t);if(aJ&&(e.data instanceof ArrayBuffer||oJ(e.data)))return t(wF(e.data));jM(e,!1,r=>{pN||(pN=new TextEncoder),t(pN.encode(r))})}const _F="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Rg=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let e=0;e<_F.length;e++)Rg[_F.charCodeAt(e)]=e;const KCe=e=>{let t=e.length*.75,r=e.length,n,i=0,s,o,l,c;e[e.length-1]==="="&&(t--,e[e.length-2]==="="&&t--);const u=new ArrayBuffer(t),f=new Uint8Array(u);for(n=0;n<r;n+=4)s=Rg[e.charCodeAt(n)],o=Rg[e.charCodeAt(n+1)],l=Rg[e.charCodeAt(n+2)],c=Rg[e.charCodeAt(n+3)],f[i++]=s<<2|o>>4,f[i++]=(o&15)<<4|l>>2,f[i++]=(l&3)<<6|c&63;return u},GCe=typeof ArrayBuffer=="function",SM=(e,t)=>{if(typeof e!="string")return{type:"message",data:lJ(e,t)};const r=e.charAt(0);return r==="b"?{type:"message",data:ZCe(e.substring(1),t)}:hb[r]?e.length>1?{type:hb[r],data:e.substring(1)}:{type:hb[r]}:Ek},ZCe=(e,t)=>{if(GCe){const r=KCe(e);return lJ(r,t)}else return{base64:!0,data:e}},lJ=(e,t)=>{switch(t){case"blob":return e instanceof Blob?e:new Blob([e]);case"arraybuffer":default:return e instanceof ArrayBuffer?e:e.buffer}},cJ="",YCe=(e,t)=>{const r=e.length,n=new Array(r);let i=0;e.forEach((s,o)=>{jM(s,!1,l=>{n[o]=l,++i===r&&t(n.join(cJ))})})},XCe=(e,t)=>{const r=e.split(cJ),n=[];for(let i=0;i<r.length;i++){const s=SM(r[i],t);if(n.push(s),s.type==="error")break}return n};function JCe(){return new TransformStream({transform(e,t){HCe(e,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}e.data&&typeof e.data!="string"&&(i[0]|=128),t.enqueue(i),t.enqueue(r)})}})}let mN;function M0(e){return e.reduce((t,r)=>t+r.length,0)}function I0(e,t){if(e[0].length===t)return e.shift();const r=new Uint8Array(t);let n=0;for(let i=0;i<t;i++)r[i]=e[0][n++],n===e[0].length&&(e.shift(),n=0);return e.length&&n<e[0].length&&(e[0]=e[0].slice(n)),r}function QCe(e,t){mN||(mN=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(M0(r)<1)break;const c=I0(r,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(M0(r)<2)break;const c=I0(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(M0(r)<8)break;const c=I0(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),f=u.getUint32(0);if(f>Math.pow(2,21)-1){l.enqueue(Ek);break}i=f*Math.pow(2,32)+u.getUint32(4),n=3}else{if(M0(r)<i)break;const c=I0(r,i);l.enqueue(SM(s?c:mN.decode(c),t)),n=0}if(i===0||i>e){l.enqueue(Ek);break}}}})}const uJ=4;function Nn(e){if(e)return eEe(e)}function eEe(e){for(var t in Nn.prototype)e[t]=Nn.prototype[t];return e}Nn.prototype.on=Nn.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this};Nn.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this};Nn.prototype.off=Nn.prototype.removeListener=Nn.prototype.removeAllListeners=Nn.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+e];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+e],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===t||n.fn===t){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+e],this};Nn.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,t)}return this};Nn.prototype.emitReserved=Nn.prototype.emit;Nn.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]};Nn.prototype.hasListeners=function(e){return!!this.listeners(e).length};const i1=typeof Promise=="function"&&typeof Promise.resolve=="function"?t=>Promise.resolve().then(t):(t,r)=>r(t,0),na=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),tEe="arraybuffer";function dJ(e,...t){return t.reduce((r,n)=>(e.hasOwnProperty(n)&&(r[n]=e[n]),r),{})}const rEe=na.setTimeout,nEe=na.clearTimeout;function s1(e,t){t.useNativeTimers?(e.setTimeoutFn=rEe.bind(na),e.clearTimeoutFn=nEe.bind(na)):(e.setTimeoutFn=na.setTimeout.bind(na),e.clearTimeoutFn=na.clearTimeout.bind(na))}const iEe=1.33;function sEe(e){return typeof e=="string"?aEe(e):Math.ceil((e.byteLength||e.size)*iEe)}function aEe(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}function fJ(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function oEe(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t}function lEe(e){let t={},r=e.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");t[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return t}class cEe extends Error{constructor(t,r,n){super(t),this.description=r,this.context=n,this.type="TransportError"}}class NM extends Nn{constructor(t){super(),this.writable=!1,s1(this,t),this.opts=t,this.query=t.query,this.socket=t.socket,this.supportsBinary=!t.forceBase64}onError(t,r,n){return super.emitReserved("error",new cEe(t,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(t){this.readyState==="open"&&this.write(t)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(t){const r=SM(t,this.socket.binaryType);this.onPacket(r)}onPacket(t){super.emitReserved("packet",t)}onClose(t){this.readyState="closed",super.emitReserved("close",t)}pause(t){}createUri(t,r={}){return t+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const t=this.opts.hostname;return t.indexOf(":")===-1?t:"["+t+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(t){const r=oEe(t);return r.length?"?"+r:""}}class uEe extends NM{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(t){this.readyState="pausing";const r=()=>{this.readyState="paused",t()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(t){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};XCe(t,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const t=()=>{this.write([{type:"close"}])};this.readyState==="open"?t():this.once("open",t)}write(t){this.writable=!1,YCe(t,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const t=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=fJ()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(t,r)}}let hJ=!1;try{hJ=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const dEe=hJ;function fEe(){}class hEe extends uEe{constructor(t){if(super(t),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&t.hostname!==location.hostname||n!==t.port}}doWrite(t,r){const n=this.request({method:"POST",data:t});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=t}}class Po extends Nn{constructor(t,r,n){super(),this.createRequest=t,s1(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var t;const r=dJ(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(t=this._opts.cookieJar)===null||t===void 0||t.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Po.requestsCount++,Po.requests[this._index]=this)}_onError(t){this.emitReserved("error",t,this._xhr),this._cleanup(!0)}_cleanup(t){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=fEe,t)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Po.requests[this._index],this._xhr=null}}_onLoad(){const t=this._xhr.responseText;t!==null&&(this.emitReserved("data",t),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Po.requestsCount=0;Po.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",jF);else if(typeof addEventListener=="function"){const e="onpagehide"in na?"pagehide":"unload";addEventListener(e,jF,!1)}}function jF(){for(let e in Po.requests)Po.requests.hasOwnProperty(e)&&Po.requests[e].abort()}const pEe=function(){const e=pJ({xdomain:!1});return e&&e.responseType!==null}();class mEe extends hEe{constructor(t){super(t);const r=t&&t.forceBase64;this.supportsBinary=pEe&&!r}request(t={}){return Object.assign(t,{xd:this.xd},this.opts),new Po(pJ,this.uri(),t)}}function pJ(e){const t=e.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!t||dEe))return new XMLHttpRequest}catch{}if(!t)try{return new na[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const mJ=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class gEe extends NM{get name(){return"websocket"}doOpen(){const t=this.uri(),r=this.opts.protocols,n=mJ?{}:dJ(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(t,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=t=>this.onClose({description:"websocket connection closed",context:t}),this.ws.onmessage=t=>this.onData(t.data),this.ws.onerror=t=>this.onError("websocket error",t)}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;jM(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&i1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const t=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=fJ()),this.supportsBinary||(r.b64=1),this.createUri(t,r)}}const gN=na.WebSocket||na.MozWebSocket;class vEe extends gEe{createSocket(t,r,n){return mJ?new gN(t,r,n):r?new gN(t,r):new gN(t)}doWrite(t,r){this.ws.send(r)}}class yEe extends NM{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(t){return this.emitReserved("error",t)}this._transport.closed.then(()=>{this.onClose()}).catch(t=>{this.onError("webtransport error",t)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(t=>{const r=QCe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=t.readable.pipeThrough(r).getReader(),i=JCe();i.readable.pipeTo(t.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(t){this.writable=!1;for(let r=0;r<t.length;r++){const n=t[r],i=r===t.length-1;this._writer.write(n).then(()=>{i&&i1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var t;(t=this._transport)===null||t===void 0||t.close()}}const xEe={websocket:vEe,webtransport:yEe,polling:mEe},bEe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,wEe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Pk(e){if(e.length>8e3)throw"URI too long";const t=e,r=e.indexOf("["),n=e.indexOf("]");r!=-1&&n!=-1&&(e=e.substring(0,r)+e.substring(r,n).replace(/:/g,";")+e.substring(n,e.length));let i=bEe.exec(e||""),s={},o=14;for(;o--;)s[wEe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=_Ee(s,s.path),s.queryKey=jEe(s,s.query),s}function _Ee(e,t){const r=/\/{2,9}/g,n=t.replace(r,"/").split("/");return(t.slice(0,1)=="/"||t.length===0)&&n.splice(0,1),t.slice(-1)=="/"&&n.splice(n.length-1,1),n}function jEe(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}const Tk=typeof addEventListener=="function"&&typeof removeEventListener=="function",pb=[];Tk&&addEventListener("offline",()=>{pb.forEach(e=>e())},!1);class nu extends Nn{constructor(t,r){if(super(),this.binaryType=tEe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,t&&typeof t=="object"&&(r=t,t=null),t){const n=Pk(t);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=Pk(r.host).host);s1(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=lEe(this.opts.query)),Tk&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},pb.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(t){const r=Object.assign({},this.opts.query);r.EIO=uJ,r.transport=t,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[t]);return new this._transportsByName[t](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const t=this.opts.rememberUpgrade&&nu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(t);r.open(),this.setTransport(r)}setTransport(t){this.transport&&this.transport.removeAllListeners(),this.transport=t,t.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",nu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(t){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",t),this.emitReserved("heartbeat"),t.type){case"open":this.onHandshake(JSON.parse(t.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=t.data,this._onError(r);break;case"message":this.emitReserved("data",t.data),this.emitReserved("message",t.data);break}}onHandshake(t){this.emitReserved("handshake",t),this.id=t.sid,this.transport.query.sid=t.sid,this._pingInterval=t.pingInterval,this._pingTimeout=t.pingTimeout,this._maxPayload=t.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const t=this._getWritablePackets();this.transport.send(t),this._prevBufferLen=t.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=sEe(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,i1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),t}write(t,r,n){return this._sendPacket("message",t,r,n),this}send(t,r,n){return this._sendPacket("message",t,r,n),this}_sendPacket(t,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:t,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const t=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),t()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():t()}):this.upgrading?n():t()),this}_onError(t){if(nu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",t),this._onClose("transport error",t)}_onClose(t,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Tk&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=pb.indexOf(this._offlineEventListener);n!==-1&&pb.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",t,r),this.writeBuffer=[],this._prevBufferLen=0}}}nu.protocol=uJ;class SEe extends nu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let t=0;t<this._upgrades.length;t++)this._probe(this._upgrades[t])}_probe(t){let r=this.createTransport(t),n=!1;nu.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",p=>{if(!n)if(p.type==="pong"&&p.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;nu.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(f(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function s(){n||(n=!0,f(),r.close(),r=null)}const o=p=>{const g=new Error("probe error: "+p);g.transport=r.name,s(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function u(p){r&&p.name!==r.name&&s()}const f=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&t!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(t){this._upgrades=this._filterUpgrades(t.upgrades),super.onHandshake(t)}_filterUpgrades(t){const r=[];for(let n=0;n<t.length;n++)~this.transports.indexOf(t[n])&&r.push(t[n]);return r}}let NEe=class extends SEe{constructor(t,r={}){const n=typeof t=="object"?t:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>xEe[i]).filter(i=>!!i)),super(t,n)}};function CEe(e,t="",r){let n=e;r=r||typeof location<"u"&&location,e==null&&(e=r.protocol+"//"+r.host),typeof e=="string"&&(e.charAt(0)==="/"&&(e.charAt(1)==="/"?e=r.protocol+e:e=r.host+e),/^(https?|wss?):\/\//.test(e)||(typeof r<"u"?e=r.protocol+"//"+e:e="https://"+e),n=Pk(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const EEe=typeof ArrayBuffer=="function",PEe=e=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,gJ=Object.prototype.toString,TEe=typeof Blob=="function"||typeof Blob<"u"&&gJ.call(Blob)==="[object BlobConstructor]",kEe=typeof File=="function"||typeof File<"u"&&gJ.call(File)==="[object FileConstructor]";function CM(e){return EEe&&(e instanceof ArrayBuffer||PEe(e))||TEe&&e instanceof Blob||kEe&&e instanceof File}function mb(e,t){if(!e||typeof e!="object")return!1;if(Array.isArray(e)){for(let r=0,n=e.length;r<n;r++)if(mb(e[r]))return!0;return!1}if(CM(e))return!0;if(e.toJSON&&typeof e.toJSON=="function"&&arguments.length===1)return mb(e.toJSON(),!0);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&mb(e[r]))return!0;return!1}function AEe(e){const t=[],r=e.data,n=e;return n.data=kk(r,t),n.attachments=t.length,{packet:n,buffers:t}}function kk(e,t){if(!e)return e;if(CM(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}else if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=kk(e[n],t);return r}else if(typeof e=="object"&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=kk(e[n],t));return r}return e}function OEe(e,t){return e.data=Ak(e.data,t),delete e.attachments,e}function Ak(e,t){if(!e)return e;if(e&&e._placeholder===!0){if(typeof e.num=="number"&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}else if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=Ak(e[r],t);else if(typeof e=="object")for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=Ak(e[r],t));return e}const REe=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],MEe=5;var Jt;(function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"})(Jt||(Jt={}));class IEe{constructor(t){this.replacer=t}encode(t){return(t.type===Jt.EVENT||t.type===Jt.ACK)&&mb(t)?this.encodeAsBinary({type:t.type===Jt.EVENT?Jt.BINARY_EVENT:Jt.BINARY_ACK,nsp:t.nsp,data:t.data,id:t.id}):[this.encodeAsString(t)]}encodeAsString(t){let r=""+t.type;return(t.type===Jt.BINARY_EVENT||t.type===Jt.BINARY_ACK)&&(r+=t.attachments+"-"),t.nsp&&t.nsp!=="/"&&(r+=t.nsp+","),t.id!=null&&(r+=t.id),t.data!=null&&(r+=JSON.stringify(t.data,this.replacer)),r}encodeAsBinary(t){const r=AEe(t),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function SF(e){return Object.prototype.toString.call(e)==="[object Object]"}class EM extends Nn{constructor(t){super(),this.reviver=t}add(t){let r;if(typeof t=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(t);const n=r.type===Jt.BINARY_EVENT;n||r.type===Jt.BINARY_ACK?(r.type=n?Jt.EVENT:Jt.ACK,this.reconstructor=new LEe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(CM(t)||t.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(t),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+t)}decodeString(t){let r=0;const n={type:Number(t.charAt(0))};if(Jt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Jt.BINARY_EVENT||n.type===Jt.BINARY_ACK){const s=r+1;for(;t.charAt(++r)!=="-"&&r!=t.length;);const o=t.substring(s,r);if(o!=Number(o)||t.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(t.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(t.charAt(r)===","||r===t.length););n.nsp=t.substring(s,r)}else n.nsp="/";const i=t.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=t.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===t.length)break}n.id=Number(t.substring(s,r+1))}if(t.charAt(++r)){const s=this.tryParse(t.substr(r));if(EM.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(t){try{return JSON.parse(t,this.reviver)}catch{return!1}}static isPayloadValid(t,r){switch(t){case Jt.CONNECT:return SF(r);case Jt.DISCONNECT:return r===void 0;case Jt.CONNECT_ERROR:return typeof r=="string"||SF(r);case Jt.EVENT:case Jt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&REe.indexOf(r[0])===-1);case Jt.ACK:case Jt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class LEe{constructor(t){this.packet=t,this.buffers=[],this.reconPack=t}takeBinaryData(t){if(this.buffers.push(t),this.buffers.length===this.reconPack.attachments){const r=OEe(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const DEe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:EM,Encoder:IEe,get PacketType(){return Jt},protocol:MEe},Symbol.toStringTag,{value:"Module"}));function Oa(e,t,r){return e.on(t,r),function(){e.off(t,r)}}const $Ee=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class vJ extends Nn{constructor(t,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=t,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const t=this.io;this.subs=[Oa(t,"open",this.onopen.bind(this)),Oa(t,"packet",this.onpacket.bind(this)),Oa(t,"error",this.onerror.bind(this)),Oa(t,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...t){return t.unshift("message"),this.emit.apply(this,t),this}emit(t,...r){var n,i,s;if($Ee.hasOwnProperty(t))throw new Error('"'+t.toString()+'" is a reserved event name');if(r.unshift(t),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Jt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const f=this.ids++,p=r.pop();this._registerAckCallback(f,p),o.id=f}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(t,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[t]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[t];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===t&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)};o.withError=!0,this.acks[t]=o}emitWithAck(t,...r){return new Promise((n,i)=>{const s=(o,l)=>o?i(o):n(l);s.withError=!0,r.push(s),this.emit(t,...r)})}_addToQueue(t){let r;typeof t[t.length-1]=="function"&&(r=t.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:t,flags:Object.assign({fromQueue:!0},this.flags)};t.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(t=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!t||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(t){t.nsp=this.nsp,this.io._packet(t)}onopen(){typeof this.auth=="function"?this.auth(t=>{this._sendConnectPacket(t)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(t){this.packet({type:Jt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},t):t})}onerror(t){this.connected||this.emitReserved("connect_error",t)}onclose(t,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",t,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(t=>{if(!this.sendBuffer.some(n=>String(n.id)===t)){const n=this.acks[t];delete this.acks[t],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(t){if(t.nsp===this.nsp)switch(t.type){case Jt.CONNECT:t.data&&t.data.sid?this.onconnect(t.data.sid,t.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Jt.EVENT:case Jt.BINARY_EVENT:this.onevent(t);break;case Jt.ACK:case Jt.BINARY_ACK:this.onack(t);break;case Jt.DISCONNECT:this.ondisconnect();break;case Jt.CONNECT_ERROR:this.destroy();const n=new Error(t.data.message);n.data=t.data.data,this.emitReserved("connect_error",n);break}}onevent(t){const r=t.data||[];t.id!=null&&r.push(this.ack(t.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(t){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,t)}super.emit.apply(this,t),this._pid&&t.length&&typeof t[t.length-1]=="string"&&(this._lastOffset=t[t.length-1])}ack(t){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Jt.ACK,id:t,data:i}))}}onack(t){const r=this.acks[t.id];typeof r=="function"&&(delete this.acks[t.id],r.withError&&t.data.unshift(null),r.apply(this,t.data))}onconnect(t,r){this.id=t,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(t=>this.emitEvent(t)),this.receiveBuffer=[],this.sendBuffer.forEach(t=>{this.notifyOutgoingListeners(t),this.packet(t)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(t=>t()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Jt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(t){return this.flags.compress=t,this}get volatile(){return this.flags.volatile=!0,this}timeout(t){return this.flags.timeout=t,this}onAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(t),this}prependAny(t){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(t),this}offAny(t){if(!this._anyListeners)return this;if(t){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(t),this}prependAnyOutgoing(t){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(t),this}offAnyOutgoing(t){if(!this._anyOutgoingListeners)return this;if(t){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(t===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(t){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,t.data)}}}function Xp(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Xp.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=(Math.floor(t*10)&1)==0?e-r:e+r}return Math.min(e,this.max)|0};Xp.prototype.reset=function(){this.attempts=0};Xp.prototype.setMin=function(e){this.ms=e};Xp.prototype.setMax=function(e){this.max=e};Xp.prototype.setJitter=function(e){this.jitter=e};class Ok extends Nn{constructor(t,r){var n;super(),this.nsps={},this.subs=[],t&&typeof t=="object"&&(r=t,t=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,s1(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Xp({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=t;const i=r.parser||DEe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(t){return arguments.length?(this._reconnection=!!t,t||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(t){return t===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=t,this)}reconnectionDelay(t){var r;return t===void 0?this._reconnectionDelay:(this._reconnectionDelay=t,(r=this.backoff)===null||r===void 0||r.setMin(t),this)}randomizationFactor(t){var r;return t===void 0?this._randomizationFactor:(this._randomizationFactor=t,(r=this.backoff)===null||r===void 0||r.setJitter(t),this)}reconnectionDelayMax(t){var r;return t===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=t,(r=this.backoff)===null||r===void 0||r.setMax(t),this)}timeout(t){return arguments.length?(this._timeout=t,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(t){if(~this._readyState.indexOf("open"))return this;this.engine=new NEe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Oa(r,"open",function(){n.onopen(),t&&t()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),t?t(l):this.maybeReconnectOnOpen()},o=Oa(r,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(t){return this.open(t)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const t=this.engine;this.subs.push(Oa(t,"ping",this.onping.bind(this)),Oa(t,"data",this.ondata.bind(this)),Oa(t,"error",this.onerror.bind(this)),Oa(t,"close",this.onclose.bind(this)),Oa(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(t){try{this.decoder.add(t)}catch(r){this.onclose("parse error",r)}}ondecoded(t){i1(()=>{this.emitReserved("packet",t)},this.setTimeoutFn)}onerror(t){this.emitReserved("error",t)}socket(t,r){let n=this.nsps[t];return n?this._autoConnect&&!n.active&&n.connect():(n=new vJ(this,t,r),this.nsps[t]=n),n}_destroy(t){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(t){const r=this.encoder.encode(t);for(let n=0;n<r.length;n++)this.engine.write(r[n],t.options)}cleanup(){this.subs.forEach(t=>t()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(t,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",t,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{t.skipReconnect||(this.emitReserved("reconnect_attempt",t.backoff.attempts),!t.skipReconnect&&t.open(i=>{i?(t._reconnecting=!1,t.reconnect(),this.emitReserved("reconnect_error",i)):t.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const t=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",t)}}const dg={};function gb(e,t){typeof e=="object"&&(t=e,e=void 0),t=t||{};const r=CEe(e,t.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=dg[i]&&s in dg[i].nsps,l=t.forceNew||t["force new connection"]||t.multiplex===!1||o;let c;return l?c=new Ok(n,t):(dg[i]||(dg[i]=new Ok(n,t)),c=dg[i]),r.query&&!t.query&&(t.query=r.queryKey),c.socket(r.path,t)}Object.assign(gb,{Manager:Ok,Socket:vJ,io:gb,connect:gb});var L0={exports:{}},vN,NF;function FEe(){if(NF)return vN;NF=1;var e=1e3,t=e*60,r=t*60,n=r*24,i=n*7,s=n*365.25;vN=function(f,p){p=p||{};var g=typeof f;if(g==="string"&&f.length>0)return o(f);if(g==="number"&&isFinite(f))return p.long?c(f):l(f);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(f))};function o(f){if(f=String(f),!(f.length>100)){var p=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(f);if(p){var g=parseFloat(p[1]),v=(p[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*t;case"seconds":case"second":case"secs":case"sec":case"s":return g*e;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(f){var p=Math.abs(f);return p>=n?Math.round(f/n)+"d":p>=r?Math.round(f/r)+"h":p>=t?Math.round(f/t)+"m":p>=e?Math.round(f/e)+"s":f+"ms"}function c(f){var p=Math.abs(f);return p>=n?u(f,p,n,"day"):p>=r?u(f,p,r,"hour"):p>=t?u(f,p,t,"minute"):p>=e?u(f,p,e,"second"):f+" ms"}function u(f,p,g,v){var b=p>=g*1.5;return Math.round(f/g)+" "+v+(b?"s":"")}return vN}var yN,CF;function BEe(){if(CF)return yN;CF=1;function e(t){n.debug=n,n.default=n,n.coerce=u,n.disable=l,n.enable=s,n.enabled=c,n.humanize=FEe(),n.destroy=f,Object.keys(t).forEach(p=>{n[p]=t[p]}),n.names=[],n.skips=[],n.formatters={};function r(p){let g=0;for(let v=0;v<p.length;v++)g=(g<<5)-g+p.charCodeAt(v),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=r;function n(p){let g,v=null,b,y;function _(...S){if(!_.enabled)return;const N=_,C=Number(new Date),A=C-(g||C);N.diff=A,N.prev=g,N.curr=C,g=C,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let k=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(O,I)=>{if(O==="%%")return"%";k++;const B=n.formatters[I];if(typeof B=="function"){const K=S[k];O=B.call(N,K),S.splice(k,1),k--}return O}),n.formatArgs.call(N,S),(N.log||n.log).apply(N,S)}return _.namespace=p,_.useColors=n.useColors(),_.color=n.selectColor(p),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(b!==n.namespaces&&(b=n.namespaces,y=n.enabled(p)),y),set:S=>{v=S}}),typeof n.init=="function"&&n.init(_),_}function i(p,g){const v=n(this.namespace+(typeof g>"u"?":":g)+p);return v.log=this.log,v}function s(p){n.save(p),n.namespaces=p,n.names=[],n.skips=[];const g=(typeof p=="string"?p:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of g)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(p,g){let v=0,b=0,y=-1,_=0;for(;v<p.length;)if(b<g.length&&(g[b]===p[v]||g[b]==="*"))g[b]==="*"?(y=b,_=v,b++):(v++,b++);else if(y!==-1)b=y+1,_++,v=_;else return!1;for(;b<g.length&&g[b]==="*";)b++;return b===g.length}function l(){const p=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),p}function c(p){for(const g of n.skips)if(o(p,g))return!1;for(const g of n.names)if(o(p,g))return!0;return!1}function u(p){return p instanceof Error?p.stack||p.message:p}function f(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return yN=e,yN}var EF;function zEe(){return EF||(EF=1,function(e,t){var r={};t.formatArgs=i,t.save=s,t.load=o,t.useColors=n,t.storage=l(),t.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const f="color: "+this.color;u.splice(1,0,f,"color: inherit");let p=0,g=0;u[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(p++,v==="%c"&&(g=p))}),u.splice(g,0,f)}t.log=console.debug||console.log||(()=>{});function s(u){try{u?t.storage.setItem("debug",u):t.storage.removeItem("debug")}catch{}}function o(){let u;try{u=t.storage.getItem("debug")||t.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function l(){try{return localStorage}catch{}}e.exports=BEe()(t);const{formatters:c}=e.exports;c.j=function(u){try{return JSON.stringify(u)}catch(f){return"[UnexpectedJSONParseError]: "+f.message}}}(L0,L0.exports)),L0.exports}var xN,PF;function qEe(){return PF||(PF=1,xN=function(){if(typeof globalThis>"u")return null;var t={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return t.RTCPeerConnection?t:null}),xN}var D0={exports:{}},$0={exports:{}},bN={},fg={},TF;function UEe(){if(TF)return fg;TF=1,fg.byteLength=l,fg.toByteArray=u,fg.fromByteArray=g;for(var e=[],t=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)e[i]=n[i],t[n.charCodeAt(i)]=i;t[45]=62,t[95]=63;function o(v){var b=v.length;if(b%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var y=v.indexOf("=");y===-1&&(y=b);var _=y===b?0:4-y%4;return[y,_]}function l(v){var b=o(v),y=b[0],_=b[1];return(y+_)*3/4-_}function c(v,b,y){return(b+y)*3/4-y}function u(v){var b,y=o(v),_=y[0],S=y[1],N=new r(c(v,_,S)),C=0,A=S>0?_-4:_,k;for(k=0;k<A;k+=4)b=t[v.charCodeAt(k)]<<18|t[v.charCodeAt(k+1)]<<12|t[v.charCodeAt(k+2)]<<6|t[v.charCodeAt(k+3)],N[C++]=b>>16&255,N[C++]=b>>8&255,N[C++]=b&255;return S===2&&(b=t[v.charCodeAt(k)]<<2|t[v.charCodeAt(k+1)]>>4,N[C++]=b&255),S===1&&(b=t[v.charCodeAt(k)]<<10|t[v.charCodeAt(k+1)]<<4|t[v.charCodeAt(k+2)]>>2,N[C++]=b>>8&255,N[C++]=b&255),N}function f(v){return e[v>>18&63]+e[v>>12&63]+e[v>>6&63]+e[v&63]}function p(v,b,y){for(var _,S=[],N=b;N<y;N+=3)_=(v[N]<<16&16711680)+(v[N+1]<<8&65280)+(v[N+2]&255),S.push(f(_));return S.join("")}function g(v){for(var b,y=v.length,_=y%3,S=[],N=16383,C=0,A=y-_;C<A;C+=N)S.push(p(v,C,C+N>A?A:C+N));return _===1?(b=v[y-1],S.push(e[b>>2]+e[b<<4&63]+"==")):_===2&&(b=(v[y-2]<<8)+v[y-1],S.push(e[b>>10]+e[b>>4&63]+e[b<<2&63]+"=")),S.join("")}return fg}var F0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var kF;function VEe(){return kF||(kF=1,F0.read=function(e,t,r,n,i){var s,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,f=-7,p=r?i-1:0,g=r?-1:1,v=e[t+p];for(p+=g,s=v&(1<<-f)-1,v>>=-f,f+=l;f>0;s=s*256+e[t+p],p+=g,f-=8);for(o=s&(1<<-f)-1,s>>=-f,f+=n;f>0;o=o*256+e[t+p],p+=g,f-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(v?-1:1)*o*Math.pow(2,s-n)},F0.write=function(e,t,r,n,i,s){var o,l,c,u=s*8-i-1,f=(1<<u)-1,p=f>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,b=n?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(l=isNaN(t)?1:0,o=f):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+p>=1?t+=g/c:t+=g*Math.pow(2,1-p),t*c>=2&&(o++,c/=2),o+p>=f?(l=0,o=f):o+p>=1?(l=(t*c-1)*Math.pow(2,i),o=o+p):(l=t*Math.pow(2,p-1)*Math.pow(2,i),o=0));i>=8;e[r+v]=l&255,v+=b,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;e[r+v]=o&255,v+=b,o/=256,u-=8);e[r+v-b]|=y*128}),F0}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var AF;function Dy(){return AF||(AF=1,function(e){const t=UEe(),r=VEe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=N,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const Z=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(Z,D),Z.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(Z){if(Z>i)throw new RangeError('The value "'+Z+'" is invalid for option "size"');const D=new Uint8Array(Z);return Object.setPrototypeOf(D,l.prototype),D}function l(Z,D,F){if(typeof Z=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(Z)}return c(Z,D,F)}l.poolSize=8192;function c(Z,D,F){if(typeof Z=="string")return g(Z,D);if(ArrayBuffer.isView(Z))return b(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(Ae(Z,ArrayBuffer)||Z&&Ae(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(Z,SharedArrayBuffer)||Z&&Ae(Z.buffer,SharedArrayBuffer)))return y(Z,D,F);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=Z.valueOf&&Z.valueOf();if(le!=null&&le!==Z)return l.from(le,D,F);const ye=_(Z);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return l.from(Z[Symbol.toPrimitive]("string"),D,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}l.from=function(Z,D,F){return c(Z,D,F)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function f(Z,D,F){return u(Z),Z<=0?o(Z):D!==void 0?typeof F=="string"?o(Z).fill(D,F):o(Z).fill(D):o(Z)}l.alloc=function(Z,D,F){return f(Z,D,F)};function p(Z){return u(Z),o(Z<0?0:S(Z)|0)}l.allocUnsafe=function(Z){return p(Z)},l.allocUnsafeSlow=function(Z){return p(Z)};function g(Z,D){if((typeof D!="string"||D==="")&&(D="utf8"),!l.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const F=C(Z,D)|0;let le=o(F);const ye=le.write(Z,D);return ye!==F&&(le=le.slice(0,ye)),le}function v(Z){const D=Z.length<0?0:S(Z.length)|0,F=o(D);for(let le=0;le<D;le+=1)F[le]=Z[le]&255;return F}function b(Z){if(Ae(Z,Uint8Array)){const D=new Uint8Array(Z);return y(D.buffer,D.byteOffset,D.byteLength)}return v(Z)}function y(Z,D,F){if(D<0||Z.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<D+(F||0))throw new RangeError('"length" is outside of buffer bounds');let le;return D===void 0&&F===void 0?le=new Uint8Array(Z):F===void 0?le=new Uint8Array(Z,D):le=new Uint8Array(Z,D,F),Object.setPrototypeOf(le,l.prototype),le}function _(Z){if(l.isBuffer(Z)){const D=S(Z.length)|0,F=o(D);return F.length===0||Z.copy(F,0,0,D),F}if(Z.length!==void 0)return typeof Z.length!="number"||Ze(Z.length)?o(0):v(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return v(Z.data)}function S(Z){if(Z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Z|0}function N(Z){return+Z!=Z&&(Z=0),l.alloc(+Z)}l.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==l.prototype},l.compare=function(D,F){if(Ae(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),Ae(F,Uint8Array)&&(F=l.from(F,F.offset,F.byteLength)),!l.isBuffer(D)||!l.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===F)return 0;let le=D.length,ye=F.length;for(let Oe=0,$e=Math.min(le,ye);Oe<$e;++Oe)if(D[Oe]!==F[Oe]){le=D[Oe],ye=F[Oe];break}return le<ye?-1:ye<le?1:0},l.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(D,F){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return l.alloc(0);let le;if(F===void 0)for(F=0,le=0;le<D.length;++le)F+=D[le].length;const ye=l.allocUnsafe(F);let Oe=0;for(le=0;le<D.length;++le){let $e=D[le];if(Ae($e,Uint8Array))Oe+$e.length>ye.length?(l.isBuffer($e)||($e=l.from($e)),$e.copy(ye,Oe)):Uint8Array.prototype.set.call(ye,$e,Oe);else if(l.isBuffer($e))$e.copy(ye,Oe);else throw new TypeError('"list" argument must be an Array of Buffers');Oe+=$e.length}return ye};function C(Z,D){if(l.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||Ae(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);const F=Z.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&F===0)return 0;let ye=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Ne(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return fe(Z).length;default:if(ye)return le?-1:Ne(Z).length;D=(""+D).toLowerCase(),ye=!0}}l.byteLength=C;function A(Z,D,F){let le=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,D>>>=0,F<=D))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return X(this,D,F);case"utf8":case"utf-8":return H(this,D,F);case"ascii":return W(this,D,F);case"latin1":case"binary":return ee(this,D,F);case"base64":return q(this,D,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,D,F);default:if(le)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),le=!0}}l.prototype._isBuffer=!0;function k(Z,D,F){const le=Z[D];Z[D]=Z[F],Z[F]=le}l.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let F=0;F<D;F+=2)k(this,F,F+1);return this},l.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let F=0;F<D;F+=4)k(this,F,F+3),k(this,F+1,F+2);return this},l.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let F=0;F<D;F+=8)k(this,F,F+7),k(this,F+1,F+6),k(this,F+2,F+5),k(this,F+3,F+4);return this},l.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?H(this,0,D):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(D){if(!l.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:l.compare(this,D)===0},l.prototype.inspect=function(){let D="";const F=e.INSPECT_MAX_BYTES;return D=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(D+=" ... "),"<Buffer "+D+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(D,F,le,ye,Oe){if(Ae(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(F===void 0&&(F=0),le===void 0&&(le=D?D.length:0),ye===void 0&&(ye=0),Oe===void 0&&(Oe=this.length),F<0||le>D.length||ye<0||Oe>this.length)throw new RangeError("out of range index");if(ye>=Oe&&F>=le)return 0;if(ye>=Oe)return-1;if(F>=le)return 1;if(F>>>=0,le>>>=0,ye>>>=0,Oe>>>=0,this===D)return 0;let $e=Oe-ye,yt=le-F;const lr=Math.min($e,yt),qt=this.slice(ye,Oe),Yt=D.slice(F,le);for(let Wt=0;Wt<lr;++Wt)if(qt[Wt]!==Yt[Wt]){$e=qt[Wt],yt=Yt[Wt];break}return $e<yt?-1:yt<$e?1:0};function P(Z,D,F,le,ye){if(Z.length===0)return-1;if(typeof F=="string"?(le=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,Ze(F)&&(F=ye?0:Z.length-1),F<0&&(F=Z.length+F),F>=Z.length){if(ye)return-1;F=Z.length-1}else if(F<0)if(ye)F=0;else return-1;if(typeof D=="string"&&(D=l.from(D,le)),l.isBuffer(D))return D.length===0?-1:O(Z,D,F,le,ye);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(Z,D,F):Uint8Array.prototype.lastIndexOf.call(Z,D,F):O(Z,[D],F,le,ye);throw new TypeError("val must be string, number or Buffer")}function O(Z,D,F,le,ye){let Oe=1,$e=Z.length,yt=D.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(Z.length<2||D.length<2)return-1;Oe=2,$e/=2,yt/=2,F/=2}function lr(Yt,Wt){return Oe===1?Yt[Wt]:Yt.readUInt16BE(Wt*Oe)}let qt;if(ye){let Yt=-1;for(qt=F;qt<$e;qt++)if(lr(Z,qt)===lr(D,Yt===-1?0:qt-Yt)){if(Yt===-1&&(Yt=qt),qt-Yt+1===yt)return Yt*Oe}else Yt!==-1&&(qt-=qt-Yt),Yt=-1}else for(F+yt>$e&&(F=$e-yt),qt=F;qt>=0;qt--){let Yt=!0;for(let Wt=0;Wt<yt;Wt++)if(lr(Z,qt+Wt)!==lr(D,Wt)){Yt=!1;break}if(Yt)return qt}return-1}l.prototype.includes=function(D,F,le){return this.indexOf(D,F,le)!==-1},l.prototype.indexOf=function(D,F,le){return P(this,D,F,le,!0)},l.prototype.lastIndexOf=function(D,F,le){return P(this,D,F,le,!1)};function I(Z,D,F,le){F=Number(F)||0;const ye=Z.length-F;le?(le=Number(le),le>ye&&(le=ye)):le=ye;const Oe=D.length;le>Oe/2&&(le=Oe/2);let $e;for($e=0;$e<le;++$e){const yt=parseInt(D.substr($e*2,2),16);if(Ze(yt))return $e;Z[F+$e]=yt}return $e}function B(Z,D,F,le){return je(Ne(D,Z.length-F),Z,F,le)}function K(Z,D,F,le){return je(ot(D),Z,F,le)}function V(Z,D,F,le){return je(fe(D),Z,F,le)}function U(Z,D,F,le){return je(Dt(D,Z.length-F),Z,F,le)}l.prototype.write=function(D,F,le,ye){if(F===void 0)ye="utf8",le=this.length,F=0;else if(le===void 0&&typeof F=="string")ye=F,le=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(le)?(le=le>>>0,ye===void 0&&(ye="utf8")):(ye=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Oe=this.length-F;if((le===void 0||le>Oe)&&(le=Oe),D.length>0&&(le<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let $e=!1;for(;;)switch(ye){case"hex":return I(this,D,F,le);case"utf8":case"utf-8":return B(this,D,F,le);case"ascii":case"latin1":case"binary":return K(this,D,F,le);case"base64":return V(this,D,F,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,D,F,le);default:if($e)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),$e=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(Z,D,F){return D===0&&F===Z.length?t.fromByteArray(Z):t.fromByteArray(Z.slice(D,F))}function H(Z,D,F){F=Math.min(Z.length,F);const le=[];let ye=D;for(;ye<F;){const Oe=Z[ye];let $e=null,yt=Oe>239?4:Oe>223?3:Oe>191?2:1;if(ye+yt<=F){let lr,qt,Yt,Wt;switch(yt){case 1:Oe<128&&($e=Oe);break;case 2:lr=Z[ye+1],(lr&192)===128&&(Wt=(Oe&31)<<6|lr&63,Wt>127&&($e=Wt));break;case 3:lr=Z[ye+1],qt=Z[ye+2],(lr&192)===128&&(qt&192)===128&&(Wt=(Oe&15)<<12|(lr&63)<<6|qt&63,Wt>2047&&(Wt<55296||Wt>57343)&&($e=Wt));break;case 4:lr=Z[ye+1],qt=Z[ye+2],Yt=Z[ye+3],(lr&192)===128&&(qt&192)===128&&(Yt&192)===128&&(Wt=(Oe&15)<<18|(lr&63)<<12|(qt&63)<<6|Yt&63,Wt>65535&&Wt<1114112&&($e=Wt))}}$e===null?($e=65533,yt=1):$e>65535&&($e-=65536,le.push($e>>>10&1023|55296),$e=56320|$e&1023),le.push($e),ye+=yt}return se(le)}const G=4096;function se(Z){const D=Z.length;if(D<=G)return String.fromCharCode.apply(String,Z);let F="",le=0;for(;le<D;)F+=String.fromCharCode.apply(String,Z.slice(le,le+=G));return F}function W(Z,D,F){let le="";F=Math.min(Z.length,F);for(let ye=D;ye<F;++ye)le+=String.fromCharCode(Z[ye]&127);return le}function ee(Z,D,F){let le="";F=Math.min(Z.length,F);for(let ye=D;ye<F;++ye)le+=String.fromCharCode(Z[ye]);return le}function X(Z,D,F){const le=Z.length;(!D||D<0)&&(D=0),(!F||F<0||F>le)&&(F=le);let ye="";for(let Oe=D;Oe<F;++Oe)ye+=Xe[Z[Oe]];return ye}function ne(Z,D,F){const le=Z.slice(D,F);let ye="";for(let Oe=0;Oe<le.length-1;Oe+=2)ye+=String.fromCharCode(le[Oe]+le[Oe+1]*256);return ye}l.prototype.slice=function(D,F){const le=this.length;D=~~D,F=F===void 0?le:~~F,D<0?(D+=le,D<0&&(D=0)):D>le&&(D=le),F<0?(F+=le,F<0&&(F=0)):F>le&&(F=le),F<D&&(F=D);const ye=this.subarray(D,F);return Object.setPrototypeOf(ye,l.prototype),ye};function J(Z,D,F){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+D>F)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=this[D],Oe=1,$e=0;for(;++$e<F&&(Oe*=256);)ye+=this[D+$e]*Oe;return ye},l.prototype.readUintBE=l.prototype.readUIntBE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=this[D+--F],Oe=1;for(;F>0&&(Oe*=256);)ye+=this[D+--F]*Oe;return ye},l.prototype.readUint8=l.prototype.readUInt8=function(D,F){return D=D>>>0,F||J(D,1,this.length),this[D]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(D,F){return D=D>>>0,F||J(D,2,this.length),this[D]|this[D+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(D,F){return D=D>>>0,F||J(D,2,this.length),this[D]<<8|this[D+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(D,F){return D=D>>>0,F||J(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(D,F){return D=D>>>0,F||J(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},l.prototype.readBigUInt64LE=me(function(D){D=D>>>0,_e(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,Oe=this[++D]+this[++D]*2**8+this[++D]*2**16+le*2**24;return BigInt(ye)+(BigInt(Oe)<<BigInt(32))}),l.prototype.readBigUInt64BE=me(function(D){D=D>>>0,_e(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=F*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],Oe=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le;return(BigInt(ye)<<BigInt(32))+BigInt(Oe)}),l.prototype.readIntLE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=this[D],Oe=1,$e=0;for(;++$e<F&&(Oe*=256);)ye+=this[D+$e]*Oe;return Oe*=128,ye>=Oe&&(ye-=Math.pow(2,8*F)),ye},l.prototype.readIntBE=function(D,F,le){D=D>>>0,F=F>>>0,le||J(D,F,this.length);let ye=F,Oe=1,$e=this[D+--ye];for(;ye>0&&(Oe*=256);)$e+=this[D+--ye]*Oe;return Oe*=128,$e>=Oe&&($e-=Math.pow(2,8*F)),$e},l.prototype.readInt8=function(D,F){return D=D>>>0,F||J(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},l.prototype.readInt16LE=function(D,F){D=D>>>0,F||J(D,2,this.length);const le=this[D]|this[D+1]<<8;return le&32768?le|4294901760:le},l.prototype.readInt16BE=function(D,F){D=D>>>0,F||J(D,2,this.length);const le=this[D+1]|this[D]<<8;return le&32768?le|4294901760:le},l.prototype.readInt32LE=function(D,F){return D=D>>>0,F||J(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},l.prototype.readInt32BE=function(D,F){return D=D>>>0,F||J(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},l.prototype.readBigInt64LE=me(function(D){D=D>>>0,_e(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(le<<24);return(BigInt(ye)<<BigInt(32))+BigInt(F+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),l.prototype.readBigInt64BE=me(function(D){D=D>>>0,_e(D,"offset");const F=this[D],le=this[D+7];(F===void 0||le===void 0)&&xe(D,this.length-8);const ye=(F<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ye)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le)}),l.prototype.readFloatLE=function(D,F){return D=D>>>0,F||J(D,4,this.length),r.read(this,D,!0,23,4)},l.prototype.readFloatBE=function(D,F){return D=D>>>0,F||J(D,4,this.length),r.read(this,D,!1,23,4)},l.prototype.readDoubleLE=function(D,F){return D=D>>>0,F||J(D,8,this.length),r.read(this,D,!0,52,8)},l.prototype.readDoubleBE=function(D,F){return D=D>>>0,F||J(D,8,this.length),r.read(this,D,!1,52,8)};function oe(Z,D,F,le,ye,Oe){if(!l.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ye||D<Oe)throw new RangeError('"value" argument is out of bounds');if(F+le>Z.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(D,F,le,ye){if(D=+D,F=F>>>0,le=le>>>0,!ye){const yt=Math.pow(2,8*le)-1;oe(this,D,F,le,yt,0)}let Oe=1,$e=0;for(this[F]=D&255;++$e<le&&(Oe*=256);)this[F+$e]=D/Oe&255;return F+le},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(D,F,le,ye){if(D=+D,F=F>>>0,le=le>>>0,!ye){const yt=Math.pow(2,8*le)-1;oe(this,D,F,le,yt,0)}let Oe=le-1,$e=1;for(this[F+Oe]=D&255;--Oe>=0&&($e*=256);)this[F+Oe]=D/$e&255;return F+le},l.prototype.writeUint8=l.prototype.writeUInt8=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,1,255,0),this[F]=D&255,F+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,65535,0),this[F]=D&255,this[F+1]=D>>>8,F+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,65535,0),this[F]=D>>>8,this[F+1]=D&255,F+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,4294967295,0),this[F+3]=D>>>24,this[F+2]=D>>>16,this[F+1]=D>>>8,this[F]=D&255,F+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,4294967295,0),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4};function be(Z,D,F,le,ye){Y(D,le,ye,Z,F,7);let Oe=Number(D&BigInt(4294967295));Z[F++]=Oe,Oe=Oe>>8,Z[F++]=Oe,Oe=Oe>>8,Z[F++]=Oe,Oe=Oe>>8,Z[F++]=Oe;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return Z[F++]=$e,$e=$e>>8,Z[F++]=$e,$e=$e>>8,Z[F++]=$e,$e=$e>>8,Z[F++]=$e,F}function Ce(Z,D,F,le,ye){Y(D,le,ye,Z,F,7);let Oe=Number(D&BigInt(4294967295));Z[F+7]=Oe,Oe=Oe>>8,Z[F+6]=Oe,Oe=Oe>>8,Z[F+5]=Oe,Oe=Oe>>8,Z[F+4]=Oe;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return Z[F+3]=$e,$e=$e>>8,Z[F+2]=$e,$e=$e>>8,Z[F+1]=$e,$e=$e>>8,Z[F]=$e,F+8}l.prototype.writeBigUInt64LE=me(function(D,F=0){return be(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=me(function(D,F=0){return Ce(this,D,F,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(D,F,le,ye){if(D=+D,F=F>>>0,!ye){const lr=Math.pow(2,8*le-1);oe(this,D,F,le,lr-1,-lr)}let Oe=0,$e=1,yt=0;for(this[F]=D&255;++Oe<le&&($e*=256);)D<0&&yt===0&&this[F+Oe-1]!==0&&(yt=1),this[F+Oe]=(D/$e>>0)-yt&255;return F+le},l.prototype.writeIntBE=function(D,F,le,ye){if(D=+D,F=F>>>0,!ye){const lr=Math.pow(2,8*le-1);oe(this,D,F,le,lr-1,-lr)}let Oe=le-1,$e=1,yt=0;for(this[F+Oe]=D&255;--Oe>=0&&($e*=256);)D<0&&yt===0&&this[F+Oe+1]!==0&&(yt=1),this[F+Oe]=(D/$e>>0)-yt&255;return F+le},l.prototype.writeInt8=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,1,127,-128),D<0&&(D=255+D+1),this[F]=D&255,F+1},l.prototype.writeInt16LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,32767,-32768),this[F]=D&255,this[F+1]=D>>>8,F+2},l.prototype.writeInt16BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,2,32767,-32768),this[F]=D>>>8,this[F+1]=D&255,F+2},l.prototype.writeInt32LE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,2147483647,-2147483648),this[F]=D&255,this[F+1]=D>>>8,this[F+2]=D>>>16,this[F+3]=D>>>24,F+4},l.prototype.writeInt32BE=function(D,F,le){return D=+D,F=F>>>0,le||oe(this,D,F,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[F]=D>>>24,this[F+1]=D>>>16,this[F+2]=D>>>8,this[F+3]=D&255,F+4},l.prototype.writeBigInt64LE=me(function(D,F=0){return be(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=me(function(D,F=0){return Ce(this,D,F,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(Z,D,F,le,ye,Oe){if(F+le>Z.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function ce(Z,D,F,le,ye){return D=+D,F=F>>>0,ye||Le(Z,D,F,4),r.write(Z,D,F,le,23,4),F+4}l.prototype.writeFloatLE=function(D,F,le){return ce(this,D,F,!0,le)},l.prototype.writeFloatBE=function(D,F,le){return ce(this,D,F,!1,le)};function ae(Z,D,F,le,ye){return D=+D,F=F>>>0,ye||Le(Z,D,F,8),r.write(Z,D,F,le,52,8),F+8}l.prototype.writeDoubleLE=function(D,F,le){return ae(this,D,F,!0,le)},l.prototype.writeDoubleBE=function(D,F,le){return ae(this,D,F,!1,le)},l.prototype.copy=function(D,F,le,ye){if(!l.isBuffer(D))throw new TypeError("argument should be a Buffer");if(le||(le=0),!ye&&ye!==0&&(ye=this.length),F>=D.length&&(F=D.length),F||(F=0),ye>0&&ye<le&&(ye=le),ye===le||D.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),D.length-F<ye-le&&(ye=D.length-F+le);const Oe=ye-le;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(F,le,ye):Uint8Array.prototype.set.call(D,this.subarray(le,ye),F),Oe},l.prototype.fill=function(D,F,le,ye){if(typeof D=="string"){if(typeof F=="string"?(ye=F,F=0,le=this.length):typeof le=="string"&&(ye=le,le=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!l.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(D.length===1){const $e=D.charCodeAt(0);(ye==="utf8"&&$e<128||ye==="latin1")&&(D=$e)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(F<0||this.length<F||this.length<le)throw new RangeError("Out of range index");if(le<=F)return this;F=F>>>0,le=le===void 0?this.length:le>>>0,D||(D=0);let Oe;if(typeof D=="number")for(Oe=F;Oe<le;++Oe)this[Oe]=D;else{const $e=l.isBuffer(D)?D:l.from(D,ye),yt=$e.length;if(yt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Oe=0;Oe<le-F;++Oe)this[Oe+F]=$e[Oe%yt]}return this};const ge={};function he(Z,D,F){ge[Z]=class extends F{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Z}]`,this.stack,delete this.name}get code(){return Z}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${Z}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(Z){return Z?`${Z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(Z,D){return`The "${Z}" argument must be of type number. Received type ${typeof D}`},TypeError),he("ERR_OUT_OF_RANGE",function(Z,D,F){let le=`The value of "${Z}" is out of range.`,ye=F;return Number.isInteger(F)&&Math.abs(F)>2**32?ye=Pe(String(F)):typeof F=="bigint"&&(ye=String(F),(F>BigInt(2)**BigInt(32)||F<-(BigInt(2)**BigInt(32)))&&(ye=Pe(ye)),ye+="n"),le+=` It must be ${D}. Received ${ye}`,le},RangeError);function Pe(Z){let D="",F=Z.length;const le=Z[0]==="-"?1:0;for(;F>=le+4;F-=3)D=`_${Z.slice(F-3,F)}${D}`;return`${Z.slice(0,F)}${D}`}function te(Z,D,F){_e(D,"offset"),(Z[D]===void 0||Z[D+F]===void 0)&&xe(D,Z.length-(F+1))}function Y(Z,D,F,le,ye,Oe){if(Z>F||Z<D){const $e=typeof D=="bigint"?"n":"";let yt;throw D===0||D===BigInt(0)?yt=`>= 0${$e} and < 2${$e} ** ${(Oe+1)*8}${$e}`:yt=`>= -(2${$e} ** ${(Oe+1)*8-1}${$e}) and < 2 ** ${(Oe+1)*8-1}${$e}`,new ge.ERR_OUT_OF_RANGE("value",yt,Z)}te(le,ye,Oe)}function _e(Z,D){if(typeof Z!="number")throw new ge.ERR_INVALID_ARG_TYPE(D,"number",Z)}function xe(Z,D,F){throw Math.floor(Z)!==Z?(_e(Z,F),new ge.ERR_OUT_OF_RANGE("offset","an integer",Z)):D<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,Z)}const We=/[^+/0-9A-Za-z-_]/g;function Ue(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(We,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function Ne(Z,D){D=D||1/0;let F;const le=Z.length;let ye=null;const Oe=[];for(let $e=0;$e<le;++$e){if(F=Z.charCodeAt($e),F>55295&&F<57344){if(!ye){if(F>56319){(D-=3)>-1&&Oe.push(239,191,189);continue}else if($e+1===le){(D-=3)>-1&&Oe.push(239,191,189);continue}ye=F;continue}if(F<56320){(D-=3)>-1&&Oe.push(239,191,189),ye=F;continue}F=(ye-55296<<10|F-56320)+65536}else ye&&(D-=3)>-1&&Oe.push(239,191,189);if(ye=null,F<128){if((D-=1)<0)break;Oe.push(F)}else if(F<2048){if((D-=2)<0)break;Oe.push(F>>6|192,F&63|128)}else if(F<65536){if((D-=3)<0)break;Oe.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((D-=4)<0)break;Oe.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return Oe}function ot(Z){const D=[];for(let F=0;F<Z.length;++F)D.push(Z.charCodeAt(F)&255);return D}function Dt(Z,D){let F,le,ye;const Oe=[];for(let $e=0;$e<Z.length&&!((D-=2)<0);++$e)F=Z.charCodeAt($e),le=F>>8,ye=F%256,Oe.push(ye),Oe.push(le);return Oe}function fe(Z){return t.toByteArray(Ue(Z))}function je(Z,D,F,le){let ye;for(ye=0;ye<le&&!(ye+F>=D.length||ye>=Z.length);++ye)D[ye+F]=Z[ye];return ye}function Ae(Z,D){return Z instanceof D||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===D.name}function Ze(Z){return Z!==Z}const Xe=function(){const Z="0123456789abcdef",D=new Array(256);for(let F=0;F<16;++F){const le=F*16;for(let ye=0;ye<16;++ye)D[le+ye]=Z[F]+Z[ye]}return D}();function me(Z){return typeof BigInt>"u"?De:Z}function De(){throw new Error("BigInt not supported")}}(bN)),bN}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var OF;function yJ(){return OF||(OF=1,function(e,t){var r=Dy(),n=r.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=r:(i(r,t),t.Buffer=s);function s(o,l,c){return n(o,l,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},s.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}($0,$0.exports)),$0.exports}var RF;function WEe(){if(RF)return D0.exports;RF=1;var e=65536,t=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=yJ().Buffer,i=Ts.crypto||Ts.msCrypto;i&&i.getRandomValues?D0.exports=s:D0.exports=r;function s(o,l){if(o>t)throw new RangeError("requested too many random bytes");var c=n.allocUnsafe(o);if(o>0)if(o>e)for(var u=0;u<o;u+=e)i.getRandomValues(c.slice(u,u+e));else i.getRandomValues(c);return typeof l=="function"?process.nextTick(function(){l(null,c)}):c}return D0.exports}var B0={exports:{}};const HEe={},KEe=Object.freeze(Object.defineProperty({__proto__:null,default:HEe},Symbol.toStringTag,{value:"Module"})),cw=ZU(KEe);var wN,MF;function xJ(){return MF||(MF=1,wN=cw.EventEmitter),wN}var _N,IF;function GEe(){if(IF)return _N;IF=1;function e(b,y){var _=Object.keys(b);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(b);y&&(S=S.filter(function(N){return Object.getOwnPropertyDescriptor(b,N).enumerable})),_.push.apply(_,S)}return _}function t(b){for(var y=1;y<arguments.length;y++){var _=arguments[y]!=null?arguments[y]:{};y%2?e(Object(_),!0).forEach(function(S){r(b,S,_[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(_)):e(Object(_)).forEach(function(S){Object.defineProperty(b,S,Object.getOwnPropertyDescriptor(_,S))})}return b}function r(b,y,_){return y=o(y),y in b?Object.defineProperty(b,y,{value:_,enumerable:!0,configurable:!0,writable:!0}):b[y]=_,b}function n(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")}function i(b,y){for(var _=0;_<y.length;_++){var S=y[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,o(S.key),S)}}function s(b,y,_){return y&&i(b.prototype,y),Object.defineProperty(b,"prototype",{writable:!1}),b}function o(b){var y=l(b,"string");return typeof y=="symbol"?y:String(y)}function l(b,y){if(typeof b!="object"||b===null)return b;var _=b[Symbol.toPrimitive];if(_!==void 0){var S=_.call(b,y);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(b)}var c=Dy(),u=c.Buffer,f=cw,p=f.inspect,g=p&&p.custom||"inspect";function v(b,y,_){u.prototype.copy.call(b,y,_)}return _N=function(){function b(){n(this,b),this.head=null,this.tail=null,this.length=0}return s(b,[{key:"push",value:function(_){var S={data:_,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(_){var S={data:_,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var S=this.head,N=""+S.data;S=S.next;)N+=_+S.data;return N}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var S=u.allocUnsafe(_>>>0),N=this.head,C=0;N;)v(N.data,S,C),C+=N.data.length,N=N.next;return S}},{key:"consume",value:function(_,S){var N;return _<this.head.data.length?(N=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?N=this.shift():N=S?this._getString(_):this._getBuffer(_),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var S=this.head,N=1,C=S.data;for(_-=C.length;S=S.next;){var A=S.data,k=_>A.length?A.length:_;if(k===A.length?C+=A:C+=A.slice(0,_),_-=k,_===0){k===A.length?(++N,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=A.slice(k));break}++N}return this.length-=N,C}},{key:"_getBuffer",value:function(_){var S=u.allocUnsafe(_),N=this.head,C=1;for(N.data.copy(S),_-=N.data.length;N=N.next;){var A=N.data,k=_>A.length?A.length:_;if(A.copy(S,S.length-_,0,k),_-=k,_===0){k===A.length?(++C,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=A.slice(k));break}++C}return this.length-=C,S}},{key:g,value:function(_,S){return p(this,t(t({},S),{},{depth:0,customInspect:!1}))}}]),b}(),_N}var jN,LF;function bJ(){if(LF)return jN;LF=1;function e(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return u||f?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(p){!l&&p?c._writableState?c._writableState.errorEmitted?process.nextTick(r,c):(c._writableState.errorEmitted=!0,process.nextTick(t,c,p)):process.nextTick(t,c,p):l?(process.nextTick(r,c),l(p)):process.nextTick(r,c)}),this)}function t(o,l){i(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return jN={destroy:e,undestroy:n,errorOrDestroy:s},jN}var SN={},DF;function Jp(){if(DF)return SN;DF=1;function e(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var t={};function r(l,c,u){u||(u=Error);function f(g,v,b){return typeof c=="string"?c:c(g,v,b)}var p=function(g){e(v,g);function v(b,y,_){return g.call(this,f(b,y,_))||this}return v}(u);p.prototype.name=u.name,p.prototype.code=l,t[l]=p}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(f){return String(f)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function s(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var f;typeof c=="string"&&i(c,"not ")?(f="must not be",c=c.replace(/^not /,"")):f="must be";var p;if(s(l," argument"))p="The ".concat(l," ").concat(f," ").concat(n(c,"type"));else{var g=o(l,".")?"property":"argument";p='The "'.concat(l,'" ').concat(g," ").concat(f," ").concat(n(c,"type"))}return p+=". Received type ".concat(typeof u),p},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),SN.codes=t,SN}var NN,$F;function wJ(){if($F)return NN;$F=1;var e=Jp().codes.ERR_INVALID_OPT_VALUE;function t(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var l=t(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?s:"highWaterMark";throw new e(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return NN={getHighWaterMark:r},NN}var z0={exports:{}},FF;function $y(){return FF||(FF=1,typeof Object.create=="function"?z0.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:z0.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}),z0.exports}var CN,BF;function ZEe(){if(BF)return CN;BF=1,CN=e;function e(r,n){if(t("noDeprecation"))return r;var i=!1;function s(){if(!i){if(t("throwDeprecation"))throw new Error(n);t("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function t(r){try{if(!Ts.localStorage)return!1}catch{return!1}var n=Ts.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return CN}var EN,zF;function _J(){if(zF)return EN;zF=1,EN=I;function e(ce){var ae=this;this.next=null,this.entry=null,this.finish=function(){Le(ae,ce)}}var t;I.WritableState=P;var r={deprecate:ZEe()},n=xJ(),i=Dy().Buffer,s=(typeof Ts<"u"?Ts:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(ce){return i.from(ce)}function l(ce){return i.isBuffer(ce)||ce instanceof s}var c=bJ(),u=wJ(),f=u.getHighWaterMark,p=Jp().codes,g=p.ERR_INVALID_ARG_TYPE,v=p.ERR_METHOD_NOT_IMPLEMENTED,b=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,S=p.ERR_STREAM_NULL_VALUES,N=p.ERR_STREAM_WRITE_AFTER_END,C=p.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;$y()(I,n);function k(){}function P(ce,ae,ge){t=t||op(),ce=ce||{},typeof ge!="boolean"&&(ge=ae instanceof t),this.objectMode=!!ce.objectMode,ge&&(this.objectMode=this.objectMode||!!ce.writableObjectMode),this.highWaterMark=f(this,ce,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=ce.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){se(ae,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}P.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,ge=[];ae;)ge.push(ae),ae=ae.next;return ge},function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(ae){return O.call(this,ae)?!0:this!==I?!1:ae&&ae._writableState instanceof P}})):O=function(ae){return ae instanceof this};function I(ce){t=t||op();var ae=this instanceof t;if(!ae&&!O.call(I,this))return new I(ce);this._writableState=new P(ce,this,ae),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),n.call(this)}I.prototype.pipe=function(){A(this,new y)};function B(ce,ae){var ge=new N;A(ce,ge),process.nextTick(ae,ge)}function K(ce,ae,ge,he){var Pe;return ge===null?Pe=new S:typeof ge!="string"&&!ae.objectMode&&(Pe=new g("chunk",["string","Buffer"],ge)),Pe?(A(ce,Pe),process.nextTick(he,Pe),!1):!0}I.prototype.write=function(ce,ae,ge){var he=this._writableState,Pe=!1,te=!he.objectMode&&l(ce);return te&&!i.isBuffer(ce)&&(ce=o(ce)),typeof ae=="function"&&(ge=ae,ae=null),te?ae="buffer":ae||(ae=he.defaultEncoding),typeof ge!="function"&&(ge=k),he.ending?B(this,ge):(te||K(this,he,ce,ge))&&(he.pendingcb++,Pe=U(this,he,te,ce,ae,ge)),Pe},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&X(this,ce))},I.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new C(ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function V(ce,ae,ge){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof ae=="string"&&(ae=i.from(ae,ge)),ae}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(ce,ae,ge,he,Pe,te){if(!ge){var Y=V(ae,he,Pe);he!==Y&&(ge=!0,Pe="buffer",he=Y)}var _e=ae.objectMode?1:he.length;ae.length+=_e;var xe=ae.length<ae.highWaterMark;if(xe||(ae.needDrain=!0),ae.writing||ae.corked){var We=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:he,encoding:Pe,isBuf:ge,callback:te,next:null},We?We.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else q(ce,ae,!1,_e,he,Pe,te);return xe}function q(ce,ae,ge,he,Pe,te,Y){ae.writelen=he,ae.writecb=Y,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new _("write")):ge?ce._writev(Pe,ae.onwrite):ce._write(Pe,te,ae.onwrite),ae.sync=!1}function H(ce,ae,ge,he,Pe){--ae.pendingcb,ge?(process.nextTick(Pe,he),process.nextTick(be,ce,ae),ce._writableState.errorEmitted=!0,A(ce,he)):(Pe(he),ce._writableState.errorEmitted=!0,A(ce,he),be(ce,ae))}function G(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function se(ce,ae){var ge=ce._writableState,he=ge.sync,Pe=ge.writecb;if(typeof Pe!="function")throw new b;if(G(ge),ae)H(ce,ge,he,ae,Pe);else{var te=ne(ge)||ce.destroyed;!te&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&X(ce,ge),he?process.nextTick(W,ce,ge,te,Pe):W(ce,ge,te,Pe)}}function W(ce,ae,ge,he){ge||ee(ce,ae),ae.pendingcb--,he(),be(ce,ae)}function ee(ce,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,ce.emit("drain"))}function X(ce,ae){ae.bufferProcessing=!0;var ge=ae.bufferedRequest;if(ce._writev&&ge&&ge.next){var he=ae.bufferedRequestCount,Pe=new Array(he),te=ae.corkedRequestsFree;te.entry=ge;for(var Y=0,_e=!0;ge;)Pe[Y]=ge,ge.isBuf||(_e=!1),ge=ge.next,Y+=1;Pe.allBuffers=_e,q(ce,ae,!0,ae.length,Pe,"",te.finish),ae.pendingcb++,ae.lastBufferedRequest=null,te.next?(ae.corkedRequestsFree=te.next,te.next=null):ae.corkedRequestsFree=new e(ae),ae.bufferedRequestCount=0}else{for(;ge;){var xe=ge.chunk,We=ge.encoding,Ue=ge.callback,Ne=ae.objectMode?1:xe.length;if(q(ce,ae,!1,Ne,xe,We,Ue),ge=ge.next,ae.bufferedRequestCount--,ae.writing)break}ge===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=ge,ae.bufferProcessing=!1}I.prototype._write=function(ce,ae,ge){ge(new v("_write()"))},I.prototype._writev=null,I.prototype.end=function(ce,ae,ge){var he=this._writableState;return typeof ce=="function"?(ge=ce,ce=null,ae=null):typeof ae=="function"&&(ge=ae,ae=null),ce!=null&&this.write(ce,ae),he.corked&&(he.corked=1,this.uncork()),he.ending||Ce(this,he,ge),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ne(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function J(ce,ae){ce._final(function(ge){ae.pendingcb--,ge&&A(ce,ge),ae.prefinished=!0,ce.emit("prefinish"),be(ce,ae)})}function oe(ce,ae){!ae.prefinished&&!ae.finalCalled&&(typeof ce._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,process.nextTick(J,ce,ae)):(ae.prefinished=!0,ce.emit("prefinish")))}function be(ce,ae){var ge=ne(ae);if(ge&&(oe(ce,ae),ae.pendingcb===0&&(ae.finished=!0,ce.emit("finish"),ae.autoDestroy))){var he=ce._readableState;(!he||he.autoDestroy&&he.endEmitted)&&ce.destroy()}return ge}function Ce(ce,ae,ge){ae.ending=!0,be(ce,ae),ge&&(ae.finished?process.nextTick(ge):ce.once("finish",ge)),ae.ended=!0,ce.writable=!1}function Le(ce,ae,ge){var he=ce.entry;for(ce.entry=null;he;){var Pe=he.callback;ae.pendingcb--,Pe(ge),he=he.next}ae.corkedRequestsFree.next=ce}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(ce,ae){ae(ce)},EN}var PN,qF;function op(){if(qF)return PN;qF=1;var e=Object.keys||function(u){var f=[];for(var p in u)f.push(p);return f};PN=o;var t=jJ(),r=_J();$y()(o,t);for(var n=e(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);t.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),PN}var TN={},UF;function VF(){if(UF)return TN;UF=1;var e=yJ().Buffer,t=e.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var N;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(N)return;S=(""+S).toLowerCase(),N=!0}}function n(S){var N=r(S);if(typeof N!="string"&&(e.isEncoding===t||!t(S)))throw new Error("Unknown encoding: "+S);return N||S}TN.StringDecoder=i;function i(S){this.encoding=n(S);var N;switch(this.encoding){case"utf16le":this.text=p,this.end=g,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=v,this.end=b,N=3;break;default:this.write=y,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(N)}i.prototype.write=function(S){if(S.length===0)return"";var N,C;if(this.lastNeed){if(N=this.fillLast(S),N===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<S.length?N?N+this.text(S,C):this.text(S,C):N||""},i.prototype.end=f,i.prototype.text=u,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function o(S,N,C){var A=N.length-1;if(A<C)return 0;var k=s(N[A]);return k>=0?(k>0&&(S.lastNeed=k-1),k):--A<C||k===-2?0:(k=s(N[A]),k>=0?(k>0&&(S.lastNeed=k-2),k):--A<C||k===-2?0:(k=s(N[A]),k>=0?(k>0&&(k===2?k=0:S.lastNeed=k-3),k):0))}function l(S,N,C){if((N[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return S.lastNeed=2,"�"}}function c(S){var N=this.lastTotal-this.lastNeed,C=l(this,S);if(C!==void 0)return C;if(this.lastNeed<=S.length)return S.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,N,0,S.length),this.lastNeed-=S.length}function u(S,N){var C=o(this,S,N);if(!this.lastNeed)return S.toString("utf8",N);this.lastTotal=C;var A=S.length-(C-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",N,A)}function f(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+"�":N}function p(S,N){if((S.length-N)%2===0){var C=S.toString("utf16le",N);if(C){var A=C.charCodeAt(C.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",N,S.length-1)}function g(S){var N=S&&S.length?this.write(S):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,C)}return N}function v(S,N){var C=(S.length-N)%3;return C===0?S.toString("base64",N):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",N,S.length-C))}function b(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function y(S){return S.toString(this.encoding)}function _(S){return S&&S.length?this.write(S):""}return TN}var kN,WF;function PM(){if(WF)return kN;WF=1;var e=Jp().codes.ERR_STREAM_PREMATURE_CLOSE;function t(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=t(l||r);var c=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,f=function(){s.writable||g()},p=s._writableState&&s._writableState.finished,g=function(){u=!1,p=!0,c||l.call(s)},v=s._readableState&&s._readableState.endEmitted,b=function(){c=!1,v=!0,u||l.call(s)},y=function(C){l.call(s,C)},_=function(){var C;if(c&&!v)return(!s._readableState||!s._readableState.ended)&&(C=new e),l.call(s,C);if(u&&!p)return(!s._writableState||!s._writableState.ended)&&(C=new e),l.call(s,C)},S=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",_),s.req?S():s.on("request",S)):u&&!s._writableState&&(s.on("end",f),s.on("close",f)),s.on("end",b),s.on("finish",g),o.error!==!1&&s.on("error",y),s.on("close",_),function(){s.removeListener("complete",g),s.removeListener("abort",_),s.removeListener("request",S),s.req&&s.req.removeListener("finish",g),s.removeListener("end",f),s.removeListener("close",f),s.removeListener("finish",g),s.removeListener("end",b),s.removeListener("error",y),s.removeListener("close",_)}}return kN=i,kN}var AN,HF;function YEe(){if(HF)return AN;HF=1;var e;function t(C,A,k){return A=r(A),A in C?Object.defineProperty(C,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[A]=k,C}function r(C){var A=n(C,"string");return typeof A=="symbol"?A:String(A)}function n(C,A){if(typeof C!="object"||C===null)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var P=k.call(C,A);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(C)}var i=PM(),s=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),f=Symbol("handlePromise"),p=Symbol("stream");function g(C,A){return{value:C,done:A}}function v(C){var A=C[s];if(A!==null){var k=C[p].read();k!==null&&(C[u]=null,C[s]=null,C[o]=null,A(g(k,!1)))}}function b(C){process.nextTick(v,C)}function y(C,A){return function(k,P){C.then(function(){if(A[c]){k(g(void 0,!0));return}A[f](k,P)},P)}}var _=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((e={get stream(){return this[p]},next:function(){var A=this,k=this[l];if(k!==null)return Promise.reject(k);if(this[c])return Promise.resolve(g(void 0,!0));if(this[p].destroyed)return new Promise(function(B,K){process.nextTick(function(){A[l]?K(A[l]):B(g(void 0,!0))})});var P=this[u],O;if(P)O=new Promise(y(P,this));else{var I=this[p].read();if(I!==null)return Promise.resolve(g(I,!1));O=new Promise(this[f])}return this[u]=O,O}},t(e,Symbol.asyncIterator,function(){return this}),t(e,"return",function(){var A=this;return new Promise(function(k,P){A[p].destroy(null,function(O){if(O){P(O);return}k(g(void 0,!0))})})}),e),_),N=function(A){var k,P=Object.create(S,(k={},t(k,p,{value:A,writable:!0}),t(k,s,{value:null,writable:!0}),t(k,o,{value:null,writable:!0}),t(k,l,{value:null,writable:!0}),t(k,c,{value:A._readableState.endEmitted,writable:!0}),t(k,f,{value:function(I,B){var K=P[p].read();K?(P[u]=null,P[s]=null,P[o]=null,I(g(K,!1))):(P[s]=I,P[o]=B)},writable:!0}),k));return P[u]=null,i(A,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=P[o];I!==null&&(P[u]=null,P[s]=null,P[o]=null,I(O)),P[l]=O;return}var B=P[s];B!==null&&(P[u]=null,P[s]=null,P[o]=null,B(g(void 0,!0))),P[c]=!0}),A.on("readable",b.bind(null,P)),P};return AN=N,AN}var ON,KF;function XEe(){return KF||(KF=1,ON=function(){throw new Error("Readable.from is not available in the browser")}),ON}var RN,GF;function jJ(){if(GF)return RN;GF=1,RN=B;var e;B.ReadableState=I,cw.EventEmitter;var t=function(Y,_e){return Y.listeners(_e).length},r=xJ(),n=Dy().Buffer,i=(typeof Ts<"u"?Ts:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(te){return n.from(te)}function o(te){return n.isBuffer(te)||te instanceof i}var l=cw,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=GEe(),f=bJ(),p=wJ(),g=p.getHighWaterMark,v=Jp().codes,b=v.ERR_INVALID_ARG_TYPE,y=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,C,A;$y()(B,r);var k=f.errorOrDestroy,P=["error","close","destroy","pause","resume"];function O(te,Y,_e){if(typeof te.prependListener=="function")return te.prependListener(Y,_e);!te._events||!te._events[Y]?te.on(Y,_e):Array.isArray(te._events[Y])?te._events[Y].unshift(_e):te._events[Y]=[_e,te._events[Y]]}function I(te,Y,_e){e=e||op(),te=te||{},typeof _e!="boolean"&&(_e=Y instanceof e),this.objectMode=!!te.objectMode,_e&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=g(this,te,"readableHighWaterMark",_e),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(N||(N=VF().StringDecoder),this.decoder=new N(te.encoding),this.encoding=te.encoding)}function B(te){if(e=e||op(),!(this instanceof B))return new B(te);var Y=this instanceof e;this._readableState=new I(te,this,Y),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),r.call(this)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(Y){this._readableState&&(this._readableState.destroyed=Y)}}),B.prototype.destroy=f.destroy,B.prototype._undestroy=f.undestroy,B.prototype._destroy=function(te,Y){Y(te)},B.prototype.push=function(te,Y){var _e=this._readableState,xe;return _e.objectMode?xe=!0:typeof te=="string"&&(Y=Y||_e.defaultEncoding,Y!==_e.encoding&&(te=n.from(te,Y),Y=""),xe=!0),K(this,te,Y,!1,xe)},B.prototype.unshift=function(te){return K(this,te,null,!0,!1)};function K(te,Y,_e,xe,We){c("readableAddChunk",Y);var Ue=te._readableState;if(Y===null)Ue.reading=!1,se(te,Ue);else{var Ne;if(We||(Ne=U(Ue,Y)),Ne)k(te,Ne);else if(Ue.objectMode||Y&&Y.length>0)if(typeof Y!="string"&&!Ue.objectMode&&Object.getPrototypeOf(Y)!==n.prototype&&(Y=s(Y)),xe)Ue.endEmitted?k(te,new S):V(te,Ue,Y,!0);else if(Ue.ended)k(te,new y);else{if(Ue.destroyed)return!1;Ue.reading=!1,Ue.decoder&&!_e?(Y=Ue.decoder.write(Y),Ue.objectMode||Y.length!==0?V(te,Ue,Y,!1):X(te,Ue)):V(te,Ue,Y,!1)}else xe||(Ue.reading=!1,X(te,Ue))}return!Ue.ended&&(Ue.length<Ue.highWaterMark||Ue.length===0)}function V(te,Y,_e,xe){Y.flowing&&Y.length===0&&!Y.sync?(Y.awaitDrain=0,te.emit("data",_e)):(Y.length+=Y.objectMode?1:_e.length,xe?Y.buffer.unshift(_e):Y.buffer.push(_e),Y.needReadable&&W(te)),X(te,Y)}function U(te,Y){var _e;return!o(Y)&&typeof Y!="string"&&Y!==void 0&&!te.objectMode&&(_e=new b("chunk",["string","Buffer","Uint8Array"],Y)),_e}B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(te){N||(N=VF().StringDecoder);var Y=new N(te);this._readableState.decoder=Y,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,xe="";_e!==null;)xe+=Y.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),xe!==""&&this._readableState.buffer.push(xe),this._readableState.length=xe.length,this};var q=1073741824;function H(te){return te>=q?te=q:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function G(te,Y){return te<=0||Y.length===0&&Y.ended?0:Y.objectMode?1:te!==te?Y.flowing&&Y.length?Y.buffer.head.data.length:Y.length:(te>Y.highWaterMark&&(Y.highWaterMark=H(te)),te<=Y.length?te:Y.ended?Y.length:(Y.needReadable=!0,0))}B.prototype.read=function(te){c("read",te),te=parseInt(te,10);var Y=this._readableState,_e=te;if(te!==0&&(Y.emittedReadable=!1),te===0&&Y.needReadable&&((Y.highWaterMark!==0?Y.length>=Y.highWaterMark:Y.length>0)||Y.ended))return c("read: emitReadable",Y.length,Y.ended),Y.length===0&&Y.ended?ge(this):W(this),null;if(te=G(te,Y),te===0&&Y.ended)return Y.length===0&&ge(this),null;var xe=Y.needReadable;c("need readable",xe),(Y.length===0||Y.length-te<Y.highWaterMark)&&(xe=!0,c("length less than watermark",xe)),Y.ended||Y.reading?(xe=!1,c("reading or ended",xe)):xe&&(c("do read"),Y.reading=!0,Y.sync=!0,Y.length===0&&(Y.needReadable=!0),this._read(Y.highWaterMark),Y.sync=!1,Y.reading||(te=G(_e,Y)));var We;return te>0?We=ae(te,Y):We=null,We===null?(Y.needReadable=Y.length<=Y.highWaterMark,te=0):(Y.length-=te,Y.awaitDrain=0),Y.length===0&&(Y.ended||(Y.needReadable=!0),_e!==te&&Y.ended&&ge(this)),We!==null&&this.emit("data",We),We};function se(te,Y){if(c("onEofChunk"),!Y.ended){if(Y.decoder){var _e=Y.decoder.end();_e&&_e.length&&(Y.buffer.push(_e),Y.length+=Y.objectMode?1:_e.length)}Y.ended=!0,Y.sync?W(te):(Y.needReadable=!1,Y.emittedReadable||(Y.emittedReadable=!0,ee(te)))}}function W(te){var Y=te._readableState;c("emitReadable",Y.needReadable,Y.emittedReadable),Y.needReadable=!1,Y.emittedReadable||(c("emitReadable",Y.flowing),Y.emittedReadable=!0,process.nextTick(ee,te))}function ee(te){var Y=te._readableState;c("emitReadable_",Y.destroyed,Y.length,Y.ended),!Y.destroyed&&(Y.length||Y.ended)&&(te.emit("readable"),Y.emittedReadable=!1),Y.needReadable=!Y.flowing&&!Y.ended&&Y.length<=Y.highWaterMark,ce(te)}function X(te,Y){Y.readingMore||(Y.readingMore=!0,process.nextTick(ne,te,Y))}function ne(te,Y){for(;!Y.reading&&!Y.ended&&(Y.length<Y.highWaterMark||Y.flowing&&Y.length===0);){var _e=Y.length;if(c("maybeReadMore read 0"),te.read(0),_e===Y.length)break}Y.readingMore=!1}B.prototype._read=function(te){k(this,new _("_read()"))},B.prototype.pipe=function(te,Y){var _e=this,xe=this._readableState;switch(xe.pipesCount){case 0:xe.pipes=te;break;case 1:xe.pipes=[xe.pipes,te];break;default:xe.pipes.push(te);break}xe.pipesCount+=1,c("pipe count=%d opts=%j",xe.pipesCount,Y);var We=(!Y||Y.end!==!1)&&te!==process.stdout&&te!==process.stderr,Ue=We?ot:De;xe.endEmitted?process.nextTick(Ue):_e.once("end",Ue),te.on("unpipe",Ne);function Ne(Z,D){c("onunpipe"),Z===_e&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,je())}function ot(){c("onend"),te.end()}var Dt=J(_e);te.on("drain",Dt);var fe=!1;function je(){c("cleanup"),te.removeListener("close",Xe),te.removeListener("finish",me),te.removeListener("drain",Dt),te.removeListener("error",Ze),te.removeListener("unpipe",Ne),_e.removeListener("end",ot),_e.removeListener("end",De),_e.removeListener("data",Ae),fe=!0,xe.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&Dt()}_e.on("data",Ae);function Ae(Z){c("ondata");var D=te.write(Z);c("dest.write",D),D===!1&&((xe.pipesCount===1&&xe.pipes===te||xe.pipesCount>1&&Pe(xe.pipes,te)!==-1)&&!fe&&(c("false write response, pause",xe.awaitDrain),xe.awaitDrain++),_e.pause())}function Ze(Z){c("onerror",Z),De(),te.removeListener("error",Ze),t(te,"error")===0&&k(te,Z)}O(te,"error",Ze);function Xe(){te.removeListener("finish",me),De()}te.once("close",Xe);function me(){c("onfinish"),te.removeListener("close",Xe),De()}te.once("finish",me);function De(){c("unpipe"),_e.unpipe(te)}return te.emit("pipe",_e),xe.flowing||(c("pipe resume"),_e.resume()),te};function J(te){return function(){var _e=te._readableState;c("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&t(te,"data")&&(_e.flowing=!0,ce(te))}}B.prototype.unpipe=function(te){var Y=this._readableState,_e={hasUnpiped:!1};if(Y.pipesCount===0)return this;if(Y.pipesCount===1)return te&&te!==Y.pipes?this:(te||(te=Y.pipes),Y.pipes=null,Y.pipesCount=0,Y.flowing=!1,te&&te.emit("unpipe",this,_e),this);if(!te){var xe=Y.pipes,We=Y.pipesCount;Y.pipes=null,Y.pipesCount=0,Y.flowing=!1;for(var Ue=0;Ue<We;Ue++)xe[Ue].emit("unpipe",this,{hasUnpiped:!1});return this}var Ne=Pe(Y.pipes,te);return Ne===-1?this:(Y.pipes.splice(Ne,1),Y.pipesCount-=1,Y.pipesCount===1&&(Y.pipes=Y.pipes[0]),te.emit("unpipe",this,_e),this)},B.prototype.on=function(te,Y){var _e=r.prototype.on.call(this,te,Y),xe=this._readableState;return te==="data"?(xe.readableListening=this.listenerCount("readable")>0,xe.flowing!==!1&&this.resume()):te==="readable"&&!xe.endEmitted&&!xe.readableListening&&(xe.readableListening=xe.needReadable=!0,xe.flowing=!1,xe.emittedReadable=!1,c("on readable",xe.length,xe.reading),xe.length?W(this):xe.reading||process.nextTick(be,this)),_e},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(te,Y){var _e=r.prototype.removeListener.call(this,te,Y);return te==="readable"&&process.nextTick(oe,this),_e},B.prototype.removeAllListeners=function(te){var Y=r.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&process.nextTick(oe,this),Y};function oe(te){var Y=te._readableState;Y.readableListening=te.listenerCount("readable")>0,Y.resumeScheduled&&!Y.paused?Y.flowing=!0:te.listenerCount("data")>0&&te.resume()}function be(te){c("readable nexttick read 0"),te.read(0)}B.prototype.resume=function(){var te=this._readableState;return te.flowing||(c("resume"),te.flowing=!te.readableListening,Ce(this,te)),te.paused=!1,this};function Ce(te,Y){Y.resumeScheduled||(Y.resumeScheduled=!0,process.nextTick(Le,te,Y))}function Le(te,Y){c("resume",Y.reading),Y.reading||te.read(0),Y.resumeScheduled=!1,te.emit("resume"),ce(te),Y.flowing&&!Y.reading&&te.read(0)}B.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ce(te){var Y=te._readableState;for(c("flow",Y.flowing);Y.flowing&&te.read()!==null;);}B.prototype.wrap=function(te){var Y=this,_e=this._readableState,xe=!1;te.on("end",function(){if(c("wrapped end"),_e.decoder&&!_e.ended){var Ne=_e.decoder.end();Ne&&Ne.length&&Y.push(Ne)}Y.push(null)}),te.on("data",function(Ne){if(c("wrapped data"),_e.decoder&&(Ne=_e.decoder.write(Ne)),!(_e.objectMode&&Ne==null)&&!(!_e.objectMode&&(!Ne||!Ne.length))){var ot=Y.push(Ne);ot||(xe=!0,te.pause())}});for(var We in te)this[We]===void 0&&typeof te[We]=="function"&&(this[We]=function(ot){return function(){return te[ot].apply(te,arguments)}}(We));for(var Ue=0;Ue<P.length;Ue++)te.on(P[Ue],this.emit.bind(this,P[Ue]));return this._read=function(Ne){c("wrapped _read",Ne),xe&&(xe=!1,te.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=YEe()),C(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(Y){this._readableState&&(this._readableState.flowing=Y)}}),B._fromList=ae,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ae(te,Y){if(Y.length===0)return null;var _e;return Y.objectMode?_e=Y.buffer.shift():!te||te>=Y.length?(Y.decoder?_e=Y.buffer.join(""):Y.buffer.length===1?_e=Y.buffer.first():_e=Y.buffer.concat(Y.length),Y.buffer.clear()):_e=Y.buffer.consume(te,Y.decoder),_e}function ge(te){var Y=te._readableState;c("endReadable",Y.endEmitted),Y.endEmitted||(Y.ended=!0,process.nextTick(he,Y,te))}function he(te,Y){if(c("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,Y.readable=!1,Y.emit("end"),te.autoDestroy)){var _e=Y._writableState;(!_e||_e.autoDestroy&&_e.finished)&&Y.destroy()}}typeof Symbol=="function"&&(B.from=function(te,Y){return A===void 0&&(A=XEe()),A(B,te,Y)});function Pe(te,Y){for(var _e=0,xe=te.length;_e<xe;_e++)if(te[_e]===Y)return _e;return-1}return RN}var MN,ZF;function SJ(){if(ZF)return MN;ZF=1,MN=l;var e=Jp().codes,t=e.ERR_METHOD_NOT_IMPLEMENTED,r=e.ERR_MULTIPLE_CALLBACK,n=e.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=e.ERR_TRANSFORM_WITH_LENGTH_0,s=op();$y()(l,s);function o(f,p){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,p!=null&&this.push(p),v(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function l(f){if(!(this instanceof l))return new l(f);s.call(this,f),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",c)}function c(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(p,g){u(f,p,g)}):u(this,null,null)}l.prototype.push=function(f,p){return this._transformState.needTransform=!1,s.prototype.push.call(this,f,p)},l.prototype._transform=function(f,p,g){g(new t("_transform()"))},l.prototype._write=function(f,p,g){var v=this._transformState;if(v.writecb=g,v.writechunk=f,v.writeencoding=p,!v.transforming){var b=this._readableState;(v.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},l.prototype._read=function(f){var p=this._transformState;p.writechunk!==null&&!p.transforming?(p.transforming=!0,this._transform(p.writechunk,p.writeencoding,p.afterTransform)):p.needTransform=!0},l.prototype._destroy=function(f,p){s.prototype._destroy.call(this,f,function(g){p(g)})};function u(f,p,g){if(p)return f.emit("error",p);if(g!=null&&f.push(g),f._writableState.length)throw new i;if(f._transformState.transforming)throw new n;return f.push(null)}return MN}var IN,YF;function JEe(){if(YF)return IN;YF=1,IN=t;var e=SJ();$y()(t,e);function t(r){if(!(this instanceof t))return new t(r);e.call(this,r)}return t.prototype._transform=function(r,n,i){i(null,r)},IN}var LN,XF;function QEe(){if(XF)return LN;XF=1;var e;function t(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var r=Jp().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,v,b,y){y=t(y);var _=!1;g.on("close",function(){_=!0}),e===void 0&&(e=PM()),e(g,{readable:v,writable:b},function(N){if(N)return y(N);_=!0,y()});var S=!1;return function(N){if(!_&&!S){if(S=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();y(N||new i("pipe"))}}}function c(g){g()}function u(g,v){return g.pipe(v)}function f(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function p(){for(var g=arguments.length,v=new Array(g),b=0;b<g;b++)v[b]=arguments[b];var y=f(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new n("streams");var _,S=v.map(function(N,C){var A=C<v.length-1,k=C>0;return l(N,A,k,function(P){_||(_=P),P&&S.forEach(c),!A&&(S.forEach(c),y(_))})});return v.reduce(u)}return LN=p,LN}var JF;function e2e(){return JF||(JF=1,function(e,t){t=e.exports=jJ(),t.Stream=t,t.Readable=t,t.Writable=_J(),t.Duplex=op(),t.Transform=SJ(),t.PassThrough=JEe(),t.finished=PM(),t.pipeline=QEe()}(B0,B0.exports)),B0.exports}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var DN,QF;function t2e(){if(QF)return DN;QF=1;let e;return DN=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Ts):t=>(e||(e=Promise.resolve())).then(t).catch(r=>setTimeout(()=>{throw r},0)),DN}var $N,e5;function r2e(){if(e5)return $N;e5=1;function e(r,n){for(const i in n)Object.defineProperty(r,i,{value:n[i],enumerable:!0,configurable:!0});return r}function t(r,n,i){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof n=="object"&&(i=n,n=""),n&&(i.code=n);try{return e(r,i)}catch{i.message=r.message,i.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),e(new o,i)}}return $N=t,$N}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var FN,t5;function n2e(){if(t5)return FN;t5=1;const e=zEe()("simple-peer"),t=qEe(),r=WEe(),n=e2e(),i=t2e(),s=r2e(),{Buffer:o}=Dy(),l=64*1024,c=5*1e3,u=5*1e3;function f(v){return v.replace(/a=ice-options:trickle\s\n/g,"")}function p(v){console.warn(v)}class g extends n.Duplex{constructor(b){if(b=Object.assign({allowHalfOpen:!1},b),super(b),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",b),this.channelName=b.initiator?b.channelName||r(20).toString("hex"):null,this.initiator=b.initiator||!1,this.channelConfig=b.channelConfig||g.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},g.config,b.config),this.offerOptions=b.offerOptions||{},this.answerOptions=b.answerOptions||{},this.sdpTransform=b.sdpTransform||(y=>y),this.streams=b.streams||(b.stream?[b.stream]:[]),this.trickle=b.trickle!==void 0?b.trickle:!0,this.allowHalfTrickle=b.allowHalfTrickle!==void 0?b.allowHalfTrickle:!1,this.iceCompleteTimeout=b.iceCompleteTimeout||c,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=b.wrtc&&typeof b.wrtc=="object"?b.wrtc:t(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(y){this.destroy(s(y,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=y=>{this._onIceCandidate(y)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(y=>{this.destroy(s(y,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=y=>{this._setupData(y)},this.streams&&this.streams.forEach(y=>{this.addStream(y)}),this._pc.ontrack=y=>{this._onTrack(y)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(b){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof b=="string")try{b=JSON.parse(b)}catch{b={}}this._debug("signal()"),b.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),b.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(b.transceiverRequest.kind,b.transceiverRequest.init)),b.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(b.candidate):this._pendingCandidates.push(b.candidate)),b.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(b)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(y=>{this._addIceCandidate(y)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(y=>{this.destroy(s(y,"ERR_SET_REMOTE_DESCRIPTION"))}),!b.sdp&&!b.candidate&&!b.renegotiate&&!b.transceiverRequest&&this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(b){const y=new this._wrtc.RTCIceCandidate(b);this._pc.addIceCandidate(y).catch(_=>{!y.address||y.address.endsWith(".local")?p("Ignoring unsupported ICE candidate."):this.destroy(s(_,"ERR_ADD_ICE_CANDIDATE"))})}send(b){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(b)}}addTransceiver(b,y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(b,y),this._needsNegotiation()}catch(_){this.destroy(s(_,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:b,init:y}})}}addStream(b){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),b.getTracks().forEach(y=>{this.addTrack(y,b)})}}addTrack(b,y){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const _=this._senderMap.get(b)||new Map;let S=_.get(y);if(!S)S=this._pc.addTrack(b,y),_.set(y,S),this._senderMap.set(b,_),this._needsNegotiation();else throw S.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(b,y,_){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const S=this._senderMap.get(b),N=S?S.get(_):null;if(!N)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");y&&this._senderMap.set(y,S),N.replaceTrack!=null?N.replaceTrack(y):this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(b,y){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const _=this._senderMap.get(b),S=_?_.get(y):null;if(!S)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{S.removed=!0,this._pc.removeTrack(S)}catch(N){N.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(S):this.destroy(s(N,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(b){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),b.getTracks().forEach(y=>{this.removeTrack(y,b)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(b){this._destroy(b,()=>{})}_destroy(b,y){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",b&&(b.message||b)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",b&&(b.message||b)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,b&&this.emit("error",b),this.emit("close"),y()}))}_setupData(b){if(!b.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=b.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=l),this.channelName=this._channel.label,this._channel.onmessage=_=>{this._onChannelMessage(_)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=_=>{const S=_.error instanceof Error?_.error:new Error(`Datachannel error: ${_.message} ${_.filename}:${_.lineno}:${_.colno}`);this.destroy(s(S,"ERR_DATA_CHANNEL"))};let y=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(y&&this._onChannelClose(),y=!0):y=!1},u)}_read(){}_write(b,y,_){if(this.destroyed)return _(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(b)}catch(S){return this.destroy(s(S,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>l?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=_):_(null)}else this._debug("write before connect"),this._chunk=b,this._cb=_}_onFinish(){if(this.destroyed)return;const b=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?b():this.once("connect",b)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(b=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(b.sdp=f(b.sdp)),b.sdp=this.sdpTransform(b.sdp);const y=()=>{if(this.destroyed)return;const N=this._pc.localDescription||b;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp})},_=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(b).then(_).catch(S)}).catch(b=>{this.destroy(s(b,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(b=>{!b.mid&&b.sender.track&&!b.requested&&(b.requested=!0,this.addTransceiver(b.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(b=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(b.sdp=f(b.sdp)),b.sdp=this.sdpTransform(b.sdp);const y=()=>{if(this.destroyed)return;const N=this._pc.localDescription||b;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp}),this.initiator||this._requestMissingTransceivers()},_=()=>{this.destroyed||(this.trickle||this._iceComplete?y():this.once("_iceComplete",y))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(b).then(_).catch(S)}).catch(b=>{this.destroy(s(b,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const b=this._pc.iceConnectionState,y=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",b,y),this.emit("iceStateChange",b,y),(b==="connected"||b==="completed")&&(this._pcReady=!0,this._maybeReady()),b==="failed"&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),b==="closed"&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(b){const y=_=>(Object.prototype.toString.call(_.values)==="[object Array]"&&_.values.forEach(S=>{Object.assign(_,S)}),_);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(_=>{const S=[];_.forEach(N=>{S.push(y(N))}),b(null,S)},_=>b(_)):this._pc.getStats.length>0?this._pc.getStats(_=>{if(this.destroyed)return;const S=[];_.result().forEach(N=>{const C={};N.names().forEach(A=>{C[A]=N.stat(A)}),C.id=N.id,C.type=N.type,C.timestamp=N.timestamp,S.push(y(C))}),b(null,S)},_=>b(_)):b(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const b=()=>{this.destroyed||this.getStats((y,_)=>{if(this.destroyed)return;y&&(_=[]);const S={},N={},C={};let A=!1;_.forEach(P=>{(P.type==="remotecandidate"||P.type==="remote-candidate")&&(S[P.id]=P),(P.type==="localcandidate"||P.type==="local-candidate")&&(N[P.id]=P),(P.type==="candidatepair"||P.type==="candidate-pair")&&(C[P.id]=P)});const k=P=>{A=!0;let O=N[P.localCandidateId];O&&(O.ip||O.address)?(this.localAddress=O.ip||O.address,this.localPort=Number(O.port)):O&&O.ipAddress?(this.localAddress=O.ipAddress,this.localPort=Number(O.portNumber)):typeof P.googLocalAddress=="string"&&(O=P.googLocalAddress.split(":"),this.localAddress=O[0],this.localPort=Number(O[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let I=S[P.remoteCandidateId];I&&(I.ip||I.address)?(this.remoteAddress=I.ip||I.address,this.remotePort=Number(I.port)):I&&I.ipAddress?(this.remoteAddress=I.ipAddress,this.remotePort=Number(I.portNumber)):typeof P.googRemoteAddress=="string"&&(I=P.googRemoteAddress.split(":"),this.remoteAddress=I[0],this.remotePort=Number(I[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(_.forEach(P=>{P.type==="transport"&&P.selectedCandidatePairId&&k(C[P.selectedCandidatePairId]),(P.type==="googCandidatePair"&&P.googActiveConnection==="true"||(P.type==="candidatepair"||P.type==="candidate-pair")&&P.selected)&&k(P)}),!A&&(!Object.keys(C).length||Object.keys(N).length)){setTimeout(b,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(O){return this.destroy(s(O,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const P=this._cb;this._cb=null,P(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};b()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>l||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(b=>{this._pc.removeTrack(b),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(b){this.destroyed||(b.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:b.candidate.candidate,sdpMLineIndex:b.candidate.sdpMLineIndex,sdpMid:b.candidate.sdpMid}}):!b.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),b.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(b){if(this.destroyed)return;let y=b.data;y instanceof ArrayBuffer&&(y=o.from(y)),this.push(y)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const b=this._cb;this._cb=null,b(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(b){this.destroyed||b.streams.forEach(y=>{this._debug("on track"),this.emit("track",b.track,y),this._remoteTracks.push({track:b.track,stream:y}),!this._remoteStreams.some(_=>_.id===y.id)&&(this._remoteStreams.push(y),i(()=>{this._debug("on stream"),this.emit("stream",y)}))})}_debug(){const b=[].slice.call(arguments);b[0]="["+this._id+"] "+b[0],e.apply(null,b)}}return g.WEBRTC_SUPPORT=!!t(),g.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},g.channelConfig={},FN=g,FN}var i2e=n2e();const r5=pr(i2e);var s2e={};class a2e{constructor(){this.socket=null,this.peer=null,this.localStream=null,this.remoteStream=null,this.callState="idle",this.callDuration=0,this.callTimer=null,this.callStartTime=null,this.onCallStateChange=null,this.onRemoteStream=null,this.onCallDuration=null,this.onError=null,this.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],audio:!0,video:!1}}async initialize(t,r){try{return this.socket=gb(s2e.REACT_APP_SIGNALING_SERVER||"http://localhost:3001",{query:{userId:t,roomId:r}}),this.setupSocketListeners(),await this.requestAudioPermission(),!0}catch(n){return console.error("Erreur initialisation AudioCall:",n),this.handleError(n),!1}}async requestAudioPermission(){try{return this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100},video:!1}),console.log("Accès microphone accordé"),!0}catch(t){throw console.error("Erreur accès microphone:",t),new Error("Accès au microphone refusé. Veuillez autoriser l'accès audio.")}}setupSocketListeners(){this.socket&&(this.socket.on("incoming-call",t=>{console.log("Appel entrant de:",t.callerId),this.callState="incoming",this.triggerCallStateChange()}),this.socket.on("call-answered",t=>{console.log("Appel répondu par:",t.answererId),this.handleCallAnswered(t)}),this.socket.on("call-rejected",t=>{console.log("Appel refusé par:",t.rejecterId),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}),this.socket.on("call-ended",t=>{console.log("Appel terminé par:",t.enderId),this.endCall()}),this.socket.on("webrtc-signal",t=>{this.peer&&this.peer.signal(t.signal)}),this.socket.on("connect",()=>{console.log("Connecté au serveur de signalisation")}),this.socket.on("disconnect",()=>{console.log("Déconnecté du serveur de signalisation"),this.handleError(new Error("Connexion perdue au serveur"))}))}async startCall(t,r){try{if(this.callState!=="idle")throw new Error("Un appel est déjà en cours");return this.localStream||await this.requestAudioPermission(),this.callState="calling",this.triggerCallStateChange(),this.peer=new r5({initiator:!0,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("start-call",{targetUserId:t,roomId:r,callerId:this.socket.id}),!0}catch(n){return console.error("Erreur démarrage appel:",n),this.handleError(n),!1}}async answerCall(t,r){try{if(this.callState!=="incoming")throw new Error("Aucun appel entrant");return this.localStream||await this.requestAudioPermission(),this.callState="connected",this.triggerCallStateChange(),this.peer=new r5({initiator:!1,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("answer-call",{callerId:t,roomId:r,answererId:this.socket.id}),this.startCallTimer(),!0}catch(n){return console.error("Erreur réponse appel:",n),this.handleError(n),!1}}rejectCall(t,r){try{this.socket.emit("reject-call",{callerId:t,roomId:r,rejecterId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(n){console.error("Erreur refus appel:",n),this.handleError(n)}}endCall(){try{this.callState==="connected"&&this.socket.emit("end-call",{enderId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(t){console.error("Erreur fin appel:",t),this.handleError(t)}}setupPeerListeners(){this.peer&&(this.peer.on("signal",t=>{this.socket.emit("webrtc-signal",{signal:t})}),this.peer.on("connect",()=>{console.log("Connexion WebRTC établie"),this.callState="connected",this.triggerCallStateChange(),this.startCallTimer()}),this.peer.on("stream",t=>{this.remoteStream=t,this.onRemoteStream&&this.onRemoteStream(t)}),this.peer.on("error",t=>{console.error("Erreur WebRTC:",t),this.handleError(t)}),this.peer.on("close",()=>{console.log("Connexion WebRTC fermée"),this.endCall()}))}startCallTimer(){this.callStartTime=Date.now(),this.callDuration=0,this.callTimer=setInterval(()=>{this.callDuration=Math.floor((Date.now()-this.callStartTime)/1e3),this.onCallDuration&&this.onCallDuration(this.callDuration)},1e3)}handleCallAnswered(t){this.peer&&this.callState==="calling"&&(this.callState="connected",this.triggerCallStateChange(),this.startCallTimer())}cleanup(){this.callTimer&&(clearInterval(this.callTimer),this.callTimer=null),this.peer&&(this.peer.destroy(),this.peer=null),this.localStream&&(this.localStream.getTracks().forEach(t=>t.stop()),this.localStream=null),this.callState="idle",this.callDuration=0,this.callStartTime=null,this.remoteStream=null}handleError(t){console.error("Erreur AudioCall:",t),this.onError&&this.onError(t)}triggerCallStateChange(){this.onCallStateChange&&this.onCallStateChange(this.callState)}formatCallDuration(t){const r=Math.floor(t/3600),n=Math.floor(t%3600/60),i=t%60;return r>0?`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getCallState(){return{state:this.callState,duration:this.callDuration,formattedDuration:this.formatCallDuration(this.callDuration),hasLocalStream:!!this.localStream,hasRemoteStream:!!this.remoteStream}}isInCall(){return["calling","incoming","connected"].includes(this.callState)}isConnected(){return this.callState==="connected"}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.cleanup()}setCallbacks(t){this.onCallStateChange=t.onCallStateChange,this.onRemoteStream=t.onRemoteStream,this.onCallDuration=t.onCallDuration,this.onError=t.onError}}const Ic=new a2e,NJ=({isOpen:e=!1,onClose:t,targetUser:r=null,currentUser:n=null,roomId:i=null})=>{const[s,o]=x.useState("idle"),[l,c]=x.useState(0),[u,f]=x.useState(!1),[p,g]=x.useState(!0),[v,b]=x.useState(!1),[y,_]=x.useState(null),[S,N]=x.useState(!1),C=x.useRef(null),{toast:A}=Zr();x.useEffect(()=>{e&&n&&i&&k()},[e,n,i]),x.useEffect(()=>{e||q()},[e]);const k=async()=>{try{b(!0),_(null),console.log("🔍 Initialisation appel simplifié pour:",{currentUser:n?.id,targetUser:r?.id,roomId:i}),setTimeout(()=>{o("calling"),b(!1),A({title:"Appel initialisé",description:`Appel en cours vers ${r?.first_name||r?.last_name||"l'utilisateur"}`,duration:3e3})},1e3)}catch(X){console.error("Erreur initialisation:",X),_(X.message),A({title:"Erreur d'initialisation",description:X.message,variant:"destructive",duration:5e3})}finally{b(!1)}};x.useCallback(X=>{o(X),N(X==="connected"),X==="ended"&&setTimeout(()=>{t()},2e3)},[t]),x.useCallback(X=>{C.current&&(C.current.srcObject=X,C.current.play().catch(console.error))},[]),x.useCallback(X=>{c(X)},[]);const P=x.useCallback(X=>{_(X.message),A({title:"Erreur d'appel",description:X.message,variant:"destructive",duration:5e3})},[A]),O=async()=>{try{if(!r||!i)throw new Error("Informations manquantes pour l'appel");await Ic.startCall(r.id,i)&&A({title:"Appel en cours...",description:`Appel de ${r.name||r.email}`,duration:3e3})}catch(X){console.error("Erreur démarrage appel:",X),P(X)}},I=async()=>{try{await Ic.answerCall()&&A({title:"Appel accepté",description:"Connexion en cours...",duration:3e3})}catch(X){console.error("Erreur réponse appel:",X),P(X)}},B=()=>{Ic.rejectCall(),A({title:"Appel refusé",description:"L'appel a été refusé",duration:3e3,variant:"destructive"})},K=()=>{Ic.endCall(),A({title:"Appel terminé",description:"L'appel a été terminé",duration:3e3})},V=()=>{if(Ic.localStream){const X=Ic.localStream.getAudioTracks()[0];X&&(X.enabled=!X.enabled,f(!X.enabled),A({title:u?"Micro activé":"Micro désactivé",description:u?"Votre voix est maintenant audible":"Votre voix est maintenant muette",duration:2e3}))}},U=()=>{C.current&&(C.current.muted=!C.current.muted,g(!C.current.muted),A({title:p?"Haut-parleur désactivé":"Haut-parleur activé",description:p?"Son désactivé":"Son activé",duration:2e3}))},q=()=>{Ic.disconnect(),o("idle"),c(0),N(!1),_(null)},H=()=>{Ic.isInCall()&&K(),t()},G=X=>{const ne=Math.floor(X/60),J=X%60;return`${ne.toString().padStart(2,"0")}:${J.toString().padStart(2,"0")}`},se=()=>{switch(s){case"calling":return a.jsx(mde,{className:"h-6 w-6 text-orange-500"});case"incoming":return a.jsx(pde,{className:"h-6 w-6 text-green-500"});case"connected":return a.jsx(Fa,{className:"h-6 w-6 text-green-500"});default:return a.jsx(Fa,{className:"h-6 w-6 text-gray-500"})}},W=()=>{switch(s){case"calling":return"Appel en cours...";case"incoming":return"Appel entrant";case"connected":return"Appel en cours";case"ended":return"Appel terminé";default:return"Prêt pour l'appel"}},ee=()=>s==="connected"?`Durée: ${G(l)}`:r?`Appel de ${r.name||r.email}`:"En attente...";return e?a.jsx(li,{children:a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Re.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white text-center relative",children:[a.jsx("button",{onClick:H,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(is,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:se()}),a.jsx("h2",{className:"text-xl font-semibold mb-1",children:W()}),a.jsx("p",{className:"text-blue-100 text-sm",children:ee()})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[r&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx(es,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name||"Utilisateur"}),r.email&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.email})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(mt,{variant:s==="connected"?"default":"secondary",children:s.toUpperCase()}),s==="connected"&&a.jsxs("div",{className:"flex items-center justify-center mt-2 text-green-600",children:[a.jsx(la,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"font-mono",children:G(l)})]})]}),y&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[a.jsx(Pn,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700 text-sm",children:y})]}),a.jsxs("div",{className:"space-y-3",children:[s==="idle"&&a.jsx(ue,{onClick:O,disabled:v||!r,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"h-5 w-5 mr-2 animate-spin"}),"Initialisation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fa,{className:"h-5 w-5 mr-2"}),"Appeler"]})}),s==="incoming"&&a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(ue,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[a.jsx(Fa,{className:"h-5 w-5 mr-2"}),"Répondre"]}),a.jsxs(ue,{onClick:B,variant:"destructive",className:"flex-1",size:"lg",children:[a.jsx(AS,{className:"h-5 w-5 mr-2"}),"Refuser"]})]}),s==="calling"&&a.jsxs(ue,{onClick:K,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(AS,{className:"h-5 w-5 mr-2"}),"Annuler l'appel"]}),s==="connected"&&a.jsxs(ue,{onClick:K,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(AS,{className:"h-5 w-5 mr-2"}),"Terminer l'appel"]}),s==="connected"&&a.jsxs("div",{className:"flex space-x-3 pt-3 border-t",children:[a.jsxs(ue,{onClick:V,variant:u?"destructive":"outline",className:"flex-1",children:[u?a.jsx(ode,{className:"h-4 w-4 mr-2"}):a.jsx(lde,{className:"h-4 w-4 mr-2"}),u?"Activer":"Muet"]}),a.jsxs(ue,{onClick:U,variant:p?"outline":"destructive",className:"flex-1",children:[p?a.jsx(Nde,{className:"h-4 w-4 mr-2"}):a.jsx(Cde,{className:"h-4 w-4 mr-2"}),p?"Désactiver":"Activer"]})]})]}),a.jsx("div",{className:"text-center text-sm text-gray-500",children:S?a.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[a.jsx(Yn,{className:"h-4 w-4 mr-2"}),"Connecté"]}):a.jsxs("div",{className:"flex items-center justify-center text-gray-400",children:[a.jsx(Mr,{className:"h-4 w-4 mr-2 animate-spin"}),"Connexion..."]})})]}),a.jsx("audio",{ref:C,autoPlay:!0,playsInline:!0,className:"hidden"})]})})}):null},o2e=({value:e,onChange:t,onSend:r,onAttachment:n,onEmoji:i,onVoice:s,onCamera:o,placeholder:l="Tapez votre message...",disabled:c=!1,showActions:u=!0})=>{const[f,p]=x.useState(!1),[g,v]=x.useState(!1),[b,y]=x.useState(!1),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[A,k]=x.useState(!1),P=x.useRef(null),O=()=>{e.trim()&&!c&&r(e.trim())},I=G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),O())},B=G=>{const se=Array.from(G.target.files);se.length>0&&n(se)},K=G=>{const se=new Ob([G.blob],`photo_${Date.now()}.jpg`,{type:"image/jpeg",lastModified:Date.now()});n&&n([se])},V=G=>{n&&n(G)},U=G=>{const se=`📍 Localisation partagée
Lat: ${G.latitude.toFixed(6)}
Lng: ${G.longitude.toFixed(6)}${G.name?`
Lieu: ${G.name}`:""}`;n&&n([{type:"location",data:G,message:se}])},q=G=>{const se=`📅 Rendez-vous planifié
Titre: ${G.title}
Date: ${new Date(G.date).toLocaleDateString("fr-FR")}
Heure: ${G.time}${G.location?`
Lieu: ${G.location}`:""}${G.description?`
Description: ${G.description}`:""}`;n&&n([{type:"appointment",data:G,message:se}])},H=[{icon:S7,label:"Photo",action:()=>y(!0)},{icon:Sd,label:"Caméra",action:()=>v(!0)},{icon:Ob,label:"Document",action:()=>y(!0)},{icon:No,label:"Localisation",action:()=>S(!0)},{icon:Ul,label:"Rendez-vous",action:()=>C(!0)},{icon:Fa,label:"Appel",action:()=>k(!0)},{icon:JO,label:"Vidéo",action:()=>console.log("Vidéo - Phase 3")}];return a.jsxs("div",{className:"bg-card border-t border-border p-3",children:[f&&a.jsx("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-2",children:H.map((G,se)=>a.jsxs(ue,{variant:"ghost",size:"sm",onClick:G.action,className:"flex flex-col items-center space-y-1 p-2 h-auto",children:[a.jsx(G.icon,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:G.label})]},se))})}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>p(!f),className:"p-2 flex-shrink-0",children:a.jsx(Oo,{className:`h-4 w-4 transition-transform ${f?"rotate-45":""}`})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(tt,{ref:P,placeholder:l,value:e,onChange:t,onKeyPress:I,disabled:c,className:"pr-20 resize-none",style:{minHeight:"44px"}}),a.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-6 w-6",children:a.jsx(xde,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:a.jsx(fde,{className:"h-4 w-4"})})]})]}),a.jsx(ue,{onClick:O,disabled:!e.trim()||c,className:"bg-primary hover:bg-primary/90 flex-shrink-0 px-4",children:a.jsx(py,{className:"h-4 w-4"})})]}),a.jsx("input",{ref:P,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.txt",onChange:B,className:"hidden"}),e&&a.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Appuyez sur Entrée pour envoyer, Shift+Entrée pour une nouvelle ligne"}),a.jsx(DCe,{isOpen:g,onClose:()=>v(!1),onCapture:K}),a.jsx($Ce,{isOpen:b,onClose:()=>y(!1),onFilesSelected:V}),a.jsx(VCe,{isOpen:_,onClose:()=>S(!1),onLocationSelect:U}),a.jsx(WCe,{isOpen:N,onClose:()=>C(!1),onAppointmentCreate:q}),a.jsx(NJ,{isOpen:A,onClose:()=>k(!1),targetUser:{id:"user123",name:"Utilisateur Test",email:"test@example.com"},currentUser:{id:"currentUser",name:"Moi"},roomId:"room123"})]})},CJ=({size:e="default",className:t=""})=>{const r={sm:"w-8 h-8",default:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"};return a.jsxs("div",{className:`
      relative flex items-center justify-center rounded-full
      bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500
      text-white font-bold shadow-lg
      ${r[e]}
      ${t}
    `,children:[a.jsx(Gue,{className:"w-5 h-5"}),a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(XO,{className:"w-3 h-3 text-yellow-300 animate-pulse"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 animate-spin opacity-20"})]})},l2e=new bV({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:1}}}),c2e=()=>{const{user:e}=OCe(),{toast:t}=Zr(),[r]=rO(),{data:n,isLoading:i,error:s,refetch:o}=RCe(),l=Bo(),[c,u]=x.useState(null),[f,p]=x.useState([]),[g,v]=x.useState(""),[b,y]=x.useState("all"),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[A,k]=x.useState(""),[P,O]=x.useState(!1),[I,B]=x.useState(null),[K,V]=x.useState(new Set),[U,q]=x.useState(!1),[H,G]=x.useState(null),[se,W]=x.useState(!1),[ee,X]=x.useState(null);MCe(c?.id);const ne=oi({mutationFn:me=>_i.deleteConversation(me),onSuccess:()=>{l.invalidateQueries(["conversations"]),t({title:"Conversation supprimée",description:"La conversation a été supprimée définitivement"})},onError:me=>{t({title:"Erreur",description:"Impossible de supprimer la conversation",variant:"destructive"})}});x.useEffect(()=>{if(!n||n.length===0)return;const me=r.get("conversation"),De=r.get("listing");if(me&&!c){const Z=n.find(D=>D.id===me);Z&&(console.log("🔍 Ouverture automatique de la conversation:",me),u(Z),J(Z.id))}else if(De&&!c){const Z=n.find(D=>D.listing_id===De);Z&&(console.log("🔍 Ouverture automatique de la conversation pour l'annonce:",De),u(Z),J(Z.id))}},[n,r,c]),x.useEffect(()=>{if(!e)return;const me=we.channel("conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations",filter:`participant1_id=eq.${e.id} OR participant2_id=eq.${e.id}`},De=>{console.log("🆕 Nouvelle conversation reçue:",De),o()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`participant1_id=eq.${e.id} OR participant2_id=eq.${e.id}`},De=>{console.log("🔄 Conversation mise à jour:",De),o()}).subscribe();return()=>{we.removeChannel(me)}},[e,o]),x.useEffect(()=>{if(!e)return;const me=we.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${e.id}`},De=>{console.log("💬 Nouveau message reçu:",De),c&&De.new.conversation_id===c.id&&p(Z=>[...Z,De.new]),o(),De.new.sender_id!==e.id&&t({title:"Nouveau message",description:"Vous avez reçu un nouveau message"})}).subscribe();return()=>{we.removeChannel(me)}},[e,c,o,t]);const J=async me=>{if(me){C(!0);try{const De=await _i.getConversationMessages(me);p(De),await _i.markMessagesAsRead(me),o()}catch(De){console.error("Erreur chargement messages:",De),t({title:"Erreur",description:"Impossible de charger les messages",variant:"destructive"})}finally{C(!1)}}},oe=async me=>{u(me),J(me.id),S(!1);try{await _i.markMessagesAsRead(me.id),o()}catch(De){console.error("Erreur lors du marquage des messages comme lus:",De)}},be=async me=>{if(!(!me.trim()||!c))try{const De=await _i.sendMessage(c.id,me.trim());k(""),p(Z=>[...Z,De]),o()}catch(De){console.error("Erreur envoi message:",De),t({title:"Erreur",description:"Impossible d'envoyer le message",variant:"destructive"})}},Ce=me=>{console.log("Fichiers sélectionnés:",me)},Le=()=>{},ce=()=>{if(!c||!e){t({title:"Erreur",description:"Impossible de déterminer la conversation ou l'utilisateur",variant:"destructive"});return}const me=c.participant1_id===e.id?c.participant2:c.participant1;if(!me||!me.id){t({title:"Erreur",description:"Impossible de déterminer l'interlocuteur",variant:"destructive"});return}console.log("🔍 Initialisation appel avec:",{user:e.id,target:me.id,targetName:me.first_name||me.last_name||"Utilisateur"}),X(me),W(!0),t({title:"Appel audio",description:`Initialisation de l'appel avec ${me.first_name||me.last_name||"l'utilisateur"}`})},ae=()=>{W(!1),X(null)},Pe=[...(n?.filter(me=>b==="unread"?me.messages?.some(De=>!De.is_read&&De.sender_id!==e?.id):b==="starred"?me.starred:b==="archived"?me.is_archived:!0)||[]).filter(me=>{if(!g)return!0;const De=g.toLowerCase(),Z=`${me.participant1?.first_name||""} ${me.participant1?.last_name||""}`.toLowerCase(),D=`${me.participant2?.first_name||""} ${me.participant2?.last_name||""}`.toLowerCase();return!!(Z.includes(De)||D.includes(De)||me.listing?.title?.toLowerCase().includes(De)||me.messages?.some(F=>F.content?.toLowerCase().includes(De)))})].sort((me,De)=>{const Z=me.messages?.[me.messages.length-1]?.created_at||me.created_at,D=De.messages?.[De.messages.length-1]?.created_at||De.created_at;return!Z&&!D?0:Z?D?new Date(D)-new Date(Z):-1:1});console.log("🔍 Conversations triées:",Pe.map(me=>({id:me.id,title:me.listing?.title||"Sans titre",lastMessage:me.messages?.[me.messages.length-1]?.created_at||me.created_at,hasUnread:me.messages?.some(De=>!De.is_read&&De.sender_id!==e?.id)})));const te={total:n?.length||0,unread:n?.filter(me=>me.messages?.some(De=>!De.is_read&&De.sender_id!==e?.id)).length||0,starred:n?.filter(me=>me.starred).length||0,archived:n?.filter(me=>me.is_archived).length||0},Y=async me=>{try{await _i.markMessagesAsRead(me.id),o()}catch{t({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},_e=async me=>{try{const De=!me.starred;await _i.toggleConversationStar(me.id,De),o()}catch{t({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},xe=async me=>{try{await _i.archiveConversation(me.id),o()}catch{t({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},We=me=>{c?.id===me.id&&(u(null),p([])),ne.mutate(me.id)},Ue=me=>{B(me),O(!0)},Ne=me=>{q(!0),V(new Set([me]))},ot=me=>{U&&V(De=>{const Z=new Set(De);return Z.has(me)?Z.delete(me):Z.add(me),Z})},Dt=me=>{U&&ot(me)},fe=()=>{V(new Set),q(!1)},je=()=>{const me=f.map(De=>De.id);V(new Set(me))},Ae=()=>{const me=f.filter(De=>De.sender_id===e?.id).map(De=>De.id);V(new Set(me))},Ze=async()=>{if(K.size!==0)try{const me=Array.from(K).map(De=>_i.deleteMessage(De));await Promise.all(me),p(De=>De.filter(Z=>!K.has(Z.id))),fe(),t({title:"Messages supprimés",description:`${K.size} message(s) supprimé(s) avec succès`})}catch{t({title:"Erreur",description:"Impossible de supprimer certains messages",variant:"destructive"})}},Xe=()=>{K.size};return s?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Xn,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.message||"Impossible de charger les conversations"}),a.jsx(ue,{onClick:()=>o(),className:"bg-blue-600 hover:bg-blue-700",children:"Réessayer"})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(ICe,{selectedConversation:c,onBack:()=>u(null),onMenuToggle:()=>S(!_),onSearch:()=>S(!1),onFilter:()=>S(!1),onMore:()=>console.log("Plus d'options"),onCall:ce,onVideo:()=>console.log("Video"),unreadCount:te.unread}),a.jsx("div",{className:"bg-card border-b border-border px-6 py-4 hidden md:block",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:"Centre de Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations et échangez avec d'autres utilisateurs"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(ue,{className:"bg-primary hover:bg-primary/90",children:[a.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Nouvelle Conversation"]})})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-120px)] md:h-[calc(100vh-140px)]",children:[a.jsxs("div",{className:`
          ${c?"hidden md:block":"block"} 
          w-full md:w-80 lg:w-96 
          bg-card border-r border-border 
          flex flex-col
        `,children:[a.jsx(LCe,{searchTerm:g,onSearchChange:v,filterType:b,onFilterChange:y,onClear:()=>v(""),totalCount:te.total,unreadCount:te.unread,starredCount:te.starred,archivedCount:te.archived}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:i?a.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((me,De)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},De))}):Pe.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Xn,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Aucune conversation"}),a.jsx("p",{className:"text-muted-foreground",children:g?"Aucune conversation trouvée pour votre recherche":"Commencez une nouvelle conversation"})]}):a.jsx("div",{className:"space-y-1",children:Pe.map(me=>a.jsx(u2e,{conversation:me,isSelected:c?.id===me.id,onSelect:()=>oe(me),onMarkAsRead:()=>Y(me),onToggleStar:()=>_e(me),onArchive:()=>xe(me),onDelete:()=>Ue(me),currentUserId:e?.id},me.id))})})]}),c?a.jsxs("div",{className:"flex-1 flex flex-col bg-card",children:[a.jsx("div",{className:"border-b border-border p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(vv,{user:c.participant1_id===e?.id?c.participant2:c.participant1,size:"default"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:(()=>{const me=c.participant1_id===e?.id?c.participant2:c.participant1;return me&&`${me.first_name||""} ${me.last_name||""}`.trim()||"Utilisateur"})()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c.listing?.title||"Conversation"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:ce,children:a.jsx(Fa,{className:"h-4 w-4"})}),a.jsxs(tf,{children:[a.jsx(rf,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(Hd,{className:"h-4 w-4"})})}),a.jsxs(vu,{align:"end",className:"w-48",children:[a.jsxs(xr,{onClick:()=>_e(c),children:[a.jsx(Is,{className:"h-4 w-4 mr-2"}),c.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(xr,{onClick:()=>xe(c),children:[a.jsx(x_,{className:"h-4 w-4 mr-2"}),c.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Wp,{}),a.jsxs(xr,{onClick:()=>Ue(c),className:"text-destructive focus:text-destructive",children:[a.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Supprimer la conversation"]})]})]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[U&&a.jsx("div",{className:"sticky top-0 bg-card border border-border rounded-lg p-3 mb-4 shadow-sm z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-sm font-medium text-foreground",children:[K.size," message(s) sélectionné(s)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:je,className:"text-xs",children:"Tout sélectionner"}),a.jsx(ue,{variant:"outline",size:"sm",onClick:Ae,className:"text-xs",children:"Mes messages"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:fe,className:"text-xs",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",size:"sm",onClick:Xe,className:"text-xs",disabled:K.size===0,children:["Supprimer (",K.size,")"]})]})]})}),!U&&f.length>0&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground mb-4 p-2 bg-muted/30 rounded-lg",children:["💡 ",a.jsx("strong",{children:"Appui long"})," sur un message pour activer la sélection multiple"]}),N?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):f.length===0?a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucun message dans cette conversation"})}):f.map(me=>a.jsx(d2e,{message:me,isOwn:me.sender_id===e?.id,participant1:c.participant1,participant2:c.participant2,currentUserId:e?.id,onLongPress:()=>Ne(me.id),onPress:()=>Dt(me.id),isSelected:K.has(me.id),isSelectionMode:U},me.id))]}),a.jsx(o2e,{value:A,onChange:me=>k(me.target.value),onSend:be,onAttachment:Ce,onEmoji:Le,onVoice:()=>console.log("Voice message"),onCamera:()=>console.log("Camera"),placeholder:"Tapez votre message...",disabled:N})]}):a.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Xn,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-card-foreground mb-2",children:"Sélectionnez une conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choisissez une conversation dans la liste pour commencer à échanger"})]})})]}),P&&I&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Êtes-vous sûr de vouloir supprimer définitivement cette conversation ? Cette action ne peut pas être annulée."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Annuler"}),a.jsx(ue,{variant:"destructive",onClick:()=>{We(I),O(!1),B(null)},className:"flex-1",disabled:ne.isLoading,children:ne.isLoading?"Suppression...":"Supprimer"})]})]})}),U&&K.size>0&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Êtes-vous sûr de vouloir supprimer définitivement ",K.size," message(s) ? Cette action ne peut pas être annulée."]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:fe,className:"flex-1",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",onClick:Ze,className:"flex-1",children:["Supprimer (",K.size,")"]})]})]})}),se&&ee&&a.jsx(NJ,{isOpen:se,onClose:ae,targetUser:ee,currentUser:e,roomId:`call-${e?.id}-${ee.id}`})]})},u2e=({conversation:e,isSelected:t,onSelect:r,onMarkAsRead:n,onToggleStar:i,onArchive:s,onDelete:o,currentUserId:l})=>{const c=e.messages?.[e.messages.length-1],u=e.messages?.some(v=>!v.is_read&&v.sender_id!==l),f=e.participant1_id===l?e.participant2:e.participant1,p=e.participant1_id==="00000000-0000-0000-0000-000000000000"||e.participant2_id==="00000000-0000-0000-0000-000000000000",g=v=>{if(!v)return"À l'instant";try{const b=new Date(v),y=new Date,_=Math.floor((y-b)/(1e3*60*60)),S=Math.floor((y-b)/(1e3*60*60*24));return _<1?"À l'instant":_<24?`Il y a ${_}h`:S<7?`Il y a ${S}j`:b.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}};return a.jsxs("div",{className:`
        group p-4 cursor-pointer transition-colors hover:bg-accent relative
        ${t?"bg-primary/10 border-r-2 border-primary":""}
        ${u?"bg-primary/10":""}
        ${p?"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500":""}
      `,onClick:r,children:[p&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-2 py-1 rounded-full font-medium shadow-sm",children:"🤖 Assistant"})}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsxs("div",{className:"relative",children:[p?a.jsx(CJ,{size:"default",className:"flex-shrink-0"}):a.jsx(vv,{user:f,size:"default",className:"flex-shrink-0"}),u&&a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:p?"Assistant MaxiMarket":f&&`${f.first_name||""} ${f.last_name||""}`.trim()||"Utilisateur"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[e.starred&&a.jsx(Is,{className:"h-3 w-3 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c?.created_at?g(c.created_at):"À l'instant"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate mb-1",children:c?.content||"Aucun message"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:p?"Support et assistance":e.listing?.title||"Conversation"}),a.jsx("div",{className:"flex items-center space-x-1",children:u&&a.jsx(mt,{variant:"destructive",className:"h-5 px-2 text-xs",children:"Nouveau"})})]})]}),a.jsx("div",{className:"flex-shrink-0",onClick:v=>v.stopPropagation(),children:a.jsxs(tf,{children:[a.jsx(rf,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Hd,{className:"h-4 w-4"})})}),a.jsxs(vu,{align:"end",className:"w-48",children:[a.jsxs(xr,{onClick:()=>n?.(e),children:[a.jsx(Ml,{className:"h-4 w-4 mr-2"}),"Marquer comme lu"]}),a.jsxs(xr,{onClick:()=>i?.(e),children:[a.jsx(Is,{className:"h-4 w-4 mr-2"}),e.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(xr,{onClick:()=>s?.(e),children:[a.jsx(x_,{className:"h-4 w-4 mr-2"}),e.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Wp,{}),a.jsxs(xr,{onClick:()=>o?.(e),className:"text-destructive focus:text-destructive",children:[a.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]})]})},d2e=({message:e,isOwn:t,participant1:r,participant2:n,currentUserId:i,onLongPress:s,onPress:o,isSelected:l=!1,isSelectionMode:c=!1})=>{const[u,f]=x.useState(null),p=e.sender_id==="00000000-0000-0000-0000-000000000000",g=S=>{if(!S)return"À l'instant";try{return new Date(S).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch{return"À l'instant"}},v=e.sender_id===r?.id?r:n,b=()=>{if(s){const S=setTimeout(()=>{s()},500);f(S)}},y=()=>{u&&(clearTimeout(u),f(null))},_=()=>{o&&o()};return a.jsxs("div",{className:`flex ${t?"justify-end":"justify-start"} space-x-2`,onTouchStart:b,onTouchEnd:y,onClick:_,children:[!t&&(p?a.jsx(CJ,{size:"sm",className:"flex-shrink-0 mt-1"}):a.jsx(vv,{user:v,size:"sm",className:"flex-shrink-0 mt-1"})),a.jsxs("div",{className:`
        relative max-w-xs lg:max-w-md px-4 py-2 rounded-lg cursor-pointer
        transition-all duration-200
        ${t?"bg-primary text-primary-foreground":p?"bg-gradient-to-r from-blue-100 to-purple-100 text-gray-800 border border-blue-200":"bg-muted text-muted-foreground"}
        ${l?"ring-2 ring-primary ring-offset-2":""}
        ${c?"hover:ring-2 hover:ring-primary/50":""}
      `,children:[l&&a.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-foreground text-xs",children:"✓"})}),a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!t&&a.jsx("span",{className:`text-xs font-medium ${p?"text-blue-600":""}`,children:p?"🤖 Assistant MaxiMarket":v&&`${v.first_name||""} ${v.last_name||""}`.trim()||"Utilisateur"}),a.jsx("span",{className:"text-xs opacity-75",children:g(e.created_at)})]}),a.jsx("p",{className:"text-sm",children:e.content})]}),t&&a.jsx(vv,{user:{first_name:"Moi",last_name:""},size:"sm",className:"flex-shrink-0 mt-1"})]})},f2e=()=>a.jsx(jV,{client:l2e,children:a.jsx(c2e,{})}),a1=(e=null,t={})=>{const r=Bo(),{user:n}=jr(),[i,s]=x.useState(new Set);x.useEffect(()=>{n&&o()},[n]);const o=async()=>{try{const A=await Nl.getUserFavoritesWithStatus();s(A)}catch(A){console.error("Erreur lors du chargement des favoris:",A)}},{data:l,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:f,isLoading:p,error:g,refetch:v}=cie({queryKey:["listings",e,t],queryFn:({pageParam:A=0})=>{const k={status:"approved",category:e,search:t.search,minPrice:t.minPrice,maxPrice:t.maxPrice,location:t.location,page:A,limit:12,...t};return zr.getAllListings(k)},getNextPageParam:(A,k)=>A.hasMore?k.length:void 0,staleTime:k$.listings.staleTime,gcTime:k$.listings.gcTime,keepPreviousData:!0}),b=oi({mutationFn:A=>{if(!n)throw new Error("Vous devez être connecté pour créer une annonce");return zr.createListing({...A,user_id:n.id,status:"pending"})},onSuccess:()=>{r.invalidateQueries(["listings"])}}),y=oi({mutationFn:({id:A,updates:k})=>zr.updateListing(A,k),onSuccess:(A,k)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.map(I=>I.id===k.id?{...I,...k.updates}:I)}))})}}),_=oi({mutationFn:A=>zr.deleteListing(A),onSuccess:(A,k)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.filter(I=>I.id!==k)}))})}}),S=oi({mutationFn:async A=>{if(!n)throw new Error("Vous devez être connecté pour ajouter aux favoris");const k=await Nl.toggleFavorite(A);return s(P=>{const O=new Set(P);return k.is_favorite?O.add(A):O.delete(A),O}),k},onSuccess:(A,k)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.map(I=>I.id===k?{...I,is_favorite:A.is_favorite}:I)}))}),r.invalidateQueries(["favorites"]),r.invalidateQueries(["userStats"])},onError:(A,k)=>{s(P=>{const O=new Set(P);return i.has(k)?O.delete(k):O.add(k),O}),console.error("Erreur lors du basculement des favoris:",A)}}),N=A=>i.has(A);return{listings:(l?.pages.flatMap(k=>k.data)||[]).map(k=>({...k,is_favorite:i.has(k.id)})),loading:p,error:g,hasMore:u,isFetchingMore:f,loadMore:c,refresh:v,createListing:b.mutate,updateListing:y.mutate,deleteListing:_.mutate,toggleFavorite:S.mutate,isCreating:b.isLoading,isUpdating:y.isLoading,isDeleting:_.isLoading,isTogglingFavorite:S.isLoading,isFavorite:N,favoriteIds:i,loadUserFavorites:o}},h2e=()=>{const{user:e}=jr(),t=Bo(),[r,n]=x.useState(new Set),{data:i,isLoading:s,error:o,refetch:l}=Zn({queryKey:["favorites",e?.id],queryFn:()=>Nl.getUserFavorites(),enabled:!!e,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:c,isLoading:u,error:f}=Zn({queryKey:["favoriteIds",e?.id],queryFn:()=>Nl.getUserFavoritesWithStatus(),enabled:!!e,staleTime:2*60*1e3,gcTime:5*60*1e3});x.useEffect(()=>{c&&n(c)},[c]);const p=oi({mutationFn:async S=>{if(!e)throw new Error("Vous devez être connecté pour ajouter aux favoris");return{...await Nl.toggleFavorite(S),listingId:S}},onMutate:async S=>{await t.cancelQueries(["favorites",e?.id]),await t.cancelQueries(["favoriteIds",e?.id]);const N=t.getQueryData(["favorites",e?.id]),C=t.getQueryData(["favoriteIds",e?.id]),A=new Set(r);return A.has(S)?A.delete(S):A.add(S),n(A),t.setQueryData(["favoriteIds",e?.id],A),{previousFavorites:N,previousIds:C,listingId:S}},onSuccess:(S,N)=>{t.invalidateQueries(["favorites",e?.id]),t.invalidateQueries(["favoriteIds",e?.id]),t.invalidateQueries(["listings"]),t.invalidateQueries(["userStats"])},onError:(S,N,C)=>{C?.previousIds&&(n(C.previousIds),t.setQueryData(["favoriteIds",e?.id],C.previousIds)),console.error("Erreur lors du basculement des favoris:",S)}}),g=S=>r.has(S),v=S=>{p.mutate(S)},b=S=>{g(S)||v(S)},y=S=>{g(S)&&v(S)},_=()=>{l()};return{favorites:i||[],favoriteIds:r,isLoading:s||u,error:o||f,isToggling:p.isLoading,isFavorite:g,toggleFavorite:v,addToFavorites:b,removeFromFavorites:y,refreshFavorites:_,totalFavorites:i?.length||0,toggleFavoriteMutation:p}};var p2e=e=>{switch(e){case"success":return v2e;case"info":return x2e;case"warning":return y2e;case"error":return b2e;default:return null}},m2e=Array(12).fill(0),g2e=({visible:e,className:t})=>Q.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},Q.createElement("div",{className:"sonner-spinner"},m2e.map((r,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),v2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),y2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),x2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),b2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),w2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_2e=()=>{let[e,t]=Q.useState(document.hidden);return Q.useEffect(()=>{let r=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),e},Rk=1,j2e=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:r,...n}=e,i=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Rk++,s=this.toasts.find(l=>l.id===i),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...e,id:i,title:r}),{...l,...e,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(r=>r({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let r;t.loading!==void 0&&(r=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let n=e instanceof Promise?e:e(),i=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],Q.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(N2e(c)&&!c.ok){i=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${c.status}`):t.error,f=typeof t.description=="function"?await t.description(`HTTP error! status: ${c.status}`):t.description;this.create({id:r,type:"error",message:u,description:f})}else if(t.success!==void 0){i=!1;let u=typeof t.success=="function"?await t.success(c):t.success,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"success",message:u,description:f})}}).catch(async c=>{if(s=["reject",c],t.error!==void 0){i=!1;let u=typeof t.error=="function"?await t.error(c):t.error,f=typeof t.description=="function"?await t.description(c):t.description;this.create({id:r,type:"error",message:u,description:f})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=t.finally)==null||c.call(t)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(e,t)=>{let r=t?.id||Rk++;return this.create({jsx:e(r),id:r,...t}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ji=new j2e,S2e=(e,t)=>{let r=t?.id||Rk++;return Ji.addToast({title:e,...t,id:r}),r},N2e=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",C2e=S2e,E2e=()=>Ji.toasts,P2e=()=>Ji.getActiveToasts(),BN=Object.assign(C2e,{success:Ji.success,info:Ji.info,warning:Ji.warning,error:Ji.error,custom:Ji.custom,message:Ji.message,promise:Ji.promise,dismiss:Ji.dismiss,loading:Ji.loading},{getHistory:E2e,getToasts:P2e});function T2e(e,{insertAt:t}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}T2e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function q0(e){return e.label!==void 0}var k2e=3,A2e="32px",O2e="16px",n5=4e3,R2e=356,M2e=14,I2e=20,L2e=200;function Ca(...e){return e.filter(Boolean).join(" ")}function D2e(e){let[t,r]=e.split("-"),n=[];return t&&n.push(t),r&&n.push(r),n}var $2e=e=>{var t,r,n,i,s,o,l,c,u,f,p;let{invert:g,toast:v,unstyled:b,interacting:y,setHeights:_,visibleToasts:S,heights:N,index:C,toasts:A,expanded:k,removeToast:P,defaultRichColors:O,closeButton:I,style:B,cancelButtonStyle:K,actionButtonStyle:V,className:U="",descriptionClassName:q="",duration:H,position:G,gap:se,loadingIcon:W,expandByDefault:ee,classNames:X,icons:ne,closeButtonAriaLabel:J="Close toast",pauseWhenPageIsHidden:oe}=e,[be,Ce]=Q.useState(null),[Le,ce]=Q.useState(null),[ae,ge]=Q.useState(!1),[he,Pe]=Q.useState(!1),[te,Y]=Q.useState(!1),[_e,xe]=Q.useState(!1),[We,Ue]=Q.useState(!1),[Ne,ot]=Q.useState(0),[Dt,fe]=Q.useState(0),je=Q.useRef(v.duration||H||n5),Ae=Q.useRef(null),Ze=Q.useRef(null),Xe=C===0,me=C+1<=S,De=v.type,Z=v.dismissible!==!1,D=v.className||"",F=v.descriptionClassName||"",le=Q.useMemo(()=>N.findIndex(Nt=>Nt.toastId===v.id)||0,[N,v.id]),ye=Q.useMemo(()=>{var Nt;return(Nt=v.closeButton)!=null?Nt:I},[v.closeButton,I]),Oe=Q.useMemo(()=>v.duration||H||n5,[v.duration,H]),$e=Q.useRef(0),yt=Q.useRef(0),lr=Q.useRef(0),qt=Q.useRef(null),[Yt,Wt]=G.split("-"),Zl=Q.useMemo(()=>N.reduce((Nt,tr,br)=>br>=le?Nt:Nt+tr.height,0),[N,le]),Uo=_2e(),pa=v.invert||g,os=De==="loading";yt.current=Q.useMemo(()=>le*se+Zl,[le,Zl]),Q.useEffect(()=>{je.current=Oe},[Oe]),Q.useEffect(()=>{ge(!0)},[]),Q.useEffect(()=>{let Nt=Ze.current;if(Nt){let tr=Nt.getBoundingClientRect().height;return fe(tr),_(br=>[{toastId:v.id,height:tr,position:v.position},...br]),()=>_(br=>br.filter(ei=>ei.toastId!==v.id))}},[_,v.id]),Q.useLayoutEffect(()=>{if(!ae)return;let Nt=Ze.current,tr=Nt.style.height;Nt.style.height="auto";let br=Nt.getBoundingClientRect().height;Nt.style.height=tr,fe(br),_(ei=>ei.find(qn=>qn.toastId===v.id)?ei.map(qn=>qn.toastId===v.id?{...qn,height:br}:qn):[{toastId:v.id,height:br,position:v.position},...ei])},[ae,v.title,v.description,_,v.id]);let ls=Q.useCallback(()=>{Pe(!0),ot(yt.current),_(Nt=>Nt.filter(tr=>tr.toastId!==v.id)),setTimeout(()=>{P(v)},L2e)},[v,P,_,yt]);Q.useEffect(()=>{if(v.promise&&De==="loading"||v.duration===1/0||v.type==="loading")return;let Nt;return k||y||oe&&Uo?(()=>{if(lr.current<$e.current){let tr=new Date().getTime()-$e.current;je.current=je.current-tr}lr.current=new Date().getTime()})():je.current!==1/0&&($e.current=new Date().getTime(),Nt=setTimeout(()=>{var tr;(tr=v.onAutoClose)==null||tr.call(v,v),ls()},je.current)),()=>clearTimeout(Nt)},[k,y,v,De,oe,Uo,ls]),Q.useEffect(()=>{v.delete&&ls()},[ls,v.delete]);function uf(){var Nt,tr,br;return ne!=null&&ne.loading?Q.createElement("div",{className:Ca(X?.loader,(Nt=v?.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":De==="loading"},ne.loading):W?Q.createElement("div",{className:Ca(X?.loader,(tr=v?.classNames)==null?void 0:tr.loader,"sonner-loader"),"data-visible":De==="loading"},W):Q.createElement(g2e,{className:Ca(X?.loader,(br=v?.classNames)==null?void 0:br.loader),visible:De==="loading"})}return Q.createElement("li",{tabIndex:0,ref:Ze,className:Ca(U,D,X?.toast,(t=v?.classNames)==null?void 0:t.toast,X?.default,X?.[De],(r=v?.classNames)==null?void 0:r[De]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:O,"data-styled":!(v.jsx||v.unstyled||b),"data-mounted":ae,"data-promise":!!v.promise,"data-swiped":We,"data-removed":he,"data-visible":me,"data-y-position":Yt,"data-x-position":Wt,"data-index":C,"data-front":Xe,"data-swiping":te,"data-dismissible":Z,"data-type":De,"data-invert":pa,"data-swipe-out":_e,"data-swipe-direction":Le,"data-expanded":!!(k||ee&&ae),style:{"--index":C,"--toasts-before":C,"--z-index":A.length-C,"--offset":`${he?Ne:yt.current}px`,"--initial-height":ee?"auto":`${Dt}px`,...B,...v.style},onDragEnd:()=>{Y(!1),Ce(null),qt.current=null},onPointerDown:Nt=>{os||!Z||(Ae.current=new Date,ot(yt.current),Nt.target.setPointerCapture(Nt.pointerId),Nt.target.tagName!=="BUTTON"&&(Y(!0),qt.current={x:Nt.clientX,y:Nt.clientY}))},onPointerUp:()=>{var Nt,tr,br,ei;if(_e||!Z)return;qt.current=null;let qn=Number(((Nt=Ze.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ci=Number(((tr=Ze.current)==null?void 0:tr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),cs=new Date().getTime()-((br=Ae.current)==null?void 0:br.getTime()),Tn=be==="x"?qn:ci,$s=Math.abs(Tn)/cs;if(Math.abs(Tn)>=I2e||$s>.11){ot(yt.current),(ei=v.onDismiss)==null||ei.call(v,v),ce(be==="x"?qn>0?"right":"left":ci>0?"down":"up"),ls(),xe(!0),Ue(!1);return}Y(!1),Ce(null)},onPointerMove:Nt=>{var tr,br,ei,qn;if(!qt.current||!Z||((tr=window.getSelection())==null?void 0:tr.toString().length)>0)return;let ci=Nt.clientY-qt.current.y,cs=Nt.clientX-qt.current.x,Tn=(br=e.swipeDirections)!=null?br:D2e(G);!be&&(Math.abs(cs)>1||Math.abs(ci)>1)&&Ce(Math.abs(cs)>Math.abs(ci)?"x":"y");let $s={x:0,y:0};be==="y"?(Tn.includes("top")||Tn.includes("bottom"))&&(Tn.includes("top")&&ci<0||Tn.includes("bottom")&&ci>0)&&($s.y=ci):be==="x"&&(Tn.includes("left")||Tn.includes("right"))&&(Tn.includes("left")&&cs<0||Tn.includes("right")&&cs>0)&&($s.x=cs),(Math.abs($s.x)>0||Math.abs($s.y)>0)&&Ue(!0),(ei=Ze.current)==null||ei.style.setProperty("--swipe-amount-x",`${$s.x}px`),(qn=Ze.current)==null||qn.style.setProperty("--swipe-amount-y",`${$s.y}px`)}},ye&&!v.jsx?Q.createElement("button",{"aria-label":J,"data-disabled":os,"data-close-button":!0,onClick:os||!Z?()=>{}:()=>{var Nt;ls(),(Nt=v.onDismiss)==null||Nt.call(v,v)},className:Ca(X?.closeButton,(i=v?.classNames)==null?void 0:i.closeButton)},(s=ne?.close)!=null?s:w2e):null,v.jsx||x.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:Q.createElement(Q.Fragment,null,De||v.icon||v.promise?Q.createElement("div",{"data-icon":"",className:Ca(X?.icon,(o=v?.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||uf():null,v.type!=="loading"?v.icon||ne?.[De]||p2e(De):null):null,Q.createElement("div",{"data-content":"",className:Ca(X?.content,(l=v?.classNames)==null?void 0:l.content)},Q.createElement("div",{"data-title":"",className:Ca(X?.title,(c=v?.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?Q.createElement("div",{"data-description":"",className:Ca(q,F,X?.description,(u=v?.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),x.isValidElement(v.cancel)?v.cancel:v.cancel&&q0(v.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||K,onClick:Nt=>{var tr,br;q0(v.cancel)&&Z&&((br=(tr=v.cancel).onClick)==null||br.call(tr,Nt),ls())},className:Ca(X?.cancelButton,(f=v?.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,x.isValidElement(v.action)?v.action:v.action&&q0(v.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||V,onClick:Nt=>{var tr,br;q0(v.action)&&((br=(tr=v.action).onClick)==null||br.call(tr,Nt),!Nt.defaultPrevented&&ls())},className:Ca(X?.actionButton,(p=v?.classNames)==null?void 0:p.actionButton)},v.action.label):null))};function i5(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function F2e(e,t){let r={};return[e,t].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?O2e:A2e;function c(u){["top","right","bottom","left"].forEach(f=>{r[`${o}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}x.forwardRef(function(e,t){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:f="light",richColors:p,duration:g,style:v,visibleToasts:b=k2e,toastOptions:y,dir:_=i5(),gap:S=M2e,loadingIcon:N,icons:C,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:k}=e,[P,O]=Q.useState([]),I=Q.useMemo(()=>Array.from(new Set([n].concat(P.filter(oe=>oe.position).map(oe=>oe.position)))),[P,n]),[B,K]=Q.useState([]),[V,U]=Q.useState(!1),[q,H]=Q.useState(!1),[G,se]=Q.useState(f!=="system"?f:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),W=Q.useRef(null),ee=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),X=Q.useRef(null),ne=Q.useRef(!1),J=Q.useCallback(oe=>{O(be=>{var Ce;return(Ce=be.find(Le=>Le.id===oe.id))!=null&&Ce.delete||Ji.dismiss(oe.id),be.filter(({id:Le})=>Le!==oe.id)})},[]);return Q.useEffect(()=>Ji.subscribe(oe=>{if(oe.dismiss){O(be=>be.map(Ce=>Ce.id===oe.id?{...Ce,delete:!0}:Ce));return}setTimeout(()=>{l_.flushSync(()=>{O(be=>{let Ce=be.findIndex(Le=>Le.id===oe.id);return Ce!==-1?[...be.slice(0,Ce),{...be[Ce],...oe},...be.slice(Ce+1)]:[oe,...be]})})})}),[]),Q.useEffect(()=>{if(f!=="system"){se(f);return}if(f==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:be})=>{se(be?"dark":"light")})}catch{oe.addListener(({matches:Ce})=>{try{se(Ce?"dark":"light")}catch(Le){console.error(Le)}})}},[f]),Q.useEffect(()=>{P.length<=1&&U(!1)},[P]),Q.useEffect(()=>{let oe=be=>{var Ce,Le;i.every(ce=>be[ce]||be.code===ce)&&(U(!0),(Ce=W.current)==null||Ce.focus()),be.code==="Escape"&&(document.activeElement===W.current||(Le=W.current)!=null&&Le.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[i]),Q.useEffect(()=>{if(W.current)return()=>{X.current&&(X.current.focus({preventScroll:!0}),X.current=null,ne.current=!1)}},[W.current]),Q.createElement("section",{ref:t,"aria-label":`${A} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((oe,be)=>{var Ce;let[Le,ce]=oe.split("-");return P.length?Q.createElement("ol",{key:oe,dir:_==="auto"?i5():_,tabIndex:-1,ref:W,className:l,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":Le,"data-lifted":V&&P.length>1&&!s,"data-x-position":ce,style:{"--front-toast-height":`${((Ce=B[0])==null?void 0:Ce.height)||0}px`,"--width":`${R2e}px`,"--gap":`${S}px`,...v,...F2e(c,u)},onBlur:ae=>{ne.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(ne.current=!1,X.current&&(X.current.focus({preventScroll:!0}),X.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,X.current=ae.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{q||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},P.filter(ae=>!ae.position&&be===0||ae.position===oe).map((ae,ge)=>{var he,Pe;return Q.createElement($2e,{key:ae.id,icons:C,index:ge,toast:ae,defaultRichColors:p,duration:(he=y?.duration)!=null?he:g,className:y?.className,descriptionClassName:y?.descriptionClassName,invert:r,visibleToasts:b,closeButton:(Pe=y?.closeButton)!=null?Pe:o,interacting:q,position:oe,style:y?.style,unstyled:y?.unstyled,classNames:y?.classNames,cancelButtonStyle:y?.cancelButtonStyle,actionButtonStyle:y?.actionButtonStyle,removeToast:J,toasts:P.filter(te=>te.position==ae.position),heights:B.filter(te=>te.position==ae.position),setHeights:K,expandByDefault:s,gap:S,loadingIcon:N,expanded:V,pauseWhenPageIsHidden:k,swipeDirections:e.swipeDirections})})):null}))});const B2e=(e,t={})=>{const[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState({}),[f,p]=x.useState(null),g=x.useCallback(async(k={})=>{if(e)try{s(!0),l(null);const{comments:P,pagination:O,error:I}=await lh.getComments(e,{...t,...k});if(I)throw new Error(I);n(P),u(O)}catch(P){l(P.message),console.error("Erreur lors du chargement des commentaires:",P)}finally{s(!1)}},[e,t]),v=x.useCallback(async()=>{if(e)try{const{stats:k,error:P}=await lh.getCommentStats(e);if(P){console.error("Erreur lors du chargement des stats:",P);return}p(k)}catch(k){console.error("Erreur lors du chargement des statistiques:",k)}},[e]),b=x.useCallback(async k=>{try{l(null);const{comment:P,error:O}=await lh.createComment({...k,listing_id:e});if(O)throw new Error(O);return n(I=>[P,...I]),v(),{comment:P,error:null}}catch(P){const O=P.message;return l(O),{comment:null,error:O}}},[e,v]),y=x.useCallback(async(k,P)=>{try{l(null);const{comment:O,error:I}=await lh.updateComment(k,P);if(I)throw new Error(I);return n(B=>B.map(K=>K.id===k?O:K)),{comment:O,error:null}}catch(O){const I=O.message;return l(I),{comment:null,error:I}}},[]),_=x.useCallback(async k=>{try{l(null);const{error:P}=await lh.deleteComment(k);if(P)throw new Error(P);return n(O=>O.filter(I=>I.id!==k)),v(),{error:null}}catch(P){const O=P.message;return l(O),{error:O}}},[v]),S=x.useCallback(async(k,P)=>{try{l(null);const{report:O,error:I}=await lh.reportComment(k,P);if(I)throw new Error(I);return{report:O,error:null}}catch(O){const I=O.message;return l(I),{report:null,error:I}}},[]),N=x.useCallback(k=>{g({page:k})},[g]),C=x.useCallback(k=>{g({...k,page:1})},[g]),A=x.useCallback(()=>{g(),v()},[g,v]);return x.useEffect(()=>{e&&(g(),v())},[e,g,v]),{comments:r,loading:i,error:o,pagination:c,stats:f,fetchComments:g,addComment:b,updateComment:y,deleteComment:_,reportComment:S,changePage:N,changeFilters:C,refresh:A,fetchStats:v}},z2e=(e,t)=>{const[r,n]=x.useState(new Set),[i,s]=x.useState(new Map),o=x.useRef(new Map);x.useEffect(()=>()=>{o.current.forEach(f=>f.abort()),o.current.clear()},[]),x.useEffect(()=>{if(!e||e.length===0)return;[e[t],e[(t+1)%e.length],e[(t-1+e.length)%e.length],e[(t+2)%e.length],e[(t-2+e.length)%e.length]].filter(Boolean).forEach((p,g)=>{if(p&&!r.has(p)&&!i.has(p)){o.current.has(p)&&o.current.get(p).abort();const v=new AbortController;o.current.set(p,v),s(y=>new Map(y).set(p,"loading"));const b=new Image;b.onload=()=>{n(y=>new Set([...y,p])),s(y=>{const _=new Map(y);return _.set(p,"loaded"),_}),o.current.delete(p)},b.onerror=()=>{s(y=>{const _=new Map(y);return _.set(p,"error"),_}),o.current.delete(p)},b.src=p}})},[t,e]);const l=x.useCallback(f=>r.has(f),[r]),c=x.useCallback(f=>i.get(f)||"idle",[i]),u=x.useCallback(f=>{if(f&&!r.has(f)&&!i.has(f)){const p=new AbortController;o.current.set(f,p),s(v=>new Map(v).set(f,"loading"));const g=new Image;g.onload=()=>{n(v=>new Set([...v,f])),s(v=>{const b=new Map(v);return b.set(f,"loaded"),b}),o.current.delete(f)},g.onerror=()=>{s(v=>{const b=new Map(v);return b.set(f,"error"),b}),o.current.delete(f)},g.src=f}},[r,i]);return{preloadedImages:r,loadingStates:i,isImagePreloaded:l,getImageLoadingState:c,preloadImage:u}},EJ=e=>{const t=x.useMemo(()=>{if(e?.images&&e.images.length>0){const l=e.images.map(c=>typeof c=="string"?c:c?.url?c.url:c?.file?URL.createObjectURL(c.file):c?.src?c.src:c?.displayUrl?c.displayUrl:null).filter(Boolean);if(l.length>0)return l}const i={real_estate:["https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop"],automobile:["https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop"],services:["https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],marketplace:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742044-3c52d6e88c62?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop"]};let s=e?.category;s&&(s={immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[s.toLowerCase()]||s);const o=i[s]||i.marketplace;return mye(o,"gallery","medium")},[e?.images,e?.category]),r=x.useMemo(()=>t[0],[t]),n=x.useMemo(()=>t.length>1,[t]);return{images:t,mainImage:r,hasMultipleImages:n,imageCount:t.length}},q2e=(e={})=>{const{onSwipeLeft:t,onSwipeRight:r,onSwipeUp:n,onSwipeDown:i,onPinch:s,onDoubleTap:o,minSwipeDistance:l=50,minPinchDistance:c=10,doubleTapDelay:u=300}=e,[f,p]=x.useState({startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}),g=x.useRef(null),v=x.useRef(null),b=x.useRef(0),y=x.useCallback((O,I)=>Math.hypot(O.clientX-I.clientX,O.clientY-I.clientY),[]),_=x.useCallback((O,I)=>Math.atan2(I.clientY-O.clientY,I.clientX-O.clientX)*180/Math.PI,[]),S=x.useCallback(O=>{const I=Date.now(),B=Array.from(O.touches);if(B.length===2){const K=y(B[0],B[1]),V=_(B[0],B[1]);p(U=>({...U,startDistance:K,startAngle:V,isPinching:!0,startTime:I}))}else if(B.length===1){const K=B[0];if(I-b.current<u){p(U=>({...U,isDoubleTap:!0})),o?.(K),setTimeout(()=>{p(U=>({...U,isDoubleTap:!1}))},100);return}b.current=I,p(U=>({...U,startX:K.clientX,startY:K.clientY,startTime:I,isPinching:!1}))}},[y,_,o,u]),N=x.useCallback(O=>{O.preventDefault();const I=Array.from(O.touches);if(f.isPinching&&I.length===2){const B=y(I[0],I[1]),K=_(I[0],I[1]),V=B-f.startDistance,U=K-f.startAngle;if(Math.abs(V)>c){const q=B/f.startDistance;s?.({scale:q,distanceDelta:V,angleDelta:U,center:{x:(I[0].clientX+I[1].clientX)/2,y:(I[0].clientY+I[1].clientY)/2}})}}},[f,y,_,c,s]),C=x.useCallback(O=>{const I=Array.from(O.changedTouches);if(f.isPinching){p(B=>({...B,isPinching:!1}));return}if(I.length===1&&!f.isDoubleTap){const B=I[0],K=B.clientX-f.startX,V=B.clientY-f.startY,U=Date.now()-f.startTime,q=Math.hypot(K,V),H=q/U;q>l&&H>.3&&(Math.abs(K)>Math.abs(V)?K>0?r?.({deltaX:K,deltaY:V,velocity:H,distance:q}):t?.({deltaX:K,deltaY:V,velocity:H,distance:q}):V>0?i?.({deltaX:K,deltaY:V,velocity:H,distance:q}):n?.({deltaX:K,deltaY:V,velocity:H,distance:q}))}p(B=>({...B,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1}))},[f,l,t,r,n,i]),A=x.useCallback(()=>{p(O=>({...O,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}))},[]),k=x.useCallback(()=>{g.current&&clearTimeout(g.current),v.current&&clearTimeout(v.current)},[]);return{touchHandlers:{onTouchStart:S,onTouchMove:N,onTouchEnd:C,onTouchCancel:A},touchState:f,cleanup:k}},U2e=(e,t,r)=>{const[n,i]=x.useState(1),[s,o]=x.useState(!1),l=x.useCallback(({scale:g})=>{const v=Math.max(.5,Math.min(3,g));i(v),o(!0),r?.(v)},[r]),c=x.useCallback(()=>{n<=1&&e?.()},[e,n]),u=x.useCallback(()=>{n<=1&&t?.()},[t,n]),{touchHandlers:f}=q2e({onSwipeLeft:c,onSwipeRight:u,onPinch:l,minSwipeDistance:30}),p=x.useCallback(()=>{i(1),o(!1),r?.(1)},[r]);return{touchHandlers:f,zoomLevel:n,isZooming:s,resetZoom:p}},V2e=({listingId:e,listing:t,size:r="default",showActions:n=!0,className:i=""})=>{const{user:s}=jr(),o=Bn(),{toast:l}=Zr(),[c,u]=x.useState(null),[f,p]=x.useState(!1),[g,v]=x.useState(!1);x.useEffect(()=>{e&&s&&b()},[e,s]);const b=async()=>{try{p(!0);const O=await RS.getBoostStatus(e);u(O)}catch(O){console.error("Erreur chargement statut boost:",O)}finally{p(!1)}},y=async()=>{if(c?.currentBoost)try{v(!0),(await RS.renewBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost renouvelé !",description:"Votre boost a été prolongé avec succès."}),b())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors du renouvellement",variant:"destructive"})}finally{v(!1)}},_=async()=>{if(c?.currentBoost&&confirm("Êtes-vous sûr de vouloir annuler ce boost ?"))try{v(!0),(await RS.cancelBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost annulé",description:"Votre boost a été annulé avec succès."}),b())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors de l'annulation",variant:"destructive"})}finally{v(!1)}},S=()=>{if(!c?.hasActiveBoost)return{icon:a.jsx(T7,{className:"h-4 w-4"}),label:"Non boosté",color:"secondary",description:"Aucun boost actif"};const O=c.currentBoost,I=new Date,B=new Date(O.end_date),K=Math.ceil((B-I)/(1e3*60*60*24));return K<=0?{icon:a.jsx(la,{className:"h-4 w-4"}),label:"Expiré",color:"secondary",description:"Boost expiré"}:K<=3?{icon:a.jsx(la,{className:"h-4 w-4"}),label:`${K}j restant${K>1?"s":""}`,color:"destructive",description:"Boost expire bientôt"}:K<=7?{icon:a.jsx(sa,{className:"h-4 w-4"}),label:`${K}j restant${K>1?"s":""}`,color:"default",description:"Boost actif"}:{icon:a.jsx(Yn,{className:"h-4 w-4"}),label:`${K}j restant${K>1?"s":""}`,color:"default",description:"Boost actif"}},N=O=>{switch(O){case"small":return"text-xs px-2 py-1";case"large":return"text-sm px-3 py-1.5";default:return"text-xs px-2.5 py-1"}},C=O=>{switch(O){case"small":return"h-3 w-3";case"large":return"h-5 w-5";default:return"h-4 w-4"}},A=S(),k=N(r),P=C(r);return!s||!t||s.id!==t.user_id?null:a.jsx(Sh,{children:a.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(mt,{variant:A.color,className:`${k} cursor-help transition-all duration-200 hover:scale-105`,children:a.jsxs("div",{className:"flex items-center gap-1",children:[A.icon,a.jsx("span",{className:"hidden sm:inline",children:A.label})]})})}),a.jsxs(Da,{children:[a.jsx("p",{children:A.description}),c?.hasActiveBoost&&c.currentBoost&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Package: ",c.currentBoost.boost_packages?.name]})]})]}),n&&c?.hasActiveBoost&&c.currentBoost&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{onClick:y,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(Kd,{className:`${P} text-primary`})})}),a.jsx(Da,{children:a.jsx("p",{children:"Renouveler le boost"})})]}),a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{onClick:_,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10",children:a.jsx(ZO,{className:`${P} text-destructive`})})}),a.jsx(Da,{children:a.jsx("p",{children:"Annuler le boost"})})]}),a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${e}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-500/10",children:a.jsx(dd,{className:`${P} text-blue-500`})})}),a.jsx(Da,{children:a.jsx("p",{children:"Voir les détails et analytics"})})]})]}),n&&!c?.hasActiveBoost&&a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${e}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(sa,{className:`${P} text-primary`})})}),a.jsx(Da,{children:a.jsx("p",{children:"Booster cette annonce"})})]}),f&&a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),g&&a.jsx(Re.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"})]})})},PJ=({listing:e,variant:t="default"})=>{const{toast:r}=Zr(),[n,i]=x.useState(!1),s=`${window.location.origin}/annonce/${e.id}`,o=v=>{const b=`🏠 Découvrez cette annonce sur MaxiMarket : ${e.title}`;switch(v){case"facebook":return`${b}

💰 Prix : ${e.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(e.price):"Prix sur demande"}

📍 ${e.location?.city||"Localisation non spécifiée"}`;case"instagram":return`${b}

💰 ${e.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(e.price):"Prix sur demande"}
📍 ${e.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique`;case"tiktok":return`${b}
💰 ${e.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(e.price):"Prix sur demande"}
📍 ${e.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique #FYP`;case"whatsapp":return`${b}

💰 Prix : ${e.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(e.price):"Prix sur demande"}
📍 ${e.location?.city||"Localisation non spécifiée"}

${s}`;default:return b}},l=()=>{i(!0);const v=o("facebook"),b=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}&quote=${encodeURIComponent(v)}`;window.open(b,"_blank","width=600,height=500,scrollbars=yes,resizable=yes"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur Facebook",description:"L'annonce a été partagée sur Facebook"})},c=()=>{i(!0),navigator.clipboard.writeText(s).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez Instagram et collez-le dans votre story ou post."}),window.open("https://www.instagram.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},u=()=>{i(!0),navigator.clipboard.writeText(s).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez TikTok et collez-le dans votre vidéo ou description."}),window.open("https://www.tiktok.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},f=()=>{i(!0);const v=o("whatsapp"),b=`https://wa.me/?text=${encodeURIComponent(v)}`;window.open(b,"_blank"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur WhatsApp",description:"L'annonce a été partagée sur WhatsApp"})},p=async()=>{try{await navigator.clipboard.writeText(s),r({title:"Lien copié !",description:"Le lien de l'annonce a été copié dans le presse-papiers."})}catch{r({title:"Erreur",description:"Impossible de copier le lien.",variant:"destructive"})}},g=()=>{window.open(s,"_blank")};return t==="compact"?a.jsxs(tf,{children:[a.jsx(rf,{asChild:!0,children:a.jsxs(ue,{variant:"outline",size:"sm",disabled:n,className:"flex items-center space-x-2",children:[a.jsx(AT,{className:"h-4 w-4"}),a.jsx("span",{children:"Partager"})]})}),a.jsxs(vu,{align:"end",className:"w-48",children:[a.jsxs(xr,{onClick:l,children:[a.jsx(ET,{className:"h-4 w-4 mr-2 text-blue-600"}),"Facebook"]}),a.jsxs(xr,{onClick:c,children:[a.jsx(PT,{className:"h-4 w-4 mr-2 text-pink-600"}),"Instagram"]}),a.jsxs(xr,{onClick:u,children:[a.jsx("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),"TikTok"]}),a.jsxs(xr,{onClick:f,children:[a.jsx("svg",{className:"h-4 w-4 mr-2 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"WhatsApp"]}),a.jsxs(xr,{onClick:p,children:[a.jsx(S$,{className:"h-4 w-4 mr-2"}),"Copier le lien"]}),a.jsxs(xr,{onClick:g,children:[a.jsx(cv,{className:"h-4 w-4 mr-2"}),"Ouvrir l'annonce"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(AT,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:"Partager cette annonce"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:l,disabled:n,className:"flex items-center space-x-2 bg-blue-50 hover:bg-blue-100 border-blue-200",children:[a.jsx(ET,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{children:"Facebook"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:c,disabled:n,className:"flex items-center space-x-2 bg-pink-50 hover:bg-pink-100 border-pink-200",children:[a.jsx(PT,{className:"h-4 w-4 text-pink-600"}),a.jsx("span",{children:"Instagram"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:u,disabled:n,className:"flex items-center space-x-2 bg-black hover:bg-gray-800 text-white border-gray-700",children:[a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),a.jsx("span",{children:"TikTok"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:f,disabled:n,className:"flex items-center space-x-2 bg-green-50 hover:bg-green-100 border-green-200",children:[a.jsx("svg",{className:"h-4 w-4 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:p,className:"flex items-center space-x-2",children:[a.jsx(S$,{className:"h-4 w-4"}),a.jsx("span",{children:"Copier le lien"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:g,className:"flex items-center space-x-2",children:[a.jsx(cv,{className:"h-4 w-4"}),a.jsx("span",{children:"Ouvrir l'annonce"})]})]})]})},pu=({listing:e,onToggleFavorite:t,showActions:r=!0})=>{const{user:n}=jr(),i=Bn(),{images:s}=EJ(e),[o,l]=x.useState(e.is_favorite||!1),[c,u]=x.useState(!1),f=S=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(S),p=S=>new Date(S).toLocaleDateString("fr-FR",{day:"numeric",month:"short",year:"numeric"}),g=S=>{switch(S){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},v=S=>{const N="text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap";switch(S){case"approved":return a.jsx(mt,{variant:"default",className:`badge-approved ${N}`,children:"Approuvé"});case"pending":return a.jsx(mt,{variant:"secondary",className:N,children:"En attente"});case"rejected":return a.jsx(mt,{variant:"destructive",className:N,children:"Rejeté"});default:return a.jsx(mt,{variant:"outline",className:N,children:S})}},b=async S=>{if(S.stopPropagation(),!n){i("/connexion");return}if(!c)try{u(!0),l(!o),t&&await t(e.id)}catch(N){l(!o),console.error("Erreur lors du basculement des favoris:",N)}finally{u(!1)}},y=()=>{e.id&&i(`/annonce/${e.id}`)};Q.useEffect(()=>{l(e.is_favorite||!1)},[e.is_favorite]);const _=e.featured||e.boosted||e.is_premium||e.premium;return a.jsxs(Re.div,{whileHover:{y:-4},className:qe("group rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",_?"bg-gradient-to-br from-amber-50/50 to-yellow-100/50 border-2 border-amber-300/50 shadow-amber-200/50":"bg-card border border-border/50"),onClick:y,children:[a.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 bg-muted overflow-hidden",children:[a.jsx(uH,{images:s,title:e.title,className:"h-full"}),a.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 sm:flex-row sm:gap-2 items-start",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(mt,{variant:"secondary",className:"bg-black/70 text-white text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center",children:[g(e.category)," ",e.category==="real_estate"?"Immobilier":e.category==="automobile"?"Automobile":e.category==="services"?"Services":"Marketplace"]})}),e.status==="approved"&&_?a.jsx("span",{className:"hidden sm:inline-flex",children:v(e.status)}):v(e.status)]})}),r&&a.jsx(Re.button,{onClick:b,disabled:c,className:`absolute top-2 right-2 p-1.5 sm:p-2 rounded-full transition-all duration-200 ${o?"bg-red-500 hover:bg-red-600 text-white":"bg-black/20 hover:bg-black/40 text-white"} ${c?"opacity-50 cursor-not-allowed":""}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Ao,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o?"fill-current":""}`})})]}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 truncate group-hover:text-primary transition-colors",children:e.title}),a.jsxs("div",{className:"flex items-center text-muted-foreground mb-2 sm:mb-3",children:[a.jsx(No,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate text-sm sm:text-base",children:e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:e.location?.city||e.location?.country||"Localisation non spécifiée"})]}),a.jsx("div",{className:qe("text-xl sm:text-2xl font-bold mb-2 sm:mb-3",_?"text-slate-800":"text-primary"),children:e.price?f(e.price):"Prix sur demande"}),a.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-sm sm:text-base line-clamp-2 sm:line-clamp-2",children:e.description||"Aucune description disponible"}),_&&a.jsx("div",{className:"mb-3",children:a.jsx(mt,{variant:"secondary",className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-300 text-xs font-medium",children:"⭐ Premium"})}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ul,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.created_at?p(e.created_at):"Date inconnue"})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.views_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ml,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.views_count})]}),e.favorites_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ao,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:e.favorites_count})]})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-border/20",children:a.jsx(PJ,{listing:e,variant:"compact"})}),a.jsx(V2e,{listingId:e.id,listing:e,size:"small",showActions:r,className:"mt-3 pt-3 border-t border-border/20"})]})]})},W2e=()=>{const e=Bn(),{user:t}=jr(),[r,n]=x.useState([]),[i,s]=x.useState(!0),[o,l]=x.useState(null),[c,u]=x.useState([]),[f,p]=x.useState(!0),[g,v]=x.useState(null);x.useEffect(()=>{let S;const N=async()=>{try{s(!0);const A=await zr.getTopViewedListings(6);n(A||[])}catch(A){l(A?.message||"Erreur lors du chargement des annonces populaires")}finally{s(!1)}},C=async()=>{try{p(!0);const A=await zr.getPremiumListings(10);u(A?.data||[])}catch(A){v(A?.message||"Erreur lors du chargement des annonces premium")}finally{p(!1)}};return N(),C(),S=setInterval(()=>{N(),C()},18e5),()=>clearInterval(S)},[]);const b={hidden:{opacity:0,y:20},visible:S=>({opacity:1,y:0,transition:{delay:S*.1,duration:.5,ease:"easeOut"}})},y=[{name:"Immobilier",icon:a.jsx(Que,{className:"h-10 w-10 mb-3 text-primary"}),path:"/immobilier",description:"Maisons, appartements, terrains."},{name:"Automobile",icon:a.jsx(Hue,{className:"h-10 w-10 mb-3 text-primary"}),path:"/automobile",description:"Voitures, motos, utilitaires."},{name:"Services Pro",icon:a.jsx(Od,{className:"h-10 w-10 mb-3 text-primary"}),path:"/services",description:"Experts qualifiés à votre service."},{name:"Marketplace",icon:a.jsx(Gd,{className:"h-10 w-10 mb-3 text-primary"}),path:"/marketplace",description:"Produits neufs et d'occasion."}],_=S=>{e(S)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20 text-foreground",children:[a.jsxs(Re.section,{className:"relative h-screen py-24 md:py-40 bg-cover bg-center overflow-hidden flex items-center justify-center",initial:{opacity:0},animate:{opacity:1},transition:{duration:1},children:[a.jsx("img",{src:"https://images.unsplash.com/photo-1508896080210-93c377eb4135",alt:"Skyline futuriste d'une ville africaine au crépuscule avec des néons",className:"absolute inset-0 w-full h-full object-cover",style:{minHeight:"100vh"}}),a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),a.jsxs("div",{className:"container mx-auto px-4 md:px-6 relative z-10 text-center",children:[a.jsx(Re.div,{className:"inline-block p-2 bg-primary/20 rounded-full mb-6",initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.1,type:"spring",stiffness:200},children:a.jsx(XO,{className:"h-10 w-10 text-primary"})}),a.jsxs(Re.h1,{className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.2},children:["Bienvenue sur"," ",a.jsx("span",{className:"gradient-text",children:sr.siteName})]}),a.jsxs(Re.p,{className:"text-xl md:text-2xl text-gray-300 mb-10 max-w-3xl mx-auto",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},children:[sr.tagline,". Explorez, découvrez, connectez."]}),a.jsx(Re.div,{className:"max-w-2xl mx-auto",initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.6},children:a.jsx("div",{className:"relative",children:a.jsxs("form",{onSubmit:S=>{S.preventDefault();const A=S.currentTarget.querySelector('input[name="q"]')?.value||"",{section:k,params:P}=IT(A),O=new URLSearchParams(P);e(`${k==="immobilier"?"/immobilier":k==="automobile"?"/automobile":k==="services"?"/services":"/marketplace"}?${O.toString()}`)},children:[a.jsx(tt,{name:"q",type:"search",placeholder:"Que recherchez-vous sur MaxiMarket ?",className:"w-full py-4 px-6 pr-16 rounded-full text-lg bg-white/10 text-white placeholder-gray-400 border-2 border-transparent focus:border-primary focus:ring-primary focus:outline-none backdrop-blur-md h-16"}),a.jsx(ue,{type:"submit",size:"lg",className:"absolute right-2 top-1/2 transform -translate-y-1/2 rounded-full bg-primary hover:bg-primary/90 h-12 w-12 p-0",children:a.jsx(vde,{className:"h-6 w-6 text-white"})})]})})})]}),a.jsx("div",{className:"absolute bottom-0 left-0 w-full h-24 bg-gradient-to-t from-background to-transparent"})]}),a.jsx("section",{className:"py-16 md:py-24",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Explorez nos ",a.jsx("span",{className:"gradient-text",children:"Univers"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:y.map((S,N)=>a.jsxs(Re.div,{custom:N,variants:b,initial:"hidden",animate:"visible",onClick:()=>_(S.path),className:"bg-card p-6 rounded-xl shadow-2xl hover:shadow-primary/40 transition-all duration-300 transform hover:-translate-y-2 flex flex-col items-center text-center glassmorphic-card border border-transparent hover:border-primary/50 cursor-pointer group",children:[S.icon,a.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:S.name}),a.jsx("p",{className:"text-muted-foreground text-sm mb-5 flex-grow group-hover:text-primary/80 transition-colors",children:S.description}),a.jsxs("div",{className:"w-full border border-primary/50 rounded-md px-4 py-2 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300",children:["Découvrir"," ",a.jsx(jl,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform inline"})]})]},S.name))})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["⭐ Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),g&&a.jsx("p",{className:"text-center text-destructive mb-8",children:g}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[f&&!c.length&&Array.from({length:10}).map((S,N)=>a.jsxs("div",{className:"bg-gradient-to-br from-amber-50/80 to-yellow-100/80 rounded-lg shadow-xl overflow-hidden glassmorphic-card border-2 border-amber-300/50",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-gradient-to-r from-amber-300/50 to-yellow-300/50 rounded animate-pulse"})]})]},N)),!f&&c.length===0&&a.jsxs("div",{className:"col-span-full text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium pour le moment"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Soyez le premier à passer premium et boostez votre visibilité !"}),a.jsx(ue,{onClick:()=>e("/creer-annonce"),variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Créer une Annonce Premium"})]}),c.slice(0,10).map(S=>a.jsx(pu,{listing:S,showActions:!1},S.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white shadow-lg",onClick:()=>e("/premium"),children:["Voir Toutes les Annonces Premium"," ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Populaires"})]}),o&&a.jsx("p",{className:"text-center text-destructive mb-8",children:o}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[i&&!r.length&&Array.from({length:6}).map((S,N)=>a.jsxs("div",{className:"bg-card rounded-lg shadow-xl overflow-hidden glassmorphic-card border border-transparent",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-muted rounded animate-pulse"})]})]},N)),!i&&r.length===0&&a.jsx("p",{className:"col-span-full text-center text-muted-foreground",children:"Aucune annonce populaire pour le moment."}),r.slice(0,6).map(S=>a.jsx(pu,{listing:S,showActions:!1},S.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-primary-foreground",onClick:()=>e("/marketplace?sort=popular&per=24"),children:["Voir Toutes les Annonces ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-20 md:py-32",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[a.jsxs(Re.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Prêt à ",a.jsx("span",{className:"gradient-text",children:"Rejoindre MaxiMarket"})," ?"]}),a.jsx(Re.p,{className:"text-lg text-muted-foreground mb-10 max-w-xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Créez un compte, publiez votre première annonce ou trouvez l'affaire parfaite en quelques clics."}),a.jsxs(Re.div,{className:"space-y-4 sm:space-y-0 sm:flex sm:justify-center sm:space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground w-full sm:w-auto",onClick:()=>{t?e("/creer-annonce"):e("/connexion",{state:{from:"/creer-annonce"}})},children:"Publier une Annonce"}),a.jsx(ue,{size:"lg",variant:"outline",className:"w-full sm:w-auto",onClick:()=>e("/inscription"),children:"Créer un Compte"})]})]})})]})},H2e=()=>{const{user:e}=jr(),t=Bn(),r=Ci(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,type:"",minPrice:s,maxPrice:o}),{listings:f,loading:p,error:g,hasMore:v,loadMore:b}=a1("real_estate",c),{toggleFavorite:y}=h2e(),_=A=>{A.preventDefault()},S=(A,k)=>{u(P=>({...P,[A]:k}))},N=()=>{u({search:"",location:"",type:"",minPrice:"",maxPrice:""})},C=()=>{if(!e){t("/connexion");return}t("/creer-annonce/real-estate")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-green-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-emerald",children:"Immobilier"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Appartements, maisons, terrains et locaux commerciaux. Trouvez votre prochaine propriété ou investissement ici."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Entrez une ville, quartier, mots-clés...",value:c.search,onChange:A=>S("search",A.target.value),className:"pl-10"}),a.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"minPrice",className:"block text-sm font-medium mb-1",children:"Prix min"}),a.jsx(tt,{id:"minPrice",type:"number",placeholder:"0",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium mb-1",children:"Prix max"}),a.jsx(tt,{id:"maxPrice",type:"number",placeholder:"∞",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"flex-1",children:[a.jsx(Jn,{className:"mr-2 h-4 w-4"}),"Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",onClick:N,children:a.jsx(Fi,{className:"h-4 w-4"})})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center mb-12",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:"Publier une annonce immobilière"})}),p&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Mr,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des annonces..."})]}),g&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Pn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!p&&f.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((A,k)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:k*.1},children:a.jsx(pu,{listing:A,onToggleFavorite:y})},A.id))}),!p&&!g&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucune annonce immobilière ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&f.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:b,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus d'annonces ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[f.length," annonce",f.length>1?"s":""," immobilière",f.length>1?"s":""," trouvée",f.length>1?"s":""]})})]})})},K2e=()=>{const{user:e}=jr(),t=Bn(),r=Ci(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",c=n.get("brand")||"",[u,f]=x.useState({search:i,location:l,brand:c,minPrice:s,maxPrice:o,year:"",fuel:""}),{listings:p,loading:g,error:v,hasMore:b,loadMore:y,toggleFavorite:_}=a1("automobile",u),S=k=>{k.preventDefault()},N=(k,P)=>{f(O=>({...O,[k]:P}))},C=()=>{f({search:"",location:"",brand:"",minPrice:"",maxPrice:"",year:"",fuel:""})},A=()=>{if(!e){t("/connexion");return}t("/creer-annonce/automobile")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-blue-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-blue",children:"Automobile"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Voitures, motos, utilitaires et pièces détachées. Trouvez votre prochain véhicule ou vendez le vôtre ici."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Marque, modèle, mots-clés...",className:"pl-10 h-12 text-base",value:u.search,onChange:k=>N("search",k.target.value)}),a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",className:"h-12 text-base",value:u.location,onChange:k=>N("location",k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",children:"Marque"}),a.jsxs("select",{id:"brand",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.brand,onChange:k=>N("brand",k.target.value),children:[a.jsx("option",{value:"",children:"Toutes marques"}),a.jsx("option",{value:"Toyota",children:"Toyota"}),a.jsx("option",{value:"Peugeot",children:"Peugeot"}),a.jsx("option",{value:"Renault",children:"Renault"}),a.jsx("option",{value:"Citroën",children:"Citroën"}),a.jsx("option",{value:"Ford",children:"Ford"}),a.jsx("option",{value:"Volkswagen",children:"Volkswagen"}),a.jsx("option",{value:"BMW",children:"BMW"}),a.jsx("option",{value:"Mercedes",children:"Mercedes"}),a.jsx("option",{value:"Audi",children:"Audi"}),a.jsx("option",{value:"Honda",children:"Honda"}),a.jsx("option",{value:"Nissan",children:"Nissan"}),a.jsx("option",{value:"Hyundai",children:"Hyundai"}),a.jsx("option",{value:"Kia",children:"Kia"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium mb-1",children:"Année"}),a.jsxs("select",{id:"year",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.year,onChange:k=>N("year",k.target.value),children:[a.jsx("option",{value:"",children:"Toutes années"}),Array.from({length:25},(k,P)=>2024-P).map(k=>a.jsx("option",{value:k,children:k},k))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fuel",className:"block text-sm font-medium mb-1",children:"Carburant"}),a.jsxs("select",{id:"fuel",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.fuel,onChange:k=>N("fuel",k.target.value),children:[a.jsx("option",{value:"",children:"Tous carburants"}),a.jsx("option",{value:"essence",children:"Essence"}),a.jsx("option",{value:"diesel",children:"Diesel"}),a.jsx("option",{value:"hybride",children:"Hybride"}),a.jsx("option",{value:"electrique",children:"Électrique"}),a.jsx("option",{value:"gpl",children:"GPL"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(Fi,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:C,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:A,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🚗 Publier une annonce automobile"})}),g&&p.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Mr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des véhicules..."})]}),v&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Pn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!g&&p.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:p.map((k,P)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:P*.1},children:a.jsx(pu,{listing:k,onToggleFavorite:_})},k.id))}),!g&&!v&&p.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚗"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun véhicule trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun véhicule ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:C,variant:"outline",children:"Effacer les filtres"})]}),b&&p.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de véhicules ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),p.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[p.length," véhicule",p.length>1?"s":""," trouvé",p.length>1?"s":""]})})]})})},G2e=()=>{const{user:e}=jr(),t=Bn(),r=Ci(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=x.useState({search:i,location:l,serviceType:"",minPrice:s,maxPrice:o}),{listings:f,loading:p,error:g,hasMore:v,loadMore:b,toggleFavorite:y}=a1("services",c),_=A=>{A.preventDefault()},S=(A,k)=>{u(P=>({...P,[A]:k}))},N=()=>{u({search:"",location:"",serviceType:"",minPrice:"",maxPrice:""})},C=()=>{if(!e){t("/connexion");return}t("/creer-annonce/services")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur des ",a.jsx("span",{className:"gradient-text-purple",children:"Services"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Plomberie, électricité, cours particuliers, événementiel et bien plus. Trouvez le service dont vous avez besoin."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Type de service, mots-clés...",className:"pl-10 h-12 text-base",value:c.search,onChange:A=>S("search",A.target.value)}),a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"service-type",className:"block text-sm font-medium mb-1",children:"Type de service"}),a.jsxs("select",{id:"service-type",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:c.serviceType,onChange:A=>S("serviceType",A.target.value),children:[a.jsx("option",{value:"",children:"Tous services"}),a.jsx("option",{value:"plomberie",children:"Plomberie"}),a.jsx("option",{value:"electricite",children:"Électricité"}),a.jsx("option",{value:"menage",children:"Ménage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"education",children:"Éducation"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"coiffure",children:"Coiffure"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"evenementiel",children:"Événementiel"}),a.jsx("option",{value:"transport",children:"Transport"}),a.jsx("option",{value:"reparation",children:"Réparation"}),a.jsx("option",{value:"conseil",children:"Conseil"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(Fi,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:N,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🔧 Proposer un service"})}),p&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Mr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des services..."})]}),g&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Pn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!p&&f.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((A,k)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:k*.1},children:a.jsx(pu,{listing:A,onToggleFavorite:y})},A.id))}),!p&&!g&&f.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔧"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun service trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun service ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&f.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:b,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:p,children:p?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de services ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[f.length," service",f.length>1?"s":""," trouvé",f.length>1?"s":""]})})]})})},Z2e=()=>{const{user:e}=jr(),t=Bn(),r=Ci(),n=x.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("sort")||"",s=parseInt(n.get("per")||"12",10),o=n.get("search")||"",l=n.get("minPrice")||"",c=n.get("maxPrice")||"",u=n.get("location")||"",[f,p]=x.useState({search:o,location:u,category:"",minPrice:l,maxPrice:c,condition:"",sort:i,per:isNaN(s)?12:Math.min(Math.max(s,6),48)}),{listings:g,loading:v,error:b,hasMore:y,loadMore:_,toggleFavorite:S}=a1("marketplace",f),N=P=>{P.preventDefault()};x.useMemo(()=>f.sort==="popular"?[...g].sort((P,O)=>(O?.views_count||0)-(P?.views_count||0)):g,[f.sort,g]);const C=(P,O)=>{p(I=>({...I,[P]:O}))},A=()=>{p({search:"",location:"",category:"",minPrice:"",maxPrice:"",condition:""})},k=()=>{if(!e){t("/connexion");return}t("/creer-annonce/marketplace")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-orange-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur ",a.jsx("span",{className:"gradient-text-orange",children:"Marketplace"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Téléphones, vêtements, meubles, livres et bien plus. Achetez et vendez en toute sécurité."})]}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Produit, marque, mots-clés...",className:"pl-10 h-12 text-base",value:f.search,onChange:P=>C("search",P.target.value)}),a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:f.location,onChange:P=>C("location",P.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Catégorie"}),a.jsxs("select",{id:"category",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:f.category,onChange:P=>C("category",P.target.value),children:[a.jsx("option",{value:"",children:"Toutes catégories"}),a.jsx("option",{value:"telephonie",children:"Téléphonie"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"vetements",children:"Vêtements"}),a.jsx("option",{value:"chaussures",children:"Chaussures"}),a.jsx("option",{value:"accessoires",children:"Accessoires"}),a.jsx("option",{value:"mobilier",children:"Mobilier"}),a.jsx("option",{value:"electromenager",children:"Électroménager"}),a.jsx("option",{value:"livres",children:"Livres"}),a.jsx("option",{value:"sport",children:"Sport"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"jouets",children:"Jouets"}),a.jsx("option",{value:"bricolage",children:"Bricolage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium mb-1",children:"État"}),a.jsxs("select",{id:"condition",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:f.condition,onChange:P=>C("condition",P.target.value),children:[a.jsx("option",{value:"",children:"Tous états"}),a.jsx("option",{value:"neuf",children:"Neuf"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"usage",children:"Usage"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:f.minPrice,onChange:P=>C("minPrice",P.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:f.maxPrice,onChange:P=>C("maxPrice",P.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(Fi,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:A,children:"Effacer"})]})]})}),a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:k,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🛍️ Vendre un produit"})}),v&&g.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Mr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des produits..."})]}),b&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Pn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:b}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!v&&g.length>0&&a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:g.map((P,O)=>a.jsx(Re.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:O*.1},children:a.jsx(pu,{listing:P,onToggleFavorite:S})},P.id))}),!v&&!b&&g.length===0&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🛍️"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun produit trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun produit ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:A,variant:"outline",children:"Effacer les filtres"})]}),y&&g.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:_,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Mr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de produits ",a.jsx(jl,{className:"ml-2 h-5 w-5"})]})})}),g.length>0&&a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[g.length," produit",g.length>1?"s":""," trouvé",g.length>1?"s":""]})})]})})},Y2e=()=>{const e=Bn(),[t,r]=x.useState([]),[n,i]=x.useState(!0),[s,o]=x.useState(null),[l,c]=x.useState(1),[u,f]=x.useState(1),[p,g]=x.useState(!1),[v,b]=x.useState({category:"",minPrice:"",maxPrice:"",location:"",search:""}),y=async(k=1,P=v)=>{try{i(!0),o(null);const O=await zr.getPremiumListings(100,!0);if(O?.data){let I=O.data;P.category&&(I=I.filter(G=>G.category===P.category)),P.minPrice&&(I=I.filter(G=>G.price>=parseFloat(P.minPrice))),P.maxPrice&&(I=I.filter(G=>G.price<=parseFloat(P.maxPrice))),P.location&&(I=I.filter(G=>G.location?.city?.toLowerCase().includes(P.location.toLowerCase())||G.location?.country?.toLowerCase().includes(P.location.toLowerCase()))),P.search&&(I=I.filter(G=>G.title.toLowerCase().includes(P.search.toLowerCase())||G.description.toLowerCase().includes(P.search.toLowerCase())));const B=12,K=I.length,V=Math.ceil(K/B),U=(k-1)*B,q=U+B,H=I.slice(U,q);r(H),f(V),g(k<V),c(k)}}catch(O){o(O?.message||"Erreur lors du chargement des annonces premium")}finally{i(!1)}};x.useEffect(()=>{y(1,v)},[]);const _=(k,P)=>{const O={...v,[k]:P};b(O),c(1),y(1,O)},S=k=>{k.preventDefault(),y(1,v)},N=()=>{const k={category:"",minPrice:"",maxPrice:"",location:"",search:""};b(k),y(1,k)},C=k=>{k>=1&&k<=u&&y(k,v)},A=[{value:"real_estate",label:"🏠 Immobilier",color:"bg-blue-100 text-blue-800"},{value:"automobile",label:"🚗 Automobile",color:"bg-green-100 text-green-800"},{value:"services",label:"🔧 Services",color:"bg-purple-100 text-purple-800"},{value:"marketplace",label:"🛍️ Marketplace",color:"bg-orange-100 text-orange-800"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20",children:[a.jsx(Re.section,{className:"relative py-16 md:py-24 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsx("div",{className:"flex items-center mb-6",children:a.jsxs(ue,{variant:"ghost",onClick:()=>e(-1),className:"mr-4 hover:bg-amber-100",children:[a.jsx(Zh,{className:"h-5 w-5 mr-2"}),"Retour"]})}),a.jsxs(Re.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[a.jsxs("div",{className:"flex justify-center items-center mb-6",children:[a.jsx(N$,{className:"h-16 w-16 text-amber-500 mr-4"}),a.jsx(Is,{className:"h-12 w-12 text-yellow-500"})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto mb-8",children:"Découvrez notre sélection exclusive d'annonces premium. Qualité garantie, visibilité maximale."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[a.jsxs(mt,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300",children:[a.jsx(T7,{className:"h-4 w-4 mr-2"}),"Mise en avant garantie"]}),a.jsxs(mt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(Is,{className:"h-4 w-4 mr-2"}),"Qualité premium"]}),a.jsxs(mt,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[a.jsx(N$,{className:"h-4 w-4 mr-2"}),"Support prioritaire"]})]})]})]})}),a.jsx("section",{className:"py-8 bg-background/50",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsx(Re.div,{className:"bg-card rounded-xl p-6 shadow-lg border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("form",{onSubmit:S,className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(tt,{type:"text",placeholder:"Rechercher dans les annonces premium...",value:v.search,onChange:k=>_("search",k.target.value),className:"pl-10 pr-4 py-3"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("select",{value:v.category,onChange:k=>_("category",k.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Toutes catégories"}),A.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))]}),a.jsx(tt,{type:"number",placeholder:"Prix min",value:v.minPrice,onChange:k=>_("minPrice",k.target.value),className:"w-32"}),a.jsx(tt,{type:"number",placeholder:"Prix max",value:v.maxPrice,onChange:k=>_("maxPrice",k.target.value),className:"w-32"}),a.jsx(tt,{type:"text",placeholder:"Localisation",value:v.location,onChange:k=>_("location",k.target.value),className:"w-40"}),a.jsxs(ue,{variant:"outline",onClick:N,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:[a.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Effacer"]})]})]})})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s&&a.jsx(Re.div,{className:"text-center text-destructive mb-8 p-4 bg-destructive/10 rounded-lg",initial:{opacity:0},animate:{opacity:1},children:s}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?Array.from({length:9}).map((k,P)=>a.jsxs(Re.div,{className:"bg-card rounded-lg shadow-lg overflow-hidden border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:P*.1},children:[a.jsx("div",{className:"h-48 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-8 w-1/3 bg-muted rounded animate-pulse"})]})]},P)):t.length>0?t.map((k,P)=>a.jsx(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:P*.1},children:a.jsx(pu,{listing:k,showActions:!1})},k.id)):a.jsxs(Re.div,{className:"col-span-full text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Essayez de modifier vos filtres ou revenez plus tard"}),a.jsx(ue,{onClick:N,variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Effacer les filtres"})]})}),!n&&u>1&&a.jsxs(Re.div,{className:"flex justify-center items-center mt-12 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[a.jsx(ue,{variant:"outline",onClick:()=>C(l-1),disabled:l===1,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Précédent"}),Array.from({length:u},(k,P)=>P+1).map(k=>a.jsx(ue,{variant:l===k?"default":"outline",onClick:()=>C(k),className:l===k?"bg-amber-500 hover:bg-amber-600":"border-amber-300 text-amber-700 hover:bg-amber-100",children:k},k)),a.jsx(ue,{variant:"outline",onClick:()=>C(l+1),disabled:l===u,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Suivant"})]}),!n&&t.length>0&&a.jsx(Re.div,{className:"text-center mt-8 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:a.jsxs("p",{children:["Affichage de ",t.length," annonces premium",u>1&&` (page ${l} sur ${u})`]})})]})})]})},X2e=[{value:"real_estate",label:"Immobilier"},{value:"automobile",label:"Automobile"},{value:"services",label:"Service"},{value:"marketplace",label:"Produit"}],s5={title:"",description:"",price:"",currency:"XOF",category:"",subCategory:"",location:{city:"",country:""},images:[],videos:[],specificData:{}},J2e=e=>({"real-estate":"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"})[e]||"",Q2e=({onSuccess:e,category:t,onDataChange:r,currentStep:n=1,onStepChange:i})=>{const{toast:s}=Zr(),[o,l]=x.useState({...s5,category:t?J2e(t):""}),[c,u]=x.useState(!1),[f,p]=x.useState(!1),[g,v]=x.useState({current:0,total:0}),[b,y]=x.useState(n);x.useEffect(()=>{y(n)},[n]);const _=[{code:"BJ",name:"Bénin",cities:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Kandi","Abomey","Natitingou","Ouidah","Lokossa"]},{code:"CI",name:"Côte d'Ivoire",cities:["Abidjan","Bouaké","Daloa","Yamoussoukro","San Pedro","Korhogo","Man","Gagnoa","Abengourou","Divo"]},{code:"NG",name:"Nigeria",cities:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"]}],S=X=>{const{name:ne,value:J}=X.target;if(ne.startsWith("location.")){const oe=ne.split(".")[1];l(be=>({...be,location:{...be.location,[oe]:J}}))}else l(oe=>({...oe,[ne]:J}));r&&r({[ne]:J})},N=X=>{const{name:ne,value:J}=X.target;l(oe=>({...oe,specificData:{...oe.specificData,[ne]:J}}))},C=(X,ne=1920,J=.8)=>new Promise(oe=>{const be=document.createElement("canvas"),Ce=be.getContext("2d"),Le=new Image;Le.onload=()=>{let{width:ce,height:ae}=Le;ce>ne&&(ae=ae*ne/ce,ce=ne),be.width=ce,be.height=ae,Ce.drawImage(Le,0,0,ce,ae),be.toBlob(ge=>{const he=new File([ge],X.name,{type:"image/jpeg",lastModified:Date.now()});oe(he)},"image/jpeg",J)},Le.src=URL.createObjectURL(X)}),A=X=>new Promise(ne=>{const J=new FileReader;J.onload=oe=>{ne({url:oe.target.result,file:X,id:Date.now()+Math.random()})},J.readAsDataURL(X)}),k=async X=>{const ne=Array.from(X.target.files);if(!ne.length)return;if(o.images.length+ne.length>8){s({title:"Limite atteinte",description:"Vous pouvez uploader jusqu'à 8 images maximum.",variant:"destructive"});return}if(ne.filter(oe=>!oe.type.startsWith("image/")).length>0){s({title:"Type de fichier invalide",description:"Seules les images sont acceptées.",variant:"destructive"});return}p(!0),v({current:0,total:ne.length});try{const oe=await Promise.all(ne.map(A)),be=[...o.images,...oe.map(he=>({url:he.url,isPreview:!0,id:he.id,file:he.file}))];l(he=>({...he,images:be})),r&&r({images:be});const Ce=await Promise.all(ne.map(he=>C(he,1920,.8))),Le=async(he,Pe)=>{const te=he.slice(Pe,Pe+3);return Promise.all(te.map(async(Y,_e)=>{const xe=Pe+_e;try{const We=await Hde.uploadImage(Y,"listings");return v({current:xe+1,total:he.length}),{success:!0,url:We,index:xe}}catch(We){return console.error("Erreur upload pour",Y.name,We),v({current:xe+1,total:he.length}),{success:!1,error:We.message,index:xe}}}))},ce=[];for(let he=0;he<Ce.length;he+=3){const Pe=await Le(Ce,he);ce.push(...Pe)}const ae=ce.filter(he=>he.success),ge=ce.filter(he=>!he.success);if(ae.length>0){const he=[...be];ae.forEach(({url:Pe,index:te})=>{const Y=he.findIndex(_e=>_e.isPreview&&_e.id===oe[te].id);Y!==-1&&(he[Y]={url:Pe,isPreview:!1})}),l(Pe=>({...Pe,images:he})),r&&r({images:he}),s({title:"Images ajoutées",description:`${ae.length} image(s) téléchargée(s) avec succès.`})}ge.length>0&&s({title:"Erreurs d'upload",description:`Erreurs pour ${ge.length} fichier(s): ${ge.map(he=>he.error).join(", ")}`,variant:"destructive"})}catch(oe){console.error("Erreur générale upload:",oe),s({title:"Erreur upload",description:oe?.message||"Erreur lors de l'upload.",variant:"destructive"})}finally{p(!1),v({current:0,total:0})}},P=X=>{l(ne=>{const J=ne.images.filter((oe,be)=>be!==X);return r&&r({images:J}),{...ne,images:J}})},O=()=>!o.title||o.title.length<5?"Le titre est requis (min 5 caractères)":!o.description||o.description.length<10?"La description est requise (min 10 caractères)":!o.price||isNaN(Number(o.price))?"Le prix est requis et doit être un nombre":o.category?null:"La catégorie est requise",I=()=>{b<2&&(y(b+1),i&&i(b+1))},B=()=>{b>1&&(y(b-1),i&&i(b-1))},K=async X=>{X.preventDefault();const ne=O();if(ne){s({title:"Erreur de validation",description:ne,variant:"destructive"});return}u(!0);try{const J=o.images.filter(Ce=>!Ce.isPreview).map(Ce=>Ce.url),oe={...o,images:J,price:Number(o.price)},be=await zr.createListing(oe);s({title:"Annonce créée !",description:"Votre annonce a été soumise avec succès."}),l(s5),e&&e(be)}catch(J){s({title:"Erreur",description:J?.message||"Erreur lors de la création.",variant:"destructive"})}finally{u(!1)}},V=()=>{switch(o.category){case"real_estate":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"propertyType",children:"Type de bien immobilier"}),a.jsx(tt,{id:"propertyType",name:"propertyType",placeholder:"Ex: Appartement, Maison, Terrain, Local commercial...",value:o.specificData.propertyType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"transactionType",children:"Type de transaction"}),a.jsx(tt,{id:"transactionType",name:"transactionType",placeholder:"Ex: Vente, Location, Location-vente...",value:o.specificData.transactionType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bedrooms",children:"Nombre de chambres"}),a.jsx(tt,{id:"bedrooms",name:"bedrooms",type:"number",placeholder:"Ex: 3",min:"0",value:o.specificData.bedrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bathrooms",children:"Nombre de salles de bain"}),a.jsx(tt,{id:"bathrooms",name:"bathrooms",type:"number",placeholder:"Ex: 2",min:"0",value:o.specificData.bathrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"areaSqMeters",children:"Surface en mètres carrés"}),a.jsx(tt,{id:"areaSqMeters",name:"areaSqMeters",type:"number",placeholder:"Ex: 120",min:"1",value:o.specificData.areaSqMeters||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Commodités et équipements"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez les commodités disponibles (piscine, parking, climatisation, etc.)"}),(o.specificData.amenities||[]).map((X,ne)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:X,onChange:J=>G(ne,J.target.value),placeholder:"Ex: Piscine, Parking, Climatisation..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>W(ne),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ne)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:se,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter une commodité"})]})]});case"automobile":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"vehicleType",children:"Type de véhicule"}),a.jsx(tt,{id:"vehicleType",name:"vehicleType",placeholder:"Ex: Voiture, Moto, Camion, Bus...",value:o.specificData.vehicleType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"make",children:"Marque du véhicule"}),a.jsx(tt,{id:"make",name:"make",placeholder:"Ex: Toyota, Honda, BMW...",value:o.specificData.make||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"model",children:"Modèle du véhicule"}),a.jsx(tt,{id:"model",name:"model",placeholder:"Ex: Corolla, Civic, X5...",value:o.specificData.model||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"year",children:"Année de fabrication"}),a.jsx(tt,{id:"year",name:"year",type:"number",placeholder:"Ex: 2020",min:"1900",max:new Date().getFullYear()+1,value:o.specificData.year||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"mileage",children:"Kilométrage en km"}),a.jsx(tt,{id:"mileage",name:"mileage",type:"number",placeholder:"Ex: 50000",min:"0",value:o.specificData.mileage||"",onChange:N})]})]});case"services":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"serviceCategory",children:"Catégorie de service"}),a.jsx(tt,{id:"serviceCategory",name:"serviceCategory",placeholder:"Ex: Plomberie, Électricité, Design, Formation...",value:o.specificData.serviceCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"availability",children:"Disponibilité"}),a.jsx(tt,{id:"availability",name:"availability",placeholder:"Ex: Lundi-Vendredi 9h-18h, Weekends...",value:o.specificData.availability||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"experienceYears",children:"Années d'expérience"}),a.jsx(tt,{id:"experienceYears",name:"experienceYears",type:"number",placeholder:"Ex: 5",min:"0",value:o.specificData.experienceYears||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Liens de portfolio et références"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez des liens vers vos réalisations, portfolio ou références"}),(o.specificData.portfolioLinks||[]).map((X,ne)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:X,onChange:J=>U(ne,J.target.value),placeholder:"https://votre-portfolio.com ou lien vers vos réalisations..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>H(ne),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ne)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:q,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter un lien de portfolio"})]})]});case"marketplace":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"productCategory",children:"Catégorie de produit"}),a.jsx(tt,{id:"productCategory",name:"productCategory",placeholder:"Ex: Électronique, Vêtements, Livres, Sport...",value:o.specificData.productCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"brand",children:"Marque du produit"}),a.jsx(tt,{id:"brand",name:"brand",placeholder:"Ex: Apple, Nike, Samsung...",value:o.specificData.brand||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"stockQuantity",children:"Quantité disponible en stock"}),a.jsx(tt,{id:"stockQuantity",name:"stockQuantity",type:"number",placeholder:"Ex: 10",min:"0",value:o.specificData.stockQuantity||"",onChange:N})]})]});default:return null}},U=(X,ne)=>{l(J=>({...J,specificData:{...J.specificData,portfolioLinks:J.specificData.portfolioLinks?.map((oe,be)=>be===X?ne:oe)||[]}}))},q=()=>{l(X=>({...X,specificData:{...X.specificData,portfolioLinks:[...X.specificData.portfolioLinks||[],""]}}))},H=X=>{l(ne=>({...ne,specificData:{...ne.specificData,portfolioLinks:ne.specificData.portfolioLinks?.filter((J,oe)=>oe!==X)||[]}}))},G=(X,ne)=>{l(J=>({...J,specificData:{...J.specificData,amenities:J.specificData.amenities?.map((oe,be)=>be===X?ne:oe)||[]}}))},se=()=>{l(X=>({...X,specificData:{...X.specificData,amenities:[...X.specificData.amenities||[],""]}}))},W=X=>{l(ne=>({...ne,specificData:{...ne.specificData,amenities:ne.specificData.amenities?.filter((J,oe)=>oe!==X)||[]}}))},ee=()=>{switch(b){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Informations de base"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Commencez par les informations essentielles de votre annonce."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"title",children:"Titre de l'annonce *"}),a.jsx(tt,{id:"title",name:"title",value:o.title,onChange:S,placeholder:"Ex: Appartement moderne 3 pièces à Cotonou",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"description",children:"Description *"}),a.jsx(fu,{id:"description",name:"description",value:o.description,onChange:S,placeholder:"Décrivez votre offre en détail...",rows:4,required:!0,className:"max-w-2xl resize-none transition-all duration-200",style:{minHeight:"120px",height:"auto",overflow:"hidden"},onInput:X=>{X.target.style.height="auto",X.target.style.height=Math.min(X.target.scrollHeight,300)+"px"}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"category",children:"Catégorie *"}),a.jsxs("select",{id:"category",name:"category",value:o.category,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une catégorie"}),X2e.map(X=>a.jsx("option",{value:X.value,className:"text-foreground",children:X.label},X.value))]})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Prix et localisation"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"price",children:"Prix *"}),a.jsx(tt,{id:"price",name:"price",type:"number",value:o.price,onChange:S,placeholder:"0",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currency",children:"Devise"}),a.jsxs("select",{id:"currency",name:"currency",value:o.currency,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"XOF",className:"text-foreground",children:"XOF (Franc CFA)"}),a.jsx("option",{value:"EUR",className:"text-foreground",children:"EUR (Euro)"}),a.jsx("option",{value:"USD",className:"text-foreground",children:"USD (Dollar US)"}),a.jsx("option",{value:"NGN",className:"text-foreground",children:"NGN (Naira)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"country",children:"Pays"}),a.jsxs("select",{id:"country",name:"location.country",value:o.location.country,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner un pays"}),_.map(X=>a.jsx("option",{value:X.name,className:"text-foreground",children:X.name},X.code))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"city",children:"Ville"}),a.jsxs("select",{id:"city",name:"location.city",value:o.location.city,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.location.country,children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une ville"}),_.find(X=>X.name===o.location.country)?.cities?.map((X,ne)=>a.jsx("option",{value:X,className:"text-foreground",children:X},`${o.location.country||"unknown"}-${X}-${ne}`))]})]})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Médias et détails"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Ajoutez des photos et des informations spécifiques à votre catégorie."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Images et médias"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"image-upload",children:"Sélectionner des images"}),a.jsxs("div",{className:`border-2 border-dashed border-gray-400 rounded-lg p-6 text-center transition-colors ${f?"border-blue-400 bg-blue-50":"hover:border-primary"}`,children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden",id:"image-upload",disabled:f}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer ${f?"cursor-not-allowed":""}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:f?a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}):a.jsx(Sd,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:f?"Chargement en cours...":"Cliquez pour ajouter des images"}),a.jsx("p",{className:"text-xs text-gray-600",children:f?`Veuillez patienter (${g.current}/${g.total})`:"PNG, JPG jusqu'à 10MB"}),f&&g.total>0&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})})]})]})})]})]}),o.images.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(rt,{children:["Images sélectionnées (",o.images.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o.images.map((X,ne)=>a.jsxs("div",{className:"relative group aspect-square",children:[a.jsx("img",{src:X.url,alt:`Aperçu ${ne+1}`,className:`w-full h-full object-cover rounded-lg border ${X.isPreview?"opacity-70":""}`}),X.isPreview&&a.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}),a.jsx("button",{type:"button",onClick:()=>P(ne),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity shadow-md",title:"Supprimer cette image",disabled:X.isPreview,children:"×"})]},ne))})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Détails spécifiques à la catégorie"}),o.category?a.jsx("div",{className:"space-y-4",children:V()}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Veuillez d'abord sélectionner une catégorie à l'étape 1."})})]})]});default:return null}};return a.jsxs("div",{className:"space-y-6",children:[ee(),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:B,disabled:b===1,children:"Précédent"}),a.jsx("div",{className:"flex items-center space-x-2",children:b<2?a.jsx(ue,{type:"button",onClick:I,disabled:!o.title||!o.description||!o.category,children:"Suivant"}):a.jsx(ue,{type:"submit",onClick:K,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?"Publication...":"Publier l'annonce"})})]})]})},ePe=({formData:e,onClose:t})=>{const[r,n]=x.useState(0),[i,s]=x.useState(!1),o=y=>({real_estate:CT,automobile:b_,services:Od,marketplace:Gd})[y]||CT,l=y=>y?typeof y=="string"?y:y?.url?y.url:y?.file?URL.createObjectURL(y.file):y?.src?y.src:null:null,c=()=>!e.images||!Array.isArray(e.images)?[]:e.images.map(y=>{const _=l(y);return _?{...y,displayUrl:_}:null}).filter(Boolean),u=y=>({real_estate:"Immobilier",automobile:"Automobile",services:"Service",marketplace:"Produit"})[y]||"Autre",f=o(e.category),p=c(),g=()=>{p.length>0&&n(y=>y===p.length-1?0:y+1)},v=()=>{p.length>0&&n(y=>y===0?p.length-1:y)},b=y=>{y>=0&&y<p.length&&n(y)};return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:t,children:a.jsxs(Re.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Aperçu de l'annonce"}),(!e.title||!e.description||!e.price)&&a.jsx(mt,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Preview partiel"})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:t,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:p.length>0?a.jsxs(a.Fragment,{children:[a.jsx(li,{mode:"wait",children:a.jsx(Re.img,{src:p[r]?.displayUrl,alt:`Image ${r+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},r)}),p.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Wa,{className:"h-5 w-5"})}),a.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Ha,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:[r+1," / ",p.length]}),a.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>s(!i),className:`p-2 rounded-full transition-all ${i?"bg-red-500 text-white":"bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100"}`,children:a.jsx(Ao,{className:`h-5 w-5 ${i?"fill-current":""}`})}),a.jsx("button",{className:"p-2 rounded-full bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100 transition-all",children:a.jsx(AT,{className:"h-5 w-5"})})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Zd,{className:"h-8 w-8"})}),a.jsx("p",{children:"Aucune image"}),a.jsx("p",{className:"text-xs mt-1",children:"Ajoutez des images à l'étape 2"})]})})}),p.length>1&&a.jsx("div",{className:"flex space-x-2 mt-4 overflow-x-auto",children:p.map((y,_)=>a.jsx("button",{onClick:()=>b(_),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${_===r?"border-primary":"border-border hover:border-primary/50"}`,children:a.jsx("img",{src:y.displayUrl,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs(mt,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[a.jsx(f,{className:"h-3 w-3 mr-1"}),u(e.category)]}),a.jsx(mt,{variant:"outline",className:"text-green-600 border-green-600",children:"Actif"})]}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:e.title||"Titre de l'annonce (à définir)"}),a.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[a.jsx(No,{className:"h-4 w-4 mr-1"}),e.location&&typeof e.location=="object"&&e.location.city&&e.location.country?`${e.location.city}, ${e.location.country}`:"Localisation non définie"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-foreground",children:e.price?`${e.price} ${e.currency||"XOF"}`:"Prix à définir"}),e.category==="real_estate"&&e.specificData?.areaSqMeters&&a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[e.specificData.areaSqMeters," m²"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Description"}),a.jsx("p",{className:"text-foreground leading-relaxed",children:e.description||"Description à ajouter pour votre annonce."})]}),e.specificData&&Object.keys(e.specificData).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Détails"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.category==="real_estate"&&a.jsxs(a.Fragment,{children:[e.specificData.propertyType&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.propertyType})]}),e.specificData.bedrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Chambres:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.bedrooms})]}),e.specificData.bathrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Salles de bain:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.bathrooms})]}),e.specificData.areaSqMeters&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Surface:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[e.specificData.areaSqMeters," m²"]})]})]}),e.category==="automobile"&&a.jsxs(a.Fragment,{children:[e.specificData.make&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Marque:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.make})]}),e.specificData.model&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Modèle:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.model})]}),e.specificData.year&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Année:"}),a.jsx("div",{className:"font-medium text-foreground",children:e.specificData.year})]}),e.specificData.mileage&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Kilométrage:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[e.specificData.mileage," km"]})]})]})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Images"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["• ",p.length," image(s) ajoutée(s)"]}),p.length===0&&a.jsx("p",{className:"text-yellow-600 mt-1",children:"⚠️ Aucune image - Ajoutez des images à l'étape 2"})]})]})})]})]})]})})},U0=()=>{const e=Bn(),{category:t,id:r}=tO(),{toast:n}=Zr(),[i,s]=x.useState(1),[o,l]=x.useState({}),[c,u]=x.useState(!1),[f,p]=x.useState(!1),[g,v]=x.useState(!1),b=async I=>{try{v(!0);const B=await zr.getListingById(I);if(B){const K={title:B.title||"",description:B.description||"",price:B.price||"",category:B.category||t,location:B.location||{},images:B.images||[],contact_info:B.contact_info||{},real_estate_details:B.real_estate_details||{},automobile_details:B.automobile_details||{},service_details:B.service_details||{},product_details:B.product_details||{}};l(K),n({title:"Annonce chargée",description:"Les données de l'annonce ont été chargées avec succès."})}}catch(B){console.error("Erreur lors du chargement de l'annonce:",B),n({title:"Erreur",description:"Impossible de charger les données de l'annonce. Veuillez réessayer.",variant:"destructive"})}finally{v(!1)}};Q.useEffect(()=>{r&&(p(!0),b(r))},[r]);const y=I=>({"real-estate":"Immobilière",automobile:"Automobile",services:"de Service",marketplace:"Marketplace"})[I]||"",S=(I=>({"real-estate":Rd,automobile:b_,services:Od,marketplace:Gd})[I]||Rd)(t),N=[{id:1,title:"Informations de base",description:"Titre, description, catégorie, prix et localisation",icon:Hr,completed:!1},{id:2,title:"Médias et publication",description:"Photos, vidéos, caractéristiques spécifiques et publication",icon:Sd,completed:!1}],C=I=>{I?.id?e("/profile",{state:{message:f?"Annonce modifiée avec succès ! Les changements sont maintenant visibles sur le site.":"Annonce créée avec succès ! Elle est maintenant visible sur le site.",type:"success"}}):e("/profile")},A=I=>{l(B=>({...B,...I}))},k=()=>o.title||o.description||o.price,P=()=>!o.title&&!o.description&&!o.price?"Commencez à remplir le formulaire pour voir l'aperçu":"Aperçu disponible (certaines données peuvent être manquantes)",O=()=>{const I=encodeURIComponent("Support création annonce - MaxiMarket"),B=encodeURIComponent(`Bonjour l'équipe MaxiMarket,

Je rencontre des difficultés lors de la création de mon annonce et j'aurais besoin de votre aide.

📋 Détails de ma demande :
• Catégorie d'annonce : ${t?y(t):"Non spécifiée"}
• Étape actuelle : Étape ${i} sur ${N.length}
• Problème rencontré : [Veuillez décrire votre problème ici]

📧 Mon email de contact : [Votre email]
📱 Mon téléphone : [Votre téléphone]

Merci de votre aide !

Cordialement,
[Votre nom]

---
Ce message a été généré automatiquement depuis le formulaire de création d'annonce MaxiMarket.
Support : support@maximarket.com
Site : https://maximarket.com`),K=`mailto:support@maximarket.com?subject=${I}&body=${B}`;window.open(K,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>e(-1),className:"text-muted-foreground hover:text-foreground",children:[a.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsx("div",{className:"flex items-center space-x-3",children:t&&a.jsxs("div",{className:"flex items-center space-x-2 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(S,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-primary",children:y(t)})]})})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>u(!c),disabled:!k(),className:k()?"":"opacity-50 cursor-not-allowed",title:k()?"Voir l'aperçu de votre annonce":P(),children:[a.jsx(Ml,{className:"h-4 w-4 mr-2"}),c?"Masquer":"Aperçu"]})})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:f?"Modifier l'annonce":t?`Créer une annonce ${y(t)}`:"Créer une annonce"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:f?g?"Chargement des données de l'annonce...":"Modifiez les informations de votre annonce existante.":"Partagez votre offre avec notre communauté. Remplissez les informations ci-dessous pour publier votre annonce."})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-center space-x-4",children:N.map((I,B)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${i>=I.id?"bg-primary border-primary text-white":"bg-card border-border text-muted-foreground"}`,children:i>I.id?a.jsx(Yn,{className:"h-5 w-5"}):a.jsx(I.icon,{className:"h-5 w-5"})}),B<N.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 ${i>I.id?"bg-primary":"bg-border"}`})]},I.id))}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Étape ",i," sur ",N.length," : ",N[i-1]?.title]})})]}),c&&a.jsx(ePe,{formData:o,onClose:()=>u(!1)}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsx(Tt,{className:"shadow-lg border-0",children:a.jsx(At,{className:"p-6",children:a.jsx(Q2e,{onSuccess:C,category:t,onDataChange:A,currentStep:i,onStepChange:s})})})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:a.jsx(Tt,{className:"shadow-lg border-0",children:a.jsxs(At,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[a.jsx(Yn,{className:"h-5 w-5 text-green-500 mr-2"}),"Conseils pour une annonce réussie"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez un titre clair et descriptif"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez des photos de qualité"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Décrivez précisément votre offre"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixez un prix compétitif"})]})]})]})})}),a.jsx(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:a.jsx(Tt,{className:"shadow-lg border-0",children:a.jsxs(At,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Besoin d'aide ?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Notre équipe est là pour vous accompagner dans la création de votre annonce."}),a.jsx(ue,{variant:"outline",className:"w-full",onClick:O,children:"Contacter le support"})]})})})]})]})]})}),a.jsx(EV,{})]})},tPe=Q.memo(({images:e=[],title:t="Galerie d'images"})=>{const[r,n]=x.useState(0),[i,s]=x.useState(!1),[o,l]=x.useState(!1),c=x.useRef(null);z2e(e,r);const{touchHandlers:u,zoomLevel:f}=U2e(()=>n(S=>(S+1)%e.length),()=>n(S=>(S-1+e.length)%e.length),S=>l(S>1)),p=x.useCallback(()=>{n(S=>(S+1)%e.length)},[e.length]),g=x.useCallback(()=>{n(S=>(S-1+e.length)%e.length)},[e.length]),v=S=>{n(S)};x.useEffect(()=>{const S=N=>{if(i)switch(N.key){case"ArrowLeft":N.preventDefault(),g();break;case"ArrowRight":N.preventDefault(),p();break;case"Escape":N.preventDefault(),s(!1),l(!1);break;case" ":N.preventDefault(),l(!o);break}};return i&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[i,o,p,g]);const b=()=>{i?l(!o):s(!0)},y=()=>{l(!o)};if(!e||e.length===0)return a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted flex items-center justify-center",children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucune image disponible"})})});const _=e[r];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{ref:c,className:"relative aspect-video rounded-lg overflow-hidden bg-muted cursor-pointer group",...u,onClick:b,children:[a.jsx(VT,{src:_,alt:`${t} - Image ${r+1}`,className:"w-full h-full",context:"gallery",quality:"high",showSkeleton:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300",children:a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),s(!0)},children:a.jsx(T$,{className:"h-4 w-4"})})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),g()},children:a.jsx(Wa,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),p()},children:a.jsx(Ha,{className:"h-4 w-4"})})]})]}),e.length>1&&a.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:e.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-2 h-2 rounded-full transition-all duration-300 ${N===r?"bg-primary scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),e.length>1&&a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[r+1," / ",e.length]})]}),a.jsx(li,{children:i&&a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",...u,children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white z-10",onClick:()=>{s(!1),l(!1)},children:a.jsx(is,{className:"h-6 w-6"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-16 bg-black/50 hover:bg-black/70 text-white z-10",onClick:y,children:o?a.jsx(Pde,{className:"h-6 w-6"}):a.jsx(T$,{className:"h-6 w-6"})}),a.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:a.jsx(VT,{src:_,alt:`${t} - Image ${r+1}`,className:`max-w-full max-h-full object-contain transition-transform duration-300 ${o?"cursor-zoom-out":"cursor-zoom-in"}`,context:"fullscreen",quality:"high",showSkeleton:!1,onClick:b,style:{transform:`scale(${f})`,cursor:o?"zoom-out":"zoom-in"}})}),e.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:g,children:a.jsx(Wa,{className:"h-8 w-8"})}),a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:p,children:a.jsx(Ha,{className:"h-8 w-8"})})]}),e.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:e.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===r?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),a.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white text-sm px-3 py-1 rounded",children:[r+1," / ",e.length]}),a.jsx("div",{className:"absolute top-4 left-4 text-white/70 text-sm",children:a.jsx("p",{children:"← → Navigation • Espace Zoom • Échap Fermer"})})]})})]})}),uw=({rating:e=0,onRatingChange:t,readonly:r=!1,size:n="md",showLabel:i=!1,className:s=""})=>{const[o,l]=x.useState(0),c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6"},u=b=>{r||l(b)},f=()=>{r||l(0)},p=b=>{!r&&t&&t(b)},g=b=>b<=(o||e)?"text-yellow-400 fill-current":"text-gray-300",v=b=>({0:"Aucune note",1:"Très mauvais",2:"Mauvais",3:"Moyen",4:"Bon",5:"Excellent"})[b]||"Aucune note";return a.jsxs("div",{className:qe("flex items-center space-x-1",s),children:[a.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(b=>a.jsx("button",{type:"button",onClick:()=>p(b),onMouseEnter:()=>u(b),onMouseLeave:f,disabled:r,className:qe("transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 rounded-sm",c[n],r?"cursor-default":"cursor-pointer hover:scale-110",g(b)),"aria-label":`${b} étoile${b>1?"s":""}`,children:a.jsx(Is,{className:"w-full h-full"})},b))}),i&&a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:v(e)}),!r&&a.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:e>0?`${e}/5`:"Cliquez pour noter"})]})},rPe=jn({content:_t().min(10,"Le commentaire doit contenir au moins 10 caractères").max(1e3,"Le commentaire ne peut pas dépasser 1000 caractères"),rating:ai().min(1,"Veuillez donner une note").max(5,"La note doit être entre 1 et 5"),parent_id:_t().uuid().optional()}),Mk=({listingId:e,onSubmit:t,onCancel:r,initialData:n=null,parentId:i=null,className:s=""})=>{const{toast:o}=Zr(),[l,c]=x.useState(!1),[u,f]=x.useState(n?.rating||0),[p,g]=x.useState(!1),{register:v,handleSubmit:b,watch:y,formState:{errors:_,isValid:S},reset:N}=qp({resolver:JNe(rPe),defaultValues:{content:n?.content||"",rating:n?.rating||0,parent_id:i||n?.parent_id},mode:"onChange"}),C=y("content"),A=!!n,k=async B=>{if(u===0){o({title:"Note requise",description:"Veuillez donner une note à cette annonce.",variant:"destructive"});return}c(!0);try{const K={...B,rating:u,listing_id:e,parent_id:i||n?.parent_id},V=await t(K);if(V.error)throw new Error(V.error);o({title:A?"Commentaire modifié":"Commentaire ajouté",description:A?"Votre commentaire a été modifié avec succès.":"Votre commentaire a été ajouté avec succès."}),A||(N(),f(0)),r&&r()}catch(K){o({title:"Erreur",description:K.message||"Une erreur est survenue lors de l'envoi du commentaire.",variant:"destructive"})}finally{c(!1)}},P=B=>{f(B)},O=()=>C?.length||0,I=()=>{const B=O();return B<10?"text-red-500":B>900?"text-orange-500":"text-muted-foreground"};return a.jsxs("div",{className:qe("space-y-4",s),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:A?"Modifier le commentaire":"Ajouter un commentaire"}),i&&a.jsx(mt,{variant:"secondary",className:"text-xs",children:"Réponse"})]}),a.jsxs("form",{onSubmit:b(k),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Votre note *"}),a.jsx(uw,{rating:u,onRatingChange:P,size:"lg",showLabel:!0}),u===0&&a.jsxs("p",{className:"text-sm text-red-500 flex items-center",children:[a.jsx(Pn,{className:"h-4 w-4 mr-1"}),"Veuillez donner une note"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Votre commentaire *"}),a.jsx(fu,{id:"content",...v("content"),placeholder:A?"Modifiez votre commentaire...":"Partagez votre expérience avec cette annonce...",className:qe("min-h-[120px] resize-none",_.content&&"border-red-500 focus:border-red-500"),maxLength:1e3}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("span",{className:I(),children:[O(),"/1000 caractères"]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(ue,{type:"button",variant:"ghost",size:"sm",onClick:()=>g(!p),className:"text-xs",children:p?"Masquer":"Prévisualiser"})})]}),_.content&&a.jsxs("p",{className:"text-sm text-red-500 flex items-center",children:[a.jsx(Pn,{className:"h-4 w-4 mr-1"}),_.content.message]})]}),p&&C&&a.jsxs("div",{className:"p-4 bg-muted rounded-lg border",children:[a.jsx("h4",{className:"text-sm font-medium mb-2",children:"Prévisualisation :"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(uw,{rating:u,readonly:!0,size:"sm"}),a.jsx("p",{className:"text-sm whitespace-pre-wrap",children:C})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx("div",{className:"flex items-center space-x-2",children:r&&a.jsx(ue,{type:"button",variant:"outline",onClick:r,disabled:l,children:"Annuler"})}),a.jsx(ue,{type:"submit",disabled:l||!S||u===0,className:"flex items-center space-x-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),a.jsx("span",{children:"Envoi..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(py,{className:"h-4 w-4"}),a.jsx("span",{children:A?"Modifier":"Publier"})]})})]})]}),a.jsxs("div",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded-lg",children:[a.jsx("p",{className:"font-medium mb-1",children:"💡 Conseils pour un bon commentaire :"}),a.jsxs("ul",{className:"space-y-1",children:[a.jsx("li",{children:"• Soyez constructif et respectueux"}),a.jsx("li",{children:"• Partagez votre expérience personnelle"}),a.jsx("li",{children:"• Mentionnez les points positifs et négatifs"}),a.jsx("li",{children:"• Évitez les commentaires trop courts ou trop longs"})]})]})]})},TJ=({comment:e,onUpdate:t,onDelete:r,onReply:n,onReport:i,showReplies:s=!0,className:o=""})=>{const{user:l}=jr(),{toast:c}=Zr(),[u,f]=x.useState(!1),[p,g]=x.useState(!1),[v,b]=x.useState(!1),[y,_]=x.useState(e.replies||[]),S=l?.id===e.user_id,N=l?.role==="admin",C=S||N,A=()=>{f(!0)},k=async()=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce commentaire ?"))try{const U=await r(e.id);if(U.error)throw new Error(U.error);c({title:"Commentaire supprimé",description:"Votre commentaire a été supprimé avec succès."})}catch(U){c({title:"Erreur",description:U.message||"Impossible de supprimer le commentaire.",variant:"destructive"})}},P=()=>{g(!0)},O=async()=>{try{const U=await i(e.id,{reason:"inappropriate",description:"Commentaire signalé par l'utilisateur"});if(U.error)throw new Error(U.error);c({title:"Commentaire signalé",description:"Le commentaire a été signalé aux modérateurs."})}catch(U){c({title:"Erreur",description:U.message||"Impossible de signaler le commentaire.",variant:"destructive"})}},I=U=>{f(!1),t&&t(U)},B=U=>{g(!1),_(q=>[U,...q]),n&&n(U)},K=U=>{switch(U){case"approved":return a.jsxs(mt,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:[a.jsx(Yn,{className:"h-3 w-3 mr-1"}),"Approuvé"]});case"pending":return a.jsxs(mt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(la,{className:"h-3 w-3 mr-1"}),"En attente"]});case"rejected":return a.jsxs(mt,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-300",children:[a.jsx(Cd,{className:"h-3 w-3 mr-1"}),"Rejeté"]});default:return null}},V=U=>U?.split(" ").map(q=>q[0]).join("").toUpperCase().slice(0,2)||"U";return u?a.jsx("div",{className:qe("border rounded-lg p-4 bg-muted/30",o),children:a.jsx(Mk,{listingId:e.listing_id,onSubmit:async U=>{try{const q=await t(e.id,U);if(q.error)throw new Error(q.error);return I(q.comment),q}catch(q){return{error:q.message}}},onCancel:()=>f(!1),initialData:e})}):a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:qe("border rounded-lg p-4 hover:shadow-md transition-shadow",o),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(Hb,{className:"h-10 w-10",children:[a.jsx(VR,{src:e.user?.avatar_url,alt:e.user?.full_name}),a.jsx(Kb,{className:"bg-primary/10 text-primary",children:V(e.user?.full_name)})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:e.user?.full_name||"Utilisateur anonyme"}),e.user?.verified&&a.jsxs(mt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-300",children:[a.jsx(Yn,{className:"h-3 w-3 mr-1"}),"Vérifié"]}),e.is_verified_purchase&&a.jsxs(mt,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-300",children:[a.jsx(Yn,{className:"h-3 w-3 mr-1"}),"Achat vérifié"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:gpe(e.created_at)}),e.updated_at!==e.created_at&&a.jsx("span",{children:"(modifié)"})]})]})]}),a.jsxs(tf,{children:[a.jsx(rf,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(j7,{className:"h-4 w-4"})})}),a.jsxs(vu,{align:"end",children:[a.jsxs(xr,{onClick:P,children:[a.jsx(TT,{className:"h-4 w-4 mr-2"}),"Répondre"]}),C&&a.jsxs(a.Fragment,{children:[a.jsxs(xr,{onClick:A,children:[a.jsx(__,{className:"h-4 w-4 mr-2"}),"Modifier"]}),a.jsxs(xr,{onClick:k,className:"text-red-600",children:[a.jsx(Ka,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]}),!S&&a.jsxs(xr,{onClick:O,children:[a.jsx(Cd,{className:"h-4 w-4 mr-2"}),"Signaler"]})]})]})]}),e.status!=="approved"&&a.jsx("div",{className:"mb-3",children:K(e.status)}),a.jsx("div",{className:"mb-3",children:a.jsx(uw,{rating:e.rating,readonly:!0,size:"sm"})}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:e.content})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[e.likes_count>0&&a.jsxs("span",{children:[e.likes_count," j'aime"]}),e.replies_count>0&&a.jsxs("button",{onClick:()=>b(!v),className:"flex items-center space-x-1 hover:text-foreground transition-colors",children:[a.jsx(Xn,{className:"h-3 w-3"}),a.jsxs("span",{children:[e.replies_count," réponse",e.replies_count>1?"s":""]})]})]}),a.jsxs(ue,{variant:"ghost",size:"sm",onClick:P,className:"text-xs",children:[a.jsx(TT,{className:"h-3 w-3 mr-1"}),"Répondre"]})]}),p&&a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx(Mk,{listingId:e.listing_id,onSubmit:async U=>{try{const q=await n(U);if(q.error)throw new Error(q.error);return B(q.comment),q}catch(q){return{error:q.message}}},onCancel:()=>g(!1),parentId:e.id})}),s&&e.replies_count>0&&v&&a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[a.jsxs("h5",{className:"text-sm font-medium text-muted-foreground",children:["Réponses (",e.replies_count,")"]}),y.map(U=>a.jsx(TJ,{comment:U,onUpdate:t,onDelete:r,onReply:n,onReport:i,showReplies:!1,className:"ml-4 border-l-2 border-muted pl-4"},U.id))]})]})},nPe=({listingId:e,listing:t,className:r="",showStats:n=!0,showFilters:i=!0})=>{const{user:s}=jr(),{toast:o}=Zr(),[l,c]=x.useState(!1),[u,f]=x.useState({rating:null,verifiedOnly:!1,sort:"created_at",order:"desc"}),{comments:p,loading:g,error:v,pagination:b,stats:y,addComment:_,updateComment:S,deleteComment:N,reportComment:C,changeFilters:A,changePage:k,refresh:P}=B2e(e,u),O=async G=>{if(!s){o({title:"Connexion requise",description:"Vous devez être connecté pour ajouter un commentaire.",variant:"destructive"});return}const se=await _({...G,user_id:s.id});return se.error||c(!1),se},I=async(G,se)=>await S(G,se),B=async G=>await N(G),K=async G=>s?await _({...G,user_id:s.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour répondre.",variant:"destructive"}),{error:"Connexion requise"}),V=async(G,se)=>s?await C(G,{...se,reporter_id:s.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour signaler un commentaire.",variant:"destructive"}),{error:"Connexion requise"}),U=G=>{f(se=>({...se,...G})),A({...u,...G})},q=()=>{if(!y?.rating_distribution)return null;const G=y.total_comments;return G===0?null:Object.entries(y.rating_distribution).map(([se,W])=>({rating:parseInt(se),count:W,percentage:Math.round(W/G*100)}))},H=()=>y?.average_rating?parseFloat(y.average_rating.toFixed(1)):0;return v?a.jsx(Tt,{className:qe("mt-8",r),children:a.jsx(At,{className:"p-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Xn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"Impossible de charger les commentaires"}),a.jsx(ue,{variant:"outline",size:"sm",onClick:P,className:"mt-2",children:"Réessayer"})]})})}):a.jsxs("div",{className:qe("space-y-6",r),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Xn,{className:"h-5 w-5 text-primary"}),a.jsx("h2",{className:"text-xl font-semibold",children:"Commentaires et avis"}),y?.total_comments>0&&a.jsxs(mt,{variant:"secondary",className:"text-xs",children:[y.total_comments," commentaire",y.total_comments>1?"s":""]})]}),s&&a.jsx(ue,{onClick:()=>c(!l),className:"flex items-center space-x-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx(is,{className:"h-4 w-4"}),a.jsx("span",{children:"Annuler"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Oo,{className:"h-4 w-4"}),a.jsx("span",{children:"Ajouter un commentaire"})]})})]}),n&&y&&a.jsxs(Tt,{children:[a.jsx(nr,{className:"pb-3",children:a.jsxs(ir,{className:"text-lg flex items-center space-x-2",children:[a.jsx(sa,{className:"h-5 w-5"}),a.jsx("span",{children:"Statistiques"})]})}),a.jsxs(At,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-primary",children:H()}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Note moyenne"}),a.jsx(uw,{rating:Math.round(H()),readonly:!0,size:"sm"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold",children:y.total_comments}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Total commentaires"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:y.verified_purchases}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"Achats vérifiés"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:y.rating_distribution?.[5]||0}),a.jsx("div",{className:"text-sm text-muted-foreground",children:"5 étoiles"})]})]}),q()&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-sm font-medium",children:"Répartition des notes"}),a.jsx("div",{className:"space-y-1",children:q().reverse().map(({rating:G,count:se,percentage:W})=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-1 w-16",children:[a.jsx("span",{className:"text-xs",children:G}),a.jsx(Is,{className:"h-3 w-3 text-yellow-400 fill-current"})]}),a.jsx("div",{className:"flex-1 bg-muted rounded-full h-2",children:a.jsx("div",{className:"bg-yellow-400 h-2 rounded-full transition-all duration-300",style:{width:`${W}%`}})}),a.jsx("span",{className:"text-xs text-muted-foreground w-12 text-right",children:se})]},G))})]})]})]}),a.jsx(li,{children:l&&a.jsx(Re.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsx(Tt,{children:a.jsx(At,{className:"p-6",children:a.jsx(Mk,{listingId:e,onSubmit:O,onCancel:()=>c(!1)})})})})}),i&&a.jsx(Tt,{children:a.jsx(At,{className:"p-4",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fi,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:"Filtres :"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Note :"}),a.jsxs("select",{value:u.rating||"",onChange:G=>U({rating:G.target.value?parseInt(G.target.value):null}),className:"text-sm border rounded px-2 py-1",children:[a.jsx("option",{value:"",children:"Toutes"}),a.jsx("option",{value:"5",children:"5 étoiles"}),a.jsx("option",{value:"4",children:"4 étoiles"}),a.jsx("option",{value:"3",children:"3 étoiles"}),a.jsx("option",{value:"2",children:"2 étoiles"}),a.jsx("option",{value:"1",children:"1 étoile"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"verifiedOnly",checked:u.verifiedOnly,onChange:G=>U({verifiedOnly:G.target.checked}),className:"rounded"}),a.jsx("label",{htmlFor:"verifiedOnly",className:"text-sm text-muted-foreground",children:"Achats vérifiés uniquement"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Tri :"}),a.jsxs("select",{value:`${u.sort}-${u.order}`,onChange:G=>{const[se,W]=G.target.value.split("-");U({sort:se,order:W})},className:"text-sm border rounded px-2 py-1",children:[a.jsx("option",{value:"created_at-desc",children:"Plus récents"}),a.jsx("option",{value:"created_at-asc",children:"Plus anciens"}),a.jsx("option",{value:"rating-desc",children:"Meilleures notes"}),a.jsx("option",{value:"rating-asc",children:"Moins bonnes notes"})]})]})]})})}),a.jsx("div",{className:"space-y-4",children:g?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent"}),a.jsx("p",{className:"mt-2 text-muted-foreground",children:"Chargement des commentaires..."})]}):p.length===0?a.jsx(Tt,{children:a.jsxs(At,{className:"p-8 text-center",children:[a.jsx(Xn,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Aucun commentaire"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Soyez le premier à laisser un commentaire sur cette annonce !"}),s&&a.jsxs(ue,{onClick:()=>c(!0),children:[a.jsx(Oo,{className:"h-4 w-4 mr-2"}),"Ajouter un commentaire"]})]})}):a.jsxs(a.Fragment,{children:[p.map(G=>a.jsx(TJ,{comment:G,onUpdate:I,onDelete:B,onReply:K,onReport:V},G.id)),b.pages>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 pt-4",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>k(b.page-1),disabled:b.page<=1,children:"Précédent"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",b.page," sur ",b.pages]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>k(b.page+1),disabled:b.page>=b.pages,children:"Suivant"})]})]})}),!s&&a.jsx(Tt,{className:"bg-muted/50",children:a.jsx(At,{className:"p-4 text-center",children:a.jsx("p",{className:"text-sm text-muted-foreground",children:"Connectez-vous pour ajouter un commentaire et noter cette annonce."})})})]})},iPe=({isOpen:e,onClose:t,listing:r,onReportSubmitted:n})=>{const[i,s]=x.useState(""),[o,l]=x.useState(""),[c,u]=x.useState("medium"),[f,p]=x.useState(!1),{toast:g}=Zr(),v=[{value:"inappropriate_content",label:"Contenu inapproprié",description:"Contenu offensant, violent ou choquant"},{value:"fake_listing",label:"Annonce fausse",description:"Produit/service inexistant ou trompeur"},{value:"spam",label:"Spam",description:"Annonce répétitive ou non pertinente"},{value:"scam",label:"Arnaque",description:"Tentative de fraude ou d'escroquerie"},{value:"copyright",label:"Violation de droits",description:"Contenu protégé par des droits d'auteur"},{value:"other",label:"Autre",description:"Autre raison non listée"}],b=[{value:"low",label:"Faible",color:"bg-blue-100 text-blue-800"},{value:"medium",label:"Moyen",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"Élevé",color:"bg-red-100 text-red-800"}],y=async S=>{if(S.preventDefault(),!i){g({title:"Erreur",description:"Veuillez sélectionner une raison de signalement.",variant:"destructive"});return}if(!o.trim()){g({title:"Erreur",description:"Veuillez décrire le problème.",variant:"destructive"});return}p(!0);try{const N={listing_id:r.id,type:"listing",reason:i,description:o.trim(),severity:c,status:"pending"};await Kde.createReport(N),g({title:"Signalement envoyé",description:"Votre signalement a été enregistré et sera examiné par notre équipe."}),s(""),l(""),u("medium"),t(),n&&n()}catch(N){console.error("Erreur lors du signalement:",N),g({title:"Erreur",description:"Impossible d'envoyer le signalement. Veuillez réessayer.",variant:"destructive"})}finally{p(!1)}},_=()=>{f||t()};return e?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(Tt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(nr,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Cd,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx(ir,{children:"Signaler cette annonce"}),a.jsx(Sn,{children:"Aidez-nous à maintenir la qualité de notre plateforme"})]})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:_,disabled:f,className:"h-8 w-8 p-0",children:a.jsx(is,{className:"h-4 w-4"})})]}),a.jsxs(At,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Annonce signalée :"}),a.jsxs("div",{className:"flex items-start space-x-3",children:[r.images&&r.images[0]&&a.jsx("img",{src:r.images[0],alt:r.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium truncate",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Publiée le ",new Date(r.created_at).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Catégorie : ",r.category]})]})]})]}),a.jsxs("form",{onSubmit:y,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"reason",children:"Raison du signalement *"}),a.jsxs(Ar,{value:i,onValueChange:s,disabled:f,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Sélectionnez une raison"})}),a.jsx(kr,{children:v.map(S=>a.jsx(Ge,{value:S.value,children:a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium",children:S.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.description})]})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"severity",children:"Niveau de gravité"}),a.jsxs(Ar,{value:c,onValueChange:u,disabled:f,children:[a.jsx(Tr,{children:a.jsx(Or,{})}),a.jsx(kr,{children:b.map(S=>a.jsx(Ge,{value:S.value,children:a.jsx(mt,{className:S.color,variant:"secondary",children:S.label})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(rt,{htmlFor:"description",children:["Description détaillée du problème *",a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(minimum 20 caractères)"})]}),a.jsx(fu,{id:"description",value:o,onChange:S=>l(S.target.value),placeholder:"Décrivez en détail le problème que vous avez identifié...",rows:4,disabled:f,minLength:20,required:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length,"/500 caractères"]})]}),a.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Yd,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("p",{className:"font-medium",children:"Important :"}),a.jsx("p",{children:"Les signalements abusifs peuvent entraîner la suspension de votre compte. Assurez-vous que votre signalement est justifié et basé sur des faits."})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:_,disabled:f,children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:f||!i||o.length<20,className:"bg-red-600 hover:bg-red-700",children:f?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}),"Envoi en cours..."]}):a.jsxs(a.Fragment,{children:[a.jsx(py,{className:"h-4 w-4 mr-2"}),"Envoyer le signalement"]})})]})]})]})]})}):null},sPe=()=>{const{id:e}=tO(),t=Bn(),{user:r}=jr(),{toast:n}=Zr(),[i,s]=x.useState(null),[o,l]=x.useState([]),[c,u]=x.useState(!0),[f,p]=x.useState(!1),[g,v]=x.useState(!1),{images:b}=EJ(i);x.useEffect(()=>{e&&(async()=>{u(!0);try{if(!e||e===""||typeof e!="string")throw new Error(`ID d'annonce invalide: "${e}"`);const I=await zr.getListingById(e);if(I){s(I);try{zr.incrementViews(I.id)}catch{}I.status!=="approved"&&n({title:"Annonce en attente",description:"Cette annonce est en cours de modération.",variant:"default"});const{data:B}=await zr.getAllListings({category:I.category,status:"approved",limit:10});l(B.filter(K=>K.id!==I.id).slice(0,3))}else n({title:"Annonce non trouvée",description:"L'annonce que vous recherchez n'existe pas ou a été supprimée.",variant:"destructive"}),t("/marketplace")}catch(I){console.error("Erreur lors du chargement de l'annonce:",I),console.error("Détails de l'erreur:",{message:I.message,code:I.code,details:I.details,hint:I.hint}),n({title:"Erreur",description:`Impossible de charger les détails de l'annonce: ${I.message}`,variant:"destructive"}),t("/marketplace")}finally{u(!1)}})()},[e,t,n]),x.useEffect(()=>{try{if(typeof window<"u"&&i){const O=i?.location&&typeof i.location=="object"&&i.location.city||"";window.__MAXIMARKET_CONTEXT={listing:{id:i.id,title:i.title,price:i.price,locationCity:O,sellerId:i.user_id,category:i.category}}}}catch{}return()=>{try{typeof window<"u"&&window.__MAXIMARKET_CONTEXT&&delete window.__MAXIMARKET_CONTEXT}catch{}}},[i]);const y=O=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(O),_=O=>new Date(O).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),S=O=>{switch(O){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},N=O=>{switch(O){case"real_estate":return"Immobilier";case"automobile":return"Automobile";case"services":return"Services";case"marketplace":return"Marketplace";default:return"Autre"}},C=async()=>{if(!r){t("/connexion");return}try{p(!f),n({title:f?"Retiré des favoris":"Ajouté aux favoris",description:f?"L'annonce a été retirée de vos favoris.":"L'annonce a été ajoutée à vos favoris."})}catch{n({title:"Erreur",description:"Impossible de modifier les favoris.",variant:"destructive"})}},A=async O=>{if(O==="whatsapp"||O==="phone"){const I=i.contact_info?.phone||i.users?.phone_number;if(!I){n({title:"Pas de numéro disponible",description:"Aucun numéro de téléphone n'est disponible pour cette annonce.",variant:"destructive"});return}const B=I.replace(/[\s\-\(\)]/g,""),K=B.startsWith("+")?B:B.startsWith("221")?`+${B}`:`+221${B}`;if(O==="phone")window.open(`tel:${K}`,"_blank"),n({title:"Appel en cours",description:`Appel vers ${K}`});else if(O==="whatsapp"){const V=encodeURIComponent(`Bonjour ! Je suis intéressé(e) par votre annonce "${i.title}".

Pouvez-vous me donner plus d'informations ?`);window.open(`https://wa.me/${K}?text=${V}`,"_blank"),n({title:"WhatsApp ouvert",description:`Conversation WhatsApp avec ${K}`})}return}if(O==="message"){if(!r){n({title:"Connexion requise",description:"Connectez-vous pour envoyer un message privé au vendeur.",variant:"default"}),t("/connexion");return}if(i.user_id===r.id){n({title:"Action impossible",description:"Vous ne pouvez pas vous contacter vous-même.",variant:"destructive"});return}if(!i.user_id||i.user_id==="test-user-1"){n({title:"Annonce de test",description:"Cette annonce est en mode test. Les fonctionnalités de contact ne sont pas disponibles.",variant:"default"});return}try{const B=await _i.createConversation(i.user_id,i.id);t(`/messages?conversation=${B.id}&listing=${i.id}`),n({title:"Conversation créée",description:"Vous avez été redirigé vers la messagerie."})}catch(B){console.error("Erreur lors de la création de la conversation:",B),n({title:"Erreur",description:"Impossible de créer la conversation. Veuillez réessayer.",variant:"destructive"})}}},k=()=>{if(!r){t("/connexion");return}v(!0)},P=()=>{console.log("Signalement soumis avec succès")};return c?a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'annonce..."})]})}):i?a.jsxs(Re.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(ue,{variant:"ghost",onClick:()=>t(-1),className:"mb-4",children:[a.jsx(Zh,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx(ar,{to:"/",className:"hover:text-primary",children:"Accueil"}),a.jsx("span",{children:"/"}),a.jsx(ar,{to:`/${i.category==="real_estate"?"immobilier":i.category==="automobile"?"automobile":i.category==="services"?"services":"marketplace"}`,className:"hover:text-primary",children:N(i.category)}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:i.title})]})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsx(tPe,{images:b,title:i.title})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.title}),a.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(No,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:i.location&&typeof i.location=="object"&&i.location.city?`${i.location.city}, ${i.location.country||""}`:"Localisation non spécifiée"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ul,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["Publié le ",_(i.created_at)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(PJ,{listing:i,variant:"compact"}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:k,children:[a.jsx(Cd,{className:"h-4 w-4 mr-1"}),"Signaler"]})]})]}),a.jsx("div",{className:"text-3xl font-bold text-primary mb-4",children:y(i.price)}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.jsxs(mt,{variant:"secondary",className:"bg-primary/10 text-primary",children:[S(i.category)," ",N(i.category)]}),i.status==="approved"&&a.jsx(mt,{variant:"default",className:"badge-approved",children:"Approuvé"})]})]}),a.jsx(mv,{className:"my-8"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Description"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("p",{className:"whitespace-pre-line",children:i.description})})]}),i.real_estate_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails immobiliers"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.real_estate_details.type&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.type})]}),i.real_estate_details.rooms&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pièces"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.rooms})]}),i.real_estate_details.surface&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),a.jsxs("p",{className:"font-medium",children:[i.real_estate_details.surface," m²"]})]})]})]}),i.automobile_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails automobile"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.automobile_details.brand&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Marque"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.brand})]}),i.automobile_details.model&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Modèle"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.model})]}),i.automobile_details.year&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Année"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.year})]}),i.automobile_details.fuel&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carburant"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.fuel})]})]})]}),a.jsx("div",{className:"mt-12 mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contacter le vendeur"}),i.users&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendeur"}),a.jsxs("p",{className:"font-medium",children:[i.users.first_name," ",i.users.last_name]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs(ue,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>A("whatsapp"),children:[a.jsx(Xn,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),a.jsxs(ue,{className:"w-full",onClick:()=>A("phone"),children:[a.jsx(Fa,{className:"h-4 w-4 mr-2"}),"Appeler"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>A("message"),children:[a.jsx(cu,{className:"h-4 w-4 mr-2"}),"Message"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:C,children:[a.jsx(Ao,{className:`h-4 w-4 mr-2 ${f?"fill-red-500 text-red-500":""}`}),f?"Retirer":"Favoris"]})]}),!r&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["💡 ",a.jsx("strong",{children:"Conseil :"})," Vous pouvez contacter le vendeur directement par WhatsApp ou téléphone sans créer de compte. Connectez-vous uniquement si vous souhaitez utiliser la messagerie privée."]})})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conseils de sécurité"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsx("li",{children:"• Rencontrez le vendeur dans un lieu public"}),a.jsx("li",{children:"• Vérifiez l'état du bien avant l'achat"}),a.jsx("li",{children:"• Paiements en espèces recommandés - Évitez tout dépôt électronique sans avoir inspecté le bien et vérifié la fiabilité du vendeur"}),a.jsx("li",{children:"• Signalez tout comportement suspect"})]})]})}),a.jsx("div",{className:"mb-8",children:a.jsx(nPe,{listingId:i.id,listing:i,className:"mt-8"})}),o.length>0&&a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Annonces similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(O=>a.jsx(ar,{to:`/annonce/${O.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:O.title,src:O.images?.[0]||b[0]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:O.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:O.description}),a.jsx("p",{className:"text-lg font-bold text-primary mt-2",children:y(O.price)})]})]})},O.id))})]})]})}),a.jsx(iPe,{isOpen:g,onClose:()=>v(!1),listing:i,onReportSubmitted:P})]}):null},aPe=()=>{const{user:e}=jr(),[t,r]=x.useState([]),[n,i]=x.useState([]),[s,o]=x.useState(!0),[l,c]=x.useState("grid"),[u,f]=x.useState(""),[p,g]=x.useState([]),[v,b]=x.useState(null),[y,_]=x.useState(""),S=async()=>{if(e){o(!0);try{const{data:O,error:I}=await we.from("favorites").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(I)throw I;const B=O.map(K=>K.listing_id);if(B.length>0){const{data:K,error:V}=await we.from("listings").select(`
            *,
            user:users(id, full_name, avatar_url),
            category:categories(name, slug)
          `).in("id",B).eq("status","approved");if(V)throw V;const U=O.map(q=>{const H=K.find(G=>G.id===q.listing_id);return{...q,listing:H}}).filter(q=>q.listing);r(U),i(K)}else r([]),i([])}catch(O){console.error("Erreur chargement favoris:",O)}finally{o(!1)}}},N=async O=>{try{const{error:I}=await we.from("favorites").delete().eq("id",O);if(I)throw I;r(B=>B.filter(K=>K.id!==O))}catch(I){console.error("Erreur suppression favoris:",I)}},C=async(O,I)=>{try{const{error:B}=await we.from("favorites").update({notes:I}).eq("id",O);if(B)throw B;r(K=>K.map(V=>V.id===O?{...V,notes:I}:V)),b(null),_("")}catch(B){console.error("Erreur mise à jour notes:",B)}};x.useEffect(()=>{S()},[e]);const A=t.filter(O=>{const I=O.listing;if(!I)return!1;const B=u===""||I.title.toLowerCase().includes(u.toLowerCase())||I.description?.toLowerCase().includes(u.toLowerCase())||O.notes?.toLowerCase().includes(u.toLowerCase()),K=p.length===0||p.some(V=>O.tags?.includes(V));return B&&K}),k=[...new Set(t.flatMap(O=>O.tags||[]))].sort(),P={total:t.length,withNotes:t.filter(O=>O.notes).length,withTags:t.filter(O=>O.tags&&O.tags.length>0).length,categories:[...new Set(t.map(O=>O.listing?.category?.name).filter(Boolean))]};return e?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[P.total," annonce(s) sauvegardée(s)"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[P.withNotes," avec notes"]}),a.jsxs("span",{children:[P.withTags," avec tags"]}),a.jsxs("span",{children:[P.categories.length," catégories"]})]})]})}),a.jsx("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Rechercher dans vos favoris...",value:u,onChange:O=>f(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Fi,{size:20,className:"text-gray-400"}),a.jsxs("select",{value:p.length>0?p[0]:"",onChange:O=>g(O.target.value?[O.target.value]:[]),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Tous les tags"}),k.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded ${l==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(rde,{size:20})}),a.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded ${l==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(ade,{size:20})})]})]})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de vos favoris..."})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ao,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:u||p.length>0?"Aucun résultat":"Aucun favori"}),a.jsx("p",{className:"mt-2 text-gray-600",children:u||p.length>0?"Essayez de modifier vos critères de recherche":"Commencez à ajouter des annonces à vos favoris"})]}):a.jsx("div",{className:l==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(O=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4",children:a.jsx(pu,{listing:O.listing,compact:l==="list"})}),a.jsxs("div",{className:"px-4 pb-4",children:[O.tags&&O.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:O.tags.map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(Zd,{size:12,className:"mr-1"}),I]},I))}),a.jsx("div",{className:"mb-3",children:v===O.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:y,onChange:I=>_(I.target.value),placeholder:"Ajouter une note...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:"2"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>C(O.id,y),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Sauvegarder"}),a.jsx("button",{onClick:()=>{b(null),_("")},className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Annuler"})]})]}):a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600 flex-1",children:O.notes||"Aucune note"}),a.jsx("button",{onClick:()=>{b(O.id),_(O.notes||"")},className:"ml-2 p-1 text-gray-400 hover:text-gray-600",children:a.jsx(hde,{size:14})})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Ajouté le ",new Date(O.created_at).toLocaleDateString("fr-FR")]}),a.jsxs("button",{onClick:()=>N(O.id),className:"flex items-center space-x-1 text-red-600 hover:text-red-800 text-sm",children:[a.jsx(nde,{size:14}),a.jsx("span",{children:"Retirer"})]})]})]})]},O.id))})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Connectez-vous pour voir vos favoris"})})},oPe=()=>a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(Ao,{className:"h-12 w-12 text-primary mr-4"}),a.jsx("h1",{className:"text-4xl font-bold",children:"Mes Favoris"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Retrouvez toutes vos annonces sauvegardées et gérez vos favoris en toute simplicité."})]}),a.jsxs(Tt,{className:"shadow-lg border-0",children:[a.jsx(nr,{children:a.jsxs(ir,{className:"flex items-center space-x-2",children:[a.jsx(Ao,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Annonces Favorites"})]})}),a.jsx(At,{children:a.jsx(aPe,{})})]}),a.jsxs("div",{className:"text-center mt-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>window.location.href="/marketplace",children:"Explorer le Marketplace"})]})]})}),lPe=()=>{const{user:e,hasRole:t}=jr(),r=Bn(),[n,i]=x.useState(!1),[s,o]=x.useState(!0),[l,c]=x.useState(!0),[u,f]=x.useState([{title:"Utilisateurs Actifs",value:"-",icon:a.jsx(Ua,{className:"h-8 w-8 text-blue-400"}),trend:"Chargement...",color:"blue",key:"activeUsers"},{title:"Annonces en Attente",value:"-",icon:a.jsx(Wg,{className:"h-8 w-8 text-yellow-400"}),trend:"Chargement...",color:"yellow",key:"pendingListings"},{title:"Revenus (30j)",value:"-",icon:a.jsx(Yh,{className:"h-8 w-8 text-green-400"}),trend:"Chargement...",color:"green",key:"revenue"},{title:"Activités Récentes",value:"-",icon:a.jsx(Xn,{className:"h-8 w-8 text-red-400"}),trend:"Chargement...",color:"red",key:"recentActivities"}]),[p,g]=x.useState([]),[v]=x.useState([{label:"Gérer les Annonces",icon:a.jsx(Wg,{className:"mr-3 h-5 w-5"}),color:"blue",link:"/admin/listings"},{label:"Gérer les Utilisateurs",icon:a.jsx(Ua,{className:"mr-3 h-5 w-5"}),color:"green",link:"/admin/users"},{label:"Voir les Transactions",icon:a.jsx(Yh,{className:"mr-3 h-5 w-5"}),color:"purple",link:"/admin/transactions"},{label:"Statistiques Détaillées",icon:a.jsx(KO,{className:"mr-3 h-5 w-5"}),color:"teal",link:"/admin/analytics"}]);x.useEffect(()=>{(async()=>{try{if(e){const N=t("admin");if(i(N),!N){BN.error("Accès non autorisé"),r("/");return}await b()}else r("/connexion",{state:{from:"/admin"}})}catch(N){console.error("Erreur de vérification des autorisations:",N),BN.error("Erreur lors de la vérification des autorisations"),r("/")}finally{o(!1)}})()},[e,t,r]);const b=async()=>{try{c(!0),console.log("🔍 Début du chargement des données du tableau de bord...");let S=[],N=[],C=[];try{S=(await zr.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",S.length)}catch(K){console.error("❌ Erreur lors du chargement des annonces:",K),S=[]}try{N=await Ba.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",N.length)}catch(K){console.error("❌ Erreur lors du chargement des utilisateurs:",K),N=[]}try{C=await k7.getUserNotifications(),console.log("🔍 Notifications récupérées:",C.length)}catch(K){console.error("❌ Erreur lors du chargement des notifications:",K),C=[]}const A=N.filter(K=>K.status==="active").length,k=N.length,P=S.filter(K=>K.status==="pending").length,O=S.length,I=C.slice(0,5);console.log("🔍 Statistiques calculées:",{activeUsers:A,totalUsers:k,pendingListings:P,totalListings:O,recentNotifications:I.length}),f(K=>K.map(V=>V.key==="activeUsers"?{...V,value:A.toLocaleString(),trend:`Total: ${k}`}:V.key==="pendingListings"?{...V,value:P.toString(),trend:`Total: ${O}`}:V.key==="revenue"?{...V,value:"0 FCFA",trend:"Revenus du mois"}:V.key==="recentActivities"?{...V,value:I.length.toString(),trend:"Dernières activités"}:V));const B=I.map(K=>({id:K.id||`notif-${Date.now()}`,type:K.type||"Notification",item:K.title||K.message||"Nouvelle activité",timestamp:K.created_at,status:K.read?"read":"unread"}));g(B),console.log("✅ Données du tableau de bord chargées avec succès")}catch(S){console.error("❌ Erreur lors du chargement des données du tableau de bord:",S),BN.error("Erreur lors du chargement des données"),f(N=>N.map(C=>C.key==="activeUsers"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="pendingListings"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="revenue"?{...C,value:"0 FCFA",trend:"Erreur de chargement"}:C.key==="recentActivities"?{...C,value:"0",trend:"Erreur de chargement"}:C))}finally{c(!1)}},y=S=>{const N=new Date,C=new Date(S),A=Math.floor((N-C)/1e3);return A<60?"À l'instant":A<3600?`Il y a ${Math.floor(A/60)} min`:A<86400?`Il y a ${Math.floor(A/3600)} h`:`Il y a ${Math.floor(A/86400)} j`};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Mr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!n)return a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Pn,{className:"h-12 w-12 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accès refusé"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),a.jsx(ue,{onClick:()=>r("/"),children:"Retour à l'accueil"})]})});const _=(S,N)=>{if(N==="Approuvée"||N==="Complétée"||N.startsWith("VIP"))return a.jsx(dde,{className:"h-5 w-5 text-green-400"});if(N==="En attente KYC"||N==="En cours d'examen")return a.jsx(Yd,{className:"h-5 w-5 text-yellow-400"});switch(S){case"Immobilier":return a.jsx(Wg,{className:"h-5 w-5 text-blue-400"});case"Automobile":return a.jsx(b_,{className:"h-5 w-5 text-red-400"});case"Services":return a.jsx(Od,{className:"h-5 w-5 text-purple-400"});case"Marketplace":return a.jsx(Gd,{className:"h-5 w-5 text-yellow-400"});case"Utilisateur":return a.jsx(Ua,{className:"h-5 w-5 text-teal-400"});default:return a.jsx(w_,{className:"h-5 w-5 text-gray-400"})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 sm:p-8",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:["Tableau de Bord Administrateur ",a.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),a.jsx("p",{className:"text-md sm:text-lg text-slate-400",children:"Vue d'ensemble et gestion de la marketplace."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-10",children:u.map((S,N)=>a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:N*.1},className:`bg-slate-800 p-5 rounded-xl shadow-lg border border-slate-700 hover:border-${S.color}-500 transition-colors`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-md font-semibold text-slate-300",children:S.title}),S.icon]}),l?a.jsx("div",{className:"flex items-center justify-center h-12",children:a.jsx(Mr,{className:"h-6 w-6 animate-spin text-gray-400"})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:S.value}),a.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[a.jsx(sa,{className:`mr-1 h-4 w-4 text-${S.color}-400`}),S.trend]})]})]},S.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[a.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"lg:col-span-1 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Actions Rapides"}),a.jsx("div",{className:"space-y-3",children:v.map(S=>a.jsxs("a",{href:S.link,className:`w-full flex items-center justify-start p-3 bg-${S.color}-600/10 hover:bg-${S.color}-600/20 text-${S.color}-300 rounded-lg transition-colors`,children:[S.icon," ",S.label]},S.label))})]}),a.jsxs(Re.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Activité Récente"}),a.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:l?a.jsx("div",{className:"flex items-center justify-center h-40",children:a.jsx(Mr,{className:"h-8 w-8 animate-spin text-blue-400"})}):p.length>0?p.map(S=>a.jsxs("div",{className:"flex items-start p-3 bg-slate-700/50 rounded-lg",children:[a.jsx("div",{className:`p-2 bg-${S.status==="Approuvée"||S.status==="Complétée"||S.status.startsWith("VIP")?"green":S.status==="En attente KYC"||S.status==="En cours d'examen"?"yellow":"slate"}-600/30 rounded-full mr-3`,children:_(S.category,S.status)}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("p",{className:"font-medium text-slate-200 text-sm",children:[a.jsxs("span",{className:"font-bold",children:[S.type,":"]})," ",S.item,S.value&&a.jsxs("span",{className:"text-green-400",children:[" (",S.value,")"]})]}),a.jsxs("p",{className:"text-xs text-slate-400",children:[S.timestamp?y(S.timestamp):"Récemment"," - ",a.jsx("span",{className:`font-semibold text-${S.status==="read"?"green":"yellow"}-400`,children:S.status==="read"?"Lu":"Non lu"})]})]})]},S.id)):a.jsx("div",{className:"text-center py-8 text-slate-400",children:l?"Chargement des activités...":"Aucune activité récente à afficher"})})]})]})]})},cPe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},uPe=(e,t,r)=>{let n;const i=cPe[e];return typeof i=="string"?n=i:t===1?n=i.one:n=i.other.replace("{{count}}",String(t)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},dPe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},fPe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},hPe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pPe={date:Ih({formats:dPe,defaultWidth:"full"}),time:Ih({formats:fPe,defaultWidth:"full"}),dateTime:Ih({formats:hPe,defaultWidth:"full"})},mPe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},gPe=(e,t,r,n)=>mPe[e],vPe={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},yPe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},xPe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},bPe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},wPe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},_Pe=(e,t)=>{const r=Number(e),n=t?.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},jPe=["MMM","MMMM"],SPe={preprocessor:(e,t)=>e.getDate()===1||!t.some(n=>n.isToken&&jPe.includes(n.value))?t:t.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:_Pe,era:go({values:vPe,defaultWidth:"wide"}),quarter:go({values:yPe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:go({values:xPe,defaultWidth:"wide"}),day:go({values:bPe,defaultWidth:"wide"}),dayPeriod:go({values:wPe,defaultWidth:"wide"})},NPe=/^(\d+)(ième|ère|ème|er|e)?/i,CPe=/\d+/i,EPe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},PPe={any:[/^av/i,/^ap/i]},TPe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},kPe={any:[/1/i,/2/i,/3/i,/4/i]},APe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},OPe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},RPe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},MPe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},IPe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},LPe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},DPe={ordinalNumber:I7({matchPattern:NPe,parsePattern:CPe,valueCallback:e=>parseInt(e)}),era:vo({matchPatterns:EPe,defaultMatchWidth:"wide",parsePatterns:PPe,defaultParseWidth:"any"}),quarter:vo({matchPatterns:TPe,defaultMatchWidth:"wide",parsePatterns:kPe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:vo({matchPatterns:APe,defaultMatchWidth:"wide",parsePatterns:OPe,defaultParseWidth:"any"}),day:vo({matchPatterns:RPe,defaultMatchWidth:"wide",parsePatterns:MPe,defaultParseWidth:"any"}),dayPeriod:vo({matchPatterns:IPe,defaultMatchWidth:"any",parsePatterns:LPe,defaultParseWidth:"any"})},Qp={code:"fr",formatDistance:uPe,formatLong:pPe,formatRelative:gPe,localize:SPe,match:DPe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function $Pe(){const{toast:e}=Zr(),t=Bo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[f,p]=x.useState("desc"),[g,v]=x.useState(1),[b,y]=x.useState(10),{data:_,isLoading:S,isError:N}=Zn({queryKey:["adminUsers",{searchTerm:r,statusFilter:i,roleFilter:o,sortBy:c,sortOrder:f,page:g,perPage:b}],queryFn:async()=>await Ba.getAllUsers()}),C=oi({mutationFn:({userId:U,status:q})=>Ba.updateUserStatus(U,q),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Statut utilisateur mis à jour avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Une erreur est survenue",variant:"destructive"})}}),A=oi({mutationFn:U=>Ba.updateUserStatus(U,"deleted"),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Utilisateur supprimé avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Une erreur est survenue lors de la suppression",variant:"destructive"})}}),k=oi({mutationFn:({userId:U,role:q})=>Ba.updateUserRole(U,q),onSuccess:()=>{t.invalidateQueries(["adminUsers"]),e({title:"Succès",description:"Rôle utilisateur mis à jour avec succès"})},onError:U=>{e({title:"Erreur",description:U.message||"Une erreur est survenue",variant:"destructive"})}}),P=(U,q)=>{C.mutate({userId:U,status:q})},O=(U,q)=>{k.mutate({userId:U,role:q})},I=U=>{window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.")&&A.mutate(U)},B=()=>{try{if(!_||_.length===0){e({title:"Aucune donnée",description:"Aucun utilisateur à exporter",variant:"destructive"});return}j_.users(_,"utilisateurs-maximarket"),e({title:"Export réussi",description:"Liste des utilisateurs exportée en CSV"})}catch(U){e({title:"Erreur d'export",description:U.message||"Impossible d'exporter les données",variant:"destructive"})}},K=()=>{e({title:"Fonctionnalité à venir",description:"La création d'utilisateur sera bientôt disponible"})},V=U=>{n(U.target.value),v(1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les utilisateurs de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>B(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:K,children:[a.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Nouvel Utilisateur"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:V,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher un utilisateur...",className:"pl-8",value:r,onChange:U=>n(U.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Ar,{value:i,onValueChange:s,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les statuts"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"active",children:"Actif"}),a.jsx(Ge,{value:"inactive",children:"Inactif"}),a.jsx(Ge,{value:"suspended",children:"Suspendu"}),a.jsx(Ge,{value:"pending",children:"En attente"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rôle"}),a.jsxs(Ar,{value:o,onValueChange:l,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les rôles"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les rôles"}),a.jsx(Ge,{value:"user",children:"Utilisateur"}),a.jsx(Ge,{value:"vendor",children:"Vendeur"}),a.jsx(Ge,{value:"admin",children:"Administrateur"}),a.jsx(Ge,{value:"moderator",children:"Modérateur"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ar,{value:c,onValueChange:u,children:[a.jsx(Tr,{className:"w-full",children:a.jsx(Or,{placeholder:"Trier par"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"createdAt",children:"Date d'inscription"}),a.jsx(Ge,{value:"name",children:"Nom"}),a.jsx(Ge,{value:"email",children:"Email"}),a.jsx(Ge,{value:"lastLogin",children:"Dernière connexion"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>p(f==="asc"?"desc":"asc"),children:f==="asc"?a.jsx(Nd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Gp,{children:[a.jsx(Zp,{children:a.jsxs(sn,{children:[a.jsx(ur,{children:"Utilisateur"}),a.jsx(ur,{children:"Email"}),a.jsx(ur,{children:"Rôle"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Inscrit le"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(Yp,{children:S?a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des utilisateurs"})}):_?.length>0?_.slice((g-1)*b,g*b).map(U=>a.jsxs(sn,{children:[a.jsx(Mt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:U.first_name?.charAt(0)||U.last_name?.charAt(0)||"U"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.first_name&&U.last_name?`${U.first_name} ${U.last_name}`:U.first_name||U.last_name||"Utilisateur sans nom"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",U.id?.substring(0,6),"..."]})]})]})}),a.jsx(Mt,{children:U.email}),a.jsx(Mt,{children:a.jsxs(Ar,{value:U.role,onValueChange:q=>O(U.id,q),disabled:k.isLoading,children:[a.jsx(Tr,{className:"w-[120px]",children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"user",children:"Utilisateur"}),a.jsx(Ge,{value:"vendor",children:"Vendeur"}),a.jsx(Ge,{value:"moderator",children:"Modérateur"}),a.jsx(Ge,{value:"admin",children:"Administrateur"})]})]})}),a.jsx(Mt,{children:a.jsx(mt,{variant:U.status==="active"?"default":U.status==="suspended"?"destructive":"outline",className:"capitalize",children:U.status==="active"?"Actif":U.status==="suspended"?"Suspendu":U.status==="pending"?"En attente":"Inactif"})}),a.jsx(Mt,{children:U.created_at?Er(new Date(U.created_at),"PP",{locale:Qp}):"N/A"}),a.jsx(Mt,{className:"text-right",children:a.jsxs(tf,{children:[a.jsx(rf,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Hd,{className:"h-4 w-4"})]})}),a.jsxs(vu,{align:"end",children:[a.jsxs(xr,{children:[a.jsx(cu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Envoyer un message"})]}),a.jsx(xr,{onClick:()=>P(U.id,U.status==="active"?"suspended":"active"),disabled:C.isLoading,children:U.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(Sde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Suspendre"})]}):a.jsxs(a.Fragment,{children:[a.jsx(jde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Activer"})]})}),a.jsx(Wp,{}),a.jsxs(xr,{className:"text-destructive",onClick:()=>I(U.id),disabled:A.isLoading,children:[a.jsx(Ka,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},U.id)):a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"h-24 text-center",children:"Aucun utilisateur trouvé"})})})]})}),_&&_.length>b&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*b+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*b,_.length)})," ","sur ",a.jsx("span",{className:"font-medium",children:_.length})," utilisateurs"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Ar,{value:`${b}`,onValueChange:U=>{y(Number(U)),v(1)},children:[a.jsx(Tr,{className:"h-8 w-[70px]",children:a.jsx(Or,{placeholder:b})}),a.jsx(kr,{side:"top",children:[5,10,20,30,40,50].map(U=>a.jsx(Ge,{value:`${U}`,children:U},U))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(_.length/b)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(fy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Wa,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(_.length/b),g+1)),disabled:g===Math.ceil(_.length/b),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Ha,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(_.length/b)),disabled:g===Math.ceil(_.length/b),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(hy,{className:"h-4 w-4"})]})]})]})]})]})}function FPe(){const{toast:e}=Zr(),t=Bo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("created_at"),[f,p]=x.useState("desc"),[g,v]=x.useState(1),[b,y]=x.useState(10),{data:_,isLoading:S,isError:N}=Zn({queryKey:["adminListings",{searchTerm:r,statusFilter:i,categoryFilter:o,sortBy:c,sortOrder:f,page:g,perPage:b}],queryFn:async()=>{const W={};return r&&(W.search=r),i!=="all"&&(W.status=i),o!=="all"&&(W.category=o),await zr.getAllListings(W)}}),C=_?.data||[],A=_?.count||0;_?.hasMore;const{data:k}=Zn({queryKey:["categories"],queryFn:()=>Cg.getAllCategories()}),P=oi({mutationFn:W=>zr.updateListingStatus(W,"approved"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce approuvée avec succès"})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors de l'approbation",variant:"destructive"})}}),O=oi({mutationFn:W=>zr.updateListingStatus(W,"rejected"),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce rejetée avec succès"})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors du rejet",variant:"destructive"})}}),I=oi({mutationFn:W=>zr.deleteListing(W),onSuccess:()=>{t.invalidateQueries(["adminListings"]),e({title:"Succès",description:"Annonce supprimée avec succès"})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors de la suppression",variant:"destructive"})}}),B=oi({mutationFn:({listingId:W,featured:ee})=>zr.updateListing(W,{featured:ee}),onSuccess:(W,ee)=>{t.invalidateQueries(["adminListings"]);const X=ee.featured?"mise en avant":"retirée de l'avant";e({title:"Succès",description:`Annonce ${X} avec succès`})},onError:W=>{e({title:"Erreur",description:W.message||"Erreur lors de la mise à jour",variant:"destructive"})}}),K=W=>{P.mutate(W)},V=W=>{O.mutate(W)},U=W=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette annonce ?")&&I.mutate(W)},q=(W,ee)=>{B.mutate({listingId:W,featured:ee})},H=W=>{W.preventDefault(),v(1)},G=W=>{n(W.target.value),v(1)},se=()=>{try{if(!C||C.length===0){e({title:"Aucune donnée",description:"Aucune annonce à exporter",variant:"destructive"});return}j_.listings(C,"annonces-maximarket"),e({title:"Export réussi",description:"Liste des annonces exportée en CSV"})}catch(W){e({title:"Erreur d'export",description:W.message||"Impossible d'exporter les données",variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et modérez les annonces de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>se(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsx(ue,{asChild:!0,children:a.jsxs(ar,{to:"/creer-annonce",children:[a.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Nouvelle Annonce"]})})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:H,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher une annonce...",className:"pl-8",value:r,onChange:G})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Ar,{value:i,onValueChange:s,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les statuts"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"pending",children:"En attente"}),a.jsx(Ge,{value:"approved",children:"Approuvé"}),a.jsx(Ge,{value:"rejected",children:"Rejeté"}),a.jsx(Ge,{value:"expired",children:"Expiré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Catégorie"}),a.jsxs(Ar,{value:o,onValueChange:l,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Toutes les catégories"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Toutes les catégories"}),a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Ar,{value:c,onValueChange:u,children:[a.jsx(Tr,{className:"w-full",children:a.jsx(Or,{placeholder:"Trier par"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"created_at",children:"Date de création"}),a.jsx(Ge,{value:"title",children:"Titre"}),a.jsx(Ge,{value:"price",children:"Prix"}),a.jsx(Ge,{value:"views",children:"Vues"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>p(f==="asc"?"desc":"asc"),children:f==="asc"?a.jsx(Nd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",onClick:()=>se(),children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Gp,{children:[a.jsx(Zp,{children:a.jsxs(sn,{children:[a.jsx(ur,{children:"Annonce"}),a.jsx(ur,{children:"Catégorie"}),a.jsx(ur,{children:"Prix"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Créé le"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(Yp,{children:S?a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des annonces"})}):C?.length>0?C.map(W=>a.jsxs(sn,{children:[a.jsx(Mt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-md bg-slate-100 flex items-center justify-center",children:W.images?.[0]?a.jsx("img",{src:W.images[0],alt:W.title,className:"h-12 w-12 rounded-md object-cover"}):a.jsx("div",{className:"text-slate-400",children:"📷"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:W.title}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Par ",W.users?.first_name&&W.users?.last_name?`${W.users.first_name} ${W.users.last_name}`:W.users?.first_name||W.users?.last_name||"Utilisateur"]})]})]})}),a.jsx(Mt,{children:a.jsx(mt,{variant:"outline",className:"capitalize",children:W.category==="real_estate"?"Immobilier":W.category==="automobile"?"Automobile":W.category==="services"?"Services":W.category==="marketplace"?"Marketplace":"Général"})}),a.jsx(Mt,{children:W.price?`${W.price.toLocaleString()} FCFA`:"N/A"}),a.jsx(Mt,{children:a.jsx(mt,{variant:W.status==="approved"?"default":W.status==="rejected"?"destructive":"outline",className:"capitalize",children:W.status==="pending"?"En attente":W.status==="approved"?"Approuvé":W.status==="rejected"?"Rejeté":W.status==="expired"?"Expiré":W.status})}),a.jsx(Mt,{children:W.created_at?Er(new Date(W.created_at),"PP",{locale:Qp}):"N/A"}),a.jsx(Mt,{className:"text-right",children:a.jsxs(tf,{children:[a.jsx(rf,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Hd,{className:"h-4 w-4"})]})}),a.jsxs(vu,{align:"end",children:[a.jsxs(xr,{children:[a.jsx(Ml,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Voir les détails"})]}),W.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(xr,{onClick:()=>K(W.id),disabled:P.isLoading,children:[a.jsx(Yn,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),a.jsxs(xr,{onClick:()=>V(W.id),disabled:O.isLoading,children:[a.jsx(ZO,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Rejeter"})]})]}),W.status==="rejected"&&a.jsxs(xr,{onClick:()=>K(W.id),disabled:P.isLoading,children:[a.jsx(Yn,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),W.status==="expired"&&a.jsxs(xr,{onClick:()=>K(W.id),disabled:P.isLoading,children:[a.jsx(Yn,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Réactiver"})]}),a.jsx(xr,{onClick:()=>q(W.id,!W.featured),disabled:B.isLoading,children:W.featured?a.jsxs(a.Fragment,{children:[a.jsx(bde,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Retirer la mise en avant"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Is,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Mettre en avant"})]})}),a.jsx(Wp,{}),a.jsxs(xr,{className:"text-destructive",onClick:()=>U(W.id),disabled:I.isLoading,children:[a.jsx(Ka,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},W.id)):a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"h-24 text-center",children:"Aucune annonce trouvée"})})})]})}),A>b&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*b+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*b,A)})," ","sur ",a.jsx("span",{className:"font-medium",children:A})," annonces"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Ar,{value:`${b}`,onValueChange:W=>{y(Number(W)),v(1)},children:[a.jsx(Tr,{className:"h-8 w-[70px]",children:a.jsx(Or,{placeholder:b})}),a.jsx(kr,{side:"top",children:[5,10,20,30,40,50].map(W=>a.jsx(Ge,{value:`${W}`,children:W},W))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(A/b)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(fy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Wa,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(A/b),g+1)),disabled:g===Math.ceil(A/b),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Ha,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(A/b)),disabled:g===Math.ceil(A/b),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(hy,{className:"h-4 w-4"})]})]})]})]})]})}function BPe(){const[e,t]=x.useState(""),[r,n]=x.useState("all"),[i,s]=x.useState("all"),[o,l]=x.useState("created_at"),[c,u]=x.useState("desc"),[f,p]=x.useState(1),[g,v]=x.useState(10),{data:b,isLoading:y,isError:_}=Zn({queryKey:["adminTransactions",{searchTerm:e,statusFilter:r,typeFilter:i,sortBy:o,sortOrder:c,page:f,perPage:g}],queryFn:async()=>{const P={};return r!=="all"&&(P.status=r),i!=="all"&&(P.type=i),await Ude.getAllTransactions(P)}}),S=P=>{t(P.target.value),p(1)},N=(P,O="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:O,minimumFractionDigits:0,maximumFractionDigits:0}).format(P),C=P=>{switch(P){case"completed":return a.jsxs(mt,{variant:"success",children:[a.jsx(Yn,{className:"mr-1 h-3 w-3"})," Complétée"]});case"pending":return a.jsxs(mt,{variant:"warning",children:[a.jsx(la,{className:"mr-1 h-3 w-3"})," En attente"]});case"failed":return a.jsxs(mt,{variant:"destructive",children:[a.jsx(ZO,{className:"mr-1 h-3 w-3"})," Échouée"]});case"refunded":return a.jsxs(mt,{variant:"outline",children:[a.jsx(Vg,{className:"mr-1 h-3 w-3"})," Remboursée"]});default:return a.jsx(mt,{variant:"outline",children:P})}},A=P=>{switch(P){case"purchase":return a.jsx(mt,{variant:"default",children:"Achat"});case"subscription":return a.jsx(mt,{variant:"secondary",children:"Abonnement"});case"refund":return a.jsx(mt,{variant:"outline",children:"Remboursement"});default:return a.jsx(mt,{variant:"outline",children:P})}},k=b?{totalRevenue:b.filter(P=>P.status==="completed").reduce((P,O)=>P+(O.amount||0),0),totalTransactions:b.length,successRate:b.length>0?Math.round(b.filter(P=>P.status==="completed").length/b.length*100):0,averageOrderValue:b.filter(P=>P.status==="completed").length>0?b.filter(P=>P.status==="completed").reduce((P,O)=>P+(O.amount||0),0)/b.filter(P=>P.status==="completed").length:0}:{totalRevenue:0,totalTransactions:0,successRate:0,averageOrderValue:0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et surveillez toutes les transactions de la plateforme"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter"]})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(Yh,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chiffre d'affaires total"}),a.jsx("p",{className:"text-2xl font-bold",children:N(k.totalRevenue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 12% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Vg,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),a.jsx("p",{className:"text-2xl font-bold",children:k.totalTransactions})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 8% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Yn,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de réussite"}),a.jsxs("p",{className:"text-2xl font-bold",children:[k.successRate,"%"]})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 2% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/50",children:a.jsx(Pn,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur moyenne"}),a.jsx("p",{className:"text-2xl font-bold",children:N(k.averageOrderValue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 5% "}),"vs période précédente"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsx("form",{onSubmit:P=>{P.preventDefault(),p(1)},className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rechercher"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher une transaction...",className:"pl-8",value:e,onChange:S})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Ar,{value:r,onValueChange:n,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les statuts"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"pending",children:"En attente"}),a.jsx(Ge,{value:"completed",children:"Complétée"}),a.jsx(Ge,{value:"failed",children:"Échouée"}),a.jsx(Ge,{value:"refunded",children:"Remboursée"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(Ar,{value:i,onValueChange:s,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les types"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:"purchase",children:"Achats"}),a.jsx(Ge,{value:"subscription",children:"Abonnements"}),a.jsx(Ge,{value:"refund",children:"Remboursements"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs(Ar,{value:o,onValueChange:l,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Trier par"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"created_at",children:"Date"}),a.jsx(Ge,{value:"amount",children:"Montant"}),a.jsx(Ge,{value:"reference",children:"Référence"})]})]})]})]})})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(Gp,{children:[a.jsx(Zp,{children:a.jsxs(sn,{children:[a.jsx(ur,{children:"Référence"}),a.jsx(ur,{children:"Utilisateur"}),a.jsx(ur,{children:"Montant"}),a.jsx(ur,{children:"Type"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Date"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(Yp,{children:y?a.jsx(sn,{children:a.jsx(Mt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement des transactions..."})]})})}):_?a.jsx(sn,{children:a.jsx(Mt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-destructive",children:[a.jsx(Pn,{className:"mr-2 h-4 w-4"}),"Erreur lors du chargement des transactions"]})})}):b?.length===0?a.jsx(sn,{children:a.jsx(Mt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Vg,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucune transaction trouvée"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transactions apparaîtront ici une fois qu'elles seront créées."})]})})}):b?.map(P=>a.jsxs(sn,{children:[a.jsx(Mt,{className:"font-medium",children:P.payment_reference||P.id.slice(0,8)}),a.jsx(Mt,{children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[P.users?.first_name," ",P.users?.last_name]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:P.users?.email})]})}),a.jsx(Mt,{className:"font-medium",children:N(P.amount,P.currency)}),a.jsx(Mt,{children:A(P.type)}),a.jsx(Mt,{children:C(P.status)}),a.jsx(Mt,{children:P.created_at?Er(new Date(P.created_at),"PP",{locale:Qp}):"N/A"}),a.jsx(Mt,{className:"text-right",children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(Hd,{className:"h-4 w-4"})})})]},P.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(f-1)*g+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(f*g,b?.length||0)})," ","sur ",a.jsx("span",{className:"font-medium",children:b?.length||0})," transactions"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Ar,{value:`${g}`,onValueChange:P=>{v(Number(P)),p(1)},children:[a.jsx(Tr,{className:"h-8 w-[70px]",children:a.jsx(Or,{placeholder:g})}),a.jsx(kr,{side:"top",children:[5,10,20,30,40,50].map(P=>a.jsx(Ge,{value:`${P}`,children:P},P))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",f," sur ",Math.ceil((b?.length||0)/g)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(1),disabled:f===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(fy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.max(1,f-1)),disabled:f===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Wa,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.min(Math.ceil((b?.length||0)/g),f+1)),disabled:f===Math.ceil((b?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Ha,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>p(Math.ceil((b?.length||0)/g)),disabled:f===Math.ceil((b?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(hy,{className:"h-4 w-4"})]})]})]})]})]})}var zN,a5;function as(){if(a5)return zN;a5=1;var e=Array.isArray;return zN=e,zN}var qN,o5;function kJ(){if(o5)return qN;o5=1;var e=typeof Ts=="object"&&Ts&&Ts.Object===Object&&Ts;return qN=e,qN}var UN,l5;function qo(){if(l5)return UN;l5=1;var e=kJ(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return UN=r,UN}var VN,c5;function Fy(){if(c5)return VN;c5=1;var e=qo(),t=e.Symbol;return VN=t,VN}var WN,u5;function zPe(){if(u5)return WN;u5=1;var e=Fy(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(l?o[i]=c:delete o[i]),f}return WN=s,WN}var HN,d5;function qPe(){if(d5)return HN;d5=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return HN=r,HN}var KN,f5;function Hl(){if(f5)return KN;f5=1;var e=Fy(),t=zPe(),r=qPe(),n="[object Null]",i="[object Undefined]",s=e?e.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?t(l):r(l)}return KN=o,KN}var GN,h5;function Kl(){if(h5)return GN;h5=1;function e(t){return t!=null&&typeof t=="object"}return GN=e,GN}var ZN,p5;function em(){if(p5)return ZN;p5=1;var e=Hl(),t=Kl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||t(i)&&e(i)==r}return ZN=n,ZN}var YN,m5;function TM(){if(m5)return YN;m5=1;var e=as(),t=em(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(e(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||t(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return YN=i,YN}var XN,g5;function wu(){if(g5)return XN;g5=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return XN=e,XN}var JN,v5;function kM(){if(v5)return JN;v5=1;var e=Hl(),t=wu(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!t(l))return!1;var c=e(l);return c==n||c==i||c==r||c==s}return JN=o,JN}var QN,y5;function UPe(){if(y5)return QN;y5=1;var e=qo(),t=e["__core-js_shared__"];return QN=t,QN}var eC,x5;function VPe(){if(x5)return eC;x5=1;var e=UPe(),t=function(){var n=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!t&&t in n}return eC=r,eC}var tC,b5;function AJ(){if(b5)return tC;b5=1;var e=Function.prototype,t=e.toString;function r(n){if(n!=null){try{return t.call(n)}catch{}try{return n+""}catch{}}return""}return tC=r,tC}var rC,w5;function WPe(){if(w5)return rC;w5=1;var e=kM(),t=VPe(),r=wu(),n=AJ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||t(g))return!1;var v=e(g)?f:s;return v.test(n(g))}return rC=p,rC}var nC,_5;function HPe(){if(_5)return nC;_5=1;function e(t,r){return t?.[r]}return nC=e,nC}var iC,j5;function sf(){if(j5)return iC;j5=1;var e=WPe(),t=HPe();function r(n,i){var s=t(n,i);return e(s)?s:void 0}return iC=r,iC}var sC,S5;function o1(){if(S5)return sC;S5=1;var e=sf(),t=e(Object,"create");return sC=t,sC}var aC,N5;function KPe(){if(N5)return aC;N5=1;var e=o1();function t(){this.__data__=e?e(null):{},this.size=0}return aC=t,aC}var oC,C5;function GPe(){if(C5)return oC;C5=1;function e(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r}return oC=e,oC}var lC,E5;function ZPe(){if(E5)return lC;E5=1;var e=o1(),t="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(e){var l=o[s];return l===t?void 0:l}return n.call(o,s)?o[s]:void 0}return lC=i,lC}var cC,P5;function YPe(){if(P5)return cC;P5=1;var e=o1(),t=Object.prototype,r=t.hasOwnProperty;function n(i){var s=this.__data__;return e?s[i]!==void 0:r.call(s,i)}return cC=n,cC}var uC,T5;function XPe(){if(T5)return uC;T5=1;var e=o1(),t="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=e&&i===void 0?t:i,this}return uC=r,uC}var dC,k5;function JPe(){if(k5)return dC;k5=1;var e=KPe(),t=GPe(),r=ZPe(),n=YPe(),i=XPe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,dC=s,dC}var fC,A5;function QPe(){if(A5)return fC;A5=1;function e(){this.__data__=[],this.size=0}return fC=e,fC}var hC,O5;function AM(){if(O5)return hC;O5=1;function e(t,r){return t===r||t!==t&&r!==r}return hC=e,hC}var pC,R5;function l1(){if(R5)return pC;R5=1;var e=AM();function t(r,n){for(var i=r.length;i--;)if(e(r[i][0],n))return i;return-1}return pC=t,pC}var mC,M5;function eTe(){if(M5)return mC;M5=1;var e=l1(),t=Array.prototype,r=t.splice;function n(i){var s=this.__data__,o=e(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return mC=n,mC}var gC,I5;function tTe(){if(I5)return gC;I5=1;var e=l1();function t(r){var n=this.__data__,i=e(n,r);return i<0?void 0:n[i][1]}return gC=t,gC}var vC,L5;function rTe(){if(L5)return vC;L5=1;var e=l1();function t(r){return e(this.__data__,r)>-1}return vC=t,vC}var yC,D5;function nTe(){if(D5)return yC;D5=1;var e=l1();function t(r,n){var i=this.__data__,s=e(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return yC=t,yC}var xC,$5;function c1(){if($5)return xC;$5=1;var e=QPe(),t=eTe(),r=tTe(),n=rTe(),i=nTe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,xC=s,xC}var bC,F5;function OM(){if(F5)return bC;F5=1;var e=sf(),t=qo(),r=e(t,"Map");return bC=r,bC}var wC,B5;function iTe(){if(B5)return wC;B5=1;var e=JPe(),t=c1(),r=OM();function n(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}return wC=n,wC}var _C,z5;function sTe(){if(z5)return _C;z5=1;function e(t){var r=typeof t;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?t!=="__proto__":t===null}return _C=e,_C}var jC,q5;function u1(){if(q5)return jC;q5=1;var e=sTe();function t(r,n){var i=r.__data__;return e(n)?i[typeof n=="string"?"string":"hash"]:i.map}return jC=t,jC}var SC,U5;function aTe(){if(U5)return SC;U5=1;var e=u1();function t(r){var n=e(this,r).delete(r);return this.size-=n?1:0,n}return SC=t,SC}var NC,V5;function oTe(){if(V5)return NC;V5=1;var e=u1();function t(r){return e(this,r).get(r)}return NC=t,NC}var CC,W5;function lTe(){if(W5)return CC;W5=1;var e=u1();function t(r){return e(this,r).has(r)}return CC=t,CC}var EC,H5;function cTe(){if(H5)return EC;H5=1;var e=u1();function t(r,n){var i=e(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return EC=t,EC}var PC,K5;function RM(){if(K5)return PC;K5=1;var e=iTe(),t=aTe(),r=oTe(),n=lTe(),i=cTe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=e,s.prototype.delete=t,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,PC=s,PC}var TC,G5;function OJ(){if(G5)return TC;G5=1;var e=RM(),t="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(t);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||e),s}return r.Cache=e,TC=r,TC}var kC,Z5;function uTe(){if(Z5)return kC;Z5=1;var e=OJ(),t=500;function r(n){var i=e(n,function(o){return s.size===t&&s.clear(),o}),s=i.cache;return i}return kC=r,kC}var AC,Y5;function dTe(){if(Y5)return AC;Y5=1;var e=uTe(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(t,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return AC=n,AC}var OC,X5;function MM(){if(X5)return OC;X5=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=Array(i);++n<i;)s[n]=r(t[n],n,t);return s}return OC=e,OC}var RC,J5;function fTe(){if(J5)return RC;J5=1;var e=Fy(),t=MM(),r=as(),n=em(),i=e?e.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return t(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return RC=o,RC}var MC,Q5;function RJ(){if(Q5)return MC;Q5=1;var e=fTe();function t(r){return r==null?"":e(r)}return MC=t,MC}var IC,eB;function MJ(){if(eB)return IC;eB=1;var e=as(),t=TM(),r=dTe(),n=RJ();function i(s,o){return e(s)?s:t(s,o)?[s]:r(n(s))}return IC=i,IC}var LC,tB;function d1(){if(tB)return LC;tB=1;var e=em();function t(r){if(typeof r=="string"||e(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return LC=t,LC}var DC,rB;function IM(){if(rB)return DC;rB=1;var e=MJ(),t=d1();function r(n,i){i=e(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[t(i[s++])];return s&&s==o?n:void 0}return DC=r,DC}var $C,nB;function IJ(){if(nB)return $C;nB=1;var e=IM();function t(r,n,i){var s=r==null?void 0:e(r,n);return s===void 0?i:s}return $C=t,$C}var hTe=IJ();const Os=pr(hTe);var FC,iB;function pTe(){if(iB)return FC;iB=1;function e(t){return t==null}return FC=e,FC}var mTe=pTe();const Lt=pr(mTe);var BC,sB;function gTe(){if(sB)return BC;sB=1;var e=Hl(),t=as(),r=Kl(),n="[object String]";function i(s){return typeof s=="string"||!t(s)&&r(s)&&e(s)==n}return BC=i,BC}var vTe=gTe();const Bd=pr(vTe);var yTe=kM();const It=pr(yTe);var xTe=wu();const tm=pr(xTe);var zC={exports:{}},gr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aB;function bTe(){if(aB)return gr;aB=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),b;b=Symbol.for("react.module.reference");function y(_){if(typeof _=="object"&&_!==null){var S=_.$$typeof;switch(S){case e:switch(_=_.type,_){case r:case i:case n:case u:case f:return _;default:switch(_=_&&_.$$typeof,_){case l:case o:case c:case g:case p:case s:return _;default:return S}}case t:return S}}}return gr.ContextConsumer=o,gr.ContextProvider=s,gr.Element=e,gr.ForwardRef=c,gr.Fragment=r,gr.Lazy=g,gr.Memo=p,gr.Portal=t,gr.Profiler=i,gr.StrictMode=n,gr.Suspense=u,gr.SuspenseList=f,gr.isAsyncMode=function(){return!1},gr.isConcurrentMode=function(){return!1},gr.isContextConsumer=function(_){return y(_)===o},gr.isContextProvider=function(_){return y(_)===s},gr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},gr.isForwardRef=function(_){return y(_)===c},gr.isFragment=function(_){return y(_)===r},gr.isLazy=function(_){return y(_)===g},gr.isMemo=function(_){return y(_)===p},gr.isPortal=function(_){return y(_)===t},gr.isProfiler=function(_){return y(_)===i},gr.isStrictMode=function(_){return y(_)===n},gr.isSuspense=function(_){return y(_)===u},gr.isSuspenseList=function(_){return y(_)===f},gr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===u||_===f||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===p||_.$$typeof===s||_.$$typeof===o||_.$$typeof===c||_.$$typeof===b||_.getModuleId!==void 0)},gr.typeOf=y,gr}var oB;function wTe(){return oB||(oB=1,zC.exports=bTe()),zC.exports}var _Te=wTe(),qC,lB;function LJ(){if(lB)return qC;lB=1;var e=Hl(),t=Kl(),r="[object Number]";function n(i){return typeof i=="number"||t(i)&&e(i)==r}return qC=n,qC}var UC,cB;function jTe(){if(cB)return UC;cB=1;var e=LJ();function t(r){return e(r)&&r!=+r}return UC=t,UC}var STe=jTe();const By=pr(STe);var NTe=LJ();const CTe=pr(NTe);var Di=function(t){return t===0?0:t>0?1:-1},vd=function(t){return Bd(t)&&t.indexOf("%")===t.length-1},et=function(t){return CTe(t)&&!By(t)},ETe=function(t){return Lt(t)},Fn=function(t){return et(t)||Bd(t)},PTe=0,rm=function(t){var r=++PTe;return"".concat(t||"").concat(r)},za=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(t)&&!Bd(t))return n;var s;if(vd(t)){var o=t.indexOf("%");s=r*parseFloat(t.slice(0,o))/100}else s=+t;return By(s)&&(s=n),i&&s>r&&(s=r),s},Gc=function(t){if(!t)return null;var r=Object.keys(t);return r&&r.length?t[r[0]]:null},TTe=function(t){if(!Array.isArray(t))return!1;for(var r=t.length,n={},i=0;i<r;i++)if(!n[t[i]])n[t[i]]=!0;else return!0;return!1},Es=function(t,r){return et(t)&&et(r)?function(n){return t+n*(r-t)}:function(){return r}};function dw(e,t,r){return!e||!e.length?null:e.find(function(n){return n&&(typeof t=="function"?t(n):Os(n,t))===r})}var kTe=function(t,r){return et(t)&&et(r)?t-r:Bd(t)&&Bd(r)?t.localeCompare(r):t instanceof Date&&r instanceof Date?t.getTime()-r.getTime():String(t).localeCompare(String(r))};function zh(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function Ik(e){"@babel/helpers - typeof";return Ik=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ik(e)}var ATe=["viewBox","children"],OTe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],uB=["points","pathLength"],VC={svg:ATe,polygon:uB,polyline:uB},LM=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],fw=function(t,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(x.isValidElement(t)&&(n=t.props),!tm(n))return null;var i={};return Object.keys(n).forEach(function(s){LM.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},RTe=function(t,r,n){return function(i){return t(r,n,i),null}},wv=function(t,r,n){if(!tm(t)||Ik(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var o=t[s];LM.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=RTe(o,r,n))}),i},MTe=["children"],ITe=["children"];function dB(e,t){if(e==null)return{};var r=LTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function LTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Lk(e){"@babel/helpers - typeof";return Lk=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lk(e)}var fB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Tl=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},hB=null,WC=null,DM=function e(t){if(t===hB&&Array.isArray(WC))return WC;var r=[];return x.Children.forEach(t,function(n){Lt(n)||(_Te.isFragment(n)?r=r.concat(e(n.props.children)):r.push(n))}),WC=r,hB=t,r};function Rs(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(function(i){return Tl(i)}):n=[Tl(t)],DM(e).forEach(function(i){var s=Os(i,"type.displayName")||Os(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function js(e,t){var r=Rs(e,t);return r&&r[0]}var pB=function(t){if(!t||!t.props)return!1;var r=t.props,n=r.width,i=r.height;return!(!et(n)||n<=0||!et(i)||i<=0)},DTe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],$Te=function(t){return t&&t.type&&Bd(t.type)&&DTe.indexOf(t.type)>=0},FTe=function(t){return t&&Lk(t)==="object"&&"clipDot"in t},BTe=function(t,r,n,i){var s,o=(s=VC?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!It(t)&&(i&&o.includes(r)||OTe.includes(r))||n&&LM.includes(r)},Vt=function(t,r,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(x.isValidElement(t)&&(i=t.props),!tm(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;BTe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},Dk=function e(t,r){if(t===r)return!0;var n=x.Children.count(t);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mB(Array.isArray(t)?t[0]:t,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=t[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!e(s,o))return!1}else if(!mB(s,o))return!1}return!0},mB=function(t,r){if(Lt(t)&&Lt(r))return!0;if(!Lt(t)&&!Lt(r)){var n=t.props||{},i=n.children,s=dB(n,MTe),o=r.props||{},l=o.children,c=dB(o,ITe);return i&&l?zh(s,c)&&Dk(i,l):!i&&!l?zh(s,c):!1}return!1},gB=function(t,r){var n=[],i={};return DM(t).forEach(function(s,o){if($Te(s))n.push(s);else if(s){var l=Tl(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!i[l])){var p=u(s,l,o);n.push(p),i[l]=!0}}}),n},zTe=function(t){var r=t&&t.type;return r&&fB[r]?fB[r]:null},qTe=function(t,r){return DM(r).indexOf(t)},UTe=["children","width","height","viewBox","className","style","title","desc"];function $k(){return $k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$k.apply(this,arguments)}function VTe(e,t){if(e==null)return{};var r=WTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function WTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Fk(e){var t=e.children,r=e.width,n=e.height,i=e.viewBox,s=e.className,o=e.style,l=e.title,c=e.desc,u=VTe(e,UTe),f=i||{width:r,height:n,x:0,y:0},p=Kt("recharts-surface",s);return Q.createElement("svg",$k({},Vt(u,!0,"svg"),{className:p,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),Q.createElement("title",null,l),Q.createElement("desc",null,c),t)}var HTe=["children","className"];function Bk(){return Bk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bk.apply(this,arguments)}function KTe(e,t){if(e==null)return{};var r=GTe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GTe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var qr=Q.forwardRef(function(e,t){var r=e.children,n=e.className,i=KTe(e,HTe),s=Kt("recharts-layer",n);return Q.createElement("g",Bk({className:s},Vt(i,!0),{ref:t}),r)}),Va=function(t,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},HC,vB;function ZTe(){if(vB)return HC;vB=1;function e(t,r,n){var i=-1,s=t.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=t[i+r];return o}return HC=e,HC}var KC,yB;function YTe(){if(yB)return KC;yB=1;var e=ZTe();function t(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:e(r,n,i)}return KC=t,KC}var GC,xB;function DJ(){if(xB)return GC;xB=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+e+i+s+"]");function c(u){return l.test(u)}return GC=c,GC}var ZC,bB;function XTe(){if(bB)return ZC;bB=1;function e(t){return t.split("")}return ZC=e,ZC}var YC,wB;function JTe(){if(wB)return YC;wB=1;var e="\\ud800-\\udfff",t="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=t+r+n,s="\\ufe0e\\ufe0f",o="["+e+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",b=u+"?",y="["+s+"]?",_="(?:"+v+"(?:"+[f,p,g].join("|")+")"+y+b+")*",S=y+b+_,N="(?:"+[f+l+"?",l,p,g,o].join("|")+")",C=RegExp(c+"(?="+c+")|"+N+S,"g");function A(k){return k.match(C)||[]}return YC=A,YC}var XC,_B;function QTe(){if(_B)return XC;_B=1;var e=XTe(),t=DJ(),r=JTe();function n(i){return t(i)?r(i):e(i)}return XC=n,XC}var JC,jB;function eke(){if(jB)return JC;jB=1;var e=YTe(),t=DJ(),r=QTe(),n=RJ();function i(s){return function(o){o=n(o);var l=t(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?e(l,1).join(""):o.slice(1);return c[s]()+u}}return JC=i,JC}var QC,SB;function tke(){if(SB)return QC;SB=1;var e=eke(),t=e("toUpperCase");return QC=t,QC}var rke=tke();const f1=pr(rke);function Br(e){return function(){return e}}const $J=Math.cos,hw=Math.sin,eo=Math.sqrt,pw=Math.PI,h1=2*pw,zk=Math.PI,qk=2*zk,ld=1e-6,nke=qk-ld;function FJ(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function ike(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return FJ;const r=10**t;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class ske{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?FJ:ike(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,i){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(t,r,n,i,s,o){this._append`C${+t},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(t,r,n,i,s){if(t=+t,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-t,u=i-r,f=o-t,p=l-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(g>ld)if(!(Math.abs(p*c-u*f)>ld)||!s)this._append`L${this._x1=t},${this._y1=r}`;else{let v=n-o,b=i-l,y=c*c+u*u,_=v*v+b*b,S=Math.sqrt(y),N=Math.sqrt(g),C=s*Math.tan((zk-Math.acos((y+g-_)/(2*S*N)))/2),A=C/N,k=C/S;Math.abs(A-1)>ld&&this._append`L${t+A*f},${r+A*p}`,this._append`A${s},${s},0,0,${+(p*v>f*b)},${this._x1=t+k*c},${this._y1=r+k*u}`}}arc(t,r,n,i,s,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=t+l,f=r+c,p=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>ld||Math.abs(this._y1-f)>ld)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%qk+qk),g>nke?this._append`A${n},${n},0,1,${p},${t-l},${r-c}A${n},${n},0,1,${p},${this._x1=u},${this._y1=f}`:g>ld&&this._append`A${n},${n},0,${+(g>=zk)},${p},${this._x1=t+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(t,r,n,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function $M(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new ske(t)}function FM(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function BJ(e){this._context=e}BJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function p1(e){return new BJ(e)}function zJ(e){return e[0]}function qJ(e){return e[1]}function UJ(e,t){var r=Br(!0),n=null,i=p1,s=null,o=$M(l);e=typeof e=="function"?e:e===void 0?zJ:Br(e),t=typeof t=="function"?t:t===void 0?qJ:Br(t);function l(c){var u,f=(c=FM(c)).length,p,g=!1,v;for(n==null&&(s=i(v=o())),u=0;u<=f;++u)!(u<f&&r(p=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+e(p,u,c),+t(p,u,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(e=typeof c=="function"?c:Br(+c),l):e},l.y=function(c){return arguments.length?(t=typeof c=="function"?c:Br(+c),l):t},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Br(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function V0(e,t,r){var n=null,i=Br(!0),s=null,o=p1,l=null,c=$M(u);e=typeof e=="function"?e:e===void 0?zJ:Br(+e),t=typeof t=="function"?t:Br(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?qJ:Br(+r);function u(p){var g,v,b,y=(p=FM(p)).length,_,S=!1,N,C=new Array(y),A=new Array(y);for(s==null&&(l=o(N=c())),g=0;g<=y;++g){if(!(g<y&&i(_=p[g],g,p))===S)if(S=!S)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),b=g-1;b>=v;--b)l.point(C[b],A[b]);l.lineEnd(),l.areaEnd()}S&&(C[g]=+e(_,g,p),A[g]=+t(_,g,p),l.point(n?+n(_,g,p):C[g],r?+r(_,g,p):A[g]))}if(N)return l=null,N+""||null}function f(){return UJ().defined(i).curve(o).context(s)}return u.x=function(p){return arguments.length?(e=typeof p=="function"?p:Br(+p),n=null,u):e},u.x0=function(p){return arguments.length?(e=typeof p=="function"?p:Br(+p),u):e},u.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Br(+p),u):n},u.y=function(p){return arguments.length?(t=typeof p=="function"?p:Br(+p),r=null,u):t},u.y0=function(p){return arguments.length?(t=typeof p=="function"?p:Br(+p),u):t},u.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Br(+p),u):r},u.lineX0=u.lineY0=function(){return f().x(e).y(t)},u.lineY1=function(){return f().x(e).y(r)},u.lineX1=function(){return f().x(n).y(t)},u.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Br(!!p),u):i},u.curve=function(p){return arguments.length?(o=p,s!=null&&(l=o(s)),u):o},u.context=function(p){return arguments.length?(p==null?s=l=null:l=o(s=p),u):s},u}class VJ{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function ake(e){return new VJ(e,!0)}function oke(e){return new VJ(e,!1)}const BM={draw(e,t){const r=eo(t/pw);e.moveTo(r,0),e.arc(0,0,r,0,h1)}},lke={draw(e,t){const r=eo(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},WJ=eo(1/3),cke=WJ*2,uke={draw(e,t){const r=eo(t/cke),n=r*WJ;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},dke={draw(e,t){const r=eo(t),n=-r/2;e.rect(n,n,r,r)}},fke=.8908130915292852,HJ=hw(pw/10)/hw(7*pw/10),hke=hw(h1/10)*HJ,pke=-$J(h1/10)*HJ,mke={draw(e,t){const r=eo(t*fke),n=hke*r,i=pke*r;e.moveTo(0,-r),e.lineTo(n,i);for(let s=1;s<5;++s){const o=h1*s/5,l=$J(o),c=hw(o);e.lineTo(c*r,-l*r),e.lineTo(l*n-c*i,c*n+l*i)}e.closePath()}},eE=eo(3),gke={draw(e,t){const r=-eo(t/(eE*3));e.moveTo(0,r*2),e.lineTo(-eE*r,-r),e.lineTo(eE*r,-r),e.closePath()}},Js=-.5,Qs=eo(3)/2,Uk=1/eo(12),vke=(Uk/2+1)*3,yke={draw(e,t){const r=eo(t/vke),n=r/2,i=r*Uk,s=n,o=r*Uk+r,l=-s,c=o;e.moveTo(n,i),e.lineTo(s,o),e.lineTo(l,c),e.lineTo(Js*n-Qs*i,Qs*n+Js*i),e.lineTo(Js*s-Qs*o,Qs*s+Js*o),e.lineTo(Js*l-Qs*c,Qs*l+Js*c),e.lineTo(Js*n+Qs*i,Js*i-Qs*n),e.lineTo(Js*s+Qs*o,Js*o-Qs*s),e.lineTo(Js*l+Qs*c,Js*c-Qs*l),e.closePath()}};function xke(e,t){let r=null,n=$M(i);e=typeof e=="function"?e:Br(e||BM),t=typeof t=="function"?t:Br(t===void 0?64:+t);function i(){let s;if(r||(r=s=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Br(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Br(+s),i):t},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function mw(){}function gw(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function KJ(e){this._context=e}KJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:gw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bke(e){return new KJ(e)}function GJ(e){this._context=e}GJ.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wke(e){return new GJ(e)}function ZJ(e){this._context=e}ZJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:gw(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function _ke(e){return new ZJ(e)}function YJ(e){this._context=e}YJ.prototype={areaStart:mw,areaEnd:mw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function jke(e){return new YJ(e)}function NB(e){return e<0?-1:1}function CB(e,t,r){var n=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(n||i<0&&-0),o=(r-e._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(NB(s)+NB(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function EB(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function tE(e,t,r){var n=e._x0,i=e._y0,s=e._x1,o=e._y1,l=(s-n)/3;e._context.bezierCurveTo(n+l,i+l*t,s-l,o-l*r,s,o)}function vw(e){this._context=e}vw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:tE(this,this._t0,EB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,tE(this,EB(this,r=CB(this,e,t)),r);break;default:tE(this,this._t0,r=CB(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function XJ(e){this._context=new JJ(e)}(XJ.prototype=Object.create(vw.prototype)).point=function(e,t){vw.prototype.point.call(this,t,e)};function JJ(e){this._context=e}JJ.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,i,s){this._context.bezierCurveTo(t,e,n,r,s,i)}};function Ske(e){return new vw(e)}function Nke(e){return new XJ(e)}function QJ(e){this._context=e}QJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=PB(e),i=PB(t),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function PB(e){var t,r=e.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,s[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/s[t-1],s[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/s[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/s[t];for(s[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function Cke(e){return new QJ(e)}function m1(e,t){this._context=e,this._t=t}m1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function Eke(e){return new m1(e,.5)}function Pke(e){return new m1(e,0)}function Tke(e){return new m1(e,1)}function lp(e,t){if((o=e.length)>1)for(var r=1,n,i,s=e[t[0]],o,l=s.length;r<o;++r)for(i=s,s=e[t[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Vk(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function kke(e,t){return e[t]}function Ake(e){const t=[];return t.key=e,t}function Oke(){var e=Br([]),t=Vk,r=lp,n=kke;function i(s){var o=Array.from(e.apply(this,arguments),Ake),l,c=o.length,u=-1,f;for(const p of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(p,o[l].key,u,s)]).data=p;for(l=0,f=FM(t(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Br(Array.from(s)),i):e},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Br(+s),i):n},i.order=function(s){return arguments.length?(t=s==null?Vk:typeof s=="function"?s:Br(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(r=s??lp,i):r},i}function Rke(e,t){if((n=e.length)>0){for(var r,n,i=0,s=e[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=e[r][i][1]||0;if(o)for(r=0;r<n;++r)e[r][i][1]/=o}lp(e,t)}}function Mke(e,t){if((i=e.length)>0){for(var r=0,n=e[t[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}lp(e,t)}}function Ike(e,t){if(!(!((o=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=e[t[l]],p=f[n][1]||0,g=f[n-1][1]||0,v=(p-g)/2,b=0;b<l;++b){var y=e[t[b]],_=y[n][1]||0,S=y[n-1][1]||0;v+=_-S}c+=p,u+=v*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,lp(e,t)}}function _v(e){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_v(e)}var Lke=["type","size","sizeType"];function Wk(){return Wk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wk.apply(this,arguments)}function TB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kB(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TB(Object(r),!0).forEach(function(n){Dke(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Dke(e,t,r){return t=$ke(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $ke(e){var t=Fke(e,"string");return _v(t)=="symbol"?t:t+""}function Fke(e,t){if(_v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bke(e,t){if(e==null)return{};var r=zke(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function zke(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var eQ={symbolCircle:BM,symbolCross:lke,symbolDiamond:uke,symbolSquare:dke,symbolStar:mke,symbolTriangle:gke,symbolWye:yke},qke=Math.PI/180,Uke=function(t){var r="symbol".concat(f1(t));return eQ[r]||BM},Vke=function(t,r,n){if(r==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*qke;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Wke=function(t,r){eQ["symbol".concat(f1(t))]=r},zM=function(t){var r=t.type,n=r===void 0?"circle":r,i=t.size,s=i===void 0?64:i,o=t.sizeType,l=o===void 0?"area":o,c=Bke(t,Lke),u=kB(kB({},c),{},{type:n,size:s,sizeType:l}),f=function(){var _=Uke(n),S=xke().type(_).size(Vke(s,l,n));return S()},p=u.className,g=u.cx,v=u.cy,b=Vt(u,!0);return g===+g&&v===+v&&s===+s?Q.createElement("path",Wk({},b,{className:Kt("recharts-symbols",p),transform:"translate(".concat(g,", ").concat(v,")"),d:f()})):null};zM.registerSymbol=Wke;function cp(e){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cp(e)}function Hk(){return Hk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hk.apply(this,arguments)}function AB(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Hke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AB(Object(r),!0).forEach(function(n){jv(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AB(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kke(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rQ(n.key),n)}}function Zke(e,t,r){return t&&Gke(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yke(e,t,r){return t=yw(t),Xke(e,tQ()?Reflect.construct(t,r||[],yw(e).constructor):t.apply(e,r))}function Xke(e,t){if(t&&(cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jke(e)}function Jke(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tQ=function(){return!!e})()}function yw(e){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(e)}function Qke(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kk(e,t)}function Kk(e,t){return Kk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Kk(e,t)}function jv(e,t,r){return t=rQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rQ(e){var t=eAe(e,"string");return cp(t)=="symbol"?t:t+""}function eAe(e,t){if(cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ea=32,qM=function(e){function t(){return Kke(this,t),Yke(this,t,arguments)}return Qke(t,e),Zke(t,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=ea/2,o=ea/6,l=ea/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ea,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ea,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ea/8,"h").concat(ea,"v").concat(ea*3/4,"h").concat(-ea,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(n.legendIcon)){var u=Hke({},n);return delete u.legendIcon,Q.cloneElement(n.legendIcon,u)}return Q.createElement(zM,{fill:c,cx:s,cy:s,size:ea,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,f={x:0,y:0,width:ea,height:ea},p={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,b){var y=v.formatter||c,_=Kt(jv(jv({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=It(v.value)?null:v.value;Va(!It(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?u:v.color;return Q.createElement("li",Hk({className:_,style:p,key:"legend-item-".concat(b)},wv(n.props,v,b)),Q.createElement(Fk,{width:o,height:o,viewBox:f,style:g},n.renderIcon(v)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},y?y(S,v,b):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(x.PureComponent);jv(qM,"displayName","Legend");jv(qM,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var rE,OB;function tAe(){if(OB)return rE;OB=1;var e=c1();function t(){this.__data__=new e,this.size=0}return rE=t,rE}var nE,RB;function rAe(){if(RB)return nE;RB=1;function e(t){var r=this.__data__,n=r.delete(t);return this.size=r.size,n}return nE=e,nE}var iE,MB;function nAe(){if(MB)return iE;MB=1;function e(t){return this.__data__.get(t)}return iE=e,iE}var sE,IB;function iAe(){if(IB)return sE;IB=1;function e(t){return this.__data__.has(t)}return sE=e,sE}var aE,LB;function sAe(){if(LB)return aE;LB=1;var e=c1(),t=OM(),r=RM(),n=200;function i(s,o){var l=this.__data__;if(l instanceof e){var c=l.__data__;if(!t||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return aE=i,aE}var oE,DB;function nQ(){if(DB)return oE;DB=1;var e=c1(),t=tAe(),r=rAe(),n=nAe(),i=iAe(),s=sAe();function o(l){var c=this.__data__=new e(l);this.size=c.size}return o.prototype.clear=t,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,oE=o,oE}var lE,$B;function aAe(){if($B)return lE;$B=1;var e="__lodash_hash_undefined__";function t(r){return this.__data__.set(r,e),this}return lE=t,lE}var cE,FB;function oAe(){if(FB)return cE;FB=1;function e(t){return this.__data__.has(t)}return cE=e,cE}var uE,BB;function iQ(){if(BB)return uE;BB=1;var e=RM(),t=aAe(),r=oAe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new e;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=t,n.prototype.has=r,uE=n,uE}var dE,zB;function sQ(){if(zB)return dE;zB=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(r(t[n],n,t))return!0;return!1}return dE=e,dE}var fE,qB;function aQ(){if(qB)return fE;qB=1;function e(t,r){return t.has(r)}return fE=e,fE}var hE,UB;function oQ(){if(UB)return hE;UB=1;var e=iQ(),t=sQ(),r=aQ(),n=1,i=2;function s(o,l,c,u,f,p){var g=c&n,v=o.length,b=l.length;if(v!=b&&!(g&&b>v))return!1;var y=p.get(o),_=p.get(l);if(y&&_)return y==l&&_==o;var S=-1,N=!0,C=c&i?new e:void 0;for(p.set(o,l),p.set(l,o);++S<v;){var A=o[S],k=l[S];if(u)var P=g?u(k,A,S,l,o,p):u(A,k,S,o,l,p);if(P!==void 0){if(P)continue;N=!1;break}if(C){if(!t(l,function(O,I){if(!r(C,I)&&(A===O||f(A,O,c,u,p)))return C.push(I)})){N=!1;break}}else if(!(A===k||f(A,k,c,u,p))){N=!1;break}}return p.delete(o),p.delete(l),N}return hE=s,hE}var pE,VB;function lAe(){if(VB)return pE;VB=1;var e=qo(),t=e.Uint8Array;return pE=t,pE}var mE,WB;function cAe(){if(WB)return mE;WB=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i,s){n[++r]=[s,i]}),n}return mE=e,mE}var gE,HB;function UM(){if(HB)return gE;HB=1;function e(t){var r=-1,n=Array(t.size);return t.forEach(function(i){n[++r]=i}),n}return gE=e,gE}var vE,KB;function uAe(){if(KB)return vE;KB=1;var e=Fy(),t=lAe(),r=AM(),n=oQ(),i=cAe(),s=UM(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",v="[object RegExp]",b="[object Set]",y="[object String]",_="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",C=e?e.prototype:void 0,A=C?C.valueOf:void 0;function k(P,O,I,B,K,V,U){switch(I){case N:if(P.byteLength!=O.byteLength||P.byteOffset!=O.byteOffset)return!1;P=P.buffer,O=O.buffer;case S:return!(P.byteLength!=O.byteLength||!V(new t(P),new t(O)));case c:case u:case g:return r(+P,+O);case f:return P.name==O.name&&P.message==O.message;case v:case y:return P==O+"";case p:var q=i;case b:var H=B&o;if(q||(q=s),P.size!=O.size&&!H)return!1;var G=U.get(P);if(G)return G==O;B|=l,U.set(P,O);var se=n(q(P),q(O),B,K,V,U);return U.delete(P),se;case _:if(A)return A.call(P)==A.call(O)}return!1}return vE=k,vE}var yE,GB;function lQ(){if(GB)return yE;GB=1;function e(t,r){for(var n=-1,i=r.length,s=t.length;++n<i;)t[s+n]=r[n];return t}return yE=e,yE}var xE,ZB;function dAe(){if(ZB)return xE;ZB=1;var e=lQ(),t=as();function r(n,i,s){var o=i(n);return t(n)?o:e(o,s(n))}return xE=r,xE}var bE,YB;function fAe(){if(YB)return bE;YB=1;function e(t,r){for(var n=-1,i=t==null?0:t.length,s=0,o=[];++n<i;){var l=t[n];r(l,n,t)&&(o[s++]=l)}return o}return bE=e,bE}var wE,XB;function hAe(){if(XB)return wE;XB=1;function e(){return[]}return wE=e,wE}var _E,JB;function pAe(){if(JB)return _E;JB=1;var e=fAe(),t=hAe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),e(i(o),function(l){return n.call(o,l)}))}:t;return _E=s,_E}var jE,QB;function mAe(){if(QB)return jE;QB=1;function e(t,r){for(var n=-1,i=Array(t);++n<t;)i[n]=r(n);return i}return jE=e,jE}var SE,e6;function gAe(){if(e6)return SE;e6=1;var e=Hl(),t=Kl(),r="[object Arguments]";function n(i){return t(i)&&e(i)==r}return SE=n,SE}var NE,t6;function VM(){if(t6)return NE;t6=1;var e=gAe(),t=Kl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=e(function(){return arguments}())?e:function(o){return t(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return NE=s,NE}var Mg={exports:{}},CE,r6;function vAe(){if(r6)return CE;r6=1;function e(){return!1}return CE=e,CE}Mg.exports;var n6;function cQ(){return n6||(n6=1,function(e,t){var r=qo(),n=vAe(),i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u}(Mg,Mg.exports)),Mg.exports}var EE,i6;function WM(){if(i6)return EE;i6=1;var e=9007199254740991,t=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??e,!!i&&(s=="number"||s!="symbol"&&t.test(n))&&n>-1&&n%1==0&&n<i}return EE=r,EE}var PE,s6;function HM(){if(s6)return PE;s6=1;var e=9007199254740991;function t(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=e}return PE=t,PE}var TE,a6;function yAe(){if(a6)return TE;a6=1;var e=Hl(),t=HM(),r=Kl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",v="[object Set]",b="[object String]",y="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",B="[object Uint16Array]",K="[object Uint32Array]",V={};V[N]=V[C]=V[A]=V[k]=V[P]=V[O]=V[I]=V[B]=V[K]=!0,V[n]=V[i]=V[_]=V[s]=V[S]=V[o]=V[l]=V[c]=V[u]=V[f]=V[p]=V[g]=V[v]=V[b]=V[y]=!1;function U(q){return r(q)&&t(q.length)&&!!V[e(q)]}return TE=U,TE}var kE,o6;function uQ(){if(o6)return kE;o6=1;function e(t){return function(r){return t(r)}}return kE=e,kE}var Ig={exports:{}};Ig.exports;var l6;function xAe(){return l6||(l6=1,function(e,t){var r=kJ(),n=t&&!t.nodeType&&t,i=n&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();e.exports=l}(Ig,Ig.exports)),Ig.exports}var AE,c6;function dQ(){if(c6)return AE;c6=1;var e=yAe(),t=uQ(),r=xAe(),n=r&&r.isTypedArray,i=n?t(n):e;return AE=i,AE}var OE,u6;function bAe(){if(u6)return OE;u6=1;var e=mAe(),t=VM(),r=as(),n=cQ(),i=WM(),s=dQ(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var p=r(u),g=!p&&t(u),v=!p&&!g&&n(u),b=!p&&!g&&!v&&s(u),y=p||g||v||b,_=y?e(u.length,String):[],S=_.length;for(var N in u)(f||l.call(u,N))&&!(y&&(N=="length"||v&&(N=="offset"||N=="parent")||b&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&_.push(N);return _}return OE=c,OE}var RE,d6;function wAe(){if(d6)return RE;d6=1;var e=Object.prototype;function t(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||e;return r===i}return RE=t,RE}var ME,f6;function fQ(){if(f6)return ME;f6=1;function e(t,r){return function(n){return t(r(n))}}return ME=e,ME}var IE,h6;function _Ae(){if(h6)return IE;h6=1;var e=fQ(),t=e(Object.keys,Object);return IE=t,IE}var LE,p6;function jAe(){if(p6)return LE;p6=1;var e=wAe(),t=_Ae(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!e(s))return t(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return LE=i,LE}var DE,m6;function zy(){if(m6)return DE;m6=1;var e=kM(),t=HM();function r(n){return n!=null&&t(n.length)&&!e(n)}return DE=r,DE}var $E,g6;function g1(){if(g6)return $E;g6=1;var e=bAe(),t=jAe(),r=zy();function n(i){return r(i)?e(i):t(i)}return $E=n,$E}var FE,v6;function SAe(){if(v6)return FE;v6=1;var e=dAe(),t=pAe(),r=g1();function n(i){return e(i,r,t)}return FE=n,FE}var BE,y6;function NAe(){if(y6)return BE;y6=1;var e=SAe(),t=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,u,f){var p=l&t,g=e(s),v=g.length,b=e(o),y=b.length;if(v!=y&&!p)return!1;for(var _=v;_--;){var S=g[_];if(!(p?S in o:n.call(o,S)))return!1}var N=f.get(s),C=f.get(o);if(N&&C)return N==o&&C==s;var A=!0;f.set(s,o),f.set(o,s);for(var k=p;++_<v;){S=g[_];var P=s[S],O=o[S];if(c)var I=p?c(O,P,S,o,s,f):c(P,O,S,s,o,f);if(!(I===void 0?P===O||u(P,O,l,c,f):I)){A=!1;break}k||(k=S=="constructor")}if(A&&!k){var B=s.constructor,K=o.constructor;B!=K&&"constructor"in s&&"constructor"in o&&!(typeof B=="function"&&B instanceof B&&typeof K=="function"&&K instanceof K)&&(A=!1)}return f.delete(s),f.delete(o),A}return BE=i,BE}var zE,x6;function CAe(){if(x6)return zE;x6=1;var e=sf(),t=qo(),r=e(t,"DataView");return zE=r,zE}var qE,b6;function EAe(){if(b6)return qE;b6=1;var e=sf(),t=qo(),r=e(t,"Promise");return qE=r,qE}var UE,w6;function hQ(){if(w6)return UE;w6=1;var e=sf(),t=qo(),r=e(t,"Set");return UE=r,UE}var VE,_6;function PAe(){if(_6)return VE;_6=1;var e=sf(),t=qo(),r=e(t,"WeakMap");return VE=r,VE}var WE,j6;function TAe(){if(j6)return WE;j6=1;var e=CAe(),t=OM(),r=EAe(),n=hQ(),i=PAe(),s=Hl(),o=AJ(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",v=o(e),b=o(t),y=o(r),_=o(n),S=o(i),N=s;return(e&&N(new e(new ArrayBuffer(1)))!=g||t&&N(new t)!=l||r&&N(r.resolve())!=u||n&&N(new n)!=f||i&&N(new i)!=p)&&(N=function(C){var A=s(C),k=A==c?C.constructor:void 0,P=k?o(k):"";if(P)switch(P){case v:return g;case b:return l;case y:return u;case _:return f;case S:return p}return A}),WE=N,WE}var HE,S6;function kAe(){if(S6)return HE;S6=1;var e=nQ(),t=oQ(),r=uAe(),n=NAe(),i=TAe(),s=as(),o=cQ(),l=dQ(),c=1,u="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function b(y,_,S,N,C,A){var k=s(y),P=s(_),O=k?f:i(y),I=P?f:i(_);O=O==u?p:O,I=I==u?p:I;var B=O==p,K=I==p,V=O==I;if(V&&o(y)){if(!o(_))return!1;k=!0,B=!1}if(V&&!B)return A||(A=new e),k||l(y)?t(y,_,S,N,C,A):r(y,_,O,S,N,C,A);if(!(S&c)){var U=B&&v.call(y,"__wrapped__"),q=K&&v.call(_,"__wrapped__");if(U||q){var H=U?y.value():y,G=q?_.value():_;return A||(A=new e),C(H,G,S,N,A)}}return V?(A||(A=new e),n(y,_,S,N,C,A)):!1}return HE=b,HE}var KE,N6;function KM(){if(N6)return KE;N6=1;var e=kAe(),t=Kl();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!t(n)&&!t(i)?n!==n&&i!==i:e(n,i,s,o,r,l)}return KE=r,KE}var GE,C6;function AAe(){if(C6)return GE;C6=1;var e=nQ(),t=KM(),r=1,n=2;function i(s,o,l,c){var u=l.length,f=u,p=!c;if(s==null)return!f;for(s=Object(s);u--;){var g=l[u];if(p&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<f;){g=l[u];var v=g[0],b=s[v],y=g[1];if(p&&g[2]){if(b===void 0&&!(v in s))return!1}else{var _=new e;if(c)var S=c(b,y,v,s,o,_);if(!(S===void 0?t(y,b,r|n,c,_):S))return!1}}return!0}return GE=i,GE}var ZE,E6;function pQ(){if(E6)return ZE;E6=1;var e=wu();function t(r){return r===r&&!e(r)}return ZE=t,ZE}var YE,P6;function OAe(){if(P6)return YE;P6=1;var e=pQ(),t=g1();function r(n){for(var i=t(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,e(l)]}return i}return YE=r,YE}var XE,T6;function mQ(){if(T6)return XE;T6=1;function e(t,r){return function(n){return n==null?!1:n[t]===r&&(r!==void 0||t in Object(n))}}return XE=e,XE}var JE,k6;function RAe(){if(k6)return JE;k6=1;var e=AAe(),t=OAe(),r=mQ();function n(i){var s=t(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||e(o,i,s)}}return JE=n,JE}var QE,A6;function MAe(){if(A6)return QE;A6=1;function e(t,r){return t!=null&&r in Object(t)}return QE=e,QE}var e2,O6;function IAe(){if(O6)return e2;O6=1;var e=MJ(),t=VM(),r=as(),n=WM(),i=HM(),s=d1();function o(l,c,u){c=e(c,l);for(var f=-1,p=c.length,g=!1;++f<p;){var v=s(c[f]);if(!(g=l!=null&&u(l,v)))break;l=l[v]}return g||++f!=p?g:(p=l==null?0:l.length,!!p&&i(p)&&n(v,p)&&(r(l)||t(l)))}return e2=o,e2}var t2,R6;function LAe(){if(R6)return t2;R6=1;var e=MAe(),t=IAe();function r(n,i){return n!=null&&t(n,i,e)}return t2=r,t2}var r2,M6;function DAe(){if(M6)return r2;M6=1;var e=KM(),t=IJ(),r=LAe(),n=TM(),i=pQ(),s=mQ(),o=d1(),l=1,c=2;function u(f,p){return n(f)&&i(p)?s(o(f),p):function(g){var v=t(g,f);return v===void 0&&v===p?r(g,f):e(p,v,l|c)}}return r2=u,r2}var n2,I6;function nm(){if(I6)return n2;I6=1;function e(t){return t}return n2=e,n2}var i2,L6;function $Ae(){if(L6)return i2;L6=1;function e(t){return function(r){return r?.[t]}}return i2=e,i2}var s2,D6;function FAe(){if(D6)return s2;D6=1;var e=IM();function t(r){return function(n){return e(n,r)}}return s2=t,s2}var a2,$6;function BAe(){if($6)return a2;$6=1;var e=$Ae(),t=FAe(),r=TM(),n=d1();function i(s){return r(s)?e(n(s)):t(s)}return a2=i,a2}var o2,F6;function _u(){if(F6)return o2;F6=1;var e=RAe(),t=DAe(),r=nm(),n=as(),i=BAe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?t(o[0],o[1]):e(o):i(o)}return o2=s,o2}var l2,B6;function gQ(){if(B6)return l2;B6=1;function e(t,r,n,i){for(var s=t.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(t[o],o,t))return o;return-1}return l2=e,l2}var c2,z6;function zAe(){if(z6)return c2;z6=1;function e(t){return t!==t}return c2=e,c2}var u2,q6;function qAe(){if(q6)return u2;q6=1;function e(t,r,n){for(var i=n-1,s=t.length;++i<s;)if(t[i]===r)return i;return-1}return u2=e,u2}var d2,U6;function UAe(){if(U6)return d2;U6=1;var e=gQ(),t=zAe(),r=qAe();function n(i,s,o){return s===s?r(i,s,o):e(i,t,o)}return d2=n,d2}var f2,V6;function VAe(){if(V6)return f2;V6=1;var e=UAe();function t(r,n){var i=r==null?0:r.length;return!!i&&e(r,n,0)>-1}return f2=t,f2}var h2,W6;function WAe(){if(W6)return h2;W6=1;function e(t,r,n){for(var i=-1,s=t==null?0:t.length;++i<s;)if(n(r,t[i]))return!0;return!1}return h2=e,h2}var p2,H6;function HAe(){if(H6)return p2;H6=1;function e(){}return p2=e,p2}var m2,K6;function KAe(){if(K6)return m2;K6=1;var e=hQ(),t=HAe(),r=UM(),n=1/0,i=e&&1/r(new e([,-0]))[1]==n?function(s){return new e(s)}:t;return m2=i,m2}var g2,G6;function GAe(){if(G6)return g2;G6=1;var e=iQ(),t=VAe(),r=WAe(),n=aQ(),i=KAe(),s=UM(),o=200;function l(c,u,f){var p=-1,g=t,v=c.length,b=!0,y=[],_=y;if(f)b=!1,g=r;else if(v>=o){var S=u?null:i(c);if(S)return s(S);b=!1,g=n,_=new e}else _=u?[]:y;e:for(;++p<v;){var N=c[p],C=u?u(N):N;if(N=f||N!==0?N:0,b&&C===C){for(var A=_.length;A--;)if(_[A]===C)continue e;u&&_.push(C),y.push(N)}else g(_,C,f)||(_!==y&&_.push(C),y.push(N))}return y}return g2=l,g2}var v2,Z6;function ZAe(){if(Z6)return v2;Z6=1;var e=_u(),t=GAe();function r(n,i){return n&&n.length?t(n,e(i,2)):[]}return v2=r,v2}var YAe=ZAe();const Y6=pr(YAe);function vQ(e,t,r){return t===!0?Y6(e,r):It(t)?Y6(e,t):e}function up(e){"@babel/helpers - typeof";return up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},up(e)}var XAe=["ref"];function X6(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fl(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(r),!0).forEach(function(n){v1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X6(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JAe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J6(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,xQ(n.key),n)}}function QAe(e,t,r){return t&&J6(e.prototype,t),r&&J6(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function eOe(e,t,r){return t=xw(t),tOe(e,yQ()?Reflect.construct(t,r||[],xw(e).constructor):t.apply(e,r))}function tOe(e,t){if(t&&(up(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rOe(e)}function rOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yQ=function(){return!!e})()}function xw(e){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(e)}function nOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Gk(e,t)}function Gk(e,t){return Gk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Gk(e,t)}function v1(e,t,r){return t=xQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xQ(e){var t=iOe(e,"string");return up(t)=="symbol"?t:t+""}function iOe(e,t){if(up(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(up(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function sOe(e,t){if(e==null)return{};var r=aOe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function aOe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function oOe(e){return e.value}function lOe(e,t){if(Q.isValidElement(e))return Q.cloneElement(e,t);if(typeof e=="function")return Q.createElement(e,t);t.ref;var r=sOe(t,XAe);return Q.createElement(qM,r)}var Q6=1,iu=function(e){function t(){var r;JAe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=eOe(this,t,[].concat(i)),v1(r,"lastBoundingBox",{width:-1,height:-1}),r}return nOe(t,e),QAe(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Q6||Math.abs(i.height-this.lastBoundingBox.height)>Q6)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?fl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,f=i.chartHeight,p,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();p={left:((u||0)-v.width)/2}}else p=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var b=this.getBBoxSnapshot();g={top:((f||0)-b.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return fl(fl({},p),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,f=i.payload,p=fl(fl({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Q.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:function(v){n.wrapperNode=v}},lOe(s,fl(fl({},this.props),{},{payload:vQ(f,u,oOe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=fl(fl({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&et(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(x.PureComponent);v1(iu,"displayName","Legend");v1(iu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var y2,e8;function cOe(){if(e8)return y2;e8=1;var e=Fy(),t=VM(),r=as(),n=e?e.isConcatSpreadable:void 0;function i(s){return r(s)||t(s)||!!(n&&s&&s[n])}return y2=i,y2}var x2,t8;function bQ(){if(t8)return x2;t8=1;var e=lQ(),t=cOe();function r(n,i,s,o,l){var c=-1,u=n.length;for(s||(s=t),l||(l=[]);++c<u;){var f=n[c];i>0&&s(f)?i>1?r(f,i-1,s,o,l):e(l,f):o||(l[l.length]=f)}return l}return x2=r,x2}var b2,r8;function uOe(){if(r8)return b2;r8=1;function e(t){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[t?c:++s];if(n(o[u],u,o)===!1)break}return r}}return b2=e,b2}var w2,n8;function dOe(){if(n8)return w2;n8=1;var e=uOe(),t=e();return w2=t,w2}var _2,i8;function wQ(){if(i8)return _2;i8=1;var e=dOe(),t=g1();function r(n,i){return n&&e(n,i,t)}return _2=r,_2}var j2,s8;function fOe(){if(s8)return j2;s8=1;var e=zy();function t(r,n){return function(i,s){if(i==null)return i;if(!e(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return j2=t,j2}var S2,a8;function GM(){if(a8)return S2;a8=1;var e=wQ(),t=fOe(),r=t(e);return S2=r,S2}var N2,o8;function _Q(){if(o8)return N2;o8=1;var e=GM(),t=zy();function r(n,i){var s=-1,o=t(n)?Array(n.length):[];return e(n,function(l,c,u){o[++s]=i(l,c,u)}),o}return N2=r,N2}var C2,l8;function hOe(){if(l8)return C2;l8=1;function e(t,r){var n=t.length;for(t.sort(r);n--;)t[n]=t[n].value;return t}return C2=e,C2}var E2,c8;function pOe(){if(c8)return E2;c8=1;var e=em();function t(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=e(r),c=n!==void 0,u=n===null,f=n===n,p=e(n);if(!u&&!p&&!l&&r>n||l&&c&&f&&!u&&!p||s&&c&&f||!i&&f||!o)return 1;if(!s&&!l&&!p&&r<n||p&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!f)return-1}return 0}return E2=t,E2}var P2,u8;function mOe(){if(u8)return P2;u8=1;var e=pOe();function t(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++s<c;){var f=e(o[s],l[s]);if(f){if(s>=u)return f;var p=i[s];return f*(p=="desc"?-1:1)}}return r.index-n.index}return P2=t,P2}var T2,d8;function gOe(){if(d8)return T2;d8=1;var e=MM(),t=IM(),r=_u(),n=_Q(),i=hOe(),s=uQ(),o=mOe(),l=nm(),c=as();function u(f,p,g){p.length?p=e(p,function(y){return c(y)?function(_){return t(_,y.length===1?y[0]:y)}:y}):p=[l];var v=-1;p=e(p,s(r));var b=n(f,function(y,_,S){var N=e(p,function(C){return C(y)});return{criteria:N,index:++v,value:y}});return i(b,function(y,_){return o(y,_,g)})}return T2=u,T2}var k2,f8;function vOe(){if(f8)return k2;f8=1;function e(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}return k2=e,k2}var A2,h8;function yOe(){if(h8)return A2;h8=1;var e=vOe(),t=Math.max;function r(n,i,s){return i=t(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=t(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var f=Array(i+1);++l<i;)f[l]=o[l];return f[i]=s(u),e(n,this,f)}}return A2=r,A2}var O2,p8;function xOe(){if(p8)return O2;p8=1;function e(t){return function(){return t}}return O2=e,O2}var R2,m8;function jQ(){if(m8)return R2;m8=1;var e=sf(),t=function(){try{var r=e(Object,"defineProperty");return r({},"",{}),r}catch{}}();return R2=t,R2}var M2,g8;function bOe(){if(g8)return M2;g8=1;var e=xOe(),t=jQ(),r=nm(),n=t?function(i,s){return t(i,"toString",{configurable:!0,enumerable:!1,value:e(s),writable:!0})}:r;return M2=n,M2}var I2,v8;function wOe(){if(v8)return I2;v8=1;var e=800,t=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=t-(l-o);if(o=l,c>0){if(++s>=e)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return I2=n,I2}var L2,y8;function _Oe(){if(y8)return L2;y8=1;var e=bOe(),t=wOe(),r=t(e);return L2=r,L2}var D2,x8;function jOe(){if(x8)return D2;x8=1;var e=nm(),t=yOe(),r=_Oe();function n(i,s){return r(t(i,s,e),i+"")}return D2=n,D2}var $2,b8;function y1(){if(b8)return $2;b8=1;var e=AM(),t=zy(),r=WM(),n=wu();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?t(l)&&r(o,l.length):c=="string"&&o in l)?e(l[o],s):!1}return $2=i,$2}var F2,w8;function SOe(){if(w8)return F2;w8=1;var e=bQ(),t=gOe(),r=jOe(),n=y1(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),t(s,e(o,1),[])});return F2=i,F2}var NOe=SOe();const ZM=pr(NOe);function Sv(e){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sv(e)}function Zk(){return Zk=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Zk.apply(this,arguments)}function COe(e,t){return kOe(e)||TOe(e,t)||POe(e,t)||EOe()}function EOe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function POe(e,t){if(e){if(typeof e=="string")return _8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _8(e,t)}}function _8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function TOe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function kOe(e){if(Array.isArray(e))return e}function j8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function B2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?j8(Object(r),!0).forEach(function(n){AOe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AOe(e,t,r){return t=OOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OOe(e){var t=ROe(e,"string");return Sv(t)=="symbol"?t:t+""}function ROe(e,t){if(Sv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function MOe(e){return Array.isArray(e)&&Fn(e[0])&&Fn(e[1])?e.join(" ~ "):e}var IOe=function(t){var r=t.separator,n=r===void 0?" : ":r,i=t.contentStyle,s=i===void 0?{}:i,o=t.itemStyle,l=o===void 0?{}:o,c=t.labelStyle,u=c===void 0?{}:c,f=t.payload,p=t.formatter,g=t.itemSorter,v=t.wrapperClassName,b=t.labelClassName,y=t.label,_=t.labelFormatter,S=t.accessibilityLayer,N=S===void 0?!1:S,C=function(){if(f&&f.length){var U={padding:0,margin:0},q=(g?ZM(f,g):f).map(function(H,G){if(H.type==="none")return null;var se=B2({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),W=H.formatter||p||MOe,ee=H.value,X=H.name,ne=ee,J=X;if(W&&ne!=null&&J!=null){var oe=W(ee,X,H,G,f);if(Array.isArray(oe)){var be=COe(oe,2);ne=be[0],J=be[1]}else ne=oe}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:se},Fn(J)?Q.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Fn(J)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},ne),Q.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:U},q)}return null},A=B2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),k=B2({margin:0},u),P=!Lt(y),O=P?y:"",I=Kt("recharts-default-tooltip",v),B=Kt("recharts-tooltip-label",b);P&&_&&f!==void 0&&f!==null&&(O=_(y,f));var K=N?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",Zk({className:I,style:A},K),Q.createElement("p",{className:B,style:k},Q.isValidElement(O)?O:"".concat(O)),C())};function Nv(e){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nv(e)}function W0(e,t,r){return t=LOe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LOe(e){var t=DOe(e,"string");return Nv(t)=="symbol"?t:t+""}function DOe(e,t){if(Nv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hg="recharts-tooltip-wrapper",$Oe={visibility:"hidden"};function FOe(e){var t=e.coordinate,r=e.translateX,n=e.translateY;return Kt(hg,W0(W0(W0(W0({},"".concat(hg,"-right"),et(r)&&t&&et(t.x)&&r>=t.x),"".concat(hg,"-left"),et(r)&&t&&et(t.x)&&r<t.x),"".concat(hg,"-bottom"),et(n)&&t&&et(t.y)&&n>=t.y),"".concat(hg,"-top"),et(n)&&t&&et(t.y)&&n<t.y))}function S8(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.key,i=e.offsetTopLeft,s=e.position,o=e.reverseDirection,l=e.tooltipDimension,c=e.viewBox,u=e.viewBoxDimension;if(s&&et(s[n]))return s[n];var f=r[n]-l-i,p=r[n]+i;if(t[n])return o[n]?f:p;if(o[n]){var g=f,v=c[n];return g<v?Math.max(p,c[n]):Math.max(f,c[n])}var b=p+l,y=c[n]+u;return b>y?Math.max(f,c[n]):Math.max(p,c[n])}function BOe(e){var t=e.translateX,r=e.translateY,n=e.useTranslate3d;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function zOe(e){var t=e.allowEscapeViewBox,r=e.coordinate,n=e.offsetTopLeft,i=e.position,s=e.reverseDirection,o=e.tooltipBox,l=e.useTranslate3d,c=e.viewBox,u,f,p;return o.height>0&&o.width>0&&r?(f=S8({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),p=S8({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=BOe({translateX:f,translateY:p,useTranslate3d:l})):u=$Oe,{cssProperties:u,cssClasses:FOe({translateX:f,translateY:p,coordinate:r})}}function dp(e){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dp(e)}function N8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function C8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?N8(Object(r),!0).forEach(function(n){Xk(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function qOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,NQ(n.key),n)}}function VOe(e,t,r){return t&&UOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function WOe(e,t,r){return t=bw(t),HOe(e,SQ()?Reflect.construct(t,r||[],bw(e).constructor):t.apply(e,r))}function HOe(e,t){if(t&&(dp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KOe(e)}function KOe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function SQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(SQ=function(){return!!e})()}function bw(e){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(e)}function GOe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yk(e,t)}function Yk(e,t){return Yk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Yk(e,t)}function Xk(e,t,r){return t=NQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NQ(e){var t=ZOe(e,"string");return dp(t)=="symbol"?t:t+""}function ZOe(e,t){if(dp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var E8=1,YOe=function(e){function t(){var r;qOe(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=WOe(this,t,[].concat(i)),Xk(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),Xk(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return GOe(t,e),VOe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>E8||Math.abs(n.height-this.state.lastBoundingBox.height)>E8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,f=i.coordinate,p=i.hasPayload,g=i.isAnimationActive,v=i.offset,b=i.position,y=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,C=zOe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:v,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:S}),A=C.cssClasses,k=C.cssProperties,P=C8(C8({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&p?"visible":"hidden",position:"absolute",top:0,left:0},N);return Q.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(I){n.wrapperNode=I}},u)}}])}(x.PureComponent),XOe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},af={isSsr:XOe()};function fp(e){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fp(e)}function P8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function T8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?P8(Object(r),!0).forEach(function(n){YM(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JOe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QOe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,EQ(n.key),n)}}function eRe(e,t,r){return t&&QOe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function tRe(e,t,r){return t=ww(t),rRe(e,CQ()?Reflect.construct(t,r||[],ww(e).constructor):t.apply(e,r))}function rRe(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nRe(e)}function nRe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CQ(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CQ=function(){return!!e})()}function ww(e){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(e)}function iRe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jk(e,t)}function Jk(e,t){return Jk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Jk(e,t)}function YM(e,t,r){return t=EQ(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EQ(e){var t=sRe(e,"string");return fp(t)=="symbol"?t:t+""}function sRe(e,t){if(fp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function aRe(e){return e.dataKey}function oRe(e,t){return Q.isValidElement(e)?Q.cloneElement(e,t):typeof e=="function"?Q.createElement(e,t):Q.createElement(IOe,t)}var Li=function(e){function t(){return JOe(this,t),tRe(this,t,arguments)}return iRe(t,e),eRe(t,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,f=i.coordinate,p=i.filterNull,g=i.isAnimationActive,v=i.offset,b=i.payload,y=i.payloadUniqBy,_=i.position,S=i.reverseDirection,N=i.useTranslate3d,C=i.viewBox,A=i.wrapperStyle,k=b??[];p&&k.length&&(k=vQ(b.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),y,aRe));var P=k.length>0;return Q.createElement(YOe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:f,hasPayload:P,offset:v,position:_,reverseDirection:S,useTranslate3d:N,viewBox:C,wrapperStyle:A},oRe(u,T8(T8({},this.props),{},{payload:k})))}}])}(x.PureComponent);YM(Li,"displayName","Tooltip");YM(Li,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!af.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var z2,k8;function lRe(){if(k8)return z2;k8=1;var e=qo(),t=function(){return e.Date.now()};return z2=t,z2}var q2,A8;function cRe(){if(A8)return q2;A8=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return q2=t,q2}var U2,O8;function uRe(){if(O8)return U2;O8=1;var e=cRe(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return U2=r,U2}var V2,R8;function PQ(){if(R8)return V2;R8=1;var e=uRe(),t=wu(),r=em(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(t(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=t(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=e(u);var p=s.test(u);return p||o.test(u)?l(u.slice(2),p?2:8):i.test(u)?n:+u}return V2=c,V2}var W2,M8;function dRe(){if(M8)return W2;M8=1;var e=wu(),t=lRe(),r=PQ(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var f,p,g,v,b,y,_=0,S=!1,N=!1,C=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,e(u)&&(S=!!u.leading,N="maxWait"in u,g=N?i(r(u.maxWait)||0,c):g,C="trailing"in u?!!u.trailing:C);function A(q){var H=f,G=p;return f=p=void 0,_=q,v=l.apply(G,H),v}function k(q){return _=q,b=setTimeout(I,c),S?A(q):v}function P(q){var H=q-y,G=q-_,se=c-H;return N?s(se,g-G):se}function O(q){var H=q-y,G=q-_;return y===void 0||H>=c||H<0||N&&G>=g}function I(){var q=t();if(O(q))return B(q);b=setTimeout(I,P(q))}function B(q){return b=void 0,C&&f?A(q):(f=p=void 0,v)}function K(){b!==void 0&&clearTimeout(b),_=0,f=y=p=b=void 0}function V(){return b===void 0?v:B(t())}function U(){var q=t(),H=O(q);if(f=arguments,p=this,y=q,H){if(b===void 0)return k(y);if(N)return clearTimeout(b),b=setTimeout(I,c),A(y)}return b===void 0&&(b=setTimeout(I,c)),v}return U.cancel=K,U.flush=V,U}return W2=o,W2}var H2,I8;function fRe(){if(I8)return H2;I8=1;var e=dRe(),t=wu(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return t(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),e(i,s,{leading:l,maxWait:s,trailing:c})}return H2=n,H2}var hRe=fRe();const TQ=pr(hRe);function Cv(e){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cv(e)}function L8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function H0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?L8(Object(r),!0).forEach(function(n){pRe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pRe(e,t,r){return t=mRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mRe(e){var t=gRe(e,"string");return Cv(t)=="symbol"?t:t+""}function gRe(e,t){if(Cv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vRe(e,t){return wRe(e)||bRe(e,t)||xRe(e,t)||yRe()}function yRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xRe(e,t){if(e){if(typeof e=="string")return D8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D8(e,t)}}function D8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function bRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function wRe(e){if(Array.isArray(e))return e}var mh=x.forwardRef(function(e,t){var r=e.aspect,n=e.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=e.width,o=s===void 0?"100%":s,l=e.height,c=l===void 0?"100%":l,u=e.minWidth,f=u===void 0?0:u,p=e.minHeight,g=e.maxHeight,v=e.children,b=e.debounce,y=b===void 0?0:b,_=e.id,S=e.className,N=e.onResize,C=e.style,A=C===void 0?{}:C,k=x.useRef(null),P=x.useRef();P.current=N,x.useImperativeHandle(t,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var O=x.useState({containerWidth:i.width,containerHeight:i.height}),I=vRe(O,2),B=I[0],K=I[1],V=x.useCallback(function(q,H){K(function(G){var se=Math.round(q),W=Math.round(H);return G.containerWidth===se&&G.containerHeight===W?G:{containerWidth:se,containerHeight:W}})},[]);x.useEffect(function(){var q=function(X){var ne,J=X[0].contentRect,oe=J.width,be=J.height;V(oe,be),(ne=P.current)===null||ne===void 0||ne.call(P,oe,be)};y>0&&(q=TQ(q,y,{trailing:!0,leading:!1}));var H=new ResizeObserver(q),G=k.current.getBoundingClientRect(),se=G.width,W=G.height;return V(se,W),H.observe(k.current),function(){H.disconnect()}},[V,y]);var U=x.useMemo(function(){var q=B.containerWidth,H=B.containerHeight;if(q<0||H<0)return null;Va(vd(o)||vd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Va(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=vd(o)?q:o,se=vd(c)?H:c;r&&r>0&&(G?se=G/r:se&&(G=se*r),g&&se>g&&(se=g)),Va(G>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,se,o,c,f,p,r);var W=!Array.isArray(v)&&Tl(v.type).endsWith("Chart");return Q.Children.map(v,function(ee){return Q.isValidElement(ee)?x.cloneElement(ee,H0({width:G,height:se},W?{style:H0({height:"100%",width:"100%",maxHeight:se,maxWidth:G},ee.props.style)}:{})):ee})},[r,v,c,g,p,f,B,o]);return Q.createElement("div",{id:_?"".concat(_):void 0,className:Kt("recharts-responsive-container",S),style:H0(H0({},A),{},{width:o,height:c,minWidth:f,minHeight:p,maxHeight:g}),ref:k},U)}),Ev=function(t){return null};Ev.displayName="Cell";function Pv(e){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pv(e)}function $8(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qk(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$8(Object(r),!0).forEach(function(n){_Re(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$8(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Re(e,t,r){return t=jRe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jRe(e){var t=SRe(e,"string");return Pv(t)=="symbol"?t:t+""}function SRe(e,t){if(Pv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gh={widthCache:{},cacheCount:0},NRe=2e3,CRe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},F8="recharts_measurement_span";function ERe(e){var t=Qk({},e);return Object.keys(t).forEach(function(r){t[r]||delete t[r]}),t}var Gg=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||af.isSsr)return{width:0,height:0};var n=ERe(r),i=JSON.stringify({text:t,copyStyle:n});if(gh.widthCache[i])return gh.widthCache[i];try{var s=document.getElementById(F8);s||(s=document.createElement("span"),s.setAttribute("id",F8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=Qk(Qk({},CRe),n);Object.assign(s.style,o),s.textContent="".concat(t);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return gh.widthCache[i]=c,++gh.cacheCount>NRe&&(gh.cacheCount=0,gh.widthCache={}),c}catch{return{width:0,height:0}}},PRe=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function Tv(e){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tv(e)}function _w(e,t){return ORe(e)||ARe(e,t)||kRe(e,t)||TRe()}function TRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kRe(e,t){if(e){if(typeof e=="string")return B8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B8(e,t)}}function B8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ARe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function ORe(e){if(Array.isArray(e))return e}function RRe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z8(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,IRe(n.key),n)}}function MRe(e,t,r){return t&&z8(e.prototype,t),r&&z8(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function IRe(e){var t=LRe(e,"string");return Tv(t)=="symbol"?t:t+""}function LRe(e,t){if(Tv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var q8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,U8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DRe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,$Re=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,kQ={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},FRe=Object.keys(kQ),Ah="NaN";function BRe(e,t){return e*kQ[t]}var K0=function(){function e(t,r){RRe(this,e),this.num=t,this.unit=r,this.num=t,this.unit=r,Number.isNaN(t)&&(this.unit=""),r!==""&&!DRe.test(r)&&(this.num=NaN,this.unit=""),FRe.includes(r)&&(this.num=BRe(t,r),this.unit="px")}return MRe(e,[{key:"add",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new e(NaN,""):new e(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new e(NaN,""):new e(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=$Re.exec(r))!==null&&n!==void 0?n:[],s=_w(i,3),o=s[1],l=s[2];return new e(parseFloat(o),l??"")}}])}();function AQ(e){if(e.includes(Ah))return Ah;for(var t=e;t.includes("*")||t.includes("/");){var r,n=(r=q8.exec(t))!==null&&r!==void 0?r:[],i=_w(n,4),s=i[1],o=i[2],l=i[3],c=K0.parse(s??""),u=K0.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Ah;t=t.replace(q8,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var p,g=(p=U8.exec(t))!==null&&p!==void 0?p:[],v=_w(g,4),b=v[1],y=v[2],_=v[3],S=K0.parse(b??""),N=K0.parse(_??""),C=y==="+"?S.add(N):S.subtract(N);if(C.isNaN())return Ah;t=t.replace(U8,C.toString())}return t}var V8=/\(([^()]*)\)/;function zRe(e){for(var t=e;t.includes("(");){var r=V8.exec(t),n=_w(r,2),i=n[1];t=t.replace(V8,AQ(i))}return t}function qRe(e){var t=e.replace(/\s+/g,"");return t=zRe(t),t=AQ(t),t}function URe(e){try{return qRe(e)}catch{return Ah}}function K2(e){var t=URe(e.slice(5,-1));return t===Ah?"":t}var VRe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],WRe=["dx","dy","angle","className","breakAll"];function eA(){return eA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},eA.apply(this,arguments)}function W8(e,t){if(e==null)return{};var r=HRe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function HRe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function H8(e,t){return YRe(e)||ZRe(e,t)||GRe(e,t)||KRe()}function KRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GRe(e,t){if(e){if(typeof e=="string")return K8(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K8(e,t)}}function K8(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ZRe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function YRe(e){if(Array.isArray(e))return e}var OQ=/[ \f\n\r\t\v\u2028\u2029]+/,RQ=function(t){var r=t.children,n=t.breakAll,i=t.style;try{var s=[];Lt(r)||(n?s=r.toString().split(""):s=r.toString().split(OQ));var o=s.map(function(c){return{word:c,width:Gg(c,i).width}}),l=n?0:Gg(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},XRe=function(t,r,n,i,s){var o=t.maxLines,l=t.children,c=t.style,u=t.breakAll,f=et(o),p=l,g=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(se,W){var ee=W.word,X=W.width,ne=se[se.length-1];if(ne&&(i==null||s||ne.width+X+n<Number(i)))ne.words.push(ee),ne.width+=X+n;else{var J={words:[ee],width:X};se.push(J)}return se},[])},v=g(r),b=function(G){return G.reduce(function(se,W){return se.width>W.width?se:W})};if(!f)return v;for(var y="…",_=function(G){var se=p.slice(0,G),W=RQ({breakAll:u,style:c,children:se+y}).wordsWithComputedWidth,ee=g(W),X=ee.length>o||b(ee).width>Number(i);return[X,ee]},S=0,N=p.length-1,C=0,A;S<=N&&C<=p.length-1;){var k=Math.floor((S+N)/2),P=k-1,O=_(P),I=H8(O,2),B=I[0],K=I[1],V=_(k),U=H8(V,1),q=U[0];if(!B&&!q&&(S=k+1),B&&q&&(N=k-1),!B&&q){A=K;break}C++}return A||v},G8=function(t){var r=Lt(t)?[]:t.toString().split(OQ);return[{words:r}]},JRe=function(t){var r=t.width,n=t.scaleToFit,i=t.children,s=t.style,o=t.breakAll,l=t.maxLines;if((r||n)&&!af.isSsr){var c,u,f=RQ({breakAll:o,children:i,style:s});if(f){var p=f.wordsWithComputedWidth,g=f.spaceWidth;c=p,u=g}else return G8(i);return XRe({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return G8(i)},Z8="#808080",kv=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.lineHeight,l=o===void 0?"1em":o,c=t.capHeight,u=c===void 0?"0.71em":c,f=t.scaleToFit,p=f===void 0?!1:f,g=t.textAnchor,v=g===void 0?"start":g,b=t.verticalAnchor,y=b===void 0?"end":b,_=t.fill,S=_===void 0?Z8:_,N=W8(t,VRe),C=x.useMemo(function(){return JRe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:p,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,p,N.style,N.width]),A=N.dx,k=N.dy,P=N.angle,O=N.className,I=N.breakAll,B=W8(N,WRe);if(!Fn(n)||!Fn(s))return null;var K=n+(et(A)?A:0),V=s+(et(k)?k:0),U;switch(y){case"start":U=K2("calc(".concat(u,")"));break;case"middle":U=K2("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:U=K2("calc(".concat(C.length-1," * -").concat(l,")"));break}var q=[];if(p){var H=C[0].width,G=N.width;q.push("scale(".concat((et(G)?G/H:1)/H,")"))}return P&&q.push("rotate(".concat(P,", ").concat(K,", ").concat(V,")")),q.length&&(B.transform=q.join(" ")),Q.createElement("text",eA({},Vt(B,!0),{x:K,y:V,className:Kt("recharts-text",O),textAnchor:v,fill:S.includes("url")?Z8:S}),C.map(function(se,W){var ee=se.words.join(I?"":" ");return Q.createElement("tspan",{x:K,dy:W===0?U:l,key:"".concat(ee,"-").concat(W)},ee)}))};function su(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QRe(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function XM(e){let t,r,n;e.length!==2?(t=su,r=(l,c)=>su(e(l),c),n=(l,c)=>e(l)-c):(t=e===su||e===QRe?e:eMe,r=e,n=e);function i(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<0?u=p+1:f=p}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(t(c,c)!==0)return f;do{const p=u+f>>>1;r(l[p],c)<=0?u=p+1:f=p}while(u<f)}return u}function o(l,c,u=0,f=l.length){const p=i(l,c,u,f-1);return p>u&&n(l[p-1],c)>-n(l[p],c)?p-1:p}return{left:i,center:o,right:s}}function eMe(){return 0}function MQ(e){return e===null?NaN:+e}function*tMe(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const rMe=XM(su),qy=rMe.right;XM(MQ).center;class Y8 extends Map{constructor(t,r=sMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,i]of t)this.set(n,i)}get(t){return super.get(X8(this,t))}has(t){return super.has(X8(this,t))}set(t,r){return super.set(nMe(this,t),r)}delete(t){return super.delete(iMe(this,t))}}function X8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function nMe({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function iMe({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function sMe(e){return e!==null&&typeof e=="object"?e.valueOf():e}function aMe(e=su){if(e===su)return IQ;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function IQ(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oMe=Math.sqrt(50),lMe=Math.sqrt(10),cMe=Math.sqrt(2);function jw(e,t,r){const n=(t-e)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=oMe?10:s>=lMe?5:s>=cMe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(e*u),c=Math.round(t*u),l/u<e&&++l,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(e/u),c=Math.round(t/u),l*u<e&&++l,c*u>t&&--c),c<l&&.5<=r&&r<2?jw(e,t,r*2):[l,c,u]}function tA(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[i,s,o]=n?jw(t,e,r):jw(e,t,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function rA(e,t,r){return t=+t,e=+e,r=+r,jw(e,t,r)[2]}function nA(e,t,r){t=+t,e=+e,r=+r;const n=t<e,i=n?rA(t,e,r):rA(e,t,r);return(n?-1:1)*(i<0?1/-i:i)}function J8(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Q8(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function LQ(e,t,r=0,n=1/0,i){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(i=i===void 0?IQ:aMe(i);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(t-u*p/c+g)),b=Math.min(n,Math.floor(t+(c-u)*p/c+g));LQ(e,t,v,b,i)}const s=e[t];let o=r,l=n;for(pg(e,r,t),i(e[n],s)>0&&pg(e,r,n);o<l;){for(pg(e,o,l),++o,--l;i(e[o],s)<0;)++o;for(;i(e[l],s)>0;)--l}i(e[r],s)===0?pg(e,r,l):(++l,pg(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function pg(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function uMe(e,t,r){if(e=Float64Array.from(tMe(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Q8(e);if(t>=1)return J8(e);var n,i=(n-1)*t,s=Math.floor(i),o=J8(LQ(e,s).subarray(0,s+1)),l=Q8(e.subarray(s+1));return o+(l-o)*(i-s)}}function dMe(e,t,r=MQ){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,i=(n-1)*t,s=Math.floor(i),o=+r(e[s],s,e),l=+r(e[s+1],s+1,e);return o+(l-o)*(i-s)}}function fMe(e,t,r){e=+e,t=+t,r=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((t-e)/r))|0,s=new Array(i);++n<i;)s[n]=e+n*r;return s}function ha(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const iA=Symbol("implicit");function JM(){var e=new Y8,t=[],r=[],n=iA;function i(s){let o=e.get(s);if(o===void 0){if(n!==iA)return n;e.set(s,o=t.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Y8;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return JM(t,r).unknown(n)},ha.apply(i,arguments),i}function Av(){var e=JM().unknown(void 0),t=e.domain,r=e.range,n=0,i=1,s,o,l=!1,c=0,u=0,f=.5;delete e.unknown;function p(){var g=t().length,v=i<n,b=v?i:n,y=v?n:i;s=(y-b)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),b+=(y-b-s*(g-c))*f,o=s*(1-c),l&&(b=Math.round(b),o=Math.round(o));var _=fMe(g).map(function(S){return b+s*S});return r(v?_.reverse():_)}return e.domain=function(g){return arguments.length?(t(g),p()):t()},e.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},e.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,p()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(g){return arguments.length?(l=!!g,p()):l},e.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),p()):c},e.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},e.paddingOuter=function(g){return arguments.length?(u=+g,p()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},e.copy=function(){return Av(t(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(f)},ha.apply(p(),arguments)}function DQ(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return DQ(t())},e}function Zg(){return DQ(Av.apply(null,arguments).paddingInner(1))}function QM(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function $Q(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Uy(){}var Ov=.7,Sw=1/Ov,qh="\\s*([+-]?\\d+)\\s*",Rv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",To="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hMe=/^#([0-9a-f]{3,8})$/,pMe=new RegExp(`^rgb\\(${qh},${qh},${qh}\\)$`),mMe=new RegExp(`^rgb\\(${To},${To},${To}\\)$`),gMe=new RegExp(`^rgba\\(${qh},${qh},${qh},${Rv}\\)$`),vMe=new RegExp(`^rgba\\(${To},${To},${To},${Rv}\\)$`),yMe=new RegExp(`^hsl\\(${Rv},${To},${To}\\)$`),xMe=new RegExp(`^hsla\\(${Rv},${To},${To},${Rv}\\)$`),ez={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};QM(Uy,Mv,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:tz,formatHex:tz,formatHex8:bMe,formatHsl:wMe,formatRgb:rz,toString:rz});function tz(){return this.rgb().formatHex()}function bMe(){return this.rgb().formatHex8()}function wMe(){return FQ(this).formatHsl()}function rz(){return this.rgb().formatRgb()}function Mv(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=hMe.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?nz(t):r===3?new ts(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?G0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?G0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pMe.exec(e))?new ts(t[1],t[2],t[3],1):(t=mMe.exec(e))?new ts(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=gMe.exec(e))?G0(t[1],t[2],t[3],t[4]):(t=vMe.exec(e))?G0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yMe.exec(e))?az(t[1],t[2]/100,t[3]/100,1):(t=xMe.exec(e))?az(t[1],t[2]/100,t[3]/100,t[4]):ez.hasOwnProperty(e)?nz(ez[e]):e==="transparent"?new ts(NaN,NaN,NaN,0):null}function nz(e){return new ts(e>>16&255,e>>8&255,e&255,1)}function G0(e,t,r,n){return n<=0&&(e=t=r=NaN),new ts(e,t,r,n)}function _Me(e){return e instanceof Uy||(e=Mv(e)),e?(e=e.rgb(),new ts(e.r,e.g,e.b,e.opacity)):new ts}function sA(e,t,r,n){return arguments.length===1?_Me(e):new ts(e,t,r,n??1)}function ts(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}QM(ts,sA,$Q(Uy,{brighter(e){return e=e==null?Sw:Math.pow(Sw,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ov:Math.pow(Ov,e),new ts(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ts(Pd(this.r),Pd(this.g),Pd(this.b),Nw(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iz,formatHex:iz,formatHex8:jMe,formatRgb:sz,toString:sz}));function iz(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}`}function jMe(){return`#${yd(this.r)}${yd(this.g)}${yd(this.b)}${yd((isNaN(this.opacity)?1:this.opacity)*255)}`}function sz(){const e=Nw(this.opacity);return`${e===1?"rgb(":"rgba("}${Pd(this.r)}, ${Pd(this.g)}, ${Pd(this.b)}${e===1?")":`, ${e})`}`}function Nw(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pd(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function yd(e){return e=Pd(e),(e<16?"0":"")+e.toString(16)}function az(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new $a(e,t,r,n)}function FQ(e){if(e instanceof $a)return new $a(e.h,e.s,e.l,e.opacity);if(e instanceof Uy||(e=Mv(e)),!e)return new $a;if(e instanceof $a)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(t===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-t)/l+2:o=(t-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new $a(o,l,c,e.opacity)}function SMe(e,t,r,n){return arguments.length===1?FQ(e):new $a(e,t,r,n??1)}function $a(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}QM($a,SMe,$Q(Uy,{brighter(e){return e=e==null?Sw:Math.pow(Sw,e),new $a(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ov:Math.pow(Ov,e),new $a(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,i=2*r-n;return new ts(G2(e>=240?e-240:e+120,i,n),G2(e,i,n),G2(e<120?e+240:e-120,i,n),this.opacity)},clamp(){return new $a(oz(this.h),Z0(this.s),Z0(this.l),Nw(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nw(this.opacity);return`${e===1?"hsl(":"hsla("}${oz(this.h)}, ${Z0(this.s)*100}%, ${Z0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function oz(e){return e=(e||0)%360,e<0?e+360:e}function Z0(e){return Math.max(0,Math.min(1,e||0))}function G2(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const eI=e=>()=>e;function NMe(e,t){return function(r){return e+r*t}}function CMe(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function EMe(e){return(e=+e)==1?BQ:function(t,r){return r-t?CMe(t,r,e):eI(isNaN(t)?r:t)}}function BQ(e,t){var r=t-e;return r?NMe(e,r):eI(isNaN(e)?t:e)}const lz=function e(t){var r=EMe(t);function n(i,s){var o=r((i=sA(i)).r,(s=sA(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=BQ(i.opacity,s.opacity);return function(f){return i.r=o(f),i.g=l(f),i.b=c(f),i.opacity=u(f),i+""}}return n.gamma=e,n}(1);function PMe(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=e[i]*(1-s)+t[i]*s;return n}}function TMe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kMe(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=im(e[o],t[o]);for(;o<r;++o)s[o]=t[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function AMe(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Cw(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function OMe(e,t){var r={},n={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?r[i]=im(e[i],t[i]):n[i]=t[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var aA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Z2=new RegExp(aA.source,"g");function RMe(e){return function(){return e}}function MMe(e){return function(t){return e(t)+""}}function IMe(e,t){var r=aA.lastIndex=Z2.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(e=e+"",t=t+"";(n=aA.exec(e))&&(i=Z2.exec(t));)(s=i.index)>r&&(s=t.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Cw(n,i)})),r=Z2.lastIndex;return r<t.length&&(s=t.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?MMe(c[0].x):RMe(t):(t=c.length,function(u){for(var f=0,p;f<t;++f)l[(p=c[f]).i]=p.x(u);return l.join("")})}function im(e,t){var r=typeof t,n;return t==null||r==="boolean"?eI(t):(r==="number"?Cw:r==="string"?(n=Mv(t))?(t=n,lz):IMe:t instanceof Mv?lz:t instanceof Date?AMe:TMe(t)?PMe:Array.isArray(t)?kMe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?OMe:Cw)(e,t)}function tI(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function LMe(e,t){t===void 0&&(t=e,e=im);for(var r=0,n=t.length-1,i=t[0],s=new Array(n<0?0:n);r<n;)s[r]=e(i,i=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function DMe(e){return function(){return e}}function Ew(e){return+e}var cz=[0,1];function $i(e){return e}function oA(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:DMe(isNaN(t)?NaN:.5)}function $Me(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function FMe(e,t,r){var n=e[0],i=e[1],s=t[0],o=t[1];return i<n?(n=oA(i,n),s=r(o,s)):(n=oA(n,i),s=r(s,o)),function(l){return s(n(l))}}function BMe(e,t,r){var n=Math.min(e.length,t.length)-1,i=new Array(n),s=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)i[o]=oA(e[o],e[o+1]),s[o]=r(t[o],t[o+1]);return function(l){var c=qy(e,l,1,n)-1;return s[c](i[c](l))}}function Vy(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function x1(){var e=cz,t=cz,r=im,n,i,s,o=$i,l,c,u;function f(){var g=Math.min(e.length,t.length);return o!==$i&&(o=$Me(e[0],e[g-1])),l=g>2?BMe:FMe,c=u=null,p}function p(g){return g==null||isNaN(g=+g)?s:(c||(c=l(e.map(n),t,r)))(n(o(g)))}return p.invert=function(g){return o(i((u||(u=l(t,e.map(n),Cw)))(g)))},p.domain=function(g){return arguments.length?(e=Array.from(g,Ew),f()):e.slice()},p.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},p.rangeRound=function(g){return t=Array.from(g),r=tI,f()},p.clamp=function(g){return arguments.length?(o=g?!0:$i,f()):o!==$i},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(s=g,p):s},function(g,v){return n=g,i=v,f()}}function rI(){return x1()($i,$i)}function zMe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Pw(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function hp(e){return e=Pw(Math.abs(e)),e?e[1]:NaN}function qMe(e,t){return function(r,n){for(var i=r.length,s=[],o=0,l=e[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=e[o=(o+1)%e.length];return s.reverse().join(t)}}function UMe(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var VMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Iv(e){if(!(t=VMe.exec(e)))throw new Error("invalid format: "+e);var t;return new nI({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Iv.prototype=nI.prototype;function nI(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function WMe(e){e:for(var t=e.length,r=1,n=-1,i;r<t;++r)switch(e[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(i+1):e}var zQ;function HMe(e,t){var r=Pw(e,t);if(!r)return e+"";var n=r[0],i=r[1],s=i-(zQ=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+Pw(e,Math.max(0,t+s-1))[0]}function uz(e,t){var r=Pw(e,t);if(!r)return e+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const dz={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:zMe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>uz(e*100,t),r:uz,s:HMe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function fz(e){return e}var hz=Array.prototype.map,pz=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function KMe(e){var t=e.grouping===void 0||e.thousands===void 0?fz:qMe(hz.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?fz:UMe(hz.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(p){p=Iv(p);var g=p.fill,v=p.align,b=p.sign,y=p.symbol,_=p.zero,S=p.width,N=p.comma,C=p.precision,A=p.trim,k=p.type;k==="n"?(N=!0,k="g"):dz[k]||(C===void 0&&(C=12),A=!0,k="g"),(_||g==="0"&&v==="=")&&(_=!0,g="0",v="=");var P=y==="$"?r:y==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",O=y==="$"?n:/[%p]/.test(k)?o:"",I=dz[k],B=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function K(V){var U=P,q=O,H,G,se;if(k==="c")q=I(V)+q,V="";else{V=+V;var W=V<0||1/V<0;if(V=isNaN(V)?c:I(Math.abs(V),C),A&&(V=WMe(V)),W&&+V==0&&b!=="+"&&(W=!1),U=(W?b==="("?b:l:b==="-"||b==="("?"":b)+U,q=(k==="s"?pz[8+zQ/3]:"")+q+(W&&b==="("?")":""),B){for(H=-1,G=V.length;++H<G;)if(se=V.charCodeAt(H),48>se||se>57){q=(se===46?i+V.slice(H+1):V.slice(H))+q,V=V.slice(0,H);break}}}N&&!_&&(V=t(V,1/0));var ee=U.length+V.length+q.length,X=ee<S?new Array(S-ee+1).join(g):"";switch(N&&_&&(V=t(X+V,X.length?S-q.length:1/0),X=""),v){case"<":V=U+V+q+X;break;case"=":V=U+X+V+q;break;case"^":V=X.slice(0,ee=X.length>>1)+U+V+q+X.slice(ee);break;default:V=X+U+V+q;break}return s(V)}return K.toString=function(){return p+""},K}function f(p,g){var v=u((p=Iv(p),p.type="f",p)),b=Math.max(-8,Math.min(8,Math.floor(hp(g)/3)))*3,y=Math.pow(10,-b),_=pz[8+b/3];return function(S){return v(y*S)+_}}return{format:u,formatPrefix:f}}var Y0,iI,qQ;GMe({thousands:",",grouping:[3],currency:["$",""]});function GMe(e){return Y0=KMe(e),iI=Y0.format,qQ=Y0.formatPrefix,Y0}function ZMe(e){return Math.max(0,-hp(Math.abs(e)))}function YMe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(hp(t)/3)))*3-hp(Math.abs(e)))}function XMe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,hp(t)-hp(e))+1}function UQ(e,t,r,n){var i=nA(e,t,r),s;switch(n=Iv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(s=YMe(i,o))&&(n.precision=s),qQ(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=XMe(i,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=ZMe(i))&&(n.precision=s-(n.type==="%")*2);break}}return iI(n)}function ju(e){var t=e.domain;return e.ticks=function(r){var n=t();return tA(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var i=t();return UQ(i[0],i[i.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);f-- >0;){if(u=rA(o,l,r),u===c)return n[i]=o,n[s]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return e},e}function Tw(){var e=rI();return e.copy=function(){return Vy(e,Tw())},ha.apply(e,arguments),ju(e)}function VQ(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Ew),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return VQ(e).unknown(t)},e=arguments.length?Array.from(e,Ew):[0,1],ju(r)}function WQ(e,t){e=e.slice();var r=0,n=e.length-1,i=e[r],s=e[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),e[r]=t.floor(i),e[n]=t.ceil(s),e}function mz(e){return Math.log(e)}function gz(e){return Math.exp(e)}function JMe(e){return-Math.log(-e)}function QMe(e){return-Math.exp(-e)}function eIe(e){return isFinite(e)?+("1e"+e):e<0?0:e}function tIe(e){return e===10?eIe:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rIe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function vz(e){return(t,r)=>-e(-t,r)}function sI(e){const t=e(mz,gz),r=t.domain;let n=10,i,s;function o(){return i=rIe(n),s=tIe(n),r()[0]<0?(i=vz(i),s=vz(s),e(JMe,QMe)):e(mz,gz),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const p=f<u;p&&([u,f]=[f,u]);let g=i(u),v=i(f),b,y;const _=l==null?10:+l;let S=[];if(!(n%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(b=1;b<n;++b)if(y=g<0?b/s(-g):b*s(g),!(y<u)){if(y>f)break;S.push(y)}}else for(;g<=v;++g)for(b=n-1;b>=1;--b)if(y=g>0?b/s(-g):b*s(g),!(y<u)){if(y>f)break;S.push(y)}S.length*2<_&&(S=tA(u,f,_))}else S=tA(g,v,Math.min(v-g,_)).map(s);return p?S.reverse():S},t.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Iv(c)).precision==null&&(c.trim=!0),c=iI(c)),l===1/0)return c;const u=Math.max(1,n*l/t.ticks().length);return f=>{let p=f/s(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=u?c(f):""}},t.nice=()=>r(WQ(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),t}function HQ(){const e=sI(x1()).domain([1,10]);return e.copy=()=>Vy(e,HQ()).base(e.base()),ha.apply(e,arguments),e}function yz(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function xz(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function aI(e){var t=1,r=e(yz(t),xz(t));return r.constant=function(n){return arguments.length?e(yz(t=+n),xz(t)):t},ju(r)}function KQ(){var e=aI(x1());return e.copy=function(){return Vy(e,KQ()).constant(e.constant())},ha.apply(e,arguments)}function bz(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function nIe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function iIe(e){return e<0?-e*e:e*e}function oI(e){var t=e($i,$i),r=1;function n(){return r===1?e($i,$i):r===.5?e(nIe,iIe):e(bz(r),bz(1/r))}return t.exponent=function(i){return arguments.length?(r=+i,n()):r},ju(t)}function lI(){var e=oI(x1());return e.copy=function(){return Vy(e,lI()).exponent(e.exponent())},ha.apply(e,arguments),e}function sIe(){return lI.apply(null,arguments).exponent(.5)}function wz(e){return Math.sign(e)*e*e}function aIe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function GQ(){var e=rI(),t=[0,1],r=!1,n;function i(s){var o=aIe(e(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return e.invert(wz(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,Ew)).map(wz)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return GQ(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},ha.apply(i,arguments),ju(i)}function ZQ(){var e=[],t=[],r=[],n;function i(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=dMe(e,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:t[qy(r,o)]}return s.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},s.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(su),i()},s.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return ZQ().domain(e).range(t).unknown(n)},ha.apply(s,arguments)}function YQ(){var e=0,t=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[qy(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,l()):[e,t]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return YQ().domain([e,t]).range(i).unknown(s)},ha.apply(ju(o),arguments)}function XQ(){var e=[.5],t=[0,1],r,n=1;function i(s){return s!=null&&s<=s?t[qy(e,s,0,n)]:r}return i.domain=function(s){return arguments.length?(e=Array.from(s),n=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),n=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var o=t.indexOf(s);return[e[o-1],e[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return XQ().domain(e).range(t).unknown(r)},ha.apply(i,arguments)}const Y2=new Date,X2=new Date;function zn(e,t,r,n){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(t(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),t(s,l),e(s);while(u<s&&s<o);return c},i.filter=s=>zn(o=>{if(o>=o)for(;e(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!s(o););else for(;--l>=0;)for(;t(o,1),!s(o););}),r&&(i.count=(s,o)=>(Y2.setTime(+s),X2.setTime(+o),e(Y2),e(X2),Math.floor(r(Y2,X2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const kw=zn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);kw.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?zn(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):kw);kw.range;const yl=1e3,aa=yl*60,xl=aa*60,$l=xl*24,cI=$l*7,_z=$l*30,J2=$l*365,xd=zn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*yl)},(e,t)=>(t-e)/yl,e=>e.getUTCSeconds());xd.range;const uI=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getMinutes());uI.range;const dI=zn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*aa)},(e,t)=>(t-e)/aa,e=>e.getUTCMinutes());dI.range;const fI=zn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*yl-e.getMinutes()*aa)},(e,t)=>{e.setTime(+e+t*xl)},(e,t)=>(t-e)/xl,e=>e.getHours());fI.range;const hI=zn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*xl)},(e,t)=>(t-e)/xl,e=>e.getUTCHours());hI.range;const Wy=zn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*aa)/$l,e=>e.getDate()-1);Wy.range;const b1=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>e.getUTCDate()-1);b1.range;const JQ=zn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/$l,e=>Math.floor(e/$l));JQ.range;function of(e){return zn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*aa)/cI)}const w1=of(0),Aw=of(1),oIe=of(2),lIe=of(3),pp=of(4),cIe=of(5),uIe=of(6);w1.range;Aw.range;oIe.range;lIe.range;pp.range;cIe.range;uIe.range;function lf(e){return zn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cI)}const _1=lf(0),Ow=lf(1),dIe=lf(2),fIe=lf(3),mp=lf(4),hIe=lf(5),pIe=lf(6);_1.range;Ow.range;dIe.range;fIe.range;mp.range;hIe.range;pIe.range;const pI=zn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());pI.range;const mI=zn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mI.range;const Fl=zn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Fl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Fl.range;const Bl=zn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Bl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:zn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Bl.range;function QQ(e,t,r,n,i,s){const o=[[xd,1,yl],[xd,5,5*yl],[xd,15,15*yl],[xd,30,30*yl],[s,1,aa],[s,5,5*aa],[s,15,15*aa],[s,30,30*aa],[i,1,xl],[i,3,3*xl],[i,6,6*xl],[i,12,12*xl],[n,1,$l],[n,2,2*$l],[r,1,cI],[t,1,_z],[t,3,3*_z],[e,1,J2]];function l(u,f,p){const g=f<u;g&&([u,f]=[f,u]);const v=p&&typeof p.range=="function"?p:c(u,f,p),b=v?v.range(u,+f+1):[];return g?b.reverse():b}function c(u,f,p){const g=Math.abs(f-u)/p,v=XM(([,,_])=>_).right(o,g);if(v===o.length)return e.every(nA(u/J2,f/J2,p));if(v===0)return kw.every(Math.max(nA(u,f,p),1));const[b,y]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return b.every(y)}return[l,c]}const[mIe,gIe]=QQ(Bl,mI,_1,JQ,hI,dI),[vIe,yIe]=QQ(Fl,pI,w1,Wy,fI,uI);function Q2(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function eP(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function mg(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function xIe(e){var t=e.dateTime,r=e.date,n=e.time,i=e.periods,s=e.days,o=e.shortDays,l=e.months,c=e.shortMonths,u=gg(i),f=vg(i),p=gg(s),g=vg(s),v=gg(o),b=vg(o),y=gg(l),_=vg(l),S=gg(c),N=vg(c),C={a:W,A:ee,b:X,B:ne,c:null,d:Pz,e:Pz,f:qIe,g:JIe,G:eLe,H:FIe,I:BIe,j:zIe,L:eee,m:UIe,M:VIe,p:J,q:oe,Q:Az,s:Oz,S:WIe,u:HIe,U:KIe,V:GIe,w:ZIe,W:YIe,x:null,X:null,y:XIe,Y:QIe,Z:tLe,"%":kz},A={a:be,A:Ce,b:Le,B:ce,c:null,d:Tz,e:Tz,f:sLe,g:mLe,G:vLe,H:rLe,I:nLe,j:iLe,L:ree,m:aLe,M:oLe,p:ae,q:ge,Q:Az,s:Oz,S:lLe,u:cLe,U:uLe,V:dLe,w:fLe,W:hLe,x:null,X:null,y:pLe,Y:gLe,Z:yLe,"%":kz},k={a:K,A:V,b:U,B:q,c:H,d:Cz,e:Cz,f:IIe,g:Nz,G:Sz,H:Ez,I:Ez,j:AIe,L:MIe,m:kIe,M:OIe,p:B,q:TIe,Q:DIe,s:$Ie,S:RIe,u:SIe,U:NIe,V:CIe,w:jIe,W:EIe,x:G,X:se,y:Nz,Y:Sz,Z:PIe,"%":LIe};C.x=P(r,C),C.X=P(n,C),C.c=P(t,C),A.x=P(r,A),A.X=P(n,A),A.c=P(t,A);function P(he,Pe){return function(te){var Y=[],_e=-1,xe=0,We=he.length,Ue,Ne,ot;for(te instanceof Date||(te=new Date(+te));++_e<We;)he.charCodeAt(_e)===37&&(Y.push(he.slice(xe,_e)),(Ne=jz[Ue=he.charAt(++_e)])!=null?Ue=he.charAt(++_e):Ne=Ue==="e"?" ":"0",(ot=Pe[Ue])&&(Ue=ot(te,Ne)),Y.push(Ue),xe=_e+1);return Y.push(he.slice(xe,_e)),Y.join("")}}function O(he,Pe){return function(te){var Y=mg(1900,void 0,1),_e=I(Y,he,te+="",0),xe,We;if(_e!=te.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(Pe&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(xe=eP(mg(Y.y,0,1)),We=xe.getUTCDay(),xe=We>4||We===0?Ow.ceil(xe):Ow(xe),xe=b1.offset(xe,(Y.V-1)*7),Y.y=xe.getUTCFullYear(),Y.m=xe.getUTCMonth(),Y.d=xe.getUTCDate()+(Y.w+6)%7):(xe=Q2(mg(Y.y,0,1)),We=xe.getDay(),xe=We>4||We===0?Aw.ceil(xe):Aw(xe),xe=Wy.offset(xe,(Y.V-1)*7),Y.y=xe.getFullYear(),Y.m=xe.getMonth(),Y.d=xe.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),We="Z"in Y?eP(mg(Y.y,0,1)).getUTCDay():Q2(mg(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(We+5)%7:Y.w+Y.U*7-(We+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,eP(Y)):Q2(Y)}}function I(he,Pe,te,Y){for(var _e=0,xe=Pe.length,We=te.length,Ue,Ne;_e<xe;){if(Y>=We)return-1;if(Ue=Pe.charCodeAt(_e++),Ue===37){if(Ue=Pe.charAt(_e++),Ne=k[Ue in jz?Pe.charAt(_e++):Ue],!Ne||(Y=Ne(he,te,Y))<0)return-1}else if(Ue!=te.charCodeAt(Y++))return-1}return Y}function B(he,Pe,te){var Y=u.exec(Pe.slice(te));return Y?(he.p=f.get(Y[0].toLowerCase()),te+Y[0].length):-1}function K(he,Pe,te){var Y=v.exec(Pe.slice(te));return Y?(he.w=b.get(Y[0].toLowerCase()),te+Y[0].length):-1}function V(he,Pe,te){var Y=p.exec(Pe.slice(te));return Y?(he.w=g.get(Y[0].toLowerCase()),te+Y[0].length):-1}function U(he,Pe,te){var Y=S.exec(Pe.slice(te));return Y?(he.m=N.get(Y[0].toLowerCase()),te+Y[0].length):-1}function q(he,Pe,te){var Y=y.exec(Pe.slice(te));return Y?(he.m=_.get(Y[0].toLowerCase()),te+Y[0].length):-1}function H(he,Pe,te){return I(he,t,Pe,te)}function G(he,Pe,te){return I(he,r,Pe,te)}function se(he,Pe,te){return I(he,n,Pe,te)}function W(he){return o[he.getDay()]}function ee(he){return s[he.getDay()]}function X(he){return c[he.getMonth()]}function ne(he){return l[he.getMonth()]}function J(he){return i[+(he.getHours()>=12)]}function oe(he){return 1+~~(he.getMonth()/3)}function be(he){return o[he.getUTCDay()]}function Ce(he){return s[he.getUTCDay()]}function Le(he){return c[he.getUTCMonth()]}function ce(he){return l[he.getUTCMonth()]}function ae(he){return i[+(he.getUTCHours()>=12)]}function ge(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Pe=P(he+="",C);return Pe.toString=function(){return he},Pe},parse:function(he){var Pe=O(he+="",!1);return Pe.toString=function(){return he},Pe},utcFormat:function(he){var Pe=P(he+="",A);return Pe.toString=function(){return he},Pe},utcParse:function(he){var Pe=O(he+="",!0);return Pe.toString=function(){return he},Pe}}}var jz={"-":"",_:" ",0:"0"},Qn=/^\s*\d+/,bIe=/^%/,wIe=/[\\^$*+?|[\]().{}]/g;function hr(e,t,r){var n=e<0?"-":"",i=(n?-e:e)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(t)+i:i)}function _Ie(e){return e.replace(wIe,"\\$&")}function gg(e){return new RegExp("^(?:"+e.map(_Ie).join("|")+")","i")}function vg(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function jIe(e,t,r){var n=Qn.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function SIe(e,t,r){var n=Qn.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function NIe(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function CIe(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function EIe(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Sz(e,t,r){var n=Qn.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Nz(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function PIe(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function TIe(e,t,r){var n=Qn.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function kIe(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Cz(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function AIe(e,t,r){var n=Qn.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Ez(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function OIe(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function RIe(e,t,r){var n=Qn.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function MIe(e,t,r){var n=Qn.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function IIe(e,t,r){var n=Qn.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function LIe(e,t,r){var n=bIe.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function DIe(e,t,r){var n=Qn.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function $Ie(e,t,r){var n=Qn.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Pz(e,t){return hr(e.getDate(),t,2)}function FIe(e,t){return hr(e.getHours(),t,2)}function BIe(e,t){return hr(e.getHours()%12||12,t,2)}function zIe(e,t){return hr(1+Wy.count(Fl(e),e),t,3)}function eee(e,t){return hr(e.getMilliseconds(),t,3)}function qIe(e,t){return eee(e,t)+"000"}function UIe(e,t){return hr(e.getMonth()+1,t,2)}function VIe(e,t){return hr(e.getMinutes(),t,2)}function WIe(e,t){return hr(e.getSeconds(),t,2)}function HIe(e){var t=e.getDay();return t===0?7:t}function KIe(e,t){return hr(w1.count(Fl(e)-1,e),t,2)}function tee(e){var t=e.getDay();return t>=4||t===0?pp(e):pp.ceil(e)}function GIe(e,t){return e=tee(e),hr(pp.count(Fl(e),e)+(Fl(e).getDay()===4),t,2)}function ZIe(e){return e.getDay()}function YIe(e,t){return hr(Aw.count(Fl(e)-1,e),t,2)}function XIe(e,t){return hr(e.getFullYear()%100,t,2)}function JIe(e,t){return e=tee(e),hr(e.getFullYear()%100,t,2)}function QIe(e,t){return hr(e.getFullYear()%1e4,t,4)}function eLe(e,t){var r=e.getDay();return e=r>=4||r===0?pp(e):pp.ceil(e),hr(e.getFullYear()%1e4,t,4)}function tLe(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+hr(t/60|0,"0",2)+hr(t%60,"0",2)}function Tz(e,t){return hr(e.getUTCDate(),t,2)}function rLe(e,t){return hr(e.getUTCHours(),t,2)}function nLe(e,t){return hr(e.getUTCHours()%12||12,t,2)}function iLe(e,t){return hr(1+b1.count(Bl(e),e),t,3)}function ree(e,t){return hr(e.getUTCMilliseconds(),t,3)}function sLe(e,t){return ree(e,t)+"000"}function aLe(e,t){return hr(e.getUTCMonth()+1,t,2)}function oLe(e,t){return hr(e.getUTCMinutes(),t,2)}function lLe(e,t){return hr(e.getUTCSeconds(),t,2)}function cLe(e){var t=e.getUTCDay();return t===0?7:t}function uLe(e,t){return hr(_1.count(Bl(e)-1,e),t,2)}function nee(e){var t=e.getUTCDay();return t>=4||t===0?mp(e):mp.ceil(e)}function dLe(e,t){return e=nee(e),hr(mp.count(Bl(e),e)+(Bl(e).getUTCDay()===4),t,2)}function fLe(e){return e.getUTCDay()}function hLe(e,t){return hr(Ow.count(Bl(e)-1,e),t,2)}function pLe(e,t){return hr(e.getUTCFullYear()%100,t,2)}function mLe(e,t){return e=nee(e),hr(e.getUTCFullYear()%100,t,2)}function gLe(e,t){return hr(e.getUTCFullYear()%1e4,t,4)}function vLe(e,t){var r=e.getUTCDay();return e=r>=4||r===0?mp(e):mp.ceil(e),hr(e.getUTCFullYear()%1e4,t,4)}function yLe(){return"+0000"}function kz(){return"%"}function Az(e){return+e}function Oz(e){return Math.floor(+e/1e3)}var vh,iee,see;xLe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xLe(e){return vh=xIe(e),iee=vh.format,vh.parse,see=vh.utcFormat,vh.utcParse,vh}function bLe(e){return new Date(e)}function wLe(e){return e instanceof Date?+e:+new Date(+e)}function gI(e,t,r,n,i,s,o,l,c,u){var f=rI(),p=f.invert,g=f.domain,v=u(".%L"),b=u(":%S"),y=u("%I:%M"),_=u("%I %p"),S=u("%a %d"),N=u("%b %d"),C=u("%B"),A=u("%Y");function k(P){return(c(P)<P?v:l(P)<P?b:o(P)<P?y:s(P)<P?_:n(P)<P?i(P)<P?S:N:r(P)<P?C:A)(P)}return f.invert=function(P){return new Date(p(P))},f.domain=function(P){return arguments.length?g(Array.from(P,wLe)):g().map(bLe)},f.ticks=function(P){var O=g();return e(O[0],O[O.length-1],P??10)},f.tickFormat=function(P,O){return O==null?k:u(O)},f.nice=function(P){var O=g();return(!P||typeof P.range!="function")&&(P=t(O[0],O[O.length-1],P??10)),P?g(WQ(O,P)):f},f.copy=function(){return Vy(f,gI(e,t,r,n,i,s,o,l,c,u))},f}function _Le(){return ha.apply(gI(vIe,yIe,Fl,pI,w1,Wy,fI,uI,xd,iee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function jLe(){return ha.apply(gI(mIe,gIe,Bl,mI,_1,b1,hI,dI,xd,see).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function j1(){var e=0,t=1,r,n,i,s,o=$i,l=!1,c;function u(p){return p==null||isNaN(p=+p)?c:o(i===0?.5:(p=(s(p)-r)*i,l?Math.max(0,Math.min(1,p)):p))}u.domain=function(p){return arguments.length?([e,t]=p,r=s(e=+e),n=s(t=+t),i=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(p){return arguments.length?(l=!!p,u):l},u.interpolator=function(p){return arguments.length?(o=p,u):o};function f(p){return function(g){var v,b;return arguments.length?([v,b]=g,o=p(v,b),u):[o(0),o(1)]}}return u.range=f(im),u.rangeRound=f(tI),u.unknown=function(p){return arguments.length?(c=p,u):c},function(p){return s=p,r=p(e),n=p(t),i=r===n?0:1/(n-r),u}}function Su(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function aee(){var e=ju(j1()($i));return e.copy=function(){return Su(e,aee())},Gl.apply(e,arguments)}function oee(){var e=sI(j1()).domain([1,10]);return e.copy=function(){return Su(e,oee()).base(e.base())},Gl.apply(e,arguments)}function lee(){var e=aI(j1());return e.copy=function(){return Su(e,lee()).constant(e.constant())},Gl.apply(e,arguments)}function vI(){var e=oI(j1());return e.copy=function(){return Su(e,vI()).exponent(e.exponent())},Gl.apply(e,arguments)}function SLe(){return vI.apply(null,arguments).exponent(.5)}function cee(){var e=[],t=$i;function r(n){if(n!=null&&!isNaN(n=+n))return t((qy(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let i of n)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(su),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,i)=>t(i/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>uMe(e,s/n))},r.copy=function(){return cee(t).domain(e)},Gl.apply(r,arguments)}function S1(){var e=0,t=.5,r=1,n=1,i,s,o,l,c,u=$i,f,p=!1,g;function v(y){return isNaN(y=+y)?g:(y=.5+((y=+f(y))-s)*(n*y<n*s?l:c),u(p?Math.max(0,Math.min(1,y)):y))}v.domain=function(y){return arguments.length?([e,t,r]=y,i=f(e=+e),s=f(t=+t),o=f(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[e,t,r]},v.clamp=function(y){return arguments.length?(p=!!y,v):p},v.interpolator=function(y){return arguments.length?(u=y,v):u};function b(y){return function(_){var S,N,C;return arguments.length?([S,N,C]=_,u=LMe(y,[S,N,C]),v):[u(0),u(.5),u(1)]}}return v.range=b(im),v.rangeRound=b(tI),v.unknown=function(y){return arguments.length?(g=y,v):g},function(y){return f=y,i=y(e),s=y(t),o=y(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function uee(){var e=ju(S1()($i));return e.copy=function(){return Su(e,uee())},Gl.apply(e,arguments)}function dee(){var e=sI(S1()).domain([.1,1,10]);return e.copy=function(){return Su(e,dee()).base(e.base())},Gl.apply(e,arguments)}function fee(){var e=aI(S1());return e.copy=function(){return Su(e,fee()).constant(e.constant())},Gl.apply(e,arguments)}function yI(){var e=oI(S1());return e.copy=function(){return Su(e,yI()).exponent(e.exponent())},Gl.apply(e,arguments)}function NLe(){return yI.apply(null,arguments).exponent(.5)}const Rz=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Av,scaleDiverging:uee,scaleDivergingLog:dee,scaleDivergingPow:yI,scaleDivergingSqrt:NLe,scaleDivergingSymlog:fee,scaleIdentity:VQ,scaleImplicit:iA,scaleLinear:Tw,scaleLog:HQ,scaleOrdinal:JM,scalePoint:Zg,scalePow:lI,scaleQuantile:ZQ,scaleQuantize:YQ,scaleRadial:GQ,scaleSequential:aee,scaleSequentialLog:oee,scaleSequentialPow:vI,scaleSequentialQuantile:cee,scaleSequentialSqrt:SLe,scaleSequentialSymlog:lee,scaleSqrt:sIe,scaleSymlog:KQ,scaleThreshold:XQ,scaleTime:_Le,scaleUtc:jLe,tickFormat:UQ},Symbol.toStringTag,{value:"Module"}));var tP,Mz;function hee(){if(Mz)return tP;Mz=1;var e=em();function t(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!e(c):i(c,u)))var u=c,f=l}return f}return tP=t,tP}var rP,Iz;function CLe(){if(Iz)return rP;Iz=1;function e(t,r){return t>r}return rP=e,rP}var nP,Lz;function ELe(){if(Lz)return nP;Lz=1;var e=hee(),t=CLe(),r=nm();function n(i){return i&&i.length?e(i,r,t):void 0}return nP=n,nP}var PLe=ELe();const N1=pr(PLe);var iP,Dz;function TLe(){if(Dz)return iP;Dz=1;function e(t,r){return t<r}return iP=e,iP}var sP,$z;function kLe(){if($z)return sP;$z=1;var e=hee(),t=TLe(),r=nm();function n(i){return i&&i.length?e(i,r,t):void 0}return sP=n,sP}var ALe=kLe();const C1=pr(ALe);var aP,Fz;function OLe(){if(Fz)return aP;Fz=1;var e=MM(),t=_u(),r=_Q(),n=as();function i(s,o){var l=n(s)?e:r;return l(s,t(o,3))}return aP=i,aP}var oP,Bz;function RLe(){if(Bz)return oP;Bz=1;var e=bQ(),t=OLe();function r(n,i){return e(t(n,i),1)}return oP=r,oP}var MLe=RLe();const ILe=pr(MLe);var lP,zz;function LLe(){if(zz)return lP;zz=1;var e=KM();function t(r,n){return e(r,n)}return lP=t,lP}var DLe=LLe();const Hy=pr(DLe);var sm=1e9,$Le={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bI,Jr=!0,ua="[DecimalError] ",Td=ua+"Invalid argument: ",xI=ua+"Exponent out of range: ",am=Math.floor,cd=Math.pow,FLe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ps,Gn=1e7,Kr=7,pee=9007199254740991,Rw=am(pee/Kr),ct={};ct.absoluteValue=ct.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};ct.comparedTo=ct.cmp=function(e){var t,r,n,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(n=s.d.length,i=e.d.length,t=0,r=n<i?n:i;t<r;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Kr;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(e){return kl(this,new this.constructor(e))};ct.dividedToIntegerBy=ct.idiv=function(e){var t=this,r=t.constructor;return Rr(kl(t,new r(e),0,1),r.precision)};ct.equals=ct.eq=function(e){return!this.cmp(e)};ct.exponent=function(){return En(this)};ct.greaterThan=ct.gt=function(e){return this.cmp(e)>0};ct.greaterThanOrEqualTo=ct.gte=function(e){return this.cmp(e)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(e){return this.cmp(e)<0};ct.lessThanOrEqualTo=ct.lte=function(e){return this.cmp(e)<1};ct.logarithm=ct.log=function(e){var t,r=this,n=r.constructor,i=n.precision,s=i+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Ps))throw Error(ua+"NaN");if(r.s<1)throw Error(ua+(r.s?"NaN":"-Infinity"));return r.eq(Ps)?new n(0):(Jr=!1,t=kl(Lv(r,s),Lv(e,s),s),Jr=!0,Rr(t,i))};ct.minus=ct.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?vee(t,e):mee(t,(e.s=-e.s,e))};ct.modulo=ct.mod=function(e){var t,r=this,n=r.constructor,i=n.precision;if(e=new n(e),!e.s)throw Error(ua+"NaN");return r.s?(Jr=!1,t=kl(r,e,0,1).times(e),Jr=!0,r.minus(t)):Rr(new n(r),i)};ct.naturalExponential=ct.exp=function(){return gee(this)};ct.naturalLogarithm=ct.ln=function(){return Lv(this)};ct.negated=ct.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};ct.plus=ct.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mee(t,e):vee(t,(e.s=-e.s,e))};ct.precision=ct.sd=function(e){var t,r,n,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Td+e);if(t=En(i)+1,n=i.d.length-1,r=n*Kr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};ct.squareRoot=ct.sqrt=function(){var e,t,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ua+"NaN")}for(e=En(l),Jr=!1,i=Math.sqrt(+l),i==0||i==1/0?(t=_o(l.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=am((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(kl(l,s,o+2)).times(.5),_o(s.d).slice(0,o)===(t=_o(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(Rr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(t!="9999")break;o+=4}return Jr=!0,Rr(n,r)};ct.times=ct.mul=function(e){var t,r,n,i,s,o,l,c,u,f=this,p=f.constructor,g=f.d,v=(e=new p(e)).d;if(!f.s||!e.s)return new p(0);for(e.s*=f.s,r=f.e+e.e,c=g.length,u=v.length,c<u&&(s=g,g=v,v=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(t=0,i=c+n;i>n;)l=s[i]+v[n]*g[i-n-1]+t,s[i--]=l%Gn|0,t=l/Gn|0;s[i]=(s[i]+t)%Gn|0}for(;!s[--o];)s.pop();return t?++r:s.shift(),e.d=s,e.e=r,Jr?Rr(e,p.precision):e};ct.toDecimalPlaces=ct.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Do(e,0,sm),t===void 0?t=n.rounding:Do(t,0,8),Rr(r,e+En(r)+1,t))};ct.toExponential=function(e,t){var r,n=this,i=n.constructor;return e===void 0?r=zd(n,!0):(Do(e,0,sm),t===void 0?t=i.rounding:Do(t,0,8),n=Rr(new i(n),e+1,t),r=zd(n,!0,e+1)),r};ct.toFixed=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?zd(i):(Do(e,0,sm),t===void 0?t=s.rounding:Do(t,0,8),n=Rr(new s(i),e+En(i)+1,t),r=zd(n.abs(),!1,e+En(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var e=this,t=e.constructor;return Rr(new t(e),En(e)+1,t.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(e){var t,r,n,i,s,o,l=this,c=l.constructor,u=12,f=+(e=new c(e));if(!e.s)return new c(Ps);if(l=new c(l),!l.s){if(e.s<1)throw Error(ua+"Infinity");return l}if(l.eq(Ps))return l;if(n=c.precision,e.eq(Ps))return Rr(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,s=l.s,o){if((r=f<0?-f:f)<=pee){for(i=new c(Ps),t=Math.ceil(n/Kr+4),Jr=!1;r%2&&(i=i.times(l),Uz(i.d,t)),r=am(r/2),r!==0;)l=l.times(l),Uz(l.d,t);return Jr=!0,e.s<0?new c(Ps).div(i):Rr(i,n)}}else if(s<0)throw Error(ua+"NaN");return s=s<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Jr=!1,i=e.times(Lv(l,n+u)),Jr=!0,i=gee(i),i.s=s,i};ct.toPrecision=function(e,t){var r,n,i=this,s=i.constructor;return e===void 0?(r=En(i),n=zd(i,r<=s.toExpNeg||r>=s.toExpPos)):(Do(e,1,sm),t===void 0?t=s.rounding:Do(t,0,8),i=Rr(new s(i),e,t),r=En(i),n=zd(i,e<=r||r<=s.toExpNeg,e)),n};ct.toSignificantDigits=ct.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Do(e,1,sm),t===void 0?t=n.rounding:Do(t,0,8)),Rr(new n(r),e,t)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=En(e),r=e.constructor;return zd(e,t<=r.toExpNeg||t>=r.toExpPos)};function mee(e,t){var r,n,i,s,o,l,c,u,f=e.constructor,p=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),Jr?Rr(t,p):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(p/Kr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Gn|0,c[s]%=Gn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return t.d=c,t.e=i,Jr?Rr(t,p):t}function Do(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Td+e)}function _o(e){var t,r,n,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)n=e[t]+"",r=Kr-n.length,r&&(s+=Uc(r)),s+=n;o=e[t],n=o+"",r=Kr-n.length,r&&(s+=Uc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var kl=function(){function e(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Gn|0,o=s/Gn|0;return o&&n.unshift(o),n}function t(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Gn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,f,p,g,v,b,y,_,S,N,C,A,k,P,O,I,B=n.constructor,K=n.s==i.s?1:-1,V=n.d,U=i.d;if(!n.s)return new B(n);if(!i.s)throw Error(ua+"Division by zero");for(c=n.e-i.e,O=U.length,k=V.length,v=new B(K),b=v.d=[],u=0;U[u]==(V[u]||0);)++u;if(U[u]>(V[u]||0)&&--c,s==null?N=s=B.precision:o?N=s+(En(n)-En(i))+1:N=s,N<0)return new B(0);if(N=N/Kr+2|0,u=0,O==1)for(f=0,U=U[0],N++;(u<k||f)&&N--;u++)C=f*Gn+(V[u]||0),b[u]=C/U|0,f=C%U|0;else{for(f=Gn/(U[0]+1)|0,f>1&&(U=e(U,f),V=e(V,f),O=U.length,k=V.length),A=O,y=V.slice(0,O),_=y.length;_<O;)y[_++]=0;I=U.slice(),I.unshift(0),P=U[0],U[1]>=Gn/2&&++P;do f=0,l=t(U,y,O,_),l<0?(S=y[0],O!=_&&(S=S*Gn+(y[1]||0)),f=S/P|0,f>1?(f>=Gn&&(f=Gn-1),p=e(U,f),g=p.length,_=y.length,l=t(p,y,g,_),l==1&&(f--,r(p,O<g?I:U,g))):(f==0&&(l=f=1),p=U.slice()),g=p.length,g<_&&p.unshift(0),r(y,p,_),l==-1&&(_=y.length,l=t(U,y,O,_),l<1&&(f++,r(y,O<_?I:U,_))),_=y.length):l===0&&(f++,y=[0]),b[u++]=f,l&&y[0]?y[_++]=V[A]||0:(y=[V[A]],_=1);while((A++<k||y[0]!==void 0)&&N--)}return b[0]||b.shift(),v.e=c,Rr(v,o?s+En(v)+1:s)}}();function gee(e,t){var r,n,i,s,o,l,c=0,u=0,f=e.constructor,p=f.precision;if(En(e)>16)throw Error(xI+En(e));if(!e.s)return new f(Ps);for(Jr=!1,l=p,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(cd(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new f(Ps),f.precision=l;;){if(i=Rr(i.times(e),l),r=r.times(++c),o=s.plus(kl(i,r,l)),_o(o.d).slice(0,l)===_o(s.d).slice(0,l)){for(;u--;)s=Rr(s.times(s),l);return f.precision=p,t==null?(Jr=!0,Rr(s,p)):s}s=o}}function En(e){for(var t=e.e*Kr,r=e.d[0];r>=10;r/=10)t++;return t}function cP(e,t,r){if(t>e.LN10.sd())throw Jr=!0,r&&(e.precision=r),Error(ua+"LN10 precision limit exceeded");return Rr(new e(e.LN10),t)}function Uc(e){for(var t="";e--;)t+="0";return t}function Lv(e,t){var r,n,i,s,o,l,c,u,f,p=1,g=10,v=e,b=v.d,y=v.constructor,_=y.precision;if(v.s<1)throw Error(ua+(v.s?"NaN":"-Infinity"));if(v.eq(Ps))return new y(0);if(t==null?(Jr=!1,u=_):u=t,v.eq(10))return t==null&&(Jr=!0),cP(y,u);if(u+=g,y.precision=u,r=_o(b),n=r.charAt(0),s=En(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(e),r=_o(v.d),n=r.charAt(0),p++;s=En(v),n>1?(v=new y("0."+r),s++):v=new y(n+"."+r.slice(1))}else return c=cP(y,u+2,_).times(s+""),v=Lv(new y(n+"."+r.slice(1)),u-g).plus(c),y.precision=_,t==null?(Jr=!0,Rr(v,_)):v;for(l=o=v=kl(v.minus(Ps),v.plus(Ps),u),f=Rr(v.times(v),u),i=3;;){if(o=Rr(o.times(f),u),c=l.plus(kl(o,new y(i),u)),_o(c.d).slice(0,u)===_o(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(cP(y,u+2,_).times(s+""))),l=kl(l,new y(p),u),y.precision=_,t==null?(Jr=!0,Rr(l,_)):l;l=c,i+=2}}function qz(e,t){var r,n,i;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(n,i),t){if(i-=n,r=r-n-1,e.e=am(r/Kr),e.d=[],n=(r+1)%Kr,r<0&&(n+=Kr),n<i){for(n&&e.d.push(+t.slice(0,n)),i-=Kr;n<i;)e.d.push(+t.slice(n,n+=Kr));t=t.slice(n),n=Kr-t.length}else n-=i;for(;n--;)t+="0";if(e.d.push(+t),Jr&&(e.e>Rw||e.e<-Rw))throw Error(xI+r)}else e.s=0,e.e=0,e.d=[0];return e}function Rr(e,t,r){var n,i,s,o,l,c,u,f,p=e.d;for(o=1,s=p[0];s>=10;s/=10)o++;if(n=t-o,n<0)n+=Kr,i=t,u=p[f=0];else{if(f=Math.ceil((n+1)/Kr),s=p.length,f>=s)return e;for(u=s=p[f],o=1;s>=10;s/=10)o++;n%=Kr,i=n-Kr+o}if(r!==void 0&&(s=cd(10,o-i-1),l=u/s%10|0,c=t<0||p[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/cd(10,o-i):0:p[f-1])%10&1||r==(e.s<0?8:7))),t<1||!p[0])return c?(s=En(e),p.length=1,t=t-s-1,p[0]=cd(10,(Kr-t%Kr)%Kr),e.e=am(-t/Kr)||0):(p.length=1,p[0]=e.e=e.s=0),e;if(n==0?(p.length=f,s=1,f--):(p.length=f+1,s=cd(10,Kr-n),p[f]=i>0?(u/cd(10,o-i)%cd(10,i)|0)*s:0),c)for(;;)if(f==0){(p[0]+=s)==Gn&&(p[0]=1,++e.e);break}else{if(p[f]+=s,p[f]!=Gn)break;p[f--]=0,s=1}for(n=p.length;p[--n]===0;)p.pop();if(Jr&&(e.e>Rw||e.e<-Rw))throw Error(xI+En(e));return e}function vee(e,t){var r,n,i,s,o,l,c,u,f,p,g=e.constructor,v=g.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new g(e),Jr?Rr(t,v):t;if(c=e.d,p=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=p.length):(r=p,n=u,l=c.length),i=Math.max(Math.ceil(v/Kr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=p.length,f=i<l,f&&(l=i),i=0;i<l;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}o=0}for(f&&(r=c,c=p,p=r,t.s=-t.s),l=c.length,i=p.length-l;i>0;--i)c[l++]=0;for(i=p.length;i>o;){if(c[--i]<p[i]){for(s=i;s&&c[--s]===0;)c[s]=Gn-1;--c[s],c[i]+=Gn}c[i]-=p[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Jr?Rr(t,v):t):new g(0)}function zd(e,t,r){var n,i=En(e),s=_o(e.d),o=s.length;return t?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Uc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Uc(-i-1)+s,r&&(n=r-o)>0&&(s+=Uc(n))):i>=o?(s+=Uc(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Uc(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Uc(n))),e.s<0?"-"+s:s}function Uz(e,t){if(e.length>t)return e.length=t,!0}function yee(e){var t,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Td+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return qz(o,s.toString())}else if(typeof s!="string")throw Error(Td+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,FLe.test(s))qz(o,s);else throw Error(Td+s)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=yee,i.config=i.set=BLe,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return i.config(e),i}function BLe(e){if(!e||typeof e!="object")throw Error(ua+"Object expected");var t,r,n,i=["precision",1,sm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((n=e[r=i[t]])!==void 0)if(am(n)===n&&n>=i[t+1]&&n<=i[t+2])this[r]=n;else throw Error(Td+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Td+r+": "+n);return this}var bI=yee($Le);Ps=new bI(1);const Pr=bI;function zLe(e){return WLe(e)||VLe(e)||ULe(e)||qLe()}function qLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ULe(e,t){if(e){if(typeof e=="string")return lA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return lA(e,t)}}function VLe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function WLe(e){if(Array.isArray(e))return lA(e)}function lA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var HLe=function(t){return t},xee={},bee=function(t){return t===xee},Vz=function(t){return function r(){return arguments.length===0||arguments.length===1&&bee(arguments.length<=0?void 0:arguments[0])?r:t.apply(void 0,arguments)}},KLe=function e(t,r){return t===1?r:Vz(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==xee}).length;return o>=t?r.apply(void 0,i):e(t-o,Vz(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=i.map(function(p){return bee(p)?c.shift():p});return r.apply(void 0,zLe(f).concat(c))}))})},E1=function(t){return KLe(t.length,t)},cA=function(t,r){for(var n=[],i=t;i<r;++i)n[i-t]=i;return n},GLe=E1(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(r){return t[r]}).map(e)}),ZLe=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return HLe;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},uA=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},wee=function(t){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=t.apply(void 0,s)),n}};function YLe(e){var t;return e===0?t=1:t=Math.floor(new Pr(e).abs().log(10).toNumber())+1,t}function XLe(e,t,r){for(var n=new Pr(e),i=0,s=[];n.lt(t)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var JLe=E1(function(e,t,r){var n=+e,i=+t;return n+r*(i-n)}),QLe=E1(function(e,t,r){var n=t-+e;return n=n||1/0,(r-e)/n}),eDe=E1(function(e,t,r){var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});const P1={rangeStep:XLe,getDigitCount:YLe,interpolateNumber:JLe,uninterpolateNumber:QLe,uninterpolateTruncation:eDe};function dA(e){return nDe(e)||rDe(e)||_ee(e)||tDe()}function tDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rDe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function nDe(e){if(Array.isArray(e))return fA(e)}function Dv(e,t){return aDe(e)||sDe(e,t)||_ee(e,t)||iDe()}function iDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ee(e,t){if(e){if(typeof e=="string")return fA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fA(e,t)}}function fA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sDe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=e[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(t&&r.length===t));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function aDe(e){if(Array.isArray(e))return e}function jee(e){var t=Dv(e,2),r=t[0],n=t[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function See(e,t,r){if(e.lte(0))return new Pr(0);var n=P1.getDigitCount(e.toNumber()),i=new Pr(10).pow(n),s=e.div(i),o=n!==1?.05:.1,l=new Pr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return t?c:new Pr(Math.ceil(c))}function oDe(e,t,r){var n=1,i=new Pr(e);if(!i.isint()&&r){var s=Math.abs(e);s<1?(n=new Pr(10).pow(P1.getDigitCount(e)-1),i=new Pr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Pr(Math.floor(e)))}else e===0?i=new Pr(Math.floor((t-1)/2)):r||(i=new Pr(Math.floor(e)));var o=Math.floor((t-1)/2),l=ZLe(GLe(function(c){return i.add(new Pr(c-o).mul(n)).toNumber()}),cA);return l(0,t)}function Nee(e,t,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(r-1)))return{step:new Pr(0),tickMin:new Pr(0),tickMax:new Pr(0)};var s=See(new Pr(t).sub(e).div(r-1),n,i),o;e<=0&&t>=0?o=new Pr(0):(o=new Pr(e).add(t).div(2),o=o.sub(new Pr(o).mod(s)));var l=Math.ceil(o.sub(e).div(s).toNumber()),c=Math.ceil(new Pr(t).sub(o).div(s).toNumber()),u=l+c+1;return u>r?Nee(e,t,r,n,i+1):(u<r&&(c=t>0?c+(r-u):c,l=t>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Pr(l).mul(s)),tickMax:o.add(new Pr(c).mul(s))})}function lDe(e){var t=Dv(e,2),r=t[0],n=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=jee([r,n]),c=Dv(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var p=f===1/0?[u].concat(dA(cA(0,i-1).map(function(){return 1/0}))):[].concat(dA(cA(0,i-1).map(function(){return-1/0})),[f]);return r>n?uA(p):p}if(u===f)return oDe(u,i,s);var g=Nee(u,f,o,s),v=g.step,b=g.tickMin,y=g.tickMax,_=P1.rangeStep(b,y.add(new Pr(.1).mul(v)),v);return r>n?uA(_):_}function cDe(e,t){var r=Dv(e,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=jee([n,i]),l=Dv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var f=Math.max(t,2),p=See(new Pr(u).sub(c).div(f-1),s,0),g=[].concat(dA(P1.rangeStep(new Pr(c),new Pr(u).sub(new Pr(.99).mul(p)),p)),[u]);return n>i?uA(g):g}var uDe=wee(lDe),dDe=wee(cDe),fDe="Invariant failed";function qd(e,t){throw new Error(fDe)}var hDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function gp(e){"@babel/helpers - typeof";return gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},gp(e)}function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mw.apply(this,arguments)}function pDe(e,t){return yDe(e)||vDe(e,t)||gDe(e,t)||mDe()}function mDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gDe(e,t){if(e){if(typeof e=="string")return Wz(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wz(e,t)}}function Wz(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vDe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function yDe(e){if(Array.isArray(e))return e}function xDe(e,t){if(e==null)return{};var r=bDe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function bDe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function wDe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _De(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Pee(n.key),n)}}function jDe(e,t,r){return t&&_De(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function SDe(e,t,r){return t=Iw(t),NDe(e,Cee()?Reflect.construct(t,r||[],Iw(e).constructor):t.apply(e,r))}function NDe(e,t){if(t&&(gp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CDe(e)}function CDe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cee=function(){return!!e})()}function Iw(e){return Iw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iw(e)}function EDe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&hA(e,t)}function hA(e,t){return hA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hA(e,t)}function Eee(e,t,r){return t=Pee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Pee(e){var t=PDe(e,"string");return gp(t)=="symbol"?t:t+""}function PDe(e,t){if(gp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ky=function(e){function t(){return wDe(this,t),SDe(this,t,arguments)}return EDe(t,e),jDe(t,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,p=n.yAxis,g=xDe(n,hDe),v=Vt(g,!1);this.props.direction==="x"&&f.type!=="number"&&qd();var b=c.map(function(y){var _=u(y,l),S=_.x,N=_.y,C=_.value,A=_.errorVal;if(!A)return null;var k=[],P,O;if(Array.isArray(A)){var I=pDe(A,2);P=I[0],O=I[1]}else P=O=A;if(s==="vertical"){var B=f.scale,K=N+i,V=K+o,U=K-o,q=B(C-P),H=B(C+O);k.push({x1:H,y1:V,x2:H,y2:U}),k.push({x1:q,y1:K,x2:H,y2:K}),k.push({x1:q,y1:V,x2:q,y2:U})}else if(s==="horizontal"){var G=p.scale,se=S+i,W=se-o,ee=se+o,X=G(C-P),ne=G(C+O);k.push({x1:W,y1:ne,x2:ee,y2:ne}),k.push({x1:se,y1:X,x2:se,y2:ne}),k.push({x1:W,y1:X,x2:ee,y2:X})}return Q.createElement(qr,Mw({className:"recharts-errorBar",key:"bar-".concat(k.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},v),k.map(function(J){return Q.createElement("line",Mw({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return Q.createElement(qr,{className:"recharts-errorBars"},b)}}])}(Q.Component);Eee(Ky,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Eee(Ky,"displayName","ErrorBar");function $v(e){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$v(e)}function Hz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Hz(Object(r),!0).forEach(function(n){TDe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Hz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TDe(e,t,r){return t=kDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kDe(e){var t=ADe(e,"string");return $v(t)=="symbol"?t:t+""}function ADe(e,t){if($v(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tee=function(t){var r=t.children,n=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,o=js(r,iu);if(!o)return null;var l=iu.defaultProps,c=l!==void 0?rd(rd({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,p){var g=p.item,v=p.props,b=v.sectors||v.data||[];return f.concat(b.map(function(y){return{type:o.props.iconType||g.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(f){var p=f.item,g=p.type.defaultProps,v=g!==void 0?rd(rd({},g),p.props):{},b=v.dataKey,y=v.name,_=v.legendType,S=v.hide;return{inactive:S,dataKey:b,type:c.iconType||_||"square",color:wI(p),value:y||b,payload:v}}),rd(rd(rd({},c),iu.getWithHeight(o,i)),{},{payload:u,item:o})};function Fv(e){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fv(e)}function Kz(e){return IDe(e)||MDe(e)||RDe(e)||ODe()}function ODe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RDe(e,t){if(e){if(typeof e=="string")return pA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pA(e,t)}}function MDe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IDe(e){if(Array.isArray(e))return pA(e)}function pA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gz(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function un(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gz(Object(r),!0).forEach(function(n){Uh(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Uh(e,t,r){return t=LDe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LDe(e){var t=DDe(e,"string");return Fv(t)=="symbol"?t:t+""}function DDe(e,t){if(Fv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $n(e,t,r){return Lt(e)||Lt(t)?r:Fn(t)?Os(e,t,r):It(t)?t(e):r}function Yg(e,t,r,n){var i=ILe(e,function(l){return $n(l,t)});if(r==="number"){var s=i.filter(function(l){return et(l)||parseFloat(l)});return s.length?[C1(s),N1(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Lt(l)}):i;return o.map(function(l){return Fn(l)||l instanceof Date?l:""})}var $De=function(t){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?i[u-1].coordinate:i[l-1].coordinate,p=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(Di(p-f)!==Di(g-p)){var b=[];if(Di(g-p)===Di(c[1]-c[0])){v=g;var y=p+c[1]-c[0];b[0]=Math.min(y,(y+f)/2),b[1]=Math.max(y,(y+f)/2)}else{v=f;var _=g+c[1]-c[0];b[0]=Math.min(p,(_+p)/2),b[1]=Math.max(p,(_+p)/2)}var S=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(t>S[0]&&t<=S[1]||t>=b[0]&&t<=b[1]){o=i[u].index;break}}else{var N=Math.min(f,g),C=Math.max(f,g);if(t>(N+p)/2&&t<=(C+p)/2){o=i[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&t>(n[A].coordinate+n[A-1].coordinate)/2&&t<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&t>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},wI=function(t){var r,n=t,i=n.type.displayName,s=(r=t.type)!==null&&r!==void 0&&r.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},FDe=function(t){var r=t.barSize,n=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,p=Object.keys(f),g=0,v=p.length;g<v;g++){var b=f[p[g]],y=b.items,_=b.cateAxisId,S=y.filter(function(O){return Tl(O.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,C=N!==void 0?un(un({},N),S[0].props):S[0].props,A=C.barSize,k=C[_];o[k]||(o[k]=[]);var P=Lt(A)?r:A;o[k].push({item:S[0],stackList:S.slice(1),barSize:Lt(P)?void 0:za(P,n,0)})}}return o},BDe=function(t){var r=t.barGap,n=t.barCategoryGap,i=t.bandSize,s=t.sizeList,o=s===void 0?[]:s,l=t.maxBarSize,c=o.length;if(c<1)return null;var u=za(r,i,0,!0),f,p=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/c,b=o.reduce(function(A,k){return A+k.barSize||0},0);b+=(c-1)*u,b>=i&&(b-=(c-1)*u,u=0),b>=i&&v>0&&(g=!0,v*=.9,b=c*v);var y=(i-b)/2>>0,_={offset:y-u,size:0};f=o.reduce(function(A,k){var P={item:k.item,position:{offset:_.offset+_.size+u,size:g?v:k.barSize}},O=[].concat(Kz(A),[P]);return _=O[O.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){O.push({item:I,position:_})}),O},p)}else{var S=za(n,i,0,!0);i-2*S-(c-1)*u<=0&&(u=0);var N=(i-2*S-(c-1)*u)/c;N>1&&(N>>=0);var C=l===+l?Math.min(N,l):N;f=o.reduce(function(A,k,P){var O=[].concat(Kz(A),[{item:k.item,position:{offset:S+(N+u)*P+(N-C)/2,size:C}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},p)}return f},zDe=function(t,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Tee({children:s,legendWidth:c});if(u){var f=i||{},p=f.width,g=f.height,v=u.align,b=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&v!=="center"&&et(t[v]))return un(un({},t),{},Uh({},v,t[v]+(p||0)));if((y==="horizontal"||y==="vertical"&&v==="center")&&b!=="middle"&&et(t[b]))return un(un({},t),{},Uh({},b,t[b]+(g||0)))}return t},qDe=function(t,r,n){return Lt(r)?!0:t==="horizontal"?r==="yAxis":t==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},kee=function(t,r,n,i,s){var o=r.props.children,l=Rs(o,Ky).filter(function(u){return qDe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return t.reduce(function(u,f){var p=$n(f,n);if(Lt(p))return u;var g=Array.isArray(p)?[C1(p),N1(p)]:[p,p],v=c.reduce(function(b,y){var _=$n(f,y,0),S=g[0]-Math.abs(Array.isArray(_)?_[0]:_),N=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(S,b[0]),Math.max(N,b[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},UDe=function(t,r,n,i,s){var o=r.map(function(l){return kee(t,l,n,s,i)}).filter(function(l){return!Lt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Aee=function(t,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&kee(t,c,u,i)||Yg(t,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,p=u.length;f<p;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},Oee=function(t,r){return t==="horizontal"&&r==="xAxis"||t==="vertical"&&r==="yAxis"||t==="centric"&&r==="angleAxis"||t==="radial"&&r==="radiusAxis"},Ree=function(t,r,n,i){if(i)return t.map(function(c){return c.coordinate});var s,o,l=t.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},bl=function(t,r,n){if(!t)return null;var i=t.scale,s=t.duplicateDomain,o=t.type,l=t.range,c=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=t.axisType==="angleAxis"&&l?.length>=2?Di(l[0]-l[1])*2*u:u,r&&(t.ticks||t.niceTicks)){var f=(t.ticks||t.niceTicks).map(function(p){var g=s?s.indexOf(p):p;return{coordinate:i(g)+u,value:p,offset:u}});return f.filter(function(p){return!By(p.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(p,g){return{coordinate:i(p)+u,value:p,index:g,offset:u}}):i.ticks&&!n?i.ticks(t.tickCount).map(function(p){return{coordinate:i(p)+u,value:p,offset:u}}):i.domain().map(function(p,g){return{coordinate:i(p)+u,value:s?s[p]:p,index:g,offset:u}})},uP=new WeakMap,X0=function(t,r){if(typeof r!="function")return t;uP.has(t)||uP.set(t,new WeakMap);var n=uP.get(t);if(n.has(r))return n.get(r);var i=function(){t.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},VDe=function(t,r,n){var i=t.scale,s=t.type,o=t.layout,l=t.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:Av(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Tw(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Zg(),realScaleType:"point"}:s==="category"?{scale:Av(),realScaleType:"band"}:{scale:Tw(),realScaleType:"linear"};if(Bd(i)){var c="scale".concat(f1(i));return{scale:(Rz[c]||Zg)(),realScaleType:Rz[c]?c:"point"}}return It(i)?{scale:i}:{scale:Zg(),realScaleType:"point"}},Zz=1e-4,WDe=function(t){var r=t.domain();if(!(!r||r.length<=2)){var n=r.length,i=t.range(),s=Math.min(i[0],i[1])-Zz,o=Math.max(i[0],i[1])+Zz,l=t(r[0]),c=t(r[n-1]);(l<s||l>o||c<s||c>o)&&t.domain([r[0],r[n-1]])}},HDe=function(t,r){if(!t)return null;for(var n=0,i=t.length;n<i;n++)if(t[n].item===r)return t[n].position;return null},KDe=function(t,r){if(!r||r.length!==2||!et(r[0])||!et(r[1]))return t;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[t[0],t[1]];return(!et(t[0])||t[0]<n)&&(s[0]=n),(!et(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},GDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=By(t[l][n][1])?t[l][n][0]:t[l][n][1];c>=0?(t[l][n][0]=s,t[l][n][1]=s+c,s=t[l][n][1]):(t[l][n][0]=o,t[l][n][1]=o+c,o=t[l][n][1])}},ZDe=function(t){var r=t.length;if(!(r<=0))for(var n=0,i=t[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=By(t[o][n][1])?t[o][n][0]:t[o][n][1];l>=0?(t[o][n][0]=s,t[o][n][1]=s+l,s=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},YDe={sign:GDe,expand:Rke,none:lp,silhouette:Mke,wiggle:Ike,positive:ZDe},XDe=function(t,r,n){var i=r.map(function(l){return l.props.dataKey}),s=YDe[n],o=Oke().keys(i).value(function(l,c){return+$n(l,c,0)}).order(Vk).offset(s);return o(t)},JDe=function(t,r,n,i,s,o){if(!t)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(p,g){var v,b=(v=g.type)!==null&&v!==void 0&&v.defaultProps?un(un({},g.type.defaultProps),g.props):g.props,y=b.stackId,_=b.hide;if(_)return p;var S=b[n],N=p[S]||{hasStack:!1,stackGroups:{}};if(Fn(y)){var C=N.stackGroups[y]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(g),N.hasStack=!0,N.stackGroups[y]=C}else N.stackGroups[rm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return un(un({},p),{},Uh({},S,N))},c),f={};return Object.keys(u).reduce(function(p,g){var v=u[g];if(v.hasStack){var b={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(y,_){var S=v.stackGroups[_];return un(un({},y),{},Uh({},_,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:XDe(t,S.items,s)}))},b)}return un(un({},p),{},Uh({},g,v))},f)},QDe=function(t,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=t.domain();if(!u.length)return null;var f=uDe(u,s,l);return t.domain([C1(f),N1(f)]),{niceTicks:f}}if(s&&i==="number"){var p=t.domain(),g=dDe(p,s,l);return{niceTicks:g}}return null};function Yz(e){var t=e.axis,r=e.ticks,n=e.bandSize,i=e.entry,s=e.index,o=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Lt(i[t.dataKey])){var l=dw(r,"value",i[t.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=$n(i,Lt(o)?t.dataKey:o);return Lt(c)?null:t.scale(c)}var Xz=function(t){var r=t.axis,n=t.ticks,i=t.offset,s=t.bandSize,o=t.entry,l=t.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=$n(o,r.dataKey,r.domain[l]);return Lt(c)?null:r.scale(c)-s/2+i},e4e=function(t){var r=t.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},t4e=function(t,r){var n,i=(n=t.type)!==null&&n!==void 0&&n.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(Fn(s)){var o=r[s];if(o){var l=o.items.indexOf(t);return l>=0?o.stackedData[l]:null}}return null},r4e=function(t){return t.reduce(function(r,n){return[C1(n.concat([r[0]]).filter(et)),N1(n.concat([r[1]]).filter(et))]},[1/0,-1/0])},Mee=function(t,r,n){return Object.keys(t).reduce(function(i,s){var o=t[s],l=o.stackedData,c=l.reduce(function(u,f){var p=r4e(f.slice(r,n+1));return[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Jz=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Qz=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mA=function(t,r,n){if(It(t))return t(r,n);if(!Array.isArray(t))return r;var i=[];if(et(t[0]))i[0]=n?t[0]:Math.min(t[0],r[0]);else if(Jz.test(t[0])){var s=+Jz.exec(t[0])[1];i[0]=r[0]-s}else It(t[0])?i[0]=t[0](r[0]):i[0]=r[0];if(et(t[1]))i[1]=n?t[1]:Math.max(t[1],r[1]);else if(Qz.test(t[1])){var o=+Qz.exec(t[1])[1];i[1]=r[1]+o}else It(t[1])?i[1]=t[1](r[1]):i[1]=r[1];return i},Lw=function(t,r,n){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!n||i>0)return i}if(t&&r&&r.length>=2){for(var s=ZM(r,function(p){return p.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},eq=function(t,r,n){return!t||!t.length||Hy(t,Os(n,"type.defaultProps.domain"))?r:t},Iee=function(t,r){var n=t.type.defaultProps?un(un({},t.type.defaultProps),t.props):t.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return un(un({},Vt(t,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:wI(t),value:$n(r,i),type:c,payload:r,chartType:u,hide:f})};function Bv(e){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bv(e)}function tq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tq(Object(r),!0).forEach(function(n){n4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n4e(e,t,r){return t=i4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i4e(e){var t=s4e(e,"string");return Bv(t)=="symbol"?t:t+""}function s4e(e,t){if(Bv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Dw=Math.PI/180,a4e=function(t){return t*180/Math.PI},Cn=function(t,r,n,i){return{x:t+Math.cos(-Dw*i)*n,y:r+Math.sin(-Dw*i)*n}},o4e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},l4e=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},c4e=function(t,r){var n=t.x,i=t.y,s=r.cx,o=r.cy,l=l4e({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:a4e(u),angleInRadian:u}},u4e=function(t){var r=t.startAngle,n=t.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},d4e=function(t,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return t+l*360},nq=function(t,r){var n=t.x,i=t.y,s=c4e({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=u4e(r),p=f.startAngle,g=f.endAngle,v=l,b;if(p<=g){for(;v>g;)v-=360;for(;v<p;)v+=360;b=v>=p&&v<=g}else{for(;v>p;)v-=360;for(;v<g;)v+=360;b=v>=g&&v<=p}return b?rq(rq({},r),{},{radius:o,angle:d4e(v,r)}):null};function zv(e){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zv(e)}var f4e=["offset"];function h4e(e){return v4e(e)||g4e(e)||m4e(e)||p4e()}function p4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4e(e,t){if(e){if(typeof e=="string")return gA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gA(e,t)}}function g4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v4e(e){if(Array.isArray(e))return gA(e)}function gA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function y4e(e,t){if(e==null)return{};var r=x4e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function x4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function iq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function In(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iq(Object(r),!0).forEach(function(n){b4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b4e(e,t,r){return t=w4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w4e(e){var t=_4e(e,"string");return zv(t)=="symbol"?t:t+""}function _4e(e,t){if(zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qv(){return qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qv.apply(this,arguments)}var j4e=function(t){var r=t.value,n=t.formatter,i=Lt(t.children)?r:t.children;return It(n)?n(i):i},S4e=function(t,r){var n=Di(r-t),i=Math.min(Math.abs(r-t),360);return n*i},N4e=function(t,r,n){var i=t.position,s=t.viewBox,o=t.offset,l=t.className,c=s,u=c.cx,f=c.cy,p=c.innerRadius,g=c.outerRadius,v=c.startAngle,b=c.endAngle,y=c.clockWise,_=(p+g)/2,S=S4e(v,b),N=S>=0?1:-1,C,A;i==="insideStart"?(C=v+N*o,A=y):i==="insideEnd"?(C=b-N*o,A=!y):i==="end"&&(C=b+N*o,A=y),A=S<=0?A:!A;var k=Cn(u,f,_,C),P=Cn(u,f,_,C+(A?1:-1)*359),O="M".concat(k.x,",").concat(k.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),I=Lt(t.id)?rm("recharts-radial-line-"):t.id;return Q.createElement("text",qv({},n,{dominantBaseline:"central",className:Kt("recharts-radial-bar-label",l)}),Q.createElement("defs",null,Q.createElement("path",{id:I,d:O})),Q.createElement("textPath",{xlinkHref:"#".concat(I)},r))},C4e=function(t){var r=t.viewBox,n=t.offset,i=t.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,p=s.endAngle,g=(f+p)/2;if(i==="outside"){var v=Cn(o,l,u+n,g),b=v.x,y=v.y;return{x:b,y,textAnchor:b>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,S=Cn(o,l,_,g),N=S.x,C=S.y;return{x:N,y:C,textAnchor:"middle",verticalAnchor:"middle"}},E4e=function(t){var r=t.viewBox,n=t.parentViewBox,i=t.offset,s=t.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,p=f>=0?1:-1,g=p*i,v=p>0?"end":"start",b=p>0?"start":"end",y=u>=0?1:-1,_=y*i,S=y>0?"end":"start",N=y>0?"start":"end";if(s==="top"){var C={x:l+u/2,y:c-p*i,textAnchor:"middle",verticalAnchor:v};return In(In({},C),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var A={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:b};return In(In({},A),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var k={x:l-_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return In(In({},k),n?{width:Math.max(k.x-n.x,0),height:f}:{})}if(s==="right"){var P={x:l+u+_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return In(In({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:f}:{})}var O=n?{width:u,height:f}:{};return s==="insideLeft"?In({x:l+_,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideRight"?In({x:l+u-_,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideTop"?In({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:b},O):s==="insideBottom"?In({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:v},O):s==="insideTopLeft"?In({x:l+_,y:c+g,textAnchor:N,verticalAnchor:b},O):s==="insideTopRight"?In({x:l+u-_,y:c+g,textAnchor:S,verticalAnchor:b},O):s==="insideBottomLeft"?In({x:l+_,y:c+f-g,textAnchor:N,verticalAnchor:v},O):s==="insideBottomRight"?In({x:l+u-_,y:c+f-g,textAnchor:S,verticalAnchor:v},O):tm(s)&&(et(s.x)||vd(s.x))&&(et(s.y)||vd(s.y))?In({x:l+za(s.x,u),y:c+za(s.y,f),textAnchor:"end",verticalAnchor:"end"},O):In({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},O)},P4e=function(t){return"cx"in t&&et(t.cx)};function si(e){var t=e.offset,r=t===void 0?5:t,n=y4e(e,f4e),i=In({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,f=i.className,p=f===void 0?"":f,g=i.textBreakAll;if(!s||Lt(l)&&Lt(c)&&!x.isValidElement(u)&&!It(u))return null;if(x.isValidElement(u))return x.cloneElement(u,i);var v;if(It(u)){if(v=x.createElement(u,i),x.isValidElement(v))return v}else v=j4e(i);var b=P4e(s),y=Vt(i,!0);if(b&&(o==="insideStart"||o==="insideEnd"||o==="end"))return N4e(i,v,y);var _=b?C4e(i):E4e(i);return Q.createElement(kv,qv({className:Kt("recharts-label",p)},y,_,{breakAll:g}),v)}si.displayName="Label";var Lee=function(t){var r=t.cx,n=t.cy,i=t.angle,s=t.startAngle,o=t.endAngle,l=t.r,c=t.radius,u=t.innerRadius,f=t.outerRadius,p=t.x,g=t.y,v=t.top,b=t.left,y=t.width,_=t.height,S=t.clockWise,N=t.labelViewBox;if(N)return N;if(et(y)&&et(_)){if(et(p)&&et(g))return{x:p,y:g,width:y,height:_};if(et(v)&&et(b))return{x:v,y:b,width:y,height:_}}return et(p)&&et(g)?{x:p,y:g,width:0,height:0}:et(r)&&et(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:S}:t.viewBox?t.viewBox:{}},T4e=function(t,r){return t?t===!0?Q.createElement(si,{key:"label-implicit",viewBox:r}):Fn(t)?Q.createElement(si,{key:"label-implicit",viewBox:r,value:t}):x.isValidElement(t)?t.type===si?x.cloneElement(t,{key:"label-implicit",viewBox:r}):Q.createElement(si,{key:"label-implicit",content:t,viewBox:r}):It(t)?Q.createElement(si,{key:"label-implicit",content:t,viewBox:r}):tm(t)?Q.createElement(si,qv({viewBox:r},t,{key:"label-implicit"})):null:null},k4e=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var i=t.children,s=Lee(t),o=Rs(i,si).map(function(c,u){return x.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=T4e(t.label,r||s);return[l].concat(h4e(o))};si.parseViewBox=Lee;si.renderCallByParent=k4e;var dP,sq;function A4e(){if(sq)return dP;sq=1;function e(t){var r=t==null?0:t.length;return r?t[r-1]:void 0}return dP=e,dP}var O4e=A4e();const R4e=pr(O4e);function Uv(e){"@babel/helpers - typeof";return Uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Uv(e)}var M4e=["valueAccessor"],I4e=["data","dataKey","clockWise","id","textBreakAll"];function L4e(e){return B4e(e)||F4e(e)||$4e(e)||D4e()}function D4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $4e(e,t){if(e){if(typeof e=="string")return vA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vA(e,t)}}function F4e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function B4e(e){if(Array.isArray(e))return vA(e)}function vA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$w.apply(this,arguments)}function aq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function oq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aq(Object(r),!0).forEach(function(n){z4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z4e(e,t,r){return t=q4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q4e(e){var t=U4e(e,"string");return Uv(t)=="symbol"?t:t+""}function U4e(e,t){if(Uv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lq(e,t){if(e==null)return{};var r=V4e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function V4e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var W4e=function(t){return Array.isArray(t.value)?R4e(t.value):t.value};function Al(e){var t=e.valueAccessor,r=t===void 0?W4e:t,n=lq(e,M4e),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=lq(n,I4e);return!i||!i.length?null:Q.createElement(qr,{className:"recharts-label-list"},i.map(function(f,p){var g=Lt(s)?r(f,p):$n(f&&f.payload,s),v=Lt(l)?{}:{id:"".concat(l,"-").concat(p)};return Q.createElement(si,$w({},Vt(f,!0),u,v,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:si.parseViewBox(Lt(o)?f:oq(oq({},f),{},{clockWise:o})),key:"label-".concat(p),index:p}))}))}Al.displayName="LabelList";function H4e(e,t){return e?e===!0?Q.createElement(Al,{key:"labelList-implicit",data:t}):Q.isValidElement(e)||It(e)?Q.createElement(Al,{key:"labelList-implicit",data:t,content:e}):tm(e)?Q.createElement(Al,$w({data:t},e,{key:"labelList-implicit"})):null:null}function K4e(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var n=e.children,i=Rs(n,Al).map(function(o,l){return x.cloneElement(o,{data:t,key:"labelList-".concat(l)})});if(!r)return i;var s=H4e(e.label,t);return[s].concat(L4e(i))}Al.renderCallByParent=K4e;function Vv(e){"@babel/helpers - typeof";return Vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Vv(e)}function yA(){return yA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yA.apply(this,arguments)}function cq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function uq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cq(Object(r),!0).forEach(function(n){G4e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function G4e(e,t,r){return t=Z4e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Z4e(e){var t=Y4e(e,"string");return Vv(t)=="symbol"?t:t+""}function Y4e(e,t){if(Vv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var X4e=function(t,r){var n=Di(r-t),i=Math.min(Math.abs(r-t),359.999);return n*i},J0=function(t){var r=t.cx,n=t.cy,i=t.radius,s=t.angle,o=t.sign,l=t.isExternal,c=t.cornerRadius,u=t.cornerIsExternal,f=c*(l?1:-1)+i,p=Math.asin(c/f)/Dw,g=u?s:s+o*p,v=Cn(r,n,f,g),b=Cn(r,n,i,g),y=u?s-o*p:s,_=Cn(r,n,f*Math.cos(p*Dw),y);return{center:v,circleTangency:b,lineTangency:_,theta:p}},Dee=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.startAngle,l=t.endAngle,c=X4e(o,l),u=o+c,f=Cn(r,n,s,o),p=Cn(r,n,s,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(p.x,",").concat(p.y,`
  `);if(i>0){var v=Cn(r,n,i,o),b=Cn(r,n,i,u);g+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},J4e=function(t){var r=t.cx,n=t.cy,i=t.innerRadius,s=t.outerRadius,o=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,f=t.endAngle,p=Di(f-u),g=J0({cx:r,cy:n,radius:s,angle:u,sign:p,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,b=g.lineTangency,y=g.theta,_=J0({cx:r,cy:n,radius:s,angle:f,sign:-p,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,N=_.lineTangency,C=_.theta,A=c?Math.abs(u-f):Math.abs(u-f)-y-C;if(A<0)return l?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Dee({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f});var k="M ".concat(b.x,",").concat(b.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(p<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var P=J0({cx:r,cy:n,radius:i,angle:u,sign:p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=P.circleTangency,I=P.lineTangency,B=P.theta,K=J0({cx:r,cy:n,radius:i,angle:f,sign:-p,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),V=K.circleTangency,U=K.lineTangency,q=K.theta,H=c?Math.abs(u-f):Math.abs(u-f)-B-q;if(H<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(p>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(p<0),",").concat(I.x,",").concat(I.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},Q4e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$ee=function(t){var r=uq(uq({},Q4e),t),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,p=r.endAngle,g=r.className;if(o<s||f===p)return null;var v=Kt("recharts-sector",g),b=o-s,y=za(l,b,0,!0),_;return y>0&&Math.abs(f-p)<360?_=J4e({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(y,b/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:p}):_=Dee({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:f,endAngle:p}),Q.createElement("path",yA({},Vt(r,!0),{className:v,d:_,role:"img"}))};function Wv(e){"@babel/helpers - typeof";return Wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Wv(e)}function xA(){return xA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xA.apply(this,arguments)}function dq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function fq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dq(Object(r),!0).forEach(function(n){e$e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e$e(e,t,r){return t=t$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t$e(e){var t=r$e(e,"string");return Wv(t)=="symbol"?t:t+""}function r$e(e,t){if(Wv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hq={curveBasisClosed:wke,curveBasisOpen:_ke,curveBasis:bke,curveBumpX:ake,curveBumpY:oke,curveLinearClosed:jke,curveLinear:p1,curveMonotoneX:Ske,curveMonotoneY:Nke,curveNatural:Cke,curveStep:Eke,curveStepAfter:Tke,curveStepBefore:Pke},Q0=function(t){return t.x===+t.x&&t.y===+t.y},yg=function(t){return t.x},xg=function(t){return t.y},n$e=function(t,r){if(It(t))return t;var n="curve".concat(f1(t));return(n==="curveMonotone"||n==="curveBump")&&r?hq["".concat(n).concat(r==="vertical"?"Y":"X")]:hq[n]||p1},i$e=function(t){var r=t.type,n=r===void 0?"linear":r,i=t.points,s=i===void 0?[]:i,o=t.baseLine,l=t.layout,c=t.connectNulls,u=c===void 0?!1:c,f=n$e(n,l),p=u?s.filter(function(y){return Q0(y)}):s,g;if(Array.isArray(o)){var v=u?o.filter(function(y){return Q0(y)}):o,b=p.map(function(y,_){return fq(fq({},y),{},{base:v[_]})});return l==="vertical"?g=V0().y(xg).x1(yg).x0(function(y){return y.base.x}):g=V0().x(yg).y1(xg).y0(function(y){return y.base.y}),g.defined(Q0).curve(f),g(b)}return l==="vertical"&&et(o)?g=V0().y(xg).x1(yg).x0(o):et(o)?g=V0().x(yg).y1(xg).y0(o):g=UJ().x(yg).y(xg),g.defined(Q0).curve(f),g(p)},Fw=function(t){var r=t.className,n=t.points,i=t.path,s=t.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?i$e(t):i;return x.createElement("path",xA({},Vt(t,!1),fw(t),{className:Kt("recharts-curve",r),d:o,ref:s}))},fP={exports:{}},hP,pq;function s$e(){if(pq)return hP;pq=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return hP=e,hP}var pP,mq;function a$e(){if(mq)return pP;mq=1;var e=s$e();function t(){}function r(){}return r.resetWarningCache=t,pP=function(){function n(o,l,c,u,f,p){if(p!==e){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:t};return s.PropTypes=s,s},pP}var gq;function o$e(){return gq||(gq=1,fP.exports=a$e()()),fP.exports}var l$e=o$e();const vr=pr(l$e);var c$e=Object.getOwnPropertyNames,u$e=Object.getOwnPropertySymbols,d$e=Object.prototype.hasOwnProperty;function vq(e,t){return function(n,i,s){return e(n,i,s)&&t(n,i,s)}}function eb(e){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return e(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=e(r,n,i);return s.delete(r),s.delete(n),c}}function yq(e){return c$e(e).concat(u$e(e))}var f$e=Object.hasOwn||function(e,t){return d$e.call(e,t)};function cf(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var h$e="__v",p$e="__o",m$e="_owner",xq=Object.getOwnPropertyDescriptor,bq=Object.keys;function g$e(e,t,r){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(!r.equals(e[n],t[n],n,n,e,t,r))return!1;return!0}function v$e(e,t){return cf(e.getTime(),t.getTime())}function y$e(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function x$e(e,t){return e===t}function wq(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=t.entries(),f=!1,p=0;(l=u.next())&&!l.done;){if(i[p]){p++;continue}var g=o.value,v=l.value;if(r.equals(g[0],v[0],c,p,e,t,r)&&r.equals(g[1],v[1],g[0],v[0],e,t,r)){f=i[p]=!0;break}p++}if(!f)return!1;c++}return!0}var b$e=cf;function w$e(e,t,r){var n=bq(e),i=n.length;if(bq(t).length!==i)return!1;for(;i-- >0;)if(!Fee(e,t,r,n[i]))return!1;return!0}function bg(e,t,r){var n=yq(e),i=n.length;if(yq(t).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!Fee(e,t,r,s)||(o=xq(e,s),l=xq(t,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function _$e(e,t){return cf(e.valueOf(),t.valueOf())}function j$e(e,t){return e.source===t.source&&e.flags===t.flags}function _q(e,t,r){var n=e.size;if(n!==t.size)return!1;if(!n)return!0;for(var i=new Array(n),s=e.values(),o,l;(o=s.next())&&!o.done;){for(var c=t.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!i[f]&&r.equals(o.value,l.value,o.value,l.value,e,t,r)){u=i[f]=!0;break}f++}if(!u)return!1}return!0}function S$e(e,t){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(e[r]!==t[r])return!1;return!0}function N$e(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Fee(e,t,r,n){return(n===m$e||n===p$e||n===h$e)&&(e.$$typeof||t.$$typeof)?!0:f$e(t,n)&&r.equals(e[n],t[n],n,n,e,t,r)}var C$e="[object Arguments]",E$e="[object Boolean]",P$e="[object Date]",T$e="[object Error]",k$e="[object Map]",A$e="[object Number]",O$e="[object Object]",R$e="[object RegExp]",M$e="[object Set]",I$e="[object String]",L$e="[object URL]",D$e=Array.isArray,jq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Sq=Object.assign,$$e=Object.prototype.toString.call.bind(Object.prototype.toString);function F$e(e){var t=e.areArraysEqual,r=e.areDatesEqual,n=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,o=e.areNumbersEqual,l=e.areObjectsEqual,c=e.arePrimitiveWrappersEqual,u=e.areRegExpsEqual,f=e.areSetsEqual,p=e.areTypedArraysEqual,g=e.areUrlsEqual;return function(b,y,_){if(b===y)return!0;if(b==null||y==null)return!1;var S=typeof b;if(S!==typeof y)return!1;if(S!=="object")return S==="number"?o(b,y,_):S==="function"?i(b,y,_):!1;var N=b.constructor;if(N!==y.constructor)return!1;if(N===Object)return l(b,y,_);if(D$e(b))return t(b,y,_);if(jq!=null&&jq(b))return p(b,y,_);if(N===Date)return r(b,y,_);if(N===RegExp)return u(b,y,_);if(N===Map)return s(b,y,_);if(N===Set)return f(b,y,_);var C=$$e(b);return C===P$e?r(b,y,_):C===R$e?u(b,y,_):C===k$e?s(b,y,_):C===M$e?f(b,y,_):C===O$e?typeof b.then!="function"&&typeof y.then!="function"&&l(b,y,_):C===L$e?g(b,y,_):C===T$e?n(b,y,_):C===C$e?l(b,y,_):C===E$e||C===A$e||C===I$e?c(b,y,_):!1}}function B$e(e){var t=e.circular,r=e.createCustomConfig,n=e.strict,i={areArraysEqual:n?bg:g$e,areDatesEqual:v$e,areErrorsEqual:y$e,areFunctionsEqual:x$e,areMapsEqual:n?vq(wq,bg):wq,areNumbersEqual:b$e,areObjectsEqual:n?bg:w$e,arePrimitiveWrappersEqual:_$e,areRegExpsEqual:j$e,areSetsEqual:n?vq(_q,bg):_q,areTypedArraysEqual:n?bg:S$e,areUrlsEqual:N$e};if(r&&(i=Sq({},i,r(i))),t){var s=eb(i.areArraysEqual),o=eb(i.areMapsEqual),l=eb(i.areObjectsEqual),c=eb(i.areSetsEqual);i=Sq({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function z$e(e){return function(t,r,n,i,s,o,l){return e(t,r,l)}}function q$e(e){var t=e.circular,r=e.comparator,n=e.createState,i=e.equals,s=e.strict;if(n)return function(c,u){var f=n(),p=f.cache,g=p===void 0?t?new WeakMap:void 0:p,v=f.meta;return r(c,u,{cache:g,equals:i,meta:v,strict:s})};if(t)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var U$e=Nu();Nu({strict:!0});Nu({circular:!0});Nu({circular:!0,strict:!0});Nu({createInternalComparator:function(){return cf}});Nu({strict:!0,createInternalComparator:function(){return cf}});Nu({circular:!0,createInternalComparator:function(){return cf}});Nu({circular:!0,createInternalComparator:function(){return cf},strict:!0});function Nu(e){e===void 0&&(e={});var t=e.circular,r=t===void 0?!1:t,n=e.createInternalComparator,i=e.createState,s=e.strict,o=s===void 0?!1:s,l=B$e(e),c=F$e(l),u=n?n(c):z$e(c);return q$e({circular:r,comparator:c,createState:i,equals:u,strict:o})}function V$e(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function Nq(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>t?(e(s),r=-1):V$e(i)};requestAnimationFrame(n)}function bA(e){"@babel/helpers - typeof";return bA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},bA(e)}function W$e(e){return Z$e(e)||G$e(e)||K$e(e)||H$e()}function H$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function K$e(e,t){if(e){if(typeof e=="string")return Cq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cq(e,t)}}function Cq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G$e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Z$e(e){if(Array.isArray(e))return e}function Y$e(){var e={},t=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=W$e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Nq(i.bind(null,u),c);return}i(c),Nq(i.bind(null,u));return}bA(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function Hv(e){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Hv(e)}function Eq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Pq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Eq(Object(r),!0).forEach(function(n){Bee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bee(e,t,r){return t=X$e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X$e(e){var t=J$e(e,"string");return Hv(t)==="symbol"?t:String(t)}function J$e(e,t){if(Hv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Hv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Q$e=function(t,r){return[Object.keys(t),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},e3e=function(t){return t},t3e=function(t){return t.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Xg=function(t,r){return Object.keys(r).reduce(function(n,i){return Pq(Pq({},n),{},Bee({},i,t(i,r[i])))},{})},Tq=function(t,r,n){return t.map(function(i){return"".concat(t3e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function r3e(e,t){return s3e(e)||i3e(e,t)||zee(e,t)||n3e()}function n3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function i3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function s3e(e){if(Array.isArray(e))return e}function a3e(e){return c3e(e)||l3e(e)||zee(e)||o3e()}function o3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zee(e,t){if(e){if(typeof e=="string")return wA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wA(e,t)}}function l3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c3e(e){if(Array.isArray(e))return wA(e)}function wA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Bw=1e-4,qee=function(t,r){return[0,3*t,3*r-6*t,3*t-3*r+1]},Uee=function(t,r){return t.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},kq=function(t,r){return function(n){var i=qee(t,r);return Uee(i,n)}},u3e=function(t,r){return function(n){var i=qee(t,r),s=[].concat(a3e(i.map(function(o,l){return o*l}).slice(1)),[0]);return Uee(s,n)}},Aq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),f=r3e(u,4);i=f[0],s=f[1],o=f[2],l=f[3]}}}var p=kq(i,o),g=kq(s,l),v=u3e(i,o),b=function(S){return S>1?1:S<0?0:S},y=function(S){for(var N=S>1?1:S,C=N,A=0;A<8;++A){var k=p(C)-N,P=v(C);if(Math.abs(k-N)<Bw||P<Bw)return g(C);C=b(C-k/P)}return g(C)};return y.isStepper=!1,y},d3e=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.stiff,n=r===void 0?100:r,i=t.damping,s=i===void 0?8:i,o=t.dt,l=o===void 0?17:o,c=function(f,p,g){var v=-(f-p)*n,b=g*s,y=g+(v-b)*l/1e3,_=g*l/1e3+f;return Math.abs(_-p)<Bw&&Math.abs(y)<Bw?[p,0]:[_,y]};return c.isStepper=!0,c.dt=l,c},f3e=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return Aq(i);case"spring":return d3e();default:if(i.split("(")[0]==="cubic-bezier")return Aq(i)}return typeof i=="function"?i:null};function Kv(e){"@babel/helpers - typeof";return Kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kv(e)}function Oq(e){return m3e(e)||p3e(e)||Vee(e)||h3e()}function h3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m3e(e){if(Array.isArray(e))return jA(e)}function Rq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ni(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rq(Object(r),!0).forEach(function(n){_A(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _A(e,t,r){return t=g3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function g3e(e){var t=v3e(e,"string");return Kv(t)==="symbol"?t:String(t)}function v3e(e,t){if(Kv(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Kv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y3e(e,t){return w3e(e)||b3e(e,t)||Vee(e,t)||x3e()}function x3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vee(e,t){if(e){if(typeof e=="string")return jA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jA(e,t)}}function jA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function b3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function w3e(e){if(Array.isArray(e))return e}var zw=function(t,r,n){return t+(r-t)*n},SA=function(t){var r=t.from,n=t.to;return r!==n},_3e=function e(t,r,n){var i=Xg(function(s,o){if(SA(o)){var l=t(o.from,o.to,o.velocity),c=y3e(l,2),u=c[0],f=c[1];return ni(ni({},o),{},{from:u,velocity:f})}return o},r);return n<1?Xg(function(s,o){return SA(o)?ni(ni({},o),{},{velocity:zw(o.velocity,i[s].velocity,n),from:zw(o.from,i[s].from,n)}):o},r):e(t,i,n-1)};const j3e=function(e,t,r,n,i){var s=Q$e(e,t),o=s.reduce(function(_,S){return ni(ni({},_),{},_A({},S,[e[S],t[S]]))},{}),l=s.reduce(function(_,S){return ni(ni({},_),{},_A({},S,{from:e[S],velocity:0,to:t[S]}))},{}),c=-1,u,f,p=function(){return null},g=function(){return Xg(function(S,N){return N.from},l)},v=function(){return!Object.values(l).filter(SA).length},b=function(S){u||(u=S);var N=S-u,C=N/r.dt;l=_3e(r,l,C),i(ni(ni(ni({},e),t),g())),u=S,v()||(c=requestAnimationFrame(p))},y=function(S){f||(f=S);var N=(S-f)/n,C=Xg(function(k,P){return zw.apply(void 0,Oq(P).concat([r(N)]))},o);if(i(ni(ni(ni({},e),t),C)),N<1)c=requestAnimationFrame(p);else{var A=Xg(function(k,P){return zw.apply(void 0,Oq(P).concat([r(1)]))},o);i(ni(ni(ni({},e),t),A))}};return p=r.isStepper?b:y,function(){return requestAnimationFrame(p),function(){cancelAnimationFrame(c)}}};function vp(e){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vp(e)}var S3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function N3e(e,t){if(e==null)return{};var r=C3e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function C3e(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function mP(e){return k3e(e)||T3e(e)||P3e(e)||E3e()}function E3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P3e(e,t){if(e){if(typeof e=="string")return NA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NA(e,t)}}function T3e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k3e(e){if(Array.isArray(e))return NA(e)}function NA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Mq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ea(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Mq(Object(r),!0).forEach(function(n){Lg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Mq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Lg(e,t,r){return t=Wee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A3e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O3e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Wee(n.key),n)}}function R3e(e,t,r){return t&&O3e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Wee(e){var t=M3e(e,"string");return vp(t)==="symbol"?t:String(t)}function M3e(e,t){if(vp(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(vp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function I3e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CA(e,t)}function CA(e,t){return CA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},CA(e,t)}function L3e(e){var t=D3e();return function(){var n=qw(e),i;if(t){var s=qw(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return EA(this,i)}}function EA(e,t){if(t&&(vp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PA(e)}function PA(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D3e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function qw(e){return qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},qw(e)}var $o=function(e){I3e(r,e);var t=L3e(r);function r(n,i){var s;A3e(this,r),s=t.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,p=o.steps,g=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(PA(s)),s.changeStyle=s.changeStyle.bind(PA(s)),!l||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:f}),EA(s);if(p&&p.length)s.state={style:p[0].style};else if(u){if(typeof g=="function")return s.state={style:u},EA(s);s.state={style:c?Lg({},c,u):u}}else s.state={style:{}};return s}return R3e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,p=s.from,g=this.state.style;if(l){if(!o){var v={style:c?Lg({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(v);return}if(!(U$e(i.to,f)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||u?p:i.to;if(this.state&&g){var _={style:c?Lg({},c,y):y};(c&&g[c]!==y||!c&&g!==y)&&this.setState(_)}this.runAnimation(Ea(Ea({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,f=i.begin,p=i.onAnimationEnd,g=i.onAnimationStart,v=j3e(o,l,f3e(u),c,this.changeStyle),b=function(){s.stopJSAnimation=v()};this.manager.start([g,f,b,c,p])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],f=u.style,p=u.duration,g=p===void 0?0:p,v=function(y,_,S){if(S===0)return y;var N=_.duration,C=_.easing,A=C===void 0?"ease":C,k=_.style,P=_.properties,O=_.onAnimationEnd,I=S>0?o[S-1]:_,B=P||Object.keys(k);if(typeof A=="function"||A==="spring")return[].concat(mP(y),[s.runJSAnimation.bind(s,{from:I.style,to:k,duration:N,easing:A}),N]);var K=Tq(B,N,A),V=Ea(Ea(Ea({},I.style),k),{},{transition:K});return[].concat(mP(y),[V,N,O]).filter(e3e)};return this.manager.start([c].concat(mP(o.reduce(v,[f,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Y$e());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,f=i.onAnimationStart,p=i.onAnimationEnd,g=i.steps,v=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var y=l?Lg({},l,c):c,_=Tq(Object.keys(y),o,u);b.start([f,s,Ea(Ea({},y),{},{transition:_}),o,p])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=N3e(i,S3e),u=x.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var p=function(v){var b=v.props,y=b.style,_=y===void 0?{}:y,S=b.className,N=x.cloneElement(v,Ea(Ea({},c),{},{style:Ea(Ea({},_),f),className:S}));return N};return u===1?p(x.Children.only(s)):Q.createElement("div",null,x.Children.map(s,function(g){return p(g)}))}}]),r}(x.PureComponent);$o.displayName="Animate";$o.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};$o.propTypes={from:vr.oneOfType([vr.object,vr.string]),to:vr.oneOfType([vr.object,vr.string]),attributeName:vr.string,duration:vr.number,begin:vr.number,easing:vr.oneOfType([vr.string,vr.func]),steps:vr.arrayOf(vr.shape({duration:vr.number.isRequired,style:vr.object.isRequired,easing:vr.oneOfType([vr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),vr.func]),properties:vr.arrayOf("string"),onAnimationEnd:vr.func})),children:vr.oneOfType([vr.node,vr.func]),isActive:vr.bool,canBegin:vr.bool,onAnimationEnd:vr.func,shouldReAnimate:vr.bool,onAnimationStart:vr.func,onAnimationReStart:vr.func};function Gv(e){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gv(e)}function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uw.apply(this,arguments)}function $3e(e,t){return q3e(e)||z3e(e,t)||B3e(e,t)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3e(e,t){if(e){if(typeof e=="string")return Iq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Iq(e,t)}}function Iq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function z3e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function q3e(e){if(Array.isArray(e))return e}function Lq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Dq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lq(Object(r),!0).forEach(function(n){U3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U3e(e,t,r){return t=V3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function V3e(e){var t=W3e(e,"string");return Gv(t)=="symbol"?t:t+""}function W3e(e,t){if(Gv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $q=function(t,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var p=[0,0,0,0],g=0,v=4;g<v;g++)p[g]=s[g]>o?o:s[g];f="M".concat(t,",").concat(r+l*p[0]),p[0]>0&&(f+="A ".concat(p[0],",").concat(p[0],",0,0,").concat(u,",").concat(t+c*p[0],",").concat(r)),f+="L ".concat(t+n-c*p[1],",").concat(r),p[1]>0&&(f+="A ".concat(p[1],",").concat(p[1],",0,0,").concat(u,`,
        `).concat(t+n,",").concat(r+l*p[1])),f+="L ".concat(t+n,",").concat(r+i-l*p[2]),p[2]>0&&(f+="A ".concat(p[2],",").concat(p[2],",0,0,").concat(u,`,
        `).concat(t+n-c*p[2],",").concat(r+i)),f+="L ".concat(t+c*p[3],",").concat(r+i),p[3]>0&&(f+="A ".concat(p[3],",").concat(p[3],",0,0,").concat(u,`,
        `).concat(t,",").concat(r+i-l*p[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);f="M ".concat(t,",").concat(r+l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+c*b,",").concat(r,`
            L `).concat(t+n-c*b,",").concat(r,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n,",").concat(r+l*b,`
            L `).concat(t+n,",").concat(r+i-l*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t+n-c*b,",").concat(r+i,`
            L `).concat(t+c*b,",").concat(r+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(t,",").concat(r+i-l*b," Z")}else f="M ".concat(t,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return f},H3e=function(t,r){if(!t||!r)return!1;var n=t.x,i=t.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),p=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&i>=p&&i<=g}return!1},K3e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},_I=function(t){var r=Dq(Dq({},K3e),t),n=x.useRef(),i=x.useState(-1),s=$3e(i,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,f=r.width,p=r.height,g=r.radius,v=r.className,b=r.animationEasing,y=r.animationDuration,_=r.animationBegin,S=r.isAnimationActive,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||f===0||p===0)return null;var C=Kt("recharts-rectangle",v);return N?Q.createElement($o,{canBegin:o>0,from:{width:f,height:p,x:c,y:u},to:{width:f,height:p,x:c,y:u},duration:y,animationEasing:b,isActive:N},function(A){var k=A.width,P=A.height,O=A.x,I=A.y;return Q.createElement($o,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,isActive:S,easing:b},Q.createElement("path",Uw({},Vt(r,!0),{className:C,d:$q(O,I,k,P,g),ref:n})))}):Q.createElement("path",Uw({},Vt(r,!0),{className:C,d:$q(c,u,f,p,g)}))};function TA(){return TA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},TA.apply(this,arguments)}var jI=function(t){var r=t.cx,n=t.cy,i=t.r,s=t.className,o=Kt("recharts-dot",s);return r===+r&&n===+n&&i===+i?x.createElement("circle",TA({},Vt(t,!1),fw(t),{className:o,cx:r,cy:n,r:i})):null};function Zv(e){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zv(e)}var G3e=["x","y","top","left","width","height","className"];function kA(){return kA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},kA.apply(this,arguments)}function Fq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Z3e(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fq(Object(r),!0).forEach(function(n){Y3e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y3e(e,t,r){return t=X3e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X3e(e){var t=J3e(e,"string");return Zv(t)=="symbol"?t:t+""}function J3e(e,t){if(Zv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Q3e(e,t){if(e==null)return{};var r=eFe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function eFe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var tFe=function(t,r,n,i,s,o){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},rFe=function(t){var r=t.x,n=r===void 0?0:r,i=t.y,s=i===void 0?0:i,o=t.top,l=o===void 0?0:o,c=t.left,u=c===void 0?0:c,f=t.width,p=f===void 0?0:f,g=t.height,v=g===void 0?0:g,b=t.className,y=Q3e(t,G3e),_=Z3e({x:n,y:s,top:l,left:u,width:p,height:v},y);return!et(n)||!et(s)||!et(p)||!et(v)||!et(l)||!et(u)?null:Q.createElement("path",kA({},Vt(_,!0),{className:Kt("recharts-cross",b),d:tFe(n,s,p,v,l,u)}))},gP,Bq;function nFe(){if(Bq)return gP;Bq=1;var e=fQ(),t=e(Object.getPrototypeOf,Object);return gP=t,gP}var vP,zq;function iFe(){if(zq)return vP;zq=1;var e=Hl(),t=nFe(),r=Kl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||e(f)!=n)return!1;var p=t(f);if(p===null)return!0;var g=l.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return vP=u,vP}var sFe=iFe();const aFe=pr(sFe);var yP,qq;function oFe(){if(qq)return yP;qq=1;var e=Hl(),t=Kl(),r="[object Boolean]";function n(i){return i===!0||i===!1||t(i)&&e(i)==r}return yP=n,yP}var lFe=oFe();const cFe=pr(lFe);function Yv(e){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yv(e)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vw.apply(this,arguments)}function uFe(e,t){return pFe(e)||hFe(e,t)||fFe(e,t)||dFe()}function dFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fFe(e,t){if(e){if(typeof e=="string")return Uq(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uq(e,t)}}function Uq(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hFe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pFe(e){if(Array.isArray(e))return e}function Vq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Wq(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vq(Object(r),!0).forEach(function(n){mFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mFe(e,t,r){return t=gFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gFe(e){var t=vFe(e,"string");return Yv(t)=="symbol"?t:t+""}function vFe(e,t){if(Yv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hq=function(t,r,n,i,s){var o=n-i,l;return l="M ".concat(t,",").concat(r),l+="L ".concat(t+n,",").concat(r),l+="L ".concat(t+n-o/2,",").concat(r+s),l+="L ".concat(t+n-o/2-i,",").concat(r+s),l+="L ".concat(t,",").concat(r," Z"),l},yFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},xFe=function(t){var r=Wq(Wq({},yFe),t),n=x.useRef(),i=x.useState(-1),s=uFe(i,2),o=s[0],l=s[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,p=r.lowerWidth,g=r.height,v=r.className,b=r.animationEasing,y=r.animationDuration,_=r.animationBegin,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||p!==+p||g!==+g||f===0&&p===0||g===0)return null;var N=Kt("recharts-trapezoid",v);return S?Q.createElement($o,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:p,height:g,x:c,y:u},duration:y,animationEasing:b,isActive:S},function(C){var A=C.upperWidth,k=C.lowerWidth,P=C.height,O=C.x,I=C.y;return Q.createElement($o,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,easing:b},Q.createElement("path",Vw({},Vt(r,!0),{className:N,d:Hq(O,I,A,k,P),ref:n})))}):Q.createElement("g",null,Q.createElement("path",Vw({},Vt(r,!0),{className:N,d:Hq(c,u,f,p,g)})))},bFe=["option","shapeType","propTransformer","activeClassName","isActive"];function Xv(e){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xv(e)}function wFe(e,t){if(e==null)return{};var r=_Fe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _Fe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Kq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ww(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Kq(Object(r),!0).forEach(function(n){jFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Kq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jFe(e,t,r){return t=SFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SFe(e){var t=NFe(e,"string");return Xv(t)=="symbol"?t:t+""}function NFe(e,t){if(Xv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CFe(e,t){return Ww(Ww({},t),e)}function EFe(e,t){return e==="symbols"}function Gq(e){var t=e.shapeType,r=e.elementProps;switch(t){case"rectangle":return Q.createElement(_I,r);case"trapezoid":return Q.createElement(xFe,r);case"sector":return Q.createElement($ee,r);case"symbols":if(EFe(t))return Q.createElement(zM,r);break;default:return null}}function PFe(e){return x.isValidElement(e)?e.props:e}function Hee(e){var t=e.option,r=e.shapeType,n=e.propTransformer,i=n===void 0?CFe:n,s=e.activeClassName,o=s===void 0?"recharts-active-shape":s,l=e.isActive,c=wFe(e,bFe),u;if(x.isValidElement(t))u=x.cloneElement(t,Ww(Ww({},c),PFe(t)));else if(It(t))u=t(c);else if(aFe(t)&&!cFe(t)){var f=i(t,c);u=Q.createElement(Gq,{shapeType:r,elementProps:f})}else{var p=c;u=Q.createElement(Gq,{shapeType:r,elementProps:p})}return l?Q.createElement(qr,{className:o},u):u}function T1(e,t){return t!=null&&"trapezoids"in e.props}function k1(e,t){return t!=null&&"sectors"in e.props}function Jv(e,t){return t!=null&&"points"in e.props}function TFe(e,t){var r,n,i=e.x===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.x)||e.x===t.x,s=e.y===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.y)||e.y===t.y;return i&&s}function kFe(e,t){var r=e.endAngle===t.endAngle,n=e.startAngle===t.startAngle;return r&&n}function AFe(e,t){var r=e.x===t.x,n=e.y===t.y,i=e.z===t.z;return r&&n&&i}function OFe(e,t){var r;return T1(e,t)?r=TFe:k1(e,t)?r=kFe:Jv(e,t)&&(r=AFe),r}function RFe(e,t){var r;return T1(e,t)?r="trapezoids":k1(e,t)?r="sectors":Jv(e,t)&&(r="points"),r}function MFe(e,t){if(T1(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(k1(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Jv(e,t)?t.payload:{}}function IFe(e){var t=e.activeTooltipItem,r=e.graphicalItem,n=e.itemData,i=RFe(r,t),s=MFe(r,t),o=n.filter(function(c,u){var f=Hy(s,c),p=r.props[i].filter(function(b){var y=OFe(r,t);return y(b,t)}),g=r.props[i].indexOf(p[p.length-1]),v=u===g;return f&&v}),l=n.indexOf(o[o.length-1]);return l}var vb;function yp(e){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},yp(e)}function Oh(){return Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Oh.apply(this,arguments)}function Zq(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Zq(Object(r),!0).forEach(function(n){ia(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function LFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yq(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Gee(n.key),n)}}function DFe(e,t,r){return t&&Yq(e.prototype,t),r&&Yq(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function $Fe(e,t,r){return t=Hw(t),FFe(e,Kee()?Reflect.construct(t,r||[],Hw(e).constructor):t.apply(e,r))}function FFe(e,t){if(t&&(yp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BFe(e)}function BFe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kee=function(){return!!e})()}function Hw(e){return Hw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Hw(e)}function zFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AA(e,t)}function AA(e,t){return AA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},AA(e,t)}function ia(e,t,r){return t=Gee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Gee(e){var t=qFe(e,"string");return yp(t)=="symbol"?t:t+""}function qFe(e,t){if(yp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var zl=function(e){function t(r){var n;return LFe(this,t),n=$Fe(this,t,[r]),ia(n,"pieRef",null),ia(n,"sectorRefs",[]),ia(n,"id",rm("recharts-pie-")),ia(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),It(i)&&i()}),ia(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),It(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return zFe(t,e),DFe(t,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,f=Vt(this.props,!1),p=Vt(o,!1),g=Vt(l,!1),v=o&&o.offsetRadius||20,b=n.map(function(y,_){var S=(y.startAngle+y.endAngle)/2,N=Cn(y.cx,y.cy,y.outerRadius+v,S),C=Fr(Fr(Fr(Fr({},f),y),{},{stroke:"none"},p),{},{index:_,textAnchor:t.getTextAnchor(N.x,y.cx)},N),A=Fr(Fr(Fr(Fr({},f),y),{},{fill:"none",stroke:y.fill},g),{},{index:_,points:[Cn(y.cx,y.cy,y.outerRadius,S),N]}),k=c;return Lt(c)&&Lt(u)?k="value":Lt(c)&&(k=u),Q.createElement(qr,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(_)},l&&t.renderLabelLineItem(l,A,"line"),t.renderLabelItem(o,C,$n(y,k)))});return Q.createElement(qr,{className:"recharts-pie-labels"},b)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var p=i.isActiveIndex(f),g=c&&i.hasActiveIndex()?c:null,v=p?o:g,b=Fr(Fr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Q.createElement(qr,Oh({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},wv(i.props,u,f),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(f)}),Q.createElement(Hee,Oh({option:v,isActive:p,shapeType:"sector"},b)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,p=this.state,g=p.prevSectors,v=p.prevIsAnimationActive;return Q.createElement($o,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(b){var y=b.t,_=[],S=s&&s[0],N=S.startAngle;return s.forEach(function(C,A){var k=g&&g[A],P=A>0?Os(C,"paddingAngle",0):0;if(k){var O=Es(k.endAngle-k.startAngle,C.endAngle-C.startAngle),I=Fr(Fr({},C),{},{startAngle:N+P,endAngle:N+O(y)+P});_.push(I),N=I.endAngle}else{var B=C.endAngle,K=C.startAngle,V=Es(0,B-K),U=V(y),q=Fr(Fr({},C),{},{startAngle:N+P,endAngle:N+U+P});_.push(q),N=q.endAngle}}),Q.createElement(qr,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Hy(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,f=i.cy,p=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,b=this.state.isAnimationFinished;if(s||!o||!o.length||!et(u)||!et(f)||!et(p)||!et(g))return null;var y=Kt("recharts-pie",l);return Q.createElement(qr,{tabIndex:this.props.rootTabIndex,className:y,ref:function(S){n.pieRef=S}},this.renderSectors(),c&&this.renderLabels(o),si.renderCallByParent(this.props,null,!1),(!v||b)&&Al.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(Q.isValidElement(n))return Q.cloneElement(n,i);if(It(n))return n(i);var o=Kt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Q.createElement(Fw,Oh({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(Q.isValidElement(n))return Q.cloneElement(n,i);var o=s;if(It(n)&&(o=n(i),Q.isValidElement(o)))return o;var l=Kt("recharts-pie-label-text",typeof n!="boolean"&&!It(n)?n.className:"");return Q.createElement(kv,Oh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(x.PureComponent);vb=zl;ia(zl,"displayName","Pie");ia(zl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!af.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});ia(zl,"parseDeltaAngle",function(e,t){var r=Di(t-e),n=Math.min(Math.abs(t-e),360);return r*n});ia(zl,"getRealPieData",function(e){var t=e.data,r=e.children,n=Vt(e,!1),i=Rs(r,Ev);return t&&t.length?t.map(function(s,o){return Fr(Fr(Fr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return Fr(Fr({},n),s.props)}):[]});ia(zl,"parseCoordinateOfPie",function(e,t){var r=t.top,n=t.left,i=t.width,s=t.height,o=o4e(i,s),l=n+za(e.cx,i,i/2),c=r+za(e.cy,s,s/2),u=za(e.innerRadius,o,0),f=za(e.outerRadius,o,o*.8),p=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:p}});ia(zl,"getComposedData",function(e){var t=e.item,r=e.offset,n=t.type.defaultProps!==void 0?Fr(Fr({},t.type.defaultProps),t.props):t.props,i=vb.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,p=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),b=vb.parseCoordinateOfPie(n,r),y=vb.parseDeltaAngle(o,l),_=Math.abs(y),S=u;Lt(u)&&Lt(p)?(Va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Lt(u)&&(Va(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=p);var N=i.filter(function(I){return $n(I,S,0)!==0}).length,C=(_>=360?N:N-1)*c,A=_-N*v-C,k=i.reduce(function(I,B){var K=$n(B,S,0);return I+(et(K)?K:0)},0),P;if(k>0){var O;P=i.map(function(I,B){var K=$n(I,S,0),V=$n(I,f,B),U=(et(K)?K:0)/k,q;B?q=O.endAngle+Di(y)*c*(K!==0?1:0):q=o;var H=q+Di(y)*((K!==0?v:0)+U*A),G=(q+H)/2,se=(b.innerRadius+b.outerRadius)/2,W=[{name:V,value:K,payload:I,dataKey:S,type:g}],ee=Cn(b.cx,b.cy,se,G);return O=Fr(Fr(Fr({percent:U,cornerRadius:s,name:V,tooltipPayload:W,midAngle:G,middleRadius:se,tooltipPosition:ee},I),b),{},{value:$n(I,S),startAngle:q,endAngle:H,payload:I,paddingAngle:Di(y)*c}),O})}return Fr(Fr({},b),{},{sectors:P,data:i})});var xP,Xq;function UFe(){if(Xq)return xP;Xq=1;var e=Math.ceil,t=Math.max;function r(n,i,s,o){for(var l=-1,c=t(e((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return xP=r,xP}var bP,Jq;function Zee(){if(Jq)return bP;Jq=1;var e=PQ(),t=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=e(i),i===t||i===-t){var s=i<0?-1:1;return s*r}return i===i?i:0}return bP=n,bP}var wP,Qq;function VFe(){if(Qq)return wP;Qq=1;var e=UFe(),t=y1(),r=Zee();function n(i){return function(s,o,l){return l&&typeof l!="number"&&t(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),e(s,o,l,i)}}return wP=n,wP}var _P,eU;function WFe(){if(eU)return _P;eU=1;var e=VFe(),t=e();return _P=t,_P}var HFe=WFe();const Kw=pr(HFe);function Qv(e){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qv(e)}function tU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function rU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tU(Object(r),!0).forEach(function(n){Yee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Yee(e,t,r){return t=KFe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function KFe(e){var t=GFe(e,"string");return Qv(t)=="symbol"?t:t+""}function GFe(e,t){if(Qv(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZFe=["Webkit","Moz","O","ms"],YFe=function(t,r){var n=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=ZFe.reduce(function(s,o){return rU(rU({},s),{},Yee({},o+n,r))},{});return i[t]=r,i};function xp(e){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},xp(e)}function Gw(){return Gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gw.apply(this,arguments)}function nU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function jP(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nU(Object(r),!0).forEach(function(n){_s(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function iU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jee(n.key),n)}}function JFe(e,t,r){return t&&iU(e.prototype,t),r&&iU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function QFe(e,t,r){return t=Zw(t),e5e(e,Xee()?Reflect.construct(t,r||[],Zw(e).constructor):t.apply(e,r))}function e5e(e,t){if(t&&(xp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return t5e(e)}function t5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Xee(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xee=function(){return!!e})()}function Zw(e){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(e)}function r5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&OA(e,t)}function OA(e,t){return OA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},OA(e,t)}function _s(e,t,r){return t=Jee(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jee(e){var t=n5e(e,"string");return xp(t)=="symbol"?t:t+""}function n5e(e,t){if(xp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i5e=function(t){var r=t.data,n=t.startIndex,i=t.endIndex,s=t.x,o=t.width,l=t.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Zg().domain(Kw(0,c)).range([s,s+o-l]),f=u.domain().map(function(p){return u(p)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:f}},sU=function(t){return t.changedTouches&&!!t.changedTouches.length},bp=function(e){function t(r){var n;return XFe(this,t),n=QFe(this,t,[r]),_s(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),_s(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),_s(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),_s(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),_s(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),_s(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),_s(n,"handleSlideDragStart",function(i){var s=sU(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return r5e(t,e),JFe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,p=Math.min(i,s),g=Math.max(i,s),v=t.getIndexInRange(o,p),b=t.getIndexInRange(o,g);return{startIndex:v-v%c,endIndex:b===f?f:b-b%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=$n(s[n],l,n);return It(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,f=c.width,p=c.travellerWidth,g=c.startIndex,v=c.endIndex,b=c.onChange,y=n.pageX-s;y>0?y=Math.min(y,u+f-p-l,u+f-p-o):y<0&&(y=Math.max(y,u-o,u-l));var _=this.getIndex({startX:o+y,endX:l+y});(_.startIndex!==g||_.endIndex!==v)&&b&&b(_),this.setState({startX:o+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=sU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],f=this.props,p=f.x,g=f.width,v=f.travellerWidth,b=f.onChange,y=f.gap,_=f.data,S={startX:this.state.startX,endX:this.state.endX},N=n.pageX-s;N>0?N=Math.min(N,p+g-v-u):N<0&&(N=Math.max(N,p-u)),S[o]=u+N;var C=this.getIndex(S),A=C.startIndex,k=C.endIndex,P=function(){var I=_.length-1;return o==="startX"&&(l>c?A%y===0:k%y===0)||l<c&&k===I||o==="endX"&&(l>c?k%y===0:A%y===0)||l>c&&k===I};this.setState(_s(_s({},o,u+N),"brushMoveStartX",n.pageX),function(){b&&P()&&b(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[i],p=l.indexOf(f);if(p!==-1){var g=p+n;if(!(g===-1||g>=l.length)){var v=l[g];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(_s({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Q.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,p=x.Children.only(u);return p?Q.cloneElement(p,{x:i,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,p=c.height,g=c.traveller,v=c.ariaLabel,b=c.data,y=c.startIndex,_=c.endIndex,S=Math.max(n,this.props.x),N=jP(jP({},Vt(this.props,!1)),{},{x:S,y:u,width:f,height:p}),C=v||"Min value: ".concat((s=b[y])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=b[_])===null||o===void 0?void 0:o.name);return Q.createElement(qr,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,i)+u,p=Math.max(Math.abs(i-n)-u,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:p,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,p=f.startX,g=f.endX,v=5,b={pointerEvents:"none",fill:u};return Q.createElement(qr,{className:"recharts-brush-texts"},Q.createElement(kv,Gw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(p,g)-v,y:o+l/2},b),this.getTextOfTick(i)),Q.createElement(kv,Gw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(p,g)+c+v,y:o+l/2},b),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,p=n.alwaysShowText,g=this.state,v=g.startX,b=g.endX,y=g.isTextActive,_=g.isSlideMoving,S=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!et(l)||!et(c)||!et(u)||!et(f)||u<=0||f<=0)return null;var C=Kt("recharts-brush",s),A=Q.Children.count(o)===1,k=YFe("userSelect","none");return Q.createElement(qr,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,b),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(b,"endX"),(y||_||S||N||p)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),Q.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Q.isValidElement(n)?s=Q.cloneElement(n,i):It(n)?s=n(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,p=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return jP({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?i5e({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:p}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(x.PureComponent);_s(bp,"displayName","Brush");_s(bp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var SP,aU;function s5e(){if(aU)return SP;aU=1;var e=GM();function t(r,n){var i;return e(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return SP=t,SP}var NP,oU;function a5e(){if(oU)return NP;oU=1;var e=sQ(),t=_u(),r=s5e(),n=as(),i=y1();function s(o,l,c){var u=n(o)?e:r;return c&&i(o,l,c)&&(l=void 0),u(o,t(l,3))}return NP=s,NP}var o5e=a5e();const l5e=pr(o5e);var ko=function(t,r){var n=t.alwaysShow,i=t.ifOverflow;return n&&(i="extendDomain"),i===r},CP,lU;function c5e(){if(lU)return CP;lU=1;var e=jQ();function t(r,n,i){n=="__proto__"&&e?e(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return CP=t,CP}var EP,cU;function u5e(){if(cU)return EP;cU=1;var e=c5e(),t=wQ(),r=_u();function n(i,s){var o={};return s=r(s,3),t(i,function(l,c,u){e(o,c,s(l,c,u))}),o}return EP=n,EP}var d5e=u5e();const f5e=pr(d5e);var PP,uU;function h5e(){if(uU)return PP;uU=1;function e(t,r){for(var n=-1,i=t==null?0:t.length;++n<i;)if(!r(t[n],n,t))return!1;return!0}return PP=e,PP}var TP,dU;function p5e(){if(dU)return TP;dU=1;var e=GM();function t(r,n){var i=!0;return e(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return TP=t,TP}var kP,fU;function m5e(){if(fU)return kP;fU=1;var e=h5e(),t=p5e(),r=_u(),n=as(),i=y1();function s(o,l,c){var u=n(o)?e:t;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return kP=s,kP}var g5e=m5e();const Qee=pr(g5e);var v5e=["x","y"];function ey(e){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ey(e)}function RA(){return RA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},RA.apply(this,arguments)}function hU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hU(Object(r),!0).forEach(function(n){y5e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function y5e(e,t,r){return t=x5e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x5e(e){var t=b5e(e,"string");return ey(t)=="symbol"?t:t+""}function b5e(e,t){if(ey(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w5e(e,t){if(e==null)return{};var r=_5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function _5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function j5e(e,t){var r=e.x,n=e.y,i=w5e(e,v5e),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(t.height||i.height),f=parseInt(u,10),p="".concat(t.width||i.width),g=parseInt(p,10);return wg(wg(wg(wg(wg({},t),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:t.name,radius:t.radius})}function pU(e){return Q.createElement(Hee,RA({shapeType:"rectangle",propTransformer:j5e,activeClassName:"recharts-active-bar"},e))}var S5e=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof t=="number")return t;var s=et(n)||ETe(n);return s?t(n,i):(s||qd(),r)}},N5e=["value","background"],ete;function wp(e){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wp(e)}function C5e(e,t){if(e==null)return{};var r=E5e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function E5e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yw.apply(this,arguments)}function mU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function bn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?mU(Object(r),!0).forEach(function(n){Xc(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):mU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function P5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,rte(n.key),n)}}function T5e(e,t,r){return t&&gU(e.prototype,t),r&&gU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function k5e(e,t,r){return t=Xw(t),A5e(e,tte()?Reflect.construct(t,r||[],Xw(e).constructor):t.apply(e,r))}function A5e(e,t){if(t&&(wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O5e(e)}function O5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tte=function(){return!!e})()}function Xw(e){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xw(e)}function R5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MA(e,t)}function MA(e,t){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MA(e,t)}function Xc(e,t,r){return t=rte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rte(e){var t=M5e(e,"string");return wp(t)=="symbol"?t:t+""}function M5e(e,t){if(wp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var Ol=function(e){function t(){var r;P5e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=k5e(this,t,[].concat(i)),Xc(r,"state",{isAnimationFinished:!1}),Xc(r,"id",rm("recharts-bar-")),Xc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Xc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return R5e(t,e),T5e(t,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Vt(this.props,!1);return n&&n.map(function(p,g){var v=g===c,b=v?u:o,y=bn(bn(bn({},f),p),{},{isActive:v,option:b,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Q.createElement(qr,Yw({className:"recharts-bar-rectangle"},wv(i.props,p,g),{key:"rectangle-".concat(p?.x,"-").concat(p?.y,"-").concat(p?.value,"-").concat(g)}),Q.createElement(pU,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,f=i.animationEasing,p=i.animationId,g=this.state.prevData;return Q.createElement($o,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var b=v.t,y=s.map(function(_,S){var N=g&&g[S];if(N){var C=Es(N.x,_.x),A=Es(N.y,_.y),k=Es(N.width,_.width),P=Es(N.height,_.height);return bn(bn({},_),{},{x:C(b),y:A(b),width:k(b),height:P(b)})}if(o==="horizontal"){var O=Es(0,_.height),I=O(b);return bn(bn({},_),{},{y:_.y+_.height-I,height:I})}var B=Es(0,_.width),K=B(b);return bn(bn({},_),{},{width:K})});return Q.createElement(qr,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Hy(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Vt(this.props.background,!1);return s.map(function(u,f){u.value;var p=u.background,g=C5e(u,N5e);if(!p)return null;var v=bn(bn(bn(bn(bn({},g),{},{fill:"#eee"},p),c),wv(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return Q.createElement(pU,Yw({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=Rs(f,Ky);if(!p)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,v=function(_,S){var N=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:N,errorVal:$n(_,S)}},b={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Q.createElement(qr,b,p.map(function(y){return Q.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,p=n.width,g=n.height,v=n.isAnimationActive,b=n.background,y=n.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,S=Kt("recharts-bar",o),N=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,A=N||C,k=Lt(y)?this.id:y;return Q.createElement(qr,{className:S},N||C?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(k)},Q.createElement("rect",{x:N?u:u-p/2,y:C?f:f-g/2,width:N?p:p*2,height:C?g:g*2}))):null,Q.createElement(qr,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(k,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,k),(!v||_)&&Al.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(x.PureComponent);ete=Ol;Xc(Ol,"displayName","Bar");Xc(Ol,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!af.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Xc(Ol,"getComposedData",function(e){var t=e.props,r=e.item,n=e.barPosition,i=e.bandSize,s=e.xAxis,o=e.yAxis,l=e.xAxisTicks,c=e.yAxisTicks,u=e.stackedData,f=e.dataStartIndex,p=e.displayedData,g=e.offset,v=HDe(n,r);if(!v)return null;var b=t.layout,y=r.type.defaultProps,_=y!==void 0?bn(bn({},y),r.props):r.props,S=_.dataKey,N=_.children,C=_.minPointSize,A=b==="horizontal"?o:s,k=u?A.scale.domain():null,P=e4e({numericAxis:A}),O=Rs(N,Ev),I=p.map(function(B,K){var V,U,q,H,G,se;u?V=KDe(u[f+K],k):(V=$n(B,S),Array.isArray(V)||(V=[P,V]));var W=S5e(C,ete.defaultProps.minPointSize)(V[1],K);if(b==="horizontal"){var ee,X=[o.scale(V[0]),o.scale(V[1])],ne=X[0],J=X[1];U=Xz({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:B,index:K}),q=(ee=J??ne)!==null&&ee!==void 0?ee:void 0,H=v.size;var oe=ne-J;if(G=Number.isNaN(oe)?0:oe,se={x:U,y:o.y,width:H,height:o.height},Math.abs(W)>0&&Math.abs(G)<Math.abs(W)){var be=Di(G||W)*(Math.abs(W)-Math.abs(G));q-=be,G+=be}}else{var Ce=[s.scale(V[0]),s.scale(V[1])],Le=Ce[0],ce=Ce[1];if(U=Le,q=Xz({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:B,index:K}),H=ce-Le,G=v.size,se={x:s.x,y:q,width:s.width,height:G},Math.abs(W)>0&&Math.abs(H)<Math.abs(W)){var ae=Di(H||W)*(Math.abs(W)-Math.abs(H));H+=ae}}return bn(bn(bn({},B),{},{x:U,y:q,width:H,height:G,value:u?V:V[1],payload:B,background:se},O&&O[K]&&O[K].props),{},{tooltipPayload:[Iee(r,B)],tooltipPosition:{x:U+H/2,y:q+G/2}})});return bn({data:I,layout:b},g)});function ty(e){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ty(e)}function I5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,nte(n.key),n)}}function L5e(e,t,r){return t&&vU(e.prototype,t),r&&vU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function yU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Ra(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yU(Object(r),!0).forEach(function(n){A1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A1(e,t,r){return t=nte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nte(e){var t=D5e(e,"string");return ty(t)=="symbol"?t:t+""}function D5e(e,t){if(ty(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $5e=function(t,r,n,i,s){var o=t.width,l=t.height,c=t.layout,u=t.children,f=Object.keys(r),p={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!js(u,Ol);return f.reduce(function(v,b){var y=r[b],_=y.orientation,S=y.domain,N=y.padding,C=N===void 0?{}:N,A=y.mirror,k=y.reversed,P="".concat(_).concat(A?"Mirror":""),O,I,B,K,V;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var U=S[1]-S[0],q=1/0,H=y.categoricalDomain.sort(kTe);if(H.forEach(function(Ce,Le){Le>0&&(q=Math.min((Ce||0)-(H[Le-1]||0),q))}),Number.isFinite(q)){var G=q/U,se=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(O=G*se/2),y.padding==="no-gap"){var W=za(t.barCategoryGap,G*se),ee=G*se/2;O=ee-W-(ee-W)/se*W}}}i==="xAxis"?I=[n.left+(C.left||0)+(O||0),n.left+n.width-(C.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(O||0),n.top+n.height-(C.bottom||0)-(O||0)]:I=y.range,k&&(I=[I[1],I[0]]);var X=VDe(y,s,g),ne=X.scale,J=X.realScaleType;ne.domain(S).range(I),WDe(ne);var oe=QDe(ne,Ra(Ra({},y),{},{realScaleType:J}));i==="xAxis"?(V=_==="top"&&!A||_==="bottom"&&A,B=n.left,K=p[P]-V*y.height):i==="yAxis"&&(V=_==="left"&&!A||_==="right"&&A,B=p[P]-V*y.width,K=n.top);var be=Ra(Ra(Ra({},y),oe),{},{realScaleType:J,x:B,y:K,scale:ne,width:i==="xAxis"?n.width:y.width,height:i==="yAxis"?n.height:y.height});return be.bandSize=Lw(be,oe),!y.hide&&i==="xAxis"?p[P]+=(V?-1:1)*be.height:y.hide||(p[P]+=(V?-1:1)*be.width),Ra(Ra({},v),{},A1({},b,be))},{})},ite=function(t,r){var n=t.x,i=t.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},F5e=function(t){var r=t.x1,n=t.y1,i=t.x2,s=t.y2;return ite({x:r,y:n},{x:i,y:s})},ste=function(){function e(t){I5e(this,e),this.scale=t}return L5e(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new e(r)}}])}();A1(ste,"EPS",1e-4);var SI=function(t){var r=Object.keys(t).reduce(function(n,i){return Ra(Ra({},n),{},A1({},i,ste.create(t[i])))},{});return Ra(Ra({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return f5e(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Qee(i,function(s,o){return r[o].isInRange(s)})}})};function B5e(e){return(e%180+180)%180}var z5e=function(t){var r=t.width,n=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=B5e(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},AP,xU;function q5e(){if(xU)return AP;xU=1;var e=_u(),t=zy(),r=g1();function n(i){return function(s,o,l){var c=Object(s);if(!t(s)){var u=e(o,3);s=r(s),o=function(p){return u(c[p],p,c)}}var f=i(s,o,l);return f>-1?c[u?s[f]:f]:void 0}}return AP=n,AP}var OP,bU;function U5e(){if(bU)return OP;bU=1;var e=Zee();function t(r){var n=e(r),i=n%1;return n===n?i?n-i:n:0}return OP=t,OP}var RP,wU;function V5e(){if(wU)return RP;wU=1;var e=gQ(),t=_u(),r=U5e(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),e(s,t(o,3),u)}return RP=i,RP}var MP,_U;function W5e(){if(_U)return MP;_U=1;var e=q5e(),t=V5e(),r=e(t);return MP=r,MP}var H5e=W5e();const K5e=pr(H5e);var G5e=OJ();const Z5e=pr(G5e);var Y5e=Z5e(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),NI=x.createContext(void 0),CI=x.createContext(void 0),ate=x.createContext(void 0),ote=x.createContext({}),lte=x.createContext(void 0),cte=x.createContext(0),ute=x.createContext(0),jU=function(t){var r=t.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=t.clipPathId,l=t.children,c=t.width,u=t.height,f=Y5e(s);return Q.createElement(NI.Provider,{value:n},Q.createElement(CI.Provider,{value:i},Q.createElement(ote.Provider,{value:s},Q.createElement(ate.Provider,{value:f},Q.createElement(lte.Provider,{value:o},Q.createElement(cte.Provider,{value:u},Q.createElement(ute.Provider,{value:c},l)))))))},X5e=function(){return x.useContext(lte)},dte=function(t){var r=x.useContext(NI);r==null&&qd();var n=r[t];return n==null&&qd(),n},J5e=function(){var t=x.useContext(NI);return Gc(t)},Q5e=function(){var t=x.useContext(CI),r=K5e(t,function(n){return Qee(n.domain,Number.isFinite)});return r||Gc(t)},fte=function(t){var r=x.useContext(CI);r==null&&qd();var n=r[t];return n==null&&qd(),n},eBe=function(){var t=x.useContext(ate);return t},tBe=function(){return x.useContext(ote)},EI=function(){return x.useContext(ute)},PI=function(){return x.useContext(cte)};function _p(e){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_p(e)}function rBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,pte(n.key),n)}}function iBe(e,t,r){return t&&nBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sBe(e,t,r){return t=Jw(t),aBe(e,hte()?Reflect.construct(t,r||[],Jw(e).constructor):t.apply(e,r))}function aBe(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oBe(e)}function oBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hte=function(){return!!e})()}function Jw(e){return Jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Jw(e)}function lBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&IA(e,t)}function IA(e,t){return IA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},IA(e,t)}function SU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function NU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SU(Object(r),!0).forEach(function(n){TI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TI(e,t,r){return t=pte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pte(e){var t=cBe(e,"string");return _p(t)=="symbol"?t:t+""}function cBe(e,t){if(_p(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function uBe(e,t){return pBe(e)||hBe(e,t)||fBe(e,t)||dBe()}function dBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fBe(e,t){if(e){if(typeof e=="string")return CU(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CU(e,t)}}function CU(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function hBe(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function pBe(e){if(Array.isArray(e))return e}function LA(){return LA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},LA.apply(this,arguments)}var mBe=function(t,r){var n;return Q.isValidElement(t)?n=Q.cloneElement(t,r):It(t)?n=t(r):n=Q.createElement("line",LA({},r,{className:"recharts-reference-line-line"})),n},gBe=function(t,r,n,i,s,o,l,c,u){var f=s.x,p=s.y,g=s.width,v=s.height;if(n){var b=u.y,y=t.y.apply(b,{position:o});if(ko(u,"discard")&&!t.y.isInRange(y))return null;var _=[{x:f+g,y},{x:f,y}];return c==="left"?_.reverse():_}if(r){var S=u.x,N=t.x.apply(S,{position:o});if(ko(u,"discard")&&!t.x.isInRange(N))return null;var C=[{x:N,y:p+v},{x:N,y:p}];return l==="top"?C.reverse():C}if(i){var A=u.segment,k=A.map(function(P){return t.apply(P,{position:o})});return ko(u,"discard")&&l5e(k,function(P){return!t.isInRange(P)})?null:k}return null};function vBe(e){var t=e.x,r=e.y,n=e.segment,i=e.xAxisId,s=e.yAxisId,o=e.shape,l=e.className,c=e.alwaysShow,u=X5e(),f=dte(i),p=fte(s),g=eBe();if(!u||!g)return null;Va(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=SI({x:f.scale,y:p.scale}),b=Fn(t),y=Fn(r),_=n&&n.length===2,S=gBe(v,b,y,_,g,e.position,f.orientation,p.orientation,e);if(!S)return null;var N=uBe(S,2),C=N[0],A=C.x,k=C.y,P=N[1],O=P.x,I=P.y,B=ko(e,"hidden")?"url(#".concat(u,")"):void 0,K=NU(NU({clipPath:B},Vt(e,!0)),{},{x1:A,y1:k,x2:O,y2:I});return Q.createElement(qr,{className:Kt("recharts-reference-line",l)},mBe(o,K),si.renderCallByParent(e,F5e({x1:A,y1:k,x2:O,y2:I})))}var kI=function(e){function t(){return rBe(this,t),sBe(this,t,arguments)}return lBe(t,e),iBe(t,[{key:"render",value:function(){return Q.createElement(vBe,this.props)}}])}(Q.Component);TI(kI,"displayName","ReferenceLine");TI(kI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function DA(){return DA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},DA.apply(this,arguments)}function jp(e){"@babel/helpers - typeof";return jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jp(e)}function EU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function PU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EU(Object(r),!0).forEach(function(n){O1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gte(n.key),n)}}function bBe(e,t,r){return t&&xBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function wBe(e,t,r){return t=Qw(t),_Be(e,mte()?Reflect.construct(t,r||[],Qw(e).constructor):t.apply(e,r))}function _Be(e,t){if(t&&(jp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jBe(e)}function jBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mte=function(){return!!e})()}function Qw(e){return Qw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qw(e)}function SBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$A(e,t)}function $A(e,t){return $A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$A(e,t)}function O1(e,t,r){return t=gte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gte(e){var t=NBe(e,"string");return jp(t)=="symbol"?t:t+""}function NBe(e,t){if(jp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(jp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var CBe=function(t){var r=t.x,n=t.y,i=t.xAxis,s=t.yAxis,o=SI({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return ko(t,"discard")&&!o.isInRange(l)?null:l},R1=function(e){function t(){return yBe(this,t),wBe(this,t,arguments)}return SBe(t,e),bBe(t,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=Fn(i),f=Fn(s);if(Va(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var p=CBe(this.props);if(!p)return null;var g=p.x,v=p.y,b=this.props,y=b.shape,_=b.className,S=ko(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=PU(PU({clipPath:S},Vt(this.props,!0)),{},{cx:g,cy:v});return Q.createElement(qr,{className:Kt("recharts-reference-dot",_)},t.renderDot(y,N),si.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])}(Q.Component);O1(R1,"displayName","ReferenceDot");O1(R1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});O1(R1,"renderDot",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):It(e)?r=e(t):r=Q.createElement(jI,DA({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),r});function FA(){return FA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},FA.apply(this,arguments)}function Sp(e){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Sp(e)}function TU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function kU(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TU(Object(r),!0).forEach(function(n){M1(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function PBe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,yte(n.key),n)}}function TBe(e,t,r){return t&&PBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function kBe(e,t,r){return t=e_(t),ABe(e,vte()?Reflect.construct(t,r||[],e_(e).constructor):t.apply(e,r))}function ABe(e,t){if(t&&(Sp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return OBe(e)}function OBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vte=function(){return!!e})()}function e_(e){return e_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},e_(e)}function RBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&BA(e,t)}function BA(e,t){return BA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},BA(e,t)}function M1(e,t,r){return t=yte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yte(e){var t=MBe(e,"string");return Sp(t)=="symbol"?t:t+""}function MBe(e,t){if(Sp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var IBe=function(t,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,p=s.yAxis;if(!f||!p)return null;var g=SI({x:f.scale,y:p.scale}),v={x:t?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},b={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return ko(s,"discard")&&(!g.isInRange(v)||!g.isInRange(b))?null:ite(v,b)},I1=function(e){function t(){return EBe(this,t),kBe(this,t,arguments)}return RBe(t,e),TBe(t,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;Va(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=Fn(i),g=Fn(s),v=Fn(o),b=Fn(l),y=this.props.shape;if(!p&&!g&&!v&&!b&&!y)return null;var _=IBe(p,g,v,b,this.props);if(!_&&!y)return null;var S=ko(this.props,"hidden")?"url(#".concat(f,")"):void 0;return Q.createElement(qr,{className:Kt("recharts-reference-area",c)},t.renderRect(y,kU(kU({clipPath:S},Vt(this.props,!0)),_)),si.renderCallByParent(this.props,_))}}])}(Q.Component);M1(I1,"displayName","ReferenceArea");M1(I1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});M1(I1,"renderRect",function(e,t){var r;return Q.isValidElement(e)?r=Q.cloneElement(e,t):It(e)?r=e(t):r=Q.createElement(_I,FA({},t,{className:"recharts-reference-area-rect"})),r});function xte(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],i=0;i<e.length;i+=t)n.push(e[i]);return n}function LBe(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return z5e(n,r)}function DBe(e,t,r){var n=r==="width",i=e.x,s=e.y,o=e.width,l=e.height;return t===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function t_(e,t,r,n,i){if(e*t<e*n||e*t>e*i)return!1;var s=r();return e*(t-e*s/2-n)>=0&&e*(t+e*s/2-i)<=0}function $Be(e,t){return xte(e,t+1)}function FBe(e,t,r,n,i){for(var s=(n||[]).slice(),o=t.start,l=t.end,c=0,u=1,f=o,p=function(){var b=n?.[c];if(b===void 0)return{v:xte(n,u)};var y=c,_,S=function(){return _===void 0&&(_=r(b,y)),_},N=b.coordinate,C=c===0||t_(e,N,S,f,l);C||(c=0,f=o,u+=1),C&&(f=N+e*(S()/2+i),c+=u)},g;u<=s.length;)if(g=p(),g)return g.v;return[]}function ry(e){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ry(e)}function AU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AU(Object(r),!0).forEach(function(n){BBe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BBe(e,t,r){return t=zBe(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function zBe(e){var t=qBe(e,"string");return ry(t)=="symbol"?t:t+""}function qBe(e,t){if(ry(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UBe(e,t,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=t.start,c=t.end,u=function(g){var v=s[g],b,y=function(){return b===void 0&&(b=r(v,g)),b};if(g===o-1){var _=e*(v.coordinate+e*y()/2-c);s[g]=v=wi(wi({},v),{},{tickCoord:_>0?v.coordinate-_*e:v.coordinate})}else s[g]=v=wi(wi({},v),{},{tickCoord:v.coordinate});var S=t_(e,v.tickCoord,y,l,c);S&&(c=v.tickCoord-e*(y()/2+i),s[g]=wi(wi({},v),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function VBe(e,t,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=t.start,u=t.end;if(s){var f=n[l-1],p=r(f,l-1),g=e*(f.coordinate+e*p/2-u);o[l-1]=f=wi(wi({},f),{},{tickCoord:g>0?f.coordinate-g*e:f.coordinate});var v=t_(e,f.tickCoord,function(){return p},c,u);v&&(u=f.tickCoord-e*(p/2+i),o[l-1]=wi(wi({},f),{},{isShow:!0}))}for(var b=s?l-1:l,y=function(N){var C=o[N],A,k=function(){return A===void 0&&(A=r(C,N)),A};if(N===0){var P=e*(C.coordinate-e*k()/2-c);o[N]=C=wi(wi({},C),{},{tickCoord:P<0?C.coordinate-P*e:C.coordinate})}else o[N]=C=wi(wi({},C),{},{tickCoord:C.coordinate});var O=t_(e,C.tickCoord,k,c,u);O&&(c=C.tickCoord+e*(k()/2+i),o[N]=wi(wi({},C),{},{isShow:!0}))},_=0;_<b;_++)y(_);return o}function AI(e,t,r){var n=e.tick,i=e.ticks,s=e.viewBox,o=e.minTickGap,l=e.orientation,c=e.interval,u=e.tickFormatter,f=e.unit,p=e.angle;if(!i||!i.length||!n)return[];if(et(c)||af.isSsr)return $Be(i,typeof c=="number"&&et(c)?c:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",b=f&&v==="width"?Gg(f,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=function(C,A){var k=It(u)?u(C.value,A):C.value;return v==="width"?LBe(Gg(k,{fontSize:t,letterSpacing:r}),b,p):Gg(k,{fontSize:t,letterSpacing:r})[v]},_=i.length>=2?Di(i[1].coordinate-i[0].coordinate):1,S=DBe(s,_,v);return c==="equidistantPreserveStart"?FBe(_,S,y,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=VBe(_,S,y,i,o,c==="preserveStartEnd"):g=UBe(_,S,y,i,o),g.filter(function(N){return N.isShow}))}var WBe=["viewBox"],HBe=["viewBox"],KBe=["ticks"];function Np(e){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Np(e)}function Rh(){return Rh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Rh.apply(this,arguments)}function OU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Mn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?OU(Object(r),!0).forEach(function(n){OI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IP(e,t){if(e==null)return{};var r=GBe(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function GBe(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function ZBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function RU(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,wte(n.key),n)}}function YBe(e,t,r){return t&&RU(e.prototype,t),r&&RU(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function XBe(e,t,r){return t=r_(t),JBe(e,bte()?Reflect.construct(t,r||[],r_(e).constructor):t.apply(e,r))}function JBe(e,t){if(t&&(Np(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QBe(e)}function QBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bte=function(){return!!e})()}function r_(e){return r_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},r_(e)}function e6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zA(e,t)}function zA(e,t){return zA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zA(e,t)}function OI(e,t,r){return t=wte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wte(e){var t=t6e(e,"string");return Np(t)=="symbol"?t:t+""}function t6e(e,t){if(Np(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var om=function(e){function t(r){var n;return ZBe(this,t),n=XBe(this,t,[r]),n.state={fontSize:"",letterSpacing:""},n}return e6e(t,e),YBe(t,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=IP(n,WBe),l=this.props,c=l.viewBox,u=IP(l,HBe);return!zh(s,c)||!zh(o,u)||!zh(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,f=i.tickSize,p=i.mirror,g=i.tickMargin,v,b,y,_,S,N,C=p?-1:1,A=n.tickSize||f,k=et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=b=n.coordinate,_=o+ +!p*c,y=_-C*A,N=y-C*g,S=k;break;case"left":y=_=n.coordinate,b=s+ +!p*l,v=b-C*A,S=v-C*g,N=k;break;case"right":y=_=n.coordinate,b=s+ +p*l,v=b+C*A,S=v+C*g,N=k;break;default:v=b=n.coordinate,_=o+ +p*c,y=_+C*A,N=y+C*g,S=k;break}return{line:{x1:v,y1:y,x2:b,y2:_},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,p=Mn(Mn(Mn({},Vt(this.props,!1)),Vt(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);p=Mn(Mn({},p),{},{x1:i,y1:s+g*l,x2:i+o,y2:s+g*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);p=Mn(Mn({},p),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return Q.createElement("line",Rh({},p,{className:Kt("recharts-cartesian-axis-line",Os(f,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,p=l.tickFormatter,g=l.unit,v=AI(Mn(Mn({},this.props),{},{ticks:n}),i,s),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),_=Vt(this.props,!1),S=Vt(f,!1),N=Mn(Mn({},_),{},{fill:"none"},Vt(c,!1)),C=v.map(function(A,k){var P=o.getTickLineCoord(A),O=P.line,I=P.tick,B=Mn(Mn(Mn(Mn({textAnchor:b,verticalAnchor:y},_),{},{stroke:"none",fill:u},S),I),{},{index:k,payload:A,visibleTicksCount:v.length,tickFormatter:p});return Q.createElement(qr,Rh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},wv(o.props,A,k)),c&&Q.createElement("line",Rh({},N,O,{className:Kt("recharts-cartesian-axis-tick-line",Os(c,"className"))})),f&&t.renderTickItem(f,B,"".concat(It(p)?p(A.value,k):A.value).concat(g||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,f=i.hide;if(f)return null;var p=this.props,g=p.ticks,v=IP(p,KBe),b=g;return It(c)&&(b=g&&g.length>0?c(this.props):c(v)),o<=0||l<=0||!b||!b.length?null:Q.createElement(qr,{className:Kt("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),si.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Kt(i.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(n)?o=Q.cloneElement(n,Mn(Mn({},i),{},{className:l})):It(n)?o=n(Mn(Mn({},i),{},{className:l})):o=Q.createElement(kv,Rh({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(x.Component);OI(om,"displayName","CartesianAxis");OI(om,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var r6e=["x1","y1","x2","y2","key"],n6e=["offset"];function Ud(e){"@babel/helpers - typeof";return Ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ud(e)}function MU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?MU(Object(r),!0).forEach(function(n){i6e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function i6e(e,t,r){return t=s6e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s6e(e){var t=a6e(e,"string");return Ud(t)=="symbol"?t:t+""}function a6e(e,t){if(Ud(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function bd(){return bd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bd.apply(this,arguments)}function IU(e,t){if(e==null)return{};var r=o6e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function o6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}var l6e=function(t){var r=t.fill;if(!r||r==="none")return null;var n=t.fillOpacity,i=t.x,s=t.y,o=t.width,l=t.height,c=t.ry;return Q.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function _te(e,t){var r;if(Q.isValidElement(e))r=Q.cloneElement(e,t);else if(It(e))r=e(t);else{var n=t.x1,i=t.y1,s=t.x2,o=t.y2,l=t.key,c=IU(t,r6e),u=Vt(c,!1);u.offset;var f=IU(u,n6e);r=Q.createElement("line",bd({},f,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function c6e(e){var t=e.x,r=e.width,n=e.horizontal,i=n===void 0?!0:n,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ji(ji({},e),{},{x1:t,y1:l,x2:t+r,y2:l,key:"line-".concat(c),index:c});return _te(i,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function u6e(e){var t=e.y,r=e.height,n=e.vertical,i=n===void 0?!0:n,s=e.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=ji(ji({},e),{},{x1:l,y1:t,x2:l,y2:t+r,key:"line-".concat(c),index:c});return _te(i,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function d6e(e){var t=e.horizontalFill,r=e.fillOpacity,n=e.x,i=e.y,s=e.width,o=e.height,l=e.horizontalPoints,c=e.horizontal,u=c===void 0?!0:c;if(!u||!t||!t.length)return null;var f=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var b=!f[v+1],y=b?i+o-g:f[v+1]-g;if(y<=0)return null;var _=v%t.length;return Q.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:y,width:s,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},p)}function f6e(e){var t=e.vertical,r=t===void 0?!0:t,n=e.verticalFill,i=e.fillOpacity,s=e.x,o=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==f[0]&&f.unshift(0);var p=f.map(function(g,v){var b=!f[v+1],y=b?s+l-g:f[v+1]-g;if(y<=0)return null;var _=v%n.length;return Q.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:y,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},p)}var h6e=function(t,r){var n=t.xAxis,i=t.width,s=t.height,o=t.offset;return Ree(AI(ji(ji(ji({},om.defaultProps),n),{},{ticks:bl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},p6e=function(t,r){var n=t.yAxis,i=t.width,s=t.height,o=t.offset;return Ree(AI(ji(ji(ji({},om.defaultProps),n),{},{ticks:bl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},yh={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Dg(e){var t,r,n,i,s,o,l=EI(),c=PI(),u=tBe(),f=ji(ji({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:yh.stroke,fill:(r=e.fill)!==null&&r!==void 0?r:yh.fill,horizontal:(n=e.horizontal)!==null&&n!==void 0?n:yh.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:yh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:yh.vertical,verticalFill:(o=e.verticalFill)!==null&&o!==void 0?o:yh.verticalFill,x:et(e.x)?e.x:u.left,y:et(e.y)?e.y:u.top,width:et(e.width)?e.width:u.width,height:et(e.height)?e.height:u.height}),p=f.x,g=f.y,v=f.width,b=f.height,y=f.syncWithTicks,_=f.horizontalValues,S=f.verticalValues,N=J5e(),C=Q5e();if(!et(v)||v<=0||!et(b)||b<=0||!et(p)||p!==+p||!et(g)||g!==+g)return null;var A=f.verticalCoordinatesGenerator||h6e,k=f.horizontalCoordinatesGenerator||p6e,P=f.horizontalPoints,O=f.verticalPoints;if((!P||!P.length)&&It(k)){var I=_&&_.length,B=k({yAxis:C?ji(ji({},C),{},{ticks:I?_:C.ticks}):void 0,width:l,height:c,offset:u},I?!0:y);Va(Array.isArray(B),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Ud(B),"]")),Array.isArray(B)&&(P=B)}if((!O||!O.length)&&It(A)){var K=S&&S.length,V=A({xAxis:N?ji(ji({},N),{},{ticks:K?S:N.ticks}):void 0,width:l,height:c,offset:u},K?!0:y);Va(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Ud(V),"]")),Array.isArray(V)&&(O=V)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(l6e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),Q.createElement(c6e,bd({},f,{offset:u,horizontalPoints:P,xAxis:N,yAxis:C})),Q.createElement(u6e,bd({},f,{offset:u,verticalPoints:O,xAxis:N,yAxis:C})),Q.createElement(d6e,bd({},f,{horizontalPoints:P})),Q.createElement(f6e,bd({},f,{verticalPoints:O})))}Dg.displayName="CartesianGrid";var m6e=["type","layout","connectNulls","ref"],g6e=["key"];function Cp(e){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Cp(e)}function LU(e,t){if(e==null)return{};var r=v6e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v6e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function Jg(){return Jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Jg.apply(this,arguments)}function DU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function ws(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DU(Object(r),!0).forEach(function(n){Ma(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xh(e){return w6e(e)||b6e(e)||x6e(e)||y6e()}function y6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x6e(e,t){if(e){if(typeof e=="string")return qA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(e,t)}}function b6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w6e(e){if(Array.isArray(e))return qA(e)}function qA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ste(n.key),n)}}function j6e(e,t,r){return t&&$U(e.prototype,t),r&&$U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function S6e(e,t,r){return t=n_(t),N6e(e,jte()?Reflect.construct(t,r||[],n_(e).constructor):t.apply(e,r))}function N6e(e,t){if(t&&(Cp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return C6e(e)}function C6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function jte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jte=function(){return!!e})()}function n_(e){return n_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},n_(e)}function E6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UA(e,t)}function UA(e,t){return UA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},UA(e,t)}function Ma(e,t,r){return t=Ste(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ste(e){var t=P6e(e,"string");return Cp(t)=="symbol"?t:t+""}function P6e(e,t){if(Cp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var ny=function(e){function t(){var r;_6e(this,t);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=S6e(this,t,[].concat(i)),Ma(r,"state",{isAnimationFinished:!0,totalLength:0}),Ma(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Ma(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(S,N){return S+N});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),p=o%u,g=l-o,v=[],b=0,y=0;b<c.length;y+=c[b],++b)if(y+c[b]>p){v=[].concat(xh(c.slice(0,b)),[p-y]);break}var _=v.length%2===0?[0,g]:[g];return[].concat(xh(t.repeat(c,f)),xh(v),_).map(function(S){return"".concat(S,"px")}).join(", ")}),Ma(r,"id",rm("recharts-line-")),Ma(r,"pathRef",function(o){r.mainCurve=o}),Ma(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Ma(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return E6e(t,e),j6e(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,p=Rs(f,Ky);if(!p)return null;var g=function(y,_){return{x:y.x,y:y.y,value:y.value,errorVal:$n(y.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Q.createElement(qr,v,p.map(function(b){return Q.cloneElement(b,{key:"bar-".concat(b.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,p=Vt(this.props,!1),g=Vt(c,!0),v=u.map(function(y,_){var S=ws(ws(ws({key:"dot-".concat(_),r:3},p),g),{},{index:_,cx:y.x,cy:y.y,value:y.value,dataKey:f,payload:y.payload,points:u});return t.renderDotItem(c,S)}),b={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Q.createElement(qr,Jg({className:"recharts-line-dots",key:"dots"},b),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var p=LU(l,m6e),g=ws(ws(ws({},Vt(p,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return Q.createElement(Fw,Jg({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,p=o.animationDuration,g=o.animationEasing,v=o.animationId,b=o.animateNewValues,y=o.width,_=o.height,S=this.state,N=S.prevPoints,C=S.totalLength;return Q.createElement($o,{begin:f,duration:p,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var k=A.t;if(N){var P=N.length/l.length,O=l.map(function(U,q){var H=Math.floor(q*P);if(N[H]){var G=N[H],se=Es(G.x,U.x),W=Es(G.y,U.y);return ws(ws({},U),{},{x:se(k),y:W(k)})}if(b){var ee=Es(y*2,U.x),X=Es(_/2,U.y);return ws(ws({},U),{},{x:ee(k),y:X(k)})}return ws(ws({},U),{},{x:U.x,y:U.y})});return s.renderCurveStatically(O,n,i)}var I=Es(0,C),B=I(k),K;if(c){var V="".concat(c).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});K=s.getStrokeDasharray(B,C,V)}else K=s.generateSimpleStrokeDasharray(C,B);return s.renderCurveStatically(l,n,i,{strokeDasharray:K})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Hy(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,f=i.yAxis,p=i.top,g=i.left,v=i.width,b=i.height,y=i.isAnimationActive,_=i.id;if(s||!l||!l.length)return null;var S=this.state.isAnimationFinished,N=l.length===1,C=Kt("recharts-line",c),A=u&&u.allowDataOverflow,k=f&&f.allowDataOverflow,P=A||k,O=Lt(_)?this.id:_,I=(n=Vt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},B=I.r,K=B===void 0?3:B,V=I.strokeWidth,U=V===void 0?2:V,q=FTe(o)?o:{},H=q.clipDot,G=H===void 0?!0:H,se=K*2+U;return Q.createElement(qr,{className:C},A||k?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(O)},Q.createElement("rect",{x:A?g:g-v/2,y:k?p:p-b/2,width:A?v:v*2,height:k?b:b*2})),!G&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Q.createElement("rect",{x:g-se/2,y:p-se/2,width:v+se,height:b+se}))):null,!N&&this.renderCurve(P,O),this.renderErrorBar(P,O),(N||o)&&this.renderDots(P,G,O),(!y||S)&&Al.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(xh(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(xh(o),xh(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(Q.isValidElement(n))s=Q.cloneElement(n,i);else if(It(n))s=n(i);else{var o=i.key,l=LU(i,g6e),c=Kt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Q.createElement(jI,Jg({key:o},l,{className:c}))}return s}}])}(x.PureComponent);Ma(ny,"displayName","Line");Ma(ny,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!af.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ma(ny,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,o=e.dataKey,l=e.bandSize,c=e.displayedData,u=e.offset,f=t.layout,p=c.map(function(g,v){var b=$n(g,o);return f==="horizontal"?{x:Yz({axis:r,ticks:i,bandSize:l,entry:g,index:v}),y:Lt(b)?null:n.scale(b),value:b,payload:g}:{x:Lt(b)?null:r.scale(b),y:Yz({axis:n,ticks:s,bandSize:l,entry:g,index:v}),value:b,payload:g}});return ws({points:p,layout:f},u)});function Ep(e){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ep(e)}function T6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ete(n.key),n)}}function A6e(e,t,r){return t&&k6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function O6e(e,t,r){return t=i_(t),R6e(e,Nte()?Reflect.construct(t,r||[],i_(e).constructor):t.apply(e,r))}function R6e(e,t){if(t&&(Ep(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return M6e(e)}function M6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nte=function(){return!!e})()}function i_(e){return i_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},i_(e)}function I6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VA(e,t)}function VA(e,t){return VA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},VA(e,t)}function Cte(e,t,r){return t=Ete(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ete(e){var t=L6e(e,"string");return Ep(t)=="symbol"?t:t+""}function L6e(e,t){if(Ep(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function WA(){return WA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},WA.apply(this,arguments)}function D6e(e){var t=e.xAxisId,r=EI(),n=PI(),i=dte(t);return i==null?null:x.createElement(om,WA({},i,{className:Kt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return bl(o,!0)}}))}var wd=function(e){function t(){return T6e(this,t),O6e(this,t,arguments)}return I6e(t,e),A6e(t,[{key:"render",value:function(){return x.createElement(D6e,this.props)}}])}(x.Component);Cte(wd,"displayName","XAxis");Cte(wd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Pp(e){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pp(e)}function $6e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function F6e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,kte(n.key),n)}}function B6e(e,t,r){return t&&F6e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function z6e(e,t,r){return t=s_(t),q6e(e,Pte()?Reflect.construct(t,r||[],s_(e).constructor):t.apply(e,r))}function q6e(e,t){if(t&&(Pp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U6e(e)}function U6e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pte=function(){return!!e})()}function s_(e){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s_(e)}function V6e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&HA(e,t)}function HA(e,t){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},HA(e,t)}function Tte(e,t,r){return t=kte(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kte(e){var t=W6e(e,"string");return Pp(t)=="symbol"?t:t+""}function W6e(e,t){if(Pp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function KA(){return KA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},KA.apply(this,arguments)}var H6e=function(t){var r=t.yAxisId,n=EI(),i=PI(),s=fte(r);return s==null?null:x.createElement(om,KA({},s,{className:Kt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return bl(l,!0)}}))},_d=function(e){function t(){return $6e(this,t),z6e(this,t,arguments)}return V6e(t,e),B6e(t,[{key:"render",value:function(){return x.createElement(H6e,this.props)}}])}(x.Component);Tte(_d,"displayName","YAxis");Tte(_d,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function FU(e){return Y6e(e)||Z6e(e)||G6e(e)||K6e()}function K6e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G6e(e,t){if(e){if(typeof e=="string")return GA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GA(e,t)}}function Z6e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Y6e(e){if(Array.isArray(e))return GA(e)}function GA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ZA=function(t,r,n,i,s){var o=Rs(t,kI),l=Rs(t,R1),c=[].concat(FU(o),FU(l)),u=Rs(t,I1),f="".concat(i,"Id"),p=i[0],g=r;if(c.length&&(g=c.reduce(function(y,_){if(_.props[f]===n&&ko(_.props,"extendDomain")&&et(_.props[p])){var S=_.props[p];return[Math.min(y[0],S),Math.max(y[1],S)]}return y},g)),u.length){var v="".concat(p,"1"),b="".concat(p,"2");g=u.reduce(function(y,_){if(_.props[f]===n&&ko(_.props,"extendDomain")&&et(_.props[v])&&et(_.props[b])){var S=_.props[v],N=_.props[b];return[Math.min(y[0],S,N),Math.max(y[1],S,N)]}return y},g)}return s&&s.length&&(g=s.reduce(function(y,_){return et(_)?[Math.min(y[0],_),Math.max(y[1],_)]:y},g)),g},LP={exports:{}},BU;function X6e(){return BU||(BU=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,g),b=r?r+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],v]:c._events[b].push(v):(c._events[b]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,p;if(this._eventsCount===0)return u;for(p in f=this._events)t.call(f,p)&&u.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,v=p.length,b=new Array(v);g<v;g++)b[g]=p[g].fn;return b},l.prototype.listenerCount=function(u){var f=r?r+u:u,p=this._events[f];return p?p.fn?1:p.length:0},l.prototype.emit=function(u,f,p,g,v,b){var y=r?r+u:u;if(!this._events[y])return!1;var _=this._events[y],S=arguments.length,N,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,f),!0;case 3:return _.fn.call(_.context,f,p),!0;case 4:return _.fn.call(_.context,f,p,g),!0;case 5:return _.fn.call(_.context,f,p,g,v),!0;case 6:return _.fn.call(_.context,f,p,g,v,b),!0}for(C=1,N=new Array(S-1);C<S;C++)N[C-1]=arguments[C];_.fn.apply(_.context,N)}else{var A=_.length,k;for(C=0;C<A;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),S){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,f);break;case 3:_[C].fn.call(_[C].context,f,p);break;case 4:_[C].fn.call(_[C].context,f,p,g);break;default:if(!N)for(k=1,N=new Array(S-1);k<S;k++)N[k-1]=arguments[k];_[C].fn.apply(_[C].context,N)}}return!0},l.prototype.on=function(u,f,p){return s(this,u,f,p,!1)},l.prototype.once=function(u,f,p){return s(this,u,f,p,!0)},l.prototype.removeListener=function(u,f,p,g){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return o(this,v),this;var b=this._events[v];if(b.fn)b.fn===f&&(!g||b.once)&&(!p||b.context===p)&&o(this,v);else{for(var y=0,_=[],S=b.length;y<S;y++)(b[y].fn!==f||g&&!b[y].once||p&&b[y].context!==p)&&_.push(b[y]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l}(LP)),LP.exports}var J6e=X6e();const Q6e=pr(J6e);var DP=new Q6e,$P="recharts.syncMouseEvents";function iy(e){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},iy(e)}function e8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ate(n.key),n)}}function r8e(e,t,r){return t&&t8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FP(e,t,r){return t=Ate(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ate(e){var t=n8e(e,"string");return iy(t)=="symbol"?t:t+""}function n8e(e,t){if(iy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var i8e=function(){function e(){e8e(this,e),FP(this,"activeIndex",0),FP(this,"coordinateList",[]),FP(this,"layout","horizontal")}return r8e(e,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,p=f===void 0?null:f,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=p??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,p=s+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:p,pageY:g})}}}])}();function s8e(e,t,r){if(r==="number"&&t===!0&&Array.isArray(e)){var n=e?.[0],i=e?.[1];if(n&&i&&et(n)&&et(i))return!0}return!1}function a8e(e,t,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-i,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ote(e){var t=e.cx,r=e.cy,n=e.radius,i=e.startAngle,s=e.endAngle,o=Cn(t,r,n,i),l=Cn(t,r,n,s);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:i,endAngle:s}}function o8e(e,t,r){var n,i,s,o;if(e==="horizontal")n=t.x,s=n,i=r.top,o=r.top+r.height;else if(e==="vertical")i=t.y,o=i,n=r.left,s=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var l=t.cx,c=t.cy,u=t.innerRadius,f=t.outerRadius,p=t.angle,g=Cn(l,c,u,p),v=Cn(l,c,f,p);n=g.x,i=g.y,s=v.x,o=v.y}else return Ote(t);return[{x:n,y:i},{x:s,y:o}]}function sy(e){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sy(e)}function zU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function tb(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zU(Object(r),!0).forEach(function(n){l8e(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function l8e(e,t,r){return t=c8e(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function c8e(e){var t=u8e(e,"string");return sy(t)=="symbol"?t:t+""}function u8e(e,t){if(sy(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d8e(e){var t,r,n=e.element,i=e.tooltipEventType,s=e.isActive,o=e.activeCoordinate,l=e.activePayload,c=e.offset,u=e.activeTooltipIndex,f=e.tooltipAxisBandSize,p=e.layout,g=e.chartName,v=(t=n.props.cursor)!==null&&t!==void 0?t:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var b,y=Fw;if(g==="ScatterChart")b=o,y=rFe;else if(g==="BarChart")b=a8e(p,o,c,f),y=_I;else if(p==="radial"){var _=Ote(o),S=_.cx,N=_.cy,C=_.radius,A=_.startAngle,k=_.endAngle;b={cx:S,cy:N,startAngle:A,endAngle:k,innerRadius:C,outerRadius:C},y=$ee}else b={points:o8e(p,o,c)},y=Fw;var P=tb(tb(tb(tb({stroke:"#ccc",pointerEvents:"none"},c),b),Vt(v,!1)),{},{payload:l,payloadIndex:u,className:Kt("recharts-tooltip-cursor",v.className)});return x.isValidElement(v)?x.cloneElement(v,P):x.createElement(y,P)}var f8e=["item"],h8e=["children","className","width","height","style","compact","title","desc"];function Tp(e){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tp(e)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Mh.apply(this,arguments)}function qU(e,t){return g8e(e)||m8e(e,t)||Mte(e,t)||p8e()}function p8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m8e(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(e)).next,t!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(f){u=!0,i=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function g8e(e){if(Array.isArray(e))return e}function UU(e,t){if(e==null)return{};var r=v8e(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function v8e(e,t){if(e==null)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function y8e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x8e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ite(n.key),n)}}function b8e(e,t,r){return t&&x8e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function w8e(e,t,r){return t=a_(t),_8e(e,Rte()?Reflect.construct(t,r||[],a_(e).constructor):t.apply(e,r))}function _8e(e,t){if(t&&(Tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return j8e(e)}function j8e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Rte(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rte=function(){return!!e})()}function a_(e){return a_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},a_(e)}function S8e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&YA(e,t)}function YA(e,t){return YA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YA(e,t)}function kp(e){return E8e(e)||C8e(e)||Mte(e)||N8e()}function N8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mte(e,t){if(e){if(typeof e=="string")return XA(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XA(e,t)}}function C8e(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function E8e(e){if(Array.isArray(e))return XA(e)}function XA(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function VU(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Fe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?VU(Object(r),!0).forEach(function(n){jt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):VU(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jt(e,t,r){return t=Ite(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=P8e(e,"string");return Tp(t)=="symbol"?t:t+""}function P8e(e,t){if(Tp(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T8e={xAxis:["bottom","top"],yAxis:["left","right"]},k8e={width:"100%",height:"100%"},Lte={x:0,y:0};function rb(e){return e}var A8e=function(t,r){return r==="horizontal"?t.x:r==="vertical"?t.y:r==="centric"?t.angle:t.radius},O8e=function(t,r,n,i){var s=r.find(function(f){return f&&f.index===n});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var o=s.coordinate,l=i.radius;return Fe(Fe(Fe({},i),Cn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Fe(Fe(Fe({},i),Cn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Lte},L1=function(t,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(kp(l),kp(u)):l},[]);return o.length>0?o:t&&t.length&&et(i)&&et(s)?t.slice(i,s+1):[]};function Dte(e){return e==="number"?[0,"auto"]:void 0}var JA=function(t,r,n,i){var s=t.graphicalItems,o=t.tooltipAxis,l=L1(r,t);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,p=(f=u.props.data)!==null&&f!==void 0?f:r;p&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=n&&(p=p.slice(t.dataStartIndex,t.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=p===void 0?l:p;g=dw(v,o.dataKey,i)}else g=p&&p[n]||l[n];return g?[].concat(kp(c),[Iee(u,g)]):c},[])},WU=function(t,r,n,i){var s=i||{x:t.chartX,y:t.chartY},o=A8e(s,n),l=t.orderedTooltipTicks,c=t.tooltipAxis,u=t.tooltipTicks,f=$De(o,l,u,c);if(f>=0&&u){var p=u[f]&&u[f].value,g=JA(t,r,f,p),v=O8e(n,l,f,s);return{activeTooltipIndex:f,activeLabel:p,activePayload:g,activeCoordinate:v}}return null},R8e=function(t,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=t.stackOffset,v=Oee(f,s);return n.reduce(function(b,y){var _,S=y.type.defaultProps!==void 0?Fe(Fe({},y.type.defaultProps),y.props):y.props,N=S.type,C=S.dataKey,A=S.allowDataOverflow,k=S.allowDuplicatedCategory,P=S.scale,O=S.ticks,I=S.includeHidden,B=S[o];if(b[B])return b;var K=L1(t.data,{graphicalItems:i.filter(function(oe){var be,Ce=o in oe.props?oe.props[o]:(be=oe.type.defaultProps)===null||be===void 0?void 0:be[o];return Ce===B}),dataStartIndex:c,dataEndIndex:u}),V=K.length,U,q,H;s8e(S.domain,A,N)&&(U=mA(S.domain,null,A),v&&(N==="number"||P!=="auto")&&(H=Yg(K,C,"category")));var G=Dte(N);if(!U||U.length===0){var se,W=(se=S.domain)!==null&&se!==void 0?se:G;if(C){if(U=Yg(K,C,N),N==="category"&&v){var ee=TTe(U);k&&ee?(q=U,U=Kw(0,V)):k||(U=eq(W,U,y).reduce(function(oe,be){return oe.indexOf(be)>=0?oe:[].concat(kp(oe),[be])},[]))}else if(N==="category")k?U=U.filter(function(oe){return oe!==""&&!Lt(oe)}):U=eq(W,U,y).reduce(function(oe,be){return oe.indexOf(be)>=0||be===""||Lt(be)?oe:[].concat(kp(oe),[be])},[]);else if(N==="number"){var X=UDe(K,i.filter(function(oe){var be,Ce,Le=o in oe.props?oe.props[o]:(be=oe.type.defaultProps)===null||be===void 0?void 0:be[o],ce="hide"in oe.props?oe.props.hide:(Ce=oe.type.defaultProps)===null||Ce===void 0?void 0:Ce.hide;return Le===B&&(I||!ce)}),C,s,f);X&&(U=X)}v&&(N==="number"||P!=="auto")&&(H=Yg(K,C,"category"))}else v?U=Kw(0,V):l&&l[B]&&l[B].hasStack&&N==="number"?U=g==="expand"?[0,1]:Mee(l[B].stackGroups,c,u):U=Aee(K,i.filter(function(oe){var be=o in oe.props?oe.props[o]:oe.type.defaultProps[o],Ce="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return be===B&&(I||!Ce)}),N,f,!0);if(N==="number")U=ZA(p,U,B,s,O),W&&(U=mA(W,U,A));else if(N==="category"&&W){var ne=W,J=U.every(function(oe){return ne.indexOf(oe)>=0});J&&(U=ne)}}return Fe(Fe({},b),{},jt({},B,Fe(Fe({},S),{},{axisType:s,domain:U,categoricalDomain:H,duplicateDomain:q,originalDomain:(_=S.domain)!==null&&_!==void 0?_:G,isCategorical:v,layout:f})))},{})},M8e=function(t,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.layout,p=t.children,g=L1(t.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=g.length,b=Oee(f,s),y=-1;return n.reduce(function(_,S){var N=S.type.defaultProps!==void 0?Fe(Fe({},S.type.defaultProps),S.props):S.props,C=N[o],A=Dte("number");if(!_[C]){y++;var k;return b?k=Kw(0,v):l&&l[C]&&l[C].hasStack?(k=Mee(l[C].stackGroups,c,u),k=ZA(p,k,C,s)):(k=mA(A,Aee(g,n.filter(function(P){var O,I,B=o in P.props?P.props[o]:(O=P.type.defaultProps)===null||O===void 0?void 0:O[o],K="hide"in P.props?P.props.hide:(I=P.type.defaultProps)===null||I===void 0?void 0:I.hide;return B===C&&!K}),"number",f),i.defaultProps.allowDataOverflow),k=ZA(p,k,C,s)),Fe(Fe({},_),{},jt({},C,Fe(Fe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Os(T8e,"".concat(s,".").concat(y%2),null),domain:k,originalDomain:A,isCategorical:b,layout:f})))}return _},{})},I8e=function(t,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=t.children,p="".concat(i,"Id"),g=Rs(f,s),v={};return g&&g.length?v=R8e(t,{axes:g,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=M8e(t,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:p,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},L8e=function(t){var r=Gc(t),n=bl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:ZM(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Lw(r,n)}},HU=function(t){var r=t.children,n=t.defaultShowTooltip,i=js(r,bp),s=0,o=0;return t.data&&t.data.length!==0&&(o=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},D8e=function(t){return!t||!t.length?!1:t.some(function(r){var n=Tl(r&&r.type);return n&&n.indexOf("Bar")>=0})},KU=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},$8e=function(t,r){var n=t.props,i=t.graphicalItems,s=t.xAxisMap,o=s===void 0?{}:s,l=t.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,p=n.children,g=n.margin||{},v=js(p,bp),b=js(p,iu),y=Object.keys(c).reduce(function(k,P){var O=c[P],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},k),{},jt({},I,k[I]+O.width)):k},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(k,P){var O=o[P],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},k),{},jt({},I,Os(k,"".concat(I))+O.height)):k},{top:g.top||0,bottom:g.bottom||0}),S=Fe(Fe({},_),y),N=S.bottom;v&&(S.bottom+=v.props.height||bp.defaultProps.height),b&&r&&(S=zDe(S,i,n,r));var C=u-S.left-S.right,A=f-S.top-S.bottom;return Fe(Fe({brushBottom:N},S),{},{width:Math.max(C,0),height:Math.max(A,0)})},F8e=function(t,r){if(r==="xAxis")return t[r].width;if(r==="yAxis")return t[r].height},B8e=function(t){var r=t.chartName,n=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,o=t.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=t.axisComponents,u=t.legendContent,f=t.formatAxisMap,p=t.defaultProps,g=function(S,N){var C=N.graphicalItems,A=N.stackGroups,k=N.offset,P=N.updateId,O=N.dataStartIndex,I=N.dataEndIndex,B=S.barSize,K=S.layout,V=S.barGap,U=S.barCategoryGap,q=S.maxBarSize,H=KU(K),G=H.numericAxisName,se=H.cateAxisName,W=D8e(C),ee=[];return C.forEach(function(X,ne){var J=L1(S.data,{graphicalItems:[X],dataStartIndex:O,dataEndIndex:I}),oe=X.type.defaultProps!==void 0?Fe(Fe({},X.type.defaultProps),X.props):X.props,be=oe.dataKey,Ce=oe.maxBarSize,Le=oe["".concat(G,"Id")],ce=oe["".concat(se,"Id")],ae={},ge=c.reduce(function(je,Ae){var Ze=N["".concat(Ae.axisType,"Map")],Xe=oe["".concat(Ae.axisType,"Id")];Ze&&Ze[Xe]||Ae.axisType==="zAxis"||qd();var me=Ze[Xe];return Fe(Fe({},je),{},jt(jt({},Ae.axisType,me),"".concat(Ae.axisType,"Ticks"),bl(me)))},ae),he=ge[se],Pe=ge["".concat(se,"Ticks")],te=A&&A[Le]&&A[Le].hasStack&&t4e(X,A[Le].stackGroups),Y=Tl(X.type).indexOf("Bar")>=0,_e=Lw(he,Pe),xe=[],We=W&&FDe({barSize:B,stackGroups:A,totalSize:F8e(ge,se)});if(Y){var Ue,Ne,ot=Lt(Ce)?q:Ce,Dt=(Ue=(Ne=Lw(he,Pe,!0))!==null&&Ne!==void 0?Ne:ot)!==null&&Ue!==void 0?Ue:0;xe=BDe({barGap:V,barCategoryGap:U,bandSize:Dt!==_e?Dt:_e,sizeList:We[ce],maxBarSize:ot}),Dt!==_e&&(xe=xe.map(function(je){return Fe(Fe({},je),{},{position:Fe(Fe({},je.position),{},{offset:je.position.offset-Dt/2})})}))}var fe=X&&X.type&&X.type.getComposedData;fe&&ee.push({props:Fe(Fe({},fe(Fe(Fe({},ge),{},{displayedData:J,props:S,dataKey:be,item:X,bandSize:_e,barPosition:xe,offset:k,stackedData:te,layout:K,dataStartIndex:O,dataEndIndex:I}))),{},jt(jt(jt({key:X.key||"item-".concat(ne)},G,ge[G]),se,ge[se]),"animationId",P)),childIndex:qTe(X,S.children),item:X})}),ee},v=function(S,N){var C=S.props,A=S.dataStartIndex,k=S.dataEndIndex,P=S.updateId;if(!pB({props:C}))return null;var O=C.children,I=C.layout,B=C.stackOffset,K=C.data,V=C.reverseStackOrder,U=KU(I),q=U.numericAxisName,H=U.cateAxisName,G=Rs(O,n),se=JDe(K,G,"".concat(q,"Id"),"".concat(H,"Id"),B,V),W=c.reduce(function(oe,be){var Ce="".concat(be.axisType,"Map");return Fe(Fe({},oe),{},jt({},Ce,I8e(C,Fe(Fe({},be),{},{graphicalItems:G,stackGroups:be.axisType===q&&se,dataStartIndex:A,dataEndIndex:k}))))},{}),ee=$8e(Fe(Fe({},W),{},{props:C,graphicalItems:G}),N?.legendBBox);Object.keys(W).forEach(function(oe){W[oe]=f(C,W[oe],ee,oe.replace("Map",""),r)});var X=W["".concat(H,"Map")],ne=L8e(X),J=g(C,Fe(Fe({},W),{},{dataStartIndex:A,dataEndIndex:k,updateId:P,graphicalItems:G,stackGroups:se,offset:ee}));return Fe(Fe({formattedGraphicalItems:J,graphicalItems:G,offset:ee,stackGroups:se},ne),W)},b=function(_){function S(N){var C,A,k;return y8e(this,S),k=w8e(this,S,[N]),jt(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(k,"accessibilityManager",new i8e),jt(k,"handleLegendBBoxUpdate",function(P){if(P){var O=k.state,I=O.dataStartIndex,B=O.dataEndIndex,K=O.updateId;k.setState(Fe({legendBBox:P},v({props:k.props,dataStartIndex:I,dataEndIndex:B,updateId:K},Fe(Fe({},k.state),{},{legendBBox:P}))))}}),jt(k,"handleReceiveSyncEvent",function(P,O,I){if(k.props.syncId===P){if(I===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(O)}}),jt(k,"handleBrushChange",function(P){var O=P.startIndex,I=P.endIndex;if(O!==k.state.dataStartIndex||I!==k.state.dataEndIndex){var B=k.state.updateId;k.setState(function(){return Fe({dataStartIndex:O,dataEndIndex:I},v({props:k.props,dataStartIndex:O,dataEndIndex:I,updateId:B},k.state))}),k.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),jt(k,"handleMouseEnter",function(P){var O=k.getMouseInfo(P);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var B=k.props.onMouseEnter;It(B)&&B(I,P)}}),jt(k,"triggeredAfterMouseMove",function(P){var O=k.getMouseInfo(P),I=O?Fe(Fe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var B=k.props.onMouseMove;It(B)&&B(I,P)}),jt(k,"handleItemMouseEnter",function(P){k.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),jt(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),jt(k,"handleMouseMove",function(P){P.persist(),k.throttleTriggeredAfterMouseMove(P)}),jt(k,"handleMouseLeave",function(P){k.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};k.setState(O),k.triggerSyncEvent(O);var I=k.props.onMouseLeave;It(I)&&I(O,P)}),jt(k,"handleOuterEvent",function(P){var O=zTe(P),I=Os(k.props,"".concat(O));if(O&&It(I)){var B,K;/.*touch.*/i.test(O)?K=k.getMouseInfo(P.changedTouches[0]):K=k.getMouseInfo(P),I((B=K)!==null&&B!==void 0?B:{},P)}}),jt(k,"handleClick",function(P){var O=k.getMouseInfo(P);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var B=k.props.onClick;It(B)&&B(I,P)}}),jt(k,"handleMouseDown",function(P){var O=k.props.onMouseDown;if(It(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"handleMouseUp",function(P){var O=k.props.onMouseUp;if(It(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),jt(k,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseDown(P.changedTouches[0])}),jt(k,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseUp(P.changedTouches[0])}),jt(k,"handleDoubleClick",function(P){var O=k.props.onDoubleClick;if(It(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"handleContextMenu",function(P){var O=k.props.onContextMenu;if(It(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"triggerSyncEvent",function(P){k.props.syncId!==void 0&&DP.emit($P,k.props.syncId,P,k.eventEmitterSymbol)}),jt(k,"applySyncEvent",function(P){var O=k.props,I=O.layout,B=O.syncMethod,K=k.state.updateId,V=P.dataStartIndex,U=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)k.setState(Fe({dataStartIndex:V,dataEndIndex:U},v({props:k.props,dataStartIndex:V,dataEndIndex:U,updateId:K},k.state)));else if(P.activeTooltipIndex!==void 0){var q=P.chartX,H=P.chartY,G=P.activeTooltipIndex,se=k.state,W=se.offset,ee=se.tooltipTicks;if(!W)return;if(typeof B=="function")G=B(ee,P);else if(B==="value"){G=-1;for(var X=0;X<ee.length;X++)if(ee[X].value===P.activeLabel){G=X;break}}var ne=Fe(Fe({},W),{},{x:W.left,y:W.top}),J=Math.min(q,ne.x+ne.width),oe=Math.min(H,ne.y+ne.height),be=ee[G]&&ee[G].value,Ce=JA(k.state,k.props.data,G),Le=ee[G]?{x:I==="horizontal"?ee[G].coordinate:J,y:I==="horizontal"?oe:ee[G].coordinate}:Lte;k.setState(Fe(Fe({},P),{},{activeLabel:be,activeCoordinate:Le,activePayload:Ce,activeTooltipIndex:G}))}else k.setState(P)}),jt(k,"renderCursor",function(P){var O,I=k.state,B=I.isTooltipActive,K=I.activeCoordinate,V=I.activePayload,U=I.offset,q=I.activeTooltipIndex,H=I.tooltipAxisBandSize,G=k.getTooltipEventType(),se=(O=P.props.active)!==null&&O!==void 0?O:B,W=k.props.layout,ee=P.key||"_recharts-cursor";return Q.createElement(d8e,{key:ee,activeCoordinate:K,activePayload:V,activeTooltipIndex:q,chartName:r,element:P,isActive:se,layout:W,offset:U,tooltipAxisBandSize:H,tooltipEventType:G})}),jt(k,"renderPolarAxis",function(P,O,I){var B=Os(P,"type.axisType"),K=Os(k.state,"".concat(B,"Map")),V=P.type.defaultProps,U=V!==void 0?Fe(Fe({},V),P.props):P.props,q=K&&K[U["".concat(B,"Id")]];return x.cloneElement(P,Fe(Fe({},q),{},{className:Kt(B,q.className),key:P.key||"".concat(O,"-").concat(I),ticks:bl(q,!0)}))}),jt(k,"renderPolarGrid",function(P){var O=P.props,I=O.radialLines,B=O.polarAngles,K=O.polarRadius,V=k.state,U=V.radiusAxisMap,q=V.angleAxisMap,H=Gc(U),G=Gc(q),se=G.cx,W=G.cy,ee=G.innerRadius,X=G.outerRadius;return x.cloneElement(P,{polarAngles:Array.isArray(B)?B:bl(G,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(K)?K:bl(H,!0).map(function(ne){return ne.coordinate}),cx:se,cy:W,innerRadius:ee,outerRadius:X,key:P.key||"polar-grid",radialLines:I})}),jt(k,"renderLegend",function(){var P=k.state.formattedGraphicalItems,O=k.props,I=O.children,B=O.width,K=O.height,V=k.props.margin||{},U=B-(V.left||0)-(V.right||0),q=Tee({children:I,formattedGraphicalItems:P,legendWidth:U,legendContent:u});if(!q)return null;var H=q.item,G=UU(q,f8e);return x.cloneElement(H,Fe(Fe({},G),{},{chartWidth:B,chartHeight:K,margin:V,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),jt(k,"renderTooltip",function(){var P,O=k.props,I=O.children,B=O.accessibilityLayer,K=js(I,Li);if(!K)return null;var V=k.state,U=V.isTooltipActive,q=V.activeCoordinate,H=V.activePayload,G=V.activeLabel,se=V.offset,W=(P=K.props.active)!==null&&P!==void 0?P:U;return x.cloneElement(K,{viewBox:Fe(Fe({},se),{},{x:se.left,y:se.top}),active:W,label:G,payload:W?H:[],coordinate:q,accessibilityLayer:B})}),jt(k,"renderBrush",function(P){var O=k.props,I=O.margin,B=O.data,K=k.state,V=K.offset,U=K.dataStartIndex,q=K.dataEndIndex,H=K.updateId;return x.cloneElement(P,{key:P.key||"_recharts-brush",onChange:X0(k.handleBrushChange,P.props.onChange),data:B,x:et(P.props.x)?P.props.x:V.left,y:et(P.props.y)?P.props.y:V.top+V.height+V.brushBottom-(I.bottom||0),width:et(P.props.width)?P.props.width:V.width,startIndex:U,endIndex:q,updateId:"brush-".concat(H)})}),jt(k,"renderReferenceElement",function(P,O,I){if(!P)return null;var B=k,K=B.clipPathId,V=k.state,U=V.xAxisMap,q=V.yAxisMap,H=V.offset,G=P.type.defaultProps||{},se=P.props,W=se.xAxisId,ee=W===void 0?G.xAxisId:W,X=se.yAxisId,ne=X===void 0?G.yAxisId:X;return x.cloneElement(P,{key:P.key||"".concat(O,"-").concat(I),xAxis:U[ee],yAxis:q[ne],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:K})}),jt(k,"renderActivePoints",function(P){var O=P.item,I=P.activePoint,B=P.basePoint,K=P.childIndex,V=P.isRange,U=[],q=O.props.key,H=O.item.type.defaultProps!==void 0?Fe(Fe({},O.item.type.defaultProps),O.item.props):O.item.props,G=H.activeDot,se=H.dataKey,W=Fe(Fe({index:K,dataKey:se,cx:I.x,cy:I.y,r:4,fill:wI(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Vt(G,!1)),fw(G));return U.push(S.renderActiveDot(G,W,"".concat(q,"-activePoint-").concat(K))),B?U.push(S.renderActiveDot(G,Fe(Fe({},W),{},{cx:B.x,cy:B.y}),"".concat(q,"-basePoint-").concat(K))):V&&U.push(null),U}),jt(k,"renderGraphicChild",function(P,O,I){var B=k.filterFormatItem(P,O,I);if(!B)return null;var K=k.getTooltipEventType(),V=k.state,U=V.isTooltipActive,q=V.tooltipAxis,H=V.activeTooltipIndex,G=V.activeLabel,se=k.props.children,W=js(se,Li),ee=B.props,X=ee.points,ne=ee.isRange,J=ee.baseLine,oe=B.item.type.defaultProps!==void 0?Fe(Fe({},B.item.type.defaultProps),B.item.props):B.item.props,be=oe.activeDot,Ce=oe.hide,Le=oe.activeBar,ce=oe.activeShape,ae=!!(!Ce&&U&&W&&(be||Le||ce)),ge={};K!=="axis"&&W&&W.props.trigger==="click"?ge={onClick:X0(k.handleItemMouseEnter,P.props.onClick)}:K!=="axis"&&(ge={onMouseLeave:X0(k.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:X0(k.handleItemMouseEnter,P.props.onMouseEnter)});var he=x.cloneElement(P,Fe(Fe({},B.props),ge));function Pe(Ae){return typeof q.dataKey=="function"?q.dataKey(Ae.payload):null}if(ae)if(H>=0){var te,Y;if(q.dataKey&&!q.allowDuplicatedCategory){var _e=typeof q.dataKey=="function"?Pe:"payload.".concat(q.dataKey.toString());te=dw(X,_e,G),Y=ne&&J&&dw(J,_e,G)}else te=X?.[H],Y=ne&&J&&J[H];if(ce||Le){var xe=P.props.activeIndex!==void 0?P.props.activeIndex:H;return[x.cloneElement(P,Fe(Fe(Fe({},B.props),ge),{},{activeIndex:xe})),null,null]}if(!Lt(te))return[he].concat(kp(k.renderActivePoints({item:B,activePoint:te,basePoint:Y,childIndex:H,isRange:ne})))}else{var We,Ue=(We=k.getItemByXY(k.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:he},Ne=Ue.graphicalItem,ot=Ne.item,Dt=ot===void 0?P:ot,fe=Ne.childIndex,je=Fe(Fe(Fe({},B.props),ge),{},{activeIndex:fe});return[x.cloneElement(Dt,je),null,null]}return ne?[he,null,null]:[he,null]}),jt(k,"renderCustomized",function(P,O,I){return x.cloneElement(P,Fe(Fe({key:"recharts-customized-".concat(I)},k.props),k.state))}),jt(k,"renderMap",{CartesianGrid:{handler:rb,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:rb},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:rb},YAxis:{handler:rb},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((C=N.id)!==null&&C!==void 0?C:rm("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=TQ(k.triggeredAfterMouseMove,(A=N.throttleDelay)!==null&&A!==void 0?A:1e3/60),k.state={},k}return S8e(S,_),b8e(S,[{key:"componentDidMount",value:function(){var C,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,A=C.children,k=C.data,P=C.height,O=C.layout,I=js(A,Li);if(I){var B=I.props.defaultIndex;if(!(typeof B!="number"||B<0||B>this.state.tooltipTicks.length-1)){var K=this.state.tooltipTicks[B]&&this.state.tooltipTicks[B].value,V=JA(this.state,k,B,K),U=this.state.tooltipTicks[B].coordinate,q=(this.state.offset.top+P)/2,H=O==="horizontal",G=H?{x:U,y:q}:{y:U,x:q},se=this.state.formattedGraphicalItems.find(function(ee){var X=ee.item;return X.type.name==="Scatter"});se&&(G=Fe(Fe({},G),se.props.points[B].tooltipPosition),V=se.props.points[B].tooltipPayload);var W={activeTooltipIndex:B,isTooltipActive:!0,activeLabel:K,activePayload:V,activeCoordinate:G};this.setState(W),this.renderCursor(I),this.accessibilityManager.setIndex(B)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var k,P;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(C){Dk([js(C.children,Li)],[js(this.props.children,Li)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=js(this.props.children,Li);if(C&&typeof C.props.shared=="boolean"){var A=C.props.shared?"axis":"item";return l.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var A=this.container,k=A.getBoundingClientRect(),P=PRe(k),O={chartX:Math.round(C.pageX-P.left),chartY:Math.round(C.pageY-P.top)},I=k.width/A.offsetWidth||1,B=this.inRange(O.chartX,O.chartY,I);if(!B)return null;var K=this.state,V=K.xAxisMap,U=K.yAxisMap,q=this.getTooltipEventType(),H=WU(this.state,this.props.data,this.props.layout,B);if(q!=="axis"&&V&&U){var G=Gc(V).scale,se=Gc(U).scale,W=G&&G.invert?G.invert(O.chartX):null,ee=se&&se.invert?se.invert(O.chartY):null;return Fe(Fe({},O),{},{xValue:W,yValue:ee},H)}return H?Fe(Fe({},O),H):null}},{key:"inRange",value:function(C,A){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,O=C/k,I=A/k;if(P==="horizontal"||P==="vertical"){var B=this.state.offset,K=O>=B.left&&O<=B.left+B.width&&I>=B.top&&I<=B.top+B.height;return K?{x:O,y:I}:null}var V=this.state,U=V.angleAxisMap,q=V.radiusAxisMap;if(U&&q){var H=Gc(U);return nq({x:O,y:I},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,A=this.getTooltipEventType(),k=js(C,Li),P={};k&&A==="axis"&&(k.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=fw(this.props,this.handleOuterEvent);return Fe(Fe({},O),P)}},{key:"addListener",value:function(){DP.on($P,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){DP.removeListener($P,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,A,k){for(var P=this.state.formattedGraphicalItems,O=0,I=P.length;O<I;O++){var B=P[O];if(B.item===C||B.props.key===C.key||A===Tl(B.item.type)&&k===B.childIndex)return B}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,A=this.state.offset,k=A.left,P=A.top,O=A.height,I=A.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:C},Q.createElement("rect",{x:k,y:P,height:O,width:I})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(A,k){var P=qU(k,2),O=P[0],I=P[1];return Fe(Fe({},A),{},jt({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(A,k){var P=qU(k,2),O=P[0],I=P[1];return Fe(Fe({},A),{},jt({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(C){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(C){var A=this.state,k=A.formattedGraphicalItems,P=A.activeItem;if(k&&k.length)for(var O=0,I=k.length;O<I;O++){var B=k[O],K=B.props,V=B.item,U=V.type.defaultProps!==void 0?Fe(Fe({},V.type.defaultProps),V.props):V.props,q=Tl(V.type);if(q==="Bar"){var H=(K.data||[]).find(function(ee){return H3e(C,ee)});if(H)return{graphicalItem:B,payload:H}}else if(q==="RadialBar"){var G=(K.data||[]).find(function(ee){return nq(C,ee)});if(G)return{graphicalItem:B,payload:G}}else if(T1(B,P)||k1(B,P)||Jv(B,P)){var se=IFe({graphicalItem:B,activeTooltipItem:P,itemData:U.data}),W=U.activeIndex===void 0?se:U.activeIndex;return{graphicalItem:Fe(Fe({},B),{},{childIndex:W}),payload:Jv(B,P)?U.data[se]:B.props.data[se]}}}return null}},{key:"render",value:function(){var C=this;if(!pB(this))return null;var A=this.props,k=A.children,P=A.className,O=A.width,I=A.height,B=A.style,K=A.compact,V=A.title,U=A.desc,q=UU(A,h8e),H=Vt(q,!1);if(K)return Q.createElement(jU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(Fk,Mh({},H,{width:O,height:I,title:V,desc:U}),this.renderClipPath(),gB(k,this.renderMap)));if(this.props.accessibilityLayer){var G,se;H.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,H.role=(se=this.props.role)!==null&&se!==void 0?se:"application",H.onKeyDown=function(ee){C.accessibilityManager.keyboardEvent(ee)},H.onFocus=function(){C.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return Q.createElement(jU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",Mh({className:Kt("recharts-wrapper",P),style:Fe({position:"relative",cursor:"default",width:O,height:I},B)},W,{ref:function(X){C.container=X}}),Q.createElement(Fk,Mh({},H,{width:O,height:I,title:V,desc:U,style:k8e}),this.renderClipPath(),gB(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(x.Component);jt(b,"displayName",r),jt(b,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},p)),jt(b,"getDerivedStateFromProps",function(_,S){var N=_.dataKey,C=_.data,A=_.children,k=_.width,P=_.height,O=_.layout,I=_.stackOffset,B=_.margin,K=S.dataStartIndex,V=S.dataEndIndex;if(S.updateId===void 0){var U=HU(_);return Fe(Fe(Fe({},U),{},{updateId:0},v(Fe(Fe({props:_},U),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:C,prevWidth:k,prevHeight:P,prevLayout:O,prevStackOffset:I,prevMargin:B,prevChildren:A})}if(N!==S.prevDataKey||C!==S.prevData||k!==S.prevWidth||P!==S.prevHeight||O!==S.prevLayout||I!==S.prevStackOffset||!zh(B,S.prevMargin)){var q=HU(_),H={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},G=Fe(Fe({},WU(S,C,O)),{},{updateId:S.updateId+1}),se=Fe(Fe(Fe({},q),H),G);return Fe(Fe(Fe({},se),v(Fe({props:_},se),S)),{},{prevDataKey:N,prevData:C,prevWidth:k,prevHeight:P,prevLayout:O,prevStackOffset:I,prevMargin:B,prevChildren:A})}if(!Dk(A,S.prevChildren)){var W,ee,X,ne,J=js(A,bp),oe=J&&(W=(ee=J.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&W!==void 0?W:K,be=J&&(X=(ne=J.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&X!==void 0?X:V,Ce=oe!==K||be!==V,Le=!Lt(C),ce=Le&&!Ce?S.updateId:S.updateId+1;return Fe(Fe({updateId:ce},v(Fe(Fe({props:_},S),{},{updateId:ce,dataStartIndex:oe,dataEndIndex:be}),S)),{},{prevChildren:A,dataStartIndex:oe,dataEndIndex:be})}return null}),jt(b,"renderActiveDot",function(_,S,N){var C;return x.isValidElement(_)?C=x.cloneElement(_,S):It(_)?C=_(S):C=Q.createElement(jI,S),Q.createElement(qr,{className:"recharts-active-dot",key:N},C)});var y=x.forwardRef(function(S,N){return Q.createElement(b,Mh({},S,{ref:N}))});return y.displayName=b.displayName,y},GU=B8e({chartName:"BarChart",GraphicalChild:Ol,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wd},{axisType:"yAxis",AxisComp:_d}],formatAxisMap:$5e});const bh=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function z8e(){console.log("🚀 AnalyticsPage - Composant initialisé");const[e,t]=x.useState("7days"),[r,n]=x.useMemo(()=>{const P=new Date;console.log("🔍 Calcul des dates - dateRange:",e);let O,I;switch(e){case"today":O=Er(P,"yyyy-MM-dd"),I=Er(P,"yyyy-MM-dd");break;case"yesterday":const B=ng(P,1);O=Er(B,"yyyy-MM-dd"),I=Er(B,"yyyy-MM-dd");break;case"7days":O=Er(ng(P,7),"yyyy-MM-dd"),I=Er(P,"yyyy-MM-dd");break;case"30days":O=Er(ng(P,30),"yyyy-MM-dd"),I=Er(P,"yyyy-MM-dd");break;case"90days":O=Er(ng(P,90),"yyyy-MM-dd"),I=Er(P,"yyyy-MM-dd");break;case"thisMonth":O=Er(new Date(P.getFullYear(),P.getMonth(),1),"yyyy-MM-dd"),I=Er(P,"yyyy-MM-dd");break;case"lastMonth":const K=new Date(P.getFullYear(),P.getMonth()-1,1),V=new Date(P.getFullYear(),P.getMonth(),0);O=Er(K,"yyyy-MM-dd"),I=Er(V,"yyyy-MM-dd");break;case"thisYear":O=Er(new Date(P.getFullYear(),0,1),"yyyy-MM-dd"),I=Er(P,"yyyy-MM-dd");break;default:O=Er(ng(P,7),"yyyy-MM-dd"),I=Er(P,"yyyy-MM-dd");break}return console.log("🔍 Dates calculées:",{start:O,end:I}),[O,I]},[e]),{data:i,isLoading:s,error:o}=Zn({queryKey:["analytics","overview",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données analytics..."),console.log("🔍 Période:",{startDate:r,endDate:n});let P=[],O=[];try{P=(await zr.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",P.length)}catch(H){console.error("❌ Erreur lors du chargement des annonces:",H),P=[]}try{O=await Ba.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",O.length)}catch(H){console.error("❌ Erreur lors du chargement des utilisateurs:",H),O=[]}console.log("🔍 Données récupérées:",{listingsCount:P?.length,usersCount:O?.length});const I=P?.length||0,B=P?.filter(H=>H.status==="approved")?.length||0,K=P?.filter(H=>H.status==="pending")?.length||0,V=O?.length||0,U=O?.filter(H=>H.status==="active")?.length||0,q={totalListings:I,approvedListings:B,pendingListings:K,totalUsers:V,activeUsers:U,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:U,change:0},growth:{listings:0,users:0,revenue:0}};return console.log("🔍 Résultat analytics calculé:",q),q}catch(P){return console.error("❌ Erreur lors du chargement des données analytics:",P),{totalListings:0,approvedListings:0,pendingListings:0,totalUsers:0,activeUsers:0,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:0,change:0},growth:{listings:0,users:0,revenue:0}}}}}),{data:l,isLoading:c}=Zn({queryKey:["analytics","revenue",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données de revenus..."),console.log("🔍 Période:",{startDate:r,endDate:n});const P=await D$.getRevenueData(r,n);return console.log("🔍 Données de revenus récupérées:",P),P}catch(P){return console.error("❌ Erreur lors du chargement des données de revenus:",P),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}}}),{data:u,isLoading:f}=Zn({queryKey:["analytics","users",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données utilisateurs...");const P=await Ba.getAllUsers();if(console.log("🔍 Utilisateurs récupérés pour analytics:",P?.length),!P||P.length===0)return console.log("⚠️ Aucun utilisateur trouvé, retour de données par défaut"),[];const O=P.reduce((B,K)=>{if(K.created_at){const V=Er(new Date(K.created_at),"yyyy-MM-dd");B[V]=(B[V]||0)+1}return B},{}),I=Object.entries(O).map(([B,K])=>({date:B,users:K}));return console.log("🔍 Données utilisateurs formatées:",I),I}catch(P){return console.error("❌ Erreur lors du chargement des données utilisateurs:",P),[]}}}),{data:p,isLoading:g}=Zn({queryKey:["analytics","top-products",r,n],queryFn:async()=>[]}),{data:v,isLoading:b}=Zn({queryKey:["analytics","growth",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des tendances de croissance..."),console.log("🔍 Période:",{startDate:r,endDate:n});const P=await D$.getGrowthTrends(r,n);return console.log("🔍 Tendances de croissance récupérées:",P),P}catch(P){return console.error("❌ Erreur lors du chargement des tendances de croissance:",P),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}}}),{data:y,isLoading:_}=Zn({queryKey:["analytics","traffic",r,n],queryFn:async()=>({"Recherche directe":45,"Réseaux sociaux":30,"Moteurs de recherche":15,"Liens externes":10})}),{data:S,isLoading:N}=Zn({queryKey:["analytics","categories",r,n],queryFn:async()=>({Immobilier:40,Automobile:25,Services:20,Marketplace:15})}),C=x.useMemo(()=>u?u.map(P=>({date:Er(che(P.date),"MMM d"),newUsers:P.users,activeUsers:P.users,returningUsers:0})):[],[u]),A=x.useMemo(()=>y?Object.entries(y).map(([P,O])=>({name:P,value:O})):[],[y]),k=s||c||f||g||_||N||b;return console.log("🔍 État des données avant rendu:",{analyticsData:i,revenueData:l,userData:u,growthTrends:v,isLoading:k,analyticsError:o}),o?(console.error("❌ Erreur analytics détectée:",o),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(dd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):!i||!l?(console.log("⚠️ Données manquantes, affichage du chargement..."),console.log("🔍 analyticsData:",i),console.log("🔍 revenueData:",l),console.log("🔍 isLoading:",k),k?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(dd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des données..."}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Veuillez patienter pendant le chargement des données."}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})]})}):o?(console.error("❌ Erreur analytics détectée:",o),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(dd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(dd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune donnée disponible"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Aucune donnée n'est disponible pour la période sélectionnée."}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})})):a.jsxs("div",{className:"space-y-6",children:[console.log("🔍 Rendu principal - début"),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau de Bord Analytique"}),a.jsx("p",{className:"text-muted-foreground",children:"Aperçu des performances et des tendances de votre plateforme"})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-2 md:mt-0",children:[a.jsxs(Ar,{value:e,onValueChange:t,children:[a.jsxs(Tr,{className:"w-[180px]",children:[a.jsx(Ul,{className:"mr-2 h-4 w-4"}),a.jsx(Or,{placeholder:"Sélectionner une période"})]}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"today",children:"Aujourd'hui"}),a.jsx(Ge,{value:"yesterday",children:"Hier"}),a.jsx(Ge,{value:"7days",children:"7 derniers jours"}),a.jsx(Ge,{value:"30days",children:"30 derniers jours"}),a.jsx(Ge,{value:"90days",children:"90 derniers jours"}),a.jsx(Ge,{value:"thisMonth",children:"Ce mois-ci"}),a.jsx(Ge,{value:"lastMonth",children:"Le mois dernier"}),a.jsx(Ge,{value:"thisYear",children:"Cette année"})]})]}),a.jsxs(ue,{variant:"outline",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),console.log("🔍 Rendu - Stats Grid"),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Tt,{children:[console.log("🔍 Rendu - Carte Total Annonces"),a.jsxs(nr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ir,{className:"text-sm font-medium",children:"Total Annonces"}),a.jsx(Gd,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(At,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(()=>{const P=i?.totalListings;return console.log("🔍 Affichage Total Annonces:",{value:P,type:typeof P}),k?"...":P?.toLocaleString()||0})()}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," approuvées, ",i?.pendingListings||0," en attente"]})]})]}),a.jsxs(Tt,{children:[console.log("🔍 Rendu - Carte Utilisateurs"),a.jsxs(nr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ir,{className:"text-sm font-medium",children:"Utilisateurs"}),a.jsx(Ua,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(At,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k?"...":i?.totalUsers?.toLocaleString()||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.activeUsers?.current||0," actifs"]})]})]}),a.jsxs(Tt,{children:[console.log("🔍 Rendu - Carte Chiffre d'affaires"),a.jsxs(nr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ir,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),a.jsx(Yh,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(At,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k?"...":`${(l?.totalRevenue||0).toLocaleString()} FCFA`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:l?.revenueByDate?.length>0&&a.jsxs("span",{className:"text-green-600",children:["↑ ",l.revenueByDate.length," transactions"]})})]})]}),a.jsxs(Tt,{children:[console.log("🔍 Rendu - Carte Taux d'approbation"),a.jsxs(nr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(ir,{className:"text-sm font-medium",children:"Taux d'approbation"}),a.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(At,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k?"...":i?.totalListings?`${Math.round(i.approvedListings/i.totalListings*100)}%`:"0%"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," sur ",i?.totalListings||0," annonces"]})]})]})]}),console.log("🔍 Rendu - Main Charts"),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(Tt,{className:"col-span-4",children:[console.log("🔍 Rendu - Graphique Évolution des Revenus"),a.jsxs(nr,{children:[a.jsx(ir,{children:"Évolution des Revenus"}),a.jsx(Sn,{children:"Chiffre d'affaires sur la période sélectionnée"})]}),a.jsx(At,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(mh,{width:"100%",height:"100%",children:a.jsxs(C$,{data:l?.revenueByDate||[],margin:{top:5,right:10,left:0,bottom:5},children:[a.jsx(Dg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(wd,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(_d,{tickFormatter:P=>`${P.toLocaleString()} FCFA`,tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Li,{formatter:P=>[`${P.toLocaleString()} FCFA`,"Revenus"]}),a.jsx(ny,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(Tt,{className:"col-span-3",children:[console.log("🔍 Rendu - Graphique Sources de trafic"),a.jsxs(nr,{children:[a.jsx(ir,{children:"Sources de trafic"}),a.jsx(Sn,{children:"Répartition des sources de trafic sur votre site"})]}),a.jsxs(At,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(mh,{width:"100%",height:"100%",children:a.jsxs(E$,{children:[a.jsx(zl,{data:A,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:A.map((P,O)=>a.jsx(Ev,{fill:bh[O%bh.length]},`cell-${O}`))}),a.jsx(Li,{formatter:(P,O)=>[`${P}%`,O]}),a.jsx(iu,{})]})})}),a.jsx("div",{className:"mt-4 space-y-2",children:A.map((P,O)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:bh[O%bh.length]}}),a.jsx("span",{className:"text-sm",children:P.name})]}),a.jsxs("span",{className:"text-sm font-medium",children:[P.value,"%"]})]},P.name))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(Tt,{className:"col-span-4",children:[a.jsx(nr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ir,{children:"Activité des utilisateurs"}),a.jsx(Sn,{children:"Évolution des nouveaux utilisateurs et des utilisateurs actifs"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveaux"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-green-600"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Actifs"})]})]})]})}),a.jsx(At,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(mh,{width:"100%",height:"100%",children:a.jsxs(GU,{data:C,children:[a.jsx(Dg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(wd,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(_d,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Li,{}),a.jsx(iu,{}),a.jsx(Ol,{dataKey:"newUsers",fill:"#3b82f6",radius:[4,4,0,0]}),a.jsx(Ol,{dataKey:"activeUsers",fill:"#10b981",radius:[4,4,0,0]})]})})})})]}),a.jsxs(Tt,{className:"col-span-3",children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Croissance des Utilisateurs"}),a.jsx(Sn,{children:"Nouveaux utilisateurs par période"})]}),a.jsx(At,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(mh,{width:"100%",height:"100%",children:a.jsxs(GU,{data:v?.users?.daily||[],children:[a.jsx(Dg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(wd,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(_d,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(Li,{formatter:P=>[P,"Nouveaux utilisateurs"]}),a.jsx(Ol,{dataKey:"value",fill:"#82ca9d",radius:[4,4,0,0]})]})})})})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Croissance des Annonces"}),a.jsx(Sn,{children:"Nouvelles annonces créées par période"})]}),a.jsx(At,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(mh,{width:"100%",height:"100%",children:a.jsxs(C$,{data:v?.listings?.daily||[],children:[a.jsx(Dg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(wd,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(_d,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(Li,{formatter:P=>[P,"Nouvelles annonces"]}),a.jsx(ny,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Répartition des Revenus par Catégorie"}),a.jsx(Sn,{children:"Chiffre d'affaires par catégorie d'annonces"})]}),a.jsx(At,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(mh,{width:"100%",height:"100%",children:a.jsxs(E$,{children:[a.jsx(zl,{data:Object.entries(l?.revenueByCategory||{}).map(([P,O])=>({name:P==="real_estate"?"Immobilier":P==="automobile"?"Automobile":P==="services"?"Services":P==="marketplace"?"Marketplace":P,value:O})),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:P,percent:O})=>`${P} ${(O*100).toFixed(0)}%`,children:Object.entries(l?.revenueByCategory||{}).map((P,O)=>a.jsx(Ev,{fill:bh[O%bh.length]},`cell-${O}`))}),a.jsx(Li,{formatter:P=>[`${P.toLocaleString()} FCFA`,"Revenus"]})]})})})})]})]}),a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ir,{children:"Produits les plus vendus"}),a.jsx(Sn,{children:"Les produits les plus populaires sur votre plateforme"})]}),a.jsx(ue,{variant:"outline",size:"sm",children:"Voir tout"})]})}),a.jsx(At,{children:a.jsx("div",{className:"space-y-4",children:k?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("p",{children:"Chargement des produits..."})}):p?.length>0?p.map((P,O)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:O+1})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:P.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.category," • ",P.orders," ventes"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium",children:["$",P.revenue.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-end",children:[P.change>=0?a.jsx(Vue,{className:"h-3 w-3 text-green-500 mr-1"}):a.jsx(Uue,{className:"h-3 w-3 text-red-500 mr-1"}),a.jsxs("span",{className:`text-xs ${P.change>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(P.change),"%"]})]})]})]},P.id)):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(dd,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Aucune donnée disponible"})]})})})]})]})}const Qi={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",IGNORED:"ignored"},Ss={LISTING:"listing",COMMENT:"comment",USER:"user",REVIEW:"review"},q8e=({level:e})=>{const t=()=>{switch(e){case"low":return"outline";case"medium":return"warning";case"high":return"destructive";default:return"outline"}},r=()=>{switch(e){case"low":return"Faible";case"medium":return"Moyen";case"high":return"Élevé";default:return e}};return a.jsx(mt,{variant:t(),children:r()})},U8e=({status:e})=>{const t=()=>{switch(e){case Qi.PENDING:return"warning";case Qi.APPROVED:return"success";case Qi.REJECTED:return"destructive";case Qi.IGNORED:return"outline";default:return"outline"}},r=()=>{switch(e){case Qi.PENDING:return"En attente";case Qi.APPROVED:return"Approuvé";case Qi.REJECTED:return"Rejeté";case Qi.IGNORED:return"Ignoré";default:return e}};return a.jsx(mt,{variant:t(),children:r()})},V8e=({type:e})=>{const t=()=>{switch(e){case Ss.LISTING:return a.jsx(Gd,{className:"h-3 w-3"});case Ss.COMMENT:return a.jsx(Xn,{className:"h-3 w-3"});case Ss.USER:return a.jsx(es,{className:"h-3 w-3"});case Ss.REVIEW:return a.jsx(Is,{className:"h-3 w-3"});default:return a.jsx(Pn,{className:"h-3 w-3"})}},r=()=>{switch(e){case Ss.LISTING:return"Annonce";case Ss.COMMENT:return"Commentaire";case Ss.USER:return"Utilisateur";case Ss.REVIEW:return"Avis";default:return e}};return a.jsxs(mt,{variant:"outline",className:"flex items-center gap-1",children:[t(),r()]})};function W8e(){const e=Bo(),[t,r]=x.useState(""),[n,i]=x.useState("all"),[s,o]=x.useState("all"),[l,c]=x.useState("all"),[u,f]=x.useState("created_at"),[p,g]=x.useState("desc"),[v,b]=x.useState(1),[y,_]=x.useState(10),[S,N]=x.useState(new Set),[C,A]=x.useState(null),[k,P]=x.useState(!1),[O,I]=x.useState(null),{data:B,isLoading:K,isError:V}=Zn({queryKey:["moderation","reports",{searchTerm:t,statusFilter:n,typeFilter:s,severityFilter:l,sortBy:u,sortOrder:p,page:v,perPage:y}],queryFn:async()=>(await zr.getAllListings({status:"pending"})).map(J=>({id:J.id,type:Ss.LISTING,content:J,reporter:{id:"system",name:"Système",email:"system@maximarket.com"},reason:"Annonce en attente de modération",description:"Cette annonce nécessite une vérification avant publication",severity:"medium",status:Qi.PENDING,createdAt:J.created_at,updatedAt:J.updated_at}))}),{data:U}=Zn({queryKey:["moderation","stats"],queryFn:async()=>{const ne=await zr.getAllListings();return await Ba.getAllUsers(),{totalReports:ne.filter(J=>J.status==="pending").length,pendingReports:ne.filter(J=>J.status==="pending").length,resolvedReports:ne.filter(J=>J.status==="approved"||J.status==="rejected").length,averageResponseTime:"2h",topReportedTypes:[{type:"listing",count:ne.filter(J=>J.status==="pending").length},{type:"user",count:0},{type:"comment",count:0}]}}}),{mutate:q,isLoading:H}=oi({mutationFn:({reportId:ne,action:J,reason:oe})=>console.log(`Moderating report ${ne} with action: ${J}, reason: ${oe}`),onSuccess:()=>{e.invalidateQueries(["moderation","reports"]),e.invalidateQueries(["moderation","stats"]),A(null),P(!1)},onError:ne=>{console.error("Error moderating content:",ne)}}),G=ne=>{N(J=>{const oe=new Set(J);return oe.has(ne)?oe.delete(ne):oe.add(ne),oe})},se=(ne,J)=>{A(ne),I(J),(J==="approve"||J==="reject"||J==="ignore"||J==="delete")&&P(!0)},W=()=>{if(!C||!O)return;let ne=O,J="";O==="reject"?J="Contenu inapproprié":O==="delete"&&(J="Suppression demandée"),q({reportId:C,action:ne,reason:J})},ee=ne=>{switch(ne){case"approve":return"default";case"reject":return"destructive";case"ignore":return"outline";case"delete":return"destructive";default:return"outline"}},X=ne=>{switch(ne){case"approve":return"Approuver";case"reject":return"Rejeter";case"ignore":return"Ignorer";case"delete":return"Supprimer";default:return ne}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modération"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les signalements et le contenu inapproprié"})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"rounded-lg border bg-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements en attente"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.pendingReports||0})]}),a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Cd,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements aujourd'hui"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.today||0})]}),a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Cd,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:U?.todayChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[U?.todayChange>=0?"↑":"↓"," ",Math.abs(U?.todayChange||0),"%"]})," ","vs hier"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de modération"}),a.jsxs("p",{className:"text-2xl font-bold",children:[U?.moderationRate||0,"%"]})]}),a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(lv,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[U?.moderatedToday||0," modérations aujourd'hui"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contenu supprimé"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.removedContent||0})]}),a.jsx("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/50",children:a.jsx(Ka,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[U?.removedThisMonth||0," ce mois-ci"]})]})]}),a.jsxs(aR,{defaultValue:"reports",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(C_,{children:[a.jsx(Mi,{value:"reports",children:"Signalements"}),a.jsx(Mi,{value:"logs",children:"Journal de modération"}),a.jsx(Mi,{value:"settings",children:"Paramètres"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),"Filtres"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),a.jsxs(Ii,{value:"reports",className:"space-y-4",children:[a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(Jn,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher...",className:"pl-8",value:t,onChange:ne=>r(ne.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Ar,{value:n,onValueChange:i,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les statuts"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:Qi.PENDING,children:"En attente"}),a.jsx(Ge,{value:Qi.APPROVED,children:"Approuvé"}),a.jsx(Ge,{value:Qi.REJECTED,children:"Rejeté"}),a.jsx(Ge,{value:Qi.IGNORED,children:"Ignoré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type de contenu"}),a.jsxs(Ar,{value:s,onValueChange:o,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les types"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:Ss.LISTING,children:"Annonces"}),a.jsx(Ge,{value:Ss.COMMENT,children:"Commentaires"}),a.jsx(Ge,{value:Ss.USER,children:"Utilisateurs"}),a.jsx(Ge,{value:Ss.REVIEW,children:"Avis"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Gravité"}),a.jsxs(Ar,{value:l,onValueChange:c,children:[a.jsx(Tr,{children:a.jsx(Or,{placeholder:"Tous les niveaux"})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les niveaux"}),a.jsx(Ge,{value:"low",children:"Faible"}),a.jsx(Ge,{value:"medium",children:"Moyen"}),a.jsx(Ge,{value:"high",children:"Élevé"})]})]})]})]})}),a.jsx("div",{className:"rounded-md border bg-card",children:a.jsxs(Gp,{children:[a.jsx(Zp,{children:a.jsxs(sn,{children:[a.jsx(ur,{children:"Contenu"}),a.jsx(ur,{children:"Type"}),a.jsx(ur,{children:"Gravité"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Date"}),a.jsx(ur,{children:"Actions"})]})}),a.jsx(Yp,{children:K?a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):V?a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(Pn,{className:"h-5 w-5 mr-2"}),"Erreur lors du chargement des signalements"]})})}):B?.length===0?a.jsx(sn,{children:a.jsx(Mt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[a.jsx(Cd,{className:"h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucun signalement trouvé"}),a.jsx("p",{className:"text-sm",children:"Il n'y a pas de signalements correspondant à vos critères."})]})})}):B?.map(ne=>a.jsxs(sn,{children:[a.jsx(Mt,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>G(ne.id),children:S.has(ne.id)?a.jsx(Nd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ne.content.title||"Contenu signalé"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Par ",ne.reporter?.name||"Utilisateur anonyme"]})]})]}),S.has(ne.id)&&a.jsxs("div",{className:"ml-8 p-3 bg-muted rounded-md",children:[a.jsx("p",{className:"text-sm",children:ne.reason}),ne.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:ne.description})]})]})}),a.jsx(Mt,{children:a.jsx(V8e,{type:ne.type})}),a.jsx(Mt,{children:a.jsx(q8e,{level:ne.severity})}),a.jsx(Mt,{children:a.jsx(U8e,{status:ne.status})}),a.jsx(Mt,{children:a.jsx(Sh,{children:a.jsxs(xo,{children:[a.jsx(bo,{children:a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),F7(new Date(ne.createdAt),{addSuffix:!0,locale:Qp})]})}),a.jsx(Da,{children:new Date(ne.createdAt).toLocaleString("fr-FR")})]})})}),a.jsx(Mt,{children:a.jsxs("div",{className:"flex space-x-1",children:[ne.status===Qi.PENDING&&a.jsxs(a.Fragment,{children:[a.jsx(Sh,{children:a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"approve"),disabled:H,children:a.jsx(lv,{className:"h-4 w-4"})})}),a.jsx(Da,{children:"Approuver"})]})}),a.jsx(Sh,{children:a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"reject"),disabled:H,children:a.jsx(is,{className:"h-4 w-4"})})}),a.jsx(Da,{children:"Rejeter"})]})}),a.jsx(Sh,{children:a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"ignore"),disabled:H,children:a.jsx(Jue,{className:"h-4 w-4"})})}),a.jsx(Da,{children:"Ignorer"})]})})]}),a.jsx(Sh,{children:a.jsxs(xo,{children:[a.jsx(bo,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"delete"),disabled:H,children:a.jsx(Ka,{className:"h-4 w-4"})})}),a.jsx(Da,{children:"Supprimer"})]})})]})})]},ne.id))})]})}),B?.pagination&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Affichage de ",(v-1)*y+1," à ",Math.min(v*y,B.pagination.total)," sur ",B.pagination.total," signalements"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>b(1),disabled:v===1,children:a.jsx(fy,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>b(v-1),disabled:v===1,children:a.jsx(Wa,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Page ",v," sur ",B.pagination.totalPages]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>b(v+1),disabled:v===B.pagination.totalPages,children:a.jsx(Ha,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>b(B.pagination.totalPages),disabled:v===B.pagination.totalPages,children:a.jsx(hy,{className:"h-4 w-4"})})]})]})]}),a.jsx(Ii,{value:"logs",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Journal de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Historique des actions de modération effectuées"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(la,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Journal de modération à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"L'historique des actions de modération sera disponible prochainement."})]})})]})}),a.jsx(Ii,{value:"settings",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Paramètres de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurez les règles et seuils de modération"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Yd,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Paramètres à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les paramètres de modération seront disponibles prochainement."})]})})]})})]}),a.jsx(PK,{open:k,onOpenChange:P,children:a.jsxs(DR,{children:[a.jsxs($R,{children:[a.jsx(BR,{children:"Confirmer l'action"}),a.jsxs(zR,{children:["Êtes-vous sûr de vouloir ",X(O)?.toLowerCase()," ce signalement ? Cette action ne peut pas être annulée."]})]}),a.jsxs(FR,{children:[a.jsx(qR,{children:"Annuler"}),a.jsx(kK,{onClick:W,className:ee(O)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:X(O)})]})]})})]})}jn({first_name:_t().min(2,"Le prénom doit contenir au moins 2 caractères").max(50,"Le prénom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le prénom ne peut contenir que des lettres, espaces, tirets et apostrophes"),last_name:_t().min(2,"Le nom doit contenir au moins 2 caractères").max(50,"Le nom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes"),email:_t().email("Format d'email invalide").min(5,"L'email doit contenir au moins 5 caractères").max(100,"L'email ne peut pas dépasser 100 caractères"),phone_number:_t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide (ex: +221 77 123 4567)").optional().nullable(),role:dn(["user","vendor","admin","moderator"],{errorMap:()=>({message:"Rôle invalide"})}),status:dn(["active","inactive","suspended","pending"],{errorMap:()=>({message:"Statut invalide"})}),is_verified:xn().optional(),profile_image:_t().url("URL d'image invalide").optional().nullable()});jn({title:_t().min(10,"Le titre doit contenir au moins 10 caractères").max(255,"Le titre ne peut pas dépasser 255 caractères"),description:_t().min(20,"La description doit contenir au moins 20 caractères").max(2e3,"La description ne peut pas dépasser 2000 caractères"),price:ai().min(0,"Le prix ne peut pas être négatif").max(1e9,"Le prix ne peut pas dépasser 1 milliard"),category:dn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Catégorie invalide"})}),subcategory:_t().min(2,"La sous-catégorie doit contenir au moins 2 caractères").max(100,"La sous-catégorie ne peut pas dépasser 100 caractères").optional(),status:dn(["pending","approved","rejected","expired"],{errorMap:()=>({message:"Statut invalide"})}),images:fb(_t().url("URL d'image invalide")).min(1,"Au moins une image est requise").max(10,"Maximum 10 images autorisées"),location:jn({city:_t().min(2,"Ville requise"),country:_t().min(2,"Pays requis"),address:_t().optional(),coordinates:jn({lat:ai().min(-90).max(90).optional(),lng:ai().min(-180).max(180).optional()}).optional()}),contact_info:jn({phone:_t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),email:_t().email("Format d'email invalide"),website:_t().url("URL invalide").optional()}),real_estate_details:jn({type:dn(["appartement","maison","terrain","bureau","commerce"]),rooms:_t().min(1,"Nombre de pièces requis"),surface:_t().min(1,"Surface requise"),amenities:fb(_t()).optional()}).optional(),automobile_details:jn({brand:_t().min(2,"Marque requise"),model:_t().min(2,"Modèle requis"),year:ai().min(1900).max(new Date().getFullYear()+1,"Année invalide"),mileage:ai().min(0,"Kilométrage invalide").optional(),transmission:dn(["manuelle","automatique"]).optional(),fuel:dn(["essence","diesel","électrique","hybride"]).optional()}).optional(),service_details:jn({expertise:_t().min(2,"Expertise requise"),experience:_t().min(2,"Expérience requise"),availability:_t().min(2,"Disponibilité requise"),verified:xn().optional(),certifications:fb(_t()).optional()}).optional(),product_details:jn({brand:_t().min(2,"Marque requise"),model:_t().min(2,"Modèle requis"),condition:dn(["neuf","excellent","bon","moyen","usé"]),warranty:_t().optional(),dimensions:_t().optional(),weight:_t().optional()}).optional()});const BP=jn({name:_t().min(2,"Le nom doit contenir au moins 2 caractères").max(100,"Le nom ne peut pas dépasser 100 caractères").regex(/^[a-zA-ZÀ-ÿ0-9\s'-]+$/,"Le nom ne peut contenir que des lettres, chiffres, espaces, tirets et apostrophes"),slug:_t().min(2,"Le slug doit contenir au moins 2 caractères").max(100,"Le slug ne peut pas dépasser 100 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),parent_category:dn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Type parent invalide"})}),description:_t().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),icon:_t().min(1,"L'icône est requise").max(50,"L'icône ne peut pas dépasser 50 caractères").optional(),sort_order:ai().int("L'ordre de tri doit être un nombre entier").min(0,"L'ordre de tri ne peut pas être négatif").max(999,"L'ordre de tri ne peut pas dépasser 999").optional(),is_active:xn().optional()});jn({reference:_t().min(5,"La référence doit contenir au moins 5 caractères").max(50,"La référence ne peut pas dépasser 50 caractères").regex(/^[A-Z0-9-]+$/,"La référence ne peut contenir que des lettres majuscules, chiffres et tirets"),type:dn(["purchase","rental","service","transfer"],{errorMap:()=>({message:"Type de transaction invalide"})}),amount:ai().positive("Le montant doit être positif").max(1e9,"Le montant ne peut pas dépasser 1 milliard"),currency:dn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),status:dn(["pending","completed","cancelled","failed"],{errorMap:()=>({message:"Statut invalide"})}),payment_method:dn(["mobile_money","bank_transfer","cash","card"],{errorMap:()=>({message:"Méthode de paiement invalide"})}).optional(),description:_t().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),expires_at:Ck().optional(),metadata:CCe(NCe()).optional()});jn({reason:_t().min(10,"La raison doit contenir au moins 10 caractères").max(200,"La raison ne peut pas dépasser 200 caractères"),description:_t().min(20,"La description doit contenir au moins 20 caractères").max(1e3,"La description ne peut pas dépasser 1000 caractères").optional(),type:dn(["listing","comment","user","review"],{errorMap:()=>({message:"Type de rapport invalide"})}),severity:dn(["low","medium","high"],{errorMap:()=>({message:"Sévérité invalide"})}),status:dn(["pending","investigating","resolved","dismissed"],{errorMap:()=>({message:"Statut invalide"})}),moderator_notes:_t().max(500,"Les notes ne peuvent pas dépasser 500 caractères").optional()});jn({general:jn({siteName:_t().min(2,"Nom du site requis"),siteDescription:_t().min(10,"Description du site requise"),contactEmail:_t().email("Email de contact invalide"),supportPhone:_t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),timezone:_t().min(1,"Fuseau horaire requis"),currency:dn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),language:dn(["fr","en"],{errorMap:()=>({message:"Langue invalide"})})}),appearance:jn({theme:dn(["light","dark","auto"],{errorMap:()=>({message:"Thème invalide"})}),primaryColor:_t().regex(/^#[0-9A-Fa-f]{6}$/,"Couleur hexadécimale invalide"),logoUrl:_t().url("URL du logo invalide").optional(),faviconUrl:_t().url("URL du favicon invalide").optional(),enableAnimations:xn(),enableGradients:xn()}),notifications:jn({emailNotifications:xn(),pushNotifications:xn(),smsNotifications:xn(),adminAlerts:xn(),userWelcome:xn(),listingApproval:xn(),transactionUpdates:xn()}),security:jn({requireEmailVerification:xn(),requirePhoneVerification:xn(),twoFactorAuth:xn(),sessionTimeout:ai().min(1).max(168),maxLoginAttempts:ai().min(3).max(10),passwordMinLength:ai().min(6).max(20),enableCaptcha:xn()}),system:jn({maintenanceMode:xn(),debugMode:xn(),enableLogs:xn(),backupFrequency:dn(["hourly","daily","weekly","monthly"]),maxFileSize:ai().min(1).max(100),allowedFileTypes:fb(_t()),enableCaching:xn(),cacheTTL:ai().min(60).max(86400)})});jn({searchTerm:_t().max(100,"Terme de recherche trop long").optional(),status:dn(["all","active","inactive","pending","approved","rejected"]).optional(),category:_t().optional(),dateFrom:Ck().optional(),dateTo:Ck().optional(),minPrice:ai().min(0).optional(),maxPrice:ai().min(0).optional(),sortBy:_t().optional(),sortOrder:dn(["asc","desc"]).optional(),page:ai().int().min(1).optional(),perPage:ai().int().min(1).max(100).optional()});const zP=(e,t)=>{try{return{success:!0,data:e.parse(t),errors:null}}catch(r){return r instanceof Mo?{success:!1,data:null,errors:r.errors.reduce((i,s)=>{const o=s.path.join(".");return i[o]=s.message,i},{})}:{success:!1,data:null,errors:{general:"Erreur de validation inconnue"}}}};function H8e(){const{toast:e}=Zr(),t=Bo(),[r,n]=x.useState(""),[i,s]=x.useState("all"),[o,l]=x.useState("all"),[c,u]=x.useState("name"),[f,p]=x.useState("asc"),[g,v]=x.useState(1),[b,y]=x.useState(10),[_,S]=x.useState(!1),[N,C]=x.useState(!1),[A,k]=x.useState(null),[P,O]=x.useState({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0}),[I,B]=x.useState({}),{getFieldError:K,hasFieldError:V,clearFieldError:U}=GNe(I),{data:q,isLoading:H,isError:G}=Zn({queryKey:["adminCategories",{searchTerm:r,typeFilter:i,statusFilter:o,sortBy:c,sortOrder:f,page:g,perPage:b}],queryFn:async()=>await Cg.getAllCategories()}),se=oi({mutationFn:Ne=>Cg.createCategory(Ne),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),S(!1),Le(),e({title:"Succès",description:"Catégorie créée avec succès"})},onError:Ne=>{e({title:"Erreur",description:Ne.message||"Une erreur est survenue",variant:"destructive"})}}),W=oi({mutationFn:({id:Ne,data:ot})=>Cg.updateCategory(Ne,ot),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),C(!1),k(null),Le(),e({title:"Succès",description:"Catégorie mise à jour avec succès"})},onError:Ne=>{e({title:"Erreur",description:Ne.message||"Une erreur est survenue",variant:"destructive"})}}),ee=oi({mutationFn:Ne=>Cg.deleteCategory(Ne),onSuccess:()=>{t.invalidateQueries(["adminCategories"]),e({title:"Succès",description:"Catégorie supprimée avec succès"})},onError:Ne=>{e({title:"Erreur",description:Ne.message||"Une erreur est survenue",variant:"destructive"})}}),X=Ne=>{n(Ne.target.value),v(1)},ne=Ne=>{c===Ne?p(f==="asc"?"desc":"asc"):(u(Ne),p("asc"))},J=Ne=>{v(Ne)},oe=Ne=>{y(Ne),v(1)},be=Ne=>{k(Ne),O({name:Ne.name,slug:Ne.slug,parent_category:Ne.parent_category,description:Ne.description||"",icon:Ne.icon||"",sort_order:Ne.sort_order||0}),B({}),C(!0)},Ce=()=>{Le(),B({}),S(!0)},Le=()=>{O({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0})},ce=Ne=>{Ne.preventDefault();const ot=zP(BP,P);if(!ot.success){Object.values(ot.errors).forEach(Dt=>{e({title:"Erreur de validation",description:Dt,variant:"destructive"})});return}A?W.mutate({id:A.id,data:ot.data}):se.mutate(ot.data)},ae=Ne=>{ee.mutate(Ne)},ge=()=>{try{if(!q||q.length===0){e({title:"Aucune donnée",description:"Aucune catégorie à exporter",variant:"destructive"});return}j_.categories(q,"categories-maximarket"),e({title:"Export réussi",description:"Liste des catégories exportée en CSV"})}catch(Ne){e({title:"Erreur d'export",description:Ne.message||"Impossible d'exporter les données",variant:"destructive"})}},he=q?q.filter(Ne=>!(r&&!Ne.name.toLowerCase().includes(r.toLowerCase())||i!=="all"&&Ne.parent_category!==i||o!=="all"&&Ne.is_active!==(o==="active"))).sort((Ne,ot)=>{let Dt=Ne[c],fe=ot[c];return typeof Dt=="string"&&(Dt=Dt.toLowerCase(),fe=fe.toLowerCase()),f==="asc"?Dt>fe?1:-1:Dt<fe?1:-1}):[],Pe=Math.ceil(he.length/b),te=(g-1)*b,Y=te+b,_e=he.slice(te,Y),xe=Ne=>Ne.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),We=Ne=>{O(Dt=>({...Dt,name:Ne,slug:xe(Ne)}));const ot=zP(BP,{...P,name:Ne});ot.success?U("name",B):B(Dt=>({...Dt,name:ot.errors.name}))},Ue=(Ne,ot)=>{const Dt={...P,[Ne]:ot},fe=zP(BP,Dt);!fe.success&&fe.errors[Ne]?B(je=>({...je,[Ne]:fe.errors[Ne]})):U(Ne,B)};return H?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):G?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des catégories"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gérez les catégories et sous-catégories de votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{onClick:()=>ge(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:Ce,className:"bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700",children:[a.jsx(Oo,{className:"mr-2 h-4 w-4"}),"Nouvelle Catégorie"]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"search",children:"Recherche"}),a.jsx(tt,{id:"search",placeholder:"Rechercher une catégorie...",value:r,onChange:X,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"typeFilter",children:"Type"}),a.jsxs(Ar,{value:i,onValueChange:s,children:[a.jsx(Tr,{className:"mt-1",children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"statusFilter",children:"Statut"}),a.jsxs(Ar,{value:o,onValueChange:l,children:[a.jsx(Tr,{className:"mt-1",children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"active",children:"Actif"}),a.jsx(Ge,{value:"inactive",children:"Inactif"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"perPage",children:"Par page"}),a.jsxs(Ar,{value:b.toString(),onValueChange:Ne=>oe(parseInt(Ne)),children:[a.jsx(Tr,{className:"mt-1",children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"10",children:"10"}),a.jsx(Ge,{value:"25",children:"25"}),a.jsx(Ge,{value:"50",children:"50"})]})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Gp,{children:[a.jsx(Zp,{children:a.jsxs(sn,{children:[a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("name"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Nom",c==="name"&&(f==="asc"?a.jsx(Nd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("parent_category"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Type",c==="parent_category"&&(f==="asc"?a.jsx(Nd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:"Slug"}),a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("sort_order"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Ordre",c==="sort_order"&&(f==="asc"?a.jsx(Nd,{className:"h-4 w-4"}):a.jsx(Sl,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Actions"})]})}),a.jsx(Yp,{children:_e.map(Ne=>a.jsxs(sn,{children:[a.jsx(Mt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[Ne.icon&&a.jsx("span",{className:"text-lg",children:Ne.icon}),Ne.name]})}),a.jsx(Mt,{children:a.jsxs(mt,{variant:"outline",children:[Ne.parent_category==="real_estate"&&"Immobilier",Ne.parent_category==="automobile"&&"Automobile",Ne.parent_category==="services"&&"Services",Ne.parent_category==="marketplace"&&"Marketplace"]})}),a.jsx(Mt,{className:"font-mono text-sm text-gray-500",children:Ne.slug}),a.jsx(Mt,{children:Ne.sort_order||0}),a.jsx(Mt,{children:a.jsx(mt,{variant:Ne.is_active?"success":"secondary",children:Ne.is_active?"Actif":"Inactif"})}),a.jsx(Mt,{children:a.jsxs(tf,{children:[a.jsx(rf,{asChild:!0,children:a.jsx(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(Hd,{className:"h-4 w-4"})})}),a.jsxs(vu,{align:"end",children:[a.jsxs(xr,{onClick:()=>be(Ne),children:[a.jsx(__,{className:"mr-2 h-4 w-4"}),"Modifier"]}),a.jsx(Wp,{}),a.jsxs(xr,{onClick:()=>ae(Ne.id),className:"text-red-600",children:[a.jsx(Ka,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},Ne.id))})]})}),Pe>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de ",te+1," à ",Math.min(Y,he.length)," sur ",he.length," résultats"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(1),disabled:g===1,children:a.jsx(fy,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(g-1),disabled:g===1,children:a.jsx(Wa,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",g," sur ",Pe]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(g+1),disabled:g===Pe,children:a.jsx(Ha,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>J(Pe),disabled:g===Pe,children:a.jsx(hy,{className:"h-4 w-4"})})]})]})]}),a.jsx(P3,{open:_,onOpenChange:S,children:a.jsxs(ZT,{className:"sm:max-w-[500px]",children:[a.jsxs(YT,{children:[a.jsx(JT,{children:"Créer une nouvelle catégorie"}),a.jsx(QT,{children:"Remplissez les informations pour créer une nouvelle catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"name",children:"Nom *"}),a.jsx(tt,{id:"name",value:P.name,onChange:Ne=>We(Ne.target.value),onBlur:Ne=>Ue("name",Ne.target.value),placeholder:"Nom de la catégorie",required:!0,className:V("name")?"border-red-500 focus:border-red-500":""}),a.jsx(O0,{error:K("name")})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"slug",children:"Slug *"}),a.jsx(tt,{id:"slug",value:P.slug,onChange:Ne=>O(ot=>({...ot,slug:Ne.target.value})),onBlur:Ne=>Ue("slug",Ne.target.value),placeholder:"slug-categorie",required:!0,className:V("slug")?"border-red-500 focus:border-red-500":""}),a.jsx(O0,{error:K("slug")})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"parent_category",children:"Type parent *"}),a.jsxs(Ar,{value:P.parent_category,onValueChange:Ne=>O(ot=>({...ot,parent_category:Ne})),children:[a.jsx(Tr,{children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"description",children:"Description"}),a.jsx(fu,{id:"description",value:P.description,onChange:Ne=>O(ot=>({...ot,description:Ne.target.value})),onBlur:Ne=>Ue("description",Ne.target.value),placeholder:"Description de la catégorie",rows:3,className:V("description")?"border-red-500 focus:border-red-500":""}),a.jsx(O0,{error:K("description")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"icon",children:"Icône"}),a.jsx(tt,{id:"icon",value:P.icon,onChange:Ne=>O(ot=>({...ot,icon:Ne.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"sort_order",type:"number",value:P.sort_order,onChange:Ne=>O(ot=>({...ot,sort_order:parseInt(Ne.target.value)||0})),onBlur:Ne=>Ue("sort_order",parseInt(Ne.target.value)||0),placeholder:"0",className:V("sort_order")?"border-red-500 focus:border-red-500":""}),a.jsx(O0,{error:K("sort_order")})]})]}),a.jsxs(XT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:se.isLoading,children:se.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kT,{className:"mr-2 h-4 w-4"}),"Créer"]})})]})]})]})}),a.jsx(P3,{open:N,onOpenChange:C,children:a.jsxs(ZT,{className:"sm:max-w-[500px]",children:[a.jsxs(YT,{children:[a.jsx(JT,{children:"Modifier la catégorie"}),a.jsx(QT,{children:"Modifiez les informations de la catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-name",children:"Nom *"}),a.jsx(tt,{id:"edit-name",value:P.name,onChange:Ne=>We(Ne.target.value),placeholder:"Nom de la catégorie",required:!0})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-slug",children:"Slug *"}),a.jsx(tt,{id:"edit-slug",value:P.slug,onChange:Ne=>O(ot=>({...ot,slug:Ne.target.value})),placeholder:"slug-categorie",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-parent_category",children:"Type parent *"}),a.jsxs(Ar,{value:P.parent_category,onValueChange:Ne=>O(ot=>({...ot,parent_category:Ne})),children:[a.jsx(Tr,{children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-description",children:"Description"}),a.jsx(fu,{id:"edit-description",value:P.description,onChange:Ne=>O(ot=>({...ot,description:Ne.target.value})),placeholder:"Description de la catégorie",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-icon",children:"Icône"}),a.jsx(tt,{id:"edit-icon",value:P.icon,onChange:Ne=>O(ot=>({...ot,icon:Ne.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"edit-sort_order",type:"number",value:P.sort_order,onChange:Ne=>O(ot=>({...ot,sort_order:parseInt(Ne.target.value)||0})),placeholder:"0"})]})]}),a.jsxs(XT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:W.isLoading,children:W.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kT,{className:"mr-2 h-4 w-4"}),"Mettre à jour"]})})]})]})]})})]})}function K8e(){const{toast:e}=Zr(),[t,r]=x.useState(!1),[n,i]=x.useState(!1),{data:s,isLoading:o,error:l}=Zn({queryKey:["systemSettings"],queryFn:()=>hn.getSystemSettings(),staleTime:5*60*1e3}),[c,u]=x.useState({});x.useEffect(()=>{s&&u(s)},[s]),x.useEffect(()=>{Object.keys(c).length>0&&r(!0)},[c]);const f=(v,b,y)=>{u(_=>({..._,[v]:{..._[v],[b]:y}}))},p=async()=>{i(!0);try{await hn.updateSystemSettings(c),r(!1),e({title:"Succès",description:"Paramètres sauvegardés avec succès"})}catch(v){e({title:"Erreur",description:v.message||"Erreur lors de la sauvegarde",variant:"destructive"})}finally{i(!1)}},g=async()=>{try{await hn.resetToDefaults();const v=await hn.getSystemSettings();u(v),r(!1),e({title:"Réinitialisation",description:"Paramètres réinitialisés aux valeurs par défaut"})}catch(v){e({title:"Erreur",description:v.message||"Erreur lors de la réinitialisation",variant:"destructive"})}};return o?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):!c||Object.keys(c).length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des paramètres"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Paramètres Système"}),a.jsx("p",{className:"text-gray-600",children:"Configurez votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{variant:"outline",onClick:g,children:[a.jsx(Kd,{className:"mr-2 h-4 w-4"}),"Réinitialiser"]}),a.jsx(ue,{onClick:p,disabled:!t||n,children:n?"Sauvegarde...":a.jsxs(a.Fragment,{children:[a.jsx(kT,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]})]}),t&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Pn,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-blue-800 font-medium",children:"Modifications non sauvegardées"})]})}),a.jsxs(aR,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(C_,{className:"grid w-full grid-cols-4",children:[a.jsx(Mi,{value:"general",children:"Général"}),a.jsx(Mi,{value:"appearance",children:"Apparence"}),a.jsx(Mi,{value:"notifications",children:"Notifications"}),a.jsx(Mi,{value:"security",children:"Sécurité"})]}),a.jsx(Ii,{value:"general",children:a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsx(ir,{children:"Informations du site"})}),a.jsxs(At,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Nom du site"}),a.jsx(tt,{value:c.general.siteName,onChange:v=>f("general","siteName",v.target.value)})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Email de contact"}),a.jsx(tt,{value:c.general.contactEmail,onChange:v=>f("general","contactEmail",v.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Fuseau horaire"}),a.jsxs(Ar,{value:c.general.timezone,onValueChange:v=>f("general","timezone",v),children:[a.jsx(Tr,{children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"Africa/Dakar",children:"Dakar (GMT+0)"}),a.jsx(Ge,{value:"Africa/Lagos",children:"Lagos (GMT+1)"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Devise"}),a.jsxs(Ar,{value:c.general.currency,onValueChange:v=>f("general","currency",v),children:[a.jsx(Tr,{children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"XOF",children:"XOF (Franc CFA)"}),a.jsx(Ge,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]})]})}),a.jsx(Ii,{value:"appearance",children:a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsx(ir,{children:"Thème et apparence"})}),a.jsx(At,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Thème"}),a.jsxs(Ar,{value:c.appearance.theme,onValueChange:v=>f("appearance","theme",v),children:[a.jsx(Tr,{children:a.jsx(Or,{})}),a.jsxs(kr,{children:[a.jsx(Ge,{value:"light",children:"Clair"}),a.jsx(Ge,{value:"dark",children:"Sombre"}),a.jsx(Ge,{value:"auto",children:"Auto"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Couleur principale"}),a.jsx(tt,{type:"color",value:c.appearance.primaryColor,onChange:v=>f("appearance","primaryColor",v.target.value),className:"w-full h-10"})]})]})})]})}),a.jsx(Ii,{value:"notifications",children:a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsx(ir,{children:"Configuration des notifications"})}),a.jsx(At,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications par email"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),a.jsx(kg,{checked:c.notifications.emailNotifications,onCheckedChange:v=>f("notifications","emailNotifications",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications push"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Notifications push dans le navigateur"})]}),a.jsx(kg,{checked:c.notifications.pushNotifications,onCheckedChange:v=>f("notifications","pushNotifications",v)})]})]})})]})}),a.jsx(Ii,{value:"security",children:a.jsxs(Tt,{children:[a.jsx(nr,{children:a.jsx(ir,{children:"Sécurité et authentification"})}),a.jsx(At,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Vérification email obligatoire"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vérifier leur email"})]}),a.jsx(kg,{checked:c.security.requireEmailVerification,onCheckedChange:v=>f("security","requireEmailVerification",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Activer le captcha"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Protection contre les bots"})]}),a.jsx(kg,{checked:c.security.enableCaptcha,onCheckedChange:v=>f("security","enableCaptcha",v)})]})]})})]})})]})]})}const G8e=()=>a.jsxs("div",{className:"container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsxs(Re.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center max-w-lg",children:[a.jsx("h1",{className:"text-9xl font-bold gradient-text mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Page non trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"La page que vous recherchez n'existe pas ou a été déplacée."}),a.jsx(ue,{asChild:!0,size:"lg",children:a.jsxs(ar,{to:"/",children:[a.jsx(Zh,{className:"mr-2 h-4 w-4"}),"Retour à l'accueil"]})})]}),a.jsx("div",{className:"absolute top-1/3 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl"})]}),Z8e=()=>{const e=[{icon:a.jsx(sde,{className:"h-8 w-8 text-primary"}),title:"Innovation Continue",description:"Nous repoussons constamment les limites pour offrir des solutions de pointe."},{icon:a.jsx(w_,{className:"h-8 w-8 text-primary"}),title:"Confiance & Sécurité",description:"La sécurité de vos transactions et de vos données est notre priorité absolue."},{icon:a.jsx(Ua,{className:"h-8 w-8 text-primary"}),title:"Approche Communautaire",description:"Nous construisons une plateforme pour et avec la communauté ouest-africaine."},{icon:a.jsx(tde,{className:"h-8 w-8 text-primary"}),title:"Impact Local Positif",description:"Nous visons à dynamiser l'économie locale et à créer des opportunités."}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-16",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["À Propos de ",a.jsx("span",{className:"gradient-text",children:sr.siteName})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:[sr.tagline,". Notre mission est de révolutionner le commerce en ligne en Afrique de l'Ouest grâce à une technologie innovante et une approche centrée sur l'utilisateur."]})]}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs(Re.section,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"mb-20 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[a.jsx(CT,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Histoire"]}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Fondée avec la vision de simplifier et de sécuriser les échanges commerciaux en Afrique de l'Ouest, ",sr.siteName," est née d'une passion pour la technologie et d'un engagement profond envers le développement économique de la région. Nous avons identifié un besoin crucial pour une plateforme unifiée, moderne et fiable, capable de connecter acheteurs et vendeurs de manière transparente."]}),a.jsxs("p",{className:"text-muted-foreground",children:["Depuis nos débuts, nous avons travaillé sans relâche pour construire une marketplace qui non seulement répond aux besoins actuels, mais anticipe également les tendances futures du commerce électronique. Notre équipe est composée d'experts locaux et internationaux, tous unis par l'objectif de faire de ",sr.siteName," le leader incontesté du marché."]})]}),a.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden shadow-2xl",children:[a.jsx("img",{className:"w-full h-full object-cover",alt:"Équipe MaxiMarket travaillant ensemble",src:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})]}),a.jsx(mv,{className:"my-20"}),a.jsxs(Re.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-20 text-center",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-10 flex items-center justify-center",children:[a.jsx(_de,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Mission & Vision"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Mission"}),a.jsx("p",{className:"text-muted-foreground",children:"Connecter l'Afrique de l'Ouest au futur du commerce en fournissant une plateforme marketplace innovante, sécurisée et accessible à tous. Nous nous engageons à autonomiser les individus et les entreprises en facilitant les transactions et en stimulant la croissance économique locale."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Vision"}),a.jsx("p",{className:"text-muted-foreground",children:"Devenir la marketplace de référence en Afrique, reconnue pour son excellence technologique, son impact positif sur les communautés et sa contribution à un écosystème commercial numérique florissant et inclusif pour le continent."})]})]})]}),a.jsx(mv,{className:"my-20"}),a.jsxs(Re.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nos Valeurs Fondamentales"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:e.map((t,r)=>a.jsxs(Re.div,{className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors duration-300 glassmorphic-card",whileHover:{y:-5},children:[a.jsx("div",{className:"p-4 bg-primary/10 rounded-full inline-block mb-4",children:t.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:t.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:t.description})]},r))})]}),a.jsx("div",{className:"text-center mt-16",children:a.jsxs("p",{className:"text-lg text-muted-foreground",children:["Prêt à découvrir la différence ",sr.siteName," ? ",a.jsx("a",{href:"/",className:"text-primary font-semibold hover:underline",children:"Explorez notre plateforme dès maintenant."})]})})]})]})},Y8e=()=>{const{toast:e}=Zr(),[t,r]=x.useState({name:"",email:"",subject:"",message:""}),[n,i]=x.useState(!1),s=l=>{const{name:c,value:u}=l.target;r(f=>({...f,[c]:u}))},o=l=>{l.preventDefault(),i(!0),setTimeout(()=>{console.log("Form submitted:",t),e({title:"Message envoyé !",description:"Merci pour votre message. Je vous répondrai dès que possible.",duration:5e3}),r({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return a.jsxs(Re.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:o,className:"space-y-6 gradient-border p-6 bg-card rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"name",children:"Nom"}),a.jsx(tt,{id:"name",name:"name",placeholder:"Votre nom",value:t.name,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsx(tt,{id:"email",name:"email",type:"email",placeholder:"votre@email.com",value:t.email,onChange:s,required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"subject",children:"Sujet"}),a.jsx(tt,{id:"subject",name:"subject",placeholder:"Sujet de votre message",value:t.subject,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"message",children:"Message"}),a.jsx(fu,{id:"message",name:"message",placeholder:"Votre message...",rows:6,value:t.message,onChange:s,required:!0})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:n,children:n?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(py,{className:"mr-2 h-4 w-4"}),"Envoyer le message"]})})]})},X8e=()=>{const e=[{icon:a.jsx(cu,{className:"h-6 w-6"}),label:"Email",value:"contact@example.com",href:"mailto:contact@example.com"},{icon:a.jsx(Fa,{className:"h-6 w-6"}),label:"Téléphone",value:"+33 6 12 34 56 78",href:"tel:+33612345678"},{icon:a.jsx(No,{className:"h-6 w-6"}),label:"Adresse",value:"Paris, France",href:"https://maps.google.com/?q=Paris,France"}],t=[{icon:a.jsx(ede,{className:"h-6 w-6"}),label:"GitHub",href:"https://github.com"},{icon:a.jsx(P7,{className:"h-6 w-6"}),label:"Twitter",href:"https://twitter.com"},{icon:a.jsx(C7,{className:"h-6 w-6"}),label:"LinkedIn",href:"https://linkedin.com"}];return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Contactez ",a.jsx("span",{className:"gradient-text",children:"moi"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Vous avez un projet en tête ou une question ? N'hésitez pas à me contacter !"})]}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs(Re.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informations de contact"}),a.jsx("div",{className:"space-y-6",children:e.map((r,n)=>a.jsxs(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 p-4 rounded-lg glass-effect hover:border-primary transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:[a.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:r.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:r.label}),a.jsx("p",{className:"text-muted-foreground",children:r.value})]})]},n))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Réseaux sociaux"}),a.jsx("div",{className:"flex space-x-4",children:t.map((r,n)=>a.jsx(Re.a,{href:r.href,target:"_blank",rel:"noopener noreferrer","aria-label":r.label,className:"p-4 rounded-full bg-secondary hover:bg-primary/20 transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:r.icon},n))})]}),a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden gradient-border",children:a.jsx("img",{className:"w-full h-full object-cover",alt:"Carte de localisation",src:"https://images.unsplash.com/photo-1569336415962-a4bd9f69c07a"})})]}),a.jsx(Re.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Envoyez un message"}),a.jsx(Y8e,{})]})})]})})]})},J8e=()=>{const e=[{title:"Développeur Frontend Senior (React)",location:"Dakar, Sénégal (Hybride)",type:"Temps Plein",link:"#"},{title:"Chef de Produit Marketplace",location:"Abidjan, Côte d'Ivoire",type:"Temps Plein",link:"#"},{title:"Spécialiste Marketing Digital",location:"Lagos, Nigéria (Remote)",type:"Temps Plein",link:"#"},{title:"Responsable Service Client Bilingue",location:"Dakar, Sénégal",type:"Temps Plein",link:"#"}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[a.jsx(Od,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Rejoignez l'Équipe ",a.jsx("span",{className:"gradient-text",children:sr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Façonnez l'avenir du commerce en Afrique de l'Ouest avec nous. Découvrez nos opportunités de carrière passionnantes."})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16 bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-8 text-center flex items-center justify-center",children:["Pourquoi travailler chez ",sr.siteName," ?"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[a.jsxs("div",{className:"p-6",children:[a.jsx(XO,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Impact Significatif"}),a.jsx("p",{className:"text-muted-foreground",children:"Contribuez à un projet qui transforme réellement la vie des gens et l'économie locale."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(Ua,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Culture Collaborative"}),a.jsx("p",{className:"text-muted-foreground",children:"Rejoignez une équipe passionnée, diverse et solidaire où chaque voix compte."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(Od,{className:"h-12 w-12 text-green-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Croissance et Apprentissage"}),a.jsx("p",{className:"text-muted-foreground",children:"Bénéficiez d'opportunités de développement professionnel continu et relevez des défis stimulants."})]})]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Postes Ouverts Actuellement"}),e.length>0?a.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:e.map((t,r)=>a.jsxs(Re.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*r+.5},className:"bg-card p-6 rounded-lg shadow-md border border-border hover:border-primary transition-colors flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-primary",children:t.title}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:[t.location," - ",t.type]})]}),a.jsx(ue,{asChild:!0,className:"mt-4 sm:mt-0 bg-primary hover:bg-primary/90",children:a.jsxs("a",{href:t.link,target:"_blank",rel:"noopener noreferrer",children:["Voir l'Offre ",a.jsx(cv,{className:"ml-2 h-4 w-4"})]})})]},r))}):a.jsx("p",{className:"text-center text-muted-foreground text-lg",children:"Nous n'avons pas de postes ouverts pour le moment, mais nous sommes toujours à la recherche de talents exceptionnels. N'hésitez pas à nous envoyer une candidature spontanée !"}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(ue,{variant:"outline",size:"lg",children:"Envoyer une Candidature Spontanée"})})]})]})},Q8e=()=>{const e=[{id:1,title:"MaxiMarket révolutionne le e-commerce en Afrique de l'Ouest",date:"01 Juin 2025",description:"Lancement officiel de la plateforme marketplace innovante MaxiMarket.",pdfUrl:"#"},{id:2,title:"Partenariat stratégique avec PayDunya",date:"15 Mai 2025",description:"MaxiMarket s'associe à PayDunya pour faciliter les paiements en ligne.",pdfUrl:"#"}],t={logos:[{name:"Logo Principal",format:"PNG, SVG",size:"2MB",url:"#"},{name:"Logo Monochrome",format:"PNG, SVG",size:"1.5MB",url:"#"}],photos:[{name:"Photos de l'équipe",format:"JPG",size:"5MB",url:"#"},{name:"Interface utilisateur",format:"JPG",size:"3MB",url:"#"}]},r={name:"Service Relations Presse",email:"presse@maximarket.com",phone:"+221 77 123 45 67"};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(ude,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Espace ",a.jsx("span",{className:"gradient-text",children:"Presse"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Retrouvez toutes les actualités, ressources et informations pour la presse concernant ",sr.siteName,"."]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center",children:[a.jsx(Wue,{className:"h-6 w-6 mr-2 text-primary"}),"Derniers Communiqués de Presse"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map(n=>a.jsxs(Tt,{className:"hover:border-primary transition-colors",children:[a.jsxs(nr,{children:[a.jsx(ir,{children:n.title}),a.jsx(Sn,{children:n.date})]}),a.jsxs(At,{children:[a.jsx("p",{className:"mb-4 text-muted-foreground",children:n.description}),a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:n.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(qa,{className:"mr-2 h-4 w-4"})," Télécharger le PDF"]})})]})]},n.id))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Kit Média"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Logos"}),a.jsx(Sn,{children:"Téléchargez nos logos officiels"})]}),a.jsx(At,{children:a.jsx("ul",{className:"space-y-4",children:t.logos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(qa,{className:"h-4 w-4"})})})]},i))})})]}),a.jsxs(Tt,{children:[a.jsxs(nr,{children:[a.jsx(ir,{children:"Photos"}),a.jsx(Sn,{children:"Photos officielles haute résolution"})]}),a.jsx(At,{children:a.jsx("ul",{className:"space-y-4",children:t.photos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(qa,{className:"h-4 w-4"})})})]},i))})})]})]})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"text-center bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Presse"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("p",{className:"font-medium text-lg mb-2",children:r.name}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Pour toute demande d'interview ou d'information complémentaire"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:`mailto:${r.email}`,children:[a.jsx(cv,{className:"mr-2 h-4 w-4"}),r.email]})}),a.jsxs(ue,{variant:"outline",className:"w-full",children:[a.jsx(cv,{className:"mr-2 h-4 w-4"}),r.phone]})]})]})]})]})},eze=()=>{const[e,t]=x.useState(""),r=[{title:"Comment publier une annonce ?",link:"/faq#publier-annonce"},{title:"Sécuriser mon compte",link:"/faq#securite-compte"},{title:"Problèmes de paiement",link:"/faq#paiement"},{title:"Contacter un vendeur/acheteur",link:"/faq#contacter-utilisateur"},{title:"Signaler un problème",link:"/faq#signaler-probleme"}],n=[{name:"Comptes et Profils",icon:a.jsx(Ua,{className:"h-8 w-8 text-primary"}),description:"Gestion de votre compte, paramètres et notifications."},{name:"Acheter sur MaxiMarket",icon:a.jsx(yde,{className:"h-8 w-8 text-primary"}),description:"Recherche, achat, paiements et livraisons."},{name:"Vendre sur MaxiMarket",icon:a.jsx(Zd,{className:"h-8 w-8 text-primary"}),description:"Création d'annonces, gestion des ventes, boosters."},{name:"Sécurité et Confiance",icon:a.jsx(w_,{className:"h-8 w-8 text-primary"}),description:"Protéger votre compte, éviter les fraudes."}],i=s=>{s.preventDefault(),console.log("Searching for:",e)};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(GO,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Centre d'Aide ",a.jsx("span",{className:"gradient-text",children:sr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Comment pouvons-nous vous aider aujourd'hui ?"})]}),a.jsxs(Re.form,{onSubmit:i,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-16 relative",children:[a.jsx(tt,{type:"search",placeholder:"Rechercher des articles d'aide (ex: mot de passe oublié)",className:"w-full h-14 pl-12 pr-4 text-lg rounded-full shadow-lg",value:e,onChange:s=>t(s.target.value)}),a.jsx(Jn,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-muted-foreground"}),a.jsx(ue,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-10 rounded-full",children:"Rechercher"})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sujets Populaires"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((s,o)=>a.jsxs(ar,{to:s.link,className:"block bg-card p-6 rounded-lg shadow-md hover:shadow-lg hover:border-primary border border-transparent transition-all duration-300 transform hover:-translate-y-1 glassmorphic-card",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-2 flex items-center",children:[s.title," ",a.jsx(jl,{className:"ml-auto h-4 w-4 opacity-50 group-hover:opacity-100"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez notre FAQ pour une réponse rapide."})]},o))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Parcourir par Catégorie"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1+.7},className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors glassmorphic-card",children:[a.jsx("div",{className:"p-3 bg-primary/10 rounded-full inline-block mb-4",children:s.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),a.jsx(ue,{variant:"outline",asChild:!0,children:a.jsx(ar,{to:`/faq#cat-${s.name.toLowerCase().replace(/\s+/g,"-")}`,children:"Explorer"})})]},o))})]}),a.jsxs(Re.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"text-center bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Notre équipe d'assistance est là pour vous aider. Contactez-nous directement ou consultez notre FAQ complète."}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(ue,{size:"lg",asChild:!0,className:"bg-primary hover:bg-primary/90",children:a.jsxs(ar,{to:"/contactez-nous",children:[a.jsx(Xn,{className:"mr-2 h-5 w-5"})," Contacter le Support"]})}),a.jsx(ue,{size:"lg",variant:"outline",asChild:!0,children:a.jsxs(ar,{to:"/faq",children:[a.jsx(Kue,{className:"mr-2 h-5 w-5"})," Consulter la FAQ"]})})]})]})]})},tze=()=>{const e=sr.siteName,t=[{id:"general-1",category:"Général",question:`Qu'est-ce que ${e} ?`,answer:`${e} est une plateforme marketplace innovante conçue pour l'Afrique de l'Ouest, facilitant l'achat et la vente de biens immobiliers, véhicules, services professionnels et divers autres produits. Notre objectif est de simplifier le commerce en ligne et de le rendre plus sûr et accessible.`},{id:"compte-1",category:"Compte Utilisateur",question:`Comment créer un compte sur ${e} ?`,answer:"Pour créer un compte, cliquez sur le bouton 'Connexion / Inscription' en haut à droite de la page. Vous pourrez alors vous inscrire en utilisant votre adresse e-mail ou via des services tiers comme Google ou Facebook (si activé). Suivez simplement les instructions à l'écran."},{id:"compte-2",category:"Compte Utilisateur",question:"J'ai oublié mon mot de passe, que faire ?",answer:"Si vous avez oublié votre mot de passe, cliquez sur le lien 'Mot de passe oublié ?' sur la page de connexion. Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe."},{id:"publier-annonce",category:`Vendre sur ${e}`,question:"Comment publier une annonce ?",answer:"Une fois connecté, accédez à votre tableau de bord et cherchez le bouton 'Publier une annonce' ou 'Nouvelle annonce'. Choisissez la catégorie appropriée, remplissez tous les champs requis (titre, description, prix, photos, etc.) et soumettez votre annonce. Elle sera examinée par notre équipe avant d'être publiée."},{id:"paiement",category:"Paiements et Transactions",question:"Quels sont les moyens de paiement acceptés ?",answer:"Nous acceptons plusieurs moyens de paiement, y compris les cartes bancaires (Visa, Mastercard), les paiements mobiles (Orange Money, Wave, etc. selon disponibilité régionale), PayPal et PayDunya. Les options exactes peuvent varier en fonction de votre pays."},{id:"securite-compte",category:"Sécurité",question:"Comment puis-je sécuriser mon compte ?",answer:"Pour sécuriser votre compte, utilisez un mot de passe fort et unique. Activez l'authentification à deux facteurs (2FA) si disponible dans vos paramètres de compte. Méfiez-vous des e-mails de phishing et ne partagez jamais vos identifiants."},{id:"contacter-utilisateur",category:"Interaction",question:"Comment contacter un vendeur ou un acheteur ?",answer:"Sur la page d'une annonce, vous trouverez généralement un bouton ou un lien pour contacter le vendeur (par exemple, 'Contacter le vendeur', 'Envoyer un message'). Utilisez notre système de messagerie intégré pour communiquer en toute sécurité. Les coordonnées directes ne sont partagées qu'avec le consentement des deux parties."},{id:"signaler-probleme",category:"Support et Litiges",question:"Comment signaler un problème ou une annonce suspecte ?",answer:"Si vous rencontrez un problème ou si une annonce vous semble suspecte, vous pouvez la signaler en utilisant le lien 'Signaler cette annonce' présent sur la page de l'annonce. Pour d'autres problèmes, contactez notre support client via le Centre d'Aide."}],r=[...new Set(t.map(n=>n.category))];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(GO,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:["Questions Fréquemment Posées ",a.jsx("span",{className:"gradient-text",children:"(FAQ)"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:["Trouvez des réponses rapides à vos questions sur ",e,"."]})]}),r.map((n,i)=>a.jsxs(Re.section,{id:`cat-${n.toLowerCase().replace(/\s+/g,"-")}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i},className:"mb-12 max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 border-l-4 border-primary pl-4 text-foreground",children:n}),a.jsx(Zye,{type:"single",collapsible:!0,className:"w-full space-y-3",children:t.filter(s=>s.category===n).map(s=>a.jsxs(kH,{value:s.id,className:"bg-card border border-border rounded-lg shadow-sm hover:border-primary/50 transition-colors",children:[a.jsx(AH,{className:"p-6 text-left font-semibold hover:no-underline text-foreground",children:s.question}),a.jsx(OH,{className:"p-6 pt-0 text-muted-foreground",children:s.answer})]},s.id))})]},n)),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+.1*r.length},className:"text-center mt-16",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Vous n'avez pas trouvé de réponse ?"}),a.jsx(ue,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 transition-opacity",children:a.jsx(ar,{to:"/contactez-nous",children:"Contactez notre support"})})]})]})},rze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(w_,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Politique de ",a.jsx("span",{className:"gradient-text",children:"Confidentialité"})]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg mb-6",children:["Bienvenue sur ",sr.siteName,". Nous nous engageons à protéger la confidentialité de vos informations personnelles. Cette politique de confidentialité explique comment nous collectons, utilisons, divulguons et protégeons vos informations lorsque vous visitez notre site web et utilisez nos services."]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"1. Informations que nous collectons"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons collecter des informations personnelles vous concernant de différentes manières, notamment :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Informations fournies directement par vous :"})," Lorsque vous créez un compte, publiez une annonce, effectuez une transaction, communiquez avec nous ou d'autres utilisateurs (nom, adresse e-mail, numéro de téléphone, informations de paiement, etc.)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations collectées automatiquement :"})," Lorsque vous utilisez notre site, nous pouvons collecter des informations sur votre appareil, votre activité de navigation, votre adresse IP, votre localisation (si autorisée), les cookies et autres technologies de suivi."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations provenant de tiers :"})," Nous pouvons recevoir des informations vous concernant de la part de services tiers, tels que les fournisseurs de services de paiement ou les plateformes de médias sociaux si vous choisissez de lier votre compte."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Utilisation de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous utilisons les informations que nous collectons pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Fournir, exploiter et améliorer nos services."}),a.jsx("li",{children:"Traiter vos transactions et gérer votre compte."}),a.jsx("li",{children:"Personnaliser votre expérience sur notre plateforme."}),a.jsx("li",{children:"Communiquer avec vous, y compris pour le service client et les mises à jour."}),a.jsx("li",{children:"Assurer la sécurité de notre plateforme et prévenir la fraude."}),a.jsx("li",{children:"Analyser l'utilisation de notre site et améliorer nos offres."}),a.jsx("li",{children:"Respecter nos obligations légales."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Partage de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons partager vos informations personnelles dans les circonstances suivantes :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Avec d'autres utilisateurs :"})," Pour faciliter les transactions et les communications (par exemple, partager votre nom d'utilisateur ou les informations de contact nécessaires pour une transaction)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Avec des fournisseurs de services tiers :"})," Qui nous aident à exploiter notre plateforme (hébergement, traitement des paiements, analyse de données, marketing, etc.). Ces fournisseurs sont contractuellement tenus de protéger vos informations."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Pour des raisons légales :"})," Si la loi l'exige, ou pour répondre à une procédure légale valide, protéger nos droits, notre propriété ou notre sécurité, ou ceux de nos utilisateurs ou du public."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"En cas de transfert d'entreprise :"})," En cas de fusion, acquisition, réorganisation ou vente d'actifs, vos informations peuvent être transférées."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Vos droits et choix"]}),a.jsx("p",{className:"mb-4",children:"Selon votre juridiction, vous pouvez avoir certains droits concernant vos informations personnelles, tels que :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Le droit d'accéder à vos informations."}),a.jsx("li",{children:"Le droit de corriger ou de mettre à jour vos informations."}),a.jsx("li",{children:"Le droit de supprimer vos informations."}),a.jsx("li",{children:"Le droit de vous opposer ou de restreindre certains traitements."}),a.jsx("li",{children:"Le droit à la portabilité des données."})]}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Vous pouvez généralement gérer les informations de votre compte et vos préférences de communication via les paramètres de votre compte. Pour exercer d'autres droits, veuillez nous contacter."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Sécurité des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous mettons en œuvre des mesures de sécurité techniques et organisationnelles raisonnables pour protéger vos informations personnelles contre l'accès non autorisé, la divulgation, l'altération ou la destruction. Cependant, aucune méthode de transmission sur Internet ou de stockage électronique n'est totalement sécurisée."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Conservation des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous conservons vos informations personnelles aussi longtemps que nécessaire pour atteindre les objectifs décrits dans cette politique de confidentialité, sauf si une période de conservation plus longue est requise ou autorisée par la loi."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Transferts internationaux"]}),a.jsx("p",{className:"text-muted-foreground",children:"Vos informations peuvent être transférées et traitées dans des pays autres que votre pays de résidence, où les lois sur la protection des données peuvent différer. Nous prendrons des mesures appropriées pour garantir que vos informations personnelles restent protégées conformément à cette politique."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Modifications de cette politique"]}),a.jsx("p",{className:"text-muted-foreground",children:'Nous pouvons mettre à jour cette politique de confidentialité de temps à autre. Nous vous informerons de tout changement important en publiant la nouvelle politique sur notre site et en mettant à jour la date de "Dernière mise à jour".'})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Nous contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions ou des préoccupations concernant cette politique de confidentialité ou nos pratiques en matière de données, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:privacy@${sr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["privacy@",sr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),nze=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Re.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(Hr,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Termes et ",a.jsx("span",{className:"gradient-text",children:"Conditions"})," d'Utilisation"]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg",children:[`Veuillez lire attentivement ces Termes et Conditions ("Termes") avant d'utiliser le site web `,sr.siteName,' (le "Service") exploité par ',sr.siteName,` ("nous", "notre", ou "nos"). Votre accès et votre utilisation du Service sont conditionnés par votre acceptation et votre respect de ces Termes. Ces Termes s'appliquent à tous les visiteurs, utilisateurs et autres personnes qui accèdent ou utilisent le Service.`]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Yd,{className:"mr-2 h-6 w-6 text-primary"}),"1. Acceptation des Termes"]}),a.jsx("p",{className:"text-muted-foreground",children:"En accédant ou en utilisant le Service, vous acceptez d'être lié par ces Termes. Si vous n'êtes pas d'accord avec une partie des termes, vous ne pouvez pas accéder au Service."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Comptes"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Lorsque vous créez un compte chez nous, vous devez nous fournir des informations exactes, complètes et à jour à tout moment. Le non-respect de cette obligation constitue une violation des Termes, ce qui peut entraîner la résiliation immédiate de votre compte sur notre Service."}),a.jsx("p",{children:"Vous êtes responsable de la protection du mot de passe que vous utilisez pour accéder au Service et de toutes les activités ou actions effectuées sous votre mot de passe, que votre mot de passe soit avec notre Service ou un service tiers."}),a.jsx("p",{children:"Vous acceptez de ne pas divulguer votre mot de passe à un tiers. Vous devez nous informer immédiatement dès que vous prenez connaissance d'une violation de la sécurité ou d'une utilisation non autorisée de votre compte."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Contenu Utilisateur"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:'Notre Service vous permet de publier, lier, stocker, partager et autrement rendre disponible certaines informations, textes, graphiques, vidéos ou autres supports ("Contenu Utilisateur"). Vous êtes responsable du Contenu Utilisateur que vous publiez sur ou via le Service, y compris sa légalité, sa fiabilité et sa pertinence.'}),a.jsx("p",{children:"En publiant du Contenu Utilisateur sur ou via le Service, vous déclarez et garantissez que : (i) le Contenu Utilisateur vous appartient (vous en êtes propriétaire) et/ou vous avez le droit de l'utiliser et le droit de nous accorder les droits et la licence prévus dans ces Termes, et (ii) la publication de votre Contenu Utilisateur sur ou via le Service ne viole pas les droits à la vie privée, les droits de publicité, les droits d'auteur, les droits contractuels ou tout autre droit de toute personne ou entité."}),a.jsx("p",{children:"Vous conservez tous vos droits sur tout Contenu Utilisateur que vous soumettez, publiez ou affichez sur ou via le Service et vous êtes responsable de la protection de ces droits. Nous n'assumons aucune responsabilité et n'engageons aucune responsabilité pour le Contenu Utilisateur que vous ou un tiers publiez sur ou via le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Utilisation Acceptable"]}),a.jsx("p",{className:"mb-4",children:"Vous acceptez de ne pas utiliser le Service pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Publier du contenu illégal, nuisible, menaçant, abusif, harcelant, diffamatoire, vulgaire, obscène, haineux ou autrement répréhensible."}),a.jsx("li",{children:"Usurper l'identité d'une personne ou d'une entité, ou déclarer faussement ou déformer autrement votre affiliation avec une personne ou une entité."}),a.jsx("li",{children:"Télécharger, publier ou transmettre de quelque manière que ce soit tout contenu que vous n'avez pas le droit de transmettre en vertu d'une loi ou de relations contractuelles ou fiduciaires."}),a.jsx("li",{children:"Violer toute loi locale, étatique, nationale ou internationale applicable."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Propriété Intellectuelle"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Le Service et son contenu original (à l'exclusion du Contenu Utilisateur), ses caractéristiques et fonctionnalités sont et resteront la propriété exclusive de ",sr.siteName," et de ses concédants de licence. Le Service est protégé par le droit d'auteur, les marques commerciales et d'autres lois. Nos marques et habillages commerciaux ne peuvent être utilisés en relation avec un produit ou service sans le consentement écrit préalable de ",sr.siteName,"."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Liens Vers D'autres Sites Web"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:["Notre Service peut contenir des liens vers des sites web ou des services tiers qui ne sont pas détenus ou contrôlés par ",sr.siteName,"."]}),a.jsxs("p",{children:[sr.siteName," n'a aucun contrôle sur, et n'assume aucune responsabilité pour, le contenu, les politiques de confidentialité ou les pratiques de tout site web ou service tiers. Vous reconnaissez et acceptez en outre que ",sr.siteName," ne sera pas responsable, directement ou indirectement, de tout dommage ou perte causé ou présumé avoir été causé par ou en relation avec l'utilisation ou la confiance accordée à un tel contenu, biens ou services disponibles sur ou via de tels sites web ou services."]}),a.jsx("p",{children:"Nous vous conseillons vivement de lire les termes et conditions et les politiques de confidentialité de tout site web ou service tiers que vous visitez."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Résiliation"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous pouvons résilier ou suspendre votre compte et interdire l'accès au Service immédiatement, sans préavis ni responsabilité, à notre seule discrétion, pour quelque raison que ce soit et sans limitation, y compris mais sans s'y limiter, une violation des Termes."}),a.jsx("p",{children:"Si vous souhaitez résilier votre compte, vous pouvez simplement cesser d'utiliser le Service."}),a.jsx("p",{children:"Toutes les dispositions des Termes qui, de par leur nature, devraient survivre à la résiliation survivront à la résiliation, y compris, sans limitation, les dispositions relatives à la propriété, les exclusions de garantie, l'indemnisation et les limitations de responsabilité."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Limitation de Responsabilité"]}),a.jsxs("p",{className:"text-muted-foreground",children:["En aucun cas ",sr.siteName,", ni ses administrateurs, employés, partenaires, agents, fournisseurs ou affiliés, ne pourront être tenus responsables de tout dommage indirect, accessoire, spécial, consécutif ou punitif, y compris, sans limitation, la perte de profits, de données, d'utilisation, de clientèle ou d'autres pertes immatérielles, résultant de votre accès ou votre utilisation ou votre incapacité à accéder ou à utiliser le Service."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Droit Applicable"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Ces Termes seront régis et interprétés conformément aux lois du Sénégal, sans égard à ses dispositions relatives aux conflits de lois."}),a.jsx("p",{children:"Notre manquement à faire respecter un droit ou une disposition de ces Termes ne sera pas considéré comme une renonciation à ces droits. Si une disposition de ces Termes est jugée invalide ou inapplicable par un tribunal, les autres dispositions de ces Termes resteront en vigueur. Ces Termes constituent l'intégralité de l'accord entre nous concernant notre Service, et remplacent et annulent tous les accords antérieurs que nous pourrions avoir entre nous concernant le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"10. Modifications"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous nous réservons le droit, à notre seule discrétion, de modifier ou de remplacer ces Termes à tout moment. Si une révision est importante, nous nous efforcerons de fournir un préavis d'au moins 30 jours avant l'entrée en vigueur des nouveaux termes. Ce qui constitue un changement important sera déterminé à notre seule discrétion."}),a.jsx("p",{children:"En continuant à accéder ou à utiliser notre Service après l'entrée en vigueur de ces révisions, vous acceptez d'être lié par les termes révisés. Si vous n'acceptez pas les nouveaux termes, veuillez cesser d'utiliser le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Hr,{className:"mr-2 h-6 w-6 text-primary"}),"11. Nous Contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions concernant ces Termes, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:legal@${sr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["legal@",sr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),ize=({post:e,index:t,featured:r=!1})=>{const n=new Date(e.publishedAt),i=F7(n,{addSuffix:!0,locale:Qp});return a.jsx(Re.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:t*.1},className:qe("group overflow-hidden rounded-lg border border-border bg-card transition-all duration-300 card-hover",r?"col-span-full md:col-span-2 md:row-span-2":"md:col-span-1"),children:a.jsxs(ar,{to:`/blog/${e.slug||e.id}`,className:"block h-full",children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${e.title}`,src:"https://images.unsplash.com/photo-1578811344633-3376eab0f8ce"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-70"}),r&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(mt,{variant:"default",className:"bg-primary/90 backdrop-blur-sm",children:"À la une"})}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:e.tags.slice(0,r?3:2).map((s,o)=>a.jsx(mt,{variant:"secondary",className:"bg-secondary/50 backdrop-blur-sm",children:s},o))}),r&&a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 line-clamp-2",children:e.title})]})]}),a.jsxs("div",{className:"p-5",children:[!r&&a.jsx("h2",{className:"text-lg font-bold mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:e.title}),a.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-4",children:e.excerpt}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ul,{className:"h-3 w-3 mr-1"}),i]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(la,{className:"h-3 w-3 mr-1"}),e.readingTime]})]}),e.category&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Zd,{className:"h-3 w-3 mr-1"}),e.category]})]})]})]})})},sze=[{id:"maximarket-welcome-post",title:"Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !",slug:"bienvenue-sur-maximarket-marketplace-futuriste",excerpt:"Découvrez MaxiMarket, la plateforme innovante qui révolutionne le commerce en Afrique de l'Ouest. Immobilier, automobile, services et plus encore !",content:`
# Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !

Nous sommes ravis de vous accueillir sur **MaxiMarket**, la destination incontournable pour toutes vos transactions en Afrique de l'Ouest. Que vous cherchiez à acheter, vendre ou louer, MaxiMarket vous offre une expérience utilisateur unique, moderne et sécurisée.

## Ce que MaxiMarket vous propose :

### 1. Immobilier de Pointe
Trouvez l'appartement de vos rêves, la maison idéale pour votre famille, un terrain pour construire votre avenir ou le local commercial parfait pour votre entreprise. Avec nos filtres avancés, nos visites virtuelles à 360° et nos outils d'estimation IA, la recherche immobilière n'a jamais été aussi simple et efficace.

### 2. Automobile Simplifié
Parcourez notre vaste sélection de voitures, motos et véhicules utilitaires, neufs ou d'occasion. Bénéficiez d'historiques de véhicules transparents, d'inspections virtuelles et de calculateurs de financement intégrés pour prendre des décisions éclairées.

### 3. Services Professionnels à portée de clic
Besoin d'un expert en BTP, d'un technicien qualifié, d'une aide domestique ou d'un professionnel de la santé ? MaxiMarket vous met en relation avec des prestataires vérifiés. Prenez rendez-vous en ligne, consultez les portfolios et suivez l'avancement de vos projets en toute sérénité.

### 4. Une Marketplace Générale Riche et Variée
Explorez un univers de produits allant de l'électronique dernier cri à la mode tendance, en passant par les articles pour la maison, les équipements sportifs et l'artisanat local authentique. MaxiMarket est votre guichet unique pour tous vos besoins.

## Une Expérience Utilisateur Inégalée

Chez MaxiMarket, nous avons mis l'accent sur un design futuriste et des fonctionnalités innovantes :
- **Thème adaptatif sombre/clair** et effets visuels saisissants comme le glassmorphism.
- **Recherche vocale** et **contrôles gestuels** sur mobile pour une navigation intuitive.
- **Tableaux de bord personnalisés** avec analyses détaillées pour les vendeurs.
- **Intelligence Artificielle** intégrée pour des recommandations personnalisées, des estimations de prix et une modération intelligente.

## Rejoignez la Révolution MaxiMarket !

Nous sommes plus qu'une simple marketplace. Nous sommes une communauté qui construit l'avenir du commerce en Afrique de l'Ouest. Créez votre compte dès aujourd'hui, publiez vos annonces ou trouvez exactement ce que vous cherchez.

L'équipe MaxiMarket.
    `,coverImage:"maximarket-marketplace-skyline-futuristic",author:{name:"L'équipe MaxiMarket",avatar:"maximarket-logo-avatar"},category:"Annonces MaxiMarket",tags:["MaxiMarket","Marketplace","Afrique de l'Ouest","Innovation","Immobilier","Automobile","Services"],publishedAt:"2025-06-02T10:00:00Z",readingTime:"4 min"},{id:"1",title:"Comment j'ai créé une application React performante",slug:"comment-jai-cree-une-application-react-performante",excerpt:"Découvrez les techniques que j'ai utilisées pour optimiser les performances de mon application React.",content:`
# Comment j'ai créé une application React performante

React est une bibliothèque JavaScript populaire pour créer des interfaces utilisateur interactives. Cependant, à mesure que les applications grandissent, les performances peuvent devenir un problème. Dans cet article, je vais partager les techniques que j'ai utilisées pour optimiser les performances de mon application React.

## 1. Utilisation de React.memo et useMemo

L'un des premiers problèmes que j'ai rencontrés était des rendus inutiles de composants. Pour résoudre ce problème, j'ai utilisé React.memo pour mémoriser les composants et useMemo pour mémoriser les valeurs calculées.

\`\`\`jsx
const ExpensiveComponent = React.memo(({ data }) => {
  // Rendu du composant
});

function App() {
  const expensiveCalculation = useMemo(() => {
    return performExpensiveCalculation(data);
  }, [data]);
  
  return <div>{expensiveCalculation}</div>;
}
\`\`\`

## 2. Optimisation des listes avec useCallback

Pour les listes, j'ai utilisé useCallback pour éviter de recréer des fonctions à chaque rendu.

\`\`\`jsx
function TodoList({ todos }) {
  const handleDelete = useCallback((id) => {
    // Logique de suppression
  }, []);
  
  return (
    <ul>
      {todos.map(todo => (
        <TodoItem 
          key={todo.id} 
          todo={todo} 
          onDelete={handleDelete} 
        />
      ))}
    </ul>
  );
}
\`\`\`

## 3. Lazy Loading des composants

J'ai utilisé le lazy loading pour charger les composants uniquement lorsqu'ils sont nécessaires.

\`\`\`jsx
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
\`\`\`

## 4. Utilisation de la virtualisation pour les grandes listes

Pour les listes contenant de nombreux éléments, j'ai utilisé la virtualisation pour ne rendre que les éléments visibles à l'écran.

## Conclusion

L'optimisation des performances est un aspect crucial du développement d'applications React. En utilisant ces techniques, j'ai pu améliorer considérablement les performances de mon application.
    `,coverImage:"react-performance",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"React",tags:["React","Performance","JavaScript","Optimisation"],publishedAt:"2023-09-15T10:00:00Z",readingTime:"8 min"},{id:"2",title:"Les meilleures pratiques pour l'architecture de vos projets React",slug:"meilleures-pratiques-architecture-projets-react",excerpt:"Une architecture bien pensée est essentielle pour maintenir des projets React à long terme. Voici mes conseils.",content:`
# Les meilleures pratiques pour l'architecture de vos projets React

Une bonne architecture est la clé pour maintenir des projets React à long terme. Dans cet article, je partage mes meilleures pratiques pour structurer vos projets React.

## 1. Organisation des dossiers

J'ai trouvé qu'une structure de dossiers claire aide énormément à naviguer dans le code. Voici comment j'organise généralement mes projets:

\`\`\`
src/
  ├── components/
  │   ├── common/
  │   ├── layout/
  │   └── features/
  ├── hooks/
  ├── context/
  ├── utils/
  ├── services/
  ├── pages/
  └── assets/
\`\`\`

## 2. Séparation des préoccupations

Il est important de séparer la logique métier de la présentation. J'utilise des hooks personnalisés pour encapsuler la logique et des composants pour la présentation.

## 3. Utilisation des patterns React modernes

J'ai adopté des patterns comme le Compound Component et le Render Props pour créer des composants flexibles et réutilisables.

## 4. Tests unitaires et d'intégration

Les tests sont essentiels pour maintenir la qualité du code. J'utilise Jest et React Testing Library pour tester mes composants.

## Conclusion

Une bonne architecture est un investissement qui paie sur le long terme. En suivant ces pratiques, vous pourrez maintenir et faire évoluer vos projets React plus facilement.
    `,coverImage:"react-architecture",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"Architecture",tags:["React","Architecture","Bonnes pratiques","Structure de projet"],publishedAt:"2023-08-22T14:30:00Z",readingTime:"6 min"},{id:"3",title:"Comment j'ai intégré TailwindCSS dans mon workflow",slug:"comment-jai-integre-tailwindcss-dans-mon-workflow",excerpt:"TailwindCSS a révolutionné ma façon de styliser mes applications. Voici comment je l'ai intégré dans mon workflow.",content:`
# Comment j'ai intégré TailwindCSS dans mon workflow

TailwindCSS est un framework CSS utilitaire qui a changé ma façon de styliser mes applications. Dans cet article, je vais vous montrer comment je l'ai intégré dans mon workflow et les avantages que j'en ai tirés.

## 1. Installation et configuration

L'installation de TailwindCSS est simple avec npm ou yarn:

\`\`\`bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
\`\`\`

## 2. Personnalisation du thème

J'ai personnalisé le thème pour correspondre à l'identité visuelle de mon projet:

\`\`\`js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#3490dc',
        secondary: '#ffed4a',
        danger: '#e3342f',
      },
    },
  },
  // ...
}
\`\`\`

## 3. Création de composants réutilisables

J'ai créé des composants réutilisables avec TailwindCSS:

\`\`\`jsx
function Button({ children, variant = 'primary' }) {
  const baseClasses = 'px-4 py-2 rounded font-bold';
  const variantClasses = {
    primary: 'bg-primary text-white',
    secondary: 'bg-secondary text-gray-800',
    danger: 'bg-danger text-white',
  };
  
  return (
    <button className={\`\${baseClasses} \${variantClasses[variant]}\`}>
      {children}
    </button>
  );
}
\`\`\`

## 4. Optimisation pour la production

Pour la production, j'ai utilisé PurgeCSS pour éliminer les classes non utilisées:

\`\`\`js
// tailwind.config.js
module.exports = {
  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
  // ...
}
\`\`\`

## Conclusion

TailwindCSS a considérablement amélioré ma productivité en me permettant de styliser rapidement mes applications sans quitter mon HTML/JSX. Si vous n'avez pas encore essayé, je vous encourage vivement à le faire!
    `,coverImage:"tailwindcss-workflow",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"CSS",tags:["TailwindCSS","CSS","Workflow","Design"],publishedAt:"2023-07-10T09:15:00Z",readingTime:"5 min"}],aze=e=>{const r=e.split(/\s+/).length;return Math.ceil(r/200)},oze=e=>e.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");let Gy=localStorage.getItem("blogPosts")?JSON.parse(localStorage.getItem("blogPosts")):sze.map(e=>({...e,readingTime:`${aze(e.content)} min`,author:e.author||{name:"MaxiMarket Admin",avatar:"maximarket-admin-avatar"},slug:e.slug||oze(e.title),id:e.id||mpe(),publishedAt:e.publishedAt||new Date().toISOString()}));const lze=()=>[...Gy].sort((e,t)=>new Date(t.publishedAt)-new Date(e.publishedAt)),cze=e=>Gy.find(t=>t.id===e||t.slug===e),uze=e=>e?Gy.filter(t=>t.id!==e.id&&(t.category===e.category||t.tags&&e.tags&&t.tags.some(r=>e.tags.includes(r)))).sort((t,r)=>new Date(r.publishedAt)-new Date(t.publishedAt)).slice(0,3):[],dze=()=>[...new Set(Gy.map(e=>e.category).filter(Boolean))],fze=()=>{const e=Gy.flatMap(t=>t.tags||[]);return[...new Set(e.filter(Boolean))]},hze=()=>{const[e,t]=x.useState(""),[r,n]=x.useState(""),[i,s]=x.useState(""),[o,l]=x.useState([]),[c,u]=x.useState([]),[f,p]=x.useState([]),[g,v]=x.useState([]);x.useEffect(()=>{const S=lze();l(S),u(S),p(dze()),v(fze())},[]),x.useEffect(()=>{let S=[...o];if(e){const N=e.toLowerCase();S=S.filter(C=>C.title.toLowerCase().includes(N)||C.excerpt.toLowerCase().includes(N)||C.content.toLowerCase().includes(N))}r&&(S=S.filter(N=>N.category===r)),i&&(S=S.filter(N=>N.tags.includes(i))),u(S)},[e,r,i,o]);const b=S=>{n(N=>N===S?"":S)},y=S=>{s(N=>N===S?"":S)},_=()=>{t(""),n(""),s("")};return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Re.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Mon ",a.jsx("span",{className:"gradient-text",children:"Blog"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Découvrez mes articles sur le développement web, les technologies et les bonnes pratiques."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(Jn,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(tt,{type:"text",placeholder:"Rechercher un article...",value:e,onChange:S=>t(S.target.value),className:"pl-10"})]}),(r||i||e)&&a.jsx(ue,{variant:"outline",onClick:_,children:"Effacer les filtres"})]}),a.jsxs("div",{className:"space-y-4",children:[f.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Fi,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Catégories"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((S,N)=>a.jsx(mt,{variant:r===S?"default":"outline",className:"cursor-pointer",onClick:()=>b(S),children:S},N))})]}),g.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Fi,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Tags"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((S,N)=>a.jsx(mt,{variant:i===S?"default":"outline",className:"cursor-pointer",onClick:()=>y(S),children:S},N))})]})]})]}),c.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((S,N)=>a.jsx(ize,{post:S,index:N,featured:N===0&&!e&&!r&&!i},S.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Aucun article ne correspond à votre recherche."})})]})},pze=()=>{const{id:e}=tO(),[t,r]=x.useState(null),[n,i]=x.useState([]),[s,o]=x.useState(!0),{toast:l}=Zr();if(x.useEffect(()=>{o(!0),setTimeout(()=>{const f=cze(e);if(f){r(f);const p=uze(f);i(p)}else l({title:"Article non trouvé",description:"L'article que vous recherchez n'existe pas.",variant:"destructive"});o(!1)},500)},[e,l]),s)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'article..."})]})});if(!t)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Article non trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"L'article que vous recherchez n'existe pas ou a été supprimé."}),a.jsx(ue,{asChild:!0,children:a.jsxs(ar,{to:"/blog",children:[a.jsx(Zh,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})})]})});const c=new Date(t.publishedAt),u=Er(c,"d MMMM yyyy",{locale:Qp});return a.jsx(Re.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ue,{asChild:!0,variant:"outline",className:"mb-8",children:a.jsxs(ar,{to:"/blog",children:[a.jsx(Zh,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:t.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[t.author&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(es,{className:"h-4 w-4 mr-1"}),t.author.name]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ul,{className:"h-4 w-4 mr-1"}),u]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(la,{className:"h-4 w-4 mr-1"}),t.readingTime]}),t.category&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Zd,{className:"h-4 w-4 mr-1"}),t.category]})]}),t.coverImage&&a.jsx("div",{className:"relative aspect-[21/9] rounded-lg overflow-hidden mb-8",children:a.jsx("img",{className:"w-full h-full object-cover",alt:`Image de couverture pour l'article ${t.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),t.tags&&t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:t.tags.map((f,p)=>a.jsx(mt,{variant:"secondary",children:f},p))}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"whitespace-pre-line",children:t.content})})]}),n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(mv,{className:"my-12"}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Articles similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(f=>a.jsx(ar,{to:`/blog/${f.slug||f.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[f.coverImage&&a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${f.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:f.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:f.excerpt})]})]})},f.id))})]})]})]})})};function mze(){return Q.useEffect(()=>{QO.register()},[]),a.jsxs(jV,{client:Tde,children:[a.jsx(wme,{children:a.jsxs(Nme,{children:[a.jsxs(Bue,{children:[a.jsx(Sme,{}),a.jsx(li,{mode:"wait",children:a.jsx(xne,{children:a.jsxs(zt,{path:"/",element:a.jsx(Ame,{}),children:[a.jsx(zt,{index:!0,element:a.jsx(W2e,{})}),a.jsx(zt,{path:"connexion",element:a.jsx(oye,{})}),a.jsx(zt,{path:"inscription",element:a.jsx(cye,{})}),a.jsx(zt,{path:"auth/callback",element:a.jsx(ACe,{})}),a.jsx(zt,{path:"mot-de-passe-oublie",element:a.jsx(uye,{})}),a.jsx(zt,{path:"reinitialiser-mot-de-passe",element:a.jsx(dye,{})}),a.jsx(zt,{path:"profile",element:a.jsx(kCe,{})}),a.jsx(zt,{path:"messages",element:a.jsx(ad,{children:a.jsx(f2e,{})})}),a.jsx(zt,{path:"immobilier",element:a.jsx(H2e,{})}),a.jsx(zt,{path:"automobile",element:a.jsx(K2e,{})}),a.jsx(zt,{path:"services",element:a.jsx(G2e,{})}),a.jsx(zt,{path:"marketplace",element:a.jsx(Z2e,{})}),a.jsx(zt,{path:"premium",element:a.jsx(Y2e,{})}),a.jsx(zt,{path:"creer-annonce",element:a.jsx(ad,{children:a.jsx(U0,{})})}),a.jsx(zt,{path:"creer-annonce/:category",element:a.jsx(ad,{children:a.jsx(U0,{})})}),a.jsx(zt,{path:"create-listing",element:a.jsx(ad,{children:a.jsx(U0,{})})}),a.jsx(zt,{path:"annonce/:id",element:a.jsx(sPe,{})}),a.jsx(zt,{path:"annonce/:id/modifier",element:a.jsx(ad,{children:a.jsx(U0,{})})}),a.jsx(zt,{path:"favorites",element:a.jsx(ad,{children:a.jsx(oPe,{})})}),a.jsxs(zt,{path:"admin",element:a.jsx(Ave,{}),children:[a.jsx(zt,{index:!0,element:a.jsx(kc,{children:a.jsx(lPe,{})})}),a.jsx(zt,{path:"users",element:a.jsx(kc,{children:a.jsx($Pe,{})})}),a.jsx(zt,{path:"listings",element:a.jsx(kc,{children:a.jsx(FPe,{})})}),a.jsx(zt,{path:"transactions",element:a.jsx(kc,{children:a.jsx(BPe,{})})}),a.jsx(zt,{path:"analytics",element:a.jsx(kc,{children:a.jsx(z8e,{})})}),a.jsx(zt,{path:"moderation",element:a.jsx(kc,{children:a.jsx(W8e,{})})}),a.jsx(zt,{path:"categories",element:a.jsx(kc,{children:a.jsx(H8e,{})})}),a.jsx(zt,{path:"settings",element:a.jsx(kc,{children:a.jsx(K8e,{})})})]}),a.jsx(zt,{path:"a-propos",element:a.jsx(Z8e,{})}),a.jsx(zt,{path:"contact",element:a.jsx(X8e,{})}),a.jsx(zt,{path:"carrieres",element:a.jsx(J8e,{})}),a.jsx(zt,{path:"presse",element:a.jsx(Q8e,{})}),a.jsx(zt,{path:"aide",element:a.jsx(eze,{})}),a.jsx(zt,{path:"faq",element:a.jsx(tze,{})}),a.jsx(zt,{path:"politique-confidentialite",element:a.jsx(rze,{})}),a.jsx(zt,{path:"conditions-utilisation",element:a.jsx(nze,{})}),a.jsx(zt,{path:"blog",element:a.jsx(hze,{})}),a.jsx(zt,{path:"blog/:id",element:a.jsx(pze,{})}),a.jsx(zt,{path:"*",element:a.jsx(G8e,{})})]})})})]}),a.jsx(EV,{}),a.jsx(Pme,{}),a.jsx(Fpe,{}),a.jsx(yme,{})]})}),!1]})}class gze extends Q.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,r){console.error("Erreur non interceptée:",t,r)}render(){return this.state.hasError?a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",color:"#e2e8f0",padding:24,textAlign:"center"},children:a.jsxs("div",{style:{maxWidth:720},children:[a.jsx("h1",{style:{marginBottom:12},children:"Une erreur est survenue"}),a.jsx("p",{style:{opacity:.9},children:"Une erreur inattendue a été détectée."}),a.jsx("pre",{style:{textAlign:"left",background:"#111827",padding:12,borderRadius:8,overflow:"auto",marginTop:16},children:String(this.state.error)}),!1]})}):this.props.children}}Pre.createRoot(document.getElementById("root")).render(a.jsx(Q.StrictMode,{children:a.jsx(gze,{children:a.jsx(Pne,{children:a.jsx(mze,{})})})}));
