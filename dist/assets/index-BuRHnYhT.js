function _ne(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Os=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function FV(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var _S={exports:{}},sg={},jS={exports:{}},Kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RD;function jne(){if(RD)return Kt;RD=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;function g(Y){return Y===null||typeof Y!="object"?null:(Y=h&&Y[h]||Y["@@iterator"],typeof Y=="function"?Y:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function _(Y,oe,xe){this.props=Y,this.context=oe,this.refs=x,this.updater=xe||v}_.prototype.isReactComponent={},_.prototype.setState=function(Y,oe){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,oe,"setState")},_.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function S(){}S.prototype=_.prototype;function N(Y,oe,xe){this.props=Y,this.context=oe,this.refs=x,this.updater=xe||v}var C=N.prototype=new S;C.constructor=N,y(C,_.prototype),C.isPureReactComponent=!0;var A=Array.isArray,k=Object.prototype.hasOwnProperty,P={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(Y,oe,xe){var Ne,Le={},ce=null,ae=null;if(oe!=null)for(Ne in oe.ref!==void 0&&(ae=oe.ref),oe.key!==void 0&&(ce=""+oe.key),oe)k.call(oe,Ne)&&!O.hasOwnProperty(Ne)&&(Le[Ne]=oe[Ne]);var ge=arguments.length-2;if(ge===1)Le.children=xe;else if(1<ge){for(var he=Array(ge),Pe=0;Pe<ge;Pe++)he[Pe]=arguments[Pe+2];Le.children=he}if(Y&&Y.defaultProps)for(Ne in ge=Y.defaultProps,ge)Le[Ne]===void 0&&(Le[Ne]=ge[Ne]);return{$$typeof:t,type:Y,key:ce,ref:ae,props:Le,_owner:P.current}}function F(Y,oe){return{$$typeof:t,type:Y.type,key:oe,ref:Y.ref,props:Y.props,_owner:Y._owner}}function H(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===t}function V(Y){var oe={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(xe){return oe[xe]})}var U=/\/+/g;function z(Y,oe){return typeof Y=="object"&&Y!==null&&Y.key!=null?V(""+Y.key):oe.toString(36)}function W(Y,oe,xe,Ne,Le){var ce=typeof Y;(ce==="undefined"||ce==="boolean")&&(Y=null);var ae=!1;if(Y===null)ae=!0;else switch(ce){case"string":case"number":ae=!0;break;case"object":switch(Y.$$typeof){case t:case e:ae=!0}}if(ae)return ae=Y,Le=Le(ae),Y=Ne===""?"."+z(ae,0):Ne,A(Le)?(xe="",Y!=null&&(xe=Y.replace(U,"$&/")+"/"),W(Le,oe,xe,"",function(Pe){return Pe})):Le!=null&&(H(Le)&&(Le=F(Le,xe+(!Le.key||ae&&ae.key===Le.key?"":(""+Le.key).replace(U,"$&/")+"/")+Y)),oe.push(Le)),1;if(ae=0,Ne=Ne===""?".":Ne+":",A(Y))for(var ge=0;ge<Y.length;ge++){ce=Y[ge];var he=Ne+z(ce,ge);ae+=W(ce,oe,xe,he,Le)}else if(he=g(Y),typeof he=="function")for(Y=he.call(Y),ge=0;!(ce=Y.next()).done;)ce=ce.value,he=Ne+z(ce,ge++),ae+=W(ce,oe,xe,he,Le);else if(ce==="object")throw oe=String(Y),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.");return ae}function J(Y,oe,xe){if(Y==null)return Y;var Ne=[],Le=0;return W(Y,Ne,"","",function(ce){return oe.call(xe,ce,Le++)}),Ne}function se(Y){if(Y._status===-1){var oe=Y._result;oe=oe(),oe.then(function(xe){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=xe)},function(xe){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=xe)}),Y._status===-1&&(Y._status=0,Y._result=oe)}if(Y._status===1)return Y._result.default;throw Y._result}var K={current:null},ee={transition:null},G={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:ee,ReactCurrentOwner:P};function ne(){throw Error("act(...) is not supported in production builds of React.")}return Kt.Children={map:J,forEach:function(Y,oe,xe){J(Y,function(){oe.apply(this,arguments)},xe)},count:function(Y){var oe=0;return J(Y,function(){oe++}),oe},toArray:function(Y){return J(Y,function(oe){return oe})||[]},only:function(Y){if(!H(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Kt.Component=_,Kt.Fragment=r,Kt.Profiler=i,Kt.PureComponent=N,Kt.StrictMode=n,Kt.Suspense=c,Kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G,Kt.act=ne,Kt.cloneElement=function(Y,oe,xe){if(Y==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+Y+".");var Ne=y({},Y.props),Le=Y.key,ce=Y.ref,ae=Y._owner;if(oe!=null){if(oe.ref!==void 0&&(ce=oe.ref,ae=P.current),oe.key!==void 0&&(Le=""+oe.key),Y.type&&Y.type.defaultProps)var ge=Y.type.defaultProps;for(he in oe)k.call(oe,he)&&!O.hasOwnProperty(he)&&(Ne[he]=oe[he]===void 0&&ge!==void 0?ge[he]:oe[he])}var he=arguments.length-2;if(he===1)Ne.children=xe;else if(1<he){ge=Array(he);for(var Pe=0;Pe<he;Pe++)ge[Pe]=arguments[Pe+2];Ne.children=ge}return{$$typeof:t,type:Y.type,key:Le,ref:ce,props:Ne,_owner:ae}},Kt.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},Y.Provider={$$typeof:s,_context:Y},Y.Consumer=Y},Kt.createElement=I,Kt.createFactory=function(Y){var oe=I.bind(null,Y);return oe.type=Y,oe},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(Y){return{$$typeof:l,render:Y}},Kt.isValidElement=H,Kt.lazy=function(Y){return{$$typeof:d,_payload:{_status:-1,_result:Y},_init:se}},Kt.memo=function(Y,oe){return{$$typeof:u,type:Y,compare:oe===void 0?null:oe}},Kt.startTransition=function(Y){var oe=ee.transition;ee.transition={};try{Y()}finally{ee.transition=oe}},Kt.unstable_act=ne,Kt.useCallback=function(Y,oe){return K.current.useCallback(Y,oe)},Kt.useContext=function(Y){return K.current.useContext(Y)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(Y){return K.current.useDeferredValue(Y)},Kt.useEffect=function(Y,oe){return K.current.useEffect(Y,oe)},Kt.useId=function(){return K.current.useId()},Kt.useImperativeHandle=function(Y,oe,xe){return K.current.useImperativeHandle(Y,oe,xe)},Kt.useInsertionEffect=function(Y,oe){return K.current.useInsertionEffect(Y,oe)},Kt.useLayoutEffect=function(Y,oe){return K.current.useLayoutEffect(Y,oe)},Kt.useMemo=function(Y,oe){return K.current.useMemo(Y,oe)},Kt.useReducer=function(Y,oe,xe){return K.current.useReducer(Y,oe,xe)},Kt.useRef=function(Y){return K.current.useRef(Y)},Kt.useState=function(Y){return K.current.useState(Y)},Kt.useSyncExternalStore=function(Y,oe,xe){return K.current.useSyncExternalStore(Y,oe,xe)},Kt.useTransition=function(){return K.current.useTransition()},Kt.version="18.3.1",Kt}var MD;function j_(){return MD||(MD=1,jS.exports=jne()),jS.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ID;function Sne(){if(ID)return sg;ID=1;var t=j_(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,h={},g=null,v=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(d in c)n.call(c,d)&&!s.hasOwnProperty(d)&&(h[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)h[d]===void 0&&(h[d]=c[d]);return{$$typeof:e,type:l,key:g,ref:v,props:h,_owner:i.current}}return sg.Fragment=r,sg.jsx=o,sg.jsxs=o,sg}var LD;function Nne(){return LD||(LD=1,_S.exports=Sne()),_S.exports}var a=Nne(),b=j_();const Q=pr(b),du=_ne({__proto__:null,default:Q},[b]);var b0={},SS={exports:{}},Yi={},NS={exports:{}},CS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DD;function Cne(){return DD||(DD=1,function(t){function e(ee,G){var ne=ee.length;ee.push(G);e:for(;0<ne;){var Y=ne-1>>>1,oe=ee[Y];if(0<i(oe,G))ee[Y]=G,ee[ne]=oe,ne=Y;else break e}}function r(ee){return ee.length===0?null:ee[0]}function n(ee){if(ee.length===0)return null;var G=ee[0],ne=ee.pop();if(ne!==G){ee[0]=ne;e:for(var Y=0,oe=ee.length,xe=oe>>>1;Y<xe;){var Ne=2*(Y+1)-1,Le=ee[Ne],ce=Ne+1,ae=ee[ce];if(0>i(Le,ne))ce<oe&&0>i(ae,Le)?(ee[Y]=ae,ee[ce]=ne,Y=ce):(ee[Y]=Le,ee[Ne]=ne,Y=Ne);else if(ce<oe&&0>i(ae,ne))ee[Y]=ae,ee[ce]=ne,Y=ce;else break e}}return G}function i(ee,G){var ne=ee.sortIndex-G.sortIndex;return ne!==0?ne:ee.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,g=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(ee){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=ee)n(u),G.sortIndex=G.expirationTime,e(c,G);else break;G=r(u)}}function A(ee){if(x=!1,C(ee),!y)if(r(c)!==null)y=!0,se(k);else{var G=r(u);G!==null&&K(A,G.startTime-ee)}}function k(ee,G){y=!1,x&&(x=!1,S(I),I=-1),v=!0;var ne=g;try{for(C(G),h=r(c);h!==null&&(!(h.expirationTime>G)||ee&&!V());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,g=h.priorityLevel;var oe=Y(h.expirationTime<=G);G=t.unstable_now(),typeof oe=="function"?h.callback=oe:h===r(c)&&n(c),C(G)}else n(c);h=r(c)}if(h!==null)var xe=!0;else{var Ne=r(u);Ne!==null&&K(A,Ne.startTime-G),xe=!1}return xe}finally{h=null,g=ne,v=!1}}var P=!1,O=null,I=-1,F=5,H=-1;function V(){return!(t.unstable_now()-H<F)}function U(){if(O!==null){var ee=t.unstable_now();H=ee;var G=!0;try{G=O(!0,ee)}finally{G?z():(P=!1,O=null)}}else P=!1}var z;if(typeof N=="function")z=function(){N(U)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,J=W.port2;W.port1.onmessage=U,z=function(){J.postMessage(null)}}else z=function(){_(U,0)};function se(ee){O=ee,P||(P=!0,z())}function K(ee,G){I=_(function(){ee(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ee){ee.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,se(k))},t.unstable_forceFrameRate=function(ee){0>ee||125<ee?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ee?Math.floor(1e3/ee):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(ee){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var ne=g;g=G;try{return ee()}finally{g=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ee,G){switch(ee){case 1:case 2:case 3:case 4:case 5:break;default:ee=3}var ne=g;g=ee;try{return G()}finally{g=ne}},t.unstable_scheduleCallback=function(ee,G,ne){var Y=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Y+ne:Y):ne=Y,ee){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=ne+oe,ee={id:d++,callback:G,priorityLevel:ee,startTime:ne,expirationTime:oe,sortIndex:-1},ne>Y?(ee.sortIndex=ne,e(u,ee),r(c)===null&&ee===r(u)&&(x?(S(I),I=-1):x=!0,K(A,ne-Y))):(ee.sortIndex=oe,e(c,ee),y||v||(y=!0,se(k))),ee},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(ee){var G=g;return function(){var ne=g;g=G;try{return ee.apply(this,arguments)}finally{g=ne}}}}(CS)),CS}var $D;function Ene(){return $D||($D=1,NS.exports=Cne()),NS.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FD;function Pne(){if(FD)return Yi;FD=1;var t=j_(),e=Ene();function r(f){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+f,j=1;j<arguments.length;j++)m+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(f,m){o(f,m),o(f+"Capture",m)}function o(f,m){for(i[f]=m,f=0;f<m.length;f++)n.add(m[f])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},h={};function g(f){return c.call(h,f)?!0:c.call(d,f)?!1:u.test(f)?h[f]=!0:(d[f]=!0,!1)}function v(f,m,j,T){if(j!==null&&j.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return T?!1:j!==null?!j.acceptsBooleans:(f=f.toLowerCase().slice(0,5),f!=="data-"&&f!=="aria-");default:return!1}}function y(f,m,j,T){if(m===null||typeof m>"u"||v(f,m,j,T))return!0;if(T)return!1;if(j!==null)switch(j.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function x(f,m,j,T,M,$,re){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=T,this.attributeNamespace=M,this.mustUseProperty=j,this.propertyName=f,this.type=m,this.sanitizeURL=$,this.removeEmptyString=re}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(f){_[f]=new x(f,0,!1,f,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(f){var m=f[0];_[m]=new x(m,1,!1,f[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(f){_[f]=new x(f,2,!1,f.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(f){_[f]=new x(f,2,!1,f,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(f){_[f]=new x(f,3,!1,f.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(f){_[f]=new x(f,3,!0,f,null,!1,!1)}),["capture","download"].forEach(function(f){_[f]=new x(f,4,!1,f,null,!1,!1)}),["cols","rows","size","span"].forEach(function(f){_[f]=new x(f,6,!1,f,null,!1,!1)}),["rowSpan","start"].forEach(function(f){_[f]=new x(f,5,!1,f.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function N(f){return f[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(f){var m=f.replace(S,N);_[m]=new x(m,1,!1,f,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(f){var m=f.replace(S,N);_[m]=new x(m,1,!1,f,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(f){var m=f.replace(S,N);_[m]=new x(m,1,!1,f,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(f){_[f]=new x(f,1,!1,f.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(f){_[f]=new x(f,1,!1,f.toLowerCase(),null,!0,!0)});function C(f,m,j,T){var M=_.hasOwnProperty(m)?_[m]:null;(M!==null?M.type!==0:T||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(y(m,j,M,T)&&(j=null),T||M===null?g(m)&&(j===null?f.removeAttribute(m):f.setAttribute(m,""+j)):M.mustUseProperty?f[M.propertyName]=j===null?M.type===3?!1:"":j:(m=M.attributeName,T=M.attributeNamespace,j===null?f.removeAttribute(m):(M=M.type,j=M===3||M===4&&j===!0?"":""+j,T?f.setAttributeNS(T,m,j):f.setAttribute(m,j))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),P=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),F=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),V=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),ee=Symbol.iterator;function G(f){return f===null||typeof f!="object"?null:(f=ee&&f[ee]||f["@@iterator"],typeof f=="function"?f:null)}var ne=Object.assign,Y;function oe(f){if(Y===void 0)try{throw Error()}catch(j){var m=j.stack.trim().match(/\n( *(at )?)/);Y=m&&m[1]||""}return`
`+Y+f}var xe=!1;function Ne(f,m){if(!f||xe)return"";xe=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ie){var T=Ie}Reflect.construct(f,[],m)}else{try{m.call()}catch(Ie){T=Ie}f.call(m.prototype)}else{try{throw Error()}catch(Ie){T=Ie}f()}}catch(Ie){if(Ie&&T&&typeof Ie.stack=="string"){for(var M=Ie.stack.split(`
`),$=T.stack.split(`
`),re=M.length-1,de=$.length-1;1<=re&&0<=de&&M[re]!==$[de];)de--;for(;1<=re&&0<=de;re--,de--)if(M[re]!==$[de]){if(re!==1||de!==1)do if(re--,de--,0>de||M[re]!==$[de]){var ve=`
`+M[re].replace(" at new "," at ");return f.displayName&&ve.includes("<anonymous>")&&(ve=ve.replace("<anonymous>",f.displayName)),ve}while(1<=re&&0<=de);break}}}finally{xe=!1,Error.prepareStackTrace=j}return(f=f?f.displayName||f.name:"")?oe(f):""}function Le(f){switch(f.tag){case 5:return oe(f.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return f=Ne(f.type,!1),f;case 11:return f=Ne(f.type.render,!1),f;case 1:return f=Ne(f.type,!0),f;default:return""}}function ce(f){if(f==null)return null;if(typeof f=="function")return f.displayName||f.name||null;if(typeof f=="string")return f;switch(f){case O:return"Fragment";case P:return"Portal";case F:return"Profiler";case I:return"StrictMode";case z:return"Suspense";case W:return"SuspenseList"}if(typeof f=="object")switch(f.$$typeof){case V:return(f.displayName||"Context")+".Consumer";case H:return(f._context.displayName||"Context")+".Provider";case U:var m=f.render;return f=f.displayName,f||(f=m.displayName||m.name||"",f=f!==""?"ForwardRef("+f+")":"ForwardRef"),f;case J:return m=f.displayName||null,m!==null?m:ce(f.type)||"Memo";case se:m=f._payload,f=f._init;try{return ce(f(m))}catch{}}return null}function ae(f){var m=f.type;switch(f.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return f=m.render,f=f.displayName||f.name||"",m.displayName||(f!==""?"ForwardRef("+f+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function ge(f){switch(typeof f){case"boolean":case"number":case"string":case"undefined":return f;case"object":return f;default:return""}}function he(f){var m=f.type;return(f=f.nodeName)&&f.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Pe(f){var m=he(f)?"checked":"value",j=Object.getOwnPropertyDescriptor(f.constructor.prototype,m),T=""+f[m];if(!f.hasOwnProperty(m)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var M=j.get,$=j.set;return Object.defineProperty(f,m,{configurable:!0,get:function(){return M.call(this)},set:function(re){T=""+re,$.call(this,re)}}),Object.defineProperty(f,m,{enumerable:j.enumerable}),{getValue:function(){return T},setValue:function(re){T=""+re},stopTracking:function(){f._valueTracker=null,delete f[m]}}}}function te(f){f._valueTracker||(f._valueTracker=Pe(f))}function X(f){if(!f)return!1;var m=f._valueTracker;if(!m)return!0;var j=m.getValue(),T="";return f&&(T=he(f)?f.checked?"true":"false":f.value),f=T,f!==j?(m.setValue(f),!0):!1}function _e(f){if(f=f||(typeof document<"u"?document:void 0),typeof f>"u")return null;try{return f.activeElement||f.body}catch{return f.body}}function we(f,m){var j=m.checked;return ne({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??f._wrapperState.initialChecked})}function We(f,m){var j=m.defaultValue==null?"":m.defaultValue,T=m.checked!=null?m.checked:m.defaultChecked;j=ge(m.value!=null?m.value:j),f._wrapperState={initialChecked:T,initialValue:j,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Ue(f,m){m=m.checked,m!=null&&C(f,"checked",m,!1)}function Ce(f,m){Ue(f,m);var j=ge(m.value),T=m.type;if(j!=null)T==="number"?(j===0&&f.value===""||f.value!=j)&&(f.value=""+j):f.value!==""+j&&(f.value=""+j);else if(T==="submit"||T==="reset"){f.removeAttribute("value");return}m.hasOwnProperty("value")?Dt(f,m.type,j):m.hasOwnProperty("defaultValue")&&Dt(f,m.type,ge(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(f.defaultChecked=!!m.defaultChecked)}function ot(f,m,j){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var T=m.type;if(!(T!=="submit"&&T!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+f._wrapperState.initialValue,j||m===f.value||(f.value=m),f.defaultValue=m}j=f.name,j!==""&&(f.name=""),f.defaultChecked=!!f._wrapperState.initialChecked,j!==""&&(f.name=j)}function Dt(f,m,j){(m!=="number"||_e(f.ownerDocument)!==f)&&(j==null?f.defaultValue=""+f._wrapperState.initialValue:f.defaultValue!==""+j&&(f.defaultValue=""+j))}var fe=Array.isArray;function je(f,m,j,T){if(f=f.options,m){m={};for(var M=0;M<j.length;M++)m["$"+j[M]]=!0;for(j=0;j<f.length;j++)M=m.hasOwnProperty("$"+f[j].value),f[j].selected!==M&&(f[j].selected=M),M&&T&&(f[j].defaultSelected=!0)}else{for(j=""+ge(j),m=null,M=0;M<f.length;M++){if(f[M].value===j){f[M].selected=!0,T&&(f[M].defaultSelected=!0);return}m!==null||f[M].disabled||(m=f[M])}m!==null&&(m.selected=!0)}}function Ae(f,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return ne({},m,{value:void 0,defaultValue:void 0,children:""+f._wrapperState.initialValue})}function Ze(f,m){var j=m.value;if(j==null){if(j=m.children,m=m.defaultValue,j!=null){if(m!=null)throw Error(r(92));if(fe(j)){if(1<j.length)throw Error(r(93));j=j[0]}m=j}m==null&&(m=""),j=m}f._wrapperState={initialValue:ge(j)}}function Xe(f,m){var j=ge(m.value),T=ge(m.defaultValue);j!=null&&(j=""+j,j!==f.value&&(f.value=j),m.defaultValue==null&&f.defaultValue!==j&&(f.defaultValue=j)),T!=null&&(f.defaultValue=""+T)}function me(f){var m=f.textContent;m===f._wrapperState.initialValue&&m!==""&&m!==null&&(f.value=m)}function De(f){switch(f){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Z(f,m){return f==null||f==="http://www.w3.org/1999/xhtml"?De(m):f==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":f}var D,B=function(f){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,j,T,M){MSApp.execUnsafeLocalFunction(function(){return f(m,j,T,M)})}:f}(function(f,m){if(f.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in f)f.innerHTML=m;else{for(D=D||document.createElement("div"),D.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=D.firstChild;f.firstChild;)f.removeChild(f.firstChild);for(;m.firstChild;)f.appendChild(m.firstChild)}});function le(f,m){if(m){var j=f.firstChild;if(j&&j===f.lastChild&&j.nodeType===3){j.nodeValue=m;return}}f.textContent=m}var ye={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Re=["Webkit","ms","Moz","O"];Object.keys(ye).forEach(function(f){Re.forEach(function(m){m=m+f.charAt(0).toUpperCase()+f.substring(1),ye[m]=ye[f]})});function $e(f,m,j){return m==null||typeof m=="boolean"||m===""?"":j||typeof m!="number"||m===0||ye.hasOwnProperty(f)&&ye[f]?(""+m).trim():m+"px"}function yt(f,m){f=f.style;for(var j in m)if(m.hasOwnProperty(j)){var T=j.indexOf("--")===0,M=$e(j,m[j],T);j==="float"&&(j="cssFloat"),T?f.setProperty(j,M):f[j]=M}}var lr=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ut(f,m){if(m){if(lr[f]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,f));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function Xt(f,m){if(f.indexOf("-")===-1)return typeof m.is=="string";switch(f){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ht=null;function ec(f){return f=f.target||f.srcElement||window,f.correspondingUseElement&&(f=f.correspondingUseElement),f.nodeType===3?f.parentNode:f}var Ho=null,va=null,us=null;function ds(f){if(f=il(f)){if(typeof Ho!="function")throw Error(r(280));var m=f.stateNode;m&&(m=zf(m),Ho(f.stateNode,f.type,m))}}function mf(f){va?us?us.push(f):us=[f]:va=f}function Nt(){if(va){var f=va,m=us;if(us=va=null,ds(f),m)for(f=0;f<m.length;f++)ds(m[f])}}function rr(f,m){return f(m)}function wr(){}var ri=!1;function Un(f,m,j){if(ri)return f(m,j);ri=!0;try{return rr(f,m,j)}finally{ri=!1,(va!==null||us!==null)&&(wr(),Nt())}}function di(f,m){var j=f.stateNode;if(j===null)return null;var T=zf(j);if(T===null)return null;j=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(f=f.type,T=!(f==="button"||f==="input"||f==="select"||f==="textarea")),f=!T;break e;default:f=!1}if(f)return null;if(j&&typeof j!="function")throw Error(r(231,m,typeof j));return j}var fs=!1;if(l)try{var An={};Object.defineProperty(An,"passive",{get:function(){fs=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{fs=!1}function Bs(f,m,j,T,M,$,re,de,ve){var Ie=Array.prototype.slice.call(arguments,3);try{m.apply(j,Ie)}catch(Ke){this.onError(Ke)}}var fi=!1,mt=null,Ou=!1,gf=null,ox={onError:function(f){fi=!0,mt=f}};function lx(f,m,j,T,M,$,re,de,ve){fi=!1,mt=null,Bs.apply(ox,arguments)}function gm(f,m,j,T,M,$,re,de,ve){if(lx.apply(this,arguments),fi){if(fi){var Ie=mt;fi=!1,mt=null}else throw Error(r(198));Ou||(Ou=!0,gf=Ie)}}function no(f){var m=f,j=f;if(f.alternate)for(;m.return;)m=m.return;else{f=m;do m=f,(m.flags&4098)!==0&&(j=m.return),f=m.return;while(f)}return m.tag===3?j:null}function Ko(f){if(f.tag===13){var m=f.memoizedState;if(m===null&&(f=f.alternate,f!==null&&(m=f.memoizedState)),m!==null)return m.dehydrated}return null}function vm(f){if(no(f)!==f)throw Error(r(188))}function ej(f){var m=f.alternate;if(!m){if(m=no(f),m===null)throw Error(r(188));return m!==f?null:f}for(var j=f,T=m;;){var M=j.return;if(M===null)break;var $=M.alternate;if($===null){if(T=M.return,T!==null){j=T;continue}break}if(M.child===$.child){for($=M.child;$;){if($===j)return vm(M),f;if($===T)return vm(M),m;$=$.sibling}throw Error(r(188))}if(j.return!==T.return)j=M,T=$;else{for(var re=!1,de=M.child;de;){if(de===j){re=!0,j=M,T=$;break}if(de===T){re=!0,T=M,j=$;break}de=de.sibling}if(!re){for(de=$.child;de;){if(de===j){re=!0,j=$,T=M;break}if(de===T){re=!0,T=$,j=M;break}de=de.sibling}if(!re)throw Error(r(189))}}if(j.alternate!==T)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?f:m}function cx(f){return f=ej(f),f!==null?ux(f):null}function ux(f){if(f.tag===5||f.tag===6)return f;for(f=f.child;f!==null;){var m=ux(f);if(m!==null)return m;f=f.sibling}return null}var dx=e.unstable_scheduleCallback,ym=e.unstable_cancelCallback,tj=e.unstable_shouldYield,vf=e.unstable_requestPaint,en=e.unstable_now,rj=e.unstable_getCurrentPriorityLevel,xm=e.unstable_ImmediatePriority,fx=e.unstable_UserBlockingPriority,yf=e.unstable_NormalPriority,bm=e.unstable_LowPriority,tc=e.unstable_IdlePriority,Ru=null,hs=null;function Mu(f){if(hs&&typeof hs.onCommitFiberRoot=="function")try{hs.onCommitFiberRoot(Ru,f,void 0,(f.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:rc,Vr=Math.log,xf=Math.LN2;function rc(f){return f>>>=0,f===0?32:31-(Vr(f)/xf|0)|0}var ya=64,nc=4194304;function Pt(f){switch(f&-f){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return f&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return f}}function $r(f,m){var j=f.pendingLanes;if(j===0)return 0;var T=0,M=f.suspendedLanes,$=f.pingedLanes,re=j&268435455;if(re!==0){var de=re&~M;de!==0?T=Pt(de):($&=re,$!==0&&(T=Pt($)))}else re=j&~M,re!==0?T=Pt(re):$!==0&&(T=Pt($));if(T===0)return 0;if(m!==0&&m!==T&&(m&M)===0&&(M=T&-T,$=m&-m,M>=$||M===16&&($&4194240)!==0))return m;if((T&4)!==0&&(T|=j&16),m=f.entangledLanes,m!==0)for(f=f.entanglements,m&=T;0<m;)j=31-Ot(m),M=1<<j,T|=f[j],m&=~M;return T}function wm(f,m){switch(f){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bf(f,m){for(var j=f.suspendedLanes,T=f.pingedLanes,M=f.expirationTimes,$=f.pendingLanes;0<$;){var re=31-Ot($),de=1<<re,ve=M[re];ve===-1?((de&j)===0||(de&T)!==0)&&(M[re]=wm(de,m)):ve<=m&&(f.expiredLanes|=de),$&=~de}}function hi(f){return f=f.pendingLanes&-1073741825,f!==0?f:f&1073741824?1073741824:0}function hx(){var f=ya;return ya<<=1,(ya&4194240)===0&&(ya=64),f}function ic(f){for(var m=[],j=0;31>j;j++)m.push(f);return m}function ps(f,m,j){f.pendingLanes|=m,m!==536870912&&(f.suspendedLanes=0,f.pingedLanes=0),f=f.eventTimes,m=31-Ot(m),f[m]=j}function ln(f,m){var j=f.pendingLanes&~m;f.pendingLanes=m,f.suspendedLanes=0,f.pingedLanes=0,f.expiredLanes&=m,f.mutableReadLanes&=m,f.entangledLanes&=m,m=f.entanglements;var T=f.eventTimes;for(f=f.expirationTimes;0<j;){var M=31-Ot(j),$=1<<M;m[M]=0,T[M]=-1,f[M]=-1,j&=~$}}function xa(f,m){var j=f.entangledLanes|=m;for(f=f.entanglements;j;){var T=31-Ot(j),M=1<<T;M&m|f[T]&m&&(f[T]|=m),j&=~M}}var Jt=0;function sc(f){return f&=-f,1<f?4<f?(f&268435455)!==0?16:536870912:4:1}var wf,Go,_f,jf,Iu,Lu=!1,ac=[],ms=null,ba=null,zs=null,Du=new Map,Ct=new Map,On=[],Nr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _m(f,m){switch(f){case"focusin":case"focusout":ms=null;break;case"dragenter":case"dragleave":ba=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":Du.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ct.delete(m.pointerId)}}function Zo(f,m,j,T,M,$){return f===null||f.nativeEvent!==$?(f={blockedOn:m,domEventName:j,eventSystemFlags:T,nativeEvent:$,targetContainers:[M]},m!==null&&(m=il(m),m!==null&&Go(m)),f):(f.eventSystemFlags|=T,m=f.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),f)}function jm(f,m,j,T,M){switch(m){case"focusin":return ms=Zo(ms,f,m,j,T,M),!0;case"dragenter":return ba=Zo(ba,f,m,j,T,M),!0;case"mouseover":return zs=Zo(zs,f,m,j,T,M),!0;case"pointerover":var $=M.pointerId;return Du.set($,Zo(Du.get($)||null,f,m,j,T,M)),!0;case"gotpointercapture":return $=M.pointerId,Ct.set($,Zo(Ct.get($)||null,f,m,j,T,M)),!0}return!1}function Sf(f){var m=nl(f.target);if(m!==null){var j=no(m);if(j!==null){if(m=j.tag,m===13){if(m=Ko(j),m!==null){f.blockedOn=m,Iu(f.priority,function(){_f(j)});return}}else if(m===3&&j.stateNode.current.memoizedState.isDehydrated){f.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}f.blockedOn=null}function qs(f){if(f.blockedOn!==null)return!1;for(var m=f.targetContainers;0<m.length;){var j=Ef(f.domEventName,f.eventSystemFlags,m[0],f.nativeEvent);if(j===null){j=f.nativeEvent;var T=new j.constructor(j.type,j);Ht=T,j.target.dispatchEvent(T),Ht=null}else return m=il(j),m!==null&&Go(m),f.blockedOn=j,!1;m.shift()}return!0}function Nf(f,m,j){qs(f)&&j.delete(m)}function $u(){Lu=!1,ms!==null&&qs(ms)&&(ms=null),ba!==null&&qs(ba)&&(ba=null),zs!==null&&qs(zs)&&(zs=null),Du.forEach(Nf),Ct.forEach(Nf)}function tn(f,m){f.blockedOn===m&&(f.blockedOn=null,Lu||(Lu=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$u)))}function gs(f){function m(M){return tn(M,f)}if(0<ac.length){tn(ac[0],f);for(var j=1;j<ac.length;j++){var T=ac[j];T.blockedOn===f&&(T.blockedOn=null)}}for(ms!==null&&tn(ms,f),ba!==null&&tn(ba,f),zs!==null&&tn(zs,f),Du.forEach(m),Ct.forEach(m),j=0;j<On.length;j++)T=On[j],T.blockedOn===f&&(T.blockedOn=null);for(;0<On.length&&(j=On[0],j.blockedOn===null);)Sf(j),j.blockedOn===null&&On.shift()}var Yo=A.ReactCurrentBatchConfig,Fu=!0;function nj(f,m,j,T){var M=Jt,$=Yo.transition;Yo.transition=null;try{Jt=1,Bu(f,m,j,T)}finally{Jt=M,Yo.transition=$}}function px(f,m,j,T){var M=Jt,$=Yo.transition;Yo.transition=null;try{Jt=4,Bu(f,m,j,T)}finally{Jt=M,Yo.transition=$}}function Bu(f,m,j,T){if(Fu){var M=Ef(f,m,j,T);if(M===null)p(f,m,T,Cf,j),_m(f,T);else if(jm(M,f,m,j,T))T.stopPropagation();else if(_m(f,T),m&4&&-1<Nr.indexOf(f)){for(;M!==null;){var $=il(M);if($!==null&&wf($),$=Ef(f,m,j,T),$===null&&p(f,m,T,Cf,j),$===M)break;M=$}M!==null&&T.stopPropagation()}else p(f,m,T,null,j)}}var Cf=null;function Ef(f,m,j,T){if(Cf=null,f=ec(T),f=nl(f),f!==null)if(m=no(f),m===null)f=null;else if(j=m.tag,j===13){if(f=Ko(m),f!==null)return f;f=null}else if(j===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;f=null}else m!==f&&(f=null);return Cf=f,null}function Zt(f){switch(f){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rj()){case xm:return 1;case fx:return 4;case yf:case bm:return 16;case tc:return 536870912;default:return 16}default:return 16}}var io=null,ki=null,so=null;function Sm(){if(so)return so;var f,m=ki,j=m.length,T,M="value"in io?io.value:io.textContent,$=M.length;for(f=0;f<j&&m[f]===M[f];f++);var re=j-f;for(T=1;T<=re&&m[j-T]===M[$-T];T++);return so=M.slice(f,1<T?1-T:void 0)}function Pf(f){var m=f.keyCode;return"charCode"in f?(f=f.charCode,f===0&&m===13&&(f=13)):f=m,f===10&&(f=13),32<=f||f===13?f:0}function oc(){return!0}function mx(){return!1}function pi(f){function m(j,T,M,$,re){this._reactName=j,this._targetInst=M,this.type=T,this.nativeEvent=$,this.target=re,this.currentTarget=null;for(var de in f)f.hasOwnProperty(de)&&(j=f[de],this[de]=j?j($):$[de]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?oc:mx,this.isPropagationStopped=mx,this}return ne(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=oc)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=oc)},persist:function(){},isPersistent:oc}),m}var lc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(f){return f.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nm=pi(lc),Xo=ne({},lc,{view:0,detail:0}),ij=pi(Xo),Ui,Cm,cc,vs=ne({},Xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qo,button:0,buttons:0,relatedTarget:function(f){return f.relatedTarget===void 0?f.fromElement===f.srcElement?f.toElement:f.fromElement:f.relatedTarget},movementX:function(f){return"movementX"in f?f.movementX:(f!==cc&&(cc&&f.type==="mousemove"?(Ui=f.screenX-cc.screenX,Cm=f.screenY-cc.screenY):Cm=Ui=0,cc=f),Ui)},movementY:function(f){return"movementY"in f?f.movementY:Cm}}),Em=pi(vs),gx=ne({},vs,{dataTransfer:0}),Pm=pi(gx),sj=ne({},Xo,{relatedTarget:0}),kf=pi(sj),vx=ne({},lc,{animationName:0,elapsedTime:0,pseudoElement:0}),aj=pi(vx),oj=ne({},lc,{clipboardData:function(f){return"clipboardData"in f?f.clipboardData:window.clipboardData}}),km=pi(oj),lj=ne({},lc,{data:0}),Tm=pi(lj),yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cj(f){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(f):(f=Jo[f])?!!m[f]:!1}function Qo(){return cj}var Vi=ne({},Xo,{key:function(f){if(f.key){var m=yx[f.key]||f.key;if(m!=="Unidentified")return m}return f.type==="keypress"?(f=Pf(f),f===13?"Enter":String.fromCharCode(f)):f.type==="keydown"||f.type==="keyup"?Tf[f.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qo,charCode:function(f){return f.type==="keypress"?Pf(f):0},keyCode:function(f){return f.type==="keydown"||f.type==="keyup"?f.keyCode:0},which:function(f){return f.type==="keypress"?Pf(f):f.type==="keydown"||f.type==="keyup"?f.keyCode:0}}),xx=pi(Vi),bx=ne({},vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wx=pi(bx),Am=ne({},Xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qo}),Om=pi(Am),uj=ne({},lc,{propertyName:0,elapsedTime:0,pseudoElement:0}),dj=pi(uj),_x=ne({},vs,{deltaX:function(f){return"deltaX"in f?f.deltaX:"wheelDeltaX"in f?-f.wheelDeltaX:0},deltaY:function(f){return"deltaY"in f?f.deltaY:"wheelDeltaY"in f?-f.wheelDeltaY:"wheelDelta"in f?-f.wheelDelta:0},deltaZ:0,deltaMode:0}),fj=pi(_x),ys=[9,13,27,32],ao=l&&"CompositionEvent"in window,zu=null;l&&"documentMode"in document&&(zu=document.documentMode);var wa=l&&"TextEvent"in window&&!zu,jx=l&&(!ao||zu&&8<zu&&11>=zu),el=" ",Sx=!1;function uc(f,m){switch(f){case"keyup":return ys.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Rm(f){return f=f.detail,typeof f=="object"&&"data"in f?f.data:null}var _a=!1;function hj(f,m){switch(f){case"compositionend":return Rm(m);case"keypress":return m.which!==32?null:(Sx=!0,el);case"textInput":return f=m.data,f===el&&Sx?null:f;default:return null}}function oo(f,m){if(_a)return f==="compositionend"||!ao&&uc(f,m)?(f=Sm(),so=ki=io=null,_a=!1,f):null;switch(f){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return jx&&m.locale!=="ko"?null:m.data;default:return null}}var Af={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nx(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m==="input"?!!Af[f.type]:m==="textarea"}function Of(f,m,j,T){mf(T),m=E(m,"onChange"),0<m.length&&(j=new Nm("onChange","change",null,j,T),f.push({event:j,listeners:m}))}var qu=null,Ti=null;function pj(f){qm(f,0)}function ja(f){var m=sl(f);if(X(m))return f}function mj(f,m){if(f==="change")return m}var Us=!1;if(l){var dc;if(l){var Rf="oninput"in document;if(!Rf){var Mf=document.createElement("div");Mf.setAttribute("oninput","return;"),Rf=typeof Mf.oninput=="function"}dc=Rf}else dc=!1;Us=dc&&(!document.documentMode||9<document.documentMode)}function Uu(){qu&&(qu.detachEvent("onpropertychange",If),Ti=qu=null)}function If(f){if(f.propertyName==="value"&&ja(Ti)){var m=[];Of(m,Ti,f,ec(f)),Un(pj,m)}}function Lf(f,m,j){f==="focusin"?(Uu(),qu=m,Ti=j,qu.attachEvent("onpropertychange",If)):f==="focusout"&&Uu()}function fc(f){if(f==="selectionchange"||f==="keyup"||f==="keydown")return ja(Ti)}function Df(f,m){if(f==="click")return ja(m)}function Mm(f,m){if(f==="input"||f==="change")return ja(m)}function Cx(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var xs=typeof Object.is=="function"?Object.is:Cx;function lo(f,m){if(xs(f,m))return!0;if(typeof f!="object"||f===null||typeof m!="object"||m===null)return!1;var j=Object.keys(f),T=Object.keys(m);if(j.length!==T.length)return!1;for(T=0;T<j.length;T++){var M=j[T];if(!c.call(m,M)||!xs(f[M],m[M]))return!1}return!0}function Ex(f){for(;f&&f.firstChild;)f=f.firstChild;return f}function Im(f,m){var j=Ex(f);f=0;for(var T;j;){if(j.nodeType===3){if(T=f+j.textContent.length,f<=m&&T>=m)return{node:j,offset:m-f};f=T}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=Ex(j)}}function Px(f,m){return f&&m?f===m?!0:f&&f.nodeType===3?!1:m&&m.nodeType===3?Px(f,m.parentNode):"contains"in f?f.contains(m):f.compareDocumentPosition?!!(f.compareDocumentPosition(m)&16):!1:!1}function Lm(){for(var f=window,m=_e();m instanceof f.HTMLIFrameElement;){try{var j=typeof m.contentWindow.location.href=="string"}catch{j=!1}if(j)f=m.contentWindow;else break;m=_e(f.document)}return m}function Dm(f){var m=f&&f.nodeName&&f.nodeName.toLowerCase();return m&&(m==="input"&&(f.type==="text"||f.type==="search"||f.type==="tel"||f.type==="url"||f.type==="password")||m==="textarea"||f.contentEditable==="true")}function Vs(f){var m=Lm(),j=f.focusedElem,T=f.selectionRange;if(m!==j&&j&&j.ownerDocument&&Px(j.ownerDocument.documentElement,j)){if(T!==null&&Dm(j)){if(m=T.start,f=T.end,f===void 0&&(f=m),"selectionStart"in j)j.selectionStart=m,j.selectionEnd=Math.min(f,j.value.length);else if(f=(m=j.ownerDocument||document)&&m.defaultView||window,f.getSelection){f=f.getSelection();var M=j.textContent.length,$=Math.min(T.start,M);T=T.end===void 0?$:Math.min(T.end,M),!f.extend&&$>T&&(M=T,T=$,$=M),M=Im(j,$);var re=Im(j,T);M&&re&&(f.rangeCount!==1||f.anchorNode!==M.node||f.anchorOffset!==M.offset||f.focusNode!==re.node||f.focusOffset!==re.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),f.removeAllRanges(),$>T?(f.addRange(m),f.extend(re.node,re.offset)):(m.setEnd(re.node,re.offset),f.addRange(m)))}}for(m=[],f=j;f=f.parentNode;)f.nodeType===1&&m.push({element:f,left:f.scrollLeft,top:f.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<m.length;j++)f=m[j],f.element.scrollLeft=f.left,f.element.scrollTop=f.top}}var $f=l&&"documentMode"in document&&11>=document.documentMode,hc=null,pc=null,Vu=null,Ff=!1;function kx(f,m,j){var T=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;Ff||hc==null||hc!==_e(T)||(T=hc,"selectionStart"in T&&Dm(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Vu&&lo(Vu,T)||(Vu=T,T=E(pc,"onSelect"),0<T.length&&(m=new Nm("onSelect","select",null,m,j),f.push({event:m,listeners:T}),m.target=hc)))}function co(f,m){var j={};return j[f.toLowerCase()]=m.toLowerCase(),j["Webkit"+f]="webkit"+m,j["Moz"+f]="moz"+m,j}var mc={animationend:co("Animation","AnimationEnd"),animationiteration:co("Animation","AnimationIteration"),animationstart:co("Animation","AnimationStart"),transitionend:co("Transition","TransitionEnd")},uo={},$m={};l&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete mc.animationend.animation,delete mc.animationiteration.animation,delete mc.animationstart.animation),"TransitionEvent"in window||delete mc.transitionend.transition);function Wu(f){if(uo[f])return uo[f];if(!mc[f])return f;var m=mc[f],j;for(j in m)if(m.hasOwnProperty(j)&&j in $m)return uo[f]=m[j];return f}var Tx=Wu("animationend"),Ws=Wu("animationiteration"),Fm=Wu("animationstart"),Bm=Wu("transitionend"),gc=new Map,Ax="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function bs(f,m){gc.set(f,m),s(m,[f])}for(var tl=0;tl<Ax.length;tl++){var Bf=Ax[tl],Ox=Bf.toLowerCase(),gj=Bf[0].toUpperCase()+Bf.slice(1);bs(Ox,"on"+gj)}bs(Tx,"onAnimationEnd"),bs(Ws,"onAnimationIteration"),bs(Fm,"onAnimationStart"),bs("dblclick","onDoubleClick"),bs("focusin","onFocus"),bs("focusout","onBlur"),bs(Bm,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rx=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function zm(f,m,j){var T=f.type||"unknown-event";f.currentTarget=j,gm(T,m,void 0,f),f.currentTarget=null}function qm(f,m){m=(m&4)!==0;for(var j=0;j<f.length;j++){var T=f[j],M=T.event;T=T.listeners;e:{var $=void 0;if(m)for(var re=T.length-1;0<=re;re--){var de=T[re],ve=de.instance,Ie=de.currentTarget;if(de=de.listener,ve!==$&&M.isPropagationStopped())break e;zm(M,de,Ie),$=ve}else for(re=0;re<T.length;re++){if(de=T[re],ve=de.instance,Ie=de.currentTarget,de=de.listener,ve!==$&&M.isPropagationStopped())break e;zm(M,de,Ie),$=ve}}}if(Ou)throw f=gf,Ou=!1,gf=null,f}function Cr(f,m){var j=m[wc];j===void 0&&(j=m[wc]=new Set);var T=f+"__bubble";j.has(T)||(Mx(m,f,2,!1),j.add(T))}function Um(f,m,j){var T=0;m&&(T|=4),Mx(j,f,T,m)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function yc(f){if(!f[Hu]){f[Hu]=!0,n.forEach(function(j){j!=="selectionchange"&&(Rx.has(j)||Um(j,!1,f),Um(j,!0,f))});var m=f.nodeType===9?f:f.ownerDocument;m===null||m[Hu]||(m[Hu]=!0,Um("selectionchange",!1,m))}}function Mx(f,m,j,T){switch(Zt(m)){case 1:var M=nj;break;case 4:M=px;break;default:M=Bu}j=M.bind(null,m,j,f),M=void 0,!fs||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),T?M!==void 0?f.addEventListener(m,j,{capture:!0,passive:M}):f.addEventListener(m,j,!0):M!==void 0?f.addEventListener(m,j,{passive:M}):f.addEventListener(m,j,!1)}function p(f,m,j,T,M){var $=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var re=T.tag;if(re===3||re===4){var de=T.stateNode.containerInfo;if(de===M||de.nodeType===8&&de.parentNode===M)break;if(re===4)for(re=T.return;re!==null;){var ve=re.tag;if((ve===3||ve===4)&&(ve=re.stateNode.containerInfo,ve===M||ve.nodeType===8&&ve.parentNode===M))return;re=re.return}for(;de!==null;){if(re=nl(de),re===null)return;if(ve=re.tag,ve===5||ve===6){T=$=re;continue e}de=de.parentNode}}T=T.return}Un(function(){var Ie=$,Ke=ec(j),Ye=[];e:{var He=gc.get(f);if(He!==void 0){var st=Nm,ut=f;switch(f){case"keypress":if(Pf(j)===0)break e;case"keydown":case"keyup":st=xx;break;case"focusin":ut="focus",st=kf;break;case"focusout":ut="blur",st=kf;break;case"beforeblur":case"afterblur":st=kf;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Em;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=Pm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=Om;break;case Tx:case Ws:case Fm:st=aj;break;case Bm:st=dj;break;case"scroll":st=ij;break;case"wheel":st=fj;break;case"copy":case"cut":case"paste":st=km;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=wx}var ht=(m&4)!==0,pn=!ht&&f==="scroll",ke=ht?He!==null?He+"Capture":null:He;ht=[];for(var Se=Ie,Te;Se!==null;){Te=Se;var Je=Te.stateNode;if(Te.tag===5&&Je!==null&&(Te=Je,ke!==null&&(Je=di(Se,ke),Je!=null&&ht.push(w(Se,Je,Te)))),pn)break;Se=Se.return}0<ht.length&&(He=new st(He,ut,null,j,Ke),Ye.push({event:He,listeners:ht}))}}if((m&7)===0){e:{if(He=f==="mouseover"||f==="pointerover",st=f==="mouseout"||f==="pointerout",He&&j!==Ht&&(ut=j.relatedTarget||j.fromElement)&&(nl(ut)||ut[yr]))break e;if((st||He)&&(He=Ke.window===Ke?Ke:(He=Ke.ownerDocument)?He.defaultView||He.parentWindow:window,st?(ut=j.relatedTarget||j.toElement,st=Ie,ut=ut?nl(ut):null,ut!==null&&(pn=no(ut),ut!==pn||ut.tag!==5&&ut.tag!==6)&&(ut=null)):(st=null,ut=Ie),st!==ut)){if(ht=Em,Je="onMouseLeave",ke="onMouseEnter",Se="mouse",(f==="pointerout"||f==="pointerover")&&(ht=wx,Je="onPointerLeave",ke="onPointerEnter",Se="pointer"),pn=st==null?He:sl(st),Te=ut==null?He:sl(ut),He=new ht(Je,Se+"leave",st,j,Ke),He.target=pn,He.relatedTarget=Te,Je=null,nl(Ke)===Ie&&(ht=new ht(ke,Se+"enter",ut,j,Ke),ht.target=Te,ht.relatedTarget=pn,Je=ht),pn=Je,st&&ut)t:{for(ht=st,ke=ut,Se=0,Te=ht;Te;Te=R(Te))Se++;for(Te=0,Je=ke;Je;Je=R(Je))Te++;for(;0<Se-Te;)ht=R(ht),Se--;for(;0<Te-Se;)ke=R(ke),Te--;for(;Se--;){if(ht===ke||ke!==null&&ht===ke.alternate)break t;ht=R(ht),ke=R(ke)}ht=null}else ht=null;st!==null&&q(Ye,He,st,ht,!1),ut!==null&&pn!==null&&q(Ye,pn,ut,ht,!0)}}e:{if(He=Ie?sl(Ie):window,st=He.nodeName&&He.nodeName.toLowerCase(),st==="select"||st==="input"&&He.type==="file")var gt=mj;else if(Nx(He))if(Us)gt=Mm;else{gt=fc;var bt=Lf}else(st=He.nodeName)&&st.toLowerCase()==="input"&&(He.type==="checkbox"||He.type==="radio")&&(gt=Df);if(gt&&(gt=gt(f,Ie))){Of(Ye,gt,j,Ke);break e}bt&&bt(f,He,Ie),f==="focusout"&&(bt=He._wrapperState)&&bt.controlled&&He.type==="number"&&Dt(He,"number",He.value)}switch(bt=Ie?sl(Ie):window,f){case"focusin":(Nx(bt)||bt.contentEditable==="true")&&(hc=bt,pc=Ie,Vu=null);break;case"focusout":Vu=pc=hc=null;break;case"mousedown":Ff=!0;break;case"contextmenu":case"mouseup":case"dragend":Ff=!1,kx(Ye,j,Ke);break;case"selectionchange":if($f)break;case"keydown":case"keyup":kx(Ye,j,Ke)}var wt;if(ao)e:{switch(f){case"compositionstart":var Et="onCompositionStart";break e;case"compositionend":Et="onCompositionEnd";break e;case"compositionupdate":Et="onCompositionUpdate";break e}Et=void 0}else _a?uc(f,j)&&(Et="onCompositionEnd"):f==="keydown"&&j.keyCode===229&&(Et="onCompositionStart");Et&&(jx&&j.locale!=="ko"&&(_a||Et!=="onCompositionStart"?Et==="onCompositionEnd"&&_a&&(wt=Sm()):(io=Ke,ki="value"in io?io.value:io.textContent,_a=!0)),bt=E(Ie,Et),0<bt.length&&(Et=new Tm(Et,f,null,j,Ke),Ye.push({event:Et,listeners:bt}),wt?Et.data=wt:(wt=Rm(j),wt!==null&&(Et.data=wt)))),(wt=wa?hj(f,j):oo(f,j))&&(Ie=E(Ie,"onBeforeInput"),0<Ie.length&&(Ke=new Tm("onBeforeInput","beforeinput",null,j,Ke),Ye.push({event:Ke,listeners:Ie}),Ke.data=wt))}qm(Ye,m)})}function w(f,m,j){return{instance:f,listener:m,currentTarget:j}}function E(f,m){for(var j=m+"Capture",T=[];f!==null;){var M=f,$=M.stateNode;M.tag===5&&$!==null&&(M=$,$=di(f,j),$!=null&&T.unshift(w(f,$,M)),$=di(f,m),$!=null&&T.push(w(f,$,M))),f=f.return}return T}function R(f){if(f===null)return null;do f=f.return;while(f&&f.tag!==5);return f||null}function q(f,m,j,T,M){for(var $=m._reactName,re=[];j!==null&&j!==T;){var de=j,ve=de.alternate,Ie=de.stateNode;if(ve!==null&&ve===T)break;de.tag===5&&Ie!==null&&(de=Ie,M?(ve=di(j,$),ve!=null&&re.unshift(w(j,ve,de))):M||(ve=di(j,$),ve!=null&&re.push(w(j,ve,de)))),j=j.return}re.length!==0&&f.push({event:m,listeners:re})}var ie=/\r\n?/g,pe=/\u0000|\uFFFD/g;function Ee(f){return(typeof f=="string"?f:""+f).replace(ie,`
`).replace(pe,"")}function Me(f,m,j){if(m=Ee(m),Ee(f)!==m&&j)throw Error(r(425))}function ze(){}var nt=null,xt=null;function $t(f,m){return f==="textarea"||f==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var Rn=typeof setTimeout=="function"?setTimeout:void 0,xn=typeof clearTimeout=="function"?clearTimeout:void 0,Ai=typeof Promise=="function"?Promise:void 0,mi=typeof queueMicrotask=="function"?queueMicrotask:typeof Ai<"u"?function(f){return Ai.resolve(null).then(f).catch(xc)}:Rn;function xc(f){setTimeout(function(){throw f})}function Vm(f,m){var j=m,T=0;do{var M=j.nextSibling;if(f.removeChild(j),M&&M.nodeType===8)if(j=M.data,j==="/$"){if(T===0){f.removeChild(M),gs(m);return}T--}else j!=="$"&&j!=="$?"&&j!=="$!"||T++;j=M}while(j);gs(m)}function fo(f){for(;f!=null;f=f.nextSibling){var m=f.nodeType;if(m===1||m===3)break;if(m===8){if(m=f.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return f}function Ix(f){f=f.previousSibling;for(var m=0;f;){if(f.nodeType===8){var j=f.data;if(j==="$"||j==="$!"||j==="$?"){if(m===0)return f;m--}else j==="/$"&&m++}f=f.previousSibling}return null}var rl=Math.random().toString(36).slice(2),Hs="__reactFiber$"+rl,bc="__reactProps$"+rl,yr="__reactContainer$"+rl,wc="__reactEvents$"+rl,vj="__reactListeners$"+rl,yj="__reactHandles$"+rl;function nl(f){var m=f[Hs];if(m)return m;for(var j=f.parentNode;j;){if(m=j[yr]||j[Hs]){if(j=m.alternate,m.child!==null||j!==null&&j.child!==null)for(f=Ix(f);f!==null;){if(j=f[Hs])return j;f=Ix(f)}return m}f=j,j=f.parentNode}return null}function il(f){return f=f[Hs]||f[yr],!f||f.tag!==5&&f.tag!==6&&f.tag!==13&&f.tag!==3?null:f}function sl(f){if(f.tag===5||f.tag===6)return f.stateNode;throw Error(r(33))}function zf(f){return f[bc]||null}var xj=[],qf=-1;function _c(f){return{current:f}}function Wr(f){0>qf||(f.current=xj[qf],xj[qf]=null,qf--)}function Fr(f,m){qf++,xj[qf]=f.current,f.current=m}var jc={},gi=_c(jc),Wi=_c(!1),Ku=jc;function Uf(f,m){var j=f.type.contextTypes;if(!j)return jc;var T=f.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var M={},$;for($ in j)M[$]=m[$];return T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=m,f.__reactInternalMemoizedMaskedChildContext=M),M}function Hi(f){return f=f.childContextTypes,f!=null}function Lx(){Wr(Wi),Wr(gi)}function tL(f,m,j){if(gi.current!==jc)throw Error(r(168));Fr(gi,m),Fr(Wi,j)}function rL(f,m,j){var T=f.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return j;T=T.getChildContext();for(var M in T)if(!(M in m))throw Error(r(108,ae(f)||"Unknown",M));return ne({},j,T)}function Dx(f){return f=(f=f.stateNode)&&f.__reactInternalMemoizedMergedChildContext||jc,Ku=gi.current,Fr(gi,f),Fr(Wi,Wi.current),!0}function nL(f,m,j){var T=f.stateNode;if(!T)throw Error(r(169));j?(f=rL(f,m,Ku),T.__reactInternalMemoizedMergedChildContext=f,Wr(Wi),Wr(gi),Fr(gi,f)):Wr(Wi),Fr(Wi,j)}var al=null,$x=!1,bj=!1;function iL(f){al===null?al=[f]:al.push(f)}function zre(f){$x=!0,iL(f)}function Sc(){if(!bj&&al!==null){bj=!0;var f=0,m=Jt;try{var j=al;for(Jt=1;f<j.length;f++){var T=j[f];do T=T(!0);while(T!==null)}al=null,$x=!1}catch(M){throw al!==null&&(al=al.slice(f+1)),dx(xm,Sc),M}finally{Jt=m,bj=!1}}return null}var Vf=[],Wf=0,Fx=null,Bx=0,Ks=[],Gs=0,Gu=null,ol=1,ll="";function Zu(f,m){Vf[Wf++]=Bx,Vf[Wf++]=Fx,Fx=f,Bx=m}function sL(f,m,j){Ks[Gs++]=ol,Ks[Gs++]=ll,Ks[Gs++]=Gu,Gu=f;var T=ol;f=ll;var M=32-Ot(T)-1;T&=~(1<<M),j+=1;var $=32-Ot(m)+M;if(30<$){var re=M-M%5;$=(T&(1<<re)-1).toString(32),T>>=re,M-=re,ol=1<<32-Ot(m)+M|j<<M|T,ll=$+f}else ol=1<<$|j<<M|T,ll=f}function wj(f){f.return!==null&&(Zu(f,1),sL(f,1,0))}function _j(f){for(;f===Fx;)Fx=Vf[--Wf],Vf[Wf]=null,Bx=Vf[--Wf],Vf[Wf]=null;for(;f===Gu;)Gu=Ks[--Gs],Ks[Gs]=null,ll=Ks[--Gs],Ks[Gs]=null,ol=Ks[--Gs],Ks[Gs]=null}var ws=null,_s=null,Xr=!1,Sa=null;function aL(f,m){var j=Js(5,null,null,0);j.elementType="DELETED",j.stateNode=m,j.return=f,m=f.deletions,m===null?(f.deletions=[j],f.flags|=16):m.push(j)}function oL(f,m){switch(f.tag){case 5:var j=f.type;return m=m.nodeType!==1||j.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(f.stateNode=m,ws=f,_s=fo(m.firstChild),!0):!1;case 6:return m=f.pendingProps===""||m.nodeType!==3?null:m,m!==null?(f.stateNode=m,ws=f,_s=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(j=Gu!==null?{id:ol,overflow:ll}:null,f.memoizedState={dehydrated:m,treeContext:j,retryLane:1073741824},j=Js(18,null,null,0),j.stateNode=m,j.return=f,f.child=j,ws=f,_s=null,!0):!1;default:return!1}}function jj(f){return(f.mode&1)!==0&&(f.flags&128)===0}function Sj(f){if(Xr){var m=_s;if(m){var j=m;if(!oL(f,m)){if(jj(f))throw Error(r(418));m=fo(j.nextSibling);var T=ws;m&&oL(f,m)?aL(T,j):(f.flags=f.flags&-4097|2,Xr=!1,ws=f)}}else{if(jj(f))throw Error(r(418));f.flags=f.flags&-4097|2,Xr=!1,ws=f}}}function lL(f){for(f=f.return;f!==null&&f.tag!==5&&f.tag!==3&&f.tag!==13;)f=f.return;ws=f}function zx(f){if(f!==ws)return!1;if(!Xr)return lL(f),Xr=!0,!1;var m;if((m=f.tag!==3)&&!(m=f.tag!==5)&&(m=f.type,m=m!=="head"&&m!=="body"&&!$t(f.type,f.memoizedProps)),m&&(m=_s)){if(jj(f))throw cL(),Error(r(418));for(;m;)aL(f,m),m=fo(m.nextSibling)}if(lL(f),f.tag===13){if(f=f.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));e:{for(f=f.nextSibling,m=0;f;){if(f.nodeType===8){var j=f.data;if(j==="/$"){if(m===0){_s=fo(f.nextSibling);break e}m--}else j!=="$"&&j!=="$!"&&j!=="$?"||m++}f=f.nextSibling}_s=null}}else _s=ws?fo(f.stateNode.nextSibling):null;return!0}function cL(){for(var f=_s;f;)f=fo(f.nextSibling)}function Hf(){_s=ws=null,Xr=!1}function Nj(f){Sa===null?Sa=[f]:Sa.push(f)}var qre=A.ReactCurrentBatchConfig;function Wm(f,m,j){if(f=j.ref,f!==null&&typeof f!="function"&&typeof f!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(r(309));var T=j.stateNode}if(!T)throw Error(r(147,f));var M=T,$=""+f;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(re){var de=M.refs;re===null?delete de[$]:de[$]=re},m._stringRef=$,m)}if(typeof f!="string")throw Error(r(284));if(!j._owner)throw Error(r(290,f))}return f}function qx(f,m){throw f=Object.prototype.toString.call(m),Error(r(31,f==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":f))}function uL(f){var m=f._init;return m(f._payload)}function dL(f){function m(ke,Se){if(f){var Te=ke.deletions;Te===null?(ke.deletions=[Se],ke.flags|=16):Te.push(Se)}}function j(ke,Se){if(!f)return null;for(;Se!==null;)m(ke,Se),Se=Se.sibling;return null}function T(ke,Se){for(ke=new Map;Se!==null;)Se.key!==null?ke.set(Se.key,Se):ke.set(Se.index,Se),Se=Se.sibling;return ke}function M(ke,Se){return ke=Oc(ke,Se),ke.index=0,ke.sibling=null,ke}function $(ke,Se,Te){return ke.index=Te,f?(Te=ke.alternate,Te!==null?(Te=Te.index,Te<Se?(ke.flags|=2,Se):Te):(ke.flags|=2,Se)):(ke.flags|=1048576,Se)}function re(ke){return f&&ke.alternate===null&&(ke.flags|=2),ke}function de(ke,Se,Te,Je){return Se===null||Se.tag!==6?(Se=gS(Te,ke.mode,Je),Se.return=ke,Se):(Se=M(Se,Te),Se.return=ke,Se)}function ve(ke,Se,Te,Je){var gt=Te.type;return gt===O?Ke(ke,Se,Te.props.children,Je,Te.key):Se!==null&&(Se.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===se&&uL(gt)===Se.type)?(Je=M(Se,Te.props),Je.ref=Wm(ke,Se,Te),Je.return=ke,Je):(Je=f0(Te.type,Te.key,Te.props,null,ke.mode,Je),Je.ref=Wm(ke,Se,Te),Je.return=ke,Je)}function Ie(ke,Se,Te,Je){return Se===null||Se.tag!==4||Se.stateNode.containerInfo!==Te.containerInfo||Se.stateNode.implementation!==Te.implementation?(Se=vS(Te,ke.mode,Je),Se.return=ke,Se):(Se=M(Se,Te.children||[]),Se.return=ke,Se)}function Ke(ke,Se,Te,Je,gt){return Se===null||Se.tag!==7?(Se=nd(Te,ke.mode,Je,gt),Se.return=ke,Se):(Se=M(Se,Te),Se.return=ke,Se)}function Ye(ke,Se,Te){if(typeof Se=="string"&&Se!==""||typeof Se=="number")return Se=gS(""+Se,ke.mode,Te),Se.return=ke,Se;if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case k:return Te=f0(Se.type,Se.key,Se.props,null,ke.mode,Te),Te.ref=Wm(ke,null,Se),Te.return=ke,Te;case P:return Se=vS(Se,ke.mode,Te),Se.return=ke,Se;case se:var Je=Se._init;return Ye(ke,Je(Se._payload),Te)}if(fe(Se)||G(Se))return Se=nd(Se,ke.mode,Te,null),Se.return=ke,Se;qx(ke,Se)}return null}function He(ke,Se,Te,Je){var gt=Se!==null?Se.key:null;if(typeof Te=="string"&&Te!==""||typeof Te=="number")return gt!==null?null:de(ke,Se,""+Te,Je);if(typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case k:return Te.key===gt?ve(ke,Se,Te,Je):null;case P:return Te.key===gt?Ie(ke,Se,Te,Je):null;case se:return gt=Te._init,He(ke,Se,gt(Te._payload),Je)}if(fe(Te)||G(Te))return gt!==null?null:Ke(ke,Se,Te,Je,null);qx(ke,Te)}return null}function st(ke,Se,Te,Je,gt){if(typeof Je=="string"&&Je!==""||typeof Je=="number")return ke=ke.get(Te)||null,de(Se,ke,""+Je,gt);if(typeof Je=="object"&&Je!==null){switch(Je.$$typeof){case k:return ke=ke.get(Je.key===null?Te:Je.key)||null,ve(Se,ke,Je,gt);case P:return ke=ke.get(Je.key===null?Te:Je.key)||null,Ie(Se,ke,Je,gt);case se:var bt=Je._init;return st(ke,Se,Te,bt(Je._payload),gt)}if(fe(Je)||G(Je))return ke=ke.get(Te)||null,Ke(Se,ke,Je,gt,null);qx(Se,Je)}return null}function ut(ke,Se,Te,Je){for(var gt=null,bt=null,wt=Se,Et=Se=0,Hn=null;wt!==null&&Et<Te.length;Et++){wt.index>Et?(Hn=wt,wt=null):Hn=wt.sibling;var cr=He(ke,wt,Te[Et],Je);if(cr===null){wt===null&&(wt=Hn);break}f&&wt&&cr.alternate===null&&m(ke,wt),Se=$(cr,Se,Et),bt===null?gt=cr:bt.sibling=cr,bt=cr,wt=Hn}if(Et===Te.length)return j(ke,wt),Xr&&Zu(ke,Et),gt;if(wt===null){for(;Et<Te.length;Et++)wt=Ye(ke,Te[Et],Je),wt!==null&&(Se=$(wt,Se,Et),bt===null?gt=wt:bt.sibling=wt,bt=wt);return Xr&&Zu(ke,Et),gt}for(wt=T(ke,wt);Et<Te.length;Et++)Hn=st(wt,ke,Et,Te[Et],Je),Hn!==null&&(f&&Hn.alternate!==null&&wt.delete(Hn.key===null?Et:Hn.key),Se=$(Hn,Se,Et),bt===null?gt=Hn:bt.sibling=Hn,bt=Hn);return f&&wt.forEach(function(Rc){return m(ke,Rc)}),Xr&&Zu(ke,Et),gt}function ht(ke,Se,Te,Je){var gt=G(Te);if(typeof gt!="function")throw Error(r(150));if(Te=gt.call(Te),Te==null)throw Error(r(151));for(var bt=gt=null,wt=Se,Et=Se=0,Hn=null,cr=Te.next();wt!==null&&!cr.done;Et++,cr=Te.next()){wt.index>Et?(Hn=wt,wt=null):Hn=wt.sibling;var Rc=He(ke,wt,cr.value,Je);if(Rc===null){wt===null&&(wt=Hn);break}f&&wt&&Rc.alternate===null&&m(ke,wt),Se=$(Rc,Se,Et),bt===null?gt=Rc:bt.sibling=Rc,bt=Rc,wt=Hn}if(cr.done)return j(ke,wt),Xr&&Zu(ke,Et),gt;if(wt===null){for(;!cr.done;Et++,cr=Te.next())cr=Ye(ke,cr.value,Je),cr!==null&&(Se=$(cr,Se,Et),bt===null?gt=cr:bt.sibling=cr,bt=cr);return Xr&&Zu(ke,Et),gt}for(wt=T(ke,wt);!cr.done;Et++,cr=Te.next())cr=st(wt,ke,Et,cr.value,Je),cr!==null&&(f&&cr.alternate!==null&&wt.delete(cr.key===null?Et:cr.key),Se=$(cr,Se,Et),bt===null?gt=cr:bt.sibling=cr,bt=cr);return f&&wt.forEach(function(wne){return m(ke,wne)}),Xr&&Zu(ke,Et),gt}function pn(ke,Se,Te,Je){if(typeof Te=="object"&&Te!==null&&Te.type===O&&Te.key===null&&(Te=Te.props.children),typeof Te=="object"&&Te!==null){switch(Te.$$typeof){case k:e:{for(var gt=Te.key,bt=Se;bt!==null;){if(bt.key===gt){if(gt=Te.type,gt===O){if(bt.tag===7){j(ke,bt.sibling),Se=M(bt,Te.props.children),Se.return=ke,ke=Se;break e}}else if(bt.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===se&&uL(gt)===bt.type){j(ke,bt.sibling),Se=M(bt,Te.props),Se.ref=Wm(ke,bt,Te),Se.return=ke,ke=Se;break e}j(ke,bt);break}else m(ke,bt);bt=bt.sibling}Te.type===O?(Se=nd(Te.props.children,ke.mode,Je,Te.key),Se.return=ke,ke=Se):(Je=f0(Te.type,Te.key,Te.props,null,ke.mode,Je),Je.ref=Wm(ke,Se,Te),Je.return=ke,ke=Je)}return re(ke);case P:e:{for(bt=Te.key;Se!==null;){if(Se.key===bt)if(Se.tag===4&&Se.stateNode.containerInfo===Te.containerInfo&&Se.stateNode.implementation===Te.implementation){j(ke,Se.sibling),Se=M(Se,Te.children||[]),Se.return=ke,ke=Se;break e}else{j(ke,Se);break}else m(ke,Se);Se=Se.sibling}Se=vS(Te,ke.mode,Je),Se.return=ke,ke=Se}return re(ke);case se:return bt=Te._init,pn(ke,Se,bt(Te._payload),Je)}if(fe(Te))return ut(ke,Se,Te,Je);if(G(Te))return ht(ke,Se,Te,Je);qx(ke,Te)}return typeof Te=="string"&&Te!==""||typeof Te=="number"?(Te=""+Te,Se!==null&&Se.tag===6?(j(ke,Se.sibling),Se=M(Se,Te),Se.return=ke,ke=Se):(j(ke,Se),Se=gS(Te,ke.mode,Je),Se.return=ke,ke=Se),re(ke)):j(ke,Se)}return pn}var Kf=dL(!0),fL=dL(!1),Ux=_c(null),Vx=null,Gf=null,Cj=null;function Ej(){Cj=Gf=Vx=null}function Pj(f){var m=Ux.current;Wr(Ux),f._currentValue=m}function kj(f,m,j){for(;f!==null;){var T=f.alternate;if((f.childLanes&m)!==m?(f.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),f===j)break;f=f.return}}function Zf(f,m){Vx=f,Cj=Gf=null,f=f.dependencies,f!==null&&f.firstContext!==null&&((f.lanes&m)!==0&&(Ki=!0),f.firstContext=null)}function Zs(f){var m=f._currentValue;if(Cj!==f)if(f={context:f,memoizedValue:m,next:null},Gf===null){if(Vx===null)throw Error(r(308));Gf=f,Vx.dependencies={lanes:0,firstContext:f}}else Gf=Gf.next=f;return m}var Yu=null;function Tj(f){Yu===null?Yu=[f]:Yu.push(f)}function hL(f,m,j,T){var M=m.interleaved;return M===null?(j.next=j,Tj(m)):(j.next=M.next,M.next=j),m.interleaved=j,cl(f,T)}function cl(f,m){f.lanes|=m;var j=f.alternate;for(j!==null&&(j.lanes|=m),j=f,f=f.return;f!==null;)f.childLanes|=m,j=f.alternate,j!==null&&(j.childLanes|=m),j=f,f=f.return;return j.tag===3?j.stateNode:null}var Nc=!1;function Aj(f){f.updateQueue={baseState:f.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pL(f,m){f=f.updateQueue,m.updateQueue===f&&(m.updateQueue={baseState:f.baseState,firstBaseUpdate:f.firstBaseUpdate,lastBaseUpdate:f.lastBaseUpdate,shared:f.shared,effects:f.effects})}function ul(f,m){return{eventTime:f,lane:m,tag:0,payload:null,callback:null,next:null}}function Cc(f,m,j){var T=f.updateQueue;if(T===null)return null;if(T=T.shared,(nr&2)!==0){var M=T.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),T.pending=m,cl(f,j)}return M=T.interleaved,M===null?(m.next=m,Tj(T)):(m.next=M.next,M.next=m),T.interleaved=m,cl(f,j)}function Wx(f,m,j){if(m=m.updateQueue,m!==null&&(m=m.shared,(j&4194240)!==0)){var T=m.lanes;T&=f.pendingLanes,j|=T,m.lanes=j,xa(f,j)}}function mL(f,m){var j=f.updateQueue,T=f.alternate;if(T!==null&&(T=T.updateQueue,j===T)){var M=null,$=null;if(j=j.firstBaseUpdate,j!==null){do{var re={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};$===null?M=$=re:$=$.next=re,j=j.next}while(j!==null);$===null?M=$=m:$=$.next=m}else M=$=m;j={baseState:T.baseState,firstBaseUpdate:M,lastBaseUpdate:$,shared:T.shared,effects:T.effects},f.updateQueue=j;return}f=j.lastBaseUpdate,f===null?j.firstBaseUpdate=m:f.next=m,j.lastBaseUpdate=m}function Hx(f,m,j,T){var M=f.updateQueue;Nc=!1;var $=M.firstBaseUpdate,re=M.lastBaseUpdate,de=M.shared.pending;if(de!==null){M.shared.pending=null;var ve=de,Ie=ve.next;ve.next=null,re===null?$=Ie:re.next=Ie,re=ve;var Ke=f.alternate;Ke!==null&&(Ke=Ke.updateQueue,de=Ke.lastBaseUpdate,de!==re&&(de===null?Ke.firstBaseUpdate=Ie:de.next=Ie,Ke.lastBaseUpdate=ve))}if($!==null){var Ye=M.baseState;re=0,Ke=Ie=ve=null,de=$;do{var He=de.lane,st=de.eventTime;if((T&He)===He){Ke!==null&&(Ke=Ke.next={eventTime:st,lane:0,tag:de.tag,payload:de.payload,callback:de.callback,next:null});e:{var ut=f,ht=de;switch(He=m,st=j,ht.tag){case 1:if(ut=ht.payload,typeof ut=="function"){Ye=ut.call(st,Ye,He);break e}Ye=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ht.payload,He=typeof ut=="function"?ut.call(st,Ye,He):ut,He==null)break e;Ye=ne({},Ye,He);break e;case 2:Nc=!0}}de.callback!==null&&de.lane!==0&&(f.flags|=64,He=M.effects,He===null?M.effects=[de]:He.push(de))}else st={eventTime:st,lane:He,tag:de.tag,payload:de.payload,callback:de.callback,next:null},Ke===null?(Ie=Ke=st,ve=Ye):Ke=Ke.next=st,re|=He;if(de=de.next,de===null){if(de=M.shared.pending,de===null)break;He=de,de=He.next,He.next=null,M.lastBaseUpdate=He,M.shared.pending=null}}while(!0);if(Ke===null&&(ve=Ye),M.baseState=ve,M.firstBaseUpdate=Ie,M.lastBaseUpdate=Ke,m=M.shared.interleaved,m!==null){M=m;do re|=M.lane,M=M.next;while(M!==m)}else $===null&&(M.shared.lanes=0);Qu|=re,f.lanes=re,f.memoizedState=Ye}}function gL(f,m,j){if(f=m.effects,m.effects=null,f!==null)for(m=0;m<f.length;m++){var T=f[m],M=T.callback;if(M!==null){if(T.callback=null,T=j,typeof M!="function")throw Error(r(191,M));M.call(T)}}}var Hm={},ho=_c(Hm),Km=_c(Hm),Gm=_c(Hm);function Xu(f){if(f===Hm)throw Error(r(174));return f}function Oj(f,m){switch(Fr(Gm,m),Fr(Km,f),Fr(ho,Hm),f=m.nodeType,f){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Z(null,"");break;default:f=f===8?m.parentNode:m,m=f.namespaceURI||null,f=f.tagName,m=Z(m,f)}Wr(ho),Fr(ho,m)}function Yf(){Wr(ho),Wr(Km),Wr(Gm)}function vL(f){Xu(Gm.current);var m=Xu(ho.current),j=Z(m,f.type);m!==j&&(Fr(Km,f),Fr(ho,j))}function Rj(f){Km.current===f&&(Wr(ho),Wr(Km))}var rn=_c(0);function Kx(f){for(var m=f;m!==null;){if(m.tag===13){var j=m.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var Mj=[];function Ij(){for(var f=0;f<Mj.length;f++)Mj[f]._workInProgressVersionPrimary=null;Mj.length=0}var Gx=A.ReactCurrentDispatcher,Lj=A.ReactCurrentBatchConfig,Ju=0,nn=null,Mn=null,Vn=null,Zx=!1,Zm=!1,Ym=0,Ure=0;function vi(){throw Error(r(321))}function Dj(f,m){if(m===null)return!1;for(var j=0;j<m.length&&j<f.length;j++)if(!xs(f[j],m[j]))return!1;return!0}function $j(f,m,j,T,M,$){if(Ju=$,nn=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,Gx.current=f===null||f.memoizedState===null?Kre:Gre,f=j(T,M),Zm){$=0;do{if(Zm=!1,Ym=0,25<=$)throw Error(r(301));$+=1,Vn=Mn=null,m.updateQueue=null,Gx.current=Zre,f=j(T,M)}while(Zm)}if(Gx.current=Jx,m=Mn!==null&&Mn.next!==null,Ju=0,Vn=Mn=nn=null,Zx=!1,m)throw Error(r(300));return f}function Fj(){var f=Ym!==0;return Ym=0,f}function po(){var f={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Vn===null?nn.memoizedState=Vn=f:Vn=Vn.next=f,Vn}function Ys(){if(Mn===null){var f=nn.alternate;f=f!==null?f.memoizedState:null}else f=Mn.next;var m=Vn===null?nn.memoizedState:Vn.next;if(m!==null)Vn=m,Mn=f;else{if(f===null)throw Error(r(310));Mn=f,f={memoizedState:Mn.memoizedState,baseState:Mn.baseState,baseQueue:Mn.baseQueue,queue:Mn.queue,next:null},Vn===null?nn.memoizedState=Vn=f:Vn=Vn.next=f}return Vn}function Xm(f,m){return typeof m=="function"?m(f):m}function Bj(f){var m=Ys(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=f;var T=Mn,M=T.baseQueue,$=j.pending;if($!==null){if(M!==null){var re=M.next;M.next=$.next,$.next=re}T.baseQueue=M=$,j.pending=null}if(M!==null){$=M.next,T=T.baseState;var de=re=null,ve=null,Ie=$;do{var Ke=Ie.lane;if((Ju&Ke)===Ke)ve!==null&&(ve=ve.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),T=Ie.hasEagerState?Ie.eagerState:f(T,Ie.action);else{var Ye={lane:Ke,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ve===null?(de=ve=Ye,re=T):ve=ve.next=Ye,nn.lanes|=Ke,Qu|=Ke}Ie=Ie.next}while(Ie!==null&&Ie!==$);ve===null?re=T:ve.next=de,xs(T,m.memoizedState)||(Ki=!0),m.memoizedState=T,m.baseState=re,m.baseQueue=ve,j.lastRenderedState=T}if(f=j.interleaved,f!==null){M=f;do $=M.lane,nn.lanes|=$,Qu|=$,M=M.next;while(M!==f)}else M===null&&(j.lanes=0);return[m.memoizedState,j.dispatch]}function zj(f){var m=Ys(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=f;var T=j.dispatch,M=j.pending,$=m.memoizedState;if(M!==null){j.pending=null;var re=M=M.next;do $=f($,re.action),re=re.next;while(re!==M);xs($,m.memoizedState)||(Ki=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),j.lastRenderedState=$}return[$,T]}function yL(){}function xL(f,m){var j=nn,T=Ys(),M=m(),$=!xs(T.memoizedState,M);if($&&(T.memoizedState=M,Ki=!0),T=T.queue,qj(_L.bind(null,j,T,f),[f]),T.getSnapshot!==m||$||Vn!==null&&Vn.memoizedState.tag&1){if(j.flags|=2048,Jm(9,wL.bind(null,j,T,M,m),void 0,null),Wn===null)throw Error(r(349));(Ju&30)!==0||bL(j,m,M)}return M}function bL(f,m,j){f.flags|=16384,f={getSnapshot:m,value:j},m=nn.updateQueue,m===null?(m={lastEffect:null,stores:null},nn.updateQueue=m,m.stores=[f]):(j=m.stores,j===null?m.stores=[f]:j.push(f))}function wL(f,m,j,T){m.value=j,m.getSnapshot=T,jL(m)&&SL(f)}function _L(f,m,j){return j(function(){jL(m)&&SL(f)})}function jL(f){var m=f.getSnapshot;f=f.value;try{var j=m();return!xs(f,j)}catch{return!0}}function SL(f){var m=cl(f,1);m!==null&&Pa(m,f,1,-1)}function NL(f){var m=po();return typeof f=="function"&&(f=f()),m.memoizedState=m.baseState=f,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xm,lastRenderedState:f},m.queue=f,f=f.dispatch=Hre.bind(null,nn,f),[m.memoizedState,f]}function Jm(f,m,j,T){return f={tag:f,create:m,destroy:j,deps:T,next:null},m=nn.updateQueue,m===null?(m={lastEffect:null,stores:null},nn.updateQueue=m,m.lastEffect=f.next=f):(j=m.lastEffect,j===null?m.lastEffect=f.next=f:(T=j.next,j.next=f,f.next=T,m.lastEffect=f)),f}function CL(){return Ys().memoizedState}function Yx(f,m,j,T){var M=po();nn.flags|=f,M.memoizedState=Jm(1|m,j,void 0,T===void 0?null:T)}function Xx(f,m,j,T){var M=Ys();T=T===void 0?null:T;var $=void 0;if(Mn!==null){var re=Mn.memoizedState;if($=re.destroy,T!==null&&Dj(T,re.deps)){M.memoizedState=Jm(m,j,$,T);return}}nn.flags|=f,M.memoizedState=Jm(1|m,j,$,T)}function EL(f,m){return Yx(8390656,8,f,m)}function qj(f,m){return Xx(2048,8,f,m)}function PL(f,m){return Xx(4,2,f,m)}function kL(f,m){return Xx(4,4,f,m)}function TL(f,m){if(typeof m=="function")return f=f(),m(f),function(){m(null)};if(m!=null)return f=f(),m.current=f,function(){m.current=null}}function AL(f,m,j){return j=j!=null?j.concat([f]):null,Xx(4,4,TL.bind(null,m,f),j)}function Uj(){}function OL(f,m){var j=Ys();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&Dj(m,T[1])?T[0]:(j.memoizedState=[f,m],f)}function RL(f,m){var j=Ys();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&Dj(m,T[1])?T[0]:(f=f(),j.memoizedState=[f,m],f)}function ML(f,m,j){return(Ju&21)===0?(f.baseState&&(f.baseState=!1,Ki=!0),f.memoizedState=j):(xs(j,m)||(j=hx(),nn.lanes|=j,Qu|=j,f.baseState=!0),m)}function Vre(f,m){var j=Jt;Jt=j!==0&&4>j?j:4,f(!0);var T=Lj.transition;Lj.transition={};try{f(!1),m()}finally{Jt=j,Lj.transition=T}}function IL(){return Ys().memoizedState}function Wre(f,m,j){var T=Tc(f);if(j={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null},LL(f))DL(m,j);else if(j=hL(f,m,j,T),j!==null){var M=Ri();Pa(j,f,T,M),$L(j,m,T)}}function Hre(f,m,j){var T=Tc(f),M={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null};if(LL(f))DL(m,M);else{var $=f.alternate;if(f.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var re=m.lastRenderedState,de=$(re,j);if(M.hasEagerState=!0,M.eagerState=de,xs(de,re)){var ve=m.interleaved;ve===null?(M.next=M,Tj(m)):(M.next=ve.next,ve.next=M),m.interleaved=M;return}}catch{}finally{}j=hL(f,m,M,T),j!==null&&(M=Ri(),Pa(j,f,T,M),$L(j,m,T))}}function LL(f){var m=f.alternate;return f===nn||m!==null&&m===nn}function DL(f,m){Zm=Zx=!0;var j=f.pending;j===null?m.next=m:(m.next=j.next,j.next=m),f.pending=m}function $L(f,m,j){if((j&4194240)!==0){var T=m.lanes;T&=f.pendingLanes,j|=T,m.lanes=j,xa(f,j)}}var Jx={readContext:Zs,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},Kre={readContext:Zs,useCallback:function(f,m){return po().memoizedState=[f,m===void 0?null:m],f},useContext:Zs,useEffect:EL,useImperativeHandle:function(f,m,j){return j=j!=null?j.concat([f]):null,Yx(4194308,4,TL.bind(null,m,f),j)},useLayoutEffect:function(f,m){return Yx(4194308,4,f,m)},useInsertionEffect:function(f,m){return Yx(4,2,f,m)},useMemo:function(f,m){var j=po();return m=m===void 0?null:m,f=f(),j.memoizedState=[f,m],f},useReducer:function(f,m,j){var T=po();return m=j!==void 0?j(m):m,T.memoizedState=T.baseState=m,f={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:f,lastRenderedState:m},T.queue=f,f=f.dispatch=Wre.bind(null,nn,f),[T.memoizedState,f]},useRef:function(f){var m=po();return f={current:f},m.memoizedState=f},useState:NL,useDebugValue:Uj,useDeferredValue:function(f){return po().memoizedState=f},useTransition:function(){var f=NL(!1),m=f[0];return f=Vre.bind(null,f[1]),po().memoizedState=f,[m,f]},useMutableSource:function(){},useSyncExternalStore:function(f,m,j){var T=nn,M=po();if(Xr){if(j===void 0)throw Error(r(407));j=j()}else{if(j=m(),Wn===null)throw Error(r(349));(Ju&30)!==0||bL(T,m,j)}M.memoizedState=j;var $={value:j,getSnapshot:m};return M.queue=$,EL(_L.bind(null,T,$,f),[f]),T.flags|=2048,Jm(9,wL.bind(null,T,$,j,m),void 0,null),j},useId:function(){var f=po(),m=Wn.identifierPrefix;if(Xr){var j=ll,T=ol;j=(T&~(1<<32-Ot(T)-1)).toString(32)+j,m=":"+m+"R"+j,j=Ym++,0<j&&(m+="H"+j.toString(32)),m+=":"}else j=Ure++,m=":"+m+"r"+j.toString(32)+":";return f.memoizedState=m},unstable_isNewReconciler:!1},Gre={readContext:Zs,useCallback:OL,useContext:Zs,useEffect:qj,useImperativeHandle:AL,useInsertionEffect:PL,useLayoutEffect:kL,useMemo:RL,useReducer:Bj,useRef:CL,useState:function(){return Bj(Xm)},useDebugValue:Uj,useDeferredValue:function(f){var m=Ys();return ML(m,Mn.memoizedState,f)},useTransition:function(){var f=Bj(Xm)[0],m=Ys().memoizedState;return[f,m]},useMutableSource:yL,useSyncExternalStore:xL,useId:IL,unstable_isNewReconciler:!1},Zre={readContext:Zs,useCallback:OL,useContext:Zs,useEffect:qj,useImperativeHandle:AL,useInsertionEffect:PL,useLayoutEffect:kL,useMemo:RL,useReducer:zj,useRef:CL,useState:function(){return zj(Xm)},useDebugValue:Uj,useDeferredValue:function(f){var m=Ys();return Mn===null?m.memoizedState=f:ML(m,Mn.memoizedState,f)},useTransition:function(){var f=zj(Xm)[0],m=Ys().memoizedState;return[f,m]},useMutableSource:yL,useSyncExternalStore:xL,useId:IL,unstable_isNewReconciler:!1};function Na(f,m){if(f&&f.defaultProps){m=ne({},m),f=f.defaultProps;for(var j in f)m[j]===void 0&&(m[j]=f[j]);return m}return m}function Vj(f,m,j,T){m=f.memoizedState,j=j(T,m),j=j==null?m:ne({},m,j),f.memoizedState=j,f.lanes===0&&(f.updateQueue.baseState=j)}var Qx={isMounted:function(f){return(f=f._reactInternals)?no(f)===f:!1},enqueueSetState:function(f,m,j){f=f._reactInternals;var T=Ri(),M=Tc(f),$=ul(T,M);$.payload=m,j!=null&&($.callback=j),m=Cc(f,$,M),m!==null&&(Pa(m,f,M,T),Wx(m,f,M))},enqueueReplaceState:function(f,m,j){f=f._reactInternals;var T=Ri(),M=Tc(f),$=ul(T,M);$.tag=1,$.payload=m,j!=null&&($.callback=j),m=Cc(f,$,M),m!==null&&(Pa(m,f,M,T),Wx(m,f,M))},enqueueForceUpdate:function(f,m){f=f._reactInternals;var j=Ri(),T=Tc(f),M=ul(j,T);M.tag=2,m!=null&&(M.callback=m),m=Cc(f,M,T),m!==null&&(Pa(m,f,T,j),Wx(m,f,T))}};function FL(f,m,j,T,M,$,re){return f=f.stateNode,typeof f.shouldComponentUpdate=="function"?f.shouldComponentUpdate(T,$,re):m.prototype&&m.prototype.isPureReactComponent?!lo(j,T)||!lo(M,$):!0}function BL(f,m,j){var T=!1,M=jc,$=m.contextType;return typeof $=="object"&&$!==null?$=Zs($):(M=Hi(m)?Ku:gi.current,T=m.contextTypes,$=(T=T!=null)?Uf(f,M):jc),m=new m(j,$),f.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Qx,f.stateNode=m,m._reactInternals=f,T&&(f=f.stateNode,f.__reactInternalMemoizedUnmaskedChildContext=M,f.__reactInternalMemoizedMaskedChildContext=$),m}function zL(f,m,j,T){f=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(j,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(j,T),m.state!==f&&Qx.enqueueReplaceState(m,m.state,null)}function Wj(f,m,j,T){var M=f.stateNode;M.props=j,M.state=f.memoizedState,M.refs={},Aj(f);var $=m.contextType;typeof $=="object"&&$!==null?M.context=Zs($):($=Hi(m)?Ku:gi.current,M.context=Uf(f,$)),M.state=f.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(Vj(f,m,$,j),M.state=f.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&Qx.enqueueReplaceState(M,M.state,null),Hx(f,j,M,T),M.state=f.memoizedState),typeof M.componentDidMount=="function"&&(f.flags|=4194308)}function Xf(f,m){try{var j="",T=m;do j+=Le(T),T=T.return;while(T);var M=j}catch($){M=`
Error generating stack: `+$.message+`
`+$.stack}return{value:f,source:m,stack:M,digest:null}}function Hj(f,m,j){return{value:f,source:null,stack:j??null,digest:m??null}}function Kj(f,m){try{console.error(m.value)}catch(j){setTimeout(function(){throw j})}}var Yre=typeof WeakMap=="function"?WeakMap:Map;function qL(f,m,j){j=ul(-1,j),j.tag=3,j.payload={element:null};var T=m.value;return j.callback=function(){a0||(a0=!0,lS=T),Kj(f,m)},j}function UL(f,m,j){j=ul(-1,j),j.tag=3;var T=f.type.getDerivedStateFromError;if(typeof T=="function"){var M=m.value;j.payload=function(){return T(M)},j.callback=function(){Kj(f,m)}}var $=f.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(j.callback=function(){Kj(f,m),typeof T!="function"&&(Pc===null?Pc=new Set([this]):Pc.add(this));var re=m.stack;this.componentDidCatch(m.value,{componentStack:re!==null?re:""})}),j}function VL(f,m,j){var T=f.pingCache;if(T===null){T=f.pingCache=new Yre;var M=new Set;T.set(m,M)}else M=T.get(m),M===void 0&&(M=new Set,T.set(m,M));M.has(j)||(M.add(j),f=une.bind(null,f,m,j),m.then(f,f))}function WL(f){do{var m;if((m=f.tag===13)&&(m=f.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return f;f=f.return}while(f!==null);return null}function HL(f,m,j,T,M){return(f.mode&1)===0?(f===m?f.flags|=65536:(f.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(m=ul(-1,1),m.tag=2,Cc(j,m,1))),j.lanes|=1),f):(f.flags|=65536,f.lanes=M,f)}var Xre=A.ReactCurrentOwner,Ki=!1;function Oi(f,m,j,T){m.child=f===null?fL(m,null,j,T):Kf(m,f.child,j,T)}function KL(f,m,j,T,M){j=j.render;var $=m.ref;return Zf(m,M),T=$j(f,m,j,T,$,M),j=Fj(),f!==null&&!Ki?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~M,dl(f,m,M)):(Xr&&j&&wj(m),m.flags|=1,Oi(f,m,T,M),m.child)}function GL(f,m,j,T,M){if(f===null){var $=j.type;return typeof $=="function"&&!mS($)&&$.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(m.tag=15,m.type=$,ZL(f,m,$,T,M)):(f=f0(j.type,null,T,m,m.mode,M),f.ref=m.ref,f.return=m,m.child=f)}if($=f.child,(f.lanes&M)===0){var re=$.memoizedProps;if(j=j.compare,j=j!==null?j:lo,j(re,T)&&f.ref===m.ref)return dl(f,m,M)}return m.flags|=1,f=Oc($,T),f.ref=m.ref,f.return=m,m.child=f}function ZL(f,m,j,T,M){if(f!==null){var $=f.memoizedProps;if(lo($,T)&&f.ref===m.ref)if(Ki=!1,m.pendingProps=T=$,(f.lanes&M)!==0)(f.flags&131072)!==0&&(Ki=!0);else return m.lanes=f.lanes,dl(f,m,M)}return Gj(f,m,j,T,M)}function YL(f,m,j){var T=m.pendingProps,M=T.children,$=f!==null?f.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fr(Qf,js),js|=j;else{if((j&1073741824)===0)return f=$!==null?$.baseLanes|j:j,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:f,cachePool:null,transitions:null},m.updateQueue=null,Fr(Qf,js),js|=f,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:j,Fr(Qf,js),js|=T}else $!==null?(T=$.baseLanes|j,m.memoizedState=null):T=j,Fr(Qf,js),js|=T;return Oi(f,m,M,j),m.child}function XL(f,m){var j=m.ref;(f===null&&j!==null||f!==null&&f.ref!==j)&&(m.flags|=512,m.flags|=2097152)}function Gj(f,m,j,T,M){var $=Hi(j)?Ku:gi.current;return $=Uf(m,$),Zf(m,M),j=$j(f,m,j,T,$,M),T=Fj(),f!==null&&!Ki?(m.updateQueue=f.updateQueue,m.flags&=-2053,f.lanes&=~M,dl(f,m,M)):(Xr&&T&&wj(m),m.flags|=1,Oi(f,m,j,M),m.child)}function JL(f,m,j,T,M){if(Hi(j)){var $=!0;Dx(m)}else $=!1;if(Zf(m,M),m.stateNode===null)t0(f,m),BL(m,j,T),Wj(m,j,T,M),T=!0;else if(f===null){var re=m.stateNode,de=m.memoizedProps;re.props=de;var ve=re.context,Ie=j.contextType;typeof Ie=="object"&&Ie!==null?Ie=Zs(Ie):(Ie=Hi(j)?Ku:gi.current,Ie=Uf(m,Ie));var Ke=j.getDerivedStateFromProps,Ye=typeof Ke=="function"||typeof re.getSnapshotBeforeUpdate=="function";Ye||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==T||ve!==Ie)&&zL(m,re,T,Ie),Nc=!1;var He=m.memoizedState;re.state=He,Hx(m,T,re,M),ve=m.memoizedState,de!==T||He!==ve||Wi.current||Nc?(typeof Ke=="function"&&(Vj(m,j,Ke,T),ve=m.memoizedState),(de=Nc||FL(m,j,de,T,He,ve,Ie))?(Ye||typeof re.UNSAFE_componentWillMount!="function"&&typeof re.componentWillMount!="function"||(typeof re.componentWillMount=="function"&&re.componentWillMount(),typeof re.UNSAFE_componentWillMount=="function"&&re.UNSAFE_componentWillMount()),typeof re.componentDidMount=="function"&&(m.flags|=4194308)):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=ve),re.props=T,re.state=ve,re.context=Ie,T=de):(typeof re.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{re=m.stateNode,pL(f,m),de=m.memoizedProps,Ie=m.type===m.elementType?de:Na(m.type,de),re.props=Ie,Ye=m.pendingProps,He=re.context,ve=j.contextType,typeof ve=="object"&&ve!==null?ve=Zs(ve):(ve=Hi(j)?Ku:gi.current,ve=Uf(m,ve));var st=j.getDerivedStateFromProps;(Ke=typeof st=="function"||typeof re.getSnapshotBeforeUpdate=="function")||typeof re.UNSAFE_componentWillReceiveProps!="function"&&typeof re.componentWillReceiveProps!="function"||(de!==Ye||He!==ve)&&zL(m,re,T,ve),Nc=!1,He=m.memoizedState,re.state=He,Hx(m,T,re,M);var ut=m.memoizedState;de!==Ye||He!==ut||Wi.current||Nc?(typeof st=="function"&&(Vj(m,j,st,T),ut=m.memoizedState),(Ie=Nc||FL(m,j,Ie,T,He,ut,ve)||!1)?(Ke||typeof re.UNSAFE_componentWillUpdate!="function"&&typeof re.componentWillUpdate!="function"||(typeof re.componentWillUpdate=="function"&&re.componentWillUpdate(T,ut,ve),typeof re.UNSAFE_componentWillUpdate=="function"&&re.UNSAFE_componentWillUpdate(T,ut,ve)),typeof re.componentDidUpdate=="function"&&(m.flags|=4),typeof re.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof re.componentDidUpdate!="function"||de===f.memoizedProps&&He===f.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===f.memoizedProps&&He===f.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=ut),re.props=T,re.state=ut,re.context=ve,T=Ie):(typeof re.componentDidUpdate!="function"||de===f.memoizedProps&&He===f.memoizedState||(m.flags|=4),typeof re.getSnapshotBeforeUpdate!="function"||de===f.memoizedProps&&He===f.memoizedState||(m.flags|=1024),T=!1)}return Zj(f,m,j,T,$,M)}function Zj(f,m,j,T,M,$){XL(f,m);var re=(m.flags&128)!==0;if(!T&&!re)return M&&nL(m,j,!1),dl(f,m,$);T=m.stateNode,Xre.current=m;var de=re&&typeof j.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,f!==null&&re?(m.child=Kf(m,f.child,null,$),m.child=Kf(m,null,de,$)):Oi(f,m,de,$),m.memoizedState=T.state,M&&nL(m,j,!0),m.child}function QL(f){var m=f.stateNode;m.pendingContext?tL(f,m.pendingContext,m.pendingContext!==m.context):m.context&&tL(f,m.context,!1),Oj(f,m.containerInfo)}function eD(f,m,j,T,M){return Hf(),Nj(M),m.flags|=256,Oi(f,m,j,T),m.child}var Yj={dehydrated:null,treeContext:null,retryLane:0};function Xj(f){return{baseLanes:f,cachePool:null,transitions:null}}function tD(f,m,j){var T=m.pendingProps,M=rn.current,$=!1,re=(m.flags&128)!==0,de;if((de=re)||(de=f!==null&&f.memoizedState===null?!1:(M&2)!==0),de?($=!0,m.flags&=-129):(f===null||f.memoizedState!==null)&&(M|=1),Fr(rn,M&1),f===null)return Sj(m),f=m.memoizedState,f!==null&&(f=f.dehydrated,f!==null)?((m.mode&1)===0?m.lanes=1:f.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(re=T.children,f=T.fallback,$?(T=m.mode,$=m.child,re={mode:"hidden",children:re},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=re):$=h0(re,T,0,null),f=nd(f,T,j,null),$.return=m,f.return=m,$.sibling=f,m.child=$,m.child.memoizedState=Xj(j),m.memoizedState=Yj,f):Jj(m,re));if(M=f.memoizedState,M!==null&&(de=M.dehydrated,de!==null))return Jre(f,m,re,T,de,M,j);if($){$=T.fallback,re=m.mode,M=f.child,de=M.sibling;var ve={mode:"hidden",children:T.children};return(re&1)===0&&m.child!==M?(T=m.child,T.childLanes=0,T.pendingProps=ve,m.deletions=null):(T=Oc(M,ve),T.subtreeFlags=M.subtreeFlags&14680064),de!==null?$=Oc(de,$):($=nd($,re,j,null),$.flags|=2),$.return=m,T.return=m,T.sibling=$,m.child=T,T=$,$=m.child,re=f.child.memoizedState,re=re===null?Xj(j):{baseLanes:re.baseLanes|j,cachePool:null,transitions:re.transitions},$.memoizedState=re,$.childLanes=f.childLanes&~j,m.memoizedState=Yj,T}return $=f.child,f=$.sibling,T=Oc($,{mode:"visible",children:T.children}),(m.mode&1)===0&&(T.lanes=j),T.return=m,T.sibling=null,f!==null&&(j=m.deletions,j===null?(m.deletions=[f],m.flags|=16):j.push(f)),m.child=T,m.memoizedState=null,T}function Jj(f,m){return m=h0({mode:"visible",children:m},f.mode,0,null),m.return=f,f.child=m}function e0(f,m,j,T){return T!==null&&Nj(T),Kf(m,f.child,null,j),f=Jj(m,m.pendingProps.children),f.flags|=2,m.memoizedState=null,f}function Jre(f,m,j,T,M,$,re){if(j)return m.flags&256?(m.flags&=-257,T=Hj(Error(r(422))),e0(f,m,re,T)):m.memoizedState!==null?(m.child=f.child,m.flags|=128,null):($=T.fallback,M=m.mode,T=h0({mode:"visible",children:T.children},M,0,null),$=nd($,M,re,null),$.flags|=2,T.return=m,$.return=m,T.sibling=$,m.child=T,(m.mode&1)!==0&&Kf(m,f.child,null,re),m.child.memoizedState=Xj(re),m.memoizedState=Yj,$);if((m.mode&1)===0)return e0(f,m,re,null);if(M.data==="$!"){if(T=M.nextSibling&&M.nextSibling.dataset,T)var de=T.dgst;return T=de,$=Error(r(419)),T=Hj($,T,void 0),e0(f,m,re,T)}if(de=(re&f.childLanes)!==0,Ki||de){if(T=Wn,T!==null){switch(re&-re){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(T.suspendedLanes|re))!==0?0:M,M!==0&&M!==$.retryLane&&($.retryLane=M,cl(f,M),Pa(T,f,M,-1))}return pS(),T=Hj(Error(r(421))),e0(f,m,re,T)}return M.data==="$?"?(m.flags|=128,m.child=f.child,m=dne.bind(null,f),M._reactRetry=m,null):(f=$.treeContext,_s=fo(M.nextSibling),ws=m,Xr=!0,Sa=null,f!==null&&(Ks[Gs++]=ol,Ks[Gs++]=ll,Ks[Gs++]=Gu,ol=f.id,ll=f.overflow,Gu=m),m=Jj(m,T.children),m.flags|=4096,m)}function rD(f,m,j){f.lanes|=m;var T=f.alternate;T!==null&&(T.lanes|=m),kj(f.return,m,j)}function Qj(f,m,j,T,M){var $=f.memoizedState;$===null?f.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:j,tailMode:M}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=j,$.tailMode=M)}function nD(f,m,j){var T=m.pendingProps,M=T.revealOrder,$=T.tail;if(Oi(f,m,T.children,j),T=rn.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(f!==null&&(f.flags&128)!==0)e:for(f=m.child;f!==null;){if(f.tag===13)f.memoizedState!==null&&rD(f,j,m);else if(f.tag===19)rD(f,j,m);else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===m)break e;for(;f.sibling===null;){if(f.return===null||f.return===m)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}T&=1}if(Fr(rn,T),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(j=m.child,M=null;j!==null;)f=j.alternate,f!==null&&Kx(f)===null&&(M=j),j=j.sibling;j=M,j===null?(M=m.child,m.child=null):(M=j.sibling,j.sibling=null),Qj(m,!1,M,j,$);break;case"backwards":for(j=null,M=m.child,m.child=null;M!==null;){if(f=M.alternate,f!==null&&Kx(f)===null){m.child=M;break}f=M.sibling,M.sibling=j,j=M,M=f}Qj(m,!0,j,null,$);break;case"together":Qj(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function t0(f,m){(m.mode&1)===0&&f!==null&&(f.alternate=null,m.alternate=null,m.flags|=2)}function dl(f,m,j){if(f!==null&&(m.dependencies=f.dependencies),Qu|=m.lanes,(j&m.childLanes)===0)return null;if(f!==null&&m.child!==f.child)throw Error(r(153));if(m.child!==null){for(f=m.child,j=Oc(f,f.pendingProps),m.child=j,j.return=m;f.sibling!==null;)f=f.sibling,j=j.sibling=Oc(f,f.pendingProps),j.return=m;j.sibling=null}return m.child}function Qre(f,m,j){switch(m.tag){case 3:QL(m),Hf();break;case 5:vL(m);break;case 1:Hi(m.type)&&Dx(m);break;case 4:Oj(m,m.stateNode.containerInfo);break;case 10:var T=m.type._context,M=m.memoizedProps.value;Fr(Ux,T._currentValue),T._currentValue=M;break;case 13:if(T=m.memoizedState,T!==null)return T.dehydrated!==null?(Fr(rn,rn.current&1),m.flags|=128,null):(j&m.child.childLanes)!==0?tD(f,m,j):(Fr(rn,rn.current&1),f=dl(f,m,j),f!==null?f.sibling:null);Fr(rn,rn.current&1);break;case 19:if(T=(j&m.childLanes)!==0,(f.flags&128)!==0){if(T)return nD(f,m,j);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),Fr(rn,rn.current),T)break;return null;case 22:case 23:return m.lanes=0,YL(f,m,j)}return dl(f,m,j)}var iD,eS,sD,aD;iD=function(f,m){for(var j=m.child;j!==null;){if(j.tag===5||j.tag===6)f.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===m)break;for(;j.sibling===null;){if(j.return===null||j.return===m)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},eS=function(){},sD=function(f,m,j,T){var M=f.memoizedProps;if(M!==T){f=m.stateNode,Xu(ho.current);var $=null;switch(j){case"input":M=we(f,M),T=we(f,T),$=[];break;case"select":M=ne({},M,{value:void 0}),T=ne({},T,{value:void 0}),$=[];break;case"textarea":M=Ae(f,M),T=Ae(f,T),$=[];break;default:typeof M.onClick!="function"&&typeof T.onClick=="function"&&(f.onclick=ze)}Ut(j,T);var re;j=null;for(Ie in M)if(!T.hasOwnProperty(Ie)&&M.hasOwnProperty(Ie)&&M[Ie]!=null)if(Ie==="style"){var de=M[Ie];for(re in de)de.hasOwnProperty(re)&&(j||(j={}),j[re]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(i.hasOwnProperty(Ie)?$||($=[]):($=$||[]).push(Ie,null));for(Ie in T){var ve=T[Ie];if(de=M?.[Ie],T.hasOwnProperty(Ie)&&ve!==de&&(ve!=null||de!=null))if(Ie==="style")if(de){for(re in de)!de.hasOwnProperty(re)||ve&&ve.hasOwnProperty(re)||(j||(j={}),j[re]="");for(re in ve)ve.hasOwnProperty(re)&&de[re]!==ve[re]&&(j||(j={}),j[re]=ve[re])}else j||($||($=[]),$.push(Ie,j)),j=ve;else Ie==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,de=de?de.__html:void 0,ve!=null&&de!==ve&&($=$||[]).push(Ie,ve)):Ie==="children"?typeof ve!="string"&&typeof ve!="number"||($=$||[]).push(Ie,""+ve):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ie)?(ve!=null&&Ie==="onScroll"&&Cr("scroll",f),$||de===ve||($=[])):($=$||[]).push(Ie,ve))}j&&($=$||[]).push("style",j);var Ie=$;(m.updateQueue=Ie)&&(m.flags|=4)}},aD=function(f,m,j,T){j!==T&&(m.flags|=4)};function Qm(f,m){if(!Xr)switch(f.tailMode){case"hidden":m=f.tail;for(var j=null;m!==null;)m.alternate!==null&&(j=m),m=m.sibling;j===null?f.tail=null:j.sibling=null;break;case"collapsed":j=f.tail;for(var T=null;j!==null;)j.alternate!==null&&(T=j),j=j.sibling;T===null?m||f.tail===null?f.tail=null:f.tail.sibling=null:T.sibling=null}}function yi(f){var m=f.alternate!==null&&f.alternate.child===f.child,j=0,T=0;if(m)for(var M=f.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags&14680064,T|=M.flags&14680064,M.return=f,M=M.sibling;else for(M=f.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags,T|=M.flags,M.return=f,M=M.sibling;return f.subtreeFlags|=T,f.childLanes=j,m}function ene(f,m,j){var T=m.pendingProps;switch(_j(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yi(m),null;case 1:return Hi(m.type)&&Lx(),yi(m),null;case 3:return T=m.stateNode,Yf(),Wr(Wi),Wr(gi),Ij(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(f===null||f.child===null)&&(zx(m)?m.flags|=4:f===null||f.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,Sa!==null&&(dS(Sa),Sa=null))),eS(f,m),yi(m),null;case 5:Rj(m);var M=Xu(Gm.current);if(j=m.type,f!==null&&m.stateNode!=null)sD(f,m,j,T,M),f.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(r(166));return yi(m),null}if(f=Xu(ho.current),zx(m)){T=m.stateNode,j=m.type;var $=m.memoizedProps;switch(T[Hs]=m,T[bc]=$,f=(m.mode&1)!==0,j){case"dialog":Cr("cancel",T),Cr("close",T);break;case"iframe":case"object":case"embed":Cr("load",T);break;case"video":case"audio":for(M=0;M<vc.length;M++)Cr(vc[M],T);break;case"source":Cr("error",T);break;case"img":case"image":case"link":Cr("error",T),Cr("load",T);break;case"details":Cr("toggle",T);break;case"input":We(T,$),Cr("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Cr("invalid",T);break;case"textarea":Ze(T,$),Cr("invalid",T)}Ut(j,$),M=null;for(var re in $)if($.hasOwnProperty(re)){var de=$[re];re==="children"?typeof de=="string"?T.textContent!==de&&($.suppressHydrationWarning!==!0&&Me(T.textContent,de,f),M=["children",de]):typeof de=="number"&&T.textContent!==""+de&&($.suppressHydrationWarning!==!0&&Me(T.textContent,de,f),M=["children",""+de]):i.hasOwnProperty(re)&&de!=null&&re==="onScroll"&&Cr("scroll",T)}switch(j){case"input":te(T),ot(T,$,!0);break;case"textarea":te(T),me(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=ze)}T=M,m.updateQueue=T,T!==null&&(m.flags|=4)}else{re=M.nodeType===9?M:M.ownerDocument,f==="http://www.w3.org/1999/xhtml"&&(f=De(j)),f==="http://www.w3.org/1999/xhtml"?j==="script"?(f=re.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild)):typeof T.is=="string"?f=re.createElement(j,{is:T.is}):(f=re.createElement(j),j==="select"&&(re=f,T.multiple?re.multiple=!0:T.size&&(re.size=T.size))):f=re.createElementNS(f,j),f[Hs]=m,f[bc]=T,iD(f,m,!1,!1),m.stateNode=f;e:{switch(re=Xt(j,T),j){case"dialog":Cr("cancel",f),Cr("close",f),M=T;break;case"iframe":case"object":case"embed":Cr("load",f),M=T;break;case"video":case"audio":for(M=0;M<vc.length;M++)Cr(vc[M],f);M=T;break;case"source":Cr("error",f),M=T;break;case"img":case"image":case"link":Cr("error",f),Cr("load",f),M=T;break;case"details":Cr("toggle",f),M=T;break;case"input":We(f,T),M=we(f,T),Cr("invalid",f);break;case"option":M=T;break;case"select":f._wrapperState={wasMultiple:!!T.multiple},M=ne({},T,{value:void 0}),Cr("invalid",f);break;case"textarea":Ze(f,T),M=Ae(f,T),Cr("invalid",f);break;default:M=T}Ut(j,M),de=M;for($ in de)if(de.hasOwnProperty($)){var ve=de[$];$==="style"?yt(f,ve):$==="dangerouslySetInnerHTML"?(ve=ve?ve.__html:void 0,ve!=null&&B(f,ve)):$==="children"?typeof ve=="string"?(j!=="textarea"||ve!=="")&&le(f,ve):typeof ve=="number"&&le(f,""+ve):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?ve!=null&&$==="onScroll"&&Cr("scroll",f):ve!=null&&C(f,$,ve,re))}switch(j){case"input":te(f),ot(f,T,!1);break;case"textarea":te(f),me(f);break;case"option":T.value!=null&&f.setAttribute("value",""+ge(T.value));break;case"select":f.multiple=!!T.multiple,$=T.value,$!=null?je(f,!!T.multiple,$,!1):T.defaultValue!=null&&je(f,!!T.multiple,T.defaultValue,!0);break;default:typeof M.onClick=="function"&&(f.onclick=ze)}switch(j){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return yi(m),null;case 6:if(f&&m.stateNode!=null)aD(f,m,f.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(r(166));if(j=Xu(Gm.current),Xu(ho.current),zx(m)){if(T=m.stateNode,j=m.memoizedProps,T[Hs]=m,($=T.nodeValue!==j)&&(f=ws,f!==null))switch(f.tag){case 3:Me(T.nodeValue,j,(f.mode&1)!==0);break;case 5:f.memoizedProps.suppressHydrationWarning!==!0&&Me(T.nodeValue,j,(f.mode&1)!==0)}$&&(m.flags|=4)}else T=(j.nodeType===9?j:j.ownerDocument).createTextNode(T),T[Hs]=m,m.stateNode=T}return yi(m),null;case 13:if(Wr(rn),T=m.memoizedState,f===null||f.memoizedState!==null&&f.memoizedState.dehydrated!==null){if(Xr&&_s!==null&&(m.mode&1)!==0&&(m.flags&128)===0)cL(),Hf(),m.flags|=98560,$=!1;else if($=zx(m),T!==null&&T.dehydrated!==null){if(f===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[Hs]=m}else Hf(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;yi(m),$=!1}else Sa!==null&&(dS(Sa),Sa=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=j,m):(T=T!==null,T!==(f!==null&&f.memoizedState!==null)&&T&&(m.child.flags|=8192,(m.mode&1)!==0&&(f===null||(rn.current&1)!==0?In===0&&(In=3):pS())),m.updateQueue!==null&&(m.flags|=4),yi(m),null);case 4:return Yf(),eS(f,m),f===null&&yc(m.stateNode.containerInfo),yi(m),null;case 10:return Pj(m.type._context),yi(m),null;case 17:return Hi(m.type)&&Lx(),yi(m),null;case 19:if(Wr(rn),$=m.memoizedState,$===null)return yi(m),null;if(T=(m.flags&128)!==0,re=$.rendering,re===null)if(T)Qm($,!1);else{if(In!==0||f!==null&&(f.flags&128)!==0)for(f=m.child;f!==null;){if(re=Kx(f),re!==null){for(m.flags|=128,Qm($,!1),T=re.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),m.subtreeFlags=0,T=j,j=m.child;j!==null;)$=j,f=T,$.flags&=14680066,re=$.alternate,re===null?($.childLanes=0,$.lanes=f,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=re.childLanes,$.lanes=re.lanes,$.child=re.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=re.memoizedProps,$.memoizedState=re.memoizedState,$.updateQueue=re.updateQueue,$.type=re.type,f=re.dependencies,$.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),j=j.sibling;return Fr(rn,rn.current&1|2),m.child}f=f.sibling}$.tail!==null&&en()>eh&&(m.flags|=128,T=!0,Qm($,!1),m.lanes=4194304)}else{if(!T)if(f=Kx(re),f!==null){if(m.flags|=128,T=!0,j=f.updateQueue,j!==null&&(m.updateQueue=j,m.flags|=4),Qm($,!0),$.tail===null&&$.tailMode==="hidden"&&!re.alternate&&!Xr)return yi(m),null}else 2*en()-$.renderingStartTime>eh&&j!==1073741824&&(m.flags|=128,T=!0,Qm($,!1),m.lanes=4194304);$.isBackwards?(re.sibling=m.child,m.child=re):(j=$.last,j!==null?j.sibling=re:m.child=re,$.last=re)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=en(),m.sibling=null,j=rn.current,Fr(rn,T?j&1|2:j&1),m):(yi(m),null);case 22:case 23:return hS(),T=m.memoizedState!==null,f!==null&&f.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(js&1073741824)!==0&&(yi(m),m.subtreeFlags&6&&(m.flags|=8192)):yi(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function tne(f,m){switch(_j(m),m.tag){case 1:return Hi(m.type)&&Lx(),f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 3:return Yf(),Wr(Wi),Wr(gi),Ij(),f=m.flags,(f&65536)!==0&&(f&128)===0?(m.flags=f&-65537|128,m):null;case 5:return Rj(m),null;case 13:if(Wr(rn),f=m.memoizedState,f!==null&&f.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Hf()}return f=m.flags,f&65536?(m.flags=f&-65537|128,m):null;case 19:return Wr(rn),null;case 4:return Yf(),null;case 10:return Pj(m.type._context),null;case 22:case 23:return hS(),null;case 24:return null;default:return null}}var r0=!1,xi=!1,rne=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Jf(f,m){var j=f.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(T){cn(f,m,T)}else j.current=null}function tS(f,m,j){try{j()}catch(T){cn(f,m,T)}}var oD=!1;function nne(f,m){if(nt=Fu,f=Lm(),Dm(f)){if("selectionStart"in f)var j={start:f.selectionStart,end:f.selectionEnd};else e:{j=(j=f.ownerDocument)&&j.defaultView||window;var T=j.getSelection&&j.getSelection();if(T&&T.rangeCount!==0){j=T.anchorNode;var M=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{j.nodeType,$.nodeType}catch{j=null;break e}var re=0,de=-1,ve=-1,Ie=0,Ke=0,Ye=f,He=null;t:for(;;){for(var st;Ye!==j||M!==0&&Ye.nodeType!==3||(de=re+M),Ye!==$||T!==0&&Ye.nodeType!==3||(ve=re+T),Ye.nodeType===3&&(re+=Ye.nodeValue.length),(st=Ye.firstChild)!==null;)He=Ye,Ye=st;for(;;){if(Ye===f)break t;if(He===j&&++Ie===M&&(de=re),He===$&&++Ke===T&&(ve=re),(st=Ye.nextSibling)!==null)break;Ye=He,He=Ye.parentNode}Ye=st}j=de===-1||ve===-1?null:{start:de,end:ve}}else j=null}j=j||{start:0,end:0}}else j=null;for(xt={focusedElem:f,selectionRange:j},Fu=!1,lt=m;lt!==null;)if(m=lt,f=m.child,(m.subtreeFlags&1028)!==0&&f!==null)f.return=m,lt=f;else for(;lt!==null;){m=lt;try{var ut=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(ut!==null){var ht=ut.memoizedProps,pn=ut.memoizedState,ke=m.stateNode,Se=ke.getSnapshotBeforeUpdate(m.elementType===m.type?ht:Na(m.type,ht),pn);ke.__reactInternalSnapshotBeforeUpdate=Se}break;case 3:var Te=m.stateNode.containerInfo;Te.nodeType===1?Te.textContent="":Te.nodeType===9&&Te.documentElement&&Te.removeChild(Te.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Je){cn(m,m.return,Je)}if(f=m.sibling,f!==null){f.return=m.return,lt=f;break}lt=m.return}return ut=oD,oD=!1,ut}function eg(f,m,j){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var M=T=T.next;do{if((M.tag&f)===f){var $=M.destroy;M.destroy=void 0,$!==void 0&&tS(m,j,$)}M=M.next}while(M!==T)}}function n0(f,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var j=m=m.next;do{if((j.tag&f)===f){var T=j.create;j.destroy=T()}j=j.next}while(j!==m)}}function rS(f){var m=f.ref;if(m!==null){var j=f.stateNode;switch(f.tag){case 5:f=j;break;default:f=j}typeof m=="function"?m(f):m.current=f}}function lD(f){var m=f.alternate;m!==null&&(f.alternate=null,lD(m)),f.child=null,f.deletions=null,f.sibling=null,f.tag===5&&(m=f.stateNode,m!==null&&(delete m[Hs],delete m[bc],delete m[wc],delete m[vj],delete m[yj])),f.stateNode=null,f.return=null,f.dependencies=null,f.memoizedProps=null,f.memoizedState=null,f.pendingProps=null,f.stateNode=null,f.updateQueue=null}function cD(f){return f.tag===5||f.tag===3||f.tag===4}function uD(f){e:for(;;){for(;f.sibling===null;){if(f.return===null||cD(f.return))return null;f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(f.flags&2||f.child===null||f.tag===4)continue e;f.child.return=f,f=f.child}if(!(f.flags&2))return f.stateNode}}function nS(f,m,j){var T=f.tag;if(T===5||T===6)f=f.stateNode,m?j.nodeType===8?j.parentNode.insertBefore(f,m):j.insertBefore(f,m):(j.nodeType===8?(m=j.parentNode,m.insertBefore(f,j)):(m=j,m.appendChild(f)),j=j._reactRootContainer,j!=null||m.onclick!==null||(m.onclick=ze));else if(T!==4&&(f=f.child,f!==null))for(nS(f,m,j),f=f.sibling;f!==null;)nS(f,m,j),f=f.sibling}function iS(f,m,j){var T=f.tag;if(T===5||T===6)f=f.stateNode,m?j.insertBefore(f,m):j.appendChild(f);else if(T!==4&&(f=f.child,f!==null))for(iS(f,m,j),f=f.sibling;f!==null;)iS(f,m,j),f=f.sibling}var ni=null,Ca=!1;function Ec(f,m,j){for(j=j.child;j!==null;)dD(f,m,j),j=j.sibling}function dD(f,m,j){if(hs&&typeof hs.onCommitFiberUnmount=="function")try{hs.onCommitFiberUnmount(Ru,j)}catch{}switch(j.tag){case 5:xi||Jf(j,m);case 6:var T=ni,M=Ca;ni=null,Ec(f,m,j),ni=T,Ca=M,ni!==null&&(Ca?(f=ni,j=j.stateNode,f.nodeType===8?f.parentNode.removeChild(j):f.removeChild(j)):ni.removeChild(j.stateNode));break;case 18:ni!==null&&(Ca?(f=ni,j=j.stateNode,f.nodeType===8?Vm(f.parentNode,j):f.nodeType===1&&Vm(f,j),gs(f)):Vm(ni,j.stateNode));break;case 4:T=ni,M=Ca,ni=j.stateNode.containerInfo,Ca=!0,Ec(f,m,j),ni=T,Ca=M;break;case 0:case 11:case 14:case 15:if(!xi&&(T=j.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){M=T=T.next;do{var $=M,re=$.destroy;$=$.tag,re!==void 0&&(($&2)!==0||($&4)!==0)&&tS(j,m,re),M=M.next}while(M!==T)}Ec(f,m,j);break;case 1:if(!xi&&(Jf(j,m),T=j.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=j.memoizedProps,T.state=j.memoizedState,T.componentWillUnmount()}catch(de){cn(j,m,de)}Ec(f,m,j);break;case 21:Ec(f,m,j);break;case 22:j.mode&1?(xi=(T=xi)||j.memoizedState!==null,Ec(f,m,j),xi=T):Ec(f,m,j);break;default:Ec(f,m,j)}}function fD(f){var m=f.updateQueue;if(m!==null){f.updateQueue=null;var j=f.stateNode;j===null&&(j=f.stateNode=new rne),m.forEach(function(T){var M=fne.bind(null,f,T);j.has(T)||(j.add(T),T.then(M,M))})}}function Ea(f,m){var j=m.deletions;if(j!==null)for(var T=0;T<j.length;T++){var M=j[T];try{var $=f,re=m,de=re;e:for(;de!==null;){switch(de.tag){case 5:ni=de.stateNode,Ca=!1;break e;case 3:ni=de.stateNode.containerInfo,Ca=!0;break e;case 4:ni=de.stateNode.containerInfo,Ca=!0;break e}de=de.return}if(ni===null)throw Error(r(160));dD($,re,M),ni=null,Ca=!1;var ve=M.alternate;ve!==null&&(ve.return=null),M.return=null}catch(Ie){cn(M,m,Ie)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)hD(m,f),m=m.sibling}function hD(f,m){var j=f.alternate,T=f.flags;switch(f.tag){case 0:case 11:case 14:case 15:if(Ea(m,f),mo(f),T&4){try{eg(3,f,f.return),n0(3,f)}catch(ht){cn(f,f.return,ht)}try{eg(5,f,f.return)}catch(ht){cn(f,f.return,ht)}}break;case 1:Ea(m,f),mo(f),T&512&&j!==null&&Jf(j,j.return);break;case 5:if(Ea(m,f),mo(f),T&512&&j!==null&&Jf(j,j.return),f.flags&32){var M=f.stateNode;try{le(M,"")}catch(ht){cn(f,f.return,ht)}}if(T&4&&(M=f.stateNode,M!=null)){var $=f.memoizedProps,re=j!==null?j.memoizedProps:$,de=f.type,ve=f.updateQueue;if(f.updateQueue=null,ve!==null)try{de==="input"&&$.type==="radio"&&$.name!=null&&Ue(M,$),Xt(de,re);var Ie=Xt(de,$);for(re=0;re<ve.length;re+=2){var Ke=ve[re],Ye=ve[re+1];Ke==="style"?yt(M,Ye):Ke==="dangerouslySetInnerHTML"?B(M,Ye):Ke==="children"?le(M,Ye):C(M,Ke,Ye,Ie)}switch(de){case"input":Ce(M,$);break;case"textarea":Xe(M,$);break;case"select":var He=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!$.multiple;var st=$.value;st!=null?je(M,!!$.multiple,st,!1):He!==!!$.multiple&&($.defaultValue!=null?je(M,!!$.multiple,$.defaultValue,!0):je(M,!!$.multiple,$.multiple?[]:"",!1))}M[bc]=$}catch(ht){cn(f,f.return,ht)}}break;case 6:if(Ea(m,f),mo(f),T&4){if(f.stateNode===null)throw Error(r(162));M=f.stateNode,$=f.memoizedProps;try{M.nodeValue=$}catch(ht){cn(f,f.return,ht)}}break;case 3:if(Ea(m,f),mo(f),T&4&&j!==null&&j.memoizedState.isDehydrated)try{gs(m.containerInfo)}catch(ht){cn(f,f.return,ht)}break;case 4:Ea(m,f),mo(f);break;case 13:Ea(m,f),mo(f),M=f.child,M.flags&8192&&($=M.memoizedState!==null,M.stateNode.isHidden=$,!$||M.alternate!==null&&M.alternate.memoizedState!==null||(oS=en())),T&4&&fD(f);break;case 22:if(Ke=j!==null&&j.memoizedState!==null,f.mode&1?(xi=(Ie=xi)||Ke,Ea(m,f),xi=Ie):Ea(m,f),mo(f),T&8192){if(Ie=f.memoizedState!==null,(f.stateNode.isHidden=Ie)&&!Ke&&(f.mode&1)!==0)for(lt=f,Ke=f.child;Ke!==null;){for(Ye=lt=Ke;lt!==null;){switch(He=lt,st=He.child,He.tag){case 0:case 11:case 14:case 15:eg(4,He,He.return);break;case 1:Jf(He,He.return);var ut=He.stateNode;if(typeof ut.componentWillUnmount=="function"){T=He,j=He.return;try{m=T,ut.props=m.memoizedProps,ut.state=m.memoizedState,ut.componentWillUnmount()}catch(ht){cn(T,j,ht)}}break;case 5:Jf(He,He.return);break;case 22:if(He.memoizedState!==null){gD(Ye);continue}}st!==null?(st.return=He,lt=st):gD(Ye)}Ke=Ke.sibling}e:for(Ke=null,Ye=f;;){if(Ye.tag===5){if(Ke===null){Ke=Ye;try{M=Ye.stateNode,Ie?($=M.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(de=Ye.stateNode,ve=Ye.memoizedProps.style,re=ve!=null&&ve.hasOwnProperty("display")?ve.display:null,de.style.display=$e("display",re))}catch(ht){cn(f,f.return,ht)}}}else if(Ye.tag===6){if(Ke===null)try{Ye.stateNode.nodeValue=Ie?"":Ye.memoizedProps}catch(ht){cn(f,f.return,ht)}}else if((Ye.tag!==22&&Ye.tag!==23||Ye.memoizedState===null||Ye===f)&&Ye.child!==null){Ye.child.return=Ye,Ye=Ye.child;continue}if(Ye===f)break e;for(;Ye.sibling===null;){if(Ye.return===null||Ye.return===f)break e;Ke===Ye&&(Ke=null),Ye=Ye.return}Ke===Ye&&(Ke=null),Ye.sibling.return=Ye.return,Ye=Ye.sibling}}break;case 19:Ea(m,f),mo(f),T&4&&fD(f);break;case 21:break;default:Ea(m,f),mo(f)}}function mo(f){var m=f.flags;if(m&2){try{e:{for(var j=f.return;j!==null;){if(cD(j)){var T=j;break e}j=j.return}throw Error(r(160))}switch(T.tag){case 5:var M=T.stateNode;T.flags&32&&(le(M,""),T.flags&=-33);var $=uD(f);iS(f,$,M);break;case 3:case 4:var re=T.stateNode.containerInfo,de=uD(f);nS(f,de,re);break;default:throw Error(r(161))}}catch(ve){cn(f,f.return,ve)}f.flags&=-3}m&4096&&(f.flags&=-4097)}function ine(f,m,j){lt=f,pD(f)}function pD(f,m,j){for(var T=(f.mode&1)!==0;lt!==null;){var M=lt,$=M.child;if(M.tag===22&&T){var re=M.memoizedState!==null||r0;if(!re){var de=M.alternate,ve=de!==null&&de.memoizedState!==null||xi;de=r0;var Ie=xi;if(r0=re,(xi=ve)&&!Ie)for(lt=M;lt!==null;)re=lt,ve=re.child,re.tag===22&&re.memoizedState!==null?vD(M):ve!==null?(ve.return=re,lt=ve):vD(M);for(;$!==null;)lt=$,pD($),$=$.sibling;lt=M,r0=de,xi=Ie}mD(f)}else(M.subtreeFlags&8772)!==0&&$!==null?($.return=M,lt=$):mD(f)}}function mD(f){for(;lt!==null;){var m=lt;if((m.flags&8772)!==0){var j=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:xi||n0(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!xi)if(j===null)T.componentDidMount();else{var M=m.elementType===m.type?j.memoizedProps:Na(m.type,j.memoizedProps);T.componentDidUpdate(M,j.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&gL(m,$,T);break;case 3:var re=m.updateQueue;if(re!==null){if(j=null,m.child!==null)switch(m.child.tag){case 5:j=m.child.stateNode;break;case 1:j=m.child.stateNode}gL(m,re,j)}break;case 5:var de=m.stateNode;if(j===null&&m.flags&4){j=de;var ve=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":ve.autoFocus&&j.focus();break;case"img":ve.src&&(j.src=ve.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ie=m.alternate;if(Ie!==null){var Ke=Ie.memoizedState;if(Ke!==null){var Ye=Ke.dehydrated;Ye!==null&&gs(Ye)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}xi||m.flags&512&&rS(m)}catch(He){cn(m,m.return,He)}}if(m===f){lt=null;break}if(j=m.sibling,j!==null){j.return=m.return,lt=j;break}lt=m.return}}function gD(f){for(;lt!==null;){var m=lt;if(m===f){lt=null;break}var j=m.sibling;if(j!==null){j.return=m.return,lt=j;break}lt=m.return}}function vD(f){for(;lt!==null;){var m=lt;try{switch(m.tag){case 0:case 11:case 15:var j=m.return;try{n0(4,m)}catch(ve){cn(m,j,ve)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var M=m.return;try{T.componentDidMount()}catch(ve){cn(m,M,ve)}}var $=m.return;try{rS(m)}catch(ve){cn(m,$,ve)}break;case 5:var re=m.return;try{rS(m)}catch(ve){cn(m,re,ve)}}}catch(ve){cn(m,m.return,ve)}if(m===f){lt=null;break}var de=m.sibling;if(de!==null){de.return=m.return,lt=de;break}lt=m.return}}var sne=Math.ceil,i0=A.ReactCurrentDispatcher,sS=A.ReactCurrentOwner,Xs=A.ReactCurrentBatchConfig,nr=0,Wn=null,bn=null,ii=0,js=0,Qf=_c(0),In=0,tg=null,Qu=0,s0=0,aS=0,rg=null,Gi=null,oS=0,eh=1/0,fl=null,a0=!1,lS=null,Pc=null,o0=!1,kc=null,l0=0,ng=0,cS=null,c0=-1,u0=0;function Ri(){return(nr&6)!==0?en():c0!==-1?c0:c0=en()}function Tc(f){return(f.mode&1)===0?1:(nr&2)!==0&&ii!==0?ii&-ii:qre.transition!==null?(u0===0&&(u0=hx()),u0):(f=Jt,f!==0||(f=window.event,f=f===void 0?16:Zt(f.type)),f)}function Pa(f,m,j,T){if(50<ng)throw ng=0,cS=null,Error(r(185));ps(f,j,T),((nr&2)===0||f!==Wn)&&(f===Wn&&((nr&2)===0&&(s0|=j),In===4&&Ac(f,ii)),Zi(f,T),j===1&&nr===0&&(m.mode&1)===0&&(eh=en()+500,$x&&Sc()))}function Zi(f,m){var j=f.callbackNode;bf(f,m);var T=$r(f,f===Wn?ii:0);if(T===0)j!==null&&ym(j),f.callbackNode=null,f.callbackPriority=0;else if(m=T&-T,f.callbackPriority!==m){if(j!=null&&ym(j),m===1)f.tag===0?zre(xD.bind(null,f)):iL(xD.bind(null,f)),mi(function(){(nr&6)===0&&Sc()}),j=null;else{switch(sc(T)){case 1:j=xm;break;case 4:j=fx;break;case 16:j=yf;break;case 536870912:j=tc;break;default:j=yf}j=ED(j,yD.bind(null,f))}f.callbackPriority=m,f.callbackNode=j}}function yD(f,m){if(c0=-1,u0=0,(nr&6)!==0)throw Error(r(327));var j=f.callbackNode;if(th()&&f.callbackNode!==j)return null;var T=$r(f,f===Wn?ii:0);if(T===0)return null;if((T&30)!==0||(T&f.expiredLanes)!==0||m)m=d0(f,T);else{m=T;var M=nr;nr|=2;var $=wD();(Wn!==f||ii!==m)&&(fl=null,eh=en()+500,td(f,m));do try{lne();break}catch(de){bD(f,de)}while(!0);Ej(),i0.current=$,nr=M,bn!==null?m=0:(Wn=null,ii=0,m=In)}if(m!==0){if(m===2&&(M=hi(f),M!==0&&(T=M,m=uS(f,M))),m===1)throw j=tg,td(f,0),Ac(f,T),Zi(f,en()),j;if(m===6)Ac(f,T);else{if(M=f.current.alternate,(T&30)===0&&!ane(M)&&(m=d0(f,T),m===2&&($=hi(f),$!==0&&(T=$,m=uS(f,$))),m===1))throw j=tg,td(f,0),Ac(f,T),Zi(f,en()),j;switch(f.finishedWork=M,f.finishedLanes=T,m){case 0:case 1:throw Error(r(345));case 2:rd(f,Gi,fl);break;case 3:if(Ac(f,T),(T&130023424)===T&&(m=oS+500-en(),10<m)){if($r(f,0)!==0)break;if(M=f.suspendedLanes,(M&T)!==T){Ri(),f.pingedLanes|=f.suspendedLanes&M;break}f.timeoutHandle=Rn(rd.bind(null,f,Gi,fl),m);break}rd(f,Gi,fl);break;case 4:if(Ac(f,T),(T&4194240)===T)break;for(m=f.eventTimes,M=-1;0<T;){var re=31-Ot(T);$=1<<re,re=m[re],re>M&&(M=re),T&=~$}if(T=M,T=en()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*sne(T/1960))-T,10<T){f.timeoutHandle=Rn(rd.bind(null,f,Gi,fl),T);break}rd(f,Gi,fl);break;case 5:rd(f,Gi,fl);break;default:throw Error(r(329))}}}return Zi(f,en()),f.callbackNode===j?yD.bind(null,f):null}function uS(f,m){var j=rg;return f.current.memoizedState.isDehydrated&&(td(f,m).flags|=256),f=d0(f,m),f!==2&&(m=Gi,Gi=j,m!==null&&dS(m)),f}function dS(f){Gi===null?Gi=f:Gi.push.apply(Gi,f)}function ane(f){for(var m=f;;){if(m.flags&16384){var j=m.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var T=0;T<j.length;T++){var M=j[T],$=M.getSnapshot;M=M.value;try{if(!xs($(),M))return!1}catch{return!1}}}if(j=m.child,m.subtreeFlags&16384&&j!==null)j.return=m,m=j;else{if(m===f)break;for(;m.sibling===null;){if(m.return===null||m.return===f)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Ac(f,m){for(m&=~aS,m&=~s0,f.suspendedLanes|=m,f.pingedLanes&=~m,f=f.expirationTimes;0<m;){var j=31-Ot(m),T=1<<j;f[j]=-1,m&=~T}}function xD(f){if((nr&6)!==0)throw Error(r(327));th();var m=$r(f,0);if((m&1)===0)return Zi(f,en()),null;var j=d0(f,m);if(f.tag!==0&&j===2){var T=hi(f);T!==0&&(m=T,j=uS(f,T))}if(j===1)throw j=tg,td(f,0),Ac(f,m),Zi(f,en()),j;if(j===6)throw Error(r(345));return f.finishedWork=f.current.alternate,f.finishedLanes=m,rd(f,Gi,fl),Zi(f,en()),null}function fS(f,m){var j=nr;nr|=1;try{return f(m)}finally{nr=j,nr===0&&(eh=en()+500,$x&&Sc())}}function ed(f){kc!==null&&kc.tag===0&&(nr&6)===0&&th();var m=nr;nr|=1;var j=Xs.transition,T=Jt;try{if(Xs.transition=null,Jt=1,f)return f()}finally{Jt=T,Xs.transition=j,nr=m,(nr&6)===0&&Sc()}}function hS(){js=Qf.current,Wr(Qf)}function td(f,m){f.finishedWork=null,f.finishedLanes=0;var j=f.timeoutHandle;if(j!==-1&&(f.timeoutHandle=-1,xn(j)),bn!==null)for(j=bn.return;j!==null;){var T=j;switch(_j(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Lx();break;case 3:Yf(),Wr(Wi),Wr(gi),Ij();break;case 5:Rj(T);break;case 4:Yf();break;case 13:Wr(rn);break;case 19:Wr(rn);break;case 10:Pj(T.type._context);break;case 22:case 23:hS()}j=j.return}if(Wn=f,bn=f=Oc(f.current,null),ii=js=m,In=0,tg=null,aS=s0=Qu=0,Gi=rg=null,Yu!==null){for(m=0;m<Yu.length;m++)if(j=Yu[m],T=j.interleaved,T!==null){j.interleaved=null;var M=T.next,$=j.pending;if($!==null){var re=$.next;$.next=M,T.next=re}j.pending=T}Yu=null}return f}function bD(f,m){do{var j=bn;try{if(Ej(),Gx.current=Jx,Zx){for(var T=nn.memoizedState;T!==null;){var M=T.queue;M!==null&&(M.pending=null),T=T.next}Zx=!1}if(Ju=0,Vn=Mn=nn=null,Zm=!1,Ym=0,sS.current=null,j===null||j.return===null){In=1,tg=m,bn=null;break}e:{var $=f,re=j.return,de=j,ve=m;if(m=ii,de.flags|=32768,ve!==null&&typeof ve=="object"&&typeof ve.then=="function"){var Ie=ve,Ke=de,Ye=Ke.tag;if((Ke.mode&1)===0&&(Ye===0||Ye===11||Ye===15)){var He=Ke.alternate;He?(Ke.updateQueue=He.updateQueue,Ke.memoizedState=He.memoizedState,Ke.lanes=He.lanes):(Ke.updateQueue=null,Ke.memoizedState=null)}var st=WL(re);if(st!==null){st.flags&=-257,HL(st,re,de,$,m),st.mode&1&&VL($,Ie,m),m=st,ve=Ie;var ut=m.updateQueue;if(ut===null){var ht=new Set;ht.add(ve),m.updateQueue=ht}else ut.add(ve);break e}else{if((m&1)===0){VL($,Ie,m),pS();break e}ve=Error(r(426))}}else if(Xr&&de.mode&1){var pn=WL(re);if(pn!==null){(pn.flags&65536)===0&&(pn.flags|=256),HL(pn,re,de,$,m),Nj(Xf(ve,de));break e}}$=ve=Xf(ve,de),In!==4&&(In=2),rg===null?rg=[$]:rg.push($),$=re;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var ke=qL($,ve,m);mL($,ke);break e;case 1:de=ve;var Se=$.type,Te=$.stateNode;if(($.flags&128)===0&&(typeof Se.getDerivedStateFromError=="function"||Te!==null&&typeof Te.componentDidCatch=="function"&&(Pc===null||!Pc.has(Te)))){$.flags|=65536,m&=-m,$.lanes|=m;var Je=UL($,de,m);mL($,Je);break e}}$=$.return}while($!==null)}jD(j)}catch(gt){m=gt,bn===j&&j!==null&&(bn=j=j.return);continue}break}while(!0)}function wD(){var f=i0.current;return i0.current=Jx,f===null?Jx:f}function pS(){(In===0||In===3||In===2)&&(In=4),Wn===null||(Qu&268435455)===0&&(s0&268435455)===0||Ac(Wn,ii)}function d0(f,m){var j=nr;nr|=2;var T=wD();(Wn!==f||ii!==m)&&(fl=null,td(f,m));do try{one();break}catch(M){bD(f,M)}while(!0);if(Ej(),nr=j,i0.current=T,bn!==null)throw Error(r(261));return Wn=null,ii=0,In}function one(){for(;bn!==null;)_D(bn)}function lne(){for(;bn!==null&&!tj();)_D(bn)}function _D(f){var m=CD(f.alternate,f,js);f.memoizedProps=f.pendingProps,m===null?jD(f):bn=m,sS.current=null}function jD(f){var m=f;do{var j=m.alternate;if(f=m.return,(m.flags&32768)===0){if(j=ene(j,m,js),j!==null){bn=j;return}}else{if(j=tne(j,m),j!==null){j.flags&=32767,bn=j;return}if(f!==null)f.flags|=32768,f.subtreeFlags=0,f.deletions=null;else{In=6,bn=null;return}}if(m=m.sibling,m!==null){bn=m;return}bn=m=f}while(m!==null);In===0&&(In=5)}function rd(f,m,j){var T=Jt,M=Xs.transition;try{Xs.transition=null,Jt=1,cne(f,m,j,T)}finally{Xs.transition=M,Jt=T}return null}function cne(f,m,j,T){do th();while(kc!==null);if((nr&6)!==0)throw Error(r(327));j=f.finishedWork;var M=f.finishedLanes;if(j===null)return null;if(f.finishedWork=null,f.finishedLanes=0,j===f.current)throw Error(r(177));f.callbackNode=null,f.callbackPriority=0;var $=j.lanes|j.childLanes;if(ln(f,$),f===Wn&&(bn=Wn=null,ii=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||o0||(o0=!0,ED(yf,function(){return th(),null})),$=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||$){$=Xs.transition,Xs.transition=null;var re=Jt;Jt=1;var de=nr;nr|=4,sS.current=null,nne(f,j),hD(j,f),Vs(xt),Fu=!!nt,xt=nt=null,f.current=j,ine(j),vf(),nr=de,Jt=re,Xs.transition=$}else f.current=j;if(o0&&(o0=!1,kc=f,l0=M),$=f.pendingLanes,$===0&&(Pc=null),Mu(j.stateNode),Zi(f,en()),m!==null)for(T=f.onRecoverableError,j=0;j<m.length;j++)M=m[j],T(M.value,{componentStack:M.stack,digest:M.digest});if(a0)throw a0=!1,f=lS,lS=null,f;return(l0&1)!==0&&f.tag!==0&&th(),$=f.pendingLanes,($&1)!==0?f===cS?ng++:(ng=0,cS=f):ng=0,Sc(),null}function th(){if(kc!==null){var f=sc(l0),m=Xs.transition,j=Jt;try{if(Xs.transition=null,Jt=16>f?16:f,kc===null)var T=!1;else{if(f=kc,kc=null,l0=0,(nr&6)!==0)throw Error(r(331));var M=nr;for(nr|=4,lt=f.current;lt!==null;){var $=lt,re=$.child;if((lt.flags&16)!==0){var de=$.deletions;if(de!==null){for(var ve=0;ve<de.length;ve++){var Ie=de[ve];for(lt=Ie;lt!==null;){var Ke=lt;switch(Ke.tag){case 0:case 11:case 15:eg(8,Ke,$)}var Ye=Ke.child;if(Ye!==null)Ye.return=Ke,lt=Ye;else for(;lt!==null;){Ke=lt;var He=Ke.sibling,st=Ke.return;if(lD(Ke),Ke===Ie){lt=null;break}if(He!==null){He.return=st,lt=He;break}lt=st}}}var ut=$.alternate;if(ut!==null){var ht=ut.child;if(ht!==null){ut.child=null;do{var pn=ht.sibling;ht.sibling=null,ht=pn}while(ht!==null)}}lt=$}}if(($.subtreeFlags&2064)!==0&&re!==null)re.return=$,lt=re;else e:for(;lt!==null;){if($=lt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:eg(9,$,$.return)}var ke=$.sibling;if(ke!==null){ke.return=$.return,lt=ke;break e}lt=$.return}}var Se=f.current;for(lt=Se;lt!==null;){re=lt;var Te=re.child;if((re.subtreeFlags&2064)!==0&&Te!==null)Te.return=re,lt=Te;else e:for(re=Se;lt!==null;){if(de=lt,(de.flags&2048)!==0)try{switch(de.tag){case 0:case 11:case 15:n0(9,de)}}catch(gt){cn(de,de.return,gt)}if(de===re){lt=null;break e}var Je=de.sibling;if(Je!==null){Je.return=de.return,lt=Je;break e}lt=de.return}}if(nr=M,Sc(),hs&&typeof hs.onPostCommitFiberRoot=="function")try{hs.onPostCommitFiberRoot(Ru,f)}catch{}T=!0}return T}finally{Jt=j,Xs.transition=m}}return!1}function SD(f,m,j){m=Xf(j,m),m=qL(f,m,1),f=Cc(f,m,1),m=Ri(),f!==null&&(ps(f,1,m),Zi(f,m))}function cn(f,m,j){if(f.tag===3)SD(f,f,j);else for(;m!==null;){if(m.tag===3){SD(m,f,j);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Pc===null||!Pc.has(T))){f=Xf(j,f),f=UL(m,f,1),m=Cc(m,f,1),f=Ri(),m!==null&&(ps(m,1,f),Zi(m,f));break}}m=m.return}}function une(f,m,j){var T=f.pingCache;T!==null&&T.delete(m),m=Ri(),f.pingedLanes|=f.suspendedLanes&j,Wn===f&&(ii&j)===j&&(In===4||In===3&&(ii&130023424)===ii&&500>en()-oS?td(f,0):aS|=j),Zi(f,m)}function ND(f,m){m===0&&((f.mode&1)===0?m=1:(m=nc,nc<<=1,(nc&130023424)===0&&(nc=4194304)));var j=Ri();f=cl(f,m),f!==null&&(ps(f,m,j),Zi(f,j))}function dne(f){var m=f.memoizedState,j=0;m!==null&&(j=m.retryLane),ND(f,j)}function fne(f,m){var j=0;switch(f.tag){case 13:var T=f.stateNode,M=f.memoizedState;M!==null&&(j=M.retryLane);break;case 19:T=f.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(m),ND(f,j)}var CD;CD=function(f,m,j){if(f!==null)if(f.memoizedProps!==m.pendingProps||Wi.current)Ki=!0;else{if((f.lanes&j)===0&&(m.flags&128)===0)return Ki=!1,Qre(f,m,j);Ki=(f.flags&131072)!==0}else Ki=!1,Xr&&(m.flags&1048576)!==0&&sL(m,Bx,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;t0(f,m),f=m.pendingProps;var M=Uf(m,gi.current);Zf(m,j),M=$j(null,m,T,f,M,j);var $=Fj();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,Hi(T)?($=!0,Dx(m)):$=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,Aj(m),M.updater=Qx,m.stateNode=M,M._reactInternals=m,Wj(m,T,f,j),m=Zj(null,m,T,!0,$,j)):(m.tag=0,Xr&&$&&wj(m),Oi(null,m,M,j),m=m.child),m;case 16:T=m.elementType;e:{switch(t0(f,m),f=m.pendingProps,M=T._init,T=M(T._payload),m.type=T,M=m.tag=pne(T),f=Na(T,f),M){case 0:m=Gj(null,m,T,f,j);break e;case 1:m=JL(null,m,T,f,j);break e;case 11:m=KL(null,m,T,f,j);break e;case 14:m=GL(null,m,T,Na(T.type,f),j);break e}throw Error(r(306,T,""))}return m;case 0:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:Na(T,M),Gj(f,m,T,M,j);case 1:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:Na(T,M),JL(f,m,T,M,j);case 3:e:{if(QL(m),f===null)throw Error(r(387));T=m.pendingProps,$=m.memoizedState,M=$.element,pL(f,m),Hx(m,T,null,j);var re=m.memoizedState;if(T=re.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:re.cache,pendingSuspenseBoundaries:re.pendingSuspenseBoundaries,transitions:re.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){M=Xf(Error(r(423)),m),m=eD(f,m,T,j,M);break e}else if(T!==M){M=Xf(Error(r(424)),m),m=eD(f,m,T,j,M);break e}else for(_s=fo(m.stateNode.containerInfo.firstChild),ws=m,Xr=!0,Sa=null,j=fL(m,null,T,j),m.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Hf(),T===M){m=dl(f,m,j);break e}Oi(f,m,T,j)}m=m.child}return m;case 5:return vL(m),f===null&&Sj(m),T=m.type,M=m.pendingProps,$=f!==null?f.memoizedProps:null,re=M.children,$t(T,M)?re=null:$!==null&&$t(T,$)&&(m.flags|=32),XL(f,m),Oi(f,m,re,j),m.child;case 6:return f===null&&Sj(m),null;case 13:return tD(f,m,j);case 4:return Oj(m,m.stateNode.containerInfo),T=m.pendingProps,f===null?m.child=Kf(m,null,T,j):Oi(f,m,T,j),m.child;case 11:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:Na(T,M),KL(f,m,T,M,j);case 7:return Oi(f,m,m.pendingProps,j),m.child;case 8:return Oi(f,m,m.pendingProps.children,j),m.child;case 12:return Oi(f,m,m.pendingProps.children,j),m.child;case 10:e:{if(T=m.type._context,M=m.pendingProps,$=m.memoizedProps,re=M.value,Fr(Ux,T._currentValue),T._currentValue=re,$!==null)if(xs($.value,re)){if($.children===M.children&&!Wi.current){m=dl(f,m,j);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var de=$.dependencies;if(de!==null){re=$.child;for(var ve=de.firstContext;ve!==null;){if(ve.context===T){if($.tag===1){ve=ul(-1,j&-j),ve.tag=2;var Ie=$.updateQueue;if(Ie!==null){Ie=Ie.shared;var Ke=Ie.pending;Ke===null?ve.next=ve:(ve.next=Ke.next,Ke.next=ve),Ie.pending=ve}}$.lanes|=j,ve=$.alternate,ve!==null&&(ve.lanes|=j),kj($.return,j,m),de.lanes|=j;break}ve=ve.next}}else if($.tag===10)re=$.type===m.type?null:$.child;else if($.tag===18){if(re=$.return,re===null)throw Error(r(341));re.lanes|=j,de=re.alternate,de!==null&&(de.lanes|=j),kj(re,j,m),re=$.sibling}else re=$.child;if(re!==null)re.return=$;else for(re=$;re!==null;){if(re===m){re=null;break}if($=re.sibling,$!==null){$.return=re.return,re=$;break}re=re.return}$=re}Oi(f,m,M.children,j),m=m.child}return m;case 9:return M=m.type,T=m.pendingProps.children,Zf(m,j),M=Zs(M),T=T(M),m.flags|=1,Oi(f,m,T,j),m.child;case 14:return T=m.type,M=Na(T,m.pendingProps),M=Na(T.type,M),GL(f,m,T,M,j);case 15:return ZL(f,m,m.type,m.pendingProps,j);case 17:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:Na(T,M),t0(f,m),m.tag=1,Hi(T)?(f=!0,Dx(m)):f=!1,Zf(m,j),BL(m,T,M),Wj(m,T,M,j),Zj(null,m,T,!0,f,j);case 19:return nD(f,m,j);case 22:return YL(f,m,j)}throw Error(r(156,m.tag))};function ED(f,m){return dx(f,m)}function hne(f,m,j,T){this.tag=f,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Js(f,m,j,T){return new hne(f,m,j,T)}function mS(f){return f=f.prototype,!(!f||!f.isReactComponent)}function pne(f){if(typeof f=="function")return mS(f)?1:0;if(f!=null){if(f=f.$$typeof,f===U)return 11;if(f===J)return 14}return 2}function Oc(f,m){var j=f.alternate;return j===null?(j=Js(f.tag,m,f.key,f.mode),j.elementType=f.elementType,j.type=f.type,j.stateNode=f.stateNode,j.alternate=f,f.alternate=j):(j.pendingProps=m,j.type=f.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=f.flags&14680064,j.childLanes=f.childLanes,j.lanes=f.lanes,j.child=f.child,j.memoizedProps=f.memoizedProps,j.memoizedState=f.memoizedState,j.updateQueue=f.updateQueue,m=f.dependencies,j.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},j.sibling=f.sibling,j.index=f.index,j.ref=f.ref,j}function f0(f,m,j,T,M,$){var re=2;if(T=f,typeof f=="function")mS(f)&&(re=1);else if(typeof f=="string")re=5;else e:switch(f){case O:return nd(j.children,M,$,m);case I:re=8,M|=8;break;case F:return f=Js(12,j,m,M|2),f.elementType=F,f.lanes=$,f;case z:return f=Js(13,j,m,M),f.elementType=z,f.lanes=$,f;case W:return f=Js(19,j,m,M),f.elementType=W,f.lanes=$,f;case K:return h0(j,M,$,m);default:if(typeof f=="object"&&f!==null)switch(f.$$typeof){case H:re=10;break e;case V:re=9;break e;case U:re=11;break e;case J:re=14;break e;case se:re=16,T=null;break e}throw Error(r(130,f==null?f:typeof f,""))}return m=Js(re,j,m,M),m.elementType=f,m.type=T,m.lanes=$,m}function nd(f,m,j,T){return f=Js(7,f,T,m),f.lanes=j,f}function h0(f,m,j,T){return f=Js(22,f,T,m),f.elementType=K,f.lanes=j,f.stateNode={isHidden:!1},f}function gS(f,m,j){return f=Js(6,f,null,m),f.lanes=j,f}function vS(f,m,j){return m=Js(4,f.children!==null?f.children:[],f.key,m),m.lanes=j,m.stateNode={containerInfo:f.containerInfo,pendingChildren:null,implementation:f.implementation},m}function mne(f,m,j,T,M){this.tag=m,this.containerInfo=f,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ic(0),this.expirationTimes=ic(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ic(0),this.identifierPrefix=T,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function yS(f,m,j,T,M,$,re,de,ve){return f=new mne(f,m,j,de,ve),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Js(3,null,null,m),f.current=$,$.stateNode=f,$.memoizedState={element:T,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},Aj($),f}function gne(f,m,j){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:P,key:T==null?null:""+T,children:f,containerInfo:m,implementation:j}}function PD(f){if(!f)return jc;f=f._reactInternals;e:{if(no(f)!==f||f.tag!==1)throw Error(r(170));var m=f;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(Hi(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(f.tag===1){var j=f.type;if(Hi(j))return rL(f,j,m)}return m}function kD(f,m,j,T,M,$,re,de,ve){return f=yS(j,T,!0,f,M,$,re,de,ve),f.context=PD(null),j=f.current,T=Ri(),M=Tc(j),$=ul(T,M),$.callback=m??null,Cc(j,$,M),f.current.lanes=M,ps(f,M,T),Zi(f,T),f}function p0(f,m,j,T){var M=m.current,$=Ri(),re=Tc(M);return j=PD(j),m.context===null?m.context=j:m.pendingContext=j,m=ul($,re),m.payload={element:f},T=T===void 0?null:T,T!==null&&(m.callback=T),f=Cc(M,m,re),f!==null&&(Pa(f,M,re,$),Wx(f,M,re)),re}function m0(f){if(f=f.current,!f.child)return null;switch(f.child.tag){case 5:return f.child.stateNode;default:return f.child.stateNode}}function TD(f,m){if(f=f.memoizedState,f!==null&&f.dehydrated!==null){var j=f.retryLane;f.retryLane=j!==0&&j<m?j:m}}function xS(f,m){TD(f,m),(f=f.alternate)&&TD(f,m)}function vne(){return null}var AD=typeof reportError=="function"?reportError:function(f){console.error(f)};function bS(f){this._internalRoot=f}g0.prototype.render=bS.prototype.render=function(f){var m=this._internalRoot;if(m===null)throw Error(r(409));p0(f,m,null,null)},g0.prototype.unmount=bS.prototype.unmount=function(){var f=this._internalRoot;if(f!==null){this._internalRoot=null;var m=f.containerInfo;ed(function(){p0(null,f,null,null)}),m[yr]=null}};function g0(f){this._internalRoot=f}g0.prototype.unstable_scheduleHydration=function(f){if(f){var m=jf();f={blockedOn:null,target:f,priority:m};for(var j=0;j<On.length&&m!==0&&m<On[j].priority;j++);On.splice(j,0,f),j===0&&Sf(f)}};function wS(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)}function v0(f){return!(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11&&(f.nodeType!==8||f.nodeValue!==" react-mount-point-unstable "))}function OD(){}function yne(f,m,j,T,M){if(M){if(typeof T=="function"){var $=T;T=function(){var Ie=m0(re);$.call(Ie)}}var re=kD(m,T,f,0,null,!1,!1,"",OD);return f._reactRootContainer=re,f[yr]=re.current,yc(f.nodeType===8?f.parentNode:f),ed(),re}for(;M=f.lastChild;)f.removeChild(M);if(typeof T=="function"){var de=T;T=function(){var Ie=m0(ve);de.call(Ie)}}var ve=yS(f,0,!1,null,null,!1,!1,"",OD);return f._reactRootContainer=ve,f[yr]=ve.current,yc(f.nodeType===8?f.parentNode:f),ed(function(){p0(m,ve,j,T)}),ve}function y0(f,m,j,T,M){var $=j._reactRootContainer;if($){var re=$;if(typeof M=="function"){var de=M;M=function(){var ve=m0(re);de.call(ve)}}p0(m,re,f,M)}else re=yne(j,m,f,M,T);return m0(re)}wf=function(f){switch(f.tag){case 3:var m=f.stateNode;if(m.current.memoizedState.isDehydrated){var j=Pt(m.pendingLanes);j!==0&&(xa(m,j|1),Zi(m,en()),(nr&6)===0&&(eh=en()+500,Sc()))}break;case 13:ed(function(){var T=cl(f,1);if(T!==null){var M=Ri();Pa(T,f,1,M)}}),xS(f,1)}},Go=function(f){if(f.tag===13){var m=cl(f,134217728);if(m!==null){var j=Ri();Pa(m,f,134217728,j)}xS(f,134217728)}},_f=function(f){if(f.tag===13){var m=Tc(f),j=cl(f,m);if(j!==null){var T=Ri();Pa(j,f,m,T)}xS(f,m)}},jf=function(){return Jt},Iu=function(f,m){var j=Jt;try{return Jt=f,m()}finally{Jt=j}},Ho=function(f,m,j){switch(m){case"input":if(Ce(f,j),m=j.name,j.type==="radio"&&m!=null){for(j=f;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<j.length;m++){var T=j[m];if(T!==f&&T.form===f.form){var M=zf(T);if(!M)throw Error(r(90));X(T),Ce(T,M)}}}break;case"textarea":Xe(f,j);break;case"select":m=j.value,m!=null&&je(f,!!j.multiple,m,!1)}},rr=fS,wr=ed;var xne={usingClientEntryPoint:!1,Events:[il,sl,zf,mf,Nt,fS]},ig={findFiberByHostInstance:nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bne={bundleType:ig.bundleType,version:ig.version,rendererPackageName:ig.rendererPackageName,rendererConfig:ig.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(f){return f=cx(f),f===null?null:f.stateNode},findFiberByHostInstance:ig.findFiberByHostInstance||vne,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x0.isDisabled&&x0.supportsFiber)try{Ru=x0.inject(bne),hs=x0}catch{}}return Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xne,Yi.createPortal=function(f,m){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wS(m))throw Error(r(200));return gne(f,m,null,j)},Yi.createRoot=function(f,m){if(!wS(f))throw Error(r(299));var j=!1,T="",M=AD;return m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=yS(f,1,!1,null,null,j,!1,T,M),f[yr]=m.current,yc(f.nodeType===8?f.parentNode:f),new bS(m)},Yi.findDOMNode=function(f){if(f==null)return null;if(f.nodeType===1)return f;var m=f._reactInternals;if(m===void 0)throw typeof f.render=="function"?Error(r(188)):(f=Object.keys(f).join(","),Error(r(268,f)));return f=cx(m),f=f===null?null:f.stateNode,f},Yi.flushSync=function(f){return ed(f)},Yi.hydrate=function(f,m,j){if(!v0(m))throw Error(r(200));return y0(null,f,m,!0,j)},Yi.hydrateRoot=function(f,m,j){if(!wS(f))throw Error(r(405));var T=j!=null&&j.hydratedSources||null,M=!1,$="",re=AD;if(j!=null&&(j.unstable_strictMode===!0&&(M=!0),j.identifierPrefix!==void 0&&($=j.identifierPrefix),j.onRecoverableError!==void 0&&(re=j.onRecoverableError)),m=kD(m,null,f,1,j??null,M,!1,$,re),f[yr]=m.current,yc(f),T)for(f=0;f<T.length;f++)j=T[f],M=j._getVersion,M=M(j._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[j,M]:m.mutableSourceEagerHydrationData.push(j,M);return new g0(m)},Yi.render=function(f,m,j){if(!v0(m))throw Error(r(200));return y0(null,f,m,!1,j)},Yi.unmountComponentAtNode=function(f){if(!v0(f))throw Error(r(40));return f._reactRootContainer?(ed(function(){y0(null,null,f,!1,function(){f._reactRootContainer=null,f[yr]=null})}),!0):!1},Yi.unstable_batchedUpdates=fS,Yi.unstable_renderSubtreeIntoContainer=function(f,m,j,T){if(!v0(j))throw Error(r(200));if(f==null||f._reactInternals===void 0)throw Error(r(38));return y0(f,m,j,!1,T)},Yi.version="18.3.1-next-f1338f8080-20240426",Yi}var BD;function BV(){if(BD)return SS.exports;BD=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),SS.exports=Pne(),SS.exports}var zD;function kne(){if(zD)return b0;zD=1;var t=BV();return b0.createRoot=t.createRoot,b0.hydrateRoot=t.hydrateRoot,b0}var Tne=kne();const Ane=pr(Tne);var Ja=BV();const S_=pr(Ja);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uv(){return uv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uv.apply(this,arguments)}var eu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(eu||(eu={}));const qD="popstate";function One(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return ok("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ab(i)}return Mne(e,r,null,t)}function on(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zV(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Rne(){return Math.random().toString(36).substr(2,8)}function UD(t,e){return{usr:t.state,key:t.key,idx:e}}function ok(t,e,r,n){return r===void 0&&(r=null),uv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fp(e):e,{state:r,key:e&&e.key||n||Rne()})}function Ab(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Mne(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=eu.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(uv({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=eu.Pop;let _=d(),S=_==null?null:_-u;u=_,c&&c({action:l,location:x.location,delta:S})}function g(_,S){l=eu.Push;let N=ok(x.location,_,S);u=d()+1;let C=UD(N,u),A=x.createHref(N);try{o.pushState(C,"",A)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;i.location.assign(A)}s&&c&&c({action:l,location:x.location,delta:1})}function v(_,S){l=eu.Replace;let N=ok(x.location,_,S);u=d();let C=UD(N,u),A=x.createHref(N);o.replaceState(C,"",A),s&&c&&c({action:l,location:x.location,delta:0})}function y(_){let S=i.location.origin!=="null"?i.location.origin:i.location.href,N=typeof _=="string"?_:Ab(_);return N=N.replace(/ $/,"%20"),on(S,"No window.location.(origin|href) available to create URL for href: "+N),new URL(N,S)}let x={get action(){return l},get location(){return t(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(qD,h),c=_,()=>{i.removeEventListener(qD,h),c=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let S=y(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(_){return o.go(_)}};return x}var VD;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(VD||(VD={}));function Ine(t,e,r){return r===void 0&&(r="/"),Lne(t,e,r)}function Lne(t,e,r,n){let i=typeof e=="string"?Fp(e):e,s=Xh(i.pathname||"/",r);if(s==null)return null;let o=qV(t);Dne(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=Gne(s);l=Hne(o[c],u)}return l}function qV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(on(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=nu([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(on(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),qV(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Vne(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of UV(s.path))i(s,o,c)}),e}function UV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=UV(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function Dne(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Wne(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const $ne=/^:[\w-]+$/,Fne=3,Bne=2,zne=1,qne=10,Une=-2,WD=t=>t==="*";function Vne(t,e){let r=t.split("/"),n=r.length;return r.some(WD)&&(n+=Une),e&&(n+=Bne),r.filter(i=>!WD(i)).reduce((i,s)=>i+($ne.test(s)?Fne:s===""?zne:qne),n)}function Wne(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function Hne(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=lk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:nu([s,h.pathname]),pathnameBase:Jne(nu([s,h.pathnameBase])),route:g}),h.pathnameBase!=="/"&&(s=nu([s,h.pathnameBase]))}return o}function lk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Kne(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let x=l[h]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[h];return v&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function Kne(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),zV(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Gne(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zV(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Xh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Zne(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Fp(t):t;return{pathname:r?r.startsWith("/")?r:Yne(r,e):e,search:Qne(n),hash:eie(i)}}function Yne(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function ES(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xne(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function wO(t,e){let r=Xne(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _O(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Fp(t):(i=uv({},t),on(!i.pathname||!i.pathname.includes("?"),ES("?","pathname","search",i)),on(!i.pathname||!i.pathname.includes("#"),ES("#","pathname","hash",i)),on(!i.search||!i.search.includes("#"),ES("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}l=h>=0?e[h]:"/"}let c=Zne(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const nu=t=>t.join("/").replace(/\/\/+/g,"/"),Jne=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qne=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,eie=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function tie(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VV=["post","put","patch","delete"];new Set(VV);const rie=["get",...VV];new Set(rie);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dv(){return dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dv.apply(this,arguments)}const N_=b.createContext(null),WV=b.createContext(null),Wl=b.createContext(null),C_=b.createContext(null),qo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),HV=b.createContext(null);function nie(t,e){let{relative:r}=e===void 0?{}:e;Bp()||on(!1);let{basename:n,navigator:i}=b.useContext(Wl),{hash:s,pathname:o,search:l}=E_(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:nu([n,o])),i.createHref({pathname:c,search:l,hash:s})}function Bp(){return b.useContext(C_)!=null}function Pi(){return Bp()||on(!1),b.useContext(C_).location}function KV(t){b.useContext(Wl).static||b.useLayoutEffect(t)}function Tn(){let{isDataRoute:t}=b.useContext(qo);return t?yie():iie()}function iie(){Bp()||on(!1);let t=b.useContext(N_),{basename:e,future:r,navigator:n}=b.useContext(Wl),{matches:i}=b.useContext(qo),{pathname:s}=Pi(),o=JSON.stringify(wO(i,r.v7_relativeSplatPath)),l=b.useRef(!1);return KV(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let h=_O(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:nu([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,o,s,t])}const sie=b.createContext(null);function aie(t){let e=b.useContext(qo).outlet;return e&&b.createElement(sie.Provider,{value:t},e)}function jO(){let{matches:t}=b.useContext(qo),e=t[t.length-1];return e?e.params:{}}function E_(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Wl),{matches:i}=b.useContext(qo),{pathname:s}=Pi(),o=JSON.stringify(wO(i,n.v7_relativeSplatPath));return b.useMemo(()=>_O(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function oie(t,e){return lie(t,e)}function lie(t,e,r,n){Bp()||on(!1);let{navigator:i}=b.useContext(Wl),{matches:s}=b.useContext(qo),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Pi(),d;if(e){var h;let _=typeof e=="string"?Fp(e):e;c==="/"||(h=_.pathname)!=null&&h.startsWith(c)||on(!1),d=_}else d=u;let g=d.pathname||"/",v=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=Ine(t,{pathname:v}),x=hie(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:nu([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:nu([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return e&&x?b.createElement(C_.Provider,{value:{location:dv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:eu.Pop}},x):x}function cie(){let t=vie(),e=tie(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const uie=b.createElement(cie,null);class die extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(qo.Provider,{value:this.props.routeContext},b.createElement(HV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function fie(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(N_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(qo.Provider,{value:e},n)}function hie(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&l?.[h.route.id]!==void 0);d>=0||on(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:g,errors:v}=r,y=h.route.loader&&g[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,g)=>{let v,y=!1,x=null,_=null;r&&(v=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||uie,c&&(u<0&&g===0?(xie("route-fallback"),y=!0,_=null):u===g&&(y=!0,_=h.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),N=()=>{let C;return v?C=x:y?C=_:h.route.Component?C=b.createElement(h.route.Component,null):h.route.element?C=h.route.element:C=d,b.createElement(fie,{match:h,routeContext:{outlet:d,matches:S,isDataRoute:r!=null},children:C})};return r&&(h.route.ErrorBoundary||h.route.errorElement||g===0)?b.createElement(die,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:N(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):N()},null)}var GV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GV||{}),ZV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ZV||{});function pie(t){let e=b.useContext(N_);return e||on(!1),e}function mie(t){let e=b.useContext(WV);return e||on(!1),e}function gie(t){let e=b.useContext(qo);return e||on(!1),e}function YV(t){let e=gie(),r=e.matches[e.matches.length-1];return r.route.id||on(!1),r.route.id}function vie(){var t;let e=b.useContext(HV),r=mie(),n=YV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function yie(){let{router:t}=pie(GV.UseNavigateStable),e=YV(ZV.UseNavigateStable),r=b.useRef(!1);return KV(()=>{r.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dv({fromRouteId:e},s)))},[t,e])}const HD={};function xie(t,e,r){HD[t]||(HD[t]=!0)}function bie(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function KD(t){let{to:e,replace:r,state:n,relative:i}=t;Bp()||on(!1);let{future:s,static:o}=b.useContext(Wl),{matches:l}=b.useContext(qo),{pathname:c}=Pi(),u=Tn(),d=_O(e,wO(l,s.v7_relativeSplatPath),c,i==="path"),h=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function XV(t){return aie(t.context)}function qt(t){on(!1)}function wie(t){let{basename:e="/",children:r=null,location:n,navigationType:i=eu.Pop,navigator:s,static:o=!1,future:l}=t;Bp()&&on(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:s,static:o,future:dv({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=Fp(n));let{pathname:d="/",search:h="",hash:g="",state:v=null,key:y="default"}=n,x=b.useMemo(()=>{let _=Xh(d,c);return _==null?null:{location:{pathname:_,search:h,hash:g,state:v,key:y},navigationType:i}},[c,d,h,g,v,y,i]);return x==null?null:b.createElement(Wl.Provider,{value:u},b.createElement(C_.Provider,{children:r,value:x}))}function _ie(t){let{children:e,location:r}=t;return oie(ck(e),r)}new Promise(()=>{});function ck(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let s=[...e,i];if(n.type===b.Fragment){r.push.apply(r,ck(n.props.children,s));return}n.type!==qt&&on(!1),!n.props.index||!n.props.children||on(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ck(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob.apply(this,arguments)}function JV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function jie(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Sie(t,e){return t.button===0&&(!e||e==="_self")&&!jie(t)}function uk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Nie(t,e){let r=uk(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const Cie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Eie=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Pie="6";try{window.__reactRouterVersion=Pie}catch{}const kie=b.createContext({isTransitioning:!1}),Tie="startTransition",GD=du[Tie];function Aie(t){let{basename:e,children:r,future:n,window:i}=t,s=b.useRef();s.current==null&&(s.current=One({window:i,v5Compat:!0}));let o=s.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(h=>{u&&GD?GD(()=>c(h)):c(h)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>bie(n),[n]),b.createElement(wie,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const Oie=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Rie=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=b.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,g=JV(e,Cie),{basename:v}=b.useContext(Wl),y,x=!1;if(typeof u=="string"&&Rie.test(u)&&(y=u,Oie))try{let C=new URL(window.location.href),A=u.startsWith("//")?new URL(C.protocol+u):new URL(u),k=Xh(A.pathname,v);A.origin===C.origin&&k!=null?u=k+A.search+A.hash:x=!0}catch{}let _=nie(u,{relative:i}),S=Iie(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:h});function N(C){n&&n(C),C.defaultPrevented||S(C)}return b.createElement("a",Ob({},g,{href:y||_,onClick:x||s?n:N,ref:r,target:c}))}),id=b.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,h=JV(e,Eie),g=E_(c,{relative:h.relative}),v=Pi(),y=b.useContext(WV),{navigator:x,basename:_}=b.useContext(Wl),S=y!=null&&Lie(g)&&u===!0,N=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,C=v.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(C=C.toLowerCase(),A=A?A.toLowerCase():null,N=N.toLowerCase()),A&&_&&(A=Xh(A,_)||A);const k=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let P=C===N||!o&&C.startsWith(N)&&C.charAt(k)==="/",O=A!=null&&(A===N||!o&&A.startsWith(N)&&A.charAt(N.length)==="/"),I={isActive:P,isPending:O,isTransitioning:S},F=P?n:void 0,H;typeof s=="function"?H=s(I):H=[s,P?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return b.createElement(ar,Ob({},h,{"aria-current":F,className:H,ref:r,style:V,to:c,viewTransition:u}),typeof d=="function"?d(I):d)});var dk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dk||(dk={}));var ZD;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(ZD||(ZD={}));function Mie(t){let e=b.useContext(N_);return e||on(!1),e}function Iie(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=Tn(),u=Pi(),d=E_(t,{relative:o});return b.useCallback(h=>{if(Sie(h,r)){h.preventDefault();let g=n!==void 0?n:Ab(u)===Ab(d);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,s,o,l])}function SO(t){let e=b.useRef(uk(t)),r=b.useRef(!1),n=Pi(),i=b.useMemo(()=>Nie(n.search,r.current?null:e.current),[n.search]),s=Tn(),o=b.useCallback((l,c)=>{const u=uk(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function Lie(t,e){e===void 0&&(e={});let r=b.useContext(kie);r==null&&on(!1);let{basename:n}=Mie(dk.useViewTransitionState),i=E_(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Xh(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Xh(r.nextLocation.pathname,n)||r.nextLocation.pathname;return lk(i.pathname,o)!=null||lk(i.pathname,s)!=null}var zp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Dd=typeof window>"u"||"Deno"in globalThis;function Mi(){}function Die(t,e){return typeof t=="function"?t(e):t}function fk(t){return typeof t=="number"&&t>=0&&t!==1/0}function QV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function iu(t,e){return typeof t=="function"?t(e):t}function ia(t,e){return typeof t=="function"?t(e):t}function YD(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==NO(o,e.options))return!1}else if(!fv(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function XD(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if($d(e.options.mutationKey)!==$d(s))return!1}else if(!fv(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function NO(t,e){return(e?.queryKeyHashFn||$d)(t)}function $d(t){return JSON.stringify(t,(e,r)=>hk(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function fv(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>fv(t[r],e[r])):!1}function e9(t,e){if(t===e)return t;const r=JD(t)&&JD(e);if(r||hk(t)&&hk(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const h=r?d:s[d];(!r&&c.has(h)||r)&&t[h]===void 0&&e[h]===void 0?(l[h]=void 0,u++):(l[h]=e9(t[h],e[h]),l[h]===t[h]&&t[h]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function Rb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function JD(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hk(t){if(!QD(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!QD(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function QD(t){return Object.prototype.toString.call(t)==="[object Object]"}function $ie(t){return new Promise(e=>{setTimeout(e,t)})}function pk(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?e9(t,e):e}function Fie(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Bie(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var CO=Symbol();function t9(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===CO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function r9(t,e){return typeof t=="function"?t(...e):!!t}var zie=class extends zp{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Dd&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},EO=new zie,qie=class extends zp{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Dd&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},Mb=new qie;function mk(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function Uie(t){return Math.min(1e3*2**t,3e4)}function n9(t){return(t??"online")==="online"?Mb.isOnline():!0}var i9=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function s9(t){let e=!1,r=0,n;const i=mk(),s=()=>i.status!=="pending",o=x=>{s()||(g(new i9(x)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},u=()=>EO.isFocused()&&(t.networkMode==="always"||Mb.isOnline())&&t.canRun(),d=()=>n9(t.networkMode)&&t.canRun(),h=x=>{s()||(n?.(),i.resolve(x))},g=x=>{s()||(n?.(),i.reject(x))},v=()=>new Promise(x=>{n=_=>{(s()||u())&&x(_)},t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),y=()=>{if(s())return;let x;const _=r===0?t.initialPromise:void 0;try{x=_??t.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(h).catch(S=>{if(s())return;const N=t.retry??(Dd?0:3),C=t.retryDelay??Uie,A=typeof C=="function"?C(r,S):C,k=N===!0||typeof N=="number"&&r<N||typeof N=="function"&&N(r,S);if(e||!k){g(S);return}r++,t.onFail?.(r,S),$ie(A).then(()=>u()?void 0:v()).then(()=>{e?g(S):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():v().then(y),i)}}var Vie=t=>setTimeout(t,0);function Wie(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=Vie;const s=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var Fn=Wie(),a9=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),fk(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Dd?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},Hie=class extends a9{#t;#e;#r;#n;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=Kie(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=pk(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(Mi).catch(Mi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>ia(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===CO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>iu(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!QV(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const l=t9(this.options,e),u=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=s9({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof i9){if(l.silent)return this.#i.promise;if(l.revert)return this.setState({...this.#e,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...o9(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),Fn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function o9(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:n9(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function Kie(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Gie=class extends zp{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,i=e.queryHash??NO(n,e);let s=this.get(i);return s||(s=new Hie({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Fn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>YD(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>YD(t,r)):e}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Fn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Zie=class extends a9{#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||l9(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#r=s9({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),Fn.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function l9(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Yie=class extends zp{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const n=new Zie({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);const e=w0(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=w0(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=w0(t);if(typeof e=="string"){const n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=w0(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){Fn.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>XD(e,r))}findAll(t={}){return this.getAll().filter(e=>XD(t,e))}notify(t){Fn.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return Fn.batch(()=>Promise.all(t.map(e=>e.continue().catch(Mi))))}};function w0(t){return t.options.scope?.id}function Ib(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const h=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},g=t9(e.options,e.fetchOptions),v=async(y,x,_)=>{if(d)return Promise.reject();if(x==null&&y.pages.length)return Promise.resolve(y);const N=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};return h(P),P})(),C=await g(N),{maxPages:A}=e.options,k=_?Bie:Fie;return{pages:k(y.pages,C,A),pageParams:k(y.pageParams,x,A)}};if(i&&s.length){const y=i==="backward",x=y?c9:gk,_={pages:s,pageParams:o},S=x(n,_);l=await v(_,S,y)}else{const y=t??s.length;do{const x=c===0?o[0]??n.initialPageParam:gk(n,l);if(c>0&&x==null)break;l=await v(l,x),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=u}}}function gk(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function c9(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function Xie(t,e){return e?gk(t,e)!=null:!1}function Jie(t,e){return!e||!t.getPreviousPageParam?!1:c9(t,e)!=null}var u9=class{#t;#e;#r;#n;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new Gie,this.#e=t.mutationCache||new Yie,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=EO.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Mb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(iu(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(n.queryHash)?.state.data,o=Die(e,s);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Fn.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;Fn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return Fn.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Fn.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Mi).catch(Mi)}invalidateQueries(t,e={}){return Fn.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Fn.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Mi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Mi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(iu(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Mi).catch(Mi)}fetchInfiniteQuery(t){return t.behavior=Ib(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Mi).catch(Mi)}ensureInfiniteQueryData(t){return t.behavior=Ib(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Mb.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set($d(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{fv(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set($d(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{fv(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=NO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===CO&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},d9=class extends zp{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=mk(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),e4(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return vk(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return vk(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ia(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!Rb(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&t4(this.#e,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#e!==r||ia(this.options.enabled,this.#e)!==ia(e.enabled,this.#e)||iu(this.options.staleTime,this.#e)!==iu(e.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||ia(this.options.enabled,this.#e)!==ia(e.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return ese(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),Reflect.get(r,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(Mi)),e}#g(){this.#b();const t=iu(this.options.staleTime,this.#e);if(Dd||this.#n.isStale||!fk(t))return;const r=QV(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Dd||ia(this.options.enabled,this.#e)===!1||!fk(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||EO.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#e,n=this.options,i=this.#n,s=this.#i,o=this.#a,c=t!==r?t.state:this.#r,{state:u}=t;let d={...u},h=!1,g;if(e._optimisticResults){const I=this.hasListeners(),F=!I&&e4(t,e),H=I&&t4(t,r,e,n);(F||H)&&(d={...d,...o9(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:x}=d;g=d.data;let _=!1;if(e.placeholderData!==void 0&&g===void 0&&x==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(I=i.data,_=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,I!==void 0&&(x="success",g=pk(i?.data,I,e),h=!0)}if(e.select&&g!==void 0&&!_)if(i&&g===s?.data&&e.select===this.#m)g=this.#f;else try{this.#m=e.select,g=e.select(g),g=pk(i?.data,g,e),this.#f=g,this.#s=null}catch(I){this.#s=I}this.#s&&(v=this.#s,g=this.#f,y=Date.now(),x="error");const S=d.fetchStatus==="fetching",N=x==="pending",C=x==="error",A=N&&S,k=g!==void 0,O={status:x,fetchStatus:d.fetchStatus,isPending:N,isSuccess:x==="success",isError:C,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!N,isLoadingError:C&&!k,isPaused:d.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:C&&k,isStale:PO(t,e),refetch:this.refetch,promise:this.#o,isEnabled:ia(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=V=>{O.status==="error"?V.reject(O.error):O.data!==void 0&&V.resolve(O.data)},F=()=>{const V=this.#o=O.promise=mk();I(V)},H=this.#o;switch(H.status){case"pending":t.queryHash===r.queryHash&&I(H);break;case"fulfilled":(O.status==="error"||O.data!==H.value)&&F();break;case"rejected":(O.status!=="error"||O.error!==H.reason)&&F();break}}return O}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Rb(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==t[l]&&s.has(l)})};this.#j({listeners:r()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#j(t){Fn.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Qie(t,e){return ia(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function e4(t,e){return Qie(t,e)||t.state.data!==void 0&&vk(t,e,e.refetchOnMount)}function vk(t,e,r){if(ia(e.enabled,t)!==!1&&iu(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&PO(t,e)}return!1}function t4(t,e,r,n){return(t!==e||ia(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&PO(t,r)}function PO(t,e){return ia(e.enabled,t)!==!1&&t.isStaleByTime(iu(e.staleTime,t))}function ese(t,e){return!Rb(t.getCurrentResult(),e)}var tse=class extends d9{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Ib()})}getOptimisticResult(t){return t.behavior=Ib(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:o,isRefetchError:l}=n,c=r.fetchMeta?.fetchMore?.direction,u=o&&c==="forward",d=i&&c==="forward",h=o&&c==="backward",g=i&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:Xie(e,r.data),hasPreviousPage:Jie(e,r.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:h,isFetchingPreviousPage:g,isRefetchError:l&&!u&&!h,isRefetching:s&&!d&&!g}}},rse=class extends zp{#t;#e=void 0;#r;#n;constructor(e,r){super(),this.#t=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#t.defaultMutationOptions(e),Rb(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&$d(r.mutationKey)!==$d(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??l9();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){Fn.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},f9=b.createContext(void 0),Uo=t=>{const e=b.useContext(f9);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},h9=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(f9.Provider,{value:t,children:e})),p9=b.createContext(!1),nse=()=>b.useContext(p9);p9.Provider;function ise(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var sse=b.createContext(ise()),m9=()=>b.useContext(sse),ase=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},ose=t=>{b.useEffect(()=>{t.clearReset()},[t])},lse=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||r9(r,[t.error,n])),cse=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},use=(t,e)=>t.isLoading&&t.isFetching&&!e,dse=(t,e)=>t?.suspense&&e.isPending,r4=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function g9(t,e,r){const n=nse(),i=m9(),s=Uo(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",cse(o),ase(o,i),ose(i);const l=!s.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(h=>{const g=d?c.subscribe(Fn.batchCalls(h)):Mi;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o)},[o,c]),dse(o,u))throw r4(o,c,i);if(lse({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Dd&&use(u,n)&&(l?r4(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(Mi).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Yn(t,e){return g9(t,d9)}function ci(t,e){const r=Uo(),[n]=b.useState(()=>new rse(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const i=b.useSyncExternalStore(b.useCallback(o=>n.subscribe(Fn.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=b.useCallback((o,l)=>{n.mutate(o,l).catch(Mi)},[n]);if(i.error&&r9(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function fse(t,e){return g9(t,tse)}const hse="modulepreload",pse=function(t){return"/"+t},n4={},yy=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(r.map(d=>{if(d=pse(d),d in n4)return;n4[d]=!0;const h=d.endsWith(".css"),g=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=h?"stylesheet":hse,h||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),h)return new Promise((y,x)=>{v.addEventListener("load",y),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function v9(){return b.useEffect(()=>{if(typeof document<"u"){let t=document.getElementById("toaster-container");t||(t=document.createElement("div"),t.id="toaster-container",t.className="fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none",document.body.appendChild(t))}},[]),a.jsx("div",{id:"toaster-container",className:"fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none"})}const kO=b.createContext({});function TO(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const P_=b.createContext(null),AO=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class mse extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function gse({children:t,isPresent:e}){const r=b.useId(),n=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=b.useContext(AO);return b.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(e||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),a.jsx(mse,{isPresent:e,childRef:n,sizeRef:i,children:b.cloneElement(t,{ref:n})})}const vse=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=TO(yse),c=b.useId(),u=b.useCallback(h=>{l.set(h,!0);for(const g of l.values())if(!g)return;n&&n()},[l,n]),d=b.useMemo(()=>({id:c,initial:e,isPresent:r,custom:i,onExitComplete:u,register:h=>(l.set(h,!1),()=>l.delete(h))}),s?[Math.random(),u]:[r,u]);return b.useMemo(()=>{l.forEach((h,g)=>l.set(g,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(gse,{isPresent:r,children:t})),a.jsx(P_.Provider,{value:d,children:t})};function yse(){return new Map}function y9(t=!0){const e=b.useContext(P_);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=b.useId();b.useEffect(()=>{t&&i(s)},[t]);const o=b.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const _0=t=>t.key||"";function i4(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const OO=typeof window<"u",x9=OO?b.useLayoutEffect:b.useEffect,Xn=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[l,c]=y9(o),u=b.useMemo(()=>i4(t),[t]),d=o&&!l?[]:u.map(_0),h=b.useRef(!0),g=b.useRef(u),v=TO(()=>new Map),[y,x]=b.useState(u),[_,S]=b.useState(u);x9(()=>{h.current=!1,g.current=u;for(let A=0;A<_.length;A++){const k=_0(_[A]);d.includes(k)?v.delete(k):v.get(k)!==!0&&v.set(k,!1)}},[_,d.length,d.join("-")]);const N=[];if(u!==y){let A=[...u];for(let k=0;k<_.length;k++){const P=_[k],O=_0(P);d.includes(O)||(A.splice(k,0,P),N.push(P))}s==="wait"&&N.length&&(A=N),S(i4(A)),x(u);return}const{forceRender:C}=b.useContext(kO);return a.jsx(a.Fragment,{children:_.map(A=>{const k=_0(A),P=o&&!l?!1:u===_||d.includes(k),O=()=>{if(v.has(k))v.set(k,!0);else return;let I=!0;v.forEach(F=>{F||(I=!1)}),I&&(C?.(),S(g.current),o&&c?.(),n&&n())};return a.jsx(vse,{isPresent:P,initial:!h.current||r?void 0:!1,custom:P?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:P?void 0:O,children:A},k)})})},Rs=t=>t;let b9=Rs;function RO(t){let e;return()=>(e===void 0&&(e=t()),e)}const Jh=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},Sl=t=>t*1e3,Nl=t=>t/1e3,xse={useManualTiming:!1};function bse(t){let e=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,h=!1)=>{const v=h&&n?e:r;return d&&s.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(l),e.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const j0=["read","resolveKeyframes","update","preRender","render","postRender"],wse=40;function w9(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=j0.reduce((S,N)=>(S[N]=bse(s),S),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:h,postRender:g}=o,v=()=>{const S=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,wse),1),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),h.process(i),g.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},y=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:j0.reduce((S,N)=>{const C=o[N];return S[N]=(A,k=!1,P=!1)=>(r||y(),C.schedule(A,k,P)),S},{}),cancel:S=>{for(let N=0;N<j0.length;N++)o[j0[N]].cancel(S)},state:i,steps:o}}const{schedule:Zr,cancel:fu,state:ai,steps:PS}=w9(typeof requestAnimationFrame<"u"?requestAnimationFrame:Rs,!0),_9=b.createContext({strict:!1}),s4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Qh={};for(const t in s4)Qh[t]={isEnabled:e=>s4[t].some(r=>!!e[r])};function _se(t){for(const e in t)Qh[e]={...Qh[e],...t[e]}}const jse=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Lb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||jse.has(t)}let j9=t=>!Lb(t);function Sse(t){t&&(j9=e=>e.startsWith("on")?!Lb(e):t(e))}try{Sse(require("@emotion/is-prop-valid").default)}catch{}function Nse(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(j9(i)||r===!0&&Lb(i)||!e&&!Lb(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function Cse(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const k_=b.createContext({});function hv(t){return typeof t=="string"||Array.isArray(t)}function T_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const MO=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],IO=["initial",...MO];function A_(t){return T_(t.animate)||IO.some(e=>hv(t[e]))}function S9(t){return!!(A_(t)||t.variants)}function Ese(t,e){if(A_(t)){const{initial:r,animate:n}=t;return{initial:r===!1||hv(r)?r:void 0,animate:hv(n)?n:void 0}}return t.inherit!==!1?e:{}}function Pse(t){const{initial:e,animate:r}=Ese(t,b.useContext(k_));return b.useMemo(()=>({initial:e,animate:r}),[a4(e),a4(r)])}function a4(t){return Array.isArray(t)?t.join(" "):t}const kse=Symbol.for("motionComponentSymbol");function Rh(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Tse(t,e,r){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Rh(r)&&(r.current=n))},[e])}const LO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ase="framerAppearId",N9="data-"+LO(Ase),{schedule:DO}=w9(queueMicrotask,!1),C9=b.createContext({});function Ose(t,e,r,n,i){var s,o;const{visualElement:l}=b.useContext(k_),c=b.useContext(_9),u=b.useContext(P_),d=b.useContext(AO).reducedMotion,h=b.useRef(null);n=n||c.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=h.current,v=b.useContext(C9);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&Rse(h.current,r,i,v);const y=b.useRef(!1);b.useInsertionEffect(()=>{g&&y.current&&g.update(r,u)});const x=r[N9],_=b.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return x9(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),DO.render(g.render),_.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,x)}),_.current=!1))}),g}function Rse(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:E9(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&Rh(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function E9(t){if(t)return t.options.allowProjection!==!1?t.projection:E9(t.parent)}function Mse({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var s,o;t&&_se(t);function l(u,d){let h;const g={...b.useContext(AO),...u,layoutId:Ise(u)},{isStatic:v}=g,y=Pse(u),x=n(u,v);if(!v&&OO){Lse();const _=Dse(g);h=_.MeasureLayout,y.visualElement=Ose(i,x,g,e,_.ProjectionNode)}return a.jsxs(k_.Provider,{value:y,children:[h&&y.visualElement?a.jsx(h,{visualElement:y.visualElement,...g}):null,r(i,u,Tse(x,y.visualElement,d),x,v,y.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=b.forwardRef(l);return c[kse]=i,c}function Ise({layoutId:t}){const e=b.useContext(kO).id;return e&&t!==void 0?e+"-"+t:t}function Lse(t,e){b.useContext(_9).strict}function Dse(t){const{drag:e,layout:r}=Qh;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const $se=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $O(t){return typeof t!="string"||t.includes("-")?!1:!!($se.indexOf(t)>-1||/[A-Z]/u.test(t))}function o4(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function FO(t,e,r,n){if(typeof e=="function"){const[i,s]=o4(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=o4(n);e=e(r!==void 0?r:t.custom,i,s)}return e}const yk=t=>Array.isArray(t),Fse=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Bse=t=>yk(t)?t[t.length-1]||0:t,Ci=t=>!!(t&&t.getVelocity);function gb(t){const e=Ci(t)?t.get():t;return Fse(e)?e.toValue():e}function zse({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,s){const o={latestValues:qse(n,i,s,t),renderState:e()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const P9=t=>(e,r)=>{const n=b.useContext(k_),i=b.useContext(P_),s=()=>zse(t,e,n,i);return r?s():TO(s)};function qse(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=gb(s[g]);let{initial:o,animate:l}=t;const c=A_(t),u=S9(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const h=d?l:o;if(h&&typeof h!="boolean"&&!T_(h)){const g=Array.isArray(h)?h:[h];for(let v=0;v<g.length;v++){const y=FO(t,g[v]);if(y){const{transitionEnd:x,transition:_,...S}=y;for(const N in S){let C=S[N];if(Array.isArray(C)){const A=d?C.length-1:0;C=C[A]}C!==null&&(i[N]=C)}for(const N in x)i[N]=x[N]}}}return i}const qp=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Xd=new Set(qp),k9=t=>e=>typeof e=="string"&&e.startsWith(t),T9=k9("--"),Use=k9("var(--"),BO=t=>Use(t)?Vse.test(t.split("/*")[0].trim()):!1,Vse=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,A9=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ll=(t,e,r)=>r>e?e:r<t?t:r,Up={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},pv={...Up,transform:t=>Ll(0,1,t)},S0={...Up,default:1},xy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zc=xy("deg"),Co=xy("%"),St=xy("px"),Wse=xy("vh"),Hse=xy("vw"),l4={...Co,parse:t=>Co.parse(t)/100,transform:t=>Co.transform(t*100)},Kse={borderWidth:St,borderTopWidth:St,borderRightWidth:St,borderBottomWidth:St,borderLeftWidth:St,borderRadius:St,radius:St,borderTopLeftRadius:St,borderTopRightRadius:St,borderBottomRightRadius:St,borderBottomLeftRadius:St,width:St,maxWidth:St,height:St,maxHeight:St,top:St,right:St,bottom:St,left:St,padding:St,paddingTop:St,paddingRight:St,paddingBottom:St,paddingLeft:St,margin:St,marginTop:St,marginRight:St,marginBottom:St,marginLeft:St,backgroundPositionX:St,backgroundPositionY:St},Gse={rotate:zc,rotateX:zc,rotateY:zc,rotateZ:zc,scale:S0,scaleX:S0,scaleY:S0,scaleZ:S0,skew:zc,skewX:zc,skewY:zc,distance:St,translateX:St,translateY:St,translateZ:St,x:St,y:St,z:St,perspective:St,transformPerspective:St,opacity:pv,originX:l4,originY:l4,originZ:St},c4={...Up,transform:Math.round},zO={...Kse,...Gse,zIndex:c4,size:St,fillOpacity:pv,strokeOpacity:pv,numOctaves:c4},Zse={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yse=qp.length;function Xse(t,e,r){let n="",i=!0;for(let s=0;s<Yse;s++){const o=qp[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=A9(l,zO[o]);if(!c){i=!1;const d=Zse[o]||o;n+=`${d}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function qO(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Xd.has(c)){o=!0;continue}else if(T9(c)){i[c]=u;continue}else{const d=A9(u,zO[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(e.transform||(o||r?n.transform=Xse(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const Jse={offset:"stroke-dashoffset",array:"stroke-dasharray"},Qse={offset:"strokeDashoffset",array:"strokeDasharray"};function eae(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?Jse:Qse;t[s.offset]=St.transform(-n);const o=St.transform(e),l=St.transform(r);t[s.array]=`${o} ${l}`}function u4(t,e,r){return typeof t=="string"?t:St.transform(e+r*t)}function tae(t,e,r){const n=u4(e,t.x,t.width),i=u4(r,t.y,t.height);return`${n} ${i}`}function UO(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,h){if(qO(t,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v,dimensions:y}=t;g.transform&&(y&&(v.transform=g.transform),delete g.transform),y&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=tae(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&eae(g,o,l,c,!1)}const VO=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),O9=()=>({...VO(),attrs:{}}),WO=t=>typeof t=="string"&&t.toLowerCase()==="svg";function R9(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const M9=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function I9(t,e,r,n){R9(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(M9.has(i)?i:LO(i),e.attrs[i])}const Db={};function rae(t){Object.assign(Db,t)}function L9(t,{layout:e,layoutId:r}){return Xd.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Db[t]||t==="opacity")}function HO(t,e,r){var n;const{style:i}=t,s={};for(const o in i)(Ci(i[o])||e.style&&Ci(e.style[o])||L9(o,t)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function D9(t,e,r){const n=HO(t,e,r);for(const i in t)if(Ci(t[i])||Ci(e[i])){const s=qp.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function nae(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const d4=["x","y","width","height","cx","cy","r"],iae={useVisualState:P9({scrapeMotionValuesFromProps:D9,createRenderState:O9,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!t.drag;if(!s){for(const l in i)if(Xd.has(l)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let l=0;l<d4.length;l++){const c=d4[l];t[c]!==e[c]&&(o=!0)}o&&Zr.read(()=>{nae(r,n),Zr.render(()=>{UO(n,i,WO(r.tagName),t.transformTemplate),I9(r,n)})})}})},sae={useVisualState:P9({scrapeMotionValuesFromProps:HO,createRenderState:VO})};function $9(t,e,r){for(const n in e)!Ci(e[n])&&!L9(n,r)&&(t[n]=e[n])}function aae({transformTemplate:t},e){return b.useMemo(()=>{const r=VO();return qO(r,e,t),Object.assign({},r.vars,r.style)},[e])}function oae(t,e){const r=t.style||{},n={};return $9(n,r,t),Object.assign(n,aae(t,e)),n}function lae(t,e){const r={},n=oae(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function cae(t,e,r,n){const i=b.useMemo(()=>{const s=O9();return UO(s,e,WO(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};$9(s,t.style,t),i.style={...s,...i.style}}return i}function uae(t=!1){return(r,n,i,{latestValues:s},o)=>{const c=($O(r)?cae:lae)(n,s,o,r),u=Nse(n,typeof r=="string",t),d=r!==b.Fragment?{...u,...c,ref:i}:{},{children:h}=n,g=b.useMemo(()=>Ci(h)?h.get():h,[h]);return b.createElement(r,{...d,children:g})}}function dae(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...$O(n)?iae:sae,preloadedFeatures:t,useRender:uae(i),createVisualElement:e,Component:n};return Mse(o)}}function F9(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function O_(t,e,r){const n=t.getProps();return FO(n,e,r!==void 0?r:n.custom,t)}const fae=RO(()=>window.ScrollTimeline!==void 0);class hae{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(fae()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class pae extends hae{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function KO(t,e){return t?t[e]||t.default||t:void 0}const xk=2e4;function B9(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<xk;)e+=r,n=t.next(e);return e>=xk?1/0:e}function GO(t){return typeof t=="function"}function f4(t,e){t.timeline=e,t.onfinish=null}const ZO=t=>Array.isArray(t)&&typeof t[0]=="number",mae={linearEasing:void 0};function gae(t,e){const r=RO(t);return()=>{var n;return(n=mae[e])!==null&&n!==void 0?n:r()}}const $b=gae(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),z9=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t(Jh(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function q9(t){return!!(typeof t=="function"&&$b()||!t||typeof t=="string"&&(t in bk||$b())||ZO(t)||Array.isArray(t)&&t.every(q9))}const Og=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,bk={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Og([0,.65,.55,1]),circOut:Og([.55,0,1,.45]),backIn:Og([.31,.01,.66,-.59]),backOut:Og([.33,1.53,.69,.99])};function U9(t,e){if(t)return typeof t=="function"&&$b()?z9(t,e):ZO(t)?Og(t):Array.isArray(t)?t.map(r=>U9(r,e)||bk.easeOut):bk[t]}const Oa={x:!1,y:!1};function V9(){return Oa.x||Oa.y}function vae(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function W9(t,e){const r=vae(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function h4(t){return e=>{e.pointerType==="touch"||V9()||t(e)}}function yae(t,e,r={}){const[n,i,s]=W9(t,r),o=h4(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=h4(h=>{u(h),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const H9=(t,e)=>e?t===e?!0:H9(t,e.parentElement):!1,YO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,xae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function bae(t){return xae.has(t.tagName)||t.tabIndex!==-1}const Rg=new WeakSet;function p4(t){return e=>{e.key==="Enter"&&t(e)}}function kS(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const wae=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=p4(()=>{if(Rg.has(r))return;kS(r,"down");const i=p4(()=>{kS(r,"up")}),s=()=>kS(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function m4(t){return YO(t)&&!V9()}function _ae(t,e,r={}){const[n,i,s]=W9(t,r),o=l=>{const c=l.currentTarget;if(!m4(l)||Rg.has(c))return;Rg.add(c);const u=e(l),d=(v,y)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),!(!m4(v)||!Rg.has(c))&&(Rg.delete(c),typeof u=="function"&&u(v,{success:y}))},h=v=>{d(v,r.useGlobalTarget||H9(c,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",g,i)};return n.forEach(l=>{!bae(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>wae(u,i),i)}),s}function jae(t){return t==="x"||t==="y"?Oa[t]?null:(Oa[t]=!0,()=>{Oa[t]=!1}):Oa.x||Oa.y?null:(Oa.x=Oa.y=!0,()=>{Oa.x=Oa.y=!1})}const K9=new Set(["width","height","top","left","right","bottom",...qp]);let vb;function Sae(){vb=void 0}const Eo={now:()=>(vb===void 0&&Eo.set(ai.isProcessing||xse.useManualTiming?ai.timestamp:performance.now()),vb),set:t=>{vb=t,queueMicrotask(Sae)}};function XO(t,e){t.indexOf(e)===-1&&t.push(e)}function JO(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class QO{constructor(){this.subscriptions=[]}add(e){return XO(this.subscriptions,e),()=>JO(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function G9(t,e){return e?t*(1e3/e):0}const g4=30,Nae=t=>!isNaN(parseFloat(t));class Cae{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=Eo.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Eo.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Nae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new QO);const n=this.events[e].add(r);return e==="change"?()=>{n(),Zr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Eo.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>g4)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,g4);return G9(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mv(t,e){return new Cae(t,e)}function Eae(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,mv(r))}function Pae(t,e){const r=O_(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=Bse(s[o]);Eae(t,o,l)}}function kae(t){return!!(Ci(t)&&t.add)}function wk(t,e){const r=t.getValue("willChange");if(kae(r))return r.add(e)}function Z9(t){return t.props[N9]}const Y9=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Tae=1e-7,Aae=12;function Oae(t,e,r,n,i){let s,o,l=0;do o=e+(r-e)/2,s=Y9(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>Tae&&++l<Aae);return o}function by(t,e,r,n){if(t===e&&r===n)return Rs;const i=s=>Oae(s,0,1,t,r);return s=>s===0||s===1?s:Y9(i(s),e,n)}const X9=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,J9=t=>e=>1-t(1-e),Q9=by(.33,1.53,.69,.99),eR=J9(Q9),e7=X9(eR),t7=t=>(t*=2)<1?.5*eR(t):.5*(2-Math.pow(2,-10*(t-1))),tR=t=>1-Math.sin(Math.acos(t)),r7=J9(tR),n7=X9(tR),i7=t=>/^0[^.\s]+$/u.test(t);function Rae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||i7(t):!0}const Gg=t=>Math.round(t*1e5)/1e5,rR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Mae(t){return t==null}const Iae=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,nR=(t,e)=>r=>!!(typeof r=="string"&&Iae.test(r)&&r.startsWith(t)||e&&!Mae(r)&&Object.prototype.hasOwnProperty.call(r,e)),s7=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(rR);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},Lae=t=>Ll(0,255,t),TS={...Up,transform:t=>Math.round(Lae(t))},xd={test:nR("rgb","red"),parse:s7("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+TS.transform(t)+", "+TS.transform(e)+", "+TS.transform(r)+", "+Gg(pv.transform(n))+")"};function Dae(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const _k={test:nR("#"),parse:Dae,transform:xd.transform},Mh={test:nR("hsl","hue"),parse:s7("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Co.transform(Gg(e))+", "+Co.transform(Gg(r))+", "+Gg(pv.transform(n))+")"},_i={test:t=>xd.test(t)||_k.test(t)||Mh.test(t),parse:t=>xd.test(t)?xd.parse(t):Mh.test(t)?Mh.parse(t):_k.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?xd.transform(t):Mh.transform(t)},$ae=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Fae(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(rR))===null||e===void 0?void 0:e.length)||0)+(((r=t.match($ae))===null||r===void 0?void 0:r.length)||0)>0}const a7="number",o7="color",Bae="var",zae="var(",v4="${}",qae=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function gv(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(qae,c=>(_i.test(c)?(n.color.push(s),i.push(o7),r.push(_i.parse(c))):c.startsWith(zae)?(n.var.push(s),i.push(Bae),r.push(c)):(n.number.push(s),i.push(a7),r.push(parseFloat(c))),++s,v4)).split(v4);return{values:r,split:l,indexes:n,types:i}}function l7(t){return gv(t).values}function c7(t){const{split:e,types:r}=gv(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const l=r[o];l===a7?s+=Gg(i[o]):l===o7?s+=_i.transform(i[o]):s+=i[o]}return s}}const Uae=t=>typeof t=="number"?0:t;function Vae(t){const e=l7(t);return c7(t)(e.map(Uae))}const hu={test:Fae,parse:l7,createTransformer:c7,getAnimatableNone:Vae},Wae=new Set(["brightness","contrast","saturate","opacity"]);function Hae(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(rR)||[];if(!n)return t;const i=r.replace(n,"");let s=Wae.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const Kae=/\b([a-z-]*)\(.*?\)/gu,jk={...hu,getAnimatableNone:t=>{const e=t.match(Kae);return e?e.map(Hae).join(" "):t}},Gae={...zO,color:_i,backgroundColor:_i,outlineColor:_i,fill:_i,stroke:_i,borderColor:_i,borderTopColor:_i,borderRightColor:_i,borderBottomColor:_i,borderLeftColor:_i,filter:jk,WebkitFilter:jk},iR=t=>Gae[t];function u7(t,e){let r=iR(t);return r!==jk&&(r=hu),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Zae=new Set(["auto","none","0"]);function Yae(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Zae.has(s)&&gv(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=u7(r,i)}const y4=t=>t===Up||t===St,x4=(t,e)=>parseFloat(t.split(", ")[e]),b4=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return x4(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?x4(s[1],t):0}},Xae=new Set(["x","y","z"]),Jae=qp.filter(t=>!Xae.has(t));function Qae(t){const e=[];return Jae.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const ep={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:b4(4,13),y:b4(5,14)};ep.translateX=ep.x;ep.translateY=ep.y;const kd=new Set;let Sk=!1,Nk=!1;function d7(){if(Nk){const t=Array.from(kd).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Qae(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Nk=!1,Sk=!1,kd.forEach(t=>t.complete()),kd.clear()}function f7(){kd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Nk=!0)})}function eoe(){f7(),d7()}class sR{constructor(e,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(kd.add(this),Sk||(Sk=!0,Zr.read(f7),Zr.resolveKeyframes(d7))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),kd.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,kd.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const h7=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),toe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function roe(t){const e=toe.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function p7(t,e,r=1){const[n,i]=roe(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return h7(o)?parseFloat(o):o}return BO(i)?p7(i,e,r+1):i}const m7=t=>e=>e.test(t),noe={test:t=>t==="auto",parse:t=>t},g7=[Up,St,Co,zc,Hse,Wse,noe],w4=t=>g7.find(m7(t));class v7 extends sR{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),BO(u))){const d=p7(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!K9.has(n)||e.length!==2)return;const[i,s]=e,o=w4(i),l=w4(s);if(o!==l)if(y4(o)&&y4(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)Rae(e[i])&&n.push(i);n.length&&Yae(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=ep[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=ep[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const _4=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hu.test(t)||t==="0")&&!t.startsWith("url("));function ioe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function soe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=_4(i,e),l=_4(s,e);return!o||!l?!1:ioe(t)||(r==="spring"||GO(r))&&n}const aoe=t=>t!==null;function R_(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(aoe),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const ooe=40;class y7{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Eo.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>ooe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eoe(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=Eo.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!soe(e,n,i,s))if(o)this.options.duration=0;else{c&&c(R_(e,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,r);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const sn=(t,e,r)=>t+(e-t)*r;function AS(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function loe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=AS(c,l,t+1/3),s=AS(c,l,t),o=AS(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Fb(t,e){return r=>r>0?e:t}const OS=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},coe=[_k,xd,Mh],uoe=t=>coe.find(e=>e.test(t));function j4(t){const e=uoe(t);if(!e)return!1;let r=e.parse(t);return e===Mh&&(r=loe(r)),r}const S4=(t,e)=>{const r=j4(t),n=j4(e);if(!r||!n)return Fb(t,e);const i={...r};return s=>(i.red=OS(r.red,n.red,s),i.green=OS(r.green,n.green,s),i.blue=OS(r.blue,n.blue,s),i.alpha=sn(r.alpha,n.alpha,s),xd.transform(i))},doe=(t,e)=>r=>e(t(r)),wy=(...t)=>t.reduce(doe),Ck=new Set(["none","hidden"]);function foe(t,e){return Ck.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function hoe(t,e){return r=>sn(t,e,r)}function aR(t){return typeof t=="number"?hoe:typeof t=="string"?BO(t)?Fb:_i.test(t)?S4:goe:Array.isArray(t)?x7:typeof t=="object"?_i.test(t)?S4:poe:Fb}function x7(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>aR(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function poe(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=aR(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function moe(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],c=(r=t.values[l])!==null&&r!==void 0?r:0;n[s]=c,i[o]++}return n}const goe=(t,e)=>{const r=hu.createTransformer(e),n=gv(t),i=gv(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?Ck.has(t)&&!i.values.length||Ck.has(e)&&!n.values.length?foe(t,e):wy(x7(moe(n,i),i.values),r):Fb(t,e)};function b7(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?sn(t,e,r):aR(t)(t,e)}const voe=5;function w7(t,e,r){const n=Math.max(e-voe,0);return G9(r-t(n),e-n)}const un={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},RS=.001;function yoe({duration:t=un.duration,bounce:e=un.bounce,velocity:r=un.velocity,mass:n=un.mass}){let i,s,o=1-e;o=Ll(un.minDamping,un.maxDamping,o),t=Ll(un.minDuration,un.maxDuration,Nl(t)),o<1?(i=u=>{const d=u*o,h=d*t,g=d-r,v=Ek(u,o),y=Math.exp(-h);return RS-g/v*y},s=u=>{const h=u*o*t,g=h*r+r,v=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-h),x=Ek(Math.pow(u,2),o);return(-i(u)+RS>0?-1:1)*((g-v)*y)/x}):(i=u=>{const d=Math.exp(-u*t),h=(u-r)*t+1;return-RS+d*h},s=u=>{const d=Math.exp(-u*t),h=(r-u)*(t*t);return d*h});const l=5/t,c=boe(i,s,l);if(t=Sl(t),isNaN(c))return{stiffness:un.stiffness,damping:un.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const xoe=12;function boe(t,e,r){let n=r;for(let i=1;i<xoe;i++)n=n-t(n)/e(n);return n}function Ek(t,e){return t*Math.sqrt(1-e*e)}const woe=["duration","bounce"],_oe=["stiffness","damping","mass"];function N4(t,e){return e.some(r=>t[r]!==void 0)}function joe(t){let e={velocity:un.velocity,stiffness:un.stiffness,damping:un.damping,mass:un.mass,isResolvedFromDuration:!1,...t};if(!N4(t,_oe)&&N4(t,woe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Ll(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:un.mass,stiffness:i,damping:s}}else{const r=yoe(t);e={...e,...r,mass:un.mass},e.isResolvedFromDuration=!0}return e}function _7(t=un.visualDuration,e=un.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:h,velocity:g,isResolvedFromDuration:v}=joe({...r,velocity:-Nl(r.velocity||0)}),y=g||0,x=u/(2*Math.sqrt(c*d)),_=o-s,S=Nl(Math.sqrt(c/d)),N=Math.abs(_)<5;n||(n=N?un.restSpeed.granular:un.restSpeed.default),i||(i=N?un.restDelta.granular:un.restDelta.default);let C;if(x<1){const k=Ek(S,x);C=P=>{const O=Math.exp(-x*S*P);return o-O*((y+x*S*_)/k*Math.sin(k*P)+_*Math.cos(k*P))}}else if(x===1)C=k=>o-Math.exp(-S*k)*(_+(y+S*_)*k);else{const k=S*Math.sqrt(x*x-1);C=P=>{const O=Math.exp(-x*S*P),I=Math.min(k*P,300);return o-O*((y+x*S*_)*Math.sinh(I)+k*_*Math.cosh(I))/k}}const A={calculatedDuration:v&&h||null,next:k=>{const P=C(k);if(v)l.done=k>=h;else{let O=0;x<1&&(O=k===0?Sl(y):w7(C,k,P));const I=Math.abs(O)<=n,F=Math.abs(o-P)<=i;l.done=I&&F}return l.value=l.done?o:P,l},toString:()=>{const k=Math.min(B9(A),xk),P=z9(O=>A.next(k*O).value,k,30);return k+"ms "+P}};return A}function C4({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const h=t[0],g={done:!1,value:h},v=I=>l!==void 0&&I<l||c!==void 0&&I>c,y=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let x=r*e;const _=h+x,S=o===void 0?_:o(_);S!==_&&(x=S-h);const N=I=>-x*Math.exp(-I/n),C=I=>S+N(I),A=I=>{const F=N(I),H=C(I);g.done=Math.abs(F)<=u,g.value=g.done?S:H};let k,P;const O=I=>{v(g.value)&&(k=I,P=_7({keyframes:[g.value,y(g.value)],velocity:w7(C,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:I=>{let F=!1;return!P&&k===void 0&&(F=!0,A(I),O(I)),k!==void 0&&I>=k?P.next(I-k):(!F&&A(I),g)}}}const Soe=by(.42,0,1,1),Noe=by(0,0,.58,1),j7=by(.42,0,.58,1),Coe=t=>Array.isArray(t)&&typeof t[0]!="number",Eoe={linear:Rs,easeIn:Soe,easeInOut:j7,easeOut:Noe,circIn:tR,circInOut:n7,circOut:r7,backIn:eR,backInOut:e7,backOut:Q9,anticipate:t7},E4=t=>{if(ZO(t)){b9(t.length===4);const[e,r,n,i]=t;return by(e,r,n,i)}else if(typeof t=="string")return Eoe[t];return t};function Poe(t,e,r){const n=[],i=r||b7,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Rs:e;l=wy(c,l)}n.push(l)}return n}function koe(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(b9(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Poe(e,n,i),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let h=0;if(c>1)for(;h<t.length-2&&!(d<t[h+1]);h++);const g=Jh(t[h],t[h+1],d);return l[h](g)};return r?d=>u(Ll(t[0],t[s-1],d)):u}function Toe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Jh(0,e,n);t.push(sn(r,1,i))}}function Aoe(t){const e=[0];return Toe(e,t.length-1),e}function Ooe(t,e){return t.map(r=>r*e)}function Roe(t,e){return t.map(()=>e||j7).splice(0,t.length-1)}function Bb({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Coe(n)?n.map(E4):E4(n),s={done:!1,value:e[0]},o=Ooe(r&&r.length===e.length?r:Aoe(e),t),l=koe(o,e,{ease:Array.isArray(i)?i:Roe(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const Moe=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Zr.update(e,!0),stop:()=>fu(e),now:()=>ai.isProcessing?ai.timestamp:Eo.now()}},Ioe={decay:C4,inertia:C4,tween:Bb,keyframes:Bb,spring:_7},Loe=t=>t/100;class oR extends y7{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||sR,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=GO(r)?r:Ioe[r]||Bb;let c,u;l!==Bb&&typeof e[0]!="number"&&(c=wy(Loe,b7(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});s==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=B9(d));const{calculatedDuration:h}=d,g=h+i,v=g*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:h,resolvedDuration:g,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:h}=n;if(this.startTime===null)return s.next(0);const{delay:g,repeat:v,repeatType:y,repeatDelay:x,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-g*(this.speed>=0?1:-1),N=this.speed>=0?S<0:S>d;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let C=this.currentTime,A=s;if(v){const I=Math.min(this.currentTime,d)/h;let F=Math.floor(I),H=I%1;!H&&I>=1&&(H=1),H===1&&F--,F=Math.min(F,v+1),!!(F%2)&&(y==="reverse"?(H=1-H,x&&(H-=x/h)):y==="mirror"&&(A=o)),C=Ll(0,1,H)*h}const k=N?{done:!1,value:c[0]}:A.next(C);l&&(k.value=l(k.value));let{done:P}=k;!N&&u!==null&&(P=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return O&&i!==void 0&&(k.value=R_(c,this.options,i)),_&&_(k.value),O&&this.finish(),k}get duration(){const{resolved:e}=this;return e?Nl(e.calculatedDuration):0}get time(){return Nl(this.currentTime)}set time(e){e=Sl(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Nl(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=Moe,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const Doe=new Set(["opacity","clipPath","filter","transform"]);function $oe(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=U9(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const Foe=RO(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),zb=10,Boe=2e4;function zoe(t){return GO(t.type)||t.type==="spring"||!q9(t.ease)}function qoe(t,e){const r=new oR({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let s=0;for(;!n.done&&s<Boe;)n=r.sample(s),i.push(n.value),s+=zb;return{times:void 0,keyframes:i,duration:s-zb,ease:"linear"}}const S7={anticipate:t7,backInOut:e7,circInOut:n7};function Uoe(t){return t in S7}class P4 extends y7{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new v7(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&$b()&&Uoe(s)&&(s=S7[s]),zoe(this.options)){const{onComplete:h,onUpdate:g,motionValue:v,element:y,...x}=this.options,_=qoe(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),n=_.duration,i=_.times,s=_.ease,o="keyframes"}const d=$oe(l.owner.current,c,e,{...this.options,duration:n,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(f4(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:h}=this.options;l.set(R_(e,this.options,r)),h&&h(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Nl(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Nl(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=Sl(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return Rs;const{animation:n}=r;f4(n,e)}return Rs}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:l}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:h,element:g,...v}=this.options,y=new oR({...v,keyframes:n,duration:i,type:s,ease:o,times:l,isGenerator:!0}),x=Sl(this.time);u.setWithVelocity(y.sample(x-zb).value,y.sample(x).value,zb)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return Foe()&&n&&Doe.has(n)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const Voe={type:"spring",stiffness:500,damping:25,restSpeed:10},Woe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Hoe={type:"keyframes",duration:.8},Koe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Goe=(t,{keyframes:e})=>e.length>2?Hoe:Xd.has(t)?t.startsWith("scale")?Woe(e[1]):Voe:Koe;function Zoe({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const lR=(t,e,r,n={},i,s)=>o=>{const l=KO(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Sl(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};Zoe(l)||(d={...d,...Goe(t,d)}),d.duration&&(d.duration=Sl(d.duration)),d.repeatDelay&&(d.repeatDelay=Sl(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let h=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(h=!0)),h&&!s&&e.get()!==void 0){const g=R_(d.keyframes,l);if(g!==void 0)return Zr.update(()=>{d.onUpdate(g),d.onComplete()}),new pae([])}return!s&&P4.supports(d)?new P4(d):new oR(d)};function Yoe({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function N7(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;n&&(o=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const h in c){const g=t.getValue(h,(s=t.latestValues[h])!==null&&s!==void 0?s:null),v=c[h];if(v===void 0||d&&Yoe(d,h))continue;const y={delay:r,...KO(o||{},h)};let x=!1;if(window.MotionHandoffAnimation){const S=Z9(t);if(S){const N=window.MotionHandoffAnimation(S,h,Zr);N!==null&&(y.startTime=N,x=!0)}}wk(t,h),g.start(lR(h,g,v,t.shouldReduceMotion&&K9.has(h)?{type:!1}:y,t,x));const _=g.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{Zr.update(()=>{l&&Pae(t,l)})}),u}function Pk(t,e,r={}){var n;const i=O_(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(N7(t,i,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:h,staggerDirection:g}=s;return Xoe(t,e,d+u,h,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function Xoe(t,e,r=0,n=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(Joe).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(Pk(u,e,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Joe(t,e){return t.sortNodePosition(e)}function Qoe(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Pk(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Pk(t,e,r);else{const i=typeof e=="function"?O_(t,e,r.custom):e;n=Promise.all(N7(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const ele=IO.length;function C7(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?C7(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<ele;r++){const n=IO[r],i=t.props[n];(hv(i)||i===!1)&&(e[n]=i)}return e}const tle=[...MO].reverse(),rle=MO.length;function nle(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Qoe(t,r,n)))}function ile(t){let e=nle(t),r=k4(),n=!0;const i=c=>(u,d)=>{var h;const g=O_(t,d,c==="exit"?(h=t.presenceContext)===null||h===void 0?void 0:h.custom:void 0);if(g){const{transition:v,transitionEnd:y,...x}=g;u={...u,...x,...y}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,d=C7(t.parent)||{},h=[],g=new Set;let v={},y=1/0;for(let _=0;_<rle;_++){const S=tle[_],N=r[S],C=u[S]!==void 0?u[S]:d[S],A=hv(C),k=S===c?N.isActive:null;k===!1&&(y=_);let P=C===d[S]&&C!==u[S]&&A;if(P&&n&&t.manuallyAnimateOnMount&&(P=!1),N.protectedKeys={...v},!N.isActive&&k===null||!C&&!N.prevProp||T_(C)||typeof C=="boolean")continue;const O=sle(N.prevProp,C);let I=O||S===c&&N.isActive&&!P&&A||_>y&&A,F=!1;const H=Array.isArray(C)?C:[C];let V=H.reduce(i(S),{});k===!1&&(V={});const{prevResolvedValues:U={}}=N,z={...U,...V},W=K=>{I=!0,g.has(K)&&(F=!0,g.delete(K)),N.needsAnimating[K]=!0;const ee=t.getValue(K);ee&&(ee.liveStyle=!1)};for(const K in z){const ee=V[K],G=U[K];if(v.hasOwnProperty(K))continue;let ne=!1;yk(ee)&&yk(G)?ne=!F9(ee,G):ne=ee!==G,ne?ee!=null?W(K):g.add(K):ee!==void 0&&g.has(K)?W(K):N.protectedKeys[K]=!0}N.prevProp=C,N.prevResolvedValues=V,N.isActive&&(v={...v,...V}),n&&t.blockInitialAnimation&&(I=!1),I&&(!(P&&O)||F)&&h.push(...H.map(K=>({animation:K,options:{type:S}})))}if(g.size){const _={};g.forEach(S=>{const N=t.getBaseTarget(S),C=t.getValue(S);C&&(C.liveStyle=!0),_[S]=N??null}),h.push({animation:_})}let x=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(h):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const h=o(c);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=k4(),n=!0}}}function sle(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F9(e,t):!1}function sd(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function k4(){return{animate:sd(!0),whileInView:sd(),whileHover:sd(),whileTap:sd(),whileDrag:sd(),whileFocus:sd(),exit:sd()}}class bu{constructor(e){this.isMounted=!1,this.node=e}update(){}}class ale extends bu{constructor(e){super(e),e.animationState||(e.animationState=ile(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();T_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let ole=0;class lle extends bu{constructor(){super(...arguments),this.id=ole++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const cle={animation:{Feature:ale},exit:{Feature:lle}};function vv(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function _y(t){return{point:{x:t.pageX,y:t.pageY}}}const ule=t=>e=>YO(e)&&t(e,_y(e));function Zg(t,e,r,n){return vv(t,e,ule(r),n)}const T4=(t,e)=>Math.abs(t-e);function dle(t,e){const r=T4(t.x,e.x),n=T4(t.y,e.y);return Math.sqrt(r**2+n**2)}class E7{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const h=IS(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=dle(h.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:y}=h,{timestamp:x}=ai;this.history.push({...y,timestamp:x});const{onStart:_,onMove:S}=this.handlers;g||(_&&_(this.lastMoveEvent,h),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,h)},this.handlePointerMove=(h,g)=>{this.lastMoveEvent=h,this.lastMoveEventInfo=MS(g,this.transformPagePoint),Zr.update(this.updatePoint,!0)},this.handlePointerUp=(h,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=IS(h.type==="pointercancel"?this.lastMoveEventInfo:MS(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(h,_),y&&y(h,_)},!YO(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=_y(e),l=MS(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ai;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,IS(l,this.history)),this.removeListeners=wy(Zg(this.contextWindow,"pointermove",this.handlePointerMove),Zg(this.contextWindow,"pointerup",this.handlePointerUp),Zg(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fu(this.updatePoint)}}function MS(t,e){return e?{point:e(t.point)}:t}function A4(t,e){return{x:t.x-e.x,y:t.y-e.y}}function IS({point:t},e){return{point:t,delta:A4(t,P7(e)),offset:A4(t,fle(e)),velocity:hle(e,.1)}}function fle(t){return t[0]}function P7(t){return t[t.length-1]}function hle(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=P7(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Sl(e)));)r--;if(!n)return{x:0,y:0};const s=Nl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const k7=1e-4,ple=1-k7,mle=1+k7,T7=.01,gle=0-T7,vle=0+T7;function Ds(t){return t.max-t.min}function yle(t,e,r){return Math.abs(t-e)<=r}function O4(t,e,r,n=.5){t.origin=n,t.originPoint=sn(e.min,e.max,t.origin),t.scale=Ds(r)/Ds(e),t.translate=sn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=ple&&t.scale<=mle||isNaN(t.scale))&&(t.scale=1),(t.translate>=gle&&t.translate<=vle||isNaN(t.translate))&&(t.translate=0)}function Yg(t,e,r,n){O4(t.x,e.x,r.x,n?n.originX:void 0),O4(t.y,e.y,r.y,n?n.originY:void 0)}function R4(t,e,r){t.min=r.min+e.min,t.max=t.min+Ds(e)}function xle(t,e,r){R4(t.x,e.x,r.x),R4(t.y,e.y,r.y)}function M4(t,e,r){t.min=e.min-r.min,t.max=t.min+Ds(e)}function Xg(t,e,r){M4(t.x,e.x,r.x),M4(t.y,e.y,r.y)}function ble(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?sn(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?sn(r,t,n.max):Math.min(t,r)),t}function I4(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function wle(t,{top:e,left:r,bottom:n,right:i}){return{x:I4(t.x,r,i),y:I4(t.y,e,n)}}function L4(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function _le(t,e){return{x:L4(t.x,e.x),y:L4(t.y,e.y)}}function jle(t,e){let r=.5;const n=Ds(t),i=Ds(e);return i>n?r=Jh(e.min,e.max-n,t.min):n>i&&(r=Jh(t.min,t.max-i,e.min)),Ll(0,1,r)}function Sle(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const kk=.35;function Nle(t=kk){return t===!1?t=0:t===!0&&(t=kk),{x:D4(t,"left","right"),y:D4(t,"top","bottom")}}function D4(t,e,r){return{min:$4(t,e),max:$4(t,r)}}function $4(t,e){return typeof t=="number"?t:t[e]||0}const F4=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ih=()=>({x:F4(),y:F4()}),B4=()=>({min:0,max:0}),gn=()=>({x:B4(),y:B4()});function na(t){return[t("x"),t("y")]}function A7({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Cle({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Ele(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function LS(t){return t===void 0||t===1}function Tk({scale:t,scaleX:e,scaleY:r}){return!LS(t)||!LS(e)||!LS(r)}function cd(t){return Tk(t)||O7(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function O7(t){return z4(t.x)||z4(t.y)}function z4(t){return t&&t!=="0%"}function qb(t,e,r){const n=t-r,i=e*n;return r+i}function q4(t,e,r,n,i){return i!==void 0&&(t=qb(t,i,n)),qb(t,r,n)+e}function Ak(t,e=0,r=1,n,i){t.min=q4(t.min,e,r,n,i),t.max=q4(t.max,e,r,n,i)}function R7(t,{x:e,y:r}){Ak(t.x,e.translate,e.scale,e.originPoint),Ak(t.y,r.translate,r.scale,r.originPoint)}const U4=.999999999999,V4=1.0000000000001;function Ple(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Dh(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,R7(t,o)),n&&cd(s.latestValues)&&Dh(t,s.latestValues))}e.x<V4&&e.x>U4&&(e.x=1),e.y<V4&&e.y>U4&&(e.y=1)}function Lh(t,e){t.min=t.min+e,t.max=t.max+e}function W4(t,e,r,n,i=.5){const s=sn(t.min,t.max,i);Ak(t,e,r,s,n)}function Dh(t,e){W4(t.x,e.x,e.scaleX,e.scale,e.originX),W4(t.y,e.y,e.scaleY,e.scale,e.originY)}function M7(t,e){return A7(Ele(t.getBoundingClientRect(),e))}function kle(t,e,r){const n=M7(t,r),{scroll:i}=e;return i&&(Lh(n.x,i.offset.x),Lh(n.y,i.offset.y)),n}const I7=({current:t})=>t?t.ownerDocument.defaultView:null,Tle=new WeakMap;class Ale{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=gn(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:h}=this.getProps();h?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(_y(d).point)},s=(d,h)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=jae(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),na(_=>{let S=this.getAxisMotionValue(_).get()||0;if(Co.test(S)){const{projection:N}=this.visualElement;if(N&&N.layout){const C=N.layout.layoutBox[_];C&&(S=Ds(C)*(parseFloat(S)/100))}}this.originPoint[_]=S}),y&&Zr.postRender(()=>y(d,h)),wk(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,h)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:x}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=h;if(v&&this.currentDirection===null){this.currentDirection=Ole(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",h.point,_),this.updateAxis("y",h.point,_),this.visualElement.render(),x&&x(d,h)},l=(d,h)=>this.stop(d,h),c=()=>na(d=>{var h;return this.getAnimationState(d)==="paused"&&((h=this.getAxisMotionValue(d).animation)===null||h===void 0?void 0:h.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new E7(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:I7(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Zr.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!N0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=ble(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&Rh(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=wle(i.layoutBox,r):this.constraints=!1,this.elastic=Nle(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&na(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Sle(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Rh(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=kle(n,i.root,this.visualElement.getTransformPagePoint());let o=_le(i.layout.layoutBox,s);if(r){const l=r(Cle(o));this.hasMutatedConstraints=!!l,l&&(o=A7(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=na(d=>{if(!N0(d,r,this.currentDirection))return;let h=c&&c[d]||{};o&&(h={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:n?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return wk(this.visualElement,e),n.start(lR(e,n,0,r,this.visualElement,!1))}stopAnimation(){na(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){na(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){na(r=>{const{drag:n}=this.getProps();if(!N0(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(e[r]-sn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Rh(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};na(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=jle({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),na(o=>{if(!N0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(sn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;Tle.set(this.visualElement,this);const e=this.visualElement.current,r=Zg(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();Rh(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Zr.read(n);const o=vv(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(na(d=>{const h=this.getAxisMotionValue(d);h&&(this.originPoint[d]+=c[d].translate,h.set(h.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=kk,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function N0(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Ole(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Rle extends bu{constructor(e){super(e),this.removeGroupControls=Rs,this.removeListeners=Rs,this.controls=new Ale(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Rs}unmount(){this.removeGroupControls(),this.removeListeners()}}const H4=t=>(e,r)=>{t&&Zr.postRender(()=>t(e,r))};class Mle extends bu{constructor(){super(...arguments),this.removePointerDownListener=Rs}onPointerDown(e){this.session=new E7(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:I7(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:H4(e),onStart:H4(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Zr.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Zg(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const yb={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function K4(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ag={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(St.test(t))t=parseFloat(t);else return t;const r=K4(t,e.target.x),n=K4(t,e.target.y);return`${r}% ${n}%`}},Ile={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=hu.parse(t);if(i.length>5)return n;const s=hu.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=sn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class Lle extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;rae(Dle),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),yb.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Zr.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),DO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L7(t){const[e,r]=y9(),n=b.useContext(kO);return a.jsx(Lle,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(C9),isPresent:e,safeToRemove:r})}const Dle={borderRadius:{...ag,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ag,borderTopRightRadius:ag,borderBottomLeftRadius:ag,borderBottomRightRadius:ag,boxShadow:Ile};function $le(t,e,r){const n=Ci(t)?t:mv(t);return n.start(lR("",n,e,r)),n.animation}function Fle(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Ble=(t,e)=>t.depth-e.depth;class zle{constructor(){this.children=[],this.isDirty=!1}add(e){XO(this.children,e),this.isDirty=!0}remove(e){JO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ble),this.isDirty=!1,this.children.forEach(e)}}function qle(t,e){const r=Eo.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(fu(n),t(s-e))};return Zr.read(n,!0),()=>fu(n)}const D7=["TopLeft","TopRight","BottomLeft","BottomRight"],Ule=D7.length,G4=t=>typeof t=="string"?parseFloat(t):t,Z4=t=>typeof t=="number"||St.test(t);function Vle(t,e,r,n,i,s){i?(t.opacity=sn(0,r.opacity!==void 0?r.opacity:1,Wle(n)),t.opacityExit=sn(e.opacity!==void 0?e.opacity:1,0,Hle(n))):s&&(t.opacity=sn(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<Ule;o++){const l=`border${D7[o]}Radius`;let c=Y4(e,l),u=Y4(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Z4(c)===Z4(u)?(t[l]=Math.max(sn(G4(c),G4(u),n),0),(Co.test(u)||Co.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=sn(e.rotate||0,r.rotate||0,n))}function Y4(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Wle=$7(0,.5,r7),Hle=$7(.5,.95,Rs);function $7(t,e,r){return n=>n<t?0:n>e?1:r(Jh(t,e,n))}function X4(t,e){t.min=e.min,t.max=e.max}function Qs(t,e){X4(t.x,e.x),X4(t.y,e.y)}function J4(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Q4(t,e,r,n,i){return t-=e,t=qb(t,1/r,n),i!==void 0&&(t=qb(t,1/i,n)),t}function Kle(t,e=0,r=1,n=.5,i,s=t,o=t){if(Co.test(e)&&(e=parseFloat(e),e=sn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=sn(s.min,s.max,n);t===s&&(l-=e),t.min=Q4(t.min,e,r,l,i),t.max=Q4(t.max,e,r,l,i)}function e$(t,e,[r,n,i],s,o){Kle(t,e[r],e[n],e[i],e.scale,s,o)}const Gle=["x","scaleX","originX"],Zle=["y","scaleY","originY"];function t$(t,e,r,n){e$(t.x,e,Gle,r?r.x:void 0,n?n.x:void 0),e$(t.y,e,Zle,r?r.y:void 0,n?n.y:void 0)}function r$(t){return t.translate===0&&t.scale===1}function F7(t){return r$(t.x)&&r$(t.y)}function n$(t,e){return t.min===e.min&&t.max===e.max}function Yle(t,e){return n$(t.x,e.x)&&n$(t.y,e.y)}function i$(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function B7(t,e){return i$(t.x,e.x)&&i$(t.y,e.y)}function s$(t){return Ds(t.x)/Ds(t.y)}function a$(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Xle{constructor(){this.members=[]}add(e){XO(this.members,e),e.scheduleRender()}remove(e){if(JO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Jle(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:h,rotateY:g,skewX:v,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),h&&(n+=`rotateX(${h}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const ud={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Mg=typeof window<"u"&&window.MotionDebug!==void 0,DS=["","X","Y","Z"],Qle={visibility:"hidden"},o$=1e3;let ece=0;function $S(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function z7(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=Z9(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Zr,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&z7(n)}function q7({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=ece++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Mg&&(ud.totalNodes=ud.resolvedTargetDeltas=ud.recalculatedProjection=0),this.nodes.forEach(nce),this.nodes.forEach(lce),this.nodes.forEach(cce),this.nodes.forEach(ice),Mg&&window.MotionDebug.record(ud)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new zle)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new QO),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Fle(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let h;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,h&&h(),h=qle(g,250),yb.hasAnimatedSinceResize&&(yb.hasAnimatedSinceResize=!1,this.nodes.forEach(c$))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||pce,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=d.getProps(),N=!this.targetLayout||!B7(this.targetLayout,y)||v,C=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||C||g&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(h,C);const A={...KO(x,"layout"),onPlay:_,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else g||c$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fu(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(uce),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&z7(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const h=this.path[d];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(l$);return}this.isUpdating||this.nodes.forEach(ace),this.isUpdating=!1,this.nodes.forEach(oce),this.nodes.forEach(tce),this.nodes.forEach(rce),this.clearAllSnapshots();const l=Eo.now();ai.delta=Ll(0,1e3/60,l-ai.timestamp),ai.timestamp=l,ai.isProcessing=!0,PS.update.process(ai),PS.preRender.process(ai),PS.render.process(ai),ai.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,DO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(sce),this.sharedNodes.forEach(dce)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Zr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Zr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=gn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!F7(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||cd(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),mce(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return gn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(gce))){const{scroll:d}=this.root;d&&(Lh(c.x,d.offset.x),Lh(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=gn();if(Qs(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:h,options:g}=d;d!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&Qs(c,o),Lh(c.x,h.offset.x),Lh(c.y,h.offset.y))}return c}applyTransform(o,l=!1){const c=gn();Qs(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Dh(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),cd(d.latestValues)&&Dh(c,d.latestValues)}return cd(this.latestValues)&&Dh(c,this.latestValues),c}removeTransform(o){const l=gn();Qs(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!cd(u.latestValues))continue;Tk(u.latestValues)&&u.updateSnapshot();const d=gn(),h=u.measurePageBox();Qs(d,h),t$(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return cd(this.latestValues)&&t$(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ai.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=ai.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),Xg(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=gn(),this.targetWithTransforms=gn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),xle(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Qs(this.target,this.layout.layoutBox),R7(this.target,this.targetDelta)):Qs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=gn(),this.relativeTargetOrigin=gn(),Xg(this.relativeTargetOrigin,this.target,v.target),Qs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Mg&&ud.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Tk(this.parent.latestValues)||O7(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===ai.timestamp&&(u=!1),u)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Qs(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;Ple(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=gn());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(J4(this.prevProjectionDelta.x,this.projectionDelta.x),J4(this.prevProjectionDelta.y,this.projectionDelta.y)),Yg(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!a$(this.projectionDelta.x,this.prevProjectionDelta.x)||!a$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),Mg&&ud.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ih(),this.projectionDelta=Ih(),this.projectionDeltaWithTransform=Ih()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},h=Ih();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=gn(),v=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=v!==y,_=this.getStack(),S=!_||_.members.length<=1,N=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(hce));this.animationProgress=0;let C;this.mixTargetDelta=A=>{const k=A/1e3;u$(h.x,o.x,k),u$(h.y,o.y,k),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Xg(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),fce(this.relativeTarget,this.relativeTargetOrigin,g,k),C&&Yle(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=gn()),Qs(C,this.relativeTarget)),x&&(this.animationValues=d,Vle(d,u,this.latestValues,k,N,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=k},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fu(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Zr.update(()=>{yb.hasAnimatedSinceResize=!0,this.currentAnimation=$le(0,o$,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(o$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&U7(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||gn();const h=Ds(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+h;const g=Ds(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Qs(l,c),Dh(l,d),Yg(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Xle),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&$S("z",o,u,this.animationValues);for(let d=0;d<DS.length;d++)$S(`rotate${DS[d]}`,o,u,this.animationValues),$S(`skew${DS[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Qle;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=gb(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=gb(o?.pointerEvents)||""),this.hasProjected&&!cd(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const g=h.animationValues||h.latestValues;this.applyTransformsToTarget(),u.transform=Jle(this.projectionDeltaWithTransform,this.treeScale,g),d&&(u.transform=d(g,u.transform));const{x:v,y}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,h.animationValues?u.opacity=h===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=h===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in Db){if(g[x]===void 0)continue;const{correct:_,applyTo:S}=Db[x],N=u.transform==="none"?g[x]:_(g[x],h);if(S){const C=S.length;for(let A=0;A<C;A++)u[S[A]]=N}else u[x]=N}return this.options.layoutId&&(u.pointerEvents=h===this?gb(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(l$),this.root.sharedNodes.clear()}}}function tce(t){t.updateLayout()}function rce(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?na(h=>{const g=o?r.measuredBox[h]:r.layoutBox[h],v=Ds(g);g.min=n[h].min,g.max=g.min+v}):U7(s,r.layoutBox,n)&&na(h=>{const g=o?r.measuredBox[h]:r.layoutBox[h],v=Ds(n[h]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const l=Ih();Yg(l,n,r.layoutBox);const c=Ih();o?Yg(c,t.applyTransform(i,!0),r.measuredBox):Yg(c,n,r.layoutBox);const u=!F7(l);let d=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:v}=h;if(g&&v){const y=gn();Xg(y,r.layoutBox,g.layoutBox);const x=gn();Xg(x,n,v.layoutBox),B7(y,x)||(d=!0),h.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function nce(t){Mg&&ud.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function ice(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function sce(t){t.clearSnapshot()}function l$(t){t.clearMeasurements()}function ace(t){t.isLayoutDirty=!1}function oce(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function c$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function lce(t){t.resolveTargetDelta()}function cce(t){t.calcProjection()}function uce(t){t.resetSkewAndRotation()}function dce(t){t.removeLeadSnapshot()}function u$(t,e,r){t.translate=sn(e.translate,0,r),t.scale=sn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function d$(t,e,r,n){t.min=sn(e.min,r.min,n),t.max=sn(e.max,r.max,n)}function fce(t,e,r,n){d$(t.x,e.x,r.x,n),d$(t.y,e.y,r.y,n)}function hce(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const pce={duration:.45,ease:[.4,0,.1,1]},f$=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),h$=f$("applewebkit/")&&!f$("chrome/")?Math.round:Rs;function p$(t){t.min=h$(t.min),t.max=h$(t.max)}function mce(t){p$(t.x),p$(t.y)}function U7(t,e,r){return t==="position"||t==="preserve-aspect"&&!yle(s$(e),s$(r),.2)}function gce(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const vce=q7({attachResizeListener:(t,e)=>vv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),FS={current:void 0},V7=q7({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!FS.current){const t=new vce({});t.mount(window),t.setOptions({layoutScroll:!0}),FS.current=t}return FS.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yce={pan:{Feature:Mle},drag:{Feature:Rle,ProjectionNode:V7,MeasureLayout:L7}};function m$(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Zr.postRender(()=>s(e,_y(e)))}class xce extends bu{mount(){const{current:e}=this.node;e&&(this.unmount=yae(e,r=>(m$(this.node,r,"Start"),n=>m$(this.node,n,"End"))))}unmount(){}}class bce extends bu{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=wy(vv(this.node.current,"focus",()=>this.onFocus()),vv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function g$(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Zr.postRender(()=>s(e,_y(e)))}class wce extends bu{mount(){const{current:e}=this.node;e&&(this.unmount=_ae(e,r=>(g$(this.node,r,"Start"),(n,{success:i})=>g$(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Ok=new WeakMap,BS=new WeakMap,_ce=t=>{const e=Ok.get(t.target);e&&e(t)},jce=t=>{t.forEach(_ce)};function Sce({root:t,...e}){const r=t||document;BS.has(r)||BS.set(r,{});const n=BS.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(jce,{root:t,...e})),n[i]}function Nce(t,e,r){const n=Sce(e);return Ok.set(t,r),n.observe(t),()=>{Ok.delete(t),n.unobserve(t)}}const Cce={some:0,all:1};class Ece extends bu{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Cce[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:h}=this.node.getProps(),g=u?d:h;g&&g(c)};return Nce(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Pce(e,r))&&this.startObserver()}unmount(){}}function Pce({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const kce={inView:{Feature:Ece},tap:{Feature:wce},focus:{Feature:bce},hover:{Feature:xce}},Tce={layout:{ProjectionNode:V7,MeasureLayout:L7}},Rk={current:null},W7={current:!1};function Ace(){if(W7.current=!0,!!OO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Rk.current=t.matches;t.addListener(e),e()}else Rk.current=!1}const Oce=[...g7,_i,hu],Rce=t=>Oce.find(m7(t)),v$=new WeakMap;function Mce(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Ci(i))t.addValue(n,i);else if(Ci(s))t.addValue(n,mv(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,mv(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const y$=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Ice{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=sR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Eo.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Zr.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=A_(r),this.isVariantNode=S9(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const y=g[v];c[v]!==void 0&&Ci(y)&&y.set(c[v],!1)}}mount(e){this.current=e,v$.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),W7.current||Ace(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Rk.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){v$.delete(this.current),this.projection&&this.projection.unmount(),fu(this.notifyUpdate),fu(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Xd.has(e),i=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&Zr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Qh){const r=Qh[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):gn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<y$.length;n++){const i=y$[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Mce(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=mv(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(h7(i)||i7(i))?i=parseFloat(i):!Rce(i)&&hu.test(r)&&(i=u7(e,r)),this.setBaseTarget(e,Ci(i)?i.get():i)),Ci(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=FO(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ci(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new QO),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class H7 extends Ice{constructor(){super(...arguments),this.KeyframeResolver=v7}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ci(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function Lce(t){return window.getComputedStyle(t)}class Dce extends H7{constructor(){super(...arguments),this.type="html",this.renderInstance=R9}readValueFromInstance(e,r){if(Xd.has(r)){const n=iR(r);return n&&n.default||0}else{const n=Lce(e),i=(T9(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return M7(e,r)}build(e,r,n){qO(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return HO(e,r,n)}}class $ce extends H7{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=gn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Xd.has(r)){const n=iR(r);return n&&n.default||0}return r=M9.has(r)?r:LO(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return D9(e,r,n)}build(e,r,n){UO(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){I9(e,r,n,i)}mount(e){this.isSVGTag=WO(e.tagName),super.mount(e)}}const Fce=(t,e)=>$O(t)?new $ce(e):new Dce(e,{allowProjection:t!==b.Fragment}),Bce=dae({...cle,...kce,...yce,...Tce},Fce),Oe=Cse(Bce),zce=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yy(async()=>{const{default:n}=await Promise.resolve().then(()=>Vp);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class cR extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class qce extends cR{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class x$ extends cR{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class b$ extends cR{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Mk;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Mk||(Mk={}));var Uce=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class Vce{constructor(e,{headers:r={},customFetch:n,region:i=Mk.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=zce(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return Uce(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(x=>{throw new qce(x)}),g=h.headers.get("x-relay-error");if(g&&g==="true")throw new x$(h);if(!h.ok)throw new b$(h);let v=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield h.json():v==="application/octet-stream"?y=yield h.blob():v==="text/event-stream"?y=h:v==="multipart/form-data"?y=yield h.formData():y=yield h.text(),{data:y,error:null,response:h}}catch(i){return{data:null,error:i,response:i instanceof b$||i instanceof x$?i.context:void 0}}})}}var Kn={},rh={},nh={},ih={},sh={},ah={},Wce=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tp=Wce();const Hce=tp.fetch,K7=tp.fetch.bind(tp),G7=tp.Headers,Kce=tp.Request,Gce=tp.Response,Vp=Object.freeze(Object.defineProperty({__proto__:null,Headers:G7,Request:Kce,Response:Gce,default:K7,fetch:Hce},Symbol.toStringTag,{value:"Module"})),Zce=FV(Vp);var C0={},w$;function Z7(){if(w$)return C0;w$=1,Object.defineProperty(C0,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return C0.default=t,C0}var _$;function Y7(){if(_$)return ah;_$=1;var t=ah&&ah.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(ah,"__esModule",{value:!0});const e=t(Zce),r=t(Z7());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,h,g;let v=null,y=null,x=null,_=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const k=await u.text();k===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=k:y=JSON.parse(k))}const C=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),A=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");C&&A&&A.length>1&&(x=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,_=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const C=await u.text();try{v=JSON.parse(C),Array.isArray(v)&&u.status===404&&(y=[],v=null,_=200,S="OK")}catch{u.status===404&&C===""?(_=204,S="No Content"):v={message:C}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,_=200,S="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:y,count:x,status:_,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,h,g;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(h=u?.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return ah.default=n,ah}var j$;function X7(){if(j$)return sh;j$=1;var t=sh&&sh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(sh,"__esModule",{value:!0});const e=t(Y7());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const h=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return sh.default=r,sh}var S$;function uR(){if(S$)return ih;S$=1;var t=ih&&ih.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(ih,"__esModule",{value:!0});const e=t(X7());class r extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return ih.default=r,ih}var N$;function J7(){if(N$)return nh;N$=1;var t=nh&&nh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nh,"__esModule",{value:!0});const e=t(uR());class r{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=s,this.schema=o,this.fetch=l}select(i,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const h=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return nh.default=r,nh}var og={},lg={},C$;function Yce(){return C$||(C$=1,Object.defineProperty(lg,"__esModule",{value:!0}),lg.version=void 0,lg.version="0.0.0-automated"),lg}var E$;function Xce(){if(E$)return og;E$=1,Object.defineProperty(og,"__esModule",{value:!0}),og.DEFAULT_HEADERS=void 0;const t=Yce();return og.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},og}var P$;function Jce(){if(P$)return rh;P$=1;var t=rh&&rh.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(rh,"__esModule",{value:!0});const e=t(J7()),r=t(uR()),n=Xce();class i{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:d}={}){let h;const g=new URL(`${this.url}/rpc/${o}`);let v;c||u?(h=c?"HEAD":"GET",Object.entries(l).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{g.searchParams.append(x,_)})):(h="POST",v=l);const y=Object.assign({},this.headers);return d&&(y.Prefer=`count=${d}`),new r.default({method:h,url:g,headers:y,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return rh.default=i,rh}var k$;function Qce(){if(k$)return Kn;k$=1;var t=Kn&&Kn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.PostgrestError=Kn.PostgrestBuilder=Kn.PostgrestTransformBuilder=Kn.PostgrestFilterBuilder=Kn.PostgrestQueryBuilder=Kn.PostgrestClient=void 0;const e=t(Jce());Kn.PostgrestClient=e.default;const r=t(J7());Kn.PostgrestQueryBuilder=r.default;const n=t(uR());Kn.PostgrestFilterBuilder=n.default;const i=t(X7());Kn.PostgrestTransformBuilder=i.default;const s=t(Y7());Kn.PostgrestBuilder=s.default;const o=t(Z7());return Kn.PostgrestError=o.default,Kn.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Kn}var eue=Qce();const tue=pr(eue),{PostgrestClient:rue,PostgrestQueryBuilder:kUe,PostgrestFilterBuilder:TUe,PostgrestTransformBuilder:AUe,PostgrestBuilder:OUe,PostgrestError:RUe}=tue;function nue(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const iue=nue(),sue="2.11.15",aue=`realtime-js/${sue}`,oue="1.0.0",Q7=1e4,lue=1e3;var Jg;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Jg||(Jg={}));var wi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(wi||(wi={}));var Ma;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ma||(Ma={}));var Ik;(function(t){t.websocket="websocket"})(Ik||(Ik={}));var gd;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(gd||(gd={}));class cue{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class eW{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Br;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Br||(Br={}));const T$=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=uue(o,t,e,i),s),{})},uue=(t,e,r,n)=>{const i=e.find(l=>l.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?tW(s,o):Lk(o)},tW=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return pue(e,r)}switch(t){case Br.bool:return due(e);case Br.float4:case Br.float8:case Br.int2:case Br.int4:case Br.int8:case Br.numeric:case Br.oid:return fue(e);case Br.json:case Br.jsonb:return hue(e);case Br.timestamp:return mue(e);case Br.abstime:case Br.date:case Br.daterange:case Br.int4range:case Br.int8range:case Br.money:case Br.reltime:case Br.text:case Br.time:case Br.timestamptz:case Br.timetz:case Br.tsrange:case Br.tstzrange:return Lk(e);default:return Lk(e)}},Lk=t=>t,due=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fue=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},hue=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},pue=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>tW(e,l))}return t},mue=t=>typeof t=="string"?t.replace(" ","T"):t,rW=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class zS{constructor(e,r,n={},i=Q7){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var A$;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(A$||(A$={}));class Qg{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qg.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=Qg.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Qg.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=s[u];if(h){const g=d.map(_=>_.presence_ref),v=h.map(_=>_.presence_ref),y=d.filter(_=>v.indexOf(_.presence_ref)<0),x=h.filter(_=>g.indexOf(_.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(v=>v.presence_ref),g=d.filter(v=>h.indexOf(v.presence_ref)<0);e[l].unshift(...g)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var O$;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(O$||(O$={}));var R$;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(R$||(R$={}));var vl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vl||(vl={}));class dR{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=wi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new zS(this,Ma.join,this.params,this.timeout),this.rejoinTimer=new eW(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=wi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=wi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=wi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=wi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ma.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new Qg(this),this.broadcastEndpointURL=rW(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==wi.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>e?.(vl.CHANNEL_ERROR,d)),this._onClose(()=>e?.(vl.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e?.(vl.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(h=g?.length)!==null&&h!==void 0?h:0,y=[];for(let x=0;x<v;x++){const _=g[x],{filter:{event:S,schema:N,table:C,filter:A}}=_,k=d&&d[x];if(k&&k.event===S&&k.schema===N&&k.table===C&&k.filter===A)y.push(Object.assign(Object.assign({},_),{id:k.id}));else{this.unsubscribe(),this.state=wi.errored,e?.(vl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(vl.SUBSCRIBED);return}}).receive("error",d=>{this.state=wi.errored,e?.(vl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(vl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=wi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ma.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new zS(this,Ma.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new zS(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ma;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var y,x,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var y,x,_,S,N,C;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const A=v.id,k=(y=v.filter)===null||y===void 0?void 0:y.event;return A&&((x=r.ids)===null||x===void 0?void 0:x.includes(A))&&(k==="*"||k?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(N=(S=v?.filter)===null||S===void 0?void 0:S.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((C=r?.event)===null||C===void 0?void 0:C.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:x,table:_,commit_timestamp:S,type:N,errors:C}=y;g=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:S,eventType:N,new:{},old:{},errors:C}),this._getPayloadRecords(y))}v.callback(g,n)})}_isClosed(){return this.state===wi.closed}_isJoined(){return this.state===wi.joined}_isJoining(){return this.state===wi.joining}_isLeaving(){return this.state===wi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&dR.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ma.close,{},e)}_onError(e){this._on(Ma.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=wi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=T$(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=T$(e.columns,e.old_record)),r}}const M$=()=>{},gue=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class vue{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Q7,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=M$,this.ref=0,this.logger=M$,this.conn=null,this.sendBuffer=[],this.serializer=new cue,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>yy(async()=>{const{default:c}=await Promise.resolve().then(()=>Vp);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${Ik.websocket}`,this.httpEndpoint=rW(e),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eW(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=iue),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:oue}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jg.connecting:return gd.Connecting;case Jg.open:return gd.Open;case Jg.closing:return gd.Closing;default:return gd.Closed}}isConnected(){return this.connectionState()===gd.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new dR(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:aue};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Ma.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(lue,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ma.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([gue],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class fR extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Gn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class yue extends fR{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Dk extends fR{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var xue=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const nW=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yy(async()=>{const{default:n}=await Promise.resolve().then(()=>Vp);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},bue=()=>xue(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield yy(()=>Promise.resolve().then(()=>Vp),void 0)).Response:Response}),$k=t=>{if(Array.isArray(t))return t.map(r=>$k(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=$k(n)}),e},wue=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Jd=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const qS=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_ue=(t,e,r)=>Jd(void 0,void 0,void 0,function*(){const n=yield bue();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const s=t.status||500,o=i?.statusCode||s+"";e(new yue(qS(i),s,o))}).catch(i=>{e(new Dk(qS(i),i))}):e(new Dk(qS(t),t))}),jue=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(wue(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function jy(t,e,r,n,i,s){return Jd(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,jue(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>_ue(c,l,n))})})}function Ub(t,e,r,n){return Jd(this,void 0,void 0,function*(){return jy(t,"GET",e,r,n)})}function yl(t,e,r,n,i){return Jd(this,void 0,void 0,function*(){return jy(t,"POST",e,n,i,r)})}function Fk(t,e,r,n,i){return Jd(this,void 0,void 0,function*(){return jy(t,"PUT",e,n,i,r)})}function Sue(t,e,r,n){return Jd(this,void 0,void 0,function*(){return jy(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function iW(t,e,r,n,i){return Jd(this,void 0,void 0,function*(){return jy(t,"DELETE",e,n,i,r)})}var Xi=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Nue={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},I$={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Cue{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=nW(i)}uploadOrUpdate(e,r,n,i){return Xi(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},I$),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),h=yield(e=="PUT"?Fk:yl)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(Gn(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Xi(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Xi(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:I$.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Fk(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:h.Key},error:null}}catch(c){if(Gn(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Xi(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield yl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new fR("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(Gn(n))return{data:null,error:n};throw n}})}update(e,r,n){return Xi(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Xi(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Gn(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Xi(this,void 0,void 0,function*(){try{return{data:{path:(yield yl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Gn(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Xi(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield yl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(Gn(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Xi(this,void 0,void 0,function*(){try{const i=yield yl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(Gn(i))return{data:null,error:i};throw i}})}download(e,r){return Xi(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Ub(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(Gn(l))return{data:null,error:l};throw l}})}info(e){return Xi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ub(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:$k(n),error:null}}catch(n){if(Gn(n))return{data:null,error:n};throw n}})}exists(e){return Xi(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Sue(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Gn(n)&&n instanceof Dk){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Xi(this,void 0,void 0,function*(){try{return{data:yield iW(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(Gn(r))return{data:null,error:r};throw r}})}list(e,r,n){return Xi(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Nue),r),{prefix:e||""});return{data:yield yl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Gn(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const Eue="2.10.4",Pue={"X-Client-Info":`storage-js/${Eue}`};var oh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class kue{constructor(e,r={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},Pue),r),this.fetch=nW(n)}listBuckets(){return oh(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Gn(e))return{data:null,error:e};throw e}})}getBucket(e){return oh(this,void 0,void 0,function*(){try{return{data:yield Ub(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(Gn(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return oh(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Gn(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return oh(this,void 0,void 0,function*(){try{return{data:yield Fk(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Gn(n))return{data:null,error:n};throw n}})}emptyBucket(e){return oh(this,void 0,void 0,function*(){try{return{data:yield yl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Gn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return oh(this,void 0,void 0,function*(){try{return{data:yield iW(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(Gn(r))return{data:null,error:r};throw r}})}}class Tue extends kue{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Cue(this.url,this.headers,e,this.fetch)}}const Aue="2.53.0";let Ig="";typeof Deno<"u"?Ig="deno":typeof document<"u"?Ig="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ig="react-native":Ig="node";const Oue={"X-Client-Info":`supabase-js-${Ig}/${Aue}`},Rue={headers:Oue},Mue={schema:"public"},Iue={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Lue={};var Due=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const $ue=t=>{let e;return t?e=t:typeof fetch>"u"?e=K7:e=fetch,(...r)=>e(...r)},Fue=()=>typeof Headers>"u"?G7:Headers,Bue=(t,e,r)=>{const n=$ue(r),i=Fue();return(s,o)=>Due(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var zue=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function que(t){return t.endsWith("/")?t:t+"/"}function Uue(t,e){var r,n;const{db:i,auth:s,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(r=h?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>zue(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const sW="2.71.1",Ph=30*1e3,Bk=3,US=Bk*Ph,Vue="http://localhost:9999",Wue="supabase.auth.token",Hue={"X-Client-Info":`gotrue-js/${sW}`},zk="X-Supabase-Api-Version",aW={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kue=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gue=10*60*1e3;class hR extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Ft(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zue extends hR{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Yue(t){return Ft(t)&&t.name==="AuthApiError"}class oW extends hR{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class wu extends hR{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class qc extends wu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Xue(t){return Ft(t)&&t.name==="AuthSessionMissingError"}class E0 extends wu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class P0 extends wu{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class k0 extends wu{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Jue(t){return Ft(t)&&t.name==="AuthImplicitGrantRedirectError"}class L$ extends wu{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qk extends wu{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function VS(t){return Ft(t)&&t.name==="AuthRetryableFetchError"}class D$ extends wu{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Uk extends wu{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),$$=` 	
\r=`.split(""),Que=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<$$.length;e+=1)t[$$[e].charCodeAt(0)]=-2;for(let e=0;e<Vb.length;e+=1)t[Vb[e].charCodeAt(0)]=e;return t})();function F$(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vb[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vb[n]),e.queuedBits-=6}}function lW(t,e,r){const n=Que[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function B$(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{rde(o,n,r)};for(let o=0;o<t.length;o+=1)lW(t.charCodeAt(o),i,s);return e.join("")}function ede(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function tde(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ede(n,e)}}function rde(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function nde(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)lW(t.charCodeAt(i),r,n);return new Uint8Array(e)}function ide(t){const e=[];return tde(t,r=>e.push(r)),new Uint8Array(e)}function sde(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>F$(i,r,n)),F$(null,r,n),e.join("")}function ade(t){return Math.round(Date.now()/1e3)+t}function ode(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Aa=()=>typeof window<"u"&&typeof document<"u",ad={tested:!1,writable:!1},cW=()=>{if(!Aa())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ad.tested)return ad.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ad.tested=!0,ad.writable=!0}catch{ad.tested=!0,ad.writable=!1}return ad.writable};function lde(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const uW=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>yy(async()=>{const{default:n}=await Promise.resolve().then(()=>Vp);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},cde=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",kh=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},od=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mc=async(t,e)=>{await t.removeItem(e)};class M_{constructor(){this.promise=new M_.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}M_.promiseConstructor=Promise;function WS(t){const e=t.split(".");if(e.length!==3)throw new Uk("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Kue.test(e[n]))throw new Uk("JWT not in base64url format");return{header:JSON.parse(B$(e[0])),payload:JSON.parse(B$(e[1])),signature:nde(e[2]),raw:{header:e[0],payload:e[1]}}}async function ude(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function dde(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function fde(t){return("0"+t.toString(16)).substr(-2)}function hde(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,fde).join("")}async function pde(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function mde(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await pde(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lh(t,e,r=!1){const n=hde();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await kh(t,`${e}-code-verifier`,i);const s=await mde(n);return[s,n===s?"plain":"s256"]}const gde=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vde(t){const e=t.headers.get(zk);if(!e||!e.match(gde))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yde(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function xde(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const bde=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ch(t){if(!bde.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function HS(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function z$(t){return JSON.parse(JSON.stringify(t))}var wde=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const dd=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),_de=[502,503,504];async function q$(t){var e;if(!cde(t))throw new qk(dd(t),0);if(_de.includes(t.status))throw new qk(dd(t),t.status);let r;try{r=await t.json()}catch(s){throw new oW(dd(s),s)}let n;const i=vde(t);if(i&&i.getTime()>=aW["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new D$(dd(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new qc}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new D$(dd(r),t.status,r.weak_password.reasons);throw new Zue(dd(r),t.status||500,n)}const jde=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Yt(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[zk]||(s[zk]=aW["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Sde(t,e,r+l,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Sde(t,e,r,n,i,s){const o=jde(e,n,i,s);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new qk(dd(c),0)}if(l.ok||await q$(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await q$(c)}}function gl(t){var e;let r=null;Pde(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=ade(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function U$(t){const e=gl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Nde(t){return{data:t,error:null}}function Cde(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=wde(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function Ede(t){return t}function Pde(t){return t.access_token&&t.refresh_token&&t.expires_in}const KS=["global","local","others"];var kde=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class Tde{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=uW(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=KS[0]){if(KS.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${KS.join(", ")}`);try{return await Yt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=kde(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await Yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Cde,redirectTo:r?.redirectTo})}catch(r){if(Ft(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zc})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Ede});if(d.error)throw d.error;const h=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=x}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(Ft(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){ch(e);try{return await Yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zc})}catch(r){if(Ft(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){ch(e);try{return await Yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Zc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){ch(e);try{return await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zc})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){ch(e.userId);try{const{data:r,error:n}=await Yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _deleteFactor(e){ch(e.userId),ch(e.id);try{return{data:await Yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}}function V$(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function Ade(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const uh={debug:!!(globalThis&&cW()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dW extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Ode extends dW{}async function Rde(t,e,r){uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),uh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Ode(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(uh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}Ade();const Mde={url:Vue,storageKey:Wue,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Hue,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function W$(t,e,r){return await r()}const dh={};class yv{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=yv.nextInstanceID,yv.nextInstanceID+=1,this.instanceID>0&&Aa()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},Mde),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new Tde({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=uW(i.fetch),this.lock=i.lock||W$,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Aa()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Rde:this.lock=W$,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:cW()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V$(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=V$(this.memoryStorage)),Aa()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=dh[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){dh[this.storageKey]=Object.assign(Object.assign({},dh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=dh[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){dh[this.storageKey]=Object.assign(Object.assign({},dh[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${sW}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=lde(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Aa()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Jue(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Ft(r)?{error:r}:{error:new oW("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:gl}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ft(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:h,options:g}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await lh(this.storage,this.storageKey)),s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:h,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:y},xform:gl})}else if("phone"in e){const{phone:d,password:h,options:g}=e;s=await Yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:gl})}else throw new P0("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(Ft(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:U$})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:U$})}else throw new P0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new E0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,o,l,c,u,d,h,g,v;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:_,wallet:S,statement:N,options:C}=e;let A;if(Aa())if(typeof S=="object")A=S;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))A=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const k=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const P=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),N?{statement:N}:null));let O;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")O=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)O=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),x=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${k.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(i=(n=C?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=C?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((o=C?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((u=C?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((h=(d=C?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...C.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const P=await A.signMessage(new TextEncoder().encode(y),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=P}}try{const{data:_,error:S}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:sde(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:gl});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new E0}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(Ft(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await od(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:gl});if(await Mc(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new E0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(Ft(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,l=await Yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gl}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new E0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await lh(this.storage,this.storageKey));const{error:h}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new P0("You must provide either an email or phone number.")}catch(l){if(Ft(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:gl});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(Ft(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await lh(this.storage,this.storageKey)),await Yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Nde})}catch(s){if(Ft(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new qc;const{error:i}=await Yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(Ft(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await Yt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:l}=await Yt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new P0("You must provide either an email or phone number and a type")}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await od(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<US:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await od(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=HS()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zc}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qc}:await Yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Zc})})}catch(r){if(Ft(r))return Xue(r)&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new qc;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await lh(this.storage,this.storageKey));const{data:u,error:d}=await Yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Zc});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(Ft(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qc;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=WS(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(Ft(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new qc;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Ft(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Aa())throw new k0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new k0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new L$("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new k0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new L$("No code detected.");const{data:N,error:C}=await this._exchangeCodeForSession(e.code);if(C)throw C;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new k0("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let g=d+h;c&&(g=parseInt(c));const v=g-d;v*1e3<=Ph&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=g-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:x,error:_}=await this._getUser(s);if(_)throw _;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(Ft(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await od(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Yue(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Mc(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ode(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await lh(this.storage,this.storageKey,!0));try{return await Yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(Ft(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,d;const{data:h,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Yt(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Aa()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(Ft(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await Yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await dde(async i=>(i>0&&await ude(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:gl})),(i,s)=>{const o=200*Math.pow(2,i);return s&&VS(s)&&Date.now()+o-n<Ph})}catch(n){if(this._debug(r,"error",n),Ft(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Aa()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await od(this.storage,this.storageKey);if(i&&this.userStorage){let o=await od(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await kh(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:HS()}else if(i&&!i.user&&!i.user){const o=await od(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Mc(this.storage,this.storageKey+"-user"),await kh(this.storage,this.storageKey,i)):i.user=HS()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<US;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${US}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),VS(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new qc;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new M_;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new qc;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),Ft(s)){const o={session:null,error:s};return VS(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await kh(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=z$(i);await kh(this.storage,this.storageKey,s)}else{const i=z$(r);await kh(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Mc(this.storage,this.storageKey),await Mc(this.storage,this.storageKey+"-code-verifier"),await Mc(this.storage,this.storageKey+"-user"),this.userStorage&&await Mc(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Aa()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ph);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Ph);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ph}ms, refresh threshold is ${Bk} ticks`),i<=Bk&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof dW)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Aa()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await lh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Yt(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await Yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Ft(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=e?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=WS(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+Gue>i)return n;const{data:s,error:o}=await Yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=WS(n);r?.allowExpired||yde(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const d=xde(i.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,ide(`${l}.${c}`)))throw new Uk("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(Ft(n))return{data:null,error:n};throw n}}}yv.nextInstanceID=0;const Ide=yv;class Lde extends Ide{constructor(e){super(e)}}var Dde=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(h){o(h)}}function c(d){try{u(n.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class $de{constructor(e,r,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=que(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:Mue,realtime:Lue,auth:Object.assign(Object.assign({},Iue),{storageKey:u}),global:Rue},h=Uue(n??{},d);this.storageKey=(i=h.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=h.global.headers)!==null&&s!==void 0?s:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=Bue(r,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new rue(new URL("rest/v1",c).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Tue(this.storageUrl.href,this.headers,this.fetch,n?.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Vce(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return Dde(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:c},u,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lde({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new vue(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fde=(t,e,r)=>new $de(t,e,r);function Bde(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Bde()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Yc="https://vvlpgviacinsbggfsexs.supabase.co";const pR="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ2bHBndmlhY2luc2JnZ2ZzZXhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MjMzNjUsImV4cCI6MjA3MDA5OTM2NX0.YsZUDyYfgGHD7jNDKAVaR4Y0yzulwLo2NGo85ohHefY";console.log("🔍 Variables d'environnement détectées:");console.log("🔍 VITE_SUPABASE_URL:",Yc);console.log("🔍 VITE_SUPABASE_ANON_KEY length:",pR?.length);Yc&&Yc.startsWith("//")&&(Yc="https:"+Yc,console.log("🔧 URL Supabase corrigée:",Yc));const gr=!!(Yc&&pR);console.log("🔍 isSupabaseConfigured:",gr);gr||console.error("Supabase non configuré: VITE_SUPABASE_URL ou VITE_SUPABASE_ANON_KEY manquants");const xl={sessionTimeout:30*60*1e3,rememberMeDays:7,autoRefresh:!0,detectSessionInUrl:!0,persistSession:!0},be=Fde(Yc||"https://placeholder.supabase.co",pR,{auth:{autoRefreshToken:xl.autoRefresh,persistSession:xl.persistSession,detectSessionInUrl:xl.detectSessionInUrl,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"maximarket-web"}}});let zde=0;const qde=function(t){if(typeof window>"u"||typeof document>"u")return{id:"noop",dismiss:function(){}};const e="toast-"+ ++zde,r=document.getElementById("toaster-container");if(!r)return console.warn("Toast container not found"),{id:"noop",dismiss:function(){}};try{const n=document.createElement("div");n.id=e,n.className="bg-background border rounded-md p-4 shadow-lg max-w-sm mb-2";let i="";return t.title&&(i+='<div class="font-semibold">'+t.title+"</div>"),t.description&&(i+='<div class="text-sm opacity-90 mt-1">'+t.description+"</div>"),n.innerHTML=i+'<button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-foreground/50 hover:text-foreground">✕</button>',r.appendChild(n),t.duration!==1/0&&setTimeout(function(){n.parentNode&&n.remove()},t.duration||5e3),{id:e,dismiss:function(){n.parentNode&&n.remove()}}}catch(n){return console.error("Error creating toast:",n),{id:"error",dismiss:function(){}}}};function Yr(){return{toast:qde,toasts:[]}}const fW=b.createContext({}),Ude=({children:t})=>{const[e,r]=b.useState(null),[n,i]=b.useState(null),[s,o]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState(null),[h,g]=b.useState(!1),{toast:v}=Yr(),y=b.useCallback(()=>{if(l&&!h){const V=Date.now();V-(l.created_at?new Date(l.created_at).getTime():V)>xl.sessionTimeout&&(console.log("🕐 Session expirée, déconnexion automatique"),N(),v({title:"Session expirée",description:"Votre session a expiré. Veuillez vous reconnecter.",variant:"destructive"}))}},[l,h,v]);b.useEffect(()=>{if(!l)return;const V=setInterval(y,6e4);return()=>clearInterval(V)},[l,y]);const x=b.useCallback(V=>{g(V),V?(localStorage.setItem("maximarket-remember-me","true"),localStorage.setItem("maximarket-remember-date",new Date().toISOString())):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"))},[]);b.useEffect(()=>{const V=localStorage.getItem("maximarket-remember-me")==="true",U=localStorage.getItem("maximarket-remember-date");V&&U&&((Date.now()-new Date(U).getTime())/864e5<=xl.rememberMeDays?g(!0):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),g(!1)))},[]),b.useEffect(()=>{if(!gr){o(!1);return}(async()=>{const{data:{session:z}}=await be.auth.getSession();if(c(z),r(z?.user??null),z?.user)try{const{data:W}=await be.from("users").select("*").eq("id",z.user.id).single();if(i(W),z.created_at){const J=new Date(z.created_at).getTime()+xl.sessionTimeout;d(J)}}catch(W){console.error("Erreur lors de la récupération du profil:",W)}o(!1)})();const{data:{subscription:U}}=be.auth.onAuthStateChange(async(z,W)=>{if(console.log("Auth state changed:",z,W),c(W),r(W?.user??null),W?.user)try{const{data:J}=await be.from("users").select("*").eq("id",W.user.id).single();if(i(J),W.created_at){const se=new Date(W.created_at).getTime()+xl.sessionTimeout;d(se)}}catch(J){console.error("Erreur lors de la récupération du profil:",J)}else i(null),d(null);if(o(!1),z==="SIGNED_IN"){if(W?.user){const J={id:W.user.id,first_name:W.user.user_metadata?.first_name||"",last_name:W.user.user_metadata?.last_name||"",email:W.user.email,phone_number:W.user.user_metadata?.phone_number||"",role:"user"},{error:se}=await be.from("users").upsert([J],{onConflict:"id"});se&&console.error("Profile upsert error:",se)}v({title:"Connexion réussie",description:"Bienvenue sur MaxiMarket !"})}else if(z==="SIGNED_OUT")d(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date");else if(z==="TOKEN_REFRESHED"&&W?.created_at){const J=new Date(W.created_at).getTime()+xl.sessionTimeout;d(J)}});return()=>U.unsubscribe()},[v]);const _=async(V,U=!1)=>{try{if(!gr)throw new Error("Supabase non configuré");const{data:z,error:W}=await be.auth.signInWithPassword({email:V.email,password:V.password});if(W)throw W;return x(U),console.log("Supabase login successful:",z),!0}catch(z){return console.error("Login error:",z),v({title:"Erreur de connexion",description:z.message,variant:"destructive"}),!1}},S=async V=>{try{if(!gr)throw new Error("Supabase non configuré");const U=(V?.phoneNumber||"").trim(),z=/^\+?[1-9]\d{1,14}$/;if(!U)return v({title:"Numéro requis",description:"Le numéro de téléphone est obligatoire pour créer un compte.",variant:"destructive"}),!1;if(!z.test(U))return v({title:"Numéro invalide",description:"Veuillez saisir un numéro de téléphone valide (format international).",variant:"destructive"}),!1;const{data:W,error:J}=await be.auth.signUp({email:V.email,password:V.password,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{first_name:V.firstName,last_name:V.lastName,phone_number:U}}});if(J)throw J;if(console.log("Supabase register successful:",W),W.user){const{error:se}=await be.from("users").upsert([{id:W.user.id,first_name:V.firstName,last_name:V.lastName,email:V.email,phone_number:U,role:"user"}],{onConflict:"id"});se&&console.error("Profile upsert error:",se)}return W.user&&!W.user.email_confirmed_at?(v({title:"Inscription réussie",description:"Vérifiez votre email pour confirmer votre compte !"}),{success:!0,needsConfirmation:!0}):(v({title:"Inscription réussie",description:"Bienvenue sur MaxiMarket !"}),{success:!0,needsConfirmation:!1})}catch(U){return console.error("Register error:",U),v({title:"Erreur d'inscription",description:U.message,variant:"destructive"}),!1}},N=async()=>{try{const{error:V}=await be.auth.signOut();if(V)throw V;return d(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),!0}catch(V){return console.error("Logout error:",V),v({title:"Erreur de déconnexion",description:V.message,variant:"destructive"}),!1}},H={user:n||e,userProfile:n,session:l,sessionExpiry:u,isRememberMe:h,loading:s,login:_,register:S,logout:N,extendSession:async()=>{try{if(!l)return!1;const{data:V,error:U}=await be.auth.refreshSession();if(U)throw U;if(V.session){const z=new Date(V.session.created_at).getTime()+xl.sessionTimeout;return d(z),v({title:"Session étendue",description:"Votre session a été prolongée avec succès."}),!0}return!1}catch(V){return console.error("Erreur lors de l'extension de session:",V),!1}},getSessionStatus:()=>{if(!l)return"disconnected";if(h)return"remembered";if(u){const V=Date.now(),U=u-V;return U<=0?"expired":U<=5*60*1e3?"expiring_soon":"active"}return"active"},getSessionTimeLeft:()=>{if(!u)return 0;const V=Date.now(),U=u-V;return Math.max(0,U)},resetPassword:async V=>{try{const{error:U}=await be.auth.resetPasswordForEmail(V,{redirectTo:`${window.location.origin}/reset-password`});if(U)throw U;return v({title:"Email envoyé",description:"Vérifiez votre boîte mail pour réinitialiser votre mot de passe."}),!0}catch(U){return console.error("Reset password error:",U),v({title:"Erreur",description:U.message,variant:"destructive"}),!1}},updatePassword:async V=>{try{const{error:U}=await be.auth.updateUser({password:V});if(U)throw U;return v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été modifié avec succès."}),!0}catch(U){return console.error("Update password error:",U),v({title:"Erreur",description:U.message,variant:"destructive"}),!1}},hasRole:V=>e?n?.role?n.role===V:e.user_metadata?.role===V||e.app_metadata?.role===V:!1,hasAnyRole:V=>{if(!e)return!1;if(n?.role)return V.includes(n.role);const U=e.user_metadata?.role||e.app_metadata?.role;return V.includes(U)},isAuthenticated:!!e};return a.jsx(fW.Provider,{value:H,children:t})},Sr=()=>{const t=b.useContext(fW);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Vde={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wde=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...Vde,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Wde(t)}`,l].join(" "),...u},[...e.map(([h,g])=>b.createElement(h,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=Be("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hde=Be("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=Be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=Be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kde=Be("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gde=Be("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zde=Be("BadgeCent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M15.4 10a4 4 0 1 0 0 4",key:"2eqtx8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=Be("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vd=Be("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=Be("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yde=Be("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xde=Be("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fd=Be("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=Be("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=Be("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Td=Be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=Be("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=Be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=Be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ca=Be("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=Be("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Be("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sy=Be("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ny=Be("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hn=Be("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=Be("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jde=Be("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=Be("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=Be("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=Be("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qde=Be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=Be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H$=Be("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=Be("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const efe=Be("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K$=Be("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=Be("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=Be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=Be("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Be("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Be("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=Be("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=Be("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=Be("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=Be("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=Be("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=Be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Od=Be("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rfe=Be("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=Be("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=Be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=Be("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=Be("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=Be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const afe=Be("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=Be("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Be("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=Be("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G$=Be("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=Be("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lfe=Be("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=Be("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zd=Be("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xR=Be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=Be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=Be("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=Be("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=Be("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=Be("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ffe=Be("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hfe=Be("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=Be("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=Be("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=Be("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=Be("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=Be("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=Be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z$=Be("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=Be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=Be("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=Be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=Be("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y$=Be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=Be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=Be("SearchCode",[["path",{d:"m9 9-2 2 2 2",key:"17gsfh"}],["path",{d:"m13 13 2-2-2-2",key:"186z8k"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=Be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=Be("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=Be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=Be("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=Be("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=Be("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ef=Be("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=Be("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=Be("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=Be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=Be("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=Be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=Be("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=Be("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=Be("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=Be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=Be("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Be("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cg=Be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=Be("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=Be("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=Be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=Be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bR=Be("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=Be("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=Be("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const os=Be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=Be("Youtube",[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Be("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=Be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),fd=({children:t,requiredRole:e="user"})=>{const{user:r,loading:n}=Sr(),i=Pi();if(console.log("🔒 ProtectedRoute check:",{user:!!r,loading:n,requiredRole:e,path:i.pathname}),n)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Or,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!r)return console.log("🔒 User not authenticated, redirecting to /connexion"),a.jsx(KD,{to:"/connexion",state:{from:i},replace:!0});const s=Array.isArray(r.roles)&&r.roles.includes(e)||r.role===e||r.roles===e;return e&&!s?a.jsx(KD,{to:"/",replace:!0}):t},Ic=({children:t})=>a.jsx(fd,{requiredRole:"admin",children:t}),Afe=new u9({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(t,e)=>e?.status>=500?t<2:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}}),J$={listings:{staleTime:2*60*1e3,gcTime:5*60*1e3}};class Ofe{constructor(){this.isSupported="serviceWorker"in navigator,this.registration=null,this.updateAvailable=!1}async register(){if(!this.isSupported)return console.warn("⚠️ Service Worker non supporté par ce navigateur"),!1;try{return console.log("🔄 Enregistrement du Service Worker..."),this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("✅ Service Worker enregistré:",this.registration),this.registration.addEventListener("updatefound",()=>{console.log("🔄 Mise à jour du Service Worker disponible"),this.updateAvailable=!0}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("✅ Nouveau Service Worker activé"),this.updateAvailable=!1,window.location.reload()}),navigator.serviceWorker.addEventListener("message",e=>{console.log("📨 Message du Service Worker:",e.data)}),!0}catch(e){return console.error("❌ Erreur lors de l'enregistrement du Service Worker:",e),!1}}async unregister(){if(this.registration)try{return await this.registration.unregister(),console.log("✅ Service Worker désenregistré"),!0}catch(e){return console.error("❌ Erreur lors du désenregistrement:",e),!1}return!1}async update(){if(this.registration&&this.updateAvailable)try{return this.registration.active.postMessage({type:"SKIP_WAITING"}),console.log("🔄 Mise à jour du Service Worker déclenchée"),!0}catch(e){return console.error("❌ Erreur lors de la mise à jour:",e),!1}return!1}async clearCache(){if(this.registration)try{return this.registration.active.postMessage({type:"CLEAR_CACHE"}),console.log("🗑️ Vidage du cache demandé"),!0}catch(e){return console.error("❌ Erreur lors du vidage du cache:",e),!1}return!1}getStatus(){return{isSupported:this.isSupported,isRegistered:!!this.registration,updateAvailable:this.updateAvailable,scope:this.registration?.scope||null}}}const wR=new Ofe;class Rfe{constructor(){this.usagePatterns=new Map,this.optimizations=new Map,this.isOptimizing=!1}recordUsage(e,r,n){this.usagePatterns.has(e)||this.usagePatterns.set(e,{hits:0,misses:0,lastAccess:n,accessTimes:[],totalAccesses:0});const i=this.usagePatterns.get(e);i.totalAccesses++,i.lastAccess=n,i.accessTimes.push(n),r?i.hits++:i.misses++,i.accessTimes.length>100&&i.accessTimes.shift(),this.optimizeTTL(e)}calculateAverageInterval(e){if(e.length<2)return 0;const r=[];for(let i=1;i<e.length;i++)r.push(e[i]-e[i-1]);return r.reduce((i,s)=>i+s,0)/r.length}calculateFreshnessRatio(e){if(e.hits+e.misses===0)return 0;const n=e.hits,i=e.misses;return n/(n+i)}optimizeTTL(e){const r=this.usagePatterns.get(e);if(!r||r.totalAccesses<10)return;const n=this.calculateAverageInterval(r.accessTimes),i=this.calculateFreshnessRatio(r),s=this.getCurrentTTL(e);let o=s;n<5*60*1e3&&i>.8?o=Math.min(s*1.5,30*60*1e3):n>15*60*1e3&&i<.3?o=Math.max(s*.7,1*60*1e3):n<1*60*1e3&&(o=Math.max(n*2,30*1e3)),this.optimizations.set(e,{currentTTL:s,optimalTTL:o,averageInterval:n,freshnessRatio:i,lastOptimized:Date.now()}),console.log(`🔧 TTL optimisé pour ${e}:`,{current:`${s/1e3}s`,optimal:`${o/1e3}s`,interval:`${n/1e3}s`,ratio:`${(i*100).toFixed(1)}%`})}getCurrentTTL(e){return e.includes("categories")?10*60*1e3:e.includes("listings")?2*60*1e3:e.includes("userListings")?1*60*1e3:(e.includes("search"),5*60*1e3)}getOptimalTTL(e){const r=this.optimizations.get(e);return r?r.optimalTTL:this.getCurrentTTL(e)}getOptimizationRecommendations(){const e=[];for(const[r,n]of this.optimizations){const i=(n.optimalTTL-n.currentTTL)/n.currentTTL*100;Math.abs(i)>10&&e.push({cacheKey:r,currentTTL:n.currentTTL,optimalTTL:n.optimalTTL,improvement:i.toFixed(1),averageInterval:n.averageInterval,freshnessRatio:n.freshnessRatio})}return e.sort((r,n)=>Math.abs(n.improvement)-Math.abs(r.improvement))}applyOptimizations(){const e=this.getOptimizationRecommendations();let r=0;for(const n of e)console.log(`✅ Optimisation appliquée pour ${n.cacheKey}:`,{from:`${n.currentTTL/1e3}s`,to:`${n.optimalTTL/1e3}s`,improvement:`${n.improvement}%`}),r++;return r}getOptimizationStats(){const e=this.usagePatterns.size,r=this.optimizations.size,n=this.getOptimizationRecommendations();return{totalPatterns:e,totalOptimizations:r,activeRecommendations:n.length,averageImprovement:n.length>0?n.reduce((i,s)=>i+Math.abs(parseFloat(s.improvement)),0)/n.length:0}}reset(){this.usagePatterns.clear(),this.optimizations.clear(),console.log("🔄 Optimisations TTL réinitialisées")}}const fh=new Rfe;class Mfe{constructor(e="benome"){this.prefix=e,this.maxSize=50*1024*1024}_getKey(e){return`${this.prefix}:${e}`}_isExpired(e,r){return Date.now()-e>r}_getSize(e){return new Blob([JSON.stringify(e)]).size}_cleanup(){const r=Object.keys(localStorage).filter(o=>o.startsWith(`${this.prefix}:`));if(r.length===0)return;const n=r.map(o=>{try{const l=JSON.parse(localStorage.getItem(o));return{key:o,timestamp:l.timestamp,size:this._getSize(l)}}catch{return{key:o,timestamp:0,size:0}}}).sort((o,l)=>o.timestamp-l.timestamp);let i=this._getCurrentCacheSize();const s=this.maxSize*.8;for(const o of n){if(i<=s)break;localStorage.removeItem(o.key),i-=o.size}}_getCurrentCacheSize(){return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).reduce((n,i)=>{try{const s=JSON.parse(localStorage.getItem(i));return n+this._getSize(s)}catch{return n}},0)}set(e,r,n=5*60*1e3){try{const i=this._getKey(e),s={data:r,timestamp:Date.now(),ttl:n,version:"1.0"},o=this._getSize(s);return o>this.maxSize?(console.warn("⚠️ Données trop volumineuses pour le cache local"),!1):(this._getCurrentCacheSize()+o>this.maxSize&&this._cleanup(),localStorage.setItem(i,JSON.stringify(s)),fh.recordUsage(e,!1,Date.now()),!0)}catch(i){return console.error("❌ Erreur lors de la sauvegarde en cache:",i),!1}}get(e){try{const r=this._getKey(e),n=localStorage.getItem(r);if(!n)return fh.recordUsage(e,!1,Date.now()),null;const i=JSON.parse(n);return this._isExpired(i.timestamp,i.ttl)?(this.delete(e),fh.recordUsage(e,!1,Date.now()),null):(fh.recordUsage(e,!0,Date.now()),i.data)}catch(r){return console.error("❌ Erreur lors de la récupération du cache:",r),this.delete(e),null}}delete(e){try{const r=this._getKey(e);return localStorage.removeItem(r),!0}catch(r){return console.error("❌ Erreur lors de la suppression du cache:",r),!1}}clear(){try{return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).forEach(n=>localStorage.removeItem(n)),!0}catch(e){return console.error("❌ Erreur lors du vidage du cache:",e),!1}}getStats(){try{const r=Object.keys(localStorage).filter(s=>s.startsWith(`${this.prefix}:`)),n={totalEntries:r.length,totalSize:this._getCurrentCacheSize(),maxSize:this.maxSize,usagePercentage:this._getCurrentCacheSize()/this.maxSize*100};let i=0;return r.forEach(s=>{try{const o=JSON.parse(localStorage.getItem(s));this._isExpired(o.timestamp,o.ttl)&&i++}catch{i++}}),n.expiredEntries=i,n}catch(e){return console.error("❌ Erreur lors du calcul des statistiques:",e),null}}cleanup(){try{const r=Object.keys(localStorage).filter(i=>i.startsWith(`${this.prefix}:`));let n=0;return r.forEach(i=>{try{const s=JSON.parse(localStorage.getItem(i));this._isExpired(s.timestamp,s.ttl)&&(localStorage.removeItem(i),n++)}catch{localStorage.removeItem(i),n++}}),console.log(`🧹 Cache nettoyé: ${n} entrées supprimées`),n}catch(e){return console.error("❌ Erreur lors du nettoyage du cache:",e),0}}getTTLOptimizations(){return fh.getOptimizationRecommendations()}applyTTLOptimizations(){return fh.applyOptimizations()}}const _R=new Mfe;setInterval(()=>{_R.cleanup()},5*60*1e3);const Ife=(t,e)=>e.map(r=>{const n=t[r.key]||"";return r.type==="date"?Lfe(n):r.type==="currency"?Dfe(n):r.type==="boolean"?n?"Oui":"Non":r.type==="array"?Array.isArray(n)?n.join(", "):n:r.type==="object"&&typeof n=="object"?JSON.stringify(n):n}).map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","),Lfe=t=>{if(!t)return"";try{const e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return t}},Dfe=t=>{if(t==null)return"";try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{return String(t)}},ug=(t,e,r="export")=>{try{const n=e.map(u=>u.label).join(","),i=t.map(u=>Ife(u,e)),s=[n,...i].join(`
`),o=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);return l.setAttribute("href",c),l.setAttribute("download",`${r}-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),{success:!0,message:"Export CSV réussi"}}catch(n){throw console.error("Erreur lors de l'export CSV:",n),new Error("Impossible d'exporter les données")}},$fe=[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"last_login_at",label:"Dernière connexion",type:"date"}],Ffe=[{key:"id",label:"ID",type:"string"},{key:"title",label:"Titre",type:"string"},{key:"price",label:"Prix",type:"currency"},{key:"category",label:"Catégorie",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"location",label:"Localisation",type:"object"},{key:"views_count",label:"Vues",type:"number"},{key:"favorites_count",label:"Favoris",type:"number"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],Bfe=[{key:"id",label:"ID",type:"string"},{key:"reference",label:"Référence",type:"string"},{key:"type",label:"Type",type:"string"},{key:"amount",label:"Montant",type:"currency"},{key:"currency",label:"Devise",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"payment_method",label:"Méthode de paiement",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"completed_at",label:"Date de finalisation",type:"date"}],zfe=[{key:"id",label:"ID",type:"string"},{key:"name",label:"Nom",type:"string"},{key:"slug",label:"Slug",type:"string"},{key:"parent_category",label:"Type parent",type:"string"},{key:"description",label:"Description",type:"string"},{key:"icon",label:"Icône",type:"string"},{key:"sort_order",label:"Ordre de tri",type:"number"},{key:"is_active",label:"Actif",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],qfe=[{key:"id",label:"ID",type:"string"},{key:"reason",label:"Raison",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"type",label:"Type",type:"string"},{key:"severity",label:"Sévérité",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"moderated_at",label:"Date de modération",type:"date"}],F_={users:(t,e="utilisateurs")=>ug(t,$fe,e),listings:(t,e="annonces")=>ug(t,Ffe,e),transactions:(t,e="transactions")=>ug(t,Bfe,e),categories:(t,e="categories")=>ug(t,zfe,e),reports:(t,e="rapports")=>ug(t,qfe,e)},Va={getProfile:async(t=null)=>{const{data:{user:e}}=await be.auth.getUser(),r=t||e?.id;if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await be.from("users").select("*").eq("id",r).single();if(i)throw i;return n},updateProfile:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await be.from("users").update(t).eq("id",e.id).select().single();if(n)throw n;return r},getAllUsers:async()=>{const{data:t,error:e}=await be.from("users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},updateUserStatus:async(t,e)=>{const{data:r,error:n}=await be.from("users").update({status:e}).eq("id",t).select().single();if(n)throw n;return r},getUserById:async t=>{const{data:e,error:r}=await be.from("users").select("*").eq("id",t).single();if(r)throw r;return e},searchUsers:async(t,e={})=>{let r=be.from("users").select("*").or(`first_name.ilike.%${t}%,last_name.ilike.%${t}%,email.ilike.%${t}%`);e.role&&(r=r.eq("role",e.role)),e.status&&(r=r.eq("status",e.status));const{data:n,error:i}=await r.order("created_at",{ascending:!1});if(i)throw i;return n},updateUserRole:async(t,e)=>{const{data:r,error:n}=await be.from("users").update({role:e}).eq("id",t).select().single();if(n)throw n;return r},deleteUser:async t=>{const{error:e}=await be.from("users").delete().eq("id",t);if(e)throw e;return!0},getUserStats:async()=>{const{data:t,error:e}=await be.from("users").select("role, status, created_at");if(e)throw e;const r={total:t.length,byRole:{},byStatus:{},byMonth:{}};return t.forEach(n=>{r.byRole[n.role]=(r.byRole[n.role]||0)+1,r.byStatus[n.status]=(r.byStatus[n.status]||0)+1;const i=new Date(n.created_at).toISOString().slice(0,7);r.byMonth[i]=(r.byMonth[i]||0)+1}),r},exportUsers:async(t="csv")=>{const e=await Va.getAllUsers();return F_(e,[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],`utilisateurs-${new Date().toISOString().split("T")[0]}`,t)}},Ufe=(t,e)=>{const r=t?.length||0;if(r===0)return{data:[],hasMore:!1,totalPremium:0};if(r<=e)return{data:t||[],hasMore:!1,totalPremium:r};const n=new Date,i=Math.floor((n-new Date(n.getFullYear(),0,0))/(1e3*60*60*24)),s=i%r,o=[];for(let l=0;l<e;l++){const c=(s+l)%r;o.push(t[c])}return console.log(`🔄 Rotation premium: ${r} total, ${e} affichées, offset: ${s}`),{data:o,hasMore:r>e,totalPremium:r,rotationInfo:{dayOfYear:i,rotationOffset:s,nextRotation:new Date(n.getTime()+24*60*60*1e3)}}},ZS=t=>{let e=0;const r={highest:1e3,high:800,medium:600,low:400},n=t.listing_boosts?.[0]?.boost_packages?.features?.priority;e+=r[n]||500,t.is_featured&&t.is_boosted?e+=900:t.is_featured?e+=700:t.is_boosted&&(e+=600);const i=Math.ceil((new Date(t.boost_expires_at)-new Date)/(1e3*60*60*24));e+=Math.max(0,i*10);const s=Math.ceil((Date.now()-new Date(t.updated_at))/(1e3*60*60*24));return e+=Math.max(0,30-s),e},Vfe=()=>{const t=new Date().getHours();return t>=6&&t<12?"real_estate":t>=12&&t<18?"automobile":t>=18&&t<22?"marketplace":"services"},YS=(t,e,r)=>({data:{real_estate:[{id:"hero-re-1",title:"Appartement de luxe au Plateau",price:85e4,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1500,is_featured:!0,is_boosted:!0},{id:"hero-re-2",title:"Villa avec piscine à Almadies",price:25e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!1},{id:"hero-re-3",title:"Terrain constructible à Thiès",price:35e4,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!0}],automobile:[{id:"hero-auto-1",title:"Toyota Land Cruiser 2022",price:45e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2e3,is_featured:!0,is_boosted:!0},{id:"hero-auto-2",title:"BMW X5 2021 - Excellent état",price:32e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-auto-3",title:"Peugeot 3008 2020",price:18e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:950,is_featured:!1,is_boosted:!0}],services:[{id:"hero-serv-1",title:"Service de nettoyage professionnel",price:25e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!0},{id:"hero-serv-2",title:"Cours particuliers - Mathématiques",price:15e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!0,is_boosted:!1},{id:"hero-serv-3",title:"Service de déménagement",price:45e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:600,is_featured:!1,is_boosted:!0}],marketplace:[{id:"hero-mp-1",title:"iPhone 15 Pro Max - Neuf",price:85e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2500,is_featured:!0,is_boosted:!0},{id:"hero-mp-2",title:"MacBook Pro M2 - 2023",price:12e5,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-mp-3",title:"PS5 + 5 jeux - Comme neuf",price:35e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1100,is_featured:!1,is_boosted:!0}]}[t]?.slice(0,r)||[],category:t,hour:e,fallbackLevel:5,nextRotation:new Date(Date.now()+60*60*1e3),rotationInfo:{currentHour:e,currentCategory:t,timeSlot:wW(e),fallbackLevel:5}}),Wfe=async(t=6)=>{const e=new Date().getHours(),r=Vfe();if(console.log(`🕐 Hero carousel - Heure: ${e}h, Catégorie: ${r}`),!gr)return console.warn("⚠️ Supabase non configuré, retour de données de test pour hero"),YS(r,e,t);try{let n=[],i=1;console.log(`🔄 Niveau ${i}: Annonces premium de ${r}`);const{data:s,error:o}=await be.from("listings").select(`
        *,
        users (
          id,
          first_name,
          last_name,
          profile_image
        ),
        listing_boosts (
          boost_packages (
            name,
            features
          ),
          end_date
        )
      `).eq("category",r).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(t*2);if(!o&&s&&s.length>0?(n=s,console.log(`✅ Niveau ${i} réussi: ${n.length} annonces premium trouvées`)):(console.log(`❌ Niveau ${i} échoué: ${o?.message||"Aucune annonce premium"}`),i++),n.length<t){console.log(`🔄 Niveau ${i}: Annonces populaires de ${r}`);const{data:h,error:g}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).eq("category",r).eq("status","approved").eq("is_featured",!1).eq("is_boosted",!1).order("views_count",{ascending:!1}).limit(t-n.length);!g&&h&&h.length>0?(n=[...n,...h],console.log(`✅ Niveau ${i} réussi: ${h.length} annonces populaires ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce populaire"}`),i++)}if(n.length<t){console.log(`🔄 Niveau ${i}: Annonces premium d'autres catégories`);const{data:h,error:g}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).neq("category",r).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(t-n.length);!g&&h&&h.length>0?(n=[...n,...h],console.log(`✅ Niveau ${i} réussi: ${h.length} annonces d'autres catégories ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce d'autre catégorie"}`),i++)}if(n.length<t){console.log(`🔄 Niveau ${i}: Annonces récentes de toutes catégories`);const{data:h,error:g}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).eq("status","approved").order("created_at",{ascending:!1}).limit(t-n.length);!g&&h&&h.length>0?(n=[...n,...h],console.log(`✅ Niveau ${i} réussi: ${h.length} annonces récentes ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce récente"}`),i++)}if(n.length===0)return console.log(`🔄 Niveau ${i}: Données de test (fallback final)`),YS(r,e,t);const l=new Date,u=Math.floor((l-new Date(l.getFullYear(),0,0))/(1e3*60*60))%Math.max(1,n.length),d=[];for(let h=0;h<t&&h<n.length;h++){const g=(u+h)%n.length;d.push(n[g])}return console.log(`🔄 Hero rotation: ${n.length} total, ${d.length} affichées, catégorie: ${r}, heure: ${e}h, niveau de fallback: ${i}`),{data:d,category:r,hour:e,nextRotation:new Date(Date.now()+60*60*1e3),fallbackLevel:i,rotationInfo:{currentHour:e,currentCategory:r,timeSlot:wW(e),totalListings:n.length,rotationOffset:u,fallbackLevel:i}}}catch(n){return console.error("❌ Erreur lors de la récupération des annonces hero:",n),console.log("🔄 Fallback vers les données de test"),YS(r,e,t)}},wW=t=>t>=6&&t<12?"matin":t>=12&&t<18?"après-midi":t>=18&&t<22?"soirée":"nuit",Rr={getAllListings:async(t={})=>{if(!gr)return console.warn("⚠️ Supabase non configuré, retour de données de test"),{data:[{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}},{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",description:"Véhicule en parfait état, entretien régulier, première main.",price:25e5,category:"automobile",status:"approved",user_id:"test-user-2",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},automobile_details:{brand:"Toyota",model:"Corolla",year:"2020"},contact_info:{phone:"+221 76 987 6543",email:"vendeur-auto@test.com"},users:{id:"test-user-2",first_name:"Fatou",last_name:"Sall",phone_number:"+221 76 987 6543",email:"fatou.sall@test.com"}},{id:"test-3",title:"Service de Plomberie Professionnel",description:"Plombier qualifié avec 10 ans d'expérience. Réparation, installation, maintenance. Intervention rapide 24h/24.",price:15e3,category:"services",status:"approved",user_id:"test-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Plomberie",experience:"10 ans",availability:"24h/24",verified:!0,certifications:["Certification professionnelle","Assurance responsabilité civile"]},contact_info:{phone:"+221 78 555 1234",email:"plombier@test.com",website:"www.plombier-dakar.com"},users:{id:"test-user-3",first_name:"Ibrahima",last_name:"Ndiaye",phone_number:"+221 78 555 1234",email:"ibrahima.ndiaye@test.com"}},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",description:"iPhone 13 Pro 128GB en excellent état, acheté il y a 6 mois. Boîte et accessoires inclus.",price:45e4,category:"marketplace",status:"approved",user_id:"test-user-4",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},product_details:{brand:"Apple",model:"iPhone 13 Pro",condition:"Excellent",warranty:"Garantie constructeur",dimensions:"146.7 x 71.5 x 7.65 mm",weight:"203g"},contact_info:{phone:"+221 77 888 9999",email:"tech@test.com"},users:{id:"test-user-4",first_name:"Aissatou",last_name:"Diop",phone_number:"+221 77 888 9999",email:"aissatou.diop@test.com"}}],count:4,hasMore:!1};const{page:e=0,limit:r=12,sort:n}=t,i=e*r,s=i+r-1;try{console.log("🔍 Début de la requête getAllListings"),console.log("🔍 Construction de la requête Supabase...");let o=be.from("listings").select("*").order(n==="popular"?"views_count":"created_at",{ascending:!1}).range(i,s);if(console.log("🔍 Requête de base construite"),t.category&&t.category!=="all"&&(o=o.eq("category",t.category)),t.status&&t.status!=="all"&&(o=o.eq("status",t.status)),t.user_id&&(o=o.eq("user_id",t.user_id)),t.search&&(o=o.or(`title.ilike.%${t.search}%,description.ilike.%${t.search}%`)),t.minPrice&&(o=o.gte("price",Number(t.minPrice))),t.maxPrice&&(o=o.lte("price",Number(t.maxPrice))),t.location){const d=String(t.location).trim();d&&(o=o.or(`location->>city.ilike.%${d}%,location->>country.ilike.%${d}%`))}console.log("🔍 Executing query with filters:",t),console.log("🔍 Lancement de la requête...");const{data:l,error:c}=await o;if(console.log("🔍 Requête terminée"),c)throw console.error("❌ Erreur Supabase:",c),c;const u=l?.map(d=>{try{return{...d,location:d.location?typeof d.location=="string"?JSON.parse(d.location):d.location:null,real_estate_details:d.real_estate_details?typeof d.real_estate_details=="string"?JSON.parse(d.real_estate_details):d.real_estate_details:null,automobile_details:d.automobile_details?typeof d.automobile_details=="string"?JSON.parse(d.automobile_details):d.automobile_details:null,service_details:d.service_details?typeof d.service_details=="string"?JSON.parse(d.service_details):d.service_details:null,product_details:d.product_details?typeof d.product_details=="string"?JSON.parse(d.product_details):d.product_details:null,contact_info:d.contact_info?typeof d.contact_info=="string"?JSON.parse(d.contact_info):d.contact_info:null}}catch(h){return console.warn("⚠️ Erreur parsing JSONB pour listing:",d.id,h),d}})||[];return{data:u,count:u.length,hasMore:!1}}catch(o){throw console.error("❌ Erreur dans getAllListings:",o),o}},getListingById:async t=>{if(!gr)return console.warn("⚠️ Supabase non configuré, retour d'annonce de test"),{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}};try{const{data:e,error:r}=await be.from("listings").select(`
          *,
          users:users!listings_user_id_fkey (
            id,
            first_name,
            last_name,
            phone_number,
            email
          )
        `).eq("id",t).eq("status","approved").single();if(r){console.log("🔍 Erreur avec requête simple:",r);const{data:n,error:i}=await be.from("listings").select(`
            *,
            users:users!listings_user_id_fkey (
              id,
              first_name,
              last_name,
              phone_number,
              email
            )
          `).eq("id",t).single();if(i)throw i;return n?(console.log("🔍 Annonce trouvée sans filtre de statut:",n.status),{...n,location:typeof n.location=="string"?JSON.parse(n.location):n.location,real_estate_details:typeof n.real_estate_details=="string"?JSON.parse(n.real_estate_details):n.real_estate_details,automobile_details:typeof n.automobile_details=="string"?JSON.parse(n.automobile_details):n.automobile_details,service_details:typeof n.service_details=="string"?JSON.parse(n.service_details):n.service_details,product_details:typeof n.product_details=="string"?JSON.parse(n.product_details):n.product_details,contact_info:typeof n.contact_info=="string"?JSON.parse(n.contact_info):n.contact_info}):null}return e?{...e,location:typeof e.location=="string"?JSON.parse(e.location):e.location,real_estate_details:typeof e.real_estate_details=="string"?JSON.parse(e.real_estate_details):e.real_estate_details,automobile_details:typeof e.automobile_details=="string"?JSON.parse(e.automobile_details):e.automobile_details,service_details:typeof e.service_details=="string"?JSON.parse(e.service_details):e.service_details,product_details:typeof e.product_details=="string"?JSON.parse(e.product_details):e.product_details,contact_info:typeof e.contact_info=="string"?JSON.parse(e.contact_info):e.contact_info}:null}catch(e){throw console.error("🔍 Erreur dans getListingById:",e),e}},incrementViews:async t=>{try{const{error:e}=await be.rpc("increment_listing_views",{listing_id:t});if(e)throw e}catch(e){console.warn("⚠️ Impossible d'incrémenter views_count pour",t,e?.message)}},getTopViewedListings:async(t=6)=>{if(console.log("🔍 getTopViewedListings appelé avec limit:",t),console.log("🔍 isSupabaseConfigured:",gr),!gr)return console.warn("⚠️ Supabase non configuré, retour de données de test (top vues)"),[{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",price:25e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:1200,is_featured:!1,is_boosted:!1},{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",price:5e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:980,is_featured:!1,is_boosted:!1},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",price:45e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!1}].slice(0,t);try{console.log("🔍 Tentative de connexion à Supabase...");const{data:e,error:r}=await be.from("listings").select("*").eq("status","approved").not("is_featured","eq",!0).not("is_boosted","eq",!0).order("views_count",{ascending:!1,nullsFirst:!1}).limit(t);if(console.log("🔍 Réponse Supabase:",{data:e,error:r}),r)throw r;const n=(e||[]).map(i=>({...i,location:i.location?typeof i.location=="string"?JSON.parse(i.location):i.location:null,real_estate_details:i.real_estate_details?typeof i.real_estate_details=="string"?JSON.parse(i.real_estate_details):i.real_estate_details:null,automobile_details:i.automobile_details?typeof i.automobile_details=="string"?JSON.parse(i.automobile_details):i.automobile_details:null,service_details:i.service_details?typeof i.service_details=="string"?JSON.parse(i.service_details):i.service_details:null,product_details:i.product_details?typeof i.product_details=="string"?JSON.parse(i.product_details):i.product_details:null,contact_info:i.contact_info?typeof i.contact_info=="string"?JSON.parse(i.contact_info):i.contact_info:null}));return console.log("🔍 Données nettoyées:",n),n}catch(e){throw console.error("❌ Erreur dans getTopViewedListings:",e),e}},getUserListings:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await be.from("listings").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},createListing:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{currency:r,specificData:n,subCategory:i,videos:s,...o}=t,l={...o,user_id:e.id,status:"approved"};r&&(l.currency=r),n&&Object.keys(n).length>0&&(l.specific_data=n),i&&(l.subCategory=i),s&&s.length>0&&(l.videos=s);const{data:c,error:u}=await be.from("listings").insert([l]).select().single();if(u)throw console.error("Erreur création annonce:",u),u;return c},updateListing:async(t,e)=>{const{data:r,error:n}=await be.from("listings").update(e).eq("id",t).select().single();if(n)throw n;return r},deleteListing:async t=>{const{error:e}=await be.from("listings").delete().eq("id",t);if(e)throw e},updateListingStatus:async(t,e)=>{const{data:r,error:n}=await be.from("listings").update({status:e}).eq("id",t).select().single();if(n)throw n;return r},searchListings:async t=>{const{query:e,category:r,minPrice:n,maxPrice:i,location:s,status:o="approved"}=t;let l=be.from("listings").select("*").eq("status",o);e&&(l=l.or(`title.ilike.%${e}%,description.ilike.%${e}%`)),r&&(l=l.eq("category",r)),n&&(l=l.gte("price",Number(n))),i&&(l=l.lte("price",Number(i))),s&&(l=l.or(`location->>city.ilike.%${s}%,location->>country.ilike.%${s}%`));const{data:c,error:u}=await l.order("created_at",{ascending:!1});if(u)throw u;return c},getListingStats:async()=>{const{data:t,error:e}=await be.from("listings").select("category, status, created_at, price");if(e)throw e;const r={total:t.length,byCategory:{},byStatus:{},byMonth:{},totalValue:0,averagePrice:0};let n=0;return t.forEach(i=>{r.byCategory[i.category]=(r.byCategory[i.category]||0)+1,r.byStatus[i.status]=(r.byStatus[i.status]||0)+1;const s=new Date(i.created_at).toISOString().slice(0,7);r.byMonth[s]=(r.byMonth[s]||0)+1,i.price&&(n+=i.price)}),r.totalValue=n,r.averagePrice=t.length>0?n/t.length:0,r},getPremiumListings:async(t=6,e=!1)=>{if(!gr)return console.warn("⚠️ Supabase non configuré, retour de données de test premium"),{data:[{id:"premium-1",title:"Villa de luxe avec vue mer - Premium",description:"Magnifique villa 5 pièces avec vue panoramique sur l'océan. Piscine privée, jardin paysager, garage 2 voitures.",price:15e6,category:"real_estate",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-1",created_at:new Date().toISOString(),location:{city:"Saly",country:"Sénégal"},real_estate_details:{type:"Villa",rooms:"5 pièces",surface:"200m²",amenities:["Piscine","Jardin","Garage"]},contact_info:{phone:"+221 77 999 8888",email:"villa-premium@test.com"},views_count:1250,favorites_count:89,users:{id:"premium-user-1",first_name:"Omar",last_name:"Diop",phone_number:"+221 77 999 8888",email:"omar.diop@test.com"}},{id:"premium-2",title:"Mercedes Classe S 2023 - Premium",description:"Berline de luxe Mercedes Classe S en parfait état, toutes options, entretien constructeur, garantie étendue.",price:45e6,category:"automobile",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-2",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},automobile_details:{brand:"Mercedes",model:"Classe S",year:"2023",condition:"Parfait"},contact_info:{phone:"+221 76 777 6666",email:"mercedes-premium@test.com"},views_count:890,favorites_count:67,users:{id:"premium-user-2",first_name:"Aissatou",last_name:"Fall",phone_number:"+221 76 777 6666",email:"aissatou.fall@test.com"}},{id:"premium-3",title:"Service de Design d'Intérieur Premium",description:"Designer d'intérieur certifié avec 15 ans d'expérience. Projets résidentiels et commerciaux, suivi complet.",price:25e4,category:"services",status:"approved",is_featured:!0,is_boosted:!1,user_id:"premium-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Design d'Intérieur",experience:"15 ans",availability:"Sur rendez-vous",verified:!0,certifications:["Certification internationale","Membre de l'ordre des designers"]},contact_info:{phone:"+221 78 444 3333",email:"design-premium@test.com",website:"www.design-interieur-premium.com"},views_count:567,favorites_count:34,users:{id:"premium-user-3",first_name:"Mariama",last_name:"Ba",phone_number:"+221 78 444 3333",email:"mariama.ba@test.com"}}],hasMore:!1};try{const{data:r,error:n}=await be.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            phone_number,
            email
          ),
          listing_boosts (
            boost_packages (
              features
            ),
            end_date
          )
        `).or("is_featured.eq.true,is_boosted.eq.true").eq("status","approved").order("updated_at",{ascending:!1});if(n)throw n;const i=r.map(s=>{const o=s.listing_boosts?.[0],l=o?.boost_packages?.features;return{...s,premium_metadata:{priority:l?.priority||"medium",badge:l?.badge||"boosted",featured:l?.featured||!1,analytics:l?.analytics||"basic",support:l?.support||"standard"},boost_expires_at:o?.end_date||null}});if(e){console.log("🏆 Tri par score premium activé");const s=i.sort((o,l)=>{const c=ZS(o);return ZS(l)-c});return{data:s.slice(0,t),hasMore:s.length>t,totalPremium:s.length,sortingMethod:"score",topScores:s.slice(0,3).map((o,l)=>({position:l+1,score:ZS(o),title:o.title}))}}else return console.log("🔄 Rotation intelligente activée"),Ufe(i,t)}catch(r){throw console.error("Erreur lors de la récupération des annonces premium:",r),r}},getHeroListings:async(t=6)=>Wfe(t)};class Hfe{async getUserTransactions(e,r={}){try{let n=be.from("transactions").select(`
          *,
          listing:listings(id, title, price, images),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url)
        `).or(`sender_id.eq.${e},receiver_id.eq.${e}`).order("created_at",{ascending:!1});r.status&&(n=n.eq("status",r.status)),r.type&&(n=n.eq("type",r.type)),r.dateFrom&&(n=n.gte("created_at",r.dateFrom)),r.dateTo&&(n=n.lte("created_at",r.dateTo)),r.amountMin&&(n=n.gte("amount",r.amountMin)),r.amountMax&&(n=n.lte("amount",r.amountMax));const{data:i,error:s}=await n;if(s)throw s;return i}catch(n){throw console.error("Erreur lors de la récupération des transactions:",n),n}}async createTransaction(e){try{const{data:r,error:n}=await be.from("transactions").insert([{...e,status:"pending",created_at:new Date().toISOString()}]).select().single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la création de la transaction:",r),r}}async updateTransactionStatus(e,r,n={}){try{const{data:i,error:s}=await be.from("transactions").update({status:r,metadata:{...n,status_updated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return i}catch(i){throw console.error("Erreur lors de la mise à jour du statut:",i),i}}async getTransaction(e){try{const{data:r,error:n}=await be.from("transactions").select(`
          *,
          listing:listings(id, title, price, images, description),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url, email)
        `).eq("id",e).single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la récupération de la transaction:",r),r}}async cancelTransaction(e,r){try{const{data:n,error:i}=await be.from("transactions").update({status:"cancelled",metadata:{cancellation_reason:r,cancelled_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de l'annulation de la transaction:",n),n}}async getTransactionStats(e){try{const{data:r,error:n}=await be.from("transactions").select("status, amount, type, created_at").or(`sender_id.eq.${e},receiver_id.eq.${e}`);if(n)throw n;const i={total:r.length,totalAmount:r.reduce((s,o)=>s+(o.amount||0),0),byStatus:{},byType:{},monthly:{}};return r.forEach(s=>{i.byStatus[s.status]=(i.byStatus[s.status]||0)+1,i.byType[s.type]=(i.byType[s.type]||0)+1;const o=new Date(s.created_at).toISOString().slice(0,7);i.monthly[o]||(i.monthly[o]={count:0,amount:0}),i.monthly[o].count++,i.monthly[o].amount+=s.amount||0}),i}catch(r){throw console.error("Erreur lors de la récupération des statistiques:",r),r}}async searchTransactions(e,r){try{const{data:n,error:i}=await be.from("transactions").select(`
          *,
          listing:listings(id, title),
          sender:users!transactions_sender_id_fkey(id, full_name),
          receiver:users!transactions_receiver_id_fkey(id, full_name)
        `).or(`sender_id.eq.${e},receiver_id.eq.${e}`).or(`reference.ilike.%${r}%,description.ilike.%${r}%`).order("created_at",{ascending:!1});if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la recherche de transactions:",n),n}}async exportTransactions(e,r={}){try{return(await this.getUserTransactions(e,r)).map(s=>({Référence:s.reference,Date:new Date(s.created_at).toLocaleDateString("fr-FR"),Type:s.type,Statut:s.status,Montant:s.amount,Devise:s.currency,Description:s.description,Expéditeur:s.sender?.full_name||"N/A",Destinataire:s.receiver?.full_name||"N/A"}))}catch(n){throw console.error("Erreur lors de l'export des transactions:",n),n}}async validateTransaction(e,r){try{const{data:n,error:i}=await be.from("transactions").update({status:"completed",metadata:{validated_by:r,validated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la validation de la transaction:",n),n}}async getPendingTransactions(){try{const{data:e,error:r}=await be.from("transactions").select(`
          *,
          listing:listings(id, title, price),
          sender:users!transactions_sender_id_fkey(id, full_name, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, email)
        `).eq("status","pending").order("created_at",{ascending:!0});if(r)throw r;return e}catch(e){throw console.error("Erreur lors de la récupération des transactions en attente:",e),e}}}const Kfe=new Hfe,_W={getUserNotifications:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await be.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},markAsRead:async t=>{const{data:e,error:r}=await be.from("notifications").update({read:!0}).eq("id",t).select().single();if(r)throw r;return e},createNotification:async t=>{const{data:e,error:r}=await be.from("notifications").insert([t]).select().single();if(r)throw r;return e},markAllAsRead:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:e}=await be.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);if(e)throw e;return!0},deleteNotification:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:r}=await be.from("notifications").delete().eq("id",t).eq("user_id",e.id);if(r)throw r;return!0},getUnreadCount:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{count:e,error:r}=await be.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("read",!1);if(r)throw r;return e||0},sendPushNotification:async(t,e,r,n={})=>{try{const{data:i,error:s}=await be.from("users").select("push_token").eq("id",t).single();return s||!i?.push_token?(console.warn("Aucun token push trouvé pour l'utilisateur:",t),!1):await _W.createNotification({user_id:t,title:e,body:r,type:"push",data:JSON.stringify(n),read:!1})}catch(i){throw console.error("Erreur envoi notification push:",i),i}}};new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const Gfe=async t=>{try{console.log("🔍 Création de la conversation de bienvenue pour l'utilisateur:",t);const{data:e,error:r}=await be.from("conversations").insert([{participant1_id:"00000000-0000-0000-0000-000000000000",participant2_id:t,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw console.error("❌ Erreur création conversation de bienvenue:",r),r;console.log("✅ Conversation de bienvenue créée:",e.id);const n={conversation_id:e.id,sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:t,content:`🤖 Bienvenue sur MaxiMarket !

Votre marketplace de confiance pour l'Afrique de l'Ouest.

✨ Découvrez nos fonctionnalités :
• 🏠 Immobilier : Achetez, vendez, louez
• 🚗 Automobile : Véhicules neufs et d'occasion
• 🛠️ Services : Trouvez des professionnels
• 🛍️ Marketplace : Tout ce dont vous avez besoin

🔒 Sécurité garantie avec nos partenaires vérifiés
💬 Support 24/7 disponible

Besoin d'aide ? Je suis là pour vous accompagner !`,message_type:"system",is_read:!1,created_at:new Date().toISOString()},{data:i,error:s}=await be.from("messages").insert([n]).select().single();if(s)throw console.error("❌ Erreur ajout message de bienvenue:",s),s;return console.log("✅ Message de bienvenue ajouté:",i.id),e}catch(e){return console.error("❌ Erreur création conversation de bienvenue:",e),null}},Si={getUserConversations:async()=>{try{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des conversations pour l'utilisateur:",t.id);const{data:e,error:r}=await be.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1});if(r)throw console.error("❌ Erreur récupération conversations:",r),r;console.log("🔍 Conversations trouvées:",e?.length||0),console.log("🔍 Vérification de la conversation de l'assistant...");const{data:n,error:i}=await be.from("conversations").select(`
          id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.00000000-0000-0000-0000-000000000000,participant2_id.eq.${t.id}`).or(`participant1_id.eq.${t.id},participant2_id.eq.00000000-0000-0000-0000-000000000000`).single();let s=null;i||!n?(console.log("Création de la conversation de l'assistant pour l'utilisateur:",t.id),s=await Gfe(t.id)):(console.log("Conversation de l'assistant existante trouvée:",n.id),s=n);let o=null;if(s){const{data:c,error:u}=await be.from("messages").select("*").eq("conversation_id",s.id).eq("sender_id","00000000-0000-0000-0000-000000000000").single();!u&&c&&(o={...s,messages:[c],participant1:{id:"00000000-0000-0000-0000-000000000000",first_name:"Assistant",last_name:"MaxiMarket",profile_image:null},participant2:{id:t.id,first_name:t.user_metadata?.first_name||"",last_name:t.user_metadata?.last_name||"",profile_image:t.user_metadata?.profile_image||null},listing:null})}if((!e||e.length===0)&&!o)return console.log("Aucune conversation trouvée, impossible de créer l'assistant"),[];const l=await Promise.all(e.map(async c=>{try{console.log(`🔍 Traitement de la conversation: ${c.id}`);let u=null;if(c.listing_id){const{data:S,error:N}=await be.from("listings").select("id, title, price, images").eq("id",c.listing_id).single();!N&&S?(u=S,console.log(`✅ Listing récupéré pour la conversation ${c.id}:`,S.title)):console.warn(`⚠️ Listing non trouvé pour la conversation ${c.id}:`,N)}const d=c.participant1_id,h=c.participant2_id;console.log(`🔍 Récupération des participants pour la conversation ${c.id}:`),console.log(`🔍 Participant 1 ID: ${d}`),console.log(`🔍 Participant 2 ID: ${h}`);let g=null,v=null;if(d)try{console.log(`🔍 Récupération des détails du participant 1: ${d}`);const{data:S,error:N}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",d).single();console.log("🔍 Résultat participant 1 - data:",S),console.log("🔍 Résultat participant 1 - error:",N),!N&&S?(g=S,console.log(`✅ Participant 1 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 1 non trouvé pour la conversation ${c.id}:`,d,N),g={id:d,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 1 pour la conversation ${c.id}:`,S),g={id:d,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}if(h)try{console.log(`🔍 Récupération des détails du participant 2: ${h}`);const{data:S,error:N}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",h).single();console.log("🔍 Résultat participant 2 - data:",S),console.log("🔍 Résultat participant 2 - error:",N),!N&&S?(v=S,console.log(`✅ Participant 2 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 2 non trouvé pour la conversation ${c.id}:`,h,N),v={id:h,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 2 pour la conversation ${c.id}:`,S),v={id:h,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}const{data:y,error:x}=await be.from("messages").select(`
                id,
                content,
                created_at,
                is_read,
                sender_id,
                conversation_id
              `).eq("conversation_id",c.id).order("created_at",{ascending:!0});if(x)return console.error(`❌ Erreur récupération messages pour la conversation ${c.id}:`,x),{...c,messages:[],listing:u,participant1:g,participant2:v};console.log(`✅ Messages récupérés pour la conversation ${c.id}:`,y?.length||0);const _=await Promise.all((y||[]).map(async S=>{try{let N=null;if(S.sender_id){console.log(`🔍 Récupération de l'expéditeur pour le message ${S.id}: ${S.sender_id}`);const{data:C,error:A}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",S.sender_id).single();!A&&C?(N=C,console.log(`✅ Expéditeur récupéré pour le message ${S.id}:`,{id:C.id,name:`${C.first_name||"N/A"} ${C.last_name||"N/A"}`})):console.warn(`⚠️ Expéditeur non trouvé pour le message ${S.id}:`,S.sender_id,A)}return{...S,sender:N}}catch(N){return console.error(`❌ Erreur lors de la récupération des détails de l'expéditeur pour le message ${S.id}:`,N),S}}));return console.log(`✅ Conversation ${c.id} traitée avec succès:`,{participant1:g?`${g.first_name||"N/A"} ${g.last_name||"N/A"}`:"N/A",participant2:v?`${v.first_name||"N/A"} ${v.last_name||"N/A"}`:"N/A",messages:_?.length||0,listing:u?.title||"N/A"}),{...c,messages:_||[],listing:u,participant1:g,participant2:v}}catch(u){return console.error(`❌ Erreur lors du traitement de la conversation ${c.id}:`,u),{...c,messages:[],listing:null,participant1:null,participant2:null}}}));return o&&(l.unshift(o),console.log("✅ Conversation de l'assistant ajoutée à la liste")),console.log(`✅ Total des conversations traitées: ${l.length}`),l.forEach((c,u)=>{console.log(`🔍 Conversation ${u+1}:`,{id:c.id,p1:c.participant1?`${c.participant1.first_name||"N/A"} ${c.participant1.last_name||"N/A"}`:"N/A",p2:c.participant2?`${c.participant2.first_name||"N/A"} ${c.participant2.last_name||"N/A"}`:"N/A",messages:c.messages?.length||0})}),l}catch(t){throw console.error("❌ Erreur dans getUserConversations:",t),t}},getConversationMessages:async t=>{try{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages pour la conversation:",t);const{data:r,error:n}=await be.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",t).order("created_at",{ascending:!0});if(n)throw console.error("Erreur récupération messages:",n),n;return await Promise.all((r||[]).map(async s=>{try{let o=null,l=null;if(s.sender_id){const{data:c,error:u}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",s.sender_id).single();!u&&c&&(o=c)}if(s.receiver_id){const{data:c,error:u}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",s.receiver_id).single();!u&&c&&(l=c)}return{...s,sender:o,receiver:l}}catch(o){return console.error("Erreur lors de la récupération des détails utilisateur:",o),s}}))}catch(e){throw console.error("Erreur dans getConversationMessages:",e),e}},sendMessage:async(t,e,r="text")=>{const{data:{user:n}}=await be.auth.getUser();if(!n)throw new Error("Utilisateur non connecté");console.log("📤 Envoi de message dans la conversation:",t);const{data:i,error:s}=await be.from("conversations").select("participant1_id, participant2_id").eq("id",t).single();if(s)throw s;const o=i.participant1_id===n.id?i.participant2_id:i.participant1_id,l=new Date().toISOString(),{data:c,error:u}=await be.from("messages").insert([{sender_id:n.id,receiver_id:o,conversation_id:t,content:e,message_type:r,created_at:l}]).select().single();if(u)throw u;console.log("✅ Message envoyé avec succès, mise à jour de la conversation..."),console.log("🔍 message.service - Mise à jour de la conversation:",t),console.log("🔍 message.service - currentTime:",l);const{data:d,error:h}=await be.from("conversations").update({last_message_at:l,updated_at:l}).eq("id",t).select();return h?console.error("❌ Erreur mise à jour conversation:",h):(console.log("✅ Conversation mise à jour avec succès:",d),console.log("✅ last_message_at mis à jour:",l)),c},refreshConversations:async()=>{try{return console.log("🔄 Actualisation automatique des conversations..."),await Si.getUserConversations()}catch(t){throw console.error("❌ Erreur lors de l'actualisation des conversations:",t),t}},syncConversation:async t=>{try{console.log("🔄 Synchronisation de la conversation:",t);const{data:e,error:r}=await be.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",t).order("created_at",{ascending:!0});if(r)throw r;const n=await Promise.all((e||[]).map(async i=>{try{let s=null;if(i.sender_id){const{data:o,error:l}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!l&&o&&(s=o)}return{...i,sender:s}}catch(s){return console.error("Erreur lors de la récupération des détails de l'expéditeur:",s),i}}));return console.log("✅ Conversation synchronisée:",n?.length||0,"messages"),n}catch(e){throw console.error("❌ Erreur lors de la synchronisation de la conversation:",e),e}},createConversation:async(t,e=null)=>{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await be.from("conversations").select("id").or(`and(participant1_id.eq.${r.id},participant2_id.eq.${t}),and(participant1_id.eq.${t},participant2_id.eq.${r.id})`).eq("listing_id",e).single();if(n)return n;const{data:s,error:o}=await be.from("conversations").insert([{participant1_id:r.id,participant2_id:t,listing_id:e,is_active:!0}]).select().single();if(o)throw o;return s},markMessagesAsRead:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Marquage des messages comme lus pour la conversation:",t);const{error:r}=await be.from("messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",t).neq("sender_id",e.id).eq("is_read",!1);if(r)throw console.error("Erreur lors du marquage des messages comme lus:",r),r;return console.log("✅ Messages marqués comme lus avec succès"),!0},archiveConversation:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Archivage de la conversation:",t);const{data:r,error:n}=await be.from("conversations").select("participant1_id, participant2_id, is_archived").eq("id",t).single();if(n)throw n;if(r.participant1_id!==e.id&&r.participant2_id!==e.id)throw new Error("Non autorisé");const i=!r.is_archived,{error:s}=await be.from("conversations").update({is_archived:i,updated_at:new Date().toISOString()}).eq("id",t);if(s)throw console.error("Erreur lors de l'archivage de la conversation:",s),s;return console.log(`✅ Conversation ${i?"archivée":"désarchivée"} avec succès`),{is_archived:i}},toggleConversationStar:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Basculement du statut favori pour la conversation:",t);const{data:r,error:n}=await be.from("conversations").select("participant1_id, participant2_id, starred").eq("id",t).single();if(n)throw n;if(r.participant1_id!==e.id&&r.participant2_id!==e.id)throw new Error("Non autorisé");const i=!r.starred,{error:s}=await be.from("conversations").update({starred:i,updated_at:new Date().toISOString()}).eq("id",t);if(s)throw console.error("Erreur lors du basculement du statut favori:",s),s;return console.log(`✅ Conversation ${i?"ajoutée aux":"retirée des"} favoris avec succès`),{starred:i}},deleteMessage:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression du message:",t);const{data:r,error:n}=await be.from("messages").select("sender_id, conversation_id").eq("id",t).single();if(n)throw n;if(r.sender_id!==e.id)throw new Error("Vous ne pouvez supprimer que vos propres messages");const{error:i}=await be.from("messages").delete().eq("id",t);if(i)throw console.error("Erreur lors de la suppression du message:",i),i;return console.log("✅ Message supprimé avec succès"),!0},deleteConversation:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression de la conversation:",t),console.log("🔍 Utilisateur actuel:",e.id);const{data:r,error:n}=await be.from("conversations").select("participant1_id, participant2_id").eq("id",t).single();if(n)throw console.error("❌ Erreur lors de la vérification de la conversation:",n),n;if(console.log("🔍 Conversation trouvée:",r),r.participant1_id!==e.id&&r.participant2_id!==e.id)throw console.error("❌ Utilisateur non autorisé à supprimer cette conversation"),new Error("Non autorisé");console.log("✅ Autorisation vérifiée, suppression en cours..."),console.log("🔍 Suppression des messages de la conversation...");const{error:i}=await be.from("messages").delete().eq("conversation_id",t);if(i)throw console.error("❌ Erreur lors de la suppression des messages:",i),i;console.log("✅ Messages supprimés avec succès"),console.log("🔍 Suppression de la conversation...");const{error:s}=await be.from("conversations").delete().eq("id",t);if(s)throw console.error("❌ Erreur lors de la suppression de la conversation:",s),s;return console.log("✅ Conversation supprimée avec succès"),!0},searchConversations:async t=>{try{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Recherche de conversations avec le terme:",t);const{data:r,error:n}=await be.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(n)throw console.error("Erreur recherche conversations:",n),n;return(await Promise.all((r||[]).map(async s=>{try{let o=null,l=null,c=null;if(s.listing_id){const{data:u,error:d}=await be.from("listings").select("id, title").eq("id",s.listing_id).single();!d&&u&&(o=u)}if(s.participant1_id){const{data:u,error:d}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant1_id).single();!d&&u&&(l=u)}if(s.participant2_id){const{data:u,error:d}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant2_id).single();!d&&u&&(c=u)}return{...s,listing:o,participant1:l,participant2:c}}catch(o){return console.error("Erreur lors de l'enrichissement de la conversation:",o),s}}))).filter(s=>{if(!t)return!0;const o=t.toLowerCase();return!!(s.listing?.title?.toLowerCase().includes(o)||s.participant1?.first_name?.toLowerCase().includes(o)||s.participant1?.last_name?.toLowerCase().includes(o)||s.participant2?.first_name?.toLowerCase().includes(o)||s.participant2?.last_name?.toLowerCase().includes(o))})}catch(e){throw console.error("Erreur dans searchConversations:",e),e}},getUnreadMessages:async()=>{try{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages non lus pour l'utilisateur:",t.id);const{data:e,error:r}=await be.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("receiver_id",t.id).eq("is_read",!1).order("created_at",{ascending:!1});if(r)throw console.error("Erreur récupération messages non lus:",r),r;return await Promise.all((e||[]).map(async i=>{try{let s=null,o=null;if(i.conversation_id){const{data:l,error:c}=await be.from("conversations").select("id, listing_id").eq("id",i.conversation_id).single();!c&&l&&(s=l)}if(i.sender_id){const{data:l,error:c}=await be.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!c&&l&&(o=l)}return{...i,conversation:s,sender:o}}catch(s){return console.error("Erreur lors de l'enrichissement du message:",s),i}}))}catch(t){throw console.error("Erreur dans getUnreadMessages:",t),t}},getUnreadMessageCount:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{count:e,error:r}=await be.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",t.id).eq("is_read",!1);if(r)throw r;return e||0},sendSystemMessage:async(t,e,r="system")=>{const{data:n,error:i}=await be.from("messages").insert([{sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:t,content:e,message_type:r,is_read:!1}]).select().single();if(i)throw i;return n}};class Zfe{static forbiddenWords=["spam","arnaque","fake","faux","escroquerie","arnaqueur","arnaqueuse","escroc","arnaqueur","arnaqueuse","arnaqueur","merde","putain","con","salope","nique","fuck","shit","bitch","asshole","connard","connasse","enculé","enculée","publicité","pub","promotion","offre spéciale","promo","rabais","réduction","bon plan","opportunité","business","politique","religion","dieu","allah","jésus","parti","élection","vote","candidat","président","ministre","drogue","cannabis","cocaïne","héroïne","trafic","illégal","contrefaçon","faux billets","fausse monnaie","vol","cambriolage"];static spamPatterns=[/(https?:\/\/[^\s]+)/g,/(\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b)/g,/(\b\d{10,}\b)/g,/(\b[A-Z]{5,}\b)/g,/(.)\1{4,}/g,/(\b\w+\b)(?:\s+\1){2,}/g];static commercialPatterns=[/\b(achetez|vendez|promotion|offre|rabais|réduction|bon plan)\b/gi,/\b(contactez|appelez|écrivez|visitez)\b/gi,/\b(prix|tarif|coût|gratuit|payant)\b/gi];static analyzeContent(e){if(!e||typeof e!="string")return{isClean:!1,score:100,issues:["Contenu vide ou invalide"],shouldAutoReject:!0,shouldAutoApprove:!1,moderationLevel:"high"};const r=e.toLowerCase(),n=[];let i=100;const s=this.forbiddenWords.filter(v=>r.includes(v.toLowerCase()));s.length>0&&(n.push(`Mots interdits détectés: ${s.join(", ")}`),i-=s.length*20);const o=this.spamPatterns.some(v=>v.test(e));o&&(n.push("Patterns de spam détectés"),i-=30);const l=this.commercialPatterns.some(v=>v.test(e));l&&(n.push("Contenu commercial détecté"),i-=15),e.length<10&&(n.push("Commentaire trop court"),i-=25),e.length>1e3&&(n.push("Commentaire trop long"),i-=10),(e.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/g)||[]).length/e.length>.3&&(n.push("Trop de caractères spéciaux"),i-=20),(e.match(/[A-Z]/g)||[]).length/e.length>.5&&(n.push("Trop de majuscules"),i-=15);const d=i<30||s.length>=3,h=i>=80&&n.length===0,g=i<30?"high":i<60?"medium":"low";return{isClean:i>=60,score:Math.max(0,i),issues:n,shouldAutoReject:d,shouldAutoApprove:h,moderationLevel:g,foundForbiddenWords:s,spamDetected:o,commercialDetected:l}}static async moderateComment(e){const r=this.analyzeContent(e.content);let n="pending",i=null;return r.shouldAutoReject?(n="rejected",i=`Contenu inapproprié détecté: ${r.issues.join(", ")}`):r.shouldAutoApprove?(n="approved",i="Contenu approuvé automatiquement"):(n="pending",i="Nécessite une modération manuelle"),{status:n,reason:i,analysis:r,moderatedAt:new Date().toISOString()}}static async checkUserRateLimit(e,r){return{canPost:!0,reason:null,nextAllowedTime:null}}static async analyzeUserBehavior(e){return{trustScore:50,warningCount:0,isFlagged:!1,lastViolation:null}}static getModerationSuggestions(e){const r=[];return e.foundForbiddenWords.length>0&&r.push({type:"warning",message:"Évitez les mots inappropriés",action:"reject"}),e.spamDetected&&r.push({type:"warning",message:"Contenu détecté comme spam",action:"reject"}),e.commercialDetected&&r.push({type:"info",message:"Contenu commercial détecté",action:"review"}),e.score<50&&r.push({type:"warning",message:"Score de qualité faible",action:"review"}),r}static formatModerationReport(e,r,n){return{commentId:e.id,userId:e.user_id,listingId:e.listing_id,content:e.content,analysis:{score:r.score,issues:r.issues,moderationLevel:r.moderationLevel},moderation:{status:n.status,reason:n.reason,moderatedAt:n.moderatedAt},suggestions:this.getModerationSuggestions(r)}}}class Yfe{async getComments(e,r={}){console.log("🔍 [CommentService] getComments appelé avec:",{listingId:e,options:r});try{console.log("🔍 [CommentService] Test de connexion...");const{data:n,error:i}=await be.from("comments").select("id").limit(1);return console.log("🔍 [CommentService] Test résultat:",{testData:n,testError:i}),i?(console.error("❌ [CommentService] Erreur test:",i),{comments:[],pagination:{page:1,limit:10,total:0,pages:0},error:i.message}):(console.log("✅ [CommentService] Connexion OK"),{comments:[],pagination:{page:1,limit:10,total:0,pages:0},error:null})}catch(n){return console.error("❌ [CommentService] Erreur finale:",n),{comments:[],pagination:{page:1,limit:10,total:0,pages:0},error:n.message}}}async createComment(e){console.log("🔍 [CommentService] createComment appelé avec:",e);try{console.log("🔍 [CommentService] Début de la création..."),console.log("🔍 [CommentService] Appel de la modération...");const r=await Zfe.moderateComment(e);console.log("🔍 [CommentService] Résultat modération:",r);const n={...e,status:r.status};console.log("🔍 [CommentService] Données à insérer:",n);const{data:i,error:s}=await be.from("comments").insert([n]).select(`
          *,
          user:auth.users(id, email)
        `).single();if(console.log("🔍 [CommentService] Résultat insertion:",{data:i,error:s}),s)throw s;return console.log("✅ [CommentService] Commentaire créé avec succès"),{comment:i,error:null,moderation:r}}catch(r){return console.error("❌ [CommentService] Erreur lors de la création du commentaire:",r),{comment:null,error:r.message}}}async updateComment(e,r){try{const{data:n,error:i}=await be.from("comments").update(r).eq("id",e).select(`
          *,
          user:auth.users(id, email)
        `).single();if(i)throw i;return{comment:n,error:null}}catch(n){return console.error("Erreur lors de la mise à jour du commentaire:",n),{comment:null,error:n.message}}}async deleteComment(e){try{const{error:r}=await be.from("comments").delete().eq("id",e);if(r)throw r;return{error:null}}catch(r){return console.error("Erreur lors de la suppression du commentaire:",r),{error:r.message}}}async reportComment(e,r){try{const{data:n,error:i}=await be.from("comment_reports").insert([{comment_id:e,...r}]).select().single();if(i)throw i;return{report:n,error:null}}catch(n){return console.error("Erreur lors du signalement du commentaire:",n),{report:null,error:n.message}}}async getCommentStats(e){try{const{data:r,error:n}=await be.rpc("get_listing_comment_stats",{listing_uuid:e});if(n)throw n;return{stats:r[0]||null,error:null}}catch(r){console.error("Erreur lors de la récupération des statistiques:",r);try{const{data:n,error:i}=await be.from("comments").select("rating, is_verified_purchase").eq("listing_id",e).eq("status","approved");if(i)throw i;return{stats:{total_comments:n.length,average_rating:n.length>0?n.reduce((o,l)=>o+l.rating,0)/n.length:0,verified_purchases:n.filter(o=>o.is_verified_purchase).length,rating_distribution:{1:n.filter(o=>o.rating===1).length,2:n.filter(o=>o.rating===2).length,3:n.filter(o=>o.rating===3).length,4:n.filter(o=>o.rating===4).length,5:n.filter(o=>o.rating===5).length}},error:null}}catch(n){return{stats:null,error:n.message}}}}async getUserComments(e,r={}){const{page:n=1,limit:i=10,status:s=null}=r;try{let o=be.from("comments").select(`
          *,
          listing:listings(id, title, category, images)
        `).eq("user_id",e);s&&(o=o.eq("status",s)),o=o.order("created_at",{ascending:!1});const l=(n-1)*i,c=l+i-1;o=o.range(l,c);const{data:u,error:d,count:h}=await o;if(d)throw d;return{comments:u||[],pagination:{page:n,limit:i,total:h,pages:Math.ceil(h/i)},error:null}}catch(o){return console.error("Erreur lors de la récupération des commentaires utilisateur:",o),{comments:[],pagination:{page:n,limit:i,total:0,pages:0},error:o.message}}}async getPendingComments(e={}){const{page:r=1,limit:n=20}=e;try{const{data:i,error:s,count:o}=await be.from("comments").select(`
          *,
          user:auth.users(id, email),
          listing:listings(id, title, category)
        `).eq("status","pending").order("created_at",{ascending:!1}).range((r-1)*n,r*n-1);if(s)throw s;return{comments:i||[],pagination:{page:r,limit:n,total:o,pages:Math.ceil(o/n)},error:null}}catch(i){return console.error("Erreur lors de la récupération des commentaires en attente:",i),{comments:[],pagination:{page:r,limit:n,total:0,pages:0},error:i.message}}}async moderateComment(e,r,n=null){try{const i={status:r,updated_at:new Date().toISOString()},{data:s,error:o}=await be.from("comments").update(i).eq("id",e).select().single();if(o)throw o;return{comment:s,error:null}}catch(i){return console.error("Erreur lors de la modération du commentaire:",i),{comment:null,error:i.message}}}}const dg=new Yfe,Lg={getAllCategories:async()=>{const{data:t,error:e}=await be.from("categories").select("*").order("name");if(e)throw e;return t},getCategoryById:async t=>{const{data:e,error:r}=await be.from("categories").select("*").eq("id",t).single();if(r)throw r;return e},getCategoryBySlug:async t=>{const{data:e,error:r}=await be.from("categories").select("*").eq("slug",t).single();if(r)throw r;return e},getCategoriesByType:async t=>{const{data:e,error:r}=await be.from("categories").select("*").eq("type",t).order("name");if(r)throw r;return e},createCategory:async t=>{const{data:e,error:r}=await be.from("categories").insert([{...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return e},updateCategory:async(t,e)=>{const{data:r,error:n}=await be.from("categories").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},deleteCategory:async t=>{const{error:e}=await be.from("categories").delete().eq("id",t);if(e)throw e;return{success:!0}},toggleCategoryStatus:async(t,e)=>{const{data:r,error:n}=await be.from("categories").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}},Pl={getUserFavorites:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await be.from("favorites").select(`
        *,
        listings!favorites_listing_id_fkey (
          *,
          users!listings_user_id_fkey (
            id,
            first_name,
            last_name
          )
        )
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},addToFavorites:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await be.from("favorites").insert([{user_id:e.id,listing_id:t}]).select().single();if(n)throw n;return r},removeFromFavorites:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:r}=await be.from("favorites").delete().eq("user_id",e.id).eq("listing_id",t);if(r)throw r},isFavorite:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)return!1;const{data:r,error:n}=await be.from("favorites").select("id").eq("user_id",e.id).eq("listing_id",t).single();if(n&&n.code!=="PGRST116")throw n;return!!r},toggleFavorite:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");try{return await Pl.isFavorite(t)?(await Pl.removeFromFavorites(t),{is_favorite:!1,action:"removed"}):(await Pl.addToFavorites(t),{is_favorite:!0,action:"added"})}catch(r){throw console.error("Erreur lors du basculement des favoris:",r),new Error("Impossible de modifier les favoris")}},getUserFavoritesWithStatus:async()=>{const{data:{user:t}}=await be.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");try{const{data:e,error:r}=await be.from("favorites").select("listing_id").eq("user_id",t.id);if(r)throw r;return new Set(e.map(i=>i.listing_id))}catch(e){return console.error("Erreur lors de la récupération des favoris:",e),new Set}}},Xfe={uploadImage:async(t,e="listings")=>{try{const{data:{user:r}}=await be.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");if(!t.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(t.size>5*1024*1024)throw new Error("L'image ne doit pas dépasser 5MB");const n=`${Date.now()}-${Math.random().toString(36).substring(2)}-${t.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,i=`${e}/${r.id}/${n}`,{data:s,error:o}=await be.storage.from("images").upload(i,t,{cacheControl:"31536000",upsert:!1,contentType:"image/jpeg"});if(o)throw console.error("Erreur upload Supabase:",o),new Error(`Erreur lors de l'upload: ${o.message}`);const{data:{publicUrl:l}}=be.storage.from("images").getPublicUrl(i);return l}catch(r){throw console.error("Erreur dans uploadImage:",r),r}},deleteImage:async t=>{try{const{error:e}=await be.storage.from("images").remove([t]);if(e)throw e}catch(e){throw console.error("Erreur dans deleteImage:",e),e}},listUserImages:async(t,e="listings")=>{try{const{data:r,error:n}=await be.storage.from("images").list(`${e}/${t}`);if(n)throw n;return r}catch(r){throw console.error("Erreur dans listUserImages:",r),r}}},Jfe={getAllReports:async(t={})=>{let e=be.from("reports").select(`
        *,
        reporter:users!reports_reporter_id_fkey (
          id,
          first_name,
          last_name,
          email
        ),
        listing:listings!reports_listing_id_fkey (
          id,
          title,
          description
        )
      `).order("created_at",{ascending:!1});t.status&&(e=e.eq("status",t.status)),t.type&&(e=e.eq("type",t.type)),t.severity&&(e=e.eq("severity",t.severity));const{data:r,error:n}=await e;if(n)throw n;return r},createReport:async t=>{const{data:{user:e}}=await be.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await be.from("reports").insert([{...t,reporter_id:e.id,status:"pending"}]).select().single();if(n)throw n;return r},moderateReport:async(t,e,r=null)=>{const n={status:e,moderated_at:new Date().toISOString(),moderator_reason:r},{data:i,error:s}=await be.from("reports").update(n).eq("id",t).select().single();if(s)throw s;return i}},XS={getBoostPackages:async()=>{if(!gr)return console.warn("⚠️ Supabase non configuré, retour de packages de test"),[{id:"test-basic",name:"Boost Basique",description:"Visibilité améliorée pendant 7 jours",duration_days:7,price:5e3,features:{priority:"medium",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:1},{id:"test-premium",name:"Boost Premium",description:"Mise en avant complète pendant 14 jours",duration_days:14,price:12e3,features:{priority:"high",badge:"boosted",featured:!0,analytics:"detailed"},is_active:!0,sort_order:2},{id:"test-vip",name:"Boost VIP",description:"Visibilité maximale pendant 30 jours",duration_days:30,price:25e3,features:{priority:"highest",badge:"boosted",featured:!0,analytics:"premium",support:"priority"},is_active:!0,sort_order:3},{id:"test-flash",name:"Boost Flash",description:"Visibilité intensive pendant 3 jours",duration_days:3,price:3e3,features:{priority:"high",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:4}];try{const{data:t,error:e}=await be.from("boost_packages").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw console.error("Erreur lors de la récupération des packages de boost:",t),t}},purchaseBoost:async(t,e,r)=>{if(!gr)return console.warn("⚠️ Supabase non configuré, simulation d'achat de boost"),{success:!0,boostId:"test-boost-"+Date.now(),message:"Boost acheté avec succès (mode test)"};try{const{data:n,error:i}=await be.from("boost_packages").select("*").eq("id",e).eq("is_active",!0).single();if(i||!n)throw new Error("Package de boost non trouvé ou inactif");const{data:s,error:o}=await be.from("listings").select("id, user_id, status").eq("id",t).eq("user_id",r).eq("status","approved").single();if(o||!s)throw new Error("Annonce non trouvée ou non autorisée");const l=new Date,c=new Date;c.setDate(c.getDate()+n.duration_days);const{data:u,error:d}=await be.from("listing_boosts").insert({listing_id:t,package_id:e,user_id:r,start_date:l.toISOString(),end_date:c.toISOString(),status:"pending",metadata:{views_before:0,contacts_before:0}}).select().single();if(d)throw d;return await be.from("boost_history").insert({listing_id:t,boost_id:u.id,user_id:r,action:"purchased",details:{package_name:n.name,price:n.price,duration_days:n.duration_days}}),{success:!0,boostId:u.id,boostData:u,packageData:n,message:"Boost acheté avec succès"}}catch(n){throw console.error("Erreur lors de l'achat du boost:",n),n}},getBoostStatus:async t=>{if(!gr)return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]};try{const{data:e,error:r}=await be.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            description,
            features
          )
        `).eq("listing_id",t).order("created_at",{ascending:!1});if(r)throw r;const n=e?.find(s=>s.status==="active");return{hasActiveBoost:!!n,currentBoost:n,boostHistory:e||[]}}catch(e){throw console.error("Erreur lors de la vérification du statut de boost:",e),e}},cancelBoost:async(t,e)=>{if(!gr)return{success:!0,message:"Boost annulé avec succès (mode test)"};try{const{data:r,error:n}=await be.from("listing_boosts").select("*").eq("id",t).eq("user_id",e).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const{error:i}=await be.from("listing_boosts").update({status:"cancelled"}).eq("id",t);if(i)throw i;return await be.from("boost_history").insert({listing_id:r.listing_id,boost_id:t,user_id:e,action:"cancelled",details:{reason:"user_cancelled",cancelled_at:new Date().toISOString()}}),{success:!0,message:"Boost annulé avec succès"}}catch(r){throw console.error("Erreur lors de l'annulation du boost:",r),r}},getBoostHistory:async t=>{if(!gr)return[];try{const{data:e,error:r}=await be.from("boost_history").select(`
          *,
          listing_boosts (
            boost_packages (
              name,
              price
            )
          ),
          listings (
            title,
            category
          )
        `).eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){throw console.error("Erreur lors de la récupération de l'historique des boosts:",e),e}},activateBoost:async(t,e)=>{if(!gr)return{success:!0,message:"Boost activé avec succès (mode test)"};try{const{data:r,error:n}=await be.from("listing_boosts").select(`
          *,
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",t).single();if(n||!r)throw new Error("Boost non trouvé");const{error:i}=await be.from("listing_boosts").update({status:"active",payment_id:e,metadata:{views_before:r.listings.views_count||0,contacts_before:r.listings.favorites_count||0,activated_at:new Date().toISOString()}}).eq("id",t);if(i)throw i;return await be.from("boost_history").insert({listing_id:r.listing_id,boost_id:t,user_id:r.user_id,action:"activated",details:{payment_id:e,activated_at:new Date().toISOString()}}),{success:!0,message:"Boost activé avec succès"}}catch(r){throw console.error("Erreur lors de l'activation du boost:",r),r}},renewBoost:async(t,e)=>{if(!gr)return{success:!0,message:"Boost renouvelé avec succès (mode test)"};try{const{data:r,error:n}=await be.from("listing_boosts").select(`
          *,
          boost_packages (
            duration_days,
            price
          )
        `).eq("id",t).eq("user_id",e).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const i=new Date;i.setDate(i.getDate()+r.boost_packages.duration_days);const{error:s}=await be.from("listing_boosts").update({end_date:i.toISOString(),updated_at:new Date().toISOString()}).eq("id",t);if(s)throw s;return await be.from("boost_history").insert({listing_id:r.listing_id,boost_id:t,user_id:e,action:"renewed",details:{new_end_date:i.toISOString(),renewed_at:new Date().toISOString()}}),{success:!0,message:"Boost renouvelé avec succès"}}catch(r){throw console.error("Erreur lors du renouvellement du boost:",r),r}},getBoostStats:async t=>{if(!gr)return{total_boosts:0,active_boosts:0,total_days:0,total_investment:0,current_boost:null};try{const{data:e,error:r}=await be.rpc("get_boost_stats",{listing_id_param:t});if(r)throw r;return e||{}}catch(e){throw console.error("Erreur lors de la récupération des statistiques de boost:",e),e}}};function jr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $l(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Qfe(t,e){const r=jr(t);return isNaN(e)?$l(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const jW=6048e5,ehe=864e5,SW=6e4,NW=36e5,A0=43200,Q$=1440;let the={};function Ey(){return the}function sp(t,e){const r=Ey(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=jr(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Kb(t){return sp(t,{weekStartsOn:1})}function CW(t){const e=jr(t),r=e.getFullYear(),n=$l(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Kb(n),s=$l(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Kb(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function eF(t){const e=jr(t);return e.setHours(0,0,0,0),e}function Gb(t){const e=jr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function rhe(t,e){const r=eF(t),n=eF(e),i=+r-Gb(r),s=+n-Gb(n);return Math.round((i-s)/ehe)}function nhe(t){const e=CW(t),r=$l(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Kb(r)}function xb(t,e){const r=jr(t),n=jr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function ihe(t){return $l(t,Date.now())}function she(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function ahe(t){if(!she(t)&&typeof t!="number")return!1;const e=jr(t);return!isNaN(Number(e))}function ohe(t,e){const r=jr(t),n=jr(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function lhe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function che(t,e){return+jr(t)-+jr(e)}function uhe(t){const e=jr(t);return e.setHours(23,59,59,999),e}function dhe(t){const e=jr(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function fhe(t){const e=jr(t);return+uhe(e)==+dhe(e)}function hhe(t,e){const r=jr(t),n=jr(e),i=xb(r,n),s=Math.abs(ohe(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=xb(r,n)===-i;fhe(jr(t))&&s===1&&xb(t,n)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function phe(t,e,r){const n=che(t,e)/1e3;return lhe(r?.roundingMethod)(n)}function mhe(t){const e=jr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function ghe(t){const e=jr(t),r=$l(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const vhe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},yhe=(t,e,r)=>{let n;const i=vhe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qh(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const xhe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},bhe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},whe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_he={date:qh({formats:xhe,defaultWidth:"full"}),time:qh({formats:bhe,defaultWidth:"full"}),dateTime:qh({formats:whe,defaultWidth:"full"})},jhe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},She=(t,e,r,n)=>jhe[t];function yo(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Nhe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Che={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ehe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Phe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},khe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},The={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Ahe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ohe={ordinalNumber:Ahe,era:yo({values:Nhe,defaultWidth:"wide"}),quarter:yo({values:Che,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yo({values:Ehe,defaultWidth:"wide"}),day:yo({values:Phe,defaultWidth:"wide"}),dayPeriod:yo({values:khe,defaultWidth:"wide",formattingValues:The,defaultFormattingWidth:"wide"})};function xo(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Mhe(l,h=>h.test(o)):Rhe(l,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function Rhe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Mhe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function EW(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const Ihe=/^(\d+)(th|st|nd|rd)?/i,Lhe=/\d+/i,Dhe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$he={any:[/^b/i,/^(a|c)/i]},Fhe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Bhe={any:[/1/i,/2/i,/3/i,/4/i]},zhe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qhe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Uhe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Vhe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Whe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Hhe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Khe={ordinalNumber:EW({matchPattern:Ihe,parsePattern:Lhe,valueCallback:t=>parseInt(t,10)}),era:xo({matchPatterns:Dhe,defaultMatchWidth:"wide",parsePatterns:$he,defaultParseWidth:"any"}),quarter:xo({matchPatterns:Fhe,defaultMatchWidth:"wide",parsePatterns:Bhe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xo({matchPatterns:zhe,defaultMatchWidth:"wide",parsePatterns:qhe,defaultParseWidth:"any"}),day:xo({matchPatterns:Uhe,defaultMatchWidth:"wide",parsePatterns:Vhe,defaultParseWidth:"any"}),dayPeriod:xo({matchPatterns:Whe,defaultMatchWidth:"any",parsePatterns:Hhe,defaultParseWidth:"any"})},PW={code:"en-US",formatDistance:yhe,formatLong:_he,formatRelative:She,localize:Ohe,match:Khe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ghe(t){const e=jr(t);return rhe(e,ghe(e))+1}function Zhe(t){const e=jr(t),r=+Kb(e)-+nhe(e);return Math.round(r/jW)+1}function kW(t,e){const r=jr(t),n=r.getFullYear(),i=Ey(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=$l(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=sp(o,e),c=$l(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=sp(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Yhe(t,e){const r=Ey(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=kW(t,e),s=$l(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),sp(s,e)}function Xhe(t,e){const r=jr(t),n=+sp(r,e)-+Yhe(r,e);return Math.round(n/jW)+1}function _r(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Lc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return _r(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):_r(r+1,2)},d(t,e){return _r(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return _r(t.getHours()%12||12,e.length)},H(t,e){return _r(t.getHours(),e.length)},m(t,e){return _r(t.getMinutes(),e.length)},s(t,e){return _r(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return _r(i,e.length)}},hh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tF={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Lc.y(t,e)},Y:function(t,e,r,n){const i=kW(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return _r(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):_r(s,e.length)},R:function(t,e){const r=CW(t);return _r(r,e.length)},u:function(t,e){const r=t.getFullYear();return _r(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return _r(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return _r(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Lc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return _r(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Xhe(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):_r(i,e.length)},I:function(t,e,r){const n=Zhe(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):_r(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Lc.d(t,e)},D:function(t,e,r){const n=Ghe(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):_r(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return _r(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return _r(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return _r(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=hh.noon:n===0?i=hh.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=hh.evening:n>=12?i=hh.afternoon:n>=4?i=hh.morning:i=hh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Lc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Lc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):_r(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):_r(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Lc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Lc.s(t,e)},S:function(t,e){return Lc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return nF(n);case"XXXX":case"XX":return hd(n);case"XXXXX":case"XXX":default:return hd(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return nF(n);case"xxxx":case"xx":return hd(n);case"xxxxx":case"xxx":default:return hd(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rF(n,":");case"OOOO":default:return"GMT"+hd(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rF(n,":");case"zzzz":default:return"GMT"+hd(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return _r(n,e.length)},T:function(t,e,r){const n=t.getTime();return _r(n,e.length)}};function rF(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+_r(s,2)}function nF(t,e){return t%60===0?(t>0?"-":"+")+_r(Math.abs(t)/60,2):hd(t,e)}function hd(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=_r(Math.trunc(n/60),2),s=_r(n%60,2);return r+i+e+s}const iF=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},TW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Jhe=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return iF(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iF(n,e)).replace("{{time}}",TW(i,e))},Qhe={p:TW,P:Jhe},epe=/^D+$/,tpe=/^Y+$/,rpe=["D","DD","YY","YYYY"];function npe(t){return epe.test(t)}function ipe(t){return tpe.test(t)}function spe(t,e,r){const n=ape(t,e,r);if(console.warn(n),rpe.includes(t))throw new RangeError(n)}function ape(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ope=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lpe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cpe=/^'([^]*?)'?$/,upe=/''/g,dpe=/[a-zA-Z]/;function Pr(t,e,r){const n=Ey(),i=r?.locale??n.locale??PW,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=jr(t);if(!ahe(l))throw new RangeError("Invalid time value");let c=e.match(lpe).map(d=>{const h=d[0];if(h==="p"||h==="P"){const g=Qhe[h];return g(d,i.formatLong)}return d}).join("").match(ope).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const h=d[0];if(h==="'")return{isToken:!1,value:fpe(d)};if(tF[h])return{isToken:!0,value:d};if(h.match(dpe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+h+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const h=d.value;(!r?.useAdditionalWeekYearTokens&&ipe(h)||!r?.useAdditionalDayOfYearTokens&&npe(h))&&spe(h,e,String(t));const g=tF[h[0]];return g(l,h,i.localize,u)}).join("")}function fpe(t){const e=t.match(cpe);return e?e[1].replace(upe,"'"):t}function hpe(t,e,r){const n=Ey(),i=r?.locale??n.locale??PW,s=2520,o=xb(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=jr(e),u=jr(t)):(c=jr(t),u=jr(e));const d=phe(u,c),h=(Gb(u)-Gb(c))/1e3,g=Math.round((d-h)/60);let v;if(g<2)return r?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<Q$){const y=Math.round(g/60);return i.formatDistance("aboutXHours",y,l)}else{if(g<s)return i.formatDistance("xDays",1,l);if(g<A0){const y=Math.round(g/Q$);return i.formatDistance("xDays",y,l)}else if(g<A0*2)return v=Math.round(g/A0),i.formatDistance("aboutXMonths",v,l)}if(v=hhe(u,c),v<12){const y=Math.round(g/A0);return i.formatDistance("xMonths",y,l)}else{const y=v%12,x=Math.trunc(v/12);return y<3?i.formatDistance("aboutXYears",x,l):y<9?i.formatDistance("overXYears",x,l):i.formatDistance("almostXYears",x+1,l)}}function AW(t,e){return hpe(t,ihe(t),e)}function fg(t,e){return Qfe(t,-e)}function ppe(t,e){const n=ype(t);let i;if(n.date){const c=xpe(n.date,2);i=bpe(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(n.time&&(o=wpe(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=_pe(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+l)}const O0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mpe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gpe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vpe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function ype(t){const e={},r=t.split(O0.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],O0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(O0.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=O0.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function xpe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function bpe(t,e){if(e===null)return new Date(NaN);const r=t.match(mpe);if(!r)return new Date(NaN);const n=!!r[4],i=hg(r[1]),s=hg(r[2])-1,o=hg(r[3]),l=hg(r[4]),c=hg(r[5])-1;if(n)return Epe(e,l,c)?jpe(e,l,c):new Date(NaN);{const u=new Date(0);return!Npe(e,s,o)||!Cpe(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function hg(t){return t?parseInt(t):1}function wpe(t){const e=t.match(gpe);if(!e)return NaN;const r=JS(e[1]),n=JS(e[2]),i=JS(e[3]);return Ppe(r,n,i)?r*NW+n*SW+i*1e3:NaN}function JS(t){return t&&parseFloat(t.replace(",","."))||0}function _pe(t){if(t==="Z")return 0;const e=t.match(vpe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return kpe(n,i)?r*(n*NW+i*SW):NaN}function jpe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Spe=[31,null,31,30,31,30,31,31,30,31,30,31];function OW(t){return t%400===0||t%4===0&&t%100!==0}function Npe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Spe[e]||(OW(t)?29:28))}function Cpe(t,e){return e>=1&&e<=(OW(t)?366:365)}function Epe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Ppe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function kpe(t,e){return e>=0&&e<=59}const sF={getBoostAnalytics:async(t=null,e="30d")=>{if(!gr)return console.warn("⚠️ Supabase non configuré, retour d'analytics de test"),{totalBoosts:45,activeBoosts:12,totalRevenue:45e4,averageBoostPrice:1e4,successRate:87.5,topPerformingCategories:["Immobilier","Automobile","Services"],boostTrends:{daily:[12,15,18,22,25,28,30],weekly:[85,92,105,118,125,132,140],monthly:[350,420,480,520,580,620,680]}};try{const{data:r,error:n}=await be.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            title,
            category,
            views_count,
            favorites_count
          )
        `).eq("status","active").gte("created_at",Th(e));if(n)throw n;return Tpe(r||[],t)}catch(r){throw console.error("Erreur lors de la récupération des analytics de boost:",r),r}},getBoostPerformance:async t=>{if(!gr)return{viewsIncrease:245,favoritesIncrease:18,contactsIncrease:12,roi:320,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]};try{const{data:e,error:r}=await be.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",t).single();if(r)throw r;return Ape(e)}catch(e){throw console.error("Erreur lors de la récupération des performances:",e),e}},getPaymentAnalytics:async(t=null,e="30d")=>{if(!gr)return{totalPayments:67,totalRevenue:67e4,averageTransactionValue:1e4,paymentMethods:{orange_money:45,mtn_mobile_money:15,card:7},conversionRate:78.5,refundRate:2.3};try{const{data:r,error:n}=await be.from("payments").select("*").gte("created_at",Th(e));if(n)throw n;return Ope(r||[],t)}catch(r){throw console.error("Erreur lors de la récupération des analytics de paiement:",r),r}},getRevenueData:async(t,e)=>{if(!gr)return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0};try{const{data:r,error:n}=await be.from("payments").select(`
          *,
          listings (
            category,
            title
          )
        `).eq("status","completed").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(n)throw n;const i=r?.reduce((c,u)=>c+(u.amount||0),0)||0,s=r?.reduce((c,u)=>{const d=Pr(new Date(u.created_at),"yyyy-MM-dd");return c[d]=(c[d]||0)+(u.amount||0),c},{})||{},o=r?.reduce((c,u)=>{const d=u.listings?.category||"Autre";return c[d]=(c[d]||0)+(u.amount||0),c},{})||{},l=r?.reduce((c,u)=>{const d=u.payment_method||"Autre";return c[d]=(c[d]||0)+(u.amount||0),c},{})||{};return{totalRevenue:i,revenueByDate:Object.entries(s).map(([c,u])=>({date:c,revenue:u})),revenueByCategory:o,paymentMethods:l,growth:0}}catch(r){return console.error("Erreur lors de la récupération des données de revenus:",r),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}},getUserPremiumAnalytics:async(t,e="30d")=>{if(!gr)return{totalBoosts:8,totalSpent:85e3,averageBoostPrice:10625,boostSuccessRate:87.5,favoriteCategories:["Immobilier","Services"],boostHistory:[{date:"2024-01-15",package:"Boost Premium",price:12e3,status:"active"},{date:"2024-01-08",package:"Boost Basique",price:5e3,status:"expired"}]};try{const[r,n]=await Promise.all([be.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            )
          `).eq("user_id",t).gte("created_at",Th(e)),be.from("payments").select("*").eq("user_id",t).gte("created_at",Th(e))]);if(r.error)throw r.error;if(n.error)throw n.error;return Rpe(r.data||[],n.data||[])}catch(r){throw console.error("Erreur lors de la récupération des analytics utilisateur:",r),r}},getPerformanceTrends:async(t="30d",e="revenue")=>{if(!gr)return{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],data:[45e3,52e3,48e3,61e3],trend:"up",percentageChange:15.6};try{const{data:r,error:n}=await be.from("listing_boosts").select(`
          created_at,
          boost_packages (
            price
          )
        `).gte("created_at",Th(t)).order("created_at",{ascending:!0});if(n)throw n;return Mpe(r||[],t,e)}catch(r){throw console.error("Erreur lors de la récupération des tendances:",r),r}},getGrowthTrends:async(t,e)=>{if(!gr)return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}};try{const{data:r,error:n}=await be.from("users").select("created_at").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(n)throw n;const{data:i,error:s}=await be.from("listings").select("created_at, status").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(s)throw s;const{data:o,error:l}=await be.from("payments").select("created_at, amount").eq("status","completed").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(l)throw l;const c=QS(r,"created_at"),u=QS(i,"created_at"),d=QS(o,"created_at","amount"),h=eN(r,"created_at"),g=eN(i,"created_at"),v=eN(o,"created_at","amount"),y=tN(r,"created_at"),x=tN(i,"created_at"),_=tN(o,"created_at","amount");return{users:{daily:c,weekly:h,monthly:y},listings:{daily:u,weekly:g,monthly:x},revenue:{daily:d,weekly:v,monthly:_}}}catch(r){return console.error("Erreur lors de la récupération des tendances de croissance:",r),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}},getInsightsAndRecommendations:async(t=null)=>{if(!gr)return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]};try{const[e,r]=await Promise.all([be.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            ),
            listings (
              category,
              views_count,
              favorites_count
            )
          `).eq("status","active"),be.from("payments").select("*").eq("status","completed")]);if(e.error)throw e.error;if(r.error)throw r.error;return Bpe(e.data||[],r.data||[],t)}catch(e){throw console.error("Erreur lors de la génération des insights:",e),e}},getComparisonMetrics:async(t="7d",e="30d")=>{if(!gr)return{revenue:{period1:45e3,period2:18e4,change:300},boosts:{period1:12,period2:45,change:275},conversion:{period1:8.5,period2:12.3,change:44.7}};try{const[r,n]=await Promise.all([aF(t),aF(e)]);return zpe(r,n)}catch(r){throw console.error("Erreur lors de la comparaison des métriques:",r),r}}};function Th(t){const e=new Date;switch(t){case"7d":return new Date(e.getTime()-7*24*60*60*1e3);case"30d":return new Date(e.getTime()-30*24*60*60*1e3);case"90d":return new Date(e.getTime()-90*24*60*60*1e3);case"1y":return new Date(e.getTime()-365*24*60*60*1e3);default:return new Date(e.getTime()-30*24*60*60*1e3)}}function Tpe(t,e){const r=e?t.filter(d=>d.user_id===e):t,n=r.length,i=r.filter(d=>d.status==="active").length,s=r.reduce((d,h)=>d+(h.boost_packages?.price||0),0),o=n>0?s/n:0,l=Dpe(r),c=$pe(r),u=Fpe();return{totalBoosts:n,activeBoosts:i,totalRevenue:s,averageBoostPrice:Math.round(o),successRate:l,topPerformingCategories:c.slice(0,5),boostTrends:u}}function Ape(t){const e=t.metadata?.views_before||0,n=(t.listings?.views_count||0)-e,i=t.metadata?.contacts_before||0,o=(t.listings?.favorites_count||0)-i,l=Math.round(o*.8),c=Lpe(t.boost_packages?.price||0,n,l);return{viewsIncrease:n,favoritesIncrease:o,contactsIncrease:l,roi:c,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]}}function Ope(t,e){const r=e?t.filter(h=>h.user_id===e):t,n=r.length,i=r.reduce((h,g)=>h+g.amount,0),s=n>0?i/n:0,o={};r.forEach(h=>{o[h.payment_method]=(o[h.payment_method]||0)+1});const l=r.filter(h=>h.status==="completed").length,c=n>0?l/n*100:0,u=r.filter(h=>h.status==="refunded").length,d=n>0?u/n*100:0;return{totalPayments:n,totalRevenue:i,averageTransactionValue:Math.round(s),paymentMethods:o,conversionRate:Math.round(c*100)/100,refundRate:Math.round(d*100)/100}}function Rpe(t,e){const r=t.length,n=e.reduce((h,g)=>h+g.amount,0),i=r>0?n/r:0,s=t.filter(h=>h.status==="active").length,o=r>0?s/r*100:0,l=t.map(h=>h.listings?.category).filter(Boolean),c={};l.forEach(h=>{c[h]=(c[h]||0)+1});const u=Object.entries(c).sort(([,h],[,g])=>g-h).slice(0,3).map(([h])=>h),d=t.slice(0,5).map(h=>({date:new Date(h.created_at).toLocaleDateString("fr-FR"),package:h.boost_packages?.name||"Package",price:h.boost_packages?.price||0,status:h.status}));return{totalBoosts:r,totalSpent:n,averageBoostPrice:Math.round(i),boostSuccessRate:Math.round(o*100)/100,favoriteCategories:u,boostHistory:d}}function Mpe(t,e,r){const n=Ipe(t,e),i=Object.keys(n),s=Object.values(n).map(c=>r==="revenue"?c.reduce((u,d)=>u+(d.boost_packages?.price||0),0):r==="boosts"?c.length:0),o=s[s.length-1]>s[0]?"up":"down",l=s[0]>0?(s[s.length-1]-s[0])/s[0]*100:0;return{labels:i,data:s,trend:o,percentageChange:Math.round(l*100)/100}}function Ipe(t,e){const r={};return t.forEach(n=>{const i=new Date(n.created_at);let s;switch(e){case"7d":s=i.toLocaleDateString("fr-FR",{weekday:"short"});break;case"30d":s=`Sem ${Math.ceil(i.getDate()/7)}`;break;case"90d":s=i.toLocaleDateString("fr-FR",{month:"short"});break;default:s=i.toLocaleDateString("fr-FR",{month:"short"})}r[s]||(r[s]=[]),r[s].push(n)}),r}function Lpe(t,e,r){if(t<=0)return 0;const i=(r*2e3-t)/t*100;return Math.round(i*100)/100}function Dpe(t){if(t.length===0)return 0;const e=t.filter(r=>{const n=(r.listings?.views_count||0)-(r.metadata?.views_before||0),i=(r.listings?.favorites_count||0)-(r.metadata?.contacts_before||0);return n>10||i>2});return Math.round(e.length/t.length*100)}function $pe(t){const e={};return t.forEach(r=>{const n=r.listings?.category;n&&(e[n]||(e[n]={count:0,totalViews:0,totalFavorites:0}),e[n].count++,e[n].totalViews+=r.listings?.views_count||0,e[n].totalFavorites+=r.listings?.favorites_count||0)}),Object.entries(e).map(([r,n])=>({category:r,performance:(n.totalViews+n.totalFavorites*10)/n.count})).sort((r,n)=>n.performance-r.performance).map(r=>r.category)}function Fpe(t){const e=new Date,r=[],n=[],i=[];for(let s=6;s>=0;s--)new Date(e.getTime()-s*24*60*60*1e3),r.push(Math.floor(Math.random()*20)+10);for(let s=6;s>=0;s--)n.push(Math.floor(Math.random()*50)+80);for(let s=6;s>=0;s--)i.push(Math.floor(Math.random()*100)+300);return{daily:r,weekly:n,monthly:i}}function Bpe(t,e,r){return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]}}async function aF(t){const{data:e,error:r}=await be.from("listing_boosts").select(`
      created_at,
      boost_packages (
        price
      )
    `).gte("created_at",Th(t));if(r)throw r;return e||[]}function zpe(t,e){const r=t.reduce((o,l)=>o+(l.boost_packages?.price||0),0),n=e.reduce((o,l)=>o+(l.boost_packages?.price||0),0),i=t.length,s=e.length;return{revenue:{period1:r,period2:n,change:r>0?(n-r)/r*100:0},boosts:{period1:i,period2:s,change:i>0?(s-i)/i*100:0}}}function QS(t,e,r=null){const n={};return t?.forEach(i=>{const s=Pr(new Date(i[e]),"yyyy-MM-dd");r?n[s]=(n[s]||0)+(i[r]||0):n[s]=(n[s]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function eN(t,e,r=null){const n={};return t?.forEach(i=>{const s=new Date(i[e]),o=Pr(sp(s,{weekStartsOn:1}),"yyyy-MM-dd");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function tN(t,e,r=null){const n={};return t?.forEach(i=>{const s=new Date(i[e]),o=Pr(mhe(s),"yyyy-MM");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}const mn={getSystemSettings:async()=>{try{if(!gr)return{general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}};const{data:t,error:e}=await be.from("system_settings").select("*").single();return e?(console.warn("Table system_settings non trouvée, utilisation des paramètres par défaut"),mn.getDefaultSettings()):t.settings||mn.getDefaultSettings()}catch(t){return console.error("Erreur lors de la récupération des paramètres:",t),mn.getDefaultSettings()}},updateSystemSettings:async t=>{try{if(!gr)return console.log("Paramètres mis à jour (mode développement):",t),{success:!0,message:"Paramètres mis à jour en mode développement"};const{data:e,error:r}=await be.from("system_settings").upsert([{id:"main",settings:t,updated_at:new Date().toISOString()}],{onConflict:"id"}).select().single();if(r)throw r;return{success:!0,data:e,message:"Paramètres mis à jour avec succès"}}catch(e){throw console.error("Erreur lors de la mise à jour des paramètres:",e),new Error("Impossible de sauvegarder les paramètres")}},getSetting:async(t,e)=>{try{return(await mn.getSystemSettings())[t]?.[e]}catch(r){return console.error("Erreur lors de la récupération du paramètre:",r),null}},updateSetting:async(t,e,r)=>{try{const n=await mn.getSystemSettings();return n[t]||(n[t]={}),n[t][e]=r,await mn.updateSystemSettings(n)}catch(n){throw console.error("Erreur lors de la mise à jour du paramètre:",n),n}},getSettingsBySection:async t=>{try{return(await mn.getSystemSettings())[t]||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de la section:",e),{}}},getSiteSettings:async()=>{try{return(await mn.getSystemSettings()).general||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres du site:",t),{}}},getAppearanceSettings:async()=>{try{return(await mn.getSystemSettings()).appearance||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres d'apparence:",t),{}}},getNotificationSettings:async()=>{try{return(await mn.getSystemSettings()).notifications||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de notifications:",t),{}}},getSecuritySettings:async()=>{try{return(await mn.getSystemSettings()).security||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de sécurité:",t),{}}},getSystemSettingsSection:async()=>{try{return(await mn.getSystemSettings()).system||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres système:",t),{}}},resetToDefaults:async()=>{try{const t=mn.getDefaultSettings();return await mn.updateSystemSettings(t)}catch(t){throw console.error("Erreur lors de la réinitialisation des paramètres:",t),t}},exportSettings:async()=>{try{const t=await mn.getSystemSettings(),e=JSON.stringify(t,null,2),r=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");return i.href=n,i.download=`maximarket-settings-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n),{success:!0,message:"Paramètres exportés avec succès"}}catch(t){throw console.error("Erreur lors de l'export des paramètres:",t),new Error("Impossible d'exporter les paramètres")}},importSettings:async t=>{try{return new Promise((e,r)=>{const n=new FileReader;n.onload=async i=>{try{const s=JSON.parse(i.target.result);if(!mn.validateSettings(s)){r(new Error("Format de paramètres invalide"));return}const o=await mn.updateSystemSettings(s);e(o)}catch{r(new Error("Fichier JSON invalide"))}},n.onerror=()=>r(new Error("Erreur de lecture du fichier")),n.readAsText(t)})}catch(e){throw console.error("Erreur lors de l'import des paramètres:",e),e}},validateSettings:t=>{const e=["general","appearance","notifications","security","system"];for(const n of e)if(!t[n]||typeof t[n]!="object")return!1;const r=t.general;return!(!r.siteName||!r.contactEmail||!r.timezone||!r.currency)},getDefaultSettings:()=>({general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}})};function RW(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=RW(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Gt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=RW(t))&&(n&&(n+=" "),n+=e);return n}const jR="-",qpe=t=>{const e=Vpe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(jR);return l[0]===""&&l.length!==1&&l.shift(),MW(l,e)||Upe(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},MW=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?MW(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(jR);return e.validators.find(({validator:o})=>o(s))?.classGroupId},oF=/^\[(.+)\]$/,Upe=t=>{if(oF.test(t)){const e=oF.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},Vpe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Hpe(Object.entries(t.classGroups),r).forEach(([s,o])=>{Xk(o,n,s,e)}),n},Xk=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:lF(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(Wpe(i)){Xk(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{Xk(o,lF(e,s),r,n)})})},lF=(t,e)=>{let r=t;return e.split(jR).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},Wpe=t=>t.isThemeGetter,Hpe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,i]}):t,Kpe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},IW="!",Gpe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,h;for(let _=0;_<l.length;_++){let S=l[_];if(u===0){if(S===i&&(n||l.slice(_,_+s)===e)){c.push(l.slice(d,_)),d=_+s;continue}if(S==="/"){h=_;continue}}S==="["?u++:S==="]"&&u--}const g=c.length===0?l:l.substring(d),v=g.startsWith(IW),y=v?g.substring(1):g,x=h&&h>d?h-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},Zpe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Ype=t=>({cache:Kpe(t.cacheSize),parseClassName:Gpe(t),...qpe(t)}),Xpe=/\s+/,Jpe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Xpe);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:v}=r(u);let y=!!v,x=n(y?g.substring(0,v):g);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(g),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const _=Zpe(d).join(":"),S=h?_+IW:_,N=S+x;if(s.includes(N))continue;s.push(N);const C=i(x,y);for(let A=0;A<C.length;++A){const k=C[A];s.push(S+k)}l=u+(l.length>0?" "+l:l)}return l};function Qpe(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=LW(e))&&(n&&(n+=" "),n+=r);return n}const LW=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=LW(t[n]))&&(r&&(r+=" "),r+=e);return r};function eme(t,...e){let r,n,i,s=o;function o(c){const u=e.reduce((d,h)=>h(d),t());return r=Ype(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Jpe(c,r);return i(c,d),d}return function(){return s(Qpe.apply(null,arguments))}}const Hr=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},DW=/^\[(?:([a-z-]+):)?(.+)\]$/i,tme=/^\d+\/\d+$/,rme=new Set(["px","full","screen"]),nme=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ime=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,sme=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,ame=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ome=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,hl=t=>Uh(t)||rme.has(t)||tme.test(t),Dc=t=>Wp(t,"length",mme),Uh=t=>!!t&&!Number.isNaN(Number(t)),rN=t=>Wp(t,"number",Uh),pg=t=>!!t&&Number.isInteger(Number(t)),lme=t=>t.endsWith("%")&&Uh(t.slice(0,-1)),zt=t=>DW.test(t),$c=t=>nme.test(t),cme=new Set(["length","size","percentage"]),ume=t=>Wp(t,cme,$W),dme=t=>Wp(t,"position",$W),fme=new Set(["image","url"]),hme=t=>Wp(t,fme,vme),pme=t=>Wp(t,"",gme),mg=()=>!0,Wp=(t,e,r)=>{const n=DW.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},mme=t=>ime.test(t)&&!sme.test(t),$W=()=>!1,gme=t=>ame.test(t),vme=t=>ome.test(t),yme=()=>{const t=Hr("colors"),e=Hr("spacing"),r=Hr("blur"),n=Hr("brightness"),i=Hr("borderColor"),s=Hr("borderRadius"),o=Hr("borderSpacing"),l=Hr("borderWidth"),c=Hr("contrast"),u=Hr("grayscale"),d=Hr("hueRotate"),h=Hr("invert"),g=Hr("gap"),v=Hr("gradientColorStops"),y=Hr("gradientColorStopPositions"),x=Hr("inset"),_=Hr("margin"),S=Hr("opacity"),N=Hr("padding"),C=Hr("saturate"),A=Hr("scale"),k=Hr("sepia"),P=Hr("skew"),O=Hr("space"),I=Hr("translate"),F=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",zt,e],U=()=>[zt,e],z=()=>["",hl,Dc],W=()=>["auto",Uh,zt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],se=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ee=()=>["start","end","center","between","around","evenly","stretch"],G=()=>["","0",zt],ne=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[Uh,zt];return{cacheSize:500,separator:":",theme:{colors:[mg],spacing:[hl,Dc],blur:["none","",$c,zt],brightness:Y(),borderColor:[t],borderRadius:["none","","full",$c,zt],borderSpacing:U(),borderWidth:z(),contrast:Y(),grayscale:G(),hueRotate:Y(),invert:G(),gap:U(),gradientColorStops:[t],gradientColorStopPositions:[lme,Dc],inset:V(),margin:V(),opacity:Y(),padding:U(),saturate:Y(),scale:Y(),sepia:G(),skew:Y(),space:U(),translate:U()},classGroups:{aspect:[{aspect:["auto","square","video",zt]}],container:["container"],columns:[{columns:[$c]}],"break-after":[{"break-after":ne()}],"break-before":[{"break-before":ne()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),zt]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",pg,zt]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",zt]}],grow:[{grow:G()}],shrink:[{shrink:G()}],order:[{order:["first","last","none",pg,zt]}],"grid-cols":[{"grid-cols":[mg]}],"col-start-end":[{col:["auto",{span:["full",pg,zt]},zt]}],"col-start":[{"col-start":W()}],"col-end":[{"col-end":W()}],"grid-rows":[{"grid-rows":[mg]}],"row-start-end":[{row:["auto",{span:[pg,zt]},zt]}],"row-start":[{"row-start":W()}],"row-end":[{"row-end":W()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",zt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",zt]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...ee()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ee(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ee(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[N]}],px:[{px:[N]}],py:[{py:[N]}],ps:[{ps:[N]}],pe:[{pe:[N]}],pt:[{pt:[N]}],pr:[{pr:[N]}],pb:[{pb:[N]}],pl:[{pl:[N]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",zt,e]}],"min-w":[{"min-w":[zt,e,"min","max","fit"]}],"max-w":[{"max-w":[zt,e,"none","full","min","max","fit","prose",{screen:[$c]},$c]}],h:[{h:[zt,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[zt,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[zt,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[zt,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$c,Dc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rN]}],"font-family":[{font:[mg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",zt]}],"line-clamp":[{"line-clamp":["none",Uh,rN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",hl,zt]}],"list-image":[{"list-image":["none",zt]}],"list-style-type":[{list:["none","disc","decimal",zt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...se(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",hl,Dc]}],"underline-offset":[{"underline-offset":["auto",hl,zt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",zt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",zt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),dme]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ume]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hme]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...se(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:se()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...se()]}],"outline-offset":[{"outline-offset":[hl,zt]}],"outline-w":[{outline:[hl,Dc]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[hl,Dc]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$c,pme]}],"shadow-color":[{shadow:[mg]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$c,zt]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[C]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",zt]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",zt]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",zt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[pg,zt]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[P]}],"skew-y":[{"skew-y":[P]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",zt]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",zt]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",zt]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[hl,Dc,rN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xme=eme(yme);function qe(...t){return xme(Gt(t))}function bme(){return Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}function wme(t){if(!t)return"Date inconnue";const e=new Date(t),n=(new Date-e)/(1e3*60*60);if(n<1)return"À l'instant";if(n<24){const i=Math.floor(n);return`Il y a ${i} heure${i>1?"s":""}`}else{if(n<48)return"Hier";if(n<168){const i=Math.floor(n/24);return`Il y a ${i} jour${i>1?"s":""}`}else return e.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}}function cF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function $s(...t){return e=>{let r=!1;const n=t.map(i=>{const s=cF(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():cF(t[i],null)}}}}function at(...t){return b.useCallback($s(...t),t)}function ap(t){const e=_me(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(Sme);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var FW=ap("Slot");function _me(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r,o=b.isValidElement(i)?Cme(i):void 0,l=at(o,n);if(b.isValidElement(i)){const c=Nme(s,i.props);return i.type!==b.Fragment&&(c.ref=l),b.cloneElement(i,c)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BW=Symbol("radix.slottable");function jme(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=BW,e}function Sme(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BW}function Nme(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Cme(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const uF=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,dF=Gt,B_=(t,e)=>r=>{var n;if(e?.variants==null)return dF(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=r?.[u],h=s?.[u];if(d===null)return null;const g=uF(d)||uF(h);return i[u][g]}),l=r&&Object.entries(r).reduce((u,d)=>{let[h,g]=d;return g===void 0||(u[h]=g),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:h,className:g,...v}=d;return Object.entries(v).every(y=>{let[x,_]=y;return Array.isArray(_)?_.includes({...s,...l}[x]):{...s,...l}[x]===_})?[...u,h,g]:u},[]);return dF(t,o,c,r?.class,r?.className)},SR=B_("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ue=Q.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?FW:"button";return a.jsx(o,{className:qe(SR({variant:e,size:r,className:t})),ref:s,...i})});ue.displayName="Button";const It=Q.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:qe("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));It.displayName="Card";const ir=Q.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:qe("flex flex-col space-y-1.5 p-6",t),...e}));ir.displayName="CardHeader";const sr=Q.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:qe("text-2xl font-semibold leading-none tracking-tight",t),...e}));sr.displayName="CardTitle";const Cn=Q.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:qe("text-sm text-muted-foreground",t),...e}));Cn.displayName="CardDescription";const Bt=Q.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:qe("p-6 pt-0",t),...e}));Bt.displayName="CardContent";const bv=Q.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:qe("flex items-center p-6 pt-0",t),...e}));bv.displayName="CardFooter";const Eme=B_("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function pt({className:t,variant:e,...r}){return a.jsx("div",{className:qe(Eme({variant:e}),t),...r})}function Pme(t,e){const r=b.createContext(e),n=s=>{const{children:o,...l}=s,c=b.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=b.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function Dr(t,e=[]){let r=[];function n(s,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=h=>{const{scope:g,children:v,...y}=h,x=g?.[t]?.[c]||l,_=b.useMemo(()=>y,Object.values(y));return a.jsx(x.Provider,{value:_,children:v})};u.displayName=s+"Provider";function d(h,g){const v=g?.[t]?.[c]||l,y=b.useContext(v);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${h}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>b.createContext(o));return function(l){const c=l?.[t]||s;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,kme(i,...e)]}function kme(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const h=c(s)[`__scope${u}`];return{...l,...h}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Tme(t){const e=Ame(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(Rme);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Ame(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=Ime(i),l=Mme(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Ome=Symbol("radix.slottable");function Rme(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Ome}function Mme(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Ime(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Lme=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],zW=Lme.reduce((t,e)=>{const r=Tme(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),NR="Progress",CR=100,[Dme,MUe]=Dr(NR),[$me,Fme]=Dme(NR),qW=b.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Bme,...o}=t;(i||i===0)&&!fF(i)&&console.error(zme(`${i}`,"Progress"));const l=fF(i)?i:CR;n!==null&&!hF(n,l)&&console.error(qme(`${n}`,"Progress"));const c=hF(n,l)?n:null,u=Zb(c)?s(c,l):void 0;return a.jsx($me,{scope:r,value:c,max:l,children:a.jsx(zW.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":Zb(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":WW(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});qW.displayName=NR;var UW="ProgressIndicator",VW=b.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Fme(UW,r);return a.jsx(zW.div,{"data-state":WW(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});VW.displayName=UW;function Bme(t,e){return`${Math.round(t/e*100)}%`}function WW(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function Zb(t){return typeof t=="number"}function fF(t){return Zb(t)&&!isNaN(t)&&t>0}function hF(t,e){return Zb(t)&&!isNaN(t)&&t<=e&&t>=0}function zme(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${CR}\`.`}function qme(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${CR} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var HW=qW,Ume=VW;const KW=b.forwardRef(({className:t,value:e,...r},n)=>a.jsx(HW,{ref:n,className:qe("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(Ume,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));KW.displayName=HW.displayName;const Vme=()=>{const[t,e]=b.useState(null),[r,n]=b.useState(null),[i,s]=b.useState(!1);b.useEffect(()=>{o();const l=setInterval(o,5e3);return()=>clearInterval(l)},[]);const o=()=>{e(_R.getStats()),n(wR.getStatus())};return null};class Wme{constructor(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},this.observers=[],this.isMonitoring=!1}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.monitorMemoryUsage(),this.monitorNetworkRequests(),this.monitorCachePerformance(),console.log("📊 Monitoring de performance démarré"))}stopMonitoring(){this.isMonitoring=!1,console.log("📊 Monitoring de performance arrêté")}recordCacheHit(e,r){this.metrics.cacheHits++,this.notifyObservers("cacheHit",{type:e,key:r,timestamp:Date.now()})}recordCacheMiss(e,r){this.metrics.cacheMisses++,this.notifyObservers("cacheMiss",{type:e,key:r,timestamp:Date.now()})}recordApiCall(e,r){this.metrics.apiCalls++,this.metrics.loadTimes.push(r),this.metrics.loadTimes.length>100&&this.metrics.loadTimes.shift(),this.notifyObservers("apiCall",{endpoint:e,duration:r,timestamp:Date.now()})}recordError(e,r){this.metrics.errors++,this.notifyObservers("error",{type:e,error:r,timestamp:Date.now()})}getCacheHitRatio(){const e=this.metrics.cacheHits+this.metrics.cacheMisses;return e>0?this.metrics.cacheHits/e*100:0}getAverageLoadTime(){return this.metrics.loadTimes.length===0?0:this.metrics.loadTimes.reduce((r,n)=>r+n,0)/this.metrics.loadTimes.length}getStats(){const e=Date.now()-this.metrics.startTime;return{uptime:Math.floor(e/1e3),cacheHits:this.metrics.cacheHits,cacheMisses:this.metrics.cacheMisses,cacheHitRatio:this.getCacheHitRatio(),apiCalls:this.metrics.apiCalls,errors:this.metrics.errors,averageLoadTime:this.getAverageLoadTime(),memoryUsage:this.metrics.memoryUsage[this.metrics.memoryUsage.length-1]||0,isMonitoring:this.isMonitoring}}monitorMemoryUsage(){if(this.isMonitoring){if("memory"in performance){const e=performance.memory;this.metrics.memoryUsage.push({used:e.usedJSHeapSize,total:e.totalJSHeapSize,limit:e.jsHeapSizeLimit,timestamp:Date.now()}),this.metrics.memoryUsage.length>50&&this.metrics.memoryUsage.shift()}setTimeout(()=>this.monitorMemoryUsage(),5e3)}}monitorNetworkRequests(){if(!this.isMonitoring)return;const e=window.fetch;window.fetch=async(...r)=>{const n=performance.now();try{const i=await e(...r),s=performance.now()-n;return this.recordApiCall(r[0],s),i}catch(i){throw this.recordError("network",i),i}}}monitorCachePerformance(){if(!this.isMonitoring)return;const e=Storage.prototype.getItem,r=Storage.prototype.setItem;Storage.prototype.getItem=function(n){const i=e.call(this,n);return i&&n.startsWith("benome:")&&Vh.recordCacheHit("localStorage",n),i},Storage.prototype.setItem=function(n,i){return n.startsWith("benome:")&&Vh.recordCacheMiss("localStorage",n),r.call(this,n,i)}}addObserver(e){this.observers.push(e)}removeObserver(e){this.observers=this.observers.filter(r=>r!==e)}notifyObservers(e,r){this.observers.forEach(n=>{try{n(e,r)}catch(i){console.error("Erreur dans l'observateur de métriques:",i)}})}exportMetrics(){return{...this.metrics,cacheHitRatio:this.getCacheHitRatio(),averageLoadTime:this.getAverageLoadTime(),exportTime:new Date().toISOString()}}reset(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},console.log("📊 Métriques réinitialisées")}}const Vh=new Wme;Vh.startMonitoring();function Ve(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function Jk(t){const e=Hme(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(Gme);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Hme(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=Yme(i),l=Zme(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Kme=Symbol("radix.slottable");function Gme(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Kme}function Zme(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Yme(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Xme(t){const e=t+"CollectionProvider",[r,n]=Dr(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=Jk(l),u=Q.forwardRef((x,_)=>{const{scope:S,children:N}=x,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",g=Jk(d),v=Q.forwardRef((x,_)=>{const{scope:S,children:N,...C}=x,A=Q.useRef(null),k=at(_,A),P=s(d,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[h]:"",ref:k,children:N})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var or=globalThis?.document?b.useLayoutEffect:()=>{},Jme=du[" useId ".trim().toString()]||(()=>{}),Qme=0;function ns(t){const[e,r]=b.useState(Jme());return or(()=>{r(n=>n??String(Qme++))},[t]),e?`radix-${e}`:""}var ege=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Hp=ege.reduce((t,e)=>{const r=Jk(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function fr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>e.current?.(...r),[])}var tge=du[" useInsertionEffect ".trim().toString()]||or;function as({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=rge({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const h=d.current;h!==l&&console.warn(`${n} is changing from ${h?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=b.useCallback(d=>{if(l){const h=nge(d)?d(t):d;h!==t&&o.current?.(h)}else s(d)},[l,t,s,o]);return[c,u]}function rge({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),i=b.useRef(r),s=b.useRef(e);return tge(()=>{s.current=e},[e]),b.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function nge(t){return typeof t=="function"}var ige=b.createContext(void 0);function Kp(t){const e=b.useContext(ige);return t||e||"ltr"}var nN="rovingFocusGroup.onEntryFocus",sge={bubbles:!1,cancelable:!0},Py="RovingFocusGroup",[Qk,GW,age]=Xme(Py),[oge,ZW]=Dr(Py,[age]),[lge,cge]=oge(Py),YW=b.forwardRef((t,e)=>a.jsx(Qk.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(Qk.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(uge,{...t,ref:e})})}));YW.displayName=Py;var uge=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,g=b.useRef(null),v=at(e,g),y=Kp(s),[x,_]=as({prop:o,defaultProp:l??null,onChange:c,caller:Py}),[S,N]=b.useState(!1),C=fr(u),A=GW(r),k=b.useRef(!1),[P,O]=b.useState(0);return b.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(nN,C),()=>I.removeEventListener(nN,C)},[C]),a.jsx(lge,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:x,onItemFocus:b.useCallback(I=>_(I),[_]),onItemShiftTab:b.useCallback(()=>N(!0),[]),onFocusableItemAdd:b.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>O(I=>I-1),[]),children:a.jsx(Hp.div,{tabIndex:S||P===0?-1:0,"data-orientation":n,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{k.current=!0}),onFocus:Ve(t.onFocus,I=>{const F=!k.current;if(I.target===I.currentTarget&&F&&!S){const H=new CustomEvent(nN,sge);if(I.currentTarget.dispatchEvent(H),!H.defaultPrevented){const V=A().filter(se=>se.focusable),U=V.find(se=>se.active),z=V.find(se=>se.id===x),J=[U,z,...V].filter(Boolean).map(se=>se.ref.current);QW(J,d)}}k.current=!1}),onBlur:Ve(t.onBlur,()=>N(!1))})})}),XW="RovingFocusGroupItem",JW=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=ns(),u=s||c,d=cge(XW,r),h=d.currentTabStopId===u,g=GW(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:x}=d;return b.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),a.jsx(Qk.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(Hp.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ve(t.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:Ve(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ve(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=hge(_,d.orientation,d.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=d.loop?pge(C,A+1):C.slice(A+1)}setTimeout(()=>QW(C))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});JW.displayName=XW;var dge={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function fge(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function hge(t,e,r){const n=fge(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return dge[n]}function QW(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function pge(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var mge=YW,gge=JW;function vge(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var ls=t=>{const{present:e,children:r}=t,n=yge(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),s=at(n.ref,xge(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:s}):null};ls.displayName="Presence";function yge(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[l,c]=vge(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=R0(n.current);s.current=l==="mounted"?u:"none"},[l]),or(()=>{const u=n.current,d=i.current;if(d!==t){const g=s.current,v=R0(u);t?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),or(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=v=>{const x=R0(n.current).includes(v.animationName);if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=v=>{v.target===e&&(s.current=R0(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function R0(t){return t?.animationName||"none"}function xge(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var z_="Tabs",[bge,IUe]=Dr(z_,[ZW]),eH=ZW(),[wge,ER]=bge(z_),tH=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Kp(l),[h,g]=as({prop:n,onChange:i,defaultProp:s??"",caller:z_});return a.jsx(wge,{scope:r,baseId:ns(),value:h,onValueChange:g,orientation:o,dir:d,activationMode:c,children:a.jsx(Hp.div,{dir:d,"data-orientation":o,...u,ref:e})})});tH.displayName=z_;var rH="TabsList",nH=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=ER(rH,r),o=eH(r);return a.jsx(mge,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Hp.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});nH.displayName=rH;var iH="TabsTrigger",sH=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=ER(iH,r),l=eH(r),c=lH(o.baseId,n),u=cH(o.baseId,n),d=n===o.value;return a.jsx(gge,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(Hp.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Ve(t.onMouseDown,h=>{!i&&h.button===0&&h.ctrlKey===!1?o.onValueChange(n):h.preventDefault()}),onKeyDown:Ve(t.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&o.onValueChange(n)}),onFocus:Ve(t.onFocus,()=>{const h=o.activationMode!=="manual";!d&&!i&&h&&o.onValueChange(n)})})})});sH.displayName=iH;var aH="TabsContent",oH=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,l=ER(aH,r),c=lH(l.baseId,n),u=cH(l.baseId,n),d=n===l.value,h=b.useRef(d);return b.useEffect(()=>{const g=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(ls,{present:i||d,children:({present:g})=>a.jsx(Hp.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:h.current?"0s":void 0},children:g&&s})})});oH.displayName=aH;function lH(t,e){return`${t}-trigger-${e}`}function cH(t,e){return`${t}-content-${e}`}var _ge=tH,uH=nH,dH=sH,fH=oH;const PR=_ge,q_=Q.forwardRef(({className:t,...e},r)=>a.jsx(uH,{ref:r,className:qe("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));q_.displayName=uH.displayName;const Li=Q.forwardRef(({className:t,...e},r)=>a.jsx(dH,{ref:r,className:qe("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));Li.displayName=dH.displayName;const Di=Q.forwardRef(({className:t,...e},r)=>a.jsx(fH,{ref:r,className:qe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Di.displayName=fH.displayName;const jge=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState("overview"),[i,s]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(null),[d,h]=b.useState([]);return b.useEffect(()=>{if(!t)return;const g=()=>{s(Vh.getStats()),l(_R.getStats()),u(wR.getStatus())};g();const v=setInterval(g,2e3),y=(x,_)=>{h(S=>[...S,{event:x,data:_,timestamp:Date.now()}].slice(-50))};return Vh.addObserver(y),()=>{clearInterval(v),Vh.removeObserver(y)}},[t]),null},Sge=B_("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),hH=b.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:qe(Sge({variant:e}),t),...r}));hH.displayName="Alert";const pH=b.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:qe("mb-1 font-medium leading-none tracking-tight",t),...e}));pH.displayName="AlertTitle";const mH=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:qe("text-sm [&_p]:leading-relaxed",t),...e}));mH.displayName="AlertDescription";let Nge=class extends Q.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("QueryErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender({error:this.state.error,resetErrorBoundary:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()}}):a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"Erreur inconnue"}),a.jsxs(ue,{onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()},variant:"outline",children:[a.jsx(Kl,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}):this.props.children}};const Cge=({children:t})=>{const{reset:e}=m9();return a.jsx(Nge,{onReset:e,fallbackRender:({error:r,resetErrorBoundary:n})=>a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs(hH,{className:"max-w-md",children:[a.jsx(rf,{className:"h-4 w-4"}),a.jsx(pH,{children:"Erreur de chargement"}),a.jsxs(mH,{className:"mt-2",children:["Une erreur est survenue lors du chargement des données.",a.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:r.message})]}),a.jsxs(ue,{onClick:n,className:"mt-4",variant:"outline",children:[a.jsx(Kl,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}),children:t})},ph={theme:"light",notifications:{email:!0,push:!0,sms:!1},privacy:{profile_visibility:"public",show_online_status:!0,allow_messages:!0},security_settings:{two_factor_auth:!1,login_notifications:!0,session_timeout:30,require_password_change:!1,remember_me_enabled:!0,auto_logout:!0,max_session_age:7},customization:{primary_color:"#3B82F6",accent_color:"#10B981",font_size:"medium",animations_enabled:!0}},Ege=()=>{const{user:t}=Sr(),[e,r]=b.useState(ph),[n,i]=b.useState(!1),[s,o]=b.useState(null),l=async()=>{if(!t){r(ph),i(!1);return}try{i(!0),o(null);const h=localStorage.getItem(`maximarket-preferences-${t.id}`);if(h){const g=JSON.parse(h);r({...ph,...g})}else r(ph)}catch(h){console.error("Erreur lors du chargement des préférences:",h),o(h.message),r(ph)}finally{i(!1)}},c=async(h,g)=>{if(t)try{const v={...e},y=h.split(".");let x=v;for(let _=0;_<y.length-1;_++)x[y[_]]||(x[y[_]]={}),x=x[y[_]];x[y[y.length-1]]=g,r(v),localStorage.setItem(`maximarket-preferences-${t.id}`,JSON.stringify(v))}catch(v){console.error("Erreur lors de la mise à jour des préférences:",v),o(v.message)}},u=async h=>{if(t)try{const g={...e};Object.entries(h).forEach(([v,y])=>{const x=v.split(".");let _=g;for(let S=0;S<x.length-1;S++)_[x[S]]||(_[x[S]]={}),_=_[x[S]];_[x[x.length-1]]=y}),r(g),localStorage.setItem(`maximarket-preferences-${t.id}`,JSON.stringify(g))}catch(g){console.error("Erreur lors de la mise à jour des préférences:",g),o(g.message)}},d=async()=>{if(t)try{r(ph),localStorage.removeItem(`maximarket-preferences-${t.id}`)}catch(h){console.error("Erreur lors de la réinitialisation des préférences:",h),o(h.message)}};return b.useEffect(()=>{l()},[t]),{preferences:e,loading:n,error:s,updatePreference:c,updateMultiplePreferences:u,resetPreferences:d,reloadPreferences:l}},Pge=()=>{const{session:t,logout:e,isRememberMe:r}=Sr(),{preferences:n}=Ege(),i=b.useRef(null),s=b.useRef(Date.now()),o=b.useCallback(()=>{if(s.current=Date.now(),i.current&&clearTimeout(i.current),!t||r||!n?.security_settings?.auto_logout)return;const u=(n.security_settings.session_timeout||30)*60*1e3;i.current=setTimeout(()=>{console.log("🕐 Inactivité détectée, déconnexion automatique"),e()},u)},[t,r,n,e]),l=b.useCallback(()=>{o()},[o]);return b.useEffect(()=>{if(!t)return;const c=["mousedown","mousemove","keypress","keydown","scroll","touchstart","click","focus","input","change"];return c.forEach(u=>{document.addEventListener(u,l,{passive:!0})}),o(),()=>{c.forEach(u=>{document.removeEventListener(u,l)}),i.current&&clearTimeout(i.current)}},[t,l,o]),b.useEffect(()=>{!t&&i.current&&clearTimeout(i.current)},[t]),{lastActivity:s.current,resetTimer:o}},kge=()=>(Pge(),null),Tge=({children:t})=>gr?t:a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",color:"#fff",fontFamily:"Arial, sans-serif",padding:"20px",textAlign:"center"},children:a.jsxs("div",{children:[a.jsx("h1",{style:{color:"#e74c3c",marginBottom:"20px"},children:"⚠️ Configuration Supabase requise"}),a.jsx("p",{style:{marginBottom:"15px"},children:"L'application nécessite la configuration des variables Supabase."}),a.jsxs("div",{style:{backgroundColor:"#2c3e50",padding:"15px",borderRadius:"5px",textAlign:"left",marginBottom:"20px"},children:[a.jsx("strong",{children:"Variables requises dans Vercel :"}),a.jsxs("div",{style:{marginTop:"10px",fontFamily:"monospace"},children:["VITE_SUPABASE_URL",a.jsx("br",{}),"VITE_SUPABASE_ANON_KEY"]})]}),a.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},children:"🔄 Recharger"})]})});async function Age(t,e={},r="mistral-small-latest",n,i){const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t,context:e,model:r,stream:!0}),signal:i});if(!s.ok||!s.body){const d=await s.json().catch(()=>({}));throw new Error(d?.error||"Chat API error")}const o=s.body.getReader(),l=new TextDecoder;let c="",u="";for(;;){const{value:d,done:h}=await o.read();if(h)break;c+=l.decode(d,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)if(v.startsWith("data: ")){const y=v.slice(6);if(y==="[DONE]")continue;try{const _=JSON.parse(y)?.choices?.[0]?.delta?.content||"";_&&(u+=_,n?.(u))}catch{}}}}const tt=Q.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:qe("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-foreground",t),ref:n,...r}));tt.displayName="Input";const Oge=["Dakar","Thiès","Saint-Louis","Kaolack","Ziguinchor","Touba","Mbour","Rufisque","Pikine","Guédiawaye","Cotonou","Porto-Novo","Abomey-Calavi","Parakou","Djougou","Bohicon","Kandi","Lokossa","Ouidah","Natitingou","Lomé","Sokodé","Kara","Kpalimé","Atakpamé","Bassar","Tsévié","Aného","Dapaong","Mango","Abidjan","Bouaké","Daloa","Yamoussoukro","San-Pédro","Korhogo","Man","Abengourou","Gagnoa","Anyama","Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"],pF=["toyota","peugeot","renault","citroën","citroen","ford","volkswagen","vw","bmw","mercedes","audi","honda","nissan","hyundai","kia","dacia","opel","fiat","chevrolet","mazda","suzuki"];function eT(t){if(!t||typeof t!="string")return{section:"marketplace",params:{sort:"popular"}};const e=t.trim(),r=e.toLowerCase(),n=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=n.replace(/[\s-]/g,""),s=x=>{const _=x.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),S=_.replace(/[\s-]/g,"");return n.includes(_)||i.includes(S)},o=Oge.find(x=>s(x));let l,c;const u=r.match(/(\d+[\.,]?\d*)\s*(k|m)?/gi)||[],d=x=>{const _=x.match(/(\d+[\.,]?\d*)\s*(k|m)?/i);if(!_)return null;const S=parseFloat(_[1].replace(",",".")),N=_[2]?_[2].toLowerCase()==="m"?1e6:1e3:1;return Math.round(S*N)};if(u.length>=2&&/entre|et|-/i.test(r)){const x=d(u[0]),_=d(u[1]);x&&_&&(l=Math.min(x,_),c=Math.max(x,_))}else/max|<=|<\s*/i.test(r)&&u[0]?c=d(u[0]):/min|>=|>\s*/i.test(r)&&u[0]?l=d(u[0]):u.length===1&&(c=d(u[0]));let h="marketplace";/\b(appartement|maison|terrain|studio|immobilier|villa|pi[eè]ces|m²|m2)\b/i.test(r)?h="immobilier":/\b(voiture|auto|car|moto|scooter|camion|camionnette|vehicule|véhicule)\b/i.test(r)||pF.some(x=>r.includes(x))?h="automobile":/\b(plombier|electricien|électricien|menage|ménage|jardinage|coiffure|réparation|reparation|d[eé]m[eé]nagement|cours|prof|service|informatique|evenementiel|événementiel)\b/i.test(r)&&(h="services");let g;const v=pF.find(x=>r.includes(x));v&&(g=v);const y={search:e,sort:"popular"};return o&&(y.location=o),l&&(y.minPrice=String(l)),c&&(y.maxPrice=String(c)),g&&h==="automobile"&&(y.brand=g),{section:h,params:y}}const Rge=({pageContext:t={}})=>{const{user:e}=Sr(),[r,n]=b.useState(!1),[i,s]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState([]),[d,h]=b.useState([]),[g,v]=b.useState(null),[y,x]=b.useState(!1),[_,S]=b.useState(!1),[N,C]=b.useState(!1),A=b.useRef(null),k=b.useRef(null),P=b.useMemo(()=>({path:window.location.pathname,...typeof window<"u"&&window.__MAXIMARKET_CONTEXT?window.__MAXIMARKET_CONTEXT:{},...t}),[t]);b.useEffect(()=>{const z=localStorage.getItem("chatbot_conversations");if(z)try{const W=JSON.parse(z);Array.isArray(W)&&h(W)}catch(W){console.error("Erreur parsing conversations:",W)}},[]),b.useEffect(()=>{d.length>0&&localStorage.setItem("chatbot_conversations",JSON.stringify(d))},[d]),b.useEffect(()=>{const z=()=>S(window.matchMedia("(max-width: 640px)").matches);return z(),window.addEventListener("resize",z),()=>window.removeEventListener("resize",z)},[]);const O=async()=>{const z=i.trim();if(!z||o)return;if(c.length===0){const J=Date.now().toString();v(J),h(se=>[...se,{id:J,title:z.length>30?z.substring(0,30)+"...":z,date:new Date().toLocaleDateString(),messages:[]}])}const W=[...c,{role:"user",content:z}];u(W),s(""),l(!0);try{const J=/^(yo|salut|bonjour|hello|hi|hey|ciao|hola|bonsoir|bonne\s+nuit)$/i.test(z.trim()),se=/\b(appartement|maison|voiture|service|immobilier|auto|plombier|electricien|terrain|studio|villa|moto|scooter|camion|menage|jardinage|coiffure|reparation|demenagement|cours|prof|informatique|evenementiel)\b/i.test(z.toLowerCase()),K=/\d+\s*(k|m|xof|frs?)|(dakar|abidjan|lome|cotonou|thiès|saint-louis|kaolack|ziguinchor|touba|mbour|rufisque|pikine|guediawaye)/i.test(z.toLowerCase());let ee=null,G="",ne=[];if(x(!1),!J&&(se||K)&&(ee=eT(z)),ee){const{section:Ne,params:Le}=ee,ae={...Le,category:{immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[Ne]||void 0,limit:3,page:0,status:"approved"};try{const ge=await Rr.getAllListings(ae);ge?.data?.length&&(ne=ge.data.slice(0,3).map(he=>({id:he.id,title:he.title,price:he.price})),G+=`J'ai trouvé ${ge.data.length} résultats. Voici quelques suggestions:
`+ne.map(he=>`• ${he.title} — ${he.price??""} XOF (ouvrir: /annonce/${he.id})`).join(`
`)+`

`,x(!0))}catch{}}u(Ne=>[...Ne,{role:"assistant",content:G}]);const Y=W.length;let oe="";k.current?.abort();const xe=new AbortController;k.current=xe,await Age(W,{...P,intent:ee},void 0,Ne=>{oe=Ne;const Le=G+oe;u(ce=>ce.map((ae,ge)=>ge===Y?{...ae,content:Le}:ae))},xe.signal),setTimeout(()=>A.current?.scrollTo({top:A.current.scrollHeight,behavior:"smooth"}),50)}catch(J){if(J?.name!=="AbortError"){console.error("Chat error:",J);let se="Une erreur serveur est survenue côté assistant.";J.message?.includes("API configuration error")?se="Erreur de configuration API. Veuillez contacter l'administrateur.":J.message?.includes("401")||J.message?.includes("Unauthorized")?se="Erreur d'authentification API. Veuillez réessayer plus tard.":J.message?.includes("429")||J.message?.includes("Too Many Requests")?se="Limite de requêtes atteinte. Veuillez réessayer dans quelques minutes.":(J.message?.includes("500")||J.message?.includes("Internal Server Error"))&&(se="Erreur serveur temporaire. Veuillez réessayer dans un instant.");const K="Bonjour. Je reste à votre disposition pour la recherche et vos questions.",ee=y?`${se} Vous pouvez cliquer sur « Voir plus » pour ouvrir tous les résultats, ou réessayer dans un instant.`:`${se} Veuillez réessayer dans un instant ou lancer la recherche complète depuis le marketplace.`;u(G=>[...G,{role:"assistant",content:K},{role:"assistant",content:ee}])}}finally{l(!1)}},I=()=>{try{k.current?.abort()}catch{}if(c.length>0&&g){const W=c.find(K=>K.role==="user")?.content||"Nouvelle conversation",J=W.length>30?W.substring(0,30)+"...":W,se=d.map(K=>K.id===g?{...K,messages:c,title:J}:K);h(se)}const z=Date.now().toString();v(z),u([]),s(""),l(!1),setTimeout(()=>A.current?.scrollTo({top:0,behavior:"smooth"}),50)},F=()=>{const z=[],W=c.filter(ee=>ee.role==="user").map(ee=>ee.content.toLowerCase()),J=W.some(ee=>ee.includes("immobilier")||ee.includes("appartement")||ee.includes("maison")||ee.includes("terrain")),se=W.some(ee=>ee.includes("voiture")||ee.includes("auto")||ee.includes("véhicule")),K=W.some(ee=>ee.includes("service")||ee.includes("plomberie")||ee.includes("électricité"));return J&&(z.push("Appartements 2 chambres à Dakar"),z.push("Terrains constructibles")),se&&(z.push("Voitures d'occasion récentes"),z.push("Motos économiques")),K&&(z.push("Services de nettoyage"),z.push("Réparation électroménager")),z.length===0&&z.push("Immobilier à Dakar","Voitures < 3 000 000 XOF"),z.slice(0,3)},H=()=>d.map(z=>({id:z.id,title:z.title||"Conversation sans titre",date:z.date||new Date(z.id).toLocaleDateString(),messageCount:z.messages?.length||0})).slice(-10).reverse(),V=()=>{const z=c.filter(se=>se.role==="user").length,W=c.filter(se=>se.role==="assistant").length,J=c.length;return{userMessages:z,assistantMessages:W,totalMessages:J,sessionDuration:c.length>0?Math.floor((Date.now()-new Date().getTime())/6e4):0}},U=(z,W={})=>{switch(z){case"publish_listing":window.location.href="/creer-annonce";break;case"my_listings":e?window.location.href="/mes-annonces":u(J=>[...J,{role:"assistant",content:"Vous devez être connecté pour voir vos annonces. Connectez-vous d'abord."}]);break;case"contact_seller":P.listing?.sellerId?window.location.href=`/annonce/${P.listing.id}#contact`:u(J=>[...J,{role:"assistant",content:"Informations de contact non disponibles pour cette annonce."}]);break;case"share_listing":if(P.listing?.id){const J=`${window.location.origin}/annonce/${P.listing.id}`;navigator.share?navigator.share({title:P.listing.title||"Annonce MaxiMarket",url:J}):(navigator.clipboard.writeText(J),u(se=>[...se,{role:"assistant",content:"Lien copié dans le presse-papiers !"}]))}break}};return a.jsxs("div",{children:[!r&&a.jsx("button",{onClick:()=>n(!0),"aria-label":"Ouvrir le chat",style:{position:"fixed",bottom:"calc(16px + env(safe-area-inset-bottom, 0px))",right:"calc(16px + env(safe-area-inset-right, 0px))",zIndex:9999,width:56,height:56,borderRadius:14,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"white",border:"1px solid #1f2937",boxShadow:"0 10px 30px rgba(0,0,0,0.55)",display:"grid",placeItems:"center"},children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M21 12c0 4.418-4.03 8-9 8-1.032 0-2.021-.152-2.94-.432L3 21l1.49-4.47C3.55 15.19 3 13.65 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8Z",stroke:"#e5e7eb",strokeWidth:"1.2"}),a.jsx("path",{d:"M7.5 11h9M7.5 14h5",stroke:"#9ca3af",strokeWidth:"1.2",strokeLinecap:"round"})]})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{onClick:()=>{n(!1),C(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,background:"rgba(0,0,0,0.3)"}}),N&&a.jsx("div",{onClick:()=>C(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9997,background:"transparent"}}),a.jsxs("div",{style:{position:"fixed",bottom:_?"calc(16px + env(safe-area-inset-bottom, 0px))":20,right:_?"calc(16px + env(safe-area-inset-right, 0px))":20,left:"auto",top:"auto",zIndex:9999,width:_?"80vw":420,maxWidth:"95vw",height:_?"90vw":560,maxHeight:"78vh",background:"#0b0f14",border:"1px solid #111827",borderRadius:16,display:"flex",flexDirection:"column",boxShadow:"0 18px 38px rgba(0,0,0,0.6)"},children:[a.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #1f2937",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#0e141b",position:_?"sticky":"static",top:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsx("button",{onClick:()=>C(!N),style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"#fff",display:"grid",placeItems:"center",border:"1px solid #1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="linear-gradient(135deg,#1f2937,#111827)",onMouseLeave:z=>z.target.style.background="linear-gradient(135deg,#111827,#0b0f14)",children:N?a.jsxs("div",{style:{position:"relative",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(45deg)",transition:"all 0.2s"}}),a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(-45deg)",transition:"all 0.2s"}})]}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}})]})}),N&&a.jsxs("div",{onClick:z=>z.stopPropagation(),style:{position:"absolute",top:"100%",left:0,width:280,background:"#0b0f14",border:"1px solid #1f2937",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",zIndex:1e4,marginTop:8,padding:16},children:[a.jsxs("div",{style:{borderBottom:"1px solid #1f2937",paddingBottom:12,marginBottom:12},children:[a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:14,marginBottom:4},children:"Assistant MaxiMarket"}),a.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:[V().totalMessages," messages • ",V().userMessages," recherches"]})]}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"CONVERSATIONS RÉCENTES"}),a.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:H().length>0?H().map((z,W)=>a.jsx("button",{onClick:()=>{const J=d.find(se=>se.id===z.id);J&&(u(J.messages||[]),v(z.id),C(!1))},style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",color:"#e5e7eb",fontSize:12,textAlign:"left",borderRadius:6,cursor:"pointer",marginBottom:2,transition:"all 0.2s"},onMouseEnter:J=>J.target.style.background="#1f2937",onMouseLeave:J=>J.target.style.background="transparent",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:"#6b7280"}}),a.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[a.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:z.title}),a.jsxs("div",{style:{fontSize:10,color:"#9ca3af"},children:[z.date," • ",z.messageCount," messages"]})]})]})},z.id)):a.jsx("div",{style:{fontSize:12,color:"#6b7280",fontStyle:"italic"},children:"Aucune conversation récente"})})]}),a.jsxs("div",{style:{borderTop:"1px solid #1f2937",paddingTop:12},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"ACTIONS RAPIDES"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[a.jsx("button",{onClick:()=>{U("publish_listing"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="#1f2937",onMouseLeave:z=>z.target.style.background="transparent",children:"📝 Publier une annonce"}),e&&a.jsx("button",{onClick:()=>{U("my_listings"),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="#1f2937",onMouseLeave:z=>z.target.style.background="transparent",children:"📋 Mes annonces"}),a.jsx("button",{onClick:()=>{I(),C(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:z=>z.target.style.background="#1f2937",onMouseLeave:z=>z.target.style.background="transparent",children:"🆕 Nouveau chat"})]})]})]})]}),a.jsx("div",{children:a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:15},children:"Assistant MaxiMarket"})})]}),a.jsxs("div",{style:{display:"flex",gap:6},children:[a.jsx("button",{onClick:I,title:"Nouveau chat","aria-label":"Nouveau chat",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontWeight:600,fontSize:16},children:"+"}),o&&a.jsx("button",{onClick:()=>k.current?.abort(),title:"Arrêter",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:12,fontWeight:600},children:"⏹"}),a.jsx("button",{onClick:()=>{n(!1),C(!1)},"aria-label":"Fermer",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:16,fontWeight:600},children:"×"})]})]}),a.jsxs("div",{ref:A,style:{flex:1,overflowY:"auto",padding:14,paddingBottom:"calc(14px + env(safe-area-inset-bottom, 0px))"},children:[c.length===0&&a.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:["Bonjour. Je suis l'assistant Maximarket. Indiquez ce que vous recherchez (catégorie, budget, ville) ou posez votre question.",a.jsx("div",{style:{marginTop:10,display:"flex",flexWrap:"wrap",gap:8},children:[...F(),"Publier une annonce","Services plomberie",e?"Voir mes annonces":"Se connecter"].map((z,W)=>a.jsx("button",{onClick:()=>{z==="Publier une annonce"?U("publish_listing"):z==="Voir mes annonces"?U("my_listings"):z==="Se connecter"?window.location.href="/connexion":s(z)},style:{padding:"6px 10px",border:"1px solid #374151",borderRadius:999,background:"#0e141b",color:"#e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:J=>J.target.style.background="#1f2937",onMouseLeave:J=>J.target.style.background="#0e141b",children:z},W))}),P.listing&&a.jsxs("div",{style:{marginTop:15,paddingTop:15,borderTop:"1px solid #1f2937"},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:"Actions rapides :"}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[a.jsx("button",{onClick:()=>U("contact_seller"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Contacter le vendeur"}),a.jsx("button",{onClick:()=>U("share_listing"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Partager"})]})]})]}),c.map((z,W)=>a.jsxs("div",{style:{margin:"10px 0",display:"flex",gap:10,alignItems:"flex-start"},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:z.role==="user"?"#111827":"#0e141b",color:"#e5e7eb",display:"grid",placeItems:"center",fontSize:12,border:"1px solid #1f2937"},children:z.role==="user"?"Vous":"AI"}),a.jsx("div",{style:{whiteSpace:"pre-wrap",background:z.role==="user"?"#0e141b":"#0b0f14",border:"1px solid #1f2937",color:"#e5e7eb",borderRadius:12,padding:"10px 12px",maxWidth:"85%"},children:z.content})]},W)),o&&a.jsx("div",{style:{color:"#9ca3af",fontSize:14},children:"Rédaction..."})]}),a.jsxs("div",{style:{display:"flex",gap:8,padding:12,paddingBottom:"calc(12px + env(safe-area-inset-bottom, 0px))",borderTop:"1px solid #1f2937",background:"#0e141b",borderBottomLeftRadius:16,borderBottomRightRadius:16},children:[a.jsx(tt,{value:i,onChange:z=>s(z.target.value),onKeyDown:z=>{z.key==="Enter"&&O()},placeholder:"Votre message...",style:{background:"#0b0f14",color:"#e5e7eb",borderColor:"#1f2937"}}),a.jsx(ue,{onClick:O,disabled:o||!i.trim(),style:{background:"#111827",border:"1px solid #1f2937"},children:"Envoyer"}),y&&a.jsx(ue,{variant:"outline",onClick:()=>{const z=c.filter(se=>se.role==="user").slice(-1)[0]?.content||"",W=eT(z),J=new URLSearchParams;W?.params?.search&&J.set("search",W.params.search),W?.params?.minPrice&&J.set("minPrice",W.params.minPrice),W?.params?.maxPrice&&J.set("maxPrice",W.params.maxPrice),W?.params?.location&&J.set("location",W.params.location),window.location.href=`/marketplace?${J.toString()}`},style:{border:"1px solid #374151",color:"#e5e7eb"},children:"Voir plus"})]})]})]})]})},mr={siteName:"MaxiMarket",tagline:"Votre Hub Innovant pour l'Afrique de l'Ouest",socials:{linkedin:"https://linkedin.com/in/yourusername",twitter:"https://twitter.com/yourusername",instagram:"https://instagram.com/yourusername",facebook:"https://facebook.com/yourusername",youtube:"https://youtube.com/yourusername"}},Mge=(t,e,r,n)=>{const i=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);Rd(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},mF={},tT=(t,e,r,n)=>{Rd(r)&&mF[r]||(Rd(r)&&(mF[r]=new Date),Mge(t,e,r,n))},gH=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},rT=(t,e,r)=>{t.loadNamespaces(e,gH(t,r))},gF=(t,e,r,n)=>{if(Rd(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return rT(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,gH(t,n))},Ige=(t,e,r={})=>!e.languages||!e.languages.length?(tT(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),Rd=t=>typeof t=="string",Lge=t=>typeof t=="object"&&t!==null,Dge=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,$ge={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Fge=t=>$ge[t],Bge=t=>t.replace(Dge,Fge);let nT={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Bge};const zge=(t={})=>{nT={...nT,...t}},qge=()=>nT;let vH;const Uge=t=>{vH=t},Vge=()=>vH,Wge={type:"3rdParty",init(t){zge(t.options.react),Uge(t)}},yH=b.createContext();class Hge{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Kge=(t,e)=>{const r=b.useRef();return b.useEffect(()=>{r.current=t},[t,e]),r.current},xH=(t,e,r,n)=>t.getFixedT(e,r,n),Gge=(t,e,r,n)=>b.useCallback(xH(t,e,r,n),[t,e,r,n]),Zge=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:i}=b.useContext(yH)||{},s=r||n||Vge();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Hge),!s){tT(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(P,O)=>Rd(O)?O:Lge(O)&&Rd(O.defaultValue)?O.defaultValue:Array.isArray(P)?P[P.length-1]:P,k=[A,{},!1];return k.t=A,k.i18n={},k.ready=!1,k}s.options.react?.wait&&tT(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...qge(),...s.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=t||i||s.options?.defaultNS;u=Rd(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every(A=>Ige(A,s,o)),h=Gge(s,e.lng||null,o.nsMode==="fallback"?u:u[0],c),g=()=>h,v=()=>xH(s,e.lng||null,o.nsMode==="fallback"?u:u[0],c),[y,x]=b.useState(g);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const S=Kge(_),N=b.useRef(!0);b.useEffect(()=>{const{bindI18n:A,bindI18nStore:k}=o;N.current=!0,!d&&!l&&(e.lng?gF(s,e.lng,u,()=>{N.current&&x(v)}):rT(s,u,()=>{N.current&&x(v)})),d&&S&&S!==_&&N.current&&x(v);const P=()=>{N.current&&x(v)};return A&&s?.on(A,P),k&&s?.store.on(k,P),()=>{N.current=!1,s&&A&&A?.split(" ").forEach(O=>s.off(O,P)),k&&s&&k.split(" ").forEach(O=>s.store.off(O,P))}},[s,_]),b.useEffect(()=>{N.current&&d&&x(g)},[s,c,d]);const C=[y,s,d];if(C.t=y,C.i18n=s,C.ready=d,d||!d&&!l)return C;throw new Promise(A=>{e.lng?gF(s,e.lng,u,()=>A()):rT(s,u,()=>A())})};function Yge({i18n:t,defaultNS:e,children:r}){const n=b.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return b.createElement(yH.Provider,{value:n},r)}const nf=(t="common")=>{const{t:e,i18n:r}=Zge(t),n=b.useCallback(h=>{r.changeLanguage(h),localStorage.setItem("i18nextLng",h),h==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=h)},[r]),i=r.language,s=["fr","en"],o=b.useMemo(()=>({fr:"Français",en:"English"}),[]),l=!1,c=b.useCallback((h,g="XOF")=>{const y={fr:{XOF:"XOF",EUR:"EUR"},en:{XOF:"XOF",EUR:"EUR",USD:"USD"}}[i]?.[g]||g;return new Intl.NumberFormat(i,{style:"currency",currency:y,minimumFractionDigits:0,maximumFractionDigits:0}).format(h)},[i]),u=b.useCallback((h,g="PP")=>{const y={fr:"fr-FR",en:"en-US"}[i]||"fr-FR";return g==="PP"?new Intl.DateTimeFormat(y,{year:"numeric",month:"long",day:"numeric"}).format(new Date(h)):g==="P"?new Intl.DateTimeFormat(y,{year:"numeric",month:"short",day:"numeric"}).format(new Date(h)):new Intl.DateTimeFormat(y).format(new Date(h))},[i]),d=b.useCallback(h=>{const g=new Date,v=new Date(h),y=Math.floor((g-v)/1e3),x={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[_,S]of Object.entries(x)){const N=Math.floor(y/S);if(N>=1){const A={fr:{year:N===1?"an":"ans",month:"mois",week:N===1?"semaine":"semaines",day:N===1?"jour":"jours",hour:N===1?"heure":"heures",minute:N===1?"minute":"minutes"},en:{year:N===1?"year":"years",month:N===1?"month":"months",week:N===1?"week":"weeks",day:N===1?"day":"days",hour:N===1?"hour":"hours",minute:N===1?"minute":"minutes"}}[i]?.[_]||_,k={fr:"il y a",en:"ago"}[i]||"";return`${N} ${A} ${k}`}}return{fr:"À l'instant",en:"Just now"}[i]||"Just now"},[i]);return{t:e,changeLanguage:n,currentLanguage:i,availableLanguages:s,languageNames:o,isRTL:l,formatCurrency:c,formatDate:u,formatDistanceToNow:d}};var Xge=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tr=Xge.reduce((t,e)=>{const r=ap(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function kR(t,e){t&&Ja.flushSync(()=>t.dispatchEvent(e))}function TR(t){const e=t+"CollectionProvider",[r,n]=Dr(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=ap(l),u=Q.forwardRef((x,_)=>{const{scope:S,children:N}=x,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",g=ap(d),v=Q.forwardRef((x,_)=>{const{scope:S,children:N,...C}=x,A=Q.useRef(null),k=at(_,A),P=s(d,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[h]:"",ref:k,children:N})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}function ky(t,e=globalThis?.document){const r=fr(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Jge="DismissableLayer",iT="dismissableLayer.update",Qge="dismissableLayer.pointerDownOutside",eve="dismissableLayer.focusOutside",vF,bH=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),U_=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(bH),[d,h]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=at(e,O=>h(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),N=d?x.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=rve(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=nve(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return ky(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(vF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),yF(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=vF)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),yF())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(iT,O),()=>document.removeEventListener(iT,O)},[]),a.jsx(tr.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,k.onPointerDownCapture)})});U_.displayName=Jge;var tve="DismissableLayerBranch",wH=b.forwardRef((t,e)=>{const r=b.useContext(bH),n=b.useRef(null),i=at(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(tr.div,{...t,ref:i})});wH.displayName=tve;function rve(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){_H(Qge,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function nve(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&_H(eve,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function yF(){const t=new CustomEvent(iT);document.dispatchEvent(t)}function _H(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?kR(i,s):i.dispatchEvent(s)}var ive=U_,sve=wH,iN=0;function AR(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xF()),document.body.insertAdjacentElement("beforeend",t[1]??xF()),iN++,()=>{iN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),iN--}},[])}function xF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sN="focusScope.autoFocusOnMount",aN="focusScope.autoFocusOnUnmount",bF={bubbles:!1,cancelable:!0},ave="FocusScope",OR=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=b.useState(null),u=fr(i),d=fr(s),h=b.useRef(null),g=at(e,x=>c(x)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let x=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?h.current=A:Uc(h.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||Uc(h.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&Uc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),b.useEffect(()=>{if(l){_F.add(v);const x=document.activeElement;if(!l.contains(x)){const S=new CustomEvent(sN,bF);l.addEventListener(sN,u),l.dispatchEvent(S),S.defaultPrevented||(ove(fve(jH(l)),{select:!0}),document.activeElement===x&&Uc(l))}return()=>{l.removeEventListener(sN,u),setTimeout(()=>{const S=new CustomEvent(aN,bF);l.addEventListener(aN,d),l.dispatchEvent(S),S.defaultPrevented||Uc(x??document.body,{select:!0}),l.removeEventListener(aN,d),_F.remove(v)},0)}}},[l,u,d,v]);const y=b.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const N=x.currentTarget,[C,A]=lve(N);C&&A?!x.shiftKey&&S===A?(x.preventDefault(),r&&Uc(C,{select:!0})):x.shiftKey&&S===C&&(x.preventDefault(),r&&Uc(A,{select:!0})):S===N&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(tr.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});OR.displayName=ave;function ove(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Uc(n,{select:e}),document.activeElement!==r)return}function lve(t){const e=jH(t),r=wF(e,t),n=wF(e.reverse(),t);return[r,n]}function jH(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function wF(t,e){for(const r of t)if(!cve(r,{upTo:e}))return r}function cve(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function uve(t){return t instanceof HTMLInputElement&&"select"in t}function Uc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&uve(t)&&e&&t.select()}}var _F=dve();function dve(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=jF(t,e),t.unshift(e)},remove(e){t=jF(t,e),t[0]?.resume()}}}function jF(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function fve(t){return t.filter(e=>e.tagName!=="A")}const hve=["top","right","bottom","left"],mu=Math.min,Ps=Math.max,Yb=Math.round,M0=Math.floor,ko=t=>({x:t,y:t}),pve={left:"right",right:"left",bottom:"top",top:"bottom"},mve={start:"end",end:"start"};function sT(t,e,r){return Ps(t,mu(e,r))}function Fl(t,e){return typeof t=="function"?t(e):t}function Bl(t){return t.split("-")[0]}function Gp(t){return t.split("-")[1]}function RR(t){return t==="x"?"y":"x"}function MR(t){return t==="y"?"height":"width"}function kl(t){return["top","bottom"].includes(Bl(t))?"y":"x"}function IR(t){return RR(kl(t))}function gve(t,e,r){r===void 0&&(r=!1);const n=Gp(t),i=IR(t),s=MR(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=Xb(o)),[o,Xb(o)]}function vve(t){const e=Xb(t);return[aT(t),e,aT(e)]}function aT(t){return t.replace(/start|end/g,e=>mve[e])}function yve(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function xve(t,e,r,n){const i=Gp(t);let s=yve(Bl(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(aT)))),s}function Xb(t){return t.replace(/left|right|bottom|top/g,e=>pve[e])}function bve(t){return{top:0,right:0,bottom:0,left:0,...t}}function SH(t){return typeof t!="number"?bve(t):{top:t,right:t,bottom:t,left:t}}function Jb(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function SF(t,e,r){let{reference:n,floating:i}=t;const s=kl(e),o=IR(e),l=MR(o),c=Bl(e),u=s==="y",d=n.x+n.width/2-i.width/2,h=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:d,y:n.y-i.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:h};break;case"left":v={x:n.x-i.width,y:h};break;default:v={x:n.x,y:n.y}}switch(Gp(e)){case"start":v[o]-=g*(r&&u?-1:1);break;case"end":v[o]+=g*(r&&u?-1:1);break}return v}const wve=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:h}=SF(u,n,c),g=n,v={},y=0;for(let x=0;x<l.length;x++){const{name:_,fn:S}=l[x],{x:N,y:C,data:A,reset:k}=await S({x:d,y:h,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=N??d,h=C??h,v={...v,[_]:{...v[_],...A}},k&&y<=50&&(y++,typeof k=="object"&&(k.placement&&(g=k.placement),k.rects&&(u=k.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:d,y:h}=SF(u,g,c)),x=-1)}return{x:d,y:h,placement:g,strategy:i,middlewareData:v}};async function wv(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:g=!1,padding:v=0}=Fl(e,t),y=SH(v),_=l[g?h==="floating"?"reference":"floating":h],S=Jb(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),N=h==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},k=Jb(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:N,offsetParent:C,strategy:c}):N);return{top:(S.top-k.top+y.top)/A.y,bottom:(k.bottom-S.bottom+y.bottom)/A.y,left:(S.left-k.left+y.left)/A.x,right:(k.right-S.right+y.right)/A.x}}const _ve=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Fl(t,e)||{};if(u==null)return{};const h=SH(d),g={x:r,y:n},v=IR(i),y=MR(v),x=await o.getDimensions(u),_=v==="y",S=_?"top":"left",N=_?"bottom":"right",C=_?"clientHeight":"clientWidth",A=s.reference[y]+s.reference[v]-g[v]-s.floating[y],k=g[v]-s.reference[v],P=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=P?P[C]:0;(!O||!await(o.isElement==null?void 0:o.isElement(P)))&&(O=l.floating[C]||s.floating[y]);const I=A/2-k/2,F=O/2-x[y]/2-1,H=mu(h[S],F),V=mu(h[N],F),U=H,z=O-x[y]-V,W=O/2-x[y]/2+I,J=sT(U,W,z),se=!c.arrow&&Gp(i)!=null&&W!==J&&s.reference[y]/2-(W<U?H:V)-x[y]/2<0,K=se?W<U?W-U:W-z:0;return{[v]:g[v]+K,data:{[v]:J,centerOffset:W-J-K,...se&&{alignmentOffset:K}},reset:se}}}),jve=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,..._}=Fl(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=Bl(i),N=kl(l),C=Bl(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),k=g||(C||!x?[Xb(l)]:vve(l)),P=y!=="none";!g&&P&&k.push(...xve(l,x,y,A));const O=[l,...k],I=await wv(e,_),F=[];let H=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&F.push(I[S]),h){const J=gve(i,o,A);F.push(I[J[0]],I[J[1]])}if(H=[...H,{placement:i,overflows:F}],!F.every(J=>J<=0)){var V,U;const J=(((V=s.flip)==null?void 0:V.index)||0)+1,se=O[J];if(se){var z;const ee=h==="alignment"?N!==kl(se):!1,G=((z=H[0])==null?void 0:z.overflows[0])>0;if(!ee||G)return{data:{index:J,overflows:H},reset:{placement:se}}}let K=(U=H.filter(ee=>ee.overflows[0]<=0).sort((ee,G)=>ee.overflows[1]-G.overflows[1])[0])==null?void 0:U.placement;if(!K)switch(v){case"bestFit":{var W;const ee=(W=H.filter(G=>{if(P){const ne=kl(G.placement);return ne===N||ne==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(ne=>ne>0).reduce((ne,Y)=>ne+Y,0)]).sort((G,ne)=>G[1]-ne[1])[0])==null?void 0:W[0];ee&&(K=ee);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function NF(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CF(t){return hve.some(e=>t[e]>=0)}const Sve=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Fl(t,e);switch(n){case"referenceHidden":{const s=await wv(e,{...i,elementContext:"reference"}),o=NF(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CF(o)}}}case"escaped":{const s=await wv(e,{...i,altBoundary:!0}),o=NF(s,r.floating);return{data:{escapedOffsets:o,escaped:CF(o)}}}default:return{}}}}};async function Nve(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Bl(r),l=Gp(r),c=kl(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,h=Fl(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:y}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return l&&typeof y=="number"&&(v=l==="end"?y*-1:y),c?{x:v*d,y:g*u}:{x:g*u,y:v*d}}const Cve=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await Nve(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},Eve=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:S,y:N}=_;return{x:S,y:N}}},...c}=Fl(t,e),u={x:r,y:n},d=await wv(e,c),h=kl(Bl(i)),g=RR(h);let v=u[g],y=u[h];if(s){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",N=v+d[_],C=v-d[S];v=sT(N,v,C)}if(o){const _=h==="y"?"top":"left",S=h==="y"?"bottom":"right",N=y+d[_],C=y-d[S];y=sT(N,y,C)}const x=l.fn({...e,[g]:v,[h]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:s,[h]:o}}}}}},Pve=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Fl(t,e),d={x:r,y:n},h=kl(i),g=RR(h);let v=d[g],y=d[h];const x=Fl(l,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const C=g==="y"?"height":"width",A=s.reference[g]-s.floating[C]+_.mainAxis,k=s.reference[g]+s.reference[C]-_.mainAxis;v<A?v=A:v>k&&(v=k)}if(u){var S,N;const C=g==="y"?"width":"height",A=["top","left"].includes(Bl(i)),k=s.reference[h]-s.floating[C]+(A&&((S=o.offset)==null?void 0:S[h])||0)+(A?0:_.crossAxis),P=s.reference[h]+s.reference[C]+(A?0:((N=o.offset)==null?void 0:N[h])||0)-(A?_.crossAxis:0);y<k?y=k:y>P&&(y=P)}return{[g]:v,[h]:y}}}},kve=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Fl(t,e),d=await wv(e,u),h=Bl(i),g=Gp(i),v=kl(i)==="y",{width:y,height:x}=s.floating;let _,S;h==="top"||h==="bottom"?(_=h,S=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=h,_=g==="end"?"top":"bottom");const N=x-d.top-d.bottom,C=y-d.left-d.right,A=mu(x-d[_],N),k=mu(y-d[S],C),P=!e.middlewareData.shift;let O=A,I=k;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(I=C),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=N),P&&!g){const H=Ps(d.left,0),V=Ps(d.right,0),U=Ps(d.top,0),z=Ps(d.bottom,0);v?I=y-2*(H!==0||V!==0?H+V:Ps(d.left,d.right)):O=x-2*(U!==0||z!==0?U+z:Ps(d.top,d.bottom))}await c({...e,availableWidth:I,availableHeight:O});const F=await o.getDimensions(l.floating);return y!==F.width||x!==F.height?{reset:{rects:!0}}:{}}}};function V_(){return typeof window<"u"}function Zp(t){return NH(t)?(t.nodeName||"").toLowerCase():"#document"}function Ms(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vo(t){var e;return(e=(NH(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NH(t){return V_()?t instanceof Node||t instanceof Ms(t).Node:!1}function Ya(t){return V_()?t instanceof Element||t instanceof Ms(t).Element:!1}function Lo(t){return V_()?t instanceof HTMLElement||t instanceof Ms(t).HTMLElement:!1}function EF(t){return!V_()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Ms(t).ShadowRoot}function Ty(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Xa(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Tve(t){return["table","td","th"].includes(Zp(t))}function W_(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function LR(t){const e=DR(),r=Ya(t)?Xa(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Ave(t){let e=gu(t);for(;Lo(e)&&!op(e);){if(LR(e))return e;if(W_(e))return null;e=gu(e)}return null}function DR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function op(t){return["html","body","#document"].includes(Zp(t))}function Xa(t){return Ms(t).getComputedStyle(t)}function H_(t){return Ya(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function gu(t){if(Zp(t)==="html")return t;const e=t.assignedSlot||t.parentNode||EF(t)&&t.host||Vo(t);return EF(e)?e.host:e}function CH(t){const e=gu(t);return op(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lo(e)&&Ty(e)?e:CH(e)}function _v(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=CH(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=Ms(i);if(s){const l=oT(o);return e.concat(o,o.visualViewport||[],Ty(i)?i:[],l&&r?_v(l):[])}return e.concat(i,_v(i,[],r))}function oT(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function EH(t){const e=Xa(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=Lo(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=Yb(r)!==s||Yb(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function $R(t){return Ya(t)?t:t.contextElement}function Wh(t){const e=$R(t);if(!Lo(e))return ko(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=EH(e);let o=(s?Yb(r.width):r.width)/n,l=(s?Yb(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Ove=ko(0);function PH(t){const e=Ms(t);return!DR()||!e.visualViewport?Ove:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Rve(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Ms(t)?!1:e}function qd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=$R(t);let o=ko(1);e&&(n?Ya(n)&&(o=Wh(n)):o=Wh(t));const l=Rve(s,r,n)?PH(s):ko(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,h=i.height/o.y;if(s){const g=Ms(s),v=n&&Ya(n)?Ms(n):n;let y=g,x=oT(y);for(;x&&n&&v!==y;){const _=Wh(x),S=x.getBoundingClientRect(),N=Xa(x),C=S.left+(x.clientLeft+parseFloat(N.paddingLeft))*_.x,A=S.top+(x.clientTop+parseFloat(N.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,h*=_.y,c+=C,u+=A,y=Ms(x),x=oT(y)}}return Jb({width:d,height:h,x:c,y:u})}function FR(t,e){const r=H_(t).scrollLeft;return e?e.left+r:qd(Vo(t)).left+r}function kH(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:FR(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function Mve(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Vo(n),l=e?W_(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=ko(1);const d=ko(0),h=Lo(n);if((h||!h&&!s)&&((Zp(n)!=="body"||Ty(o))&&(c=H_(n)),Lo(n))){const v=qd(n);u=Wh(n),d.x=v.x+n.clientLeft,d.y=v.y+n.clientTop}const g=o&&!h&&!s?kH(o,c,!0):ko(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-c.scrollTop*u.y+d.y+g.y}}function Ive(t){return Array.from(t.getClientRects())}function Lve(t){const e=Vo(t),r=H_(t),n=t.ownerDocument.body,i=Ps(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=Ps(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+FR(t);const l=-r.scrollTop;return Xa(n).direction==="rtl"&&(o+=Ps(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function Dve(t,e){const r=Ms(t),n=Vo(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=DR();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function $ve(t,e){const r=qd(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=Lo(t)?Wh(t):ko(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function PF(t,e,r){let n;if(e==="viewport")n=Dve(t,r);else if(e==="document")n=Lve(Vo(t));else if(Ya(e))n=$ve(e,r);else{const i=PH(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Jb(n)}function TH(t,e){const r=gu(t);return r===e||!Ya(r)||op(r)?!1:Xa(r).position==="fixed"||TH(r,e)}function Fve(t,e){const r=e.get(t);if(r)return r;let n=_v(t,[],!1).filter(l=>Ya(l)&&Zp(l)!=="body"),i=null;const s=Xa(t).position==="fixed";let o=s?gu(t):t;for(;Ya(o)&&!op(o);){const l=Xa(o),c=LR(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Ty(o)&&!c&&TH(t,o))?n=n.filter(d=>d!==o):i=l,o=gu(o)}return e.set(t,n),n}function Bve(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?W_(e)?[]:Fve(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const h=PF(e,d,i);return u.top=Ps(h.top,u.top),u.right=mu(h.right,u.right),u.bottom=mu(h.bottom,u.bottom),u.left=Ps(h.left,u.left),u},PF(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zve(t){const{width:e,height:r}=EH(t);return{width:e,height:r}}function qve(t,e,r){const n=Lo(e),i=Vo(e),s=r==="fixed",o=qd(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=ko(0);function u(){c.x=FR(i)}if(n||!n&&!s)if((Zp(e)!=="body"||Ty(i))&&(l=H_(e)),n){const v=qd(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&u();s&&!n&&i&&u();const d=i&&!n&&!s?kH(i,l):ko(0),h=o.left+l.scrollLeft-c.x-d.x,g=o.top+l.scrollTop-c.y-d.y;return{x:h,y:g,width:o.width,height:o.height}}function oN(t){return Xa(t).position==="static"}function kF(t,e){if(!Lo(t)||Xa(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Vo(t)===r&&(r=r.ownerDocument.body),r}function AH(t,e){const r=Ms(t);if(W_(t))return r;if(!Lo(t)){let i=gu(t);for(;i&&!op(i);){if(Ya(i)&&!oN(i))return i;i=gu(i)}return r}let n=kF(t,e);for(;n&&Tve(n)&&oN(n);)n=kF(n,e);return n&&op(n)&&oN(n)&&!LR(n)?r:n||Ave(t)||r}const Uve=async function(t){const e=this.getOffsetParent||AH,r=this.getDimensions,n=await r(t.floating);return{reference:qve(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Vve(t){return Xa(t).direction==="rtl"}const Wve={convertOffsetParentRelativeRectToViewportRelativeRect:Mve,getDocumentElement:Vo,getClippingRect:Bve,getOffsetParent:AH,getElementRects:Uve,getClientRects:Ive,getDimensions:zve,getScale:Wh,isElement:Ya,isRTL:Vve};function OH(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Hve(t,e){let r=null,n;const i=Vo(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:h,width:g,height:v}=u;if(l||e(),!g||!v)return;const y=M0(h),x=M0(i.clientWidth-(d+g)),_=M0(i.clientHeight-(h+v)),S=M0(d),C={rootMargin:-y+"px "+-x+"px "+-_+"px "+-S+"px",threshold:Ps(0,mu(1,c))||1};let A=!0;function k(P){const O=P[0].intersectionRatio;if(O!==c){if(!A)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!OH(u,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(k,{...C,root:i.ownerDocument})}catch{r=new IntersectionObserver(k,C)}r.observe(t)}return o(!0),s}function Ay(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=$R(t),d=i||s?[...u?_v(u):[],..._v(e)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const h=u&&l?Hve(u,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(S=>{let[N]=S;N&&N.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var C;(C=v)==null||C.observe(e)})),r()}),u&&!c&&v.observe(u),v.observe(e));let y,x=c?qd(t):null;c&&_();function _(){const S=qd(t);x&&!OH(x,S)&&r(),x=S,y=requestAnimationFrame(_)}return r(),()=>{var S;d.forEach(N=>{i&&N.removeEventListener("scroll",r),s&&N.removeEventListener("resize",r)}),h?.(),(S=v)==null||S.disconnect(),v=null,c&&cancelAnimationFrame(y)}}const Kve=Cve,Gve=Eve,Zve=jve,Yve=kve,Xve=Sve,TF=_ve,Jve=Pve,Qve=(t,e,r)=>{const n=new Map,i={platform:Wve,...r},s={...i.platform,_c:n};return wve(t,e,{...i,platform:s})};var bb=typeof document<"u"?b.useLayoutEffect:b.useEffect;function Qb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Qb(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!Qb(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function RH(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function AF(t,e){const r=RH(t);return Math.round(e*r)/r}function lN(t){const e=b.useRef(t);return bb(()=>{e.current=t}),e}function Oy(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,h]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=b.useState(n);Qb(g,n)||v(n);const[y,x]=b.useState(null),[_,S]=b.useState(null),N=b.useCallback(ee=>{ee!==P.current&&(P.current=ee,x(ee))},[]),C=b.useCallback(ee=>{ee!==O.current&&(O.current=ee,S(ee))},[]),A=s||y,k=o||_,P=b.useRef(null),O=b.useRef(null),I=b.useRef(d),F=c!=null,H=lN(c),V=lN(i),U=lN(u),z=b.useCallback(()=>{if(!P.current||!O.current)return;const ee={placement:e,strategy:r,middleware:g};V.current&&(ee.platform=V.current),Qve(P.current,O.current,ee).then(G=>{const ne={...G,isPositioned:U.current!==!1};W.current&&!Qb(I.current,ne)&&(I.current=ne,Ja.flushSync(()=>{h(ne)}))})},[g,e,r,V,U]);bb(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,h(ee=>({...ee,isPositioned:!1})))},[u]);const W=b.useRef(!1);bb(()=>(W.current=!0,()=>{W.current=!1}),[]),bb(()=>{if(A&&(P.current=A),k&&(O.current=k),A&&k){if(H.current)return H.current(A,k,z);z()}},[A,k,z,H,F]);const J=b.useMemo(()=>({reference:P,floating:O,setReference:N,setFloating:C}),[N,C]),se=b.useMemo(()=>({reference:A,floating:k}),[A,k]),K=b.useMemo(()=>{const ee={position:r,left:0,top:0};if(!se.floating)return ee;const G=AF(se.floating,d.x),ne=AF(se.floating,d.y);return l?{...ee,transform:"translate("+G+"px, "+ne+"px)",...RH(se.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:G,top:ne}},[r,l,se.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:z,refs:J,elements:se,floatingStyles:K}),[d,z,J,se,K])}const eye=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?TF({element:n.current,padding:i}).fn(r):{}:n?TF({element:n,padding:i}).fn(r):{}}}},Ry=(t,e)=>({...Kve(t),options:[t,e]}),My=(t,e)=>({...Gve(t),options:[t,e]}),Iy=(t,e)=>({...Jve(t),options:[t,e]}),Ly=(t,e)=>({...Zve(t),options:[t,e]}),Dy=(t,e)=>({...Yve(t),options:[t,e]}),$y=(t,e)=>({...Xve(t),options:[t,e]}),Fy=(t,e)=>({...eye(t),options:[t,e]});var tye="Arrow",MH=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(tr.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});MH.displayName=tye;var rye=MH;function sf(t){const[e,r]=b.useState(void 0);return or(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var BR="Popper",[IH,LH]=Dr(BR),[nye,DH]=IH(BR),$H=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return a.jsx(nye,{scope:e,anchor:n,onAnchorChange:i,children:r})};$H.displayName=BR;var FH="PopperAnchor",BH=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=DH(FH,r),o=b.useRef(null),l=at(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(tr.div,{...i,ref:l})});BH.displayName=FH;var zR="PopperContent",[iye,sye]=IH(zR),zH=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=DH(zR,r),[S,N]=b.useState(null),C=at(e,ae=>N(ae)),[A,k]=b.useState(null),P=sf(A),O=P?.width??0,I=P?.height??0,F=n+(s!=="center"?"-"+s:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:H,boundary:V.filter(oye),altBoundary:U},{refs:W,floatingStyles:J,placement:se,isPositioned:K,middlewareData:ee}=Oy({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>Ay(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Ry({mainAxis:i+I,alignmentAxis:o}),c&&My({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Iy():void 0,...z}),c&&Ly({...z}),Dy({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:X}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${X}px`)}}),A&&Fy({element:A,padding:l}),lye({arrowWidth:O,arrowHeight:I}),g&&$y({strategy:"referenceHidden",...z})]}),[G,ne]=VH(se),Y=fr(y);or(()=>{K&&Y?.()},[K,Y]);const oe=ee.arrow?.x,xe=ee.arrow?.y,Ne=ee.arrow?.centerOffset!==0,[Le,ce]=b.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(iye,{scope:r,placedSide:G,onArrowChange:k,arrowX:oe,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(tr.div,{"data-side":G,"data-align":ne,...x,ref:C,style:{...x.style,animation:K?void 0:"none"}})})})});zH.displayName=zR;var qH="PopperArrow",aye={top:"bottom",right:"left",bottom:"top",left:"right"},UH=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=sye(qH,n),o=aye[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(rye,{...i,ref:r,style:{...i.style,display:"block"}})})});UH.displayName=qH;function oye(t){return t!==null}var lye=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=VH(r),h={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?h:`${g}px`,x=`${-c}px`):u==="top"?(y=o?h:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?h:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?h:`${v}px`),{data:{x:y,y:x}}}});function VH(t){const[e,r="center"]=t.split("-");return[e,r]}var cye=$H,uye=BH,dye=zH,fye=UH,hye="Portal",K_=b.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=b.useState(!1);or(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?S_.createPortal(a.jsx(tr.div,{...n,ref:e}),o):null});K_.displayName=hye;var cN="rovingFocusGroup.onEntryFocus",pye={bubbles:!1,cancelable:!0},By="RovingFocusGroup",[lT,WH,mye]=TR(By),[gye,HH]=Dr(By,[mye]),[vye,yye]=gye(By),KH=b.forwardRef((t,e)=>a.jsx(lT.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(lT.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(xye,{...t,ref:e})})}));KH.displayName=By;var xye=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=t,g=b.useRef(null),v=at(e,g),y=Kp(s),[x,_]=as({prop:o,defaultProp:l??null,onChange:c,caller:By}),[S,N]=b.useState(!1),C=fr(u),A=WH(r),k=b.useRef(!1),[P,O]=b.useState(0);return b.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(cN,C),()=>I.removeEventListener(cN,C)},[C]),a.jsx(vye,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:x,onItemFocus:b.useCallback(I=>_(I),[_]),onItemShiftTab:b.useCallback(()=>N(!0),[]),onFocusableItemAdd:b.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>O(I=>I-1),[]),children:a.jsx(tr.div,{tabIndex:S||P===0?-1:0,"data-orientation":n,...h,ref:v,style:{outline:"none",...t.style},onMouseDown:Ve(t.onMouseDown,()=>{k.current=!0}),onFocus:Ve(t.onFocus,I=>{const F=!k.current;if(I.target===I.currentTarget&&F&&!S){const H=new CustomEvent(cN,pye);if(I.currentTarget.dispatchEvent(H),!H.defaultPrevented){const V=A().filter(se=>se.focusable),U=V.find(se=>se.active),z=V.find(se=>se.id===x),J=[U,z,...V].filter(Boolean).map(se=>se.ref.current);YH(J,d)}}k.current=!1}),onBlur:Ve(t.onBlur,()=>N(!1))})})}),GH="RovingFocusGroupItem",ZH=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=ns(),u=s||c,d=yye(GH,r),h=d.currentTabStopId===u,g=WH(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:x}=d;return b.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),a.jsx(lT.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(tr.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Ve(t.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:Ve(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Ve(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=_ye(_,d.orientation,d.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let C=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")C.reverse();else if(S==="prev"||S==="next"){S==="prev"&&C.reverse();const A=C.indexOf(_.currentTarget);C=d.loop?jye(C,A+1):C.slice(A+1)}setTimeout(()=>YH(C))}}),children:typeof o=="function"?o({isCurrentTabStop:h,hasTabStop:x!=null}):o})})});ZH.displayName=GH;var bye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wye(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function _ye(t,e,r){const n=wye(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return bye[n]}function YH(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function jye(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var Sye=KH,Nye=ZH,Cye=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},mh=new WeakMap,I0=new WeakMap,L0={},uN=0,XH=function(t){return t&&(t.host||XH(t.parentNode))},Eye=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=XH(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},Pye=function(t,e,r,n){var i=Eye(e,Array.isArray(t)?t:[t]);L0[r]||(L0[r]=new WeakMap);var s=L0[r],o=[],l=new Set,c=new Set(i),u=function(h){!h||l.has(h)||(l.add(h),u(h.parentNode))};i.forEach(u);var d=function(h){!h||c.has(h)||Array.prototype.forEach.call(h.children,function(g){if(l.has(g))d(g);else try{var v=g.getAttribute(n),y=v!==null&&v!=="false",x=(mh.get(g)||0)+1,_=(s.get(g)||0)+1;mh.set(g,x),s.set(g,_),o.push(g),x===1&&y&&I0.set(g,!0),_===1&&g.setAttribute(r,"true"),y||g.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return d(e),l.clear(),uN++,function(){o.forEach(function(h){var g=mh.get(h)-1,v=s.get(h)-1;mh.set(h,g),s.set(h,v),g||(I0.has(h)||h.removeAttribute(n),I0.delete(h)),v||h.removeAttribute(r)}),uN--,uN||(mh=new WeakMap,mh=new WeakMap,I0=new WeakMap,L0={})}},G_=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=Cye(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),Pye(n,i,r,"aria-hidden")):function(){return null}},bo=function(){return bo=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},bo.apply(this,arguments)};function JH(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function kye(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var wb="right-scroll-bar-position",_b="width-before-scroll-bar",Tye="with-scroll-bars-hidden",Aye="--removed-body-scroll-bar-size";function dN(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Oye(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var Rye=typeof window<"u"?b.useLayoutEffect:b.useEffect,OF=new WeakMap;function Mye(t,e){var r=Oye(null,function(n){return t.forEach(function(i){return dN(i,n)})});return Rye(function(){var n=OF.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||dN(l,null)}),s.forEach(function(l){i.has(l)||dN(l,o)})}OF.set(r,t)},[t]),r}function Iye(t){return t}function Lye(t,e){e===void 0&&(e=Iye);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function Dye(t){t===void 0&&(t={});var e=Lye(null);return e.options=bo({async:!0,ssr:!1},t),e}var QH=function(t){var e=t.sideCar,r=JH(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,bo({},r))};QH.isSideCarExport=!0;function $ye(t,e){return t.useMedium(e),QH}var eK=Dye(),fN=function(){},Z_=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:fN,onWheelCapture:fN,onTouchMoveCapture:fN}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,h=t.shards,g=t.sideCar,v=t.noIsolation,y=t.inert,x=t.allowPinchZoom,_=t.as,S=_===void 0?"div":_,N=t.gapMode,C=JH(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,k=Mye([r,e]),P=bo(bo({},C),i);return b.createElement(b.Fragment,null,d&&b.createElement(A,{sideCar:eK,removeScrollBar:u,shards:h,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:N}),o?b.cloneElement(b.Children.only(l),bo(bo({},P),{ref:k})):b.createElement(S,bo({},P,{className:c,ref:k}),l))});Z_.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Z_.classNames={fullWidth:_b,zeroRight:wb};var Fye=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Bye(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=Fye();return e&&t.setAttribute("nonce",e),t}function zye(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function qye(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var Uye=function(){var t=0,e=null;return{add:function(r){t==0&&(e=Bye())&&(zye(e,r),qye(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},Vye=function(){var t=Uye();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},tK=function(){var t=Vye(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},Wye={left:0,top:0,right:0,gap:0},hN=function(t){return parseInt(t||"",10)||0},Hye=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[hN(r),hN(n),hN(i)]},Kye=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Wye;var e=Hye(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},Gye=tK(),Hh="data-scroll-locked",Zye=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(Tye,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Hh,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(wb,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(_b,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(wb," .").concat(wb,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(_b," .").concat(_b,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Hh,`] {
    `).concat(Aye,": ").concat(l,`px;
  }
`)},RF=function(){var t=parseInt(document.body.getAttribute(Hh)||"0",10);return isFinite(t)?t:0},Yye=function(){b.useEffect(function(){return document.body.setAttribute(Hh,(RF()+1).toString()),function(){var t=RF()-1;t<=0?document.body.removeAttribute(Hh):document.body.setAttribute(Hh,t.toString())}},[])},Xye=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;Yye();var s=b.useMemo(function(){return Kye(i)},[i]);return b.createElement(Gye,{styles:Zye(s,!e,i,r?"":"!important")})},cT=!1;if(typeof window<"u")try{var D0=Object.defineProperty({},"passive",{get:function(){return cT=!0,!0}});window.addEventListener("test",D0,D0),window.removeEventListener("test",D0,D0)}catch{cT=!1}var gh=cT?{passive:!1}:!1,Jye=function(t){return t.tagName==="TEXTAREA"},rK=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Jye(t)&&r[e]==="visible")},Qye=function(t){return rK(t,"overflowY")},exe=function(t){return rK(t,"overflowX")},MF=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=nK(t,n);if(i){var s=iK(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},txe=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},rxe=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},nK=function(t,e){return t==="v"?Qye(e):exe(e)},iK=function(t,e){return t==="v"?txe(e):rxe(e)},nxe=function(t,e){return t==="h"&&e==="rtl"?-1:1},ixe=function(t,e,r,n,i){var s=nxe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),u=!1,d=o>0,h=0,g=0;do{var v=iK(t,l),y=v[0],x=v[1],_=v[2],S=x-_-s*y;(y||S)&&nK(t,l)&&(h+=S,g+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(h)<1||!d&&Math.abs(g)<1)&&(u=!0),u},$0=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},IF=function(t){return[t.deltaX,t.deltaY]},LF=function(t){return t&&"current"in t?t.current:t},sxe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},axe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},oxe=0,vh=[];function lxe(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(oxe++)[0],s=b.useState(tK)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=kye([t.lockRef.current],(t.shards||[]).map(LF),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=b.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var S=$0(x),N=r.current,C="deltaX"in x?x.deltaX:N[0]-S[0],A="deltaY"in x?x.deltaY:N[1]-S[1],k,P=x.target,O=Math.abs(C)>Math.abs(A)?"h":"v";if("touches"in x&&O==="h"&&P.type==="range")return!1;var I=MF(O,P);if(!I)return!0;if(I?k=O:(k=O==="v"?"h":"v",I=MF(O,P)),!I)return!1;if(!n.current&&"changedTouches"in x&&(C||A)&&(n.current=k),!k)return!0;var F=n.current||k;return ixe(F,_,x,F==="h"?C:A)},[]),c=b.useCallback(function(x){var _=x;if(!(!vh.length||vh[vh.length-1]!==s)){var S="deltaY"in _?IF(_):$0(_),N=e.current.filter(function(k){return k.name===_.type&&(k.target===_.target||_.target===k.shadowParent)&&sxe(k.delta,S)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var C=(o.current.shards||[]).map(LF).filter(Boolean).filter(function(k){return k.contains(_.target)}),A=C.length>0?l(_,C[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=b.useCallback(function(x,_,S,N){var C={name:x,delta:_,target:S,should:N,shadowParent:cxe(S)};e.current.push(C),setTimeout(function(){e.current=e.current.filter(function(A){return A!==C})},1)},[]),d=b.useCallback(function(x){r.current=$0(x),n.current=void 0},[]),h=b.useCallback(function(x){u(x.type,IF(x),x.target,l(x,t.lockRef.current))},[]),g=b.useCallback(function(x){u(x.type,$0(x),x.target,l(x,t.lockRef.current))},[]);b.useEffect(function(){return vh.push(s),t.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:g}),document.addEventListener("wheel",c,gh),document.addEventListener("touchmove",c,gh),document.addEventListener("touchstart",d,gh),function(){vh=vh.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,gh),document.removeEventListener("touchmove",c,gh),document.removeEventListener("touchstart",d,gh)}},[]);var v=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(s,{styles:axe(i)}):null,v?b.createElement(Xye,{gapMode:t.gapMode}):null)}function cxe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const uxe=$ye(eK,lxe);var zy=b.forwardRef(function(t,e){return b.createElement(Z_,bo({},t,{ref:e,sideCar:uxe}))});zy.classNames=Z_.classNames;var uT=["Enter"," "],dxe=["ArrowDown","PageUp","Home"],sK=["ArrowUp","PageDown","End"],fxe=[...dxe,...sK],hxe={ltr:[...uT,"ArrowRight"],rtl:[...uT,"ArrowLeft"]},pxe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},qy="Menu",[jv,mxe,gxe]=TR(qy),[af,aK]=Dr(qy,[gxe,LH,HH]),Y_=LH(),oK=HH(),[vxe,of]=af(qy),[yxe,Uy]=af(qy),lK=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,l=Y_(e),[c,u]=b.useState(null),d=b.useRef(!1),h=fr(s),g=Kp(i);return b.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(cye,{...l,children:a.jsx(vxe,{scope:e,open:r,onOpenChange:h,content:c,onContentChange:u,children:a.jsx(yxe,{scope:e,onClose:b.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:d,dir:g,modal:o,children:n})})})};lK.displayName=qy;var xxe="MenuAnchor",qR=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Y_(r);return a.jsx(uye,{...i,...n,ref:e})});qR.displayName=xxe;var UR="MenuPortal",[bxe,cK]=af(UR,{forceMount:void 0}),uK=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=of(UR,e);return a.jsx(bxe,{scope:e,forceMount:r,children:a.jsx(ls,{present:r||s.open,children:a.jsx(K_,{asChild:!0,container:i,children:n})})})};uK.displayName=UR;var la="MenuContent",[wxe,VR]=af(la),dK=b.forwardRef((t,e)=>{const r=cK(la,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=of(la,t.__scopeMenu),o=Uy(la,t.__scopeMenu);return a.jsx(jv.Provider,{scope:t.__scopeMenu,children:a.jsx(ls,{present:n||s.open,children:a.jsx(jv.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(_xe,{...i,ref:e}):a.jsx(jxe,{...i,ref:e})})})})}),_xe=b.forwardRef((t,e)=>{const r=of(la,t.__scopeMenu),n=b.useRef(null),i=at(e,n);return b.useEffect(()=>{const s=n.current;if(s)return G_(s)},[]),a.jsx(WR,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Ve(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),jxe=b.forwardRef((t,e)=>{const r=of(la,t.__scopeMenu);return a.jsx(WR,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Sxe=ap("MenuContent.ScrollLock"),WR=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,onDismiss:v,disableOutsideScroll:y,...x}=t,_=of(la,r),S=Uy(la,r),N=Y_(r),C=oK(r),A=mxe(r),[k,P]=b.useState(null),O=b.useRef(null),I=at(e,O,_.onContentChange),F=b.useRef(0),H=b.useRef(""),V=b.useRef(0),U=b.useRef(null),z=b.useRef("right"),W=b.useRef(0),J=y?zy:b.Fragment,se=y?{as:Sxe,allowPinchZoom:!0}:void 0,K=G=>{const ne=H.current+G,Y=A().filter(ae=>!ae.disabled),oe=document.activeElement,xe=Y.find(ae=>ae.ref.current===oe)?.textValue,Ne=Y.map(ae=>ae.textValue),Le=Lxe(Ne,ne,xe),ce=Y.find(ae=>ae.textValue===Le)?.ref.current;(function ae(ge){H.current=ge,window.clearTimeout(F.current),ge!==""&&(F.current=window.setTimeout(()=>ae(""),1e3))})(ne),ce&&setTimeout(()=>ce.focus())};b.useEffect(()=>()=>window.clearTimeout(F.current),[]),AR();const ee=b.useCallback(G=>z.current===U.current?.side&&$xe(G,U.current?.area),[]);return a.jsx(wxe,{scope:r,searchRef:H,onItemEnter:b.useCallback(G=>{ee(G)&&G.preventDefault()},[ee]),onItemLeave:b.useCallback(G=>{ee(G)||(O.current?.focus(),P(null))},[ee]),onTriggerLeave:b.useCallback(G=>{ee(G)&&G.preventDefault()},[ee]),pointerGraceTimerRef:V,onPointerGraceIntentChange:b.useCallback(G=>{U.current=G},[]),children:a.jsx(J,{...se,children:a.jsx(OR,{asChild:!0,trapped:i,onMountAutoFocus:Ve(s,G=>{G.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(U_,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:g,onDismiss:v,children:a.jsx(Sye,{asChild:!0,...C,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:k,onCurrentTabStopIdChange:P,onEntryFocus:Ve(c,G=>{S.isUsingKeyboardRef.current||G.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(dye,{role:"menu","aria-orientation":"vertical","data-state":EK(_.open),"data-radix-menu-content":"",dir:S.dir,...N,...x,ref:I,style:{outline:"none",...x.style},onKeyDown:Ve(x.onKeyDown,G=>{const Y=G.target.closest("[data-radix-menu-content]")===G.currentTarget,oe=G.ctrlKey||G.altKey||G.metaKey,xe=G.key.length===1;Y&&(G.key==="Tab"&&G.preventDefault(),!oe&&xe&&K(G.key));const Ne=O.current;if(G.target!==Ne||!fxe.includes(G.key))return;G.preventDefault();const ce=A().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);sK.includes(G.key)&&ce.reverse(),Mxe(ce)}),onBlur:Ve(t.onBlur,G=>{G.currentTarget.contains(G.target)||(window.clearTimeout(F.current),H.current="")}),onPointerMove:Ve(t.onPointerMove,Sv(G=>{const ne=G.target,Y=W.current!==G.clientX;if(G.currentTarget.contains(ne)&&Y){const oe=G.clientX>W.current?"right":"left";z.current=oe,W.current=G.clientX}}))})})})})})})});dK.displayName=la;var Nxe="MenuGroup",HR=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(tr.div,{role:"group",...n,ref:e})});HR.displayName=Nxe;var Cxe="MenuLabel",fK=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(tr.div,{...n,ref:e})});fK.displayName=Cxe;var ew="MenuItem",DF="menu.itemSelect",X_=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=b.useRef(null),o=Uy(ew,t.__scopeMenu),l=VR(ew,t.__scopeMenu),c=at(e,s),u=b.useRef(!1),d=()=>{const h=s.current;if(!r&&h){const g=new CustomEvent(DF,{bubbles:!0,cancelable:!0});h.addEventListener(DF,v=>n?.(v),{once:!0}),kR(h,g),g.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(hK,{...i,ref:c,disabled:r,onClick:Ve(t.onClick,d),onPointerDown:h=>{t.onPointerDown?.(h),u.current=!0},onPointerUp:Ve(t.onPointerUp,h=>{u.current||h.currentTarget?.click()}),onKeyDown:Ve(t.onKeyDown,h=>{const g=l.searchRef.current!=="";r||g&&h.key===" "||uT.includes(h.key)&&(h.currentTarget.click(),h.preventDefault())})})});X_.displayName=ew;var hK=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=VR(ew,r),l=oK(r),c=b.useRef(null),u=at(e,c),[d,h]=b.useState(!1),[g,v]=b.useState("");return b.useEffect(()=>{const y=c.current;y&&v((y.textContent??"").trim())},[s.children]),a.jsx(jv.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:a.jsx(Nye,{asChild:!0,...l,focusable:!n,children:a.jsx(tr.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Ve(t.onPointerMove,Sv(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ve(t.onPointerLeave,Sv(y=>o.onItemLeave(y))),onFocus:Ve(t.onFocus,()=>h(!0)),onBlur:Ve(t.onBlur,()=>h(!1))})})})}),Exe="MenuCheckboxItem",pK=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return a.jsx(xK,{scope:t.__scopeMenu,checked:r,children:a.jsx(X_,{role:"menuitemcheckbox","aria-checked":tw(r)?"mixed":r,...i,ref:e,"data-state":GR(r),onSelect:Ve(i.onSelect,()=>n?.(tw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});pK.displayName=Exe;var mK="MenuRadioGroup",[Pxe,kxe]=af(mK,{value:void 0,onValueChange:()=>{}}),gK=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=fr(n);return a.jsx(Pxe,{scope:t.__scopeMenu,value:r,onValueChange:s,children:a.jsx(HR,{...i,ref:e})})});gK.displayName=mK;var vK="MenuRadioItem",yK=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=kxe(vK,t.__scopeMenu),s=r===i.value;return a.jsx(xK,{scope:t.__scopeMenu,checked:s,children:a.jsx(X_,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":GR(s),onSelect:Ve(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});yK.displayName=vK;var KR="MenuItemIndicator",[xK,Txe]=af(KR,{checked:!1}),bK=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=Txe(KR,r);return a.jsx(ls,{present:n||tw(s.checked)||s.checked===!0,children:a.jsx(tr.span,{...i,ref:e,"data-state":GR(s.checked)})})});bK.displayName=KR;var Axe="MenuSeparator",wK=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(tr.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});wK.displayName=Axe;var Oxe="MenuArrow",_K=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=Y_(r);return a.jsx(fye,{...i,...n,ref:e})});_K.displayName=Oxe;var Rxe="MenuSub",[DUe,jK]=af(Rxe),Dg="MenuSubTrigger",SK=b.forwardRef((t,e)=>{const r=of(Dg,t.__scopeMenu),n=Uy(Dg,t.__scopeMenu),i=jK(Dg,t.__scopeMenu),s=VR(Dg,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const h=l.current;return()=>{window.clearTimeout(h),c(null)}},[l,c]),a.jsx(qR,{asChild:!0,...u,children:a.jsx(hK,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":EK(r.open),...t,ref:$s(e,i.onTriggerChange),onClick:h=>{t.onClick?.(h),!(t.disabled||h.defaultPrevented)&&(h.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Ve(t.onPointerMove,Sv(h=>{s.onItemEnter(h),!h.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Ve(t.onPointerLeave,Sv(h=>{d();const g=r.content?.getBoundingClientRect();if(g){const v=r.content?.dataset.side,y=v==="right",x=y?-5:5,_=g[y?"left":"right"],S=g[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:h.clientX+x,y:h.clientY},{x:_,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:_,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(h),h.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Ve(t.onKeyDown,h=>{const g=s.searchRef.current!=="";t.disabled||g&&h.key===" "||hxe[n.dir].includes(h.key)&&(r.onOpenChange(!0),r.content?.focus(),h.preventDefault())})})})});SK.displayName=Dg;var NK="MenuSubContent",CK=b.forwardRef((t,e)=>{const r=cK(la,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=of(la,t.__scopeMenu),o=Uy(la,t.__scopeMenu),l=jK(NK,t.__scopeMenu),c=b.useRef(null),u=at(e,c);return a.jsx(jv.Provider,{scope:t.__scopeMenu,children:a.jsx(ls,{present:n||s.open,children:a.jsx(jv.Slot,{scope:t.__scopeMenu,children:a.jsx(WR,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Ve(t.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Ve(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Ve(t.onKeyDown,d=>{const h=d.currentTarget.contains(d.target),g=pxe[o.dir].includes(d.key);h&&g&&(s.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});CK.displayName=NK;function EK(t){return t?"open":"closed"}function tw(t){return t==="indeterminate"}function GR(t){return tw(t)?"indeterminate":t?"checked":"unchecked"}function Mxe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Ixe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Lxe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=Ixe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Dxe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,h=c.x,g=c.y;d>n!=g>n&&r<(h-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function $xe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Dxe(r,e)}function Sv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Fxe=lK,Bxe=qR,zxe=uK,qxe=dK,Uxe=HR,Vxe=fK,Wxe=X_,Hxe=pK,Kxe=gK,Gxe=yK,Zxe=bK,Yxe=wK,Xxe=_K,Jxe=SK,Qxe=CK,J_="DropdownMenu",[e0e,$Ue]=Dr(J_,[aK]),qi=aK(),[t0e,PK]=e0e(J_),kK=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=qi(e),u=b.useRef(null),[d,h]=as({prop:i,defaultProp:s??!1,onChange:o,caller:J_});return a.jsx(t0e,{scope:e,triggerId:ns(),triggerRef:u,contentId:ns(),open:d,onOpenChange:h,onOpenToggle:b.useCallback(()=>h(g=>!g),[h]),modal:l,children:a.jsx(Fxe,{...c,open:d,onOpenChange:h,dir:n,modal:l,children:r})})};kK.displayName=J_;var TK="DropdownMenuTrigger",AK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=PK(TK,r),o=qi(r);return a.jsx(Bxe,{asChild:!0,...o,children:a.jsx(tr.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:$s(e,s.triggerRef),onPointerDown:Ve(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Ve(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});AK.displayName=TK;var r0e="DropdownMenuPortal",OK=t=>{const{__scopeDropdownMenu:e,...r}=t,n=qi(e);return a.jsx(zxe,{...n,...r})};OK.displayName=r0e;var RK="DropdownMenuContent",MK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=PK(RK,r),s=qi(r),o=b.useRef(!1);return a.jsx(qxe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Ve(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Ve(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});MK.displayName=RK;var n0e="DropdownMenuGroup",i0e=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Uxe,{...i,...n,ref:e})});i0e.displayName=n0e;var s0e="DropdownMenuLabel",IK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Vxe,{...i,...n,ref:e})});IK.displayName=s0e;var a0e="DropdownMenuItem",LK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Wxe,{...i,...n,ref:e})});LK.displayName=a0e;var o0e="DropdownMenuCheckboxItem",DK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Hxe,{...i,...n,ref:e})});DK.displayName=o0e;var l0e="DropdownMenuRadioGroup",c0e=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Kxe,{...i,...n,ref:e})});c0e.displayName=l0e;var u0e="DropdownMenuRadioItem",$K=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Gxe,{...i,...n,ref:e})});$K.displayName=u0e;var d0e="DropdownMenuItemIndicator",FK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Zxe,{...i,...n,ref:e})});FK.displayName=d0e;var f0e="DropdownMenuSeparator",BK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Yxe,{...i,...n,ref:e})});BK.displayName=f0e;var h0e="DropdownMenuArrow",p0e=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Xxe,{...i,...n,ref:e})});p0e.displayName=h0e;var m0e="DropdownMenuSubTrigger",zK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Jxe,{...i,...n,ref:e})});zK.displayName=m0e;var g0e="DropdownMenuSubContent",qK=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=qi(r);return a.jsx(Qxe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});qK.displayName=g0e;var v0e=kK,y0e=AK,x0e=OK,UK=MK,VK=IK,WK=LK,HK=DK,KK=$K,GK=FK,ZK=BK,YK=zK,XK=qK;const _u=v0e,ju=y0e,b0e=b.forwardRef(({className:t,inset:e,children:r,...n},i)=>a.jsxs(YK,{ref:i,className:qe("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,a.jsx(ua,{className:"ml-auto h-4 w-4"})]}));b0e.displayName=YK.displayName;const w0e=b.forwardRef(({className:t,...e},r)=>a.jsx(XK,{ref:r,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));w0e.displayName=XK.displayName;const Gl=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(x0e,{children:a.jsx(UK,{ref:n,sideOffset:e,className:qe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Gl.displayName=UK.displayName;const vr=b.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(WK,{ref:n,className:qe("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));vr.displayName=WK.displayName;const _0e=b.forwardRef(({className:t,children:e,checked:r,...n},i)=>a.jsxs(HK,{ref:i,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(GK,{children:a.jsx(np,{className:"h-4 w-4"})})}),e]}));_0e.displayName=HK.displayName;const j0e=b.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(KK,{ref:n,className:qe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(GK,{children:a.jsx(Qde,{className:"h-2 w-2 fill-current"})})}),e]}));j0e.displayName=KK.displayName;const S0e=b.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(VK,{ref:n,className:qe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));S0e.displayName=VK.displayName;const Yp=b.forwardRef(({className:t,...e},r)=>a.jsx(ZK,{ref:r,className:qe("-mx-1 my-1 h-px bg-muted",t),...e}));Yp.displayName=ZK.displayName;const N0e=()=>{const{currentLanguage:t,changeLanguage:e,availableLanguages:r,languageNames:n}=nf(),i=s=>{e(s)};return a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",size:"sm",className:"flex items-center space-x-2",children:[a.jsx(yR,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:n[t]}),a.jsx("span",{className:"sm:hidden",children:t.toUpperCase()})]})}),a.jsx(Gl,{align:"end",className:"w-48",children:r.map(s=>a.jsxs(vr,{onClick:()=>i(s),className:`flex items-center justify-between cursor-pointer ${t===s?"bg-accent":""}`,children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-sm font-medium",children:n[s]})}),t===s&&a.jsx(np,{className:"h-4 w-4 text-primary"})]},s))})]})},C0e=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[i,s]=b.useState(!0),{user:o}=Sr(),{t:l}=nf(),c=b.useMemo(()=>[{name:l("navigation.immobilier"),path:"/immobilier",icon:a.jsx(Bd,{className:"mr-2 h-4 w-4"})},{name:l("navigation.automobile"),path:"/automobile",icon:a.jsx(L_,{className:"mr-2 h-4 w-4"})},{name:l("navigation.services"),path:"/services",icon:a.jsx(Fd,{className:"mr-2 h-4 w-4"})},{name:l("navigation.marketplace"),path:"/marketplace",icon:a.jsx(ef,{className:"mr-2 h-4 w-4"})}],[l]),u=b.useMemo(()=>({closed:{opacity:0,x:"-100%"},open:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}}}),[]),d=b.useMemo(()=>"text-muted-foreground hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium flex items-center",[]),h=b.useMemo(()=>"text-primary bg-primary/10",[]);b.useEffect(()=>{const y=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",y,{passive:!0}),()=>window.removeEventListener("scroll",y)},[]),b.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const g=()=>{s(!i)},v=b.useMemo(()=>a.jsx(ar,{to:"/",className:"flex items-center space-x-2","aria-label":"Accueil MaxiMarket",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:mr.siteName})}),[]);return a.jsxs("header",{role:"banner","aria-label":"Navigation principale",children:[a.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${r||t?"bg-background/95 shadow-lg backdrop-blur-md":"bg-transparent"}`,role:"navigation","aria-label":"Menu principal",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsx(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:v}),a.jsx("nav",{role:"navigation","aria-label":"Navigation desktop",className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:c.map(y=>a.jsxs(id,{to:y.path,className:({isActive:x})=>`${d} ${x?h:""}`,"aria-current":({isActive:x})=>x?"page":void 0,children:[y.icon,y.name]},y.name))}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(N0e,{}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:g,"aria-label":"Changer de thème",type:"button",children:i?a.jsx(jfe,{className:"h-5 w-5"}):a.jsx(dfe,{className:"h-5 w-5"})}),a.jsx(ue,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Rechercher",type:"button",children:a.jsx(ei,{className:"h-5 w-5"})}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ar,{to:"/connexion","aria-label":"Se connecter",children:[a.jsx(T0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-secondary",children:a.jsxs(ar,{to:"/inscription","aria-label":"S'inscrire",children:[a.jsx(T0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})})]}),o&&o.role==="admin"?a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-secondary",children:a.jsxs(ar,{to:"/admin","aria-label":"Accéder à l'administration",children:[a.jsx(bd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]})}):o&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ar,{to:"/messages","aria-label":"Accéder aux messages",children:[a.jsx(Qn,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]})}),a.jsx(ue,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(ar,{to:"/profile","aria-label":"Accéder à mon compte",children:[a.jsx(bd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(ue,{variant:"ghost",size:"icon",onClick:()=>e(!t),"aria-label":t?"Fermer le menu":"Ouvrir le menu","aria-expanded":t,type:"button",children:t?a.jsx(os,{className:"h-6 w-6"}):a.jsx(vW,{className:"h-6 w-6"})})})]})]})})}),a.jsx(Xn,{children:t&&a.jsxs(Oe.nav,{variants:u,initial:"closed",animate:"open",exit:"closed",className:"md:hidden fixed inset-0 top-20 bg-background/95 backdrop-blur-md z-40 p-4 space-y-3 border-t border-border",role:"navigation","aria-label":"Menu mobile",children:[c.map(y=>a.jsxs(id,{to:y.path,onClick:()=>e(!1),className:({isActive:x})=>`${d} text-base w-full justify-start ${x?h:""}`,"aria-current":({isActive:x})=>x?"page":void 0,children:[y.icon,y.name]},y.name)),!o&&a.jsxs(a.Fragment,{children:[a.jsxs(id,{to:"/connexion",onClick:()=>e(!1),className:`${d} text-base w-full justify-start`,"aria-label":"Se connecter",children:[a.jsx(T0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]}),a.jsxs(id,{to:"/inscription",onClick:()=>e(!1),className:`${d} text-base w-full justify-start`,"aria-label":"S'inscrire",children:[a.jsx(T0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})]}),o&&o.role==="admin"?a.jsxs(id,{to:"/admin",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?h:""}`,"aria-label":"Accéder à l'administration",children:[a.jsx(bd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]}):o&&a.jsxs(a.Fragment,{children:[a.jsxs(id,{to:"/messages",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?h:""}`,"aria-label":"Accéder aux messages",children:[a.jsx(Qn,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]}),a.jsxs(id,{to:"/profile",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?h:""}`,"aria-label":"Accéder à mon compte",children:[a.jsx(bd,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})]})]})})]})},E0e=()=>{const t=new Date().getFullYear(),e=[{title:"Explorer",links:[{name:"Immobilier",path:"/immobilier"},{name:"Automobile",path:"/automobile"},{name:"Services Pro",path:"/services"},{name:"Marketplace",path:"/marketplace"}]},{title:"Entreprise",links:[{name:"À Propos",path:"/a-propos"},{name:"Carrières",path:"/carrieres"},{name:"Presse",path:"/presse"},{name:"Blog",path:"/blog"}]},{title:"Support",links:[{name:"Centre d'Aide",path:"/aide"},{name:"Contactez-nous",path:"/contact"},{name:"FAQ",path:"/faq"},{name:"Politique de Confidentialité",path:"/politique-confidentialite"},{name:"Termes & Conditions",path:"/conditions-utilisation"}]}],r=[{name:"Facebook",icon:a.jsx(Hk,{className:"h-5 w-5"}),path:mr.socials.facebook},{name:"Twitter",icon:a.jsx(xW,{className:"h-5 w-5"}),path:mr.socials.twitter},{name:"Instagram",icon:a.jsx(Kk,{className:"h-5 w-5"}),path:mr.socials.instagram},{name:"LinkedIn",icon:a.jsx(gW,{className:"h-5 w-5"}),path:mr.socials.linkedin},{name:"YouTube",icon:a.jsx(kfe,{className:"h-5 w-5"}),path:mr.socials.youtube}].filter(n=>n.path&&!n.path.includes("yourusername"));return a.jsx("footer",{className:"bg-card text-card-foreground border-t border-border pt-16 pb-8",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8 mb-12",children:[a.jsxs("div",{className:"md:col-span-2 lg:col-span-1 xl:col-span-2 pr-4",children:[a.jsx(ar,{to:"/",className:"flex items-center space-x-2 mb-6",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:mr.siteName})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"La plateforme N°1 en Afrique de l'Ouest pour l'immobilier, l'automobile, les services et bien plus."}),a.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Restez informé de nos nouveautés :"}),a.jsxs("form",{className:"flex items-center gap-2",children:[a.jsx(tt,{type:"email",placeholder:"Votre adresse e-mail",className:"flex-grow"}),a.jsx(ue,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary/90",children:a.jsx(Cy,{className:"h-4 w-4"})})]})]}),e.map(n=>a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold mb-4",children:n.title}),a.jsx("ul",{className:"space-y-2",children:n.links.map(i=>a.jsx("li",{children:a.jsxs(ar,{to:i.path,className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center group",children:[i.name,a.jsx(Cl,{className:"h-3 w-3 ml-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},i.name))})]},n.title))]}),a.jsxs("div",{className:"border-t border-border pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-xs text-muted-foreground mb-4 md:mb-0",children:["© ",t," ",mr.siteName,". Tous droits réservés."]}),a.jsx("div",{className:"flex space-x-4",children:r.map(n=>a.jsx(ar,{to:n.path,target:"_blank",rel:"noopener noreferrer","aria-label":n.name,className:"text-muted-foreground hover:text-primary transition-colors",children:n.icon},n.name))})]})]})})},P0e=()=>{const t=Pi(),[e,r]=b.useState(!1),n=b.useCallback(()=>{r(window.scrollY>20)},[]);b.useEffect(()=>(window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)),[n]),b.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]);const i=b.useMemo(()=>qe("fixed top-0 left-0 right-0 z-50 transition-all duration-300",e?"py-3 glass-effect":"py-5 bg-transparent"),[e]),s=b.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background grid-pattern",children:[a.jsx("header",{className:i,role:"banner","aria-label":"En-tête principal",children:a.jsx(C0e,{})}),a.jsx("main",{className:"flex-grow pt-24 pb-16",role:"main","aria-label":"Contenu principal",id:"main-content",children:a.jsx(Oe.div,{...s,children:a.jsx(XV,{})},t.pathname)}),a.jsx(E0e,{})]})},k0e=[{name:"Tableau de bord",href:"/admin",icon:mW},{name:"Utilisateurs",href:"/admin/users",icon:Ka},{name:"Annonces",href:"/admin/listings",icon:tv},{name:"Transactions",href:"/admin/transactions",icon:ip},{name:"Catégories",href:"/admin/categories",icon:tf},{name:"Rapports",href:"/admin/analytics",icon:mR},{name:"Modération",href:"/admin/moderation",icon:Hb},{name:"Paramètres",href:"/admin/settings",icon:bd}];function T0e({className:t}){const e=Pi(),{logout:r}=Sr(),n=async()=>{try{await r()}catch(i){console.error("Erreur lors de la déconnexion:",i)}};return a.jsxs("div",{className:qe("hidden md:flex md:flex-col md:w-64 bg-slate-900 border-r border-slate-800 min-h-screen",t),children:[a.jsx("div",{className:"p-4 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:k0e.map(i=>a.jsxs(ar,{to:i.href,className:qe("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",e.pathname===i.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[a.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.href))}),a.jsx("div",{className:"p-4 border-t border-slate-800",children:a.jsxs(ue,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-slate-800 hover:text-white",children:[a.jsx(xR,{className:"mr-3 h-5 w-5"}),"Déconnexion"]})})]})}var A0e=Object.defineProperty,O0e=(t,e,r)=>e in t?A0e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pN=(t,e,r)=>(O0e(t,typeof e!="symbol"?e+"":e,r),r);let R0e=class{constructor(){pN(this,"current",this.detect()),pN(this,"handoffState","pending"),pN(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Tl=new R0e,fa=(t,e)=>{Tl.isServer?b.useEffect(t,e):b.useLayoutEffect(t,e)};function Al(t){let e=b.useRef(t);return fa(()=>{e.current=t},[t]),e}let Jr=function(t){let e=Al(t);return Q.useCallback((...r)=>e.current(...r),[e])};function Q_(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function lf(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Q_(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=lf();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function ZR(){let[t]=b.useState(lf);return b.useEffect(()=>()=>t.dispose(),[t]),t}function M0e(){let t=typeof document>"u";return"useSyncExternalStore"in du?(e=>e.useSyncExternalStore)(du)(()=>()=>{},()=>!1,()=>!t):!1}function Xp(){let t=M0e(),[e,r]=b.useState(Tl.isHandoffComplete);return e&&Tl.isHandoffComplete===!1&&r(!1),b.useEffect(()=>{e!==!0&&r(!0)},[e]),b.useEffect(()=>Tl.handoff(),[]),t?!1:e}var $F;let Jp=($F=Q.useId)!=null?$F:function(){let t=Xp(),[e,r]=Q.useState(t?()=>Tl.nextId():null);return fa(()=>{e===null&&r(Tl.nextId())},[e]),e!=null?""+e:void 0};function Ei(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,Ei),n}function JK(t){return Tl.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let dT=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var yd=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(yd||{}),QK=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(QK||{}),I0e=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(I0e||{});function L0e(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(dT)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var eG=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(eG||{});function D0e(t,e=0){var r;return t===((r=JK(t))==null?void 0:r.body)?!1:Ei(e,{0(){return t.matches(dT)},1(){let n=t;for(;n!==null;){if(n.matches(dT))return!0;n=n.parentElement}return!1}})}var $0e=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))($0e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Md(t){t?.focus({preventScroll:!0})}let F0e=["textarea","input"].join(",");function B0e(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,F0e))!=null?r:!1}function z0e(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function jb(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?r?z0e(t):t:L0e(t);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,h=o.length,g;do{if(d>=h||d+h<=0)return 0;let v=c+d;if(e&16)v=(v+h)%h;else{if(v<0)return 3;if(v>=h)return 1}g=o[v],g?.focus(u),d+=l}while(g!==s.activeElement);return e&6&&B0e(g)&&g.select(),2}function tG(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function q0e(){return/Android/gi.test(window.navigator.userAgent)}function U0e(){return tG()||q0e()}function F0(t,e,r){let n=Al(e);b.useEffect(()=>{function i(s){n.current(s)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[t,r])}function rG(t,e,r){let n=Al(e);b.useEffect(()=>{function i(s){n.current(s)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[t,r])}function V0e(t,e,r=!0){let n=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(o,l){if(!n.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of u){if(d===null)continue;let h=d instanceof HTMLElement?d:d.current;if(h!=null&&h.contains(c)||o.composed&&o.composedPath().includes(h))return}return!D0e(c,eG.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=b.useRef(null);F0("pointerdown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),F0("mousedown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),F0("click",o=>{U0e()||s.current&&(i(o,()=>s.current),s.current=null)},!0),F0("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),rG("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Vy(...t){return b.useMemo(()=>JK(...t),[...t])}let nG=Symbol();function W0e(t,e=!0){return Object.assign(t,{[nG]:e})}function Qa(...t){let e=b.useRef(t);b.useEffect(()=>{e.current=t},[t]);let r=Jr(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[nG])?void 0:r}function YR(t,e){let r=b.useRef([]),n=Jr(t);b.useEffect(()=>{let i=[...r.current];for(let[s,o]of e.entries())if(r.current[s]!==o){let l=n(e,i);return r.current=e,l}},[n,...e])}function rw(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var nw=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(nw||{}),tu=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(tu||{});function pa({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??H0e;let c=iG(e,t);if(s)return B0(c,r,n,o,l);let u=i??0;if(u&2){let{static:d=!1,...h}=c;if(d)return B0(h,r,n,o,l)}if(u&1){let{unmount:d=!0,...h}=c;return Ei(d?0:1,{0(){return null},1(){return B0({...h,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return B0(c,r,n,o,l)}function B0(t,e={},r,n,i){let{as:s=r,children:o,refName:l="ref",...c}=mN(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let h={};if(e){let g=!1,v=[];for(let[y,x]of Object.entries(e))typeof x=="boolean"&&(g=!0),x===!0&&v.push(y);g&&(h["data-headlessui-state"]=v.join(" "))}if(s===b.Fragment&&Object.keys(FF(c)).length>0){if(!b.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let g=d.props,v=typeof g?.className=="function"?(...x)=>rw(g?.className(...x),c.className):rw(g?.className,c.className),y=v?{className:v}:{};return b.cloneElement(d,Object.assign({},iG(d.props,FF(mN(c,["ref"]))),h,u,{ref:i(d.ref,u.ref)},y))}return b.createElement(s,Object.assign({},mN(c,["ref"]),s!==b.Fragment&&u,s!==b.Fragment&&h),d)}function H0e(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function iG(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](i,...s){let o=r[n];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return e}function Fs(t){var e;return Object.assign(b.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function FF(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function mN(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let K0e="div";var iw=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(iw||{});function G0e(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return pa({ourProps:s,theirProps:i,slot:{},defaultTag:K0e,name:"Hidden"})}let fT=Fs(G0e),XR=b.createContext(null);XR.displayName="OpenClosedContext";var ks=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ks||{});function JR(){return b.useContext(XR)}function Z0e({value:t,children:e}){return Q.createElement(XR.Provider,{value:t},e)}function Y0e(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Xc=[];Y0e(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Xc[0]!==e.target&&(Xc.unshift(e.target),Xc=Xc.filter(r=>r!=null&&r.isConnected),Xc.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function X0e(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&J0e(r)?!1:n}function J0e(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var sG=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(sG||{});function aG(t,e,r,n){let i=Al(r);b.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Wy(){let t=b.useRef(!1);return fa(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function oG(t){let e=Jr(t),r=b.useRef(!1);b.useEffect(()=>(r.current=!1,()=>{r.current=!0,Q_(()=>{r.current&&e()})}),[e])}var $g=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))($g||{});function Q0e(){let t=b.useRef(0);return rG("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function lG(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let ebe="div";var cG=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(cG||{});function tbe(t,e){let r=b.useRef(null),n=Qa(r,e),{initialFocus:i,containers:s,features:o=30,...l}=t;Xp()||(o=1);let c=Vy(r);ibe({ownerDocument:c},!!(o&16));let u=sbe({ownerDocument:c,container:r,initialFocus:i},!!(o&2));abe({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(o&8));let d=Q0e(),h=Jr(x=>{let _=r.current;_&&(S=>S())(()=>{Ei(d.current,{[$g.Forwards]:()=>{jb(_,yd.First,{skipElements:[x.relatedTarget]})},[$g.Backwards]:()=>{jb(_,yd.Last,{skipElements:[x.relatedTarget]})}})})}),g=ZR(),v=b.useRef(!1),y={ref:n,onKeyDown(x){x.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(x){let _=lG(s);r.current instanceof HTMLElement&&_.add(r.current);let S=x.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(uG(_,S)||(v.current?jb(r.current,Ei(d.current,{[$g.Forwards]:()=>yd.Next,[$g.Backwards]:()=>yd.Previous})|yd.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&Md(x.target)))}};return Q.createElement(Q.Fragment,null,!!(o&4)&&Q.createElement(fT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:iw.Focusable}),pa({ourProps:y,theirProps:l,defaultTag:ebe,name:"FocusTrap"}),!!(o&4)&&Q.createElement(fT,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:h,features:iw.Focusable}))}let rbe=Fs(tbe),gg=Object.assign(rbe,{features:cG});function nbe(t=!0){let e=b.useRef(Xc.slice());return YR(([r],[n])=>{n===!0&&r===!1&&Q_(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Xc.slice())},[t,Xc,e]),Jr(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function ibe({ownerDocument:t},e){let r=nbe(e);YR(()=>{e||t?.activeElement===t?.body&&Md(r())},[e]),oG(()=>{e&&Md(r())})}function sbe({ownerDocument:t,container:e,initialFocus:r},n){let i=b.useRef(null),s=Wy();return YR(()=>{if(!n)return;let o=e.current;o&&Q_(()=>{if(!s.current)return;let l=t?.activeElement;if(r!=null&&r.current){if(r?.current===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}r!=null&&r.current?Md(r.current):jb(o,yd.First)===QK.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t?.activeElement})},[n]),i}function abe({ownerDocument:t,container:e,containers:r,previousActiveElement:n},i){let s=Wy();aG(t?.defaultView,"focus",o=>{if(!i||!s.current)return;let l=lG(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?uG(l,u)?(n.current=u,Md(u)):(o.preventDefault(),o.stopPropagation(),Md(c)):Md(n.current)},!0)}function uG(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let dG=b.createContext(!1);function obe(){return b.useContext(dG)}function hT(t){return Q.createElement(dG.Provider,{value:t.force},t.children)}function lbe(t){let e=obe(),r=b.useContext(fG),n=Vy(t),[i,s]=b.useState(()=>{if(!e&&r!==null||Tl.isServer)return null;let o=n?.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return b.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),b.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),i}let cbe=b.Fragment;function ube(t,e){let r=t,n=b.useRef(null),i=Qa(W0e(d=>{n.current=d}),e),s=Vy(n),o=lbe(n),[l]=b.useState(()=>{var d;return Tl.isServer?null:(d=s?.createElement("div"))!=null?d:null}),c=b.useContext(pT),u=Xp();return fa(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),fa(()=>{if(l&&c)return c.register(l)},[c,l]),oG(()=>{var d;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!l?null:Ja.createPortal(pa({ourProps:{ref:i},theirProps:r,defaultTag:cbe,name:"Portal"}),l):null}let dbe=b.Fragment,fG=b.createContext(null);function fbe(t,e){let{target:r,...n}=t,i={ref:Qa(e)};return Q.createElement(fG.Provider,{value:r},pa({ourProps:i,theirProps:n,defaultTag:dbe,name:"Popover.Group"}))}let pT=b.createContext(null);function hbe(){let t=b.useContext(pT),e=b.useRef([]),r=Jr(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Jr(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=b.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,b.useMemo(()=>function({children:s}){return Q.createElement(pT.Provider,{value:i},s)},[i])]}let pbe=Fs(ube),mbe=Fs(fbe),mT=Object.assign(pbe,{Group:mbe});function gbe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const vbe=typeof Object.is=="function"?Object.is:gbe,{useState:ybe,useEffect:xbe,useLayoutEffect:bbe,useDebugValue:wbe}=du;function _be(t,e,r){const n=e(),[{inst:i},s]=ybe({inst:{value:n,getSnapshot:e}});return bbe(()=>{i.value=n,i.getSnapshot=e,gN(i)&&s({inst:i})},[t,n,e]),xbe(()=>(gN(i)&&s({inst:i}),t(()=>{gN(i)&&s({inst:i})})),[t]),wbe(n),n}function gN(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!vbe(r,n)}catch{return!0}}function jbe(t,e,r){return e()}const Sbe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nbe=!Sbe,Cbe=Nbe?jbe:_be,Ebe="useSyncExternalStore"in du?(t=>t.useSyncExternalStore)(du):Cbe;function Pbe(t){return Ebe(t.subscribe,t.getSnapshot,t.getSnapshot)}function kbe(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=e[i].call(r,...s);o&&(r=o,n.forEach(l=>l()))}}}function Tbe(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,i=n.clientWidth-n.offsetWidth,s=t-i;r.style(n,"paddingRight",`${s}px`)}}}function Abe(){return tG()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=lf();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function Obe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function Rbe(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let wd=kbe(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:lf(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:Rbe(r)},i=[Abe(),Tbe(),Obe()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});wd.subscribe(()=>{let t=wd.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&wd.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&wd.dispatch("TEARDOWN",r)}});function Mbe(t,e,r){let n=Pbe(wd),i=t?n.get(t):void 0,s=i?i.count>0:!1;return fa(()=>{if(!(!t||!e))return wd.dispatch("PUSH",t,r),()=>wd.dispatch("POP",t,r)},[e,t]),s}let vN=new Map,vg=new Map;function BF(t,e=!0){fa(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function i(){var o;if(!n)return;let l=(o=vg.get(n))!=null?o:1;if(l===1?vg.delete(n):vg.set(n,l-1),l!==1)return;let c=vN.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,vN.delete(n))}let s=(r=vg.get(n))!=null?r:0;return vg.set(n,s+1),s!==0||(vN.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),i},[t,e])}function Ibe({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let i=b.useRef((n=r?.current)!=null?n:null),s=Vy(i),o=Jr(()=>{var l,c,u;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"current"in h&&h.current instanceof HTMLElement&&d.push(h.current));if(e!=null&&e.current)for(let h of e.current)d.push(h);for(let h of(l=s?.querySelectorAll("html > *, body > *"))!=null?l:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(i.current)||h.contains((u=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(g=>h.contains(g))||d.push(h));return d});return{resolveContainers:o,contains:Jr(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:i,MainTreeNode:b.useMemo(()=>function(){return r!=null?null:Q.createElement(fT,{features:iw.Hidden,ref:i})},[i,r])}}let QR=b.createContext(()=>{});QR.displayName="StackContext";var gT=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(gT||{});function Lbe(){return b.useContext(QR)}function Dbe({children:t,onUpdate:e,type:r,element:n,enabled:i}){let s=Lbe(),o=Jr((...l)=>{e?.(...l),s(...l)});return fa(()=>{let l=i===void 0||i===!0;return l&&o(0,r,n),()=>{l&&o(1,r,n)}},[o,r,n,i]),Q.createElement(QR.Provider,{value:o},t)}let hG=b.createContext(null);function pG(){let t=b.useContext(hG);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,pG),e}return t}function $be(){let[t,e]=b.useState([]);return[t.length>0?t.join(" "):void 0,b.useMemo(()=>function(r){let n=Jr(s=>(e(o=>[...o,s]),()=>e(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=b.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return Q.createElement(hG.Provider,{value:i},r.children)},[e])]}let Fbe="p";function Bbe(t,e){let r=Jp(),{id:n=`headlessui-description-${r}`,...i}=t,s=pG(),o=Qa(e);fa(()=>s.register(n),[n,s.register]);let l={ref:o,...s.props,id:n};return pa({ourProps:l,theirProps:i,slot:s.slot||{},defaultTag:Fbe,name:s.name||"Description"})}let zbe=Fs(Bbe),qbe=Object.assign(zbe,{});var Ube=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Ube||{}),Vbe=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(Vbe||{});let Wbe={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},sw=b.createContext(null);sw.displayName="DialogContext";function Hy(t){let e=b.useContext(sw);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Hy),r}return e}function Hbe(t,e,r=()=>[document.body]){Mbe(t,e,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function Kbe(t,e){return Ei(e.type,Wbe,t,e)}let Gbe="div",Zbe=nw.RenderStrategy|nw.Static;function Ybe(t,e){let r=Jp(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=t,[d,h]=b.useState(0),g=b.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=JR();i===void 0&&v!==null&&(i=(v&ks.Open)===ks.Open);let y=b.useRef(null),x=Qa(y,e),_=Vy(y),S=t.hasOwnProperty("open")||v!==null,N=t.hasOwnProperty("onClose");if(!S&&!N)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!N)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let C=i?0:1,[A,k]=b.useReducer(Kbe,{titleId:null,descriptionId:null,panelRef:b.createRef()}),P=Jr(()=>s(!1)),O=Jr(te=>k({type:0,id:te})),I=Xp()?c?!1:C===0:!1,F=d>1,H=b.useContext(sw)!==null,[V,U]=hbe(),z={get current(){var te;return(te=A.panelRef.current)!=null?te:y.current}},{resolveContainers:W,mainTreeNodeRef:J,MainTreeNode:se}=Ibe({portals:V,defaultContainers:[z]}),K=F?"parent":"leaf",ee=v!==null?(v&ks.Closing)===ks.Closing:!1,G=H||ee?!1:I,ne=b.useCallback(()=>{var te,X;return(X=Array.from((te=_?.querySelectorAll("body > *"))!=null?te:[]).find(_e=>_e.id==="headlessui-portal-root"?!1:_e.contains(J.current)&&_e instanceof HTMLElement))!=null?X:null},[J]);BF(ne,G);let Y=F?!0:I,oe=b.useCallback(()=>{var te,X;return(X=Array.from((te=_?.querySelectorAll("[data-headlessui-portal]"))!=null?te:[]).find(_e=>_e.contains(J.current)&&_e instanceof HTMLElement))!=null?X:null},[J]);BF(oe,Y),V0e(W,te=>{te.preventDefault(),P()},!(!I||F));let Ne=!(F||C!==0);aG(_?.defaultView,"keydown",te=>{Ne&&(te.defaultPrevented||te.key===sG.Escape&&(te.preventDefault(),te.stopPropagation(),P()))}),Hbe(_,!(ee||C!==0||H),W),b.useEffect(()=>{if(C!==0||!y.current)return;let te=new ResizeObserver(X=>{for(let _e of X){let we=_e.target.getBoundingClientRect();we.x===0&&we.y===0&&we.width===0&&we.height===0&&P()}});return te.observe(y.current),()=>te.disconnect()},[C,y,P]);let[ce,ae]=$be(),ge=b.useMemo(()=>[{dialogState:C,close:P,setTitleId:O},A],[C,A,P,O]),he=b.useMemo(()=>({open:C===0}),[C]),Pe={ref:x,id:n,role:l,"aria-modal":C===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":ce};return Q.createElement(Dbe,{type:"Dialog",enabled:C===0,element:y,onUpdate:Jr((te,X)=>{X==="Dialog"&&Ei(te,{[gT.Add]:()=>h(_e=>_e+1),[gT.Remove]:()=>h(_e=>_e-1)})})},Q.createElement(hT,{force:!0},Q.createElement(mT,null,Q.createElement(sw.Provider,{value:ge},Q.createElement(mT.Group,{target:y},Q.createElement(hT,{force:!1},Q.createElement(ae,{slot:he,name:"Dialog.Description"},Q.createElement(gg,{initialFocus:o,containers:W,features:I?Ei(K,{parent:gg.features.RestoreFocus,leaf:gg.features.All&~gg.features.FocusLock}):gg.features.None},Q.createElement(U,null,pa({ourProps:Pe,theirProps:u,slot:he,defaultTag:Gbe,features:Zbe,visible:C===0,name:"Dialog"}))))))))),Q.createElement(se,null))}let Xbe="div";function Jbe(t,e){let r=Jp(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=t,[{dialogState:s,close:o}]=Hy("Dialog.Overlay"),l=Qa(e),c=Jr(d=>{if(d.target===d.currentTarget){if(X0e(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=b.useMemo(()=>({open:s===0}),[s]);return pa({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:i,slot:u,defaultTag:Xbe,name:"Dialog.Overlay"})}let Qbe="div";function ewe(t,e){let r=Jp(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=t,[{dialogState:s},o]=Hy("Dialog.Backdrop"),l=Qa(e);b.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=b.useMemo(()=>({open:s===0}),[s]);return Q.createElement(hT,{force:!0},Q.createElement(mT,null,pa({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:Qbe,name:"Dialog.Backdrop"})))}let twe="div";function rwe(t,e){let r=Jp(),{id:n=`headlessui-dialog-panel-${r}`,...i}=t,[{dialogState:s},o]=Hy("Dialog.Panel"),l=Qa(e,o.panelRef),c=b.useMemo(()=>({open:s===0}),[s]),u=Jr(d=>{d.stopPropagation()});return pa({ourProps:{ref:l,id:n,onClick:u},theirProps:i,slot:c,defaultTag:twe,name:"Dialog.Panel"})}let nwe="h2";function iwe(t,e){let r=Jp(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:o}]=Hy("Dialog.Title"),l=Qa(e);b.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=b.useMemo(()=>({open:s===0}),[s]);return pa({ourProps:{ref:l,id:n},theirProps:i,slot:c,defaultTag:nwe,name:"Dialog.Title"})}let swe=Fs(Ybe),awe=Fs(ewe),owe=Fs(rwe),lwe=Fs(Jbe),cwe=Fs(iwe),zF=Object.assign(swe,{Backdrop:awe,Panel:owe,Overlay:lwe,Title:cwe,Description:qbe});function uwe(t=0){let[e,r]=b.useState(t),n=Wy(),i=b.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=b.useCallback(c=>!!(e&c),[e]),o=b.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=b.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:l}}function dwe(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function yN(t,...e){t&&e.length>0&&t.classList.add(...e)}function xN(t,...e){t&&e.length>0&&t.classList.remove(...e)}function fwe(t,e){let r=lf();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(t),[s,o]=[n,i].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return u}),l=s+o;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function hwe(t,e,r,n){let i=r?"enter":"leave",s=lf(),o=n!==void 0?dwe(n):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=Ei(i,{enter:()=>e.enter,leave:()=>e.leave}),c=Ei(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=Ei(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return xN(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),yN(t,...e.base,...l,...u),s.nextFrame(()=>{xN(t,...e.base,...l,...u),yN(t,...e.base,...l,...c),fwe(t,()=>(xN(t,...e.base,...l),yN(t,...e.base,...e.entered),o()))}),s.dispose}function pwe({immediate:t,container:e,direction:r,classes:n,onStart:i,onStop:s}){let o=Wy(),l=ZR(),c=Al(r);fa(()=>{t&&(c.current="enter")},[t]),fa(()=>{let u=lf();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&o.current)return u.dispose(),i.current(c.current),u.add(hwe(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Fc(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let e1=b.createContext(null);e1.displayName="TransitionContext";var mwe=(t=>(t.Visible="visible",t.Hidden="hidden",t))(mwe||{});function gwe(){let t=b.useContext(e1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function vwe(){let t=b.useContext(t1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let t1=b.createContext(null);t1.displayName="NestingContext";function r1(t){return"children"in t?r1(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function mG(t,e){let r=Al(t),n=b.useRef([]),i=Wy(),s=ZR(),o=Jr((v,y=tu.Hidden)=>{let x=n.current.findIndex(({el:_})=>_===v);x!==-1&&(Ei(y,{[tu.Unmount](){n.current.splice(x,1)},[tu.Hidden](){n.current[x].state="hidden"}}),s.microTask(()=>{var _;!r1(n)&&i.current&&((_=r.current)==null||_.call(r))}))}),l=Jr(v=>{let y=n.current.find(({el:x})=>x===v);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,tu.Unmount)}),c=b.useRef([]),u=b.useRef(Promise.resolve()),d=b.useRef({enter:[],leave:[],idle:[]}),h=Jr((v,y,x)=>{c.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([_])=>_!==v)),e?.chains.current[y].push([v,new Promise(_=>{c.current.push(_)})]),e?.chains.current[y].push([v,new Promise(_=>{Promise.all(d.current[y].map(([S,N])=>N)).then(()=>_())})]),y==="enter"?u.current=u.current.then(()=>e?.wait.current).then(()=>x(y)):x(y)}),g=Jr((v,y,x)=>{Promise.all(d.current[y].splice(0).map(([_,S])=>S)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>x(y))});return b.useMemo(()=>({children:n,register:l,unregister:o,onStart:h,onStop:g,wait:u,chains:d}),[l,o,n,h,g,d,u])}function ywe(){}let xwe=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function qF(t){var e;let r={};for(let n of xwe)r[n]=(e=t[n])!=null?e:ywe;return r}function bwe(t){let e=b.useRef(qF(t));return b.useEffect(()=>{e.current=qF(t)},[t]),e}let wwe="div",gG=nw.RenderStrategy;function _we(t,e){var r,n;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:h,leave:g,leaveFrom:v,leaveTo:y,...x}=t,_=b.useRef(null),S=Qa(_,e),N=(r=x.unmount)==null||r?tu.Unmount:tu.Hidden,{show:C,appear:A,initial:k}=gwe(),[P,O]=b.useState(C?"visible":"hidden"),I=vwe(),{register:F,unregister:H}=I;b.useEffect(()=>F(_),[F,_]),b.useEffect(()=>{if(N===tu.Hidden&&_.current){if(C&&P!=="visible"){O("visible");return}return Ei(P,{hidden:()=>H(_),visible:()=>F(_)})}},[P,_,F,H,C,N]);let V=Al({base:Fc(x.className),enter:Fc(c),enterFrom:Fc(u),enterTo:Fc(d),entered:Fc(h),leave:Fc(g),leaveFrom:Fc(v),leaveTo:Fc(y)}),U=bwe({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l}),z=Xp();b.useEffect(()=>{if(z&&P==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,P,z]);let W=k&&!A,J=A&&C&&k,se=!z||W?"idle":C?"enter":"leave",K=uwe(0),ee=Jr(Ne=>Ei(Ne,{enter:()=>{K.addFlag(ks.Opening),U.current.beforeEnter()},leave:()=>{K.addFlag(ks.Closing),U.current.beforeLeave()},idle:()=>{}})),G=Jr(Ne=>Ei(Ne,{enter:()=>{K.removeFlag(ks.Opening),U.current.afterEnter()},leave:()=>{K.removeFlag(ks.Closing),U.current.afterLeave()},idle:()=>{}})),ne=mG(()=>{O("hidden"),H(_)},I),Y=b.useRef(!1);pwe({immediate:J,container:_,classes:V,direction:se,onStart:Al(Ne=>{Y.current=!0,ne.onStart(_,Ne,ee)}),onStop:Al(Ne=>{Y.current=!1,ne.onStop(_,Ne,G),Ne==="leave"&&!r1(ne)&&(O("hidden"),H(_))})});let oe=x,xe={ref:S};return J?oe={...oe,className:rw(x.className,...V.current.enter,...V.current.enterFrom)}:Y.current&&(oe.className=rw(x.className,(n=_.current)==null?void 0:n.className),oe.className===""&&delete oe.className),Q.createElement(t1.Provider,{value:ne},Q.createElement(Z0e,{value:Ei(P,{visible:ks.Open,hidden:ks.Closed})|K.flags},pa({ourProps:xe,theirProps:oe,defaultTag:wwe,features:gG,visible:P==="visible",name:"Transition.Child"})))}function jwe(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,o=b.useRef(null),l=Qa(o,e);Xp();let c=JR();if(r===void 0&&c!==null&&(r=(c&ks.Open)===ks.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=b.useState(r?"visible":"hidden"),h=mG(()=>{d("hidden")}),[g,v]=b.useState(!0),y=b.useRef([r]);fa(()=>{g!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),v(!1))},[y,r]);let x=b.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);b.useEffect(()=>{if(r)d("visible");else if(!r1(h))d("hidden");else{let C=o.current;if(!C)return;let A=C.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&d("hidden")}},[r,h]);let _={unmount:i},S=Jr(()=>{var C;g&&v(!1),(C=t.beforeEnter)==null||C.call(t)}),N=Jr(()=>{var C;g&&v(!1),(C=t.beforeLeave)==null||C.call(t)});return Q.createElement(t1.Provider,{value:h},Q.createElement(e1.Provider,{value:x},pa({ourProps:{..._,as:b.Fragment,children:Q.createElement(vG,{ref:l,..._,...s,beforeEnter:S,beforeLeave:N})},theirProps:{},defaultTag:b.Fragment,features:gG,visible:u==="visible",name:"Transition"})))}function Swe(t,e){let r=b.useContext(e1)!==null,n=JR()!==null;return Q.createElement(Q.Fragment,null,!r&&n?Q.createElement(vT,{ref:e,...t}):Q.createElement(vG,{ref:e,...t}))}let vT=Fs(jwe),vG=Fs(_we),Nwe=Fs(Swe),bN=Object.assign(vT,{Child:Nwe,Root:vT});const Cwe=[{name:"Tableau de bord",href:"/admin",icon:mW},{name:"Utilisateurs",href:"/admin/users",icon:Ka},{name:"Annonces",href:"/admin/listings",icon:tv},{name:"Transactions",href:"/admin/transactions",icon:ip},{name:"Catégories",href:"/admin/categories",icon:tf},{name:"Rapports",href:"/admin/analytics",icon:mR},{name:"Modération",href:"/admin/moderation",icon:Hb},{name:"Paramètres",href:"/admin/settings",icon:bd}];function Ewe({sidebarOpen:t,setSidebarOpen:e}){const r=Pi(),{logout:n}=Sr(),i=async()=>{try{await n(),e(!1)}catch(s){console.error("Erreur lors de la déconnexion:",s)}};return a.jsx(bN.Root,{show:t,as:b.Fragment,children:a.jsxs(zF,{as:"div",className:"fixed inset-0 z-40 flex md:hidden",onClose:e,children:[a.jsx(bN.Child,{as:b.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(zF.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),a.jsx(bN.Child,{as:b.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-slate-900",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>e(!1),children:[a.jsx("span",{className:"sr-only",children:"Fermer le menu"}),a.jsx(os,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:a.jsx("h1",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:Cwe.map(s=>a.jsxs(ar,{to:s.href,onClick:()=>e(!1),className:[r.pathname===s.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center px-2 py-2 text-base font-medium rounded-md"].join(" "),children:[a.jsx(s.icon,{className:["mr-4 flex-shrink-0 h-6 w-6",r.pathname===s.href?"text-white":"text-slate-400 group-hover:text-white"].join(" "),"aria-hidden":"true"}),s.name]},s.name))})]}),a.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-800 p-4",children:a.jsx("button",{onClick:i,className:"flex-shrink-0 w-full group block",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{children:a.jsx(xR,{className:"h-6 w-6 text-slate-400 group-hover:text-white","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-slate-300 group-hover:text-white",children:"Déconnexion"})})]})})})]})}),a.jsx("div",{className:"flex-shrink-0 w-14"})]})})}function Pwe(){const{user:t,hasRole:e,loading:r}=Sr(),[n,i]=b.useState(!1),s=Tn();return b.useEffect(()=>{!r&&!t?s("/connexion",{state:{from:"/admin"}}):!r&&t&&!e("admin")&&s("/")},[t,r,e,s]),r?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:a.jsx(Or,{className:"h-12 w-12 animate-spin text-blue-500"})}):a.jsxs("div",{className:"flex h-screen bg-slate-900 text-white overflow-hidden",children:[a.jsx(Ewe,{sidebarOpen:n,setSidebarOpen:i}),a.jsx(T0e,{className:"hidden md:flex"}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-slate-800 border-b border-slate-700 flex items-center justify-between p-4",children:[a.jsxs("button",{type:"button",className:"md:hidden text-slate-400 hover:text-white focus:outline-none",onClick:()=>i(!0),children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"p-1 rounded-full text-slate-400 hover:text-white focus:outline-none",children:[a.jsx("span",{className:"sr-only",children:"Notifications"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),a.jsx("div",{className:"relative",children:a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",children:[a.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-slate-700 text-sm font-medium text-white",children:t?.name?.charAt(0)||"A"}),a.jsxs("span",{className:"hidden md:inline-flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:t?.name||"Admin"}),a.jsx("svg",{className:"ml-2 h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-900 p-4 md:p-8",children:a.jsx(XV,{})})]})]})}var Ky=t=>t.type==="checkbox",_d=t=>t instanceof Date,Ii=t=>t==null;const yG=t=>typeof t=="object";var vn=t=>!Ii(t)&&!Array.isArray(t)&&yG(t)&&!_d(t),kwe=t=>vn(t)&&t.target?Ky(t.target)?t.target.checked:t.target.value:t,Twe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,Awe=(t,e)=>t.has(Twe(e)),Owe=t=>{const e=t.constructor&&t.constructor.prototype;return vn(e)&&e.hasOwnProperty("isPrototypeOf")},eM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function bi(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(eM&&(t instanceof Blob||n))&&(r||vn(t)))if(e=r?[]:{},!r&&!Owe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=bi(t[i]));else return t;return e}var n1=t=>Array.isArray(t)?t.filter(Boolean):[],Sn=t=>t===void 0,dt=(t,e,r)=>{if(!e||!vn(t))return r;const n=n1(e.split(/[,[\].]+?/)).reduce((i,s)=>Ii(i)?i:i[s],t);return Sn(n)||n===t?Sn(t[e])?r:t[e]:n},go=t=>typeof t=="boolean",tM=t=>/^\w*$/.test(t),xG=t=>n1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Er=(t,e,r)=>{let n=-1;const i=tM(e)?[e]:xG(e),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=t[l];c=vn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const UF={BLUR:"blur",FOCUS_OUT:"focusout"},$a={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},pl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Rwe=Q.createContext(null),Mwe=()=>Q.useContext(Rwe);var Iwe=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==$a.all&&(e._proxyFormState[o]=!n||$a.all),t[o]}});return i};const Lwe=typeof window<"u"?b.useLayoutEffect:b.useEffect;var jo=t=>typeof t=="string",Dwe=(t,e,r,n,i)=>jo(t)?(n&&e.watch.add(t),dt(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),dt(r,s))):(n&&(e.watchAll=!0),r),bG=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},rv=t=>Array.isArray(t)?t:[t],VF=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},yT=t=>Ii(t)||!yG(t);function Jc(t,e){if(yT(t)||yT(e))return t===e;if(_d(t)&&_d(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(_d(s)&&_d(o)||vn(s)&&vn(o)||Array.isArray(s)&&Array.isArray(o)?!Jc(s,o):s!==o)return!1}}return!0}var Ji=t=>vn(t)&&!Object.keys(t).length,rM=t=>t.type==="file",Fa=t=>typeof t=="function",aw=t=>{if(!eM)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wG=t=>t.type==="select-multiple",nM=t=>t.type==="radio",$we=t=>nM(t)||Ky(t),wN=t=>aw(t)&&t.isConnected;function Fwe(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Sn(t)?n++:t[e[n++]];return t}function Bwe(t){for(const e in t)if(t.hasOwnProperty(e)&&!Sn(t[e]))return!1;return!0}function $n(t,e){const r=Array.isArray(e)?e:tM(e)?[e]:xG(e),n=r.length===1?t:Fwe(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(vn(n)&&Ji(n)||Array.isArray(n)&&Bwe(n))&&$n(t,r.slice(0,-1)),t}var _G=t=>{for(const e in t)if(Fa(t[e]))return!0;return!1};function ow(t,e={}){const r=Array.isArray(t);if(vn(t)||r)for(const n in t)Array.isArray(t[n])||vn(t[n])&&!_G(t[n])?(e[n]=Array.isArray(t[n])?[]:{},ow(t[n],e[n])):Ii(t[n])||(e[n]=!0);return e}function jG(t,e,r){const n=Array.isArray(t);if(vn(t)||n)for(const i in t)Array.isArray(t[i])||vn(t[i])&&!_G(t[i])?Sn(e)||yT(r[i])?r[i]=Array.isArray(t[i])?ow(t[i],[]):{...ow(t[i])}:jG(t[i],Ii(e)?{}:e[i],r[i]):r[i]=!Jc(t[i],e[i]);return r}var yg=(t,e)=>jG(t,e,ow(e));const WF={value:!1,isValid:!1},HF={value:!0,isValid:!0};var SG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Sn(t[0].attributes.value)?Sn(t[0].value)||t[0].value===""?HF:{value:t[0].value,isValid:!0}:HF:WF}return WF},NG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Sn(t)?t:e?t===""?NaN:t&&+t:r&&jo(t)?new Date(t):n?n(t):t;const KF={isValid:!1,value:null};var CG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,KF):KF;function GF(t){const e=t.ref;return rM(e)?e.files:nM(e)?CG(t.refs).value:wG(e)?[...e.selectedOptions].map(({value:r})=>r):Ky(e)?SG(t.refs).value:NG(Sn(e.value)?t.ref.value:e.value,t)}var zwe=(t,e,r,n)=>{const i={};for(const s of t){const o=dt(e,s);o&&Er(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},lw=t=>t instanceof RegExp,xg=t=>Sn(t)?t:lw(t)?t.source:vn(t)?lw(t.value)?t.value.source:t.value:t,ZF=t=>({isOnSubmit:!t||t===$a.onSubmit,isOnBlur:t===$a.onBlur,isOnChange:t===$a.onChange,isOnAll:t===$a.all,isOnTouch:t===$a.onTouched});const YF="AsyncFunction";var qwe=t=>!!t&&!!t.validate&&!!(Fa(t.validate)&&t.validate.constructor.name===YF||vn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===YF)),Uwe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),XF=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const nv=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=dt(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(nv(l,e))break}else if(vn(l)&&nv(l,e))break}}};function JF(t,e,r){const n=dt(t,r);if(n||tM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=dt(e,s),l=dt(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:r}}var Vwe=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Ji(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||$a.all))},Wwe=(t,e,r)=>!t||!e||t===e||rv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Hwe=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Kwe=(t,e)=>!n1(dt(t,e)).length&&$n(t,e),Gwe=(t,e,r)=>{const n=rv(dt(t,r));return Er(n,"root",e[r]),Er(t,r,n),t},Sb=t=>jo(t);function QF(t,e,r="validate"){if(Sb(t)||Array.isArray(t)&&t.every(Sb)||go(t)&&!t)return{type:r,message:Sb(t)?t:"",ref:e}}var yh=t=>vn(t)&&!lw(t)?t:{value:t,message:""},e3=async(t,e,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:h,max:g,pattern:v,validate:y,name:x,valueAsNumber:_,mount:S}=t._f,N=dt(r,x);if(!S||e.has(x))return{};const C=l?l[0]:o,A=U=>{i&&C.reportValidity&&(C.setCustomValidity(go(U)?"":U||""),C.reportValidity())},k={},P=nM(o),O=Ky(o),I=P||O,F=(_||rM(o))&&Sn(o.value)&&Sn(N)||aw(o)&&o.value===""||N===""||Array.isArray(N)&&!N.length,H=bG.bind(null,x,n,k),V=(U,z,W,J=pl.maxLength,se=pl.minLength)=>{const K=U?z:W;k[x]={type:U?J:se,message:K,ref:o,...H(U?J:se,K)}};if(s?!Array.isArray(N)||!N.length:c&&(!I&&(F||Ii(N))||go(N)&&!N||O&&!SG(l).isValid||P&&!CG(l).isValid)){const{value:U,message:z}=Sb(c)?{value:!!c,message:c}:yh(c);if(U&&(k[x]={type:pl.required,message:z,ref:C,...H(pl.required,z)},!n))return A(z),k}if(!F&&(!Ii(h)||!Ii(g))){let U,z;const W=yh(g),J=yh(h);if(!Ii(N)&&!isNaN(N)){const se=o.valueAsNumber||N&&+N;Ii(W.value)||(U=se>W.value),Ii(J.value)||(z=se<J.value)}else{const se=o.valueAsDate||new Date(N),K=ne=>new Date(new Date().toDateString()+" "+ne),ee=o.type=="time",G=o.type=="week";jo(W.value)&&N&&(U=ee?K(N)>K(W.value):G?N>W.value:se>new Date(W.value)),jo(J.value)&&N&&(z=ee?K(N)<K(J.value):G?N<J.value:se<new Date(J.value))}if((U||z)&&(V(!!U,W.message,J.message,pl.max,pl.min),!n))return A(k[x].message),k}if((u||d)&&!F&&(jo(N)||s&&Array.isArray(N))){const U=yh(u),z=yh(d),W=!Ii(U.value)&&N.length>+U.value,J=!Ii(z.value)&&N.length<+z.value;if((W||J)&&(V(W,U.message,z.message),!n))return A(k[x].message),k}if(v&&!F&&jo(N)){const{value:U,message:z}=yh(v);if(lw(U)&&!N.match(U)&&(k[x]={type:pl.pattern,message:z,ref:o,...H(pl.pattern,z)},!n))return A(z),k}if(y){if(Fa(y)){const U=await y(N,r),z=QF(U,C);if(z&&(k[x]={...z,...H(pl.validate,z.message)},!n))return A(z.message),k}else if(vn(y)){let U={};for(const z in y){if(!Ji(U)&&!n)break;const W=QF(await y[z](N,r),C,z);W&&(U={...W,...H(z,W.message)},A(W.message),n&&(k[x]=U))}if(!Ji(U)&&(k[x]={ref:C,...U},!n))return k}}return A(!0),k};const Zwe={mode:$a.onSubmit,reValidateMode:$a.onChange,shouldFocusError:!0};function Ywe(t={}){let e={...Zwe,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Fa(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=vn(e.defaultValues)||vn(e.values)?bi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:bi(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let h={...d};const g={array:VF(),state:VF()},v=e.criteriaMode===$a.all,y=fe=>je=>{clearTimeout(u),u=setTimeout(fe,je)},x=async fe=>{if(!e.disabled&&(d.isValid||h.isValid||fe)){const je=e.resolver?Ji((await O()).errors):await F(n,!0);je!==r.isValid&&g.state.next({isValid:je})}},_=(fe,je)=>{!e.disabled&&(d.isValidating||d.validatingFields||h.isValidating||h.validatingFields)&&((fe||Array.from(l.mount)).forEach(Ae=>{Ae&&(je?Er(r.validatingFields,Ae,je):$n(r.validatingFields,Ae))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Ji(r.validatingFields)}))},S=(fe,je=[],Ae,Ze,Xe=!0,me=!0)=>{if(Ze&&Ae&&!e.disabled){if(o.action=!0,me&&Array.isArray(dt(n,fe))){const De=Ae(dt(n,fe),Ze.argA,Ze.argB);Xe&&Er(n,fe,De)}if(me&&Array.isArray(dt(r.errors,fe))){const De=Ae(dt(r.errors,fe),Ze.argA,Ze.argB);Xe&&Er(r.errors,fe,De),Kwe(r.errors,fe)}if((d.touchedFields||h.touchedFields)&&me&&Array.isArray(dt(r.touchedFields,fe))){const De=Ae(dt(r.touchedFields,fe),Ze.argA,Ze.argB);Xe&&Er(r.touchedFields,fe,De)}(d.dirtyFields||h.dirtyFields)&&(r.dirtyFields=yg(i,s)),g.state.next({name:fe,isDirty:V(fe,je),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Er(s,fe,je)},N=(fe,je)=>{Er(r.errors,fe,je),g.state.next({errors:r.errors})},C=fe=>{r.errors=fe,g.state.next({errors:r.errors,isValid:!1})},A=(fe,je,Ae,Ze)=>{const Xe=dt(n,fe);if(Xe){const me=dt(s,fe,Sn(Ae)?dt(i,fe):Ae);Sn(me)||Ze&&Ze.defaultChecked||je?Er(s,fe,je?me:GF(Xe._f)):W(fe,me),o.mount&&x()}},k=(fe,je,Ae,Ze,Xe)=>{let me=!1,De=!1;const Z={name:fe};if(!e.disabled){if(!Ae||Ze){(d.isDirty||h.isDirty)&&(De=r.isDirty,r.isDirty=Z.isDirty=V(),me=De!==Z.isDirty);const D=Jc(dt(i,fe),je);De=!!dt(r.dirtyFields,fe),D?$n(r.dirtyFields,fe):Er(r.dirtyFields,fe,!0),Z.dirtyFields=r.dirtyFields,me=me||(d.dirtyFields||h.dirtyFields)&&De!==!D}if(Ae){const D=dt(r.touchedFields,fe);D||(Er(r.touchedFields,fe,Ae),Z.touchedFields=r.touchedFields,me=me||(d.touchedFields||h.touchedFields)&&D!==Ae)}me&&Xe&&g.state.next(Z)}return me?Z:{}},P=(fe,je,Ae,Ze)=>{const Xe=dt(r.errors,fe),me=(d.isValid||h.isValid)&&go(je)&&r.isValid!==je;if(e.delayError&&Ae?(c=y(()=>N(fe,Ae)),c(e.delayError)):(clearTimeout(u),c=null,Ae?Er(r.errors,fe,Ae):$n(r.errors,fe)),(Ae?!Jc(Xe,Ae):Xe)||!Ji(Ze)||me){const De={...Ze,...me&&go(je)?{isValid:je}:{},errors:r.errors,name:fe};r={...r,...De},g.state.next(De)}},O=async fe=>{_(fe,!0);const je=await e.resolver(s,e.context,zwe(fe||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(fe),je},I=async fe=>{const{errors:je}=await O(fe);if(fe)for(const Ae of fe){const Ze=dt(je,Ae);Ze?Er(r.errors,Ae,Ze):$n(r.errors,Ae)}else r.errors=je;return je},F=async(fe,je,Ae={valid:!0})=>{for(const Ze in fe){const Xe=fe[Ze];if(Xe){const{_f:me,...De}=Xe;if(me){const Z=l.array.has(me.name),D=Xe._f&&qwe(Xe._f);D&&d.validatingFields&&_([Ze],!0);const B=await e3(Xe,l.disabled,s,v,e.shouldUseNativeValidation&&!je,Z);if(D&&d.validatingFields&&_([Ze]),B[me.name]&&(Ae.valid=!1,je))break;!je&&(dt(B,me.name)?Z?Gwe(r.errors,B,me.name):Er(r.errors,me.name,B[me.name]):$n(r.errors,me.name))}!Ji(De)&&await F(De,je,Ae)}}return Ae.valid},H=()=>{for(const fe of l.unMount){const je=dt(n,fe);je&&(je._f.refs?je._f.refs.every(Ae=>!wN(Ae)):!wN(je._f.ref))&&ae(fe)}l.unMount=new Set},V=(fe,je)=>!e.disabled&&(fe&&je&&Er(s,fe,je),!Jc(ne(),i)),U=(fe,je,Ae)=>Dwe(fe,l,{...o.mount?s:Sn(je)?i:jo(fe)?{[fe]:je}:je},Ae,je),z=fe=>n1(dt(o.mount?s:i,fe,e.shouldUnregister?dt(i,fe,[]):[])),W=(fe,je,Ae={})=>{const Ze=dt(n,fe);let Xe=je;if(Ze){const me=Ze._f;me&&(!me.disabled&&Er(s,fe,NG(je,me)),Xe=aw(me.ref)&&Ii(je)?"":je,wG(me.ref)?[...me.ref.options].forEach(De=>De.selected=Xe.includes(De.value)):me.refs?Ky(me.ref)?me.refs.forEach(De=>{(!De.defaultChecked||!De.disabled)&&(Array.isArray(Xe)?De.checked=!!Xe.find(Z=>Z===De.value):De.checked=Xe===De.value||!!Xe)}):me.refs.forEach(De=>De.checked=De.value===Xe):rM(me.ref)?me.ref.value="":(me.ref.value=Xe,me.ref.type||g.state.next({name:fe,values:bi(s)})))}(Ae.shouldDirty||Ae.shouldTouch)&&k(fe,Xe,Ae.shouldTouch,Ae.shouldDirty,!0),Ae.shouldValidate&&G(fe)},J=(fe,je,Ae)=>{for(const Ze in je){if(!je.hasOwnProperty(Ze))return;const Xe=je[Ze],me=fe+"."+Ze,De=dt(n,me);(l.array.has(fe)||vn(Xe)||De&&!De._f)&&!_d(Xe)?J(me,Xe,Ae):W(me,Xe,Ae)}},se=(fe,je,Ae={})=>{const Ze=dt(n,fe),Xe=l.array.has(fe),me=bi(je);Er(s,fe,me),Xe?(g.array.next({name:fe,values:bi(s)}),(d.isDirty||d.dirtyFields||h.isDirty||h.dirtyFields)&&Ae.shouldDirty&&g.state.next({name:fe,dirtyFields:yg(i,s),isDirty:V(fe,me)})):Ze&&!Ze._f&&!Ii(me)?J(fe,me,Ae):W(fe,me,Ae),XF(fe,l)&&g.state.next({...r}),g.state.next({name:o.mount?fe:void 0,values:bi(s)})},K=async fe=>{o.mount=!0;const je=fe.target;let Ae=je.name,Ze=!0;const Xe=dt(n,Ae),me=D=>{Ze=Number.isNaN(D)||_d(D)&&isNaN(D.getTime())||Jc(D,dt(s,Ae,D))},De=ZF(e.mode),Z=ZF(e.reValidateMode);if(Xe){let D,B;const le=je.type?GF(Xe._f):kwe(fe),ye=fe.type===UF.BLUR||fe.type===UF.FOCUS_OUT,Re=!Uwe(Xe._f)&&!e.resolver&&!dt(r.errors,Ae)&&!Xe._f.deps||Hwe(ye,dt(r.touchedFields,Ae),r.isSubmitted,Z,De),$e=XF(Ae,l,ye);Er(s,Ae,le),ye?(Xe._f.onBlur&&Xe._f.onBlur(fe),c&&c(0)):Xe._f.onChange&&Xe._f.onChange(fe);const yt=k(Ae,le,ye),lr=!Ji(yt)||$e;if(!ye&&g.state.next({name:Ae,type:fe.type,values:bi(s)}),Re)return(d.isValid||h.isValid)&&(e.mode==="onBlur"?ye&&x():ye||x()),lr&&g.state.next({name:Ae,...$e?{}:yt});if(!ye&&$e&&g.state.next({...r}),e.resolver){const{errors:Ut}=await O([Ae]);if(me(le),Ze){const Xt=JF(r.errors,n,Ae),Ht=JF(Ut,n,Xt.name||Ae);D=Ht.error,Ae=Ht.name,B=Ji(Ut)}}else _([Ae],!0),D=(await e3(Xe,l.disabled,s,v,e.shouldUseNativeValidation))[Ae],_([Ae]),me(le),Ze&&(D?B=!1:(d.isValid||h.isValid)&&(B=await F(n,!0)));Ze&&(Xe._f.deps&&G(Xe._f.deps),P(Ae,B,D,yt))}},ee=(fe,je)=>{if(dt(r.errors,je)&&fe.focus)return fe.focus(),1},G=async(fe,je={})=>{let Ae,Ze;const Xe=rv(fe);if(e.resolver){const me=await I(Sn(fe)?fe:Xe);Ae=Ji(me),Ze=fe?!Xe.some(De=>dt(me,De)):Ae}else fe?(Ze=(await Promise.all(Xe.map(async me=>{const De=dt(n,me);return await F(De&&De._f?{[me]:De}:De)}))).every(Boolean),!(!Ze&&!r.isValid)&&x()):Ze=Ae=await F(n);return g.state.next({...!jo(fe)||(d.isValid||h.isValid)&&Ae!==r.isValid?{}:{name:fe},...e.resolver||!fe?{isValid:Ae}:{},errors:r.errors}),je.shouldFocus&&!Ze&&nv(n,ee,fe?Xe:l.mount),Ze},ne=fe=>{const je={...o.mount?s:i};return Sn(fe)?je:jo(fe)?dt(je,fe):fe.map(Ae=>dt(je,Ae))},Y=(fe,je)=>({invalid:!!dt((je||r).errors,fe),isDirty:!!dt((je||r).dirtyFields,fe),error:dt((je||r).errors,fe),isValidating:!!dt(r.validatingFields,fe),isTouched:!!dt((je||r).touchedFields,fe)}),oe=fe=>{fe&&rv(fe).forEach(je=>$n(r.errors,je)),g.state.next({errors:fe?r.errors:{}})},xe=(fe,je,Ae)=>{const Ze=(dt(n,fe,{_f:{}})._f||{}).ref,Xe=dt(r.errors,fe)||{},{ref:me,message:De,type:Z,...D}=Xe;Er(r.errors,fe,{...D,...je,ref:Ze}),g.state.next({name:fe,errors:r.errors,isValid:!1}),Ae&&Ae.shouldFocus&&Ze&&Ze.focus&&Ze.focus()},Ne=(fe,je)=>Fa(fe)?g.state.subscribe({next:Ae=>fe(U(void 0,je),Ae)}):U(fe,je,!0),Le=fe=>g.state.subscribe({next:je=>{Wwe(fe.name,je.name,fe.exact)&&Vwe(je,fe.formState||d,Ce,fe.reRenderRoot)&&fe.callback({values:{...s},...r,...je})}}).unsubscribe,ce=fe=>(o.mount=!0,h={...h,...fe.formState},Le({...fe,formState:h})),ae=(fe,je={})=>{for(const Ae of fe?rv(fe):l.mount)l.mount.delete(Ae),l.array.delete(Ae),je.keepValue||($n(n,Ae),$n(s,Ae)),!je.keepError&&$n(r.errors,Ae),!je.keepDirty&&$n(r.dirtyFields,Ae),!je.keepTouched&&$n(r.touchedFields,Ae),!je.keepIsValidating&&$n(r.validatingFields,Ae),!e.shouldUnregister&&!je.keepDefaultValue&&$n(i,Ae);g.state.next({values:bi(s)}),g.state.next({...r,...je.keepDirty?{isDirty:V()}:{}}),!je.keepIsValid&&x()},ge=({disabled:fe,name:je})=>{(go(fe)&&o.mount||fe||l.disabled.has(je))&&(fe?l.disabled.add(je):l.disabled.delete(je))},he=(fe,je={})=>{let Ae=dt(n,fe);const Ze=go(je.disabled)||go(e.disabled);return Er(n,fe,{...Ae||{},_f:{...Ae&&Ae._f?Ae._f:{ref:{name:fe}},name:fe,mount:!0,...je}}),l.mount.add(fe),Ae?ge({disabled:go(je.disabled)?je.disabled:e.disabled,name:fe}):A(fe,!0,je.value),{...Ze?{disabled:je.disabled||e.disabled}:{},...e.progressive?{required:!!je.required,min:xg(je.min),max:xg(je.max),minLength:xg(je.minLength),maxLength:xg(je.maxLength),pattern:xg(je.pattern)}:{},name:fe,onChange:K,onBlur:K,ref:Xe=>{if(Xe){he(fe,je),Ae=dt(n,fe);const me=Sn(Xe.value)&&Xe.querySelectorAll&&Xe.querySelectorAll("input,select,textarea")[0]||Xe,De=$we(me),Z=Ae._f.refs||[];if(De?Z.find(D=>D===me):me===Ae._f.ref)return;Er(n,fe,{_f:{...Ae._f,...De?{refs:[...Z.filter(wN),me,...Array.isArray(dt(i,fe))?[{}]:[]],ref:{type:me.type,name:fe}}:{ref:me}}}),A(fe,!1,void 0,me)}else Ae=dt(n,fe,{}),Ae._f&&(Ae._f.mount=!1),(e.shouldUnregister||je.shouldUnregister)&&!(Awe(l.array,fe)&&o.action)&&l.unMount.add(fe)}}},Pe=()=>e.shouldFocusError&&nv(n,ee,l.mount),te=fe=>{go(fe)&&(g.state.next({disabled:fe}),nv(n,(je,Ae)=>{const Ze=dt(n,Ae);Ze&&(je.disabled=Ze._f.disabled||fe,Array.isArray(Ze._f.refs)&&Ze._f.refs.forEach(Xe=>{Xe.disabled=Ze._f.disabled||fe}))},0,!1))},X=(fe,je)=>async Ae=>{let Ze;Ae&&(Ae.preventDefault&&Ae.preventDefault(),Ae.persist&&Ae.persist());let Xe=bi(s);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:me,values:De}=await O();r.errors=me,Xe=De}else await F(n);if(l.disabled.size)for(const me of l.disabled)Er(Xe,me,void 0);if($n(r.errors,"root"),Ji(r.errors)){g.state.next({errors:{}});try{await fe(Xe,Ae)}catch(me){Ze=me}}else je&&await je({...r.errors},Ae),Pe(),setTimeout(Pe);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ji(r.errors)&&!Ze,submitCount:r.submitCount+1,errors:r.errors}),Ze)throw Ze},_e=(fe,je={})=>{dt(n,fe)&&(Sn(je.defaultValue)?se(fe,bi(dt(i,fe))):(se(fe,je.defaultValue),Er(i,fe,bi(je.defaultValue))),je.keepTouched||$n(r.touchedFields,fe),je.keepDirty||($n(r.dirtyFields,fe),r.isDirty=je.defaultValue?V(fe,bi(dt(i,fe))):V()),je.keepError||($n(r.errors,fe),d.isValid&&x()),g.state.next({...r}))},we=(fe,je={})=>{const Ae=fe?bi(fe):i,Ze=bi(Ae),Xe=Ji(fe),me=Xe?i:Ze;if(je.keepDefaultValues||(i=Ae),!je.keepValues){if(je.keepDirtyValues){const De=new Set([...l.mount,...Object.keys(yg(i,s))]);for(const Z of Array.from(De))dt(r.dirtyFields,Z)?Er(me,Z,dt(s,Z)):se(Z,dt(me,Z))}else{if(eM&&Sn(fe))for(const De of l.mount){const Z=dt(n,De);if(Z&&Z._f){const D=Array.isArray(Z._f.refs)?Z._f.refs[0]:Z._f.ref;if(aw(D)){const B=D.closest("form");if(B){B.reset();break}}}}for(const De of l.mount)se(De,dt(me,De))}s=bi(me),g.array.next({values:{...me}}),g.state.next({values:{...me}})}l={mount:je.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!je.keepIsValid||!!je.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:je.keepSubmitCount?r.submitCount:0,isDirty:Xe?!1:je.keepDirty?r.isDirty:!!(je.keepDefaultValues&&!Jc(fe,i)),isSubmitted:je.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Xe?{}:je.keepDirtyValues?je.keepDefaultValues&&s?yg(i,s):r.dirtyFields:je.keepDefaultValues&&fe?yg(i,fe):je.keepDirty?r.dirtyFields:{},touchedFields:je.keepTouched?r.touchedFields:{},errors:je.keepErrors?r.errors:{},isSubmitSuccessful:je.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},We=(fe,je)=>we(Fa(fe)?fe(s):fe,je),Ue=(fe,je={})=>{const Ae=dt(n,fe),Ze=Ae&&Ae._f;if(Ze){const Xe=Ze.refs?Ze.refs[0]:Ze.ref;Xe.focus&&(Xe.focus(),je.shouldSelect&&Fa(Xe.select)&&Xe.select())}},Ce=fe=>{r={...r,...fe}},Dt={control:{register:he,unregister:ae,getFieldState:Y,handleSubmit:X,setError:xe,_subscribe:Le,_runSchema:O,_focusError:Pe,_getWatch:U,_getDirty:V,_setValid:x,_setFieldArray:S,_setDisabledField:ge,_setErrors:C,_getFieldArray:z,_reset:we,_resetDefaultValues:()=>Fa(e.defaultValues)&&e.defaultValues().then(fe=>{We(fe,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:H,_disableForm:te,_subjects:g,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(fe){o=fe},get _defaultValues(){return i},get _names(){return l},set _names(fe){l=fe},get _formState(){return r},get _options(){return e},set _options(fe){e={...e,...fe}}},subscribe:ce,trigger:G,register:he,handleSubmit:X,watch:Ne,setValue:se,getValues:ne,reset:We,resetField:_e,clearErrors:oe,unregister:ae,setError:xe,setFocus:Ue,getFieldState:Y};return{...Dt,formControl:Dt}}function Qp(t={}){const e=Q.useRef(void 0),r=Q.useRef(void 0),[n,i]=Q.useState({isDirty:!1,isValidating:!1,isLoading:Fa(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Fa(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:Ywe(t),formState:n},t.formControl&&t.defaultValues&&!Fa(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,Lwe(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),Q.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Q.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Q.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Q.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Q.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),Q.useEffect(()=>{t.values&&!Jc(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Q.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=Iwe(n,s),e.current}var Xwe="Label",EG=b.forwardRef((t,e)=>a.jsx(tr.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));EG.displayName=Xwe;var PG=EG;const rt=Q.forwardRef(({className:t,...e},r)=>a.jsx(PG,{ref:r,className:qe("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));rt.displayName=PG.displayName;function iM(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var i1="Checkbox",[Jwe,BUe]=Dr(i1),[Qwe,sM]=Jwe(i1);function e_e(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:h}=t,[g,v]=as({prop:r,defaultProp:i??!1,onChange:c,caller:i1}),[y,x]=b.useState(null),[_,S]=b.useState(null),N=b.useRef(!1),C=y?!!o||!!y.closest("form"):!0,A={checked:g,disabled:s,setChecked:v,control:y,setControl:x,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:N,required:u,defaultChecked:su(i)?!1:i,isFormControl:C,bubbleInput:_,setBubbleInput:S};return a.jsx(Qwe,{scope:e,...A,children:t_e(h)?h(A):n})}var kG="CheckboxTrigger",TG=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:y}=sM(kG,t),x=at(i,d),_=b.useRef(c);return b.useEffect(()=>{const S=s?.form;if(S){const N=()=>h(_.current);return S.addEventListener("reset",N),()=>S.removeEventListener("reset",N)}},[s,h]),a.jsx(tr.button,{type:"button",role:"checkbox","aria-checked":su(c)?"mixed":c,"aria-required":u,"data-state":IG(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:x,onKeyDown:Ve(e,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Ve(r,S=>{h(N=>su(N)?!0:!N),y&&v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});TG.displayName=kG;var aM=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...h}=t;return a.jsx(e_e,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(TG,{...h,ref:e,__scopeCheckbox:r}),g&&a.jsx(MG,{__scopeCheckbox:r})]})})});aM.displayName=i1;var AG="CheckboxIndicator",OG=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=sM(AG,r);return a.jsx(ls,{present:n||su(s.checked)||s.checked===!0,children:a.jsx(tr.span,{"data-state":IG(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});OG.displayName=AG;var RG="CheckboxBubbleInput",MG=b.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:h,bubbleInput:g,setBubbleInput:v}=sM(RG,t),y=at(r,v),x=iM(s),_=sf(n);b.useEffect(()=>{const N=g;if(!N)return;const C=window.HTMLInputElement.prototype,k=Object.getOwnPropertyDescriptor(C,"checked").set,P=!i.current;if(x!==s&&k){const O=new Event("click",{bubbles:P});N.indeterminate=su(s),k.call(N,su(s)?!1:s),N.dispatchEvent(O)}},[g,x,s,i]);const S=b.useRef(su(s)?!1:s);return a.jsx(tr.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:l,disabled:c,name:u,value:d,form:h,...e,tabIndex:-1,ref:y,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});MG.displayName=RG;function t_e(t){return typeof t=="function"}function su(t){return t==="indeterminate"}function IG(t){return su(t)?"indeterminate":t?"checked":"unchecked"}const LG=b.forwardRef(({className:t,...e},r)=>a.jsx(aM,{ref:r,className:qe("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(OG,{className:qe("flex items-center justify-center text-current"),children:a.jsx(np,{className:"h-4 w-4"})})}));LG.displayName=aM.displayName;const r_e=()=>{const{login:t}=Sr(),{register:e,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=Qp(),[s,o]=b.useState(!1),{t:l}=nf("auth"),c=async u=>{await t(u,s)};return a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:l("login.title")}),a.jsx(Cn,{children:l("login.subtitle")})]}),a.jsx(Bt,{children:a.jsxs("form",{onSubmit:r(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:l("login.email")}),a.jsxs("div",{className:"relative",children:[a.jsx(pu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:l("validation.emailRequired"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:l("validation.emailInvalid")}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:l("login.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(zd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...e("password",{required:l("validation.passwordRequired"),minLength:{value:8,message:l("validation.passwordMinLength")}})})]}),n.password&&a.jsx("p",{className:"text-sm text-destructive",children:n.password.message})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(LG,{id:"rememberMe",checked:s,onCheckedChange:o}),a.jsx(rt,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:l("login.rememberMe")})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-spin"}),l("status.loading")]}):l("login.loginButton")})]})}),a.jsxs(bv,{className:"flex flex-col space-y-2",children:[a.jsx(ar,{to:"/mot-de-passe-oublie",className:"text-sm text-primary hover:underline",children:"Mot de passe oublié ?"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",a.jsx(ar,{to:"/inscription",className:"text-primary hover:underline",children:"S'inscrire"})]})]})]})})},n_e=()=>{const{user:t,loading:e}=Sr(),r=Tn(),n=Pi();return b.useEffect(()=>{if(!e&&t){const i=n.state?.from||(t.role==="admin"?"/admin":"/");r(i,{replace:!0})}},[t,e,r,n]),e||t?null:a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(r_e,{})})},i_e=()=>{const{register:t}=Sr(),{register:e,handleSubmit:r,watch:n,formState:{errors:i,isSubmitting:s}}=Qp(),[o,l]=b.useState({shown:!1,email:""}),[c,u]=b.useState(!1),[d,h]=b.useState(null),g=async y=>{const x=await t(y);x&&x.needsConfirmation&&l({shown:!0,email:y.email})},v=n("password");return o.shown?a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jde,{className:"h-5 w-5 text-green-600"}),a.jsx(sr,{children:"Inscription réussie"})]}),a.jsx(Cn,{children:"Vérifiez votre email pour confirmer votre compte."})]}),a.jsxs(Bt,{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nous avons envoyé un lien de confirmation à:",a.jsx("div",{className:"mt-1 font-medium text-foreground",children:o.email})]}),d&&a.jsx("div",{className:"text-sm",children:d}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{type:"button",onClick:async()=>{try{u(!0),h(null);const{error:y}=await be.auth.resend({type:"signup",email:o.email,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(y)throw y;h("Un nouvel email de confirmation a été envoyé.")}catch(y){h(y.message||"Impossible d'envoyer l'email de confirmation.")}finally{u(!1)}},disabled:c,className:"inline-flex items-center",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(yfe,{className:"mr-2 h-4 w-4"}),"Renvoyer l'email"]})}),a.jsx(ue,{type:"button",variant:"outline",onClick:()=>l({shown:!1,email:""}),children:"Utiliser une autre adresse"})]})]}),a.jsxs(bv,{className:"flex flex-col items-start gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Déjà confirmé ?"}),a.jsx(ar,{to:"/connexion",className:"text-primary hover:underline text-sm",children:"Se connecter"})]})]})}):a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Inscription"}),a.jsx(Cn,{children:"Créez votre compte MaxiMarket"})]}),a.jsx(Bt,{children:a.jsxs("form",{onSubmit:r(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",type:"text",placeholder:"John",className:"pl-10",...e("firstName",{required:"Le prénom est requis",minLength:{value:2,message:"Le prénom doit contenir au moins 2 caractères"}})})]}),i.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:i.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",type:"text",placeholder:"Doe",className:"pl-10",...e("lastName",{required:"Le nom est requis",minLength:{value:2,message:"Le nom doit contenir au moins 2 caractères"}})})]}),i.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:i.lastName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(pu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),i.email&&a.jsx("p",{className:"text-sm text-destructive",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",placeholder:"+221 77 123 45 67",className:"pl-10",...e("phoneNumber",{required:"Le numéro de téléphone est requis",pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),i.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:i.phoneNumber.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(zd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...e("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),i.password&&a.jsx("p",{className:"text-sm text-destructive",children:i.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(zd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",placeholder:"••••••••",className:"pl-10",...e("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:y=>y===v||"Les mots de passe ne correspondent pas"})})]}),i.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:i.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription en cours..."]}):"S'inscrire"})]})}),a.jsx(bv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",a.jsx(ar,{to:"/connexion",className:"text-primary hover:underline",children:"Se connecter"})]})})]})})},s_e=()=>a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(i_e,{})}),a_e=()=>{const{toast:t}=Yr(),{register:e,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=Qp(),s=async o=>{try{t({title:"Email envoyé",description:"Si un compte existe avec cet email, vous recevrez les instructions de réinitialisation."})}catch(l){t({title:"Erreur",description:l.message,variant:"destructive"})}};return a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Mot de passe oublié"}),a.jsx(Cn,{children:"Entrez votre adresse email pour recevoir les instructions de réinitialisation"})]}),a.jsx(Bt,{children:a.jsxs("form",{onSubmit:r(s),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(pu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer les instructions"})]})}),a.jsx(bv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Retour à la"," ",a.jsx(ar,{to:"/connexion",className:"text-primary hover:underline",children:"page de connexion"})]})})]})})})},o_e=()=>{const{toast:t}=Yr(),e=Tn(),[r]=SO(),n=r.get("token"),{register:i,handleSubmit:s,watch:o,formState:{errors:l,isSubmitting:c}}=Qp(),u=o("password"),d=async h=>{try{if(!n)throw new Error("Token de réinitialisation manquant");t({title:"Mot de passe réinitialisé",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),e("/connexion")}catch(g){t({title:"Erreur",description:g.message,variant:"destructive"})}};return n?a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Réinitialisation du mot de passe"}),a.jsx(Cn,{children:"Choisissez votre nouveau mot de passe"})]}),a.jsx(Bt,{children:a.jsxs("form",{onSubmit:s(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"password",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(zd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"password",type:"password",className:"pl-10",...i("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),l.password&&a.jsx("p",{className:"text-sm text-destructive",children:l.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(zd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"confirmPassword",type:"password",className:"pl-10",...i("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:h=>h===u||"Les mots de passe ne correspondent pas"})})]}),l.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:l.confirmPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-spin"}),"Réinitialisation en cours..."]}):"Réinitialiser le mot de passe"})]})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(It,{children:a.jsxs(ir,{children:[a.jsx(sr,{className:"text-destructive",children:"Lien invalide"}),a.jsx(Cn,{children:"Le lien de réinitialisation est invalide ou a expiré. Veuillez faire une nouvelle demande de réinitialisation."})]})})})},l_e=(t="dashboard")=>{const[e,r]=SO(),[n,i]=b.useState(t);return b.useEffect(()=>{const o=e.get("tab");o&&i(o)},[e]),{activeTab:n,handleTabChange:o=>{i(o),r({tab:o})},setActiveTab:i}},z0=({title:t,value:e,icon:r,trend:n,trendValue:i,color:s="blue",className:o})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600",pink:"from-pink-500 to-pink-600"},c={blue:"text-blue-200",green:"text-green-200",purple:"text-purple-200",orange:"text-orange-200",red:"text-red-200",teal:"text-teal-200",indigo:"text-indigo-200",pink:"text-pink-200"};return a.jsx(It,{className:qe(`bg-gradient-to-br ${l[s]} text-white overflow-hidden`,o),children:a.jsx(Bt,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm opacity-90 mb-1",children:t}),a.jsx("p",{className:"text-2xl font-bold",children:e}),n&&a.jsx("div",{className:"flex items-center mt-2",children:a.jsxs(pt,{variant:"secondary",className:qe("text-xs bg-white/20 text-white border-0",n==="up"?"text-green-200":"text-red-200"),children:[n==="up"?"↗":"↘"," ",i]})})]}),r&&a.jsx("div",{className:qe("p-3 rounded-full bg-white/10",c[s]),children:a.jsx(r,{className:"h-6 w-6"})})]})})})},c_e=(t={})=>{const{threshold:e=.1,rootMargin:r="50px",root:n=null,triggerOnce:i=!1}=t,[s,o]=b.useState(!1),[l,c]=b.useState(!1),u=b.useRef(null),d=b.useCallback(h=>{const[g]=h;g.isIntersecting?(o(!0),i&&!l&&c(!0)):i||o(!1)},[i,l]);return b.useEffect(()=>{const h=u.current;if(!h)return;const g=new IntersectionObserver(d,{threshold:e,rootMargin:r,root:n});return g.observe(h),()=>{g.unobserve(h),g.disconnect()}},[d,e,r,n]),[u,s]},u_e=(t={})=>{const{threshold:e=.1,rootMargin:r="100px",placeholder:n=null,onLoad:i=null,onError:s=null}=t,[o,l]=b.useState({src:null,isLoading:!1,hasLoaded:!1,hasError:!1}),[c,u]=c_e({threshold:e,rootMargin:r,triggerOnce:!0}),d=b.useCallback(g=>{if(!g||o.src===g)return;l(y=>({...y,src:g,isLoading:!0,hasLoaded:!1,hasError:!1}));const v=new Image;v.onload=()=>{l(y=>({...y,isLoading:!1,hasLoaded:!0})),i?.(g)},v.onerror=()=>{l(y=>({...y,isLoading:!1,hasError:!0})),s?.(g)},v.src=g},[o.src,i,s]);b.useEffect(()=>{u&&o.src&&d(o.src)},[u,o.src,d]);const h=b.useCallback(g=>{g!==o.src&&l(v=>({...v,src:g}))},[o.src]);return{elementRef:c,isIntersecting:u,imageState:o,setImageSrc:h,loadImage:d}},t3={thumbnail:{width:150,height:150},card:{width:400,height:300},gallery:{width:800,height:600},fullscreen:{width:1200,height:900},hero:{width:1920,height:1080}},r3={low:60,medium:80,high:95},DG=(t,e="gallery",r="medium")=>{if(!t)return t;const n=t3[e]||t3.gallery,i=r3[r]||r3.medium;if(t.includes("unsplash.com"))return`${t}?w=${n.width}&h=${n.height}&fit=crop&q=${i}&auto=format&fm=webp`;if(t.includes("cloudinary.com"))return t.replace("/upload/",`/upload/w_${n.width},h_${n.height},c_fill,q_${i},f_auto/`);if(t.includes("imagekit.io"))return`${t}?tr=w-${n.width},h-${n.height},c-at_max,q-${i}`;if(t.includes("cdn.")||t.includes("static.")){const s=t.includes("?")?"&":"?";return`${t}${s}w=${n.width}&h=${n.height}&q=${i}`}return t},d_e=(t,e="gallery",r="medium")=>Array.isArray(t)?t.map(n=>DG(n,e,r)):[],f_e=({src:t,alt:e,className:r="",placeholder:n=null,context:i="gallery",quality:s="medium",onLoad:o=null,onError:l=null,showSkeleton:c=!0,priority:u="medium",fallbackSrc:d=null,enableHeroAnimations:h=!1,showOverlay:g=!1,overlayGradient:v="to-b from-transparent via-transparent to-black/20",...y})=>{const[x,_]=b.useState(!1),[S,N]=b.useState(!1),C=J=>J?typeof J=="string"?J:J?.url?J.url:J?.file?URL.createObjectURL(J.file):J?.src?J.src:J?.displayUrl?J.displayUrl:null:null,A=b.useMemo(()=>{const J=C(t);return J?DG(J,i,s):null},[t,i,s]),k=b.useMemo(()=>{if(d)return d;const J={hero:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop",city:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?q=80&w=1920&auto=format&fit=crop",business:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"};return J[i]||J.hero},[d,i]),{elementRef:P,isIntersecting:O,imageState:I,setImageSrc:F}=u_e({threshold:.1,rootMargin:u==="high"?"50px":"100px",onLoad:J=>{N(!0),_(!1),o?.(J)},onError:J=>{_(!0),N(!1),l?.(J)}});Q.useEffect(()=>{O&&A&&F(A)},[O,A,F]);const H=b.useCallback(J=>{y.onClick&&y.onClick(J)},[y.onClick]),V=x?k:I.src||C(t),U=()=>a.jsx("div",{className:"animate-pulse bg-muted rounded-lg",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-muted via-muted/50 to-muted"})}),z=()=>a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Image non disponible"})]})});if(!t)return a.jsx("div",{className:r,children:a.jsx(z,{})});const W=C(t)!==null;return a.jsxs("div",{ref:P,className:`relative overflow-hidden ${r}`,children:[c&&!S&&!x&&W&&a.jsx(Xn,{children:a.jsx(Oe.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx(U,{})})}),n&&!S&&!x&&W&&a.jsx(Xn,{children:a.jsx(Oe.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx("img",{src:n,alt:"Placeholder",className:"w-full h-full object-cover"})})}),a.jsx(Xn,{mode:"wait",children:!x&&W&&a.jsx(Oe.img,{src:V,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${S?"opacity-100":"opacity-0"}`,initial:h?{opacity:0,scale:1.1}:{opacity:0},animate:h?{opacity:S?1:.7,scale:S?1:1.05}:{opacity:S?1:0},exit:h?{opacity:0,scale:.95}:{opacity:0},transition:h?{duration:.8,ease:"easeOut",opacity:{duration:.5}}:{duration:.3},onLoad:()=>{V&&(N(!0),_(!1),o?.(V))},onError:()=>{_(!0),N(!1),l?.(V)},onClick:H,loading:u==="high"?"eager":"lazy",decoding:"async",...y},V)}),g&&S&&a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:`absolute inset-0 bg-gradient-${v}`}),x&&a.jsx(Xn,{children:a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"absolute inset-0 z-20",children:a.jsx(z,{})})}),I.isLoading&&!S&&!x&&W&&a.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/10",children:a.jsx(Oe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full"})}),!W&&a.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Format d'image non supporté"})]})})]})},cw=Q.memo(f_e),$G=Q.memo(({images:t=[],title:e="Galerie d'images",className:r=""})=>{const[n,i]=b.useState(0),[s,o]=b.useState(!1),l=v=>v?typeof v=="string"?v:v?.url?v.url:v?.file?URL.createObjectURL(v.file):v?.src?v.src:v?.displayUrl?v.displayUrl:null:null,c=t.filter(v=>l(v)!==null);b.useEffect(()=>{if(!s||c.length<=1)return;const v=setInterval(()=>{i(y=>(y+1)%c.length)},3e3);return()=>clearInterval(v)},[s,c.length]);const u=()=>{c.length>0&&i(v=>(v+1)%c.length)},d=()=>{c.length>0&&i(v=>(v-1+c.length)%c.length)},h=v=>{v>=0&&v<c.length&&i(v)};if(!c||c.length===0)return a.jsx("div",{className:`relative bg-muted flex items-center justify-center ${r}`,children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{className:"text-xs sm:text-sm",children:"Aucune image"})})});const g=c[n];return a.jsxs("div",{className:`relative bg-muted overflow-hidden group ${r}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(Xn,{mode:"wait",children:a.jsx(Oe.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full h-full",children:a.jsx(cw,{src:g,alt:`${e} - Image ${n+1}`,className:"w-full h-full object-cover",context:"card",quality:"medium",showSkeleton:!0})},n)}),c.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),d()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image précédente",children:a.jsx(ca,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("button",{onClick:v=>{v.stopPropagation(),u()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image suivante",children:a.jsx(ua,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),c.length>1&&a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 sm:gap-1.5",children:c.map((v,y)=>a.jsx("button",{onClick:x=>{x.stopPropagation(),h(y)},className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full transition-all duration-200 ${y===n?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${y+1}`},y))})]})}),n3=({listing:t,onEdit:e,onDelete:r,onRefresh:n,onBoost:i,showActions:s=!0})=>{const o=u=>{switch(u){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=u=>{switch(u){case"active":return"Active";case"pending":return"En attente";case"expired":return"Expirée";case"draft":return"Brouillon";default:return u}},c=u=>{let d="";if(typeof u=="string")d=u;else if(u&&typeof u=="object"&&u.name)d=u.name;else return"📦";switch(d.toLowerCase()){case"immobilier":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📦"}};return a.jsxs(It,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx($G,{images:t.images||[t.image],title:t.title,className:"h-48"}),a.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[a.jsx(pt,{variant:"secondary",className:qe("text-xs font-medium",o(t.status)),children:l(t.status)}),t.featured&&a.jsx(pt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200 text-xs",children:"⭐ Premium"})]}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"text-2xl",children:c(t.category)})})]}),a.jsx(Bt,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2",children:t.title}),a.jsx("p",{className:"text-primary font-bold text-lg",children:t.price})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Po,{className:"h-3 w-3 mr-1"}),t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:t.location?.city||t.location?.country||"Localisation non spécifiée"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Hl,{className:"h-3 w-3 mr-1"}),t.createdAt||t.created_at?new Date(t.createdAt||t.created_at).toLocaleDateString("fr-FR"):"Date inconnue"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Dl,{className:"h-4 w-4 mr-1"}),t.views||t.views_count||0," vues"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ka,{className:"h-4 w-4 mr-1"}),t.contacts||t.contacts_count||0," contacts"]})]}),t.boosted&&a.jsxs(pt,{variant:"outline",className:"text-xs",children:[a.jsx(Ua,{className:"h-3 w-3 mr-1"}),"Boosté"]})]}),s&&a.jsxs("div",{className:"flex space-x-2 pt-2 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>e?.(t),children:[a.jsx($_,{className:"h-4 w-4 mr-1"}),"Modifier"]}),t.status==="active"&&a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(t),className:"flex-1",children:[a.jsx(Ua,{className:"h-4 w-4 mr-1"}),"Booster"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>n?.(t),children:a.jsx(Kl,{className:"h-4 w-4"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(t),className:"text-red-600 hover:text-red-700",children:a.jsx(Za,{className:"h-4 w-4"})})]})]})})]})};function xT(t){const e=h_e(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(m_e);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function h_e(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=v_e(i),l=g_e(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var p_e=Symbol("radix.slottable");function m_e(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===p_e}function g_e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function v_e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function y_e(t){const e=t+"CollectionProvider",[r,n]=Dr(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=xT(l),u=Q.forwardRef((x,_)=>{const{scope:S,children:N}=x,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",g=xT(d),v=Q.forwardRef((x,_)=>{const{scope:S,children:N,...C}=x,A=Q.useRef(null),k=at(_,A),P=s(d,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[h]:"",ref:k,children:N})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var x_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FG=x_e.reduce((t,e)=>{const r=xT(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function b_e(t){const e=w_e(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(j_e);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function w_e(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=N_e(i),l=S_e(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var __e=Symbol("radix.slottable");function j_e(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===__e}function S_e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function N_e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var C_e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],oM=C_e.reduce((t,e)=>{const r=b_e(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),s1="Collapsible",[E_e,BG]=Dr(s1),[P_e,lM]=E_e(s1),zG=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=t,[c,u]=as({prop:n,defaultProp:i??!1,onChange:o,caller:s1});return a.jsx(P_e,{scope:r,disabled:s,contentId:ns(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:a.jsx(oM.div,{"data-state":uM(c),"data-disabled":s?"":void 0,...l,ref:e})})});zG.displayName=s1;var qG="CollapsibleTrigger",UG=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=lM(qG,r);return a.jsx(oM.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":uM(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Ve(t.onClick,i.onOpenToggle)})});UG.displayName=qG;var cM="CollapsibleContent",VG=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=lM(cM,t.__scopeCollapsible);return a.jsx(ls,{present:r||i.open,children:({present:s})=>a.jsx(k_e,{...n,ref:e,present:s})})});VG.displayName=cM;var k_e=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=t,o=lM(cM,r),[l,c]=b.useState(n),u=b.useRef(null),d=at(e,u),h=b.useRef(0),g=h.current,v=b.useRef(0),y=v.current,x=o.open||l,_=b.useRef(x),S=b.useRef(void 0);return b.useEffect(()=>{const N=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(N)},[]),or(()=>{const N=u.current;if(N){S.current=S.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const C=N.getBoundingClientRect();h.current=C.height,v.current=C.width,_.current||(N.style.transitionDuration=S.current.transitionDuration,N.style.animationName=S.current.animationName),c(n)}},[o.open,n]),a.jsx(oM.div,{"data-state":uM(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:x&&i})});function uM(t){return t?"open":"closed"}var T_e=zG,A_e=UG,O_e=VG,eo="Accordion",R_e=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[dM,M_e,I_e]=y_e(eo),[a1,zUe]=Dr(eo,[I_e,BG]),fM=BG(),WG=Q.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,s=n;return a.jsx(dM.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(F_e,{...s,ref:e}):a.jsx($_e,{...i,ref:e})})});WG.displayName=eo;var[HG,L_e]=a1(eo),[KG,D_e]=a1(eo,{collapsible:!1}),$_e=Q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[l,c]=as({prop:r,defaultProp:n??"",onChange:i,caller:eo});return a.jsx(HG,{scope:t.__scopeAccordion,value:Q.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:Q.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(KG,{scope:t.__scopeAccordion,collapsible:s,children:a.jsx(GG,{...o,ref:e})})})}),F_e=Q.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[o,l]=as({prop:r,defaultProp:n??[],onChange:i,caller:eo}),c=Q.useCallback(d=>l((h=[])=>[...h,d]),[l]),u=Q.useCallback(d=>l((h=[])=>h.filter(g=>g!==d)),[l]);return a.jsx(HG,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(KG,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(GG,{...s,ref:e})})})}),[B_e,o1]=a1(eo),GG=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=t,l=Q.useRef(null),c=at(l,e),u=M_e(r),h=Kp(i)==="ltr",g=Ve(t.onKeyDown,v=>{if(!R_e.includes(v.key))return;const y=v.target,x=u().filter(I=>!I.ref.current?.disabled),_=x.findIndex(I=>I.ref.current===y),S=x.length;if(_===-1)return;v.preventDefault();let N=_;const C=0,A=S-1,k=()=>{N=_+1,N>A&&(N=C)},P=()=>{N=_-1,N<C&&(N=A)};switch(v.key){case"Home":N=C;break;case"End":N=A;break;case"ArrowRight":s==="horizontal"&&(h?k():P());break;case"ArrowDown":s==="vertical"&&k();break;case"ArrowLeft":s==="horizontal"&&(h?P():k());break;case"ArrowUp":s==="vertical"&&P();break}const O=N%S;x[O].ref.current?.focus()});return a.jsx(B_e,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(dM.Slot,{scope:r,children:a.jsx(FG.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:g})})})}),uw="AccordionItem",[z_e,hM]=a1(uw),ZG=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,s=o1(uw,r),o=L_e(uw,r),l=fM(r),c=ns(),u=n&&o.value.includes(n)||!1,d=s.disabled||t.disabled;return a.jsx(z_e,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(T_e,{"data-orientation":s.orientation,"data-state":tZ(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:h=>{h?o.onItemOpen(n):o.onItemClose(n)}})})});ZG.displayName=uw;var YG="AccordionHeader",XG=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=o1(eo,r),s=hM(YG,r);return a.jsx(FG.h3,{"data-orientation":i.orientation,"data-state":tZ(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:e})});XG.displayName=YG;var bT="AccordionTrigger",JG=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=o1(eo,r),s=hM(bT,r),o=D_e(bT,r),l=fM(r);return a.jsx(dM.ItemSlot,{scope:r,children:a.jsx(A_e,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...n,ref:e})})});JG.displayName=bT;var QG="AccordionContent",eZ=Q.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=o1(eo,r),s=hM(QG,r),o=fM(r);return a.jsx(O_e,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});eZ.displayName=QG;function tZ(t){return t?"open":"closed"}var q_e=WG,U_e=ZG,V_e=XG,rZ=JG,nZ=eZ;const W_e=q_e,iZ=Q.forwardRef(({className:t,...e},r)=>a.jsx(U_e,{ref:r,className:qe("border-b border-border",t),...e}));iZ.displayName="AccordionItem";const sZ=Q.forwardRef(({className:t,children:e,...r},n)=>a.jsx(V_e,{className:"flex",children:a.jsxs(rZ,{ref:n,className:qe("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline text-foreground [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(El,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));sZ.displayName=rZ.displayName;const aZ=Q.forwardRef(({className:t,children:e,...r},n)=>a.jsx(nZ,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:qe("pb-4 pt-0 text-muted-foreground",t),children:e})}));aZ.displayName=nZ.displayName;var l1="Dialog",[oZ,lZ]=Dr(l1),[H_e,to]=oZ(l1),cZ=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=b.useRef(null),c=b.useRef(null),[u,d]=as({prop:n,defaultProp:i??!1,onChange:s,caller:l1});return a.jsx(H_e,{scope:e,triggerRef:l,contentRef:c,contentId:ns(),titleId:ns(),descriptionId:ns(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(h=>!h),[d]),modal:o,children:r})};cZ.displayName=l1;var uZ="DialogTrigger",dZ=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=to(uZ,r),s=at(e,i.triggerRef);return a.jsx(tr.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":gM(i.open),...n,ref:s,onClick:Ve(t.onClick,i.onOpenToggle)})});dZ.displayName=uZ;var pM="DialogPortal",[K_e,fZ]=oZ(pM,{forceMount:void 0}),hZ=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=to(pM,e);return a.jsx(K_e,{scope:e,forceMount:r,children:b.Children.map(n,o=>a.jsx(ls,{present:r||s.open,children:a.jsx(K_,{asChild:!0,container:i,children:o})}))})};hZ.displayName=pM;var dw="DialogOverlay",pZ=b.forwardRef((t,e)=>{const r=fZ(dw,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=to(dw,t.__scopeDialog);return s.modal?a.jsx(ls,{present:n||s.open,children:a.jsx(Z_e,{...i,ref:e})}):null});pZ.displayName=dw;var G_e=ap("DialogOverlay.RemoveScroll"),Z_e=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=to(dw,r);return a.jsx(zy,{as:G_e,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(tr.div,{"data-state":gM(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ud="DialogContent",mZ=b.forwardRef((t,e)=>{const r=fZ(Ud,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=to(Ud,t.__scopeDialog);return a.jsx(ls,{present:n||s.open,children:s.modal?a.jsx(Y_e,{...i,ref:e}):a.jsx(X_e,{...i,ref:e})})});mZ.displayName=Ud;var Y_e=b.forwardRef((t,e)=>{const r=to(Ud,t.__scopeDialog),n=b.useRef(null),i=at(e,r.contentRef,n);return b.useEffect(()=>{const s=n.current;if(s)return G_(s)},[]),a.jsx(gZ,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Ve(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Ve(t.onFocusOutside,s=>s.preventDefault())})}),X_e=b.forwardRef((t,e)=>{const r=to(Ud,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return a.jsx(gZ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),gZ=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=to(Ud,r),c=b.useRef(null),u=at(e,c);return AR(),a.jsxs(a.Fragment,{children:[a.jsx(OR,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(U_,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":gM(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Q_e,{titleId:l.titleId}),a.jsx(t1e,{contentRef:c,descriptionId:l.descriptionId})]})]})}),mM="DialogTitle",vZ=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=to(mM,r);return a.jsx(tr.h2,{id:i.titleId,...n,ref:e})});vZ.displayName=mM;var yZ="DialogDescription",xZ=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=to(yZ,r);return a.jsx(tr.p,{id:i.descriptionId,...n,ref:e})});xZ.displayName=yZ;var bZ="DialogClose",wZ=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=to(bZ,r);return a.jsx(tr.button,{type:"button",...n,ref:e,onClick:Ve(t.onClick,()=>i.onOpenChange(!1))})});wZ.displayName=bZ;function gM(t){return t?"open":"closed"}var _Z="DialogTitleWarning",[J_e,jZ]=Pme(_Z,{contentName:Ud,titleName:mM,docsSlug:"dialog"}),Q_e=({titleId:t})=>{const e=jZ(_Z),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},e1e="DialogDescriptionWarning",t1e=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${jZ(e1e).contentName}}.`;return b.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},SZ=cZ,r1e=dZ,NZ=hZ,vM=pZ,yM=mZ,xM=vZ,bM=xZ,wM=wZ,CZ="AlertDialog",[n1e,qUe]=Dr(CZ,[lZ]),Zl=lZ(),EZ=t=>{const{__scopeAlertDialog:e,...r}=t,n=Zl(e);return a.jsx(SZ,{...n,...r,modal:!0})};EZ.displayName=CZ;var i1e="AlertDialogTrigger",s1e=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Zl(r);return a.jsx(r1e,{...i,...n,ref:e})});s1e.displayName=i1e;var a1e="AlertDialogPortal",PZ=t=>{const{__scopeAlertDialog:e,...r}=t,n=Zl(e);return a.jsx(NZ,{...n,...r})};PZ.displayName=a1e;var o1e="AlertDialogOverlay",kZ=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Zl(r);return a.jsx(vM,{...i,...n,ref:e})});kZ.displayName=o1e;var Kh="AlertDialogContent",[l1e,c1e]=n1e(Kh),u1e=jme("AlertDialogContent"),TZ=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Zl(r),o=b.useRef(null),l=at(e,o),c=b.useRef(null);return a.jsx(J_e,{contentName:Kh,titleName:AZ,docsSlug:"alert-dialog",children:a.jsx(l1e,{scope:r,cancelRef:c,children:a.jsxs(yM,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Ve(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(u1e,{children:n}),a.jsx(f1e,{contentRef:o})]})})})});TZ.displayName=Kh;var AZ="AlertDialogTitle",OZ=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Zl(r);return a.jsx(xM,{...i,...n,ref:e})});OZ.displayName=AZ;var RZ="AlertDialogDescription",MZ=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Zl(r);return a.jsx(bM,{...i,...n,ref:e})});MZ.displayName=RZ;var d1e="AlertDialogAction",IZ=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Zl(r);return a.jsx(wM,{...i,...n,ref:e})});IZ.displayName=d1e;var LZ="AlertDialogCancel",DZ=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=c1e(LZ,r),s=Zl(r),o=at(e,i);return a.jsx(wM,{...s,...n,ref:o})});DZ.displayName=LZ;var f1e=({contentRef:t})=>{const e=`\`${Kh}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Kh}\` by passing a \`${RZ}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Kh}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},h1e=EZ,p1e=PZ,$Z=kZ,FZ=TZ,BZ=IZ,zZ=DZ,qZ=OZ,UZ=MZ;const VZ=h1e,m1e=p1e,WZ=b.forwardRef(({className:t,...e},r)=>a.jsx($Z,{className:qe("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));WZ.displayName=$Z.displayName;const _M=b.forwardRef(({className:t,...e},r)=>a.jsxs(m1e,{children:[a.jsx(WZ,{}),a.jsx(FZ,{ref:r,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));_M.displayName=FZ.displayName;const jM=({className:t,...e})=>a.jsx("div",{className:qe("flex flex-col space-y-2 text-center sm:text-left",t),...e});jM.displayName="AlertDialogHeader";const SM=({className:t,...e})=>a.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});SM.displayName="AlertDialogFooter";const NM=b.forwardRef(({className:t,...e},r)=>a.jsx(qZ,{ref:r,className:qe("text-lg font-semibold",t),...e}));NM.displayName=qZ.displayName;const CM=b.forwardRef(({className:t,...e},r)=>a.jsx(UZ,{ref:r,className:qe("text-sm text-muted-foreground",t),...e}));CM.displayName=UZ.displayName;const HZ=b.forwardRef(({className:t,...e},r)=>a.jsx(BZ,{ref:r,className:qe(SR(),t),...e}));HZ.displayName=BZ.displayName;const EM=b.forwardRef(({className:t,...e},r)=>a.jsx(zZ,{ref:r,className:qe(SR({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));EM.displayName=zZ.displayName;var _N={exports:{}},jN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i3;function g1e(){if(i3)return jN;i3=1;var t=j_();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(h,g){var v=g(),y=n({inst:{value:v,getSnapshot:g}}),x=y[0].inst,_=y[1];return s(function(){x.value=v,x.getSnapshot=g,c(x)&&_({inst:x})},[h,v,g]),i(function(){return c(x)&&_({inst:x}),h(function(){c(x)&&_({inst:x})})},[h]),o(v),v}function c(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!r(h,v)}catch{return!0}}function u(h,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return jN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,jN}var s3;function v1e(){return s3||(s3=1,_N.exports=g1e()),_N.exports}var y1e=v1e();function x1e(){return y1e.useSyncExternalStore(b1e,()=>!0,()=>!1)}function b1e(){return()=>{}}var PM="Avatar",[w1e,UUe]=Dr(PM),[_1e,KZ]=w1e(PM),GZ=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=b.useState("idle");return a.jsx(_1e,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(tr.span,{...n,ref:e})})});GZ.displayName=PM;var ZZ="AvatarImage",YZ=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=KZ(ZZ,r),l=j1e(n,s),c=fr(u=>{i(u),o.onImageLoadingStatusChange(u)});return or(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(tr.img,{...s,ref:e,src:n}):null});YZ.displayName=ZZ;var XZ="AvatarFallback",JZ=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=KZ(XZ,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(tr.span,{...i,ref:e}):null});JZ.displayName=XZ;function a3(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function j1e(t,{referrerPolicy:e,crossOrigin:r}){const n=x1e(),i=b.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=b.useState(()=>a3(s,t));return or(()=>{l(a3(s,t))},[s,t]),or(()=>{const c=h=>()=>{l(h)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,e]),o}var QZ=GZ,eY=YZ,tY=JZ;const fw=Q.forwardRef(({className:t,...e},r)=>a.jsx(QZ,{ref:r,className:qe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));fw.displayName=QZ.displayName;const kM=Q.forwardRef(({className:t,...e},r)=>a.jsx(eY,{ref:r,className:qe("aspect-square h-full w-full",t),...e}));kM.displayName=eY.displayName;const hw=Q.forwardRef(({className:t,...e},r)=>a.jsx(tY,{ref:r,className:qe("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));hw.displayName=tY.displayName;const c1=({isOpen:t,onClose:e,onConfirm:r,title:n,description:i,confirmText:s="Confirmer",cancelText:o="Annuler",variant:l="destructive",icon:c=rf,isLoading:u=!1})=>{const d=()=>{switch(l){case"destructive":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}},h=()=>{switch(l){case"destructive":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"outline"}};return a.jsx(VZ,{open:t,onOpenChange:e,children:a.jsxs(_M,{children:[a.jsxs(jM,{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(c,{className:`h-6 w-6 ${d()}`}),a.jsx(NM,{children:n})]}),a.jsx(CM,{className:"text-left",children:i})]}),a.jsxs(SM,{children:[a.jsx(EM,{disabled:u,children:o}),a.jsxs(ue,{variant:h(),onClick:r,disabled:u,className:"flex items-center space-x-2",children:[u&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:s})]})]})]})})},S1e=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(c1,{isOpen:t,onClose:e,onConfirm:r,title:"Confirmer la suppression",description:`Êtes-vous sûr de vouloir supprimer "${n}" ? Cette action est irréversible.`,confirmText:"Supprimer",variant:"destructive",icon:Za,isLoading:i}),N1e=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(c1,{isOpen:t,onClose:e,onConfirm:r,title:"Modifier l'élément",description:`Voulez-vous modifier "${n}" ?`,confirmText:"Modifier",variant:"info",icon:$_,isLoading:i}),C1e=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(c1,{isOpen:t,onClose:e,onConfirm:r,title:"Actualiser l'élément",description:`Voulez-vous actualiser "${n}" ? Cela remettra l'élément en haut de la liste.`,confirmText:"Actualiser",variant:"info",icon:Kl,isLoading:i}),E1e=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(c1,{isOpen:t,onClose:e,onConfirm:r,title:"Booster l'élément",description:`Voulez-vous booster "${n}" ? Cela augmentera sa visibilité.`,confirmText:"Booster",variant:"warning",icon:da,isLoading:i}),o3=SZ,P1e=NZ,rY=Q.forwardRef(({className:t,...e},r)=>a.jsx(vM,{ref:r,className:qe("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));rY.displayName=vM.displayName;const wT=Q.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(P1e,{children:[a.jsx(rY,{}),a.jsxs(yM,{ref:n,className:qe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(wM,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(os,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));wT.displayName=yM.displayName;const _T=({className:t,...e})=>a.jsx("div",{className:qe("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});_T.displayName="DialogHeader";const jT=({className:t,...e})=>a.jsx("div",{className:qe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});jT.displayName="DialogFooter";const ST=Q.forwardRef(({className:t,...e},r)=>a.jsx(xM,{ref:r,className:qe("text-lg font-semibold leading-none tracking-tight",t),...e}));ST.displayName=xM.displayName;const NT=Q.forwardRef(({className:t,...e},r)=>a.jsx(bM,{ref:r,className:qe("text-sm text-muted-foreground",t),...e}));NT.displayName=bM.displayName;const k1e=b.createContext({}),u1=()=>{const t=b.useContext(k1e),e=b.useContext(nY),{getFieldState:r,formState:n}=Mwe(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},nY=b.createContext({}),T1e=b.forwardRef(({className:t,...e},r)=>{const n=b.useId();return a.jsx(nY.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:qe("space-y-2",t),...e})})});T1e.displayName="FormItem";const A1e=b.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=u1();return a.jsx(rt,{ref:r,className:qe(n&&"text-destructive",t),htmlFor:i,...e})});A1e.displayName="FormLabel";const O1e=b.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=u1();return a.jsx(FW,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});O1e.displayName="FormControl";const R1e=b.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=u1();return a.jsx("p",{ref:r,id:n,className:qe("text-sm text-muted-foreground",t),...e})});R1e.displayName="FormDescription";const M1e=b.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=u1(),o=i?String(i?.message):e;return o?a.jsx("p",{ref:n,id:s,className:qe("text-sm font-medium text-destructive",t),...r,children:o}):null});M1e.displayName="FormMessage";function I1e(t){const e=L1e(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find($1e);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function L1e(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=B1e(i),l=F1e(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var D1e=Symbol("radix.slottable");function $1e(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===D1e}function F1e(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function B1e(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var z1e=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],em=z1e.reduce((t,e)=>{const r=I1e(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function q1e(t,e){t&&Ja.flushSync(()=>t.dispatchEvent(e))}var U1e="Arrow",iY=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(em.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});iY.displayName=U1e;var V1e=iY,sY="Popper",[aY,oY]=Dr(sY),[VUe,lY]=aY(sY),cY="PopperAnchor",uY=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=lY(cY,r),o=b.useRef(null),l=at(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(em.div,{...i,ref:l})});uY.displayName=cY;var TM="PopperContent",[W1e,H1e]=aY(TM),dY=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=lY(TM,r),[S,N]=b.useState(null),C=at(e,ae=>N(ae)),[A,k]=b.useState(null),P=sf(A),O=P?.width??0,I=P?.height??0,F=n+(s!=="center"?"-"+s:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:H,boundary:V.filter(G1e),altBoundary:U},{refs:W,floatingStyles:J,placement:se,isPositioned:K,middlewareData:ee}=Oy({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>Ay(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Ry({mainAxis:i+I,alignmentAxis:o}),c&&My({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Iy():void 0,...z}),c&&Ly({...z}),Dy({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:X}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${X}px`)}}),A&&Fy({element:A,padding:l}),Z1e({arrowWidth:O,arrowHeight:I}),g&&$y({strategy:"referenceHidden",...z})]}),[G,ne]=pY(se),Y=fr(y);or(()=>{K&&Y?.()},[K,Y]);const oe=ee.arrow?.x,xe=ee.arrow?.y,Ne=ee.arrow?.centerOffset!==0,[Le,ce]=b.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(W1e,{scope:r,placedSide:G,onArrowChange:k,arrowX:oe,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(em.div,{"data-side":G,"data-align":ne,...x,ref:C,style:{...x.style,animation:K?void 0:"none"}})})})});dY.displayName=TM;var fY="PopperArrow",K1e={top:"bottom",right:"left",bottom:"top",left:"right"},hY=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=H1e(fY,n),o=K1e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(V1e,{...i,ref:r,style:{...i.style,display:"block"}})})});hY.displayName=fY;function G1e(t){return t!==null}var Z1e=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=pY(r),h={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?h:`${g}px`,x=`${-c}px`):u==="top"?(y=o?h:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?h:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?h:`${v}px`),{data:{x:y,y:x}}}});function pY(t){const[e,r="center"]=t.split("-");return[e,r]}var Y1e=uY,X1e=dY,J1e=hY,Q1e="DismissableLayer",CT="dismissableLayer.update",eje="dismissableLayer.pointerDownOutside",tje="dismissableLayer.focusOutside",l3,mY=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),gY=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(mY),[d,h]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=at(e,O=>h(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),N=d?x.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=ije(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=sje(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return ky(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(l3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),c3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=l3)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),c3())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(CT,O),()=>document.removeEventListener(CT,O)},[]),a.jsx(em.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,k.onPointerDownCapture)})});gY.displayName=Q1e;var rje="DismissableLayerBranch",nje=b.forwardRef((t,e)=>{const r=b.useContext(mY),n=b.useRef(null),i=at(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(em.div,{...t,ref:i})});nje.displayName=rje;function ije(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){vY(eje,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function sje(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&vY(tje,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function c3(){const t=new CustomEvent(CT);document.dispatchEvent(t)}function vY(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?q1e(i,s):i.dispatchEvent(s)}var SN,yY="HoverCard",[xY,WUe]=Dr(yY,[oY]),AM=oY(),[HUe,OM]=xY(yY),bY="HoverCardTrigger",aje=b.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=OM(bY,r),s=AM(r);return a.jsx(Y1e,{asChild:!0,...s,children:a.jsx(em.a,{"data-state":i.open?"open":"closed",...n,ref:e,onPointerEnter:Ve(t.onPointerEnter,mw(i.onOpen)),onPointerLeave:Ve(t.onPointerLeave,mw(i.onClose)),onFocus:Ve(t.onFocus,i.onOpen),onBlur:Ve(t.onBlur,i.onClose),onTouchStart:Ve(t.onTouchStart,o=>o.preventDefault())})})});aje.displayName=bY;var oje="HoverCardPortal",[KUe,lje]=xY(oje,{forceMount:void 0}),pw="HoverCardContent",wY=b.forwardRef((t,e)=>{const r=lje(pw,t.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=t,s=OM(pw,t.__scopeHoverCard);return a.jsx(ls,{present:n||s.open,children:a.jsx(cje,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Ve(t.onPointerEnter,mw(s.onOpen)),onPointerLeave:Ve(t.onPointerLeave,mw(s.onClose)),ref:e})})});wY.displayName=pw;var cje=b.forwardRef((t,e)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...l}=t,c=OM(pw,r),u=AM(r),d=b.useRef(null),h=at(e,d),[g,v]=b.useState(!1);return b.useEffect(()=>{if(g){const y=document.body;return SN=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=SN,y.style.webkitUserSelect=SN}}},[g]),b.useEffect(()=>{if(d.current){const y=()=>{v(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),b.useEffect(()=>{d.current&&fje(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),a.jsx(gY,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:Ve(s,y=>{y.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(X1e,{...u,...l,onPointerDown:Ve(l.onPointerDown,y=>{y.currentTarget.contains(y.target)&&v(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:h,style:{...l.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),uje="HoverCardArrow",dje=b.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=AM(r);return a.jsx(J1e,{...i,...n,ref:e})});dje.displayName=uje;function mw(t){return e=>e.pointerType==="touch"?void 0:t()}function fje(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)e.push(r.currentNode);return e}var _Y=wY;const hje=Q.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>a.jsx(_Y,{ref:i,align:e,sideOffset:r,className:qe("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));hje.displayName=_Y.displayName;function au(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function jY(t){const e=pje(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(gje);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function pje(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=yje(i),l=vje(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var mje=Symbol("radix.slottable");function gje(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mje}function vje(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function yje(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var xje=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Yl=xje.reduce((t,e)=>{const r=jY(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function bje(t,e){t&&Ja.flushSync(()=>t.dispatchEvent(e))}var wje="DismissableLayer",ET="dismissableLayer.update",_je="dismissableLayer.pointerDownOutside",jje="dismissableLayer.focusOutside",u3,SY=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),NY=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(SY),[d,h]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=at(e,O=>h(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),N=d?x.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=Cje(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=Eje(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return ky(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(u3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),d3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=u3)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),d3())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(ET,O),()=>document.removeEventListener(ET,O)},[]),a.jsx(Yl.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:au(t.onFocusCapture,P.onFocusCapture),onBlurCapture:au(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:au(t.onPointerDownCapture,k.onPointerDownCapture)})});NY.displayName=wje;var Sje="DismissableLayerBranch",Nje=b.forwardRef((t,e)=>{const r=b.useContext(SY),n=b.useRef(null),i=at(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Yl.div,{...t,ref:i})});Nje.displayName=Sje;function Cje(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){CY(_je,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function Eje(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&CY(jje,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function d3(){const t=new CustomEvent(ET);document.dispatchEvent(t)}function CY(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?bje(i,s):i.dispatchEvent(s)}var NN=0;function Pje(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??f3()),document.body.insertAdjacentElement("beforeend",t[1]??f3()),NN++,()=>{NN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),NN--}},[])}function f3(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var CN="focusScope.autoFocusOnMount",EN="focusScope.autoFocusOnUnmount",h3={bubbles:!1,cancelable:!0},kje="FocusScope",EY=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=b.useState(null),u=fr(i),d=fr(s),h=b.useRef(null),g=at(e,x=>c(x)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let x=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?h.current=A:Vc(h.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||Vc(h.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&Vc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),b.useEffect(()=>{if(l){m3.add(v);const x=document.activeElement;if(!l.contains(x)){const S=new CustomEvent(CN,h3);l.addEventListener(CN,u),l.dispatchEvent(S),S.defaultPrevented||(Tje(Ije(PY(l)),{select:!0}),document.activeElement===x&&Vc(l))}return()=>{l.removeEventListener(CN,u),setTimeout(()=>{const S=new CustomEvent(EN,h3);l.addEventListener(EN,d),l.dispatchEvent(S),S.defaultPrevented||Vc(x??document.body,{select:!0}),l.removeEventListener(EN,d),m3.remove(v)},0)}}},[l,u,d,v]);const y=b.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const N=x.currentTarget,[C,A]=Aje(N);C&&A?!x.shiftKey&&S===A?(x.preventDefault(),r&&Vc(C,{select:!0})):x.shiftKey&&S===C&&(x.preventDefault(),r&&Vc(A,{select:!0})):S===N&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(Yl.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});EY.displayName=kje;function Tje(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Vc(n,{select:e}),document.activeElement!==r)return}function Aje(t){const e=PY(t),r=p3(e,t),n=p3(e.reverse(),t);return[r,n]}function PY(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function p3(t,e){for(const r of t)if(!Oje(r,{upTo:e}))return r}function Oje(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function Rje(t){return t instanceof HTMLInputElement&&"select"in t}function Vc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&Rje(t)&&e&&t.select()}}var m3=Mje();function Mje(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=g3(t,e),t.unshift(e)},remove(e){t=g3(t,e),t[0]?.resume()}}}function g3(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function Ije(t){return t.filter(e=>e.tagName!=="A")}var Lje="Arrow",kY=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(Yl.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});kY.displayName=Lje;var Dje=kY,TY="Popper",[AY,OY]=Dr(TY),[GUe,RY]=AY(TY),MY="PopperAnchor",IY=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=RY(MY,r),o=b.useRef(null),l=at(e,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(Yl.div,{...i,ref:l})});IY.displayName=MY;var RM="PopperContent",[$je,Fje]=AY(RM),LY=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=RY(RM,r),[S,N]=b.useState(null),C=at(e,ae=>N(ae)),[A,k]=b.useState(null),P=sf(A),O=P?.width??0,I=P?.height??0,F=n+(s!=="center"?"-"+s:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:H,boundary:V.filter(zje),altBoundary:U},{refs:W,floatingStyles:J,placement:se,isPositioned:K,middlewareData:ee}=Oy({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>Ay(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Ry({mainAxis:i+I,alignmentAxis:o}),c&&My({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Iy():void 0,...z}),c&&Ly({...z}),Dy({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:X}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${X}px`)}}),A&&Fy({element:A,padding:l}),qje({arrowWidth:O,arrowHeight:I}),g&&$y({strategy:"referenceHidden",...z})]}),[G,ne]=FY(se),Y=fr(y);or(()=>{K&&Y?.()},[K,Y]);const oe=ee.arrow?.x,xe=ee.arrow?.y,Ne=ee.arrow?.centerOffset!==0,[Le,ce]=b.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx($je,{scope:r,placedSide:G,onArrowChange:k,arrowX:oe,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(Yl.div,{"data-side":G,"data-align":ne,...x,ref:C,style:{...x.style,animation:K?void 0:"none"}})})})});LY.displayName=RM;var DY="PopperArrow",Bje={top:"bottom",right:"left",bottom:"top",left:"right"},$Y=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Fje(DY,n),o=Bje[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Dje,{...i,ref:r,style:{...i.style,display:"block"}})})});$Y.displayName=DY;function zje(t){return t!==null}var qje=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=FY(r),h={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?h:`${g}px`,x=`${-c}px`):u==="top"?(y=o?h:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?h:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?h:`${v}px`),{data:{x:y,y:x}}}});function FY(t){const[e,r="center"]=t.split("-");return[e,r]}var BY=IY,Uje=LY,Vje=$Y,Wje="Portal",zY=b.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=b.useState(!1);or(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?S_.createPortal(a.jsx(Yl.div,{...n,ref:e}),o):null});zY.displayName=Wje;function Hje(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var MM=t=>{const{present:e,children:r}=t,n=Kje(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),s=at(n.ref,Gje(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:s}):null};MM.displayName="Presence";function Kje(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[l,c]=Hje(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=q0(n.current);s.current=l==="mounted"?u:"none"},[l]),or(()=>{const u=n.current,d=i.current;if(d!==t){const g=s.current,v=q0(u);t?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),or(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,h=v=>{const x=q0(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=v=>{v.target===e&&(s.current=q0(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",h),e.addEventListener("animationend",h),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",h),e.removeEventListener("animationend",h)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function q0(t){return t?.animationName||"none"}function Gje(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qY="Popover",[UY,ZUe]=Dr(qY,[OY]),d1=OY(),[YUe,Su]=UY(qY),VY="PopoverAnchor",Zje=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Su(VY,r),s=d1(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return b.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(BY,{...s,...n,ref:e})});Zje.displayName=VY;var WY="PopoverTrigger",Yje=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Su(WY,r),s=d1(r),o=at(e,i.triggerRef),l=a.jsx(Yl.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":YY(i.open),...n,ref:o,onClick:au(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(BY,{asChild:!0,...s,children:l})});Yje.displayName=WY;var IM="PopoverPortal",[Xje,Jje]=UY(IM,{forceMount:void 0}),HY=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Su(IM,e);return a.jsx(Xje,{scope:e,forceMount:r,children:a.jsx(MM,{present:r||s.open,children:a.jsx(zY,{asChild:!0,container:i,children:n})})})};HY.displayName=IM;var lp="PopoverContent",KY=b.forwardRef((t,e)=>{const r=Jje(lp,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Su(lp,t.__scopePopover);return a.jsx(MM,{present:n||s.open,children:s.modal?a.jsx(eSe,{...i,ref:e}):a.jsx(tSe,{...i,ref:e})})});KY.displayName=lp;var Qje=jY("PopoverContent.RemoveScroll"),eSe=b.forwardRef((t,e)=>{const r=Su(lp,t.__scopePopover),n=b.useRef(null),i=at(e,n),s=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return G_(o)},[]),a.jsx(zy,{as:Qje,allowPinchZoom:!0,children:a.jsx(GY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:au(t.onCloseAutoFocus,o=>{o.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:au(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:au(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),tSe=b.forwardRef((t,e)=>{const r=Su(lp,t.__scopePopover),n=b.useRef(!1),i=b.useRef(!1);return a.jsx(GY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),GY=b.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...h}=t,g=Su(lp,r),v=d1(r);return Pje(),a.jsx(EY,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(NY,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:a.jsx(Uje,{"data-state":YY(g.open),role:"dialog",id:g.contentId,...v,...h,ref:e,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),ZY="PopoverClose",rSe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Su(ZY,r);return a.jsx(Yl.button,{type:"button",...n,ref:e,onClick:au(t.onClick,()=>i.onOpenChange(!1))})});rSe.displayName=ZY;var nSe="PopoverArrow",iSe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=d1(r);return a.jsx(Vje,{...i,...n,ref:e})});iSe.displayName=nSe;function YY(t){return t?"open":"closed"}var sSe=HY,XY=KY;const aSe=b.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>a.jsx(sSe,{children:a.jsx(XY,{ref:i,align:e,sideOffset:r,className:qe("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));aSe.displayName=XY.displayName;const oSe=({currentPage:t,totalPages:e,onPageChange:r,hasNextPage:n,hasPrevPage:i,isLoading:s=!1})=>{const o=()=>{const c=[],u=[];for(let d=Math.max(2,t-2);d<=Math.min(e-1,t+2);d++)c.push(d);return t-2>2?u.push(1,"..."):u.push(1),u.push(...c),t+2<e-1?u.push("...",e):u.push(e),u};return e<=1?null:a.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(t-1),disabled:!i||s,className:"flex items-center space-x-1",children:[a.jsx(ca,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Précédent"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:o().map((l,c)=>a.jsx(Q.Fragment,{children:l==="..."?a.jsx(hW,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(ue,{variant:t===l?"default":"outline",size:"sm",onClick:()=>r(l),disabled:s,className:"w-8 h-8 p-0",children:l})},c))}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>r(t+1),disabled:!n||s,className:"flex items-center space-x-1",children:[a.jsx("span",{className:"hidden sm:inline",children:"Suivant"}),a.jsx(ua,{className:"h-4 w-4"})]})]})},lSe=b.forwardRef(({className:t="",...e},r)=>a.jsx("div",{className:`grid gap-2 ${t}`,ref:r,...e}));lSe.displayName="RadioGroup";const cSe=b.forwardRef(({className:t="",...e},r)=>a.jsx("input",{type:"radio",className:`h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${t}`,ref:r,...e}));cSe.displayName="RadioGroupItem";function v3(t,[e,r]){return Math.min(r,Math.max(e,t))}function gw(t){const e=uSe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(fSe);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function uSe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=pSe(i),l=hSe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dSe=Symbol("radix.slottable");function fSe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dSe}function hSe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function pSe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function mSe(t){const e=t+"CollectionProvider",[r,n]=Dr(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,N=Q.useRef(null),C=Q.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:C,collectionRef:N,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=gw(l),u=Q.forwardRef((x,_)=>{const{scope:S,children:N}=x,C=s(l,S),A=at(_,C.collectionRef);return a.jsx(c,{ref:A,children:N})});u.displayName=l;const d=t+"CollectionItemSlot",h="data-radix-collection-item",g=gw(d),v=Q.forwardRef((x,_)=>{const{scope:S,children:N,...C}=x,A=Q.useRef(null),k=at(_,A),P=s(d,S);return Q.useEffect(()=>(P.itemMap.set(A,{ref:A,...C}),()=>void P.itemMap.delete(A))),a.jsx(g,{[h]:"",ref:k,children:N})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return Q.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const C=Array.from(N.querySelectorAll(`[${h}]`));return Array.from(_.itemMap.values()).sort((P,O)=>C.indexOf(P.ref.current)-C.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var gSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],yn=gSe.reduce((t,e)=>{const r=gw(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vSe(t,e){t&&Ja.flushSync(()=>t.dispatchEvent(e))}var ySe="DismissableLayer",PT="dismissableLayer.update",xSe="dismissableLayer.pointerDownOutside",bSe="dismissableLayer.focusOutside",y3,JY=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),QY=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(JY),[d,h]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=at(e,O=>h(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),N=d?x.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=jSe(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=SSe(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return ky(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(y3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),x3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=y3)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),x3())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(PT,O),()=>document.removeEventListener(PT,O)},[]),a.jsx(yn.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,k.onPointerDownCapture)})});QY.displayName=ySe;var wSe="DismissableLayerBranch",_Se=b.forwardRef((t,e)=>{const r=b.useContext(JY),n=b.useRef(null),i=at(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(yn.div,{...t,ref:i})});_Se.displayName=wSe;function jSe(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){eX(xSe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function SSe(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&eX(bSe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function x3(){const t=new CustomEvent(PT);document.dispatchEvent(t)}function eX(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?vSe(i,s):i.dispatchEvent(s)}var PN="focusScope.autoFocusOnMount",kN="focusScope.autoFocusOnUnmount",b3={bubbles:!1,cancelable:!0},NSe="FocusScope",tX=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=b.useState(null),u=fr(i),d=fr(s),h=b.useRef(null),g=at(e,x=>c(x)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let x=function(C){if(v.paused||!l)return;const A=C.target;l.contains(A)?h.current=A:Wc(h.current,{select:!0})},_=function(C){if(v.paused||!l)return;const A=C.relatedTarget;A!==null&&(l.contains(A)||Wc(h.current,{select:!0}))},S=function(C){if(document.activeElement===document.body)for(const k of C)k.removedNodes.length>0&&Wc(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const N=new MutationObserver(S);return l&&N.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),N.disconnect()}}},[n,l,v.paused]),b.useEffect(()=>{if(l){_3.add(v);const x=document.activeElement;if(!l.contains(x)){const S=new CustomEvent(PN,b3);l.addEventListener(PN,u),l.dispatchEvent(S),S.defaultPrevented||(CSe(ASe(rX(l)),{select:!0}),document.activeElement===x&&Wc(l))}return()=>{l.removeEventListener(PN,u),setTimeout(()=>{const S=new CustomEvent(kN,b3);l.addEventListener(kN,d),l.dispatchEvent(S),S.defaultPrevented||Wc(x??document.body,{select:!0}),l.removeEventListener(kN,d),_3.remove(v)},0)}}},[l,u,d,v]);const y=b.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const N=x.currentTarget,[C,A]=ESe(N);C&&A?!x.shiftKey&&S===A?(x.preventDefault(),r&&Wc(C,{select:!0})):x.shiftKey&&S===C&&(x.preventDefault(),r&&Wc(A,{select:!0})):S===N&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(yn.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});tX.displayName=NSe;function CSe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Wc(n,{select:e}),document.activeElement!==r)return}function ESe(t){const e=rX(t),r=w3(e,t),n=w3(e.reverse(),t);return[r,n]}function rX(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function w3(t,e){for(const r of t)if(!PSe(r,{upTo:e}))return r}function PSe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function kSe(t){return t instanceof HTMLInputElement&&"select"in t}function Wc(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&kSe(t)&&e&&t.select()}}var _3=TSe();function TSe(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=j3(t,e),t.unshift(e)},remove(e){t=j3(t,e),t[0]?.resume()}}}function j3(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function ASe(t){return t.filter(e=>e.tagName!=="A")}var OSe="Arrow",nX=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(yn.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});nX.displayName=OSe;var RSe=nX,LM="Popper",[iX,sX]=Dr(LM),[MSe,aX]=iX(LM),oX=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return a.jsx(MSe,{scope:e,anchor:n,onAnchorChange:i,children:r})};oX.displayName=LM;var lX="PopperAnchor",cX=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=aX(lX,r),o=b.useRef(null),l=at(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(yn.div,{...i,ref:l})});cX.displayName=lX;var DM="PopperContent",[ISe,LSe]=iX(DM),uX=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=aX(DM,r),[S,N]=b.useState(null),C=at(e,ae=>N(ae)),[A,k]=b.useState(null),P=sf(A),O=P?.width??0,I=P?.height??0,F=n+(s!=="center"?"-"+s:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:H,boundary:V.filter($Se),altBoundary:U},{refs:W,floatingStyles:J,placement:se,isPositioned:K,middlewareData:ee}=Oy({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>Ay(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Ry({mainAxis:i+I,alignmentAxis:o}),c&&My({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Iy():void 0,...z}),c&&Ly({...z}),Dy({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:X}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${X}px`)}}),A&&Fy({element:A,padding:l}),FSe({arrowWidth:O,arrowHeight:I}),g&&$y({strategy:"referenceHidden",...z})]}),[G,ne]=hX(se),Y=fr(y);or(()=>{K&&Y?.()},[K,Y]);const oe=ee.arrow?.x,xe=ee.arrow?.y,Ne=ee.arrow?.centerOffset!==0,[Le,ce]=b.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(ISe,{scope:r,placedSide:G,onArrowChange:k,arrowX:oe,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(yn.div,{"data-side":G,"data-align":ne,...x,ref:C,style:{...x.style,animation:K?void 0:"none"}})})})});uX.displayName=DM;var dX="PopperArrow",DSe={top:"bottom",right:"left",bottom:"top",left:"right"},fX=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=LSe(dX,n),o=DSe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(RSe,{...i,ref:r,style:{...i.style,display:"block"}})})});fX.displayName=dX;function $Se(t){return t!==null}var FSe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=hX(r),h={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?h:`${g}px`,x=`${-c}px`):u==="top"?(y=o?h:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?h:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?h:`${v}px`),{data:{x:y,y:x}}}});function hX(t){const[e,r="center"]=t.split("-");return[e,r]}var BSe=oX,zSe=cX,qSe=uX,USe=fX,VSe="Portal",pX=b.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=b.useState(!1);or(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?S_.createPortal(a.jsx(yn.div,{...n,ref:e}),o):null});pX.displayName=VSe;var mX=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),WSe="VisuallyHidden",HSe=b.forwardRef((t,e)=>a.jsx(yn.span,{...t,ref:e,style:{...mX,...t.style}}));HSe.displayName=WSe;var KSe=[" ","Enter","ArrowUp","ArrowDown"],GSe=[" ","Enter"],Vd="Select",[f1,h1,ZSe]=mSe(Vd),[tm,XUe]=Dr(Vd,[ZSe,sX]),p1=sX(),[YSe,Nu]=tm(Vd),[XSe,JSe]=tm(Vd),gX=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:h,disabled:g,required:v,form:y}=t,x=p1(e),[_,S]=b.useState(null),[N,C]=b.useState(null),[A,k]=b.useState(!1),P=Kp(u),[O,I]=as({prop:n,defaultProp:i??!1,onChange:s,caller:Vd}),[F,H]=as({prop:o,defaultProp:l,onChange:c,caller:Vd}),V=b.useRef(null),U=_?y||!!_.closest("form"):!0,[z,W]=b.useState(new Set),J=Array.from(z).map(se=>se.props.value).join(";");return a.jsx(BSe,{...x,children:a.jsxs(YSe,{required:v,scope:e,trigger:_,onTriggerChange:S,valueNode:N,onValueNodeChange:C,valueNodeHasChildren:A,onValueNodeHasChildrenChange:k,contentId:ns(),value:F,onValueChange:H,open:O,onOpenChange:I,dir:P,triggerPointerDownPosRef:V,disabled:g,children:[a.jsx(f1.Provider,{scope:e,children:a.jsx(XSe,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(se=>{W(K=>new Set(K).add(se))},[]),onNativeOptionRemove:b.useCallback(se=>{W(K=>{const ee=new Set(K);return ee.delete(se),ee})},[]),children:r})}),U?a.jsxs(BX,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:h,value:F,onChange:se=>H(se.target.value),disabled:g,form:y,children:[F===void 0?a.jsx("option",{value:""}):null,Array.from(z)]},J):null]})})};gX.displayName=Vd;var vX="SelectTrigger",yX=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=p1(r),o=Nu(vX,r),l=o.disabled||n,c=at(e,o.onTriggerChange),u=h1(r),d=b.useRef("touch"),[h,g,v]=qX(x=>{const _=u().filter(C=>!C.disabled),S=_.find(C=>C.value===o.value),N=UX(_,x,S);N!==void 0&&o.onValueChange(N.value)}),y=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx(zSe,{asChild:!0,...s,children:a.jsx(yn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":zX(o.value)?"":void 0,...i,ref:c,onClick:Ve(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Ve(i.onPointerDown,x=>{d.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Ve(i.onKeyDown,x=>{const _=h.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(_&&x.key===" ")&&KSe.includes(x.key)&&(y(),x.preventDefault())})})})});yX.displayName=vX;var xX="SelectValue",bX=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=t,c=Nu(xX,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,h=at(e,c.onValueNodeChange);return or(()=>{u(d)},[u,d]),a.jsx(yn.span,{...l,ref:h,style:{pointerEvents:"none"},children:zX(c.value)?a.jsx(a.Fragment,{children:o}):s})});bX.displayName=xX;var QSe="SelectIcon",wX=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(yn.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});wX.displayName=QSe;var eNe="SelectPortal",_X=t=>a.jsx(pX,{asChild:!0,...t});_X.displayName=eNe;var Wd="SelectContent",jX=b.forwardRef((t,e)=>{const r=Nu(Wd,t.__scopeSelect),[n,i]=b.useState();if(or(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Ja.createPortal(a.jsx(SX,{scope:t.__scopeSelect,children:a.jsx(f1.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(NX,{...t,ref:e})});jX.displayName=Wd;var Ra=10,[SX,Cu]=tm(Wd),tNe="SelectContentImpl",rNe=gw("SelectContent.RemoveScroll"),NX=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:_,...S}=t,N=Nu(Wd,r),[C,A]=b.useState(null),[k,P]=b.useState(null),O=at(e,ae=>A(ae)),[I,F]=b.useState(null),[H,V]=b.useState(null),U=h1(r),[z,W]=b.useState(!1),J=b.useRef(!1);b.useEffect(()=>{if(C)return G_(C)},[C]),AR();const se=b.useCallback(ae=>{const[ge,...he]=U().map(X=>X.ref.current),[Pe]=he.slice(-1),te=document.activeElement;for(const X of ae)if(X===te||(X?.scrollIntoView({block:"nearest"}),X===ge&&k&&(k.scrollTop=0),X===Pe&&k&&(k.scrollTop=k.scrollHeight),X?.focus(),document.activeElement!==te))return},[U,k]),K=b.useCallback(()=>se([I,C]),[se,I,C]);b.useEffect(()=>{z&&K()},[z,K]);const{onOpenChange:ee,triggerPointerDownPosRef:G}=N;b.useEffect(()=>{if(C){let ae={x:0,y:0};const ge=Pe=>{ae={x:Math.abs(Math.round(Pe.pageX)-(G.current?.x??0)),y:Math.abs(Math.round(Pe.pageY)-(G.current?.y??0))}},he=Pe=>{ae.x<=10&&ae.y<=10?Pe.preventDefault():C.contains(Pe.target)||ee(!1),document.removeEventListener("pointermove",ge),G.current=null};return G.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",he,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",he,{capture:!0})}}},[C,ee,G]),b.useEffect(()=>{const ae=()=>ee(!1);return window.addEventListener("blur",ae),window.addEventListener("resize",ae),()=>{window.removeEventListener("blur",ae),window.removeEventListener("resize",ae)}},[ee]);const[ne,Y]=qX(ae=>{const ge=U().filter(te=>!te.disabled),he=ge.find(te=>te.ref.current===document.activeElement),Pe=UX(ge,ae,he);Pe&&setTimeout(()=>Pe.ref.current.focus())}),oe=b.useCallback((ae,ge,he)=>{const Pe=!J.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&(F(ae),Pe&&(J.current=!0))},[N.value]),xe=b.useCallback(()=>C?.focus(),[C]),Ne=b.useCallback((ae,ge,he)=>{const Pe=!J.current&&!he;(N.value!==void 0&&N.value===ge||Pe)&&V(ae)},[N.value]),Le=n==="popper"?kT:CX,ce=Le===kT?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:_}:{};return a.jsx(SX,{scope:r,content:C,viewport:k,onViewportChange:P,itemRefCallback:oe,selectedItem:I,onItemLeave:xe,itemTextRefCallback:Ne,focusSelectedItem:K,selectedItemText:H,position:n,isPositioned:z,searchRef:ne,children:a.jsx(zy,{as:rNe,allowPinchZoom:!0,children:a.jsx(tX,{asChild:!0,trapped:N.open,onMountAutoFocus:ae=>{ae.preventDefault()},onUnmountAutoFocus:Ve(i,ae=>{N.trigger?.focus({preventScroll:!0}),ae.preventDefault()}),children:a.jsx(QY,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ae=>ae.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(Le,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:ae=>ae.preventDefault(),...S,...ce,onPlaced:()=>W(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Ve(S.onKeyDown,ae=>{const ge=ae.ctrlKey||ae.altKey||ae.metaKey;if(ae.key==="Tab"&&ae.preventDefault(),!ge&&ae.key.length===1&&Y(ae.key),["ArrowUp","ArrowDown","Home","End"].includes(ae.key)){let Pe=U().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(ae.key)&&(Pe=Pe.slice().reverse()),["ArrowUp","ArrowDown"].includes(ae.key)){const te=ae.target,X=Pe.indexOf(te);Pe=Pe.slice(X+1)}setTimeout(()=>se(Pe)),ae.preventDefault()}})})})})})})});NX.displayName=tNe;var nNe="SelectItemAlignedPosition",CX=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=Nu(Wd,r),o=Cu(Wd,r),[l,c]=b.useState(null),[u,d]=b.useState(null),h=at(e,O=>d(O)),g=h1(r),v=b.useRef(!1),y=b.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:S,focusSelectedItem:N}=o,C=b.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&x&&_&&S){const O=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),F=s.valueNode.getBoundingClientRect(),H=S.getBoundingClientRect();if(s.dir!=="rtl"){const te=H.left-I.left,X=F.left-te,_e=O.left-X,we=O.width+_e,We=Math.max(we,I.width),Ue=window.innerWidth-Ra,Ce=v3(X,[Ra,Math.max(Ra,Ue-We)]);l.style.minWidth=we+"px",l.style.left=Ce+"px"}else{const te=I.right-H.right,X=window.innerWidth-F.right-te,_e=window.innerWidth-O.right-X,we=O.width+_e,We=Math.max(we,I.width),Ue=window.innerWidth-Ra,Ce=v3(X,[Ra,Math.max(Ra,Ue-We)]);l.style.minWidth=we+"px",l.style.right=Ce+"px"}const V=g(),U=window.innerHeight-Ra*2,z=x.scrollHeight,W=window.getComputedStyle(u),J=parseInt(W.borderTopWidth,10),se=parseInt(W.paddingTop,10),K=parseInt(W.borderBottomWidth,10),ee=parseInt(W.paddingBottom,10),G=J+se+z+ee+K,ne=Math.min(_.offsetHeight*5,G),Y=window.getComputedStyle(x),oe=parseInt(Y.paddingTop,10),xe=parseInt(Y.paddingBottom,10),Ne=O.top+O.height/2-Ra,Le=U-Ne,ce=_.offsetHeight/2,ae=_.offsetTop+ce,ge=J+se+ae,he=G-ge;if(ge<=Ne){const te=V.length>0&&_===V[V.length-1].ref.current;l.style.bottom="0px";const X=u.clientHeight-x.offsetTop-x.offsetHeight,_e=Math.max(Le,ce+(te?xe:0)+X+K),we=ge+_e;l.style.height=we+"px"}else{const te=V.length>0&&_===V[0].ref.current;l.style.top="0px";const _e=Math.max(Ne,J+x.offsetTop+(te?oe:0)+ce)+he;l.style.height=_e+"px",x.scrollTop=ge-Ne+x.offsetTop}l.style.margin=`${Ra}px 0`,l.style.minHeight=ne+"px",l.style.maxHeight=U+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,l,u,x,_,S,s.dir,n]);or(()=>C(),[C]);const[A,k]=b.useState();or(()=>{u&&k(window.getComputedStyle(u).zIndex)},[u]);const P=b.useCallback(O=>{O&&y.current===!0&&(C(),N?.(),y.current=!1)},[C,N]);return a.jsx(sNe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:P,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(yn.div,{...i,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});CX.displayName=nNe;var iNe="SelectPopperPosition",kT=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=Ra,...s}=t,o=p1(r);return a.jsx(qSe,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});kT.displayName=iNe;var[sNe,$M]=tm(Wd,{}),TT="SelectViewport",EX=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Cu(TT,r),o=$M(TT,r),l=at(e,s.onViewportChange),c=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(f1.Slot,{scope:r,children:a.jsx(yn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Ve(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:g}=o;if(g?.current&&h){const v=Math.abs(c.current-d.scrollTop);if(v>0){const y=window.innerHeight-Ra*2,x=parseFloat(h.style.minHeight),_=parseFloat(h.style.height),S=Math.max(x,_);if(S<y){const N=S+v,C=Math.min(y,N),A=N-C;h.style.height=C+"px",h.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,h.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});EX.displayName=TT;var PX="SelectGroup",[aNe,oNe]=tm(PX),lNe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=ns();return a.jsx(aNe,{scope:r,id:i,children:a.jsx(yn.div,{role:"group","aria-labelledby":i,...n,ref:e})})});lNe.displayName=PX;var kX="SelectLabel",TX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=oNe(kX,r);return a.jsx(yn.div,{id:i.id,...n,ref:e})});TX.displayName=kX;var vw="SelectItem",[cNe,AX]=tm(vw),OX=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,l=Nu(vw,r),c=Cu(vw,r),u=l.value===n,[d,h]=b.useState(s??""),[g,v]=b.useState(!1),y=at(e,N=>c.itemRefCallback?.(N,n,i)),x=ns(),_=b.useRef("touch"),S=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(cNe,{scope:r,value:n,disabled:i,textId:x,isSelected:u,onItemTextChange:b.useCallback(N=>{h(C=>C||(N?.textContent??"").trim())},[]),children:a.jsx(f1.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:a.jsx(yn.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Ve(o.onFocus,()=>v(!0)),onBlur:Ve(o.onBlur,()=>v(!1)),onClick:Ve(o.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Ve(o.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Ve(o.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:Ve(o.onPointerMove,N=>{_.current=N.pointerType,i?c.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Ve(o.onKeyDown,N=>{c.searchRef?.current!==""&&N.key===" "||(GSe.includes(N.key)&&S(),N.key===" "&&N.preventDefault())})})})})});OX.displayName=vw;var Fg="SelectItemText",RX=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=Nu(Fg,r),l=Cu(Fg,r),c=AX(Fg,r),u=JSe(Fg,r),[d,h]=b.useState(null),g=at(e,S=>h(S),c.onItemTextChange,S=>l.itemTextRefCallback?.(S,c.value,c.disabled)),v=d?.textContent,y=b.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=u;return or(()=>(x(y),()=>_(y)),[x,_,y]),a.jsxs(a.Fragment,{children:[a.jsx(yn.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Ja.createPortal(s.children,o.valueNode):null]})});RX.displayName=Fg;var MX="SelectItemIndicator",IX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return AX(MX,r).isSelected?a.jsx(yn.span,{"aria-hidden":!0,...n,ref:e}):null});IX.displayName=MX;var AT="SelectScrollUpButton",LX=b.forwardRef((t,e)=>{const r=Cu(AT,t.__scopeSelect),n=$M(AT,t.__scopeSelect),[i,s]=b.useState(!1),o=at(e,n.onScrollButtonChange);return or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx($X,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});LX.displayName=AT;var OT="SelectScrollDownButton",DX=b.forwardRef((t,e)=>{const r=Cu(OT,t.__scopeSelect),n=$M(OT,t.__scopeSelect),[i,s]=b.useState(!1),o=at(e,n.onScrollButtonChange);return or(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx($X,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});DX.displayName=OT;var $X=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Cu("SelectScrollButton",r),o=b.useRef(null),l=h1(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),or(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(yn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Ve(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Ve(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Ve(i.onPointerLeave,()=>{c()})})}),uNe="SelectSeparator",FX=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(yn.div,{"aria-hidden":!0,...n,ref:e})});FX.displayName=uNe;var RT="SelectArrow",dNe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=p1(r),s=Nu(RT,r),o=Cu(RT,r);return s.open&&o.position==="popper"?a.jsx(USe,{...i,...n,ref:e}):null});dNe.displayName=RT;var fNe="SelectBubbleInput",BX=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=b.useRef(null),s=at(n,i),o=iM(e);return b.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const h=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(h)}},[o,e]),a.jsx(yn.select,{...r,style:{...mX,...r.style},ref:s,defaultValue:e})});BX.displayName=fNe;function zX(t){return t===""||t===void 0}function qX(t){const e=fr(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function UX(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=hNe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function hNe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var pNe=gX,VX=yX,mNe=bX,gNe=wX,vNe=_X,WX=jX,yNe=EX,HX=TX,KX=OX,xNe=RX,bNe=IX,GX=LX,ZX=DX,YX=FX;const Mr=pNe,Ir=mNe,Tr=b.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(VX,{ref:n,className:qe("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(gNe,{asChild:!0,children:a.jsx(El,{className:"h-4 w-4 opacity-50"})})]}));Tr.displayName=VX.displayName;const XX=b.forwardRef(({className:t,...e},r)=>a.jsx(GX,{ref:r,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Ad,{className:"h-4 w-4"})}));XX.displayName=GX.displayName;const JX=b.forwardRef(({className:t,...e},r)=>a.jsx(ZX,{ref:r,className:qe("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(El,{className:"h-4 w-4"})}));JX.displayName=ZX.displayName;const Ar=b.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>a.jsx(vNe,{children:a.jsxs(WX,{ref:i,className:qe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(XX,{}),a.jsx(yNe,{className:qe("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(JX,{})]})}));Ar.displayName=WX.displayName;const wNe=b.forwardRef(({className:t,...e},r)=>a.jsx(HX,{ref:r,className:qe("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));wNe.displayName=HX.displayName;const Ge=b.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(KX,{ref:n,className:qe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bNe,{children:a.jsx(np,{className:"h-4 w-4"})})}),a.jsx(xNe,{children:e})]}));Ge.displayName=KX.displayName;const _Ne=b.forwardRef(({className:t,...e},r)=>a.jsx(YX,{ref:r,className:qe("-mx-1 my-1 h-px bg-muted",t),...e}));_Ne.displayName=YX.displayName;function jNe(t){const e=SNe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(CNe);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function SNe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=PNe(i),l=ENe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var NNe=Symbol("radix.slottable");function CNe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===NNe}function ENe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function PNe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var kNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],TNe=kNe.reduce((t,e)=>{const r=jNe(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),ANe="Separator",S3="horizontal",ONe=["horizontal","vertical"],QX=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=S3,...i}=t,s=RNe(n)?n:S3,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(TNe.div,{"data-orientation":s,...l,...i,ref:e})});QX.displayName=ANe;function RNe(t){return ONe.includes(t)}var eJ=QX;const Nv=Q.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>a.jsx(eJ,{ref:i,decorative:r,orientation:e,className:qe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Nv.displayName=eJ.displayName;const vo=({className:t,...e})=>a.jsx("div",{className:qe("animate-pulse rounded-md bg-muted",t),...e}),MNe=()=>a.jsxs("div",{className:"bg-card rounded-lg shadow-lg overflow-hidden",children:[a.jsx(vo,{className:"h-48 w-full"}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx(vo,{className:"h-4 w-3/4"}),a.jsx(vo,{className:"h-4 w-1/2"}),a.jsx(vo,{className:"h-6 w-1/3"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(vo,{className:"h-4 w-20"}),a.jsx(vo,{className:"h-8 w-20 rounded"})]})]})]}),INe=()=>a.jsxs("div",{className:"bg-card rounded-lg p-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(vo,{className:"h-4 w-1/2"}),a.jsx(vo,{className:"h-8 w-8 rounded"})]}),a.jsx(vo,{className:"h-8 w-1/3"}),a.jsx(vo,{className:"h-3 w-2/3"})]});function LNe(t){const e=DNe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(FNe);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function DNe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=zNe(i),l=BNe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var $Ne=Symbol("radix.slottable");function FNe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===$Ne}function BNe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function zNe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var qNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],tJ=qNe.reduce((t,e)=>{const r=LNe(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),m1="Switch",[UNe,JUe]=Dr(m1),[VNe,WNe]=UNe(m1),rJ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...h}=t,[g,v]=b.useState(null),y=at(e,C=>v(C)),x=b.useRef(!1),_=g?d||!!g.closest("form"):!0,[S,N]=as({prop:i,defaultProp:s??!1,onChange:u,caller:m1});return a.jsxs(VNe,{scope:r,checked:S,disabled:l,children:[a.jsx(tJ.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":aJ(S),"data-disabled":l?"":void 0,disabled:l,value:c,...h,ref:y,onClick:Ve(t.onClick,C=>{N(A=>!A),_&&(x.current=C.isPropagationStopped(),x.current||C.stopPropagation())})}),_&&a.jsx(sJ,{control:g,bubbles:!x.current,name:n,value:c,checked:S,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});rJ.displayName=m1;var nJ="SwitchThumb",iJ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=WNe(nJ,r);return a.jsx(tJ.span,{"data-state":aJ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});iJ.displayName=nJ;var HNe="SwitchBubbleInput",sJ=b.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=b.useRef(null),l=at(o,s),c=iM(r),u=sf(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"checked").set;if(c!==r&&v){const y=new Event("click",{bubbles:n});v.call(d,r),d.dispatchEvent(y)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});sJ.displayName=HNe;function aJ(t){return t?"checked":"unchecked"}var oJ=rJ,KNe=iJ;const Bg=b.forwardRef(({className:t,...e},r)=>a.jsx(oJ,{className:qe("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(KNe,{className:qe("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Bg.displayName=oJ.displayName;const rm=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:qe("w-full caption-bottom text-sm",t),...e})}));rm.displayName="Table";const nm=b.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:qe("[&_tr]:border-b",t),...e}));nm.displayName="TableHeader";const im=b.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:qe("[&_tr:last-child]:border-0",t),...e}));im.displayName="TableBody";const GNe=b.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:qe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));GNe.displayName="TableFooter";const an=b.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:qe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));an.displayName="TableRow";const ur=b.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:qe("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ur.displayName="TableHead";const Rt=b.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:qe("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Rt.displayName="TableCell";const ZNe=b.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:qe("mt-4 text-sm text-muted-foreground",t),...e}));ZNe.displayName="TableCaption";const vu=Q.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:qe("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));vu.displayName="Textarea";var YNe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),XNe="VisuallyHidden",FM=b.forwardRef((t,e)=>a.jsx(tr.span,{...t,ref:e,style:{...YNe,...t.style}}));FM.displayName=XNe;var JNe="ToastProvider",[lJ,QNe,eCe]=TR("Toast"),[cJ,QUe]=Dr("Toast",[eCe]),[eVe,g1]=cJ(JNe),uJ="ToastViewport",tCe=["F8"],MT="toast.viewportPause",IT="toast.viewportResume",dJ=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=tCe,label:i="Notifications ({hotkey})",...s}=t,o=g1(uJ,r),l=QNe(r),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),h=b.useRef(null),g=at(e,h,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;b.useEffect(()=>{const _=S=>{n.length!==0&&n.every(C=>S[C]||S.code===C)&&h.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),b.useEffect(()=>{const _=c.current,S=h.current;if(y&&_&&S){const N=()=>{if(!o.isClosePausedRef.current){const P=new CustomEvent(MT);S.dispatchEvent(P),o.isClosePausedRef.current=!0}},C=()=>{if(o.isClosePausedRef.current){const P=new CustomEvent(IT);S.dispatchEvent(P),o.isClosePausedRef.current=!1}},A=P=>{!_.contains(P.relatedTarget)&&C()},k=()=>{_.contains(document.activeElement)||C()};return _.addEventListener("focusin",N),_.addEventListener("focusout",A),_.addEventListener("pointermove",N),_.addEventListener("pointerleave",k),window.addEventListener("blur",N),window.addEventListener("focus",C),()=>{_.removeEventListener("focusin",N),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",N),_.removeEventListener("pointerleave",k),window.removeEventListener("blur",N),window.removeEventListener("focus",C)}}},[y,o.isClosePausedRef]);const x=b.useCallback(({tabbingDirection:_})=>{const N=l().map(C=>{const A=C.ref.current,k=[A,...pCe(A)];return _==="forwards"?k:k.reverse()});return(_==="forwards"?N.reverse():N).flat()},[l]);return b.useEffect(()=>{const _=h.current;if(_){const S=N=>{const C=N.altKey||N.ctrlKey||N.metaKey;if(N.key==="Tab"&&!C){const k=document.activeElement,P=N.shiftKey;if(N.target===_&&P){u.current?.focus();return}const F=x({tabbingDirection:P?"backwards":"forwards"}),H=F.findIndex(V=>V===k);TN(F.slice(H+1))?N.preventDefault():P?u.current?.focus():d.current?.focus()}};return _.addEventListener("keydown",S),()=>_.removeEventListener("keydown",S)}},[l,x]),a.jsxs(sve,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(LT,{ref:u,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"forwards"});TN(_)}}),a.jsx(lJ.Slot,{scope:r,children:a.jsx(tr.ol,{tabIndex:-1,...s,ref:g})}),y&&a.jsx(LT,{ref:d,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"backwards"});TN(_)}})]})});dJ.displayName=uJ;var fJ="ToastFocusProxy",LT=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=g1(fJ,r);return a.jsx(FM,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&n()}})});LT.displayName=fJ;var Gy="Toast",rCe="toast.swipeStart",nCe="toast.swipeMove",iCe="toast.swipeCancel",sCe="toast.swipeEnd",hJ=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[l,c]=as({prop:n,defaultProp:i??!0,onChange:s,caller:Gy});return a.jsx(ls,{present:r||l,children:a.jsx(lCe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:fr(t.onPause),onResume:fr(t.onResume),onSwipeStart:Ve(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ve(t.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:Ve(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ve(t.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),c(!1)})})})});hJ.displayName=Gy;var[aCe,oCe]=cJ(Gy,{onClose(){}}),lCe=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:g,onSwipeEnd:v,...y}=t,x=g1(Gy,r),[_,S]=b.useState(null),N=at(e,W=>S(W)),C=b.useRef(null),A=b.useRef(null),k=i||x.duration,P=b.useRef(0),O=b.useRef(k),I=b.useRef(0),{onToastAdd:F,onToastRemove:H}=x,V=fr(()=>{_?.contains(document.activeElement)&&x.viewport?.focus(),o()}),U=b.useCallback(W=>{!W||W===1/0||(window.clearTimeout(I.current),P.current=new Date().getTime(),I.current=window.setTimeout(V,W))},[V]);b.useEffect(()=>{const W=x.viewport;if(W){const J=()=>{U(O.current),u?.()},se=()=>{const K=new Date().getTime()-P.current;O.current=O.current-K,window.clearTimeout(I.current),c?.()};return W.addEventListener(MT,se),W.addEventListener(IT,J),()=>{W.removeEventListener(MT,se),W.removeEventListener(IT,J)}}},[x.viewport,k,c,u,U]),b.useEffect(()=>{s&&!x.isClosePausedRef.current&&U(k)},[s,k,x.isClosePausedRef,U]),b.useEffect(()=>(F(),()=>H()),[F,H]);const z=b.useMemo(()=>_?bJ(_):null,[_]);return x.viewport?a.jsxs(a.Fragment,{children:[z&&a.jsx(cCe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:z}),a.jsx(aCe,{scope:r,onClose:V,children:Ja.createPortal(a.jsx(lJ.ItemSlot,{scope:r,children:a.jsx(ive,{asChild:!0,onEscapeKeyDown:Ve(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(tr.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:N,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ve(t.onKeyDown,W=>{W.key==="Escape"&&(l?.(W.nativeEvent),W.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Ve(t.onPointerDown,W=>{W.button===0&&(C.current={x:W.clientX,y:W.clientY})}),onPointerMove:Ve(t.onPointerMove,W=>{if(!C.current)return;const J=W.clientX-C.current.x,se=W.clientY-C.current.y,K=!!A.current,ee=["left","right"].includes(x.swipeDirection),G=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,ne=ee?G(0,J):0,Y=ee?0:G(0,se),oe=W.pointerType==="touch"?10:2,xe={x:ne,y:Y},Ne={originalEvent:W,delta:xe};K?(A.current=xe,U0(nCe,h,Ne,{discrete:!1})):N3(xe,x.swipeDirection,oe)?(A.current=xe,U0(rCe,d,Ne,{discrete:!1}),W.target.setPointerCapture(W.pointerId)):(Math.abs(J)>oe||Math.abs(se)>oe)&&(C.current=null)}),onPointerUp:Ve(t.onPointerUp,W=>{const J=A.current,se=W.target;if(se.hasPointerCapture(W.pointerId)&&se.releasePointerCapture(W.pointerId),A.current=null,C.current=null,J){const K=W.currentTarget,ee={originalEvent:W,delta:J};N3(J,x.swipeDirection,x.swipeThreshold)?U0(sCe,v,ee,{discrete:!0}):U0(iCe,g,ee,{discrete:!0}),K.addEventListener("click",G=>G.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),cCe=t=>{const{__scopeToast:e,children:r,...n}=t,i=g1(Gy,e),[s,o]=b.useState(!1),[l,c]=b.useState(!1);return fCe(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(K_,{asChild:!0,children:a.jsx(FM,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},uCe="ToastTitle",pJ=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(tr.div,{...n,ref:e})});pJ.displayName=uCe;var dCe="ToastDescription",mJ=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(tr.div,{...n,ref:e})});mJ.displayName=dCe;var gJ="ToastAction",vJ=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(xJ,{altText:r,asChild:!0,children:a.jsx(BM,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${gJ}\`. Expected non-empty \`string\`.`),null)});vJ.displayName=gJ;var yJ="ToastClose",BM=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=oCe(yJ,r);return a.jsx(xJ,{asChild:!0,children:a.jsx(tr.button,{type:"button",...n,ref:e,onClick:Ve(t.onClick,i.onClose)})})});BM.displayName=yJ;var xJ=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return a.jsx(tr.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function bJ(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),hCe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...bJ(n))}}),e}function U0(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?kR(i,s):i.dispatchEvent(s)}var N3=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function fCe(t=()=>{}){const e=fr(t);or(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function hCe(t){return t.nodeType===t.ELEMENT_NODE}function pCe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function TN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var wJ=dJ,_J=hJ,jJ=pJ,SJ=mJ,NJ=vJ,CJ=BM;const mCe=Q.forwardRef(({className:t,...e},r)=>a.jsx(wJ,{ref:r,className:qe("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));mCe.displayName=wJ.displayName;const gCe=B_("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),vCe=Q.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(_J,{ref:n,className:qe(gCe({variant:e}),t),...r}));vCe.displayName=_J.displayName;const yCe=Q.forwardRef(({className:t,...e},r)=>a.jsx(NJ,{ref:r,className:qe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));yCe.displayName=NJ.displayName;const xCe=Q.forwardRef(({className:t,...e},r)=>a.jsx(CJ,{ref:r,className:qe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(os,{className:"h-4 w-4"})}));xCe.displayName=CJ.displayName;const bCe=Q.forwardRef(({className:t,...e},r)=>a.jsx(jJ,{ref:r,className:qe("text-sm font-semibold",t),...e}));bCe.displayName=jJ.displayName;const wCe=Q.forwardRef(({className:t,...e},r)=>a.jsx(SJ,{ref:r,className:qe("text-sm opacity-90",t),...e}));wCe.displayName=SJ.displayName;function _Ce(t){const e=jCe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(NCe);if(c){const u=c.props.children,d=l.map(h=>h===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:h);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function jCe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=ECe(i),l=CCe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?$s(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var EJ=Symbol("radix.slottable");function SCe(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=EJ,e}function NCe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===EJ}function CCe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function ECe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var PCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],cf=PCe.reduce((t,e)=>{const r=_Ce(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function kCe(t,e){t&&Ja.flushSync(()=>t.dispatchEvent(e))}var TCe="DismissableLayer",DT="dismissableLayer.update",ACe="dismissableLayer.pointerDownOutside",OCe="dismissableLayer.focusOutside",C3,PJ=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),kJ=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(PJ),[d,h]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=at(e,O=>h(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),N=d?x.indexOf(d):-1,C=u.layersWithOutsidePointerEventsDisabled.size>0,A=N>=S,k=ICe(O=>{const I=O.target,F=[...u.branches].some(H=>H.contains(I));!A||F||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),P=LCe(O=>{const I=O.target;[...u.branches].some(H=>H.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return ky(O=>{N===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(C3=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),E3(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=C3)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),E3())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(DT,O),()=>document.removeEventListener(DT,O)},[]),a.jsx(cf.div,{...c,ref:y,style:{pointerEvents:C?A?"auto":"none":void 0,...t.style},onFocusCapture:Ve(t.onFocusCapture,P.onFocusCapture),onBlurCapture:Ve(t.onBlurCapture,P.onBlurCapture),onPointerDownCapture:Ve(t.onPointerDownCapture,k.onPointerDownCapture)})});kJ.displayName=TCe;var RCe="DismissableLayerBranch",MCe=b.forwardRef((t,e)=>{const r=b.useContext(PJ),n=b.useRef(null),i=at(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(cf.div,{...t,ref:i})});MCe.displayName=RCe;function ICe(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){TJ(ACe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function LCe(t,e=globalThis?.document){const r=fr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&TJ(OCe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function E3(){const t=new CustomEvent(DT);document.dispatchEvent(t)}function TJ(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?kCe(i,s):i.dispatchEvent(s)}var DCe="Arrow",AJ=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(cf.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});AJ.displayName=DCe;var $Ce=AJ,zM="Popper",[OJ,RJ]=Dr(zM),[FCe,MJ]=OJ(zM),IJ=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return a.jsx(FCe,{scope:e,anchor:n,onAnchorChange:i,children:r})};IJ.displayName=zM;var LJ="PopperAnchor",DJ=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=MJ(LJ,r),o=b.useRef(null),l=at(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(cf.div,{...i,ref:l})});DJ.displayName=LJ;var qM="PopperContent",[BCe,zCe]=OJ(qM),$J=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=MJ(qM,r),[S,N]=b.useState(null),C=at(e,ae=>N(ae)),[A,k]=b.useState(null),P=sf(A),O=P?.width??0,I=P?.height??0,F=n+(s!=="center"?"-"+s:""),H=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],U=V.length>0,z={padding:H,boundary:V.filter(UCe),altBoundary:U},{refs:W,floatingStyles:J,placement:se,isPositioned:K,middlewareData:ee}=Oy({strategy:"fixed",placement:F,whileElementsMounted:(...ae)=>Ay(...ae,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[Ry({mainAxis:i+I,alignmentAxis:o}),c&&My({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?Iy():void 0,...z}),c&&Ly({...z}),Dy({...z,apply:({elements:ae,rects:ge,availableWidth:he,availableHeight:Pe})=>{const{width:te,height:X}=ge.reference,_e=ae.floating.style;_e.setProperty("--radix-popper-available-width",`${he}px`),_e.setProperty("--radix-popper-available-height",`${Pe}px`),_e.setProperty("--radix-popper-anchor-width",`${te}px`),_e.setProperty("--radix-popper-anchor-height",`${X}px`)}}),A&&Fy({element:A,padding:l}),VCe({arrowWidth:O,arrowHeight:I}),g&&$y({strategy:"referenceHidden",...z})]}),[G,ne]=zJ(se),Y=fr(y);or(()=>{K&&Y?.()},[K,Y]);const oe=ee.arrow?.x,xe=ee.arrow?.y,Ne=ee.arrow?.centerOffset!==0,[Le,ce]=b.useState();return or(()=>{S&&ce(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:W.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:K?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Le,"--radix-popper-transform-origin":[ee.transformOrigin?.x,ee.transformOrigin?.y].join(" "),...ee.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(BCe,{scope:r,placedSide:G,onArrowChange:k,arrowX:oe,arrowY:xe,shouldHideArrow:Ne,children:a.jsx(cf.div,{"data-side":G,"data-align":ne,...x,ref:C,style:{...x.style,animation:K?void 0:"none"}})})})});$J.displayName=qM;var FJ="PopperArrow",qCe={top:"bottom",right:"left",bottom:"top",left:"right"},BJ=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=zCe(FJ,n),o=qCe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx($Ce,{...i,ref:r,style:{...i.style,display:"block"}})})});BJ.displayName=FJ;function UCe(t){return t!==null}var VCe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=zJ(r),h={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?h:`${g}px`,x=`${-c}px`):u==="top"?(y=o?h:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?h:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?h:`${v}px`),{data:{x:y,y:x}}}});function zJ(t){const[e,r="center"]=t.split("-");return[e,r]}var WCe=IJ,HCe=DJ,KCe=$J,GCe=BJ,ZCe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YCe="VisuallyHidden",qJ=b.forwardRef((t,e)=>a.jsx(cf.span,{...t,ref:e,style:{...ZCe,...t.style}}));qJ.displayName=YCe;var XCe=qJ,[v1,tVe]=Dr("Tooltip",[RJ]),y1=RJ(),UJ="TooltipProvider",JCe=700,$T="tooltip.open",[QCe,UM]=v1(UJ),VJ=t=>{const{__scopeTooltip:e,delayDuration:r=JCe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(QCe,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};VJ.displayName=UJ;var Cv="Tooltip",[eEe,x1]=v1(Cv),WJ=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=UM(Cv,t.__scopeTooltip),u=y1(e),[d,h]=b.useState(null),g=ns(),v=b.useRef(0),y=o??c.disableHoverableContent,x=l??c.delayDuration,_=b.useRef(!1),[S,N]=as({prop:n,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent($T))):c.onClose(),s?.(O)},caller:Cv}),C=b.useMemo(()=>S?_.current?"delayed-open":"instant-open":"closed",[S]),A=b.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,N(!0)},[N]),k=b.useCallback(()=>{window.clearTimeout(v.current),v.current=0,N(!1)},[N]),P=b.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,N(!0),v.current=0},x)},[x,N]);return b.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(WCe,{...u,children:a.jsx(eEe,{scope:e,contentId:g,open:S,stateAttribute:C,trigger:d,onTriggerChange:h,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?P():A()},[c.isOpenDelayedRef,P,A]),onTriggerLeave:b.useCallback(()=>{y?k():(window.clearTimeout(v.current),v.current=0)},[k,y]),onOpen:A,onClose:k,disableHoverableContent:y,children:r})})};WJ.displayName=Cv;var FT="TooltipTrigger",HJ=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=x1(FT,r),s=UM(FT,r),o=y1(r),l=b.useRef(null),c=at(e,l,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),h=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),a.jsx(HCe,{asChild:!0,...o,children:a.jsx(cf.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Ve(t.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Ve(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Ve(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:Ve(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Ve(t.onBlur,i.onClose),onClick:Ve(t.onClick,i.onClose)})})});HJ.displayName=FT;var tEe="TooltipPortal",[rVe,rEe]=v1(tEe,{forceMount:void 0}),cp="TooltipContent",KJ=b.forwardRef((t,e)=>{const r=rEe(cp,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=x1(cp,t.__scopeTooltip);return a.jsx(ls,{present:n||o.open,children:o.disableHoverableContent?a.jsx(GJ,{side:i,...s,ref:e}):a.jsx(nEe,{side:i,...s,ref:e})})}),nEe=b.forwardRef((t,e)=>{const r=x1(cp,t.__scopeTooltip),n=UM(cp,t.__scopeTooltip),i=b.useRef(null),s=at(e,i),[o,l]=b.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:h}=n,g=b.useCallback(()=>{l(null),h(!1)},[h]),v=b.useCallback((y,x)=>{const _=y.currentTarget,S={x:y.clientX,y:y.clientY},N=lEe(S,_.getBoundingClientRect()),C=cEe(S,N),A=uEe(x.getBoundingClientRect()),k=fEe([...C,...A]);l(k),h(!0)},[h]);return b.useEffect(()=>()=>g(),[g]),b.useEffect(()=>{if(c&&d){const y=_=>v(_,d),x=_=>v(_,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,v,g]),b.useEffect(()=>{if(o){const y=x=>{const _=x.target,S={x:x.clientX,y:x.clientY},N=c?.contains(_)||d?.contains(_),C=!dEe(S,o);N?g():C&&(g(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,g]),a.jsx(GJ,{...t,ref:s})}),[iEe,sEe]=v1(Cv,{isInside:!1}),aEe=SCe("TooltipContent"),GJ=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=x1(cp,r),u=y1(r),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener($T,d),()=>document.removeEventListener($T,d)),[d]),b.useEffect(()=>{if(c.trigger){const h=g=>{g.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[c.trigger,d]),a.jsx(kJ,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:a.jsxs(KCe,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(aEe,{children:n}),a.jsx(iEe,{scope:r,isInside:!0,children:a.jsx(XCe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});KJ.displayName=cp;var ZJ="TooltipArrow",oEe=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=y1(r);return sEe(ZJ,r).isInside?null:a.jsx(GCe,{...i,...n,ref:e})});oEe.displayName=ZJ;function lEe(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function cEe(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function uEe(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function dEe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,h=c.x,g=c.y;d>n!=g>n&&r<(h-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function fEe(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),hEe(e)}function hEe(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var pEe=VJ,mEe=WJ,gEe=HJ,YJ=KJ;const Ah=pEe,wo=mEe,_o=gEe,Ba=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(YJ,{ref:n,sideOffset:e,className:qe("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));Ba.displayName=YJ.displayName;const Ev=({user:t,size:e="default",className:r,showFallbackIcon:n=!1})=>{if(!t)return a.jsx(fw,{className:qe("bg-gray-200",e==="sm"&&"h-8 w-8",e==="default"&&"h-10 w-10",e==="lg"&&"h-12 w-12",e==="xl"&&"h-16 w-16",r),children:a.jsx(hw,{className:"bg-gray-200 text-gray-600",children:a.jsx(ts,{className:"h-4 w-4"})})});const i=()=>{const c=t.first_name||"",u=t.last_name||"";return c&&u?`${c.charAt(0)}${u.charAt(0)}`.toUpperCase():c?c.charAt(0).toUpperCase():u?u.charAt(0).toUpperCase():t.email?t.email.charAt(0).toUpperCase():"?"},s=()=>{const c=`${t.first_name||""}${t.last_name||""}`.toLowerCase();if(!c)return"bg-gray-500";const u=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"];let d=0;for(let h=0;h<c.length;h++)d=c.charCodeAt(h)+((d<<5)-d);return u[Math.abs(d)%u.length]},o=()=>{switch(e){case"sm":return"h-8 w-8";case"lg":return"h-12 w-12";case"xl":return"h-16 w-16";default:return"h-10 w-10"}},l=()=>{switch(e){case"sm":return"text-xs";case"lg":return"text-lg";case"xl":return"text-2xl";default:return"text-sm"}};return a.jsxs(fw,{className:qe(o(),r),children:[t.avatar_url&&a.jsx(kM,{src:t.avatar_url,alt:`${t.first_name||""} ${t.last_name||""}`,onError:c=>{c.target.style.display="none"}}),a.jsx(hw,{className:qe(s(),"text-white font-semibold",l()),children:n?a.jsx(ts,{className:qe(e==="sm"&&"h-3 w-3",e==="default"&&"h-4 w-4",e==="lg"&&"h-5 w-5",e==="xl"&&"h-6 w-6")}):i()})]})},V0=({error:t,className:e="",showIcon:r=!0})=>t?a.jsxs("div",{className:qe("flex items-start gap-1.5 text-xs text-red-600 mt-1",e),children:[r&&a.jsx(hn,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:t})]}):null,vEe=(t={})=>({getFieldError:o=>t[o]||null,hasFieldError:o=>!!t[o],hasAnyErrors:()=>Object.keys(t).length>0,clearFieldError:(o,l)=>{l&&t[o]&&l(c=>{const u={...c};return delete u[o],u})},clearAllErrors:o=>{o&&o({})}}),P3=(t,e,r)=>{if(t&&"reportValidity"in t){const n=dt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},XJ=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?P3(n.ref,r,t):n.refs&&n.refs.forEach(i=>P3(i,r,t))}},yEe=(t,e)=>{e.shouldUseNativeValidation&&XJ(t,e);const r={};for(const n in t){const i=dt(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(xEe(e.names||Object.keys(t),n)){const o=Object.assign({},dt(r,n));Er(o,"root",s),Er(r,n,o)}else Er(r,n,s)}return r},xEe=(t,e)=>t.some(r=>r.startsWith(e+"."));var bEe=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(h){return t.push(h)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=bG(o,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},wEe=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return s.shouldUseNativeValidation&&XJ({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:yEe(bEe(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},dr;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(dr||(dr={}));var k3;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(k3||(k3={}));const ft=dr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hc=t=>{switch(typeof t){case"undefined":return ft.undefined;case"string":return ft.string;case"number":return Number.isNaN(t)?ft.nan:ft.number;case"boolean":return ft.boolean;case"function":return ft.function;case"bigint":return ft.bigint;case"symbol":return ft.symbol;case"object":return Array.isArray(t)?ft.array:t===null?ft.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ft.promise:typeof Map<"u"&&t instanceof Map?ft.map:typeof Set<"u"&&t instanceof Set?ft.set:typeof Date<"u"&&t instanceof Date?ft.date:ft.object;default:return ft.unknown}},Qe=dr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Do extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof Do))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Do.create=t=>new Do(t);const BT=(t,e)=>{let r;switch(t.code){case Qe.invalid_type:t.received===ft.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case Qe.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,dr.jsonStringifyReplacer)}`;break;case Qe.unrecognized_keys:r=`Unrecognized key(s) in object: ${dr.joinValues(t.keys,", ")}`;break;case Qe.invalid_union:r="Invalid input";break;case Qe.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dr.joinValues(t.options)}`;break;case Qe.invalid_enum_value:r=`Invalid enum value. Expected ${dr.joinValues(t.options)}, received '${t.received}'`;break;case Qe.invalid_arguments:r="Invalid function arguments";break;case Qe.invalid_return_type:r="Invalid function return type";break;case Qe.invalid_date:r="Invalid date";break;case Qe.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:dr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case Qe.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case Qe.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case Qe.custom:r="Invalid input";break;case Qe.invalid_intersection_types:r="Intersection results could not be merged";break;case Qe.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case Qe.not_finite:r="Number must be finite";break;default:r=e.defaultError,dr.assertNever(t)}return{message:r}};let _Ee=BT;function jEe(){return _Ee}const SEe=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function it(t,e){const r=jEe(),n=SEe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===BT?void 0:BT].filter(i=>!!i)});t.common.issues.push(n)}class zi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return At;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return zi.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return At;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const At=Object.freeze({status:"aborted"}),zg=t=>({status:"dirty",value:t}),ma=t=>({status:"valid",value:t}),T3=t=>t.status==="aborted",A3=t=>t.status==="dirty",up=t=>t.status==="valid",yw=t=>typeof Promise<"u"&&t instanceof Promise;var vt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(vt||(vt={}));class $o{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const O3=(t,e)=>{if(up(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Do(t.common.issues);return this._error=r,this._error}}};function Vt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class er{get description(){return this._def.description}_getType(e){return Hc(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Hc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new zi,ctx:{common:e.parent.common,data:e.data,parsedType:Hc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(yw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hc(e)},i=this._parseSync({data:e,path:n.path,parent:n});return O3(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hc(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return up(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>up(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hc(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(yw(i)?i:Promise.resolve(i));return O3(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:Qe.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new hp({schema:this,typeName:Tt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return ou.create(this,this._def)}nullable(){return pp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return To.create(this)}promise(){return _w.create(this,this._def)}or(e){return xw.create([this,e],this._def)}and(e){return bw.create(this,e,this._def)}transform(e){return new hp({...Vt(this._def),schema:this,typeName:Tt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new VT({...Vt(this._def),innerType:this,defaultValue:r,typeName:Tt.ZodDefault})}brand(){return new KEe({typeName:Tt.ZodBranded,type:this,...Vt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new WT({...Vt(this._def),innerType:this,catchValue:r,typeName:Tt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return VM.create(this,e)}readonly(){return HT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const NEe=/^c[^\s-]{8,}$/i,CEe=/^[0-9a-z]+$/,EEe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,PEe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,kEe=/^[a-z0-9_-]{21}$/i,TEe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,AEe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,OEe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,REe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let AN;const MEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IEe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,LEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,DEe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,$Ee=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,FEe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,JJ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BEe=new RegExp(`^${JJ}$`);function QJ(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function zEe(t){return new RegExp(`^${QJ(t)}$`)}function qEe(t){let e=`${JJ}T${QJ(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function UEe(t,e){return!!((e==="v4"||!e)&&MEe.test(t)||(e==="v6"||!e)&&LEe.test(t))}function VEe(t,e){if(!TEe.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function WEe(t,e){return!!((e==="v4"||!e)&&IEe.test(t)||(e==="v6"||!e)&&DEe.test(t))}class bl extends er{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ft.string){const s=this._getOrReturnCtx(e);return it(s,{code:Qe.invalid_type,expected:ft.string,received:s.parsedType}),At}const n=new zi;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?it(i,{code:Qe.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&it(i,{code:Qe.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")OEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"email",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")AN||(AN=new RegExp(REe,"u")),AN.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"emoji",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")PEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"uuid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")kEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"nanoid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")NEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"cuid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")CEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"cuid2",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")EEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"ulid",code:Qe.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),it(i,{validation:"url",code:Qe.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"regex",code:Qe.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?qEe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?BEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?zEe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?AEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"duration",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?UEe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"ip",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?VEe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"jwt",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?WEe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"cidr",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?$Ee.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"base64",code:Qe.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?FEe.test(e.data)||(i=this._getOrReturnCtx(e,i),it(i,{validation:"base64url",code:Qe.invalid_string,message:s.message}),n.dirty()):dr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:Qe.invalid_string,...vt.errToObj(n)})}_addCheck(e){return new bl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...vt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...vt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...vt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...vt.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...vt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...vt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...vt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...vt.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...vt.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...vt.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...vt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...vt.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...vt.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...vt.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...vt.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...vt.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...vt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...vt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...vt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...vt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...vt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...vt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...vt.errToObj(r)})}nonempty(e){return this.min(1,vt.errToObj(e))}trim(){return new bl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bl.create=t=>new bl({checks:[],typeName:Tt.ZodString,coerce:t?.coerce??!1,...Vt(t)});function HEe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class dp extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ft.number){const s=this._getOrReturnCtx(e);return it(s,{code:Qe.invalid_type,expected:ft.number,received:s.parsedType}),At}let n;const i=new zi;for(const s of this._def.checks)s.kind==="int"?dr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?HEe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.not_finite,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,vt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,vt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,vt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,vt.toString(r))}setLimit(e,r,n,i){return new dp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:vt.toString(i)}]})}_addCheck(e){return new dp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:vt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:vt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:vt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:vt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:vt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:vt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&dr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}dp.create=t=>new dp({checks:[],typeName:Tt.ZodNumber,coerce:t?.coerce||!1,...Vt(t)});class Pv extends er{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ft.bigint)return this._getInvalidInput(e);let n;const i=new zi;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),it(n,{code:Qe.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):dr.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return it(r,{code:Qe.invalid_type,expected:ft.bigint,received:r.parsedType}),At}gte(e,r){return this.setLimit("min",e,!0,vt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,vt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,vt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,vt.toString(r))}setLimit(e,r,n,i){return new Pv({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:vt.toString(i)}]})}_addCheck(e){return new Pv({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:vt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:vt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:vt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:vt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:vt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}Pv.create=t=>new Pv({checks:[],typeName:Tt.ZodBigInt,coerce:t?.coerce??!1,...Vt(t)});class zT extends er{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ft.boolean){const n=this._getOrReturnCtx(e);return it(n,{code:Qe.invalid_type,expected:ft.boolean,received:n.parsedType}),At}return ma(e.data)}}zT.create=t=>new zT({typeName:Tt.ZodBoolean,coerce:t?.coerce||!1,...Vt(t)});class kv extends er{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ft.date){const s=this._getOrReturnCtx(e);return it(s,{code:Qe.invalid_type,expected:ft.date,received:s.parsedType}),At}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return it(s,{code:Qe.invalid_date}),At}const n=new zi;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),it(i,{code:Qe.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):dr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new kv({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:vt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:vt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}kv.create=t=>new kv({checks:[],coerce:t?.coerce||!1,typeName:Tt.ZodDate,...Vt(t)});class R3 extends er{_parse(e){if(this._getType(e)!==ft.symbol){const n=this._getOrReturnCtx(e);return it(n,{code:Qe.invalid_type,expected:ft.symbol,received:n.parsedType}),At}return ma(e.data)}}R3.create=t=>new R3({typeName:Tt.ZodSymbol,...Vt(t)});class M3 extends er{_parse(e){if(this._getType(e)!==ft.undefined){const n=this._getOrReturnCtx(e);return it(n,{code:Qe.invalid_type,expected:ft.undefined,received:n.parsedType}),At}return ma(e.data)}}M3.create=t=>new M3({typeName:Tt.ZodUndefined,...Vt(t)});class I3 extends er{_parse(e){if(this._getType(e)!==ft.null){const n=this._getOrReturnCtx(e);return it(n,{code:Qe.invalid_type,expected:ft.null,received:n.parsedType}),At}return ma(e.data)}}I3.create=t=>new I3({typeName:Tt.ZodNull,...Vt(t)});class qT extends er{constructor(){super(...arguments),this._any=!0}_parse(e){return ma(e.data)}}qT.create=t=>new qT({typeName:Tt.ZodAny,...Vt(t)});class L3 extends er{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ma(e.data)}}L3.create=t=>new L3({typeName:Tt.ZodUnknown,...Vt(t)});class yu extends er{_parse(e){const r=this._getOrReturnCtx(e);return it(r,{code:Qe.invalid_type,expected:ft.never,received:r.parsedType}),At}}yu.create=t=>new yu({typeName:Tt.ZodNever,...Vt(t)});class D3 extends er{_parse(e){if(this._getType(e)!==ft.undefined){const n=this._getOrReturnCtx(e);return it(n,{code:Qe.invalid_type,expected:ft.void,received:n.parsedType}),At}return ma(e.data)}}D3.create=t=>new D3({typeName:Tt.ZodVoid,...Vt(t)});class To extends er{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==ft.array)return it(r,{code:Qe.invalid_type,expected:ft.array,received:r.parsedType}),At;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(it(r,{code:o?Qe.too_big:Qe.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(it(r,{code:Qe.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(it(r,{code:Qe.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new $o(r,o,r.path,l)))).then(o=>zi.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new $o(r,o,r.path,l)));return zi.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new To({...this._def,minLength:{value:e,message:vt.toString(r)}})}max(e,r){return new To({...this._def,maxLength:{value:e,message:vt.toString(r)}})}length(e,r){return new To({...this._def,exactLength:{value:e,message:vt.toString(r)}})}nonempty(e){return this.min(1,e)}}To.create=(t,e)=>new To({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Tt.ZodArray,...Vt(e)});function Oh(t){if(t instanceof jn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=ou.create(Oh(n))}return new jn({...t._def,shape:()=>e})}else return t instanceof To?new To({...t._def,type:Oh(t.element)}):t instanceof ou?ou.create(Oh(t.unwrap())):t instanceof pp?pp.create(Oh(t.unwrap())):t instanceof Hd?Hd.create(t.items.map(e=>Oh(e))):t}class jn extends er{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=dr.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==ft.object){const u=this._getOrReturnCtx(e);return it(u,{code:Qe.invalid_type,expected:ft.object,received:u.parsedType}),At}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof yu&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],h=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new $o(i,h,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof yu){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(it(i,{code:Qe.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const h=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new $o(i,h,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const h=await d.key,g=await d.value;u.push({key:h,value:g,alwaysSet:d.alwaysSet})}return u}).then(u=>zi.mergeObjectSync(n,u)):zi.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return vt.errToObj,new jn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:vt.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new jn({...this._def,unknownKeys:"strip"})}passthrough(){return new jn({...this._def,unknownKeys:"passthrough"})}extend(e){return new jn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new jn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Tt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new jn({...this._def,catchall:e})}pick(e){const r={};for(const n of dr.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new jn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of dr.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new jn({...this._def,shape:()=>r})}deepPartial(){return Oh(this)}partial(e){const r={};for(const n of dr.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new jn({...this._def,shape:()=>r})}required(e){const r={};for(const n of dr.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof ou;)s=s._def.innerType;r[n]=s}return new jn({...this._def,shape:()=>r})}keyof(){return eQ(dr.objectKeys(this.shape))}}jn.create=(t,e)=>new jn({shape:()=>t,unknownKeys:"strip",catchall:yu.create(),typeName:Tt.ZodObject,...Vt(e)});jn.strictCreate=(t,e)=>new jn({shape:()=>t,unknownKeys:"strict",catchall:yu.create(),typeName:Tt.ZodObject,...Vt(e)});jn.lazycreate=(t,e)=>new jn({shape:t,unknownKeys:"strip",catchall:yu.create(),typeName:Tt.ZodObject,...Vt(e)});class xw extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Do(l.ctx.common.issues));return it(r,{code:Qe.invalid_union,unionErrors:o}),At}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Do(c));return it(r,{code:Qe.invalid_union,unionErrors:l}),At}}get options(){return this._def.options}}xw.create=(t,e)=>new xw({options:t,typeName:Tt.ZodUnion,...Vt(e)});function UT(t,e){const r=Hc(t),n=Hc(e);if(t===e)return{valid:!0,data:t};if(r===ft.object&&n===ft.object){const i=dr.objectKeys(e),s=dr.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=UT(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===ft.array&&n===ft.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=UT(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===ft.date&&n===ft.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class bw extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(T3(s)||T3(o))return At;const l=UT(s.value,o.value);return l.valid?((A3(s)||A3(o))&&r.dirty(),{status:r.value,value:l.data}):(it(n,{code:Qe.invalid_intersection_types}),At)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}bw.create=(t,e,r)=>new bw({left:t,right:e,typeName:Tt.ZodIntersection,...Vt(r)});class Hd extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ft.array)return it(n,{code:Qe.invalid_type,expected:ft.array,received:n.parsedType}),At;if(n.data.length<this._def.items.length)return it(n,{code:Qe.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),At;!this._def.rest&&n.data.length>this._def.items.length&&(it(n,{code:Qe.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new $o(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>zi.mergeArray(r,o)):zi.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Hd({...this._def,rest:e})}}Hd.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Hd({items:t,typeName:Tt.ZodTuple,rest:null,...Vt(e)})};class ww extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ft.object)return it(n,{code:Qe.invalid_type,expected:ft.object,received:n.parsedType}),At;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new $o(n,l,n.path,l)),value:o._parse(new $o(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?zi.mergeObjectAsync(r,i):zi.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof er?new ww({keyType:e,valueType:r,typeName:Tt.ZodRecord,...Vt(n)}):new ww({keyType:bl.create(),valueType:e,typeName:Tt.ZodRecord,...Vt(r)})}}class $3 extends er{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ft.map)return it(n,{code:Qe.invalid_type,expected:ft.map,received:n.parsedType}),At;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new $o(n,l,n.path,[u,"key"])),value:s._parse(new $o(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return At;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return At;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}$3.create=(t,e,r)=>new $3({valueType:e,keyType:t,typeName:Tt.ZodMap,...Vt(r)});class Tv extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==ft.set)return it(n,{code:Qe.invalid_type,expected:ft.set,received:n.parsedType}),At;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(it(n,{code:Qe.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(it(n,{code:Qe.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return At;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new $o(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new Tv({...this._def,minSize:{value:e,message:vt.toString(r)}})}max(e,r){return new Tv({...this._def,maxSize:{value:e,message:vt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}Tv.create=(t,e)=>new Tv({valueType:t,minSize:null,maxSize:null,typeName:Tt.ZodSet,...Vt(e)});class F3 extends er{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}F3.create=(t,e)=>new F3({getter:t,typeName:Tt.ZodLazy,...Vt(e)});class B3 extends er{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return it(r,{received:r.data,code:Qe.invalid_literal,expected:this._def.value}),At}return{status:"valid",value:e.data}}get value(){return this._def.value}}B3.create=(t,e)=>new B3({value:t,typeName:Tt.ZodLiteral,...Vt(e)});function eQ(t,e){return new fp({values:t,typeName:Tt.ZodEnum,...Vt(e)})}class fp extends er{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return it(r,{expected:dr.joinValues(n),received:r.parsedType,code:Qe.invalid_type}),At}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return it(r,{received:r.data,code:Qe.invalid_enum_value,options:n}),At}return ma(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return fp.create(e,{...this._def,...r})}exclude(e,r=this._def){return fp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}fp.create=eQ;class z3 extends er{_parse(e){const r=dr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==ft.string&&n.parsedType!==ft.number){const i=dr.objectValues(r);return it(n,{expected:dr.joinValues(i),received:n.parsedType,code:Qe.invalid_type}),At}if(this._cache||(this._cache=new Set(dr.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=dr.objectValues(r);return it(n,{received:n.data,code:Qe.invalid_enum_value,options:i}),At}return ma(e.data)}get enum(){return this._def.values}}z3.create=(t,e)=>new z3({values:t,typeName:Tt.ZodNativeEnum,...Vt(e)});class _w extends er{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==ft.promise&&r.common.async===!1)return it(r,{code:Qe.invalid_type,expected:ft.promise,received:r.parsedType}),At;const n=r.parsedType===ft.promise?r.data:Promise.resolve(r.data);return ma(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}_w.create=(t,e)=>new _w({type:t,typeName:Tt.ZodPromise,...Vt(e)});class hp extends er{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Tt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{it(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return At;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?At:c.status==="dirty"||r.value==="dirty"?zg(c.value):c});{if(r.value==="aborted")return At;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?At:l.status==="dirty"||r.value==="dirty"?zg(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?At:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!up(o))return At;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>up(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):At);dr.assertNever(i)}}hp.create=(t,e,r)=>new hp({schema:t,typeName:Tt.ZodEffects,effect:e,...Vt(r)});hp.createWithPreprocess=(t,e,r)=>new hp({schema:e,effect:{type:"preprocess",transform:t},typeName:Tt.ZodEffects,...Vt(r)});class ou extends er{_parse(e){return this._getType(e)===ft.undefined?ma(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ou.create=(t,e)=>new ou({innerType:t,typeName:Tt.ZodOptional,...Vt(e)});class pp extends er{_parse(e){return this._getType(e)===ft.null?ma(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}pp.create=(t,e)=>new pp({innerType:t,typeName:Tt.ZodNullable,...Vt(e)});class VT extends er{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===ft.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}VT.create=(t,e)=>new VT({innerType:t,typeName:Tt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Vt(e)});class WT extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return yw(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Do(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Do(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}WT.create=(t,e)=>new WT({innerType:t,typeName:Tt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Vt(e)});class q3 extends er{_parse(e){if(this._getType(e)!==ft.nan){const n=this._getOrReturnCtx(e);return it(n,{code:Qe.invalid_type,expected:ft.nan,received:n.parsedType}),At}return{status:"valid",value:e.data}}}q3.create=t=>new q3({typeName:Tt.ZodNaN,...Vt(t)});class KEe extends er{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class VM extends er{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?At:s.status==="dirty"?(r.dirty(),zg(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?At:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new VM({in:e,out:r,typeName:Tt.ZodPipeline})}}class HT extends er{_parse(e){const r=this._def.innerType._parse(e),n=i=>(up(i)&&(i.value=Object.freeze(i.value)),i);return yw(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}HT.create=(t,e)=>new HT({innerType:t,typeName:Tt.ZodReadonly,...Vt(e)});var Tt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Tt||(Tt={}));const _t=bl.create,li=dp.create,wn=zT.create,KT=kv.create,GEe=qT.create;yu.create;const Nb=To.create,Nn=jn.create;xw.create;bw.create;Hd.create;const ZEe=ww.create,fn=fp.create;_w.create;ou.create;pp.create;const YEe=({conversation:t,onReply:e,onArchive:r,onDelete:n,onMarkAsRead:i,onStar:s,showActions:o=!0})=>{const{user:l}=Sr();if(console.log("🔍 ConversationCard - Données reçues:",{id:t.id,participant1_id:t.participant1_id,participant2_id:t.participant2_id,participant1:t.participant1,participant2:t.participant2,messages:t.messages?.length||0,currentUserId:l?.id,p1_details:t.participant1?{id:t.participant1.id,first_name:t.participant1.first_name,last_name:t.participant1.last_name,profile_image:t.participant1.profile_image,avatar_url:t.participant1.avatar_url}:null,p2_details:t.participant2?{id:t.participant2.id,first_name:t.participant2.first_name,last_name:t.participant2.last_name,profile_image:t.participant2.profile_image,avatar_url:t.participant2.avatar_url}:null}),t.id==="welcome-message"||t.type==="system"||t.is_system)return a.jsx(It,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 shadow-sm",children:a.jsx(Bt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"🤖"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-blue-800",children:"Assistant MaxiMarket"}),a.jsx(pt,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Système"})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:t.content||"Bienvenue sur MaxiMarket !"}),a.jsx("div",{className:"flex items-center space-x-1 mt-2",children:a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(is,{className:"h-3 w-3 mr-1"}),"À l'instant"]})})]})]})})});const u=S=>{if(!S)return"À l'instant";try{const N=new Date(S),C=new Date,A=Math.floor((C-N)/(1e3*60*60)),k=Math.floor((C-N)/(1e3*60*60*24));return A<1?"À l'instant":A<24?`Il y a ${A}h`:k<7?`Il y a ${k}j`:N.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}},d=t.messages&&t.messages.length>0?t.messages[t.messages.length-1]:null;let h=null,g="unknown";l&&t.participant1&&t.participant2?t.participant1_id===l.id?(h=t.participant2,g="participant2"):t.participant2_id===l.id?(h=t.participant1,g="participant1"):t.participant1_id==="00000000-0000-0000-0000-000000000000"?(h=t.participant2,g="assistant_participant2"):t.participant2_id==="00000000-0000-0000-0000-000000000000"?(h=t.participant1,g="assistant_participant1"):(h=t.participant1,g="fallback_participant1"):t.participant1?(h=t.participant1,g="only_participant1"):t.participant2&&(h=t.participant2,g="only_participant2"),console.log("🔍 ConversationCard - Logique de sélection du participant:",{conversationId:t.id,currentUserId:l?.id,participant1_id:t.participant1_id,participant2_id:t.participant2_id,participantSource:g,otherParticipant:h?{id:h.id,first_name:h.first_name,last_name:h.last_name,profile_image:h.profile_image,avatar_url:h.avatar_url}:null});const y=(S=>{if(!S)return console.warn("⚠️ ConversationCard - Participant null/undefined"),"Utilisateur inconnu";if(S.first_name&&S.last_name)return`${S.first_name} ${S.last_name}`;if(S.first_name)return S.first_name;if(S.last_name)return S.last_name;if(S.name)return S.name;if(S.email){const N=S.email.split("@")[0];return N.charAt(0).toUpperCase()+N.slice(1)}return console.warn("⚠️ ConversationCard - Aucun nom trouvé pour le participant:",S),"Utilisateur"})(h);console.log("🔍 ConversationCard - Nom d'affichage final:",{conversationId:t.id,displayName:y,participant:h});const x=t.messages&&t.messages.some(S=>!S.is_read&&S.sender_id!==l?.id),_=!h||!h.first_name&&!h.last_name&&!h.name;return a.jsx(It,{className:qe("transition-all duration-200 hover:shadow-md",x&&"bg-blue-50 border-blue-200",t.starred&&"bg-yellow-50 border-yellow-200",_&&"bg-orange-50 border-orange-200"),children:a.jsx(Bt,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Ev,{user:h,size:"lg",className:"flex-shrink-0"}),x&&a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 border-2 border-white rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:y}),_&&a.jsxs(pt,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:[a.jsx(rf,{className:"h-3 w-3 mr-1"}),"Données manquantes"]}),x&&a.jsx(pt,{variant:"destructive",className:"text-xs",children:"Nouveau"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[t.starred&&a.jsx(da,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(is,{className:"h-3 w-3 mr-1"}),u(t.last_message_at)]})]})]}),d&&a.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:d.content||"Aucun contenu"}),a.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[t.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Bd,{className:"h-3 w-3 mr-1"}),t.listing.title||"Annonce"]}),t.messages&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Qn,{className:"h-3 w-3 mr-1"}),t.messages.length," message",t.messages.length>1?"s":""]})]})}),o&&a.jsxs("div",{className:"flex items-center space-x-2 mt-3 pt-3 border-t",children:[a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>e?.(t),className:"flex-1",children:[a.jsx(Gk,{className:"h-3 w-3 mr-1"}),"Répondre"]}),a.jsxs(ue,{size:"sm",variant:"outline",onClick:()=>i?.(t),className:"flex-1",children:[a.jsx(Dl,{className:"h-3 w-3 mr-1"}),"Marquer lu"]}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>r?.(t),children:a.jsx(I_,{className:"h-3 w-3"})}),a.jsx(ue,{size:"sm",variant:"outline",onClick:()=>s?.(t),children:a.jsx(da,{className:"h-3 w-3"})})]})]})]})})})},XEe=({activities:t=[]})=>{const e=i=>{switch(i){case"view":return a.jsx(Dl,{className:"h-4 w-4"});case"message":return a.jsx(Qn,{className:"h-4 w-4"});case"favorite":return a.jsx(Mo,{className:"h-4 w-4"});case"boost":return a.jsx(Ua,{className:"h-4 w-4"});case"approval":return a.jsx(Jn,{className:"h-4 w-4"});case"warning":return a.jsx(hn,{className:"h-4 w-4"});case"info":return a.jsx(afe,{className:"h-4 w-4"});default:return a.jsx(Vk,{className:"h-4 w-4"})}},r=i=>{switch(i){case"view":return"bg-blue-50 border-blue-200";case"message":return"bg-green-50 border-green-200";case"favorite":return"bg-pink-50 border-pink-200";case"boost":return"bg-purple-50 border-purple-200";case"approval":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},n=i=>{switch(i){case"view":return"text-blue-500";case"message":return"text-green-500";case"favorite":return"text-pink-500";case"boost":return"text-purple-500";case"approval":return"text-green-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}};return t.length===0?a.jsxs(It,{children:[a.jsx(ir,{children:a.jsxs(sr,{className:"flex items-center space-x-2",children:[a.jsx(Ua,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsx(Bt,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Ua,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Aucune activité récente"}),a.jsx("p",{className:"text-xs mt-1",children:"Vos activités apparaîtront ici"})]})})]}):a.jsxs(It,{children:[a.jsx(ir,{children:a.jsxs(sr,{className:"flex items-center space-x-2",children:[a.jsx(Ua,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsxs(Bt,{children:[a.jsx("div",{className:"space-y-4",children:t.map(i=>a.jsxs("div",{className:qe("flex items-start space-x-3 p-3 rounded-lg transition-colors",r(i.type),i.unread&&"bg-blue-50 border-blue-200"),children:[a.jsx("div",{className:qe("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",r(i.type).replace("border-","bg-").replace("-50","-100")),children:a.jsx("div",{className:n(i.type),children:e(i.type)})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:i.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[i.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Dl,{className:"h-3 w-3 mr-1"}),i.listing]}),i.location&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Po,{className:"h-3 w-3 mr-1"}),i.location]}),i.sender&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(ts,{className:"h-3 w-3 mr-1"}),i.sender]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[i.unread&&a.jsx(pt,{variant:"destructive",className:"text-xs",children:"Nouveau"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(Hl,{className:"h-3 w-3 mr-1"}),i.time]})]})]})})]},i.id))}),activitiesToShow.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Vk,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune activité"}),a.jsx("p",{className:"text-muted-foreground",children:"Vous n'avez pas encore d'activité récente."})]})]})]})},JEe=({stats:t={}})=>{const e=[{id:"new-listing",title:"Nouvelle Annonce",description:"Publier une nouvelle annonce",icon:Io,color:"from-primary to-blue-600",href:"/creer-annonce",badge:null},{id:"messages",title:"Messages",description:"Voir vos conversations",icon:Qn,color:"from-green-500 to-green-600",href:"/messages",badge:t.unreadMessages||0},{id:"favorites",title:"Mes Favoris",description:"Annonces sauvegardées",icon:Mo,color:"from-pink-500 to-pink-600",href:"/favorites",badge:t.totalFavorites||0},{id:"analytics",title:"Analytics",description:"Voir vos statistiques",icon:Ua,color:"from-purple-500 to-purple-600",href:"/admin/analytics",badge:null},{id:"settings",title:"Paramètres",description:"Configurer votre compte",icon:bd,color:"from-gray-500 to-gray-600",href:"/profile",badge:null},{id:"support",title:"Support",description:"Besoin d'aide ?",icon:gR,color:"from-orange-500 to-orange-600",href:"/aide",badge:null}];return a.jsxs(It,{children:[a.jsx(ir,{children:a.jsxs(sr,{className:"flex items-center space-x-2",children:[a.jsx(Io,{className:"h-5 w-5"}),a.jsx("span",{children:"Actions Rapides"})]})}),a.jsx(Bt,{children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(r=>a.jsx(ue,{variant:"outline",className:`h-12 bg-gradient-to-r ${r.color} hover:from-primary/90 hover:to-blue-600/90 text-white border-0 transition-all duration-200 hover:scale-105`,asChild:!0,children:a.jsxs(ar,{to:r.href,className:"flex items-center space-x-2",children:[a.jsx(r.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:r.title}),r.badge&&r.badge>0&&a.jsx(pt,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-0",children:r.badge})]})},r.id))})})]})},QEe=()=>{const{user:t,loading:e,logout:r}=Sr(),{toast:n}=Yr(),i=Tn(),[s,o]=b.useState(!1),{activeTab:l,handleTabChange:c}=l_e("dashboard"),[u,d]=b.useState([]),[h,g]=b.useState([]),[v,y]=b.useState([]),[x,_]=b.useState({totalListings:0,activeListings:0,totalViews:0,totalContacts:0,unreadMessages:0,totalFavorites:0}),[S,N]=b.useState({isOpen:!1,item:null}),[C,A]=b.useState({isOpen:!1,item:null}),[k,P]=b.useState({isOpen:!1,item:null}),[O,I]=b.useState({isOpen:!1,item:null}),[F,H]=b.useState(1),[V,U]=b.useState(1),[z]=b.useState(6),{register:W,handleSubmit:J,formState:{errors:se}}=Qp({defaultValues:{firstName:t?.firstName||"",lastName:t?.lastName||"",email:t?.email||"",phoneNumber:t?.phoneNumber||""}});b.useEffect(()=>{(async()=>{if(t)try{const We=await Rr.getUserListings();d(We);let Ue=[];try{Ue=await Pl.getUserFavorites()}catch(je){console.warn("Erreur lors du chargement des favoris:",je)}y(Ue);let Ce=[];try{Ce=await Si.getUserConversations()}catch(je){console.warn("Erreur lors du chargement des messages:",je)}g(Ce);const ot=We.filter(je=>je.status==="approved").length,Dt=We.reduce((je,Ae)=>je+(Ae.views_count||0),0),fe=Ce.filter(je=>!je.read).length;_({totalListings:We.length,activeListings:ot,totalViews:Dt,totalContacts:Ce.length,unreadMessages:fe,totalFavorites:Ue.length}),U(Math.ceil(We.length/z))}catch(We){console.error("Erreur lors du chargement des données:",We),n({title:"Erreur",description:"Impossible de charger vos données",variant:"destructive"})}})()},[t,n]);const K=async we=>{try{o(!0),await Va.updateProfile(we),n({title:"Profil mis à jour",description:"Vos informations ont été mises à jour avec succès."})}catch(We){n({title:"Erreur",description:We.message,variant:"destructive"})}finally{o(!1)}},ee=async we=>{try{o(!0),await Va.updatePassword(we.newPassword),n({title:"Mot de passe mis à jour",description:"Votre mot de passe a été changé avec succès."})}catch(We){n({title:"Erreur",description:We.message,variant:"destructive"})}finally{o(!1)}},G=we=>{A({isOpen:!0,item:we})},ne=we=>{N({isOpen:!0,item:we})},Y=we=>{I({isOpen:!0,item:we})},oe=we=>{P({isOpen:!0,item:we})},xe=async()=>{try{const we=C.item;i(`/editer-annonce/${we.id}`),A({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de modifier l'annonce",variant:"destructive"})}},Ne=async()=>{try{const we=S.item;await Rr.deleteListing(we.id);const We=u.filter(Ue=>Ue.id!==we.id);d(We),n({title:"Annonce supprimée",description:`"${we.title}" a été supprimée`}),N({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de supprimer l'annonce",variant:"destructive"})}},Le=async()=>{try{const we=O.item;await Rr.updateListing(we.id,{boosted:!we.boosted});const We=u.map(Ue=>Ue.id===we.id?{...Ue,boosted:!Ue.boosted}:Ue);d(We),n({title:"Annonce boostée",description:`"${we.title}" a été boostée`}),I({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de booster l'annonce",variant:"destructive"})}},ce=async()=>{try{const we=k.item;await Rr.updateListing(we.id,{updated_at:new Date().toISOString()}),n({title:"Annonce actualisée",description:`"${we.title}" a été actualisée`}),P({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible d'actualiser l'annonce",variant:"destructive"})}},ae=we=>{H(we)},ge=()=>{const we=(F-1)*z,We=we+z;return u.slice(we,We)},he=we=>{i(`/messages?conversation=${we.id}`)},Pe=async we=>{try{await Si.archiveConversation(we.id);const We=h.map(Ue=>Ue.id===we.id?{...Ue,is_archived:!0}:Ue);g(We),n({title:"Conversation archivée",description:"La conversation a été archivée"})}catch{n({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},te=async we=>{try{await Si.markMessagesAsRead(we.id);const We=h.map(Ue=>Ue.id===we.id?{...Ue,messages:Ue.messages?.map(Ce=>({...Ce,is_read:!0}))}:Ue);g(We),_(Ue=>({...Ue,unreadMessages:Math.max(0,Ue.unreadMessages-1)})),n({title:"Messages marqués comme lus",description:"Les messages ont été marqués comme lus"})}catch{n({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},X=async we=>{try{const We=!we.starred;await Si.toggleConversationStar(we.id,We);const Ue=h.map(Ce=>Ce.id===we.id?{...Ce,starred:We}:Ce);g(Ue),n({title:We?"Conversation ajoutée aux favoris":"Conversation retirée des favoris",description:We?"La conversation a été ajoutée à vos favoris":"La conversation a été retirée de vos favoris"})}catch{n({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},_e=async()=>{try{if(await r())n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i("/");else throw new Error("Échec de la déconnexion")}catch(we){n({title:"Erreur de déconnexion",description:we.message||"Une erreur est survenue lors de la déconnexion",variant:"destructive"})}};return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Or,{className:"h-8 w-8 animate-spin"})}):a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/20",children:[a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center overflow-hidden shadow-lg",children:t?.profileImage?a.jsx("img",{src:t.profileImage,alt:`${t.firstName} ${t.lastName}`,className:"w-full h-full object-cover"}):a.jsx(ts,{className:"h-10 w-10 text-white"})}),a.jsx(ue,{size:"icon",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full shadow-md",children:a.jsx(Td,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[t?.firstName," ",t?.lastName]}),a.jsxs("p",{className:"text-muted-foreground flex items-center",children:[a.jsx(pu,{className:"h-4 w-4 mr-2"}),t?.email]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsxs(pt,{variant:"secondary",className:"bg-green-100 text-green-800",children:[a.jsx(Hb,{className:"h-3 w-3 mr-1"}),"Compte vérifié"]}),a.jsxs(pt,{variant:"outline",children:["Membre depuis ",new Date(t?.createdAt).toLocaleDateString()]})]})]})]})}),a.jsxs(PR,{value:l,onValueChange:c,className:"w-full",children:[a.jsxs(q_,{className:"grid w-full grid-cols-7 bg-white/50 backdrop-blur-sm border border-border/50",children:[a.jsxs(Li,{value:"dashboard",className:"flex items-center space-x-2",children:[a.jsx(vd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),a.jsxs(Li,{value:"listings",className:"flex items-center space-x-2",children:[a.jsx(Bd,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Mes Annonces"})]}),a.jsxs(Li,{value:"messages",className:"flex items-center space-x-2",children:[a.jsx(Qn,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Messages"}),x.unreadMessages>0&&a.jsx(pt,{variant:"destructive",className:"h-5 w-5 p-0 text-xs",children:x.unreadMessages})]}),a.jsxs(Li,{value:"favorites",className:"flex items-center space-x-2",children:[a.jsx(Mo,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Favoris"})]}),a.jsxs(Li,{value:"transactions",className:"flex items-center space-x-2",children:[a.jsx(ev,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),a.jsxs(Li,{value:"profile",className:"flex items-center space-x-2",children:[a.jsx(ts,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Profil"})]}),a.jsxs(Li,{value:"security",className:"flex items-center space-x-2",children:[a.jsx(Hb,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sécurité"})]})]}),a.jsxs(Di,{value:"dashboard",className:"space-y-6",children:[e?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((we,We)=>a.jsx(INe,{},We))}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(z0,{title:"Annonces Actives",value:x.activeListings,icon:Bd,color:"blue"}),a.jsx(z0,{title:"Total des Vues",value:x.totalViews.toLocaleString(),icon:Dl,color:"green"}),a.jsx(z0,{title:"Contacts Reçus",value:x.totalContacts,icon:Ka,color:"purple"}),a.jsx(z0,{title:"Messages Non Lus",value:x.unreadMessages,icon:Vk,color:"orange"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(XEe,{}),a.jsx(JEe,{stats:x})]})]}),a.jsxs(Di,{value:"listings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos annonces publiées"})]}),a.jsx(ue,{asChild:!0,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",children:a.jsxs(ar,{to:"/creer-annonce",children:[a.jsx(Io,{className:"h-4 w-4 mr-2"}),"Nouvelle Annonce"]})})]}),e?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((we,We)=>a.jsx(MNe,{},We))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:ge().map(we=>a.jsx(n3,{listing:we,onEdit:G,onDelete:ne,onRefresh:oe,onBoost:Y,showActions:!0},we.id))}),a.jsx(oSe,{currentPage:F,totalPages:V,onPageChange:ae,hasNextPage:F<V,hasPrevPage:F>1,isLoading:e})]})]}),a.jsxs(Di,{value:"messages",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Filtrer"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(ei,{className:"h-4 w-4 mr-2"}),"Rechercher"]})]})]}),a.jsx("div",{className:"space-y-4",children:h.map(we=>a.jsx(YEe,{conversation:we,onReply:he,onArchive:Pe,onDelete:()=>{},onMarkAsRead:te,onStar:X,showActions:!0},we.id))})]}),a.jsxs(Di,{value:"favorites",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Favoris"}),a.jsx("p",{className:"text-muted-foreground",children:"Annonces que vous avez sauvegardées"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(we=>a.jsx(n3,{listing:we,showActions:!1},we.id))})]}),a.jsxs(Di,{value:"transactions",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Historique de vos transactions"})]})}),a.jsx(It,{children:a.jsx(Bt,{className:"p-6",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(ev,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune transaction"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous n'avez pas encore effectué de transactions sur MaxiMarket."}),a.jsx(ue,{variant:"outline",children:"Découvrir nos services"})]})})})]}),a.jsxs(Di,{value:"profile",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Informations du profil"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos informations personnelles"})]})}),a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Paramètres du profil"}),a.jsx(Cn,{children:"Gérez vos informations personnelles et vos préférences"})]}),a.jsx(Bt,{children:a.jsxs("form",{onSubmit:J(K),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"firstName",className:"pl-10",...W("firstName",{required:"Le prénom est requis"})})]}),se.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:se.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(ts,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"lastName",className:"pl-10",...W("lastName",{required:"Le nom est requis"})})]}),se.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:se.lastName.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(pu,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"email",type:"email",className:"pl-10",...W("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),se.email&&a.jsx("p",{className:"text-sm text-destructive",children:se.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(qa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"phoneNumber",type:"tel",className:"pl-10",...W("phoneNumber",{pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),se.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:se.phoneNumber.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Mettre à jour le profil"})]})})]})]}),a.jsxs(Di,{value:"security",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Sécurité"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez la sécurité de votre compte"})]})}),a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Changer le mot de passe"}),a.jsx(Cn,{children:"Assurez-vous d'utiliser un mot de passe fort et unique"})]}),a.jsx(Bt,{children:a.jsxs("form",{onSubmit:J(ee),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),a.jsxs("div",{className:"relative",children:[a.jsx(zd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"currentPassword",type:"password",className:"pl-10",...W("currentPassword",{required:"Le mot de passe actuel est requis"})})]}),se.currentPassword&&a.jsx("p",{className:"text-sm text-destructive",children:se.currentPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(zd,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{id:"newPassword",type:"password",className:"pl-10",...W("newPassword",{required:"Le nouveau mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),se.newPassword&&a.jsx("p",{className:"text-sm text-destructive",children:se.newPassword.message})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Changer le mot de passe"})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(ue,{onClick:_e,variant:"destructive",className:"w-full",children:[a.jsx(xR,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})})]})]})]}),a.jsx(S1e,{isOpen:S.isOpen,onClose:()=>N({isOpen:!1,item:null}),onConfirm:Ne,itemName:S.item?.title,isLoading:s}),a.jsx(N1e,{isOpen:C.isOpen,onClose:()=>A({isOpen:!1,item:null}),onConfirm:xe,itemName:C.item?.title,isLoading:s}),a.jsx(C1e,{isOpen:k.isOpen,onClose:()=>P({isOpen:!1,item:null}),onConfirm:ce,itemName:k.item?.title,isLoading:s}),a.jsx(E1e,{isOpen:O.isOpen,onClose:()=>I({isOpen:!1,item:null}),onConfirm:Le,itemName:O.item?.title,isLoading:s})]})},ePe=()=>{const t=Tn();return b.useEffect(()=>{(async()=>{try{const{data:{session:r}}=await be.auth.getSession();r?.user?t("/",{replace:!0}):t("/connexion",{replace:!0})}catch{t("/connexion",{replace:!0})}})()},[t]),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx(Or,{className:"mr-2 h-5 w-5 animate-spin"}),"Traitement de la confirmation..."]})})};function tPe(){const[t,e]=b.useState(null),[r,n]=b.useState(!0),[i,s]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const{data:{session:v}}=await be.auth.getSession();s(v),e(v?.user??null)}catch(v){console.error("Erreur lors de la récupération de la session:",v)}finally{n(!1)}})();const{data:{subscription:g}}=be.auth.onAuthStateChange(async(v,y)=>{console.log("🔄 Événement d'authentification:",v),s(y),e(y?.user??null),n(!1)});return()=>g.unsubscribe()},[]),{user:t,session:i,loading:r,signIn:async(h,g)=>{try{const{data:v,error:y}=await be.auth.signInWithPassword({email:h,password:g});if(y)throw y;return{data:v,error:null}}catch(v){return console.error("Erreur de connexion:",v),{data:null,error:v}}},signUp:async(h,g,v={})=>{try{const{data:y,error:x}=await be.auth.signUp({email:h,password:g,options:{data:v}});if(x)throw x;return{data:y,error:null}}catch(y){return console.error("Erreur d'inscription:",y),{data:null,error:y}}},signOut:async()=>{try{const{error:h}=await be.auth.signOut();if(h)throw h;return{error:null}}catch(h){return console.error("Erreur de déconnexion:",h),{error:h}}},resetPassword:async h=>{try{const{data:g,error:v}=await be.auth.resetPasswordForEmail(h,{redirectTo:`${window.location.origin}/reset-password`});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de réinitialisation de mot de passe:",g),{data:null,error:g}}},updatePassword:async h=>{try{const{data:g,error:v}=await be.auth.updateUser({password:h});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de mise à jour du mot de passe:",g),{data:null,error:g}}},isAuthenticated:!!t}}const rPe=(t={})=>{const{user:e}=Sr();return Yn({queryKey:["conversations",e?.id,t],queryFn:async()=>{try{console.log("🔍 Hook useConversations - Début de la récupération");const r=await Si.getUserConversations();return console.log("🔍 Hook useConversations - Récupération réussie:",r?.length||0),r}catch(r){throw console.error("❌ Hook useConversations - Erreur lors de la récupération:",r),r.code==="PGRST116"?new Error("Erreur de base de données: Vérifiez la structure des tables"):r.message?.includes("Invalid Refresh Token")?new Error("Session expirée. Veuillez vous reconnecter."):r.status===400?new Error("Requête invalide. Vérifiez les paramètres."):new Error(`Erreur de messagerie: ${r.message||"Erreur inconnue"}`)}},enabled:!!e,staleTime:3e4,gcTime:5*60*1e3,retry:(r,n)=>n.message?.includes("Session expirée")||n.message?.includes("Utilisateur non connecté")?!1:r<2,retryDelay:r=>Math.min(1e3*2**r,3e4)})},nPe=t=>{const e=Uo(),{user:r}=Sr();b.useEffect(()=>{if(!t||!r)return;const n=be.channel(`messages:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${t}`},i=>{e.setQueryData(["conversation-messages",t],s=>{if(!s)return s;const o=i.new,l=[...s.pages];return l.length>0&&(l[l.length-1]=[...l[l.length-1],o]),{...s,pages:l}}),e.setQueryData(["conversations"],s=>s&&s.map(o=>o.id===t?{...o,last_message_at:newMessage.created_at,messages:[...o.messages||[],newMessage]}:o))}).subscribe();return()=>{be.removeChannel(n)}},[t,r,e])},iPe=({selectedConversation:t,onBack:e,onMenuToggle:r,onSearch:n,onFilter:i,onMore:s,onCall:o,onVideo:l,unreadCount:c=0,isStarred:u=!1,isArchived:d=!1})=>t?a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:e,className:"p-2 -ml-2",children:a.jsx(ca,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:a.jsx(ts,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:t.participant1?.first_name||"Utilisateur"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t.listing?.title||"Conversation"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[o&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:o,className:"p-2",children:a.jsx(qa,{className:"h-4 w-4"})}),l&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:l,className:"p-2",children:a.jsx(bR,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:a.jsx(Qd,{className:"h-4 w-4"})})]})]}):a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Messages"}),c>0&&a.jsx(pt,{variant:"destructive",className:"h-5 px-2 text-xs",children:c})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-2",children:a.jsx(ei,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-2",children:a.jsx(ss,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:a.jsx(vW,{className:"h-4 w-4"})})]})]}),sPe=({searchTerm:t,onSearchChange:e,filterType:r,onFilterChange:n,onClear:i,totalCount:s=0,unreadCount:o=0,starredCount:l=0,archivedCount:c=0})=>{const[u,d]=b.useState(!1),h=[{key:"all",label:"Toutes",icon:Qn,count:s},{key:"unread",label:"Non lues",icon:is,count:o},{key:"starred",label:"Favoris",icon:da,count:l},{key:"archived",label:"Archivées",icon:I_,count:c}];return a.jsxs("div",{className:"bg-card border-b border-border p-4",children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher des conversations...",value:t,onChange:g=>e(g.target.value),className:"pl-10 pr-10"}),t&&a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 h-6 w-6",children:a.jsx(os,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex space-x-2 mb-3",children:h.map(g=>a.jsxs(ue,{variant:r===g.key?"default":"outline",size:"sm",onClick:()=>n(g.key),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(g.icon,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs",children:g.label}),g.count>0&&a.jsx(pt,{variant:"secondary",className:"ml-1 h-4 px-1 text-xs",children:g.count})]},g.key))}),u&&a.jsx("div",{className:"pt-3 border-t border-border",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(ts,{className:"h-3 w-3 mr-1"}),"Par utilisateur"]}),a.jsxs(ue,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Bd,{className:"h-3 w-3 mr-1"}),"Par annonce"]})]})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>d(!u),className:"text-xs text-muted-foreground hover:text-foreground",children:[a.jsx(ss,{className:"h-3 w-3 mr-1"}),u?"Masquer":"Plus de filtres"]})})]})},aPe=({onCapture:t,onClose:e,isOpen:r=!1,quality:n=.8,maxWidth:i=1920,maxHeight:s=1080})=>{const o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),[u,d]=b.useState(!1),[h,g]=b.useState(null),[v,y]=b.useState(null),[x,_]=b.useState(null),[S,N]=b.useState(!1),[C,A]=b.useState("user"),{toast:k}=Yr(),P=b.useCallback(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){y("Votre navigateur ne supporte pas l'accès à la caméra");return}d(!0),y(null);try{const z={video:{facingMode:C,width:{ideal:i},height:{ideal:s}},audio:!1},W=await navigator.mediaDevices.getUserMedia(z);c.current=W,o.current&&(o.current.srcObject=W,o.current.onloadedmetadata=()=>{N(!0),d(!1)}),g(!0)}catch(z){console.error("Erreur caméra:",z),z.name==="NotAllowedError"?y("Permission d'accès à la caméra refusée. Veuillez autoriser l'accès dans les paramètres de votre navigateur."):z.name==="NotFoundError"?y("Aucune caméra trouvée sur votre appareil."):z.name==="NotReadableError"?y("La caméra est déjà utilisée par une autre application."):y("Erreur lors de l'accès à la caméra. Veuillez réessayer."),g(!1),d(!1)}},[C,i,s]),O=b.useCallback(()=>{c.current&&(c.current.getTracks().forEach(z=>z.stop()),c.current=null),N(!1)},[]),I=b.useCallback(()=>{S&&(O(),A(z=>z==="user"?"environment":"user"),setTimeout(()=>P(),100))},[S,O,P]),F=b.useCallback(()=>{if(!o.current||!l.current)return;const z=o.current,W=l.current,J=W.getContext("2d");W.width=z.videoWidth,W.height=z.videoHeight,J.drawImage(z,0,0,W.width,W.height),W.toBlob(se=>{if(se){const K=URL.createObjectURL(se);_({blob:se,url:K,timestamp:new Date().toISOString()}),k({title:"Photo capturée !",description:"Votre photo a été capturée avec succès.",duration:3e3})}},"image/jpeg",n)},[n,k]),H=b.useCallback(()=>{_(null),x?.url&&URL.revokeObjectURL(x.url)},[x]),V=b.useCallback(()=>{x&&t&&(t(x),e())},[x,t,e]),U=b.useCallback(()=>{O(),x?.url&&URL.revokeObjectURL(x.url),_(null),y(null),e()},[O,x,e]);return b.useEffect(()=>{r&&!S&&P()},[r,S,P]),b.useEffect(()=>()=>{O(),x?.url&&URL.revokeObjectURL(x.url)},[O,x]),h===!1?a.jsx(Xn,{children:r&&a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Oe.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(hn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la caméra refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v||"Pour utiliser la caméra, vous devez autoriser l'accès dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Fermer"}),a.jsx(ue,{onClick:P,children:"Réessayer"})]})]})})}):a.jsx(Xn,{children:r&&a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Oe.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Td,{className:"h-5 w-5 mr-2"}),"Prendre une photo"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(os,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4",children:u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Or,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]}):x?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:a.jsx("img",{src:x.url,alt:"Photo capturée",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:H,children:[a.jsx(Y$,{className:"h-4 w-4 mr-2"}),"Reprendre"]}),a.jsxs(ue,{onClick:V,children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Utiliser cette photo"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:[a.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!S&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Td,{className:"h-16 w-16 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]})})]}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(ue,{variant:"outline",onClick:I,disabled:!S,className:"flex items-center",children:[a.jsx(Y$,{className:"h-4 w-4 mr-2"}),"Changer de caméra"]}),a.jsxs(ue,{onClick:F,disabled:!S,size:"lg",className:"bg-primary hover:bg-primary/90",children:[a.jsx(Td,{className:"h-5 w-5 mr-2"}),"Prendre la photo"]})]}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:'Positionnez-vous dans le cadre et appuyez sur "Prendre la photo"'}),a.jsx("p",{className:"mt-1",children:"Vous pourrez reprendre la photo si nécessaire"})]})]})})]})})})},oPe=({onFilesSelected:t,onClose:e,isOpen:r=!1,maxFiles:n=10,maxFileSize:i=10*1024*1024,acceptedTypes:s=["image/*","video/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","application/zip"],multiple:o=!0})=>{const l=b.useRef(null),c=b.useRef(null),[u,d]=b.useState([]),[h,g]=b.useState(!1),[v,y]=b.useState({}),[x,_]=b.useState([]),[S,N]=b.useState({}),{toast:C}=Yr(),A=K=>K.type.startsWith("image/")?"image":K.type.startsWith("video/")?"video":K.type.startsWith("application/pdf")?"pdf":K.type.includes("word")||K.type.includes("document")?"document":K.type.includes("excel")||K.type.includes("spreadsheet")?"spreadsheet":K.type.includes("text/")||K.type.includes("csv")?"text":K.type.includes("zip")||K.type.includes("archive")?"archive":"other",k=K=>{switch(K){case"image":return a.jsx(pW,{className:"h-8 w-8 text-blue-500"});case"video":return a.jsx(bR,{className:"h-8 w-8 text-purple-500"});case"pdf":return a.jsx(Kr,{className:"h-8 w-8 text-red-500"});case"document":return a.jsx(Kr,{className:"h-8 w-8 text-blue-600"});case"spreadsheet":return a.jsx(Kr,{className:"h-8 w-8 text-green-600"});case"text":return a.jsx(Kr,{className:"h-8 w-8 text-gray-600"});case"archive":return a.jsx(Wb,{className:"h-8 w-8 text-orange-500"});default:return a.jsx(Wb,{className:"h-8 w-8 text-gray-500"})}},P=K=>{if(K===0)return"0 Bytes";const ee=1024,G=["Bytes","KB","MB","GB"],ne=Math.floor(Math.log(K)/Math.log(ee));return parseFloat((K/Math.pow(ee,ne)).toFixed(2))+" "+G[ne]},O=K=>{const ee=[];return K.size>i&&ee.push(`Le fichier "${K.name}" est trop volumineux (${P(K.size)}). Taille maximale : ${P(i)}`),s.some(ne=>ne.endsWith("/*")?K.type.startsWith(ne.slice(0,-1)):K.type===ne)||ee.push(`Le type de fichier "${K.type}" n'est pas accepté pour "${K.name}"`),u.length>=n&&ee.push(`Nombre maximum de fichiers atteint (${n})`),ee},I=b.useCallback(K=>{if(K.type.startsWith("image/")){const ee=new FileReader;ee.onload=G=>{N(ne=>({...ne,[K.name]:G.target.result}))},ee.readAsDataURL(K)}},[]),F=b.useCallback(K=>{const ee=Array.from(K),G=[],ne=[];ee.forEach(Y=>{const oe=O(Y);oe.length===0?(ne.push(Y),I(Y)):G.push(...oe)}),G.length>0&&(_(G),C({title:"Erreurs de validation",description:G.slice(0,3).join(". "),variant:"destructive",duration:5e3})),ne.length>0&&(d(Y=>[...Y,...ne]),C({title:"Fichiers ajoutés",description:`${ne.length} fichier(s) ajouté(s) avec succès.`,duration:3e3}))},[u,n,i,s,I,C]),H=b.useCallback(K=>{K.preventDefault(),g(!1);const ee=K.dataTransfer.files;ee.length>0&&F(ee)},[F]),V=b.useCallback(K=>{K.preventDefault(),g(!0)},[]),U=b.useCallback(K=>{K.preventDefault(),g(!1)},[]),z=b.useCallback(K=>{d(ee=>ee.filter(G=>G.name!==K)),N(ee=>{const G={...ee};return delete G[K],G}),y(ee=>{const G={...ee};return delete G[K],G})},[]),W=b.useCallback(()=>{u.length>0&&t&&(t(u),e())},[u,t,e]),J=b.useCallback(K=>{y(G=>({...G,[K.name]:0}));const ee=setInterval(()=>{y(G=>{const ne=G[K.name]||0;return ne>=100?(clearInterval(ee),G):{...G,[K.name]:ne+10}})},100)},[]),se=b.useCallback(()=>{d([]),N({}),y({}),_([]),e()},[e]);return a.jsx(Xn,{children:r&&a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Oe.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(cg,{className:"h-5 w-5 mr-2"}),"Sélectionner des fichiers"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:se,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(os,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{ref:c,onDrop:H,onDragOver:V,onDragLeave:U,className:`
                  border-2 border-dashed rounded-lg p-8 text-center transition-colors
                  ${h?"border-primary bg-primary/10":"border-border hover:border-primary/50"}
                `,children:[a.jsx(cg,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Glissez-déposez vos fichiers ici"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"ou cliquez pour sélectionner des fichiers"}),a.jsxs(ue,{onClick:()=>l.current?.click(),variant:"outline",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[a.jsx(cg,{className:"h-4 w-4 mr-2"}),"Choisir des fichiers"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Types acceptés : Images, Vidéos, PDF, Documents, etc.",a.jsx("br",{}),"Taille maximale : ",P(i)," par fichier"]})]}),a.jsx("input",{ref:l,type:"file",multiple:o,accept:s.join(","),onChange:K=>F(K.target.files),className:"hidden"}),u.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium",children:["Fichiers sélectionnés (",u.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:u.map((K,ee)=>a.jsx(Oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-lg p-3 bg-muted/30",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[k(A(K)),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",title:K.name,children:K.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[P(K.size)," • ",A(K)]}),S[K.name]&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:S[K.name],alt:K.name,className:"w-16 h-16 object-cover rounded border"})}),v[K.name]!==void 0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(KW,{value:v[K.name],className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v[K.name],"% terminé"]})]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>J(K),disabled:v[K.name]!==void 0,children:a.jsx(cg,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>z(K.name),className:"text-red-500 hover:text-red-700",children:a.jsx(Za,{className:"h-4 w-4"})})]})]})},`${K.name}-${ee}`))})]}),x.length>0&&a.jsx(Oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(hn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreurs de validation"}),a.jsxs("ul",{className:"text-sm text-destructive space-y-1",children:[x.slice(0,5).map((K,ee)=>a.jsxs("li",{children:["• ",K]},ee)),x.length>5&&a.jsxs("li",{children:["• ... et ",x.length-5," autres erreurs"]})]})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:u.length>0?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2 text-green-500"}),u.length," fichier(s) prêt(s) à être envoyé(s)"]}):"Aucun fichier sélectionné"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:se,children:"Annuler"}),a.jsxs(ue,{onClick:W,disabled:u.length===0,className:"bg-primary hover:bg-primary/90",children:[a.jsx(cg,{className:"h-4 w-4 mr-2"}),"Envoyer ",u.length>0&&`(${u.length})`]})]})]})]})})})};var qg={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var lPe=qg.exports,U3;function cPe(){return U3||(U3=1,function(t,e){(function(r,n){n(e)})(lPe,function(r){var n="1.9.4";function i(p){var w,E,R,q;for(E=1,R=arguments.length;E<R;E++){q=arguments[E];for(w in q)p[w]=q[w]}return p}var s=Object.create||function(){function p(){}return function(w){return p.prototype=w,new p}}();function o(p,w){var E=Array.prototype.slice;if(p.bind)return p.bind.apply(p,E.call(arguments,1));var R=E.call(arguments,2);return function(){return p.apply(w,R.length?R.concat(E.call(arguments)):arguments)}}var l=0;function c(p){return"_leaflet_id"in p||(p._leaflet_id=++l),p._leaflet_id}function u(p,w,E){var R,q,ie,pe;return pe=function(){R=!1,q&&(ie.apply(E,q),q=!1)},ie=function(){R?q=arguments:(p.apply(E,arguments),setTimeout(pe,w),R=!0)},ie}function d(p,w,E){var R=w[1],q=w[0],ie=R-q;return p===R&&E?p:((p-q)%ie+ie)%ie+q}function h(){return!1}function g(p,w){if(w===!1)return p;var E=Math.pow(10,w===void 0?6:w);return Math.round(p*E)/E}function v(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function y(p){return v(p).split(/\s+/)}function x(p,w){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?s(p.options):{});for(var E in w)p.options[E]=w[E];return p.options}function _(p,w,E){var R=[];for(var q in p)R.push(encodeURIComponent(E?q.toUpperCase():q)+"="+encodeURIComponent(p[q]));return(!w||w.indexOf("?")===-1?"?":"&")+R.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function N(p,w){return p.replace(S,function(E,R){var q=w[R];if(q===void 0)throw new Error("No value provided for variable "+E);return typeof q=="function"&&(q=q(w)),q})}var C=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function A(p,w){for(var E=0;E<p.length;E++)if(p[E]===w)return E;return-1}var k="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function P(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var O=0;function I(p){var w=+new Date,E=Math.max(0,16-(w-O));return O=w+E,window.setTimeout(p,E)}var F=window.requestAnimationFrame||P("RequestAnimationFrame")||I,H=window.cancelAnimationFrame||P("CancelAnimationFrame")||P("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function V(p,w,E){if(E&&F===I)p.call(w);else return F.call(window,o(p,w))}function U(p){p&&H.call(window,p)}var z={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:d,falseFn:h,formatNum:g,trim:v,splitWords:y,setOptions:x,getParamString:_,template:N,isArray:C,indexOf:A,emptyImageUrl:k,requestFn:F,cancelFn:H,requestAnimFrame:V,cancelAnimFrame:U};function W(){}W.extend=function(p){var w=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},E=w.__super__=this.prototype,R=s(E);R.constructor=w,w.prototype=R;for(var q in this)Object.prototype.hasOwnProperty.call(this,q)&&q!=="prototype"&&q!=="__super__"&&(w[q]=this[q]);return p.statics&&i(w,p.statics),p.includes&&(J(p.includes),i.apply(null,[R].concat(p.includes))),i(R,p),delete R.statics,delete R.includes,R.options&&(R.options=E.options?s(E.options):{},i(R.options,p.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){E.callInitHooks&&E.callInitHooks.call(this),this._initHooksCalled=!0;for(var ie=0,pe=R._initHooks.length;ie<pe;ie++)R._initHooks[ie].call(this)}},w},W.include=function(p){var w=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=w,this.mergeOptions(p.options)),this},W.mergeOptions=function(p){return i(this.prototype.options,p),this},W.addInitHook=function(p){var w=Array.prototype.slice.call(arguments,1),E=typeof p=="function"?p:function(){this[p].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(E),this};function J(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=C(p)?p:[p];for(var w=0;w<p.length;w++)p[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var se={on:function(p,w,E){if(typeof p=="object")for(var R in p)this._on(R,p[R],w);else{p=y(p);for(var q=0,ie=p.length;q<ie;q++)this._on(p[q],w,E)}return this},off:function(p,w,E){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var R in p)this._off(R,p[R],w);else{p=y(p);for(var q=arguments.length===1,ie=0,pe=p.length;ie<pe;ie++)q?this._off(p[ie]):this._off(p[ie],w,E)}return this},_on:function(p,w,E,R){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(p,w,E)===!1){E===this&&(E=void 0);var q={fn:w,ctx:E};R&&(q.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(q)}},_off:function(p,w,E){var R,q,ie;if(this._events&&(R=this._events[p],!!R)){if(arguments.length===1){if(this._firingCount)for(q=0,ie=R.length;q<ie;q++)R[q].fn=h;delete this._events[p];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var pe=this._listens(p,w,E);if(pe!==!1){var Ee=R[pe];this._firingCount&&(Ee.fn=h,this._events[p]=R=R.slice()),R.splice(pe,1)}}},fire:function(p,w,E){if(!this.listens(p,E))return this;var R=i({},w,{type:p,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var q=this._events[p];if(q){this._firingCount=this._firingCount+1||1;for(var ie=0,pe=q.length;ie<pe;ie++){var Ee=q[ie],Me=Ee.fn;Ee.once&&this.off(p,Me,Ee.ctx),Me.call(Ee.ctx||this,R)}this._firingCount--}}return E&&this._propagateEvent(R),this},listens:function(p,w,E,R){typeof p!="string"&&console.warn('"string" type argument expected');var q=w;typeof w!="function"&&(R=!!w,q=void 0,E=void 0);var ie=this._events&&this._events[p];if(ie&&ie.length&&this._listens(p,q,E)!==!1)return!0;if(R){for(var pe in this._eventParents)if(this._eventParents[pe].listens(p,w,E,R))return!0}return!1},_listens:function(p,w,E){if(!this._events)return!1;var R=this._events[p]||[];if(!w)return!!R.length;E===this&&(E=void 0);for(var q=0,ie=R.length;q<ie;q++)if(R[q].fn===w&&R[q].ctx===E)return q;return!1},once:function(p,w,E){if(typeof p=="object")for(var R in p)this._on(R,p[R],w,!0);else{p=y(p);for(var q=0,ie=p.length;q<ie;q++)this._on(p[q],w,E,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[c(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[c(p)],this},_propagateEvent:function(p){for(var w in this._eventParents)this._eventParents[w].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};se.addEventListener=se.on,se.removeEventListener=se.clearAllEventListeners=se.off,se.addOneTimeEventListener=se.once,se.fireEvent=se.fire,se.hasEventListeners=se.listens;var K=W.extend(se);function ee(p,w,E){this.x=E?Math.round(p):p,this.y=E?Math.round(w):w}var G=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};ee.prototype={clone:function(){return new ee(this.x,this.y)},add:function(p){return this.clone()._add(ne(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(ne(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new ee(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new ee(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(p){p=ne(p);var w=p.x-this.x,E=p.y-this.y;return Math.sqrt(w*w+E*E)},equals:function(p){return p=ne(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=ne(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function ne(p,w,E){return p instanceof ee?p:C(p)?new ee(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new ee(p.x,p.y):new ee(p,w,E)}function Y(p,w){if(p)for(var E=w?[p,w]:p,R=0,q=E.length;R<q;R++)this.extend(E[R])}Y.prototype={extend:function(p){var w,E;if(!p)return this;if(p instanceof ee||typeof p[0]=="number"||"x"in p)w=E=ne(p);else if(p=oe(p),w=p.min,E=p.max,!w||!E)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=E.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(E.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(E.y,this.max.y)),this},getCenter:function(p){return ne((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return ne(this.min.x,this.max.y)},getTopRight:function(){return ne(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var w,E;return typeof p[0]=="number"||p instanceof ee?p=ne(p):p=oe(p),p instanceof Y?(w=p.min,E=p.max):w=E=p,w.x>=this.min.x&&E.x<=this.max.x&&w.y>=this.min.y&&E.y<=this.max.y},intersects:function(p){p=oe(p);var w=this.min,E=this.max,R=p.min,q=p.max,ie=q.x>=w.x&&R.x<=E.x,pe=q.y>=w.y&&R.y<=E.y;return ie&&pe},overlaps:function(p){p=oe(p);var w=this.min,E=this.max,R=p.min,q=p.max,ie=q.x>w.x&&R.x<E.x,pe=q.y>w.y&&R.y<E.y;return ie&&pe},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var w=this.min,E=this.max,R=Math.abs(w.x-E.x)*p,q=Math.abs(w.y-E.y)*p;return oe(ne(w.x-R,w.y-q),ne(E.x+R,E.y+q))},equals:function(p){return p?(p=oe(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function oe(p,w){return!p||p instanceof Y?p:new Y(p,w)}function xe(p,w){if(p)for(var E=w?[p,w]:p,R=0,q=E.length;R<q;R++)this.extend(E[R])}xe.prototype={extend:function(p){var w=this._southWest,E=this._northEast,R,q;if(p instanceof Le)R=p,q=p;else if(p instanceof xe){if(R=p._southWest,q=p._northEast,!R||!q)return this}else return p?this.extend(ce(p)||Ne(p)):this;return!w&&!E?(this._southWest=new Le(R.lat,R.lng),this._northEast=new Le(q.lat,q.lng)):(w.lat=Math.min(R.lat,w.lat),w.lng=Math.min(R.lng,w.lng),E.lat=Math.max(q.lat,E.lat),E.lng=Math.max(q.lng,E.lng)),this},pad:function(p){var w=this._southWest,E=this._northEast,R=Math.abs(w.lat-E.lat)*p,q=Math.abs(w.lng-E.lng)*p;return new xe(new Le(w.lat-R,w.lng-q),new Le(E.lat+R,E.lng+q))},getCenter:function(){return new Le((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Le(this.getNorth(),this.getWest())},getSouthEast:function(){return new Le(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof Le||"lat"in p?p=ce(p):p=Ne(p);var w=this._southWest,E=this._northEast,R,q;return p instanceof xe?(R=p.getSouthWest(),q=p.getNorthEast()):R=q=p,R.lat>=w.lat&&q.lat<=E.lat&&R.lng>=w.lng&&q.lng<=E.lng},intersects:function(p){p=Ne(p);var w=this._southWest,E=this._northEast,R=p.getSouthWest(),q=p.getNorthEast(),ie=q.lat>=w.lat&&R.lat<=E.lat,pe=q.lng>=w.lng&&R.lng<=E.lng;return ie&&pe},overlaps:function(p){p=Ne(p);var w=this._southWest,E=this._northEast,R=p.getSouthWest(),q=p.getNorthEast(),ie=q.lat>w.lat&&R.lat<E.lat,pe=q.lng>w.lng&&R.lng<E.lng;return ie&&pe},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,w){return p?(p=Ne(p),this._southWest.equals(p.getSouthWest(),w)&&this._northEast.equals(p.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ne(p,w){return p instanceof xe?p:new xe(p,w)}function Le(p,w,E){if(isNaN(p)||isNaN(w))throw new Error("Invalid LatLng object: ("+p+", "+w+")");this.lat=+p,this.lng=+w,E!==void 0&&(this.alt=+E)}Le.prototype={equals:function(p,w){if(!p)return!1;p=ce(p);var E=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return E<=(w===void 0?1e-9:w)},toString:function(p){return"LatLng("+g(this.lat,p)+", "+g(this.lng,p)+")"},distanceTo:function(p){return ge.distance(this,ce(p))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(p){var w=180*p/40075017,E=w/Math.cos(Math.PI/180*this.lat);return Ne([this.lat-w,this.lng-E],[this.lat+w,this.lng+E])},clone:function(){return new Le(this.lat,this.lng,this.alt)}};function ce(p,w,E){return p instanceof Le?p:C(p)&&typeof p[0]!="object"?p.length===3?new Le(p[0],p[1],p[2]):p.length===2?new Le(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new Le(p.lat,"lng"in p?p.lng:p.lon,p.alt):w===void 0?null:new Le(p,w,E)}var ae={latLngToPoint:function(p,w){var E=this.projection.project(p),R=this.scale(w);return this.transformation._transform(E,R)},pointToLatLng:function(p,w){var E=this.scale(w),R=this.transformation.untransform(p,E);return this.projection.unproject(R)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var w=this.projection.bounds,E=this.scale(p),R=this.transformation.transform(w.min,E),q=this.transformation.transform(w.max,E);return new Y(R,q)},infinite:!1,wrapLatLng:function(p){var w=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,E=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,R=p.alt;return new Le(E,w,R)},wrapLatLngBounds:function(p){var w=p.getCenter(),E=this.wrapLatLng(w),R=w.lat-E.lat,q=w.lng-E.lng;if(R===0&&q===0)return p;var ie=p.getSouthWest(),pe=p.getNorthEast(),Ee=new Le(ie.lat-R,ie.lng-q),Me=new Le(pe.lat-R,pe.lng-q);return new xe(Ee,Me)}},ge=i({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(p,w){var E=Math.PI/180,R=p.lat*E,q=w.lat*E,ie=Math.sin((w.lat-p.lat)*E/2),pe=Math.sin((w.lng-p.lng)*E/2),Ee=ie*ie+Math.cos(R)*Math.cos(q)*pe*pe,Me=2*Math.atan2(Math.sqrt(Ee),Math.sqrt(1-Ee));return this.R*Me}}),he=6378137,Pe={R:he,MAX_LATITUDE:85.0511287798,project:function(p){var w=Math.PI/180,E=this.MAX_LATITUDE,R=Math.max(Math.min(E,p.lat),-E),q=Math.sin(R*w);return new ee(this.R*p.lng*w,this.R*Math.log((1+q)/(1-q))/2)},unproject:function(p){var w=180/Math.PI;return new Le((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*w,p.x*w/this.R)},bounds:function(){var p=he*Math.PI;return new Y([-p,-p],[p,p])}()};function te(p,w,E,R){if(C(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=w,this._c=E,this._d=R}te.prototype={transform:function(p,w){return this._transform(p.clone(),w)},_transform:function(p,w){return w=w||1,p.x=w*(this._a*p.x+this._b),p.y=w*(this._c*p.y+this._d),p},untransform:function(p,w){return w=w||1,new ee((p.x/w-this._b)/this._a,(p.y/w-this._d)/this._c)}};function X(p,w,E,R){return new te(p,w,E,R)}var _e=i({},ge,{code:"EPSG:3857",projection:Pe,transformation:function(){var p=.5/(Math.PI*Pe.R);return X(p,.5,-p,.5)}()}),we=i({},_e,{code:"EPSG:900913"});function We(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function Ue(p,w){var E="",R,q,ie,pe,Ee,Me;for(R=0,ie=p.length;R<ie;R++){for(Ee=p[R],q=0,pe=Ee.length;q<pe;q++)Me=Ee[q],E+=(q?"L":"M")+Me.x+" "+Me.y;E+=w?mt.svg?"z":"x":""}return E||"M0 0"}var Ce=document.documentElement.style,ot="ActiveXObject"in window,Dt=ot&&!document.addEventListener,fe="msLaunchUri"in navigator&&!("documentMode"in document),je=fi("webkit"),Ae=fi("android"),Ze=fi("android 2")||fi("android 3"),Xe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),me=Ae&&fi("Google")&&Xe<537&&!("AudioNode"in window),De=!!window.opera,Z=!fe&&fi("chrome"),D=fi("gecko")&&!je&&!De&&!ot,B=!Z&&fi("safari"),le=fi("phantom"),ye="OTransition"in Ce,Re=navigator.platform.indexOf("Win")===0,$e=ot&&"transition"in Ce,yt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ze,lr="MozPerspective"in Ce,Ut=!window.L_DISABLE_3D&&($e||yt||lr)&&!ye&&!le,Xt=typeof orientation<"u"||fi("mobile"),Ht=Xt&&je,ec=Xt&&yt,Ho=!window.PointerEvent&&window.MSPointerEvent,va=!!(window.PointerEvent||Ho),us="ontouchstart"in window||!!window.TouchEvent,ds=!window.L_NO_TOUCH&&(us||va),mf=Xt&&De,Nt=Xt&&D,rr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,wr=function(){var p=!1;try{var w=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",h,w),window.removeEventListener("testPassiveEventSupport",h,w)}catch{}return p}(),ri=function(){return!!document.createElement("canvas").getContext}(),Un=!!(document.createElementNS&&We("svg").createSVGRect),di=!!Un&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),fs=!Un&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var w=p.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),An=navigator.platform.indexOf("Mac")===0,Bs=navigator.platform.indexOf("Linux")===0;function fi(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var mt={ie:ot,ielt9:Dt,edge:fe,webkit:je,android:Ae,android23:Ze,androidStock:me,opera:De,chrome:Z,gecko:D,safari:B,phantom:le,opera12:ye,win:Re,ie3d:$e,webkit3d:yt,gecko3d:lr,any3d:Ut,mobile:Xt,mobileWebkit:Ht,mobileWebkit3d:ec,msPointer:Ho,pointer:va,touch:ds,touchNative:us,mobileOpera:mf,mobileGecko:Nt,retina:rr,passiveEvents:wr,canvas:ri,svg:Un,vml:fs,inlineSvg:di,mac:An,linux:Bs},Ou=mt.msPointer?"MSPointerDown":"pointerdown",gf=mt.msPointer?"MSPointerMove":"pointermove",ox=mt.msPointer?"MSPointerUp":"pointerup",lx=mt.msPointer?"MSPointerCancel":"pointercancel",gm={touchstart:Ou,touchmove:gf,touchend:ox,touchcancel:lx},no={touchstart:en,touchmove:vf,touchend:vf,touchcancel:vf},Ko={},vm=!1;function ej(p,w,E){return w==="touchstart"&&tj(),no[w]?(E=no[w].bind(this,E),p.addEventListener(gm[w],E,!1),E):(console.warn("wrong event specified:",w),h)}function cx(p,w,E){if(!gm[w]){console.warn("wrong event specified:",w);return}p.removeEventListener(gm[w],E,!1)}function ux(p){Ko[p.pointerId]=p}function dx(p){Ko[p.pointerId]&&(Ko[p.pointerId]=p)}function ym(p){delete Ko[p.pointerId]}function tj(){vm||(document.addEventListener(Ou,ux,!0),document.addEventListener(gf,dx,!0),document.addEventListener(ox,ym,!0),document.addEventListener(lx,ym,!0),vm=!0)}function vf(p,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var E in Ko)w.touches.push(Ko[E]);w.changedTouches=[w],p(w)}}function en(p,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&tn(w),vf(p,w)}function rj(p){var w={},E,R;for(R in p)E=p[R],w[R]=E&&E.bind?E.bind(p):E;return p=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var xm=200;function fx(p,w){p.addEventListener("dblclick",w);var E=0,R;function q(ie){if(ie.detail!==1){R=ie.detail;return}if(!(ie.pointerType==="mouse"||ie.sourceCapabilities&&!ie.sourceCapabilities.firesTouchEvents)){var pe=Yo(ie);if(!(pe.some(function(Me){return Me instanceof HTMLLabelElement&&Me.attributes.for})&&!pe.some(function(Me){return Me instanceof HTMLInputElement||Me instanceof HTMLSelectElement}))){var Ee=Date.now();Ee-E<=xm?(R++,R===2&&w(rj(ie))):R=1,E=Ee}}}return p.addEventListener("click",q),{dblclick:w,simDblclick:q}}function yf(p,w){p.removeEventListener("dblclick",w.dblclick),p.removeEventListener("click",w.simDblclick)}var bm=ic(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),tc=ic(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ru=tc==="webkitTransition"||tc==="OTransition"?tc+"End":"transitionend";function hs(p){return typeof p=="string"?document.getElementById(p):p}function Mu(p,w){var E=p.style[w]||p.currentStyle&&p.currentStyle[w];if((!E||E==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(p,null);E=R?R[w]:null}return E==="auto"?null:E}function Ot(p,w,E){var R=document.createElement(p);return R.className=w||"",E&&E.appendChild(R),R}function Vr(p){var w=p.parentNode;w&&w.removeChild(p)}function xf(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function rc(p){var w=p.parentNode;w&&w.lastChild!==p&&w.appendChild(p)}function ya(p){var w=p.parentNode;w&&w.firstChild!==p&&w.insertBefore(p,w.firstChild)}function nc(p,w){if(p.classList!==void 0)return p.classList.contains(w);var E=bf(p);return E.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(E)}function Pt(p,w){if(p.classList!==void 0)for(var E=y(w),R=0,q=E.length;R<q;R++)p.classList.add(E[R]);else if(!nc(p,w)){var ie=bf(p);wm(p,(ie?ie+" ":"")+w)}}function $r(p,w){p.classList!==void 0?p.classList.remove(w):wm(p,v((" "+bf(p)+" ").replace(" "+w+" "," ")))}function wm(p,w){p.className.baseVal===void 0?p.className=w:p.className.baseVal=w}function bf(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function hi(p,w){"opacity"in p.style?p.style.opacity=w:"filter"in p.style&&hx(p,w)}function hx(p,w){var E=!1,R="DXImageTransform.Microsoft.Alpha";try{E=p.filters.item(R)}catch{if(w===1)return}w=Math.round(w*100),E?(E.Enabled=w!==100,E.Opacity=w):p.style.filter+=" progid:"+R+"(opacity="+w+")"}function ic(p){for(var w=document.documentElement.style,E=0;E<p.length;E++)if(p[E]in w)return p[E];return!1}function ps(p,w,E){var R=w||new ee(0,0);p.style[bm]=(mt.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(E?" scale("+E+")":"")}function ln(p,w){p._leaflet_pos=w,mt.any3d?ps(p,w):(p.style.left=w.x+"px",p.style.top=w.y+"px")}function xa(p){return p._leaflet_pos||new ee(0,0)}var Jt,sc,wf;if("onselectstart"in document)Jt=function(){Ct(window,"selectstart",tn)},sc=function(){Nr(window,"selectstart",tn)};else{var Go=ic(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Jt=function(){if(Go){var p=document.documentElement.style;wf=p[Go],p[Go]="none"}},sc=function(){Go&&(document.documentElement.style[Go]=wf,wf=void 0)}}function _f(){Ct(window,"dragstart",tn)}function jf(){Nr(window,"dragstart",tn)}var Iu,Lu;function ac(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(ms(),Iu=p,Lu=p.style.outlineStyle,p.style.outlineStyle="none",Ct(window,"keydown",ms))}function ms(){Iu&&(Iu.style.outlineStyle=Lu,Iu=void 0,Lu=void 0,Nr(window,"keydown",ms))}function ba(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function zs(p){var w=p.getBoundingClientRect();return{x:w.width/p.offsetWidth||1,y:w.height/p.offsetHeight||1,boundingClientRect:w}}var Du={__proto__:null,TRANSFORM:bm,TRANSITION:tc,TRANSITION_END:Ru,get:hs,getStyle:Mu,create:Ot,remove:Vr,empty:xf,toFront:rc,toBack:ya,hasClass:nc,addClass:Pt,removeClass:$r,setClass:wm,getClass:bf,setOpacity:hi,testProp:ic,setTransform:ps,setPosition:ln,getPosition:xa,get disableTextSelection(){return Jt},get enableTextSelection(){return sc},disableImageDrag:_f,enableImageDrag:jf,preventOutline:ac,restoreOutline:ms,getSizedParentNode:ba,getScale:zs};function Ct(p,w,E,R){if(w&&typeof w=="object")for(var q in w)jm(p,q,w[q],E);else{w=y(w);for(var ie=0,pe=w.length;ie<pe;ie++)jm(p,w[ie],E,R)}return this}var On="_leaflet_events";function Nr(p,w,E,R){if(arguments.length===1)_m(p),delete p[On];else if(w&&typeof w=="object")for(var q in w)Sf(p,q,w[q],E);else if(w=y(w),arguments.length===2)_m(p,function(Ee){return A(w,Ee)!==-1});else for(var ie=0,pe=w.length;ie<pe;ie++)Sf(p,w[ie],E,R);return this}function _m(p,w){for(var E in p[On]){var R=E.split(/\d/)[0];(!w||w(R))&&Sf(p,R,null,null,E)}}var Zo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function jm(p,w,E,R){var q=w+c(E)+(R?"_"+c(R):"");if(p[On]&&p[On][q])return this;var ie=function(Ee){return E.call(R||p,Ee||window.event)},pe=ie;!mt.touchNative&&mt.pointer&&w.indexOf("touch")===0?ie=ej(p,w,ie):mt.touch&&w==="dblclick"?ie=fx(p,ie):"addEventListener"in p?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?p.addEventListener(Zo[w]||w,ie,mt.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ie=function(Ee){Ee=Ee||window.event,Bu(p,Ee)&&pe(Ee)},p.addEventListener(Zo[w],ie,!1)):p.addEventListener(w,pe,!1):p.attachEvent("on"+w,ie),p[On]=p[On]||{},p[On][q]=ie}function Sf(p,w,E,R,q){q=q||w+c(E)+(R?"_"+c(R):"");var ie=p[On]&&p[On][q];if(!ie)return this;!mt.touchNative&&mt.pointer&&w.indexOf("touch")===0?cx(p,w,ie):mt.touch&&w==="dblclick"?yf(p,ie):"removeEventListener"in p?p.removeEventListener(Zo[w]||w,ie,!1):p.detachEvent("on"+w,ie),p[On][q]=null}function qs(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function Nf(p){return jm(p,"wheel",qs),this}function $u(p){return Ct(p,"mousedown touchstart dblclick contextmenu",qs),p._leaflet_disable_click=!0,this}function tn(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function gs(p){return tn(p),qs(p),this}function Yo(p){if(p.composedPath)return p.composedPath();for(var w=[],E=p.target;E;)w.push(E),E=E.parentNode;return w}function Fu(p,w){if(!w)return new ee(p.clientX,p.clientY);var E=zs(w),R=E.boundingClientRect;return new ee((p.clientX-R.left)/E.x-w.clientLeft,(p.clientY-R.top)/E.y-w.clientTop)}var nj=mt.linux&&mt.chrome?window.devicePixelRatio:mt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function px(p){return mt.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/nj:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function Bu(p,w){var E=w.relatedTarget;if(!E)return!0;try{for(;E&&E!==p;)E=E.parentNode}catch{return!1}return E!==p}var Cf={__proto__:null,on:Ct,off:Nr,stopPropagation:qs,disableScrollPropagation:Nf,disableClickPropagation:$u,preventDefault:tn,stop:gs,getPropagationPath:Yo,getMousePosition:Fu,getWheelDelta:px,isExternalTarget:Bu,addListener:Ct,removeListener:Nr},Ef=K.extend({run:function(p,w,E,R){this.stop(),this._el=p,this._inProgress=!0,this._duration=E||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=xa(p),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(p){var w=+new Date-this._startTime,E=this._duration*1e3;w<E?this._runFrame(this._easeOut(w/E),p):(this._runFrame(1),this._complete())},_runFrame:function(p,w){var E=this._startPos.add(this._offset.multiplyBy(p));w&&E._round(),ln(this._el,E),this.fire("step")},_complete:function(){U(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),Zt=K.extend({options:{crs:_e,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,w){w=x(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(ce(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=tc&&mt.any3d&&!mt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ct(this._proxy,Ru,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,w,E){if(w=w===void 0?this._zoom:this._limitZoom(w),p=this._limitCenter(ce(p),w,this.options.maxBounds),E=E||{},this._stop(),this._loaded&&!E.reset&&E!==!0){E.animate!==void 0&&(E.zoom=i({animate:E.animate},E.zoom),E.pan=i({animate:E.animate,duration:E.duration},E.pan));var R=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,w,E.zoom):this._tryAnimatedPan(p,E.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(p,w,E.pan&&E.pan.noMoveStart),this},setZoom:function(p,w){return this._loaded?this.setView(this.getCenter(),p,{zoom:w}):(this._zoom=p,this)},zoomIn:function(p,w){return p=p||(mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,w)},zoomOut:function(p,w){return p=p||(mt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,w)},setZoomAround:function(p,w,E){var R=this.getZoomScale(w),q=this.getSize().divideBy(2),ie=p instanceof ee?p:this.latLngToContainerPoint(p),pe=ie.subtract(q).multiplyBy(1-1/R),Ee=this.containerPointToLatLng(q.add(pe));return this.setView(Ee,w,{zoom:E})},_getBoundsCenterZoom:function(p,w){w=w||{},p=p.getBounds?p.getBounds():Ne(p);var E=ne(w.paddingTopLeft||w.padding||[0,0]),R=ne(w.paddingBottomRight||w.padding||[0,0]),q=this.getBoundsZoom(p,!1,E.add(R));if(q=typeof w.maxZoom=="number"?Math.min(w.maxZoom,q):q,q===1/0)return{center:p.getCenter(),zoom:q};var ie=R.subtract(E).divideBy(2),pe=this.project(p.getSouthWest(),q),Ee=this.project(p.getNorthEast(),q),Me=this.unproject(pe.add(Ee).divideBy(2).add(ie),q);return{center:Me,zoom:q}},fitBounds:function(p,w){if(p=Ne(p),!p.isValid())throw new Error("Bounds are not valid.");var E=this._getBoundsCenterZoom(p,w);return this.setView(E.center,E.zoom,w)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,w){return this.setView(p,this._zoom,{pan:w})},panBy:function(p,w){if(p=ne(p).round(),w=w||{},!p.x&&!p.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ef,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){Pt(this._mapPane,"leaflet-pan-anim");var E=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,E,w.duration||.25,w.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,w,E){if(E=E||{},E.animate===!1||!mt.any3d)return this.setView(p,w,E);this._stop();var R=this.project(this.getCenter()),q=this.project(p),ie=this.getSize(),pe=this._zoom;p=ce(p),w=w===void 0?pe:w;var Ee=Math.max(ie.x,ie.y),Me=Ee*this.getZoomScale(pe,w),ze=q.distanceTo(R)||1,nt=1.42,xt=nt*nt;function $t(yr){var wc=yr?-1:1,vj=yr?Me:Ee,yj=Me*Me-Ee*Ee+wc*xt*xt*ze*ze,nl=2*vj*xt*ze,il=yj/nl,sl=Math.sqrt(il*il+1)-il,zf=sl<1e-9?-18:Math.log(sl);return zf}function Rn(yr){return(Math.exp(yr)-Math.exp(-yr))/2}function xn(yr){return(Math.exp(yr)+Math.exp(-yr))/2}function Ai(yr){return Rn(yr)/xn(yr)}var mi=$t(0);function xc(yr){return Ee*(xn(mi)/xn(mi+nt*yr))}function Vm(yr){return Ee*(xn(mi)*Ai(mi+nt*yr)-Rn(mi))/xt}function fo(yr){return 1-Math.pow(1-yr,1.5)}var Ix=Date.now(),rl=($t(1)-mi)/nt,Hs=E.duration?1e3*E.duration:1e3*rl*.8;function bc(){var yr=(Date.now()-Ix)/Hs,wc=fo(yr)*rl;yr<=1?(this._flyToFrame=V(bc,this),this._move(this.unproject(R.add(q.subtract(R).multiplyBy(Vm(wc)/ze)),pe),this.getScaleZoom(Ee/xc(wc),pe),{flyTo:!0})):this._move(p,w)._moveEnd(!0)}return this._moveStart(!0,E.noMoveStart),bc.call(this),this},flyToBounds:function(p,w){var E=this._getBoundsCenterZoom(p,w);return this.flyTo(E.center,E.zoom,w)},setMaxBounds:function(p){return p=Ne(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var w=this.options.minZoom;return this.options.minZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var w=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,w){this._enforcingBounds=!0;var E=this.getCenter(),R=this._limitCenter(E,this._zoom,Ne(p));return E.equals(R)||this.panTo(R,w),this._enforcingBounds=!1,this},panInside:function(p,w){w=w||{};var E=ne(w.paddingTopLeft||w.padding||[0,0]),R=ne(w.paddingBottomRight||w.padding||[0,0]),q=this.project(this.getCenter()),ie=this.project(p),pe=this.getPixelBounds(),Ee=oe([pe.min.add(E),pe.max.subtract(R)]),Me=Ee.getSize();if(!Ee.contains(ie)){this._enforcingBounds=!0;var ze=ie.subtract(Ee.getCenter()),nt=Ee.extend(ie).getSize().subtract(Me);q.x+=ze.x<0?-nt.x:nt.x,q.y+=ze.y<0?-nt.y:nt.y,this.panTo(this.unproject(q),w),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var E=this.getSize(),R=w.divideBy(2).round(),q=E.divideBy(2).round(),ie=R.subtract(q);return!ie.x&&!ie.y?this:(p.animate&&p.pan?this.panBy(ie):(p.pan&&this._rawPanBy(ie),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:E}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),E=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,E,p):navigator.geolocation.getCurrentPosition(w,E,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var w=p.code,E=p.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+E+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var w=p.coords.latitude,E=p.coords.longitude,R=new Le(w,E),q=R.toBounds(p.coords.accuracy*2),ie=this._locateOptions;if(ie.setView){var pe=this.getBoundsZoom(q);this.setView(R,ie.maxZoom?Math.min(pe,ie.maxZoom):pe)}var Ee={latlng:R,bounds:q,timestamp:p.timestamp};for(var Me in p.coords)typeof p.coords[Me]=="number"&&(Ee[Me]=p.coords[Me]);this.fire("locationfound",Ee)}},addHandler:function(p,w){if(!w)return this;var E=this[p]=new w(this);return this._handlers.push(E),this.options[p]&&E.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Vr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(U(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)Vr(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,w){var E="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),R=Ot("div",E,w||this._mapPane);return p&&(this._panes[p]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),w=this.unproject(p.getBottomLeft()),E=this.unproject(p.getTopRight());return new xe(w,E)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,w,E){p=Ne(p),E=ne(E||[0,0]);var R=this.getZoom()||0,q=this.getMinZoom(),ie=this.getMaxZoom(),pe=p.getNorthWest(),Ee=p.getSouthEast(),Me=this.getSize().subtract(E),ze=oe(this.project(Ee,R),this.project(pe,R)).getSize(),nt=mt.any3d?this.options.zoomSnap:1,xt=Me.x/ze.x,$t=Me.y/ze.y,Rn=w?Math.max(xt,$t):Math.min(xt,$t);return R=this.getScaleZoom(Rn,R),nt&&(R=Math.round(R/(nt/100))*(nt/100),R=w?Math.ceil(R/nt)*nt:Math.floor(R/nt)*nt),Math.max(q,Math.min(ie,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ee(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,w){var E=this._getTopLeftPoint(p,w);return new Y(E,E.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,w){var E=this.options.crs;return w=w===void 0?this._zoom:w,E.scale(p)/E.scale(w)},getScaleZoom:function(p,w){var E=this.options.crs;w=w===void 0?this._zoom:w;var R=E.zoom(p*E.scale(w));return isNaN(R)?1/0:R},project:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(ce(p),w)},unproject:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(ne(p),w)},layerPointToLatLng:function(p){var w=ne(p).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(p){var w=this.project(ce(p))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(ce(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(Ne(p))},distance:function(p,w){return this.options.crs.distance(ce(p),ce(w))},containerPointToLayerPoint:function(p){return ne(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return ne(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var w=this.containerPointToLayerPoint(ne(p));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ce(p)))},mouseEventToContainerPoint:function(p){return Fu(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var w=this._container=hs(p);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ct(w,"scroll",this._onScroll,this),this._containerId=c(w)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&mt.any3d,Pt(p,"leaflet-container"+(mt.touch?" leaflet-touch":"")+(mt.retina?" leaflet-retina":"")+(mt.ielt9?" leaflet-oldie":"")+(mt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=Mu(p,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ln(this._mapPane,new ee(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Pt(p.markerPane,"leaflet-zoom-hide"),Pt(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,w,E){ln(this._mapPane,new ee(0,0));var R=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var q=this._zoom!==w;this._moveStart(q,E)._move(p,w)._moveEnd(q),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(p,w){return p&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(p,w,E,R){w===void 0&&(w=this._zoom);var q=this._zoom!==w;return this._zoom=w,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),R?E&&E.pinch&&this.fire("zoom",E):((q||E&&E.pinch)&&this.fire("zoom",E),this.fire("move",E)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return U(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){ln(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[c(this._container)]=this;var w=p?Nr:Ct;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),mt.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){U(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,w){for(var E=[],R,q=w==="mouseout"||w==="mouseover",ie=p.target||p.srcElement,pe=!1;ie;){if(R=this._targets[c(ie)],R&&(w==="click"||w==="preclick")&&this._draggableMoved(R)){pe=!0;break}if(R&&R.listens(w,!0)&&(q&&!Bu(ie,p)||(E.push(R),q))||ie===this._container)break;ie=ie.parentNode}return!E.length&&!pe&&!q&&this.listens(w,!0)&&(E=[this]),E},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var w=p.target||p.srcElement;if(!(!this._loaded||w._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(w))){var E=p.type;E==="mousedown"&&ac(w),this._fireDOMEvent(p,E)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,w,E){if(p.type==="click"){var R=i({},p);R.type="preclick",this._fireDOMEvent(R,R.type,E)}var q=this._findEventTargets(p,w);if(E){for(var ie=[],pe=0;pe<E.length;pe++)E[pe].listens(w,!0)&&ie.push(E[pe]);q=ie.concat(q)}if(q.length){w==="contextmenu"&&tn(p);var Ee=q[0],Me={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var ze=Ee.getLatLng&&(!Ee._radius||Ee._radius<=10);Me.containerPoint=ze?this.latLngToContainerPoint(Ee.getLatLng()):this.mouseEventToContainerPoint(p),Me.layerPoint=this.containerPointToLayerPoint(Me.containerPoint),Me.latlng=ze?Ee.getLatLng():this.layerPointToLatLng(Me.layerPoint)}for(pe=0;pe<q.length;pe++)if(q[pe].fire(w,Me,!0),Me.originalEvent._stopped||q[pe].options.bubblingMouseEvents===!1&&A(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,w=this._handlers.length;p<w;p++)this._handlers[p].disable()},whenReady:function(p,w){return this._loaded?p.call(w||this,{target:this}):this.on("load",p,w),this},_getMapPanePos:function(){return xa(this._mapPane)||new ee(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,w){var E=p&&w!==void 0?this._getNewPixelOrigin(p,w):this.getPixelOrigin();return E.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,w){var E=this.getSize()._divideBy(2);return this.project(p,w)._subtract(E)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,w,E){var R=this._getNewPixelOrigin(E,w);return this.project(p,w)._subtract(R)},_latLngBoundsToNewLayerBounds:function(p,w,E){var R=this._getNewPixelOrigin(E,w);return oe([this.project(p.getSouthWest(),w)._subtract(R),this.project(p.getNorthWest(),w)._subtract(R),this.project(p.getSouthEast(),w)._subtract(R),this.project(p.getNorthEast(),w)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,w,E){if(!E)return p;var R=this.project(p,w),q=this.getSize().divideBy(2),ie=new Y(R.subtract(q),R.add(q)),pe=this._getBoundsOffset(ie,E,w);return Math.abs(pe.x)<=1&&Math.abs(pe.y)<=1?p:this.unproject(R.add(pe),w)},_limitOffset:function(p,w){if(!w)return p;var E=this.getPixelBounds(),R=new Y(E.min.add(p),E.max.add(p));return p.add(this._getBoundsOffset(R,w))},_getBoundsOffset:function(p,w,E){var R=oe(this.project(w.getNorthEast(),E),this.project(w.getSouthWest(),E)),q=R.min.subtract(p.min),ie=R.max.subtract(p.max),pe=this._rebound(q.x,-ie.x),Ee=this._rebound(q.y,-ie.y);return new ee(pe,Ee)},_rebound:function(p,w){return p+w>0?Math.round(p-w)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(w))},_limitZoom:function(p){var w=this.getMinZoom(),E=this.getMaxZoom(),R=mt.any3d?this.options.zoomSnap:1;return R&&(p=Math.round(p/R)*R),Math.max(w,Math.min(E,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){$r(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,w){var E=this._getCenterOffset(p)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(E)?!1:(this.panBy(E,w),!0)},_createAnimProxy:function(){var p=this._proxy=Ot("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(w){var E=bm,R=this._proxy.style[E];ps(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),R===this._proxy.style[E]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Vr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),w=this.getZoom();ps(this._proxy,this.project(p,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,w,E){if(this._animatingZoom)return!0;if(E=E||{},!this._zoomAnimated||E.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(w),q=this._getCenterOffset(p)._divideBy(1-1/R);return E.animate!==!0&&!this.getSize().contains(q)?!1:(V(function(){this._moveStart(!0,E.noMoveStart||!1)._animateZoom(p,w,!0)},this),!0)},_animateZoom:function(p,w,E,R){this._mapPane&&(E&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=w,Pt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:w,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&$r(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function io(p,w){return new Zt(p,w)}var ki=W.extend({options:{position:"topright"},initialize:function(p){x(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var w=this._map;return w&&w.removeControl(this),this.options.position=p,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var w=this._container=this.onAdd(p),E=this.getPosition(),R=p._controlCorners[E];return Pt(w,"leaflet-control"),E.indexOf("bottom")!==-1?R.insertBefore(w,R.firstChild):R.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Vr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),so=function(p){return new ki(p)};Zt.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},w="leaflet-",E=this._controlContainer=Ot("div",w+"control-container",this._container);function R(q,ie){var pe=w+q+" "+w+ie;p[q+ie]=Ot("div",pe,E)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)Vr(this._controlCorners[p]);Vr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Sm=ki.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,w,E,R){return E<R?-1:R<E?1:0}},initialize:function(p,w,E){x(this,E),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in p)this._addLayer(p[R],R);for(R in w)this._addLayer(w[R],R,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return ki.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,w){return this._addLayer(p,w),this._map?this._update():this},addOverlay:function(p,w){return this._addLayer(p,w,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var w=this._getLayer(c(p));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){Pt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(Pt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):$r(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return $r(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",w=this._container=Ot("div",p),E=this.options.collapsed;w.setAttribute("aria-haspopup",!0),$u(w),Nf(w);var R=this._section=Ot("section",p+"-list");E&&(this._map.on("click",this.collapse,this),Ct(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var q=this._layersLink=Ot("a",p+"-toggle",w);q.href="#",q.title="Layers",q.setAttribute("role","button"),Ct(q,{keydown:function(ie){ie.keyCode===13&&this._expandSafely()},click:function(ie){tn(ie),this._expandSafely()}},this),E||this.expand(),this._baseLayersList=Ot("div",p+"-base",R),this._separator=Ot("div",p+"-separator",R),this._overlaysList=Ot("div",p+"-overlays",R),w.appendChild(R)},_getLayer:function(p){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&c(this._layers[w].layer)===p)return this._layers[w]},_addLayer:function(p,w,E){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:w,overlay:E}),this.options.sortLayers&&this._layers.sort(o(function(R,q){return this.options.sortFunction(R.layer,q.layer,R.name,q.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;xf(this._baseLayersList),xf(this._overlaysList),this._layerControlInputs=[];var p,w,E,R,q=0;for(E=0;E<this._layers.length;E++)R=this._layers[E],this._addItem(R),w=w||R.overlay,p=p||!R.overlay,q+=R.overlay?0:1;return this.options.hideSingleBase&&(p=p&&q>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=w&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var w=this._getLayer(c(p.target)),E=w.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;E&&this._map.fire(E,w)},_createRadioElement:function(p,w){var E='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(w?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=E,R.firstChild},_addItem:function(p){var w=document.createElement("label"),E=this._map.hasLayer(p.layer),R;p.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=E):R=this._createRadioElement("leaflet-base-layers_"+c(this),E),this._layerControlInputs.push(R),R.layerId=c(p.layer),Ct(R,"click",this._onInputClick,this);var q=document.createElement("span");q.innerHTML=" "+p.name;var ie=document.createElement("span");w.appendChild(ie),ie.appendChild(R),ie.appendChild(q);var pe=p.overlay?this._overlaysList:this._baseLayersList;return pe.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,w,E,R=[],q=[];this._handlingClick=!0;for(var ie=p.length-1;ie>=0;ie--)w=p[ie],E=this._getLayer(w.layerId).layer,w.checked?R.push(E):w.checked||q.push(E);for(ie=0;ie<q.length;ie++)this._map.hasLayer(q[ie])&&this._map.removeLayer(q[ie]);for(ie=0;ie<R.length;ie++)this._map.hasLayer(R[ie])||this._map.addLayer(R[ie]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,w,E,R=this._map.getZoom(),q=p.length-1;q>=0;q--)w=p[q],E=this._getLayer(w.layerId).layer,w.disabled=E.options.minZoom!==void 0&&R<E.options.minZoom||E.options.maxZoom!==void 0&&R>E.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,Ct(p,"click",tn),this.expand();var w=this;setTimeout(function(){Nr(p,"click",tn),w._preventClick=!1})}}),Pf=function(p,w,E){return new Sm(p,w,E)},oc=ki.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var w="leaflet-control-zoom",E=Ot("div",w+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,w+"-in",E,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,w+"-out",E,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),E},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,w,E,R,q){var ie=Ot("a",E,R);return ie.innerHTML=p,ie.href="#",ie.title=w,ie.setAttribute("role","button"),ie.setAttribute("aria-label",w),$u(ie),Ct(ie,"click",gs),Ct(ie,"click",q,this),Ct(ie,"click",this._refocusOnMap,this),ie},_updateDisabled:function(){var p=this._map,w="leaflet-disabled";$r(this._zoomInButton,w),$r(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(Pt(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(Pt(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});Zt.mergeOptions({zoomControl:!0}),Zt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oc,this.addControl(this.zoomControl))});var mx=function(p){return new oc(p)},pi=ki.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var w="leaflet-control-scale",E=Ot("div",w),R=this.options;return this._addScales(R,w+"-line",E),p.on(R.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),E},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,w,E){p.metric&&(this._mScale=Ot("div",w,E)),p.imperial&&(this._iScale=Ot("div",w,E))},_update:function(){var p=this._map,w=p.getSize().y/2,E=p.distance(p.containerPointToLatLng([0,w]),p.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(E)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var w=this._getRoundNum(p),E=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,E,w/p)},_updateImperial:function(p){var w=p*3.2808399,E,R,q;w>5280?(E=w/5280,R=this._getRoundNum(E),this._updateScale(this._iScale,R+" mi",R/E)):(q=this._getRoundNum(w),this._updateScale(this._iScale,q+" ft",q/w))},_updateScale:function(p,w,E){p.style.width=Math.round(this.options.maxWidth*E)+"px",p.innerHTML=w},_getRoundNum:function(p){var w=Math.pow(10,(Math.floor(p)+"").length-1),E=p/w;return E=E>=10?10:E>=5?5:E>=3?3:E>=2?2:1,w*E}}),lc=function(p){return new pi(p)},Nm='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xo=ki.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(mt.inlineSvg?Nm+" ":"")+"Leaflet</a>"},initialize:function(p){x(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=Ot("div","leaflet-control-attribution"),$u(this._container);for(var w in p._layers)p._layers[w].getAttribution&&this.addAttribution(p._layers[w].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var w in this._attributions)this._attributions[w]&&p.push(w);var E=[];this.options.prefix&&E.push(this.options.prefix),p.length&&E.push(p.join(", ")),this._container.innerHTML=E.join(' <span aria-hidden="true">|</span> ')}}});Zt.mergeOptions({attributionControl:!0}),Zt.addInitHook(function(){this.options.attributionControl&&new Xo().addTo(this)});var ij=function(p){return new Xo(p)};ki.Layers=Sm,ki.Zoom=oc,ki.Scale=pi,ki.Attribution=Xo,so.layers=Pf,so.zoom=mx,so.scale=lc,so.attribution=ij;var Ui=W.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Ui.addTo=function(p,w){return p.addHandler(w,this),this};var Cm={Events:se},cc=mt.touch?"touchstart mousedown":"mousedown",vs=K.extend({options:{clickTolerance:3},initialize:function(p,w,E,R){x(this,R),this._element=p,this._dragStartTarget=w||p,this._preventOutline=E},enable:function(){this._enabled||(Ct(this._dragStartTarget,cc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vs._dragging===this&&this.finishDrag(!0),Nr(this._dragStartTarget,cc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!nc(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){vs._dragging===this&&this.finishDrag();return}if(!(vs._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(vs._dragging=this,this._preventOutline&&ac(this._element),_f(),Jt(),!this._moving)){this.fire("down");var w=p.touches?p.touches[0]:p,E=ba(this._element);this._startPoint=new ee(w.clientX,w.clientY),this._startPos=xa(this._element),this._parentScale=zs(E);var R=p.type==="mousedown";Ct(document,R?"mousemove":"touchmove",this._onMove,this),Ct(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var w=p.touches&&p.touches.length===1?p.touches[0]:p,E=new ee(w.clientX,w.clientY)._subtract(this._startPoint);!E.x&&!E.y||Math.abs(E.x)+Math.abs(E.y)<this.options.clickTolerance||(E.x/=this._parentScale.x,E.y/=this._parentScale.y,tn(p),this._moved||(this.fire("dragstart"),this._moved=!0,Pt(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Pt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(E),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),ln(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){$r(document.body,"leaflet-dragging"),this._lastTarget&&($r(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Nr(document,"mousemove touchmove",this._onMove,this),Nr(document,"mouseup touchend touchcancel",this._onUp,this),jf(),sc();var w=this._moved&&this._moving;this._moving=!1,vs._dragging=!1,w&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function Em(p,w,E){var R,q=[1,4,2,8],ie,pe,Ee,Me,ze,nt,xt,$t;for(ie=0,nt=p.length;ie<nt;ie++)p[ie]._code=Jo(p[ie],w);for(Ee=0;Ee<4;Ee++){for(xt=q[Ee],R=[],ie=0,nt=p.length,pe=nt-1;ie<nt;pe=ie++)Me=p[ie],ze=p[pe],Me._code&xt?ze._code&xt||($t=Tf(ze,Me,xt,w,E),$t._code=Jo($t,w),R.push($t)):(ze._code&xt&&($t=Tf(ze,Me,xt,w,E),$t._code=Jo($t,w),R.push($t)),R.push(Me));p=R}return p}function gx(p,w){var E,R,q,ie,pe,Ee,Me,ze,nt;if(!p||p.length===0)throw new Error("latlngs not passed");Vi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var xt=ce([0,0]),$t=Ne(p),Rn=$t.getNorthWest().distanceTo($t.getSouthWest())*$t.getNorthEast().distanceTo($t.getNorthWest());Rn<1700&&(xt=Pm(p));var xn=p.length,Ai=[];for(E=0;E<xn;E++){var mi=ce(p[E]);Ai.push(w.project(ce([mi.lat-xt.lat,mi.lng-xt.lng])))}for(Ee=Me=ze=0,E=0,R=xn-1;E<xn;R=E++)q=Ai[E],ie=Ai[R],pe=q.y*ie.x-ie.y*q.x,Me+=(q.x+ie.x)*pe,ze+=(q.y+ie.y)*pe,Ee+=pe*3;Ee===0?nt=Ai[0]:nt=[Me/Ee,ze/Ee];var xc=w.unproject(ne(nt));return ce([xc.lat+xt.lat,xc.lng+xt.lng])}function Pm(p){for(var w=0,E=0,R=0,q=0;q<p.length;q++){var ie=ce(p[q]);w+=ie.lat,E+=ie.lng,R++}return ce([w/R,E/R])}var sj={__proto__:null,clipPolygon:Em,polygonCenter:gx,centroid:Pm};function kf(p,w){if(!w||!p.length)return p.slice();var E=w*w;return p=lj(p,E),p=oj(p,E),p}function vx(p,w,E){return Math.sqrt(Qo(p,w,E,!0))}function aj(p,w,E){return Qo(p,w,E)}function oj(p,w){var E=p.length,R=typeof Uint8Array<"u"?Uint8Array:Array,q=new R(E);q[0]=q[E-1]=1,km(p,q,w,0,E-1);var ie,pe=[];for(ie=0;ie<E;ie++)q[ie]&&pe.push(p[ie]);return pe}function km(p,w,E,R,q){var ie=0,pe,Ee,Me;for(Ee=R+1;Ee<=q-1;Ee++)Me=Qo(p[Ee],p[R],p[q],!0),Me>ie&&(pe=Ee,ie=Me);ie>E&&(w[pe]=1,km(p,w,E,R,pe),km(p,w,E,pe,q))}function lj(p,w){for(var E=[p[0]],R=1,q=0,ie=p.length;R<ie;R++)cj(p[R],p[q])>w&&(E.push(p[R]),q=R);return q<ie-1&&E.push(p[ie-1]),E}var Tm;function yx(p,w,E,R,q){var ie=R?Tm:Jo(p,E),pe=Jo(w,E),Ee,Me,ze;for(Tm=pe;;){if(!(ie|pe))return[p,w];if(ie&pe)return!1;Ee=ie||pe,Me=Tf(p,w,Ee,E,q),ze=Jo(Me,E),Ee===ie?(p=Me,ie=ze):(w=Me,pe=ze)}}function Tf(p,w,E,R,q){var ie=w.x-p.x,pe=w.y-p.y,Ee=R.min,Me=R.max,ze,nt;return E&8?(ze=p.x+ie*(Me.y-p.y)/pe,nt=Me.y):E&4?(ze=p.x+ie*(Ee.y-p.y)/pe,nt=Ee.y):E&2?(ze=Me.x,nt=p.y+pe*(Me.x-p.x)/ie):E&1&&(ze=Ee.x,nt=p.y+pe*(Ee.x-p.x)/ie),new ee(ze,nt,q)}function Jo(p,w){var E=0;return p.x<w.min.x?E|=1:p.x>w.max.x&&(E|=2),p.y<w.min.y?E|=4:p.y>w.max.y&&(E|=8),E}function cj(p,w){var E=w.x-p.x,R=w.y-p.y;return E*E+R*R}function Qo(p,w,E,R){var q=w.x,ie=w.y,pe=E.x-q,Ee=E.y-ie,Me=pe*pe+Ee*Ee,ze;return Me>0&&(ze=((p.x-q)*pe+(p.y-ie)*Ee)/Me,ze>1?(q=E.x,ie=E.y):ze>0&&(q+=pe*ze,ie+=Ee*ze)),pe=p.x-q,Ee=p.y-ie,R?pe*pe+Ee*Ee:new ee(q,ie)}function Vi(p){return!C(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function xx(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vi(p)}function bx(p,w){var E,R,q,ie,pe,Ee,Me,ze;if(!p||p.length===0)throw new Error("latlngs not passed");Vi(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var nt=ce([0,0]),xt=Ne(p),$t=xt.getNorthWest().distanceTo(xt.getSouthWest())*xt.getNorthEast().distanceTo(xt.getNorthWest());$t<1700&&(nt=Pm(p));var Rn=p.length,xn=[];for(E=0;E<Rn;E++){var Ai=ce(p[E]);xn.push(w.project(ce([Ai.lat-nt.lat,Ai.lng-nt.lng])))}for(E=0,R=0;E<Rn-1;E++)R+=xn[E].distanceTo(xn[E+1])/2;if(R===0)ze=xn[0];else for(E=0,ie=0;E<Rn-1;E++)if(pe=xn[E],Ee=xn[E+1],q=pe.distanceTo(Ee),ie+=q,ie>R){Me=(ie-R)/q,ze=[Ee.x-Me*(Ee.x-pe.x),Ee.y-Me*(Ee.y-pe.y)];break}var mi=w.unproject(ne(ze));return ce([mi.lat+nt.lat,mi.lng+nt.lng])}var wx={__proto__:null,simplify:kf,pointToSegmentDistance:vx,closestPointOnSegment:aj,clipSegment:yx,_getEdgeIntersection:Tf,_getBitCode:Jo,_sqClosestPointOnSegment:Qo,isFlat:Vi,_flat:xx,polylineCenter:bx},Am={project:function(p){return new ee(p.lng,p.lat)},unproject:function(p){return new Le(p.y,p.x)},bounds:new Y([-180,-90],[180,90])},Om={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Y([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var w=Math.PI/180,E=this.R,R=p.lat*w,q=this.R_MINOR/E,ie=Math.sqrt(1-q*q),pe=ie*Math.sin(R),Ee=Math.tan(Math.PI/4-R/2)/Math.pow((1-pe)/(1+pe),ie/2);return R=-E*Math.log(Math.max(Ee,1e-10)),new ee(p.lng*w*E,R)},unproject:function(p){for(var w=180/Math.PI,E=this.R,R=this.R_MINOR/E,q=Math.sqrt(1-R*R),ie=Math.exp(-p.y/E),pe=Math.PI/2-2*Math.atan(ie),Ee=0,Me=.1,ze;Ee<15&&Math.abs(Me)>1e-7;Ee++)ze=q*Math.sin(pe),ze=Math.pow((1-ze)/(1+ze),q/2),Me=Math.PI/2-2*Math.atan(ie*ze)-pe,pe+=Me;return new Le(pe*w,p.x*w/E)}},uj={__proto__:null,LonLat:Am,Mercator:Om,SphericalMercator:Pe},dj=i({},ge,{code:"EPSG:3395",projection:Om,transformation:function(){var p=.5/(Math.PI*Om.R);return X(p,.5,-p,.5)}()}),_x=i({},ge,{code:"EPSG:4326",projection:Am,transformation:X(1/180,1,-1/180,.5)}),fj=i({},ae,{projection:Am,transformation:X(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,w){var E=w.lng-p.lng,R=w.lat-p.lat;return Math.sqrt(E*E+R*R)},infinite:!0});ae.Earth=ge,ae.EPSG3395=dj,ae.EPSG3857=_e,ae.EPSG900913=we,ae.EPSG4326=_x,ae.Simple=fj;var ys=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[c(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[c(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var w=p.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var E=this.getEvents();w.on(E,this),this.once("remove",function(){w.off(E,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});Zt.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var w=c(p);return this._layers[w]?this:(this._layers[w]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var w=c(p);return this._layers[w]?(this._loaded&&p.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return c(p)in this._layers},eachLayer:function(p,w){for(var E in this._layers)p.call(w,this._layers[E]);return this},_addLayers:function(p){p=p?C(p)?p:[p]:[];for(var w=0,E=p.length;w<E;w++)this.addLayer(p[w])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[c(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var w=c(p);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,w=-1/0,E=this._getZoomSpan();for(var R in this._zoomBoundLayers){var q=this._zoomBoundLayers[R].options;p=q.minZoom===void 0?p:Math.min(p,q.minZoom),w=q.maxZoom===void 0?w:Math.max(w,q.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=p===1/0?void 0:p,E!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ao=ys.extend({initialize:function(p,w){x(this,w),this._layers={};var E,R;if(p)for(E=0,R=p.length;E<R;E++)this.addLayer(p[E])},addLayer:function(p){var w=this.getLayerId(p);return this._layers[w]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var w=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(p){var w=typeof p=="number"?p:this.getLayerId(p);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var w=Array.prototype.slice.call(arguments,1),E,R;for(E in this._layers)R=this._layers[E],R[p]&&R[p].apply(R,w);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,w){for(var E in this._layers)p.call(w,this._layers[E]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return c(p)}}),zu=function(p,w){return new ao(p,w)},wa=ao.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),ao.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),ao.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new xe;for(var w in this._layers){var E=this._layers[w];p.extend(E.getBounds?E.getBounds():E.getLatLng())}return p}}),jx=function(p,w){return new wa(p,w)},el=W.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){x(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,w){var E=this._getIconUrl(p);if(!E){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(E,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(R,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(p,w){var E=this.options,R=E[w+"Size"];typeof R=="number"&&(R=[R,R]);var q=ne(R),ie=ne(w==="shadow"&&E.shadowAnchor||E.iconAnchor||q&&q.divideBy(2,!0));p.className="leaflet-marker-"+w+" "+(E.className||""),ie&&(p.style.marginLeft=-ie.x+"px",p.style.marginTop=-ie.y+"px"),q&&(p.style.width=q.x+"px",p.style.height=q.y+"px")},_createImg:function(p,w){return w=w||document.createElement("img"),w.src=p,w},_getIconUrl:function(p){return mt.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Sx(p){return new el(p)}var uc=el.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof uc.imagePath!="string"&&(uc.imagePath=this._detectIconPath()),(this.options.imagePath||uc.imagePath)+el.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var w=function(E,R,q){var ie=R.exec(E);return ie&&ie[q]};return p=w(p,/^url\((['"])?(.+)\1\)$/,2),p&&w(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=Ot("div","leaflet-default-icon-path",document.body),w=Mu(p,"background-image")||Mu(p,"backgroundImage");if(document.body.removeChild(p),w=this._stripUrl(w),w)return w;var E=document.querySelector('link[href$="leaflet.css"]');return E?E.href.substring(0,E.href.length-11-1):""}}),Rm=Ui.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new vs(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Pt(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&$r(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var w=this._marker,E=w._map,R=this._marker.options.autoPanSpeed,q=this._marker.options.autoPanPadding,ie=xa(w._icon),pe=E.getPixelBounds(),Ee=E.getPixelOrigin(),Me=oe(pe.min._subtract(Ee).add(q),pe.max._subtract(Ee).subtract(q));if(!Me.contains(ie)){var ze=ne((Math.max(Me.max.x,ie.x)-Me.max.x)/(pe.max.x-Me.max.x)-(Math.min(Me.min.x,ie.x)-Me.min.x)/(pe.min.x-Me.min.x),(Math.max(Me.max.y,ie.y)-Me.max.y)/(pe.max.y-Me.max.y)-(Math.min(Me.min.y,ie.y)-Me.min.y)/(pe.min.y-Me.min.y)).multiplyBy(R);E.panBy(ze,{animate:!1}),this._draggable._newPos._add(ze),this._draggable._startPos._add(ze),ln(w._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=V(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(U(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,p)))},_onDrag:function(p){var w=this._marker,E=w._shadow,R=xa(w._icon),q=w._map.layerPointToLatLng(R);E&&ln(E,R),w._latlng=q,p.latlng=q,p.oldLatLng=this._oldLatLng,w.fire("move",p).fire("drag",p)},_onDragEnd:function(p){U(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),_a=ys.extend({options:{icon:new uc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,w){x(this,w),this._latlng=ce(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var w=this._latlng;return this._latlng=ce(p),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),E=p.icon.createIcon(this._icon),R=!1;E!==this._icon&&(this._icon&&this._removeIcon(),R=!0,p.title&&(E.title=p.title),E.tagName==="IMG"&&(E.alt=p.alt||"")),Pt(E,w),p.keyboard&&(E.tabIndex="0",E.setAttribute("role","button")),this._icon=E,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ct(E,"focus",this._panOnFocus,this);var q=p.icon.createShadow(this._shadow),ie=!1;q!==this._shadow&&(this._removeShadow(),ie=!0),q&&(Pt(q,w),q.alt=""),this._shadow=q,p.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),q&&ie&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Nr(this._icon,"focus",this._panOnFocus,this),Vr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Vr(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&ln(this._icon,p),this._shadow&&ln(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(Pt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Rm)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Rm(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&hi(this._icon,p),this._shadow&&hi(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var w=this.options.icon.options,E=w.iconSize?ne(w.iconSize):ne(0,0),R=w.iconAnchor?ne(w.iconAnchor):ne(0,0);p.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:E.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hj(p,w){return new _a(p,w)}var oo=ys.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return x(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Af=oo.extend({options:{fill:!0,radius:10},initialize:function(p,w){x(this,w),this._latlng=ce(p),this._radius=this.options.radius},setLatLng:function(p){var w=this._latlng;return this._latlng=ce(p),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var w=p&&p.radius||this._radius;return oo.prototype.setStyle.call(this,p),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,w=this._radiusY||p,E=this._clickTolerance(),R=[p+E,w+E];this._pxBounds=new Y(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Nx(p,w){return new Af(p,w)}var Of=Af.extend({initialize:function(p,w,E){if(typeof w=="number"&&(w=i({},E,{radius:w})),x(this,w),this._latlng=ce(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new xe(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:oo.prototype.setStyle,_project:function(){var p=this._latlng.lng,w=this._latlng.lat,E=this._map,R=E.options.crs;if(R.distance===ge.distance){var q=Math.PI/180,ie=this._mRadius/ge.R/q,pe=E.project([w+ie,p]),Ee=E.project([w-ie,p]),Me=pe.add(Ee).divideBy(2),ze=E.unproject(Me).lat,nt=Math.acos((Math.cos(ie*q)-Math.sin(w*q)*Math.sin(ze*q))/(Math.cos(w*q)*Math.cos(ze*q)))/q;(isNaN(nt)||nt===0)&&(nt=ie/Math.cos(Math.PI/180*w)),this._point=Me.subtract(E.getPixelOrigin()),this._radius=isNaN(nt)?0:Me.x-E.project([ze,p-nt]).x,this._radiusY=Me.y-pe.y}else{var xt=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=E.latLngToLayerPoint(this._latlng),this._radius=this._point.x-E.latLngToLayerPoint(xt).x}this._updateBounds()}});function qu(p,w,E){return new Of(p,w,E)}var Ti=oo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,w){x(this,w),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var w=1/0,E=null,R=Qo,q,ie,pe=0,Ee=this._parts.length;pe<Ee;pe++)for(var Me=this._parts[pe],ze=1,nt=Me.length;ze<nt;ze++){q=Me[ze-1],ie=Me[ze];var xt=R(p,q,ie,!0);xt<w&&(w=xt,E=R(p,q,ie))}return E&&(E.distance=Math.sqrt(w)),E},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return bx(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,w){return w=w||this._defaultShape(),p=ce(p),w.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new xe,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return Vi(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var w=[],E=Vi(p),R=0,q=p.length;R<q;R++)E?(w[R]=ce(p[R]),this._bounds.extend(w[R])):w[R]=this._convertLatLngs(p[R]);return w},_project:function(){var p=new Y;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),w=new ee(p,p);this._rawPxBounds&&(this._pxBounds=new Y([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(p,w,E){var R=p[0]instanceof Le,q=p.length,ie,pe;if(R){for(pe=[],ie=0;ie<q;ie++)pe[ie]=this._map.latLngToLayerPoint(p[ie]),E.extend(pe[ie]);w.push(pe)}else for(ie=0;ie<q;ie++)this._projectLatlngs(p[ie],w,E)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,E,R,q,ie,pe,Ee,Me;for(E=0,q=0,ie=this._rings.length;E<ie;E++)for(Me=this._rings[E],R=0,pe=Me.length;R<pe-1;R++)Ee=yx(Me[R],Me[R+1],p,R,!0),Ee&&(w[q]=w[q]||[],w[q].push(Ee[0]),(Ee[1]!==Me[R+1]||R===pe-2)&&(w[q].push(Ee[1]),q++))}},_simplifyPoints:function(){for(var p=this._parts,w=this.options.smoothFactor,E=0,R=p.length;E<R;E++)p[E]=kf(p[E],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,w){var E,R,q,ie,pe,Ee,Me=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(E=0,ie=this._parts.length;E<ie;E++)for(Ee=this._parts[E],R=0,pe=Ee.length,q=pe-1;R<pe;q=R++)if(!(!w&&R===0)&&vx(p,Ee[q],Ee[R])<=Me)return!0;return!1}});function pj(p,w){return new Ti(p,w)}Ti._flat=xx;var ja=Ti.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gx(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var w=Ti.prototype._convertLatLngs.call(this,p),E=w.length;return E>=2&&w[0]instanceof Le&&w[0].equals(w[E-1])&&w.pop(),w},_setLatLngs:function(p){Ti.prototype._setLatLngs.call(this,p),Vi(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vi(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,w=this.options.weight,E=new ee(w,w);if(p=new Y(p.min.subtract(E),p.max.add(E)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,q=this._rings.length,ie;R<q;R++)ie=Em(this._rings[R],p,!0),ie.length&&this._parts.push(ie)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var w=!1,E,R,q,ie,pe,Ee,Me,ze;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ie=0,Me=this._parts.length;ie<Me;ie++)for(E=this._parts[ie],pe=0,ze=E.length,Ee=ze-1;pe<ze;Ee=pe++)R=E[pe],q=E[Ee],R.y>p.y!=q.y>p.y&&p.x<(q.x-R.x)*(p.y-R.y)/(q.y-R.y)+R.x&&(w=!w);return w||Ti.prototype._containsPoint.call(this,p,!0)}});function mj(p,w){return new ja(p,w)}var Us=wa.extend({initialize:function(p,w){x(this,w),this._layers={},p&&this.addData(p)},addData:function(p){var w=C(p)?p:p.features,E,R,q;if(w){for(E=0,R=w.length;E<R;E++)q=w[E],(q.geometries||q.geometry||q.features||q.coordinates)&&this.addData(q);return this}var ie=this.options;if(ie.filter&&!ie.filter(p))return this;var pe=dc(p,ie);return pe?(pe.feature=Df(p),pe.defaultOptions=pe.options,this.resetStyle(pe),ie.onEachFeature&&ie.onEachFeature(p,pe),this.addLayer(pe)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(w){this._setLayerStyle(w,p)},this)},_setLayerStyle:function(p,w){p.setStyle&&(typeof w=="function"&&(w=w(p.feature)),p.setStyle(w))}});function dc(p,w){var E=p.type==="Feature"?p.geometry:p,R=E?E.coordinates:null,q=[],ie=w&&w.pointToLayer,pe=w&&w.coordsToLatLng||Mf,Ee,Me,ze,nt;if(!R&&!E)return null;switch(E.type){case"Point":return Ee=pe(R),Rf(ie,p,Ee,w);case"MultiPoint":for(ze=0,nt=R.length;ze<nt;ze++)Ee=pe(R[ze]),q.push(Rf(ie,p,Ee,w));return new wa(q);case"LineString":case"MultiLineString":return Me=Uu(R,E.type==="LineString"?0:1,pe),new Ti(Me,w);case"Polygon":case"MultiPolygon":return Me=Uu(R,E.type==="Polygon"?1:2,pe),new ja(Me,w);case"GeometryCollection":for(ze=0,nt=E.geometries.length;ze<nt;ze++){var xt=dc({geometry:E.geometries[ze],type:"Feature",properties:p.properties},w);xt&&q.push(xt)}return new wa(q);case"FeatureCollection":for(ze=0,nt=E.features.length;ze<nt;ze++){var $t=dc(E.features[ze],w);$t&&q.push($t)}return new wa(q);default:throw new Error("Invalid GeoJSON object.")}}function Rf(p,w,E,R){return p?p(w,E):new _a(E,R&&R.markersInheritOptions&&R)}function Mf(p){return new Le(p[1],p[0],p[2])}function Uu(p,w,E){for(var R=[],q=0,ie=p.length,pe;q<ie;q++)pe=w?Uu(p[q],w-1,E):(E||Mf)(p[q]),R.push(pe);return R}function If(p,w){return p=ce(p),p.alt!==void 0?[g(p.lng,w),g(p.lat,w),g(p.alt,w)]:[g(p.lng,w),g(p.lat,w)]}function Lf(p,w,E,R){for(var q=[],ie=0,pe=p.length;ie<pe;ie++)q.push(w?Lf(p[ie],Vi(p[ie])?0:w-1,E,R):If(p[ie],R));return!w&&E&&q.length>0&&q.push(q[0].slice()),q}function fc(p,w){return p.feature?i({},p.feature,{geometry:w}):Df(w)}function Df(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var Mm={toGeoJSON:function(p){return fc(this,{type:"Point",coordinates:If(this.getLatLng(),p)})}};_a.include(Mm),Of.include(Mm),Af.include(Mm),Ti.include({toGeoJSON:function(p){var w=!Vi(this._latlngs),E=Lf(this._latlngs,w?1:0,!1,p);return fc(this,{type:(w?"Multi":"")+"LineString",coordinates:E})}}),ja.include({toGeoJSON:function(p){var w=!Vi(this._latlngs),E=w&&!Vi(this._latlngs[0]),R=Lf(this._latlngs,E?2:w?1:0,!0,p);return w||(R=[R]),fc(this,{type:(E?"Multi":"")+"Polygon",coordinates:R})}}),ao.include({toMultiPoint:function(p){var w=[];return this.eachLayer(function(E){w.push(E.toGeoJSON(p).geometry.coordinates)}),fc(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(p){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(p);var E=w==="GeometryCollection",R=[];return this.eachLayer(function(q){if(q.toGeoJSON){var ie=q.toGeoJSON(p);if(E)R.push(ie.geometry);else{var pe=Df(ie);pe.type==="FeatureCollection"?R.push.apply(R,pe.features):R.push(pe)}}}),E?fc(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function Cx(p,w){return new Us(p,w)}var xs=Cx,lo=ys.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,w,E){this._url=p,this._bounds=Ne(w),x(this,E)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Pt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Vr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&rc(this._image),this},bringToBack:function(){return this._map&&ya(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=Ne(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",w=this._image=p?this._url:Ot("img");if(Pt(w,"leaflet-image-layer"),this._zoomAnimated&&Pt(w,"leaflet-zoom-animated"),this.options.className&&Pt(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(p){var w=this._map.getZoomScale(p.zoom),E=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;ps(this._image,E,w)},_reset:function(){var p=this._image,w=new Y(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),E=w.getSize();ln(p,w.min),p.style.width=E.x+"px",p.style.height=E.y+"px"},_updateOpacity:function(){hi(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),Ex=function(p,w,E){return new lo(p,w,E)},Im=lo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",w=this._image=p?this._url:Ot("video");if(Pt(w,"leaflet-image-layer"),this._zoomAnimated&&Pt(w,"leaflet-zoom-animated"),this.options.className&&Pt(w,this.options.className),w.onselectstart=h,w.onmousemove=h,w.onloadeddata=o(this.fire,this,"load"),p){for(var E=w.getElementsByTagName("source"),R=[],q=0;q<E.length;q++)R.push(E[q].src);this._url=E.length>0?R:[w.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ie=0;ie<this._url.length;ie++){var pe=Ot("source");pe.src=this._url[ie],w.appendChild(pe)}}});function Px(p,w,E){return new Im(p,w,E)}var Lm=lo.extend({_initImage:function(){var p=this._image=this._url;Pt(p,"leaflet-image-layer"),this._zoomAnimated&&Pt(p,"leaflet-zoom-animated"),this.options.className&&Pt(p,this.options.className),p.onselectstart=h,p.onmousemove=h}});function Dm(p,w,E){return new Lm(p,w,E)}var Vs=ys.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,w){p&&(p instanceof Le||C(p))?(this._latlng=ce(p),x(this,w)):(x(this,p),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&hi(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&hi(this._container,1),this.bringToFront(),this.options.interactive&&(Pt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(hi(this._container,0),this._removeTimeout=setTimeout(o(Vr,void 0,this._container),200)):Vr(this._container),this.options.interactive&&($r(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=ce(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rc(this._container),this},bringToBack:function(){return this._map&&ya(this._container),this},_prepareOpen:function(p){var w=this._source;if(!w._map)return!1;if(w instanceof wa){w=null;var E=this._source._layers;for(var R in E)if(E[R]._map){w=E[R];break}if(!w)return!1;this._source=w}if(!p)if(w.getCenter)p=w.getCenter();else if(w.getLatLng)p=w.getLatLng();else if(w.getBounds)p=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")p.innerHTML=w;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),w=ne(this.options.offset),E=this._getAnchor();this._zoomAnimated?ln(this._container,p.add(E)):w=w.add(p).add(E);var R=this._containerBottom=-w.y,q=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=R+"px",this._container.style.left=q+"px"}},_getAnchor:function(){return[0,0]}});Zt.include({_initOverlay:function(p,w,E,R){var q=w;return q instanceof p||(q=new p(R).setContent(w)),E&&q.setLatLng(E),q}}),ys.include({_initOverlay:function(p,w,E,R){var q=E;return q instanceof p?(x(q,R),q._source=this):(q=w&&!R?w:new p(R,this),q.setContent(E)),q}});var $f=Vs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,Vs.prototype.openOn.call(this,p)},onAdd:function(p){Vs.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof oo||this._source.on("preclick",qs))},onRemove:function(p){Vs.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof oo||this._source.off("preclick",qs))},getEvents:function(){var p=Vs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",w=this._container=Ot("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),E=this._wrapper=Ot("div",p+"-content-wrapper",w);if(this._contentNode=Ot("div",p+"-content",E),$u(w),Nf(this._contentNode),Ct(w,"contextmenu",qs),this._tipContainer=Ot("div",p+"-tip-container",w),this._tip=Ot("div",p+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=Ot("a",p+"-close-button",w);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',Ct(R,"click",function(q){tn(q),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,w=p.style;w.width="",w.whiteSpace="nowrap";var E=p.offsetWidth;E=Math.min(E,this.options.maxWidth),E=Math.max(E,this.options.minWidth),w.width=E+1+"px",w.whiteSpace="",w.height="";var R=p.offsetHeight,q=this.options.maxHeight,ie="leaflet-popup-scrolled";q&&R>q?(w.height=q+"px",Pt(p,ie)):$r(p,ie),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),E=this._getAnchor();ln(this._container,w.add(E))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,w=parseInt(Mu(this._container,"marginBottom"),10)||0,E=this._container.offsetHeight+w,R=this._containerWidth,q=new ee(this._containerLeft,-E-this._containerBottom);q._add(xa(this._container));var ie=p.layerPointToContainerPoint(q),pe=ne(this.options.autoPanPadding),Ee=ne(this.options.autoPanPaddingTopLeft||pe),Me=ne(this.options.autoPanPaddingBottomRight||pe),ze=p.getSize(),nt=0,xt=0;ie.x+R+Me.x>ze.x&&(nt=ie.x+R-ze.x+Me.x),ie.x-nt-Ee.x<0&&(nt=ie.x-Ee.x),ie.y+E+Me.y>ze.y&&(xt=ie.y+E-ze.y+Me.y),ie.y-xt-Ee.y<0&&(xt=ie.y-Ee.y),(nt||xt)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([nt,xt]))}},_getAnchor:function(){return ne(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hc=function(p,w){return new $f(p,w)};Zt.mergeOptions({closePopupOnClick:!0}),Zt.include({openPopup:function(p,w,E){return this._initOverlay($f,p,w,E).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),ys.include({bindPopup:function(p,w){return this._popup=this._initOverlay($f,this._popup,p,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof wa||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){gs(p);var w=p.layer||p.target;if(this._popup._source===w&&!(w instanceof oo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=w,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var pc=Vs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){Vs.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){Vs.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=Vs.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",w=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ot("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var w,E,R=this._map,q=this._container,ie=R.latLngToContainerPoint(R.getCenter()),pe=R.layerPointToContainerPoint(p),Ee=this.options.direction,Me=q.offsetWidth,ze=q.offsetHeight,nt=ne(this.options.offset),xt=this._getAnchor();Ee==="top"?(w=Me/2,E=ze):Ee==="bottom"?(w=Me/2,E=0):Ee==="center"?(w=Me/2,E=ze/2):Ee==="right"?(w=0,E=ze/2):Ee==="left"?(w=Me,E=ze/2):pe.x<ie.x?(Ee="right",w=0,E=ze/2):(Ee="left",w=Me+(nt.x+xt.x)*2,E=ze/2),p=p.subtract(ne(w,E,!0)).add(nt).add(xt),$r(q,"leaflet-tooltip-right"),$r(q,"leaflet-tooltip-left"),$r(q,"leaflet-tooltip-top"),$r(q,"leaflet-tooltip-bottom"),Pt(q,"leaflet-tooltip-"+Ee),ln(q,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&hi(this._container,p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(w)},_getAnchor:function(){return ne(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Vu=function(p,w){return new pc(p,w)};Zt.include({openTooltip:function(p,w,E){return this._initOverlay(pc,p,w,E).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),ys.include({bindTooltip:function(p,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pc,this._tooltip,p,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var w=p?"off":"on",E={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?E.add=this._openTooltip:(E.mouseover=this._openTooltip,E.mouseout=this.closeTooltip,E.click=this._openTooltip,this._map?this._addFocusListeners():E.add=this._addFocusListeners),this._tooltip.options.sticky&&(E.mousemove=this._moveTooltip),this[w](E),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof wa||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&(Ct(w,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),Ct(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var w=p.latlng,E,R;this._tooltip.options.sticky&&p.originalEvent&&(E=this._map.mouseEventToContainerPoint(p.originalEvent),R=this._map.containerPointToLayerPoint(E),w=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(w)}});var Ff=el.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var w=p&&p.tagName==="DIV"?p:document.createElement("div"),E=this.options;if(E.html instanceof Element?(xf(w),w.appendChild(E.html)):w.innerHTML=E.html!==!1?E.html:"",E.bgPos){var R=ne(E.bgPos);w.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function kx(p){return new Ff(p)}el.Default=uc;var co=ys.extend({options:{tileSize:256,opacity:1,updateWhenIdle:mt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){x(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),Vr(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rc(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ya(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof ee?p:new ee(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var w=this.getPane().children,E=-p(-1/0,1/0),R=0,q=w.length,ie;R<q;R++)ie=w[R].style.zIndex,w[R]!==this._container&&ie&&(E=p(E,+ie));isFinite(E)&&(this.options.zIndex=E+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!mt.ielt9){hi(this._container,this.options.opacity);var p=+new Date,w=!1,E=!1;for(var R in this._tiles){var q=this._tiles[R];if(!(!q.current||!q.loaded)){var ie=Math.min(1,(p-q.loaded)/200);hi(q.el,ie),ie<1?w=!0:(q.active?E=!0:this._onOpaqueTile(q),q.active=!0)}}E&&!this._noPrune&&this._pruneTiles(),w&&(U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:h,_initContainer:function(){this._container||(this._container=Ot("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,w=this.options.maxZoom;if(p!==void 0){for(var E in this._levels)E=Number(E),this._levels[E].el.children.length||E===p?(this._levels[E].el.style.zIndex=w-Math.abs(p-E),this._onUpdateLevel(E)):(Vr(this._levels[E].el),this._removeTilesAtZoom(E),this._onRemoveLevel(E),delete this._levels[E]);var R=this._levels[p],q=this._map;return R||(R=this._levels[p]={},R.el=Ot("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=w,R.origin=q.project(q.unproject(q.getPixelOrigin()),p).round(),R.zoom=p,this._setZoomTransform(R,q.getCenter(),q.getZoom()),h(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:h,_onRemoveLevel:h,_onCreateLevel:h,_pruneTiles:function(){if(this._map){var p,w,E=this._map.getZoom();if(E>this.options.maxZoom||E<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)w=this._tiles[p],w.retain=w.current;for(p in this._tiles)if(w=this._tiles[p],w.current&&!w.active){var R=w.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var w in this._tiles)this._tiles[w].coords.z===p&&this._removeTile(w)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)Vr(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,w,E,R){var q=Math.floor(p/2),ie=Math.floor(w/2),pe=E-1,Ee=new ee(+q,+ie);Ee.z=+pe;var Me=this._tileCoordsToKey(Ee),ze=this._tiles[Me];return ze&&ze.active?(ze.retain=!0,!0):(ze&&ze.loaded&&(ze.retain=!0),pe>R?this._retainParent(q,ie,pe,R):!1)},_retainChildren:function(p,w,E,R){for(var q=2*p;q<2*p+2;q++)for(var ie=2*w;ie<2*w+2;ie++){var pe=new ee(q,ie);pe.z=E+1;var Ee=this._tileCoordsToKey(pe),Me=this._tiles[Ee];if(Me&&Me.active){Me.retain=!0;continue}else Me&&Me.loaded&&(Me.retain=!0);E+1<R&&this._retainChildren(q,ie,E+1,R)}},_resetView:function(p){var w=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var w=this.options;return w.minNativeZoom!==void 0&&p<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<p?w.maxNativeZoom:p},_setView:function(p,w,E,R){var q=Math.round(w);this.options.maxZoom!==void 0&&q>this.options.maxZoom||this.options.minZoom!==void 0&&q<this.options.minZoom?q=void 0:q=this._clampZoom(q);var ie=this.options.updateWhenZooming&&q!==this._tileZoom;(!R||ie)&&(this._tileZoom=q,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),q!==void 0&&this._update(p),E||this._pruneTiles(),this._noPrune=!!E),this._setZoomTransforms(p,w)},_setZoomTransforms:function(p,w){for(var E in this._levels)this._setZoomTransform(this._levels[E],p,w)},_setZoomTransform:function(p,w,E){var R=this._map.getZoomScale(E,p.zoom),q=p.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(w,E)).round();mt.any3d?ps(p.el,q,R):ln(p.el,q)},_resetGrid:function(){var p=this._map,w=p.options.crs,E=this._tileSize=this.getTileSize(),R=this._tileZoom,q=this._map.getPixelWorldBounds(this._tileZoom);q&&(this._globalTileRange=this._pxBoundsToTileRange(q)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,w.wrapLng[0]],R).x/E.x),Math.ceil(p.project([0,w.wrapLng[1]],R).x/E.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([w.wrapLat[0],0],R).y/E.x),Math.ceil(p.project([w.wrapLat[1],0],R).y/E.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var w=this._map,E=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),R=w.getZoomScale(E,this._tileZoom),q=w.project(p,this._tileZoom).floor(),ie=w.getSize().divideBy(R*2);return new Y(q.subtract(ie),q.add(ie))},_update:function(p){var w=this._map;if(w){var E=this._clampZoom(w.getZoom());if(p===void 0&&(p=w.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(p),q=this._pxBoundsToTileRange(R),ie=q.getCenter(),pe=[],Ee=this.options.keepBuffer,Me=new Y(q.getBottomLeft().subtract([Ee,-Ee]),q.getTopRight().add([Ee,-Ee]));if(!(isFinite(q.min.x)&&isFinite(q.min.y)&&isFinite(q.max.x)&&isFinite(q.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ze in this._tiles){var nt=this._tiles[ze].coords;(nt.z!==this._tileZoom||!Me.contains(new ee(nt.x,nt.y)))&&(this._tiles[ze].current=!1)}if(Math.abs(E-this._tileZoom)>1){this._setView(p,E);return}for(var xt=q.min.y;xt<=q.max.y;xt++)for(var $t=q.min.x;$t<=q.max.x;$t++){var Rn=new ee($t,xt);if(Rn.z=this._tileZoom,!!this._isValidTile(Rn)){var xn=this._tiles[this._tileCoordsToKey(Rn)];xn?xn.current=!0:pe.push(Rn)}}if(pe.sort(function(mi,xc){return mi.distanceTo(ie)-xc.distanceTo(ie)}),pe.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Ai=document.createDocumentFragment();for($t=0;$t<pe.length;$t++)this._addTile(pe[$t],Ai);this._level.el.appendChild(Ai)}}}},_isValidTile:function(p){var w=this._map.options.crs;if(!w.infinite){var E=this._globalTileRange;if(!w.wrapLng&&(p.x<E.min.x||p.x>E.max.x)||!w.wrapLat&&(p.y<E.min.y||p.y>E.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(p);return Ne(this.options.bounds).overlaps(R)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var w=this._map,E=this.getTileSize(),R=p.scaleBy(E),q=R.add(E),ie=w.unproject(R,p.z),pe=w.unproject(q,p.z);return[ie,pe]},_tileCoordsToBounds:function(p){var w=this._tileCoordsToNwSe(p),E=new xe(w[0],w[1]);return this.options.noWrap||(E=this._map.wrapLatLngBounds(E)),E},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var w=p.split(":"),E=new ee(+w[0],+w[1]);return E.z=+w[2],E},_removeTile:function(p){var w=this._tiles[p];w&&(Vr(w.el),delete this._tiles[p],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){Pt(p,"leaflet-tile");var w=this.getTileSize();p.style.width=w.x+"px",p.style.height=w.y+"px",p.onselectstart=h,p.onmousemove=h,mt.ielt9&&this.options.opacity<1&&hi(p,this.options.opacity)},_addTile:function(p,w){var E=this._getTilePos(p),R=this._tileCoordsToKey(p),q=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(q),this.createTile.length<2&&V(o(this._tileReady,this,p,null,q)),ln(q,E),this._tiles[R]={el:q,coords:p,current:!0},w.appendChild(q),this.fire("tileloadstart",{tile:q,coords:p})},_tileReady:function(p,w,E){w&&this.fire("tileerror",{error:w,tile:E,coords:p});var R=this._tileCoordsToKey(p);E=this._tiles[R],E&&(E.loaded=+new Date,this._map._fadeAnimated?(hi(E.el,0),U(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(E.active=!0,this._pruneTiles()),w||(Pt(E.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:E.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),mt.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var w=new ee(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return w.z=p.z,w},_pxBoundsToTileRange:function(p){var w=this.getTileSize();return new Y(p.min.unscaleBy(w).floor(),p.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function mc(p){return new co(p)}var uo=co.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,w){this._url=p,w=x(this,w),w.detectRetina&&mt.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,w){return this._url===p&&w===void 0&&(w=!0),this._url=p,w||this.redraw(),this},createTile:function(p,w){var E=document.createElement("img");return Ct(E,"load",o(this._tileOnLoad,this,w,E)),Ct(E,"error",o(this._tileOnError,this,w,E)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(E.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(E.referrerPolicy=this.options.referrerPolicy),E.alt="",E.src=this.getTileUrl(p),E},getTileUrl:function(p){var w={r:mt.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var E=this._globalTileRange.max.y-p.y;this.options.tms&&(w.y=E),w["-y"]=E}return N(this._url,i(w,this.options))},_tileOnLoad:function(p,w){mt.ielt9?setTimeout(o(p,this,null,w),0):p(null,w)},_tileOnError:function(p,w,E){var R=this.options.errorTileUrl;R&&w.getAttribute("src")!==R&&(w.src=R),p(E,w)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,w=this.options.maxZoom,E=this.options.zoomReverse,R=this.options.zoomOffset;return E&&(p=w-p),p+R},_getSubdomain:function(p){var w=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var p,w;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(w=this._tiles[p].el,w.onload=h,w.onerror=h,!w.complete)){w.src=k;var E=this._tiles[p].coords;Vr(w),delete this._tiles[p],this.fire("tileabort",{tile:w,coords:E})}},_removeTile:function(p){var w=this._tiles[p];if(w)return w.el.setAttribute("src",k),co.prototype._removeTile.call(this,p)},_tileReady:function(p,w,E){if(!(!this._map||E&&E.getAttribute("src")===k))return co.prototype._tileReady.call(this,p,w,E)}});function $m(p,w){return new uo(p,w)}var Wu=uo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,w){this._url=p;var E=i({},this.defaultWmsParams);for(var R in w)R in this.options||(E[R]=w[R]);w=x(this,w);var q=w.detectRetina&&mt.retina?2:1,ie=this.getTileSize();E.width=ie.x*q,E.height=ie.y*q,this.wmsParams=E},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,uo.prototype.onAdd.call(this,p)},getTileUrl:function(p){var w=this._tileCoordsToNwSe(p),E=this._crs,R=oe(E.project(w[0]),E.project(w[1])),q=R.min,ie=R.max,pe=(this._wmsVersion>=1.3&&this._crs===_x?[q.y,q.x,ie.y,ie.x]:[q.x,q.y,ie.x,ie.y]).join(","),Ee=uo.prototype.getTileUrl.call(this,p);return Ee+_(this.wmsParams,Ee,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+pe},setParams:function(p,w){return i(this.wmsParams,p),w||this.redraw(),this}});function Tx(p,w){return new Wu(p,w)}uo.WMS=Wu,$m.wms=Tx;var Ws=ys.extend({options:{padding:.1},initialize:function(p){x(this,p),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Pt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,w){var E=this._map.getZoomScale(w,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),q=this._map.project(this._center,w),ie=R.multiplyBy(-E).add(q).subtract(this._map._getNewPixelOrigin(p,w));mt.any3d?ps(this._container,ie,E):ln(this._container,ie)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,w=this._map.getSize(),E=this._map.containerPointToLayerPoint(w.multiplyBy(-p)).round();this._bounds=new Y(E,E.add(w.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fm=Ws.extend({options:{tolerance:0},getEvents:function(){var p=Ws.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Ws.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");Ct(p,"mousemove",this._onMouseMove,this),Ct(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ct(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){U(this._redrawRequest),delete this._ctx,Vr(this._container),Nr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var w in this._layers)p=this._layers[w],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ws.prototype._update.call(this);var p=this._bounds,w=this._container,E=p.getSize(),R=mt.retina?2:1;ln(w,p.min),w.width=R*E.x,w.height=R*E.y,w.style.width=E.x+"px",w.style.height=E.y+"px",mt.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Ws.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[c(p)]=p;var w=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var w=p._order,E=w.next,R=w.prev;E?E.prev=R:this._drawLast=R,R?R.next=E:this._drawFirst=E,delete p._order,delete this._layers[c(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var w=p.options.dashArray.split(/[, ]+/),E=[],R,q;for(q=0;q<w.length;q++){if(R=Number(w[q]),isNaN(R))return;E.push(R)}p.options._dashArray=E}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var w=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Y,this._redrawBounds.extend(p._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(p._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var w=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,w=this._redrawBounds;if(this._ctx.save(),w){var E=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,E.x,E.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)p=R.layer,(!w||p._pxBounds&&p._pxBounds.intersects(w))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,w){if(this._drawing){var E,R,q,ie,pe=p._parts,Ee=pe.length,Me=this._ctx;if(Ee){for(Me.beginPath(),E=0;E<Ee;E++){for(R=0,q=pe[E].length;R<q;R++)ie=pe[E][R],Me[R?"lineTo":"moveTo"](ie.x,ie.y);w&&Me.closePath()}this._fillStroke(Me,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var w=p._point,E=this._ctx,R=Math.max(Math.round(p._radius),1),q=(Math.max(Math.round(p._radiusY),1)||R)/R;q!==1&&(E.save(),E.scale(1,q)),E.beginPath(),E.arc(w.x,w.y/q,R,0,Math.PI*2,!1),q!==1&&E.restore(),this._fillStroke(E,p)}},_fillStroke:function(p,w){var E=w.options;E.fill&&(p.globalAlpha=E.fillOpacity,p.fillStyle=E.fillColor||E.color,p.fill(E.fillRule||"evenodd")),E.stroke&&E.weight!==0&&(p.setLineDash&&p.setLineDash(w.options&&w.options._dashArray||[]),p.globalAlpha=E.opacity,p.lineWidth=E.weight,p.strokeStyle=E.color,p.lineCap=E.lineCap,p.lineJoin=E.lineJoin,p.stroke())},_onClick:function(p){for(var w=this._map.mouseEventToLayerPoint(p),E,R,q=this._drawFirst;q;q=q.next)E=q.layer,E.options.interactive&&E._containsPoint(w)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(E))&&(R=E);this._fireEvent(R?[R]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,w)}},_handleMouseOut:function(p){var w=this._hoveredLayer;w&&($r(this._container,"leaflet-interactive"),this._fireEvent([w],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,w){if(!this._mouseHoverThrottled){for(var E,R,q=this._drawFirst;q;q=q.next)E=q.layer,E.options.interactive&&E._containsPoint(w)&&(R=E);R!==this._hoveredLayer&&(this._handleMouseOut(p),R&&(Pt(this._container,"leaflet-interactive"),this._fireEvent([R],p,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,w,E){this._map._fireDOMEvent(w,E||w.type,p)},_bringToFront:function(p){var w=p._order;if(w){var E=w.next,R=w.prev;if(E)E.prev=R;else return;R?R.next=E:E&&(this._drawFirst=E),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(p)}},_bringToBack:function(p){var w=p._order;if(w){var E=w.next,R=w.prev;if(R)R.next=E;else return;E?E.prev=R:R&&(this._drawLast=R),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(p)}}});function Bm(p){return mt.canvas?new Fm(p):null}var gc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ax={_initContainer:function(){this._container=Ot("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Ws.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var w=p._container=gc("shape");Pt(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",p._path=gc("path"),w.appendChild(p._path),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){var w=p._container;this._container.appendChild(w),p.options.interactive&&p.addInteractiveTarget(w)},_removePath:function(p){var w=p._container;Vr(w),p.removeInteractiveTarget(w),delete this._layers[c(p)]},_updateStyle:function(p){var w=p._stroke,E=p._fill,R=p.options,q=p._container;q.stroked=!!R.stroke,q.filled=!!R.fill,R.stroke?(w||(w=p._stroke=gc("stroke")),q.appendChild(w),w.weight=R.weight+"px",w.color=R.color,w.opacity=R.opacity,R.dashArray?w.dashStyle=C(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=R.lineCap.replace("butt","flat"),w.joinstyle=R.lineJoin):w&&(q.removeChild(w),p._stroke=null),R.fill?(E||(E=p._fill=gc("fill")),q.appendChild(E),E.color=R.fillColor||R.color,E.opacity=R.fillOpacity):E&&(q.removeChild(E),p._fill=null)},_updateCircle:function(p){var w=p._point.round(),E=Math.round(p._radius),R=Math.round(p._radiusY||E);this._setPath(p,p._empty()?"M0 0":"AL "+w.x+","+w.y+" "+E+","+R+" 0,"+65535*360)},_setPath:function(p,w){p._path.v=w},_bringToFront:function(p){rc(p._container)},_bringToBack:function(p){ya(p._container)}},bs=mt.vml?gc:We,tl=Ws.extend({_initContainer:function(){this._container=bs("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=bs("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Vr(this._container),Nr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Ws.prototype._update.call(this);var p=this._bounds,w=p.getSize(),E=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,E.setAttribute("width",w.x),E.setAttribute("height",w.y)),ln(E,p.min),E.setAttribute("viewBox",[p.min.x,p.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(p){var w=p._path=bs("path");p.options.className&&Pt(w,p.options.className),p.options.interactive&&Pt(w,"leaflet-interactive"),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){Vr(p._path),p.removeInteractiveTarget(p._path),delete this._layers[c(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var w=p._path,E=p.options;w&&(E.stroke?(w.setAttribute("stroke",E.color),w.setAttribute("stroke-opacity",E.opacity),w.setAttribute("stroke-width",E.weight),w.setAttribute("stroke-linecap",E.lineCap),w.setAttribute("stroke-linejoin",E.lineJoin),E.dashArray?w.setAttribute("stroke-dasharray",E.dashArray):w.removeAttribute("stroke-dasharray"),E.dashOffset?w.setAttribute("stroke-dashoffset",E.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),E.fill?(w.setAttribute("fill",E.fillColor||E.color),w.setAttribute("fill-opacity",E.fillOpacity),w.setAttribute("fill-rule",E.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(p,w){this._setPath(p,Ue(p._parts,w))},_updateCircle:function(p){var w=p._point,E=Math.max(Math.round(p._radius),1),R=Math.max(Math.round(p._radiusY),1)||E,q="a"+E+","+R+" 0 1,0 ",ie=p._empty()?"M0 0":"M"+(w.x-E)+","+w.y+q+E*2+",0 "+q+-E*2+",0 ";this._setPath(p,ie)},_setPath:function(p,w){p._path.setAttribute("d",w)},_bringToFront:function(p){rc(p._path)},_bringToBack:function(p){ya(p._path)}});mt.vml&&tl.include(Ax);function Bf(p){return mt.svg||mt.vml?new tl(p):null}Zt.include({getRenderer:function(p){var w=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var w=this._paneRenderers[p];return w===void 0&&(w=this._createRenderer({pane:p}),this._paneRenderers[p]=w),w},_createRenderer:function(p){return this.options.preferCanvas&&Bm(p)||Bf(p)}});var Ox=ja.extend({initialize:function(p,w){ja.prototype.initialize.call(this,this._boundsToLatLngs(p),w)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=Ne(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function gj(p,w){return new Ox(p,w)}tl.create=bs,tl.pointsToPath=Ue,Us.geometryToLayer=dc,Us.coordsToLatLng=Mf,Us.coordsToLatLngs=Uu,Us.latLngToCoords=If,Us.latLngsToCoords=Lf,Us.getFeature=fc,Us.asFeature=Df,Zt.mergeOptions({boxZoom:!0});var vc=Ui.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){Ct(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Nr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Vr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Jt(),_f(),this._startPoint=this._map.mouseEventToContainerPoint(p),Ct(document,{contextmenu:gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=Ot("div","leaflet-zoom-box",this._container),Pt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var w=new Y(this._point,this._startPoint),E=w.getSize();ln(this._box,w.min),this._box.style.width=E.x+"px",this._box.style.height=E.y+"px"},_finish:function(){this._moved&&(Vr(this._box),$r(this._container,"leaflet-crosshair")),sc(),jf(),Nr(document,{contextmenu:gs,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new xe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Zt.addInitHook("addHandler","boxZoom",vc),Zt.mergeOptions({doubleClickZoom:!0});var Rx=Ui.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var w=this._map,E=w.getZoom(),R=w.options.zoomDelta,q=p.originalEvent.shiftKey?E-R:E+R;w.options.doubleClickZoom==="center"?w.setZoom(q):w.setZoomAround(p.containerPoint,q)}});Zt.addInitHook("addHandler","doubleClickZoom",Rx),Zt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var zm=Ui.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new vs(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}Pt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){$r(this._map._container,"leaflet-grab"),$r(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=Ne(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var w=this._lastTime=+new Date,E=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(E),this._times.push(w),this._prunePositions(w)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,w){return p-(p-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;p.x<w.min.x&&(p.x=this._viscousLimit(p.x,w.min.x)),p.y<w.min.y&&(p.y=this._viscousLimit(p.y,w.min.y)),p.x>w.max.x&&(p.x=this._viscousLimit(p.x,w.max.x)),p.y>w.max.y&&(p.y=this._viscousLimit(p.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,w=Math.round(p/2),E=this._initialWorldOffset,R=this._draggable._newPos.x,q=(R-w+E)%p+w-E,ie=(R+w+E)%p-w-E,pe=Math.abs(q+E)<Math.abs(ie+E)?q:ie;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=pe},_onDragEnd:function(p){var w=this._map,E=w.options,R=!E.inertia||p.noInertia||this._times.length<2;if(w.fire("dragend",p),R)w.fire("moveend");else{this._prunePositions(+new Date);var q=this._lastPos.subtract(this._positions[0]),ie=(this._lastTime-this._times[0])/1e3,pe=E.easeLinearity,Ee=q.multiplyBy(pe/ie),Me=Ee.distanceTo([0,0]),ze=Math.min(E.inertiaMaxSpeed,Me),nt=Ee.multiplyBy(ze/Me),xt=ze/(E.inertiaDeceleration*pe),$t=nt.multiplyBy(-xt/2).round();!$t.x&&!$t.y?w.fire("moveend"):($t=w._limitOffset($t,w.options.maxBounds),V(function(){w.panBy($t,{duration:xt,easeLinearity:pe,noMoveStart:!0,animate:!0})}))}}});Zt.addInitHook("addHandler","dragging",zm),Zt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qm=Ui.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),Ct(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Nr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,w=document.documentElement,E=p.scrollTop||w.scrollTop,R=p.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(R,E)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var w=this._panKeys={},E=this.keyCodes,R,q;for(R=0,q=E.left.length;R<q;R++)w[E.left[R]]=[-1*p,0];for(R=0,q=E.right.length;R<q;R++)w[E.right[R]]=[p,0];for(R=0,q=E.down.length;R<q;R++)w[E.down[R]]=[0,p];for(R=0,q=E.up.length;R<q;R++)w[E.up[R]]=[0,-1*p]},_setZoomDelta:function(p){var w=this._zoomKeys={},E=this.keyCodes,R,q;for(R=0,q=E.zoomIn.length;R<q;R++)w[E.zoomIn[R]]=p;for(R=0,q=E.zoomOut.length;R<q;R++)w[E.zoomOut[R]]=-p},_addHooks:function(){Ct(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Nr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var w=p.keyCode,E=this._map,R;if(w in this._panKeys){if(!E._panAnim||!E._panAnim._inProgress)if(R=this._panKeys[w],p.shiftKey&&(R=ne(R).multiplyBy(3)),E.options.maxBounds&&(R=E._limitOffset(ne(R),E.options.maxBounds)),E.options.worldCopyJump){var q=E.wrapLatLng(E.unproject(E.project(E.getCenter()).add(R)));E.panTo(q)}else E.panBy(R)}else if(w in this._zoomKeys)E.setZoom(E.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&E._popup&&E._popup.options.closeOnEscapeKey)E.closePopup();else return;gs(p)}}});Zt.addInitHook("addHandler","keyboard",qm),Zt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Cr=Ui.extend({addHooks:function(){Ct(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Nr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var w=px(p),E=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var R=Math.max(E-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),R),gs(p)},_performZoom:function(){var p=this._map,w=p.getZoom(),E=this._map.options.zoomSnap||0;p._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),q=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,ie=E?Math.ceil(q/E)*E:q,pe=p._limitZoom(w+(this._delta>0?ie:-ie))-w;this._delta=0,this._startTime=null,pe&&(p.options.scrollWheelZoom==="center"?p.setZoom(w+pe):p.setZoomAround(this._lastMousePos,w+pe))}});Zt.addInitHook("addHandler","scrollWheelZoom",Cr);var Um=600;Zt.mergeOptions({tapHold:mt.touchNative&&mt.safari&&mt.mobile,tapTolerance:15});var Hu=Ui.extend({addHooks:function(){Ct(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Nr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var w=p.touches[0];this._startPos=this._newPos=new ee(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&(Ct(document,"touchend",tn),Ct(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),Um),Ct(document,"touchend touchcancel contextmenu",this._cancel,this),Ct(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){Nr(document,"touchend",tn),Nr(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),Nr(document,"touchend touchcancel contextmenu",this._cancel,this),Nr(document,"touchmove",this._onMove,this)},_onMove:function(p){var w=p.touches[0];this._newPos=new ee(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,w){var E=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});E._simulated=!0,w.target.dispatchEvent(E)}});Zt.addInitHook("addHandler","tapHold",Hu),Zt.mergeOptions({touchZoom:mt.touch,bounceAtZoomLimits:!0});var yc=Ui.extend({addHooks:function(){Pt(this._map._container,"leaflet-touch-zoom"),Ct(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){$r(this._map._container,"leaflet-touch-zoom"),Nr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var w=this._map;if(!(!p.touches||p.touches.length!==2||w._animatingZoom||this._zooming)){var E=w.mouseEventToContainerPoint(p.touches[0]),R=w.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(E.add(R)._divideBy(2))),this._startDist=E.distanceTo(R),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),Ct(document,"touchmove",this._onTouchMove,this),Ct(document,"touchend touchcancel",this._onTouchEnd,this),tn(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var w=this._map,E=w.mouseEventToContainerPoint(p.touches[0]),R=w.mouseEventToContainerPoint(p.touches[1]),q=E.distanceTo(R)/this._startDist;if(this._zoom=w.getScaleZoom(q,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&q<1||this._zoom>w.getMaxZoom()&&q>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,q===1)return}else{var ie=E._add(R)._divideBy(2)._subtract(this._centerPoint);if(q===1&&ie.x===0&&ie.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ie),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),U(this._animRequest);var pe=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(pe,this,!0),tn(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,U(this._animRequest),Nr(document,"touchmove",this._onTouchMove,this),Nr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Zt.addInitHook("addHandler","touchZoom",yc),Zt.BoxZoom=vc,Zt.DoubleClickZoom=Rx,Zt.Drag=zm,Zt.Keyboard=qm,Zt.ScrollWheelZoom=Cr,Zt.TapHold=Hu,Zt.TouchZoom=yc,r.Bounds=Y,r.Browser=mt,r.CRS=ae,r.Canvas=Fm,r.Circle=Of,r.CircleMarker=Af,r.Class=W,r.Control=ki,r.DivIcon=Ff,r.DivOverlay=Vs,r.DomEvent=Cf,r.DomUtil=Du,r.Draggable=vs,r.Evented=K,r.FeatureGroup=wa,r.GeoJSON=Us,r.GridLayer=co,r.Handler=Ui,r.Icon=el,r.ImageOverlay=lo,r.LatLng=Le,r.LatLngBounds=xe,r.Layer=ys,r.LayerGroup=ao,r.LineUtil=wx,r.Map=Zt,r.Marker=_a,r.Mixin=Cm,r.Path=oo,r.Point=ee,r.PolyUtil=sj,r.Polygon=ja,r.Polyline=Ti,r.Popup=$f,r.PosAnimation=Ef,r.Projection=uj,r.Rectangle=Ox,r.Renderer=Ws,r.SVG=tl,r.SVGOverlay=Lm,r.TileLayer=uo,r.Tooltip=pc,r.Transformation=te,r.Util=z,r.VideoOverlay=Im,r.bind=o,r.bounds=oe,r.canvas=Bm,r.circle=qu,r.circleMarker=Nx,r.control=so,r.divIcon=kx,r.extend=i,r.featureGroup=jx,r.geoJSON=Cx,r.geoJson=xs,r.gridLayer=mc,r.icon=Sx,r.imageOverlay=Ex,r.latLng=ce,r.latLngBounds=Ne,r.layerGroup=zu,r.map=io,r.marker=hj,r.point=ne,r.polygon=mj,r.polyline=pj,r.popup=hc,r.rectangle=gj,r.setOptions=x,r.stamp=c,r.svg=Bf,r.svgOverlay=Dm,r.tileLayer=$m,r.tooltip=Vu,r.transformation=X,r.version=n,r.videoOverlay=Px;var Mx=window.L;r.noConflict=function(){return window.L=Mx,this},window.L=r})}(qg,qg.exports)),qg.exports}var uPe=cPe();const Kc=pr(uPe);delete Kc.Icon.Default.prototype._getIconUrl;Kc.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const dPe=({center:t=[48.8566,2.3522],zoom:e=13,onLocationSelect:r,selectedLocation:n=null,height:i="400px",className:s=""})=>{const o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),[u,d]=b.useState(!1);b.useEffect(()=>{if(!o.current||l.current)return;const g=Kc.map(o.current).setView(t,e);return l.current=g,Kc.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(g),g.on("click",v=>{const{lat:y,lng:x}=v.latlng;c.current&&g.removeLayer(c.current),c.current=Kc.marker([y,x],{icon:Kc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(g),r&&r({latitude:y,longitude:x,timestamp:new Date().toISOString(),source:"map"})}),g.whenReady(()=>{d(!0)}),()=>{l.current&&(l.current.remove(),l.current=null)}},[t,e,r]),b.useEffect(()=>{!l.current||!n||(c.current&&l.current.removeLayer(c.current),c.current=Kc.marker([n.latitude,n.longitude],{icon:Kc.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(l.current),l.current.setView([n.latitude,n.longitude],15))},[n]);const h=(g,v,y=15)=>{l.current&&l.current.setView([g,v],y)};return b.useEffect(()=>{window.centerMapOnLocation,window.centerMapOnLocation=h},[]),a.jsxs("div",{className:`relative ${s}`,children:[a.jsx("div",{ref:o,style:{height:i},className:"w-full rounded-lg overflow-hidden border"}),!u&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement de la carte..."})]})}),a.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-muted-foreground shadow-sm",children:"Cliquez sur la carte pour sélectionner un point"})]})};class fPe{constructor(){this.baseUrl="https://nominatim.openstreetmap.org",this.cache=new Map,this.cacheTimeout=5*60*1e3}async searchLocation(e,r={}){const{limit:n=5,countrycodes:i="",bounded:s=0,viewbox:o="",addressdetails:l=1}=r,c=`${e}_${n}_${i}`,u=this.getFromCache(c);if(u)return u;try{const d=new URLSearchParams({q:e,format:"json",limit:n.toString(),addressdetails:l.toString(),bounded:s.toString()});i&&d.append("countrycodes",i),o&&d.append("viewbox",o);const h=await fetch(`${this.baseUrl}/search?${d}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!h.ok)throw new Error(`Erreur HTTP: ${h.status}`);const v=(await h.json()).map(y=>({id:y.place_id,name:y.display_name,latitude:parseFloat(y.lat),longitude:parseFloat(y.lon),type:y.type,importance:y.importance,address:y.address,boundingbox:y.boundingbox}));return this.setCache(c,v),v}catch(d){throw console.error("Erreur géocodage:",d),new Error("Erreur lors de la recherche d'adresse. Veuillez réessayer.")}}async reverseGeocode(e,r,n={}){const{zoom:i=18,addressdetails:s=1,extratags:o=1}=n,l=`reverse_${e}_${r}_${i}`,c=this.getFromCache(l);if(c)return c;try{const u=new URLSearchParams({lat:e.toString(),lon:r.toString(),format:"json",zoom:i.toString(),addressdetails:s.toString(),extratags:o.toString()}),d=await fetch(`${this.baseUrl}/reverse?${u}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!d.ok)throw new Error(`Erreur HTTP: ${d.status}`);const h=await d.json(),g={id:h.place_id,name:h.display_name,latitude:parseFloat(h.lat),longitude:parseFloat(h.lon),type:h.type,address:h.address,boundingbox:h.boundingbox};return this.setCache(l,g),g}catch(u){throw console.error("Erreur géocodage inverse:",u),new Error("Erreur lors de la récupération de l'adresse. Veuillez réessayer.")}}async searchPopularPlaces(e,r={}){const{limit:n=10,countrycodes:i="fr,be,ch,ca"}=r;try{return(await this.searchLocation(e,{limit:n,countrycodes:i})).sort((o,l)=>l.importance-o.importance)}catch(s){return console.error("Erreur recherche lieux populaires:",s),[]}}validateCoordinates(e,r){const n=parseFloat(e),i=parseFloat(r);return!(isNaN(n)||isNaN(i)||n<-90||n>90||i<-180||i>180)}formatAddress(e){if(!e)return"";const r=[];return e.house_number&&r.push(e.house_number),e.road&&r.push(e.road),e.postcode&&r.push(e.postcode),(e.city||e.town||e.village)&&r.push(e.city||e.town||e.village),e.country&&r.push(e.country),r.join(", ")}getFromCache(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>this.cacheTimeout?(this.cache.delete(e),null):r.data:null}setCache(e,r){this.cache.set(e,{data:r,timestamp:Date.now()})}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const W0=new fPe,hPe=({onLocationSelect:t,onClose:e,isOpen:r=!1,defaultLocation:n=null,showMap:i=!0})=>{b.useRef(null);const s=b.useRef(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,h]=b.useState(null),[g,v]=b.useState(n),[y,x]=b.useState(""),[_,S]=b.useState([]),[N,C]=b.useState(!1),[A,k]=b.useState(null),{toast:P}=Yr(),O=b.useCallback(async()=>{if(!navigator.geolocation){h("La géolocalisation n'est pas supportée par votre navigateur");return}l(!0),h(null);const z={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4};try{const W=await new Promise((ee,G)=>{navigator.geolocation.getCurrentPosition(ee,G,z)}),{latitude:J,longitude:se}=W.coords,K={latitude:J,longitude:se,accuracy:W.coords.accuracy,timestamp:new Date().toISOString(),source:"gps"};k(K),v(K),u(!0),P({title:"Position obtenue !",description:`Précision : ${Math.round(W.coords.accuracy)} mètres`,duration:3e3})}catch(W){console.error("Erreur géolocalisation:",W),W.code===1?h("Permission de géolocalisation refusée. Veuillez autoriser l'accès à votre position dans les paramètres de votre navigateur."):W.code===2?h("Impossible de déterminer votre position. Vérifiez que votre GPS est activé."):W.code===3?h("Délai d'attente dépassé. Vérifiez votre connexion internet."):h("Erreur lors de la géolocalisation. Veuillez réessayer."),u(!1)}finally{l(!1)}},[P]),I=b.useCallback(async z=>{if(!z.trim()){S([]);return}C(!0),h(null);try{const W=await W0.searchLocation(z,{limit:8,countrycodes:"fr,be,ch,ca",addressdetails:1});S(W)}catch(W){console.error("Erreur recherche:",W),h(W.message||"Erreur lors de la recherche. Veuillez réessayer."),S([])}finally{C(!1)}},[]),F=b.useCallback(z=>{const W={latitude:z.latitude,longitude:z.longitude,name:z.name,timestamp:new Date().toISOString(),source:"search"};v(W),x(z.name),S([]),P({title:"Localisation sélectionnée !",description:z.name,duration:3e3})},[P]),H=b.useCallback(async(z,W)=>{try{const J=await W0.reverseGeocode(z,W),se={latitude:z,longitude:W,name:J.name,address:W0.formatAddress(J.address),timestamp:new Date().toISOString(),source:"map"};v(se),P({title:"Position sélectionnée !",description:J.name||`Lat: ${z.toFixed(6)}, Lng: ${W.toFixed(6)}`,duration:3e3})}catch{const se={latitude:z,longitude:W,timestamp:new Date().toISOString(),source:"map"};v(se),P({title:"Position sélectionnée !",description:`Lat: ${z.toFixed(6)}, Lng: ${W.toFixed(6)}`,duration:3e3})}},[P]),V=b.useCallback(()=>{g&&t&&(t(g),e())},[g,t,e]),U=b.useCallback(()=>{v(null),x(""),S([]),h(null),e()},[e]);return b.useEffect(()=>{const z=setTimeout(()=>{y.trim()&&I(y)},500);return()=>clearTimeout(z)},[y,I]),b.useEffect(()=>{r&&!n&&!A&&O()},[r,n,A,O]),c===!1?a.jsx(Xn,{children:r&&a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Oe.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(hn,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la localisation refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:d||"Pour utiliser la géolocalisation, vous devez autoriser l'accès à votre position dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Fermer"}),a.jsx(ue,{onClick:O,children:"Réessayer"})]})]})})}):a.jsx(Xn,{children:r&&a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Oe.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Po,{className:"h-5 w-5 mr-2"}),"Sélectionner une localisation"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:U,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(os,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{ref:s,placeholder:"Rechercher une adresse, ville, lieu...",value:y,onChange:z=>x(z.target.value),className:"pl-10 pr-4"}),N&&a.jsx(Or,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),_.length>0&&a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.map(z=>a.jsxs(Oe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>F(z),children:[a.jsx(Po,{className:"h-4 w-4 text-primary"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:z.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[z.type," • ",W0.formatAddress(z.address)]})]})]},z.id))}),i&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Carte interactive"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:O,disabled:o,className:"flex items-center",children:[a.jsx(efe,{className:"h-4 w-4 mr-2"}),"Ma position"]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>{g&&window.centerMapOnLocation&&window.centerMapOnLocation(g.latitude,g.longitude)},disabled:!g,className:"flex items-center",children:[a.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Centrer"]})]})]}),a.jsx(dPe,{center:A?[A.latitude,A.longitude]:[48.8566,2.3522],zoom:13,onLocationSelect:H,selectedLocation:g,height:"400px",className:"w-full"})]}),g&&a.jsx(Oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Jn,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-primary mb-2",children:"Localisation sélectionnée"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Latitude :"})," ",g.latitude.toFixed(6)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Longitude :"})," ",g.longitude.toFixed(6)]}),g.name&&a.jsxs("p",{children:[a.jsx("strong",{children:"Nom :"})," ",g.name]}),g.address&&a.jsxs("p",{children:[a.jsx("strong",{children:"Adresse :"})," ",g.address]}),g.accuracy&&a.jsxs("p",{children:[a.jsx("strong",{children:"Précision :"})," ",Math.round(g.accuracy)," mètres"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Source :"})," ",g.source]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Heure :"})," ",new Date(g.timestamp).toLocaleTimeString()]})]})]})]})}),d&&a.jsx(Oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(hn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:d})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:g?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2 text-green-500"}),"Localisation prête à être envoyée"]}):"Aucune localisation sélectionnée"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:U,children:"Annuler"}),a.jsxs(ue,{onClick:V,disabled:!g,className:"bg-primary hover:bg-primary/90",children:[a.jsx(Po,{className:"h-4 w-4 mr-2"}),"Utiliser cette localisation"]})]})]})]})})})},pPe=({onAppointmentCreate:t,onClose:e,isOpen:r=!1,existingAppointments:n=[],availableSlots:i=[],timezone:s="Europe/Paris"})=>{const[o,l]=b.useState(""),[c,u]=b.useState(""),[d,h]=b.useState(60),[g,v]=b.useState(""),[y,x]=b.useState(""),[_,S]=b.useState(""),[N,C]=b.useState(1),[A,k]=b.useState(!1),[P,O]=b.useState(null),{toast:I}=Yr(),F=b.useCallback(()=>{const z=[],W=new Date;for(let J=0;J<30;J++){const se=new Date(W);se.setDate(W.getDate()+J);const K=se.getDay();K!==0&&K!==6&&z.push({date:se.toISOString().split("T")[0],label:se.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),isToday:J===0})}return z},[]),H=b.useCallback(async()=>{if(!o||!c||!g.trim()){O("Veuillez remplir tous les champs obligatoires");return}k(!0),O(null);try{const z={id:Date.now().toString(),date:o,time:c,duration:d,title:g.trim(),description:y.trim(),location:_.trim(),timezone:s,createdAt:new Date().toISOString(),status:"confirmed"};await new Promise(W=>setTimeout(W,1e3)),t&&t(z),I({title:"Rendez-vous créé !",description:`Le rendez-vous "${g}" a été planifié avec succès.`,duration:5e3}),e()}catch{O("Erreur lors de la création du rendez-vous. Veuillez réessayer.")}finally{k(!1)}},[o,c,d,g,y,_,s,t,e,I]),V=b.useCallback(()=>{l(""),u(""),h(60),v(""),x(""),S(""),O(null),C(1),e()},[e]),U=F();return a.jsx(Xn,{children:r&&a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(Oe.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Hl,{className:"h-5 w-5 mr-2"}),"Planifier un rendez-vous"]}),a.jsx(ue,{variant:"ghost",size:"icon",onClick:V,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(os,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Sélectionnez une date et une heure"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:U.map(z=>a.jsx(ue,{variant:o===z.date?"default":"outline",size:"sm",onClick:()=>l(z.date),className:`h-12 ${z.isToday?"ring-2 ring-primary":""}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:z.label.split(" ")[0]}),a.jsx("div",{className:"font-medium",children:z.label.split(" ")[1]})]})},z.date))})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Heure"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(z=>a.jsx(ue,{variant:c===z?"default":"outline",size:"sm",onClick:()=>u(z),className:"h-10",children:z},z))})]}),o&&c&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Détails du rendez-vous"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),a.jsx(tt,{placeholder:"Titre du rendez-vous",value:g,onChange:z=>v(z.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx(vu,{placeholder:"Description du rendez-vous...",value:y,onChange:z=>x(z.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lieu"}),a.jsx(tt,{placeholder:"Adresse ou lieu",value:_,onChange:z=>S(z.target.value)})]})]}),P&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(hn,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:P})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Rendez-vous"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",onClick:V,children:"Annuler"}),a.jsx(ue,{onClick:H,disabled:A||!o||!c||!g.trim(),className:"bg-primary hover:bg-primary/90",children:A?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Créer le rendez-vous"]})})]})]})]})})})},Fo=Object.create(null);Fo.open="0";Fo.close="1";Fo.ping="2";Fo.pong="3";Fo.message="4";Fo.upgrade="5";Fo.noop="6";const Cb=Object.create(null);Object.keys(Fo).forEach(t=>{Cb[Fo[t]]=t});const GT={type:"error",data:"parser error"},tQ=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",rQ=typeof ArrayBuffer=="function",nQ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,WM=({type:t,data:e},r,n)=>tQ&&e instanceof Blob?r?n(e):V3(e,n):rQ&&(e instanceof ArrayBuffer||nQ(e))?r?n(e):V3(new Blob([e]),n):n(Fo[t]+(e||"")),V3=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function W3(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let ON;function mPe(t,e){if(tQ&&t.data instanceof Blob)return t.data.arrayBuffer().then(W3).then(e);if(rQ&&(t.data instanceof ArrayBuffer||nQ(t.data)))return e(W3(t.data));WM(t,!1,r=>{ON||(ON=new TextEncoder),e(ON.encode(r))})}const H3="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ug=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<H3.length;t++)Ug[H3.charCodeAt(t)]=t;const gPe=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(n=0;n<r;n+=4)s=Ug[t.charCodeAt(n)],o=Ug[t.charCodeAt(n+1)],l=Ug[t.charCodeAt(n+2)],c=Ug[t.charCodeAt(n+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},vPe=typeof ArrayBuffer=="function",HM=(t,e)=>{if(typeof t!="string")return{type:"message",data:iQ(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:yPe(t.substring(1),e)}:Cb[r]?t.length>1?{type:Cb[r],data:t.substring(1)}:{type:Cb[r]}:GT},yPe=(t,e)=>{if(vPe){const r=gPe(t);return iQ(r,e)}else return{base64:!0,data:t}},iQ=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},sQ="",xPe=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,o)=>{WM(s,!1,l=>{n[o]=l,++i===r&&e(n.join(sQ))})})},bPe=(t,e)=>{const r=t.split(sQ),n=[];for(let i=0;i<r.length;i++){const s=HM(r[i],e);if(n.push(s),s.type==="error")break}return n};function wPe(){return new TransformStream({transform(t,e){mPe(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let RN;function H0(t){return t.reduce((e,r)=>e+r.length,0)}function K0(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function _Pe(t,e){RN||(RN=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(H0(r)<1)break;const c=K0(r,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(H0(r)<2)break;const c=K0(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(H0(r)<8)break;const c=K0(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(GT);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(H0(r)<i)break;const c=K0(r,i);l.enqueue(HM(s?c:RN.decode(c),e)),n=0}if(i===0||i>t){l.enqueue(GT);break}}}})}const aQ=4;function En(t){if(t)return jPe(t)}function jPe(t){for(var e in En.prototype)t[e]=En.prototype[e];return t}En.prototype.on=En.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};En.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};En.prototype.off=En.prototype.removeListener=En.prototype.removeAllListeners=En.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};En.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};En.prototype.emitReserved=En.prototype.emit;En.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};En.prototype.hasListeners=function(t){return!!this.listeners(t).length};const b1=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),sa=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),SPe="arraybuffer";function oQ(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const NPe=sa.setTimeout,CPe=sa.clearTimeout;function w1(t,e){e.useNativeTimers?(t.setTimeoutFn=NPe.bind(sa),t.clearTimeoutFn=CPe.bind(sa)):(t.setTimeoutFn=sa.setTimeout.bind(sa),t.clearTimeoutFn=sa.clearTimeout.bind(sa))}const EPe=1.33;function PPe(t){return typeof t=="string"?kPe(t):Math.ceil((t.byteLength||t.size)*EPe)}function kPe(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function lQ(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function TPe(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function APe(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class OPe extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class KM extends En{constructor(e){super(),this.writable=!1,w1(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new OPe(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=HM(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=TPe(e);return r.length?"?"+r:""}}class RPe extends KM{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};bPe(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,xPe(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=lQ()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let cQ=!1;try{cQ=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const MPe=cQ;function IPe(){}class LPe extends RPe{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}class Ao extends En{constructor(e,r,n){super(),this.createRequest=e,w1(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=oQ(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Ao.requestsCount++,Ao.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=IPe,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Ao.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}}Ao.requestsCount=0;Ao.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",K3);else if(typeof addEventListener=="function"){const t="onpagehide"in sa?"pagehide":"unload";addEventListener(t,K3,!1)}}function K3(){for(let t in Ao.requests)Ao.requests.hasOwnProperty(t)&&Ao.requests[t].abort()}const DPe=function(){const t=uQ({xdomain:!1});return t&&t.responseType!==null}();class $Pe extends LPe{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=DPe&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ao(uQ,this.uri(),e)}}function uQ(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||MPe))return new XMLHttpRequest}catch{}if(!e)try{return new sa[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const dQ=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class FPe extends KM{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=dQ?{}:oQ(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;WM(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&b1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=lQ()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const MN=sa.WebSocket||sa.MozWebSocket;class BPe extends FPe{createSocket(e,r,n){return dQ?new MN(e,r,n):r?new MN(e,r):new MN(e)}doWrite(e,r){this.ws.send(r)}}class zPe extends KM{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=_Pe(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=wPe();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&b1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const qPe={websocket:BPe,webtransport:zPe,polling:$Pe},UPe=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,VPe=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function ZT(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=UPe.exec(t||""),s={},o=14;for(;o--;)s[VPe[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=WPe(s,s.path),s.queryKey=HPe(s,s.query),s}function WPe(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function HPe(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}const YT=typeof addEventListener=="function"&&typeof removeEventListener=="function",Eb=[];YT&&addEventListener("offline",()=>{Eb.forEach(t=>t())},!1);class lu extends En{constructor(e,r){if(super(),this.binaryType=SPe,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=ZT(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=ZT(r.host).host);w1(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=APe(this.opts.query)),YT&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Eb.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=aQ,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&lu.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",lu.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=PPe(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,b1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(lu.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),YT&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Eb.indexOf(this._offlineEventListener);n!==-1&&Eb.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}lu.protocol=aQ;class KPe extends lu{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;lu.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",h=>{if(!n)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;lu.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function s(){n||(n=!0,d(),r.close(),r=null)}const o=h=>{const g=new Error("probe error: "+h);g.transport=r.name,s(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function u(h){r&&h.name!==r.name&&s()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let GPe=class extends KPe{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>qPe[i]).filter(i=>!!i)),super(e,n)}};function ZPe(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=ZT(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const YPe=typeof ArrayBuffer=="function",XPe=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,fQ=Object.prototype.toString,JPe=typeof Blob=="function"||typeof Blob<"u"&&fQ.call(Blob)==="[object BlobConstructor]",QPe=typeof File=="function"||typeof File<"u"&&fQ.call(File)==="[object FileConstructor]";function GM(t){return YPe&&(t instanceof ArrayBuffer||XPe(t))||JPe&&t instanceof Blob||QPe&&t instanceof File}function Pb(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Pb(t[r]))return!0;return!1}if(GM(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Pb(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Pb(t[r]))return!0;return!1}function e2e(t){const e=[],r=t.data,n=t;return n.data=XT(r,e),n.attachments=e.length,{packet:n,buffers:e}}function XT(t,e){if(!t)return t;if(GM(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=XT(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=XT(t[n],e));return r}return t}function t2e(t,e){return t.data=JT(t.data,e),delete t.attachments,t}function JT(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=JT(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=JT(t[r],e));return t}const r2e=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],n2e=5;var Qt;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Qt||(Qt={}));class i2e{constructor(e){this.replacer=e}encode(e){return(e.type===Qt.EVENT||e.type===Qt.ACK)&&Pb(e)?this.encodeAsBinary({type:e.type===Qt.EVENT?Qt.BINARY_EVENT:Qt.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===Qt.BINARY_EVENT||e.type===Qt.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=e2e(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function G3(t){return Object.prototype.toString.call(t)==="[object Object]"}class ZM extends En{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===Qt.BINARY_EVENT;n||r.type===Qt.BINARY_ACK?(r.type=n?Qt.EVENT:Qt.ACK,this.reconstructor=new s2e(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(GM(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(Qt[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===Qt.BINARY_EVENT||n.type===Qt.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if(ZM.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case Qt.CONNECT:return G3(r);case Qt.DISCONNECT:return r===void 0;case Qt.CONNECT_ERROR:return typeof r=="string"||G3(r);case Qt.EVENT:case Qt.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&r2e.indexOf(r[0])===-1);case Qt.ACK:case Qt.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class s2e{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=t2e(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const a2e=Object.freeze(Object.defineProperty({__proto__:null,Decoder:ZM,Encoder:i2e,get PacketType(){return Qt},protocol:n2e},Symbol.toStringTag,{value:"Module"}));function Ia(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const o2e=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class hQ extends En{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[Ia(e,"open",this.onopen.bind(this)),Ia(e,"packet",this.onpacket.bind(this)),Ia(e,"error",this.onerror.bind(this)),Ia(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,s;if(o2e.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:Qt.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,h=r.pop();this._registerAckCallback(d,h),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const s=(o,l)=>o?i(o):n(l);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Qt.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Qt.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Qt.EVENT:case Qt.BINARY_EVENT:this.onevent(e);break;case Qt.ACK:case Qt.BINARY_ACK:this.onack(e);break;case Qt.DISCONNECT:this.ondisconnect();break;case Qt.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:Qt.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Qt.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function sm(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}sm.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};sm.prototype.reset=function(){this.attempts=0};sm.prototype.setMin=function(t){this.ms=t};sm.prototype.setMax=function(t){this.max=t};sm.prototype.setJitter=function(t){this.jitter=t};class QT extends En{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,w1(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new sm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||a2e;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new GPe(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=Ia(r,"open",function(){n.onopen(),e&&e()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=Ia(r,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(Ia(e,"ping",this.onping.bind(this)),Ia(e,"data",this.ondata.bind(this)),Ia(e,"error",this.onerror.bind(this)),Ia(e,"close",this.onclose.bind(this)),Ia(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){b1(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new hQ(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const bg={};function kb(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=ZPe(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=bg[i]&&s in bg[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new QT(n,e):(bg[i]||(bg[i]=new QT(n,e)),c=bg[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(kb,{Manager:QT,Socket:hQ,io:kb,connect:kb});var G0={exports:{}},IN,Z3;function l2e(){if(Z3)return IN;Z3=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;IN=function(d,h){h=h||{};var g=typeof d;if(g==="string"&&d.length>0)return o(d);if(g==="number"&&isFinite(d))return h.long?c(d):l(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(h){var g=parseFloat(h[1]),v=(h[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(d){var h=Math.abs(d);return h>=n?Math.round(d/n)+"d":h>=r?Math.round(d/r)+"h":h>=e?Math.round(d/e)+"m":h>=t?Math.round(d/t)+"s":d+"ms"}function c(d){var h=Math.abs(d);return h>=n?u(d,h,n,"day"):h>=r?u(d,h,r,"hour"):h>=e?u(d,h,e,"minute"):h>=t?u(d,h,t,"second"):d+" ms"}function u(d,h,g,v){var y=h>=g*1.5;return Math.round(d/g)+" "+v+(y?"s":"")}return IN}var LN,Y3;function c2e(){if(Y3)return LN;Y3=1;function t(e){n.debug=n,n.default=n,n.coerce=u,n.disable=l,n.enable=s,n.enabled=c,n.humanize=l2e(),n.destroy=d,Object.keys(e).forEach(h=>{n[h]=e[h]}),n.names=[],n.skips=[],n.formatters={};function r(h){let g=0;for(let v=0;v<h.length;v++)g=(g<<5)-g+h.charCodeAt(v),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=r;function n(h){let g,v=null,y,x;function _(...S){if(!_.enabled)return;const N=_,C=Number(new Date),A=C-(g||C);N.diff=A,N.prev=g,N.curr=C,g=C,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let k=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(O,I)=>{if(O==="%%")return"%";k++;const F=n.formatters[I];if(typeof F=="function"){const H=S[k];O=F.call(N,H),S.splice(k,1),k--}return O}),n.formatArgs.call(N,S),(N.log||n.log).apply(N,S)}return _.namespace=h,_.useColors=n.useColors(),_.color=n.selectColor(h),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(y!==n.namespaces&&(y=n.namespaces,x=n.enabled(h)),x),set:S=>{v=S}}),typeof n.init=="function"&&n.init(_),_}function i(h,g){const v=n(this.namespace+(typeof g>"u"?":":g)+h);return v.log=this.log,v}function s(h){n.save(h),n.namespaces=h,n.names=[],n.skips=[];const g=(typeof h=="string"?h:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of g)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(h,g){let v=0,y=0,x=-1,_=0;for(;v<h.length;)if(y<g.length&&(g[y]===h[v]||g[y]==="*"))g[y]==="*"?(x=y,_=v,y++):(v++,y++);else if(x!==-1)y=x+1,_++,v=_;else return!1;for(;y<g.length&&g[y]==="*";)y++;return y===g.length}function l(){const h=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),h}function c(h){for(const g of n.skips)if(o(h,g))return!1;for(const g of n.names)if(o(h,g))return!0;return!1}function u(h){return h instanceof Error?h.stack||h.message:h}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return LN=t,LN}var X3;function u2e(){return X3||(X3=1,function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=l(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let h=0,g=0;u[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(h++,v==="%c"&&(g=h))}),u.splice(g,0,d)}e.log=console.debug||console.log||(()=>{});function s(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function o(){let u;try{u=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function l(){try{return localStorage}catch{}}t.exports=c2e()(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}(G0,G0.exports)),G0.exports}var DN,J3;function d2e(){return J3||(J3=1,DN=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}),DN}var Z0={exports:{}},Y0={exports:{}},$N={},wg={},Q3;function f2e(){if(Q3)return wg;Q3=1,wg.byteLength=l,wg.toByteArray=u,wg.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(v){var y=v.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=v.indexOf("=");x===-1&&(x=y);var _=x===y?0:4-x%4;return[x,_]}function l(v){var y=o(v),x=y[0],_=y[1];return(x+_)*3/4-_}function c(v,y,x){return(y+x)*3/4-x}function u(v){var y,x=o(v),_=x[0],S=x[1],N=new r(c(v,_,S)),C=0,A=S>0?_-4:_,k;for(k=0;k<A;k+=4)y=e[v.charCodeAt(k)]<<18|e[v.charCodeAt(k+1)]<<12|e[v.charCodeAt(k+2)]<<6|e[v.charCodeAt(k+3)],N[C++]=y>>16&255,N[C++]=y>>8&255,N[C++]=y&255;return S===2&&(y=e[v.charCodeAt(k)]<<2|e[v.charCodeAt(k+1)]>>4,N[C++]=y&255),S===1&&(y=e[v.charCodeAt(k)]<<10|e[v.charCodeAt(k+1)]<<4|e[v.charCodeAt(k+2)]>>2,N[C++]=y>>8&255,N[C++]=y&255),N}function d(v){return t[v>>18&63]+t[v>>12&63]+t[v>>6&63]+t[v&63]}function h(v,y,x){for(var _,S=[],N=y;N<x;N+=3)_=(v[N]<<16&16711680)+(v[N+1]<<8&65280)+(v[N+2]&255),S.push(d(_));return S.join("")}function g(v){for(var y,x=v.length,_=x%3,S=[],N=16383,C=0,A=x-_;C<A;C+=N)S.push(h(v,C,C+N>A?A:C+N));return _===1?(y=v[x-1],S.push(t[y>>2]+t[y<<4&63]+"==")):_===2&&(y=(v[x-2]<<8)+v[x-1],S.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),S.join("")}return wg}var X0={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var e5;function h2e(){return e5||(e5=1,X0.read=function(t,e,r,n,i){var s,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,d=-7,h=r?i-1:0,g=r?-1:1,v=t[e+h];for(h+=g,s=v&(1<<-d)-1,v>>=-d,d+=l;d>0;s=s*256+t[e+h],h+=g,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+h],h+=g,d-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(v?-1:1)*o*Math.pow(2,s-n)},X0.write=function(t,e,r,n,i,s){var o,l,c,u=s*8-i-1,d=(1<<u)-1,h=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,y=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+h>=1?e+=g/c:e+=g*Math.pow(2,1-h),e*c>=2&&(o++,c/=2),o+h>=d?(l=0,o=d):o+h>=1?(l=(e*c-1)*Math.pow(2,i),o=o+h):(l=e*Math.pow(2,h-1)*Math.pow(2,i),o=0));i>=8;t[r+v]=l&255,v+=y,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;t[r+v]=o&255,v+=y,o/=256,u-=8);t[r+v-y]|=x*128}),X0}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var t5;function Zy(){return t5||(t5=1,function(t){const e=f2e(),r=h2e(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const Z=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(Z,D),Z.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(Z){if(Z>i)throw new RangeError('The value "'+Z+'" is invalid for option "size"');const D=new Uint8Array(Z);return Object.setPrototypeOf(D,l.prototype),D}function l(Z,D,B){if(typeof Z=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(Z)}return c(Z,D,B)}l.poolSize=8192;function c(Z,D,B){if(typeof Z=="string")return g(Z,D);if(ArrayBuffer.isView(Z))return y(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(Ae(Z,ArrayBuffer)||Z&&Ae(Z.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ae(Z,SharedArrayBuffer)||Z&&Ae(Z.buffer,SharedArrayBuffer)))return x(Z,D,B);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const le=Z.valueOf&&Z.valueOf();if(le!=null&&le!==Z)return l.from(le,D,B);const ye=_(Z);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return l.from(Z[Symbol.toPrimitive]("string"),D,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}l.from=function(Z,D,B){return c(Z,D,B)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function d(Z,D,B){return u(Z),Z<=0?o(Z):D!==void 0?typeof B=="string"?o(Z).fill(D,B):o(Z).fill(D):o(Z)}l.alloc=function(Z,D,B){return d(Z,D,B)};function h(Z){return u(Z),o(Z<0?0:S(Z)|0)}l.allocUnsafe=function(Z){return h(Z)},l.allocUnsafeSlow=function(Z){return h(Z)};function g(Z,D){if((typeof D!="string"||D==="")&&(D="utf8"),!l.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const B=C(Z,D)|0;let le=o(B);const ye=le.write(Z,D);return ye!==B&&(le=le.slice(0,ye)),le}function v(Z){const D=Z.length<0?0:S(Z.length)|0,B=o(D);for(let le=0;le<D;le+=1)B[le]=Z[le]&255;return B}function y(Z){if(Ae(Z,Uint8Array)){const D=new Uint8Array(Z);return x(D.buffer,D.byteOffset,D.byteLength)}return v(Z)}function x(Z,D,B){if(D<0||Z.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<D+(B||0))throw new RangeError('"length" is outside of buffer bounds');let le;return D===void 0&&B===void 0?le=new Uint8Array(Z):B===void 0?le=new Uint8Array(Z,D):le=new Uint8Array(Z,D,B),Object.setPrototypeOf(le,l.prototype),le}function _(Z){if(l.isBuffer(Z)){const D=S(Z.length)|0,B=o(D);return B.length===0||Z.copy(B,0,0,D),B}if(Z.length!==void 0)return typeof Z.length!="number"||Ze(Z.length)?o(0):v(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return v(Z.data)}function S(Z){if(Z>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Z|0}function N(Z){return+Z!=Z&&(Z=0),l.alloc(+Z)}l.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==l.prototype},l.compare=function(D,B){if(Ae(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),Ae(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),!l.isBuffer(D)||!l.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===B)return 0;let le=D.length,ye=B.length;for(let Re=0,$e=Math.min(le,ye);Re<$e;++Re)if(D[Re]!==B[Re]){le=D[Re],ye=B[Re];break}return le<ye?-1:ye<le?1:0},l.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(D,B){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return l.alloc(0);let le;if(B===void 0)for(B=0,le=0;le<D.length;++le)B+=D[le].length;const ye=l.allocUnsafe(B);let Re=0;for(le=0;le<D.length;++le){let $e=D[le];if(Ae($e,Uint8Array))Re+$e.length>ye.length?(l.isBuffer($e)||($e=l.from($e)),$e.copy(ye,Re)):Uint8Array.prototype.set.call(ye,$e,Re);else if(l.isBuffer($e))$e.copy(ye,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=$e.length}return ye};function C(Z,D){if(l.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||Ae(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);const B=Z.length,le=arguments.length>2&&arguments[2]===!0;if(!le&&B===0)return 0;let ye=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return Ce(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return fe(Z).length;default:if(ye)return le?-1:Ce(Z).length;D=(""+D).toLowerCase(),ye=!0}}l.byteLength=C;function A(Z,D,B){let le=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,D>>>=0,B<=D))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return G(this,D,B);case"utf8":case"utf-8":return W(this,D,B);case"ascii":return K(this,D,B);case"latin1":case"binary":return ee(this,D,B);case"base64":return z(this,D,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ne(this,D,B);default:if(le)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),le=!0}}l.prototype._isBuffer=!0;function k(Z,D,B){const le=Z[D];Z[D]=Z[B],Z[B]=le}l.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<D;B+=2)k(this,B,B+1);return this},l.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<D;B+=4)k(this,B,B+3),k(this,B+1,B+2);return this},l.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<D;B+=8)k(this,B,B+7),k(this,B+1,B+6),k(this,B+2,B+5),k(this,B+3,B+4);return this},l.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?W(this,0,D):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(D){if(!l.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:l.compare(this,D)===0},l.prototype.inspect=function(){let D="";const B=t.INSPECT_MAX_BYTES;return D=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(D+=" ... "),"<Buffer "+D+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(D,B,le,ye,Re){if(Ae(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(B===void 0&&(B=0),le===void 0&&(le=D?D.length:0),ye===void 0&&(ye=0),Re===void 0&&(Re=this.length),B<0||le>D.length||ye<0||Re>this.length)throw new RangeError("out of range index");if(ye>=Re&&B>=le)return 0;if(ye>=Re)return-1;if(B>=le)return 1;if(B>>>=0,le>>>=0,ye>>>=0,Re>>>=0,this===D)return 0;let $e=Re-ye,yt=le-B;const lr=Math.min($e,yt),Ut=this.slice(ye,Re),Xt=D.slice(B,le);for(let Ht=0;Ht<lr;++Ht)if(Ut[Ht]!==Xt[Ht]){$e=Ut[Ht],yt=Xt[Ht];break}return $e<yt?-1:yt<$e?1:0};function P(Z,D,B,le,ye){if(Z.length===0)return-1;if(typeof B=="string"?(le=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,Ze(B)&&(B=ye?0:Z.length-1),B<0&&(B=Z.length+B),B>=Z.length){if(ye)return-1;B=Z.length-1}else if(B<0)if(ye)B=0;else return-1;if(typeof D=="string"&&(D=l.from(D,le)),l.isBuffer(D))return D.length===0?-1:O(Z,D,B,le,ye);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(Z,D,B):Uint8Array.prototype.lastIndexOf.call(Z,D,B):O(Z,[D],B,le,ye);throw new TypeError("val must be string, number or Buffer")}function O(Z,D,B,le,ye){let Re=1,$e=Z.length,yt=D.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(Z.length<2||D.length<2)return-1;Re=2,$e/=2,yt/=2,B/=2}function lr(Xt,Ht){return Re===1?Xt[Ht]:Xt.readUInt16BE(Ht*Re)}let Ut;if(ye){let Xt=-1;for(Ut=B;Ut<$e;Ut++)if(lr(Z,Ut)===lr(D,Xt===-1?0:Ut-Xt)){if(Xt===-1&&(Xt=Ut),Ut-Xt+1===yt)return Xt*Re}else Xt!==-1&&(Ut-=Ut-Xt),Xt=-1}else for(B+yt>$e&&(B=$e-yt),Ut=B;Ut>=0;Ut--){let Xt=!0;for(let Ht=0;Ht<yt;Ht++)if(lr(Z,Ut+Ht)!==lr(D,Ht)){Xt=!1;break}if(Xt)return Ut}return-1}l.prototype.includes=function(D,B,le){return this.indexOf(D,B,le)!==-1},l.prototype.indexOf=function(D,B,le){return P(this,D,B,le,!0)},l.prototype.lastIndexOf=function(D,B,le){return P(this,D,B,le,!1)};function I(Z,D,B,le){B=Number(B)||0;const ye=Z.length-B;le?(le=Number(le),le>ye&&(le=ye)):le=ye;const Re=D.length;le>Re/2&&(le=Re/2);let $e;for($e=0;$e<le;++$e){const yt=parseInt(D.substr($e*2,2),16);if(Ze(yt))return $e;Z[B+$e]=yt}return $e}function F(Z,D,B,le){return je(Ce(D,Z.length-B),Z,B,le)}function H(Z,D,B,le){return je(ot(D),Z,B,le)}function V(Z,D,B,le){return je(fe(D),Z,B,le)}function U(Z,D,B,le){return je(Dt(D,Z.length-B),Z,B,le)}l.prototype.write=function(D,B,le,ye){if(B===void 0)ye="utf8",le=this.length,B=0;else if(le===void 0&&typeof B=="string")ye=B,le=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(le)?(le=le>>>0,ye===void 0&&(ye="utf8")):(ye=le,le=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-B;if((le===void 0||le>Re)&&(le=Re),D.length>0&&(le<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");let $e=!1;for(;;)switch(ye){case"hex":return I(this,D,B,le);case"utf8":case"utf-8":return F(this,D,B,le);case"ascii":case"latin1":case"binary":return H(this,D,B,le);case"base64":return V(this,D,B,le);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,D,B,le);default:if($e)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),$e=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(Z,D,B){return D===0&&B===Z.length?e.fromByteArray(Z):e.fromByteArray(Z.slice(D,B))}function W(Z,D,B){B=Math.min(Z.length,B);const le=[];let ye=D;for(;ye<B;){const Re=Z[ye];let $e=null,yt=Re>239?4:Re>223?3:Re>191?2:1;if(ye+yt<=B){let lr,Ut,Xt,Ht;switch(yt){case 1:Re<128&&($e=Re);break;case 2:lr=Z[ye+1],(lr&192)===128&&(Ht=(Re&31)<<6|lr&63,Ht>127&&($e=Ht));break;case 3:lr=Z[ye+1],Ut=Z[ye+2],(lr&192)===128&&(Ut&192)===128&&(Ht=(Re&15)<<12|(lr&63)<<6|Ut&63,Ht>2047&&(Ht<55296||Ht>57343)&&($e=Ht));break;case 4:lr=Z[ye+1],Ut=Z[ye+2],Xt=Z[ye+3],(lr&192)===128&&(Ut&192)===128&&(Xt&192)===128&&(Ht=(Re&15)<<18|(lr&63)<<12|(Ut&63)<<6|Xt&63,Ht>65535&&Ht<1114112&&($e=Ht))}}$e===null?($e=65533,yt=1):$e>65535&&($e-=65536,le.push($e>>>10&1023|55296),$e=56320|$e&1023),le.push($e),ye+=yt}return se(le)}const J=4096;function se(Z){const D=Z.length;if(D<=J)return String.fromCharCode.apply(String,Z);let B="",le=0;for(;le<D;)B+=String.fromCharCode.apply(String,Z.slice(le,le+=J));return B}function K(Z,D,B){let le="";B=Math.min(Z.length,B);for(let ye=D;ye<B;++ye)le+=String.fromCharCode(Z[ye]&127);return le}function ee(Z,D,B){let le="";B=Math.min(Z.length,B);for(let ye=D;ye<B;++ye)le+=String.fromCharCode(Z[ye]);return le}function G(Z,D,B){const le=Z.length;(!D||D<0)&&(D=0),(!B||B<0||B>le)&&(B=le);let ye="";for(let Re=D;Re<B;++Re)ye+=Xe[Z[Re]];return ye}function ne(Z,D,B){const le=Z.slice(D,B);let ye="";for(let Re=0;Re<le.length-1;Re+=2)ye+=String.fromCharCode(le[Re]+le[Re+1]*256);return ye}l.prototype.slice=function(D,B){const le=this.length;D=~~D,B=B===void 0?le:~~B,D<0?(D+=le,D<0&&(D=0)):D>le&&(D=le),B<0?(B+=le,B<0&&(B=0)):B>le&&(B=le),B<D&&(B=D);const ye=this.subarray(D,B);return Object.setPrototypeOf(ye,l.prototype),ye};function Y(Z,D,B){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+D>B)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(D,B,le){D=D>>>0,B=B>>>0,le||Y(D,B,this.length);let ye=this[D],Re=1,$e=0;for(;++$e<B&&(Re*=256);)ye+=this[D+$e]*Re;return ye},l.prototype.readUintBE=l.prototype.readUIntBE=function(D,B,le){D=D>>>0,B=B>>>0,le||Y(D,B,this.length);let ye=this[D+--B],Re=1;for(;B>0&&(Re*=256);)ye+=this[D+--B]*Re;return ye},l.prototype.readUint8=l.prototype.readUInt8=function(D,B){return D=D>>>0,B||Y(D,1,this.length),this[D]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(D,B){return D=D>>>0,B||Y(D,2,this.length),this[D]|this[D+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(D,B){return D=D>>>0,B||Y(D,2,this.length),this[D]<<8|this[D+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(D,B){return D=D>>>0,B||Y(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(D,B){return D=D>>>0,B||Y(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},l.prototype.readBigUInt64LE=me(function(D){D=D>>>0,_e(D,"offset");const B=this[D],le=this[D+7];(B===void 0||le===void 0)&&we(D,this.length-8);const ye=B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,Re=this[++D]+this[++D]*2**8+this[++D]*2**16+le*2**24;return BigInt(ye)+(BigInt(Re)<<BigInt(32))}),l.prototype.readBigUInt64BE=me(function(D){D=D>>>0,_e(D,"offset");const B=this[D],le=this[D+7];(B===void 0||le===void 0)&&we(D,this.length-8);const ye=B*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],Re=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le;return(BigInt(ye)<<BigInt(32))+BigInt(Re)}),l.prototype.readIntLE=function(D,B,le){D=D>>>0,B=B>>>0,le||Y(D,B,this.length);let ye=this[D],Re=1,$e=0;for(;++$e<B&&(Re*=256);)ye+=this[D+$e]*Re;return Re*=128,ye>=Re&&(ye-=Math.pow(2,8*B)),ye},l.prototype.readIntBE=function(D,B,le){D=D>>>0,B=B>>>0,le||Y(D,B,this.length);let ye=B,Re=1,$e=this[D+--ye];for(;ye>0&&(Re*=256);)$e+=this[D+--ye]*Re;return Re*=128,$e>=Re&&($e-=Math.pow(2,8*B)),$e},l.prototype.readInt8=function(D,B){return D=D>>>0,B||Y(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},l.prototype.readInt16LE=function(D,B){D=D>>>0,B||Y(D,2,this.length);const le=this[D]|this[D+1]<<8;return le&32768?le|4294901760:le},l.prototype.readInt16BE=function(D,B){D=D>>>0,B||Y(D,2,this.length);const le=this[D+1]|this[D]<<8;return le&32768?le|4294901760:le},l.prototype.readInt32LE=function(D,B){return D=D>>>0,B||Y(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},l.prototype.readInt32BE=function(D,B){return D=D>>>0,B||Y(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},l.prototype.readBigInt64LE=me(function(D){D=D>>>0,_e(D,"offset");const B=this[D],le=this[D+7];(B===void 0||le===void 0)&&we(D,this.length-8);const ye=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(le<<24);return(BigInt(ye)<<BigInt(32))+BigInt(B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),l.prototype.readBigInt64BE=me(function(D){D=D>>>0,_e(D,"offset");const B=this[D],le=this[D+7];(B===void 0||le===void 0)&&we(D,this.length-8);const ye=(B<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ye)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+le)}),l.prototype.readFloatLE=function(D,B){return D=D>>>0,B||Y(D,4,this.length),r.read(this,D,!0,23,4)},l.prototype.readFloatBE=function(D,B){return D=D>>>0,B||Y(D,4,this.length),r.read(this,D,!1,23,4)},l.prototype.readDoubleLE=function(D,B){return D=D>>>0,B||Y(D,8,this.length),r.read(this,D,!0,52,8)},l.prototype.readDoubleBE=function(D,B){return D=D>>>0,B||Y(D,8,this.length),r.read(this,D,!1,52,8)};function oe(Z,D,B,le,ye,Re){if(!l.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ye||D<Re)throw new RangeError('"value" argument is out of bounds');if(B+le>Z.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(D,B,le,ye){if(D=+D,B=B>>>0,le=le>>>0,!ye){const yt=Math.pow(2,8*le)-1;oe(this,D,B,le,yt,0)}let Re=1,$e=0;for(this[B]=D&255;++$e<le&&(Re*=256);)this[B+$e]=D/Re&255;return B+le},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(D,B,le,ye){if(D=+D,B=B>>>0,le=le>>>0,!ye){const yt=Math.pow(2,8*le)-1;oe(this,D,B,le,yt,0)}let Re=le-1,$e=1;for(this[B+Re]=D&255;--Re>=0&&($e*=256);)this[B+Re]=D/$e&255;return B+le},l.prototype.writeUint8=l.prototype.writeUInt8=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,1,255,0),this[B]=D&255,B+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,2,65535,0),this[B]=D&255,this[B+1]=D>>>8,B+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,2,65535,0),this[B]=D>>>8,this[B+1]=D&255,B+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,4,4294967295,0),this[B+3]=D>>>24,this[B+2]=D>>>16,this[B+1]=D>>>8,this[B]=D&255,B+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,4,4294967295,0),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4};function xe(Z,D,B,le,ye){X(D,le,ye,Z,B,7);let Re=Number(D&BigInt(4294967295));Z[B++]=Re,Re=Re>>8,Z[B++]=Re,Re=Re>>8,Z[B++]=Re,Re=Re>>8,Z[B++]=Re;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return Z[B++]=$e,$e=$e>>8,Z[B++]=$e,$e=$e>>8,Z[B++]=$e,$e=$e>>8,Z[B++]=$e,B}function Ne(Z,D,B,le,ye){X(D,le,ye,Z,B,7);let Re=Number(D&BigInt(4294967295));Z[B+7]=Re,Re=Re>>8,Z[B+6]=Re,Re=Re>>8,Z[B+5]=Re,Re=Re>>8,Z[B+4]=Re;let $e=Number(D>>BigInt(32)&BigInt(4294967295));return Z[B+3]=$e,$e=$e>>8,Z[B+2]=$e,$e=$e>>8,Z[B+1]=$e,$e=$e>>8,Z[B]=$e,B+8}l.prototype.writeBigUInt64LE=me(function(D,B=0){return xe(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=me(function(D,B=0){return Ne(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(D,B,le,ye){if(D=+D,B=B>>>0,!ye){const lr=Math.pow(2,8*le-1);oe(this,D,B,le,lr-1,-lr)}let Re=0,$e=1,yt=0;for(this[B]=D&255;++Re<le&&($e*=256);)D<0&&yt===0&&this[B+Re-1]!==0&&(yt=1),this[B+Re]=(D/$e>>0)-yt&255;return B+le},l.prototype.writeIntBE=function(D,B,le,ye){if(D=+D,B=B>>>0,!ye){const lr=Math.pow(2,8*le-1);oe(this,D,B,le,lr-1,-lr)}let Re=le-1,$e=1,yt=0;for(this[B+Re]=D&255;--Re>=0&&($e*=256);)D<0&&yt===0&&this[B+Re+1]!==0&&(yt=1),this[B+Re]=(D/$e>>0)-yt&255;return B+le},l.prototype.writeInt8=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,1,127,-128),D<0&&(D=255+D+1),this[B]=D&255,B+1},l.prototype.writeInt16LE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,2,32767,-32768),this[B]=D&255,this[B+1]=D>>>8,B+2},l.prototype.writeInt16BE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,2,32767,-32768),this[B]=D>>>8,this[B+1]=D&255,B+2},l.prototype.writeInt32LE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,4,2147483647,-2147483648),this[B]=D&255,this[B+1]=D>>>8,this[B+2]=D>>>16,this[B+3]=D>>>24,B+4},l.prototype.writeInt32BE=function(D,B,le){return D=+D,B=B>>>0,le||oe(this,D,B,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4},l.prototype.writeBigInt64LE=me(function(D,B=0){return xe(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=me(function(D,B=0){return Ne(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Le(Z,D,B,le,ye,Re){if(B+le>Z.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function ce(Z,D,B,le,ye){return D=+D,B=B>>>0,ye||Le(Z,D,B,4),r.write(Z,D,B,le,23,4),B+4}l.prototype.writeFloatLE=function(D,B,le){return ce(this,D,B,!0,le)},l.prototype.writeFloatBE=function(D,B,le){return ce(this,D,B,!1,le)};function ae(Z,D,B,le,ye){return D=+D,B=B>>>0,ye||Le(Z,D,B,8),r.write(Z,D,B,le,52,8),B+8}l.prototype.writeDoubleLE=function(D,B,le){return ae(this,D,B,!0,le)},l.prototype.writeDoubleBE=function(D,B,le){return ae(this,D,B,!1,le)},l.prototype.copy=function(D,B,le,ye){if(!l.isBuffer(D))throw new TypeError("argument should be a Buffer");if(le||(le=0),!ye&&ye!==0&&(ye=this.length),B>=D.length&&(B=D.length),B||(B=0),ye>0&&ye<le&&(ye=le),ye===le||D.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(le<0||le>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),D.length-B<ye-le&&(ye=D.length-B+le);const Re=ye-le;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,le,ye):Uint8Array.prototype.set.call(D,this.subarray(le,ye),B),Re},l.prototype.fill=function(D,B,le,ye){if(typeof D=="string"){if(typeof B=="string"?(ye=B,B=0,le=this.length):typeof le=="string"&&(ye=le,le=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!l.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(D.length===1){const $e=D.charCodeAt(0);(ye==="utf8"&&$e<128||ye==="latin1")&&(D=$e)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(B<0||this.length<B||this.length<le)throw new RangeError("Out of range index");if(le<=B)return this;B=B>>>0,le=le===void 0?this.length:le>>>0,D||(D=0);let Re;if(typeof D=="number")for(Re=B;Re<le;++Re)this[Re]=D;else{const $e=l.isBuffer(D)?D:l.from(D,ye),yt=$e.length;if(yt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Re=0;Re<le-B;++Re)this[Re+B]=$e[Re%yt]}return this};const ge={};function he(Z,D,B){ge[Z]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Z}]`,this.stack,delete this.name}get code(){return Z}set code(ye){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ye,writable:!0})}toString(){return`${this.name} [${Z}]: ${this.message}`}}}he("ERR_BUFFER_OUT_OF_BOUNDS",function(Z){return Z?`${Z} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),he("ERR_INVALID_ARG_TYPE",function(Z,D){return`The "${Z}" argument must be of type number. Received type ${typeof D}`},TypeError),he("ERR_OUT_OF_RANGE",function(Z,D,B){let le=`The value of "${Z}" is out of range.`,ye=B;return Number.isInteger(B)&&Math.abs(B)>2**32?ye=Pe(String(B)):typeof B=="bigint"&&(ye=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(ye=Pe(ye)),ye+="n"),le+=` It must be ${D}. Received ${ye}`,le},RangeError);function Pe(Z){let D="",B=Z.length;const le=Z[0]==="-"?1:0;for(;B>=le+4;B-=3)D=`_${Z.slice(B-3,B)}${D}`;return`${Z.slice(0,B)}${D}`}function te(Z,D,B){_e(D,"offset"),(Z[D]===void 0||Z[D+B]===void 0)&&we(D,Z.length-(B+1))}function X(Z,D,B,le,ye,Re){if(Z>B||Z<D){const $e=typeof D=="bigint"?"n":"";let yt;throw D===0||D===BigInt(0)?yt=`>= 0${$e} and < 2${$e} ** ${(Re+1)*8}${$e}`:yt=`>= -(2${$e} ** ${(Re+1)*8-1}${$e}) and < 2 ** ${(Re+1)*8-1}${$e}`,new ge.ERR_OUT_OF_RANGE("value",yt,Z)}te(le,ye,Re)}function _e(Z,D){if(typeof Z!="number")throw new ge.ERR_INVALID_ARG_TYPE(D,"number",Z)}function we(Z,D,B){throw Math.floor(Z)!==Z?(_e(Z,B),new ge.ERR_OUT_OF_RANGE("offset","an integer",Z)):D<0?new ge.ERR_BUFFER_OUT_OF_BOUNDS:new ge.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,Z)}const We=/[^+/0-9A-Za-z-_]/g;function Ue(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(We,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function Ce(Z,D){D=D||1/0;let B;const le=Z.length;let ye=null;const Re=[];for(let $e=0;$e<le;++$e){if(B=Z.charCodeAt($e),B>55295&&B<57344){if(!ye){if(B>56319){(D-=3)>-1&&Re.push(239,191,189);continue}else if($e+1===le){(D-=3)>-1&&Re.push(239,191,189);continue}ye=B;continue}if(B<56320){(D-=3)>-1&&Re.push(239,191,189),ye=B;continue}B=(ye-55296<<10|B-56320)+65536}else ye&&(D-=3)>-1&&Re.push(239,191,189);if(ye=null,B<128){if((D-=1)<0)break;Re.push(B)}else if(B<2048){if((D-=2)<0)break;Re.push(B>>6|192,B&63|128)}else if(B<65536){if((D-=3)<0)break;Re.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((D-=4)<0)break;Re.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return Re}function ot(Z){const D=[];for(let B=0;B<Z.length;++B)D.push(Z.charCodeAt(B)&255);return D}function Dt(Z,D){let B,le,ye;const Re=[];for(let $e=0;$e<Z.length&&!((D-=2)<0);++$e)B=Z.charCodeAt($e),le=B>>8,ye=B%256,Re.push(ye),Re.push(le);return Re}function fe(Z){return e.toByteArray(Ue(Z))}function je(Z,D,B,le){let ye;for(ye=0;ye<le&&!(ye+B>=D.length||ye>=Z.length);++ye)D[ye+B]=Z[ye];return ye}function Ae(Z,D){return Z instanceof D||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===D.name}function Ze(Z){return Z!==Z}const Xe=function(){const Z="0123456789abcdef",D=new Array(256);for(let B=0;B<16;++B){const le=B*16;for(let ye=0;ye<16;++ye)D[le+ye]=Z[B]+Z[ye]}return D}();function me(Z){return typeof BigInt>"u"?De:Z}function De(){throw new Error("BigInt not supported")}}($N)),$N}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var r5;function pQ(){return r5||(r5=1,function(t,e){var r=Zy(),n=r.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,l,c){return n(o,l,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},s.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(Y0,Y0.exports)),Y0.exports}var n5;function p2e(){if(n5)return Z0.exports;n5=1;var t=65536,e=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=pQ().Buffer,i=Os.crypto||Os.msCrypto;i&&i.getRandomValues?Z0.exports=s:Z0.exports=r;function s(o,l){if(o>e)throw new RangeError("requested too many random bytes");var c=n.allocUnsafe(o);if(o>0)if(o>t)for(var u=0;u<o;u+=t)i.getRandomValues(c.slice(u,u+t));else i.getRandomValues(c);return typeof l=="function"?process.nextTick(function(){l(null,c)}):c}return Z0.exports}var J0={exports:{}};const m2e={},g2e=Object.freeze(Object.defineProperty({__proto__:null,default:m2e},Symbol.toStringTag,{value:"Module"})),jw=FV(g2e);var FN,i5;function mQ(){return i5||(i5=1,FN=jw.EventEmitter),FN}var BN,s5;function v2e(){if(s5)return BN;s5=1;function t(y,x){var _=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);x&&(S=S.filter(function(N){return Object.getOwnPropertyDescriptor(y,N).enumerable})),_.push.apply(_,S)}return _}function e(y){for(var x=1;x<arguments.length;x++){var _=arguments[x]!=null?arguments[x]:{};x%2?t(Object(_),!0).forEach(function(S){r(y,S,_[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(_)):t(Object(_)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(_,S))})}return y}function r(y,x,_){return x=o(x),x in y?Object.defineProperty(y,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[x]=_,y}function n(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function i(y,x){for(var _=0;_<x.length;_++){var S=x[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,o(S.key),S)}}function s(y,x,_){return x&&i(y.prototype,x),Object.defineProperty(y,"prototype",{writable:!1}),y}function o(y){var x=l(y,"string");return typeof x=="symbol"?x:String(x)}function l(y,x){if(typeof y!="object"||y===null)return y;var _=y[Symbol.toPrimitive];if(_!==void 0){var S=_.call(y,x);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=Zy(),u=c.Buffer,d=jw,h=d.inspect,g=h&&h.custom||"inspect";function v(y,x,_){u.prototype.copy.call(y,x,_)}return BN=function(){function y(){n(this,y),this.head=null,this.tail=null,this.length=0}return s(y,[{key:"push",value:function(_){var S={data:_,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(_){var S={data:_,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var S=this.head,N=""+S.data;S=S.next;)N+=_+S.data;return N}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var S=u.allocUnsafe(_>>>0),N=this.head,C=0;N;)v(N.data,S,C),C+=N.data.length,N=N.next;return S}},{key:"consume",value:function(_,S){var N;return _<this.head.data.length?(N=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?N=this.shift():N=S?this._getString(_):this._getBuffer(_),N}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var S=this.head,N=1,C=S.data;for(_-=C.length;S=S.next;){var A=S.data,k=_>A.length?A.length:_;if(k===A.length?C+=A:C+=A.slice(0,_),_-=k,_===0){k===A.length?(++N,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=A.slice(k));break}++N}return this.length-=N,C}},{key:"_getBuffer",value:function(_){var S=u.allocUnsafe(_),N=this.head,C=1;for(N.data.copy(S),_-=N.data.length;N=N.next;){var A=N.data,k=_>A.length?A.length:_;if(A.copy(S,S.length-_,0,k),_-=k,_===0){k===A.length?(++C,N.next?this.head=N.next:this.head=this.tail=null):(this.head=N,N.data=A.slice(k));break}++C}return this.length-=C,S}},{key:g,value:function(_,S){return h(this,e(e({},S),{},{depth:0,customInspect:!1}))}}]),y}(),BN}var zN,a5;function gQ(){if(a5)return zN;a5=1;function t(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(h){!l&&h?c._writableState?c._writableState.errorEmitted?process.nextTick(r,c):(c._writableState.errorEmitted=!0,process.nextTick(e,c,h)):process.nextTick(e,c,h):l?(process.nextTick(r,c),l(h)):process.nextTick(r,c)}),this)}function e(o,l){i(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return zN={destroy:t,undestroy:n,errorOrDestroy:s},zN}var qN={},o5;function am(){if(o5)return qN;o5=1;function t(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var e={};function r(l,c,u){u||(u=Error);function d(g,v,y){return typeof c=="string"?c:c(g,v,y)}var h=function(g){t(v,g);function v(y,x,_){return g.call(this,d(y,x,_))||this}return v}(u);h.prototype.name=u.name,h.prototype.code=l,e[l]=h}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(d){return String(d)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function s(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var d;typeof c=="string"&&i(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var h;if(s(l," argument"))h="The ".concat(l," ").concat(d," ").concat(n(c,"type"));else{var g=o(l,".")?"property":"argument";h='The "'.concat(l,'" ').concat(g," ").concat(d," ").concat(n(c,"type"))}return h+=". Received type ".concat(typeof u),h},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),qN.codes=e,qN}var UN,l5;function vQ(){if(l5)return UN;l5=1;var t=am().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var l=e(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?s:"highWaterMark";throw new t(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return UN={getHighWaterMark:r},UN}var Q0={exports:{}},c5;function Yy(){return c5||(c5=1,typeof Object.create=="function"?Q0.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Q0.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Q0.exports}var VN,u5;function y2e(){if(u5)return VN;u5=1,VN=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!Os.localStorage)return!1}catch{return!1}var n=Os.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return VN}var WN,d5;function yQ(){if(d5)return WN;d5=1,WN=I;function t(ce){var ae=this;this.next=null,this.entry=null,this.finish=function(){Le(ae,ce)}}var e;I.WritableState=P;var r={deprecate:y2e()},n=mQ(),i=Zy().Buffer,s=(typeof Os<"u"?Os:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(ce){return i.from(ce)}function l(ce){return i.isBuffer(ce)||ce instanceof s}var c=gQ(),u=vQ(),d=u.getHighWaterMark,h=am().codes,g=h.ERR_INVALID_ARG_TYPE,v=h.ERR_METHOD_NOT_IMPLEMENTED,y=h.ERR_MULTIPLE_CALLBACK,x=h.ERR_STREAM_CANNOT_PIPE,_=h.ERR_STREAM_DESTROYED,S=h.ERR_STREAM_NULL_VALUES,N=h.ERR_STREAM_WRITE_AFTER_END,C=h.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;Yy()(I,n);function k(){}function P(ce,ae,ge){e=e||mp(),ce=ce||{},typeof ge!="boolean"&&(ge=ae instanceof e),this.objectMode=!!ce.objectMode,ge&&(this.objectMode=this.objectMode||!!ce.writableObjectMode),this.highWaterMark=d(this,ce,"writableHighWaterMark",ge),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var he=ce.decodeStrings===!1;this.decodeStrings=!he,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Pe){se(ae,Pe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}P.prototype.getBuffer=function(){for(var ae=this.bufferedRequest,ge=[];ae;)ge.push(ae),ae=ae.next;return ge},function(){try{Object.defineProperty(P.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(ae){return O.call(this,ae)?!0:this!==I?!1:ae&&ae._writableState instanceof P}})):O=function(ae){return ae instanceof this};function I(ce){e=e||mp();var ae=this instanceof e;if(!ae&&!O.call(I,this))return new I(ce);this._writableState=new P(ce,this,ae),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),n.call(this)}I.prototype.pipe=function(){A(this,new x)};function F(ce,ae){var ge=new N;A(ce,ge),process.nextTick(ae,ge)}function H(ce,ae,ge,he){var Pe;return ge===null?Pe=new S:typeof ge!="string"&&!ae.objectMode&&(Pe=new g("chunk",["string","Buffer"],ge)),Pe?(A(ce,Pe),process.nextTick(he,Pe),!1):!0}I.prototype.write=function(ce,ae,ge){var he=this._writableState,Pe=!1,te=!he.objectMode&&l(ce);return te&&!i.isBuffer(ce)&&(ce=o(ce)),typeof ae=="function"&&(ge=ae,ae=null),te?ae="buffer":ae||(ae=he.defaultEncoding),typeof ge!="function"&&(ge=k),he.ending?F(this,ge):(te||H(this,he,ce,ge))&&(he.pendingcb++,Pe=U(this,he,te,ce,ae,ge)),Pe},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&G(this,ce))},I.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=ae.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ae+"").toLowerCase())>-1))throw new C(ae);return this._writableState.defaultEncoding=ae,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function V(ce,ae,ge){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof ae=="string"&&(ae=i.from(ae,ge)),ae}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function U(ce,ae,ge,he,Pe,te){if(!ge){var X=V(ae,he,Pe);he!==X&&(ge=!0,Pe="buffer",he=X)}var _e=ae.objectMode?1:he.length;ae.length+=_e;var we=ae.length<ae.highWaterMark;if(we||(ae.needDrain=!0),ae.writing||ae.corked){var We=ae.lastBufferedRequest;ae.lastBufferedRequest={chunk:he,encoding:Pe,isBuf:ge,callback:te,next:null},We?We.next=ae.lastBufferedRequest:ae.bufferedRequest=ae.lastBufferedRequest,ae.bufferedRequestCount+=1}else z(ce,ae,!1,_e,he,Pe,te);return we}function z(ce,ae,ge,he,Pe,te,X){ae.writelen=he,ae.writecb=X,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new _("write")):ge?ce._writev(Pe,ae.onwrite):ce._write(Pe,te,ae.onwrite),ae.sync=!1}function W(ce,ae,ge,he,Pe){--ae.pendingcb,ge?(process.nextTick(Pe,he),process.nextTick(xe,ce,ae),ce._writableState.errorEmitted=!0,A(ce,he)):(Pe(he),ce._writableState.errorEmitted=!0,A(ce,he),xe(ce,ae))}function J(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function se(ce,ae){var ge=ce._writableState,he=ge.sync,Pe=ge.writecb;if(typeof Pe!="function")throw new y;if(J(ge),ae)W(ce,ge,he,ae,Pe);else{var te=ne(ge)||ce.destroyed;!te&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&G(ce,ge),he?process.nextTick(K,ce,ge,te,Pe):K(ce,ge,te,Pe)}}function K(ce,ae,ge,he){ge||ee(ce,ae),ae.pendingcb--,he(),xe(ce,ae)}function ee(ce,ae){ae.length===0&&ae.needDrain&&(ae.needDrain=!1,ce.emit("drain"))}function G(ce,ae){ae.bufferProcessing=!0;var ge=ae.bufferedRequest;if(ce._writev&&ge&&ge.next){var he=ae.bufferedRequestCount,Pe=new Array(he),te=ae.corkedRequestsFree;te.entry=ge;for(var X=0,_e=!0;ge;)Pe[X]=ge,ge.isBuf||(_e=!1),ge=ge.next,X+=1;Pe.allBuffers=_e,z(ce,ae,!0,ae.length,Pe,"",te.finish),ae.pendingcb++,ae.lastBufferedRequest=null,te.next?(ae.corkedRequestsFree=te.next,te.next=null):ae.corkedRequestsFree=new t(ae),ae.bufferedRequestCount=0}else{for(;ge;){var we=ge.chunk,We=ge.encoding,Ue=ge.callback,Ce=ae.objectMode?1:we.length;if(z(ce,ae,!1,Ce,we,We,Ue),ge=ge.next,ae.bufferedRequestCount--,ae.writing)break}ge===null&&(ae.lastBufferedRequest=null)}ae.bufferedRequest=ge,ae.bufferProcessing=!1}I.prototype._write=function(ce,ae,ge){ge(new v("_write()"))},I.prototype._writev=null,I.prototype.end=function(ce,ae,ge){var he=this._writableState;return typeof ce=="function"?(ge=ce,ce=null,ae=null):typeof ae=="function"&&(ge=ae,ae=null),ce!=null&&this.write(ce,ae),he.corked&&(he.corked=1,this.uncork()),he.ending||Ne(this,he,ge),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function ne(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function Y(ce,ae){ce._final(function(ge){ae.pendingcb--,ge&&A(ce,ge),ae.prefinished=!0,ce.emit("prefinish"),xe(ce,ae)})}function oe(ce,ae){!ae.prefinished&&!ae.finalCalled&&(typeof ce._final=="function"&&!ae.destroyed?(ae.pendingcb++,ae.finalCalled=!0,process.nextTick(Y,ce,ae)):(ae.prefinished=!0,ce.emit("prefinish")))}function xe(ce,ae){var ge=ne(ae);if(ge&&(oe(ce,ae),ae.pendingcb===0&&(ae.finished=!0,ce.emit("finish"),ae.autoDestroy))){var he=ce._readableState;(!he||he.autoDestroy&&he.endEmitted)&&ce.destroy()}return ge}function Ne(ce,ae,ge){ae.ending=!0,xe(ce,ae),ge&&(ae.finished?process.nextTick(ge):ce.once("finish",ge)),ae.ended=!0,ce.writable=!1}function Le(ce,ae,ge){var he=ce.entry;for(ce.entry=null;he;){var Pe=he.callback;ae.pendingcb--,Pe(ge),he=he.next}ae.corkedRequestsFree.next=ce}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ae){this._writableState&&(this._writableState.destroyed=ae)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(ce,ae){ae(ce)},WN}var HN,f5;function mp(){if(f5)return HN;f5=1;var t=Object.keys||function(u){var d=[];for(var h in u)d.push(h);return d};HN=o;var e=xQ(),r=yQ();Yy()(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),HN}var KN={},h5;function p5(){if(h5)return KN;h5=1;var t=pQ().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var N;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(N)return;S=(""+S).toLowerCase(),N=!0}}function n(S){var N=r(S);if(typeof N!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return N||S}KN.StringDecoder=i;function i(S){this.encoding=n(S);var N;switch(this.encoding){case"utf16le":this.text=h,this.end=g,N=4;break;case"utf8":this.fillLast=c,N=4;break;case"base64":this.text=v,this.end=y,N=3;break;default:this.write=x,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(N)}i.prototype.write=function(S){if(S.length===0)return"";var N,C;if(this.lastNeed){if(N=this.fillLast(S),N===void 0)return"";C=this.lastNeed,this.lastNeed=0}else C=0;return C<S.length?N?N+this.text(S,C):this.text(S,C):N||""},i.prototype.end=d,i.prototype.text=u,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function o(S,N,C){var A=N.length-1;if(A<C)return 0;var k=s(N[A]);return k>=0?(k>0&&(S.lastNeed=k-1),k):--A<C||k===-2?0:(k=s(N[A]),k>=0?(k>0&&(S.lastNeed=k-2),k):--A<C||k===-2?0:(k=s(N[A]),k>=0?(k>0&&(k===2?k=0:S.lastNeed=k-3),k):0))}function l(S,N,C){if((N[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return S.lastNeed=2,"�"}}function c(S){var N=this.lastTotal-this.lastNeed,C=l(this,S);if(C!==void 0)return C;if(this.lastNeed<=S.length)return S.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,N,0,S.length),this.lastNeed-=S.length}function u(S,N){var C=o(this,S,N);if(!this.lastNeed)return S.toString("utf8",N);this.lastTotal=C;var A=S.length-(C-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",N,A)}function d(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+"�":N}function h(S,N){if((S.length-N)%2===0){var C=S.toString("utf16le",N);if(C){var A=C.charCodeAt(C.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],C.slice(0,-1)}return C}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",N,S.length-1)}function g(S){var N=S&&S.length?this.write(S):"";if(this.lastNeed){var C=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,C)}return N}function v(S,N){var C=(S.length-N)%3;return C===0?S.toString("base64",N):(this.lastNeed=3-C,this.lastTotal=3,C===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",N,S.length-C))}function y(S){var N=S&&S.length?this.write(S):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function x(S){return S.toString(this.encoding)}function _(S){return S&&S.length?this.write(S):""}return KN}var GN,m5;function YM(){if(m5)return GN;m5=1;var t=am().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=e(l||r);var c=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,d=function(){s.writable||g()},h=s._writableState&&s._writableState.finished,g=function(){u=!1,h=!0,c||l.call(s)},v=s._readableState&&s._readableState.endEmitted,y=function(){c=!1,v=!0,u||l.call(s)},x=function(C){l.call(s,C)},_=function(){var C;if(c&&!v)return(!s._readableState||!s._readableState.ended)&&(C=new t),l.call(s,C);if(u&&!h)return(!s._writableState||!s._writableState.ended)&&(C=new t),l.call(s,C)},S=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",_),s.req?S():s.on("request",S)):u&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",y),s.on("finish",g),o.error!==!1&&s.on("error",x),s.on("close",_),function(){s.removeListener("complete",g),s.removeListener("abort",_),s.removeListener("request",S),s.req&&s.req.removeListener("finish",g),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",g),s.removeListener("end",y),s.removeListener("error",x),s.removeListener("close",_)}}return GN=i,GN}var ZN,g5;function x2e(){if(g5)return ZN;g5=1;var t;function e(C,A,k){return A=r(A),A in C?Object.defineProperty(C,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):C[A]=k,C}function r(C){var A=n(C,"string");return typeof A=="symbol"?A:String(A)}function n(C,A){if(typeof C!="object"||C===null)return C;var k=C[Symbol.toPrimitive];if(k!==void 0){var P=k.call(C,A);if(typeof P!="object")return P;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(C)}var i=YM(),s=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function g(C,A){return{value:C,done:A}}function v(C){var A=C[s];if(A!==null){var k=C[h].read();k!==null&&(C[u]=null,C[s]=null,C[o]=null,A(g(k,!1)))}}function y(C){process.nextTick(v,C)}function x(C,A){return function(k,P){C.then(function(){if(A[c]){k(g(void 0,!0));return}A[d](k,P)},P)}}var _=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var A=this,k=this[l];if(k!==null)return Promise.reject(k);if(this[c])return Promise.resolve(g(void 0,!0));if(this[h].destroyed)return new Promise(function(F,H){process.nextTick(function(){A[l]?H(A[l]):F(g(void 0,!0))})});var P=this[u],O;if(P)O=new Promise(x(P,this));else{var I=this[h].read();if(I!==null)return Promise.resolve(g(I,!1));O=new Promise(this[d])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var A=this;return new Promise(function(k,P){A[h].destroy(null,function(O){if(O){P(O);return}k(g(void 0,!0))})})}),t),_),N=function(A){var k,P=Object.create(S,(k={},e(k,h,{value:A,writable:!0}),e(k,s,{value:null,writable:!0}),e(k,o,{value:null,writable:!0}),e(k,l,{value:null,writable:!0}),e(k,c,{value:A._readableState.endEmitted,writable:!0}),e(k,d,{value:function(I,F){var H=P[h].read();H?(P[u]=null,P[s]=null,P[o]=null,I(g(H,!1))):(P[s]=I,P[o]=F)},writable:!0}),k));return P[u]=null,i(A,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=P[o];I!==null&&(P[u]=null,P[s]=null,P[o]=null,I(O)),P[l]=O;return}var F=P[s];F!==null&&(P[u]=null,P[s]=null,P[o]=null,F(g(void 0,!0))),P[c]=!0}),A.on("readable",y.bind(null,P)),P};return ZN=N,ZN}var YN,v5;function b2e(){return v5||(v5=1,YN=function(){throw new Error("Readable.from is not available in the browser")}),YN}var XN,y5;function xQ(){if(y5)return XN;y5=1,XN=F;var t;F.ReadableState=I,jw.EventEmitter;var e=function(X,_e){return X.listeners(_e).length},r=mQ(),n=Zy().Buffer,i=(typeof Os<"u"?Os:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(te){return n.from(te)}function o(te){return n.isBuffer(te)||te instanceof i}var l=jw,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=v2e(),d=gQ(),h=vQ(),g=h.getHighWaterMark,v=am().codes,y=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,C,A;Yy()(F,r);var k=d.errorOrDestroy,P=["error","close","destroy","pause","resume"];function O(te,X,_e){if(typeof te.prependListener=="function")return te.prependListener(X,_e);!te._events||!te._events[X]?te.on(X,_e):Array.isArray(te._events[X])?te._events[X].unshift(_e):te._events[X]=[_e,te._events[X]]}function I(te,X,_e){t=t||mp(),te=te||{},typeof _e!="boolean"&&(_e=X instanceof t),this.objectMode=!!te.objectMode,_e&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=g(this,te,"readableHighWaterMark",_e),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(N||(N=p5().StringDecoder),this.decoder=new N(te.encoding),this.encoding=te.encoding)}function F(te){if(t=t||mp(),!(this instanceof F))return new F(te);var X=this instanceof t;this._readableState=new I(te,this,X),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),r.call(this)}Object.defineProperty(F.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(X){this._readableState&&(this._readableState.destroyed=X)}}),F.prototype.destroy=d.destroy,F.prototype._undestroy=d.undestroy,F.prototype._destroy=function(te,X){X(te)},F.prototype.push=function(te,X){var _e=this._readableState,we;return _e.objectMode?we=!0:typeof te=="string"&&(X=X||_e.defaultEncoding,X!==_e.encoding&&(te=n.from(te,X),X=""),we=!0),H(this,te,X,!1,we)},F.prototype.unshift=function(te){return H(this,te,null,!0,!1)};function H(te,X,_e,we,We){c("readableAddChunk",X);var Ue=te._readableState;if(X===null)Ue.reading=!1,se(te,Ue);else{var Ce;if(We||(Ce=U(Ue,X)),Ce)k(te,Ce);else if(Ue.objectMode||X&&X.length>0)if(typeof X!="string"&&!Ue.objectMode&&Object.getPrototypeOf(X)!==n.prototype&&(X=s(X)),we)Ue.endEmitted?k(te,new S):V(te,Ue,X,!0);else if(Ue.ended)k(te,new x);else{if(Ue.destroyed)return!1;Ue.reading=!1,Ue.decoder&&!_e?(X=Ue.decoder.write(X),Ue.objectMode||X.length!==0?V(te,Ue,X,!1):G(te,Ue)):V(te,Ue,X,!1)}else we||(Ue.reading=!1,G(te,Ue))}return!Ue.ended&&(Ue.length<Ue.highWaterMark||Ue.length===0)}function V(te,X,_e,we){X.flowing&&X.length===0&&!X.sync?(X.awaitDrain=0,te.emit("data",_e)):(X.length+=X.objectMode?1:_e.length,we?X.buffer.unshift(_e):X.buffer.push(_e),X.needReadable&&K(te)),G(te,X)}function U(te,X){var _e;return!o(X)&&typeof X!="string"&&X!==void 0&&!te.objectMode&&(_e=new y("chunk",["string","Buffer","Uint8Array"],X)),_e}F.prototype.isPaused=function(){return this._readableState.flowing===!1},F.prototype.setEncoding=function(te){N||(N=p5().StringDecoder);var X=new N(te);this._readableState.decoder=X,this._readableState.encoding=this._readableState.decoder.encoding;for(var _e=this._readableState.buffer.head,we="";_e!==null;)we+=X.write(_e.data),_e=_e.next;return this._readableState.buffer.clear(),we!==""&&this._readableState.buffer.push(we),this._readableState.length=we.length,this};var z=1073741824;function W(te){return te>=z?te=z:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function J(te,X){return te<=0||X.length===0&&X.ended?0:X.objectMode?1:te!==te?X.flowing&&X.length?X.buffer.head.data.length:X.length:(te>X.highWaterMark&&(X.highWaterMark=W(te)),te<=X.length?te:X.ended?X.length:(X.needReadable=!0,0))}F.prototype.read=function(te){c("read",te),te=parseInt(te,10);var X=this._readableState,_e=te;if(te!==0&&(X.emittedReadable=!1),te===0&&X.needReadable&&((X.highWaterMark!==0?X.length>=X.highWaterMark:X.length>0)||X.ended))return c("read: emitReadable",X.length,X.ended),X.length===0&&X.ended?ge(this):K(this),null;if(te=J(te,X),te===0&&X.ended)return X.length===0&&ge(this),null;var we=X.needReadable;c("need readable",we),(X.length===0||X.length-te<X.highWaterMark)&&(we=!0,c("length less than watermark",we)),X.ended||X.reading?(we=!1,c("reading or ended",we)):we&&(c("do read"),X.reading=!0,X.sync=!0,X.length===0&&(X.needReadable=!0),this._read(X.highWaterMark),X.sync=!1,X.reading||(te=J(_e,X)));var We;return te>0?We=ae(te,X):We=null,We===null?(X.needReadable=X.length<=X.highWaterMark,te=0):(X.length-=te,X.awaitDrain=0),X.length===0&&(X.ended||(X.needReadable=!0),_e!==te&&X.ended&&ge(this)),We!==null&&this.emit("data",We),We};function se(te,X){if(c("onEofChunk"),!X.ended){if(X.decoder){var _e=X.decoder.end();_e&&_e.length&&(X.buffer.push(_e),X.length+=X.objectMode?1:_e.length)}X.ended=!0,X.sync?K(te):(X.needReadable=!1,X.emittedReadable||(X.emittedReadable=!0,ee(te)))}}function K(te){var X=te._readableState;c("emitReadable",X.needReadable,X.emittedReadable),X.needReadable=!1,X.emittedReadable||(c("emitReadable",X.flowing),X.emittedReadable=!0,process.nextTick(ee,te))}function ee(te){var X=te._readableState;c("emitReadable_",X.destroyed,X.length,X.ended),!X.destroyed&&(X.length||X.ended)&&(te.emit("readable"),X.emittedReadable=!1),X.needReadable=!X.flowing&&!X.ended&&X.length<=X.highWaterMark,ce(te)}function G(te,X){X.readingMore||(X.readingMore=!0,process.nextTick(ne,te,X))}function ne(te,X){for(;!X.reading&&!X.ended&&(X.length<X.highWaterMark||X.flowing&&X.length===0);){var _e=X.length;if(c("maybeReadMore read 0"),te.read(0),_e===X.length)break}X.readingMore=!1}F.prototype._read=function(te){k(this,new _("_read()"))},F.prototype.pipe=function(te,X){var _e=this,we=this._readableState;switch(we.pipesCount){case 0:we.pipes=te;break;case 1:we.pipes=[we.pipes,te];break;default:we.pipes.push(te);break}we.pipesCount+=1,c("pipe count=%d opts=%j",we.pipesCount,X);var We=(!X||X.end!==!1)&&te!==process.stdout&&te!==process.stderr,Ue=We?ot:De;we.endEmitted?process.nextTick(Ue):_e.once("end",Ue),te.on("unpipe",Ce);function Ce(Z,D){c("onunpipe"),Z===_e&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,je())}function ot(){c("onend"),te.end()}var Dt=Y(_e);te.on("drain",Dt);var fe=!1;function je(){c("cleanup"),te.removeListener("close",Xe),te.removeListener("finish",me),te.removeListener("drain",Dt),te.removeListener("error",Ze),te.removeListener("unpipe",Ce),_e.removeListener("end",ot),_e.removeListener("end",De),_e.removeListener("data",Ae),fe=!0,we.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&Dt()}_e.on("data",Ae);function Ae(Z){c("ondata");var D=te.write(Z);c("dest.write",D),D===!1&&((we.pipesCount===1&&we.pipes===te||we.pipesCount>1&&Pe(we.pipes,te)!==-1)&&!fe&&(c("false write response, pause",we.awaitDrain),we.awaitDrain++),_e.pause())}function Ze(Z){c("onerror",Z),De(),te.removeListener("error",Ze),e(te,"error")===0&&k(te,Z)}O(te,"error",Ze);function Xe(){te.removeListener("finish",me),De()}te.once("close",Xe);function me(){c("onfinish"),te.removeListener("close",Xe),De()}te.once("finish",me);function De(){c("unpipe"),_e.unpipe(te)}return te.emit("pipe",_e),we.flowing||(c("pipe resume"),_e.resume()),te};function Y(te){return function(){var _e=te._readableState;c("pipeOnDrain",_e.awaitDrain),_e.awaitDrain&&_e.awaitDrain--,_e.awaitDrain===0&&e(te,"data")&&(_e.flowing=!0,ce(te))}}F.prototype.unpipe=function(te){var X=this._readableState,_e={hasUnpiped:!1};if(X.pipesCount===0)return this;if(X.pipesCount===1)return te&&te!==X.pipes?this:(te||(te=X.pipes),X.pipes=null,X.pipesCount=0,X.flowing=!1,te&&te.emit("unpipe",this,_e),this);if(!te){var we=X.pipes,We=X.pipesCount;X.pipes=null,X.pipesCount=0,X.flowing=!1;for(var Ue=0;Ue<We;Ue++)we[Ue].emit("unpipe",this,{hasUnpiped:!1});return this}var Ce=Pe(X.pipes,te);return Ce===-1?this:(X.pipes.splice(Ce,1),X.pipesCount-=1,X.pipesCount===1&&(X.pipes=X.pipes[0]),te.emit("unpipe",this,_e),this)},F.prototype.on=function(te,X){var _e=r.prototype.on.call(this,te,X),we=this._readableState;return te==="data"?(we.readableListening=this.listenerCount("readable")>0,we.flowing!==!1&&this.resume()):te==="readable"&&!we.endEmitted&&!we.readableListening&&(we.readableListening=we.needReadable=!0,we.flowing=!1,we.emittedReadable=!1,c("on readable",we.length,we.reading),we.length?K(this):we.reading||process.nextTick(xe,this)),_e},F.prototype.addListener=F.prototype.on,F.prototype.removeListener=function(te,X){var _e=r.prototype.removeListener.call(this,te,X);return te==="readable"&&process.nextTick(oe,this),_e},F.prototype.removeAllListeners=function(te){var X=r.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&process.nextTick(oe,this),X};function oe(te){var X=te._readableState;X.readableListening=te.listenerCount("readable")>0,X.resumeScheduled&&!X.paused?X.flowing=!0:te.listenerCount("data")>0&&te.resume()}function xe(te){c("readable nexttick read 0"),te.read(0)}F.prototype.resume=function(){var te=this._readableState;return te.flowing||(c("resume"),te.flowing=!te.readableListening,Ne(this,te)),te.paused=!1,this};function Ne(te,X){X.resumeScheduled||(X.resumeScheduled=!0,process.nextTick(Le,te,X))}function Le(te,X){c("resume",X.reading),X.reading||te.read(0),X.resumeScheduled=!1,te.emit("resume"),ce(te),X.flowing&&!X.reading&&te.read(0)}F.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ce(te){var X=te._readableState;for(c("flow",X.flowing);X.flowing&&te.read()!==null;);}F.prototype.wrap=function(te){var X=this,_e=this._readableState,we=!1;te.on("end",function(){if(c("wrapped end"),_e.decoder&&!_e.ended){var Ce=_e.decoder.end();Ce&&Ce.length&&X.push(Ce)}X.push(null)}),te.on("data",function(Ce){if(c("wrapped data"),_e.decoder&&(Ce=_e.decoder.write(Ce)),!(_e.objectMode&&Ce==null)&&!(!_e.objectMode&&(!Ce||!Ce.length))){var ot=X.push(Ce);ot||(we=!0,te.pause())}});for(var We in te)this[We]===void 0&&typeof te[We]=="function"&&(this[We]=function(ot){return function(){return te[ot].apply(te,arguments)}}(We));for(var Ue=0;Ue<P.length;Ue++)te.on(P[Ue],this.emit.bind(this,P[Ue]));return this._read=function(Ce){c("wrapped _read",Ce),we&&(we=!1,te.resume())},this},typeof Symbol=="function"&&(F.prototype[Symbol.asyncIterator]=function(){return C===void 0&&(C=x2e()),C(this)}),Object.defineProperty(F.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(F.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(F.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(X){this._readableState&&(this._readableState.flowing=X)}}),F._fromList=ae,Object.defineProperty(F.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ae(te,X){if(X.length===0)return null;var _e;return X.objectMode?_e=X.buffer.shift():!te||te>=X.length?(X.decoder?_e=X.buffer.join(""):X.buffer.length===1?_e=X.buffer.first():_e=X.buffer.concat(X.length),X.buffer.clear()):_e=X.buffer.consume(te,X.decoder),_e}function ge(te){var X=te._readableState;c("endReadable",X.endEmitted),X.endEmitted||(X.ended=!0,process.nextTick(he,X,te))}function he(te,X){if(c("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,X.readable=!1,X.emit("end"),te.autoDestroy)){var _e=X._writableState;(!_e||_e.autoDestroy&&_e.finished)&&X.destroy()}}typeof Symbol=="function"&&(F.from=function(te,X){return A===void 0&&(A=b2e()),A(F,te,X)});function Pe(te,X){for(var _e=0,we=te.length;_e<we;_e++)if(te[_e]===X)return _e;return-1}return XN}var JN,x5;function bQ(){if(x5)return JN;x5=1,JN=l;var t=am().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=mp();Yy()(l,s);function o(d,h){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,h!=null&&this.push(h),v(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);s.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(h,g){u(d,h,g)}):u(this,null,null)}l.prototype.push=function(d,h){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,h)},l.prototype._transform=function(d,h,g){g(new e("_transform()"))},l.prototype._write=function(d,h,g){var v=this._transformState;if(v.writecb=g,v.writechunk=d,v.writeencoding=h,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},l.prototype._read=function(d){var h=this._transformState;h.writechunk!==null&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},l.prototype._destroy=function(d,h){s.prototype._destroy.call(this,d,function(g){h(g)})};function u(d,h,g){if(h)return d.emit("error",h);if(g!=null&&d.push(g),d._writableState.length)throw new i;if(d._transformState.transforming)throw new n;return d.push(null)}return JN}var QN,b5;function w2e(){if(b5)return QN;b5=1,QN=e;var t=bQ();Yy()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},QN}var eC,w5;function _2e(){if(w5)return eC;w5=1;var t;function e(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var r=am().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,v,y,x){x=e(x);var _=!1;g.on("close",function(){_=!0}),t===void 0&&(t=YM()),t(g,{readable:v,writable:y},function(N){if(N)return x(N);_=!0,x()});var S=!1;return function(N){if(!_&&!S){if(S=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();x(N||new i("pipe"))}}}function c(g){g()}function u(g,v){return g.pipe(v)}function d(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function h(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];var x=d(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new n("streams");var _,S=v.map(function(N,C){var A=C<v.length-1,k=C>0;return l(N,A,k,function(P){_||(_=P),P&&S.forEach(c),!A&&(S.forEach(c),x(_))})});return v.reduce(u)}return eC=h,eC}var _5;function j2e(){return _5||(_5=1,function(t,e){e=t.exports=xQ(),e.Stream=e,e.Readable=e,e.Writable=yQ(),e.Duplex=mp(),e.Transform=bQ(),e.PassThrough=w2e(),e.finished=YM(),e.pipeline=_2e()}(J0,J0.exports)),J0.exports}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var tC,j5;function S2e(){if(j5)return tC;j5=1;let t;return tC=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:Os):e=>(t||(t=Promise.resolve())).then(e).catch(r=>setTimeout(()=>{throw r},0)),tC}var rC,S5;function N2e(){if(S5)return rC;S5=1;function t(r,n){for(const i in n)Object.defineProperty(r,i,{value:n[i],enumerable:!0,configurable:!0});return r}function e(r,n,i){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof n=="object"&&(i=n,n=""),n&&(i.code=n);try{return t(r,i)}catch{i.message=r.message,i.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),t(new o,i)}}return rC=e,rC}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var nC,N5;function C2e(){if(N5)return nC;N5=1;const t=u2e()("simple-peer"),e=d2e(),r=p2e(),n=j2e(),i=S2e(),s=N2e(),{Buffer:o}=Zy(),l=64*1024,c=5*1e3,u=5*1e3;function d(v){return v.replace(/a=ice-options:trickle\s\n/g,"")}function h(v){console.warn(v)}class g extends n.Duplex{constructor(y){if(y=Object.assign({allowHalfOpen:!1},y),super(y),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",y),this.channelName=y.initiator?y.channelName||r(20).toString("hex"):null,this.initiator=y.initiator||!1,this.channelConfig=y.channelConfig||g.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},g.config,y.config),this.offerOptions=y.offerOptions||{},this.answerOptions=y.answerOptions||{},this.sdpTransform=y.sdpTransform||(x=>x),this.streams=y.streams||(y.stream?[y.stream]:[]),this.trickle=y.trickle!==void 0?y.trickle:!0,this.allowHalfTrickle=y.allowHalfTrickle!==void 0?y.allowHalfTrickle:!1,this.iceCompleteTimeout=y.iceCompleteTimeout||c,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=y.wrtc&&typeof y.wrtc=="object"?y.wrtc:e(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(x){this.destroy(s(x,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=x=>{this._onIceCandidate(x)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(x=>{this.destroy(s(x,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=x=>{this._setupData(x)},this.streams&&this.streams.forEach(x=>{this.addStream(x)}),this._pc.ontrack=x=>{this._onTrack(x)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof y=="string")try{y=JSON.parse(y)}catch{y={}}this._debug("signal()"),y.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),y.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(y.transceiverRequest.kind,y.transceiverRequest.init)),y.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(y.candidate):this._pendingCandidates.push(y.candidate)),y.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(y)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(x=>{this._addIceCandidate(x)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(x=>{this.destroy(s(x,"ERR_SET_REMOTE_DESCRIPTION"))}),!y.sdp&&!y.candidate&&!y.renegotiate&&!y.transceiverRequest&&this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(y){const x=new this._wrtc.RTCIceCandidate(y);this._pc.addIceCandidate(x).catch(_=>{!x.address||x.address.endsWith(".local")?h("Ignoring unsupported ICE candidate."):this.destroy(s(_,"ERR_ADD_ICE_CANDIDATE"))})}send(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(y)}}addTransceiver(y,x){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(y,x),this._needsNegotiation()}catch(_){this.destroy(s(_,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:y,init:x}})}}addStream(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),y.getTracks().forEach(x=>{this.addTrack(x,y)})}}addTrack(y,x){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const _=this._senderMap.get(y)||new Map;let S=_.get(x);if(!S)S=this._pc.addTrack(y,x),_.set(x,S),this._senderMap.set(y,_),this._needsNegotiation();else throw S.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(y,x,_){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const S=this._senderMap.get(y),N=S?S.get(_):null;if(!N)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");x&&this._senderMap.set(x,S),N.replaceTrack!=null?N.replaceTrack(x):this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(y,x){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const _=this._senderMap.get(y),S=_?_.get(x):null;if(!S)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{S.removed=!0,this._pc.removeTrack(S)}catch(N){N.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(S):this.destroy(s(N,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),y.getTracks().forEach(x=>{this.removeTrack(x,y)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(y){this._destroy(y,()=>{})}_destroy(y,x){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",y&&(y.message||y)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",y&&(y.message||y)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,y&&this.emit("error",y),this.emit("close"),x()}))}_setupData(y){if(!y.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=y.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=l),this.channelName=this._channel.label,this._channel.onmessage=_=>{this._onChannelMessage(_)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=_=>{const S=_.error instanceof Error?_.error:new Error(`Datachannel error: ${_.message} ${_.filename}:${_.lineno}:${_.colno}`);this.destroy(s(S,"ERR_DATA_CHANNEL"))};let x=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(x&&this._onChannelClose(),x=!0):x=!1},u)}_read(){}_write(y,x,_){if(this.destroyed)return _(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(y)}catch(S){return this.destroy(s(S,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>l?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=_):_(null)}else this._debug("write before connect"),this._chunk=y,this._cb=_}_onFinish(){if(this.destroyed)return;const y=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?y():this.once("connect",y)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(y=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(y.sdp=d(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const x=()=>{if(this.destroyed)return;const N=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp})},_=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?x():this.once("_iceComplete",x))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(y).then(_).catch(S)}).catch(y=>{this.destroy(s(y,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(y=>{!y.mid&&y.sender.track&&!y.requested&&(y.requested=!0,this.addTransceiver(y.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(y=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(y.sdp=d(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const x=()=>{if(this.destroyed)return;const N=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:N.type,sdp:N.sdp}),this.initiator||this._requestMissingTransceivers()},_=()=>{this.destroyed||(this.trickle||this._iceComplete?x():this.once("_iceComplete",x))},S=N=>{this.destroy(s(N,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(y).then(_).catch(S)}).catch(y=>{this.destroy(s(y,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const y=this._pc.iceConnectionState,x=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",y,x),this.emit("iceStateChange",y,x),(y==="connected"||y==="completed")&&(this._pcReady=!0,this._maybeReady()),y==="failed"&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),y==="closed"&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(y){const x=_=>(Object.prototype.toString.call(_.values)==="[object Array]"&&_.values.forEach(S=>{Object.assign(_,S)}),_);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(_=>{const S=[];_.forEach(N=>{S.push(x(N))}),y(null,S)},_=>y(_)):this._pc.getStats.length>0?this._pc.getStats(_=>{if(this.destroyed)return;const S=[];_.result().forEach(N=>{const C={};N.names().forEach(A=>{C[A]=N.stat(A)}),C.id=N.id,C.type=N.type,C.timestamp=N.timestamp,S.push(x(C))}),y(null,S)},_=>y(_)):y(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const y=()=>{this.destroyed||this.getStats((x,_)=>{if(this.destroyed)return;x&&(_=[]);const S={},N={},C={};let A=!1;_.forEach(P=>{(P.type==="remotecandidate"||P.type==="remote-candidate")&&(S[P.id]=P),(P.type==="localcandidate"||P.type==="local-candidate")&&(N[P.id]=P),(P.type==="candidatepair"||P.type==="candidate-pair")&&(C[P.id]=P)});const k=P=>{A=!0;let O=N[P.localCandidateId];O&&(O.ip||O.address)?(this.localAddress=O.ip||O.address,this.localPort=Number(O.port)):O&&O.ipAddress?(this.localAddress=O.ipAddress,this.localPort=Number(O.portNumber)):typeof P.googLocalAddress=="string"&&(O=P.googLocalAddress.split(":"),this.localAddress=O[0],this.localPort=Number(O[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let I=S[P.remoteCandidateId];I&&(I.ip||I.address)?(this.remoteAddress=I.ip||I.address,this.remotePort=Number(I.port)):I&&I.ipAddress?(this.remoteAddress=I.ipAddress,this.remotePort=Number(I.portNumber)):typeof P.googRemoteAddress=="string"&&(I=P.googRemoteAddress.split(":"),this.remoteAddress=I[0],this.remotePort=Number(I[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(_.forEach(P=>{P.type==="transport"&&P.selectedCandidatePairId&&k(C[P.selectedCandidatePairId]),(P.type==="googCandidatePair"&&P.googActiveConnection==="true"||(P.type==="candidatepair"||P.type==="candidate-pair")&&P.selected)&&k(P)}),!A&&(!Object.keys(C).length||Object.keys(N).length)){setTimeout(y,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(O){return this.destroy(s(O,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const P=this._cb;this._cb=null,P(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};y()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>l||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(y=>{this._pc.removeTrack(y),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(y){this.destroyed||(y.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:y.candidate.candidate,sdpMLineIndex:y.candidate.sdpMLineIndex,sdpMid:y.candidate.sdpMid}}):!y.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),y.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(y){if(this.destroyed)return;let x=y.data;x instanceof ArrayBuffer&&(x=o.from(x)),this.push(x)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const y=this._cb;this._cb=null,y(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(y){this.destroyed||y.streams.forEach(x=>{this._debug("on track"),this.emit("track",y.track,x),this._remoteTracks.push({track:y.track,stream:x}),!this._remoteStreams.some(_=>_.id===x.id)&&(this._remoteStreams.push(x),i(()=>{this._debug("on stream"),this.emit("stream",x)}))})}_debug(){const y=[].slice.call(arguments);y[0]="["+this._id+"] "+y[0],t.apply(null,y)}}return g.WEBRTC_SUPPORT=!!e(),g.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},g.channelConfig={},nC=g,nC}var E2e=C2e();const C5=pr(E2e);var P2e={};class k2e{constructor(){this.socket=null,this.peer=null,this.localStream=null,this.remoteStream=null,this.callState="idle",this.callDuration=0,this.callTimer=null,this.callStartTime=null,this.onCallStateChange=null,this.onRemoteStream=null,this.onCallDuration=null,this.onError=null,this.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],audio:!0,video:!1}}async initialize(e,r){try{return this.socket=kb(P2e.REACT_APP_SIGNALING_SERVER||"http://localhost:3001",{query:{userId:e,roomId:r}}),this.setupSocketListeners(),await this.requestAudioPermission(),!0}catch(n){return console.error("Erreur initialisation AudioCall:",n),this.handleError(n),!1}}async requestAudioPermission(){try{return this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100},video:!1}),console.log("Accès microphone accordé"),!0}catch(e){throw console.error("Erreur accès microphone:",e),new Error("Accès au microphone refusé. Veuillez autoriser l'accès audio.")}}setupSocketListeners(){this.socket&&(this.socket.on("incoming-call",e=>{console.log("Appel entrant de:",e.callerId),this.callState="incoming",this.triggerCallStateChange()}),this.socket.on("call-answered",e=>{console.log("Appel répondu par:",e.answererId),this.handleCallAnswered(e)}),this.socket.on("call-rejected",e=>{console.log("Appel refusé par:",e.rejecterId),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}),this.socket.on("call-ended",e=>{console.log("Appel terminé par:",e.enderId),this.endCall()}),this.socket.on("webrtc-signal",e=>{this.peer&&this.peer.signal(e.signal)}),this.socket.on("connect",()=>{console.log("Connecté au serveur de signalisation")}),this.socket.on("disconnect",()=>{console.log("Déconnecté du serveur de signalisation"),this.handleError(new Error("Connexion perdue au serveur"))}))}async startCall(e,r){try{if(this.callState!=="idle")throw new Error("Un appel est déjà en cours");return this.localStream||await this.requestAudioPermission(),this.callState="calling",this.triggerCallStateChange(),this.peer=new C5({initiator:!0,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("start-call",{targetUserId:e,roomId:r,callerId:this.socket.id}),!0}catch(n){return console.error("Erreur démarrage appel:",n),this.handleError(n),!1}}async answerCall(e,r){try{if(this.callState!=="incoming")throw new Error("Aucun appel entrant");return this.localStream||await this.requestAudioPermission(),this.callState="connected",this.triggerCallStateChange(),this.peer=new C5({initiator:!1,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("answer-call",{callerId:e,roomId:r,answererId:this.socket.id}),this.startCallTimer(),!0}catch(n){return console.error("Erreur réponse appel:",n),this.handleError(n),!1}}rejectCall(e,r){try{this.socket.emit("reject-call",{callerId:e,roomId:r,rejecterId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(n){console.error("Erreur refus appel:",n),this.handleError(n)}}endCall(){try{this.callState==="connected"&&this.socket.emit("end-call",{enderId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(e){console.error("Erreur fin appel:",e),this.handleError(e)}}setupPeerListeners(){this.peer&&(this.peer.on("signal",e=>{this.socket.emit("webrtc-signal",{signal:e})}),this.peer.on("connect",()=>{console.log("Connexion WebRTC établie"),this.callState="connected",this.triggerCallStateChange(),this.startCallTimer()}),this.peer.on("stream",e=>{this.remoteStream=e,this.onRemoteStream&&this.onRemoteStream(e)}),this.peer.on("error",e=>{console.error("Erreur WebRTC:",e),this.handleError(e)}),this.peer.on("close",()=>{console.log("Connexion WebRTC fermée"),this.endCall()}))}startCallTimer(){this.callStartTime=Date.now(),this.callDuration=0,this.callTimer=setInterval(()=>{this.callDuration=Math.floor((Date.now()-this.callStartTime)/1e3),this.onCallDuration&&this.onCallDuration(this.callDuration)},1e3)}handleCallAnswered(e){this.peer&&this.callState==="calling"&&(this.callState="connected",this.triggerCallStateChange(),this.startCallTimer())}cleanup(){this.callTimer&&(clearInterval(this.callTimer),this.callTimer=null),this.peer&&(this.peer.destroy(),this.peer=null),this.localStream&&(this.localStream.getTracks().forEach(e=>e.stop()),this.localStream=null),this.callState="idle",this.callDuration=0,this.callStartTime=null,this.remoteStream=null}handleError(e){console.error("Erreur AudioCall:",e),this.onError&&this.onError(e)}triggerCallStateChange(){this.onCallStateChange&&this.onCallStateChange(this.callState)}formatCallDuration(e){const r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;return r>0?`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getCallState(){return{state:this.callState,duration:this.callDuration,formattedDuration:this.formatCallDuration(this.callDuration),hasLocalStream:!!this.localStream,hasRemoteStream:!!this.remoteStream}}isInCall(){return["calling","incoming","connected"].includes(this.callState)}isConnected(){return this.callState==="connected"}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.cleanup()}setCallbacks(e){this.onCallStateChange=e.onCallStateChange,this.onRemoteStream=e.onRemoteStream,this.onCallDuration=e.onCallDuration,this.onError=e.onError}}const Bc=new k2e,wQ=({isOpen:t=!1,onClose:e,targetUser:r=null,currentUser:n=null,roomId:i=null})=>{const[s,o]=b.useState("idle"),[l,c]=b.useState(0),[u,d]=b.useState(!1),[h,g]=b.useState(!0),[v,y]=b.useState(!1),[x,_]=b.useState(null),[S,N]=b.useState(!1),C=b.useRef(null),{toast:A}=Yr();b.useEffect(()=>{t&&n&&i&&k()},[t,n,i]),b.useEffect(()=>{t||z()},[t]);const k=async()=>{try{y(!0),_(null),console.log("🔍 Initialisation appel simplifié pour:",{currentUser:n?.id,targetUser:r?.id,roomId:i}),setTimeout(()=>{o("calling"),y(!1),A({title:"Appel initialisé",description:`Appel en cours vers ${r?.first_name||r?.last_name||"l'utilisateur"}`,duration:3e3})},1e3)}catch(G){console.error("Erreur initialisation:",G),_(G.message),A({title:"Erreur d'initialisation",description:G.message,variant:"destructive",duration:5e3})}finally{y(!1)}};b.useCallback(G=>{o(G),N(G==="connected"),G==="ended"&&setTimeout(()=>{e()},2e3)},[e]),b.useCallback(G=>{C.current&&(C.current.srcObject=G,C.current.play().catch(console.error))},[]),b.useCallback(G=>{c(G)},[]);const P=b.useCallback(G=>{_(G.message),A({title:"Erreur d'appel",description:G.message,variant:"destructive",duration:5e3})},[A]),O=async()=>{try{if(!r||!i)throw new Error("Informations manquantes pour l'appel");await Bc.startCall(r.id,i)&&A({title:"Appel en cours...",description:`Appel de ${r.name||r.email}`,duration:3e3})}catch(G){console.error("Erreur démarrage appel:",G),P(G)}},I=async()=>{try{await Bc.answerCall()&&A({title:"Appel accepté",description:"Connexion en cours...",duration:3e3})}catch(G){console.error("Erreur réponse appel:",G),P(G)}},F=()=>{Bc.rejectCall(),A({title:"Appel refusé",description:"L'appel a été refusé",duration:3e3,variant:"destructive"})},H=()=>{Bc.endCall(),A({title:"Appel terminé",description:"L'appel a été terminé",duration:3e3})},V=()=>{if(Bc.localStream){const G=Bc.localStream.getAudioTracks()[0];G&&(G.enabled=!G.enabled,d(!G.enabled),A({title:u?"Micro activé":"Micro désactivé",description:u?"Votre voix est maintenant audible":"Votre voix est maintenant muette",duration:2e3}))}},U=()=>{C.current&&(C.current.muted=!C.current.muted,g(!C.current.muted),A({title:h?"Haut-parleur désactivé":"Haut-parleur activé",description:h?"Son désactivé":"Son activé",duration:2e3}))},z=()=>{Bc.disconnect(),o("idle"),c(0),N(!1),_(null)},W=()=>{Bc.isInCall()&&H(),e()},J=G=>{const ne=Math.floor(G/60),Y=G%60;return`${ne.toString().padStart(2,"0")}:${Y.toString().padStart(2,"0")}`},se=()=>{switch(s){case"calling":return a.jsx(vfe,{className:"h-6 w-6 text-orange-500"});case"incoming":return a.jsx(gfe,{className:"h-6 w-6 text-green-500"});case"connected":return a.jsx(qa,{className:"h-6 w-6 text-green-500"});default:return a.jsx(qa,{className:"h-6 w-6 text-gray-500"})}},K=()=>{switch(s){case"calling":return"Appel en cours...";case"incoming":return"Appel entrant";case"connected":return"Appel en cours";case"ended":return"Appel terminé";default:return"Prêt pour l'appel"}},ee=()=>s==="connected"?`Durée: ${J(l)}`:r?`Appel de ${r.name||r.email}`:"En attente...";return t?a.jsx(Xn,{children:a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(Oe.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white text-center relative",children:[a.jsx("button",{onClick:W,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(os,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:se()}),a.jsx("h2",{className:"text-xl font-semibold mb-1",children:K()}),a.jsx("p",{className:"text-blue-100 text-sm",children:ee()})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[r&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx(ts,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name||"Utilisateur"}),r.email&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.email})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(pt,{variant:s==="connected"?"default":"secondary",children:s.toUpperCase()}),s==="connected"&&a.jsxs("div",{className:"flex items-center justify-center mt-2 text-green-600",children:[a.jsx(is,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"font-mono",children:J(l)})]})]}),x&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[a.jsx(hn,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700 text-sm",children:x})]}),a.jsxs("div",{className:"space-y-3",children:[s==="idle"&&a.jsx(ue,{onClick:O,disabled:v||!r,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"h-5 w-5 mr-2 animate-spin"}),"Initialisation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qa,{className:"h-5 w-5 mr-2"}),"Appeler"]})}),s==="incoming"&&a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(ue,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[a.jsx(qa,{className:"h-5 w-5 mr-2"}),"Répondre"]}),a.jsxs(ue,{onClick:F,variant:"destructive",className:"flex-1",size:"lg",children:[a.jsx(GS,{className:"h-5 w-5 mr-2"}),"Refuser"]})]}),s==="calling"&&a.jsxs(ue,{onClick:H,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(GS,{className:"h-5 w-5 mr-2"}),"Annuler l'appel"]}),s==="connected"&&a.jsxs(ue,{onClick:H,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(GS,{className:"h-5 w-5 mr-2"}),"Terminer l'appel"]}),s==="connected"&&a.jsxs("div",{className:"flex space-x-3 pt-3 border-t",children:[a.jsxs(ue,{onClick:V,variant:u?"destructive":"outline",className:"flex-1",children:[u?a.jsx(cfe,{className:"h-4 w-4 mr-2"}):a.jsx(ufe,{className:"h-4 w-4 mr-2"}),u?"Activer":"Muet"]}),a.jsxs(ue,{onClick:U,variant:h?"outline":"destructive",className:"flex-1",children:[h?a.jsx(Efe,{className:"h-4 w-4 mr-2"}):a.jsx(Pfe,{className:"h-4 w-4 mr-2"}),h?"Désactiver":"Activer"]})]})]}),a.jsx("div",{className:"text-center text-sm text-gray-500",children:S?a.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[a.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Connecté"]}):a.jsxs("div",{className:"flex items-center justify-center text-gray-400",children:[a.jsx(Or,{className:"h-4 w-4 mr-2 animate-spin"}),"Connexion..."]})})]}),a.jsx("audio",{ref:C,autoPlay:!0,playsInline:!0,className:"hidden"})]})})}):null},T2e=({value:t,onChange:e,onSend:r,onAttachment:n,onEmoji:i,onVoice:s,onCamera:o,placeholder:l="Tapez votre message...",disabled:c=!1,showActions:u=!0})=>{const[d,h]=b.useState(!1),[g,v]=b.useState(!1),[y,x]=b.useState(!1),[_,S]=b.useState(!1),[N,C]=b.useState(!1),[A,k]=b.useState(!1),P=b.useRef(null),O=()=>{t.trim()&&!c&&r(t.trim())},I=J=>{J.key==="Enter"&&!J.shiftKey&&(J.preventDefault(),O())},F=J=>{const se=Array.from(J.target.files);se.length>0&&n(se)},H=J=>{const se=new Wb([J.blob],`photo_${Date.now()}.jpg`,{type:"image/jpeg",lastModified:Date.now()});n&&n([se])},V=J=>{n&&n(J)},U=J=>{const se=`📍 Localisation partagée
Lat: ${J.latitude.toFixed(6)}
Lng: ${J.longitude.toFixed(6)}${J.name?`
Lieu: ${J.name}`:""}`;n&&n([{type:"location",data:J,message:se}])},z=J=>{const se=`📅 Rendez-vous planifié
Titre: ${J.title}
Date: ${new Date(J.date).toLocaleDateString("fr-FR")}
Heure: ${J.time}${J.location?`
Lieu: ${J.location}`:""}${J.description?`
Description: ${J.description}`:""}`;n&&n([{type:"appointment",data:J,message:se}])},W=[{icon:pW,label:"Photo",action:()=>x(!0)},{icon:Td,label:"Caméra",action:()=>v(!0)},{icon:Wb,label:"Document",action:()=>x(!0)},{icon:Po,label:"Localisation",action:()=>S(!0)},{icon:Hl,label:"Rendez-vous",action:()=>C(!0)},{icon:qa,label:"Appel",action:()=>k(!0)},{icon:bR,label:"Vidéo",action:()=>console.log("Vidéo - Phase 3")}];return a.jsxs("div",{className:"bg-card border-t border-border p-3",children:[d&&a.jsx("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-2",children:W.map((J,se)=>a.jsxs(ue,{variant:"ghost",size:"sm",onClick:J.action,className:"flex flex-col items-center space-y-1 p-2 h-auto",children:[a.jsx(J.icon,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:J.label})]},se))})}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>h(!d),className:"p-2 flex-shrink-0",children:a.jsx(Io,{className:`h-4 w-4 transition-transform ${d?"rotate-45":""}`})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(tt,{ref:P,placeholder:l,value:t,onChange:e,onKeyPress:I,disabled:c,className:"pr-20 resize-none",style:{minHeight:"44px"}}),a.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-1",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-6 w-6",children:a.jsx(wfe,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:a.jsx(pfe,{className:"h-4 w-4"})})]})]}),a.jsx(ue,{onClick:O,disabled:!t.trim()||c,className:"bg-primary hover:bg-primary/90 flex-shrink-0 px-4",children:a.jsx(Cy,{className:"h-4 w-4"})})]}),a.jsx("input",{ref:P,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.txt",onChange:F,className:"hidden"}),t&&a.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Appuyez sur Entrée pour envoyer, Shift+Entrée pour une nouvelle ligne"}),a.jsx(aPe,{isOpen:g,onClose:()=>v(!1),onCapture:H}),a.jsx(oPe,{isOpen:y,onClose:()=>x(!1),onFilesSelected:V}),a.jsx(hPe,{isOpen:_,onClose:()=>S(!1),onLocationSelect:U}),a.jsx(pPe,{isOpen:N,onClose:()=>C(!1),onAppointmentCreate:z}),a.jsx(wQ,{isOpen:A,onClose:()=>k(!1),targetUser:{id:"user123",name:"Utilisateur Test",email:"test@example.com"},currentUser:{id:"currentUser",name:"Moi"},roomId:"room123"})]})},_Q=({size:t="default",className:e=""})=>{const r={sm:"w-8 h-8",default:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"};return a.jsxs("div",{className:`
      relative flex items-center justify-center rounded-full
      bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500
      text-white font-bold shadow-lg
      ${r[t]}
      ${e}
    `,children:[a.jsx(Xde,{className:"w-5 h-5"}),a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(yW,{className:"w-3 h-3 text-yellow-300 animate-pulse"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 animate-spin opacity-20"})]})},A2e=new u9({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:1}}}),O2e=()=>{const{user:t}=tPe(),{toast:e}=Yr(),[r]=SO(),{data:n,isLoading:i,error:s,refetch:o}=rPe(),l=Uo(),[c,u]=b.useState(null),[d,h]=b.useState([]),[g,v]=b.useState(""),[y,x]=b.useState("all"),[_,S]=b.useState(!1),[N,C]=b.useState(!1),[A,k]=b.useState(""),[P,O]=b.useState(!1),[I,F]=b.useState(null),[H,V]=b.useState(new Set),[U,z]=b.useState(!1),[W,J]=b.useState(null),[se,K]=b.useState(!1),[ee,G]=b.useState(null);nPe(c?.id);const ne=ci({mutationFn:me=>Si.deleteConversation(me),onSuccess:()=>{l.invalidateQueries(["conversations"]),e({title:"Conversation supprimée",description:"La conversation a été supprimée définitivement"})},onError:me=>{e({title:"Erreur",description:"Impossible de supprimer la conversation",variant:"destructive"})}});b.useEffect(()=>{if(!n||n.length===0)return;const me=r.get("conversation"),De=r.get("listing");if(me&&!c){const Z=n.find(D=>D.id===me);Z&&(console.log("🔍 Ouverture automatique de la conversation:",me),u(Z),Y(Z.id))}else if(De&&!c){const Z=n.find(D=>D.listing_id===De);Z&&(console.log("🔍 Ouverture automatique de la conversation pour l'annonce:",De),u(Z),Y(Z.id))}},[n,r,c]),b.useEffect(()=>{if(!t)return;const me=be.channel("conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations",filter:`participant1_id=eq.${t.id} OR participant2_id=eq.${t.id}`},De=>{console.log("🆕 Nouvelle conversation reçue:",De),o()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`participant1_id=eq.${t.id} OR participant2_id=eq.${t.id}`},De=>{console.log("🔄 Conversation mise à jour:",De),o()}).subscribe();return()=>{be.removeChannel(me)}},[t,o]),b.useEffect(()=>{if(!t)return;const me=be.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${t.id}`},De=>{console.log("💬 Nouveau message reçu:",De),c&&De.new.conversation_id===c.id&&h(Z=>[...Z,De.new]),o(),De.new.sender_id!==t.id&&e({title:"Nouveau message",description:"Vous avez reçu un nouveau message"})}).subscribe();return()=>{be.removeChannel(me)}},[t,c,o,e]);const Y=async me=>{if(me){C(!0);try{const De=await Si.getConversationMessages(me);h(De),await Si.markMessagesAsRead(me),o()}catch(De){console.error("Erreur chargement messages:",De),e({title:"Erreur",description:"Impossible de charger les messages",variant:"destructive"})}finally{C(!1)}}},oe=async me=>{u(me),Y(me.id),S(!1);try{await Si.markMessagesAsRead(me.id),o()}catch(De){console.error("Erreur lors du marquage des messages comme lus:",De)}},xe=async me=>{if(!(!me.trim()||!c))try{const De=await Si.sendMessage(c.id,me.trim());k(""),h(Z=>[...Z,De]),o()}catch(De){console.error("Erreur envoi message:",De),e({title:"Erreur",description:"Impossible d'envoyer le message",variant:"destructive"})}},Ne=me=>{console.log("Fichiers sélectionnés:",me)},Le=()=>{},ce=()=>{if(!c||!t){e({title:"Erreur",description:"Impossible de déterminer la conversation ou l'utilisateur",variant:"destructive"});return}const me=c.participant1_id===t.id?c.participant2:c.participant1;if(!me||!me.id){e({title:"Erreur",description:"Impossible de déterminer l'interlocuteur",variant:"destructive"});return}console.log("🔍 Initialisation appel avec:",{user:t.id,target:me.id,targetName:me.first_name||me.last_name||"Utilisateur"}),G(me),K(!0),e({title:"Appel audio",description:`Initialisation de l'appel avec ${me.first_name||me.last_name||"l'utilisateur"}`})},ae=()=>{K(!1),G(null)},Pe=[...(n?.filter(me=>y==="unread"?me.messages?.some(De=>!De.is_read&&De.sender_id!==t?.id):y==="starred"?me.starred:y==="archived"?me.is_archived:!0)||[]).filter(me=>{if(!g)return!0;const De=g.toLowerCase(),Z=`${me.participant1?.first_name||""} ${me.participant1?.last_name||""}`.toLowerCase(),D=`${me.participant2?.first_name||""} ${me.participant2?.last_name||""}`.toLowerCase();return!!(Z.includes(De)||D.includes(De)||me.listing?.title?.toLowerCase().includes(De)||me.messages?.some(B=>B.content?.toLowerCase().includes(De)))})].sort((me,De)=>{const Z=me.messages?.[me.messages.length-1]?.created_at||me.created_at,D=De.messages?.[De.messages.length-1]?.created_at||De.created_at;return!Z&&!D?0:Z?D?new Date(D)-new Date(Z):-1:1});console.log("🔍 Conversations triées:",Pe.map(me=>({id:me.id,title:me.listing?.title||"Sans titre",lastMessage:me.messages?.[me.messages.length-1]?.created_at||me.created_at,hasUnread:me.messages?.some(De=>!De.is_read&&De.sender_id!==t?.id)})));const te={total:n?.length||0,unread:n?.filter(me=>me.messages?.some(De=>!De.is_read&&De.sender_id!==t?.id)).length||0,starred:n?.filter(me=>me.starred).length||0,archived:n?.filter(me=>me.is_archived).length||0},X=async me=>{try{await Si.markMessagesAsRead(me.id),o()}catch{e({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},_e=async me=>{try{const De=!me.starred;await Si.toggleConversationStar(me.id,De),o()}catch{e({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},we=async me=>{try{await Si.archiveConversation(me.id),o()}catch{e({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},We=me=>{c?.id===me.id&&(u(null),h([])),ne.mutate(me.id)},Ue=me=>{F(me),O(!0)},Ce=me=>{z(!0),V(new Set([me]))},ot=me=>{U&&V(De=>{const Z=new Set(De);return Z.has(me)?Z.delete(me):Z.add(me),Z})},Dt=me=>{U&&ot(me)},fe=()=>{V(new Set),z(!1)},je=()=>{const me=d.map(De=>De.id);V(new Set(me))},Ae=()=>{const me=d.filter(De=>De.sender_id===t?.id).map(De=>De.id);V(new Set(me))},Ze=async()=>{if(H.size!==0)try{const me=Array.from(H).map(De=>Si.deleteMessage(De));await Promise.all(me),h(De=>De.filter(Z=>!H.has(Z.id))),fe(),e({title:"Messages supprimés",description:`${H.size} message(s) supprimé(s) avec succès`})}catch{e({title:"Erreur",description:"Impossible de supprimer certains messages",variant:"destructive"})}},Xe=()=>{H.size};return s?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qn,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.message||"Impossible de charger les conversations"}),a.jsx(ue,{onClick:()=>o(),className:"bg-blue-600 hover:bg-blue-700",children:"Réessayer"})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(iPe,{selectedConversation:c,onBack:()=>u(null),onMenuToggle:()=>S(!_),onSearch:()=>S(!1),onFilter:()=>S(!1),onMore:()=>console.log("Plus d'options"),onCall:ce,onVideo:()=>console.log("Video"),unreadCount:te.unread}),a.jsx("div",{className:"bg-card border-b border-border px-6 py-4 hidden md:block",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:"Centre de Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations et échangez avec d'autres utilisateurs"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(ue,{className:"bg-primary hover:bg-primary/90",children:[a.jsx(Io,{className:"h-4 w-4 mr-2"}),"Nouvelle Conversation"]})})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-120px)] md:h-[calc(100vh-140px)]",children:[a.jsxs("div",{className:`
          ${c?"hidden md:block":"block"} 
          w-full md:w-80 lg:w-96 
          bg-card border-r border-border 
          flex flex-col
        `,children:[a.jsx(sPe,{searchTerm:g,onSearchChange:v,filterType:y,onFilterChange:x,onClear:()=>v(""),totalCount:te.total,unreadCount:te.unread,starredCount:te.starred,archivedCount:te.archived}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:i?a.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((me,De)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},De))}):Pe.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Qn,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Aucune conversation"}),a.jsx("p",{className:"text-muted-foreground",children:g?"Aucune conversation trouvée pour votre recherche":"Commencez une nouvelle conversation"})]}):a.jsx("div",{className:"space-y-1",children:Pe.map(me=>a.jsx(R2e,{conversation:me,isSelected:c?.id===me.id,onSelect:()=>oe(me),onMarkAsRead:()=>X(me),onToggleStar:()=>_e(me),onArchive:()=>we(me),onDelete:()=>Ue(me),currentUserId:t?.id},me.id))})})]}),c?a.jsxs("div",{className:"flex-1 flex flex-col bg-card",children:[a.jsx("div",{className:"border-b border-border p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ev,{user:c.participant1_id===t?.id?c.participant2:c.participant1,size:"default"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:(()=>{const me=c.participant1_id===t?.id?c.participant2:c.participant1;return me&&`${me.first_name||""} ${me.last_name||""}`.trim()||"Utilisateur"})()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c.listing?.title||"Conversation"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:ce,children:a.jsx(qa,{className:"h-4 w-4"})}),a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(Qd,{className:"h-4 w-4"})})}),a.jsxs(Gl,{align:"end",className:"w-48",children:[a.jsxs(vr,{onClick:()=>_e(c),children:[a.jsx(da,{className:"h-4 w-4 mr-2"}),c.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(vr,{onClick:()=>we(c),children:[a.jsx(I_,{className:"h-4 w-4 mr-2"}),c.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Yp,{}),a.jsxs(vr,{onClick:()=>Ue(c),className:"text-destructive focus:text-destructive",children:[a.jsx(Za,{className:"h-4 w-4 mr-2"}),"Supprimer la conversation"]})]})]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[U&&a.jsx("div",{className:"sticky top-0 bg-card border border-border rounded-lg p-3 mb-4 shadow-sm z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-sm font-medium text-foreground",children:[H.size," message(s) sélectionné(s)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:je,className:"text-xs",children:"Tout sélectionner"}),a.jsx(ue,{variant:"outline",size:"sm",onClick:Ae,className:"text-xs",children:"Mes messages"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:fe,className:"text-xs",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",size:"sm",onClick:Xe,className:"text-xs",disabled:H.size===0,children:["Supprimer (",H.size,")"]})]})]})}),!U&&d.length>0&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground mb-4 p-2 bg-muted/30 rounded-lg",children:["💡 ",a.jsx("strong",{children:"Appui long"})," sur un message pour activer la sélection multiple"]}),N?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucun message dans cette conversation"})}):d.map(me=>a.jsx(M2e,{message:me,isOwn:me.sender_id===t?.id,participant1:c.participant1,participant2:c.participant2,currentUserId:t?.id,onLongPress:()=>Ce(me.id),onPress:()=>Dt(me.id),isSelected:H.has(me.id),isSelectionMode:U},me.id))]}),a.jsx(T2e,{value:A,onChange:me=>k(me.target.value),onSend:xe,onAttachment:Ne,onEmoji:Le,onVoice:()=>console.log("Voice message"),onCamera:()=>console.log("Camera"),placeholder:"Tapez votre message...",disabled:N})]}):a.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Qn,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-card-foreground mb-2",children:"Sélectionnez une conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choisissez une conversation dans la liste pour commencer à échanger"})]})})]}),P&&I&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Êtes-vous sûr de vouloir supprimer définitivement cette conversation ? Cette action ne peut pas être annulée."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Annuler"}),a.jsx(ue,{variant:"destructive",onClick:()=>{We(I),O(!1),F(null)},className:"flex-1",disabled:ne.isLoading,children:ne.isLoading?"Suppression...":"Supprimer"})]})]})}),U&&H.size>0&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Êtes-vous sûr de vouloir supprimer définitivement ",H.size," message(s) ? Cette action ne peut pas être annulée."]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(ue,{variant:"outline",onClick:fe,className:"flex-1",children:"Annuler"}),a.jsxs(ue,{variant:"destructive",onClick:Ze,className:"flex-1",children:["Supprimer (",H.size,")"]})]})]})}),se&&ee&&a.jsx(wQ,{isOpen:se,onClose:ae,targetUser:ee,currentUser:t,roomId:`call-${t?.id}-${ee.id}`})]})},R2e=({conversation:t,isSelected:e,onSelect:r,onMarkAsRead:n,onToggleStar:i,onArchive:s,onDelete:o,currentUserId:l})=>{const c=t.messages?.[t.messages.length-1],u=t.messages?.some(v=>!v.is_read&&v.sender_id!==l),d=t.participant1_id===l?t.participant2:t.participant1,h=t.participant1_id==="00000000-0000-0000-0000-000000000000"||t.participant2_id==="00000000-0000-0000-0000-000000000000",g=v=>{if(!v)return"À l'instant";try{const y=new Date(v),x=new Date,_=Math.floor((x-y)/(1e3*60*60)),S=Math.floor((x-y)/(1e3*60*60*24));return _<1?"À l'instant":_<24?`Il y a ${_}h`:S<7?`Il y a ${S}j`:y.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}};return a.jsxs("div",{className:`
        group p-4 cursor-pointer transition-colors hover:bg-accent relative
        ${e?"bg-primary/10 border-r-2 border-primary":""}
        ${u?"bg-primary/10":""}
        ${h?"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500":""}
      `,onClick:r,children:[h&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-2 py-1 rounded-full font-medium shadow-sm",children:"🤖 Assistant"})}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsxs("div",{className:"relative",children:[h?a.jsx(_Q,{size:"default",className:"flex-shrink-0"}):a.jsx(Ev,{user:d,size:"default",className:"flex-shrink-0"}),u&&a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:h?"Assistant MaxiMarket":d&&`${d.first_name||""} ${d.last_name||""}`.trim()||"Utilisateur"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[t.starred&&a.jsx(da,{className:"h-3 w-3 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c?.created_at?g(c.created_at):"À l'instant"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate mb-1",children:c?.content||"Aucun message"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:h?"Support et assistance":t.listing?.title||"Conversation"}),a.jsx("div",{className:"flex items-center space-x-1",children:u&&a.jsx(pt,{variant:"destructive",className:"h-5 px-2 text-xs",children:"Nouveau"})})]})]}),a.jsx("div",{className:"flex-shrink-0",onClick:v=>v.stopPropagation(),children:a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Qd,{className:"h-4 w-4"})})}),a.jsxs(Gl,{align:"end",className:"w-48",children:[a.jsxs(vr,{onClick:()=>n?.(t),children:[a.jsx(Dl,{className:"h-4 w-4 mr-2"}),"Marquer comme lu"]}),a.jsxs(vr,{onClick:()=>i?.(t),children:[a.jsx(da,{className:"h-4 w-4 mr-2"}),t.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(vr,{onClick:()=>s?.(t),children:[a.jsx(I_,{className:"h-4 w-4 mr-2"}),t.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Yp,{}),a.jsxs(vr,{onClick:()=>o?.(t),className:"text-destructive focus:text-destructive",children:[a.jsx(Za,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]})]})},M2e=({message:t,isOwn:e,participant1:r,participant2:n,currentUserId:i,onLongPress:s,onPress:o,isSelected:l=!1,isSelectionMode:c=!1})=>{const[u,d]=b.useState(null),h=t.sender_id==="00000000-0000-0000-0000-000000000000",g=S=>{if(!S)return"À l'instant";try{return new Date(S).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch{return"À l'instant"}},v=t.sender_id===r?.id?r:n,y=()=>{if(s){const S=setTimeout(()=>{s()},500);d(S)}},x=()=>{u&&(clearTimeout(u),d(null))},_=()=>{o&&o()};return a.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} space-x-2`,onTouchStart:y,onTouchEnd:x,onClick:_,children:[!e&&(h?a.jsx(_Q,{size:"sm",className:"flex-shrink-0 mt-1"}):a.jsx(Ev,{user:v,size:"sm",className:"flex-shrink-0 mt-1"})),a.jsxs("div",{className:`
        relative max-w-xs lg:max-w-md px-4 py-2 rounded-lg cursor-pointer
        transition-all duration-200
        ${e?"bg-primary text-primary-foreground":h?"bg-gradient-to-r from-blue-100 to-purple-100 text-gray-800 border border-blue-200":"bg-muted text-muted-foreground"}
        ${l?"ring-2 ring-primary ring-offset-2":""}
        ${c?"hover:ring-2 hover:ring-primary/50":""}
      `,children:[l&&a.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-foreground text-xs",children:"✓"})}),a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!e&&a.jsx("span",{className:`text-xs font-medium ${h?"text-blue-600":""}`,children:h?"🤖 Assistant MaxiMarket":v&&`${v.first_name||""} ${v.last_name||""}`.trim()||"Utilisateur"}),a.jsx("span",{className:"text-xs opacity-75",children:g(t.created_at)})]}),a.jsx("p",{className:"text-sm",children:t.content})]}),e&&a.jsx(Ev,{user:{first_name:"Moi",last_name:""},size:"sm",className:"flex-shrink-0 mt-1"})]})},I2e=()=>a.jsx(h9,{client:A2e,children:a.jsx(O2e,{})}),_1=(t=null,e={})=>{const r=Uo(),{user:n}=Sr(),[i,s]=b.useState(new Set);b.useEffect(()=>{n&&o()},[n]);const o=async()=>{try{const A=await Pl.getUserFavoritesWithStatus();s(A)}catch(A){console.error("Erreur lors du chargement des favoris:",A)}},{data:l,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:d,isLoading:h,error:g,refetch:v}=fse({queryKey:["listings",t,e],queryFn:({pageParam:A=0})=>{const k={status:"approved",category:t,search:e.search,minPrice:e.minPrice,maxPrice:e.maxPrice,location:e.location,page:A,limit:12,...e};return Rr.getAllListings(k)},getNextPageParam:(A,k)=>A.hasMore?k.length:void 0,staleTime:J$.listings.staleTime,gcTime:J$.listings.gcTime,keepPreviousData:!0}),y=ci({mutationFn:A=>{if(!n)throw new Error("Vous devez être connecté pour créer une annonce");return Rr.createListing({...A,user_id:n.id,status:"pending"})},onSuccess:()=>{r.invalidateQueries(["listings"])}}),x=ci({mutationFn:({id:A,updates:k})=>Rr.updateListing(A,k),onSuccess:(A,k)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.map(I=>I.id===k.id?{...I,...k.updates}:I)}))})}}),_=ci({mutationFn:A=>Rr.deleteListing(A),onSuccess:(A,k)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.filter(I=>I.id!==k)}))})}}),S=ci({mutationFn:async A=>{if(!n)throw new Error("Vous devez être connecté pour ajouter aux favoris");const k=await Pl.toggleFavorite(A);return s(P=>{const O=new Set(P);return k.is_favorite?O.add(A):O.delete(A),O}),k},onSuccess:(A,k)=>{r.setQueryData(["listings"],P=>P&&{...P,pages:P.pages.map(O=>({...O,data:O.data.map(I=>I.id===k?{...I,is_favorite:A.is_favorite}:I)}))}),r.invalidateQueries(["favorites"]),r.invalidateQueries(["userStats"])},onError:(A,k)=>{s(P=>{const O=new Set(P);return i.has(k)?O.delete(k):O.add(k),O}),console.error("Erreur lors du basculement des favoris:",A)}}),N=A=>i.has(A);return{listings:(l?.pages.flatMap(k=>k.data)||[]).map(k=>({...k,is_favorite:i.has(k.id)})),loading:h,error:g,hasMore:u,isFetchingMore:d,loadMore:c,refresh:v,createListing:y.mutate,updateListing:x.mutate,deleteListing:_.mutate,toggleFavorite:S.mutate,isCreating:y.isLoading,isUpdating:x.isLoading,isDeleting:_.isLoading,isTogglingFavorite:S.isLoading,isFavorite:N,favoriteIds:i,loadUserFavorites:o}},L2e=()=>{const{user:t}=Sr(),e=Uo(),[r,n]=b.useState(new Set),{data:i,isLoading:s,error:o,refetch:l}=Yn({queryKey:["favorites",t?.id],queryFn:()=>Pl.getUserFavorites(),enabled:!!t,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:c,isLoading:u,error:d}=Yn({queryKey:["favoriteIds",t?.id],queryFn:()=>Pl.getUserFavoritesWithStatus(),enabled:!!t,staleTime:2*60*1e3,gcTime:5*60*1e3});b.useEffect(()=>{c&&n(c)},[c]);const h=ci({mutationFn:async S=>{if(!t)throw new Error("Vous devez être connecté pour ajouter aux favoris");return{...await Pl.toggleFavorite(S),listingId:S}},onMutate:async S=>{await e.cancelQueries(["favorites",t?.id]),await e.cancelQueries(["favoriteIds",t?.id]);const N=e.getQueryData(["favorites",t?.id]),C=e.getQueryData(["favoriteIds",t?.id]),A=new Set(r);return A.has(S)?A.delete(S):A.add(S),n(A),e.setQueryData(["favoriteIds",t?.id],A),{previousFavorites:N,previousIds:C,listingId:S}},onSuccess:(S,N)=>{e.invalidateQueries(["favorites",t?.id]),e.invalidateQueries(["favoriteIds",t?.id]),e.invalidateQueries(["listings"]),e.invalidateQueries(["userStats"])},onError:(S,N,C)=>{C?.previousIds&&(n(C.previousIds),e.setQueryData(["favoriteIds",t?.id],C.previousIds)),console.error("Erreur lors du basculement des favoris:",S)}}),g=S=>r.has(S),v=S=>{h.mutate(S)},y=S=>{g(S)||v(S)},x=S=>{g(S)&&v(S)},_=()=>{l()};return{favorites:i||[],favoriteIds:r,isLoading:s||u,error:o||d,isToggling:h.isLoading,isFavorite:g,toggleFavorite:v,addToFavorites:y,removeFromFavorites:x,refreshFavorites:_,totalFavorites:i?.length||0,toggleFavoriteMutation:h}};var D2e=t=>{switch(t){case"success":return B2e;case"info":return q2e;case"warning":return z2e;case"error":return U2e;default:return null}},$2e=Array(12).fill(0),F2e=({visible:t,className:e})=>Q.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Q.createElement("div",{className:"sonner-spinner"},$2e.map((r,n)=>Q.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),B2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),z2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),q2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),U2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Q.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),V2e=Q.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Q.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Q.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),W2e=()=>{let[t,e]=Q.useState(document.hidden);return Q.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},eA=1,H2e=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:eA++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],Q.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(G2e(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=e?.id||eA++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Qi=new H2e,K2e=(t,e)=>{let r=e?.id||eA++;return Qi.addToast({title:t,...e,id:r}),r},G2e=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Z2e=K2e,Y2e=()=>Qi.toasts,X2e=()=>Qi.getActiveToasts(),iC=Object.assign(Z2e,{success:Qi.success,info:Qi.info,warning:Qi.warning,error:Qi.error,custom:Qi.custom,message:Qi.message,promise:Qi.promise,dismiss:Qi.dismiss,loading:Qi.loading},{getHistory:Y2e,getToasts:X2e});function J2e(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}J2e(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function eb(t){return t.label!==void 0}var Q2e=3,eke="32px",tke="16px",E5=4e3,rke=356,nke=14,ike=20,ske=200;function ka(...t){return t.filter(Boolean).join(" ")}function ake(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var oke=t=>{var e,r,n,i,s,o,l,c,u,d,h;let{invert:g,toast:v,unstyled:y,interacting:x,setHeights:_,visibleToasts:S,heights:N,index:C,toasts:A,expanded:k,removeToast:P,defaultRichColors:O,closeButton:I,style:F,cancelButtonStyle:H,actionButtonStyle:V,className:U="",descriptionClassName:z="",duration:W,position:J,gap:se,loadingIcon:K,expandByDefault:ee,classNames:G,icons:ne,closeButtonAriaLabel:Y="Close toast",pauseWhenPageIsHidden:oe}=t,[xe,Ne]=Q.useState(null),[Le,ce]=Q.useState(null),[ae,ge]=Q.useState(!1),[he,Pe]=Q.useState(!1),[te,X]=Q.useState(!1),[_e,we]=Q.useState(!1),[We,Ue]=Q.useState(!1),[Ce,ot]=Q.useState(0),[Dt,fe]=Q.useState(0),je=Q.useRef(v.duration||W||E5),Ae=Q.useRef(null),Ze=Q.useRef(null),Xe=C===0,me=C+1<=S,De=v.type,Z=v.dismissible!==!1,D=v.className||"",B=v.descriptionClassName||"",le=Q.useMemo(()=>N.findIndex(Nt=>Nt.toastId===v.id)||0,[N,v.id]),ye=Q.useMemo(()=>{var Nt;return(Nt=v.closeButton)!=null?Nt:I},[v.closeButton,I]),Re=Q.useMemo(()=>v.duration||W||E5,[v.duration,W]),$e=Q.useRef(0),yt=Q.useRef(0),lr=Q.useRef(0),Ut=Q.useRef(null),[Xt,Ht]=J.split("-"),ec=Q.useMemo(()=>N.reduce((Nt,rr,wr)=>wr>=le?Nt:Nt+rr.height,0),[N,le]),Ho=W2e(),va=v.invert||g,us=De==="loading";yt.current=Q.useMemo(()=>le*se+ec,[le,ec]),Q.useEffect(()=>{je.current=Re},[Re]),Q.useEffect(()=>{ge(!0)},[]),Q.useEffect(()=>{let Nt=Ze.current;if(Nt){let rr=Nt.getBoundingClientRect().height;return fe(rr),_(wr=>[{toastId:v.id,height:rr,position:v.position},...wr]),()=>_(wr=>wr.filter(ri=>ri.toastId!==v.id))}},[_,v.id]),Q.useLayoutEffect(()=>{if(!ae)return;let Nt=Ze.current,rr=Nt.style.height;Nt.style.height="auto";let wr=Nt.getBoundingClientRect().height;Nt.style.height=rr,fe(wr),_(ri=>ri.find(Un=>Un.toastId===v.id)?ri.map(Un=>Un.toastId===v.id?{...Un,height:wr}:Un):[{toastId:v.id,height:wr,position:v.position},...ri])},[ae,v.title,v.description,_,v.id]);let ds=Q.useCallback(()=>{Pe(!0),ot(yt.current),_(Nt=>Nt.filter(rr=>rr.toastId!==v.id)),setTimeout(()=>{P(v)},ske)},[v,P,_,yt]);Q.useEffect(()=>{if(v.promise&&De==="loading"||v.duration===1/0||v.type==="loading")return;let Nt;return k||x||oe&&Ho?(()=>{if(lr.current<$e.current){let rr=new Date().getTime()-$e.current;je.current=je.current-rr}lr.current=new Date().getTime()})():je.current!==1/0&&($e.current=new Date().getTime(),Nt=setTimeout(()=>{var rr;(rr=v.onAutoClose)==null||rr.call(v,v),ds()},je.current)),()=>clearTimeout(Nt)},[k,x,v,De,oe,Ho,ds]),Q.useEffect(()=>{v.delete&&ds()},[ds,v.delete]);function mf(){var Nt,rr,wr;return ne!=null&&ne.loading?Q.createElement("div",{className:ka(G?.loader,(Nt=v?.classNames)==null?void 0:Nt.loader,"sonner-loader"),"data-visible":De==="loading"},ne.loading):K?Q.createElement("div",{className:ka(G?.loader,(rr=v?.classNames)==null?void 0:rr.loader,"sonner-loader"),"data-visible":De==="loading"},K):Q.createElement(F2e,{className:ka(G?.loader,(wr=v?.classNames)==null?void 0:wr.loader),visible:De==="loading"})}return Q.createElement("li",{tabIndex:0,ref:Ze,className:ka(U,D,G?.toast,(e=v?.classNames)==null?void 0:e.toast,G?.default,G?.[De],(r=v?.classNames)==null?void 0:r[De]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:O,"data-styled":!(v.jsx||v.unstyled||y),"data-mounted":ae,"data-promise":!!v.promise,"data-swiped":We,"data-removed":he,"data-visible":me,"data-y-position":Xt,"data-x-position":Ht,"data-index":C,"data-front":Xe,"data-swiping":te,"data-dismissible":Z,"data-type":De,"data-invert":va,"data-swipe-out":_e,"data-swipe-direction":Le,"data-expanded":!!(k||ee&&ae),style:{"--index":C,"--toasts-before":C,"--z-index":A.length-C,"--offset":`${he?Ce:yt.current}px`,"--initial-height":ee?"auto":`${Dt}px`,...F,...v.style},onDragEnd:()=>{X(!1),Ne(null),Ut.current=null},onPointerDown:Nt=>{us||!Z||(Ae.current=new Date,ot(yt.current),Nt.target.setPointerCapture(Nt.pointerId),Nt.target.tagName!=="BUTTON"&&(X(!0),Ut.current={x:Nt.clientX,y:Nt.clientY}))},onPointerUp:()=>{var Nt,rr,wr,ri;if(_e||!Z)return;Ut.current=null;let Un=Number(((Nt=Ze.current)==null?void 0:Nt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),di=Number(((rr=Ze.current)==null?void 0:rr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),fs=new Date().getTime()-((wr=Ae.current)==null?void 0:wr.getTime()),An=xe==="x"?Un:di,Bs=Math.abs(An)/fs;if(Math.abs(An)>=ike||Bs>.11){ot(yt.current),(ri=v.onDismiss)==null||ri.call(v,v),ce(xe==="x"?Un>0?"right":"left":di>0?"down":"up"),ds(),we(!0),Ue(!1);return}X(!1),Ne(null)},onPointerMove:Nt=>{var rr,wr,ri,Un;if(!Ut.current||!Z||((rr=window.getSelection())==null?void 0:rr.toString().length)>0)return;let di=Nt.clientY-Ut.current.y,fs=Nt.clientX-Ut.current.x,An=(wr=t.swipeDirections)!=null?wr:ake(J);!xe&&(Math.abs(fs)>1||Math.abs(di)>1)&&Ne(Math.abs(fs)>Math.abs(di)?"x":"y");let Bs={x:0,y:0};xe==="y"?(An.includes("top")||An.includes("bottom"))&&(An.includes("top")&&di<0||An.includes("bottom")&&di>0)&&(Bs.y=di):xe==="x"&&(An.includes("left")||An.includes("right"))&&(An.includes("left")&&fs<0||An.includes("right")&&fs>0)&&(Bs.x=fs),(Math.abs(Bs.x)>0||Math.abs(Bs.y)>0)&&Ue(!0),(ri=Ze.current)==null||ri.style.setProperty("--swipe-amount-x",`${Bs.x}px`),(Un=Ze.current)==null||Un.style.setProperty("--swipe-amount-y",`${Bs.y}px`)}},ye&&!v.jsx?Q.createElement("button",{"aria-label":Y,"data-disabled":us,"data-close-button":!0,onClick:us||!Z?()=>{}:()=>{var Nt;ds(),(Nt=v.onDismiss)==null||Nt.call(v,v)},className:ka(G?.closeButton,(i=v?.classNames)==null?void 0:i.closeButton)},(s=ne?.close)!=null?s:V2e):null,v.jsx||b.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:Q.createElement(Q.Fragment,null,De||v.icon||v.promise?Q.createElement("div",{"data-icon":"",className:ka(G?.icon,(o=v?.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||mf():null,v.type!=="loading"?v.icon||ne?.[De]||D2e(De):null):null,Q.createElement("div",{"data-content":"",className:ka(G?.content,(l=v?.classNames)==null?void 0:l.content)},Q.createElement("div",{"data-title":"",className:ka(G?.title,(c=v?.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?Q.createElement("div",{"data-description":"",className:ka(z,B,G?.description,(u=v?.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),b.isValidElement(v.cancel)?v.cancel:v.cancel&&eb(v.cancel)?Q.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||H,onClick:Nt=>{var rr,wr;eb(v.cancel)&&Z&&((wr=(rr=v.cancel).onClick)==null||wr.call(rr,Nt),ds())},className:ka(G?.cancelButton,(d=v?.classNames)==null?void 0:d.cancelButton)},v.cancel.label):null,b.isValidElement(v.action)?v.action:v.action&&eb(v.action)?Q.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||V,onClick:Nt=>{var rr,wr;eb(v.action)&&((wr=(rr=v.action).onClick)==null||wr.call(rr,Nt),!Nt.defaultPrevented&&ds())},className:ka(G?.actionButton,(h=v?.classNames)==null?void 0:h.actionButton)},v.action.label):null))};function P5(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lke(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?tke:eke;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}b.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:h,duration:g,style:v,visibleToasts:y=Q2e,toastOptions:x,dir:_=P5(),gap:S=nke,loadingIcon:N,icons:C,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:k}=t,[P,O]=Q.useState([]),I=Q.useMemo(()=>Array.from(new Set([n].concat(P.filter(oe=>oe.position).map(oe=>oe.position)))),[P,n]),[F,H]=Q.useState([]),[V,U]=Q.useState(!1),[z,W]=Q.useState(!1),[J,se]=Q.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=Q.useRef(null),ee=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),G=Q.useRef(null),ne=Q.useRef(!1),Y=Q.useCallback(oe=>{O(xe=>{var Ne;return(Ne=xe.find(Le=>Le.id===oe.id))!=null&&Ne.delete||Qi.dismiss(oe.id),xe.filter(({id:Le})=>Le!==oe.id)})},[]);return Q.useEffect(()=>Qi.subscribe(oe=>{if(oe.dismiss){O(xe=>xe.map(Ne=>Ne.id===oe.id?{...Ne,delete:!0}:Ne));return}setTimeout(()=>{S_.flushSync(()=>{O(xe=>{let Ne=xe.findIndex(Le=>Le.id===oe.id);return Ne!==-1?[...xe.slice(0,Ne),{...xe[Ne],...oe},...xe.slice(Ne+1)]:[oe,...xe]})})})}),[]),Q.useEffect(()=>{if(d!=="system"){se(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?se("dark"):se("light")),typeof window>"u")return;let oe=window.matchMedia("(prefers-color-scheme: dark)");try{oe.addEventListener("change",({matches:xe})=>{se(xe?"dark":"light")})}catch{oe.addListener(({matches:Ne})=>{try{se(Ne?"dark":"light")}catch(Le){console.error(Le)}})}},[d]),Q.useEffect(()=>{P.length<=1&&U(!1)},[P]),Q.useEffect(()=>{let oe=xe=>{var Ne,Le;i.every(ce=>xe[ce]||xe.code===ce)&&(U(!0),(Ne=K.current)==null||Ne.focus()),xe.code==="Escape"&&(document.activeElement===K.current||(Le=K.current)!=null&&Le.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",oe),()=>document.removeEventListener("keydown",oe)},[i]),Q.useEffect(()=>{if(K.current)return()=>{G.current&&(G.current.focus({preventScroll:!0}),G.current=null,ne.current=!1)}},[K.current]),Q.createElement("section",{ref:e,"aria-label":`${A} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((oe,xe)=>{var Ne;let[Le,ce]=oe.split("-");return P.length?Q.createElement("ol",{key:oe,dir:_==="auto"?P5():_,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":J,"data-y-position":Le,"data-lifted":V&&P.length>1&&!s,"data-x-position":ce,style:{"--front-toast-height":`${((Ne=F[0])==null?void 0:Ne.height)||0}px`,"--width":`${rke}px`,"--gap":`${S}px`,...v,...lke(c,u)},onBlur:ae=>{ne.current&&!ae.currentTarget.contains(ae.relatedTarget)&&(ne.current=!1,G.current&&(G.current.focus({preventScroll:!0}),G.current=null))},onFocus:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||ne.current||(ne.current=!0,G.current=ae.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{z||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ae=>{ae.target instanceof HTMLElement&&ae.target.dataset.dismissible==="false"||W(!0)},onPointerUp:()=>W(!1)},P.filter(ae=>!ae.position&&xe===0||ae.position===oe).map((ae,ge)=>{var he,Pe;return Q.createElement(oke,{key:ae.id,icons:C,index:ge,toast:ae,defaultRichColors:h,duration:(he=x?.duration)!=null?he:g,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Pe=x?.closeButton)!=null?Pe:o,interacting:z,position:oe,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:Y,toasts:P.filter(te=>te.position==ae.position),heights:F.filter(te=>te.position==ae.position),setHeights:H,expandByDefault:s,gap:S,loadingIcon:N,expanded:V,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const cke=(t,e={})=>{const[r,n]=b.useState([]),[i,s]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState({}),[d,h]=b.useState(null),g=b.useCallback(async(A={})=>{if(console.log("🔍 [useComments] fetchComments appelé avec:",{listingId:t,options:e,newOptions:A}),!t){console.log("❌ [useComments] Pas de listingId, arrêt");return}try{console.log("🔍 [useComments] Début du chargement..."),s(!0),l(null),console.log("🔍 [useComments] Appel du service...");const{comments:k,pagination:P,error:O}=await dg.getComments(t,{...e,...A});if(console.log("🔍 [useComments] Réponse du service:",{commentsLength:k?.length,error:O,pagination:P}),O)throw console.error("❌ [useComments] Erreur du service:",O),new Error(O);console.log("✅ [useComments] Mise à jour du state..."),n(k),u(P),console.log("✅ [useComments] Chargement terminé avec succès")}catch(k){console.error("❌ [useComments] Erreur finale:",k),l(k.message),console.error("Erreur lors du chargement des commentaires:",k)}finally{console.log("🔍 [useComments] Fin du chargement, loading = false"),s(!1)}},[t]),v=b.useCallback(async A=>{try{l(null);const{comment:k,error:P}=await dg.createComment({...A,listing_id:t});if(P)throw new Error(P);return n(O=>[k,...O]),{comment:k,error:null}}catch(k){const P=k.message;return l(P),{comment:null,error:P}}},[t]),y=b.useCallback(async(A,k)=>{try{l(null);const{comment:P,error:O}=await dg.updateComment(A,k);if(O)throw new Error(O);return n(I=>I.map(F=>F.id===A?P:F)),{comment:P,error:null}}catch(P){const O=P.message;return l(O),{comment:null,error:O}}},[]),x=b.useCallback(async A=>{try{l(null);const{error:k}=await dg.deleteComment(A);if(k)throw new Error(k);return n(P=>P.filter(O=>O.id!==A)),{error:null}}catch(k){const P=k.message;return l(P),{error:P}}},[]),_=b.useCallback(async(A,k)=>{try{l(null);const{report:P,error:O}=await dg.reportComment(A,k);if(O)throw new Error(O);return{report:P,error:null}}catch(P){const O=P.message;return l(O),{report:null,error:O}}},[]),S=b.useCallback(A=>{g({page:A})},[g]),N=b.useCallback(A=>{g({...A,page:1})},[g]),C=b.useCallback(()=>{g()},[g]);return b.useEffect(()=>{console.log("🔍 [useComments] useEffect déclenché avec listingId:",t),t?(console.log("🔍 [useComments] Lancement du chargement initial..."),g()):console.log("❌ [useComments] Pas de listingId, pas de chargement")},[t]),{comments:r,loading:i,error:o,pagination:c,fetchComments:g,addComment:v,updateComment:y,deleteComment:x,reportComment:_,changePage:S,changeFilters:N,refresh:C}},uke=(t,e)=>{const[r,n]=b.useState(new Set),[i,s]=b.useState(new Map),o=b.useRef(new Map);b.useEffect(()=>()=>{o.current.forEach(d=>d.abort()),o.current.clear()},[]),b.useEffect(()=>{if(!t||t.length===0)return;[t[e],t[(e+1)%t.length],t[(e-1+t.length)%t.length],t[(e+2)%t.length],t[(e-2+t.length)%t.length]].filter(Boolean).forEach((h,g)=>{if(h&&!r.has(h)&&!i.has(h)){o.current.has(h)&&o.current.get(h).abort();const v=new AbortController;o.current.set(h,v),s(x=>new Map(x).set(h,"loading"));const y=new Image;y.onload=()=>{n(x=>new Set([...x,h])),s(x=>{const _=new Map(x);return _.set(h,"loaded"),_}),o.current.delete(h)},y.onerror=()=>{s(x=>{const _=new Map(x);return _.set(h,"error"),_}),o.current.delete(h)},y.src=h}})},[e,t]);const l=b.useCallback(d=>r.has(d),[r]),c=b.useCallback(d=>i.get(d)||"idle",[i]),u=b.useCallback(d=>{if(d&&!r.has(d)&&!i.has(d)){const h=new AbortController;o.current.set(d,h),s(v=>new Map(v).set(d,"loading"));const g=new Image;g.onload=()=>{n(v=>new Set([...v,d])),s(v=>{const y=new Map(v);return y.set(d,"loaded"),y}),o.current.delete(d)},g.onerror=()=>{s(v=>{const y=new Map(v);return y.set(d,"error"),y}),o.current.delete(d)},g.src=d}},[r,i]);return{preloadedImages:r,loadingStates:i,isImagePreloaded:l,getImageLoadingState:c,preloadImage:u}},jQ=t=>{const e=b.useMemo(()=>{if(t?.images&&t.images.length>0){const l=t.images.map(c=>typeof c=="string"?c:c?.url?c.url:c?.file?URL.createObjectURL(c.file):c?.src?c.src:c?.displayUrl?c.displayUrl:null).filter(Boolean);if(l.length>0)return l}const i={real_estate:["https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop"],automobile:["https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop"],services:["https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],marketplace:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742044-3c52d6e88c62?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop"]};let s=t?.category;s&&(s={immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[s.toLowerCase()]||s);const o=i[s]||i.marketplace;return d_e(o,"gallery","medium")},[t?.images,t?.category]),r=b.useMemo(()=>e[0],[e]),n=b.useMemo(()=>e.length>1,[e]);return{images:e,mainImage:r,hasMultipleImages:n,imageCount:e.length}},dke=(t={})=>{const{onSwipeLeft:e,onSwipeRight:r,onSwipeUp:n,onSwipeDown:i,onPinch:s,onDoubleTap:o,minSwipeDistance:l=50,minPinchDistance:c=10,doubleTapDelay:u=300}=t,[d,h]=b.useState({startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}),g=b.useRef(null),v=b.useRef(null),y=b.useRef(0),x=b.useCallback((O,I)=>Math.hypot(O.clientX-I.clientX,O.clientY-I.clientY),[]),_=b.useCallback((O,I)=>Math.atan2(I.clientY-O.clientY,I.clientX-O.clientX)*180/Math.PI,[]),S=b.useCallback(O=>{const I=Date.now(),F=Array.from(O.touches);if(F.length===2){const H=x(F[0],F[1]),V=_(F[0],F[1]);h(U=>({...U,startDistance:H,startAngle:V,isPinching:!0,startTime:I}))}else if(F.length===1){const H=F[0];if(I-y.current<u){h(U=>({...U,isDoubleTap:!0})),o?.(H),setTimeout(()=>{h(U=>({...U,isDoubleTap:!1}))},100);return}y.current=I,h(U=>({...U,startX:H.clientX,startY:H.clientY,startTime:I,isPinching:!1}))}},[x,_,o,u]),N=b.useCallback(O=>{O.preventDefault();const I=Array.from(O.touches);if(d.isPinching&&I.length===2){const F=x(I[0],I[1]),H=_(I[0],I[1]),V=F-d.startDistance,U=H-d.startAngle;if(Math.abs(V)>c){const z=F/d.startDistance;s?.({scale:z,distanceDelta:V,angleDelta:U,center:{x:(I[0].clientX+I[1].clientX)/2,y:(I[0].clientY+I[1].clientY)/2}})}}},[d,x,_,c,s]),C=b.useCallback(O=>{const I=Array.from(O.changedTouches);if(d.isPinching){h(F=>({...F,isPinching:!1}));return}if(I.length===1&&!d.isDoubleTap){const F=I[0],H=F.clientX-d.startX,V=F.clientY-d.startY,U=Date.now()-d.startTime,z=Math.hypot(H,V),W=z/U;z>l&&W>.3&&(Math.abs(H)>Math.abs(V)?H>0?r?.({deltaX:H,deltaY:V,velocity:W,distance:z}):e?.({deltaX:H,deltaY:V,velocity:W,distance:z}):V>0?i?.({deltaX:H,deltaY:V,velocity:W,distance:z}):n?.({deltaX:H,deltaY:V,velocity:W,distance:z}))}h(F=>({...F,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1}))},[d,l,e,r,n,i]),A=b.useCallback(()=>{h(O=>({...O,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}))},[]),k=b.useCallback(()=>{g.current&&clearTimeout(g.current),v.current&&clearTimeout(v.current)},[]);return{touchHandlers:{onTouchStart:S,onTouchMove:N,onTouchEnd:C,onTouchCancel:A},touchState:d,cleanup:k}},fke=(t,e,r)=>{const[n,i]=b.useState(1),[s,o]=b.useState(!1),l=b.useCallback(({scale:g})=>{const v=Math.max(.5,Math.min(3,g));i(v),o(!0),r?.(v)},[r]),c=b.useCallback(()=>{n<=1&&t?.()},[t,n]),u=b.useCallback(()=>{n<=1&&e?.()},[e,n]),{touchHandlers:d}=dke({onSwipeLeft:c,onSwipeRight:u,onPinch:l,minSwipeDistance:30}),h=b.useCallback(()=>{i(1),o(!1),r?.(1)},[r]);return{touchHandlers:d,zoomLevel:n,isZooming:s,resetZoom:h}},hke=({listingId:t,listing:e,size:r="default",showActions:n=!0,className:i=""})=>{const{user:s}=Sr(),o=Tn(),{toast:l}=Yr(),[c,u]=b.useState(null),[d,h]=b.useState(!1),[g,v]=b.useState(!1);b.useEffect(()=>{t&&s&&y()},[t,s]);const y=async()=>{try{h(!0);const O=await XS.getBoostStatus(t);u(O)}catch(O){console.error("Erreur chargement statut boost:",O)}finally{h(!1)}},x=async()=>{if(c?.currentBoost)try{v(!0),(await XS.renewBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost renouvelé !",description:"Votre boost a été prolongé avec succès."}),y())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors du renouvellement",variant:"destructive"})}finally{v(!1)}},_=async()=>{if(c?.currentBoost&&confirm("Êtes-vous sûr de vouloir annuler ce boost ?"))try{v(!0),(await XS.cancelBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost annulé",description:"Votre boost a été annulé avec succès."}),y())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors de l'annulation",variant:"destructive"})}finally{v(!1)}},S=()=>{if(!c?.hasActiveBoost)return{icon:a.jsx(bW,{className:"h-4 w-4"}),label:"Non boosté",color:"secondary",description:"Aucun boost actif"};const O=c.currentBoost,I=new Date,F=new Date(O.end_date),H=Math.ceil((F-I)/(1e3*60*60*24));return H<=0?{icon:a.jsx(is,{className:"h-4 w-4"}),label:"Expiré",color:"secondary",description:"Boost expiré"}:H<=3?{icon:a.jsx(is,{className:"h-4 w-4"}),label:`${H}j restant${H>1?"s":""}`,color:"destructive",description:"Boost expire bientôt"}:H<=7?{icon:a.jsx(Ua,{className:"h-4 w-4"}),label:`${H}j restant${H>1?"s":""}`,color:"default",description:"Boost actif"}:{icon:a.jsx(Jn,{className:"h-4 w-4"}),label:`${H}j restant${H>1?"s":""}`,color:"default",description:"Boost actif"}},N=O=>{switch(O){case"small":return"text-xs px-2 py-1";case"large":return"text-sm px-3 py-1.5";default:return"text-xs px-2.5 py-1"}},C=O=>{switch(O){case"small":return"h-3 w-3";case"large":return"h-5 w-5";default:return"h-4 w-4"}},A=S(),k=N(r),P=C(r);return!s||!e||s.id!==e.user_id?null:a.jsx(Ah,{children:a.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(pt,{variant:A.color,className:`${k} cursor-help transition-all duration-200 hover:scale-105`,children:a.jsxs("div",{className:"flex items-center gap-1",children:[A.icon,a.jsx("span",{className:"hidden sm:inline",children:A.label})]})})}),a.jsxs(Ba,{children:[a.jsx("p",{children:A.description}),c?.hasActiveBoost&&c.currentBoost&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Package: ",c.currentBoost.boost_packages?.name]})]})]}),n&&c?.hasActiveBoost&&c.currentBoost&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{onClick:x,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(Kl,{className:`${P} text-primary`})})}),a.jsx(Ba,{children:a.jsx("p",{children:"Renouveler le boost"})})]}),a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{onClick:_,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10",children:a.jsx(vR,{className:`${P} text-destructive`})})}),a.jsx(Ba,{children:a.jsx("p",{children:"Annuler le boost"})})]}),a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${t}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-500/10",children:a.jsx(vd,{className:`${P} text-blue-500`})})}),a.jsx(Ba,{children:a.jsx("p",{children:"Voir les détails et analytics"})})]})]}),n&&!c?.hasActiveBoost&&a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{onClick:()=>o(`/booster-annonce/${t}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(Ua,{className:`${P} text-primary`})})}),a.jsx(Ba,{children:a.jsx("p",{children:"Booster cette annonce"})})]}),d&&a.jsx(Oe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),g&&a.jsx(Oe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"})]})})},SQ=({listing:t,variant:e="default"})=>{const{toast:r}=Yr(),[n,i]=b.useState(!1),s=`${window.location.origin}/annonce/${t.id}`,o=v=>{const y=`🏠 Découvrez cette annonce sur MaxiMarket : ${t.title}`;switch(v){case"facebook":return`${y}

💰 Prix : ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}

📍 ${t.location?.city||"Localisation non spécifiée"}`;case"instagram":return`${y}

💰 ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique`;case"tiktok":return`${y}
💰 ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique #FYP`;case"whatsapp":return`${y}

💰 Prix : ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

${s}`;default:return y}},l=()=>{i(!0);const v=o("facebook"),y=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}&quote=${encodeURIComponent(v)}`;window.open(y,"_blank","width=600,height=500,scrollbars=yes,resizable=yes"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur Facebook",description:"L'annonce a été partagée sur Facebook"})},c=()=>{i(!0),navigator.clipboard.writeText(s).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez Instagram et collez-le dans votre story ou post."}),window.open("https://www.instagram.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},u=()=>{i(!0),navigator.clipboard.writeText(s).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez TikTok et collez-le dans votre vidéo ou description."}),window.open("https://www.tiktok.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},d=()=>{i(!0);const v=o("whatsapp"),y=`https://wa.me/?text=${encodeURIComponent(v)}`;window.open(y,"_blank"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur WhatsApp",description:"L'annonce a été partagée sur WhatsApp"})},h=async()=>{try{await navigator.clipboard.writeText(s),r({title:"Lien copié !",description:"Le lien de l'annonce a été copié dans le presse-papiers."})}catch{r({title:"Erreur",description:"Impossible de copier le lien.",variant:"destructive"})}},g=()=>{window.open(s,"_blank")};return e==="compact"?a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsxs(ue,{variant:"outline",size:"sm",disabled:n,className:"flex items-center space-x-2",children:[a.jsx(Yk,{className:"h-4 w-4"}),a.jsx("span",{children:"Partager"})]})}),a.jsxs(Gl,{align:"end",className:"w-48",children:[a.jsxs(vr,{onClick:l,children:[a.jsx(Hk,{className:"h-4 w-4 mr-2 text-blue-600"}),"Facebook"]}),a.jsxs(vr,{onClick:c,children:[a.jsx(Kk,{className:"h-4 w-4 mr-2 text-pink-600"}),"Instagram"]}),a.jsxs(vr,{onClick:u,children:[a.jsx("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),"TikTok"]}),a.jsxs(vr,{onClick:d,children:[a.jsx("svg",{className:"h-4 w-4 mr-2 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"WhatsApp"]}),a.jsxs(vr,{onClick:h,children:[a.jsx(H$,{className:"h-4 w-4 mr-2"}),"Copier le lien"]}),a.jsxs(vr,{onClick:g,children:[a.jsx(xv,{className:"h-4 w-4 mr-2"}),"Ouvrir l'annonce"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yk,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:"Partager cette annonce"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",onClick:l,disabled:n,className:"flex items-center space-x-2 bg-blue-50 hover:bg-blue-100 border-blue-200",children:[a.jsx(Hk,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{children:"Facebook"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:c,disabled:n,className:"flex items-center space-x-2 bg-pink-50 hover:bg-pink-100 border-pink-200",children:[a.jsx(Kk,{className:"h-4 w-4 text-pink-600"}),a.jsx("span",{children:"Instagram"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:u,disabled:n,className:"flex items-center space-x-2 bg-black hover:bg-gray-800 text-white border-gray-700",children:[a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),a.jsx("span",{children:"TikTok"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:d,disabled:n,className:"flex items-center space-x-2 bg-green-50 hover:bg-green-100 border-green-200",children:[a.jsx("svg",{className:"h-4 w-4 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:h,className:"flex items-center space-x-2",children:[a.jsx(H$,{className:"h-4 w-4"}),a.jsx("span",{children:"Copier le lien"})]}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:g,className:"flex items-center space-x-2",children:[a.jsx(xv,{className:"h-4 w-4"}),a.jsx("span",{children:"Ouvrir l'annonce"})]})]})]})};class pke{constructor(){this.isConfigured=!1,this.cache=new Map,this.maxCacheSize=1e3,this.cacheHits=0,this.cacheMisses=0,this.googleTranslateConfig={projectId:void 0,keyFilename:void 0,key:void 0},this.initialize()}async initialize(){try{return this.googleTranslateConfig.key?(this.isConfigured=!0,this.apiKey=this.googleTranslateConfig.key,console.log("Translation service initialized with API key (REST mode)")):(console.warn("Translation service not configured, using mock mode"),console.info("To enable real translation, set VITE_GOOGLE_TRANSLATE_API_KEY"),this.isConfigured=!1),this.isConfigured}catch(e){return console.error("Failed to initialize translation service:",e),this.isConfigured=!1,!1}}_getCacheKey(e,r,n){return`${e}_${n}_${r}`}_manageCache(){if(this.cache.size>this.maxCacheSize){const e=this.cache.keys().next().value;this.cache.delete(e)}}async translateText(e,r,n="auto"){if(!e||typeof e!="string")return e;const i=this._getCacheKey(e,r,n);if(this.cache.has(i))return this.cacheHits++,this.cache.get(i);this.cacheMisses++;try{let s=e;if(this.isConfigured&&this.apiKey)try{const l=await(await fetch(`https://translation.googleapis.com/language/translate/v2?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:n,target:r})})).json();if(l.data&&l.data.translations&&l.data.translations[0])s=l.data.translations[0].translatedText;else throw new Error("Invalid response from Google Translate API")}catch(o){console.warn("Google Translate API error, falling back to mock translation:",o),s=this._mockTranslate(e,r,n)}else s=this._mockTranslate(e,r,n);return this.cache.set(i,s),this._manageCache(),s}catch(s){if(console.error("Translation error:",s),this.isConfigured){console.warn("Falling back to mock translation due to API error");const o=this._mockTranslate(e,r,n);return this.cache.set(i,o),this._manageCache(),o}return e}}_mockTranslate(e,r,n){const i={"fr-en":{Bonjour:"Hello",Merci:"Thank you","Au revoir":"Goodbye",Bienvenue:"Welcome",Accueil:"Home",Marketplace:"Marketplace",Immobilier:"Real Estate",Automobile:"Automotive",Services:"Services",Blog:"Blog",Contact:"Contact","À propos":"About",Connexion:"Login",Inscription:"Sign up",Rechercher:"Search",Filtrer:"Filter",Trier:"Sort",Prix:"Price",Description:"Description",Localisation:"Location",Catégorie:"Category",État:"Condition",Neuf:"New",Occasion:"Used",Reconditionné:"Refurbished",Négociable:"Negotiable",Vues:"Views",Favoris:"Favorites",Partages:"Shares","Publié par":"Posted by","Publié le":"Posted on","Contacter le vendeur":"Contact seller","Signaler l'annonce":"Report listing","Partager l'annonce":"Share listing","Annonces similaires":"Similar listings","Annonces connexes":"Related listings","Aucune description disponible":"No description available","Prix sur demande":"Price on request","Localisation non spécifiée":"Location not specified","Date inconnue":"Unknown date","Aucune donnée disponible":"No data available","Erreur de traduction":"Translation error","Traduction en cours...":"Translating...","Traduit automatiquement":"Automatically translated","Affichage en langue originale":"Showing in original language",Réessayer:"Retry","Erreur de réseau":"Network error","Vérifiez votre connexion":"Check your connection","Trop de tentatives":"Too many attempts","Veuillez réessayer plus tard":"Please try again later"},"en-fr":{Hello:"Bonjour","Thank you":"Merci",Goodbye:"Au revoir",Welcome:"Bienvenue",Home:"Accueil",Marketplace:"Marketplace","Real Estate":"Immobilier",Automotive:"Automobile",Services:"Services",Blog:"Blog",Contact:"Contact",About:"À propos",Login:"Connexion","Sign up":"Inscription",Search:"Rechercher",Filter:"Filtrer",Sort:"Trier",Price:"Prix",Description:"Description",Location:"Localisation",Category:"Catégorie",Condition:"État",New:"Neuf",Used:"Occasion",Refurbished:"Reconditionné",Negotiable:"Négociable",Views:"Vues",Favorites:"Favoris",Shares:"Partages","Posted by":"Publié par","Posted on":"Publié le","Contact seller":"Contacter le vendeur","Report listing":"Signaler l'annonce","Share listing":"Partager l'annonce","Similar listings":"Annonces similaires","Related listings":"Annonces connexes","No description available":"Aucune description disponible","Price on request":"Prix sur demande","Location not specified":"Localisation non spécifiée","Unknown date":"Date inconnue","No data available":"Aucune donnée disponible","Translation error":"Erreur de traduction","Translating...":"Traduction en cours...","Automatically translated":"Traduit automatiquement","Showing in original language":"Affichage en langue originale",Retry:"Réessayer","Network error":"Erreur de réseau","Check your connection":"Vérifiez votre connexion","Too many attempts":"Trop de tentatives","Please try again later":"Veuillez réessayer plus tard"}},s=`${n}-${r}`,o=i[s]||{};return o[e]?o[e]:`[${r.toUpperCase()}] ${e}`}async translateObject(e,r,n="auto"){if(!e||typeof e!="object")return e;const i={};for(const[s,o]of Object.entries(e))typeof o=="string"?i[s]=await this.translateText(o,r,n):typeof o=="object"&&o!==null?i[s]=await this.translateObject(o,r,n):i[s]=o;return i}async translateListing(e,r,n="fr"){if(!e)return e;const i={title:e.title,description:e.description,location:e.location,tags:e.tags},s=await this.translateObject(i,r,n);return{...e,...s,original_language:n,translated_language:r,is_translated:!0}}async translateListings(e,r,n="fr"){if(!Array.isArray(e))return e;const i=[];for(const s of e){const o=await this.translateListing(s,r,n);i.push(o)}return i}isLanguageSupported(e){return["fr","en"].includes(e)}getSupportedLanguages(){return["fr","en"]}clearCache(){this.cache.clear(),this.cacheHits=0,this.cacheMisses=0}getCacheStats(){const e=this.cacheHits+this.cacheMisses;return{size:this.cache.size,maxSize:this.maxCacheSize,hits:this.cacheHits,misses:this.cacheMisses,totalRequests:e,hitRate:e>0?this.cacheHits/e:0}}async testConnection(){if(!this.isConfigured)return{success:!1,message:"Translation service not configured"};try{const e="Hello world",n=await(await fetch(`https://translation.googleapis.com/language/translate/v2?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:"en",target:"fr"})})).json();if(n.data&&n.data.translations&&n.data.translations[0]){const i=n.data.translations[0].translatedText;return{success:!0,message:"API connection successful",test:{original:e,translated:i}}}else throw new Error("Invalid response from Google Translate API")}catch(e){return{success:!1,message:"API connection failed",error:e.message}}}}const k5=new pke,mke=()=>{const{currentLanguage:t}=nf(),[e,r]=b.useState(!1),[n,i]=b.useState(null),[s,o]=b.useState(null),l=b.useCallback(async(d,h="fr")=>{if(t===h){i(null),o(null);return}if(!d){i(null),o(null);return}try{r(!0),o(null);let g;typeof d=="string"?g=await k5.translateText(d,t,h):typeof d=="object"?g=await k5.translateObject(d,t,h):g=d,i(g)}catch(g){console.error("Auto translation error:",g),o(g.message||"Translation failed"),i(null)}finally{r(!1)}},[t]),c=b.useCallback(()=>{i(null),o(null)},[]),u=b.useCallback(async(d,h="fr")=>{await l(d,h)},[l]);return{translateContent:l,isTranslating:e,translatedContent:n,translationError:s,clearTranslation:c,retryTranslation:u,hasTranslation:n!==null}},T5=({content:t,sourceLanguage:e="fr",children:r,className:n="",showTranslationIndicator:i=!0,showRetryButton:s=!0,fallbackToOriginal:o=!0})=>{const{currentLanguage:l}=nf(),{translateContent:c,isTranslating:u,translatedContent:d,translationError:h,retryTranslation:g,hasTranslation:v}=mke();b.useEffect(()=>{t&&l!==e&&c(t,e)},[t,l,e,c]);const y=d||t;return l===e?a.jsx("div",{className:n,children:r(t)}):u?a.jsxs("div",{className:`flex items-center space-x-2 ${n}`,children:[a.jsx(Or,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:l==="fr"?"Traduction en cours...":"Translating..."})]}):h&&!o?a.jsxs("div",{className:`space-y-2 ${n}`,children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[a.jsx(hn,{className:"h-4 w-4"}),a.jsx("span",{children:l==="fr"?"Erreur de traduction":"Translation error"})]}),s&&a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>g(t,e),className:"flex items-center space-x-2",children:[a.jsx(Kl,{className:"h-3 w-3"}),a.jsx("span",{children:l==="fr"?"Réessayer":"Retry"})]})]}):a.jsxs("div",{className:n,children:[r(y),i&&v&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground mt-1",children:[a.jsx(yR,{className:"h-3 w-3"}),a.jsx("span",{children:l==="fr"?"Traduit automatiquement":"Automatically translated"})]}),h&&o&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground mt-1",children:[a.jsx(hn,{className:"h-3 w-3"}),a.jsx("span",{children:l==="fr"?"Affichage en langue originale":"Showing in original language"})]})]})},xu=({listing:t,onToggleFavorite:e,showActions:r=!0})=>{const{user:n}=Sr(),i=Tn(),{images:s}=jQ(t),[o,l]=b.useState(t.is_favorite||!1),[c,u]=b.useState(!1),{t:d,formatCurrency:h,formatDate:g}=nf(),v=A=>h(A,t.currency||"XOF"),y=A=>g(new Date(A),"P"),x=A=>{switch(A){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},_=A=>{const k="text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap";switch(A){case"approved":return a.jsx(pt,{variant:"default",className:`badge-approved ${k}`,children:"Approuvé"});case"pending":return a.jsx(pt,{variant:"secondary",className:k,children:"En attente"});case"rejected":return a.jsx(pt,{variant:"destructive",className:k,children:"Rejeté"});default:return a.jsx(pt,{variant:"outline",className:k,children:A})}},S=async A=>{if(A.stopPropagation(),!n){i("/connexion");return}if(!c)try{u(!0),l(!o),e&&await e(t.id)}catch(k){l(!o),console.error("Erreur lors du basculement des favoris:",k)}finally{u(!1)}},N=()=>{t.id&&i(`/annonce/${t.id}`)};Q.useEffect(()=>{l(t.is_favorite||!1)},[t.is_favorite]);const C=t.featured||t.boosted||t.is_premium||t.premium;return a.jsxs(Oe.div,{whileHover:{y:-4},className:qe("group rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",C?"bg-gradient-to-br from-amber-50/50 to-yellow-100/50 border-2 border-amber-300/50 shadow-amber-200/50":"bg-card border border-border/50"),onClick:N,children:[a.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 bg-muted overflow-hidden",children:[a.jsx($G,{images:s,title:t.title,className:"h-full"}),a.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 sm:flex-row sm:gap-2 items-start",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(pt,{variant:"secondary",className:"bg-black/70 text-white text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center",children:[x(t.category)," ",t.category==="real_estate"?"Immobilier":t.category==="automobile"?"Automobile":t.category==="services"?"Services":"Marketplace"]})}),t.status==="approved"&&C?a.jsx("span",{className:"hidden sm:inline-flex",children:_(t.status)}):_(t.status)]})}),r&&a.jsx(Oe.button,{onClick:S,disabled:c,className:`absolute top-2 right-2 p-1.5 sm:p-2 rounded-full transition-all duration-200 ${o?"bg-red-500 hover:bg-red-600 text-white":"bg-black/20 hover:bg-black/40 text-white"} ${c?"opacity-50 cursor-not-allowed":""}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(Mo,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o?"fill-current":""}`})})]}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx(T5,{content:{title:t.title},sourceLanguage:"fr",children:A=>a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 truncate group-hover:text-primary transition-colors",children:A.title})}),a.jsxs("div",{className:"flex items-center text-muted-foreground mb-2 sm:mb-3",children:[a.jsx(Po,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate text-sm sm:text-base",children:t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:t.location?.city||t.location?.country||"Localisation non spécifiée"})]}),a.jsx("div",{className:qe("text-xl sm:text-2xl font-bold mb-2 sm:mb-3",C?"text-slate-800":"text-primary"),children:t.price?v(t.price):"Prix sur demande"}),a.jsx(T5,{content:{description:t.description},sourceLanguage:"fr",children:A=>a.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-sm sm:text-base line-clamp-2 sm:line-clamp-2",children:A.description||d("messages.noData")})}),C&&a.jsx("div",{className:"mb-3",children:a.jsx(pt,{variant:"secondary",className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-300 text-xs font-medium",children:"⭐ Premium"})}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:t.created_at?y(t.created_at):d("messages.noData")})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[t.views_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Dl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:t.views_count})]}),t.favorites_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Mo,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:t.favorites_count})]})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-border/20",children:a.jsx(SQ,{listing:t,variant:"compact"})}),a.jsx(hke,{listingId:t.id,listing:t,size:"small",showActions:r,className:"mt-3 pt-3 border-t border-border/20"})]})]})},gke=({listings:t=[],category:e,hour:r,timeSlot:n,onListingClick:i})=>{const[s,o]=b.useState(0),[l,c]=b.useState(!0),u=Tn();b.useEffect(()=>{if(!l||t.length<=1)return;const C=setInterval(()=>{o(A=>(A+1)%t.length)},8e3);return()=>clearInterval(C)},[l,t.length]);const d=b.useCallback(()=>c(!1),[]),h=b.useCallback(()=>c(!0),[]),g=b.useCallback(()=>{console.log("🔄 goToNext appelé, currentIndex:",s,"listings.length:",t.length),o(C=>(C+1)%t.length)},[t.length,s]),v=b.useCallback(()=>{console.log("🔄 goToPrevious appelé, currentIndex:",s,"listings.length:",t.length),o(C=>(C-1+t.length)%t.length)},[t.length,s]),y=b.useCallback(C=>{o(C)},[]),x=b.useCallback(C=>{i?i(C):u(`/annonce/${C.id}`)},[u,i]),_=C=>{switch(C){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},S=C=>{switch(C){case"real_estate":return"bg-blue-500";case"automobile":return"bg-green-500";case"services":return"bg-purple-500";case"marketplace":return"bg-orange-500";default:return"bg-gray-500"}};if(!t||t.length===0)return a.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx(is,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune annonce disponible"}),a.jsx("p",{className:"text-gray-300",children:"Revenez plus tard pour découvrir de nouvelles annonces"})]})});const N=t[s];return a.jsxs("div",{className:"relative h-screen overflow-hidden",onMouseEnter:d,onMouseLeave:h,children:[a.jsx(Xn,{mode:"wait",children:a.jsx(Oe.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-0",children:a.jsx(cw,{src:N.images?.[0]||N.image_url,alt:N.title,className:"w-full h-full object-cover",context:"hero",quality:"high",priority:"high",showSkeleton:!0,enableHeroAnimations:!0,showOverlay:!1})},N.id)}),a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center relative z-10",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex justify-center items-center gap-4 mb-8",children:[a.jsxs(pt,{className:qe("text-white/80 border-0 text-sm",S(e)),children:[a.jsx("span",{className:"mr-1",children:_(e)}),e==="real_estate"&&"Immobilier",e==="automobile"&&"Automobile",e==="services"&&"Services",e==="marketplace"&&"Marketplace"]}),a.jsxs(pt,{variant:"outline",className:"text-white/80 border-white/20 text-sm",children:[a.jsx(is,{className:"h-3 w-3 mr-1"}),n," • ",r,"h"]})]}),a.jsxs(Oe.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:["Bienvenue sur"," ",a.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),a.jsx(Oe.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6},className:"text-xl md:text-2xl text-gray-300 mb-32 max-w-3xl mx-auto",children:"Explorez, découvrez, connectez. Votre marketplace de confiance."}),a.jsxs(Oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.8},className:"text-white/60 text-sm mb-4",children:["Découvrez : ",N.title]}),a.jsx(Oe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:1},className:"flex justify-center",children:a.jsx(ue,{variant:"ghost",size:"sm",className:"text-white/70 hover:text-white hover:bg-white/10 border border-white/20",onClick:()=>x(N),children:"Voir cette annonce"})})]})}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none z-50",children:[a.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white border-0 rounded-full w-12 h-12 flex items-center justify-center pointer-events-auto transition-all duration-200 hover:scale-110",onClick:v,children:a.jsx(ca,{className:"h-6 w-6"})}),a.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white border-0 rounded-full w-12 h-12 flex items-center justify-center pointer-events-auto transition-all duration-200 hover:scale-110",onClick:g,children:a.jsx(ua,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-2 z-50",children:t.map((C,A)=>a.jsx("button",{className:qe("w-3 h-3 rounded-full transition-all duration-300 cursor-pointer",A===s?"bg-white scale-125":"bg-white/50 hover:bg-white/75"),onClick:()=>y(A)},A))}),a.jsxs("div",{className:"absolute top-8 right-8 text-white/70 text-sm z-50",children:[s+1," / ",t.length]})]})]})},vke=()=>{const t=Tn(),{user:e}=Sr(),{t:r}=nf(),[n,i]=b.useState([]),[s,o]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState([]),[h,g]=b.useState(!0),[v,y]=b.useState(null),[x,_]=b.useState([]),[S,N]=b.useState(!0),[C,A]=b.useState(null),[k,P]=b.useState({category:"",hour:0,timeSlot:""});b.useEffect(()=>{let H;const V=async()=>{try{o(!0);const W=await Rr.getTopViewedListings(6);i(W||[])}catch(W){c(W?.message||"Erreur lors du chargement des annonces populaires")}finally{o(!1)}},U=async()=>{try{g(!0);const W=await Rr.getPremiumListings(10);d(W?.data||[])}catch(W){y(W?.message||"Erreur lors du chargement des annonces premium")}finally{g(!1)}},z=async()=>{try{N(!0);const W=await Rr.getHeroListings(6);_(W?.data||[]),P({category:W?.category||"",hour:W?.hour||0,timeSlot:W?.rotationInfo?.timeSlot||""})}catch(W){A(W?.message||"Erreur lors du chargement des annonces hero")}finally{N(!1)}};return V(),U(),z(),H=setInterval(()=>{V(),U(),z()},18e5),()=>clearInterval(H)},[]);const O={hidden:{opacity:0,y:20},visible:H=>({opacity:1,y:0,transition:{delay:H*.1,duration:.5,ease:"easeOut"}})},I=[{name:"Immobilier",icon:a.jsx(rfe,{className:"h-10 w-10 mb-3 text-primary"}),path:"/immobilier",description:"Maisons, appartements, terrains."},{name:"Automobile",icon:a.jsx(Zde,{className:"h-10 w-10 mb-3 text-primary"}),path:"/automobile",description:"Voitures, motos, utilitaires."},{name:"Services Pro",icon:a.jsx(Fd,{className:"h-10 w-10 mb-3 text-primary"}),path:"/services",description:"Experts qualifiés à votre service."},{name:"Marketplace",icon:a.jsx(ef,{className:"h-10 w-10 mb-3 text-primary"}),path:"/marketplace",description:"Produits neufs et d'occasion."}],F=H=>{t(H)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20 text-foreground",children:[S?a.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des annonces..."}),a.jsx("p",{className:"text-gray-300",children:"Préparation de votre expérience personnalisée"})]})}):C?a.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"⚠️"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-gray-300",children:C})]})}):a.jsxs(a.Fragment,{children:[a.jsx(gke,{listings:x,category:k.category,hour:k.hour,timeSlot:k.timeSlot}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 w-full max-w-2xl px-4",style:{bottom:"120px"},children:a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.2},children:a.jsxs("form",{onSubmit:H=>{H.preventDefault();const z=H.currentTarget.querySelector('input[name="q"]')?.value||"",{section:W,params:J}=eT(z),se=new URLSearchParams(J);t(`${W==="immobilier"?"/immobilier":W==="automobile"?"/automobile":W==="services"?"/services":"/marketplace"}?${se.toString()}`)},className:"relative",children:[a.jsx(tt,{name:"q",type:"search",placeholder:"Que recherchez-vous sur MaxiMarket ?",className:"w-full py-4 px-6 pr-16 rounded-full text-lg bg-white/10 text-white placeholder-gray-400 border-2 border-transparent focus:border-primary focus:ring-primary focus:outline-none backdrop-blur-md h-16"}),a.jsx(ue,{type:"submit",size:"lg",className:"absolute right-2 top-1/2 transform -translate-y-1/2 rounded-full bg-primary hover:bg-primary/90 h-12 w-12 p-0",children:a.jsx(xfe,{className:"h-6 w-6 text-white"})})]})})})]}),a.jsx("section",{className:"py-16 md:py-24",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Oe.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Explorez nos ",a.jsx("span",{className:"gradient-text",children:"Univers"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:I.map((H,V)=>a.jsxs(Oe.div,{custom:V,variants:O,initial:"hidden",animate:"visible",onClick:()=>F(H.path),className:"bg-card p-6 rounded-xl shadow-2xl hover:shadow-primary/40 transition-all duration-300 transform hover:-translate-y-2 flex flex-col items-center text-center glassmorphic-card border border-transparent hover:border-primary/50 cursor-pointer group",children:[H.icon,a.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:H.name}),a.jsx("p",{className:"text-muted-foreground text-sm mb-5 flex-grow group-hover:text-primary/80 transition-colors",children:H.description}),a.jsxs("div",{className:"w-full border border-primary/50 rounded-md px-4 py-2 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300",children:[r("actions.discover")," ",a.jsx(Cl,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform inline"})]})]},H.name))})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Oe.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["⭐ Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),v&&a.jsx("p",{className:"text-center text-destructive mb-8",children:v}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[h&&!u.length&&Array.from({length:10}).map((H,V)=>a.jsxs("div",{className:"bg-gradient-to-br from-amber-50/80 to-yellow-100/80 rounded-lg shadow-xl overflow-hidden glassmorphic-card border-2 border-amber-300/50",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-gradient-to-r from-amber-300/50 to-yellow-300/50 rounded animate-pulse"})]})]},V)),!h&&u.length===0&&a.jsxs("div",{className:"col-span-full text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium pour le moment"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Soyez le premier à passer premium et boostez votre visibilité !"}),a.jsx(ue,{onClick:()=>t("/creer-annonce"),variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Créer une Annonce Premium"})]}),u.slice(0,10).map(H=>a.jsx(xu,{listing:H,showActions:!1},H.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white shadow-lg",onClick:()=>t("/premium"),children:[r("listings.viewAllPremium")," ",a.jsx(Cl,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:[r("listings.popular")," ",a.jsx("span",{className:"gradient-text",children:r("listings.listings")})]}),l&&a.jsx("p",{className:"text-center text-destructive mb-8",children:l}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[s&&!n.length&&Array.from({length:6}).map((H,V)=>a.jsxs("div",{className:"bg-card rounded-lg shadow-xl overflow-hidden glassmorphic-card border border-transparent",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-muted rounded animate-pulse"})]})]},V)),!s&&n.length===0&&a.jsx("p",{className:"col-span-full text-center text-muted-foreground",children:"Aucune annonce populaire pour le moment."}),n.slice(0,6).map(H=>a.jsx(xu,{listing:H,showActions:!1},H.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(ue,{size:"lg",variant:"default",className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-primary-foreground",onClick:()=>t("/marketplace?sort=popular&per=24"),children:[r("listings.viewAll")," ",a.jsx(Cl,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-20 md:py-32",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[a.jsxs(Oe.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Prêt à ",a.jsx("span",{className:"gradient-text",children:"Rejoindre MaxiMarket"})," ?"]}),a.jsx(Oe.p,{className:"text-lg text-muted-foreground mb-10 max-w-xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Créez un compte, publiez votre première annonce ou trouvez l'affaire parfaite en quelques clics."}),a.jsxs(Oe.div,{className:"space-y-4 sm:space-y-0 sm:flex sm:justify-center sm:space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground w-full sm:w-auto",onClick:()=>{e?t("/creer-annonce"):t("/connexion",{state:{from:"/creer-annonce"}})},children:"Publier une Annonce"}),a.jsx(ue,{size:"lg",variant:"outline",className:"w-full sm:w-auto",onClick:()=>t("/inscription"),children:"Créer un Compte"})]})]})})]})},yke=()=>{const{user:t}=Sr(),e=Tn(),r=Pi(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=b.useState({search:i,location:l,type:"",minPrice:s,maxPrice:o}),{listings:d,loading:h,error:g,hasMore:v,loadMore:y}=_1("real_estate",c),{toggleFavorite:x}=L2e(),_=A=>{A.preventDefault()},S=(A,k)=>{u(P=>({...P,[A]:k}))},N=()=>{u({search:"",location:"",type:"",minPrice:"",maxPrice:""})},C=()=>{if(!t){e("/connexion");return}e("/creer-annonce/real-estate")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-green-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-emerald",children:"Immobilier"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Appartements, maisons, terrains et locaux commerciaux. Trouvez votre prochaine propriété ou investissement ici."})]}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Entrez une ville, quartier, mots-clés...",value:c.search,onChange:A=>S("search",A.target.value),className:"pl-10"}),a.jsx(ei,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"minPrice",className:"block text-sm font-medium mb-1",children:"Prix min"}),a.jsx(tt,{id:"minPrice",type:"number",placeholder:"0",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium mb-1",children:"Prix max"}),a.jsx(tt,{id:"maxPrice",type:"number",placeholder:"∞",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"flex-1",children:[a.jsx(ei,{className:"mr-2 h-4 w-4"}),"Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",onClick:N,children:a.jsx(ss,{className:"h-4 w-4"})})]})]})}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center mb-12",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:"Publier une annonce immobilière"})}),h&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Or,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des annonces..."})]}),g&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(hn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!h&&d.length>0&&a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:d.map((A,k)=>a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:k*.1},children:a.jsx(xu,{listing:A,onToggleFavorite:x})},A.id))}),!h&&!g&&d.length===0&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucune annonce immobilière ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&d.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus d'annonces ",a.jsx(Cl,{className:"ml-2 h-5 w-5"})]})})}),d.length>0&&a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[d.length," annonce",d.length>1?"s":""," immobilière",d.length>1?"s":""," trouvée",d.length>1?"s":""]})})]})})},xke=()=>{const{user:t}=Sr(),e=Tn(),r=Pi(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",c=n.get("brand")||"",[u,d]=b.useState({search:i,location:l,brand:c,minPrice:s,maxPrice:o,year:"",fuel:""}),{listings:h,loading:g,error:v,hasMore:y,loadMore:x,toggleFavorite:_}=_1("automobile",u),S=k=>{k.preventDefault()},N=(k,P)=>{d(O=>({...O,[k]:P}))},C=()=>{d({search:"",location:"",brand:"",minPrice:"",maxPrice:"",year:"",fuel:""})},A=()=>{if(!t){e("/connexion");return}e("/creer-annonce/automobile")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-blue-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-blue",children:"Automobile"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Voitures, motos, utilitaires et pièces détachées. Trouvez votre prochain véhicule ou vendez le vôtre ici."})]}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Marque, modèle, mots-clés...",className:"pl-10 h-12 text-base",value:u.search,onChange:k=>N("search",k.target.value)}),a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, région...",className:"h-12 text-base",value:u.location,onChange:k=>N("location",k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",children:"Marque"}),a.jsxs("select",{id:"brand",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.brand,onChange:k=>N("brand",k.target.value),children:[a.jsx("option",{value:"",children:"Toutes marques"}),a.jsx("option",{value:"Toyota",children:"Toyota"}),a.jsx("option",{value:"Peugeot",children:"Peugeot"}),a.jsx("option",{value:"Renault",children:"Renault"}),a.jsx("option",{value:"Citroën",children:"Citroën"}),a.jsx("option",{value:"Ford",children:"Ford"}),a.jsx("option",{value:"Volkswagen",children:"Volkswagen"}),a.jsx("option",{value:"BMW",children:"BMW"}),a.jsx("option",{value:"Mercedes",children:"Mercedes"}),a.jsx("option",{value:"Audi",children:"Audi"}),a.jsx("option",{value:"Honda",children:"Honda"}),a.jsx("option",{value:"Nissan",children:"Nissan"}),a.jsx("option",{value:"Hyundai",children:"Hyundai"}),a.jsx("option",{value:"Kia",children:"Kia"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium mb-1",children:"Année"}),a.jsxs("select",{id:"year",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.year,onChange:k=>N("year",k.target.value),children:[a.jsx("option",{value:"",children:"Toutes années"}),Array.from({length:25},(k,P)=>2024-P).map(k=>a.jsx("option",{value:k,children:k},k))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fuel",className:"block text-sm font-medium mb-1",children:"Carburant"}),a.jsxs("select",{id:"fuel",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.fuel,onChange:k=>N("fuel",k.target.value),children:[a.jsx("option",{value:"",children:"Tous carburants"}),a.jsx("option",{value:"essence",children:"Essence"}),a.jsx("option",{value:"diesel",children:"Diesel"}),a.jsx("option",{value:"hybride",children:"Hybride"}),a.jsx("option",{value:"electrique",children:"Électrique"}),a.jsx("option",{value:"gpl",children:"GPL"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(ss,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:C,children:"Effacer"})]})]})}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:A,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🚗 Publier une annonce automobile"})}),g&&h.length===0&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Or,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des véhicules..."})]}),v&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(hn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!g&&h.length>0&&a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:h.map((k,P)=>a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:P*.1},children:a.jsx(xu,{listing:k,onToggleFavorite:_})},k.id))}),!g&&!v&&h.length===0&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚗"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun véhicule trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun véhicule ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:C,variant:"outline",children:"Effacer les filtres"})]}),y&&h.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:x,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de véhicules ",a.jsx(Cl,{className:"ml-2 h-5 w-5"})]})})}),h.length>0&&a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[h.length," véhicule",h.length>1?"s":""," trouvé",h.length>1?"s":""]})})]})})},bke=()=>{const{user:t}=Sr(),e=Tn(),r=Pi(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=b.useState({search:i,location:l,serviceType:"",minPrice:s,maxPrice:o}),{listings:d,loading:h,error:g,hasMore:v,loadMore:y,toggleFavorite:x}=_1("services",c),_=A=>{A.preventDefault()},S=(A,k)=>{u(P=>({...P,[A]:k}))},N=()=>{u({search:"",location:"",serviceType:"",minPrice:"",maxPrice:""})},C=()=>{if(!t){e("/connexion");return}e("/creer-annonce/services")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur des ",a.jsx("span",{className:"gradient-text-purple",children:"Services"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Plomberie, électricité, cours particuliers, événementiel et bien plus. Trouvez le service dont vous avez besoin."})]}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Type de service, mots-clés...",className:"pl-10 h-12 text-base",value:c.search,onChange:A=>S("search",A.target.value)}),a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"service-type",className:"block text-sm font-medium mb-1",children:"Type de service"}),a.jsxs("select",{id:"service-type",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:c.serviceType,onChange:A=>S("serviceType",A.target.value),children:[a.jsx("option",{value:"",children:"Tous services"}),a.jsx("option",{value:"plomberie",children:"Plomberie"}),a.jsx("option",{value:"electricite",children:"Électricité"}),a.jsx("option",{value:"menage",children:"Ménage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"education",children:"Éducation"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"coiffure",children:"Coiffure"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"evenementiel",children:"Événementiel"}),a.jsx("option",{value:"transport",children:"Transport"}),a.jsx("option",{value:"reparation",children:"Réparation"}),a.jsx("option",{value:"conseil",children:"Conseil"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(ss,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:N,children:"Effacer"})]})]})}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:C,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🔧 Proposer un service"})}),h&&d.length===0&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Or,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des services..."})]}),g&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(hn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!h&&d.length>0&&a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:d.map((A,k)=>a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:k*.1},children:a.jsx(xu,{listing:A,onToggleFavorite:x})},A.id))}),!h&&!g&&d.length===0&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔧"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun service trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun service ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),v&&d.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:h,children:h?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de services ",a.jsx(Cl,{className:"ml-2 h-5 w-5"})]})})}),d.length>0&&a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[d.length," service",d.length>1?"s":""," trouvé",d.length>1?"s":""]})})]})})},wke=()=>{const{user:t}=Sr(),e=Tn(),r=Pi(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("sort")||"",s=parseInt(n.get("per")||"12",10),o=n.get("search")||"",l=n.get("minPrice")||"",c=n.get("maxPrice")||"",u=n.get("location")||"",[d,h]=b.useState({search:o,location:u,category:"",minPrice:l,maxPrice:c,condition:"",sort:i,per:isNaN(s)?12:Math.min(Math.max(s,6),48)}),{listings:g,loading:v,error:y,hasMore:x,loadMore:_,toggleFavorite:S}=_1("marketplace",d),N=P=>{P.preventDefault()};b.useMemo(()=>d.sort==="popular"?[...g].sort((P,O)=>(O?.views_count||0)-(P?.views_count||0)):g,[d.sort,g]);const C=(P,O)=>{h(I=>({...I,[P]:O}))},A=()=>{h({search:"",location:"",category:"",minPrice:"",maxPrice:"",condition:""})},k=()=>{if(!t){e("/connexion");return}e("/creer-annonce/marketplace")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-orange-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur ",a.jsx("span",{className:"gradient-text-orange",children:"Marketplace"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Téléphones, vêtements, meubles, livres et bien plus. Achetez et vendez en toute sécurité."})]}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:N,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(tt,{id:"search",type:"text",placeholder:"Produit, marque, mots-clés...",className:"pl-10 h-12 text-base",value:d.search,onChange:P=>C("search",P.target.value)}),a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(tt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:d.location,onChange:P=>C("location",P.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Catégorie"}),a.jsxs("select",{id:"category",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:d.category,onChange:P=>C("category",P.target.value),children:[a.jsx("option",{value:"",children:"Toutes catégories"}),a.jsx("option",{value:"telephonie",children:"Téléphonie"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"vetements",children:"Vêtements"}),a.jsx("option",{value:"chaussures",children:"Chaussures"}),a.jsx("option",{value:"accessoires",children:"Accessoires"}),a.jsx("option",{value:"mobilier",children:"Mobilier"}),a.jsx("option",{value:"electromenager",children:"Électroménager"}),a.jsx("option",{value:"livres",children:"Livres"}),a.jsx("option",{value:"sport",children:"Sport"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"jouets",children:"Jouets"}),a.jsx("option",{value:"bricolage",children:"Bricolage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium mb-1",children:"État"}),a.jsxs("select",{id:"condition",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:d.condition,onChange:P=>C("condition",P.target.value),children:[a.jsx("option",{value:"",children:"Tous états"}),a.jsx("option",{value:"neuf",children:"Neuf"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"usage",children:"Usage"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:d.minPrice,onChange:P=>C("minPrice",P.target.value)}),a.jsx(tt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:d.maxPrice,onChange:P=>C("maxPrice",P.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(ss,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(ue,{type:"button",variant:"outline",className:"h-12 px-3",onClick:A,children:"Effacer"})]})]})}),a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(ue,{onClick:k,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🛍️ Vendre un produit"})}),v&&g.length===0&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Or,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des produits..."})]}),y&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(hn,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:y}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(ue,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(ue,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!v&&g.length>0&&a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:g.map((P,O)=>a.jsx(Oe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:O*.1},children:a.jsx(xu,{listing:P,onToggleFavorite:S})},P.id))}),!v&&!y&&g.length===0&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🛍️"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun produit trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun produit ne correspond à vos critères de recherche."}),a.jsx(ue,{onClick:A,variant:"outline",children:"Effacer les filtres"})]}),x&&g.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(ue,{onClick:_,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Or,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de produits ",a.jsx(Cl,{className:"ml-2 h-5 w-5"})]})})}),g.length>0&&a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[g.length," produit",g.length>1?"s":""," trouvé",g.length>1?"s":""]})})]})})},_ke=()=>{const t=Tn(),[e,r]=b.useState([]),[n,i]=b.useState(!0),[s,o]=b.useState(null),[l,c]=b.useState(1),[u,d]=b.useState(1),[h,g]=b.useState(!1),[v,y]=b.useState({category:"",minPrice:"",maxPrice:"",location:"",search:""}),x=async(k=1,P=v)=>{try{i(!0),o(null);const O=await Rr.getPremiumListings(100,!0);if(O?.data){let I=O.data;P.category&&(I=I.filter(J=>J.category===P.category)),P.minPrice&&(I=I.filter(J=>J.price>=parseFloat(P.minPrice))),P.maxPrice&&(I=I.filter(J=>J.price<=parseFloat(P.maxPrice))),P.location&&(I=I.filter(J=>J.location?.city?.toLowerCase().includes(P.location.toLowerCase())||J.location?.country?.toLowerCase().includes(P.location.toLowerCase()))),P.search&&(I=I.filter(J=>J.title.toLowerCase().includes(P.search.toLowerCase())||J.description.toLowerCase().includes(P.search.toLowerCase())));const F=12,H=I.length,V=Math.ceil(H/F),U=(k-1)*F,z=U+F,W=I.slice(U,z);r(W),d(V),g(k<V),c(k)}}catch(O){o(O?.message||"Erreur lors du chargement des annonces premium")}finally{i(!1)}};b.useEffect(()=>{x(1,v)},[]);const _=(k,P)=>{const O={...v,[k]:P};y(O),c(1),x(1,O)},S=k=>{k.preventDefault(),x(1,v)},N=()=>{const k={category:"",minPrice:"",maxPrice:"",location:"",search:""};y(k),x(1,k)},C=k=>{k>=1&&k<=u&&x(k,v)},A=[{value:"real_estate",label:"🏠 Immobilier",color:"bg-blue-100 text-blue-800"},{value:"automobile",label:"🚗 Automobile",color:"bg-green-100 text-green-800"},{value:"services",label:"🔧 Services",color:"bg-purple-100 text-purple-800"},{value:"marketplace",label:"🛍️ Marketplace",color:"bg-orange-100 text-orange-800"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20",children:[a.jsx(Oe.section,{className:"relative py-16 md:py-24 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsx("div",{className:"flex items-center mb-6",children:a.jsxs(ue,{variant:"ghost",onClick:()=>t(-1),className:"mr-4 hover:bg-amber-100",children:[a.jsx(rp,{className:"h-5 w-5 mr-2"}),"Retour"]})}),a.jsxs(Oe.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[a.jsxs("div",{className:"flex justify-center items-center mb-6",children:[a.jsx(K$,{className:"h-16 w-16 text-amber-500 mr-4"}),a.jsx(da,{className:"h-12 w-12 text-yellow-500"})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto mb-8",children:"Découvrez notre sélection exclusive d'annonces premium. Qualité garantie, visibilité maximale."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[a.jsxs(pt,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300",children:[a.jsx(bW,{className:"h-4 w-4 mr-2"}),"Mise en avant garantie"]}),a.jsxs(pt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(da,{className:"h-4 w-4 mr-2"}),"Qualité premium"]}),a.jsxs(pt,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[a.jsx(K$,{className:"h-4 w-4 mr-2"}),"Support prioritaire"]})]})]})]})}),a.jsx("section",{className:"py-8 bg-background/50",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsx(Oe.div,{className:"bg-card rounded-xl p-6 shadow-lg border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("form",{onSubmit:S,className:"relative",children:[a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(tt,{type:"text",placeholder:"Rechercher dans les annonces premium...",value:v.search,onChange:k=>_("search",k.target.value),className:"pl-10 pr-4 py-3"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("select",{value:v.category,onChange:k=>_("category",k.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Toutes catégories"}),A.map(k=>a.jsx("option",{value:k.value,children:k.label},k.value))]}),a.jsx(tt,{type:"number",placeholder:"Prix min",value:v.minPrice,onChange:k=>_("minPrice",k.target.value),className:"w-32"}),a.jsx(tt,{type:"number",placeholder:"Prix max",value:v.maxPrice,onChange:k=>_("maxPrice",k.target.value),className:"w-32"}),a.jsx(tt,{type:"text",placeholder:"Localisation",value:v.location,onChange:k=>_("location",k.target.value),className:"w-40"}),a.jsxs(ue,{variant:"outline",onClick:N,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),"Effacer"]})]})]})})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s&&a.jsx(Oe.div,{className:"text-center text-destructive mb-8 p-4 bg-destructive/10 rounded-lg",initial:{opacity:0},animate:{opacity:1},children:s}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?Array.from({length:9}).map((k,P)=>a.jsxs(Oe.div,{className:"bg-card rounded-lg shadow-lg overflow-hidden border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:P*.1},children:[a.jsx("div",{className:"h-48 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-8 w-1/3 bg-muted rounded animate-pulse"})]})]},P)):e.length>0?e.map((k,P)=>a.jsx(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:P*.1},children:a.jsx(xu,{listing:k,showActions:!1})},k.id)):a.jsxs(Oe.div,{className:"col-span-full text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Essayez de modifier vos filtres ou revenez plus tard"}),a.jsx(ue,{onClick:N,variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Effacer les filtres"})]})}),!n&&u>1&&a.jsxs(Oe.div,{className:"flex justify-center items-center mt-12 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[a.jsx(ue,{variant:"outline",onClick:()=>C(l-1),disabled:l===1,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Précédent"}),Array.from({length:u},(k,P)=>P+1).map(k=>a.jsx(ue,{variant:l===k?"default":"outline",onClick:()=>C(k),className:l===k?"bg-amber-500 hover:bg-amber-600":"border-amber-300 text-amber-700 hover:bg-amber-100",children:k},k)),a.jsx(ue,{variant:"outline",onClick:()=>C(l+1),disabled:l===u,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Suivant"})]}),!n&&e.length>0&&a.jsx(Oe.div,{className:"text-center mt-8 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:a.jsxs("p",{children:["Affichage de ",e.length," annonces premium",u>1&&` (page ${l} sur ${u})`]})})]})})]})},jke=[{value:"real_estate",label:"Immobilier"},{value:"automobile",label:"Automobile"},{value:"services",label:"Service"},{value:"marketplace",label:"Produit"}],A5={title:"",description:"",price:"",currency:"XOF",category:"",subCategory:"",location:{city:"",country:""},images:[],videos:[],specificData:{}},Ske=t=>({"real-estate":"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"})[t]||"",Nke=({onSuccess:t,category:e,onDataChange:r,currentStep:n=1,onStepChange:i})=>{const{toast:s}=Yr(),[o,l]=b.useState({...A5,category:e?Ske(e):""}),[c,u]=b.useState(!1),[d,h]=b.useState(!1),[g,v]=b.useState({current:0,total:0}),[y,x]=b.useState(n);b.useEffect(()=>{x(n)},[n]);const _=[{code:"BJ",name:"Bénin",cities:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Kandi","Abomey","Natitingou","Ouidah","Lokossa"]},{code:"CI",name:"Côte d'Ivoire",cities:["Abidjan","Bouaké","Daloa","Yamoussoukro","San Pedro","Korhogo","Man","Gagnoa","Abengourou","Divo"]},{code:"NG",name:"Nigeria",cities:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"]}],S=G=>{const{name:ne,value:Y}=G.target;if(ne.startsWith("location.")){const oe=ne.split(".")[1];l(xe=>({...xe,location:{...xe.location,[oe]:Y}}))}else l(oe=>({...oe,[ne]:Y}));r&&r({[ne]:Y})},N=G=>{const{name:ne,value:Y}=G.target;l(oe=>({...oe,specificData:{...oe.specificData,[ne]:Y}}))},C=(G,ne=1920,Y=.8)=>new Promise(oe=>{const xe=document.createElement("canvas"),Ne=xe.getContext("2d"),Le=new Image;Le.onload=()=>{let{width:ce,height:ae}=Le;ce>ne&&(ae=ae*ne/ce,ce=ne),xe.width=ce,xe.height=ae,Ne.drawImage(Le,0,0,ce,ae),xe.toBlob(ge=>{const he=new File([ge],G.name,{type:"image/jpeg",lastModified:Date.now()});oe(he)},"image/jpeg",Y)},Le.src=URL.createObjectURL(G)}),A=G=>new Promise(ne=>{const Y=new FileReader;Y.onload=oe=>{ne({url:oe.target.result,file:G,id:Date.now()+Math.random()})},Y.readAsDataURL(G)}),k=async G=>{const ne=Array.from(G.target.files);if(!ne.length)return;if(o.images.length+ne.length>8){s({title:"Limite atteinte",description:"Vous pouvez uploader jusqu'à 8 images maximum.",variant:"destructive"});return}if(ne.filter(oe=>!oe.type.startsWith("image/")).length>0){s({title:"Type de fichier invalide",description:"Seules les images sont acceptées.",variant:"destructive"});return}h(!0),v({current:0,total:ne.length});try{const oe=await Promise.all(ne.map(A)),xe=[...o.images,...oe.map(he=>({url:he.url,isPreview:!0,id:he.id,file:he.file}))];l(he=>({...he,images:xe})),r&&r({images:xe});const Ne=await Promise.all(ne.map(he=>C(he,1920,.8))),Le=async(he,Pe)=>{const te=he.slice(Pe,Pe+3);return Promise.all(te.map(async(X,_e)=>{const we=Pe+_e;try{const We=await Xfe.uploadImage(X,"listings");return v({current:we+1,total:he.length}),{success:!0,url:We,index:we}}catch(We){return console.error("Erreur upload pour",X.name,We),v({current:we+1,total:he.length}),{success:!1,error:We.message,index:we}}}))},ce=[];for(let he=0;he<Ne.length;he+=3){const Pe=await Le(Ne,he);ce.push(...Pe)}const ae=ce.filter(he=>he.success),ge=ce.filter(he=>!he.success);if(ae.length>0){const he=[...xe];ae.forEach(({url:Pe,index:te})=>{const X=he.findIndex(_e=>_e.isPreview&&_e.id===oe[te].id);X!==-1&&(he[X]={url:Pe,isPreview:!1})}),l(Pe=>({...Pe,images:he})),r&&r({images:he}),s({title:"Images ajoutées",description:`${ae.length} image(s) téléchargée(s) avec succès.`})}ge.length>0&&s({title:"Erreurs d'upload",description:`Erreurs pour ${ge.length} fichier(s): ${ge.map(he=>he.error).join(", ")}`,variant:"destructive"})}catch(oe){console.error("Erreur générale upload:",oe),s({title:"Erreur upload",description:oe?.message||"Erreur lors de l'upload.",variant:"destructive"})}finally{h(!1),v({current:0,total:0})}},P=G=>{l(ne=>{const Y=ne.images.filter((oe,xe)=>xe!==G);return r&&r({images:Y}),{...ne,images:Y}})},O=()=>!o.title||o.title.length<5?"Le titre est requis (min 5 caractères)":!o.description||o.description.length<10?"La description est requise (min 10 caractères)":!o.price||isNaN(Number(o.price))?"Le prix est requis et doit être un nombre":o.category?null:"La catégorie est requise",I=()=>{y<2&&(x(y+1),i&&i(y+1))},F=()=>{y>1&&(x(y-1),i&&i(y-1))},H=async G=>{G.preventDefault();const ne=O();if(ne){s({title:"Erreur de validation",description:ne,variant:"destructive"});return}u(!0);try{const Y=o.images.filter(Ne=>!Ne.isPreview).map(Ne=>Ne.url),oe={...o,images:Y,price:Number(o.price)},xe=await Rr.createListing(oe);s({title:"Annonce créée !",description:"Votre annonce a été soumise avec succès."}),l(A5),t&&t(xe)}catch(Y){s({title:"Erreur",description:Y?.message||"Erreur lors de la création.",variant:"destructive"})}finally{u(!1)}},V=()=>{switch(o.category){case"real_estate":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"propertyType",children:"Type de bien immobilier"}),a.jsx(tt,{id:"propertyType",name:"propertyType",placeholder:"Ex: Appartement, Maison, Terrain, Local commercial...",value:o.specificData.propertyType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"transactionType",children:"Type de transaction"}),a.jsx(tt,{id:"transactionType",name:"transactionType",placeholder:"Ex: Vente, Location, Location-vente...",value:o.specificData.transactionType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bedrooms",children:"Nombre de chambres"}),a.jsx(tt,{id:"bedrooms",name:"bedrooms",type:"number",placeholder:"Ex: 3",min:"0",value:o.specificData.bedrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"bathrooms",children:"Nombre de salles de bain"}),a.jsx(tt,{id:"bathrooms",name:"bathrooms",type:"number",placeholder:"Ex: 2",min:"0",value:o.specificData.bathrooms||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"areaSqMeters",children:"Surface en mètres carrés"}),a.jsx(tt,{id:"areaSqMeters",name:"areaSqMeters",type:"number",placeholder:"Ex: 120",min:"1",value:o.specificData.areaSqMeters||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Commodités et équipements"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez les commodités disponibles (piscine, parking, climatisation, etc.)"}),(o.specificData.amenities||[]).map((G,ne)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:G,onChange:Y=>J(ne,Y.target.value),placeholder:"Ex: Piscine, Parking, Climatisation..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>K(ne),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ne)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:se,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter une commodité"})]})]});case"automobile":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"vehicleType",children:"Type de véhicule"}),a.jsx(tt,{id:"vehicleType",name:"vehicleType",placeholder:"Ex: Voiture, Moto, Camion, Bus...",value:o.specificData.vehicleType||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"make",children:"Marque du véhicule"}),a.jsx(tt,{id:"make",name:"make",placeholder:"Ex: Toyota, Honda, BMW...",value:o.specificData.make||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"model",children:"Modèle du véhicule"}),a.jsx(tt,{id:"model",name:"model",placeholder:"Ex: Corolla, Civic, X5...",value:o.specificData.model||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"year",children:"Année de fabrication"}),a.jsx(tt,{id:"year",name:"year",type:"number",placeholder:"Ex: 2020",min:"1900",max:new Date().getFullYear()+1,value:o.specificData.year||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"mileage",children:"Kilométrage en km"}),a.jsx(tt,{id:"mileage",name:"mileage",type:"number",placeholder:"Ex: 50000",min:"0",value:o.specificData.mileage||"",onChange:N})]})]});case"services":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"serviceCategory",children:"Catégorie de service"}),a.jsx(tt,{id:"serviceCategory",name:"serviceCategory",placeholder:"Ex: Plomberie, Électricité, Design, Formation...",value:o.specificData.serviceCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"availability",children:"Disponibilité"}),a.jsx(tt,{id:"availability",name:"availability",placeholder:"Ex: Lundi-Vendredi 9h-18h, Weekends...",value:o.specificData.availability||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"experienceYears",children:"Années d'expérience"}),a.jsx(tt,{id:"experienceYears",name:"experienceYears",type:"number",placeholder:"Ex: 5",min:"0",value:o.specificData.experienceYears||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{children:"Liens de portfolio et références"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez des liens vers vos réalisations, portfolio ou références"}),(o.specificData.portfolioLinks||[]).map((G,ne)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(tt,{value:G,onChange:Y=>U(ne,Y.target.value),placeholder:"https://votre-portfolio.com ou lien vers vos réalisations..."}),a.jsx(ue,{type:"button",size:"icon",variant:"destructive",onClick:()=>W(ne),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},ne)),a.jsx(ue,{type:"button",size:"sm",variant:"outline",onClick:z,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter un lien de portfolio"})]})]});case"marketplace":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"productCategory",children:"Catégorie de produit"}),a.jsx(tt,{id:"productCategory",name:"productCategory",placeholder:"Ex: Électronique, Vêtements, Livres, Sport...",value:o.specificData.productCategory||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"brand",children:"Marque du produit"}),a.jsx(tt,{id:"brand",name:"brand",placeholder:"Ex: Apple, Nike, Samsung...",value:o.specificData.brand||"",onChange:N})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"stockQuantity",children:"Quantité disponible en stock"}),a.jsx(tt,{id:"stockQuantity",name:"stockQuantity",type:"number",placeholder:"Ex: 10",min:"0",value:o.specificData.stockQuantity||"",onChange:N})]})]});default:return null}},U=(G,ne)=>{l(Y=>({...Y,specificData:{...Y.specificData,portfolioLinks:Y.specificData.portfolioLinks?.map((oe,xe)=>xe===G?ne:oe)||[]}}))},z=()=>{l(G=>({...G,specificData:{...G.specificData,portfolioLinks:[...G.specificData.portfolioLinks||[],""]}}))},W=G=>{l(ne=>({...ne,specificData:{...ne.specificData,portfolioLinks:ne.specificData.portfolioLinks?.filter((Y,oe)=>oe!==G)||[]}}))},J=(G,ne)=>{l(Y=>({...Y,specificData:{...Y.specificData,amenities:Y.specificData.amenities?.map((oe,xe)=>xe===G?ne:oe)||[]}}))},se=()=>{l(G=>({...G,specificData:{...G.specificData,amenities:[...G.specificData.amenities||[],""]}}))},K=G=>{l(ne=>({...ne,specificData:{...ne.specificData,amenities:ne.specificData.amenities?.filter((Y,oe)=>oe!==G)||[]}}))},ee=()=>{switch(y){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Informations de base"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Commencez par les informations essentielles de votre annonce."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"title",children:"Titre de l'annonce *"}),a.jsx(tt,{id:"title",name:"title",value:o.title,onChange:S,placeholder:"Ex: Appartement moderne 3 pièces à Cotonou",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"description",children:"Description *"}),a.jsx(vu,{id:"description",name:"description",value:o.description,onChange:S,placeholder:"Décrivez votre offre en détail...",rows:4,required:!0,className:"max-w-2xl resize-none transition-all duration-200",style:{minHeight:"120px",height:"auto",overflow:"hidden"},onInput:G=>{G.target.style.height="auto",G.target.style.height=Math.min(G.target.scrollHeight,300)+"px"}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"category",children:"Catégorie *"}),a.jsxs("select",{id:"category",name:"category",value:o.category,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une catégorie"}),jke.map(G=>a.jsx("option",{value:G.value,className:"text-foreground",children:G.label},G.value))]})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Prix et localisation"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"price",children:"Prix *"}),a.jsx(tt,{id:"price",name:"price",type:"number",value:o.price,onChange:S,placeholder:"0",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"currency",children:"Devise"}),a.jsxs("select",{id:"currency",name:"currency",value:o.currency,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"XOF",className:"text-foreground",children:"XOF (Franc CFA)"}),a.jsx("option",{value:"EUR",className:"text-foreground",children:"EUR (Euro)"}),a.jsx("option",{value:"USD",className:"text-foreground",children:"USD (Dollar US)"}),a.jsx("option",{value:"NGN",className:"text-foreground",children:"NGN (Naira)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"country",children:"Pays"}),a.jsxs("select",{id:"country",name:"location.country",value:o.location.country,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner un pays"}),_.map(G=>a.jsx("option",{value:G.name,className:"text-foreground",children:G.name},G.code))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"city",children:"Ville"}),a.jsxs("select",{id:"city",name:"location.city",value:o.location.city,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.location.country,children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une ville"}),_.find(G=>G.name===o.location.country)?.cities?.map((G,ne)=>a.jsx("option",{value:G,className:"text-foreground",children:G},`${o.location.country||"unknown"}-${G}-${ne}`))]})]})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Médias et détails"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Ajoutez des photos et des informations spécifiques à votre catégorie."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Images et médias"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"image-upload",children:"Sélectionner des images"}),a.jsxs("div",{className:`border-2 border-dashed border-gray-400 rounded-lg p-6 text-center transition-colors ${d?"border-blue-400 bg-blue-50":"hover:border-primary"}`,children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:k,className:"hidden",id:"image-upload",disabled:d}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer ${d?"cursor-not-allowed":""}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:d?a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}):a.jsx(Td,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:d?"Chargement en cours...":"Cliquez pour ajouter des images"}),a.jsx("p",{className:"text-xs text-gray-600",children:d?`Veuillez patienter (${g.current}/${g.total})`:"PNG, JPG jusqu'à 10MB"}),d&&g.total>0&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})})]})]})})]})]}),o.images.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(rt,{children:["Images sélectionnées (",o.images.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o.images.map((G,ne)=>a.jsxs("div",{className:"relative group aspect-square",children:[a.jsx("img",{src:G.url,alt:`Aperçu ${ne+1}`,className:`w-full h-full object-cover rounded-lg border ${G.isPreview?"opacity-70":""}`}),G.isPreview&&a.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}),a.jsx("button",{type:"button",onClick:()=>P(ne),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity shadow-md",title:"Supprimer cette image",disabled:G.isPreview,children:"×"})]},ne))})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Détails spécifiques à la catégorie"}),o.category?a.jsx("div",{className:"space-y-4",children:V()}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Veuillez d'abord sélectionner une catégorie à l'étape 1."})})]})]});default:return null}};return a.jsxs("div",{className:"space-y-6",children:[ee(),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:F,disabled:y===1,children:"Précédent"}),a.jsx("div",{className:"flex items-center space-x-2",children:y<2?a.jsx(ue,{type:"button",onClick:I,disabled:!o.title||!o.description||!o.category,children:"Suivant"}):a.jsx(ue,{type:"submit",onClick:H,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?"Publication...":"Publier l'annonce"})})]})]})},Cke=({formData:t,onClose:e})=>{const[r,n]=b.useState(0),[i,s]=b.useState(!1),o=x=>({real_estate:Wk,automobile:L_,services:Fd,marketplace:ef})[x]||Wk,l=x=>x?typeof x=="string"?x:x?.url?x.url:x?.file?URL.createObjectURL(x.file):x?.src?x.src:null:null,c=()=>!t.images||!Array.isArray(t.images)?[]:t.images.map(x=>{const _=l(x);return _?{...x,displayUrl:_}:null}).filter(Boolean),u=x=>({real_estate:"Immobilier",automobile:"Automobile",services:"Service",marketplace:"Produit"})[x]||"Autre",d=o(t.category),h=c(),g=()=>{h.length>0&&n(x=>x===h.length-1?0:x+1)},v=()=>{h.length>0&&n(x=>x===0?h.length-1:x)},y=x=>{x>=0&&x<h.length&&n(x)};return a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:a.jsxs(Oe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Aperçu de l'annonce"}),(!t.title||!t.description||!t.price)&&a.jsx(pt,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Preview partiel"})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:e,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:h.length>0?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{mode:"wait",children:a.jsx(Oe.img,{src:h[r]?.displayUrl,alt:`Image ${r+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},r)}),h.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(ca,{className:"h-5 w-5"})}),a.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(ua,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:[r+1," / ",h.length]}),a.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>s(!i),className:`p-2 rounded-full transition-all ${i?"bg-red-500 text-white":"bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100"}`,children:a.jsx(Mo,{className:`h-5 w-5 ${i?"fill-current":""}`})}),a.jsx("button",{className:"p-2 rounded-full bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100 transition-all",children:a.jsx(Yk,{className:"h-5 w-5"})})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(tf,{className:"h-8 w-8"})}),a.jsx("p",{children:"Aucune image"}),a.jsx("p",{className:"text-xs mt-1",children:"Ajoutez des images à l'étape 2"})]})})}),h.length>1&&a.jsx("div",{className:"flex space-x-2 mt-4 overflow-x-auto",children:h.map((x,_)=>a.jsx("button",{onClick:()=>y(_),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${_===r?"border-primary":"border-border hover:border-primary/50"}`,children:a.jsx("img",{src:x.displayUrl,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs(pt,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[a.jsx(d,{className:"h-3 w-3 mr-1"}),u(t.category)]}),a.jsx(pt,{variant:"outline",className:"text-green-600 border-green-600",children:"Actif"})]}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:t.title||"Titre de l'annonce (à définir)"}),a.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[a.jsx(Po,{className:"h-4 w-4 mr-1"}),t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:"Localisation non définie"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-foreground",children:t.price?`${t.price} ${t.currency||"XOF"}`:"Prix à définir"}),t.category==="real_estate"&&t.specificData?.areaSqMeters&&a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[t.specificData.areaSqMeters," m²"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Description"}),a.jsx("p",{className:"text-foreground leading-relaxed",children:t.description||"Description à ajouter pour votre annonce."})]}),t.specificData&&Object.keys(t.specificData).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Détails"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.category==="real_estate"&&a.jsxs(a.Fragment,{children:[t.specificData.propertyType&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.propertyType})]}),t.specificData.bedrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Chambres:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.bedrooms})]}),t.specificData.bathrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Salles de bain:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.bathrooms})]}),t.specificData.areaSqMeters&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Surface:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[t.specificData.areaSqMeters," m²"]})]})]}),t.category==="automobile"&&a.jsxs(a.Fragment,{children:[t.specificData.make&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Marque:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.make})]}),t.specificData.model&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Modèle:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.model})]}),t.specificData.year&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Année:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.year})]}),t.specificData.mileage&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Kilométrage:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[t.specificData.mileage," km"]})]})]})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Images"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["• ",h.length," image(s) ajoutée(s)"]}),h.length===0&&a.jsx("p",{className:"text-yellow-600 mt-1",children:"⚠️ Aucune image - Ajoutez des images à l'étape 2"})]})]})})]})]})]})})},tb=()=>{const t=Tn(),{category:e,id:r}=jO(),{toast:n}=Yr(),[i,s]=b.useState(1),[o,l]=b.useState({}),[c,u]=b.useState(!1),[d,h]=b.useState(!1),[g,v]=b.useState(!1),y=async I=>{try{v(!0);const F=await Rr.getListingById(I);if(F){const H={title:F.title||"",description:F.description||"",price:F.price||"",category:F.category||e,location:F.location||{},images:F.images||[],contact_info:F.contact_info||{},real_estate_details:F.real_estate_details||{},automobile_details:F.automobile_details||{},service_details:F.service_details||{},product_details:F.product_details||{}};l(H),n({title:"Annonce chargée",description:"Les données de l'annonce ont été chargées avec succès."})}}catch(F){console.error("Erreur lors du chargement de l'annonce:",F),n({title:"Erreur",description:"Impossible de charger les données de l'annonce. Veuillez réessayer.",variant:"destructive"})}finally{v(!1)}};Q.useEffect(()=>{r&&(h(!0),y(r))},[r]);const x=I=>({"real-estate":"Immobilière",automobile:"Automobile",services:"de Service",marketplace:"Marketplace"})[I]||"",S=(I=>({"real-estate":Bd,automobile:L_,services:Fd,marketplace:ef})[I]||Bd)(e),N=[{id:1,title:"Informations de base",description:"Titre, description, catégorie, prix et localisation",icon:Kr,completed:!1},{id:2,title:"Médias et publication",description:"Photos, vidéos, caractéristiques spécifiques et publication",icon:Td,completed:!1}],C=I=>{I?.id?t("/profile",{state:{message:d?"Annonce modifiée avec succès ! Les changements sont maintenant visibles sur le site.":"Annonce créée avec succès ! Elle est maintenant visible sur le site.",type:"success"}}):t("/profile")},A=I=>{l(F=>({...F,...I}))},k=()=>o.title||o.description||o.price,P=()=>!o.title&&!o.description&&!o.price?"Commencez à remplir le formulaire pour voir l'aperçu":"Aperçu disponible (certaines données peuvent être manquantes)",O=()=>{const I=encodeURIComponent("Support création annonce - MaxiMarket"),F=encodeURIComponent(`Bonjour l'équipe MaxiMarket,

Je rencontre des difficultés lors de la création de mon annonce et j'aurais besoin de votre aide.

📋 Détails de ma demande :
• Catégorie d'annonce : ${e?x(e):"Non spécifiée"}
• Étape actuelle : Étape ${i} sur ${N.length}
• Problème rencontré : [Veuillez décrire votre problème ici]

📧 Mon email de contact : [Votre email]
📱 Mon téléphone : [Votre téléphone]

Merci de votre aide !

Cordialement,
[Votre nom]

---
Ce message a été généré automatiquement depuis le formulaire de création d'annonce MaxiMarket.
Support : support@maximarket.com
Site : https://maximarket.com`),H=`mailto:support@maximarket.com?subject=${I}&body=${F}`;window.open(H,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(ue,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"text-muted-foreground hover:text-foreground",children:[a.jsx(rp,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsx("div",{className:"flex items-center space-x-3",children:e&&a.jsxs("div",{className:"flex items-center space-x-2 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(S,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-primary",children:x(e)})]})})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",onClick:()=>u(!c),disabled:!k(),className:k()?"":"opacity-50 cursor-not-allowed",title:k()?"Voir l'aperçu de votre annonce":P(),children:[a.jsx(Dl,{className:"h-4 w-4 mr-2"}),c?"Masquer":"Aperçu"]})})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:d?"Modifier l'annonce":e?`Créer une annonce ${x(e)}`:"Créer une annonce"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:d?g?"Chargement des données de l'annonce...":"Modifiez les informations de votre annonce existante.":"Partagez votre offre avec notre communauté. Remplissez les informations ci-dessous pour publier votre annonce."})]}),a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-center space-x-4",children:N.map((I,F)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${i>=I.id?"bg-primary border-primary text-white":"bg-card border-border text-muted-foreground"}`,children:i>I.id?a.jsx(Jn,{className:"h-5 w-5"}):a.jsx(I.icon,{className:"h-5 w-5"})}),F<N.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 ${i>I.id?"bg-primary":"bg-border"}`})]},I.id))}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Étape ",i," sur ",N.length," : ",N[i-1]?.title]})})]}),c&&a.jsx(Cke,{formData:o,onClose:()=>u(!1)}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsx(It,{className:"shadow-lg border-0",children:a.jsx(Bt,{className:"p-6",children:a.jsx(Nke,{onSuccess:C,category:e,onDataChange:A,currentStep:i,onStepChange:s})})})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:a.jsx(It,{className:"shadow-lg border-0",children:a.jsxs(Bt,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[a.jsx(Jn,{className:"h-5 w-5 text-green-500 mr-2"}),"Conseils pour une annonce réussie"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez un titre clair et descriptif"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez des photos de qualité"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Décrivez précisément votre offre"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixez un prix compétitif"})]})]})]})})}),a.jsx(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:a.jsx(It,{className:"shadow-lg border-0",children:a.jsxs(Bt,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Besoin d'aide ?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Notre équipe est là pour vous accompagner dans la création de votre annonce."}),a.jsx(ue,{variant:"outline",className:"w-full",onClick:O,children:"Contacter le support"})]})})})]})]})]})}),a.jsx(v9,{})]})},Eke=Q.memo(({images:t=[],title:e="Galerie d'images"})=>{const[r,n]=b.useState(0),[i,s]=b.useState(!1),[o,l]=b.useState(!1),c=b.useRef(null);uke(t,r);const{touchHandlers:u,zoomLevel:d}=fke(()=>n(S=>(S+1)%t.length),()=>n(S=>(S-1+t.length)%t.length),S=>l(S>1)),h=b.useCallback(()=>{n(S=>(S+1)%t.length)},[t.length]),g=b.useCallback(()=>{n(S=>(S-1+t.length)%t.length)},[t.length]),v=S=>{n(S)};b.useEffect(()=>{const S=N=>{if(i)switch(N.key){case"ArrowLeft":N.preventDefault(),g();break;case"ArrowRight":N.preventDefault(),h();break;case"Escape":N.preventDefault(),s(!1),l(!1);break;case" ":N.preventDefault(),l(!o);break}};return i&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[i,o,h,g]);const y=()=>{i?l(!o):s(!0)},x=()=>{l(!o)};if(!t||t.length===0)return a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted flex items-center justify-center",children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucune image disponible"})})});const _=t[r];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{ref:c,className:"relative aspect-video rounded-lg overflow-hidden bg-muted cursor-pointer group",...u,onClick:y,children:[a.jsx(cw,{src:_,alt:`${e} - Image ${r+1}`,className:"w-full h-full",context:"gallery",quality:"high",showSkeleton:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300",children:a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),s(!0)},children:a.jsx(X$,{className:"h-4 w-4"})})}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),g()},children:a.jsx(ca,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),h()},children:a.jsx(ua,{className:"h-4 w-4"})})]})]}),t.length>1&&a.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:t.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-2 h-2 rounded-full transition-all duration-300 ${N===r?"bg-primary scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),t.length>1&&a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[r+1," / ",t.length]})]}),a.jsx(Xn,{children:i&&a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",...u,children:[a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white z-10",onClick:()=>{s(!1),l(!1)},children:a.jsx(os,{className:"h-6 w-6"})}),a.jsx(ue,{variant:"ghost",size:"sm",className:"absolute top-4 right-16 bg-black/50 hover:bg-black/70 text-white z-10",onClick:x,children:o?a.jsx(Tfe,{className:"h-6 w-6"}):a.jsx(X$,{className:"h-6 w-6"})}),a.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:a.jsx(cw,{src:_,alt:`${e} - Image ${r+1}`,className:`max-w-full max-h-full object-contain transition-transform duration-300 ${o?"cursor-zoom-out":"cursor-zoom-in"}`,context:"fullscreen",quality:"high",showSkeleton:!1,onClick:y,style:{transform:`scale(${d})`,cursor:o?"zoom-out":"zoom-in"}})}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:g,children:a.jsx(ca,{className:"h-8 w-8"})}),a.jsx(ue,{variant:"ghost",size:"lg",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:h,children:a.jsx(ua,{className:"h-8 w-8"})})]}),t.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:t.map((S,N)=>a.jsx("button",{onClick:()=>v(N),className:`w-3 h-3 rounded-full transition-all duration-300 ${N===r?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${N+1}`},N))}),a.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white text-sm px-3 py-1 rounded",children:[r+1," / ",t.length]}),a.jsx("div",{className:"absolute top-4 left-4 text-white/70 text-sm",children:a.jsx("p",{children:"← → Navigation • Espace Zoom • Échap Fermer"})})]})})]})}),NQ=({rating:t=0,onRatingChange:e,readonly:r=!1,size:n="md",showLabel:i=!1,className:s=""})=>{const[o,l]=b.useState(0),c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6"},u=y=>{r||l(y)},d=()=>{r||l(0)},h=y=>{!r&&e&&e(y)},g=y=>y<=(o||t)?"text-yellow-400 fill-current":"text-gray-300",v=y=>({0:"Aucune note",1:"Très mauvais",2:"Mauvais",3:"Moyen",4:"Bon",5:"Excellent"})[y]||"Aucune note";return a.jsxs("div",{className:qe("flex items-center space-x-1",s),children:[a.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(y=>a.jsx("button",{type:"button",onClick:()=>h(y),onMouseEnter:()=>u(y),onMouseLeave:d,disabled:r,className:qe("transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 rounded-sm",c[n],r?"cursor-default":"cursor-pointer hover:scale-110",g(y)),"aria-label":`${y} étoile${y>1?"s":""}`,children:a.jsx(da,{className:"w-full h-full"})},y))}),i&&a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:v(t)}),!r&&a.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:t>0?`${t}/5`:"Cliquez pour noter"})]})},Pke=Nn({content:_t().min(1,"Le commentaire ne peut pas être vide").max(1e3,"Le commentaire ne peut pas dépasser 1000 caractères"),rating:li().min(1,"Veuillez donner une note").max(5,"La note doit être entre 1 et 5"),parent_id:_t().uuid().optional()}),tA=({listingId:t,onSubmit:e,onCancel:r,initialData:n=null,parentId:i=null,className:s=""})=>{const{toast:o}=Yr(),[l,c]=b.useState(!1),[u,d]=b.useState(n?.rating||0),{register:h,handleSubmit:g,watch:v,formState:{errors:y,isValid:x},reset:_}=Qp({resolver:wEe(Pke),defaultValues:{content:n?.content||"",rating:n?.rating||0,parent_id:i||n?.parent_id},mode:"onChange"}),S=v("content"),N=!!n,C=async O=>{if(u===0){o({title:"Note requise",description:"Veuillez donner une note à cette annonce.",variant:"destructive"});return}c(!0);try{const I={...O,rating:u,listing_id:t,parent_id:i||n?.parent_id},F=await e(I);if(F.error)throw new Error(F.error);o({title:N?"Commentaire modifié":"Commentaire ajouté",description:N?"Votre commentaire a été modifié avec succès.":"Votre commentaire a été ajouté avec succès."}),N||(_(),d(0)),r&&r()}catch(I){o({title:"Erreur",description:I.message||"Une erreur est survenue lors de l'envoi du commentaire.",variant:"destructive"})}finally{c(!1)}},A=O=>{d(O)},k=()=>S?.length||0,P=()=>{const O=k();return O===0?"text-red-500":O>900?"text-orange-500":"text-muted-foreground"};return a.jsxs("div",{className:qe("space-y-4",s),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:N?"Modifier le commentaire":"Ajouter un commentaire"}),i&&a.jsx(pt,{variant:"secondary",className:"text-xs",children:"Réponse"})]}),a.jsxs("form",{onSubmit:g(C),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Votre note *"}),a.jsx(NQ,{rating:u,onRatingChange:A,size:"lg",showLabel:!0}),u===0&&a.jsxs("p",{className:"text-sm text-red-500 flex items-center",children:[a.jsx(hn,{className:"h-4 w-4 mr-1"}),"Veuillez donner une note"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Votre commentaire *"}),a.jsx(vu,{id:"content",...h("content"),placeholder:N?"Modifiez votre commentaire...":"Partagez votre expérience avec cette annonce...",className:qe("min-h-[120px] resize-none",y.content&&"border-red-500 focus:border-red-500"),maxLength:1e3}),a.jsx("div",{className:"flex items-center justify-between text-xs",children:a.jsxs("span",{className:P(),children:[k(),"/1000 caractères"]})}),y.content&&a.jsxs("p",{className:"text-sm text-red-500 flex items-center",children:[a.jsx(hn,{className:"h-4 w-4 mr-1"}),y.content.message]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx("div",{className:"flex items-center space-x-2",children:r&&a.jsx(ue,{type:"button",variant:"outline",onClick:r,disabled:l,children:"Annuler"})}),a.jsx(ue,{type:"submit",disabled:l||u===0||!S?.trim(),className:"flex items-center space-x-2",children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),a.jsx("span",{children:"Envoi..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(Cy,{className:"h-4 w-4"}),a.jsx("span",{children:N?"Modifier":"Publier"})]})})]})]})]})},CQ=({comment:t,onUpdate:e,onDelete:r,onReply:n,onReport:i,showReplies:s=!0,className:o=""})=>{const{user:l}=Sr(),{toast:c}=Yr(),[u,d]=b.useState(!1),[h,g]=b.useState(!1),[v,y]=b.useState(!1),[x,_]=b.useState(t.replies||[]),S=l?.id===t.user_id,N=l?.role==="admin",C=S||N,A=()=>{d(!0)},k=async()=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce commentaire ?"))try{const U=await r(t.id);if(U.error)throw new Error(U.error);c({title:"Commentaire supprimé",description:"Votre commentaire a été supprimé avec succès."})}catch(U){c({title:"Erreur",description:U.message||"Impossible de supprimer le commentaire.",variant:"destructive"})}},P=()=>{g(!0)},O=async()=>{try{const U=await i(t.id,{reason:"inappropriate",description:"Commentaire signalé par l'utilisateur"});if(U.error)throw new Error(U.error);c({title:"Commentaire signalé",description:"Le commentaire a été signalé aux modérateurs."})}catch(U){c({title:"Erreur",description:U.message||"Impossible de signaler le commentaire.",variant:"destructive"})}},I=U=>{d(!1),e&&e(U)},F=U=>{g(!1),_(z=>[U,...z]),n&&n(U)},H=U=>{switch(U){case"approved":return a.jsxs(pt,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:[a.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Approuvé"]});case"pending":return a.jsxs(pt,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(is,{className:"h-3 w-3 mr-1"}),"En attente"]});case"rejected":return a.jsxs(pt,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-300",children:[a.jsx(Od,{className:"h-3 w-3 mr-1"}),"Rejeté"]});default:return null}},V=U=>U?.split(" ").map(z=>z[0]).join("").toUpperCase().slice(0,2)||"U";return u?a.jsx("div",{className:qe("border rounded-lg p-4 bg-muted/30",o),children:a.jsx(tA,{listingId:t.listing_id,onSubmit:async U=>{try{const z=await e(t.id,U);if(z.error)throw new Error(z.error);return I(z.comment),z}catch(z){return{error:z.message}}},onCancel:()=>d(!1),initialData:t})}):a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:qe("border rounded-lg p-4 hover:shadow-md transition-shadow",o),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(fw,{className:"h-10 w-10",children:[a.jsx(kM,{src:t.user?.avatar_url,alt:t.user?.full_name}),a.jsx(hw,{className:"bg-primary/10 text-primary",children:V(t.user?.full_name||t.user?.email)})]}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:t.user?.full_name||t.user?.email||"Utilisateur anonyme"}),t.user?.verified&&a.jsxs(pt,{variant:"outline",className:"text-xs bg-blue-50 text-blue-700 border-blue-300",children:[a.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Vérifié"]}),t.is_verified_purchase&&a.jsxs(pt,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-300",children:[a.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Achat vérifié"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:wme(t.created_at)}),t.updated_at!==t.created_at&&a.jsx("span",{children:"(modifié)"})]})]})]}),a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsx(ue,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(hW,{className:"h-4 w-4"})})}),a.jsxs(Gl,{align:"end",children:[a.jsxs(vr,{onClick:P,children:[a.jsx(Gk,{className:"h-4 w-4 mr-2"}),"Répondre"]}),C&&a.jsxs(a.Fragment,{children:[a.jsxs(vr,{onClick:A,children:[a.jsx($_,{className:"h-4 w-4 mr-2"}),"Modifier"]}),a.jsxs(vr,{onClick:k,className:"text-red-600",children:[a.jsx(Za,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]}),!S&&a.jsxs(vr,{onClick:O,children:[a.jsx(Od,{className:"h-4 w-4 mr-2"}),"Signaler"]})]})]})]}),t.status!=="approved"&&a.jsx("div",{className:"mb-3",children:H(t.status)}),a.jsx("div",{className:"mb-3",children:a.jsx(NQ,{rating:t.rating,readonly:!0,size:"sm"})}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:t.content})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[t.likes_count>0&&a.jsxs("span",{children:[t.likes_count," j'aime"]}),t.replies_count>0&&a.jsxs("button",{onClick:()=>y(!v),className:"flex items-center space-x-1 hover:text-foreground transition-colors",children:[a.jsx(Qn,{className:"h-3 w-3"}),a.jsxs("span",{children:[t.replies_count," réponse",t.replies_count>1?"s":""]})]})]}),a.jsxs(ue,{variant:"ghost",size:"sm",onClick:P,className:"text-xs",children:[a.jsx(Gk,{className:"h-3 w-3 mr-1"}),"Répondre"]})]}),h&&a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx(tA,{listingId:t.listing_id,onSubmit:async U=>{try{const z=await n(U);if(z.error)throw new Error(z.error);return F(z.comment),z}catch(z){return{error:z.message}}},onCancel:()=>g(!1),parentId:t.id})}),s&&t.replies_count>0&&v&&a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[a.jsxs("h5",{className:"text-sm font-medium text-muted-foreground",children:["Réponses (",t.replies_count,")"]}),x.map(U=>a.jsx(CQ,{comment:U,onUpdate:e,onDelete:r,onReply:n,onReport:i,showReplies:!1,className:"ml-4 border-l-2 border-muted pl-4"},U.id))]})]})},kke=({listingId:t,listing:e,className:r="",showStats:n=!0,showFilters:i=!0})=>{console.log("🔍 [CommentsSection] Rendu avec listingId:",t);const{user:s}=Sr(),{toast:o}=Yr(),[l,c]=b.useState(!1),{comments:u,loading:d,error:h,pagination:g,addComment:v,updateComment:y,deleteComment:x,reportComment:_,changePage:S,refresh:N}=cke(t);console.log("🔍 [CommentsSection] État du hook:",{commentsLength:u?.length,loading:d,error:h});const C=async I=>{if(!s){o({title:"Connexion requise",description:"Vous devez être connecté pour ajouter un commentaire.",variant:"destructive"});return}const F=await v({...I,user_id:s.id});return F.error||c(!1),F},A=async(I,F)=>await y(I,F),k=async I=>await x(I),P=async I=>s?await v({...I,user_id:s.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour répondre.",variant:"destructive"}),{error:"Connexion requise"}),O=async(I,F)=>s?await _(I,{...F,reporter_id:s.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour signaler un commentaire.",variant:"destructive"}),{error:"Connexion requise"});return h?a.jsx(It,{className:qe("mt-8",r),children:a.jsx(Bt,{className:"p-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Impossible de charger les commentaires"}),a.jsx("p",{className:"mb-4",children:"Une erreur est survenue lors du chargement des commentaires."}),a.jsxs(ue,{onClick:N,variant:"outline",children:[a.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Réessayer"]})]})})}):a.jsxs("div",{className:qe("space-y-6",r),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Qn,{className:"h-6 w-6 text-primary"}),a.jsx("h2",{className:"text-2xl font-bold",children:"Commentaires et Avis"})]}),s&&!l&&a.jsxs(ue,{onClick:()=>c(!0),className:"flex items-center space-x-2",children:[a.jsx(Io,{className:"h-4 w-4"}),a.jsx("span",{children:"Ajouter un commentaire"})]})]}),a.jsx(Xn,{children:l&&a.jsx(Oe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsxs(It,{children:[a.jsx(ir,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(sr,{children:"Ajouter un commentaire"}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:a.jsx(os,{className:"h-4 w-4"})})]})}),a.jsx(Bt,{children:a.jsx(tA,{listingId:t,onSubmit:C,onCancel:()=>c(!1)})})]})})}),a.jsx("div",{className:"space-y-4",children:d?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Chargement des commentaires..."})]}):u.length===0?a.jsx(It,{children:a.jsxs(Bt,{className:"p-8 text-center",children:[a.jsx(Qn,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun commentaire"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Soyez le premier à laisser un commentaire sur cette annonce !"}),s&&a.jsxs(ue,{onClick:()=>c(!0),children:[a.jsx(Io,{className:"h-4 w-4 mr-2"}),"Ajouter un commentaire"]})]})}):a.jsxs(a.Fragment,{children:[u.map(I=>a.jsx(CQ,{comment:I,onUpdate:A,onDelete:k,onReply:P,onReport:O},I.id)),g&&g.pages>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 mt-6",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>S(g.page-1),disabled:g.page<=1,children:"Précédent"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",g.page," sur ",g.pages]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>S(g.page+1),disabled:g.page>=g.pages,children:"Suivant"})]})]})})]})},Tke=({isOpen:t,onClose:e,listing:r,onReportSubmitted:n})=>{const[i,s]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState("medium"),[d,h]=b.useState(!1),{toast:g}=Yr(),v=[{value:"inappropriate_content",label:"Contenu inapproprié",description:"Contenu offensant, violent ou choquant"},{value:"fake_listing",label:"Annonce fausse",description:"Produit/service inexistant ou trompeur"},{value:"spam",label:"Spam",description:"Annonce répétitive ou non pertinente"},{value:"scam",label:"Arnaque",description:"Tentative de fraude ou d'escroquerie"},{value:"copyright",label:"Violation de droits",description:"Contenu protégé par des droits d'auteur"},{value:"other",label:"Autre",description:"Autre raison non listée"}],y=[{value:"low",label:"Faible",color:"bg-blue-100 text-blue-800"},{value:"medium",label:"Moyen",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"Élevé",color:"bg-red-100 text-red-800"}],x=async S=>{if(S.preventDefault(),!i){g({title:"Erreur",description:"Veuillez sélectionner une raison de signalement.",variant:"destructive"});return}if(!o.trim()){g({title:"Erreur",description:"Veuillez décrire le problème.",variant:"destructive"});return}h(!0);try{const N={listing_id:r.id,type:"listing",reason:i,description:o.trim(),severity:c,status:"pending"};await Jfe.createReport(N),g({title:"Signalement envoyé",description:"Votre signalement a été enregistré et sera examiné par notre équipe."}),s(""),l(""),u("medium"),e(),n&&n()}catch(N){console.error("Erreur lors du signalement:",N),g({title:"Erreur",description:"Impossible d'envoyer le signalement. Veuillez réessayer.",variant:"destructive"})}finally{h(!1)}},_=()=>{d||e()};return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(It,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(ir,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Od,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx(sr,{children:"Signaler cette annonce"}),a.jsx(Cn,{children:"Aidez-nous à maintenir la qualité de notre plateforme"})]})]}),a.jsx(ue,{variant:"ghost",size:"sm",onClick:_,disabled:d,className:"h-8 w-8 p-0",children:a.jsx(os,{className:"h-4 w-4"})})]}),a.jsxs(Bt,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Annonce signalée :"}),a.jsxs("div",{className:"flex items-start space-x-3",children:[r.images&&r.images[0]&&a.jsx("img",{src:r.images[0],alt:r.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium truncate",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Publiée le ",new Date(r.created_at).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Catégorie : ",r.category]})]})]})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"reason",children:"Raison du signalement *"}),a.jsxs(Mr,{value:i,onValueChange:s,disabled:d,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Sélectionnez une raison"})}),a.jsx(Ar,{children:v.map(S=>a.jsx(Ge,{value:S.value,children:a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium",children:S.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.description})]})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"severity",children:"Niveau de gravité"}),a.jsxs(Mr,{value:c,onValueChange:u,disabled:d,children:[a.jsx(Tr,{children:a.jsx(Ir,{})}),a.jsx(Ar,{children:y.map(S=>a.jsx(Ge,{value:S.value,children:a.jsx(pt,{className:S.color,variant:"secondary",children:S.label})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(rt,{htmlFor:"description",children:["Description détaillée du problème *",a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(minimum 20 caractères)"})]}),a.jsx(vu,{id:"description",value:o,onChange:S=>l(S.target.value),placeholder:"Décrivez en détail le problème que vous avez identifié...",rows:4,disabled:d,minLength:20,required:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length,"/500 caractères"]})]}),a.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(rf,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("p",{className:"font-medium",children:"Important :"}),a.jsx("p",{children:"Les signalements abusifs peuvent entraîner la suspension de votre compte. Assurez-vous que votre signalement est justifié et basé sur des faits."})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(ue,{type:"button",variant:"outline",onClick:_,disabled:d,children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:d||!i||o.length<20,className:"bg-red-600 hover:bg-red-700",children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}),"Envoi en cours..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cy,{className:"h-4 w-4 mr-2"}),"Envoyer le signalement"]})})]})]})]})]})}):null},Ake=()=>{const{id:t}=jO(),e=Tn(),{user:r}=Sr(),{toast:n}=Yr(),[i,s]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState(!0),[d,h]=b.useState(!1),[g,v]=b.useState(!1),{images:y}=jQ(i);b.useEffect(()=>{t&&(async()=>{u(!0);try{if(!t||t===""||typeof t!="string")throw new Error(`ID d'annonce invalide: "${t}"`);const I=await Rr.getListingById(t);if(I){s(I);try{Rr.incrementViews(I.id)}catch{}I.status!=="approved"&&n({title:"Annonce en attente",description:"Cette annonce est en cours de modération.",variant:"default"});const{data:F}=await Rr.getAllListings({category:I.category,status:"approved",limit:10});l(F.filter(H=>H.id!==I.id).slice(0,3))}else n({title:"Annonce non trouvée",description:"L'annonce que vous recherchez n'existe pas ou a été supprimée.",variant:"destructive"}),e("/marketplace")}catch(I){console.error("Erreur lors du chargement de l'annonce:",I),console.error("Détails de l'erreur:",{message:I.message,code:I.code,details:I.details,hint:I.hint}),n({title:"Erreur",description:`Impossible de charger les détails de l'annonce: ${I.message}`,variant:"destructive"}),e("/marketplace")}finally{u(!1)}})()},[t,e,n]),b.useEffect(()=>{try{if(typeof window<"u"&&i){const O=i?.location&&typeof i.location=="object"&&i.location.city||"";window.__MAXIMARKET_CONTEXT={listing:{id:i.id,title:i.title,price:i.price,locationCity:O,sellerId:i.user_id,category:i.category}}}}catch{}return()=>{try{typeof window<"u"&&window.__MAXIMARKET_CONTEXT&&delete window.__MAXIMARKET_CONTEXT}catch{}}},[i]);const x=O=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(O),_=O=>new Date(O).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),S=O=>{switch(O){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},N=O=>{switch(O){case"real_estate":return"Immobilier";case"automobile":return"Automobile";case"services":return"Services";case"marketplace":return"Marketplace";default:return"Autre"}},C=async()=>{if(!r){e("/connexion");return}try{h(!d),n({title:d?"Retiré des favoris":"Ajouté aux favoris",description:d?"L'annonce a été retirée de vos favoris.":"L'annonce a été ajoutée à vos favoris."})}catch{n({title:"Erreur",description:"Impossible de modifier les favoris.",variant:"destructive"})}},A=async O=>{if(O==="whatsapp"||O==="phone"){const I=i.contact_info?.phone||i.users?.phone_number;if(!I){n({title:"Pas de numéro disponible",description:"Aucun numéro de téléphone n'est disponible pour cette annonce.",variant:"destructive"});return}const F=I.replace(/[\s\-\(\)]/g,""),H=F.startsWith("+")?F:F.startsWith("221")?`+${F}`:`+221${F}`;if(O==="phone")window.open(`tel:${H}`,"_blank"),n({title:"Appel en cours",description:`Appel vers ${H}`});else if(O==="whatsapp"){const V=encodeURIComponent(`Bonjour ! Je suis intéressé(e) par votre annonce "${i.title}".

Pouvez-vous me donner plus d'informations ?`);window.open(`https://wa.me/${H}?text=${V}`,"_blank"),n({title:"WhatsApp ouvert",description:`Conversation WhatsApp avec ${H}`})}return}if(O==="message"){if(!r){n({title:"Connexion requise",description:"Connectez-vous pour envoyer un message privé au vendeur.",variant:"default"}),e("/connexion");return}if(i.user_id===r.id){n({title:"Action impossible",description:"Vous ne pouvez pas vous contacter vous-même.",variant:"destructive"});return}if(!i.user_id||i.user_id==="test-user-1"){n({title:"Annonce de test",description:"Cette annonce est en mode test. Les fonctionnalités de contact ne sont pas disponibles.",variant:"default"});return}try{const F=await Si.createConversation(i.user_id,i.id);e(`/messages?conversation=${F.id}&listing=${i.id}`),n({title:"Conversation créée",description:"Vous avez été redirigé vers la messagerie."})}catch(F){console.error("Erreur lors de la création de la conversation:",F),n({title:"Erreur",description:"Impossible de créer la conversation. Veuillez réessayer.",variant:"destructive"})}}},k=()=>{if(!r){e("/connexion");return}v(!0)},P=()=>{console.log("Signalement soumis avec succès")};return c?a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'annonce..."})]})}):i?a.jsxs(Oe.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(ue,{variant:"ghost",onClick:()=>e(-1),className:"mb-4",children:[a.jsx(rp,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx(ar,{to:"/",className:"hover:text-primary",children:"Accueil"}),a.jsx("span",{children:"/"}),a.jsx(ar,{to:`/${i.category==="real_estate"?"immobilier":i.category==="automobile"?"automobile":i.category==="services"?"services":"marketplace"}`,className:"hover:text-primary",children:N(i.category)}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:i.title})]})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsx(Eke,{images:y,title:i.title})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.title}),a.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Po,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:i.location&&typeof i.location=="object"&&i.location.city?`${i.location.city}, ${i.location.country||""}`:"Localisation non spécifiée"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hl,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["Publié le ",_(i.created_at)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(SQ,{listing:i,variant:"compact"}),a.jsxs(ue,{variant:"outline",size:"sm",onClick:k,children:[a.jsx(Od,{className:"h-4 w-4 mr-1"}),"Signaler"]})]})]}),a.jsx("div",{className:"text-3xl font-bold text-primary mb-4",children:x(i.price)}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.jsxs(pt,{variant:"secondary",className:"bg-primary/10 text-primary",children:[S(i.category)," ",N(i.category)]}),i.status==="approved"&&a.jsx(pt,{variant:"default",className:"badge-approved",children:"Approuvé"})]})]}),a.jsx(Nv,{className:"my-8"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Description"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("p",{className:"whitespace-pre-line",children:i.description})})]}),i.real_estate_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails immobiliers"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.real_estate_details.type&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.type})]}),i.real_estate_details.rooms&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pièces"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.rooms})]}),i.real_estate_details.surface&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),a.jsxs("p",{className:"font-medium",children:[i.real_estate_details.surface," m²"]})]})]})]}),i.automobile_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails automobile"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.automobile_details.brand&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Marque"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.brand})]}),i.automobile_details.model&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Modèle"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.model})]}),i.automobile_details.year&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Année"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.year})]}),i.automobile_details.fuel&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carburant"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.fuel})]})]})]}),a.jsx("div",{className:"mt-12 mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contacter le vendeur"}),i.users&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendeur"}),a.jsxs("p",{className:"font-medium",children:[i.users.first_name," ",i.users.last_name]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs(ue,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>A("whatsapp"),children:[a.jsx(Qn,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),a.jsxs(ue,{className:"w-full",onClick:()=>A("phone"),children:[a.jsx(qa,{className:"h-4 w-4 mr-2"}),"Appeler"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:()=>A("message"),children:[a.jsx(pu,{className:"h-4 w-4 mr-2"}),"Message"]}),a.jsxs(ue,{variant:"outline",className:"w-full",onClick:C,children:[a.jsx(Mo,{className:`h-4 w-4 mr-2 ${d?"fill-red-500 text-red-500":""}`}),d?"Retirer":"Favoris"]})]}),!r&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["💡 ",a.jsx("strong",{children:"Conseil :"})," Vous pouvez contacter le vendeur directement par WhatsApp ou téléphone sans créer de compte. Connectez-vous uniquement si vous souhaitez utiliser la messagerie privée."]})})]})}),a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Conseils de sécurité"}),a.jsxs("ul",{className:"text-sm text-muted-foreground space-y-2",children:[a.jsx("li",{children:"• Rencontrez le vendeur dans un lieu public"}),a.jsx("li",{children:"• Vérifiez l'état du bien avant l'achat"}),a.jsx("li",{children:"• Paiements en espèces recommandés - Évitez tout dépôt électronique sans avoir inspecté le bien et vérifié la fiabilité du vendeur"}),a.jsx("li",{children:"• Signalez tout comportement suspect"})]})]})}),a.jsx("div",{className:"mb-8",children:a.jsx(kke,{listingId:i.id,listing:i,className:"mt-8"})}),o.length>0&&a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Annonces similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(O=>a.jsx(ar,{to:`/annonce/${O.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:O.title,src:O.images?.[0]||y[0]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:O.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:O.description}),a.jsx("p",{className:"text-lg font-bold text-primary mt-2",children:x(O.price)})]})]})},O.id))})]})]})}),a.jsx(Tke,{isOpen:g,onClose:()=>v(!1),listing:i,onReportSubmitted:P})]}):null},Oke=()=>{const{user:t}=Sr(),[e,r]=b.useState([]),[n,i]=b.useState([]),[s,o]=b.useState(!0),[l,c]=b.useState("grid"),[u,d]=b.useState(""),[h,g]=b.useState([]),[v,y]=b.useState(null),[x,_]=b.useState(""),S=async()=>{if(t){o(!0);try{const{data:O,error:I}=await be.from("favorites").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(I)throw I;const F=O.map(H=>H.listing_id);if(F.length>0){const{data:H,error:V}=await be.from("listings").select(`
            *,
            user:users(id, full_name, avatar_url),
            category:categories(name, slug)
          `).in("id",F).eq("status","approved");if(V)throw V;const U=O.map(z=>{const W=H.find(J=>J.id===z.listing_id);return{...z,listing:W}}).filter(z=>z.listing);r(U),i(H)}else r([]),i([])}catch(O){console.error("Erreur chargement favoris:",O)}finally{o(!1)}}},N=async O=>{try{const{error:I}=await be.from("favorites").delete().eq("id",O);if(I)throw I;r(F=>F.filter(H=>H.id!==O))}catch(I){console.error("Erreur suppression favoris:",I)}},C=async(O,I)=>{try{const{error:F}=await be.from("favorites").update({notes:I}).eq("id",O);if(F)throw F;r(H=>H.map(V=>V.id===O?{...V,notes:I}:V)),y(null),_("")}catch(F){console.error("Erreur mise à jour notes:",F)}};b.useEffect(()=>{S()},[t]);const A=e.filter(O=>{const I=O.listing;if(!I)return!1;const F=u===""||I.title.toLowerCase().includes(u.toLowerCase())||I.description?.toLowerCase().includes(u.toLowerCase())||O.notes?.toLowerCase().includes(u.toLowerCase()),H=h.length===0||h.some(V=>O.tags?.includes(V));return F&&H}),k=[...new Set(e.flatMap(O=>O.tags||[]))].sort(),P={total:e.length,withNotes:e.filter(O=>O.notes).length,withTags:e.filter(O=>O.tags&&O.tags.length>0).length,categories:[...new Set(e.map(O=>O.listing?.category?.name).filter(Boolean))]};return t?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[P.total," annonce(s) sauvegardée(s)"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[P.withNotes," avec notes"]}),a.jsxs("span",{children:[P.withTags," avec tags"]}),a.jsxs("span",{children:[P.categories.length," catégories"]})]})]})}),a.jsx("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Rechercher dans vos favoris...",value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ss,{size:20,className:"text-gray-400"}),a.jsxs("select",{value:h.length>0?h[0]:"",onChange:O=>g(O.target.value?[O.target.value]:[]),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Tous les tags"}),k.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded ${l==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(ife,{size:20})}),a.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded ${l==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(lfe,{size:20})})]})]})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de vos favoris..."})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Mo,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:u||h.length>0?"Aucun résultat":"Aucun favori"}),a.jsx("p",{className:"mt-2 text-gray-600",children:u||h.length>0?"Essayez de modifier vos critères de recherche":"Commencez à ajouter des annonces à vos favoris"})]}):a.jsx("div",{className:l==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(O=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4",children:a.jsx(xu,{listing:O.listing,compact:l==="list"})}),a.jsxs("div",{className:"px-4 pb-4",children:[O.tags&&O.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:O.tags.map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(tf,{size:12,className:"mr-1"}),I]},I))}),a.jsx("div",{className:"mb-3",children:v===O.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:x,onChange:I=>_(I.target.value),placeholder:"Ajouter une note...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:"2"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>C(O.id,x),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Sauvegarder"}),a.jsx("button",{onClick:()=>{y(null),_("")},className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Annuler"})]})]}):a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600 flex-1",children:O.notes||"Aucune note"}),a.jsx("button",{onClick:()=>{y(O.id),_(O.notes||"")},className:"ml-2 p-1 text-gray-400 hover:text-gray-600",children:a.jsx(mfe,{size:14})})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Ajouté le ",new Date(O.created_at).toLocaleDateString("fr-FR")]}),a.jsxs("button",{onClick:()=>N(O.id),className:"flex items-center space-x-1 text-red-600 hover:text-red-800 text-sm",children:[a.jsx(sfe,{size:14}),a.jsx("span",{children:"Retirer"})]})]})]})]},O.id))})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Connectez-vous pour voir vos favoris"})})},Rke=()=>a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(Mo,{className:"h-12 w-12 text-primary mr-4"}),a.jsx("h1",{className:"text-4xl font-bold",children:"Mes Favoris"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Retrouvez toutes vos annonces sauvegardées et gérez vos favoris en toute simplicité."})]}),a.jsxs(It,{className:"shadow-lg border-0",children:[a.jsx(ir,{children:a.jsxs(sr,{className:"flex items-center space-x-2",children:[a.jsx(Mo,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Annonces Favorites"})]})}),a.jsx(Bt,{children:a.jsx(Oke,{})})]}),a.jsxs("div",{className:"text-center mt-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx(ue,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>window.location.href="/marketplace",children:"Explorer le Marketplace"})]})]})}),Mke=()=>{const{user:t,hasRole:e}=Sr(),r=Tn(),[n,i]=b.useState(!1),[s,o]=b.useState(!0),[l,c]=b.useState(!0),[u,d]=b.useState([{title:"Utilisateurs Actifs",value:"-",icon:a.jsx(Ka,{className:"h-8 w-8 text-blue-400"}),trend:"Chargement...",color:"blue",key:"activeUsers"},{title:"Annonces en Attente",value:"-",icon:a.jsx(tv,{className:"h-8 w-8 text-yellow-400"}),trend:"Chargement...",color:"yellow",key:"pendingListings"},{title:"Revenus (30j)",value:"-",icon:a.jsx(ip,{className:"h-8 w-8 text-green-400"}),trend:"Chargement...",color:"green",key:"revenue"},{title:"Activités Récentes",value:"-",icon:a.jsx(Qn,{className:"h-8 w-8 text-red-400"}),trend:"Chargement...",color:"red",key:"recentActivities"}]),[h,g]=b.useState([]),[v]=b.useState([{label:"Gérer les Annonces",icon:a.jsx(tv,{className:"mr-3 h-5 w-5"}),color:"blue",link:"/admin/listings"},{label:"Gérer les Utilisateurs",icon:a.jsx(Ka,{className:"mr-3 h-5 w-5"}),color:"green",link:"/admin/users"},{label:"Voir les Transactions",icon:a.jsx(ip,{className:"mr-3 h-5 w-5"}),color:"purple",link:"/admin/transactions"},{label:"Statistiques Détaillées",icon:a.jsx(mR,{className:"mr-3 h-5 w-5"}),color:"teal",link:"/admin/analytics"}]);b.useEffect(()=>{(async()=>{try{if(t){const N=e("admin");if(i(N),!N){iC.error("Accès non autorisé"),r("/");return}await y()}else r("/connexion",{state:{from:"/admin"}})}catch(N){console.error("Erreur de vérification des autorisations:",N),iC.error("Erreur lors de la vérification des autorisations"),r("/")}finally{o(!1)}})()},[t,e,r]);const y=async()=>{try{c(!0),console.log("🔍 Début du chargement des données du tableau de bord...");let S=[],N=[],C=[];try{S=(await Rr.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",S.length)}catch(H){console.error("❌ Erreur lors du chargement des annonces:",H),S=[]}try{N=await Va.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",N.length)}catch(H){console.error("❌ Erreur lors du chargement des utilisateurs:",H),N=[]}try{C=await _W.getUserNotifications(),console.log("🔍 Notifications récupérées:",C.length)}catch(H){console.error("❌ Erreur lors du chargement des notifications:",H),C=[]}const A=N.filter(H=>H.status==="active").length,k=N.length,P=S.filter(H=>H.status==="pending").length,O=S.length,I=C.slice(0,5);console.log("🔍 Statistiques calculées:",{activeUsers:A,totalUsers:k,pendingListings:P,totalListings:O,recentNotifications:I.length}),d(H=>H.map(V=>V.key==="activeUsers"?{...V,value:A.toLocaleString(),trend:`Total: ${k}`}:V.key==="pendingListings"?{...V,value:P.toString(),trend:`Total: ${O}`}:V.key==="revenue"?{...V,value:"0 FCFA",trend:"Revenus du mois"}:V.key==="recentActivities"?{...V,value:I.length.toString(),trend:"Dernières activités"}:V));const F=I.map(H=>({id:H.id||`notif-${Date.now()}`,type:H.type||"Notification",item:H.title||H.message||"Nouvelle activité",timestamp:H.created_at,status:H.read?"read":"unread"}));g(F),console.log("✅ Données du tableau de bord chargées avec succès")}catch(S){console.error("❌ Erreur lors du chargement des données du tableau de bord:",S),iC.error("Erreur lors du chargement des données"),d(N=>N.map(C=>C.key==="activeUsers"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="pendingListings"?{...C,value:"0",trend:"Erreur de chargement"}:C.key==="revenue"?{...C,value:"0 FCFA",trend:"Erreur de chargement"}:C.key==="recentActivities"?{...C,value:"0",trend:"Erreur de chargement"}:C))}finally{c(!1)}},x=S=>{const N=new Date,C=new Date(S),A=Math.floor((N-C)/1e3);return A<60?"À l'instant":A<3600?`Il y a ${Math.floor(A/60)} min`:A<86400?`Il y a ${Math.floor(A/3600)} h`:`Il y a ${Math.floor(A/86400)} j`};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Or,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!n)return a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(hn,{className:"h-12 w-12 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accès refusé"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),a.jsx(ue,{onClick:()=>r("/"),children:"Retour à l'accueil"})]})});const _=(S,N)=>{if(N==="Approuvée"||N==="Complétée"||N.startsWith("VIP"))return a.jsx(hfe,{className:"h-5 w-5 text-green-400"});if(N==="En attente KYC"||N==="En cours d'examen")return a.jsx(rf,{className:"h-5 w-5 text-yellow-400"});switch(S){case"Immobilier":return a.jsx(tv,{className:"h-5 w-5 text-blue-400"});case"Automobile":return a.jsx(L_,{className:"h-5 w-5 text-red-400"});case"Services":return a.jsx(Fd,{className:"h-5 w-5 text-purple-400"});case"Marketplace":return a.jsx(ef,{className:"h-5 w-5 text-yellow-400"});case"Utilisateur":return a.jsx(Ka,{className:"h-5 w-5 text-teal-400"});default:return a.jsx(D_,{className:"h-5 w-5 text-gray-400"})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 sm:p-8",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:["Tableau de Bord Administrateur ",a.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),a.jsx("p",{className:"text-md sm:text-lg text-slate-400",children:"Vue d'ensemble et gestion de la marketplace."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-10",children:u.map((S,N)=>a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:N*.1},className:`bg-slate-800 p-5 rounded-xl shadow-lg border border-slate-700 hover:border-${S.color}-500 transition-colors`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-md font-semibold text-slate-300",children:S.title}),S.icon]}),l?a.jsx("div",{className:"flex items-center justify-center h-12",children:a.jsx(Or,{className:"h-6 w-6 animate-spin text-gray-400"})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:S.value}),a.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[a.jsx(Ua,{className:`mr-1 h-4 w-4 text-${S.color}-400`}),S.trend]})]})]},S.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[a.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"lg:col-span-1 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Actions Rapides"}),a.jsx("div",{className:"space-y-3",children:v.map(S=>a.jsxs("a",{href:S.link,className:`w-full flex items-center justify-start p-3 bg-${S.color}-600/10 hover:bg-${S.color}-600/20 text-${S.color}-300 rounded-lg transition-colors`,children:[S.icon," ",S.label]},S.label))})]}),a.jsxs(Oe.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Activité Récente"}),a.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:l?a.jsx("div",{className:"flex items-center justify-center h-40",children:a.jsx(Or,{className:"h-8 w-8 animate-spin text-blue-400"})}):h.length>0?h.map(S=>a.jsxs("div",{className:"flex items-start p-3 bg-slate-700/50 rounded-lg",children:[a.jsx("div",{className:`p-2 bg-${S.status==="Approuvée"||S.status==="Complétée"||S.status.startsWith("VIP")?"green":S.status==="En attente KYC"||S.status==="En cours d'examen"?"yellow":"slate"}-600/30 rounded-full mr-3`,children:_(S.category,S.status)}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("p",{className:"font-medium text-slate-200 text-sm",children:[a.jsxs("span",{className:"font-bold",children:[S.type,":"]})," ",S.item,S.value&&a.jsxs("span",{className:"text-green-400",children:[" (",S.value,")"]})]}),a.jsxs("p",{className:"text-xs text-slate-400",children:[S.timestamp?x(S.timestamp):"Récemment"," - ",a.jsx("span",{className:`font-semibold text-${S.status==="read"?"green":"yellow"}-400`,children:S.status==="read"?"Lu":"Non lu"})]})]})]},S.id)):a.jsx("div",{className:"text-center py-8 text-slate-400",children:l?"Chargement des activités...":"Aucune activité récente à afficher"})})]})]})]})},Ike={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Lke=(t,e,r)=>{let n;const i=Ike[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},Dke={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},$ke={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Fke={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bke={date:qh({formats:Dke,defaultWidth:"full"}),time:qh({formats:$ke,defaultWidth:"full"}),dateTime:qh({formats:Fke,defaultWidth:"full"})},zke={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},qke=(t,e,r,n)=>zke[t],Uke={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Vke={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Wke={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Hke={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},Kke={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},Gke=(t,e)=>{const r=Number(t),n=e?.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},Zke=["MMM","MMMM"],Yke={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&Zke.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:Gke,era:yo({values:Uke,defaultWidth:"wide"}),quarter:yo({values:Vke,defaultWidth:"wide",argumentCallback:t=>t-1}),month:yo({values:Wke,defaultWidth:"wide"}),day:yo({values:Hke,defaultWidth:"wide"}),dayPeriod:yo({values:Kke,defaultWidth:"wide"})},Xke=/^(\d+)(ième|ère|ème|er|e)?/i,Jke=/\d+/i,Qke={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},eTe={any:[/^av/i,/^ap/i]},tTe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},rTe={any:[/1/i,/2/i,/3/i,/4/i]},nTe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},iTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},sTe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},aTe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},oTe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},lTe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},cTe={ordinalNumber:EW({matchPattern:Xke,parsePattern:Jke,valueCallback:t=>parseInt(t)}),era:xo({matchPatterns:Qke,defaultMatchWidth:"wide",parsePatterns:eTe,defaultParseWidth:"any"}),quarter:xo({matchPatterns:tTe,defaultMatchWidth:"wide",parsePatterns:rTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:xo({matchPatterns:nTe,defaultMatchWidth:"wide",parsePatterns:iTe,defaultParseWidth:"any"}),day:xo({matchPatterns:sTe,defaultMatchWidth:"wide",parsePatterns:aTe,defaultParseWidth:"any"}),dayPeriod:xo({matchPatterns:oTe,defaultMatchWidth:"any",parsePatterns:lTe,defaultParseWidth:"any"})},om={code:"fr",formatDistance:Lke,formatLong:Bke,formatRelative:qke,localize:Yke,match:cTe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function uTe(){const{toast:t}=Yr(),e=Uo(),[r,n]=b.useState(""),[i,s]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState("created_at"),[d,h]=b.useState("desc"),[g,v]=b.useState(1),[y,x]=b.useState(10),{data:_,isLoading:S,isError:N}=Yn({queryKey:["adminUsers",{searchTerm:r,statusFilter:i,roleFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>await Va.getAllUsers()}),C=ci({mutationFn:({userId:U,status:z})=>Va.updateUserStatus(U,z),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Statut utilisateur mis à jour avec succès"})},onError:U=>{t({title:"Erreur",description:U.message||"Une erreur est survenue",variant:"destructive"})}}),A=ci({mutationFn:U=>Va.updateUserStatus(U,"deleted"),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Utilisateur supprimé avec succès"})},onError:U=>{t({title:"Erreur",description:U.message||"Une erreur est survenue lors de la suppression",variant:"destructive"})}}),k=ci({mutationFn:({userId:U,role:z})=>Va.updateUserRole(U,z),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Rôle utilisateur mis à jour avec succès"})},onError:U=>{t({title:"Erreur",description:U.message||"Une erreur est survenue",variant:"destructive"})}}),P=(U,z)=>{C.mutate({userId:U,status:z})},O=(U,z)=>{k.mutate({userId:U,role:z})},I=U=>{window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.")&&A.mutate(U)},F=()=>{try{if(!_||_.length===0){t({title:"Aucune donnée",description:"Aucun utilisateur à exporter",variant:"destructive"});return}F_.users(_,"utilisateurs-maximarket"),t({title:"Export réussi",description:"Liste des utilisateurs exportée en CSV"})}catch(U){t({title:"Erreur d'export",description:U.message||"Impossible d'exporter les données",variant:"destructive"})}},H=()=>{t({title:"Fonctionnalité à venir",description:"La création d'utilisateur sera bientôt disponible"})},V=U=>{n(U.target.value),v(1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les utilisateurs de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>F(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:H,children:[a.jsx(Io,{className:"mr-2 h-4 w-4"}),"Nouvel Utilisateur"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:V,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher un utilisateur...",className:"pl-8",value:r,onChange:U=>n(U.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Mr,{value:i,onValueChange:s,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les statuts"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"active",children:"Actif"}),a.jsx(Ge,{value:"inactive",children:"Inactif"}),a.jsx(Ge,{value:"suspended",children:"Suspendu"}),a.jsx(Ge,{value:"pending",children:"En attente"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rôle"}),a.jsxs(Mr,{value:o,onValueChange:l,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les rôles"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les rôles"}),a.jsx(Ge,{value:"user",children:"Utilisateur"}),a.jsx(Ge,{value:"vendor",children:"Vendeur"}),a.jsx(Ge,{value:"admin",children:"Administrateur"}),a.jsx(Ge,{value:"moderator",children:"Modérateur"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Mr,{value:c,onValueChange:u,children:[a.jsx(Tr,{className:"w-full",children:a.jsx(Ir,{placeholder:"Trier par"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"createdAt",children:"Date d'inscription"}),a.jsx(Ge,{value:"name",children:"Nom"}),a.jsx(Ge,{value:"email",children:"Email"}),a.jsx(Ge,{value:"lastLogin",children:"Dernière connexion"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>h(d==="asc"?"desc":"asc"),children:d==="asc"?a.jsx(Ad,{className:"h-4 w-4"}):a.jsx(El,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(rm,{children:[a.jsx(nm,{children:a.jsxs(an,{children:[a.jsx(ur,{children:"Utilisateur"}),a.jsx(ur,{children:"Email"}),a.jsx(ur,{children:"Rôle"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Inscrit le"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(im,{children:S?a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des utilisateurs"})}):_?.length>0?_.slice((g-1)*y,g*y).map(U=>a.jsxs(an,{children:[a.jsx(Rt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:U.first_name?.charAt(0)||U.last_name?.charAt(0)||"U"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:U.first_name&&U.last_name?`${U.first_name} ${U.last_name}`:U.first_name||U.last_name||"Utilisateur sans nom"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",U.id?.substring(0,6),"..."]})]})]})}),a.jsx(Rt,{children:U.email}),a.jsx(Rt,{children:a.jsxs(Mr,{value:U.role,onValueChange:z=>O(U.id,z),disabled:k.isLoading,children:[a.jsx(Tr,{className:"w-[120px]",children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"user",children:"Utilisateur"}),a.jsx(Ge,{value:"vendor",children:"Vendeur"}),a.jsx(Ge,{value:"moderator",children:"Modérateur"}),a.jsx(Ge,{value:"admin",children:"Administrateur"})]})]})}),a.jsx(Rt,{children:a.jsx(pt,{variant:U.status==="active"?"default":U.status==="suspended"?"destructive":"outline",className:"capitalize",children:U.status==="active"?"Actif":U.status==="suspended"?"Suspendu":U.status==="pending"?"En attente":"Inactif"})}),a.jsx(Rt,{children:U.created_at?Pr(new Date(U.created_at),"PP",{locale:om}):"N/A"}),a.jsx(Rt,{className:"text-right",children:a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Qd,{className:"h-4 w-4"})]})}),a.jsxs(Gl,{align:"end",children:[a.jsxs(vr,{children:[a.jsx(pu,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Envoyer un message"})]}),a.jsx(vr,{onClick:()=>P(U.id,U.status==="active"?"suspended":"active"),disabled:C.isLoading,children:U.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(Cfe,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Suspendre"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Nfe,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Activer"})]})}),a.jsx(Yp,{}),a.jsxs(vr,{className:"text-destructive",onClick:()=>I(U.id),disabled:A.isLoading,children:[a.jsx(Za,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},U.id)):a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"h-24 text-center",children:"Aucun utilisateur trouvé"})})})]})}),_&&_.length>y&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*y+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*y,_.length)})," ","sur ",a.jsx("span",{className:"font-medium",children:_.length})," utilisateurs"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Mr,{value:`${y}`,onValueChange:U=>{x(Number(U)),v(1)},children:[a.jsx(Tr,{className:"h-8 w-[70px]",children:a.jsx(Ir,{placeholder:y})}),a.jsx(Ar,{side:"top",children:[5,10,20,30,40,50].map(U=>a.jsx(Ge,{value:`${U}`,children:U},U))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(_.length/y)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(Sy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(ca,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(_.length/y),g+1)),disabled:g===Math.ceil(_.length/y),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(_.length/y)),disabled:g===Math.ceil(_.length/y),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(Ny,{className:"h-4 w-4"})]})]})]})]})]})}function dTe(){const{toast:t}=Yr(),e=Uo(),[r,n]=b.useState(""),[i,s]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState("created_at"),[d,h]=b.useState("desc"),[g,v]=b.useState(1),[y,x]=b.useState(10),{data:_,isLoading:S,isError:N}=Yn({queryKey:["adminListings",{searchTerm:r,statusFilter:i,categoryFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>{const K={};return r&&(K.search=r),i!=="all"&&(K.status=i),o!=="all"&&(K.category=o),await Rr.getAllListings(K)}}),C=_?.data||[],A=_?.count||0;_?.hasMore;const{data:k}=Yn({queryKey:["categories"],queryFn:()=>Lg.getAllCategories()}),P=ci({mutationFn:K=>Rr.updateListingStatus(K,"approved"),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce approuvée avec succès"})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors de l'approbation",variant:"destructive"})}}),O=ci({mutationFn:K=>Rr.updateListingStatus(K,"rejected"),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce rejetée avec succès"})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors du rejet",variant:"destructive"})}}),I=ci({mutationFn:K=>Rr.deleteListing(K),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce supprimée avec succès"})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors de la suppression",variant:"destructive"})}}),F=ci({mutationFn:({listingId:K,featured:ee})=>Rr.updateListing(K,{featured:ee}),onSuccess:(K,ee)=>{e.invalidateQueries(["adminListings"]);const G=ee.featured?"mise en avant":"retirée de l'avant";t({title:"Succès",description:`Annonce ${G} avec succès`})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors de la mise à jour",variant:"destructive"})}}),H=K=>{P.mutate(K)},V=K=>{O.mutate(K)},U=K=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette annonce ?")&&I.mutate(K)},z=(K,ee)=>{F.mutate({listingId:K,featured:ee})},W=K=>{K.preventDefault(),v(1)},J=K=>{n(K.target.value),v(1)},se=()=>{try{if(!C||C.length===0){t({title:"Aucune donnée",description:"Aucune annonce à exporter",variant:"destructive"});return}F_.listings(C,"annonces-maximarket"),t({title:"Export réussi",description:"Liste des annonces exportée en CSV"})}catch(K){t({title:"Erreur d'export",description:K.message||"Impossible d'exporter les données",variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et modérez les annonces de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(ue,{onClick:()=>se(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsx(ue,{asChild:!0,children:a.jsxs(ar,{to:"/creer-annonce",children:[a.jsx(Io,{className:"mr-2 h-4 w-4"}),"Nouvelle Annonce"]})})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:W,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher une annonce...",className:"pl-8",value:r,onChange:J})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Mr,{value:i,onValueChange:s,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les statuts"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"pending",children:"En attente"}),a.jsx(Ge,{value:"approved",children:"Approuvé"}),a.jsx(Ge,{value:"rejected",children:"Rejeté"}),a.jsx(Ge,{value:"expired",children:"Expiré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Catégorie"}),a.jsxs(Mr,{value:o,onValueChange:l,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Toutes les catégories"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Toutes les catégories"}),a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(Mr,{value:c,onValueChange:u,children:[a.jsx(Tr,{className:"w-full",children:a.jsx(Ir,{placeholder:"Trier par"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"created_at",children:"Date de création"}),a.jsx(Ge,{value:"title",children:"Titre"}),a.jsx(Ge,{value:"price",children:"Prix"}),a.jsx(Ge,{value:"views",children:"Vues"})]})]}),a.jsx(ue,{type:"button",variant:"outline",size:"icon",onClick:()=>h(d==="asc"?"desc":"asc"),children:d==="asc"?a.jsx(Ad,{className:"h-4 w-4"}):a.jsx(El,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(ue,{type:"submit",variant:"outline",children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(ue,{type:"button",variant:"outline",onClick:()=>se(),children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(rm,{children:[a.jsx(nm,{children:a.jsxs(an,{children:[a.jsx(ur,{children:"Annonce"}),a.jsx(ur,{children:"Catégorie"}),a.jsx(ur,{children:"Prix"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Créé le"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(im,{children:S?a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):N?a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des annonces"})}):C?.length>0?C.map(K=>a.jsxs(an,{children:[a.jsx(Rt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-md bg-slate-100 flex items-center justify-center",children:K.images?.[0]?a.jsx("img",{src:K.images[0],alt:K.title,className:"h-12 w-12 rounded-md object-cover"}):a.jsx("div",{className:"text-slate-400",children:"📷"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:K.title}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Par ",K.users?.first_name&&K.users?.last_name?`${K.users.first_name} ${K.users.last_name}`:K.users?.first_name||K.users?.last_name||"Utilisateur"]})]})]})}),a.jsx(Rt,{children:a.jsx(pt,{variant:"outline",className:"capitalize",children:K.category==="real_estate"?"Immobilier":K.category==="automobile"?"Automobile":K.category==="services"?"Services":K.category==="marketplace"?"Marketplace":"Général"})}),a.jsx(Rt,{children:K.price?`${K.price.toLocaleString()} FCFA`:"N/A"}),a.jsx(Rt,{children:a.jsx(pt,{variant:K.status==="approved"?"default":K.status==="rejected"?"destructive":"outline",className:"capitalize",children:K.status==="pending"?"En attente":K.status==="approved"?"Approuvé":K.status==="rejected"?"Rejeté":K.status==="expired"?"Expiré":K.status})}),a.jsx(Rt,{children:K.created_at?Pr(new Date(K.created_at),"PP",{locale:om}):"N/A"}),a.jsx(Rt,{className:"text-right",children:a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsxs(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Qd,{className:"h-4 w-4"})]})}),a.jsxs(Gl,{align:"end",children:[a.jsxs(vr,{children:[a.jsx(Dl,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Voir les détails"})]}),K.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(vr,{onClick:()=>H(K.id),disabled:P.isLoading,children:[a.jsx(Jn,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),a.jsxs(vr,{onClick:()=>V(K.id),disabled:O.isLoading,children:[a.jsx(vR,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Rejeter"})]})]}),K.status==="rejected"&&a.jsxs(vr,{onClick:()=>H(K.id),disabled:P.isLoading,children:[a.jsx(Jn,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),K.status==="expired"&&a.jsxs(vr,{onClick:()=>H(K.id),disabled:P.isLoading,children:[a.jsx(Jn,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Réactiver"})]}),a.jsx(vr,{onClick:()=>z(K.id,!K.featured),disabled:F.isLoading,children:K.featured?a.jsxs(a.Fragment,{children:[a.jsx(_fe,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Retirer la mise en avant"})]}):a.jsxs(a.Fragment,{children:[a.jsx(da,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Mettre en avant"})]})}),a.jsx(Yp,{}),a.jsxs(vr,{className:"text-destructive",onClick:()=>U(K.id),disabled:I.isLoading,children:[a.jsx(Za,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},K.id)):a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"h-24 text-center",children:"Aucune annonce trouvée"})})})]})}),A>y&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*y+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*y,A)})," ","sur ",a.jsx("span",{className:"font-medium",children:A})," annonces"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Mr,{value:`${y}`,onValueChange:K=>{x(Number(K)),v(1)},children:[a.jsx(Tr,{className:"h-8 w-[70px]",children:a.jsx(Ir,{placeholder:y})}),a.jsx(Ar,{side:"top",children:[5,10,20,30,40,50].map(K=>a.jsx(Ge,{value:`${K}`,children:K},K))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(A/y)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(Sy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(ca,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(A/y),g+1)),disabled:g===Math.ceil(A/y),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(A/y)),disabled:g===Math.ceil(A/y),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(Ny,{className:"h-4 w-4"})]})]})]})]})]})}function fTe(){const[t,e]=b.useState(""),[r,n]=b.useState("all"),[i,s]=b.useState("all"),[o,l]=b.useState("created_at"),[c,u]=b.useState("desc"),[d,h]=b.useState(1),[g,v]=b.useState(10),{data:y,isLoading:x,isError:_}=Yn({queryKey:["adminTransactions",{searchTerm:t,statusFilter:r,typeFilter:i,sortBy:o,sortOrder:c,page:d,perPage:g}],queryFn:async()=>{const P={};return r!=="all"&&(P.status=r),i!=="all"&&(P.type=i),await Kfe.getAllTransactions(P)}}),S=P=>{e(P.target.value),h(1)},N=(P,O="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:O,minimumFractionDigits:0,maximumFractionDigits:0}).format(P),C=P=>{switch(P){case"completed":return a.jsxs(pt,{variant:"success",children:[a.jsx(Jn,{className:"mr-1 h-3 w-3"})," Complétée"]});case"pending":return a.jsxs(pt,{variant:"warning",children:[a.jsx(is,{className:"mr-1 h-3 w-3"})," En attente"]});case"failed":return a.jsxs(pt,{variant:"destructive",children:[a.jsx(vR,{className:"mr-1 h-3 w-3"})," Échouée"]});case"refunded":return a.jsxs(pt,{variant:"outline",children:[a.jsx(ev,{className:"mr-1 h-3 w-3"})," Remboursée"]});default:return a.jsx(pt,{variant:"outline",children:P})}},A=P=>{switch(P){case"purchase":return a.jsx(pt,{variant:"default",children:"Achat"});case"subscription":return a.jsx(pt,{variant:"secondary",children:"Abonnement"});case"refund":return a.jsx(pt,{variant:"outline",children:"Remboursement"});default:return a.jsx(pt,{variant:"outline",children:P})}},k=y?{totalRevenue:y.filter(P=>P.status==="completed").reduce((P,O)=>P+(O.amount||0),0),totalTransactions:y.length,successRate:y.length>0?Math.round(y.filter(P=>P.status==="completed").length/y.length*100):0,averageOrderValue:y.filter(P=>P.status==="completed").length>0?y.filter(P=>P.status==="completed").reduce((P,O)=>P+(O.amount||0),0)/y.filter(P=>P.status==="completed").length:0}:{totalRevenue:0,totalTransactions:0,successRate:0,averageOrderValue:0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et surveillez toutes les transactions de la plateforme"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter"]})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(ip,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chiffre d'affaires total"}),a.jsx("p",{className:"text-2xl font-bold",children:N(k.totalRevenue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 12% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(ev,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),a.jsx("p",{className:"text-2xl font-bold",children:k.totalTransactions})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 8% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Jn,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de réussite"}),a.jsxs("p",{className:"text-2xl font-bold",children:[k.successRate,"%"]})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 2% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/50",children:a.jsx(hn,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur moyenne"}),a.jsx("p",{className:"text-2xl font-bold",children:N(k.averageOrderValue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 5% "}),"vs période précédente"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsx("form",{onSubmit:P=>{P.preventDefault(),h(1)},className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rechercher"}),a.jsxs("div",{className:"relative",children:[a.jsx(ei,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{placeholder:"Rechercher une transaction...",className:"pl-8",value:t,onChange:S})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Mr,{value:r,onValueChange:n,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les statuts"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"pending",children:"En attente"}),a.jsx(Ge,{value:"completed",children:"Complétée"}),a.jsx(Ge,{value:"failed",children:"Échouée"}),a.jsx(Ge,{value:"refunded",children:"Remboursée"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(Mr,{value:i,onValueChange:s,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les types"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:"purchase",children:"Achats"}),a.jsx(Ge,{value:"subscription",children:"Abonnements"}),a.jsx(Ge,{value:"refund",children:"Remboursements"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs(Mr,{value:o,onValueChange:l,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Trier par"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"created_at",children:"Date"}),a.jsx(Ge,{value:"amount",children:"Montant"}),a.jsx(Ge,{value:"reference",children:"Référence"})]})]})]})]})})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(rm,{children:[a.jsx(nm,{children:a.jsxs(an,{children:[a.jsx(ur,{children:"Référence"}),a.jsx(ur,{children:"Utilisateur"}),a.jsx(ur,{children:"Montant"}),a.jsx(ur,{children:"Type"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Date"}),a.jsx(ur,{className:"text-right",children:"Actions"})]})}),a.jsx(im,{children:x?a.jsx(an,{children:a.jsx(Rt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement des transactions..."})]})})}):_?a.jsx(an,{children:a.jsx(Rt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-destructive",children:[a.jsx(hn,{className:"mr-2 h-4 w-4"}),"Erreur lors du chargement des transactions"]})})}):y?.length===0?a.jsx(an,{children:a.jsx(Rt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(ev,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucune transaction trouvée"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transactions apparaîtront ici une fois qu'elles seront créées."})]})})}):y?.map(P=>a.jsxs(an,{children:[a.jsx(Rt,{className:"font-medium",children:P.payment_reference||P.id.slice(0,8)}),a.jsx(Rt,{children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[P.users?.first_name," ",P.users?.last_name]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:P.users?.email})]})}),a.jsx(Rt,{className:"font-medium",children:N(P.amount,P.currency)}),a.jsx(Rt,{children:A(P.type)}),a.jsx(Rt,{children:C(P.status)}),a.jsx(Rt,{children:P.created_at?Pr(new Date(P.created_at),"PP",{locale:om}):"N/A"}),a.jsx(Rt,{className:"text-right",children:a.jsx(ue,{variant:"ghost",size:"sm",children:a.jsx(Qd,{className:"h-4 w-4"})})})]},P.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(d-1)*g+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(d*g,y?.length||0)})," ","sur ",a.jsx("span",{className:"font-medium",children:y?.length||0})," transactions"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(Mr,{value:`${g}`,onValueChange:P=>{v(Number(P)),h(1)},children:[a.jsx(Tr,{className:"h-8 w-[70px]",children:a.jsx(Ir,{placeholder:g})}),a.jsx(Ar,{side:"top",children:[5,10,20,30,40,50].map(P=>a.jsx(Ge,{value:`${P}`,children:P},P))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",d," sur ",Math.ceil((y?.length||0)/g)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>h(1),disabled:d===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(Sy,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>h(Math.max(1,d-1)),disabled:d===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(ca,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>h(Math.min(Math.ceil((y?.length||0)/g),d+1)),disabled:d===Math.ceil((y?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(ua,{className:"h-4 w-4"})]}),a.jsxs(ue,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>h(Math.ceil((y?.length||0)/g)),disabled:d===Math.ceil((y?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(Ny,{className:"h-4 w-4"})]})]})]})]})]})}var sC,O5;function cs(){if(O5)return sC;O5=1;var t=Array.isArray;return sC=t,sC}var aC,R5;function EQ(){if(R5)return aC;R5=1;var t=typeof Os=="object"&&Os&&Os.Object===Object&&Os;return aC=t,aC}var oC,M5;function Wo(){if(M5)return oC;M5=1;var t=EQ(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return oC=r,oC}var lC,I5;function Xy(){if(I5)return lC;I5=1;var t=Wo(),e=t.Symbol;return lC=e,lC}var cC,L5;function hTe(){if(L5)return cC;L5=1;var t=Xy(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[i]=c:delete o[i]),d}return cC=s,cC}var uC,D5;function pTe(){if(D5)return uC;D5=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return uC=r,uC}var dC,$5;function Xl(){if($5)return dC;$5=1;var t=Xy(),e=hTe(),r=pTe(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?e(l):r(l)}return dC=o,dC}var fC,F5;function Jl(){if(F5)return fC;F5=1;function t(e){return e!=null&&typeof e=="object"}return fC=t,fC}var hC,B5;function lm(){if(B5)return hC;B5=1;var t=Xl(),e=Jl(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return hC=n,hC}var pC,z5;function XM(){if(z5)return pC;z5=1;var t=cs(),e=lm(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return pC=i,pC}var mC,q5;function Eu(){if(q5)return mC;q5=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return mC=t,mC}var gC,U5;function JM(){if(U5)return gC;U5=1;var t=Xl(),e=Eu(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==s}return gC=o,gC}var vC,V5;function mTe(){if(V5)return vC;V5=1;var t=Wo(),e=t["__core-js_shared__"];return vC=e,vC}var yC,W5;function gTe(){if(W5)return yC;W5=1;var t=mTe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return yC=r,yC}var xC,H5;function PQ(){if(H5)return xC;H5=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return xC=r,xC}var bC,K5;function vTe(){if(K5)return bC;K5=1;var t=JM(),e=gTe(),r=Eu(),n=PQ(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function h(g){if(!r(g)||e(g))return!1;var v=t(g)?d:s;return v.test(n(g))}return bC=h,bC}var wC,G5;function yTe(){if(G5)return wC;G5=1;function t(e,r){return e?.[r]}return wC=t,wC}var _C,Z5;function uf(){if(Z5)return _C;Z5=1;var t=vTe(),e=yTe();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return _C=r,_C}var jC,Y5;function j1(){if(Y5)return jC;Y5=1;var t=uf(),e=t(Object,"create");return jC=e,jC}var SC,X5;function xTe(){if(X5)return SC;X5=1;var t=j1();function e(){this.__data__=t?t(null):{},this.size=0}return SC=e,SC}var NC,J5;function bTe(){if(J5)return NC;J5=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return NC=t,NC}var CC,Q5;function wTe(){if(Q5)return CC;Q5=1;var t=j1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return CC=i,CC}var EC,eB;function _Te(){if(eB)return EC;eB=1;var t=j1(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return EC=n,EC}var PC,tB;function jTe(){if(tB)return PC;tB=1;var t=j1(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return PC=r,PC}var kC,rB;function STe(){if(rB)return kC;rB=1;var t=xTe(),e=bTe(),r=wTe(),n=_Te(),i=jTe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,kC=s,kC}var TC,nB;function NTe(){if(nB)return TC;nB=1;function t(){this.__data__=[],this.size=0}return TC=t,TC}var AC,iB;function QM(){if(iB)return AC;iB=1;function t(e,r){return e===r||e!==e&&r!==r}return AC=t,AC}var OC,sB;function S1(){if(sB)return OC;sB=1;var t=QM();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return OC=e,OC}var RC,aB;function CTe(){if(aB)return RC;aB=1;var t=S1(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return RC=n,RC}var MC,oB;function ETe(){if(oB)return MC;oB=1;var t=S1();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return MC=e,MC}var IC,lB;function PTe(){if(lB)return IC;lB=1;var t=S1();function e(r){return t(this.__data__,r)>-1}return IC=e,IC}var LC,cB;function kTe(){if(cB)return LC;cB=1;var t=S1();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return LC=e,LC}var DC,uB;function N1(){if(uB)return DC;uB=1;var t=NTe(),e=CTe(),r=ETe(),n=PTe(),i=kTe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,DC=s,DC}var $C,dB;function eI(){if(dB)return $C;dB=1;var t=uf(),e=Wo(),r=t(e,"Map");return $C=r,$C}var FC,fB;function TTe(){if(fB)return FC;fB=1;var t=STe(),e=N1(),r=eI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return FC=n,FC}var BC,hB;function ATe(){if(hB)return BC;hB=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return BC=t,BC}var zC,pB;function C1(){if(pB)return zC;pB=1;var t=ATe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return zC=e,zC}var qC,mB;function OTe(){if(mB)return qC;mB=1;var t=C1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return qC=e,qC}var UC,gB;function RTe(){if(gB)return UC;gB=1;var t=C1();function e(r){return t(this,r).get(r)}return UC=e,UC}var VC,vB;function MTe(){if(vB)return VC;vB=1;var t=C1();function e(r){return t(this,r).has(r)}return VC=e,VC}var WC,yB;function ITe(){if(yB)return WC;yB=1;var t=C1();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return WC=e,WC}var HC,xB;function tI(){if(xB)return HC;xB=1;var t=TTe(),e=OTe(),r=RTe(),n=MTe(),i=ITe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,HC=s,HC}var KC,bB;function kQ(){if(bB)return KC;bB=1;var t=tI(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,KC=r,KC}var GC,wB;function LTe(){if(wB)return GC;wB=1;var t=kQ(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return GC=r,GC}var ZC,_B;function DTe(){if(_B)return ZC;_B=1;var t=LTe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return ZC=n,ZC}var YC,jB;function rI(){if(jB)return YC;jB=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return YC=t,YC}var XC,SB;function $Te(){if(SB)return XC;SB=1;var t=Xy(),e=rI(),r=cs(),n=lm(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return XC=o,XC}var JC,NB;function TQ(){if(NB)return JC;NB=1;var t=$Te();function e(r){return r==null?"":t(r)}return JC=e,JC}var QC,CB;function AQ(){if(CB)return QC;CB=1;var t=cs(),e=XM(),r=DTe(),n=TQ();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return QC=i,QC}var eE,EB;function E1(){if(EB)return eE;EB=1;var t=lm();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return eE=e,eE}var tE,PB;function nI(){if(PB)return tE;PB=1;var t=AQ(),e=E1();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return tE=r,tE}var rE,kB;function OQ(){if(kB)return rE;kB=1;var t=nI();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return rE=e,rE}var FTe=OQ();const Is=pr(FTe);var nE,TB;function BTe(){if(TB)return nE;TB=1;function t(e){return e==null}return nE=t,nE}var zTe=BTe();const Lt=pr(zTe);var iE,AB;function qTe(){if(AB)return iE;AB=1;var t=Xl(),e=cs(),r=Jl(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return iE=i,iE}var UTe=qTe();const Kd=pr(UTe);var VTe=JM();const Mt=pr(VTe);var WTe=Eu();const cm=pr(WTe);var sE={exports:{}},xr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OB;function HTe(){if(OB)return xr;OB=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function x(_){if(typeof _=="object"&&_!==null){var S=_.$$typeof;switch(S){case t:switch(_=_.type,_){case r:case i:case n:case u:case d:return _;default:switch(_=_&&_.$$typeof,_){case l:case o:case c:case g:case h:case s:return _;default:return S}}case e:return S}}}return xr.ContextConsumer=o,xr.ContextProvider=s,xr.Element=t,xr.ForwardRef=c,xr.Fragment=r,xr.Lazy=g,xr.Memo=h,xr.Portal=e,xr.Profiler=i,xr.StrictMode=n,xr.Suspense=u,xr.SuspenseList=d,xr.isAsyncMode=function(){return!1},xr.isConcurrentMode=function(){return!1},xr.isContextConsumer=function(_){return x(_)===o},xr.isContextProvider=function(_){return x(_)===s},xr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},xr.isForwardRef=function(_){return x(_)===c},xr.isFragment=function(_){return x(_)===r},xr.isLazy=function(_){return x(_)===g},xr.isMemo=function(_){return x(_)===h},xr.isPortal=function(_){return x(_)===e},xr.isProfiler=function(_){return x(_)===i},xr.isStrictMode=function(_){return x(_)===n},xr.isSuspense=function(_){return x(_)===u},xr.isSuspenseList=function(_){return x(_)===d},xr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===u||_===d||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===h||_.$$typeof===s||_.$$typeof===o||_.$$typeof===c||_.$$typeof===y||_.getModuleId!==void 0)},xr.typeOf=x,xr}var RB;function KTe(){return RB||(RB=1,sE.exports=HTe()),sE.exports}var GTe=KTe(),aE,MB;function RQ(){if(MB)return aE;MB=1;var t=Xl(),e=Jl(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return aE=n,aE}var oE,IB;function ZTe(){if(IB)return oE;IB=1;var t=RQ();function e(r){return t(r)&&r!=+r}return oE=e,oE}var YTe=ZTe();const Jy=pr(YTe);var XTe=RQ();const JTe=pr(XTe);var Fi=function(e){return e===0?0:e>0?1:-1},jd=function(e){return Kd(e)&&e.indexOf("%")===e.length-1},et=function(e){return JTe(e)&&!Jy(e)},QTe=function(e){return Lt(e)},zn=function(e){return et(e)||Kd(e)},eAe=0,um=function(e){var r=++eAe;return"".concat(e||"").concat(r)},Wa=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!et(e)&&!Kd(e))return n;var s;if(jd(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Jy(s)&&(s=n),i&&s>r&&(s=r),s},Qc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},tAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},Ts=function(e,r){return et(e)&&et(r)?function(n){return e+n*(r-e)}:function(){return r}};function Sw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Is(n,e))===r})}var rAe=function(e,r){return et(e)&&et(r)?e-r:Kd(e)&&Kd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Gh(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function rA(t){"@babel/helpers - typeof";return rA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rA(t)}var nAe=["viewBox","children"],iAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],LB=["points","pathLength"],lE={svg:nAe,polygon:LB,polyline:LB},iI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Nw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!cm(n))return null;var i={};return Object.keys(n).forEach(function(s){iI.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},sAe=function(e,r,n){return function(i){return e(r,n,i),null}},Av=function(e,r,n){if(!cm(e)||rA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];iI.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=sAe(o,r,n))}),i},aAe=["children"],oAe=["children"];function DB(t,e){if(t==null)return{};var r=lAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nA(t){"@babel/helpers - typeof";return nA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nA(t)}var $B={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ol=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FB=null,cE=null,sI=function t(e){if(e===FB&&Array.isArray(cE))return cE;var r=[];return b.Children.forEach(e,function(n){Lt(n)||(GTe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),cE=r,FB=e,r};function Ls(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ol(i)}):n=[Ol(e)],sI(t).forEach(function(i){var s=Is(i,"type.displayName")||Is(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function Cs(t,e){var r=Ls(t,e);return r&&r[0]}var BB=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!et(n)||n<=0||!et(i)||i<=0)},cAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uAe=function(e){return e&&e.type&&Kd(e.type)&&cAe.indexOf(e.type)>=0},dAe=function(e){return e&&nA(e)==="object"&&"clipDot"in e},fAe=function(e,r,n,i){var s,o=(s=lE?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Mt(e)&&(i&&o.includes(r)||iAe.includes(r))||n&&iI.includes(r)},Wt=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!cm(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;fAe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},iA=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return zB(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!zB(s,o))return!1}return!0},zB=function(e,r){if(Lt(e)&&Lt(r))return!0;if(!Lt(e)&&!Lt(r)){var n=e.props||{},i=n.children,s=DB(n,aAe),o=r.props||{},l=o.children,c=DB(o,oAe);return i&&l?Gh(s,c)&&iA(i,l):!i&&!l?Gh(s,c):!1}return!1},qB=function(e,r){var n=[],i={};return sI(e).forEach(function(s,o){if(uAe(s))n.push(s);else if(s){var l=Ol(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var h=u(s,l,o);n.push(h),i[l]=!0}}}),n},hAe=function(e){var r=e&&e.type;return r&&$B[r]?$B[r]:null},pAe=function(e,r){return sI(r).indexOf(e)},mAe=["children","width","height","viewBox","className","style","title","desc"];function sA(){return sA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sA.apply(this,arguments)}function gAe(t,e){if(t==null)return{};var r=vAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function aA(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=gAe(t,mAe),d=i||{width:r,height:n,x:0,y:0},h=Gt("recharts-surface",s);return Q.createElement("svg",sA({},Wt(u,!0,"svg"),{className:h,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),Q.createElement("title",null,l),Q.createElement("desc",null,c),e)}var yAe=["children","className"];function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oA.apply(this,arguments)}function xAe(t,e){if(t==null)return{};var r=bAe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Ur=Q.forwardRef(function(t,e){var r=t.children,n=t.className,i=xAe(t,yAe),s=Gt("recharts-layer",n);return Q.createElement("g",oA({className:s},Wt(i,!0),{ref:e}),r)}),Ga=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},uE,UB;function wAe(){if(UB)return uE;UB=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return uE=t,uE}var dE,VB;function _Ae(){if(VB)return dE;VB=1;var t=wAe();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return dE=e,dE}var fE,WB;function MQ(){if(WB)return fE;WB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(u){return l.test(u)}return fE=c,fE}var hE,HB;function jAe(){if(HB)return hE;HB=1;function t(e){return e.split("")}return hE=t,hE}var pE,KB;function SAe(){if(KB)return pE;KB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",h="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",y=u+"?",x="["+s+"]?",_="(?:"+v+"(?:"+[d,h,g].join("|")+")"+x+y+")*",S=x+y+_,N="(?:"+[d+l+"?",l,h,g,o].join("|")+")",C=RegExp(c+"(?="+c+")|"+N+S,"g");function A(k){return k.match(C)||[]}return pE=A,pE}var mE,GB;function NAe(){if(GB)return mE;GB=1;var t=jAe(),e=MQ(),r=SAe();function n(i){return e(i)?r(i):t(i)}return mE=n,mE}var gE,ZB;function CAe(){if(ZB)return gE;ZB=1;var t=_Ae(),e=MQ(),r=NAe(),n=TQ();function i(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return gE=i,gE}var vE,YB;function EAe(){if(YB)return vE;YB=1;var t=CAe(),e=t("toUpperCase");return vE=e,vE}var PAe=EAe();const P1=pr(PAe);function qr(t){return function(){return t}}const IQ=Math.cos,Cw=Math.sin,ro=Math.sqrt,Ew=Math.PI,k1=2*Ew,lA=Math.PI,cA=2*lA,pd=1e-6,kAe=cA-pd;function LQ(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function TAe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return LQ;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class AAe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?LQ:TAe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,h=l-r,g=d*d+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>pd)if(!(Math.abs(h*c-u*d)>pd)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,y=i-l,x=c*c+u*u,_=v*v+y*y,S=Math.sqrt(x),N=Math.sqrt(g),C=s*Math.tan((lA-Math.acos((x+g-_)/(2*S*N)))/2),A=C/N,k=C/S;Math.abs(A-1)>pd&&this._append`L${e+A*d},${r+A*h}`,this._append`A${s},${s},0,0,${+(h*v>d*y)},${this._x1=e+k*c},${this._y1=r+k*u}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,h=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>pd||Math.abs(this._y1-d)>pd)&&this._append`L${u},${d}`,n&&(g<0&&(g=g%cA+cA),g>kAe?this._append`A${n},${n},0,1,${h},${e-l},${r-c}A${n},${n},0,1,${h},${this._x1=u},${this._y1=d}`:g>pd&&this._append`A${n},${n},0,${+(g>=lA)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function aI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new AAe(e)}function oI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function DQ(t){this._context=t}DQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function T1(t){return new DQ(t)}function $Q(t){return t[0]}function FQ(t){return t[1]}function BQ(t,e){var r=qr(!0),n=null,i=T1,s=null,o=aI(l);t=typeof t=="function"?t:t===void 0?$Q:qr(t),e=typeof e=="function"?e:e===void 0?FQ:qr(e);function l(c){var u,d=(c=oI(c)).length,h,g=!1,v;for(n==null&&(s=i(v=o())),u=0;u<=d;++u)!(u<d&&r(h=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(h,u,c),+e(h,u,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:qr(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:qr(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:qr(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function rb(t,e,r){var n=null,i=qr(!0),s=null,o=T1,l=null,c=aI(u);t=typeof t=="function"?t:t===void 0?$Q:qr(+t),e=typeof e=="function"?e:qr(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?FQ:qr(+r);function u(h){var g,v,y,x=(h=oI(h)).length,_,S=!1,N,C=new Array(x),A=new Array(x);for(s==null&&(l=o(N=c())),g=0;g<=x;++g){if(!(g<x&&i(_=h[g],g,h))===S)if(S=!S)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=g-1;y>=v;--y)l.point(C[y],A[y]);l.lineEnd(),l.areaEnd()}S&&(C[g]=+t(_,g,h),A[g]=+e(_,g,h),l.point(n?+n(_,g,h):C[g],r?+r(_,g,h):A[g]))}if(N)return l=null,N+""||null}function d(){return BQ().defined(i).curve(o).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:qr(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:qr(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:qr(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:qr(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:qr(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:qr(+h),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:qr(!!h),u):i},u.curve=function(h){return arguments.length?(o=h,s!=null&&(l=o(s)),u):o},u.context=function(h){return arguments.length?(h==null?s=l=null:l=o(s=h),u):s},u}class zQ{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function OAe(t){return new zQ(t,!0)}function RAe(t){return new zQ(t,!1)}const lI={draw(t,e){const r=ro(e/Ew);t.moveTo(r,0),t.arc(0,0,r,0,k1)}},MAe={draw(t,e){const r=ro(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},qQ=ro(1/3),IAe=qQ*2,LAe={draw(t,e){const r=ro(e/IAe),n=r*qQ;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},DAe={draw(t,e){const r=ro(e),n=-r/2;t.rect(n,n,r,r)}},$Ae=.8908130915292852,UQ=Cw(Ew/10)/Cw(7*Ew/10),FAe=Cw(k1/10)*UQ,BAe=-IQ(k1/10)*UQ,zAe={draw(t,e){const r=ro(e*$Ae),n=FAe*r,i=BAe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=k1*s/5,l=IQ(o),c=Cw(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},yE=ro(3),qAe={draw(t,e){const r=-ro(e/(yE*3));t.moveTo(0,r*2),t.lineTo(-yE*r,-r),t.lineTo(yE*r,-r),t.closePath()}},ea=-.5,ta=ro(3)/2,uA=1/ro(12),UAe=(uA/2+1)*3,VAe={draw(t,e){const r=ro(e/UAe),n=r/2,i=r*uA,s=n,o=r*uA+r,l=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(ea*n-ta*i,ta*n+ea*i),t.lineTo(ea*s-ta*o,ta*s+ea*o),t.lineTo(ea*l-ta*c,ta*l+ea*c),t.lineTo(ea*n+ta*i,ea*i-ta*n),t.lineTo(ea*s+ta*o,ea*o-ta*s),t.lineTo(ea*l+ta*c,ea*c-ta*l),t.closePath()}};function WAe(t,e){let r=null,n=aI(i);t=typeof t=="function"?t:qr(t||lI),e=typeof e=="function"?e:qr(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:qr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:qr(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Pw(){}function kw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function VQ(t){this._context=t}VQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HAe(t){return new VQ(t)}function WQ(t){this._context=t}WQ.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KAe(t){return new WQ(t)}function HQ(t){this._context=t}HQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:kw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GAe(t){return new HQ(t)}function KQ(t){this._context=t}KQ.prototype={areaStart:Pw,areaEnd:Pw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function ZAe(t){return new KQ(t)}function XB(t){return t<0?-1:1}function JB(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(XB(s)+XB(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function QB(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function xE(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function Tw(t){this._context=t}Tw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xE(this,this._t0,QB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,xE(this,QB(this,r=JB(this,t,e)),r);break;default:xE(this,this._t0,r=JB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function GQ(t){this._context=new ZQ(t)}(GQ.prototype=Object.create(Tw.prototype)).point=function(t,e){Tw.prototype.point.call(this,e,t)};function ZQ(t){this._context=t}ZQ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function YAe(t){return new Tw(t)}function XAe(t){return new GQ(t)}function YQ(t){this._context=t}YQ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=e6(t),i=e6(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function e6(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function JAe(t){return new YQ(t)}function A1(t,e){this._context=t,this._t=e}A1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function QAe(t){return new A1(t,.5)}function eOe(t){return new A1(t,0)}function tOe(t){return new A1(t,1)}function gp(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function dA(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function rOe(t,e){return t[e]}function nOe(t){const e=[];return e.key=t,e}function iOe(){var t=qr([]),e=dA,r=gp,n=rOe;function i(s){var o=Array.from(t.apply(this,arguments),nOe),l,c=o.length,u=-1,d;for(const h of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(h,o[l].key,u,s)]).data=h;for(l=0,d=oI(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:qr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:qr(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?dA:typeof s=="function"?s:qr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??gp,i):r},i}function sOe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}gp(t,e)}}function aOe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}gp(t,e)}}function oOe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],h=d[n][1]||0,g=d[n-1][1]||0,v=(h-g)/2,y=0;y<l;++y){var x=t[e[y]],_=x[n][1]||0,S=x[n-1][1]||0;v+=_-S}c+=h,u+=v*h}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,gp(t,e)}}function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}var lOe=["type","size","sizeType"];function fA(){return fA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fA.apply(this,arguments)}function t6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(r),!0).forEach(function(n){cOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cOe(t,e,r){return e=uOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uOe(t){var e=dOe(t,"string");return Ov(e)=="symbol"?e:e+""}function dOe(t,e){if(Ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fOe(t,e){if(t==null)return{};var r=hOe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var XQ={symbolCircle:lI,symbolCross:MAe,symbolDiamond:LAe,symbolSquare:DAe,symbolStar:zAe,symbolTriangle:qAe,symbolWye:VAe},pOe=Math.PI/180,mOe=function(e){var r="symbol".concat(P1(e));return XQ[r]||lI},gOe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*pOe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},vOe=function(e,r){XQ["symbol".concat(P1(e))]=r},cI=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=fOe(e,lOe),u=r6(r6({},c),{},{type:n,size:s,sizeType:l}),d=function(){var _=mOe(n),S=WAe().type(_).size(gOe(s,l,n));return S()},h=u.className,g=u.cx,v=u.cy,y=Wt(u,!0);return g===+g&&v===+v&&s===+s?Q.createElement("path",fA({},y,{className:Gt("recharts-symbols",h),transform:"translate(".concat(g,", ").concat(v,")"),d:d()})):null};cI.registerSymbol=vOe;function vp(t){"@babel/helpers - typeof";return vp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vp(t)}function hA(){return hA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hA.apply(this,arguments)}function n6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yOe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n6(Object(r),!0).forEach(function(n){Rv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bOe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QQ(n.key),n)}}function wOe(t,e,r){return e&&bOe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Oe(t,e,r){return e=Aw(e),jOe(t,JQ()?Reflect.construct(e,r||[],Aw(t).constructor):e.apply(t,r))}function jOe(t,e){if(e&&(vp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SOe(t)}function SOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JQ=function(){return!!t})()}function Aw(t){return Aw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Aw(t)}function NOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pA(t,e)}function pA(t,e){return pA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},pA(t,e)}function Rv(t,e,r){return e=QQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QQ(t){var e=COe(t,"string");return vp(e)=="symbol"?e:e+""}function COe(t,e){if(vp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ra=32,uI=function(t){function e(){return xOe(this,e),_Oe(this,e,arguments)}return NOe(e,t),wOe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=ra/2,o=ra/6,l=ra/3,c=n.inactive?i:n.color;if(n.type==="plainline")return Q.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:ra,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return Q.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(ra,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return Q.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ra/8,"h").concat(ra,"v").concat(ra*3/4,"h").concat(-ra,"z"),className:"recharts-legend-icon"});if(Q.isValidElement(n.legendIcon)){var u=yOe({},n);return delete u.legendIcon,Q.cloneElement(n.legendIcon,u)}return Q.createElement(cI,{fill:c,cx:s,cy:s,size:ra,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:ra,height:ra},h={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,y){var x=v.formatter||c,_=Gt(Rv(Rv({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Mt(v.value)?null:v.value;Ga(!Mt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var N=v.inactive?u:v.color;return Q.createElement("li",hA({className:_,style:h,key:"legend-item-".concat(y)},Av(n.props,v,y)),Q.createElement(aA,{width:o,height:o,viewBox:d,style:g},n.renderIcon(v)),Q.createElement("span",{className:"recharts-legend-item-text",style:{color:N}},x?x(S,v,y):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return Q.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);Rv(uI,"displayName","Legend");Rv(uI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var bE,i6;function EOe(){if(i6)return bE;i6=1;var t=N1();function e(){this.__data__=new t,this.size=0}return bE=e,bE}var wE,s6;function POe(){if(s6)return wE;s6=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return wE=t,wE}var _E,a6;function kOe(){if(a6)return _E;a6=1;function t(e){return this.__data__.get(e)}return _E=t,_E}var jE,o6;function TOe(){if(o6)return jE;o6=1;function t(e){return this.__data__.has(e)}return jE=t,jE}var SE,l6;function AOe(){if(l6)return SE;l6=1;var t=N1(),e=eI(),r=tI(),n=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return SE=i,SE}var NE,c6;function eee(){if(c6)return NE;c6=1;var t=N1(),e=EOe(),r=POe(),n=kOe(),i=TOe(),s=AOe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,NE=o,NE}var CE,u6;function OOe(){if(u6)return CE;u6=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return CE=e,CE}var EE,d6;function ROe(){if(d6)return EE;d6=1;function t(e){return this.__data__.has(e)}return EE=t,EE}var PE,f6;function tee(){if(f6)return PE;f6=1;var t=tI(),e=OOe(),r=ROe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,PE=n,PE}var kE,h6;function ree(){if(h6)return kE;h6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return kE=t,kE}var TE,p6;function nee(){if(p6)return TE;p6=1;function t(e,r){return e.has(r)}return TE=t,TE}var AE,m6;function iee(){if(m6)return AE;m6=1;var t=tee(),e=ree(),r=nee(),n=1,i=2;function s(o,l,c,u,d,h){var g=c&n,v=o.length,y=l.length;if(v!=y&&!(g&&y>v))return!1;var x=h.get(o),_=h.get(l);if(x&&_)return x==l&&_==o;var S=-1,N=!0,C=c&i?new t:void 0;for(h.set(o,l),h.set(l,o);++S<v;){var A=o[S],k=l[S];if(u)var P=g?u(k,A,S,l,o,h):u(A,k,S,o,l,h);if(P!==void 0){if(P)continue;N=!1;break}if(C){if(!e(l,function(O,I){if(!r(C,I)&&(A===O||d(A,O,c,u,h)))return C.push(I)})){N=!1;break}}else if(!(A===k||d(A,k,c,u,h))){N=!1;break}}return h.delete(o),h.delete(l),N}return AE=s,AE}var OE,g6;function MOe(){if(g6)return OE;g6=1;var t=Wo(),e=t.Uint8Array;return OE=e,OE}var RE,v6;function IOe(){if(v6)return RE;v6=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return RE=t,RE}var ME,y6;function dI(){if(y6)return ME;y6=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return ME=t,ME}var IE,x6;function LOe(){if(x6)return IE;x6=1;var t=Xy(),e=MOe(),r=QM(),n=iee(),i=IOe(),s=dI(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",h="[object Map]",g="[object Number]",v="[object RegExp]",y="[object Set]",x="[object String]",_="[object Symbol]",S="[object ArrayBuffer]",N="[object DataView]",C=t?t.prototype:void 0,A=C?C.valueOf:void 0;function k(P,O,I,F,H,V,U){switch(I){case N:if(P.byteLength!=O.byteLength||P.byteOffset!=O.byteOffset)return!1;P=P.buffer,O=O.buffer;case S:return!(P.byteLength!=O.byteLength||!V(new e(P),new e(O)));case c:case u:case g:return r(+P,+O);case d:return P.name==O.name&&P.message==O.message;case v:case x:return P==O+"";case h:var z=i;case y:var W=F&o;if(z||(z=s),P.size!=O.size&&!W)return!1;var J=U.get(P);if(J)return J==O;F|=l,U.set(P,O);var se=n(z(P),z(O),F,H,V,U);return U.delete(P),se;case _:if(A)return A.call(P)==A.call(O)}return!1}return IE=k,IE}var LE,b6;function see(){if(b6)return LE;b6=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return LE=t,LE}var DE,w6;function DOe(){if(w6)return DE;w6=1;var t=see(),e=cs();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return DE=r,DE}var $E,_6;function $Oe(){if(_6)return $E;_6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return $E=t,$E}var FE,j6;function FOe(){if(j6)return FE;j6=1;function t(){return[]}return FE=t,FE}var BE,S6;function BOe(){if(S6)return BE;S6=1;var t=$Oe(),e=FOe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return BE=s,BE}var zE,N6;function zOe(){if(N6)return zE;N6=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return zE=t,zE}var qE,C6;function qOe(){if(C6)return qE;C6=1;var t=Xl(),e=Jl(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return qE=n,qE}var UE,E6;function fI(){if(E6)return UE;E6=1;var t=qOe(),e=Jl(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return UE=s,UE}var Vg={exports:{}},VE,P6;function UOe(){if(P6)return VE;P6=1;function t(){return!1}return VE=t,VE}Vg.exports;var k6;function aee(){return k6||(k6=1,function(t,e){var r=Wo(),n=UOe(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(Vg,Vg.exports)),Vg.exports}var WE,T6;function hI(){if(T6)return WE;T6=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return WE=r,WE}var HE,A6;function pI(){if(A6)return HE;A6=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return HE=e,HE}var KE,O6;function VOe(){if(O6)return KE;O6=1;var t=Xl(),e=pI(),r=Jl(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",h="[object Object]",g="[object RegExp]",v="[object Set]",y="[object String]",x="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",N="[object Float32Array]",C="[object Float64Array]",A="[object Int8Array]",k="[object Int16Array]",P="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",F="[object Uint16Array]",H="[object Uint32Array]",V={};V[N]=V[C]=V[A]=V[k]=V[P]=V[O]=V[I]=V[F]=V[H]=!0,V[n]=V[i]=V[_]=V[s]=V[S]=V[o]=V[l]=V[c]=V[u]=V[d]=V[h]=V[g]=V[v]=V[y]=V[x]=!1;function U(z){return r(z)&&e(z.length)&&!!V[t(z)]}return KE=U,KE}var GE,R6;function oee(){if(R6)return GE;R6=1;function t(e){return function(r){return e(r)}}return GE=t,GE}var Wg={exports:{}};Wg.exports;var M6;function WOe(){return M6||(M6=1,function(t,e){var r=EQ(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(Wg,Wg.exports)),Wg.exports}var ZE,I6;function lee(){if(I6)return ZE;I6=1;var t=VOe(),e=oee(),r=WOe(),n=r&&r.isTypedArray,i=n?e(n):t;return ZE=i,ZE}var YE,L6;function HOe(){if(L6)return YE;L6=1;var t=zOe(),e=fI(),r=cs(),n=aee(),i=hI(),s=lee(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var h=r(u),g=!h&&e(u),v=!h&&!g&&n(u),y=!h&&!g&&!v&&s(u),x=h||g||v||y,_=x?t(u.length,String):[],S=_.length;for(var N in u)(d||l.call(u,N))&&!(x&&(N=="length"||v&&(N=="offset"||N=="parent")||y&&(N=="buffer"||N=="byteLength"||N=="byteOffset")||i(N,S)))&&_.push(N);return _}return YE=c,YE}var XE,D6;function KOe(){if(D6)return XE;D6=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return XE=e,XE}var JE,$6;function cee(){if($6)return JE;$6=1;function t(e,r){return function(n){return e(r(n))}}return JE=t,JE}var QE,F6;function GOe(){if(F6)return QE;F6=1;var t=cee(),e=t(Object.keys,Object);return QE=e,QE}var eP,B6;function ZOe(){if(B6)return eP;B6=1;var t=KOe(),e=GOe(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return eP=i,eP}var tP,z6;function Qy(){if(z6)return tP;z6=1;var t=JM(),e=pI();function r(n){return n!=null&&e(n.length)&&!t(n)}return tP=r,tP}var rP,q6;function O1(){if(q6)return rP;q6=1;var t=HOe(),e=ZOe(),r=Qy();function n(i){return r(i)?t(i):e(i)}return rP=n,rP}var nP,U6;function YOe(){if(U6)return nP;U6=1;var t=DOe(),e=BOe(),r=O1();function n(i){return t(i,r,e)}return nP=n,nP}var iP,V6;function XOe(){if(V6)return iP;V6=1;var t=YOe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,u,d){var h=l&e,g=t(s),v=g.length,y=t(o),x=y.length;if(v!=x&&!h)return!1;for(var _=v;_--;){var S=g[_];if(!(h?S in o:n.call(o,S)))return!1}var N=d.get(s),C=d.get(o);if(N&&C)return N==o&&C==s;var A=!0;d.set(s,o),d.set(o,s);for(var k=h;++_<v;){S=g[_];var P=s[S],O=o[S];if(c)var I=h?c(O,P,S,o,s,d):c(P,O,S,s,o,d);if(!(I===void 0?P===O||u(P,O,l,c,d):I)){A=!1;break}k||(k=S=="constructor")}if(A&&!k){var F=s.constructor,H=o.constructor;F!=H&&"constructor"in s&&"constructor"in o&&!(typeof F=="function"&&F instanceof F&&typeof H=="function"&&H instanceof H)&&(A=!1)}return d.delete(s),d.delete(o),A}return iP=i,iP}var sP,W6;function JOe(){if(W6)return sP;W6=1;var t=uf(),e=Wo(),r=t(e,"DataView");return sP=r,sP}var aP,H6;function QOe(){if(H6)return aP;H6=1;var t=uf(),e=Wo(),r=t(e,"Promise");return aP=r,aP}var oP,K6;function uee(){if(K6)return oP;K6=1;var t=uf(),e=Wo(),r=t(e,"Set");return oP=r,oP}var lP,G6;function eRe(){if(G6)return lP;G6=1;var t=uf(),e=Wo(),r=t(e,"WeakMap");return lP=r,lP}var cP,Z6;function tRe(){if(Z6)return cP;Z6=1;var t=JOe(),e=eI(),r=QOe(),n=uee(),i=eRe(),s=Xl(),o=PQ(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",h="[object WeakMap]",g="[object DataView]",v=o(t),y=o(e),x=o(r),_=o(n),S=o(i),N=s;return(t&&N(new t(new ArrayBuffer(1)))!=g||e&&N(new e)!=l||r&&N(r.resolve())!=u||n&&N(new n)!=d||i&&N(new i)!=h)&&(N=function(C){var A=s(C),k=A==c?C.constructor:void 0,P=k?o(k):"";if(P)switch(P){case v:return g;case y:return l;case x:return u;case _:return d;case S:return h}return A}),cP=N,cP}var uP,Y6;function rRe(){if(Y6)return uP;Y6=1;var t=eee(),e=iee(),r=LOe(),n=XOe(),i=tRe(),s=cs(),o=aee(),l=lee(),c=1,u="[object Arguments]",d="[object Array]",h="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function y(x,_,S,N,C,A){var k=s(x),P=s(_),O=k?d:i(x),I=P?d:i(_);O=O==u?h:O,I=I==u?h:I;var F=O==h,H=I==h,V=O==I;if(V&&o(x)){if(!o(_))return!1;k=!0,F=!1}if(V&&!F)return A||(A=new t),k||l(x)?e(x,_,S,N,C,A):r(x,_,O,S,N,C,A);if(!(S&c)){var U=F&&v.call(x,"__wrapped__"),z=H&&v.call(_,"__wrapped__");if(U||z){var W=U?x.value():x,J=z?_.value():_;return A||(A=new t),C(W,J,S,N,A)}}return V?(A||(A=new t),n(x,_,S,N,C,A)):!1}return uP=y,uP}var dP,X6;function mI(){if(X6)return dP;X6=1;var t=rRe(),e=Jl();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,l)}return dP=r,dP}var fP,J6;function nRe(){if(J6)return fP;J6=1;var t=eee(),e=mI(),r=1,n=2;function i(s,o,l,c){var u=l.length,d=u,h=!c;if(s==null)return!d;for(s=Object(s);u--;){var g=l[u];if(h&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<d;){g=l[u];var v=g[0],y=s[v],x=g[1];if(h&&g[2]){if(y===void 0&&!(v in s))return!1}else{var _=new t;if(c)var S=c(y,x,v,s,o,_);if(!(S===void 0?e(x,y,r|n,c,_):S))return!1}}return!0}return fP=i,fP}var hP,Q6;function dee(){if(Q6)return hP;Q6=1;var t=Eu();function e(r){return r===r&&!t(r)}return hP=e,hP}var pP,e8;function iRe(){if(e8)return pP;e8=1;var t=dee(),e=O1();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,t(l)]}return i}return pP=r,pP}var mP,t8;function fee(){if(t8)return mP;t8=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return mP=t,mP}var gP,r8;function sRe(){if(r8)return gP;r8=1;var t=nRe(),e=iRe(),r=fee();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return gP=n,gP}var vP,n8;function aRe(){if(n8)return vP;n8=1;function t(e,r){return e!=null&&r in Object(e)}return vP=t,vP}var yP,i8;function oRe(){if(i8)return yP;i8=1;var t=AQ(),e=fI(),r=cs(),n=hI(),i=pI(),s=E1();function o(l,c,u){c=t(c,l);for(var d=-1,h=c.length,g=!1;++d<h;){var v=s(c[d]);if(!(g=l!=null&&u(l,v)))break;l=l[v]}return g||++d!=h?g:(h=l==null?0:l.length,!!h&&i(h)&&n(v,h)&&(r(l)||e(l)))}return yP=o,yP}var xP,s8;function lRe(){if(s8)return xP;s8=1;var t=aRe(),e=oRe();function r(n,i){return n!=null&&e(n,i,t)}return xP=r,xP}var bP,a8;function cRe(){if(a8)return bP;a8=1;var t=mI(),e=OQ(),r=lRe(),n=XM(),i=dee(),s=fee(),o=E1(),l=1,c=2;function u(d,h){return n(d)&&i(h)?s(o(d),h):function(g){var v=e(g,d);return v===void 0&&v===h?r(g,d):t(h,v,l|c)}}return bP=u,bP}var wP,o8;function dm(){if(o8)return wP;o8=1;function t(e){return e}return wP=t,wP}var _P,l8;function uRe(){if(l8)return _P;l8=1;function t(e){return function(r){return r?.[e]}}return _P=t,_P}var jP,c8;function dRe(){if(c8)return jP;c8=1;var t=nI();function e(r){return function(n){return t(n,r)}}return jP=e,jP}var SP,u8;function fRe(){if(u8)return SP;u8=1;var t=uRe(),e=dRe(),r=XM(),n=E1();function i(s){return r(s)?t(n(s)):e(s)}return SP=i,SP}var NP,d8;function Pu(){if(d8)return NP;d8=1;var t=sRe(),e=cRe(),r=dm(),n=cs(),i=fRe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return NP=s,NP}var CP,f8;function hee(){if(f8)return CP;f8=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return CP=t,CP}var EP,h8;function hRe(){if(h8)return EP;h8=1;function t(e){return e!==e}return EP=t,EP}var PP,p8;function pRe(){if(p8)return PP;p8=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return PP=t,PP}var kP,m8;function mRe(){if(m8)return kP;m8=1;var t=hee(),e=hRe(),r=pRe();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return kP=n,kP}var TP,g8;function gRe(){if(g8)return TP;g8=1;var t=mRe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return TP=e,TP}var AP,v8;function vRe(){if(v8)return AP;v8=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return AP=t,AP}var OP,y8;function yRe(){if(y8)return OP;y8=1;function t(){}return OP=t,OP}var RP,x8;function xRe(){if(x8)return RP;x8=1;var t=uee(),e=yRe(),r=dI(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return RP=i,RP}var MP,b8;function bRe(){if(b8)return MP;b8=1;var t=tee(),e=gRe(),r=vRe(),n=nee(),i=xRe(),s=dI(),o=200;function l(c,u,d){var h=-1,g=e,v=c.length,y=!0,x=[],_=x;if(d)y=!1,g=r;else if(v>=o){var S=u?null:i(c);if(S)return s(S);y=!1,g=n,_=new t}else _=u?[]:x;e:for(;++h<v;){var N=c[h],C=u?u(N):N;if(N=d||N!==0?N:0,y&&C===C){for(var A=_.length;A--;)if(_[A]===C)continue e;u&&_.push(C),x.push(N)}else g(_,C,d)||(_!==x&&_.push(C),x.push(N))}return x}return MP=l,MP}var IP,w8;function wRe(){if(w8)return IP;w8=1;var t=Pu(),e=bRe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return IP=r,IP}var _Re=wRe();const _8=pr(_Re);function pee(t,e,r){return e===!0?_8(t,r):Mt(e)?_8(t,e):t}function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}var jRe=["ref"];function j8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ml(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j8(Object(r),!0).forEach(function(n){R1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gee(n.key),n)}}function NRe(t,e,r){return e&&S8(t.prototype,e),r&&S8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CRe(t,e,r){return e=Ow(e),ERe(t,mee()?Reflect.construct(e,r||[],Ow(t).constructor):e.apply(t,r))}function ERe(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return PRe(t)}function PRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mee=function(){return!!t})()}function Ow(t){return Ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ow(t)}function kRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mA(t,e)}function mA(t,e){return mA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},mA(t,e)}function R1(t,e,r){return e=gee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gee(t){var e=TRe(t,"string");return yp(e)=="symbol"?e:e+""}function TRe(t,e){if(yp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ARe(t,e){if(t==null)return{};var r=ORe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ORe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RRe(t){return t.value}function MRe(t,e){if(Q.isValidElement(t))return Q.cloneElement(t,e);if(typeof t=="function")return Q.createElement(t,e);e.ref;var r=ARe(e,jRe);return Q.createElement(uI,r)}var N8=1,cu=function(t){function e(){var r;SRe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=CRe(this,e,[].concat(i)),R1(r,"lastBoundingBox",{width:-1,height:-1}),r}return kRe(e,t),NRe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>N8||Math.abs(i.height-this.lastBoundingBox.height)>N8)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ml({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,h,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();h={left:((u||0)-v.width)/2}}else h=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();g={top:((d||0)-y.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return ml(ml({},h),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,h=ml(ml({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return Q.createElement("div",{className:"recharts-legend-wrapper",style:h,ref:function(v){n.wrapperNode=v}},MRe(s,ml(ml({},this.props),{},{payload:pee(d,u,RRe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=ml(ml({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&et(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(b.PureComponent);R1(cu,"displayName","Legend");R1(cu,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var LP,C8;function IRe(){if(C8)return LP;C8=1;var t=Xy(),e=fI(),r=cs(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return LP=i,LP}var DP,E8;function vee(){if(E8)return DP;E8=1;var t=see(),e=IRe();function r(n,i,s,o,l){var c=-1,u=n.length;for(s||(s=e),l||(l=[]);++c<u;){var d=n[c];i>0&&s(d)?i>1?r(d,i-1,s,o,l):t(l,d):o||(l[l.length]=d)}return l}return DP=r,DP}var $P,P8;function LRe(){if(P8)return $P;P8=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return $P=t,$P}var FP,k8;function DRe(){if(k8)return FP;k8=1;var t=LRe(),e=t();return FP=e,FP}var BP,T8;function yee(){if(T8)return BP;T8=1;var t=DRe(),e=O1();function r(n,i){return n&&t(n,i,e)}return BP=r,BP}var zP,A8;function $Re(){if(A8)return zP;A8=1;var t=Qy();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return zP=e,zP}var qP,O8;function gI(){if(O8)return qP;O8=1;var t=yee(),e=$Re(),r=e(t);return qP=r,qP}var UP,R8;function xee(){if(R8)return UP;R8=1;var t=gI(),e=Qy();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++s]=i(l,c,u)}),o}return UP=r,UP}var VP,M8;function FRe(){if(M8)return VP;M8=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return VP=t,VP}var WP,I8;function BRe(){if(I8)return WP;I8=1;var t=lm();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,h=t(n);if(!u&&!h&&!l&&r>n||l&&c&&d&&!u&&!h||s&&c&&d||!i&&d||!o)return 1;if(!s&&!l&&!h&&r<n||h&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!d)return-1}return 0}return WP=e,WP}var HP,L8;function zRe(){if(L8)return HP;L8=1;var t=BRe();function e(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++s<c;){var d=t(o[s],l[s]);if(d){if(s>=u)return d;var h=i[s];return d*(h=="desc"?-1:1)}}return r.index-n.index}return HP=e,HP}var KP,D8;function qRe(){if(D8)return KP;D8=1;var t=rI(),e=nI(),r=Pu(),n=xee(),i=FRe(),s=oee(),o=zRe(),l=dm(),c=cs();function u(d,h,g){h.length?h=t(h,function(x){return c(x)?function(_){return e(_,x.length===1?x[0]:x)}:x}):h=[l];var v=-1;h=t(h,s(r));var y=n(d,function(x,_,S){var N=t(h,function(C){return C(x)});return{criteria:N,index:++v,value:x}});return i(y,function(x,_){return o(x,_,g)})}return KP=u,KP}var GP,$8;function URe(){if($8)return GP;$8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return GP=t,GP}var ZP,F8;function VRe(){if(F8)return ZP;F8=1;var t=URe(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=o[l];return d[i]=s(u),t(n,this,d)}}return ZP=r,ZP}var YP,B8;function WRe(){if(B8)return YP;B8=1;function t(e){return function(){return e}}return YP=t,YP}var XP,z8;function bee(){if(z8)return XP;z8=1;var t=uf(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return XP=e,XP}var JP,q8;function HRe(){if(q8)return JP;q8=1;var t=WRe(),e=bee(),r=dm(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return JP=n,JP}var QP,U8;function KRe(){if(U8)return QP;U8=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return QP=n,QP}var e2,V8;function GRe(){if(V8)return e2;V8=1;var t=HRe(),e=KRe(),r=e(t);return e2=r,e2}var t2,W8;function ZRe(){if(W8)return t2;W8=1;var t=dm(),e=VRe(),r=GRe();function n(i,s){return r(e(i,s,t),i+"")}return t2=n,t2}var r2,H8;function M1(){if(H8)return r2;H8=1;var t=QM(),e=Qy(),r=hI(),n=Eu();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return r2=i,r2}var n2,K8;function YRe(){if(K8)return n2;K8=1;var t=vee(),e=qRe(),r=ZRe(),n=M1(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return n2=i,n2}var XRe=YRe();const vI=pr(XRe);function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gA.apply(this,arguments)}function JRe(t,e){return rMe(t)||tMe(t,e)||eMe(t,e)||QRe()}function QRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eMe(t,e){if(t){if(typeof t=="string")return G8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return G8(t,e)}}function G8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function rMe(t){if(Array.isArray(t))return t}function Z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z8(Object(r),!0).forEach(function(n){nMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nMe(t,e,r){return e=iMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iMe(t){var e=sMe(t,"string");return Mv(e)=="symbol"?e:e+""}function sMe(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aMe(t){return Array.isArray(t)&&zn(t[0])&&zn(t[1])?t.join(" ~ "):t}var oMe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,h=e.formatter,g=e.itemSorter,v=e.wrapperClassName,y=e.labelClassName,x=e.label,_=e.labelFormatter,S=e.accessibilityLayer,N=S===void 0?!1:S,C=function(){if(d&&d.length){var U={padding:0,margin:0},z=(g?vI(d,g):d).map(function(W,J){if(W.type==="none")return null;var se=i2({display:"block",paddingTop:4,paddingBottom:4,color:W.color||"#000"},l),K=W.formatter||h||aMe,ee=W.value,G=W.name,ne=ee,Y=G;if(K&&ne!=null&&Y!=null){var oe=K(ee,G,W,J,d);if(Array.isArray(oe)){var xe=JRe(oe,2);ne=xe[0],Y=xe[1]}else ne=oe}return Q.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(J),style:se},zn(Y)?Q.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,zn(Y)?Q.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,Q.createElement("span",{className:"recharts-tooltip-item-value"},ne),Q.createElement("span",{className:"recharts-tooltip-item-unit"},W.unit||""))});return Q.createElement("ul",{className:"recharts-tooltip-item-list",style:U},z)}return null},A=i2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),k=i2({margin:0},u),P=!Lt(x),O=P?x:"",I=Gt("recharts-default-tooltip",v),F=Gt("recharts-tooltip-label",y);P&&_&&d!==void 0&&d!==null&&(O=_(x,d));var H=N?{role:"status","aria-live":"assertive"}:{};return Q.createElement("div",gA({className:I,style:A},H),Q.createElement("p",{className:F,style:k},Q.isValidElement(O)?O:"".concat(O)),C())};function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function nb(t,e,r){return e=lMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lMe(t){var e=cMe(t,"string");return Iv(e)=="symbol"?e:e+""}function cMe(t,e){if(Iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _g="recharts-tooltip-wrapper",uMe={visibility:"hidden"};function dMe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Gt(_g,nb(nb(nb(nb({},"".concat(_g,"-right"),et(r)&&e&&et(e.x)&&r>=e.x),"".concat(_g,"-left"),et(r)&&e&&et(e.x)&&r<e.x),"".concat(_g,"-bottom"),et(n)&&e&&et(e.y)&&n>=e.y),"".concat(_g,"-top"),et(n)&&e&&et(e.y)&&n<e.y))}function Y8(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&et(s[n]))return s[n];var d=r[n]-l-i,h=r[n]+i;if(e[n])return o[n]?d:h;if(o[n]){var g=d,v=c[n];return g<v?Math.max(h,c[n]):Math.max(d,c[n])}var y=h+l,x=c[n]+u;return y>x?Math.max(d,c[n]):Math.max(h,c[n])}function fMe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function hMe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,h;return o.height>0&&o.width>0&&r?(d=Y8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),h=Y8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=fMe({translateX:d,translateY:h,useTranslate3d:l})):u=uMe,{cssProperties:u,cssClasses:dMe({translateX:d,translateY:h,coordinate:r})}}function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){yA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ee(n.key),n)}}function gMe(t,e,r){return e&&mMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vMe(t,e,r){return e=Rw(e),yMe(t,wee()?Reflect.construct(e,r||[],Rw(t).constructor):e.apply(t,r))}function yMe(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xMe(t)}function xMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wee=function(){return!!t})()}function Rw(t){return Rw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rw(t)}function bMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vA(t,e)}function vA(t,e){return vA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vA(t,e)}function yA(t,e,r){return e=_ee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ee(t){var e=wMe(t,"string");return xp(e)=="symbol"?e:e+""}function wMe(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Q8=1,_Me=function(t){function e(){var r;pMe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=vMe(this,e,[].concat(i)),yA(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),yA(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return bMe(e,t),gMe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Q8||Math.abs(n.height-this.state.lastBoundingBox.height)>Q8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,h=i.hasPayload,g=i.isAnimationActive,v=i.offset,y=i.position,x=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,N=i.wrapperStyle,C=hMe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:v,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:S}),A=C.cssClasses,k=C.cssProperties,P=J8(J8({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&h?"visible":"hidden",position:"absolute",top:0,left:0},N);return Q.createElement("div",{tabIndex:-1,className:A,style:P,ref:function(I){n.wrapperNode=I}},u)}}])}(b.PureComponent),jMe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},df={isSsr:jMe()};function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function ez(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ez(Object(r),!0).forEach(function(n){yI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ez(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,See(n.key),n)}}function CMe(t,e,r){return e&&NMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function EMe(t,e,r){return e=Mw(e),PMe(t,jee()?Reflect.construct(e,r||[],Mw(t).constructor):e.apply(t,r))}function PMe(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kMe(t)}function kMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jee=function(){return!!t})()}function Mw(t){return Mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Mw(t)}function TMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xA(t,e)}function xA(t,e){return xA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},xA(t,e)}function yI(t,e,r){return e=See(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function See(t){var e=AMe(t,"string");return bp(e)=="symbol"?e:e+""}function AMe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function OMe(t){return t.dataKey}function RMe(t,e){return Q.isValidElement(t)?Q.cloneElement(t,e):typeof t=="function"?Q.createElement(t,e):Q.createElement(oMe,e)}var $i=function(t){function e(){return SMe(this,e),EMe(this,e,arguments)}return TMe(e,t),CMe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,h=i.filterNull,g=i.isAnimationActive,v=i.offset,y=i.payload,x=i.payloadUniqBy,_=i.position,S=i.reverseDirection,N=i.useTranslate3d,C=i.viewBox,A=i.wrapperStyle,k=y??[];h&&k.length&&(k=pee(y.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),x,OMe));var P=k.length>0;return Q.createElement(_Me,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:d,hasPayload:P,offset:v,position:_,reverseDirection:S,useTranslate3d:N,viewBox:C,wrapperStyle:A},RMe(u,tz(tz({},this.props),{},{payload:k})))}}])}(b.PureComponent);yI($i,"displayName","Tooltip");yI($i,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!df.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var s2,rz;function MMe(){if(rz)return s2;rz=1;var t=Wo(),e=function(){return t.Date.now()};return s2=e,s2}var a2,nz;function IMe(){if(nz)return a2;nz=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return a2=e,a2}var o2,iz;function LMe(){if(iz)return o2;iz=1;var t=IMe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return o2=r,o2}var l2,sz;function Nee(){if(sz)return l2;sz=1;var t=LMe(),e=Eu(),r=lm(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var h=s.test(u);return h||o.test(u)?l(u.slice(2),h?2:8):i.test(u)?n:+u}return l2=c,l2}var c2,az;function DMe(){if(az)return c2;az=1;var t=Eu(),e=MMe(),r=Nee(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var d,h,g,v,y,x,_=0,S=!1,N=!1,C=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(S=!!u.leading,N="maxWait"in u,g=N?i(r(u.maxWait)||0,c):g,C="trailing"in u?!!u.trailing:C);function A(z){var W=d,J=h;return d=h=void 0,_=z,v=l.apply(J,W),v}function k(z){return _=z,y=setTimeout(I,c),S?A(z):v}function P(z){var W=z-x,J=z-_,se=c-W;return N?s(se,g-J):se}function O(z){var W=z-x,J=z-_;return x===void 0||W>=c||W<0||N&&J>=g}function I(){var z=e();if(O(z))return F(z);y=setTimeout(I,P(z))}function F(z){return y=void 0,C&&d?A(z):(d=h=void 0,v)}function H(){y!==void 0&&clearTimeout(y),_=0,d=x=h=y=void 0}function V(){return y===void 0?v:F(e())}function U(){var z=e(),W=O(z);if(d=arguments,h=this,x=z,W){if(y===void 0)return k(x);if(N)return clearTimeout(y),y=setTimeout(I,c),A(x)}return y===void 0&&(y=setTimeout(I,c)),v}return U.cancel=H,U.flush=V,U}return c2=o,c2}var u2,oz;function $Me(){if(oz)return u2;oz=1;var t=DMe(),e=Eu(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return u2=n,u2}var FMe=$Me();const Cee=pr(FMe);function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ib(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(r),!0).forEach(function(n){BMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BMe(t,e,r){return e=zMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zMe(t){var e=qMe(t,"string");return Lv(e)=="symbol"?e:e+""}function qMe(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UMe(t,e){return KMe(t)||HMe(t,e)||WMe(t,e)||VMe()}function VMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function WMe(t,e){if(t){if(typeof t=="string")return cz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cz(t,e)}}function cz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function KMe(t){if(Array.isArray(t))return t}var xh=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,h=t.minHeight,g=t.maxHeight,v=t.children,y=t.debounce,x=y===void 0?0:y,_=t.id,S=t.className,N=t.onResize,C=t.style,A=C===void 0?{}:C,k=b.useRef(null),P=b.useRef();P.current=N,b.useImperativeHandle(e,function(){return Object.defineProperty(k.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),k.current},configurable:!0})});var O=b.useState({containerWidth:i.width,containerHeight:i.height}),I=UMe(O,2),F=I[0],H=I[1],V=b.useCallback(function(z,W){H(function(J){var se=Math.round(z),K=Math.round(W);return J.containerWidth===se&&J.containerHeight===K?J:{containerWidth:se,containerHeight:K}})},[]);b.useEffect(function(){var z=function(G){var ne,Y=G[0].contentRect,oe=Y.width,xe=Y.height;V(oe,xe),(ne=P.current)===null||ne===void 0||ne.call(P,oe,xe)};x>0&&(z=Cee(z,x,{trailing:!0,leading:!1}));var W=new ResizeObserver(z),J=k.current.getBoundingClientRect(),se=J.width,K=J.height;return V(se,K),W.observe(k.current),function(){W.disconnect()}},[V,x]);var U=b.useMemo(function(){var z=F.containerWidth,W=F.containerHeight;if(z<0||W<0)return null;Ga(jd(o)||jd(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ga(!r||r>0,"The aspect(%s) must be greater than zero.",r);var J=jd(o)?z:o,se=jd(c)?W:c;r&&r>0&&(J?se=J/r:se&&(J=se*r),g&&se>g&&(se=g)),Ga(J>0||se>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,J,se,o,c,d,h,r);var K=!Array.isArray(v)&&Ol(v.type).endsWith("Chart");return Q.Children.map(v,function(ee){return Q.isValidElement(ee)?b.cloneElement(ee,ib({width:J,height:se},K?{style:ib({height:"100%",width:"100%",maxHeight:se,maxWidth:J},ee.props.style)}:{})):ee})},[r,v,c,g,h,d,F,o]);return Q.createElement("div",{id:_?"".concat(_):void 0,className:Gt("recharts-responsive-container",S),style:ib(ib({},A),{},{width:o,height:c,minWidth:d,minHeight:h,maxHeight:g}),ref:k},U)}),Dv=function(e){return null};Dv.displayName="Cell";function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function uz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(r),!0).forEach(function(n){GMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GMe(t,e,r){return e=ZMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZMe(t){var e=YMe(t,"string");return $v(e)=="symbol"?e:e+""}function YMe(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bh={widthCache:{},cacheCount:0},XMe=2e3,JMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},dz="recharts_measurement_span";function QMe(t){var e=bA({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var iv=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||df.isSsr)return{width:0,height:0};var n=QMe(r),i=JSON.stringify({text:e,copyStyle:n});if(bh.widthCache[i])return bh.widthCache[i];try{var s=document.getElementById(dz);s||(s=document.createElement("span"),s.setAttribute("id",dz),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=bA(bA({},JMe),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return bh.widthCache[i]=c,++bh.cacheCount>XMe&&(bh.cacheCount=0,bh.widthCache={}),c}catch{return{width:0,height:0}}},eIe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function Iw(t,e){return iIe(t)||nIe(t,e)||rIe(t,e)||tIe()}function tIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rIe(t,e){if(t){if(typeof t=="string")return fz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fz(t,e)}}function fz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function nIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function iIe(t){if(Array.isArray(t))return t}function sIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oIe(n.key),n)}}function aIe(t,e,r){return e&&hz(t.prototype,e),r&&hz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function oIe(t){var e=lIe(t,"string");return Fv(e)=="symbol"?e:e+""}function lIe(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,mz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cIe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,uIe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Eee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},dIe=Object.keys(Eee),$h="NaN";function fIe(t,e){return t*Eee[e]}var sb=function(){function t(e,r){sIe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!cIe.test(r)&&(this.num=NaN,this.unit=""),dIe.includes(r)&&(this.num=fIe(e,r),this.unit="px")}return aIe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=uIe.exec(r))!==null&&n!==void 0?n:[],s=Iw(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function Pee(t){if(t.includes($h))return $h;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=pz.exec(e))!==null&&r!==void 0?r:[],i=Iw(n,4),s=i[1],o=i[2],l=i[3],c=sb.parse(s??""),u=sb.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return $h;e=e.replace(pz,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var h,g=(h=mz.exec(e))!==null&&h!==void 0?h:[],v=Iw(g,4),y=v[1],x=v[2],_=v[3],S=sb.parse(y??""),N=sb.parse(_??""),C=x==="+"?S.add(N):S.subtract(N);if(C.isNaN())return $h;e=e.replace(mz,C.toString())}return e}var gz=/\(([^()]*)\)/;function hIe(t){for(var e=t;e.includes("(");){var r=gz.exec(e),n=Iw(r,2),i=n[1];e=e.replace(gz,Pee(i))}return e}function pIe(t){var e=t.replace(/\s+/g,"");return e=hIe(e),e=Pee(e),e}function mIe(t){try{return pIe(t)}catch{return $h}}function d2(t){var e=mIe(t.slice(5,-1));return e===$h?"":e}var gIe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],vIe=["dx","dy","angle","className","breakAll"];function wA(){return wA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wA.apply(this,arguments)}function vz(t,e){if(t==null)return{};var r=yIe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function yz(t,e){return _Ie(t)||wIe(t,e)||bIe(t,e)||xIe()}function xIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bIe(t,e){if(t){if(typeof t=="string")return xz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xz(t,e)}}function xz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function _Ie(t){if(Array.isArray(t))return t}var kee=/[ \f\n\r\t\v\u2028\u2029]+/,Tee=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];Lt(r)||(n?s=r.toString().split(""):s=r.toString().split(kee));var o=s.map(function(c){return{word:c,width:iv(c,i).width}}),l=n?0:iv(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},jIe=function(e,r,n,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=et(o),h=l,g=function(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return J.reduce(function(se,K){var ee=K.word,G=K.width,ne=se[se.length-1];if(ne&&(i==null||s||ne.width+G+n<Number(i)))ne.words.push(ee),ne.width+=G+n;else{var Y={words:[ee],width:G};se.push(Y)}return se},[])},v=g(r),y=function(J){return J.reduce(function(se,K){return se.width>K.width?se:K})};if(!d)return v;for(var x="…",_=function(J){var se=h.slice(0,J),K=Tee({breakAll:u,style:c,children:se+x}).wordsWithComputedWidth,ee=g(K),G=ee.length>o||y(ee).width>Number(i);return[G,ee]},S=0,N=h.length-1,C=0,A;S<=N&&C<=h.length-1;){var k=Math.floor((S+N)/2),P=k-1,O=_(P),I=yz(O,2),F=I[0],H=I[1],V=_(k),U=yz(V,1),z=U[0];if(!F&&!z&&(S=k+1),F&&z&&(N=k-1),!F&&z){A=H;break}C++}return A||v},bz=function(e){var r=Lt(e)?[]:e.toString().split(kee);return[{words:r}]},SIe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!df.isSsr){var c,u,d=Tee({breakAll:o,children:i,style:s});if(d){var h=d.wordsWithComputedWidth,g=d.spaceWidth;c=h,u=g}else return bz(i);return jIe({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return bz(i)},wz="#808080",Bv=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,h=d===void 0?!1:d,g=e.textAnchor,v=g===void 0?"start":g,y=e.verticalAnchor,x=y===void 0?"end":y,_=e.fill,S=_===void 0?wz:_,N=vz(e,gIe),C=b.useMemo(function(){return SIe({breakAll:N.breakAll,children:N.children,maxLines:N.maxLines,scaleToFit:h,style:N.style,width:N.width})},[N.breakAll,N.children,N.maxLines,h,N.style,N.width]),A=N.dx,k=N.dy,P=N.angle,O=N.className,I=N.breakAll,F=vz(N,vIe);if(!zn(n)||!zn(s))return null;var H=n+(et(A)?A:0),V=s+(et(k)?k:0),U;switch(x){case"start":U=d2("calc(".concat(u,")"));break;case"middle":U=d2("calc(".concat((C.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:U=d2("calc(".concat(C.length-1," * -").concat(l,")"));break}var z=[];if(h){var W=C[0].width,J=N.width;z.push("scale(".concat((et(J)?J/W:1)/W,")"))}return P&&z.push("rotate(".concat(P,", ").concat(H,", ").concat(V,")")),z.length&&(F.transform=z.join(" ")),Q.createElement("text",wA({},Wt(F,!0),{x:H,y:V,className:Gt("recharts-text",O),textAnchor:v,fill:S.includes("url")?wz:S}),C.map(function(se,K){var ee=se.words.join(I?"":" ");return Q.createElement("tspan",{x:H,dy:K===0?U:l,key:"".concat(ee,"-").concat(K)},ee)}))};function uu(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function xI(t){let e,r,n;t.length!==2?(e=uu,r=(l,c)=>uu(t(l),c),n=(l,c)=>t(l)-c):(e=t===uu||t===NIe?t:CIe,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<0?u=h+1:d=h}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const h=u+d>>>1;r(l[h],c)<=0?u=h+1:d=h}while(u<d)}return u}function o(l,c,u=0,d=l.length){const h=i(l,c,u,d-1);return h>u&&n(l[h-1],c)>-n(l[h],c)?h-1:h}return{left:i,center:o,right:s}}function CIe(){return 0}function Aee(t){return t===null?NaN:+t}function*EIe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const PIe=xI(uu),ex=PIe.right;xI(Aee).center;class _z extends Map{constructor(e,r=AIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(jz(this,e))}has(e){return super.has(jz(this,e))}set(e,r){return super.set(kIe(this,e),r)}delete(e){return super.delete(TIe(this,e))}}function jz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function kIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function TIe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function AIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function OIe(t=uu){if(t===uu)return Oee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Oee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const RIe=Math.sqrt(50),MIe=Math.sqrt(10),IIe=Math.sqrt(2);function Lw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=RIe?10:s>=MIe?5:s>=IIe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Lw(t,e,r*2):[l,c,u]}function _A(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?Lw(e,t,r):Lw(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function jA(t,e,r){return e=+e,t=+t,r=+r,Lw(t,e,r)[2]}function SA(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?jA(e,t,r):jA(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function Sz(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Nz(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Ree(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Oee:OIe(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),h=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*h*(c-h)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(e-u*h/c+g)),y=Math.min(n,Math.floor(e+(c-u)*h/c+g));Ree(t,e,v,y,i)}const s=t[e];let o=r,l=n;for(jg(t,r,e),i(t[n],s)>0&&jg(t,r,n);o<l;){for(jg(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?jg(t,r,l):(++l,jg(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function jg(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function LIe(t,e,r){if(t=Float64Array.from(EIe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Nz(t);if(e>=1)return Sz(t);var n,i=(n-1)*e,s=Math.floor(i),o=Sz(Ree(t,s).subarray(0,s+1)),l=Nz(t.subarray(s+1));return o+(l-o)*(i-s)}}function DIe(t,e,r=Aee){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function $Ie(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function ga(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ql(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const NA=Symbol("implicit");function bI(){var t=new _z,e=[],r=[],n=NA;function i(s){let o=t.get(s);if(o===void 0){if(n!==NA)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new _z;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return bI(e,r).unknown(n)},ga.apply(i,arguments),i}function zv(){var t=bI().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function h(){var g=e().length,v=i<n,y=v?i:n,x=v?n:i;s=(x-y)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),y+=(x-y-s*(g-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var _=$Ie(g).map(function(S){return y+s*S});return r(v?_.reverse():_)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,h()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,h()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),h()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),h()):c},t.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),h()):d},t.copy=function(){return zv(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},ga.apply(h(),arguments)}function Mee(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Mee(e())},t}function sv(){return Mee(zv.apply(null,arguments).paddingInner(1))}function wI(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function Iee(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function tx(){}var qv=.7,Dw=1/qv,Zh="\\s*([+-]?\\d+)\\s*",Uv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Oo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",FIe=/^#([0-9a-f]{3,8})$/,BIe=new RegExp(`^rgb\\(${Zh},${Zh},${Zh}\\)$`),zIe=new RegExp(`^rgb\\(${Oo},${Oo},${Oo}\\)$`),qIe=new RegExp(`^rgba\\(${Zh},${Zh},${Zh},${Uv}\\)$`),UIe=new RegExp(`^rgba\\(${Oo},${Oo},${Oo},${Uv}\\)$`),VIe=new RegExp(`^hsl\\(${Uv},${Oo},${Oo}\\)$`),WIe=new RegExp(`^hsla\\(${Uv},${Oo},${Oo},${Uv}\\)$`),Cz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wI(tx,Vv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Ez,formatHex:Ez,formatHex8:HIe,formatHsl:KIe,formatRgb:Pz,toString:Pz});function Ez(){return this.rgb().formatHex()}function HIe(){return this.rgb().formatHex8()}function KIe(){return Lee(this).formatHsl()}function Pz(){return this.rgb().formatRgb()}function Vv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=FIe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?kz(e):r===3?new rs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?ab(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?ab(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=BIe.exec(t))?new rs(e[1],e[2],e[3],1):(e=zIe.exec(t))?new rs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qIe.exec(t))?ab(e[1],e[2],e[3],e[4]):(e=UIe.exec(t))?ab(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VIe.exec(t))?Oz(e[1],e[2]/100,e[3]/100,1):(e=WIe.exec(t))?Oz(e[1],e[2]/100,e[3]/100,e[4]):Cz.hasOwnProperty(t)?kz(Cz[t]):t==="transparent"?new rs(NaN,NaN,NaN,0):null}function kz(t){return new rs(t>>16&255,t>>8&255,t&255,1)}function ab(t,e,r,n){return n<=0&&(t=e=r=NaN),new rs(t,e,r,n)}function GIe(t){return t instanceof tx||(t=Vv(t)),t?(t=t.rgb(),new rs(t.r,t.g,t.b,t.opacity)):new rs}function CA(t,e,r,n){return arguments.length===1?GIe(t):new rs(t,e,r,n??1)}function rs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}wI(rs,CA,Iee(tx,{brighter(t){return t=t==null?Dw:Math.pow(Dw,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?qv:Math.pow(qv,t),new rs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new rs(Id(this.r),Id(this.g),Id(this.b),$w(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tz,formatHex:Tz,formatHex8:ZIe,formatRgb:Az,toString:Az}));function Tz(){return`#${Sd(this.r)}${Sd(this.g)}${Sd(this.b)}`}function ZIe(){return`#${Sd(this.r)}${Sd(this.g)}${Sd(this.b)}${Sd((isNaN(this.opacity)?1:this.opacity)*255)}`}function Az(){const t=$w(this.opacity);return`${t===1?"rgb(":"rgba("}${Id(this.r)}, ${Id(this.g)}, ${Id(this.b)}${t===1?")":`, ${t})`}`}function $w(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Id(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Sd(t){return t=Id(t),(t<16?"0":"")+t.toString(16)}function Oz(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new za(t,e,r,n)}function Lee(t){if(t instanceof za)return new za(t.h,t.s,t.l,t.opacity);if(t instanceof tx||(t=Vv(t)),!t)return new za;if(t instanceof za)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new za(o,l,c,t.opacity)}function YIe(t,e,r,n){return arguments.length===1?Lee(t):new za(t,e,r,n??1)}function za(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}wI(za,YIe,Iee(tx,{brighter(t){return t=t==null?Dw:Math.pow(Dw,t),new za(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?qv:Math.pow(qv,t),new za(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new rs(f2(t>=240?t-240:t+120,i,n),f2(t,i,n),f2(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new za(Rz(this.h),ob(this.s),ob(this.l),$w(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=$w(this.opacity);return`${t===1?"hsl(":"hsla("}${Rz(this.h)}, ${ob(this.s)*100}%, ${ob(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Rz(t){return t=(t||0)%360,t<0?t+360:t}function ob(t){return Math.max(0,Math.min(1,t||0))}function f2(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const _I=t=>()=>t;function XIe(t,e){return function(r){return t+r*e}}function JIe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function QIe(t){return(t=+t)==1?Dee:function(e,r){return r-e?JIe(e,r,t):_I(isNaN(e)?r:e)}}function Dee(t,e){var r=e-t;return r?XIe(t,r):_I(isNaN(t)?e:t)}const Mz=function t(e){var r=QIe(e);function n(i,s){var o=r((i=CA(i)).r,(s=CA(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=Dee(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function eLe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function tLe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function rLe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=fm(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function nLe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Fw(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function iLe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=fm(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var EA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h2=new RegExp(EA.source,"g");function sLe(t){return function(){return t}}function aLe(t){return function(e){return t(e)+""}}function oLe(t,e){var r=EA.lastIndex=h2.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=EA.exec(t))&&(i=h2.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:Fw(n,i)})),r=h2.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?aLe(c[0].x):sLe(e):(e=c.length,function(u){for(var d=0,h;d<e;++d)l[(h=c[d]).i]=h.x(u);return l.join("")})}function fm(t,e){var r=typeof e,n;return e==null||r==="boolean"?_I(e):(r==="number"?Fw:r==="string"?(n=Vv(e))?(e=n,Mz):oLe:e instanceof Vv?Mz:e instanceof Date?nLe:tLe(e)?eLe:Array.isArray(e)?rLe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iLe:Fw)(t,e)}function jI(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function lLe(t,e){e===void 0&&(e=t,t=fm);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function cLe(t){return function(){return t}}function Bw(t){return+t}var Iz=[0,1];function Bi(t){return t}function PA(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:cLe(isNaN(e)?NaN:.5)}function uLe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function dLe(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=PA(i,n),s=r(o,s)):(n=PA(n,i),s=r(s,o)),function(l){return s(n(l))}}function fLe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=PA(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=ex(t,l,1,n)-1;return s[c](i[c](l))}}function rx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function I1(){var t=Iz,e=Iz,r=fm,n,i,s,o=Bi,l,c,u;function d(){var g=Math.min(t.length,e.length);return o!==Bi&&(o=uLe(t[0],t[g-1])),l=g>2?fLe:dLe,c=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return h.invert=function(g){return o(i((u||(u=l(e,t.map(n),Fw)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,Bw),d()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),r=jI,d()},h.clamp=function(g){return arguments.length?(o=g?!0:Bi,d()):o!==Bi},h.interpolate=function(g){return arguments.length?(r=g,d()):r},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return n=g,i=v,d()}}function SI(){return I1()(Bi,Bi)}function hLe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function zw(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function wp(t){return t=zw(Math.abs(t)),t?t[1]:NaN}function pLe(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function mLe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var gLe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Wv(t){if(!(e=gLe.exec(t)))throw new Error("invalid format: "+t);var e;return new NI({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Wv.prototype=NI.prototype;function NI(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}NI.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vLe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var $ee;function yLe(t,e){var r=zw(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-($ee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+zw(t,Math.max(0,e+s-1))[0]}function Lz(t,e){var r=zw(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Dz={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hLe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Lz(t*100,e),r:Lz,s:yLe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function $z(t){return t}var Fz=Array.prototype.map,Bz=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xLe(t){var e=t.grouping===void 0||t.thousands===void 0?$z:pLe(Fz.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?$z:mLe(Fz.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(h){h=Wv(h);var g=h.fill,v=h.align,y=h.sign,x=h.symbol,_=h.zero,S=h.width,N=h.comma,C=h.precision,A=h.trim,k=h.type;k==="n"?(N=!0,k="g"):Dz[k]||(C===void 0&&(C=12),A=!0,k="g"),(_||g==="0"&&v==="=")&&(_=!0,g="0",v="=");var P=x==="$"?r:x==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",O=x==="$"?n:/[%p]/.test(k)?o:"",I=Dz[k],F=/[defgprs%]/.test(k);C=C===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function H(V){var U=P,z=O,W,J,se;if(k==="c")z=I(V)+z,V="";else{V=+V;var K=V<0||1/V<0;if(V=isNaN(V)?c:I(Math.abs(V),C),A&&(V=vLe(V)),K&&+V==0&&y!=="+"&&(K=!1),U=(K?y==="("?y:l:y==="-"||y==="("?"":y)+U,z=(k==="s"?Bz[8+$ee/3]:"")+z+(K&&y==="("?")":""),F){for(W=-1,J=V.length;++W<J;)if(se=V.charCodeAt(W),48>se||se>57){z=(se===46?i+V.slice(W+1):V.slice(W))+z,V=V.slice(0,W);break}}}N&&!_&&(V=e(V,1/0));var ee=U.length+V.length+z.length,G=ee<S?new Array(S-ee+1).join(g):"";switch(N&&_&&(V=e(G+V,G.length?S-z.length:1/0),G=""),v){case"<":V=U+V+z+G;break;case"=":V=U+G+V+z;break;case"^":V=G.slice(0,ee=G.length>>1)+U+V+z+G.slice(ee);break;default:V=G+U+V+z;break}return s(V)}return H.toString=function(){return h+""},H}function d(h,g){var v=u((h=Wv(h),h.type="f",h)),y=Math.max(-8,Math.min(8,Math.floor(wp(g)/3)))*3,x=Math.pow(10,-y),_=Bz[8+y/3];return function(S){return v(x*S)+_}}return{format:u,formatPrefix:d}}var lb,CI,Fee;bLe({thousands:",",grouping:[3],currency:["$",""]});function bLe(t){return lb=xLe(t),CI=lb.format,Fee=lb.formatPrefix,lb}function wLe(t){return Math.max(0,-wp(Math.abs(t)))}function _Le(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wp(e)/3)))*3-wp(Math.abs(t)))}function jLe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wp(e)-wp(t))+1}function Bee(t,e,r,n){var i=SA(t,e,r),s;switch(n=Wv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=_Le(i,o))&&(n.precision=s),Fee(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=jLe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=wLe(i))&&(n.precision=s-(n.type==="%")*2);break}}return CI(n)}function ku(t){var e=t.domain;return t.ticks=function(r){var n=e();return _A(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Bee(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=jA(o,l,r),u===c)return n[i]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function qw(){var t=SI();return t.copy=function(){return rx(t,qw())},ga.apply(t,arguments),ku(t)}function zee(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Bw),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return zee(t).unknown(e)},t=arguments.length?Array.from(t,Bw):[0,1],ku(r)}function qee(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function zz(t){return Math.log(t)}function qz(t){return Math.exp(t)}function SLe(t){return-Math.log(-t)}function NLe(t){return-Math.exp(-t)}function CLe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function ELe(t){return t===10?CLe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function PLe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Uz(t){return(e,r)=>-t(-e,r)}function EI(t){const e=t(zz,qz),r=e.domain;let n=10,i,s;function o(){return i=PLe(n),s=ELe(n),r()[0]<0?(i=Uz(i),s=Uz(s),t(SLe,NLe)):t(zz,qz),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const h=d<u;h&&([u,d]=[d,u]);let g=i(u),v=i(d),y,x;const _=l==null?10:+l;let S=[];if(!(n%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(y=1;y<n;++y)if(x=g<0?y/s(-g):y*s(g),!(x<u)){if(x>d)break;S.push(x)}}else for(;g<=v;++g)for(y=n-1;y>=1;--y)if(x=g>0?y/s(-g):y*s(g),!(x<u)){if(x>d)break;S.push(x)}S.length*2<_&&(S=_A(u,d,_))}else S=_A(g,v,Math.min(v-g,_)).map(s);return h?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Wv(c)).precision==null&&(c.trim=!0),c=CI(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let h=d/s(Math.round(i(d)));return h*n<n-.5&&(h*=n),h<=u?c(d):""}},e.nice=()=>r(qee(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function Uee(){const t=EI(I1()).domain([1,10]);return t.copy=()=>rx(t,Uee()).base(t.base()),ga.apply(t,arguments),t}function Vz(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Wz(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function PI(t){var e=1,r=t(Vz(e),Wz(e));return r.constant=function(n){return arguments.length?t(Vz(e=+n),Wz(e)):e},ku(r)}function Vee(){var t=PI(I1());return t.copy=function(){return rx(t,Vee()).constant(t.constant())},ga.apply(t,arguments)}function Hz(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function kLe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TLe(t){return t<0?-t*t:t*t}function kI(t){var e=t(Bi,Bi),r=1;function n(){return r===1?t(Bi,Bi):r===.5?t(kLe,TLe):t(Hz(r),Hz(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},ku(e)}function TI(){var t=kI(I1());return t.copy=function(){return rx(t,TI()).exponent(t.exponent())},ga.apply(t,arguments),t}function ALe(){return TI.apply(null,arguments).exponent(.5)}function Kz(t){return Math.sign(t)*t*t}function OLe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Wee(){var t=SI(),e=[0,1],r=!1,n;function i(s){var o=OLe(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(Kz(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,Bw)).map(Kz)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Wee(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ga.apply(i,arguments),ku(i)}function Hee(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=DIe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[ex(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(uu),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return Hee().domain(t).range(e).unknown(n)},ga.apply(s,arguments)}function Kee(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[ex(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Kee().domain([t,e]).range(i).unknown(s)},ga.apply(ku(o),arguments)}function Gee(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[ex(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Gee().domain(t).range(e).unknown(r)},ga.apply(i,arguments)}const p2=new Date,m2=new Date;function qn(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>qn(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(p2.setTime(+s),m2.setTime(+o),t(p2),t(m2),Math.floor(r(p2,m2))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const Uw=qn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Uw.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?qn(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Uw);Uw.range;const wl=1e3,oa=wl*60,_l=oa*60,zl=_l*24,AI=zl*7,Gz=zl*30,g2=zl*365,Nd=qn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wl)},(t,e)=>(e-t)/wl,t=>t.getUTCSeconds());Nd.range;const OI=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wl)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getMinutes());OI.range;const RI=qn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCMinutes());RI.range;const MI=qn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wl-t.getMinutes()*oa)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getHours());MI.range;const II=qn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*_l)},(t,e)=>(e-t)/_l,t=>t.getUTCHours());II.range;const nx=qn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*oa)/zl,t=>t.getDate()-1);nx.range;const L1=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zl,t=>t.getUTCDate()-1);L1.range;const Zee=qn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zl,t=>Math.floor(t/zl));Zee.range;function ff(t){return qn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*oa)/AI)}const D1=ff(0),Vw=ff(1),RLe=ff(2),MLe=ff(3),_p=ff(4),ILe=ff(5),LLe=ff(6);D1.range;Vw.range;RLe.range;MLe.range;_p.range;ILe.range;LLe.range;function hf(t){return qn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/AI)}const $1=hf(0),Ww=hf(1),DLe=hf(2),$Le=hf(3),jp=hf(4),FLe=hf(5),BLe=hf(6);$1.range;Ww.range;DLe.range;$Le.range;jp.range;FLe.range;BLe.range;const LI=qn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());LI.range;const DI=qn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());DI.range;const ql=qn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ql.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});ql.range;const Ul=qn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ul.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:qn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ul.range;function Yee(t,e,r,n,i,s){const o=[[Nd,1,wl],[Nd,5,5*wl],[Nd,15,15*wl],[Nd,30,30*wl],[s,1,oa],[s,5,5*oa],[s,15,15*oa],[s,30,30*oa],[i,1,_l],[i,3,3*_l],[i,6,6*_l],[i,12,12*_l],[n,1,zl],[n,2,2*zl],[r,1,AI],[e,1,Gz],[e,3,3*Gz],[t,1,g2]];function l(u,d,h){const g=d<u;g&&([u,d]=[d,u]);const v=h&&typeof h.range=="function"?h:c(u,d,h),y=v?v.range(u,+d+1):[];return g?y.reverse():y}function c(u,d,h){const g=Math.abs(d-u)/h,v=xI(([,,_])=>_).right(o,g);if(v===o.length)return t.every(SA(u/g2,d/g2,h));if(v===0)return Uw.every(Math.max(SA(u,d,h),1));const[y,x]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return y.every(x)}return[l,c]}const[zLe,qLe]=Yee(Ul,DI,$1,Zee,II,RI),[ULe,VLe]=Yee(ql,LI,D1,nx,MI,OI);function v2(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function y2(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function WLe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Ng(i),d=Cg(i),h=Ng(s),g=Cg(s),v=Ng(o),y=Cg(o),x=Ng(l),_=Cg(l),S=Ng(c),N=Cg(c),C={a:K,A:ee,b:G,B:ne,c:null,d:eq,e:eq,f:pDe,g:SDe,G:CDe,H:dDe,I:fDe,j:hDe,L:Xee,m:mDe,M:gDe,p:Y,q:oe,Q:nq,s:iq,S:vDe,u:yDe,U:xDe,V:bDe,w:wDe,W:_De,x:null,X:null,y:jDe,Y:NDe,Z:EDe,"%":rq},A={a:xe,A:Ne,b:Le,B:ce,c:null,d:tq,e:tq,f:ADe,g:zDe,G:UDe,H:PDe,I:kDe,j:TDe,L:Qee,m:ODe,M:RDe,p:ae,q:ge,Q:nq,s:iq,S:MDe,u:IDe,U:LDe,V:DDe,w:$De,W:FDe,x:null,X:null,y:BDe,Y:qDe,Z:VDe,"%":rq},k={a:H,A:V,b:U,B:z,c:W,d:Jz,e:Jz,f:oDe,g:Xz,G:Yz,H:Qz,I:Qz,j:nDe,L:aDe,m:rDe,M:iDe,p:F,q:tDe,Q:cDe,s:uDe,S:sDe,u:YLe,U:XLe,V:JLe,w:ZLe,W:QLe,x:J,X:se,y:Xz,Y:Yz,Z:eDe,"%":lDe};C.x=P(r,C),C.X=P(n,C),C.c=P(e,C),A.x=P(r,A),A.X=P(n,A),A.c=P(e,A);function P(he,Pe){return function(te){var X=[],_e=-1,we=0,We=he.length,Ue,Ce,ot;for(te instanceof Date||(te=new Date(+te));++_e<We;)he.charCodeAt(_e)===37&&(X.push(he.slice(we,_e)),(Ce=Zz[Ue=he.charAt(++_e)])!=null?Ue=he.charAt(++_e):Ce=Ue==="e"?" ":"0",(ot=Pe[Ue])&&(Ue=ot(te,Ce)),X.push(Ue),we=_e+1);return X.push(he.slice(we,_e)),X.join("")}}function O(he,Pe){return function(te){var X=Sg(1900,void 0,1),_e=I(X,he,te+="",0),we,We;if(_e!=te.length)return null;if("Q"in X)return new Date(X.Q);if("s"in X)return new Date(X.s*1e3+("L"in X?X.L:0));if(Pe&&!("Z"in X)&&(X.Z=0),"p"in X&&(X.H=X.H%12+X.p*12),X.m===void 0&&(X.m="q"in X?X.q:0),"V"in X){if(X.V<1||X.V>53)return null;"w"in X||(X.w=1),"Z"in X?(we=y2(Sg(X.y,0,1)),We=we.getUTCDay(),we=We>4||We===0?Ww.ceil(we):Ww(we),we=L1.offset(we,(X.V-1)*7),X.y=we.getUTCFullYear(),X.m=we.getUTCMonth(),X.d=we.getUTCDate()+(X.w+6)%7):(we=v2(Sg(X.y,0,1)),We=we.getDay(),we=We>4||We===0?Vw.ceil(we):Vw(we),we=nx.offset(we,(X.V-1)*7),X.y=we.getFullYear(),X.m=we.getMonth(),X.d=we.getDate()+(X.w+6)%7)}else("W"in X||"U"in X)&&("w"in X||(X.w="u"in X?X.u%7:"W"in X?1:0),We="Z"in X?y2(Sg(X.y,0,1)).getUTCDay():v2(Sg(X.y,0,1)).getDay(),X.m=0,X.d="W"in X?(X.w+6)%7+X.W*7-(We+5)%7:X.w+X.U*7-(We+6)%7);return"Z"in X?(X.H+=X.Z/100|0,X.M+=X.Z%100,y2(X)):v2(X)}}function I(he,Pe,te,X){for(var _e=0,we=Pe.length,We=te.length,Ue,Ce;_e<we;){if(X>=We)return-1;if(Ue=Pe.charCodeAt(_e++),Ue===37){if(Ue=Pe.charAt(_e++),Ce=k[Ue in Zz?Pe.charAt(_e++):Ue],!Ce||(X=Ce(he,te,X))<0)return-1}else if(Ue!=te.charCodeAt(X++))return-1}return X}function F(he,Pe,te){var X=u.exec(Pe.slice(te));return X?(he.p=d.get(X[0].toLowerCase()),te+X[0].length):-1}function H(he,Pe,te){var X=v.exec(Pe.slice(te));return X?(he.w=y.get(X[0].toLowerCase()),te+X[0].length):-1}function V(he,Pe,te){var X=h.exec(Pe.slice(te));return X?(he.w=g.get(X[0].toLowerCase()),te+X[0].length):-1}function U(he,Pe,te){var X=S.exec(Pe.slice(te));return X?(he.m=N.get(X[0].toLowerCase()),te+X[0].length):-1}function z(he,Pe,te){var X=x.exec(Pe.slice(te));return X?(he.m=_.get(X[0].toLowerCase()),te+X[0].length):-1}function W(he,Pe,te){return I(he,e,Pe,te)}function J(he,Pe,te){return I(he,r,Pe,te)}function se(he,Pe,te){return I(he,n,Pe,te)}function K(he){return o[he.getDay()]}function ee(he){return s[he.getDay()]}function G(he){return c[he.getMonth()]}function ne(he){return l[he.getMonth()]}function Y(he){return i[+(he.getHours()>=12)]}function oe(he){return 1+~~(he.getMonth()/3)}function xe(he){return o[he.getUTCDay()]}function Ne(he){return s[he.getUTCDay()]}function Le(he){return c[he.getUTCMonth()]}function ce(he){return l[he.getUTCMonth()]}function ae(he){return i[+(he.getUTCHours()>=12)]}function ge(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var Pe=P(he+="",C);return Pe.toString=function(){return he},Pe},parse:function(he){var Pe=O(he+="",!1);return Pe.toString=function(){return he},Pe},utcFormat:function(he){var Pe=P(he+="",A);return Pe.toString=function(){return he},Pe},utcParse:function(he){var Pe=O(he+="",!0);return Pe.toString=function(){return he},Pe}}}var Zz={"-":"",_:" ",0:"0"},ti=/^\s*\d+/,HLe=/^%/,KLe=/[\\^$*+?|[\]().{}]/g;function hr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function GLe(t){return t.replace(KLe,"\\$&")}function Ng(t){return new RegExp("^(?:"+t.map(GLe).join("|")+")","i")}function Cg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function ZLe(t,e,r){var n=ti.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function YLe(t,e,r){var n=ti.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function XLe(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function JLe(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function QLe(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Yz(t,e,r){var n=ti.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Xz(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function eDe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function tDe(t,e,r){var n=ti.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function rDe(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Jz(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function nDe(t,e,r){var n=ti.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Qz(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function iDe(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function sDe(t,e,r){var n=ti.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function aDe(t,e,r){var n=ti.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function oDe(t,e,r){var n=ti.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function lDe(t,e,r){var n=HLe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function cDe(t,e,r){var n=ti.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function uDe(t,e,r){var n=ti.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function eq(t,e){return hr(t.getDate(),e,2)}function dDe(t,e){return hr(t.getHours(),e,2)}function fDe(t,e){return hr(t.getHours()%12||12,e,2)}function hDe(t,e){return hr(1+nx.count(ql(t),t),e,3)}function Xee(t,e){return hr(t.getMilliseconds(),e,3)}function pDe(t,e){return Xee(t,e)+"000"}function mDe(t,e){return hr(t.getMonth()+1,e,2)}function gDe(t,e){return hr(t.getMinutes(),e,2)}function vDe(t,e){return hr(t.getSeconds(),e,2)}function yDe(t){var e=t.getDay();return e===0?7:e}function xDe(t,e){return hr(D1.count(ql(t)-1,t),e,2)}function Jee(t){var e=t.getDay();return e>=4||e===0?_p(t):_p.ceil(t)}function bDe(t,e){return t=Jee(t),hr(_p.count(ql(t),t)+(ql(t).getDay()===4),e,2)}function wDe(t){return t.getDay()}function _De(t,e){return hr(Vw.count(ql(t)-1,t),e,2)}function jDe(t,e){return hr(t.getFullYear()%100,e,2)}function SDe(t,e){return t=Jee(t),hr(t.getFullYear()%100,e,2)}function NDe(t,e){return hr(t.getFullYear()%1e4,e,4)}function CDe(t,e){var r=t.getDay();return t=r>=4||r===0?_p(t):_p.ceil(t),hr(t.getFullYear()%1e4,e,4)}function EDe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+hr(e/60|0,"0",2)+hr(e%60,"0",2)}function tq(t,e){return hr(t.getUTCDate(),e,2)}function PDe(t,e){return hr(t.getUTCHours(),e,2)}function kDe(t,e){return hr(t.getUTCHours()%12||12,e,2)}function TDe(t,e){return hr(1+L1.count(Ul(t),t),e,3)}function Qee(t,e){return hr(t.getUTCMilliseconds(),e,3)}function ADe(t,e){return Qee(t,e)+"000"}function ODe(t,e){return hr(t.getUTCMonth()+1,e,2)}function RDe(t,e){return hr(t.getUTCMinutes(),e,2)}function MDe(t,e){return hr(t.getUTCSeconds(),e,2)}function IDe(t){var e=t.getUTCDay();return e===0?7:e}function LDe(t,e){return hr($1.count(Ul(t)-1,t),e,2)}function ete(t){var e=t.getUTCDay();return e>=4||e===0?jp(t):jp.ceil(t)}function DDe(t,e){return t=ete(t),hr(jp.count(Ul(t),t)+(Ul(t).getUTCDay()===4),e,2)}function $De(t){return t.getUTCDay()}function FDe(t,e){return hr(Ww.count(Ul(t)-1,t),e,2)}function BDe(t,e){return hr(t.getUTCFullYear()%100,e,2)}function zDe(t,e){return t=ete(t),hr(t.getUTCFullYear()%100,e,2)}function qDe(t,e){return hr(t.getUTCFullYear()%1e4,e,4)}function UDe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?jp(t):jp.ceil(t),hr(t.getUTCFullYear()%1e4,e,4)}function VDe(){return"+0000"}function rq(){return"%"}function nq(t){return+t}function iq(t){return Math.floor(+t/1e3)}var wh,tte,rte;WDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function WDe(t){return wh=WLe(t),tte=wh.format,wh.parse,rte=wh.utcFormat,wh.utcParse,wh}function HDe(t){return new Date(t)}function KDe(t){return t instanceof Date?+t:+new Date(+t)}function $I(t,e,r,n,i,s,o,l,c,u){var d=SI(),h=d.invert,g=d.domain,v=u(".%L"),y=u(":%S"),x=u("%I:%M"),_=u("%I %p"),S=u("%a %d"),N=u("%b %d"),C=u("%B"),A=u("%Y");function k(P){return(c(P)<P?v:l(P)<P?y:o(P)<P?x:s(P)<P?_:n(P)<P?i(P)<P?S:N:r(P)<P?C:A)(P)}return d.invert=function(P){return new Date(h(P))},d.domain=function(P){return arguments.length?g(Array.from(P,KDe)):g().map(HDe)},d.ticks=function(P){var O=g();return t(O[0],O[O.length-1],P??10)},d.tickFormat=function(P,O){return O==null?k:u(O)},d.nice=function(P){var O=g();return(!P||typeof P.range!="function")&&(P=e(O[0],O[O.length-1],P??10)),P?g(qee(O,P)):d},d.copy=function(){return rx(d,$I(t,e,r,n,i,s,o,l,c,u))},d}function GDe(){return ga.apply($I(ULe,VLe,ql,LI,D1,nx,MI,OI,Nd,tte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ZDe(){return ga.apply($I(zLe,qLe,Ul,DI,$1,L1,II,RI,Nd,rte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function F1(){var t=0,e=1,r,n,i,s,o=Bi,l=!1,c;function u(h){return h==null||isNaN(h=+h)?c:o(i===0?.5:(h=(s(h)-r)*i,l?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(l=!!h,u):l},u.interpolator=function(h){return arguments.length?(o=h,u):o};function d(h){return function(g){var v,y;return arguments.length?([v,y]=g,o=h(v,y),u):[o(0),o(1)]}}return u.range=d(fm),u.rangeRound=d(jI),u.unknown=function(h){return arguments.length?(c=h,u):c},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function Tu(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function nte(){var t=ku(F1()(Bi));return t.copy=function(){return Tu(t,nte())},Ql.apply(t,arguments)}function ite(){var t=EI(F1()).domain([1,10]);return t.copy=function(){return Tu(t,ite()).base(t.base())},Ql.apply(t,arguments)}function ste(){var t=PI(F1());return t.copy=function(){return Tu(t,ste()).constant(t.constant())},Ql.apply(t,arguments)}function FI(){var t=kI(F1());return t.copy=function(){return Tu(t,FI()).exponent(t.exponent())},Ql.apply(t,arguments)}function YDe(){return FI.apply(null,arguments).exponent(.5)}function ate(){var t=[],e=Bi;function r(n){if(n!=null&&!isNaN(n=+n))return e((ex(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(uu),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>LIe(t,s/n))},r.copy=function(){return ate(e).domain(t)},Ql.apply(r,arguments)}function B1(){var t=0,e=.5,r=1,n=1,i,s,o,l,c,u=Bi,d,h=!1,g;function v(x){return isNaN(x=+x)?g:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(h?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),s=d(e=+e),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(x){return arguments.length?(h=!!x,v):h},v.interpolator=function(x){return arguments.length?(u=x,v):u};function y(x){return function(_){var S,N,C;return arguments.length?([S,N,C]=_,u=lLe(x,[S,N,C]),v):[u(0),u(.5),u(1)]}}return v.range=y(fm),v.rangeRound=y(jI),v.unknown=function(x){return arguments.length?(g=x,v):g},function(x){return d=x,i=x(t),s=x(e),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function ote(){var t=ku(B1()(Bi));return t.copy=function(){return Tu(t,ote())},Ql.apply(t,arguments)}function lte(){var t=EI(B1()).domain([.1,1,10]);return t.copy=function(){return Tu(t,lte()).base(t.base())},Ql.apply(t,arguments)}function cte(){var t=PI(B1());return t.copy=function(){return Tu(t,cte()).constant(t.constant())},Ql.apply(t,arguments)}function BI(){var t=kI(B1());return t.copy=function(){return Tu(t,BI()).exponent(t.exponent())},Ql.apply(t,arguments)}function XDe(){return BI.apply(null,arguments).exponent(.5)}const sq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:zv,scaleDiverging:ote,scaleDivergingLog:lte,scaleDivergingPow:BI,scaleDivergingSqrt:XDe,scaleDivergingSymlog:cte,scaleIdentity:zee,scaleImplicit:NA,scaleLinear:qw,scaleLog:Uee,scaleOrdinal:bI,scalePoint:sv,scalePow:TI,scaleQuantile:Hee,scaleQuantize:Kee,scaleRadial:Wee,scaleSequential:nte,scaleSequentialLog:ite,scaleSequentialPow:FI,scaleSequentialQuantile:ate,scaleSequentialSqrt:YDe,scaleSequentialSymlog:ste,scaleSqrt:ALe,scaleSymlog:Vee,scaleThreshold:Gee,scaleTime:GDe,scaleUtc:ZDe,tickFormat:Bee},Symbol.toStringTag,{value:"Module"}));var x2,aq;function ute(){if(aq)return x2;aq=1;var t=lm();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=l}return d}return x2=e,x2}var b2,oq;function JDe(){if(oq)return b2;oq=1;function t(e,r){return e>r}return b2=t,b2}var w2,lq;function QDe(){if(lq)return w2;lq=1;var t=ute(),e=JDe(),r=dm();function n(i){return i&&i.length?t(i,r,e):void 0}return w2=n,w2}var e4e=QDe();const z1=pr(e4e);var _2,cq;function t4e(){if(cq)return _2;cq=1;function t(e,r){return e<r}return _2=t,_2}var j2,uq;function r4e(){if(uq)return j2;uq=1;var t=ute(),e=t4e(),r=dm();function n(i){return i&&i.length?t(i,r,e):void 0}return j2=n,j2}var n4e=r4e();const q1=pr(n4e);var S2,dq;function i4e(){if(dq)return S2;dq=1;var t=rI(),e=Pu(),r=xee(),n=cs();function i(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return S2=i,S2}var N2,fq;function s4e(){if(fq)return N2;fq=1;var t=vee(),e=i4e();function r(n,i){return t(e(n,i),1)}return N2=r,N2}var a4e=s4e();const o4e=pr(a4e);var C2,hq;function l4e(){if(hq)return C2;hq=1;var t=mI();function e(r,n){return t(r,n)}return C2=e,C2}var c4e=l4e();const ix=pr(c4e);var hm=1e9,u4e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},qI,Qr=!0,ha="[DecimalError] ",Ld=ha+"Invalid argument: ",zI=ha+"Exponent out of range: ",pm=Math.floor,md=Math.pow,d4e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,As,Zn=1e7,Gr=7,dte=9007199254740991,Hw=pm(dte/Gr),ct={};ct.absoluteValue=ct.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ct.comparedTo=ct.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};ct.decimalPlaces=ct.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Gr;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};ct.dividedBy=ct.div=function(t){return Rl(this,new this.constructor(t))};ct.dividedToIntegerBy=ct.idiv=function(t){var e=this,r=e.constructor;return Lr(Rl(e,new r(t),0,1),r.precision)};ct.equals=ct.eq=function(t){return!this.cmp(t)};ct.exponent=function(){return kn(this)};ct.greaterThan=ct.gt=function(t){return this.cmp(t)>0};ct.greaterThanOrEqualTo=ct.gte=function(t){return this.cmp(t)>=0};ct.isInteger=ct.isint=function(){return this.e>this.d.length-2};ct.isNegative=ct.isneg=function(){return this.s<0};ct.isPositive=ct.ispos=function(){return this.s>0};ct.isZero=function(){return this.s===0};ct.lessThan=ct.lt=function(t){return this.cmp(t)<0};ct.lessThanOrEqualTo=ct.lte=function(t){return this.cmp(t)<1};ct.logarithm=ct.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(As))throw Error(ha+"NaN");if(r.s<1)throw Error(ha+(r.s?"NaN":"-Infinity"));return r.eq(As)?new n(0):(Qr=!1,e=Rl(Hv(r,s),Hv(t,s),s),Qr=!0,Lr(e,i))};ct.minus=ct.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?pte(e,t):fte(e,(t.s=-t.s,t))};ct.modulo=ct.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(ha+"NaN");return r.s?(Qr=!1,e=Rl(r,t,0,1).times(t),Qr=!0,r.minus(e)):Lr(new n(r),i)};ct.naturalExponential=ct.exp=function(){return hte(this)};ct.naturalLogarithm=ct.ln=function(){return Hv(this)};ct.negated=ct.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ct.plus=ct.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fte(e,t):pte(e,(t.s=-t.s,t))};ct.precision=ct.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Ld+t);if(e=kn(i)+1,n=i.d.length-1,r=n*Gr+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};ct.squareRoot=ct.sqrt=function(){var t,e,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ha+"NaN")}for(t=kn(l),Qr=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=So(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=pm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Rl(l,s,o+2)).times(.5),So(s.d).slice(0,o)===(e=So(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(Lr(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return Qr=!0,Lr(n,r)};ct.times=ct.mul=function(t){var e,r,n,i,s,o,l,c,u,d=this,h=d.constructor,g=d.d,v=(t=new h(t)).d;if(!d.s||!t.s)return new h(0);for(t.s*=d.s,r=d.e+t.e,c=g.length,u=v.length,c<u&&(s=g,g=v,v=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+v[n]*g[i-n-1]+e,s[i--]=l%Zn|0,e=l/Zn|0;s[i]=(s[i]+e)%Zn|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Qr?Lr(t,h.precision):t};ct.toDecimalPlaces=ct.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Bo(t,0,hm),e===void 0?e=n.rounding:Bo(e,0,8),Lr(r,t+kn(r)+1,e))};ct.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Gd(n,!0):(Bo(t,0,hm),e===void 0?e=i.rounding:Bo(e,0,8),n=Lr(new i(n),t+1,e),r=Gd(n,!0,t+1)),r};ct.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Gd(i):(Bo(t,0,hm),e===void 0?e=s.rounding:Bo(e,0,8),n=Lr(new s(i),t+kn(i)+1,e),r=Gd(n.abs(),!1,t+kn(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};ct.toInteger=ct.toint=function(){var t=this,e=t.constructor;return Lr(new e(t),kn(t)+1,e.rounding)};ct.toNumber=function(){return+this};ct.toPower=ct.pow=function(t){var e,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(As);if(l=new c(l),!l.s){if(t.s<1)throw Error(ha+"Infinity");return l}if(l.eq(As))return l;if(n=c.precision,t.eq(As))return Lr(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=d<0?-d:d)<=dte){for(i=new c(As),e=Math.ceil(n/Gr+4),Qr=!1;r%2&&(i=i.times(l),mq(i.d,e)),r=pm(r/2),r!==0;)l=l.times(l),mq(l.d,e);return Qr=!0,t.s<0?new c(As).div(i):Lr(i,n)}}else if(s<0)throw Error(ha+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,Qr=!1,i=t.times(Hv(l,n+u)),Qr=!0,i=hte(i),i.s=s,i};ct.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=kn(i),n=Gd(i,r<=s.toExpNeg||r>=s.toExpPos)):(Bo(t,1,hm),e===void 0?e=s.rounding:Bo(e,0,8),i=Lr(new s(i),t,e),r=kn(i),n=Gd(i,t<=r||r<=s.toExpNeg,t)),n};ct.toSignificantDigits=ct.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Bo(t,1,hm),e===void 0?e=n.rounding:Bo(e,0,8)),Lr(new n(r),t,e)};ct.toString=ct.valueOf=ct.val=ct.toJSON=ct[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=kn(t),r=t.constructor;return Gd(t,e<=r.toExpNeg||e>=r.toExpPos)};function fte(t,e){var r,n,i,s,o,l,c,u,d=t.constructor,h=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),Qr?Lr(e,h):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(h/Gr),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Zn|0,c[s]%=Zn;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,Qr?Lr(e,h):e}function Bo(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Ld+t)}function So(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=Gr-n.length,r&&(s+=Gc(r)),s+=n;o=t[e],n=o+"",r=Gr-n.length,r&&(s+=Gc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Rl=function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Zn|0,o=s/Zn|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Zn+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,h,g,v,y,x,_,S,N,C,A,k,P,O,I,F=n.constructor,H=n.s==i.s?1:-1,V=n.d,U=i.d;if(!n.s)return new F(n);if(!i.s)throw Error(ha+"Division by zero");for(c=n.e-i.e,O=U.length,k=V.length,v=new F(H),y=v.d=[],u=0;U[u]==(V[u]||0);)++u;if(U[u]>(V[u]||0)&&--c,s==null?N=s=F.precision:o?N=s+(kn(n)-kn(i))+1:N=s,N<0)return new F(0);if(N=N/Gr+2|0,u=0,O==1)for(d=0,U=U[0],N++;(u<k||d)&&N--;u++)C=d*Zn+(V[u]||0),y[u]=C/U|0,d=C%U|0;else{for(d=Zn/(U[0]+1)|0,d>1&&(U=t(U,d),V=t(V,d),O=U.length,k=V.length),A=O,x=V.slice(0,O),_=x.length;_<O;)x[_++]=0;I=U.slice(),I.unshift(0),P=U[0],U[1]>=Zn/2&&++P;do d=0,l=e(U,x,O,_),l<0?(S=x[0],O!=_&&(S=S*Zn+(x[1]||0)),d=S/P|0,d>1?(d>=Zn&&(d=Zn-1),h=t(U,d),g=h.length,_=x.length,l=e(h,x,g,_),l==1&&(d--,r(h,O<g?I:U,g))):(d==0&&(l=d=1),h=U.slice()),g=h.length,g<_&&h.unshift(0),r(x,h,_),l==-1&&(_=x.length,l=e(U,x,O,_),l<1&&(d++,r(x,O<_?I:U,_))),_=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[_++]=V[A]||0:(x=[V[A]],_=1);while((A++<k||x[0]!==void 0)&&N--)}return y[0]||y.shift(),v.e=c,Lr(v,o?s+kn(v)+1:s)}}();function hte(t,e){var r,n,i,s,o,l,c=0,u=0,d=t.constructor,h=d.precision;if(kn(t)>16)throw Error(zI+kn(t));if(!t.s)return new d(As);for(Qr=!1,l=h,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(md(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(As),d.precision=l;;){if(i=Lr(i.times(t),l),r=r.times(++c),o=s.plus(Rl(i,r,l)),So(o.d).slice(0,l)===So(s.d).slice(0,l)){for(;u--;)s=Lr(s.times(s),l);return d.precision=h,e==null?(Qr=!0,Lr(s,h)):s}s=o}}function kn(t){for(var e=t.e*Gr,r=t.d[0];r>=10;r/=10)e++;return e}function E2(t,e,r){if(e>t.LN10.sd())throw Qr=!0,r&&(t.precision=r),Error(ha+"LN10 precision limit exceeded");return Lr(new t(t.LN10),e)}function Gc(t){for(var e="";t--;)e+="0";return e}function Hv(t,e){var r,n,i,s,o,l,c,u,d,h=1,g=10,v=t,y=v.d,x=v.constructor,_=x.precision;if(v.s<1)throw Error(ha+(v.s?"NaN":"-Infinity"));if(v.eq(As))return new x(0);if(e==null?(Qr=!1,u=_):u=e,v.eq(10))return e==null&&(Qr=!0),E2(x,u);if(u+=g,x.precision=u,r=So(y),n=r.charAt(0),s=kn(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=So(v.d),n=r.charAt(0),h++;s=kn(v),n>1?(v=new x("0."+r),s++):v=new x(n+"."+r.slice(1))}else return c=E2(x,u+2,_).times(s+""),v=Hv(new x(n+"."+r.slice(1)),u-g).plus(c),x.precision=_,e==null?(Qr=!0,Lr(v,_)):v;for(l=o=v=Rl(v.minus(As),v.plus(As),u),d=Lr(v.times(v),u),i=3;;){if(o=Lr(o.times(d),u),c=l.plus(Rl(o,new x(i),u)),So(c.d).slice(0,u)===So(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(E2(x,u+2,_).times(s+""))),l=Rl(l,new x(h),u),x.precision=_,e==null?(Qr=!0,Lr(l,_)):l;l=c,i+=2}}function pq(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=pm(r/Gr),t.d=[],n=(r+1)%Gr,r<0&&(n+=Gr),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Gr;n<i;)t.d.push(+e.slice(n,n+=Gr));e=e.slice(n),n=Gr-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Qr&&(t.e>Hw||t.e<-Hw))throw Error(zI+r)}else t.s=0,t.e=0,t.d=[0];return t}function Lr(t,e,r){var n,i,s,o,l,c,u,d,h=t.d;for(o=1,s=h[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=Gr,i=e,u=h[d=0];else{if(d=Math.ceil((n+1)/Gr),s=h.length,d>=s)return t;for(u=s=h[d],o=1;s>=10;s/=10)o++;n%=Gr,i=n-Gr+o}if(r!==void 0&&(s=md(10,o-i-1),l=u/s%10|0,c=e<0||h[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/md(10,o-i):0:h[d-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return c?(s=kn(t),h.length=1,e=e-s-1,h[0]=md(10,(Gr-e%Gr)%Gr),t.e=pm(-e/Gr)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=d,s=1,d--):(h.length=d+1,s=md(10,Gr-n),h[d]=i>0?(u/md(10,o-i)%md(10,i)|0)*s:0),c)for(;;)if(d==0){(h[0]+=s)==Zn&&(h[0]=1,++t.e);break}else{if(h[d]+=s,h[d]!=Zn)break;h[d--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Qr&&(t.e>Hw||t.e<-Hw))throw Error(zI+kn(t));return t}function pte(t,e){var r,n,i,s,o,l,c,u,d,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Qr?Lr(e,v):e;if(c=t.d,h=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=h.length):(r=h,n=u,l=c.length),i=Math.max(Math.ceil(v/Gr),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=h.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(r=c,c=h,h=r,e.s=-e.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(s=i;s&&c[--s]===0;)c[s]=Zn-1;--c[s],c[i]+=Zn}c[i]-=h[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Qr?Lr(e,v):e):new g(0)}function Gd(t,e,r){var n,i=kn(t),s=So(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Gc(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Gc(-i-1)+s,r&&(n=r-o)>0&&(s+=Gc(n))):i>=o?(s+=Gc(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Gc(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Gc(n))),t.s<0?"-"+s:s}function mq(t,e){if(t.length>e)return t.length=e,!0}function mte(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Ld+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return pq(o,s.toString())}else if(typeof s!="string")throw Error(Ld+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,d4e.test(s))pq(o,s);else throw Error(Ld+s)}if(i.prototype=ct,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=mte,i.config=i.set=f4e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function f4e(t){if(!t||typeof t!="object")throw Error(ha+"Object expected");var e,r,n,i=["precision",1,hm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(pm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Ld+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ld+r+": "+n);return this}var qI=mte(u4e);As=new qI(1);const kr=qI;function h4e(t){return v4e(t)||g4e(t)||m4e(t)||p4e()}function p4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function m4e(t,e){if(t){if(typeof t=="string")return kA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kA(t,e)}}function g4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function v4e(t){if(Array.isArray(t))return kA(t)}function kA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var y4e=function(e){return e},gte={},vte=function(e){return e===gte},gq=function(e){return function r(){return arguments.length===0||arguments.length===1&&vte(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},x4e=function t(e,r){return e===1?r:gq(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==gte}).length;return o>=e?r.apply(void 0,i):t(e-o,gq(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(h){return vte(h)?c.shift():h});return r.apply(void 0,h4e(d).concat(c))}))})},U1=function(e){return x4e(e.length,e)},TA=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},b4e=U1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),w4e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return y4e;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},AA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},yte=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function _4e(t){var e;return t===0?e=1:e=Math.floor(new kr(t).abs().log(10).toNumber())+1,e}function j4e(t,e,r){for(var n=new kr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var S4e=U1(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),N4e=U1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),C4e=U1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const V1={rangeStep:j4e,getDigitCount:_4e,interpolateNumber:S4e,uninterpolateNumber:N4e,uninterpolateTruncation:C4e};function OA(t){return k4e(t)||P4e(t)||xte(t)||E4e()}function E4e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function P4e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function k4e(t){if(Array.isArray(t))return RA(t)}function Kv(t,e){return O4e(t)||A4e(t,e)||xte(t,e)||T4e()}function T4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xte(t,e){if(t){if(typeof t=="string")return RA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RA(t,e)}}function RA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A4e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function O4e(t){if(Array.isArray(t))return t}function bte(t){var e=Kv(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function wte(t,e,r){if(t.lte(0))return new kr(0);var n=V1.getDigitCount(t.toNumber()),i=new kr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new kr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new kr(Math.ceil(c))}function R4e(t,e,r){var n=1,i=new kr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new kr(10).pow(V1.getDigitCount(t)-1),i=new kr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new kr(Math.floor(t)))}else t===0?i=new kr(Math.floor((e-1)/2)):r||(i=new kr(Math.floor(t)));var o=Math.floor((e-1)/2),l=w4e(b4e(function(c){return i.add(new kr(c-o).mul(n)).toNumber()}),TA);return l(0,e)}function _te(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new kr(0),tickMin:new kr(0),tickMax:new kr(0)};var s=wte(new kr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new kr(0):(o=new kr(t).add(e).div(2),o=o.sub(new kr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new kr(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?_te(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new kr(l).mul(s)),tickMax:o.add(new kr(c).mul(s))})}function M4e(t){var e=Kv(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=bte([r,n]),c=Kv(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var h=d===1/0?[u].concat(OA(TA(0,i-1).map(function(){return 1/0}))):[].concat(OA(TA(0,i-1).map(function(){return-1/0})),[d]);return r>n?AA(h):h}if(u===d)return R4e(u,i,s);var g=_te(u,d,o,s),v=g.step,y=g.tickMin,x=g.tickMax,_=V1.rangeStep(y,x.add(new kr(.1).mul(v)),v);return r>n?AA(_):_}function I4e(t,e){var r=Kv(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=bte([n,i]),l=Kv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),h=wte(new kr(u).sub(c).div(d-1),s,0),g=[].concat(OA(V1.rangeStep(new kr(c),new kr(u).sub(new kr(.99).mul(h)),h)),[u]);return n>i?AA(g):g}var L4e=yte(M4e),D4e=yte(I4e),$4e="Invariant failed";function Zd(t,e){throw new Error($4e)}var F4e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kw.apply(this,arguments)}function B4e(t,e){return V4e(t)||U4e(t,e)||q4e(t,e)||z4e()}function z4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function q4e(t,e){if(t){if(typeof t=="string")return vq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vq(t,e)}}function vq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function V4e(t){if(Array.isArray(t))return t}function W4e(t,e){if(t==null)return{};var r=H4e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function G4e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nte(n.key),n)}}function Z4e(t,e,r){return e&&G4e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y4e(t,e,r){return e=Gw(e),X4e(t,jte()?Reflect.construct(e,r||[],Gw(t).constructor):e.apply(t,r))}function X4e(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J4e(t)}function J4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jte=function(){return!!t})()}function Gw(t){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(t)}function Q4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},MA(t,e)}function Ste(t,e,r){return e=Nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nte(t){var e=e$e(t,"string");return Sp(e)=="symbol"?e:e+""}function e$e(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var sx=function(t){function e(){return K4e(this,e),Y4e(this,e,arguments)}return Q4e(e,t),Z4e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,h=n.yAxis,g=W4e(n,F4e),v=Wt(g,!1);this.props.direction==="x"&&d.type!=="number"&&Zd();var y=c.map(function(x){var _=u(x,l),S=_.x,N=_.y,C=_.value,A=_.errorVal;if(!A)return null;var k=[],P,O;if(Array.isArray(A)){var I=B4e(A,2);P=I[0],O=I[1]}else P=O=A;if(s==="vertical"){var F=d.scale,H=N+i,V=H+o,U=H-o,z=F(C-P),W=F(C+O);k.push({x1:W,y1:V,x2:W,y2:U}),k.push({x1:z,y1:H,x2:W,y2:H}),k.push({x1:z,y1:V,x2:z,y2:U})}else if(s==="horizontal"){var J=h.scale,se=S+i,K=se-o,ee=se+o,G=J(C-P),ne=J(C+O);k.push({x1:K,y1:ne,x2:ee,y2:ne}),k.push({x1:se,y1:G,x2:se,y2:ne}),k.push({x1:K,y1:G,x2:ee,y2:G})}return Q.createElement(Ur,Kw({className:"recharts-errorBar",key:"bar-".concat(k.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},v),k.map(function(Y){return Q.createElement("line",Kw({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return Q.createElement(Ur,{className:"recharts-errorBars"},y)}}])}(Q.Component);Ste(sx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Ste(sx,"displayName","ErrorBar");function Gv(t){"@babel/helpers - typeof";return Gv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gv(t)}function yq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ld(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yq(Object(r),!0).forEach(function(n){t$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t$e(t,e,r){return e=r$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r$e(t){var e=n$e(t,"string");return Gv(e)=="symbol"?e:e+""}function n$e(t,e){if(Gv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Cte=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=Cs(r,cu);if(!o)return null;var l=cu.defaultProps,c=l!==void 0?ld(ld({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,h){var g=h.item,v=h.props,y=v.sectors||v.data||[];return d.concat(y.map(function(x){return{type:o.props.iconType||g.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var h=d.item,g=h.type.defaultProps,v=g!==void 0?ld(ld({},g),h.props):{},y=v.dataKey,x=v.name,_=v.legendType,S=v.hide;return{inactive:S,dataKey:y,type:c.iconType||_||"square",color:UI(h),value:x||y,payload:v}}),ld(ld(ld({},c),cu.getWithHeight(o,i)),{},{payload:u,item:o})};function Zv(t){"@babel/helpers - typeof";return Zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zv(t)}function xq(t){return o$e(t)||a$e(t)||s$e(t)||i$e()}function i$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$e(t,e){if(t){if(typeof t=="string")return IA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IA(t,e)}}function a$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o$e(t){if(Array.isArray(t))return IA(t)}function IA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bq(Object(r),!0).forEach(function(n){Yh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yh(t,e,r){return e=l$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l$e(t){var e=c$e(t,"string");return Zv(e)=="symbol"?e:e+""}function c$e(t,e){if(Zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bn(t,e,r){return Lt(t)||Lt(e)?r:zn(e)?Is(t,e,r):Mt(e)?e(t):r}function av(t,e,r,n){var i=o4e(t,function(l){return Bn(l,e)});if(r==="number"){var s=i.filter(function(l){return et(l)||parseFloat(l)});return s.length?[q1(s),z1(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Lt(l)}):i;return o.map(function(l){return zn(l)||l instanceof Date?l:""})}var u$e=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,h=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(Fi(h-d)!==Fi(g-h)){var y=[];if(Fi(g-h)===Fi(c[1]-c[0])){v=g;var x=h+c[1]-c[0];y[0]=Math.min(x,(x+d)/2),y[1]=Math.max(x,(x+d)/2)}else{v=d;var _=g+c[1]-c[0];y[0]=Math.min(h,(_+h)/2),y[1]=Math.max(h,(_+h)/2)}var S=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var N=Math.min(d,g),C=Math.max(d,g);if(e>(N+h)/2&&e<=(C+h)/2){o=i[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},UI=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?dn(dn({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},d$e=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,h=Object.keys(d),g=0,v=h.length;g<v;g++){var y=d[h[g]],x=y.items,_=y.cateAxisId,S=x.filter(function(O){return Ol(O.type).indexOf("Bar")>=0});if(S&&S.length){var N=S[0].type.defaultProps,C=N!==void 0?dn(dn({},N),S[0].props):S[0].props,A=C.barSize,k=C[_];o[k]||(o[k]=[]);var P=Lt(A)?r:A;o[k].push({item:S[0],stackList:S.slice(1),barSize:Lt(P)?void 0:Wa(P,n,0)})}}return o},f$e=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Wa(r,i,0,!0),d,h=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/c,y=o.reduce(function(A,k){return A+k.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&v>0&&(g=!0,v*=.9,y=c*v);var x=(i-y)/2>>0,_={offset:x-u,size:0};d=o.reduce(function(A,k){var P={item:k.item,position:{offset:_.offset+_.size+u,size:g?v:k.barSize}},O=[].concat(xq(A),[P]);return _=O[O.length-1].position,k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){O.push({item:I,position:_})}),O},h)}else{var S=Wa(n,i,0,!0);i-2*S-(c-1)*u<=0&&(u=0);var N=(i-2*S-(c-1)*u)/c;N>1&&(N>>=0);var C=l===+l?Math.min(N,l):N;d=o.reduce(function(A,k,P){var O=[].concat(xq(A),[{item:k.item,position:{offset:S+(N+u)*P+(N-C)/2,size:C}}]);return k.stackList&&k.stackList.length&&k.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},h)}return d},h$e=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Cte({children:s,legendWidth:c});if(u){var d=i||{},h=d.width,g=d.height,v=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&v!=="center"&&et(e[v]))return dn(dn({},e),{},Yh({},v,e[v]+(h||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&y!=="middle"&&et(e[y]))return dn(dn({},e),{},Yh({},y,e[y]+(g||0)))}return e},p$e=function(e,r,n){return Lt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},Ete=function(e,r,n,i,s){var o=r.props.children,l=Ls(o,sx).filter(function(u){return p$e(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var h=Bn(d,n);if(Lt(h))return u;var g=Array.isArray(h)?[q1(h),z1(h)]:[h,h],v=c.reduce(function(y,x){var _=Bn(d,x,0),S=g[0]-Math.abs(Array.isArray(_)?_[0]:_),N=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(S,y[0]),Math.max(N,y[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},m$e=function(e,r,n,i,s){var o=r.map(function(l){return Ete(e,l,n,s,i)}).filter(function(l){return!Lt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},Pte=function(e,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&Ete(e,c,u,i)||av(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,h=u.length;d<h;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},kte=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},Tte=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},jl=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&l?.length>=2?Fi(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(h){var g=s?s.indexOf(h):h;return{coordinate:i(g)+u,value:h,offset:u}});return d.filter(function(h){return!Jy(h.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(h,g){return{coordinate:i(h)+u,value:h,index:g,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(h){return{coordinate:i(h)+u,value:h,offset:u}}):i.domain().map(function(h,g){return{coordinate:i(h)+u,value:s?s[h]:h,index:g,offset:u}})},P2=new WeakMap,cb=function(e,r){if(typeof r!="function")return e;P2.has(e)||P2.set(e,new WeakMap);var n=P2.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},g$e=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:zv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:qw(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:sv(),realScaleType:"point"}:s==="category"?{scale:zv(),realScaleType:"band"}:{scale:qw(),realScaleType:"linear"};if(Kd(i)){var c="scale".concat(P1(i));return{scale:(sq[c]||sv)(),realScaleType:sq[c]?c:"point"}}return Mt(i)?{scale:i}:{scale:sv(),realScaleType:"point"}},wq=1e-4,v$e=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-wq,o=Math.max(i[0],i[1])+wq,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},y$e=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},x$e=function(e,r){if(!r||r.length!==2||!et(r[0])||!et(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!et(e[0])||e[0]<n)&&(s[0]=n),(!et(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},b$e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Jy(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},w$e=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Jy(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},_$e={sign:b$e,expand:sOe,none:gp,silhouette:aOe,wiggle:oOe,positive:w$e},j$e=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=_$e[n],o=iOe().keys(i).value(function(l,c){return+Bn(l,c,0)}).order(dA).offset(s);return o(e)},S$e=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(h,g){var v,y=(v=g.type)!==null&&v!==void 0&&v.defaultProps?dn(dn({},g.type.defaultProps),g.props):g.props,x=y.stackId,_=y.hide;if(_)return h;var S=y[n],N=h[S]||{hasStack:!1,stackGroups:{}};if(zn(x)){var C=N.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};C.items.push(g),N.hasStack=!0,N.stackGroups[x]=C}else N.stackGroups[um("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return dn(dn({},h),{},Yh({},S,N))},c),d={};return Object.keys(u).reduce(function(h,g){var v=u[g];if(v.hasStack){var y={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,_){var S=v.stackGroups[_];return dn(dn({},x),{},Yh({},_,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:j$e(e,S.items,s)}))},y)}return dn(dn({},h),{},Yh({},g,v))},d)},N$e=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=L4e(u,s,l);return e.domain([q1(d),z1(d)]),{niceTicks:d}}if(s&&i==="number"){var h=e.domain(),g=D4e(h,s,l);return{niceTicks:g}}return null};function _q(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Lt(i[e.dataKey])){var l=Sw(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Bn(i,Lt(o)?e.dataKey:o);return Lt(c)?null:e.scale(c)}var jq=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=Bn(o,r.dataKey,r.domain[l]);return Lt(c)?null:r.scale(c)-s/2+i},C$e=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},E$e=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?dn(dn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(zn(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},P$e=function(e){return e.reduce(function(r,n){return[q1(n.concat([r[0]]).filter(et)),z1(n.concat([r[1]]).filter(et))]},[1/0,-1/0])},Ate=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var h=P$e(d.slice(r,n+1));return[Math.min(u[0],h[0]),Math.max(u[1],h[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},Sq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Nq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,LA=function(e,r,n){if(Mt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(et(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(Sq.test(e[0])){var s=+Sq.exec(e[0])[1];i[0]=r[0]-s}else Mt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(et(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(Nq.test(e[1])){var o=+Nq.exec(e[1])[1];i[1]=r[1]+o}else Mt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},Zw=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=vI(r,function(h){return h.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Cq=function(e,r,n){return!e||!e.length||ix(e,Is(n,"type.defaultProps.domain"))?r:e},Ote=function(e,r){var n=e.type.defaultProps?dn(dn({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return dn(dn({},Wt(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:UI(e),value:Bn(r,i),type:c,payload:r,chartType:u,hide:d})};function Yv(t){"@babel/helpers - typeof";return Yv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yv(t)}function Eq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Pq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Eq(Object(r),!0).forEach(function(n){k$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Eq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k$e(t,e,r){return e=T$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function T$e(t){var e=A$e(t,"string");return Yv(e)=="symbol"?e:e+""}function A$e(t,e){if(Yv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yw=Math.PI/180,O$e=function(e){return e*180/Math.PI},Pn=function(e,r,n,i){return{x:e+Math.cos(-Yw*i)*n,y:r+Math.sin(-Yw*i)*n}},R$e=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},M$e=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},I$e=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=M$e({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:O$e(u),angleInRadian:u}},L$e=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},D$e=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},kq=function(e,r){var n=e.x,i=e.y,s=I$e({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=L$e(r),h=d.startAngle,g=d.endAngle,v=l,y;if(h<=g){for(;v>g;)v-=360;for(;v<h;)v+=360;y=v>=h&&v<=g}else{for(;v>h;)v-=360;for(;v<g;)v+=360;y=v>=g&&v<=h}return y?Pq(Pq({},r),{},{radius:o,angle:D$e(v,r)}):null};function Xv(t){"@babel/helpers - typeof";return Xv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xv(t)}var $$e=["offset"];function F$e(t){return U$e(t)||q$e(t)||z$e(t)||B$e()}function B$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function z$e(t,e){if(t){if(typeof t=="string")return DA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DA(t,e)}}function q$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function U$e(t){if(Array.isArray(t))return DA(t)}function DA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V$e(t,e){if(t==null)return{};var r=W$e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Dn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(r),!0).forEach(function(n){H$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H$e(t,e,r){return e=K$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K$e(t){var e=G$e(t,"string");return Xv(e)=="symbol"?e:e+""}function G$e(t,e){if(Xv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jv.apply(this,arguments)}var Z$e=function(e){var r=e.value,n=e.formatter,i=Lt(e.children)?r:e.children;return Mt(n)?n(i):i},Y$e=function(e,r){var n=Fi(r-e),i=Math.min(Math.abs(r-e),360);return n*i},X$e=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,h=c.innerRadius,g=c.outerRadius,v=c.startAngle,y=c.endAngle,x=c.clockWise,_=(h+g)/2,S=Y$e(v,y),N=S>=0?1:-1,C,A;i==="insideStart"?(C=v+N*o,A=x):i==="insideEnd"?(C=y-N*o,A=!x):i==="end"&&(C=y+N*o,A=x),A=S<=0?A:!A;var k=Pn(u,d,_,C),P=Pn(u,d,_,C+(A?1:-1)*359),O="M".concat(k.x,",").concat(k.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(P.x,",").concat(P.y),I=Lt(e.id)?um("recharts-radial-line-"):e.id;return Q.createElement("text",Jv({},n,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",l)}),Q.createElement("defs",null,Q.createElement("path",{id:I,d:O})),Q.createElement("textPath",{xlinkHref:"#".concat(I)},r))},J$e=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,h=s.endAngle,g=(d+h)/2;if(i==="outside"){var v=Pn(o,l,u+n,g),y=v.x,x=v.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,S=Pn(o,l,_,g),N=S.x,C=S.y;return{x:N,y:C,textAnchor:"middle",verticalAnchor:"middle"}},Q$e=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,h=d>=0?1:-1,g=h*i,v=h>0?"end":"start",y=h>0?"start":"end",x=u>=0?1:-1,_=x*i,S=x>0?"end":"start",N=x>0?"start":"end";if(s==="top"){var C={x:l+u/2,y:c-h*i,textAnchor:"middle",verticalAnchor:v};return Dn(Dn({},C),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var A={x:l+u/2,y:c+d+g,textAnchor:"middle",verticalAnchor:y};return Dn(Dn({},A),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var k={x:l-_,y:c+d/2,textAnchor:S,verticalAnchor:"middle"};return Dn(Dn({},k),n?{width:Math.max(k.x-n.x,0),height:d}:{})}if(s==="right"){var P={x:l+u+_,y:c+d/2,textAnchor:N,verticalAnchor:"middle"};return Dn(Dn({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return s==="insideLeft"?Dn({x:l+_,y:c+d/2,textAnchor:N,verticalAnchor:"middle"},O):s==="insideRight"?Dn({x:l+u-_,y:c+d/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideTop"?Dn({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:y},O):s==="insideBottom"?Dn({x:l+u/2,y:c+d-g,textAnchor:"middle",verticalAnchor:v},O):s==="insideTopLeft"?Dn({x:l+_,y:c+g,textAnchor:N,verticalAnchor:y},O):s==="insideTopRight"?Dn({x:l+u-_,y:c+g,textAnchor:S,verticalAnchor:y},O):s==="insideBottomLeft"?Dn({x:l+_,y:c+d-g,textAnchor:N,verticalAnchor:v},O):s==="insideBottomRight"?Dn({x:l+u-_,y:c+d-g,textAnchor:S,verticalAnchor:v},O):cm(s)&&(et(s.x)||jd(s.x))&&(et(s.y)||jd(s.y))?Dn({x:l+Wa(s.x,u),y:c+Wa(s.y,d),textAnchor:"end",verticalAnchor:"end"},O):Dn({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},eFe=function(e){return"cx"in e&&et(e.cx)};function oi(t){var e=t.offset,r=e===void 0?5:e,n=V$e(t,$$e),i=Dn({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,h=d===void 0?"":d,g=i.textBreakAll;if(!s||Lt(l)&&Lt(c)&&!b.isValidElement(u)&&!Mt(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var v;if(Mt(u)){if(v=b.createElement(u,i),b.isValidElement(v))return v}else v=Z$e(i);var y=eFe(s),x=Wt(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return X$e(i,v,x);var _=y?J$e(i):Q$e(i);return Q.createElement(Bv,Jv({className:Gt("recharts-label",h)},x,_,{breakAll:g}),v)}oi.displayName="Label";var Rte=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,h=e.x,g=e.y,v=e.top,y=e.left,x=e.width,_=e.height,S=e.clockWise,N=e.labelViewBox;if(N)return N;if(et(x)&&et(_)){if(et(h)&&et(g))return{x:h,y:g,width:x,height:_};if(et(v)&&et(y))return{x:v,y,width:x,height:_}}return et(h)&&et(g)?{x:h,y:g,width:0,height:0}:et(r)&&et(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:S}:e.viewBox?e.viewBox:{}},tFe=function(e,r){return e?e===!0?Q.createElement(oi,{key:"label-implicit",viewBox:r}):zn(e)?Q.createElement(oi,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===oi?b.cloneElement(e,{key:"label-implicit",viewBox:r}):Q.createElement(oi,{key:"label-implicit",content:e,viewBox:r}):Mt(e)?Q.createElement(oi,{key:"label-implicit",content:e,viewBox:r}):cm(e)?Q.createElement(oi,Jv({viewBox:r},e,{key:"label-implicit"})):null:null},rFe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=Rte(e),o=Ls(i,oi).map(function(c,u){return b.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=tFe(e.label,r||s);return[l].concat(F$e(o))};oi.parseViewBox=Rte;oi.renderCallByParent=rFe;var k2,Aq;function nFe(){if(Aq)return k2;Aq=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return k2=t,k2}var iFe=nFe();const sFe=pr(iFe);function Qv(t){"@babel/helpers - typeof";return Qv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qv(t)}var aFe=["valueAccessor"],oFe=["data","dataKey","clockWise","id","textBreakAll"];function lFe(t){return fFe(t)||dFe(t)||uFe(t)||cFe()}function cFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uFe(t,e){if(t){if(typeof t=="string")return $A(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $A(t,e)}}function dFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fFe(t){if(Array.isArray(t))return $A(t)}function $A(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Xw(){return Xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xw.apply(this,arguments)}function Oq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(r),!0).forEach(function(n){hFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Oq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hFe(t,e,r){return e=pFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pFe(t){var e=mFe(t,"string");return Qv(e)=="symbol"?e:e+""}function mFe(t,e){if(Qv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Mq(t,e){if(t==null)return{};var r=gFe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function gFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vFe=function(e){return Array.isArray(e.value)?sFe(e.value):e.value};function Ml(t){var e=t.valueAccessor,r=e===void 0?vFe:e,n=Mq(t,aFe),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=Mq(n,oFe);return!i||!i.length?null:Q.createElement(Ur,{className:"recharts-label-list"},i.map(function(d,h){var g=Lt(s)?r(d,h):Bn(d&&d.payload,s),v=Lt(l)?{}:{id:"".concat(l,"-").concat(h)};return Q.createElement(oi,Xw({},Wt(d,!0),u,v,{parentViewBox:d.parentViewBox,value:g,textBreakAll:c,viewBox:oi.parseViewBox(Lt(o)?d:Rq(Rq({},d),{},{clockWise:o})),key:"label-".concat(h),index:h}))}))}Ml.displayName="LabelList";function yFe(t,e){return t?t===!0?Q.createElement(Ml,{key:"labelList-implicit",data:e}):Q.isValidElement(t)||Mt(t)?Q.createElement(Ml,{key:"labelList-implicit",data:e,content:t}):cm(t)?Q.createElement(Ml,Xw({data:e},t,{key:"labelList-implicit"})):null:null}function xFe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=Ls(n,Ml).map(function(o,l){return b.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=yFe(t.label,e);return[s].concat(lFe(i))}Ml.renderCallByParent=xFe;function ey(t){"@babel/helpers - typeof";return ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ey(t)}function FA(){return FA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FA.apply(this,arguments)}function Iq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(r),!0).forEach(function(n){bFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bFe(t,e,r){return e=wFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wFe(t){var e=_Fe(t,"string");return ey(e)=="symbol"?e:e+""}function _Fe(t,e){if(ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jFe=function(e,r){var n=Fi(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},ub=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,h=Math.asin(c/d)/Yw,g=u?s:s+o*h,v=Pn(r,n,d,g),y=Pn(r,n,i,g),x=u?s-o*h:s,_=Pn(r,n,d*Math.cos(h*Yw),x);return{center:v,circleTangency:y,lineTangency:_,theta:h}},Mte=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=jFe(o,l),u=o+c,d=Pn(r,n,s,o),h=Pn(r,n,s,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(i>0){var v=Pn(r,n,i,o),y=Pn(r,n,i,u);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},SFe=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,h=Fi(d-u),g=ub({cx:r,cy:n,radius:s,angle:u,sign:h,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,y=g.lineTangency,x=g.theta,_=ub({cx:r,cy:n,radius:s,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,N=_.lineTangency,C=_.theta,A=c?Math.abs(u-d):Math.abs(u-d)-x-C;if(A<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):Mte({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var k="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(h<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(N.x,",").concat(N.y,`
  `);if(i>0){var P=ub({cx:r,cy:n,radius:i,angle:u,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=P.circleTangency,I=P.lineTangency,F=P.theta,H=ub({cx:r,cy:n,radius:i,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),V=H.circleTangency,U=H.lineTangency,z=H.theta,W=c?Math.abs(u-d):Math.abs(u-d)-F-z;if(W<0&&o===0)return"".concat(k,"L").concat(r,",").concat(n,"Z");k+="L".concat(U.x,",").concat(U.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(W>180),",").concat(+(h>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(I.x,",").concat(I.y,"Z")}else k+="L".concat(r,",").concat(n,"Z");return k},NFe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Ite=function(e){var r=Lq(Lq({},NFe),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,h=r.endAngle,g=r.className;if(o<s||d===h)return null;var v=Gt("recharts-sector",g),y=o-s,x=Wa(l,y,0,!0),_;return x>0&&Math.abs(d-h)<360?_=SFe({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:h}):_=Mte({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:h}),Q.createElement("path",FA({},Wt(r,!0),{className:v,d:_,role:"img"}))};function ty(t){"@babel/helpers - typeof";return ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ty(t)}function BA(){return BA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BA.apply(this,arguments)}function Dq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $q(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Dq(Object(r),!0).forEach(function(n){CFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Dq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CFe(t,e,r){return e=EFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EFe(t){var e=PFe(t,"string");return ty(e)=="symbol"?e:e+""}function PFe(t,e){if(ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Fq={curveBasisClosed:KAe,curveBasisOpen:GAe,curveBasis:HAe,curveBumpX:OAe,curveBumpY:RAe,curveLinearClosed:ZAe,curveLinear:T1,curveMonotoneX:YAe,curveMonotoneY:XAe,curveNatural:JAe,curveStep:QAe,curveStepAfter:tOe,curveStepBefore:eOe},db=function(e){return e.x===+e.x&&e.y===+e.y},Eg=function(e){return e.x},Pg=function(e){return e.y},kFe=function(e,r){if(Mt(e))return e;var n="curve".concat(P1(e));return(n==="curveMonotone"||n==="curveBump")&&r?Fq["".concat(n).concat(r==="vertical"?"Y":"X")]:Fq[n]||T1},TFe=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=kFe(n,l),h=u?s.filter(function(x){return db(x)}):s,g;if(Array.isArray(o)){var v=u?o.filter(function(x){return db(x)}):o,y=h.map(function(x,_){return $q($q({},x),{},{base:v[_]})});return l==="vertical"?g=rb().y(Pg).x1(Eg).x0(function(x){return x.base.x}):g=rb().x(Eg).y1(Pg).y0(function(x){return x.base.y}),g.defined(db).curve(d),g(y)}return l==="vertical"&&et(o)?g=rb().y(Pg).x1(Eg).x0(o):et(o)?g=rb().x(Eg).y1(Pg).y0(o):g=BQ().x(Eg).y(Pg),g.defined(db).curve(d),g(h)},Jw=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?TFe(e):i;return b.createElement("path",BA({},Wt(e,!1),Nw(e),{className:Gt("recharts-curve",r),d:o,ref:s}))},T2={exports:{}},A2,Bq;function AFe(){if(Bq)return A2;Bq=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return A2=t,A2}var O2,zq;function OFe(){if(zq)return O2;zq=1;var t=AFe();function e(){}function r(){}return r.resetWarningCache=e,O2=function(){function n(o,l,c,u,d,h){if(h!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},O2}var qq;function RFe(){return qq||(qq=1,T2.exports=OFe()()),T2.exports}var MFe=RFe();const br=pr(MFe);var IFe=Object.getOwnPropertyNames,LFe=Object.getOwnPropertySymbols,DFe=Object.prototype.hasOwnProperty;function Uq(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function fb(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function Vq(t){return IFe(t).concat(LFe(t))}var $Fe=Object.hasOwn||function(t,e){return DFe.call(t,e)};function pf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var FFe="__v",BFe="__o",zFe="_owner",Wq=Object.getOwnPropertyDescriptor,Hq=Object.keys;function qFe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function UFe(t,e){return pf(t.getTime(),e.getTime())}function VFe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function WFe(t,e){return t===e}function Kq(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,h=0;(l=u.next())&&!l.done;){if(i[h]){h++;continue}var g=o.value,v=l.value;if(r.equals(g[0],v[0],c,h,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){d=i[h]=!0;break}h++}if(!d)return!1;c++}return!0}var HFe=pf;function KFe(t,e,r){var n=Hq(t),i=n.length;if(Hq(e).length!==i)return!1;for(;i-- >0;)if(!Lte(t,e,r,n[i]))return!1;return!0}function kg(t,e,r){var n=Vq(t),i=n.length;if(Vq(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!Lte(t,e,r,s)||(o=Wq(t,s),l=Wq(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function GFe(t,e){return pf(t.valueOf(),e.valueOf())}function ZFe(t,e){return t.source===e.source&&t.flags===e.flags}function Gq(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function YFe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function XFe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Lte(t,e,r,n){return(n===zFe||n===BFe||n===FFe)&&(t.$$typeof||e.$$typeof)?!0:$Fe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var JFe="[object Arguments]",QFe="[object Boolean]",e3e="[object Date]",t3e="[object Error]",r3e="[object Map]",n3e="[object Number]",i3e="[object Object]",s3e="[object RegExp]",a3e="[object Set]",o3e="[object String]",l3e="[object URL]",c3e=Array.isArray,Zq=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Yq=Object.assign,u3e=Object.prototype.toString.call.bind(Object.prototype.toString);function d3e(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,h=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(y,x,_){if(y===x)return!0;if(y==null||x==null)return!1;var S=typeof y;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?o(y,x,_):S==="function"?i(y,x,_):!1;var N=y.constructor;if(N!==x.constructor)return!1;if(N===Object)return l(y,x,_);if(c3e(y))return e(y,x,_);if(Zq!=null&&Zq(y))return h(y,x,_);if(N===Date)return r(y,x,_);if(N===RegExp)return u(y,x,_);if(N===Map)return s(y,x,_);if(N===Set)return d(y,x,_);var C=u3e(y);return C===e3e?r(y,x,_):C===s3e?u(y,x,_):C===r3e?s(y,x,_):C===a3e?d(y,x,_):C===i3e?typeof y.then!="function"&&typeof x.then!="function"&&l(y,x,_):C===l3e?g(y,x,_):C===t3e?n(y,x,_):C===JFe?l(y,x,_):C===QFe||C===n3e||C===o3e?c(y,x,_):!1}}function f3e(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?kg:qFe,areDatesEqual:UFe,areErrorsEqual:VFe,areFunctionsEqual:WFe,areMapsEqual:n?Uq(Kq,kg):Kq,areNumbersEqual:HFe,areObjectsEqual:n?kg:KFe,arePrimitiveWrappersEqual:GFe,areRegExpsEqual:ZFe,areSetsEqual:n?Uq(Gq,kg):Gq,areTypedArraysEqual:n?kg:YFe,areUrlsEqual:XFe};if(r&&(i=Yq({},i,r(i))),e){var s=fb(i.areArraysEqual),o=fb(i.areMapsEqual),l=fb(i.areObjectsEqual),c=fb(i.areSetsEqual);i=Yq({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function h3e(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function p3e(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),h=d.cache,g=h===void 0?e?new WeakMap:void 0:h,v=d.meta;return r(c,u,{cache:g,equals:i,meta:v,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var m3e=Au();Au({strict:!0});Au({circular:!0});Au({circular:!0,strict:!0});Au({createInternalComparator:function(){return pf}});Au({strict:!0,createInternalComparator:function(){return pf}});Au({circular:!0,createInternalComparator:function(){return pf}});Au({circular:!0,createInternalComparator:function(){return pf},strict:!0});function Au(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=f3e(t),c=d3e(l),u=n?n(c):h3e(c);return p3e({circular:r,comparator:c,createState:i,equals:u,strict:o})}function g3e(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Xq(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):g3e(i)};requestAnimationFrame(n)}function zA(t){"@babel/helpers - typeof";return zA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zA(t)}function v3e(t){return w3e(t)||b3e(t)||x3e(t)||y3e()}function y3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x3e(t,e){if(t){if(typeof t=="string")return Jq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Jq(t,e)}}function Jq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function b3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w3e(t){if(Array.isArray(t))return t}function _3e(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=v3e(o),c=l[0],u=l.slice(1);if(typeof c=="number"){Xq(i.bind(null,u),c);return}i(c),Xq(i.bind(null,u));return}zA(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function ry(t){"@babel/helpers - typeof";return ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ry(t)}function Qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(r),!0).forEach(function(n){Dte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Dte(t,e,r){return e=j3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j3e(t){var e=S3e(t,"string");return ry(e)==="symbol"?e:String(e)}function S3e(t,e){if(ry(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ry(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N3e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},C3e=function(e){return e},E3e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},ov=function(e,r){return Object.keys(r).reduce(function(n,i){return eU(eU({},n),{},Dte({},i,e(i,r[i])))},{})},tU=function(e,r,n){return e.map(function(i){return"".concat(E3e(i)," ").concat(r,"ms ").concat(n)}).join(",")};function P3e(t,e){return A3e(t)||T3e(t,e)||$te(t,e)||k3e()}function k3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function A3e(t){if(Array.isArray(t))return t}function O3e(t){return I3e(t)||M3e(t)||$te(t)||R3e()}function R3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $te(t,e){if(t){if(typeof t=="string")return qA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qA(t,e)}}function M3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function I3e(t){if(Array.isArray(t))return qA(t)}function qA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qw=1e-4,Fte=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Bte=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},rU=function(e,r){return function(n){var i=Fte(e,r);return Bte(i,n)}},L3e=function(e,r){return function(n){var i=Fte(e,r),s=[].concat(O3e(i.map(function(o,l){return o*l}).slice(1)),[0]);return Bte(s,n)}},nU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),d=P3e(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var h=rU(i,o),g=rU(s,l),v=L3e(i,o),y=function(S){return S>1?1:S<0?0:S},x=function(S){for(var N=S>1?1:S,C=N,A=0;A<8;++A){var k=h(C)-N,P=v(C);if(Math.abs(k-N)<Qw||P<Qw)return g(C);C=y(C-k/P)}return g(C)};return x.isStepper=!1,x},D3e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,h,g){var v=-(d-h)*n,y=g*s,x=g+(v-y)*l/1e3,_=g*l/1e3+d;return Math.abs(_-h)<Qw&&Math.abs(x)<Qw?[h,0]:[_,x]};return c.isStepper=!0,c.dt=l,c},$3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return nU(i);case"spring":return D3e();default:if(i.split("(")[0]==="cubic-bezier")return nU(i)}return typeof i=="function"?i:null};function ny(t){"@babel/helpers - typeof";return ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ny(t)}function iU(t){return z3e(t)||B3e(t)||zte(t)||F3e()}function F3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B3e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function z3e(t){if(Array.isArray(t))return VA(t)}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){UA(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UA(t,e,r){return e=q3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q3e(t){var e=U3e(t,"string");return ny(e)==="symbol"?e:String(e)}function U3e(t,e){if(ny(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ny(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V3e(t,e){return K3e(t)||H3e(t,e)||zte(t,e)||W3e()}function W3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zte(t,e){if(t){if(typeof t=="string")return VA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return VA(t,e)}}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function K3e(t){if(Array.isArray(t))return t}var e_=function(e,r,n){return e+(r-e)*n},WA=function(e){var r=e.from,n=e.to;return r!==n},G3e=function t(e,r,n){var i=ov(function(s,o){if(WA(o)){var l=e(o.from,o.to,o.velocity),c=V3e(l,2),u=c[0],d=c[1];return si(si({},o),{},{from:u,velocity:d})}return o},r);return n<1?ov(function(s,o){return WA(o)?si(si({},o),{},{velocity:e_(o.velocity,i[s].velocity,n),from:e_(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const Z3e=function(t,e,r,n,i){var s=N3e(t,e),o=s.reduce(function(_,S){return si(si({},_),{},UA({},S,[t[S],e[S]]))},{}),l=s.reduce(function(_,S){return si(si({},_),{},UA({},S,{from:t[S],velocity:0,to:e[S]}))},{}),c=-1,u,d,h=function(){return null},g=function(){return ov(function(S,N){return N.from},l)},v=function(){return!Object.values(l).filter(WA).length},y=function(S){u||(u=S);var N=S-u,C=N/r.dt;l=G3e(r,l,C),i(si(si(si({},t),e),g())),u=S,v()||(c=requestAnimationFrame(h))},x=function(S){d||(d=S);var N=(S-d)/n,C=ov(function(k,P){return e_.apply(void 0,iU(P).concat([r(N)]))},o);if(i(si(si(si({},t),e),C)),N<1)c=requestAnimationFrame(h);else{var A=ov(function(k,P){return e_.apply(void 0,iU(P).concat([r(1)]))},o);i(si(si(si({},t),e),A))}};return h=r.isStepper?y:x,function(){return requestAnimationFrame(h),function(){cancelAnimationFrame(c)}}};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}var Y3e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function X3e(t,e){if(t==null)return{};var r=J3e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J3e(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function R2(t){return r5e(t)||t5e(t)||e5e(t)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function e5e(t,e){if(t){if(typeof t=="string")return HA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HA(t,e)}}function t5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function r5e(t){if(Array.isArray(t))return HA(t)}function HA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function aU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(r),!0).forEach(function(n){Hg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hg(t,e,r){return e=qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i5e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qte(n.key),n)}}function s5e(t,e,r){return e&&i5e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qte(t){var e=a5e(t,"string");return Np(e)==="symbol"?e:String(e)}function a5e(t,e){if(Np(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Np(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o5e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KA(t,e)}function KA(t,e){return KA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KA(t,e)}function l5e(t){var e=c5e();return function(){var n=t_(t),i;if(e){var s=t_(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return GA(this,i)}}function GA(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ZA(t)}function ZA(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c5e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function t_(t){return t_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},t_(t)}var zo=function(t){o5e(r,t);var e=l5e(r);function r(n,i){var s;n5e(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,h=o.steps,g=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(ZA(s)),s.changeStyle=s.changeStyle.bind(ZA(s)),!l||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:d}),GA(s);if(h&&h.length)s.state={style:h[0].style};else if(u){if(typeof g=="function")return s.state={style:u},GA(s);s.state={style:c?Hg({},c,u):u}}else s.state={style:{}};return s}return s5e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,h=s.from,g=this.state.style;if(l){if(!o){var v={style:c?Hg({},c,d):d};this.state&&g&&(c&&g[c]!==d||!c&&g!==d)&&this.setState(v);return}if(!(m3e(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?h:i.to;if(this.state&&g){var _={style:c?Hg({},c,x):x};(c&&g[c]!==x||!c&&g!==x)&&this.setState(_)}this.runAnimation(Ta(Ta({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,h=i.onAnimationEnd,g=i.onAnimationStart,v=Z3e(o,l,$3e(u),c,this.changeStyle),y=function(){s.stopJSAnimation=v()};this.manager.start([g,d,y,c,h])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,h=u.duration,g=h===void 0?0:h,v=function(x,_,S){if(S===0)return x;var N=_.duration,C=_.easing,A=C===void 0?"ease":C,k=_.style,P=_.properties,O=_.onAnimationEnd,I=S>0?o[S-1]:_,F=P||Object.keys(k);if(typeof A=="function"||A==="spring")return[].concat(R2(x),[s.runJSAnimation.bind(s,{from:I.style,to:k,duration:N,easing:A}),N]);var H=tU(F,N,A),V=Ta(Ta(Ta({},I.style),k),{},{transition:H});return[].concat(R2(x),[V,N,O]).filter(C3e)};return this.manager.start([c].concat(R2(o.reduce(v,[d,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=_3e());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,h=i.onAnimationEnd,g=i.steps,v=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var x=l?Hg({},l,c):c,_=tU(Object.keys(x),o,u);y.start([d,s,Ta(Ta({},x),{},{transition:_}),o,h])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=X3e(i,Y3e),u=b.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var h=function(v){var y=v.props,x=y.style,_=x===void 0?{}:x,S=y.className,N=b.cloneElement(v,Ta(Ta({},c),{},{style:Ta(Ta({},_),d),className:S}));return N};return u===1?h(b.Children.only(s)):Q.createElement("div",null,b.Children.map(s,function(g){return h(g)}))}}]),r}(b.PureComponent);zo.displayName="Animate";zo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zo.propTypes={from:br.oneOfType([br.object,br.string]),to:br.oneOfType([br.object,br.string]),attributeName:br.string,duration:br.number,begin:br.number,easing:br.oneOfType([br.string,br.func]),steps:br.arrayOf(br.shape({duration:br.number.isRequired,style:br.object.isRequired,easing:br.oneOfType([br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),br.func]),properties:br.arrayOf("string"),onAnimationEnd:br.func})),children:br.oneOfType([br.node,br.func]),isActive:br.bool,canBegin:br.bool,onAnimationEnd:br.func,shouldReAnimate:br.bool,onAnimationStart:br.func,onAnimationReStart:br.func};function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}function r_(){return r_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r_.apply(this,arguments)}function u5e(t,e){return p5e(t)||h5e(t,e)||f5e(t,e)||d5e()}function d5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f5e(t,e){if(t){if(typeof t=="string")return oU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oU(t,e)}}function oU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function h5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function p5e(t){if(Array.isArray(t))return t}function lU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(r),!0).forEach(function(n){m5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m5e(t,e,r){return e=g5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g5e(t){var e=v5e(t,"string");return iy(e)=="symbol"?e:e+""}function v5e(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uU=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,v=4;g<v;g++)h[g]=s[g]>o?o:s[g];d="M".concat(e,",").concat(r+l*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(u,",").concat(e+c*h[0],",").concat(r)),d+="L ".concat(e+n-c*h[1],",").concat(r),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*h[1])),d+="L ".concat(e+n,",").concat(r+i-l*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(u,`,
        `).concat(e+n-c*h[2],",").concat(r+i)),d+="L ".concat(e+c*h[3],",").concat(r+i),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*h[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(e,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(r,`
            L `).concat(e+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*y,`
            L `).concat(e+n,",").concat(r+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(r+i,`
            L `).concat(e+c*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*y," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},y5e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),h=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=d&&i>=h&&i<=g}return!1},x5e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},VI=function(e){var r=cU(cU({},x5e),e),n=b.useRef(),i=b.useState(-1),s=u5e(i,2),o=s[0],l=s[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,d=r.width,h=r.height,g=r.radius,v=r.className,y=r.animationEasing,x=r.animationDuration,_=r.animationBegin,S=r.isAnimationActive,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var C=Gt("recharts-rectangle",v);return N?Q.createElement(zo,{canBegin:o>0,from:{width:d,height:h,x:c,y:u},to:{width:d,height:h,x:c,y:u},duration:x,animationEasing:y,isActive:N},function(A){var k=A.width,P=A.height,O=A.x,I=A.y;return Q.createElement(zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:S,easing:y},Q.createElement("path",r_({},Wt(r,!0),{className:C,d:uU(O,I,k,P,g),ref:n})))}):Q.createElement("path",r_({},Wt(r,!0),{className:C,d:uU(c,u,d,h,g)}))};function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YA.apply(this,arguments)}var WI=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=Gt("recharts-dot",s);return r===+r&&n===+n&&i===+i?b.createElement("circle",YA({},Wt(e,!1),Nw(e),{className:o,cx:r,cy:n,r:i})):null};function sy(t){"@babel/helpers - typeof";return sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sy(t)}var b5e=["x","y","top","left","width","height","className"];function XA(){return XA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XA.apply(this,arguments)}function dU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w5e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(r),!0).forEach(function(n){_5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _5e(t,e,r){return e=j5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function j5e(t){var e=S5e(t,"string");return sy(e)=="symbol"?e:e+""}function S5e(t,e){if(sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N5e(t,e){if(t==null)return{};var r=C5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var E5e=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},P5e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,h=d===void 0?0:d,g=e.height,v=g===void 0?0:g,y=e.className,x=N5e(e,b5e),_=w5e({x:n,y:s,top:l,left:u,width:h,height:v},x);return!et(n)||!et(s)||!et(h)||!et(v)||!et(l)||!et(u)?null:Q.createElement("path",XA({},Wt(_,!0),{className:Gt("recharts-cross",y),d:E5e(n,s,h,v,l,u)}))},M2,fU;function k5e(){if(fU)return M2;fU=1;var t=cee(),e=t(Object.getPrototypeOf,Object);return M2=e,M2}var I2,hU;function T5e(){if(hU)return I2;hU=1;var t=Xl(),e=k5e(),r=Jl(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var h=e(d);if(h===null)return!0;var g=l.call(h,"constructor")&&h.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return I2=u,I2}var A5e=T5e();const O5e=pr(A5e);var L2,pU;function R5e(){if(pU)return L2;pU=1;var t=Xl(),e=Jl(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return L2=n,L2}var M5e=R5e();const I5e=pr(M5e);function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n_.apply(this,arguments)}function L5e(t,e){return B5e(t)||F5e(t,e)||$5e(t,e)||D5e()}function D5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $5e(t,e){if(t){if(typeof t=="string")return mU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mU(t,e)}}function mU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function B5e(t){if(Array.isArray(t))return t}function gU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gU(Object(r),!0).forEach(function(n){z5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z5e(t,e,r){return e=q5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q5e(t){var e=U5e(t,"string");return ay(e)=="symbol"?e:e+""}function U5e(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yU=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},V5e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W5e=function(e){var r=vU(vU({},V5e),e),n=b.useRef(),i=b.useState(-1),s=L5e(i,2),o=s[0],l=s[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var C=n.current.getTotalLength();C&&l(C)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,h=r.lowerWidth,g=r.height,v=r.className,y=r.animationEasing,x=r.animationDuration,_=r.animationBegin,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||h!==+h||g!==+g||d===0&&h===0||g===0)return null;var N=Gt("recharts-trapezoid",v);return S?Q.createElement(zo,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:d,lowerWidth:h,height:g,x:c,y:u},duration:x,animationEasing:y,isActive:S},function(C){var A=C.upperWidth,k=C.lowerWidth,P=C.height,O=C.x,I=C.y;return Q.createElement(zo,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:y},Q.createElement("path",n_({},Wt(r,!0),{className:N,d:yU(O,I,A,k,P),ref:n})))}):Q.createElement("g",null,Q.createElement("path",n_({},Wt(r,!0),{className:N,d:yU(c,u,d,h,g)})))},H5e=["option","shapeType","propTransformer","activeClassName","isActive"];function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function K5e(t,e){if(t==null)return{};var r=G5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function G5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function xU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xU(Object(r),!0).forEach(function(n){Z5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z5e(t,e,r){return e=Y5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y5e(t){var e=X5e(t,"string");return oy(e)=="symbol"?e:e+""}function X5e(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J5e(t,e){return i_(i_({},e),t)}function Q5e(t,e){return t==="symbols"}function bU(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return Q.createElement(VI,r);case"trapezoid":return Q.createElement(W5e,r);case"sector":return Q.createElement(Ite,r);case"symbols":if(Q5e(e))return Q.createElement(cI,r);break;default:return null}}function eBe(t){return b.isValidElement(t)?t.props:t}function Ute(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?J5e:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=K5e(t,H5e),u;if(b.isValidElement(e))u=b.cloneElement(e,i_(i_({},c),eBe(e)));else if(Mt(e))u=e(c);else if(O5e(e)&&!I5e(e)){var d=i(e,c);u=Q.createElement(bU,{shapeType:r,elementProps:d})}else{var h=c;u=Q.createElement(bU,{shapeType:r,elementProps:h})}return l?Q.createElement(Ur,{className:o},u):u}function W1(t,e){return e!=null&&"trapezoids"in t.props}function H1(t,e){return e!=null&&"sectors"in t.props}function ly(t,e){return e!=null&&"points"in t.props}function tBe(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function rBe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function nBe(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function iBe(t,e){var r;return W1(t,e)?r=tBe:H1(t,e)?r=rBe:ly(t,e)&&(r=nBe),r}function sBe(t,e){var r;return W1(t,e)?r="trapezoids":H1(t,e)?r="sectors":ly(t,e)&&(r="points"),r}function aBe(t,e){if(W1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(H1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return ly(t,e)?e.payload:{}}function oBe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=sBe(r,e),s=aBe(r,e),o=n.filter(function(c,u){var d=ix(s,c),h=r.props[i].filter(function(y){var x=iBe(r,e);return x(y,e)}),g=r.props[i].indexOf(h[h.length-1]),v=u===g;return d&&v}),l=n.indexOf(o[o.length-1]);return l}var Tb;function Cp(t){"@babel/helpers - typeof";return Cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cp(t)}function Fh(){return Fh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fh.apply(this,arguments)}function wU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wU(Object(r),!0).forEach(function(n){aa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _U(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wte(n.key),n)}}function cBe(t,e,r){return e&&_U(t.prototype,e),r&&_U(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uBe(t,e,r){return e=s_(e),dBe(t,Vte()?Reflect.construct(e,r||[],s_(t).constructor):e.apply(t,r))}function dBe(t,e){if(e&&(Cp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fBe(t)}function fBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vte=function(){return!!t})()}function s_(t){return s_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},s_(t)}function hBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JA(t,e)}function JA(t,e){return JA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},JA(t,e)}function aa(t,e,r){return e=Wte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wte(t){var e=pBe(t,"string");return Cp(e)=="symbol"?e:e+""}function pBe(t,e){if(Cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vl=function(t){function e(r){var n;return lBe(this,e),n=uBe(this,e,[r]),aa(n,"pieRef",null),aa(n,"sectorRefs",[]),aa(n,"id",um("recharts-pie-")),aa(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Mt(i)&&i()}),aa(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Mt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hBe(e,t),cBe(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=Wt(this.props,!1),h=Wt(o,!1),g=Wt(l,!1),v=o&&o.offsetRadius||20,y=n.map(function(x,_){var S=(x.startAngle+x.endAngle)/2,N=Pn(x.cx,x.cy,x.outerRadius+v,S),C=zr(zr(zr(zr({},d),x),{},{stroke:"none"},h),{},{index:_,textAnchor:e.getTextAnchor(N.x,x.cx)},N),A=zr(zr(zr(zr({},d),x),{},{fill:"none",stroke:x.fill},g),{},{index:_,points:[Pn(x.cx,x.cy,x.outerRadius,S),N]}),k=c;return Lt(c)&&Lt(u)?k="value":Lt(c)&&(k=u),Q.createElement(Ur,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,C,Bn(x,k)))});return Q.createElement(Ur,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var h=i.isActiveIndex(d),g=c&&i.hasActiveIndex()?c:null,v=h?o:g,y=zr(zr({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return Q.createElement(Ur,Fh({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},Av(i.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),Q.createElement(Ute,Fh({option:v,isActive:h,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=this.state,g=h.prevSectors,v=h.prevIsAnimationActive;return Q.createElement(zo,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,_=[],S=s&&s[0],N=S.startAngle;return s.forEach(function(C,A){var k=g&&g[A],P=A>0?Is(C,"paddingAngle",0):0;if(k){var O=Ts(k.endAngle-k.startAngle,C.endAngle-C.startAngle),I=zr(zr({},C),{},{startAngle:N+P,endAngle:N+O(x)+P});_.push(I),N=I.endAngle}else{var F=C.endAngle,H=C.startAngle,V=Ts(0,F-H),U=V(x),z=zr(zr({},C),{},{startAngle:N+P,endAngle:N+U+P});_.push(z),N=z.endAngle}}),Q.createElement(Ur,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!ix(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,h=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,y=this.state.isAnimationFinished;if(s||!o||!o.length||!et(u)||!et(d)||!et(h)||!et(g))return null;var x=Gt("recharts-pie",l);return Q.createElement(Ur,{tabIndex:this.props.rootTabIndex,className:x,ref:function(S){n.pieRef=S}},this.renderSectors(),c&&this.renderLabels(o),oi.renderCallByParent(this.props,null,!1),(!v||y)&&Ml.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(Q.isValidElement(n))return Q.cloneElement(n,i);if(Mt(n))return n(i);var o=Gt("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return Q.createElement(Jw,Fh({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(Q.isValidElement(n))return Q.cloneElement(n,i);var o=s;if(Mt(n)&&(o=n(i),Q.isValidElement(o)))return o;var l=Gt("recharts-pie-label-text",typeof n!="boolean"&&!Mt(n)?n.className:"");return Q.createElement(Bv,Fh({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);Tb=Vl;aa(Vl,"displayName","Pie");aa(Vl,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!df.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});aa(Vl,"parseDeltaAngle",function(t,e){var r=Fi(e-t),n=Math.min(Math.abs(e-t),360);return r*n});aa(Vl,"getRealPieData",function(t){var e=t.data,r=t.children,n=Wt(t,!1),i=Ls(r,Dv);return e&&e.length?e.map(function(s,o){return zr(zr(zr({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return zr(zr({},n),s.props)}):[]});aa(Vl,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=R$e(i,s),l=n+Wa(t.cx,i,i/2),c=r+Wa(t.cy,s,s/2),u=Wa(t.innerRadius,o,0),d=Wa(t.outerRadius,o,o*.8),h=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:h}});aa(Vl,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?zr(zr({},e.type.defaultProps),e.props):e.props,i=Tb.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,h=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),y=Tb.parseCoordinateOfPie(n,r),x=Tb.parseDeltaAngle(o,l),_=Math.abs(x),S=u;Lt(u)&&Lt(h)?(Ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Lt(u)&&(Ga(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=h);var N=i.filter(function(I){return Bn(I,S,0)!==0}).length,C=(_>=360?N:N-1)*c,A=_-N*v-C,k=i.reduce(function(I,F){var H=Bn(F,S,0);return I+(et(H)?H:0)},0),P;if(k>0){var O;P=i.map(function(I,F){var H=Bn(I,S,0),V=Bn(I,d,F),U=(et(H)?H:0)/k,z;F?z=O.endAngle+Fi(x)*c*(H!==0?1:0):z=o;var W=z+Fi(x)*((H!==0?v:0)+U*A),J=(z+W)/2,se=(y.innerRadius+y.outerRadius)/2,K=[{name:V,value:H,payload:I,dataKey:S,type:g}],ee=Pn(y.cx,y.cy,se,J);return O=zr(zr(zr({percent:U,cornerRadius:s,name:V,tooltipPayload:K,midAngle:J,middleRadius:se,tooltipPosition:ee},I),y),{},{value:Bn(I,S),startAngle:z,endAngle:W,payload:I,paddingAngle:Fi(x)*c}),O})}return zr(zr({},y),{},{sectors:P,data:i})});var D2,jU;function mBe(){if(jU)return D2;jU=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var l=-1,c=e(t((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return D2=r,D2}var $2,SU;function Hte(){if(SU)return $2;SU=1;var t=Nee(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return $2=n,$2}var F2,NU;function gBe(){if(NU)return F2;NU=1;var t=mBe(),e=M1(),r=Hte();function n(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,i)}}return F2=n,F2}var B2,CU;function vBe(){if(CU)return B2;CU=1;var t=gBe(),e=t();return B2=e,B2}var yBe=vBe();const a_=pr(yBe);function cy(t){"@babel/helpers - typeof";return cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cy(t)}function EU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function PU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(r),!0).forEach(function(n){Kte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kte(t,e,r){return e=xBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xBe(t){var e=bBe(t,"string");return cy(e)=="symbol"?e:e+""}function bBe(t,e){if(cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wBe=["Webkit","Moz","O","ms"],_Be=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=wBe.reduce(function(s,o){return PU(PU({},s),{},Kte({},o+n,r))},{});return i[e]=r,i};function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function o_(){return o_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o_.apply(this,arguments)}function kU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(r),!0).forEach(function(n){Ns(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function TU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zte(n.key),n)}}function SBe(t,e,r){return e&&TU(t.prototype,e),r&&TU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NBe(t,e,r){return e=l_(e),CBe(t,Gte()?Reflect.construct(e,r||[],l_(t).constructor):e.apply(t,r))}function CBe(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EBe(t)}function EBe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gte=function(){return!!t})()}function l_(t){return l_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},l_(t)}function PBe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QA(t,e)}function QA(t,e){return QA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QA(t,e)}function Ns(t,e,r){return e=Zte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zte(t){var e=kBe(t,"string");return Ep(e)=="symbol"?e:e+""}function kBe(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var TBe=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=sv().domain(a_(0,c)).range([s,s+o-l]),d=u.domain().map(function(h){return u(h)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},AU=function(e){return e.changedTouches&&!!e.changedTouches.length},Pp=function(t){function e(r){var n;return jBe(this,e),n=NBe(this,e,[r]),Ns(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),Ns(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),Ns(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Ns(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ns(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ns(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ns(n,"handleSlideDragStart",function(i){var s=AU(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return PBe(e,t),SBe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,h=Math.min(i,s),g=Math.max(i,s),v=e.getIndexInRange(o,h),y=e.getIndexInRange(o,g);return{startIndex:v-v%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=Bn(s[n],l,n);return Mt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,h=c.travellerWidth,g=c.startIndex,v=c.endIndex,y=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-h-l,u+d-h-o):x<0&&(x=Math.max(x,u-o,u-l));var _=this.getIndex({startX:o+x,endX:l+x});(_.startIndex!==g||_.endIndex!==v)&&y&&y(_),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=AU(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,h=d.x,g=d.width,v=d.travellerWidth,y=d.onChange,x=d.gap,_=d.data,S={startX:this.state.startX,endX:this.state.endX},N=n.pageX-s;N>0?N=Math.min(N,h+g-v-u):N<0&&(N=Math.max(N,h-u)),S[o]=u+N;var C=this.getIndex(S),A=C.startIndex,k=C.endIndex,P=function(){var I=_.length-1;return o==="startX"&&(l>c?A%x===0:k%x===0)||l<c&&k===I||o==="endX"&&(l>c?k%x===0:A%x===0)||l>c&&k===I};this.setState(Ns(Ns({},o,u+N),"brushMoveStartX",n.pageX),function(){y&&P()&&y(C)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],h=l.indexOf(d);if(h!==-1){var g=h+n;if(!(g===-1||g>=l.length)){var v=l[g];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(Ns({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return Q.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,h=b.Children.only(u);return h?Q.cloneElement(h,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,h=c.height,g=c.traveller,v=c.ariaLabel,y=c.data,x=c.startIndex,_=c.endIndex,S=Math.max(n,this.props.x),N=z2(z2({},Wt(this.props,!1)),{},{x:S,y:u,width:d,height:h}),C=v||"Min value: ".concat((s=y[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[_])===null||o===void 0?void 0:o.name);return Q.createElement(Ur,{tabIndex:0,role:"slider","aria-label":C,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(k){["ArrowLeft","ArrowRight"].includes(k.key)&&(k.preventDefault(),k.stopPropagation(),l.handleTravellerMoveKeyboard(k.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,N))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,h=Math.max(Math.abs(i-n)-u,0);return Q.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:h,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,h=d.startX,g=d.endX,v=5,y={pointerEvents:"none",fill:u};return Q.createElement(Ur,{className:"recharts-brush-texts"},Q.createElement(Bv,o_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(h,g)-v,y:o+l/2},y),this.getTextOfTick(i)),Q.createElement(Bv,o_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(h,g)+c+v,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,h=n.alwaysShowText,g=this.state,v=g.startX,y=g.endX,x=g.isTextActive,_=g.isSlideMoving,S=g.isTravellerMoving,N=g.isTravellerFocused;if(!i||!i.length||!et(l)||!et(c)||!et(u)||!et(d)||u<=0||d<=0)return null;var C=Gt("recharts-brush",s),A=Q.Children.count(o)===1,k=_Be("userSelect","none");return Q.createElement(Ur,{className:C,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:k},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,y),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(y,"endX"),(x||_||S||N||h)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return Q.createElement(Q.Fragment,null,Q.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),Q.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),Q.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return Q.isValidElement(n)?s=Q.cloneElement(n,i):Mt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,h=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return z2({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?TBe({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:h}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(b.PureComponent);Ns(Pp,"displayName","Brush");Ns(Pp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var q2,OU;function ABe(){if(OU)return q2;OU=1;var t=gI();function e(r,n){var i;return t(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return q2=e,q2}var U2,RU;function OBe(){if(RU)return U2;RU=1;var t=ree(),e=Pu(),r=ABe(),n=cs(),i=M1();function s(o,l,c){var u=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),u(o,e(l,3))}return U2=s,U2}var RBe=OBe();const MBe=pr(RBe);var Ro=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},V2,MU;function IBe(){if(MU)return V2;MU=1;var t=bee();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return V2=e,V2}var W2,IU;function LBe(){if(IU)return W2;IU=1;var t=IBe(),e=yee(),r=Pu();function n(i,s){var o={};return s=r(s,3),e(i,function(l,c,u){t(o,c,s(l,c,u))}),o}return W2=n,W2}var DBe=LBe();const $Be=pr(DBe);var H2,LU;function FBe(){if(LU)return H2;LU=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return H2=t,H2}var K2,DU;function BBe(){if(DU)return K2;DU=1;var t=gI();function e(r,n){var i=!0;return t(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return K2=e,K2}var G2,$U;function zBe(){if($U)return G2;$U=1;var t=FBe(),e=BBe(),r=Pu(),n=cs(),i=M1();function s(o,l,c){var u=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return G2=s,G2}var qBe=zBe();const Yte=pr(qBe);var UBe=["x","y"];function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eO.apply(this,arguments)}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){VBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VBe(t,e,r){return e=WBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WBe(t){var e=HBe(t,"string");return uy(e)=="symbol"?e:e+""}function HBe(t,e){if(uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KBe(t,e){if(t==null)return{};var r=GBe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function GBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZBe(t,e){var r=t.x,n=t.y,i=KBe(t,UBe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),h="".concat(e.width||i.width),g=parseInt(h,10);return Tg(Tg(Tg(Tg(Tg({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function BU(t){return Q.createElement(Ute,eO({shapeType:"rectangle",propTransformer:ZBe,activeClassName:"recharts-active-bar"},t))}var YBe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=et(n)||QTe(n);return s?e(n,i):(s||Zd(),r)}},XBe=["value","background"],Xte;function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function JBe(t,e){if(t==null)return{};var r=QBe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QBe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function c_(){return c_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c_.apply(this,arguments)}function zU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _n(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(r),!0).forEach(function(n){ru(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qte(n.key),n)}}function t6e(t,e,r){return e&&qU(t.prototype,e),r&&qU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function r6e(t,e,r){return e=u_(e),n6e(t,Jte()?Reflect.construct(e,r||[],u_(t).constructor):e.apply(t,r))}function n6e(t,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i6e(t)}function i6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jte=function(){return!!t})()}function u_(t){return u_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u_(t)}function s6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}function tO(t,e){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tO(t,e)}function ru(t,e,r){return e=Qte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qte(t){var e=a6e(t,"string");return kp(e)=="symbol"?e:e+""}function a6e(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Il=function(t){function e(){var r;e6e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=r6e(this,e,[].concat(i)),ru(r,"state",{isAnimationFinished:!1}),ru(r,"id",um("recharts-bar-")),ru(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),ru(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return s6e(e,t),t6e(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=Wt(this.props,!1);return n&&n.map(function(h,g){var v=g===c,y=v?u:o,x=_n(_n(_n({},d),h),{},{isActive:v,option:y,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Q.createElement(Ur,c_({className:"recharts-bar-rectangle"},Av(i.props,h,g),{key:"rectangle-".concat(h?.x,"-").concat(h?.y,"-").concat(h?.value,"-").concat(g)}),Q.createElement(BU,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,g=this.state.prevData;return Q.createElement(zo,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t,x=s.map(function(_,S){var N=g&&g[S];if(N){var C=Ts(N.x,_.x),A=Ts(N.y,_.y),k=Ts(N.width,_.width),P=Ts(N.height,_.height);return _n(_n({},_),{},{x:C(y),y:A(y),width:k(y),height:P(y)})}if(o==="horizontal"){var O=Ts(0,_.height),I=O(y);return _n(_n({},_),{},{y:_.y+_.height-I,height:I})}var F=Ts(0,_.width),H=F(y);return _n(_n({},_),{},{width:H})});return Q.createElement(Ur,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!ix(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=Wt(this.props.background,!1);return s.map(function(u,d){u.value;var h=u.background,g=JBe(u,XBe);if(!h)return null;var v=_n(_n(_n(_n(_n({},g),{},{fill:"#eee"},h),c),Av(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return Q.createElement(BU,c_({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=Ls(d,sx);if(!h)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,v=function(_,S){var N=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:N,errorVal:Bn(_,S)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Q.createElement(Ur,y,h.map(function(x){return Q.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,h=n.width,g=n.height,v=n.isAnimationActive,y=n.background,x=n.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,S=Gt("recharts-bar",o),N=l&&l.allowDataOverflow,C=c&&c.allowDataOverflow,A=N||C,k=Lt(x)?this.id:x;return Q.createElement(Ur,{className:S},N||C?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(k)},Q.createElement("rect",{x:N?u:u-h/2,y:C?d:d-g/2,width:N?h:h*2,height:C?g:g*2}))):null,Q.createElement(Ur,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(k,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,k),(!v||_)&&Ml.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(b.PureComponent);Xte=Il;ru(Il,"displayName","Bar");ru(Il,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!df.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ru(Il,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,h=t.displayedData,g=t.offset,v=y$e(n,r);if(!v)return null;var y=e.layout,x=r.type.defaultProps,_=x!==void 0?_n(_n({},x),r.props):r.props,S=_.dataKey,N=_.children,C=_.minPointSize,A=y==="horizontal"?o:s,k=u?A.scale.domain():null,P=C$e({numericAxis:A}),O=Ls(N,Dv),I=h.map(function(F,H){var V,U,z,W,J,se;u?V=x$e(u[d+H],k):(V=Bn(F,S),Array.isArray(V)||(V=[P,V]));var K=YBe(C,Xte.defaultProps.minPointSize)(V[1],H);if(y==="horizontal"){var ee,G=[o.scale(V[0]),o.scale(V[1])],ne=G[0],Y=G[1];U=jq({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:F,index:H}),z=(ee=Y??ne)!==null&&ee!==void 0?ee:void 0,W=v.size;var oe=ne-Y;if(J=Number.isNaN(oe)?0:oe,se={x:U,y:o.y,width:W,height:o.height},Math.abs(K)>0&&Math.abs(J)<Math.abs(K)){var xe=Fi(J||K)*(Math.abs(K)-Math.abs(J));z-=xe,J+=xe}}else{var Ne=[s.scale(V[0]),s.scale(V[1])],Le=Ne[0],ce=Ne[1];if(U=Le,z=jq({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:F,index:H}),W=ce-Le,J=v.size,se={x:s.x,y:z,width:s.width,height:J},Math.abs(K)>0&&Math.abs(W)<Math.abs(K)){var ae=Fi(W||K)*(Math.abs(K)-Math.abs(W));W+=ae}}return _n(_n(_n({},F),{},{x:U,y:z,width:W,height:J,value:u?V:V[1],payload:F,background:se},O&&O[H]&&O[H].props),{},{tooltipPayload:[Ote(r,F)],tooltipPosition:{x:U+W/2,y:z+J/2}})});return _n({data:I,layout:y},g)});function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function o6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ere(n.key),n)}}function l6e(t,e,r){return e&&UU(t.prototype,e),r&&UU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function VU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function La(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VU(Object(r),!0).forEach(function(n){K1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K1(t,e,r){return e=ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ere(t){var e=c6e(t,"string");return dy(e)=="symbol"?e:e+""}function c6e(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u6e=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),h={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!Cs(u,Il);return d.reduce(function(v,y){var x=r[y],_=x.orientation,S=x.domain,N=x.padding,C=N===void 0?{}:N,A=x.mirror,k=x.reversed,P="".concat(_).concat(A?"Mirror":""),O,I,F,H,V;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var U=S[1]-S[0],z=1/0,W=x.categoricalDomain.sort(rAe);if(W.forEach(function(Ne,Le){Le>0&&(z=Math.min((Ne||0)-(W[Le-1]||0),z))}),Number.isFinite(z)){var J=z/U,se=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(O=J*se/2),x.padding==="no-gap"){var K=Wa(e.barCategoryGap,J*se),ee=J*se/2;O=ee-K-(ee-K)/se*K}}}i==="xAxis"?I=[n.left+(C.left||0)+(O||0),n.left+n.width-(C.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(C.bottom||0),n.top+(C.top||0)]:[n.top+(C.top||0)+(O||0),n.top+n.height-(C.bottom||0)-(O||0)]:I=x.range,k&&(I=[I[1],I[0]]);var G=g$e(x,s,g),ne=G.scale,Y=G.realScaleType;ne.domain(S).range(I),v$e(ne);var oe=N$e(ne,La(La({},x),{},{realScaleType:Y}));i==="xAxis"?(V=_==="top"&&!A||_==="bottom"&&A,F=n.left,H=h[P]-V*x.height):i==="yAxis"&&(V=_==="left"&&!A||_==="right"&&A,F=h[P]-V*x.width,H=n.top);var xe=La(La(La({},x),oe),{},{realScaleType:Y,x:F,y:H,scale:ne,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return xe.bandSize=Zw(xe,oe),!x.hide&&i==="xAxis"?h[P]+=(V?-1:1)*xe.height:x.hide||(h[P]+=(V?-1:1)*xe.width),La(La({},v),{},K1({},y,xe))},{})},tre=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},d6e=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return tre({x:r,y:n},{x:i,y:s})},rre=function(){function t(e){o6e(this,t),this.scale=e}return l6e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();K1(rre,"EPS",1e-4);var HI=function(e){var r=Object.keys(e).reduce(function(n,i){return La(La({},n),{},K1({},i,rre.create(e[i])))},{});return La(La({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return $Be(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Yte(i,function(s,o){return r[o].isInRange(s)})}})};function f6e(t){return(t%180+180)%180}var h6e=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=f6e(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Z2,WU;function p6e(){if(WU)return Z2;WU=1;var t=Pu(),e=Qy(),r=O1();function n(i){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(h){return u(c[h],h,c)}}var d=i(s,o,l);return d>-1?c[u?s[d]:d]:void 0}}return Z2=n,Z2}var Y2,HU;function m6e(){if(HU)return Y2;HU=1;var t=Hte();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Y2=e,Y2}var X2,KU;function g6e(){if(KU)return X2;KU=1;var t=hee(),e=Pu(),r=m6e(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return X2=i,X2}var J2,GU;function v6e(){if(GU)return J2;GU=1;var t=p6e(),e=g6e(),r=t(e);return J2=r,J2}var y6e=v6e();const x6e=pr(y6e);var b6e=kQ();const w6e=pr(b6e);var _6e=w6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),KI=b.createContext(void 0),GI=b.createContext(void 0),nre=b.createContext(void 0),ire=b.createContext({}),sre=b.createContext(void 0),are=b.createContext(0),ore=b.createContext(0),ZU=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=_6e(s);return Q.createElement(KI.Provider,{value:n},Q.createElement(GI.Provider,{value:i},Q.createElement(ire.Provider,{value:s},Q.createElement(nre.Provider,{value:d},Q.createElement(sre.Provider,{value:o},Q.createElement(are.Provider,{value:u},Q.createElement(ore.Provider,{value:c},l)))))))},j6e=function(){return b.useContext(sre)},lre=function(e){var r=b.useContext(KI);r==null&&Zd();var n=r[e];return n==null&&Zd(),n},S6e=function(){var e=b.useContext(KI);return Qc(e)},N6e=function(){var e=b.useContext(GI),r=x6e(e,function(n){return Yte(n.domain,Number.isFinite)});return r||Qc(e)},cre=function(e){var r=b.useContext(GI);r==null&&Zd();var n=r[e];return n==null&&Zd(),n},C6e=function(){var e=b.useContext(nre);return e},E6e=function(){return b.useContext(ire)},ZI=function(){return b.useContext(ore)},YI=function(){return b.useContext(are)};function Tp(t){"@babel/helpers - typeof";return Tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tp(t)}function P6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function k6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dre(n.key),n)}}function T6e(t,e,r){return e&&k6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A6e(t,e,r){return e=d_(e),O6e(t,ure()?Reflect.construct(e,r||[],d_(t).constructor):e.apply(t,r))}function O6e(t,e){if(e&&(Tp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R6e(t)}function R6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ure(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ure=function(){return!!t})()}function d_(t){return d_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d_(t)}function M6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rO(t,e)}function rO(t,e){return rO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},rO(t,e)}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){XI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XI(t,e,r){return e=dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dre(t){var e=I6e(t,"string");return Tp(e)=="symbol"?e:e+""}function I6e(t,e){if(Tp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function L6e(t,e){return B6e(t)||F6e(t,e)||$6e(t,e)||D6e()}function D6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $6e(t,e){if(t){if(typeof t=="string")return JU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JU(t,e)}}function JU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function F6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function B6e(t){if(Array.isArray(t))return t}function nO(){return nO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nO.apply(this,arguments)}var z6e=function(e,r){var n;return Q.isValidElement(e)?n=Q.cloneElement(e,r):Mt(e)?n=e(r):n=Q.createElement("line",nO({},r,{className:"recharts-reference-line-line"})),n},q6e=function(e,r,n,i,s,o,l,c,u){var d=s.x,h=s.y,g=s.width,v=s.height;if(n){var y=u.y,x=e.y.apply(y,{position:o});if(Ro(u,"discard")&&!e.y.isInRange(x))return null;var _=[{x:d+g,y:x},{x:d,y:x}];return c==="left"?_.reverse():_}if(r){var S=u.x,N=e.x.apply(S,{position:o});if(Ro(u,"discard")&&!e.x.isInRange(N))return null;var C=[{x:N,y:h+v},{x:N,y:h}];return l==="top"?C.reverse():C}if(i){var A=u.segment,k=A.map(function(P){return e.apply(P,{position:o})});return Ro(u,"discard")&&MBe(k,function(P){return!e.isInRange(P)})?null:k}return null};function U6e(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=j6e(),d=lre(i),h=cre(s),g=C6e();if(!u||!g)return null;Ga(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=HI({x:d.scale,y:h.scale}),y=zn(e),x=zn(r),_=n&&n.length===2,S=q6e(v,y,x,_,g,t.position,d.orientation,h.orientation,t);if(!S)return null;var N=L6e(S,2),C=N[0],A=C.x,k=C.y,P=N[1],O=P.x,I=P.y,F=Ro(t,"hidden")?"url(#".concat(u,")"):void 0,H=XU(XU({clipPath:F},Wt(t,!0)),{},{x1:A,y1:k,x2:O,y2:I});return Q.createElement(Ur,{className:Gt("recharts-reference-line",l)},z6e(o,H),oi.renderCallByParent(t,d6e({x1:A,y1:k,x2:O,y2:I})))}var JI=function(t){function e(){return P6e(this,e),A6e(this,e,arguments)}return M6e(e,t),T6e(e,[{key:"render",value:function(){return Q.createElement(U6e,this.props)}}])}(Q.Component);XI(JI,"displayName","ReferenceLine");XI(JI,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function iO(){return iO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iO.apply(this,arguments)}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function QU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function eV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(r),!0).forEach(function(n){G1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hre(n.key),n)}}function H6e(t,e,r){return e&&W6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function K6e(t,e,r){return e=f_(e),G6e(t,fre()?Reflect.construct(e,r||[],f_(t).constructor):e.apply(t,r))}function G6e(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z6e(t)}function Z6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fre=function(){return!!t})()}function f_(t){return f_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f_(t)}function Y6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sO(t,e)}function sO(t,e){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sO(t,e)}function G1(t,e,r){return e=hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hre(t){var e=X6e(t,"string");return Ap(e)=="symbol"?e:e+""}function X6e(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var J6e=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=HI({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return Ro(e,"discard")&&!o.isInRange(l)?null:l},Z1=function(t){function e(){return V6e(this,e),K6e(this,e,arguments)}return Y6e(e,t),H6e(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=zn(i),d=zn(s);if(Ga(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var h=J6e(this.props);if(!h)return null;var g=h.x,v=h.y,y=this.props,x=y.shape,_=y.className,S=Ro(this.props,"hidden")?"url(#".concat(c,")"):void 0,N=eV(eV({clipPath:S},Wt(this.props,!0)),{},{cx:g,cy:v});return Q.createElement(Ur,{className:Gt("recharts-reference-dot",_)},e.renderDot(x,N),oi.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])}(Q.Component);G1(Z1,"displayName","ReferenceDot");G1(Z1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});G1(Z1,"renderDot",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):Mt(t)?r=t(e):r=Q.createElement(WI,iO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function aO(){return aO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aO.apply(this,arguments)}function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function tV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(r),!0).forEach(function(n){Y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mre(n.key),n)}}function t8e(t,e,r){return e&&e8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r8e(t,e,r){return e=h_(e),n8e(t,pre()?Reflect.construct(e,r||[],h_(t).constructor):e.apply(t,r))}function n8e(t,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return i8e(t)}function i8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pre=function(){return!!t})()}function h_(t){return h_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},h_(t)}function s8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&oO(t,e)}function oO(t,e){return oO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},oO(t,e)}function Y1(t,e,r){return e=mre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mre(t){var e=a8e(t,"string");return Op(e)=="symbol"?e:e+""}function a8e(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var o8e=function(e,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,h=s.yAxis;if(!d||!h)return null;var g=HI({x:d.scale,y:h.scale}),v={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},y={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return Ro(s,"discard")&&(!g.isInRange(v)||!g.isInRange(y))?null:tre(v,y)},X1=function(t){function e(){return Q6e(this,e),r8e(this,e,arguments)}return s8e(e,t),t8e(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ga(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=zn(i),g=zn(s),v=zn(o),y=zn(l),x=this.props.shape;if(!h&&!g&&!v&&!y&&!x)return null;var _=o8e(h,g,v,y,this.props);if(!_&&!x)return null;var S=Ro(this.props,"hidden")?"url(#".concat(d,")"):void 0;return Q.createElement(Ur,{className:Gt("recharts-reference-area",c)},e.renderRect(x,rV(rV({clipPath:S},Wt(this.props,!0)),_)),oi.renderCallByParent(this.props,_))}}])}(Q.Component);Y1(X1,"displayName","ReferenceArea");Y1(X1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Y1(X1,"renderRect",function(t,e){var r;return Q.isValidElement(t)?r=Q.cloneElement(t,e):Mt(t)?r=t(e):r=Q.createElement(VI,aO({},e,{className:"recharts-reference-area-rect"})),r});function gre(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function l8e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return h6e(n,r)}function c8e(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function p_(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function u8e(t,e){return gre(t,e+1)}function d8e(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,h=function(){var y=n?.[c];if(y===void 0)return{v:gre(n,u)};var x=c,_,S=function(){return _===void 0&&(_=r(y,x)),_},N=y.coordinate,C=c===0||p_(t,N,S,d,l);C||(c=0,d=o,u+=1),C&&(d=N+t*(S()/2+i),c+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function fy(t){"@babel/helpers - typeof";return fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fy(t)}function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){f8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function f8e(t,e,r){return e=h8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function h8e(t){var e=p8e(t,"string");return fy(e)=="symbol"?e:e+""}function p8e(t,e){if(fy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m8e(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(g){var v=s[g],y,x=function(){return y===void 0&&(y=r(v,g)),y};if(g===o-1){var _=t*(v.coordinate+t*x()/2-c);s[g]=v=ji(ji({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else s[g]=v=ji(ji({},v),{},{tickCoord:v.coordinate});var S=p_(t,v.tickCoord,x,l,c);S&&(c=v.tickCoord-t*(x()/2+i),s[g]=ji(ji({},v),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function g8e(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=n[l-1],h=r(d,l-1),g=t*(d.coordinate+t*h/2-u);o[l-1]=d=ji(ji({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var v=p_(t,d.tickCoord,function(){return h},c,u);v&&(u=d.tickCoord-t*(h/2+i),o[l-1]=ji(ji({},d),{},{isShow:!0}))}for(var y=s?l-1:l,x=function(N){var C=o[N],A,k=function(){return A===void 0&&(A=r(C,N)),A};if(N===0){var P=t*(C.coordinate-t*k()/2-c);o[N]=C=ji(ji({},C),{},{tickCoord:P<0?C.coordinate-P*t:C.coordinate})}else o[N]=C=ji(ji({},C),{},{tickCoord:C.coordinate});var O=p_(t,C.tickCoord,k,c,u);O&&(c=C.tickCoord+t*(k()/2+i),o[N]=ji(ji({},C),{},{isShow:!0}))},_=0;_<y;_++)x(_);return o}function QI(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,h=t.angle;if(!i||!i.length||!n)return[];if(et(c)||df.isSsr)return u8e(i,typeof c=="number"&&et(c)?c:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",y=d&&v==="width"?iv(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(C,A){var k=Mt(u)?u(C.value,A):C.value;return v==="width"?l8e(iv(k,{fontSize:e,letterSpacing:r}),y,h):iv(k,{fontSize:e,letterSpacing:r})[v]},_=i.length>=2?Fi(i[1].coordinate-i[0].coordinate):1,S=c8e(s,_,v);return c==="equidistantPreserveStart"?d8e(_,S,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=g8e(_,S,x,i,o,c==="preserveStartEnd"):g=m8e(_,S,x,i,o),g.filter(function(N){return N.isShow}))}var v8e=["viewBox"],y8e=["viewBox"],x8e=["ticks"];function Rp(t){"@babel/helpers - typeof";return Rp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rp(t)}function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bh.apply(this,arguments)}function iV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iV(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q2(t,e){if(t==null)return{};var r=b8e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function w8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yre(n.key),n)}}function _8e(t,e,r){return e&&sV(t.prototype,e),r&&sV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j8e(t,e,r){return e=m_(e),S8e(t,vre()?Reflect.construct(e,r||[],m_(t).constructor):e.apply(t,r))}function S8e(t,e){if(e&&(Rp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return N8e(t)}function N8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vre=function(){return!!t})()}function m_(t){return m_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},m_(t)}function C8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lO(t,e)}function lO(t,e){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},lO(t,e)}function eL(t,e,r){return e=yre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yre(t){var e=E8e(t,"string");return Rp(e)=="symbol"?e:e+""}function E8e(t,e){if(Rp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var mm=function(t){function e(r){var n;return w8e(this,e),n=j8e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return C8e(e,t),_8e(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=Q2(n,v8e),l=this.props,c=l.viewBox,u=Q2(l,y8e);return!Gh(s,c)||!Gh(o,u)||!Gh(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,h=i.mirror,g=i.tickMargin,v,y,x,_,S,N,C=h?-1:1,A=n.tickSize||d,k=et(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=y=n.coordinate,_=o+ +!h*c,x=_-C*A,N=x-C*g,S=k;break;case"left":x=_=n.coordinate,y=s+ +!h*l,v=y-C*A,S=v-C*g,N=k;break;case"right":x=_=n.coordinate,y=s+ +h*l,v=y+C*A,S=v+C*g,N=k;break;default:v=y=n.coordinate,_=o+ +h*c,x=_+C*A,N=x+C*g,S=k;break}return{line:{x1:v,y1:x,x2:y,y2:_},tick:{x:S,y:N}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,h=Ln(Ln(Ln({},Wt(this.props,!1)),Wt(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);h=Ln(Ln({},h),{},{x1:i,y1:s+g*l,x2:i+o,y2:s+g*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);h=Ln(Ln({},h),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return Q.createElement("line",Bh({},h,{className:Gt("recharts-cartesian-axis-line",Is(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,h=l.tickFormatter,g=l.unit,v=QI(Ln(Ln({},this.props),{},{ticks:n}),i,s),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=Wt(this.props,!1),S=Wt(d,!1),N=Ln(Ln({},_),{},{fill:"none"},Wt(c,!1)),C=v.map(function(A,k){var P=o.getTickLineCoord(A),O=P.line,I=P.tick,F=Ln(Ln(Ln(Ln({textAnchor:y,verticalAnchor:x},_),{},{stroke:"none",fill:u},S),I),{},{index:k,payload:A,visibleTicksCount:v.length,tickFormatter:h});return Q.createElement(Ur,Bh({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Av(o.props,A,k)),c&&Q.createElement("line",Bh({},N,O,{className:Gt("recharts-cartesian-axis-tick-line",Is(c,"className"))})),d&&e.renderTickItem(d,F,"".concat(Mt(h)?h(A.value,k):A.value).concat(g||"")))});return Q.createElement("g",{className:"recharts-cartesian-axis-ticks"},C)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var h=this.props,g=h.ticks,v=Q2(h,x8e),y=g;return Mt(c)&&(y=g&&g.length>0?c(this.props):c(v)),o<=0||l<=0||!y||!y.length?null:Q.createElement(Ur,{className:Gt("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),oi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=Gt(i.className,"recharts-cartesian-axis-tick-value");return Q.isValidElement(n)?o=Q.cloneElement(n,Ln(Ln({},i),{},{className:l})):Mt(n)?o=n(Ln(Ln({},i),{},{className:l})):o=Q.createElement(Bv,Bh({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(b.Component);eL(mm,"displayName","CartesianAxis");eL(mm,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var P8e=["x1","y1","x2","y2","key"],k8e=["offset"];function Yd(t){"@babel/helpers - typeof";return Yd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yd(t)}function aV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ni(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aV(Object(r),!0).forEach(function(n){T8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T8e(t,e,r){return e=A8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A8e(t){var e=O8e(t,"string");return Yd(e)=="symbol"?e:e+""}function O8e(t,e){if(Yd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Yd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cd(){return Cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cd.apply(this,arguments)}function oV(t,e){if(t==null)return{};var r=R8e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var M8e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return Q.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function xre(t,e){var r;if(Q.isValidElement(t))r=Q.cloneElement(t,e);else if(Mt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=oV(e,P8e),u=Wt(c,!1);u.offset;var d=oV(u,k8e);r=Q.createElement("line",Cd({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function I8e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Ni(Ni({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return xre(i,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function L8e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=Ni(Ni({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return xre(i,u)});return Q.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function D8e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==d[0]&&d.unshift(0);var h=d.map(function(g,v){var y=!d[v+1],x=y?i+o-g:d[v+1]-g;if(x<=0)return null;var _=v%e.length;return Q.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:x,width:s,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function $8e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==d[0]&&d.unshift(0);var h=d.map(function(g,v){var y=!d[v+1],x=y?s+l-g:d[v+1]-g;if(x<=0)return null;var _=v%n.length;return Q.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:x,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Q.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var F8e=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return Tte(QI(Ni(Ni(Ni({},mm.defaultProps),n),{},{ticks:jl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},B8e=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return Tte(QI(Ni(Ni(Ni({},mm.defaultProps),n),{},{ticks:jl(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},_h={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Kg(t){var e,r,n,i,s,o,l=ZI(),c=YI(),u=E6e(),d=Ni(Ni({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:_h.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:_h.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:_h.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:_h.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:_h.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:_h.verticalFill,x:et(t.x)?t.x:u.left,y:et(t.y)?t.y:u.top,width:et(t.width)?t.width:u.width,height:et(t.height)?t.height:u.height}),h=d.x,g=d.y,v=d.width,y=d.height,x=d.syncWithTicks,_=d.horizontalValues,S=d.verticalValues,N=S6e(),C=N6e();if(!et(v)||v<=0||!et(y)||y<=0||!et(h)||h!==+h||!et(g)||g!==+g)return null;var A=d.verticalCoordinatesGenerator||F8e,k=d.horizontalCoordinatesGenerator||B8e,P=d.horizontalPoints,O=d.verticalPoints;if((!P||!P.length)&&Mt(k)){var I=_&&_.length,F=k({yAxis:C?Ni(Ni({},C),{},{ticks:I?_:C.ticks}):void 0,width:l,height:c,offset:u},I?!0:x);Ga(Array.isArray(F),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Yd(F),"]")),Array.isArray(F)&&(P=F)}if((!O||!O.length)&&Mt(A)){var H=S&&S.length,V=A({xAxis:N?Ni(Ni({},N),{},{ticks:H?S:N.ticks}):void 0,width:l,height:c,offset:u},H?!0:x);Ga(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Yd(V),"]")),Array.isArray(V)&&(O=V)}return Q.createElement("g",{className:"recharts-cartesian-grid"},Q.createElement(M8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),Q.createElement(I8e,Cd({},d,{offset:u,horizontalPoints:P,xAxis:N,yAxis:C})),Q.createElement(L8e,Cd({},d,{offset:u,verticalPoints:O,xAxis:N,yAxis:C})),Q.createElement(D8e,Cd({},d,{horizontalPoints:P})),Q.createElement($8e,Cd({},d,{verticalPoints:O})))}Kg.displayName="CartesianGrid";var z8e=["type","layout","connectNulls","ref"],q8e=["key"];function Mp(t){"@babel/helpers - typeof";return Mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mp(t)}function lV(t,e){if(t==null)return{};var r=U8e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lv.apply(this,arguments)}function cV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ss(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cV(Object(r),!0).forEach(function(n){Da(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jh(t){return K8e(t)||H8e(t)||W8e(t)||V8e()}function V8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8e(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function H8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function K8e(t){if(Array.isArray(t))return cO(t)}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wre(n.key),n)}}function Z8e(t,e,r){return e&&uV(t.prototype,e),r&&uV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Y8e(t,e,r){return e=g_(e),X8e(t,bre()?Reflect.construct(e,r||[],g_(t).constructor):e.apply(t,r))}function X8e(t,e){if(e&&(Mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return J8e(t)}function J8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bre=function(){return!!t})()}function g_(t){return g_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},g_(t)}function Q8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uO(t,e)}function uO(t,e){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},uO(t,e)}function Da(t,e,r){return e=wre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wre(t){var e=eze(t,"string");return Mp(e)=="symbol"?e:e+""}function eze(t,e){if(Mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hy=function(t){function e(){var r;G8e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Y8e(this,e,[].concat(i)),Da(r,"state",{isAnimationFinished:!0,totalLength:0}),Da(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Da(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(S,N){return S+N});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),h=o%u,g=l-o,v=[],y=0,x=0;y<c.length;x+=c[y],++y)if(x+c[y]>h){v=[].concat(jh(c.slice(0,y)),[h-x]);break}var _=v.length%2===0?[0,g]:[g];return[].concat(jh(e.repeat(c,d)),jh(v),_).map(function(S){return"".concat(S,"px")}).join(", ")}),Da(r,"id",um("recharts-line-")),Da(r,"pathRef",function(o){r.mainCurve=o}),Da(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Da(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Q8e(e,t),Z8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,h=Ls(d,sx);if(!h)return null;var g=function(x,_){return{x:x.x,y:x.y,value:x.value,errorVal:Bn(x.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return Q.createElement(Ur,v,h.map(function(y){return Q.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,h=Wt(this.props,!1),g=Wt(c,!0),v=u.map(function(x,_){var S=Ss(Ss(Ss({key:"dot-".concat(_),r:3},h),g),{},{index:_,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return e.renderDotItem(c,S)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return Q.createElement(Ur,lv({className:"recharts-line-dots",key:"dots"},y),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var h=lV(l,z8e),g=Ss(Ss(Ss({},Wt(h,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return Q.createElement(Jw,lv({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,h=o.animationDuration,g=o.animationEasing,v=o.animationId,y=o.animateNewValues,x=o.width,_=o.height,S=this.state,N=S.prevPoints,C=S.totalLength;return Q.createElement(zo,{begin:d,duration:h,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var k=A.t;if(N){var P=N.length/l.length,O=l.map(function(U,z){var W=Math.floor(z*P);if(N[W]){var J=N[W],se=Ts(J.x,U.x),K=Ts(J.y,U.y);return Ss(Ss({},U),{},{x:se(k),y:K(k)})}if(y){var ee=Ts(x*2,U.x),G=Ts(_/2,U.y);return Ss(Ss({},U),{},{x:ee(k),y:G(k)})}return Ss(Ss({},U),{},{x:U.x,y:U.y})});return s.renderCurveStatically(O,n,i)}var I=Ts(0,C),F=I(k),H;if(c){var V="".concat(c).split(/[,\s]+/gim).map(function(U){return parseFloat(U)});H=s.getStrokeDasharray(F,C,V)}else H=s.generateSimpleStrokeDasharray(C,F);return s.renderCurveStatically(l,n,i,{strokeDasharray:H})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!ix(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,h=i.top,g=i.left,v=i.width,y=i.height,x=i.isAnimationActive,_=i.id;if(s||!l||!l.length)return null;var S=this.state.isAnimationFinished,N=l.length===1,C=Gt("recharts-line",c),A=u&&u.allowDataOverflow,k=d&&d.allowDataOverflow,P=A||k,O=Lt(_)?this.id:_,I=(n=Wt(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},F=I.r,H=F===void 0?3:F,V=I.strokeWidth,U=V===void 0?2:V,z=dAe(o)?o:{},W=z.clipDot,J=W===void 0?!0:W,se=H*2+U;return Q.createElement(Ur,{className:C},A||k?Q.createElement("defs",null,Q.createElement("clipPath",{id:"clipPath-".concat(O)},Q.createElement("rect",{x:A?g:g-v/2,y:k?h:h-y/2,width:A?v:v*2,height:k?y:y*2})),!J&&Q.createElement("clipPath",{id:"clipPath-dots-".concat(O)},Q.createElement("rect",{x:g-se/2,y:h-se/2,width:v+se,height:y+se}))):null,!N&&this.renderCurve(P,O),this.renderErrorBar(P,O),(N||o)&&this.renderDots(P,J,O),(!x||S)&&Ml.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(jh(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(jh(o),jh(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(Q.isValidElement(n))s=Q.cloneElement(n,i);else if(Mt(n))s=n(i);else{var o=i.key,l=lV(i,q8e),c=Gt("recharts-line-dot",typeof n!="boolean"?n.className:"");s=Q.createElement(WI,lv({key:o},l,{className:c}))}return s}}])}(b.PureComponent);Da(hy,"displayName","Line");Da(hy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!df.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Da(hy,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,h=c.map(function(g,v){var y=Bn(g,o);return d==="horizontal"?{x:_q({axis:r,ticks:i,bandSize:l,entry:g,index:v}),y:Lt(y)?null:n.scale(y),value:y,payload:g}:{x:Lt(y)?null:r.scale(y),y:_q({axis:n,ticks:s,bandSize:l,entry:g,index:v}),value:y,payload:g}});return Ss({points:h,layout:d},u)});function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function tze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Sre(n.key),n)}}function nze(t,e,r){return e&&rze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ize(t,e,r){return e=v_(e),sze(t,_re()?Reflect.construct(e,r||[],v_(t).constructor):e.apply(t,r))}function sze(t,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aze(t)}function aze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _re(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_re=function(){return!!t})()}function v_(t){return v_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v_(t)}function oze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dO(t,e)}function dO(t,e){return dO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},dO(t,e)}function jre(t,e,r){return e=Sre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sre(t){var e=lze(t,"string");return Ip(e)=="symbol"?e:e+""}function lze(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function fO(){return fO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fO.apply(this,arguments)}function cze(t){var e=t.xAxisId,r=ZI(),n=YI(),i=lre(e);return i==null?null:b.createElement(mm,fO({},i,{className:Gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return jl(o,!0)}}))}var Ed=function(t){function e(){return tze(this,e),ize(this,e,arguments)}return oze(e,t),nze(e,[{key:"render",value:function(){return b.createElement(cze,this.props)}}])}(b.Component);jre(Ed,"displayName","XAxis");jre(Ed,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function uze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ere(n.key),n)}}function fze(t,e,r){return e&&dze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hze(t,e,r){return e=y_(e),pze(t,Nre()?Reflect.construct(e,r||[],y_(t).constructor):e.apply(t,r))}function pze(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mze(t)}function mze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nre=function(){return!!t})()}function y_(t){return y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y_(t)}function gze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hO(t,e)}function hO(t,e){return hO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},hO(t,e)}function Cre(t,e,r){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ere(t){var e=vze(t,"string");return Lp(e)=="symbol"?e:e+""}function vze(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pO.apply(this,arguments)}var yze=function(e){var r=e.yAxisId,n=ZI(),i=YI(),s=cre(r);return s==null?null:b.createElement(mm,pO({},s,{className:Gt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return jl(l,!0)}}))},Pd=function(t){function e(){return uze(this,e),hze(this,e,arguments)}return gze(e,t),fze(e,[{key:"render",value:function(){return b.createElement(yze,this.props)}}])}(b.Component);Cre(Pd,"displayName","YAxis");Cre(Pd,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function dV(t){return _ze(t)||wze(t)||bze(t)||xze()}function xze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bze(t,e){if(t){if(typeof t=="string")return mO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mO(t,e)}}function wze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _ze(t){if(Array.isArray(t))return mO(t)}function mO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gO=function(e,r,n,i,s){var o=Ls(e,JI),l=Ls(e,Z1),c=[].concat(dV(o),dV(l)),u=Ls(e,X1),d="".concat(i,"Id"),h=i[0],g=r;if(c.length&&(g=c.reduce(function(x,_){if(_.props[d]===n&&Ro(_.props,"extendDomain")&&et(_.props[h])){var S=_.props[h];return[Math.min(x[0],S),Math.max(x[1],S)]}return x},g)),u.length){var v="".concat(h,"1"),y="".concat(h,"2");g=u.reduce(function(x,_){if(_.props[d]===n&&Ro(_.props,"extendDomain")&&et(_.props[v])&&et(_.props[y])){var S=_.props[v],N=_.props[y];return[Math.min(x[0],S,N),Math.max(x[1],S,N)]}return x},g)}return s&&s.length&&(g=s.reduce(function(x,_){return et(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},g)),g},ek={exports:{}},fV;function jze(){return fV||(fV=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,h,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,h||c,g),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],v]:c._events[y].push(v):(c._events[y]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,h;if(this._eventsCount===0)return u;for(h in d=this._events)e.call(d,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,h=this._events[d];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,y=new Array(v);g<v;g++)y[g]=h[g].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,h=this._events[d];return h?h.fn?1:h.length:0},l.prototype.emit=function(u,d,h,g,v,y){var x=r?r+u:u;if(!this._events[x])return!1;var _=this._events[x],S=arguments.length,N,C;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,h),!0;case 4:return _.fn.call(_.context,d,h,g),!0;case 5:return _.fn.call(_.context,d,h,g,v),!0;case 6:return _.fn.call(_.context,d,h,g,v,y),!0}for(C=1,N=new Array(S-1);C<S;C++)N[C-1]=arguments[C];_.fn.apply(_.context,N)}else{var A=_.length,k;for(C=0;C<A;C++)switch(_[C].once&&this.removeListener(u,_[C].fn,void 0,!0),S){case 1:_[C].fn.call(_[C].context);break;case 2:_[C].fn.call(_[C].context,d);break;case 3:_[C].fn.call(_[C].context,d,h);break;case 4:_[C].fn.call(_[C].context,d,h,g);break;default:if(!N)for(k=1,N=new Array(S-1);k<S;k++)N[k-1]=arguments[k];_[C].fn.apply(_[C].context,N)}}return!0},l.prototype.on=function(u,d,h){return s(this,u,d,h,!1)},l.prototype.once=function(u,d,h){return s(this,u,d,h,!0)},l.prototype.removeListener=function(u,d,h,g){var v=r?r+u:u;if(!this._events[v])return this;if(!d)return o(this,v),this;var y=this._events[v];if(y.fn)y.fn===d&&(!g||y.once)&&(!h||y.context===h)&&o(this,v);else{for(var x=0,_=[],S=y.length;x<S;x++)(y[x].fn!==d||g&&!y[x].once||h&&y[x].context!==h)&&_.push(y[x]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(ek)),ek.exports}var Sze=jze();const Nze=pr(Sze);var tk=new Nze,rk="recharts.syncMouseEvents";function py(t){"@babel/helpers - typeof";return py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},py(t)}function Cze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Eze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Pre(n.key),n)}}function Pze(t,e,r){return e&&Eze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function nk(t,e,r){return e=Pre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pre(t){var e=kze(t,"string");return py(e)=="symbol"?e:e+""}function kze(t,e){if(py(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(py(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Tze=function(){function t(){Cze(this,t),nk(this,"activeIndex",0),nk(this,"coordinateList",[]),nk(this,"layout","horizontal")}return Pze(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,h=d===void 0?null:d,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=h??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,h=s+c+u,g=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:h,pageY:g})}}}])}();function Aze(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&et(n)&&et(i))return!0}return!1}function Oze(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function kre(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=Pn(e,r,n,i),l=Pn(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function Rze(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,h=e.angle,g=Pn(l,c,u,h),v=Pn(l,c,d,h);n=g.x,i=g.y,s=v.x,o=v.y}else return kre(e);return[{x:n,y:i},{x:s,y:o}]}function my(t){"@babel/helpers - typeof";return my=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},my(t)}function hV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(r),!0).forEach(function(n){Mze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mze(t,e,r){return e=Ize(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ize(t){var e=Lze(t,"string");return my(e)=="symbol"?e:e+""}function Lze(t,e){if(my(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(my(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dze(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,h=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var y,x=Jw;if(g==="ScatterChart")y=o,x=P5e;else if(g==="BarChart")y=Oze(h,o,c,d),x=VI;else if(h==="radial"){var _=kre(o),S=_.cx,N=_.cy,C=_.radius,A=_.startAngle,k=_.endAngle;y={cx:S,cy:N,startAngle:A,endAngle:k,innerRadius:C,outerRadius:C},x=Ite}else y={points:Rze(h,o,c)},x=Jw;var P=hb(hb(hb(hb({stroke:"#ccc",pointerEvents:"none"},c),y),Wt(v,!1)),{},{payload:l,payloadIndex:u,className:Gt("recharts-tooltip-cursor",v.className)});return b.isValidElement(v)?b.cloneElement(v,P):b.createElement(x,P)}var $ze=["item"],Fze=["children","className","width","height","style","compact","title","desc"];function Dp(t){"@babel/helpers - typeof";return Dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dp(t)}function zh(){return zh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zh.apply(this,arguments)}function pV(t,e){return qze(t)||zze(t,e)||Are(t,e)||Bze()}function Bze(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zze(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qze(t){if(Array.isArray(t))return t}function mV(t,e){if(t==null)return{};var r=Uze(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wze(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ore(n.key),n)}}function Hze(t,e,r){return e&&Wze(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kze(t,e,r){return e=x_(e),Gze(t,Tre()?Reflect.construct(e,r||[],x_(t).constructor):e.apply(t,r))}function Gze(t,e){if(e&&(Dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zze(t)}function Zze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Tre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Tre=function(){return!!t})()}function x_(t){return x_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},x_(t)}function Yze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vO(t,e)}function vO(t,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},vO(t,e)}function $p(t){return Qze(t)||Jze(t)||Are(t)||Xze()}function Xze(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return yO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yO(t,e)}}function Jze(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Qze(t){if(Array.isArray(t))return yO(t)}function yO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gV(Object(r),!0).forEach(function(n){jt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jt(t,e,r){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ore(t){var e=eqe(t,"string");return Dp(e)=="symbol"?e:e+""}function eqe(t,e){if(Dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tqe={xAxis:["bottom","top"],yAxis:["left","right"]},rqe={width:"100%",height:"100%"},Rre={x:0,y:0};function pb(t){return t}var nqe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},iqe=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return Fe(Fe(Fe({},i),Pn(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return Fe(Fe(Fe({},i),Pn(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return Rre},J1=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat($p(l),$p(u)):l},[]);return o.length>0?o:e&&e.length&&et(i)&&et(s)?e.slice(i,s+1):[]};function Mre(t){return t==="number"?[0,"auto"]:void 0}var xO=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=J1(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,h=(d=u.props.data)!==null&&d!==void 0?d:r;h&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(h=h.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=h===void 0?l:h;g=Sw(v,o.dataKey,i)}else g=h&&h[n]||l[n];return g?[].concat($p(c),[Ote(u,g)]):c},[])},vV=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=nqe(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=u$e(o,l,u,c);if(d>=0&&u){var h=u[d]&&u[d].value,g=xO(e,r,d,h),v=iqe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:h,activePayload:g,activeCoordinate:v}}return null},sqe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,g=e.stackOffset,v=kte(d,s);return n.reduce(function(y,x){var _,S=x.type.defaultProps!==void 0?Fe(Fe({},x.type.defaultProps),x.props):x.props,N=S.type,C=S.dataKey,A=S.allowDataOverflow,k=S.allowDuplicatedCategory,P=S.scale,O=S.ticks,I=S.includeHidden,F=S[o];if(y[F])return y;var H=J1(e.data,{graphicalItems:i.filter(function(oe){var xe,Ne=o in oe.props?oe.props[o]:(xe=oe.type.defaultProps)===null||xe===void 0?void 0:xe[o];return Ne===F}),dataStartIndex:c,dataEndIndex:u}),V=H.length,U,z,W;Aze(S.domain,A,N)&&(U=LA(S.domain,null,A),v&&(N==="number"||P!=="auto")&&(W=av(H,C,"category")));var J=Mre(N);if(!U||U.length===0){var se,K=(se=S.domain)!==null&&se!==void 0?se:J;if(C){if(U=av(H,C,N),N==="category"&&v){var ee=tAe(U);k&&ee?(z=U,U=a_(0,V)):k||(U=Cq(K,U,x).reduce(function(oe,xe){return oe.indexOf(xe)>=0?oe:[].concat($p(oe),[xe])},[]))}else if(N==="category")k?U=U.filter(function(oe){return oe!==""&&!Lt(oe)}):U=Cq(K,U,x).reduce(function(oe,xe){return oe.indexOf(xe)>=0||xe===""||Lt(xe)?oe:[].concat($p(oe),[xe])},[]);else if(N==="number"){var G=m$e(H,i.filter(function(oe){var xe,Ne,Le=o in oe.props?oe.props[o]:(xe=oe.type.defaultProps)===null||xe===void 0?void 0:xe[o],ce="hide"in oe.props?oe.props.hide:(Ne=oe.type.defaultProps)===null||Ne===void 0?void 0:Ne.hide;return Le===F&&(I||!ce)}),C,s,d);G&&(U=G)}v&&(N==="number"||P!=="auto")&&(W=av(H,C,"category"))}else v?U=a_(0,V):l&&l[F]&&l[F].hasStack&&N==="number"?U=g==="expand"?[0,1]:Ate(l[F].stackGroups,c,u):U=Pte(H,i.filter(function(oe){var xe=o in oe.props?oe.props[o]:oe.type.defaultProps[o],Ne="hide"in oe.props?oe.props.hide:oe.type.defaultProps.hide;return xe===F&&(I||!Ne)}),N,d,!0);if(N==="number")U=gO(h,U,F,s,O),K&&(U=LA(K,U,A));else if(N==="category"&&K){var ne=K,Y=U.every(function(oe){return ne.indexOf(oe)>=0});Y&&(U=ne)}}return Fe(Fe({},y),{},jt({},F,Fe(Fe({},S),{},{axisType:s,domain:U,categoricalDomain:W,duplicateDomain:z,originalDomain:(_=S.domain)!==null&&_!==void 0?_:J,isCategorical:v,layout:d})))},{})},aqe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,h=e.children,g=J1(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=g.length,y=kte(d,s),x=-1;return n.reduce(function(_,S){var N=S.type.defaultProps!==void 0?Fe(Fe({},S.type.defaultProps),S.props):S.props,C=N[o],A=Mre("number");if(!_[C]){x++;var k;return y?k=a_(0,v):l&&l[C]&&l[C].hasStack?(k=Ate(l[C].stackGroups,c,u),k=gO(h,k,C,s)):(k=LA(A,Pte(g,n.filter(function(P){var O,I,F=o in P.props?P.props[o]:(O=P.type.defaultProps)===null||O===void 0?void 0:O[o],H="hide"in P.props?P.props.hide:(I=P.type.defaultProps)===null||I===void 0?void 0:I.hide;return F===C&&!H}),"number",d),i.defaultProps.allowDataOverflow),k=gO(h,k,C,s)),Fe(Fe({},_),{},jt({},C,Fe(Fe({axisType:s},i.defaultProps),{},{hide:!0,orientation:Is(tqe,"".concat(s,".").concat(x%2),null),domain:k,originalDomain:A,isCategorical:y,layout:d})))}return _},{})},oqe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,h="".concat(i,"Id"),g=Ls(d,s),v={};return g&&g.length?v=sqe(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=aqe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:h,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},lqe=function(e){var r=Qc(e),n=jl(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vI(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zw(r,n)}},yV=function(e){var r=e.children,n=e.defaultShowTooltip,i=Cs(r,Pp),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},cqe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ol(r&&r.type);return n&&n.indexOf("Bar")>=0})},xV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},uqe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,h=n.children,g=n.margin||{},v=Cs(h,Pp),y=Cs(h,cu),x=Object.keys(c).reduce(function(k,P){var O=c[P],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},k),{},jt({},I,k[I]+O.width)):k},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(k,P){var O=o[P],I=O.orientation;return!O.mirror&&!O.hide?Fe(Fe({},k),{},jt({},I,Is(k,"".concat(I))+O.height)):k},{top:g.top||0,bottom:g.bottom||0}),S=Fe(Fe({},_),x),N=S.bottom;v&&(S.bottom+=v.props.height||Pp.defaultProps.height),y&&r&&(S=h$e(S,i,n,r));var C=u-S.left-S.right,A=d-S.top-S.bottom;return Fe(Fe({brushBottom:N},S),{},{width:Math.max(C,0),height:Math.max(A,0)})},dqe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},fqe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,h=e.defaultProps,g=function(S,N){var C=N.graphicalItems,A=N.stackGroups,k=N.offset,P=N.updateId,O=N.dataStartIndex,I=N.dataEndIndex,F=S.barSize,H=S.layout,V=S.barGap,U=S.barCategoryGap,z=S.maxBarSize,W=xV(H),J=W.numericAxisName,se=W.cateAxisName,K=cqe(C),ee=[];return C.forEach(function(G,ne){var Y=J1(S.data,{graphicalItems:[G],dataStartIndex:O,dataEndIndex:I}),oe=G.type.defaultProps!==void 0?Fe(Fe({},G.type.defaultProps),G.props):G.props,xe=oe.dataKey,Ne=oe.maxBarSize,Le=oe["".concat(J,"Id")],ce=oe["".concat(se,"Id")],ae={},ge=c.reduce(function(je,Ae){var Ze=N["".concat(Ae.axisType,"Map")],Xe=oe["".concat(Ae.axisType,"Id")];Ze&&Ze[Xe]||Ae.axisType==="zAxis"||Zd();var me=Ze[Xe];return Fe(Fe({},je),{},jt(jt({},Ae.axisType,me),"".concat(Ae.axisType,"Ticks"),jl(me)))},ae),he=ge[se],Pe=ge["".concat(se,"Ticks")],te=A&&A[Le]&&A[Le].hasStack&&E$e(G,A[Le].stackGroups),X=Ol(G.type).indexOf("Bar")>=0,_e=Zw(he,Pe),we=[],We=K&&d$e({barSize:F,stackGroups:A,totalSize:dqe(ge,se)});if(X){var Ue,Ce,ot=Lt(Ne)?z:Ne,Dt=(Ue=(Ce=Zw(he,Pe,!0))!==null&&Ce!==void 0?Ce:ot)!==null&&Ue!==void 0?Ue:0;we=f$e({barGap:V,barCategoryGap:U,bandSize:Dt!==_e?Dt:_e,sizeList:We[ce],maxBarSize:ot}),Dt!==_e&&(we=we.map(function(je){return Fe(Fe({},je),{},{position:Fe(Fe({},je.position),{},{offset:je.position.offset-Dt/2})})}))}var fe=G&&G.type&&G.type.getComposedData;fe&&ee.push({props:Fe(Fe({},fe(Fe(Fe({},ge),{},{displayedData:Y,props:S,dataKey:xe,item:G,bandSize:_e,barPosition:we,offset:k,stackedData:te,layout:H,dataStartIndex:O,dataEndIndex:I}))),{},jt(jt(jt({key:G.key||"item-".concat(ne)},J,ge[J]),se,ge[se]),"animationId",P)),childIndex:pAe(G,S.children),item:G})}),ee},v=function(S,N){var C=S.props,A=S.dataStartIndex,k=S.dataEndIndex,P=S.updateId;if(!BB({props:C}))return null;var O=C.children,I=C.layout,F=C.stackOffset,H=C.data,V=C.reverseStackOrder,U=xV(I),z=U.numericAxisName,W=U.cateAxisName,J=Ls(O,n),se=S$e(H,J,"".concat(z,"Id"),"".concat(W,"Id"),F,V),K=c.reduce(function(oe,xe){var Ne="".concat(xe.axisType,"Map");return Fe(Fe({},oe),{},jt({},Ne,oqe(C,Fe(Fe({},xe),{},{graphicalItems:J,stackGroups:xe.axisType===z&&se,dataStartIndex:A,dataEndIndex:k}))))},{}),ee=uqe(Fe(Fe({},K),{},{props:C,graphicalItems:J}),N?.legendBBox);Object.keys(K).forEach(function(oe){K[oe]=d(C,K[oe],ee,oe.replace("Map",""),r)});var G=K["".concat(W,"Map")],ne=lqe(G),Y=g(C,Fe(Fe({},K),{},{dataStartIndex:A,dataEndIndex:k,updateId:P,graphicalItems:J,stackGroups:se,offset:ee}));return Fe(Fe({formattedGraphicalItems:Y,graphicalItems:J,offset:ee,stackGroups:se},ne),K)},y=function(_){function S(N){var C,A,k;return Vze(this,S),k=Kze(this,S,[N]),jt(k,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(k,"accessibilityManager",new Tze),jt(k,"handleLegendBBoxUpdate",function(P){if(P){var O=k.state,I=O.dataStartIndex,F=O.dataEndIndex,H=O.updateId;k.setState(Fe({legendBBox:P},v({props:k.props,dataStartIndex:I,dataEndIndex:F,updateId:H},Fe(Fe({},k.state),{},{legendBBox:P}))))}}),jt(k,"handleReceiveSyncEvent",function(P,O,I){if(k.props.syncId===P){if(I===k.eventEmitterSymbol&&typeof k.props.syncMethod!="function")return;k.applySyncEvent(O)}}),jt(k,"handleBrushChange",function(P){var O=P.startIndex,I=P.endIndex;if(O!==k.state.dataStartIndex||I!==k.state.dataEndIndex){var F=k.state.updateId;k.setState(function(){return Fe({dataStartIndex:O,dataEndIndex:I},v({props:k.props,dataStartIndex:O,dataEndIndex:I,updateId:F},k.state))}),k.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),jt(k,"handleMouseEnter",function(P){var O=k.getMouseInfo(P);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var F=k.props.onMouseEnter;Mt(F)&&F(I,P)}}),jt(k,"triggeredAfterMouseMove",function(P){var O=k.getMouseInfo(P),I=O?Fe(Fe({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};k.setState(I),k.triggerSyncEvent(I);var F=k.props.onMouseMove;Mt(F)&&F(I,P)}),jt(k,"handleItemMouseEnter",function(P){k.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),jt(k,"handleItemMouseLeave",function(){k.setState(function(){return{isTooltipActive:!1}})}),jt(k,"handleMouseMove",function(P){P.persist(),k.throttleTriggeredAfterMouseMove(P)}),jt(k,"handleMouseLeave",function(P){k.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};k.setState(O),k.triggerSyncEvent(O);var I=k.props.onMouseLeave;Mt(I)&&I(O,P)}),jt(k,"handleOuterEvent",function(P){var O=hAe(P),I=Is(k.props,"".concat(O));if(O&&Mt(I)){var F,H;/.*touch.*/i.test(O)?H=k.getMouseInfo(P.changedTouches[0]):H=k.getMouseInfo(P),I((F=H)!==null&&F!==void 0?F:{},P)}}),jt(k,"handleClick",function(P){var O=k.getMouseInfo(P);if(O){var I=Fe(Fe({},O),{},{isTooltipActive:!0});k.setState(I),k.triggerSyncEvent(I);var F=k.props.onClick;Mt(F)&&F(I,P)}}),jt(k,"handleMouseDown",function(P){var O=k.props.onMouseDown;if(Mt(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"handleMouseUp",function(P){var O=k.props.onMouseUp;if(Mt(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),jt(k,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseDown(P.changedTouches[0])}),jt(k,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&k.handleMouseUp(P.changedTouches[0])}),jt(k,"handleDoubleClick",function(P){var O=k.props.onDoubleClick;if(Mt(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"handleContextMenu",function(P){var O=k.props.onContextMenu;if(Mt(O)){var I=k.getMouseInfo(P);O(I,P)}}),jt(k,"triggerSyncEvent",function(P){k.props.syncId!==void 0&&tk.emit(rk,k.props.syncId,P,k.eventEmitterSymbol)}),jt(k,"applySyncEvent",function(P){var O=k.props,I=O.layout,F=O.syncMethod,H=k.state.updateId,V=P.dataStartIndex,U=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)k.setState(Fe({dataStartIndex:V,dataEndIndex:U},v({props:k.props,dataStartIndex:V,dataEndIndex:U,updateId:H},k.state)));else if(P.activeTooltipIndex!==void 0){var z=P.chartX,W=P.chartY,J=P.activeTooltipIndex,se=k.state,K=se.offset,ee=se.tooltipTicks;if(!K)return;if(typeof F=="function")J=F(ee,P);else if(F==="value"){J=-1;for(var G=0;G<ee.length;G++)if(ee[G].value===P.activeLabel){J=G;break}}var ne=Fe(Fe({},K),{},{x:K.left,y:K.top}),Y=Math.min(z,ne.x+ne.width),oe=Math.min(W,ne.y+ne.height),xe=ee[J]&&ee[J].value,Ne=xO(k.state,k.props.data,J),Le=ee[J]?{x:I==="horizontal"?ee[J].coordinate:Y,y:I==="horizontal"?oe:ee[J].coordinate}:Rre;k.setState(Fe(Fe({},P),{},{activeLabel:xe,activeCoordinate:Le,activePayload:Ne,activeTooltipIndex:J}))}else k.setState(P)}),jt(k,"renderCursor",function(P){var O,I=k.state,F=I.isTooltipActive,H=I.activeCoordinate,V=I.activePayload,U=I.offset,z=I.activeTooltipIndex,W=I.tooltipAxisBandSize,J=k.getTooltipEventType(),se=(O=P.props.active)!==null&&O!==void 0?O:F,K=k.props.layout,ee=P.key||"_recharts-cursor";return Q.createElement(Dze,{key:ee,activeCoordinate:H,activePayload:V,activeTooltipIndex:z,chartName:r,element:P,isActive:se,layout:K,offset:U,tooltipAxisBandSize:W,tooltipEventType:J})}),jt(k,"renderPolarAxis",function(P,O,I){var F=Is(P,"type.axisType"),H=Is(k.state,"".concat(F,"Map")),V=P.type.defaultProps,U=V!==void 0?Fe(Fe({},V),P.props):P.props,z=H&&H[U["".concat(F,"Id")]];return b.cloneElement(P,Fe(Fe({},z),{},{className:Gt(F,z.className),key:P.key||"".concat(O,"-").concat(I),ticks:jl(z,!0)}))}),jt(k,"renderPolarGrid",function(P){var O=P.props,I=O.radialLines,F=O.polarAngles,H=O.polarRadius,V=k.state,U=V.radiusAxisMap,z=V.angleAxisMap,W=Qc(U),J=Qc(z),se=J.cx,K=J.cy,ee=J.innerRadius,G=J.outerRadius;return b.cloneElement(P,{polarAngles:Array.isArray(F)?F:jl(J,!0).map(function(ne){return ne.coordinate}),polarRadius:Array.isArray(H)?H:jl(W,!0).map(function(ne){return ne.coordinate}),cx:se,cy:K,innerRadius:ee,outerRadius:G,key:P.key||"polar-grid",radialLines:I})}),jt(k,"renderLegend",function(){var P=k.state.formattedGraphicalItems,O=k.props,I=O.children,F=O.width,H=O.height,V=k.props.margin||{},U=F-(V.left||0)-(V.right||0),z=Cte({children:I,formattedGraphicalItems:P,legendWidth:U,legendContent:u});if(!z)return null;var W=z.item,J=mV(z,$ze);return b.cloneElement(W,Fe(Fe({},J),{},{chartWidth:F,chartHeight:H,margin:V,onBBoxUpdate:k.handleLegendBBoxUpdate}))}),jt(k,"renderTooltip",function(){var P,O=k.props,I=O.children,F=O.accessibilityLayer,H=Cs(I,$i);if(!H)return null;var V=k.state,U=V.isTooltipActive,z=V.activeCoordinate,W=V.activePayload,J=V.activeLabel,se=V.offset,K=(P=H.props.active)!==null&&P!==void 0?P:U;return b.cloneElement(H,{viewBox:Fe(Fe({},se),{},{x:se.left,y:se.top}),active:K,label:J,payload:K?W:[],coordinate:z,accessibilityLayer:F})}),jt(k,"renderBrush",function(P){var O=k.props,I=O.margin,F=O.data,H=k.state,V=H.offset,U=H.dataStartIndex,z=H.dataEndIndex,W=H.updateId;return b.cloneElement(P,{key:P.key||"_recharts-brush",onChange:cb(k.handleBrushChange,P.props.onChange),data:F,x:et(P.props.x)?P.props.x:V.left,y:et(P.props.y)?P.props.y:V.top+V.height+V.brushBottom-(I.bottom||0),width:et(P.props.width)?P.props.width:V.width,startIndex:U,endIndex:z,updateId:"brush-".concat(W)})}),jt(k,"renderReferenceElement",function(P,O,I){if(!P)return null;var F=k,H=F.clipPathId,V=k.state,U=V.xAxisMap,z=V.yAxisMap,W=V.offset,J=P.type.defaultProps||{},se=P.props,K=se.xAxisId,ee=K===void 0?J.xAxisId:K,G=se.yAxisId,ne=G===void 0?J.yAxisId:G;return b.cloneElement(P,{key:P.key||"".concat(O,"-").concat(I),xAxis:U[ee],yAxis:z[ne],viewBox:{x:W.left,y:W.top,width:W.width,height:W.height},clipPathId:H})}),jt(k,"renderActivePoints",function(P){var O=P.item,I=P.activePoint,F=P.basePoint,H=P.childIndex,V=P.isRange,U=[],z=O.props.key,W=O.item.type.defaultProps!==void 0?Fe(Fe({},O.item.type.defaultProps),O.item.props):O.item.props,J=W.activeDot,se=W.dataKey,K=Fe(Fe({index:H,dataKey:se,cx:I.x,cy:I.y,r:4,fill:UI(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Wt(J,!1)),Nw(J));return U.push(S.renderActiveDot(J,K,"".concat(z,"-activePoint-").concat(H))),F?U.push(S.renderActiveDot(J,Fe(Fe({},K),{},{cx:F.x,cy:F.y}),"".concat(z,"-basePoint-").concat(H))):V&&U.push(null),U}),jt(k,"renderGraphicChild",function(P,O,I){var F=k.filterFormatItem(P,O,I);if(!F)return null;var H=k.getTooltipEventType(),V=k.state,U=V.isTooltipActive,z=V.tooltipAxis,W=V.activeTooltipIndex,J=V.activeLabel,se=k.props.children,K=Cs(se,$i),ee=F.props,G=ee.points,ne=ee.isRange,Y=ee.baseLine,oe=F.item.type.defaultProps!==void 0?Fe(Fe({},F.item.type.defaultProps),F.item.props):F.item.props,xe=oe.activeDot,Ne=oe.hide,Le=oe.activeBar,ce=oe.activeShape,ae=!!(!Ne&&U&&K&&(xe||Le||ce)),ge={};H!=="axis"&&K&&K.props.trigger==="click"?ge={onClick:cb(k.handleItemMouseEnter,P.props.onClick)}:H!=="axis"&&(ge={onMouseLeave:cb(k.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:cb(k.handleItemMouseEnter,P.props.onMouseEnter)});var he=b.cloneElement(P,Fe(Fe({},F.props),ge));function Pe(Ae){return typeof z.dataKey=="function"?z.dataKey(Ae.payload):null}if(ae)if(W>=0){var te,X;if(z.dataKey&&!z.allowDuplicatedCategory){var _e=typeof z.dataKey=="function"?Pe:"payload.".concat(z.dataKey.toString());te=Sw(G,_e,J),X=ne&&Y&&Sw(Y,_e,J)}else te=G?.[W],X=ne&&Y&&Y[W];if(ce||Le){var we=P.props.activeIndex!==void 0?P.props.activeIndex:W;return[b.cloneElement(P,Fe(Fe(Fe({},F.props),ge),{},{activeIndex:we})),null,null]}if(!Lt(te))return[he].concat($p(k.renderActivePoints({item:F,activePoint:te,basePoint:X,childIndex:W,isRange:ne})))}else{var We,Ue=(We=k.getItemByXY(k.state.activeCoordinate))!==null&&We!==void 0?We:{graphicalItem:he},Ce=Ue.graphicalItem,ot=Ce.item,Dt=ot===void 0?P:ot,fe=Ce.childIndex,je=Fe(Fe(Fe({},F.props),ge),{},{activeIndex:fe});return[b.cloneElement(Dt,je),null,null]}return ne?[he,null,null]:[he,null]}),jt(k,"renderCustomized",function(P,O,I){return b.cloneElement(P,Fe(Fe({key:"recharts-customized-".concat(I)},k.props),k.state))}),jt(k,"renderMap",{CartesianGrid:{handler:pb,once:!0},ReferenceArea:{handler:k.renderReferenceElement},ReferenceLine:{handler:pb},ReferenceDot:{handler:k.renderReferenceElement},XAxis:{handler:pb},YAxis:{handler:pb},Brush:{handler:k.renderBrush,once:!0},Bar:{handler:k.renderGraphicChild},Line:{handler:k.renderGraphicChild},Area:{handler:k.renderGraphicChild},Radar:{handler:k.renderGraphicChild},RadialBar:{handler:k.renderGraphicChild},Scatter:{handler:k.renderGraphicChild},Pie:{handler:k.renderGraphicChild},Funnel:{handler:k.renderGraphicChild},Tooltip:{handler:k.renderCursor,once:!0},PolarGrid:{handler:k.renderPolarGrid,once:!0},PolarAngleAxis:{handler:k.renderPolarAxis},PolarRadiusAxis:{handler:k.renderPolarAxis},Customized:{handler:k.renderCustomized}}),k.clipPathId="".concat((C=N.id)!==null&&C!==void 0?C:um("recharts"),"-clip"),k.throttleTriggeredAfterMouseMove=Cee(k.triggeredAfterMouseMove,(A=N.throttleDelay)!==null&&A!==void 0?A:1e3/60),k.state={},k}return Yze(S,_),Hze(S,[{key:"componentDidMount",value:function(){var C,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(C=this.props.margin.left)!==null&&C!==void 0?C:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var C=this.props,A=C.children,k=C.data,P=C.height,O=C.layout,I=Cs(A,$i);if(I){var F=I.props.defaultIndex;if(!(typeof F!="number"||F<0||F>this.state.tooltipTicks.length-1)){var H=this.state.tooltipTicks[F]&&this.state.tooltipTicks[F].value,V=xO(this.state,k,F,H),U=this.state.tooltipTicks[F].coordinate,z=(this.state.offset.top+P)/2,W=O==="horizontal",J=W?{x:U,y:z}:{y:U,x:z},se=this.state.formattedGraphicalItems.find(function(ee){var G=ee.item;return G.type.name==="Scatter"});se&&(J=Fe(Fe({},J),se.props.points[F].tooltipPosition),V=se.props.points[F].tooltipPayload);var K={activeTooltipIndex:F,isTooltipActive:!0,activeLabel:H,activePayload:V,activeCoordinate:J};this.setState(K),this.renderCursor(I),this.accessibilityManager.setIndex(F)}}}},{key:"getSnapshotBeforeUpdate",value:function(C,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==C.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==C.margin){var k,P;this.accessibilityManager.setDetails({offset:{left:(k=this.props.margin.left)!==null&&k!==void 0?k:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(C){iA([Cs(C.children,$i)],[Cs(this.props.children,$i)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var C=Cs(this.props.children,$i);if(C&&typeof C.props.shared=="boolean"){var A=C.props.shared?"axis":"item";return l.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(C){if(!this.container)return null;var A=this.container,k=A.getBoundingClientRect(),P=eIe(k),O={chartX:Math.round(C.pageX-P.left),chartY:Math.round(C.pageY-P.top)},I=k.width/A.offsetWidth||1,F=this.inRange(O.chartX,O.chartY,I);if(!F)return null;var H=this.state,V=H.xAxisMap,U=H.yAxisMap,z=this.getTooltipEventType(),W=vV(this.state,this.props.data,this.props.layout,F);if(z!=="axis"&&V&&U){var J=Qc(V).scale,se=Qc(U).scale,K=J&&J.invert?J.invert(O.chartX):null,ee=se&&se.invert?se.invert(O.chartY):null;return Fe(Fe({},O),{},{xValue:K,yValue:ee},W)}return W?Fe(Fe({},O),W):null}},{key:"inRange",value:function(C,A){var k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,O=C/k,I=A/k;if(P==="horizontal"||P==="vertical"){var F=this.state.offset,H=O>=F.left&&O<=F.left+F.width&&I>=F.top&&I<=F.top+F.height;return H?{x:O,y:I}:null}var V=this.state,U=V.angleAxisMap,z=V.radiusAxisMap;if(U&&z){var W=Qc(U);return kq({x:O,y:I},W)}return null}},{key:"parseEventsOfWrapper",value:function(){var C=this.props.children,A=this.getTooltipEventType(),k=Cs(C,$i),P={};k&&A==="axis"&&(k.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=Nw(this.props,this.handleOuterEvent);return Fe(Fe({},O),P)}},{key:"addListener",value:function(){tk.on(rk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){tk.removeListener(rk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(C,A,k){for(var P=this.state.formattedGraphicalItems,O=0,I=P.length;O<I;O++){var F=P[O];if(F.item===C||F.props.key===C.key||A===Ol(F.item.type)&&k===F.childIndex)return F}return null}},{key:"renderClipPath",value:function(){var C=this.clipPathId,A=this.state.offset,k=A.left,P=A.top,O=A.height,I=A.width;return Q.createElement("defs",null,Q.createElement("clipPath",{id:C},Q.createElement("rect",{x:k,y:P,height:O,width:I})))}},{key:"getXScales",value:function(){var C=this.state.xAxisMap;return C?Object.entries(C).reduce(function(A,k){var P=pV(k,2),O=P[0],I=P[1];return Fe(Fe({},A),{},jt({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var C=this.state.yAxisMap;return C?Object.entries(C).reduce(function(A,k){var P=pV(k,2),O=P[0],I=P[1];return Fe(Fe({},A),{},jt({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(C){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(C){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[C])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(C){var A=this.state,k=A.formattedGraphicalItems,P=A.activeItem;if(k&&k.length)for(var O=0,I=k.length;O<I;O++){var F=k[O],H=F.props,V=F.item,U=V.type.defaultProps!==void 0?Fe(Fe({},V.type.defaultProps),V.props):V.props,z=Ol(V.type);if(z==="Bar"){var W=(H.data||[]).find(function(ee){return y5e(C,ee)});if(W)return{graphicalItem:F,payload:W}}else if(z==="RadialBar"){var J=(H.data||[]).find(function(ee){return kq(C,ee)});if(J)return{graphicalItem:F,payload:J}}else if(W1(F,P)||H1(F,P)||ly(F,P)){var se=oBe({graphicalItem:F,activeTooltipItem:P,itemData:U.data}),K=U.activeIndex===void 0?se:U.activeIndex;return{graphicalItem:Fe(Fe({},F),{},{childIndex:K}),payload:ly(F,P)?U.data[se]:F.props.data[se]}}}return null}},{key:"render",value:function(){var C=this;if(!BB(this))return null;var A=this.props,k=A.children,P=A.className,O=A.width,I=A.height,F=A.style,H=A.compact,V=A.title,U=A.desc,z=mV(A,Fze),W=Wt(z,!1);if(H)return Q.createElement(ZU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement(aA,zh({},W,{width:O,height:I,title:V,desc:U}),this.renderClipPath(),qB(k,this.renderMap)));if(this.props.accessibilityLayer){var J,se;W.tabIndex=(J=this.props.tabIndex)!==null&&J!==void 0?J:0,W.role=(se=this.props.role)!==null&&se!==void 0?se:"application",W.onKeyDown=function(ee){C.accessibilityManager.keyboardEvent(ee)},W.onFocus=function(){C.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return Q.createElement(ZU,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Q.createElement("div",zh({className:Gt("recharts-wrapper",P),style:Fe({position:"relative",cursor:"default",width:O,height:I},F)},K,{ref:function(G){C.container=G}}),Q.createElement(aA,zh({},W,{width:O,height:I,title:V,desc:U,style:rqe}),this.renderClipPath(),qB(k,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);jt(y,"displayName",r),jt(y,"defaultProps",Fe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},h)),jt(y,"getDerivedStateFromProps",function(_,S){var N=_.dataKey,C=_.data,A=_.children,k=_.width,P=_.height,O=_.layout,I=_.stackOffset,F=_.margin,H=S.dataStartIndex,V=S.dataEndIndex;if(S.updateId===void 0){var U=yV(_);return Fe(Fe(Fe({},U),{},{updateId:0},v(Fe(Fe({props:_},U),{},{updateId:0}),S)),{},{prevDataKey:N,prevData:C,prevWidth:k,prevHeight:P,prevLayout:O,prevStackOffset:I,prevMargin:F,prevChildren:A})}if(N!==S.prevDataKey||C!==S.prevData||k!==S.prevWidth||P!==S.prevHeight||O!==S.prevLayout||I!==S.prevStackOffset||!Gh(F,S.prevMargin)){var z=yV(_),W={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},J=Fe(Fe({},vV(S,C,O)),{},{updateId:S.updateId+1}),se=Fe(Fe(Fe({},z),W),J);return Fe(Fe(Fe({},se),v(Fe({props:_},se),S)),{},{prevDataKey:N,prevData:C,prevWidth:k,prevHeight:P,prevLayout:O,prevStackOffset:I,prevMargin:F,prevChildren:A})}if(!iA(A,S.prevChildren)){var K,ee,G,ne,Y=Cs(A,Pp),oe=Y&&(K=(ee=Y.props)===null||ee===void 0?void 0:ee.startIndex)!==null&&K!==void 0?K:H,xe=Y&&(G=(ne=Y.props)===null||ne===void 0?void 0:ne.endIndex)!==null&&G!==void 0?G:V,Ne=oe!==H||xe!==V,Le=!Lt(C),ce=Le&&!Ne?S.updateId:S.updateId+1;return Fe(Fe({updateId:ce},v(Fe(Fe({props:_},S),{},{updateId:ce,dataStartIndex:oe,dataEndIndex:xe}),S)),{},{prevChildren:A,dataStartIndex:oe,dataEndIndex:xe})}return null}),jt(y,"renderActiveDot",function(_,S,N){var C;return b.isValidElement(_)?C=b.cloneElement(_,S):Mt(_)?C=_(S):C=Q.createElement(WI,S),Q.createElement(Ur,{className:"recharts-active-dot",key:N},C)});var x=b.forwardRef(function(S,N){return Q.createElement(y,zh({},S,{ref:N}))});return x.displayName=y.displayName,x},bV=fqe({chartName:"BarChart",GraphicalChild:Il,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Ed},{axisType:"yAxis",AxisComp:Pd}],formatAxisMap:u6e});const Sh=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function hqe(){console.log("🚀 AnalyticsPage - Composant initialisé");const[t,e]=b.useState("7days"),[r,n]=b.useMemo(()=>{const P=new Date;console.log("🔍 Calcul des dates - dateRange:",t);let O,I;switch(t){case"today":O=Pr(P,"yyyy-MM-dd"),I=Pr(P,"yyyy-MM-dd");break;case"yesterday":const F=fg(P,1);O=Pr(F,"yyyy-MM-dd"),I=Pr(F,"yyyy-MM-dd");break;case"7days":O=Pr(fg(P,7),"yyyy-MM-dd"),I=Pr(P,"yyyy-MM-dd");break;case"30days":O=Pr(fg(P,30),"yyyy-MM-dd"),I=Pr(P,"yyyy-MM-dd");break;case"90days":O=Pr(fg(P,90),"yyyy-MM-dd"),I=Pr(P,"yyyy-MM-dd");break;case"thisMonth":O=Pr(new Date(P.getFullYear(),P.getMonth(),1),"yyyy-MM-dd"),I=Pr(P,"yyyy-MM-dd");break;case"lastMonth":const H=new Date(P.getFullYear(),P.getMonth()-1,1),V=new Date(P.getFullYear(),P.getMonth(),0);O=Pr(H,"yyyy-MM-dd"),I=Pr(V,"yyyy-MM-dd");break;case"thisYear":O=Pr(new Date(P.getFullYear(),0,1),"yyyy-MM-dd"),I=Pr(P,"yyyy-MM-dd");break;default:O=Pr(fg(P,7),"yyyy-MM-dd"),I=Pr(P,"yyyy-MM-dd");break}return console.log("🔍 Dates calculées:",{start:O,end:I}),[O,I]},[t]),{data:i,isLoading:s,error:o}=Yn({queryKey:["analytics","overview",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données analytics..."),console.log("🔍 Période:",{startDate:r,endDate:n});let P=[],O=[];try{P=(await Rr.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",P.length)}catch(W){console.error("❌ Erreur lors du chargement des annonces:",W),P=[]}try{O=await Va.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",O.length)}catch(W){console.error("❌ Erreur lors du chargement des utilisateurs:",W),O=[]}console.log("🔍 Données récupérées:",{listingsCount:P?.length,usersCount:O?.length});const I=P?.length||0,F=P?.filter(W=>W.status==="approved")?.length||0,H=P?.filter(W=>W.status==="pending")?.length||0,V=O?.length||0,U=O?.filter(W=>W.status==="active")?.length||0,z={totalListings:I,approvedListings:F,pendingListings:H,totalUsers:V,activeUsers:U,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:U,change:0},growth:{listings:0,users:0,revenue:0}};return console.log("🔍 Résultat analytics calculé:",z),z}catch(P){return console.error("❌ Erreur lors du chargement des données analytics:",P),{totalListings:0,approvedListings:0,pendingListings:0,totalUsers:0,activeUsers:0,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:0,change:0},growth:{listings:0,users:0,revenue:0}}}}}),{data:l,isLoading:c}=Yn({queryKey:["analytics","revenue",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données de revenus..."),console.log("🔍 Période:",{startDate:r,endDate:n});const P=await sF.getRevenueData(r,n);return console.log("🔍 Données de revenus récupérées:",P),P}catch(P){return console.error("❌ Erreur lors du chargement des données de revenus:",P),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}}}),{data:u,isLoading:d}=Yn({queryKey:["analytics","users",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données utilisateurs...");const P=await Va.getAllUsers();if(console.log("🔍 Utilisateurs récupérés pour analytics:",P?.length),!P||P.length===0)return console.log("⚠️ Aucun utilisateur trouvé, retour de données par défaut"),[];const O=P.reduce((F,H)=>{if(H.created_at){const V=Pr(new Date(H.created_at),"yyyy-MM-dd");F[V]=(F[V]||0)+1}return F},{}),I=Object.entries(O).map(([F,H])=>({date:F,users:H}));return console.log("🔍 Données utilisateurs formatées:",I),I}catch(P){return console.error("❌ Erreur lors du chargement des données utilisateurs:",P),[]}}}),{data:h,isLoading:g}=Yn({queryKey:["analytics","top-products",r,n],queryFn:async()=>[]}),{data:v,isLoading:y}=Yn({queryKey:["analytics","growth",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des tendances de croissance..."),console.log("🔍 Période:",{startDate:r,endDate:n});const P=await sF.getGrowthTrends(r,n);return console.log("🔍 Tendances de croissance récupérées:",P),P}catch(P){return console.error("❌ Erreur lors du chargement des tendances de croissance:",P),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}}}),{data:x,isLoading:_}=Yn({queryKey:["analytics","traffic",r,n],queryFn:async()=>({"Recherche directe":45,"Réseaux sociaux":30,"Moteurs de recherche":15,"Liens externes":10})}),{data:S,isLoading:N}=Yn({queryKey:["analytics","categories",r,n],queryFn:async()=>({Immobilier:40,Automobile:25,Services:20,Marketplace:15})}),C=b.useMemo(()=>u?u.map(P=>({date:Pr(ppe(P.date),"MMM d"),newUsers:P.users,activeUsers:P.users,returningUsers:0})):[],[u]),A=b.useMemo(()=>x?Object.entries(x).map(([P,O])=>({name:P,value:O})):[],[x]),k=s||c||d||g||_||N||y;return console.log("🔍 État des données avant rendu:",{analyticsData:i,revenueData:l,userData:u,growthTrends:v,isLoading:k,analyticsError:o}),o?(console.error("❌ Erreur analytics détectée:",o),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(vd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):!i||!l?(console.log("⚠️ Données manquantes, affichage du chargement..."),console.log("🔍 analyticsData:",i),console.log("🔍 revenueData:",l),console.log("🔍 isLoading:",k),k?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(vd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des données..."}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Veuillez patienter pendant le chargement des données."}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})]})}):o?(console.error("❌ Erreur analytics détectée:",o),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(vd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(vd,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune donnée disponible"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Aucune donnée n'est disponible pour la période sélectionnée."}),a.jsx(ue,{onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})})):a.jsxs("div",{className:"space-y-6",children:[console.log("🔍 Rendu principal - début"),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau de Bord Analytique"}),a.jsx("p",{className:"text-muted-foreground",children:"Aperçu des performances et des tendances de votre plateforme"})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-2 md:mt-0",children:[a.jsxs(Mr,{value:t,onValueChange:e,children:[a.jsxs(Tr,{className:"w-[180px]",children:[a.jsx(Hl,{className:"mr-2 h-4 w-4"}),a.jsx(Ir,{placeholder:"Sélectionner une période"})]}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"today",children:"Aujourd'hui"}),a.jsx(Ge,{value:"yesterday",children:"Hier"}),a.jsx(Ge,{value:"7days",children:"7 derniers jours"}),a.jsx(Ge,{value:"30days",children:"30 derniers jours"}),a.jsx(Ge,{value:"90days",children:"90 derniers jours"}),a.jsx(Ge,{value:"thisMonth",children:"Ce mois-ci"}),a.jsx(Ge,{value:"lastMonth",children:"Le mois dernier"}),a.jsx(Ge,{value:"thisYear",children:"Cette année"})]})]}),a.jsxs(ue,{variant:"outline",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),console.log("🔍 Rendu - Stats Grid"),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(It,{children:[console.log("🔍 Rendu - Carte Total Annonces"),a.jsxs(ir,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(sr,{className:"text-sm font-medium",children:"Total Annonces"}),a.jsx(ef,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Bt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(()=>{const P=i?.totalListings;return console.log("🔍 Affichage Total Annonces:",{value:P,type:typeof P}),k?"...":P?.toLocaleString()||0})()}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," approuvées, ",i?.pendingListings||0," en attente"]})]})]}),a.jsxs(It,{children:[console.log("🔍 Rendu - Carte Utilisateurs"),a.jsxs(ir,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(sr,{className:"text-sm font-medium",children:"Utilisateurs"}),a.jsx(Ka,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Bt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k?"...":i?.totalUsers?.toLocaleString()||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.activeUsers?.current||0," actifs"]})]})]}),a.jsxs(It,{children:[console.log("🔍 Rendu - Carte Chiffre d'affaires"),a.jsxs(ir,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(sr,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),a.jsx(ip,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Bt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k?"...":`${(l?.totalRevenue||0).toLocaleString()} FCFA`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:l?.revenueByDate?.length>0&&a.jsxs("span",{className:"text-green-600",children:["↑ ",l.revenueByDate.length," transactions"]})})]})]}),a.jsxs(It,{children:[console.log("🔍 Rendu - Carte Taux d'approbation"),a.jsxs(ir,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(sr,{className:"text-sm font-medium",children:"Taux d'approbation"}),a.jsx(Ua,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(Bt,{children:[a.jsx("div",{className:"text-2xl font-bold",children:k?"...":i?.totalListings?`${Math.round(i.approvedListings/i.totalListings*100)}%`:"0%"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," sur ",i?.totalListings||0," annonces"]})]})]})]}),console.log("🔍 Rendu - Main Charts"),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(It,{className:"col-span-4",children:[console.log("🔍 Rendu - Graphique Évolution des Revenus"),a.jsxs(ir,{children:[a.jsx(sr,{children:"Évolution des Revenus"}),a.jsx(Cn,{children:"Chiffre d'affaires sur la période sélectionnée"})]}),a.jsx(Bt,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(xh,{width:"100%",height:"100%",children:a.jsxs(G$,{data:l?.revenueByDate||[],margin:{top:5,right:10,left:0,bottom:5},children:[a.jsx(Kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Ed,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Pd,{tickFormatter:P=>`${P.toLocaleString()} FCFA`,tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx($i,{formatter:P=>[`${P.toLocaleString()} FCFA`,"Revenus"]}),a.jsx(hy,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(It,{className:"col-span-3",children:[console.log("🔍 Rendu - Graphique Sources de trafic"),a.jsxs(ir,{children:[a.jsx(sr,{children:"Sources de trafic"}),a.jsx(Cn,{children:"Répartition des sources de trafic sur votre site"})]}),a.jsxs(Bt,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(xh,{width:"100%",height:"100%",children:a.jsxs(Z$,{children:[a.jsx(Vl,{data:A,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:A.map((P,O)=>a.jsx(Dv,{fill:Sh[O%Sh.length]},`cell-${O}`))}),a.jsx($i,{formatter:(P,O)=>[`${P}%`,O]}),a.jsx(cu,{})]})})}),a.jsx("div",{className:"mt-4 space-y-2",children:A.map((P,O)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:Sh[O%Sh.length]}}),a.jsx("span",{className:"text-sm",children:P.name})]}),a.jsxs("span",{className:"text-sm font-medium",children:[P.value,"%"]})]},P.name))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(It,{className:"col-span-4",children:[a.jsx(ir,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(sr,{children:"Activité des utilisateurs"}),a.jsx(Cn,{children:"Évolution des nouveaux utilisateurs et des utilisateurs actifs"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveaux"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-green-600"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Actifs"})]})]})]})}),a.jsx(Bt,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(xh,{width:"100%",height:"100%",children:a.jsxs(bV,{data:C,children:[a.jsx(Kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Ed,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(Pd,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx($i,{}),a.jsx(cu,{}),a.jsx(Il,{dataKey:"newUsers",fill:"#3b82f6",radius:[4,4,0,0]}),a.jsx(Il,{dataKey:"activeUsers",fill:"#10b981",radius:[4,4,0,0]})]})})})})]}),a.jsxs(It,{className:"col-span-3",children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Croissance des Utilisateurs"}),a.jsx(Cn,{children:"Nouveaux utilisateurs par période"})]}),a.jsx(Bt,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(xh,{width:"100%",height:"100%",children:a.jsxs(bV,{data:v?.users?.daily||[],children:[a.jsx(Kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Ed,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(Pd,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx($i,{formatter:P=>[P,"Nouveaux utilisateurs"]}),a.jsx(Il,{dataKey:"value",fill:"#82ca9d",radius:[4,4,0,0]})]})})})})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Croissance des Annonces"}),a.jsx(Cn,{children:"Nouvelles annonces créées par période"})]}),a.jsx(Bt,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(xh,{width:"100%",height:"100%",children:a.jsxs(G$,{data:v?.listings?.daily||[],children:[a.jsx(Kg,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Ed,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(Pd,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx($i,{formatter:P=>[P,"Nouvelles annonces"]}),a.jsx(hy,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Répartition des Revenus par Catégorie"}),a.jsx(Cn,{children:"Chiffre d'affaires par catégorie d'annonces"})]}),a.jsx(Bt,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(xh,{width:"100%",height:"100%",children:a.jsxs(Z$,{children:[a.jsx(Vl,{data:Object.entries(l?.revenueByCategory||{}).map(([P,O])=>({name:P==="real_estate"?"Immobilier":P==="automobile"?"Automobile":P==="services"?"Services":P==="marketplace"?"Marketplace":P,value:O})),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:P,percent:O})=>`${P} ${(O*100).toFixed(0)}%`,children:Object.entries(l?.revenueByCategory||{}).map((P,O)=>a.jsx(Dv,{fill:Sh[O%Sh.length]},`cell-${O}`))}),a.jsx($i,{formatter:P=>[`${P.toLocaleString()} FCFA`,"Revenus"]})]})})})})]})]}),a.jsxs(It,{children:[a.jsx(ir,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(sr,{children:"Produits les plus vendus"}),a.jsx(Cn,{children:"Les produits les plus populaires sur votre plateforme"})]}),a.jsx(ue,{variant:"outline",size:"sm",children:"Voir tout"})]})}),a.jsx(Bt,{children:a.jsx("div",{className:"space-y-4",children:k?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("p",{children:"Chargement des produits..."})}):h?.length>0?h.map((P,O)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:O+1})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:P.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[P.category," • ",P.orders," ventes"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium",children:["$",P.revenue.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-end",children:[P.change>=0?a.jsx(Kde,{className:"h-3 w-3 text-green-500 mr-1"}):a.jsx(Hde,{className:"h-3 w-3 text-red-500 mr-1"}),a.jsxs("span",{className:`text-xs ${P.change>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(P.change),"%"]})]})]})]},P.id)):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(vd,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Aucune donnée disponible"})]})})})]})]})}const es={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",IGNORED:"ignored"},Es={LISTING:"listing",COMMENT:"comment",USER:"user",REVIEW:"review"},pqe=({level:t})=>{const e=()=>{switch(t){case"low":return"outline";case"medium":return"warning";case"high":return"destructive";default:return"outline"}},r=()=>{switch(t){case"low":return"Faible";case"medium":return"Moyen";case"high":return"Élevé";default:return t}};return a.jsx(pt,{variant:e(),children:r()})},mqe=({status:t})=>{const e=()=>{switch(t){case es.PENDING:return"warning";case es.APPROVED:return"success";case es.REJECTED:return"destructive";case es.IGNORED:return"outline";default:return"outline"}},r=()=>{switch(t){case es.PENDING:return"En attente";case es.APPROVED:return"Approuvé";case es.REJECTED:return"Rejeté";case es.IGNORED:return"Ignoré";default:return t}};return a.jsx(pt,{variant:e(),children:r()})},gqe=({type:t})=>{const e=()=>{switch(t){case Es.LISTING:return a.jsx(ef,{className:"h-3 w-3"});case Es.COMMENT:return a.jsx(Qn,{className:"h-3 w-3"});case Es.USER:return a.jsx(ts,{className:"h-3 w-3"});case Es.REVIEW:return a.jsx(da,{className:"h-3 w-3"});default:return a.jsx(hn,{className:"h-3 w-3"})}},r=()=>{switch(t){case Es.LISTING:return"Annonce";case Es.COMMENT:return"Commentaire";case Es.USER:return"Utilisateur";case Es.REVIEW:return"Avis";default:return t}};return a.jsxs(pt,{variant:"outline",className:"flex items-center gap-1",children:[e(),r()]})};function vqe(){const t=Uo(),[e,r]=b.useState(""),[n,i]=b.useState("all"),[s,o]=b.useState("all"),[l,c]=b.useState("all"),[u,d]=b.useState("created_at"),[h,g]=b.useState("desc"),[v,y]=b.useState(1),[x,_]=b.useState(10),[S,N]=b.useState(new Set),[C,A]=b.useState(null),[k,P]=b.useState(!1),[O,I]=b.useState(null),{data:F,isLoading:H,isError:V}=Yn({queryKey:["moderation","reports",{searchTerm:e,statusFilter:n,typeFilter:s,severityFilter:l,sortBy:u,sortOrder:h,page:v,perPage:x}],queryFn:async()=>(await Rr.getAllListings({status:"pending"})).map(Y=>({id:Y.id,type:Es.LISTING,content:Y,reporter:{id:"system",name:"Système",email:"system@maximarket.com"},reason:"Annonce en attente de modération",description:"Cette annonce nécessite une vérification avant publication",severity:"medium",status:es.PENDING,createdAt:Y.created_at,updatedAt:Y.updated_at}))}),{data:U}=Yn({queryKey:["moderation","stats"],queryFn:async()=>{const ne=await Rr.getAllListings();return await Va.getAllUsers(),{totalReports:ne.filter(Y=>Y.status==="pending").length,pendingReports:ne.filter(Y=>Y.status==="pending").length,resolvedReports:ne.filter(Y=>Y.status==="approved"||Y.status==="rejected").length,averageResponseTime:"2h",topReportedTypes:[{type:"listing",count:ne.filter(Y=>Y.status==="pending").length},{type:"user",count:0},{type:"comment",count:0}]}}}),{mutate:z,isLoading:W}=ci({mutationFn:({reportId:ne,action:Y,reason:oe})=>console.log(`Moderating report ${ne} with action: ${Y}, reason: ${oe}`),onSuccess:()=>{t.invalidateQueries(["moderation","reports"]),t.invalidateQueries(["moderation","stats"]),A(null),P(!1)},onError:ne=>{console.error("Error moderating content:",ne)}}),J=ne=>{N(Y=>{const oe=new Set(Y);return oe.has(ne)?oe.delete(ne):oe.add(ne),oe})},se=(ne,Y)=>{A(ne),I(Y),(Y==="approve"||Y==="reject"||Y==="ignore"||Y==="delete")&&P(!0)},K=()=>{if(!C||!O)return;let ne=O,Y="";O==="reject"?Y="Contenu inapproprié":O==="delete"&&(Y="Suppression demandée"),z({reportId:C,action:ne,reason:Y})},ee=ne=>{switch(ne){case"approve":return"default";case"reject":return"destructive";case"ignore":return"outline";case"delete":return"destructive";default:return"outline"}},G=ne=>{switch(ne){case"approve":return"Approuver";case"reject":return"Rejeter";case"ignore":return"Ignorer";case"delete":return"Supprimer";default:return ne}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modération"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les signalements et le contenu inapproprié"})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"rounded-lg border bg-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements en attente"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.pendingReports||0})]}),a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Od,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements aujourd'hui"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.today||0})]}),a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Od,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:U?.todayChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[U?.todayChange>=0?"↑":"↓"," ",Math.abs(U?.todayChange||0),"%"]})," ","vs hier"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de modération"}),a.jsxs("p",{className:"text-2xl font-bold",children:[U?.moderationRate||0,"%"]})]}),a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(np,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[U?.moderatedToday||0," modérations aujourd'hui"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contenu supprimé"}),a.jsx("p",{className:"text-2xl font-bold",children:U?.removedContent||0})]}),a.jsx("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/50",children:a.jsx(Za,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[U?.removedThisMonth||0," ce mois-ci"]})]})]}),a.jsxs(PR,{defaultValue:"reports",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(q_,{children:[a.jsx(Li,{value:"reports",children:"Signalements"}),a.jsx(Li,{value:"logs",children:"Journal de modération"}),a.jsx(Li,{value:"settings",children:"Paramètres"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(ss,{className:"mr-2 h-4 w-4"}),"Filtres"]}),a.jsxs(ue,{variant:"outline",size:"sm",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),a.jsxs(Di,{value:"reports",className:"space-y-4",children:[a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(ei,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(tt,{type:"search",placeholder:"Rechercher...",className:"pl-8",value:e,onChange:ne=>r(ne.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(Mr,{value:n,onValueChange:i,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les statuts"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:es.PENDING,children:"En attente"}),a.jsx(Ge,{value:es.APPROVED,children:"Approuvé"}),a.jsx(Ge,{value:es.REJECTED,children:"Rejeté"}),a.jsx(Ge,{value:es.IGNORED,children:"Ignoré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type de contenu"}),a.jsxs(Mr,{value:s,onValueChange:o,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les types"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:Es.LISTING,children:"Annonces"}),a.jsx(Ge,{value:Es.COMMENT,children:"Commentaires"}),a.jsx(Ge,{value:Es.USER,children:"Utilisateurs"}),a.jsx(Ge,{value:Es.REVIEW,children:"Avis"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Gravité"}),a.jsxs(Mr,{value:l,onValueChange:c,children:[a.jsx(Tr,{children:a.jsx(Ir,{placeholder:"Tous les niveaux"})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les niveaux"}),a.jsx(Ge,{value:"low",children:"Faible"}),a.jsx(Ge,{value:"medium",children:"Moyen"}),a.jsx(Ge,{value:"high",children:"Élevé"})]})]})]})]})}),a.jsx("div",{className:"rounded-md border bg-card",children:a.jsxs(rm,{children:[a.jsx(nm,{children:a.jsxs(an,{children:[a.jsx(ur,{children:"Contenu"}),a.jsx(ur,{children:"Type"}),a.jsx(ur,{children:"Gravité"}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Date"}),a.jsx(ur,{children:"Actions"})]})}),a.jsx(im,{children:H?a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):V?a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(hn,{className:"h-5 w-5 mr-2"}),"Erreur lors du chargement des signalements"]})})}):F?.length===0?a.jsx(an,{children:a.jsx(Rt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[a.jsx(Od,{className:"h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucun signalement trouvé"}),a.jsx("p",{className:"text-sm",children:"Il n'y a pas de signalements correspondant à vos critères."})]})})}):F?.map(ne=>a.jsxs(an,{children:[a.jsx(Rt,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"ghost",size:"sm",onClick:()=>J(ne.id),children:S.has(ne.id)?a.jsx(Ad,{className:"h-4 w-4"}):a.jsx(El,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ne.content.title||"Contenu signalé"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Par ",ne.reporter?.name||"Utilisateur anonyme"]})]})]}),S.has(ne.id)&&a.jsxs("div",{className:"ml-8 p-3 bg-muted rounded-md",children:[a.jsx("p",{className:"text-sm",children:ne.reason}),ne.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:ne.description})]})]})}),a.jsx(Rt,{children:a.jsx(gqe,{type:ne.type})}),a.jsx(Rt,{children:a.jsx(pqe,{level:ne.severity})}),a.jsx(Rt,{children:a.jsx(mqe,{status:ne.status})}),a.jsx(Rt,{children:a.jsx(Ah,{children:a.jsxs(wo,{children:[a.jsx(_o,{children:a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(is,{className:"h-4 w-4 mr-1"}),AW(new Date(ne.createdAt),{addSuffix:!0,locale:om})]})}),a.jsx(Ba,{children:new Date(ne.createdAt).toLocaleString("fr-FR")})]})})}),a.jsx(Rt,{children:a.jsxs("div",{className:"flex space-x-1",children:[ne.status===es.PENDING&&a.jsxs(a.Fragment,{children:[a.jsx(Ah,{children:a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"approve"),disabled:W,children:a.jsx(np,{className:"h-4 w-4"})})}),a.jsx(Ba,{children:"Approuver"})]})}),a.jsx(Ah,{children:a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"reject"),disabled:W,children:a.jsx(os,{className:"h-4 w-4"})})}),a.jsx(Ba,{children:"Rejeter"})]})}),a.jsx(Ah,{children:a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"ignore"),disabled:W,children:a.jsx(tfe,{className:"h-4 w-4"})})}),a.jsx(Ba,{children:"Ignorer"})]})})]}),a.jsx(Ah,{children:a.jsxs(wo,{children:[a.jsx(_o,{asChild:!0,children:a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>se(ne.id,"delete"),disabled:W,children:a.jsx(Za,{className:"h-4 w-4"})})}),a.jsx(Ba,{children:"Supprimer"})]})})]})})]},ne.id))})]})}),F?.pagination&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Affichage de ",(v-1)*x+1," à ",Math.min(v*x,F.pagination.total)," sur ",F.pagination.total," signalements"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>y(1),disabled:v===1,children:a.jsx(Sy,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>y(v-1),disabled:v===1,children:a.jsx(ca,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Page ",v," sur ",F.pagination.totalPages]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>y(v+1),disabled:v===F.pagination.totalPages,children:a.jsx(ua,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>y(F.pagination.totalPages),disabled:v===F.pagination.totalPages,children:a.jsx(Ny,{className:"h-4 w-4"})})]})]})]}),a.jsx(Di,{value:"logs",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Journal de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Historique des actions de modération effectuées"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(is,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Journal de modération à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"L'historique des actions de modération sera disponible prochainement."})]})})]})}),a.jsx(Di,{value:"settings",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Paramètres de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurez les règles et seuils de modération"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(rf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Paramètres à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les paramètres de modération seront disponibles prochainement."})]})})]})})]}),a.jsx(VZ,{open:k,onOpenChange:P,children:a.jsxs(_M,{children:[a.jsxs(jM,{children:[a.jsx(NM,{children:"Confirmer l'action"}),a.jsxs(CM,{children:["Êtes-vous sûr de vouloir ",G(O)?.toLowerCase()," ce signalement ? Cette action ne peut pas être annulée."]})]}),a.jsxs(SM,{children:[a.jsx(EM,{children:"Annuler"}),a.jsx(HZ,{onClick:K,className:ee(O)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:G(O)})]})]})})]})}Nn({first_name:_t().min(2,"Le prénom doit contenir au moins 2 caractères").max(50,"Le prénom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le prénom ne peut contenir que des lettres, espaces, tirets et apostrophes"),last_name:_t().min(2,"Le nom doit contenir au moins 2 caractères").max(50,"Le nom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes"),email:_t().email("Format d'email invalide").min(5,"L'email doit contenir au moins 5 caractères").max(100,"L'email ne peut pas dépasser 100 caractères"),phone_number:_t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide (ex: +221 77 123 4567)").optional().nullable(),role:fn(["user","vendor","admin","moderator"],{errorMap:()=>({message:"Rôle invalide"})}),status:fn(["active","inactive","suspended","pending"],{errorMap:()=>({message:"Statut invalide"})}),is_verified:wn().optional(),profile_image:_t().url("URL d'image invalide").optional().nullable()});Nn({title:_t().min(10,"Le titre doit contenir au moins 10 caractères").max(255,"Le titre ne peut pas dépasser 255 caractères"),description:_t().min(20,"La description doit contenir au moins 20 caractères").max(2e3,"La description ne peut pas dépasser 2000 caractères"),price:li().min(0,"Le prix ne peut pas être négatif").max(1e9,"Le prix ne peut pas dépasser 1 milliard"),category:fn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Catégorie invalide"})}),subcategory:_t().min(2,"La sous-catégorie doit contenir au moins 2 caractères").max(100,"La sous-catégorie ne peut pas dépasser 100 caractères").optional(),status:fn(["pending","approved","rejected","expired"],{errorMap:()=>({message:"Statut invalide"})}),images:Nb(_t().url("URL d'image invalide")).min(1,"Au moins une image est requise").max(10,"Maximum 10 images autorisées"),location:Nn({city:_t().min(2,"Ville requise"),country:_t().min(2,"Pays requis"),address:_t().optional(),coordinates:Nn({lat:li().min(-90).max(90).optional(),lng:li().min(-180).max(180).optional()}).optional()}),contact_info:Nn({phone:_t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),email:_t().email("Format d'email invalide"),website:_t().url("URL invalide").optional()}),real_estate_details:Nn({type:fn(["appartement","maison","terrain","bureau","commerce"]),rooms:_t().min(1,"Nombre de pièces requis"),surface:_t().min(1,"Surface requise"),amenities:Nb(_t()).optional()}).optional(),automobile_details:Nn({brand:_t().min(2,"Marque requise"),model:_t().min(2,"Modèle requis"),year:li().min(1900).max(new Date().getFullYear()+1,"Année invalide"),mileage:li().min(0,"Kilométrage invalide").optional(),transmission:fn(["manuelle","automatique"]).optional(),fuel:fn(["essence","diesel","électrique","hybride"]).optional()}).optional(),service_details:Nn({expertise:_t().min(2,"Expertise requise"),experience:_t().min(2,"Expérience requise"),availability:_t().min(2,"Disponibilité requise"),verified:wn().optional(),certifications:Nb(_t()).optional()}).optional(),product_details:Nn({brand:_t().min(2,"Marque requise"),model:_t().min(2,"Modèle requis"),condition:fn(["neuf","excellent","bon","moyen","usé"]),warranty:_t().optional(),dimensions:_t().optional(),weight:_t().optional()}).optional()});const ik=Nn({name:_t().min(2,"Le nom doit contenir au moins 2 caractères").max(100,"Le nom ne peut pas dépasser 100 caractères").regex(/^[a-zA-ZÀ-ÿ0-9\s'-]+$/,"Le nom ne peut contenir que des lettres, chiffres, espaces, tirets et apostrophes"),slug:_t().min(2,"Le slug doit contenir au moins 2 caractères").max(100,"Le slug ne peut pas dépasser 100 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),parent_category:fn(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Type parent invalide"})}),description:_t().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),icon:_t().min(1,"L'icône est requise").max(50,"L'icône ne peut pas dépasser 50 caractères").optional(),sort_order:li().int("L'ordre de tri doit être un nombre entier").min(0,"L'ordre de tri ne peut pas être négatif").max(999,"L'ordre de tri ne peut pas dépasser 999").optional(),is_active:wn().optional()});Nn({reference:_t().min(5,"La référence doit contenir au moins 5 caractères").max(50,"La référence ne peut pas dépasser 50 caractères").regex(/^[A-Z0-9-]+$/,"La référence ne peut contenir que des lettres majuscules, chiffres et tirets"),type:fn(["purchase","rental","service","transfer"],{errorMap:()=>({message:"Type de transaction invalide"})}),amount:li().positive("Le montant doit être positif").max(1e9,"Le montant ne peut pas dépasser 1 milliard"),currency:fn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),status:fn(["pending","completed","cancelled","failed"],{errorMap:()=>({message:"Statut invalide"})}),payment_method:fn(["mobile_money","bank_transfer","cash","card"],{errorMap:()=>({message:"Méthode de paiement invalide"})}).optional(),description:_t().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),expires_at:KT().optional(),metadata:ZEe(GEe()).optional()});Nn({reason:_t().min(10,"La raison doit contenir au moins 10 caractères").max(200,"La raison ne peut pas dépasser 200 caractères"),description:_t().min(20,"La description doit contenir au moins 20 caractères").max(1e3,"La description ne peut pas dépasser 1000 caractères").optional(),type:fn(["listing","comment","user","review"],{errorMap:()=>({message:"Type de rapport invalide"})}),severity:fn(["low","medium","high"],{errorMap:()=>({message:"Sévérité invalide"})}),status:fn(["pending","investigating","resolved","dismissed"],{errorMap:()=>({message:"Statut invalide"})}),moderator_notes:_t().max(500,"Les notes ne peuvent pas dépasser 500 caractères").optional()});Nn({general:Nn({siteName:_t().min(2,"Nom du site requis"),siteDescription:_t().min(10,"Description du site requise"),contactEmail:_t().email("Email de contact invalide"),supportPhone:_t().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),timezone:_t().min(1,"Fuseau horaire requis"),currency:fn(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),language:fn(["fr","en"],{errorMap:()=>({message:"Langue invalide"})})}),appearance:Nn({theme:fn(["light","dark","auto"],{errorMap:()=>({message:"Thème invalide"})}),primaryColor:_t().regex(/^#[0-9A-Fa-f]{6}$/,"Couleur hexadécimale invalide"),logoUrl:_t().url("URL du logo invalide").optional(),faviconUrl:_t().url("URL du favicon invalide").optional(),enableAnimations:wn(),enableGradients:wn()}),notifications:Nn({emailNotifications:wn(),pushNotifications:wn(),smsNotifications:wn(),adminAlerts:wn(),userWelcome:wn(),listingApproval:wn(),transactionUpdates:wn()}),security:Nn({requireEmailVerification:wn(),requirePhoneVerification:wn(),twoFactorAuth:wn(),sessionTimeout:li().min(1).max(168),maxLoginAttempts:li().min(3).max(10),passwordMinLength:li().min(6).max(20),enableCaptcha:wn()}),system:Nn({maintenanceMode:wn(),debugMode:wn(),enableLogs:wn(),backupFrequency:fn(["hourly","daily","weekly","monthly"]),maxFileSize:li().min(1).max(100),allowedFileTypes:Nb(_t()),enableCaching:wn(),cacheTTL:li().min(60).max(86400)})});Nn({searchTerm:_t().max(100,"Terme de recherche trop long").optional(),status:fn(["all","active","inactive","pending","approved","rejected"]).optional(),category:_t().optional(),dateFrom:KT().optional(),dateTo:KT().optional(),minPrice:li().min(0).optional(),maxPrice:li().min(0).optional(),sortBy:_t().optional(),sortOrder:fn(["asc","desc"]).optional(),page:li().int().min(1).optional(),perPage:li().int().min(1).max(100).optional()});const sk=(t,e)=>{try{return{success:!0,data:t.parse(e),errors:null}}catch(r){return r instanceof Do?{success:!1,data:null,errors:r.errors.reduce((i,s)=>{const o=s.path.join(".");return i[o]=s.message,i},{})}:{success:!1,data:null,errors:{general:"Erreur de validation inconnue"}}}};function yqe(){const{toast:t}=Yr(),e=Uo(),[r,n]=b.useState(""),[i,s]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState("name"),[d,h]=b.useState("asc"),[g,v]=b.useState(1),[y,x]=b.useState(10),[_,S]=b.useState(!1),[N,C]=b.useState(!1),[A,k]=b.useState(null),[P,O]=b.useState({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0}),[I,F]=b.useState({}),{getFieldError:H,hasFieldError:V,clearFieldError:U}=vEe(I),{data:z,isLoading:W,isError:J}=Yn({queryKey:["adminCategories",{searchTerm:r,typeFilter:i,statusFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>await Lg.getAllCategories()}),se=ci({mutationFn:Ce=>Lg.createCategory(Ce),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),S(!1),Le(),t({title:"Succès",description:"Catégorie créée avec succès"})},onError:Ce=>{t({title:"Erreur",description:Ce.message||"Une erreur est survenue",variant:"destructive"})}}),K=ci({mutationFn:({id:Ce,data:ot})=>Lg.updateCategory(Ce,ot),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),C(!1),k(null),Le(),t({title:"Succès",description:"Catégorie mise à jour avec succès"})},onError:Ce=>{t({title:"Erreur",description:Ce.message||"Une erreur est survenue",variant:"destructive"})}}),ee=ci({mutationFn:Ce=>Lg.deleteCategory(Ce),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),t({title:"Succès",description:"Catégorie supprimée avec succès"})},onError:Ce=>{t({title:"Erreur",description:Ce.message||"Une erreur est survenue",variant:"destructive"})}}),G=Ce=>{n(Ce.target.value),v(1)},ne=Ce=>{c===Ce?h(d==="asc"?"desc":"asc"):(u(Ce),h("asc"))},Y=Ce=>{v(Ce)},oe=Ce=>{x(Ce),v(1)},xe=Ce=>{k(Ce),O({name:Ce.name,slug:Ce.slug,parent_category:Ce.parent_category,description:Ce.description||"",icon:Ce.icon||"",sort_order:Ce.sort_order||0}),F({}),C(!0)},Ne=()=>{Le(),F({}),S(!0)},Le=()=>{O({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0})},ce=Ce=>{Ce.preventDefault();const ot=sk(ik,P);if(!ot.success){Object.values(ot.errors).forEach(Dt=>{t({title:"Erreur de validation",description:Dt,variant:"destructive"})});return}A?K.mutate({id:A.id,data:ot.data}):se.mutate(ot.data)},ae=Ce=>{ee.mutate(Ce)},ge=()=>{try{if(!z||z.length===0){t({title:"Aucune donnée",description:"Aucune catégorie à exporter",variant:"destructive"});return}F_.categories(z,"categories-maximarket"),t({title:"Export réussi",description:"Liste des catégories exportée en CSV"})}catch(Ce){t({title:"Erreur d'export",description:Ce.message||"Impossible d'exporter les données",variant:"destructive"})}},he=z?z.filter(Ce=>!(r&&!Ce.name.toLowerCase().includes(r.toLowerCase())||i!=="all"&&Ce.parent_category!==i||o!=="all"&&Ce.is_active!==(o==="active"))).sort((Ce,ot)=>{let Dt=Ce[c],fe=ot[c];return typeof Dt=="string"&&(Dt=Dt.toLowerCase(),fe=fe.toLowerCase()),d==="asc"?Dt>fe?1:-1:Dt<fe?1:-1}):[],Pe=Math.ceil(he.length/y),te=(g-1)*y,X=te+y,_e=he.slice(te,X),we=Ce=>Ce.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),We=Ce=>{O(Dt=>({...Dt,name:Ce,slug:we(Ce)}));const ot=sk(ik,{...P,name:Ce});ot.success?U("name",F):F(Dt=>({...Dt,name:ot.errors.name}))},Ue=(Ce,ot)=>{const Dt={...P,[Ce]:ot},fe=sk(ik,Dt);!fe.success&&fe.errors[Ce]?F(je=>({...je,[Ce]:fe.errors[Ce]})):U(Ce,F)};return W?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):J?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des catégories"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gérez les catégories et sous-catégories de votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{onClick:()=>ge(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(ue,{onClick:Ne,className:"bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700",children:[a.jsx(Io,{className:"mr-2 h-4 w-4"}),"Nouvelle Catégorie"]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"search",children:"Recherche"}),a.jsx(tt,{id:"search",placeholder:"Rechercher une catégorie...",value:r,onChange:G,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"typeFilter",children:"Type"}),a.jsxs(Mr,{value:i,onValueChange:s,children:[a.jsx(Tr,{className:"mt-1",children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les types"}),a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"statusFilter",children:"Statut"}),a.jsxs(Mr,{value:o,onValueChange:l,children:[a.jsx(Tr,{className:"mt-1",children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"all",children:"Tous les statuts"}),a.jsx(Ge,{value:"active",children:"Actif"}),a.jsx(Ge,{value:"inactive",children:"Inactif"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"perPage",children:"Par page"}),a.jsxs(Mr,{value:y.toString(),onValueChange:Ce=>oe(parseInt(Ce)),children:[a.jsx(Tr,{className:"mt-1",children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"10",children:"10"}),a.jsx(Ge,{value:"25",children:"25"}),a.jsx(Ge,{value:"50",children:"50"})]})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(rm,{children:[a.jsx(nm,{children:a.jsxs(an,{children:[a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("name"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Nom",c==="name"&&(d==="asc"?a.jsx(Ad,{className:"h-4 w-4"}):a.jsx(El,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("parent_category"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Type",c==="parent_category"&&(d==="asc"?a.jsx(Ad,{className:"h-4 w-4"}):a.jsx(El,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:"Slug"}),a.jsx(ur,{children:a.jsxs(ue,{variant:"ghost",onClick:()=>ne("sort_order"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Ordre",c==="sort_order"&&(d==="asc"?a.jsx(Ad,{className:"h-4 w-4"}):a.jsx(El,{className:"h-4 w-4"}))]})}),a.jsx(ur,{children:"Statut"}),a.jsx(ur,{children:"Actions"})]})}),a.jsx(im,{children:_e.map(Ce=>a.jsxs(an,{children:[a.jsx(Rt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[Ce.icon&&a.jsx("span",{className:"text-lg",children:Ce.icon}),Ce.name]})}),a.jsx(Rt,{children:a.jsxs(pt,{variant:"outline",children:[Ce.parent_category==="real_estate"&&"Immobilier",Ce.parent_category==="automobile"&&"Automobile",Ce.parent_category==="services"&&"Services",Ce.parent_category==="marketplace"&&"Marketplace"]})}),a.jsx(Rt,{className:"font-mono text-sm text-gray-500",children:Ce.slug}),a.jsx(Rt,{children:Ce.sort_order||0}),a.jsx(Rt,{children:a.jsx(pt,{variant:Ce.is_active?"success":"secondary",children:Ce.is_active?"Actif":"Inactif"})}),a.jsx(Rt,{children:a.jsxs(_u,{children:[a.jsx(ju,{asChild:!0,children:a.jsx(ue,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(Qd,{className:"h-4 w-4"})})}),a.jsxs(Gl,{align:"end",children:[a.jsxs(vr,{onClick:()=>xe(Ce),children:[a.jsx($_,{className:"mr-2 h-4 w-4"}),"Modifier"]}),a.jsx(Yp,{}),a.jsxs(vr,{onClick:()=>ae(Ce.id),className:"text-red-600",children:[a.jsx(Za,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},Ce.id))})]})}),Pe>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de ",te+1," à ",Math.min(X,he.length)," sur ",he.length," résultats"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>Y(1),disabled:g===1,children:a.jsx(Sy,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>Y(g-1),disabled:g===1,children:a.jsx(ca,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",g," sur ",Pe]}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>Y(g+1),disabled:g===Pe,children:a.jsx(ua,{className:"h-4 w-4"})}),a.jsx(ue,{variant:"outline",size:"sm",onClick:()=>Y(Pe),disabled:g===Pe,children:a.jsx(Ny,{className:"h-4 w-4"})})]})]})]}),a.jsx(o3,{open:_,onOpenChange:S,children:a.jsxs(wT,{className:"sm:max-w-[500px]",children:[a.jsxs(_T,{children:[a.jsx(ST,{children:"Créer une nouvelle catégorie"}),a.jsx(NT,{children:"Remplissez les informations pour créer une nouvelle catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"name",children:"Nom *"}),a.jsx(tt,{id:"name",value:P.name,onChange:Ce=>We(Ce.target.value),onBlur:Ce=>Ue("name",Ce.target.value),placeholder:"Nom de la catégorie",required:!0,className:V("name")?"border-red-500 focus:border-red-500":""}),a.jsx(V0,{error:H("name")})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"slug",children:"Slug *"}),a.jsx(tt,{id:"slug",value:P.slug,onChange:Ce=>O(ot=>({...ot,slug:Ce.target.value})),onBlur:Ce=>Ue("slug",Ce.target.value),placeholder:"slug-categorie",required:!0,className:V("slug")?"border-red-500 focus:border-red-500":""}),a.jsx(V0,{error:H("slug")})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"parent_category",children:"Type parent *"}),a.jsxs(Mr,{value:P.parent_category,onValueChange:Ce=>O(ot=>({...ot,parent_category:Ce})),children:[a.jsx(Tr,{children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"description",children:"Description"}),a.jsx(vu,{id:"description",value:P.description,onChange:Ce=>O(ot=>({...ot,description:Ce.target.value})),onBlur:Ce=>Ue("description",Ce.target.value),placeholder:"Description de la catégorie",rows:3,className:V("description")?"border-red-500 focus:border-red-500":""}),a.jsx(V0,{error:H("description")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"icon",children:"Icône"}),a.jsx(tt,{id:"icon",value:P.icon,onChange:Ce=>O(ot=>({...ot,icon:Ce.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"sort_order",type:"number",value:P.sort_order,onChange:Ce=>O(ot=>({...ot,sort_order:parseInt(Ce.target.value)||0})),onBlur:Ce=>Ue("sort_order",parseInt(Ce.target.value)||0),placeholder:"0",className:V("sort_order")?"border-red-500 focus:border-red-500":""}),a.jsx(V0,{error:H("sort_order")})]})]}),a.jsxs(jT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:se.isLoading,children:se.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zk,{className:"mr-2 h-4 w-4"}),"Créer"]})})]})]})]})}),a.jsx(o3,{open:N,onOpenChange:C,children:a.jsxs(wT,{className:"sm:max-w-[500px]",children:[a.jsxs(_T,{children:[a.jsx(ST,{children:"Modifier la catégorie"}),a.jsx(NT,{children:"Modifiez les informations de la catégorie"})]}),a.jsxs("form",{onSubmit:ce,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-name",children:"Nom *"}),a.jsx(tt,{id:"edit-name",value:P.name,onChange:Ce=>We(Ce.target.value),placeholder:"Nom de la catégorie",required:!0})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-slug",children:"Slug *"}),a.jsx(tt,{id:"edit-slug",value:P.slug,onChange:Ce=>O(ot=>({...ot,slug:Ce.target.value})),placeholder:"slug-categorie",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-parent_category",children:"Type parent *"}),a.jsxs(Mr,{value:P.parent_category,onValueChange:Ce=>O(ot=>({...ot,parent_category:Ce})),children:[a.jsx(Tr,{children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"real_estate",children:"Immobilier"}),a.jsx(Ge,{value:"automobile",children:"Automobile"}),a.jsx(Ge,{value:"services",children:"Services"}),a.jsx(Ge,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-description",children:"Description"}),a.jsx(vu,{id:"edit-description",value:P.description,onChange:Ce=>O(ot=>({...ot,description:Ce.target.value})),placeholder:"Description de la catégorie",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-icon",children:"Icône"}),a.jsx(tt,{id:"edit-icon",value:P.icon,onChange:Ce=>O(ot=>({...ot,icon:Ce.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(rt,{htmlFor:"edit-sort_order",children:"Ordre de tri"}),a.jsx(tt,{id:"edit-sort_order",type:"number",value:P.sort_order,onChange:Ce=>O(ot=>({...ot,sort_order:parseInt(Ce.target.value)||0})),placeholder:"0"})]})]}),a.jsxs(jT,{children:[a.jsx(ue,{type:"button",variant:"outline",onClick:()=>C(!1),children:"Annuler"}),a.jsx(ue,{type:"submit",disabled:K.isLoading,children:K.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Zk,{className:"mr-2 h-4 w-4"}),"Mettre à jour"]})})]})]})]})})]})}function xqe(){const{toast:t}=Yr(),[e,r]=b.useState(!1),[n,i]=b.useState(!1),{data:s,isLoading:o,error:l}=Yn({queryKey:["systemSettings"],queryFn:()=>mn.getSystemSettings(),staleTime:5*60*1e3}),[c,u]=b.useState({});b.useEffect(()=>{s&&u(s)},[s]),b.useEffect(()=>{Object.keys(c).length>0&&r(!0)},[c]);const d=(v,y,x)=>{u(_=>({..._,[v]:{..._[v],[y]:x}}))},h=async()=>{i(!0);try{await mn.updateSystemSettings(c),r(!1),t({title:"Succès",description:"Paramètres sauvegardés avec succès"})}catch(v){t({title:"Erreur",description:v.message||"Erreur lors de la sauvegarde",variant:"destructive"})}finally{i(!1)}},g=async()=>{try{await mn.resetToDefaults();const v=await mn.getSystemSettings();u(v),r(!1),t({title:"Réinitialisation",description:"Paramètres réinitialisés aux valeurs par défaut"})}catch(v){t({title:"Erreur",description:v.message||"Erreur lors de la réinitialisation",variant:"destructive"})}};return o?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):!c||Object.keys(c).length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des paramètres"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Paramètres Système"}),a.jsx("p",{className:"text-gray-600",children:"Configurez votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(ue,{variant:"outline",onClick:g,children:[a.jsx(Kl,{className:"mr-2 h-4 w-4"}),"Réinitialiser"]}),a.jsx(ue,{onClick:h,disabled:!e||n,children:n?"Sauvegarde...":a.jsxs(a.Fragment,{children:[a.jsx(Zk,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]})]}),e&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hn,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-blue-800 font-medium",children:"Modifications non sauvegardées"})]})}),a.jsxs(PR,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(q_,{className:"grid w-full grid-cols-4",children:[a.jsx(Li,{value:"general",children:"Général"}),a.jsx(Li,{value:"appearance",children:"Apparence"}),a.jsx(Li,{value:"notifications",children:"Notifications"}),a.jsx(Li,{value:"security",children:"Sécurité"})]}),a.jsx(Di,{value:"general",children:a.jsxs(It,{children:[a.jsx(ir,{children:a.jsx(sr,{children:"Informations du site"})}),a.jsxs(Bt,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Nom du site"}),a.jsx(tt,{value:c.general.siteName,onChange:v=>d("general","siteName",v.target.value)})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Email de contact"}),a.jsx(tt,{value:c.general.contactEmail,onChange:v=>d("general","contactEmail",v.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Fuseau horaire"}),a.jsxs(Mr,{value:c.general.timezone,onValueChange:v=>d("general","timezone",v),children:[a.jsx(Tr,{children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"Africa/Dakar",children:"Dakar (GMT+0)"}),a.jsx(Ge,{value:"Africa/Lagos",children:"Lagos (GMT+1)"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Devise"}),a.jsxs(Mr,{value:c.general.currency,onValueChange:v=>d("general","currency",v),children:[a.jsx(Tr,{children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"XOF",children:"XOF (Franc CFA)"}),a.jsx(Ge,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]})]})}),a.jsx(Di,{value:"appearance",children:a.jsxs(It,{children:[a.jsx(ir,{children:a.jsx(sr,{children:"Thème et apparence"})}),a.jsx(Bt,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Thème"}),a.jsxs(Mr,{value:c.appearance.theme,onValueChange:v=>d("appearance","theme",v),children:[a.jsx(Tr,{children:a.jsx(Ir,{})}),a.jsxs(Ar,{children:[a.jsx(Ge,{value:"light",children:"Clair"}),a.jsx(Ge,{value:"dark",children:"Sombre"}),a.jsx(Ge,{value:"auto",children:"Auto"})]})]})]}),a.jsxs("div",{children:[a.jsx(rt,{children:"Couleur principale"}),a.jsx(tt,{type:"color",value:c.appearance.primaryColor,onChange:v=>d("appearance","primaryColor",v.target.value),className:"w-full h-10"})]})]})})]})}),a.jsx(Di,{value:"notifications",children:a.jsxs(It,{children:[a.jsx(ir,{children:a.jsx(sr,{children:"Configuration des notifications"})}),a.jsx(Bt,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications par email"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),a.jsx(Bg,{checked:c.notifications.emailNotifications,onCheckedChange:v=>d("notifications","emailNotifications",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Notifications push"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Notifications push dans le navigateur"})]}),a.jsx(Bg,{checked:c.notifications.pushNotifications,onCheckedChange:v=>d("notifications","pushNotifications",v)})]})]})})]})}),a.jsx(Di,{value:"security",children:a.jsxs(It,{children:[a.jsx(ir,{children:a.jsx(sr,{children:"Sécurité et authentification"})}),a.jsx(Bt,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Vérification email obligatoire"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vérifier leur email"})]}),a.jsx(Bg,{checked:c.security.requireEmailVerification,onCheckedChange:v=>d("security","requireEmailVerification",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(rt,{children:"Activer le captcha"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Protection contre les bots"})]}),a.jsx(Bg,{checked:c.security.enableCaptcha,onCheckedChange:v=>d("security","enableCaptcha",v)})]})]})})]})})]})]})}const bqe=()=>a.jsxs("div",{className:"container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsxs(Oe.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center max-w-lg",children:[a.jsx("h1",{className:"text-9xl font-bold gradient-text mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Page non trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"La page que vous recherchez n'existe pas ou a été déplacée."}),a.jsx(ue,{asChild:!0,size:"lg",children:a.jsxs(ar,{to:"/",children:[a.jsx(rp,{className:"mr-2 h-4 w-4"}),"Retour à l'accueil"]})})]}),a.jsx("div",{className:"absolute top-1/3 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl"})]}),wqe=()=>{const t=[{icon:a.jsx(ofe,{className:"h-8 w-8 text-primary"}),title:"Innovation Continue",description:"Nous repoussons constamment les limites pour offrir des solutions de pointe."},{icon:a.jsx(D_,{className:"h-8 w-8 text-primary"}),title:"Confiance & Sécurité",description:"La sécurité de vos transactions et de vos données est notre priorité absolue."},{icon:a.jsx(Ka,{className:"h-8 w-8 text-primary"}),title:"Approche Communautaire",description:"Nous construisons une plateforme pour et avec la communauté ouest-africaine."},{icon:a.jsx(yR,{className:"h-8 w-8 text-primary"}),title:"Impact Local Positif",description:"Nous visons à dynamiser l'économie locale et à créer des opportunités."}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-16",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["À Propos de ",a.jsx("span",{className:"gradient-text",children:mr.siteName})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:[mr.tagline,". Notre mission est de révolutionner le commerce en ligne en Afrique de l'Ouest grâce à une technologie innovante et une approche centrée sur l'utilisateur."]})]}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs(Oe.section,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"mb-20 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[a.jsx(Wk,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Histoire"]}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Fondée avec la vision de simplifier et de sécuriser les échanges commerciaux en Afrique de l'Ouest, ",mr.siteName," est née d'une passion pour la technologie et d'un engagement profond envers le développement économique de la région. Nous avons identifié un besoin crucial pour une plateforme unifiée, moderne et fiable, capable de connecter acheteurs et vendeurs de manière transparente."]}),a.jsxs("p",{className:"text-muted-foreground",children:["Depuis nos débuts, nous avons travaillé sans relâche pour construire une marketplace qui non seulement répond aux besoins actuels, mais anticipe également les tendances futures du commerce électronique. Notre équipe est composée d'experts locaux et internationaux, tous unis par l'objectif de faire de ",mr.siteName," le leader incontesté du marché."]})]}),a.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden shadow-2xl",children:[a.jsx("img",{className:"w-full h-full object-cover",alt:"Équipe MaxiMarket travaillant ensemble",src:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})]}),a.jsx(Nv,{className:"my-20"}),a.jsxs(Oe.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-20 text-center",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-10 flex items-center justify-center",children:[a.jsx(Sfe,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Mission & Vision"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Mission"}),a.jsx("p",{className:"text-muted-foreground",children:"Connecter l'Afrique de l'Ouest au futur du commerce en fournissant une plateforme marketplace innovante, sécurisée et accessible à tous. Nous nous engageons à autonomiser les individus et les entreprises en facilitant les transactions et en stimulant la croissance économique locale."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Vision"}),a.jsx("p",{className:"text-muted-foreground",children:"Devenir la marketplace de référence en Afrique, reconnue pour son excellence technologique, son impact positif sur les communautés et sa contribution à un écosystème commercial numérique florissant et inclusif pour le continent."})]})]})]}),a.jsx(Nv,{className:"my-20"}),a.jsxs(Oe.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nos Valeurs Fondamentales"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>a.jsxs(Oe.div,{className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors duration-300 glassmorphic-card",whileHover:{y:-5},children:[a.jsx("div",{className:"p-4 bg-primary/10 rounded-full inline-block mb-4",children:e.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},r))})]}),a.jsx("div",{className:"text-center mt-16",children:a.jsxs("p",{className:"text-lg text-muted-foreground",children:["Prêt à découvrir la différence ",mr.siteName," ? ",a.jsx("a",{href:"/",className:"text-primary font-semibold hover:underline",children:"Explorez notre plateforme dès maintenant."})]})})]})]})},_qe=()=>{const{toast:t}=Yr(),[e,r]=b.useState({name:"",email:"",subject:"",message:""}),[n,i]=b.useState(!1),s=l=>{const{name:c,value:u}=l.target;r(d=>({...d,[c]:u}))},o=l=>{l.preventDefault(),i(!0),setTimeout(()=>{console.log("Form submitted:",e),t({title:"Message envoyé !",description:"Merci pour votre message. Je vous répondrai dès que possible.",duration:5e3}),r({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return a.jsxs(Oe.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:o,className:"space-y-6 gradient-border p-6 bg-card rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"name",children:"Nom"}),a.jsx(tt,{id:"name",name:"name",placeholder:"Votre nom",value:e.name,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"email",children:"Email"}),a.jsx(tt,{id:"email",name:"email",type:"email",placeholder:"votre@email.com",value:e.email,onChange:s,required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"subject",children:"Sujet"}),a.jsx(tt,{id:"subject",name:"subject",placeholder:"Sujet de votre message",value:e.subject,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(rt,{htmlFor:"message",children:"Message"}),a.jsx(vu,{id:"message",name:"message",placeholder:"Votre message...",rows:6,value:e.message,onChange:s,required:!0})]}),a.jsx(ue,{type:"submit",className:"w-full",disabled:n,children:n?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(Cy,{className:"mr-2 h-4 w-4"}),"Envoyer le message"]})})]})},jqe=()=>{const t=[{icon:a.jsx(pu,{className:"h-6 w-6"}),label:"Email",value:"contact@example.com",href:"mailto:contact@example.com"},{icon:a.jsx(qa,{className:"h-6 w-6"}),label:"Téléphone",value:"+33 6 12 34 56 78",href:"tel:+33612345678"},{icon:a.jsx(Po,{className:"h-6 w-6"}),label:"Adresse",value:"Paris, France",href:"https://maps.google.com/?q=Paris,France"}],e=[{icon:a.jsx(nfe,{className:"h-6 w-6"}),label:"GitHub",href:"https://github.com"},{icon:a.jsx(xW,{className:"h-6 w-6"}),label:"Twitter",href:"https://twitter.com"},{icon:a.jsx(gW,{className:"h-6 w-6"}),label:"LinkedIn",href:"https://linkedin.com"}];return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Contactez ",a.jsx("span",{className:"gradient-text",children:"moi"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Vous avez un projet en tête ou une question ? N'hésitez pas à me contacter !"})]}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs(Oe.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informations de contact"}),a.jsx("div",{className:"space-y-6",children:t.map((r,n)=>a.jsxs(Oe.a,{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 p-4 rounded-lg glass-effect hover:border-primary transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:[a.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:r.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:r.label}),a.jsx("p",{className:"text-muted-foreground",children:r.value})]})]},n))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Réseaux sociaux"}),a.jsx("div",{className:"flex space-x-4",children:e.map((r,n)=>a.jsx(Oe.a,{href:r.href,target:"_blank",rel:"noopener noreferrer","aria-label":r.label,className:"p-4 rounded-full bg-secondary hover:bg-primary/20 transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:r.icon},n))})]}),a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden gradient-border",children:a.jsx("img",{className:"w-full h-full object-cover",alt:"Carte de localisation",src:"https://images.unsplash.com/photo-1569336415962-a4bd9f69c07a"})})]}),a.jsx(Oe.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Envoyez un message"}),a.jsx(_qe,{})]})})]})})]})},Sqe=()=>{const t=[{title:"Développeur Frontend Senior (React)",location:"Dakar, Sénégal (Hybride)",type:"Temps Plein",link:"#"},{title:"Chef de Produit Marketplace",location:"Abidjan, Côte d'Ivoire",type:"Temps Plein",link:"#"},{title:"Spécialiste Marketing Digital",location:"Lagos, Nigéria (Remote)",type:"Temps Plein",link:"#"},{title:"Responsable Service Client Bilingue",location:"Dakar, Sénégal",type:"Temps Plein",link:"#"}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[a.jsx(Fd,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Rejoignez l'Équipe ",a.jsx("span",{className:"gradient-text",children:mr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Façonnez l'avenir du commerce en Afrique de l'Ouest avec nous. Découvrez nos opportunités de carrière passionnantes."})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16 bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-8 text-center flex items-center justify-center",children:["Pourquoi travailler chez ",mr.siteName," ?"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[a.jsxs("div",{className:"p-6",children:[a.jsx(yW,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Impact Significatif"}),a.jsx("p",{className:"text-muted-foreground",children:"Contribuez à un projet qui transforme réellement la vie des gens et l'économie locale."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(Ka,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Culture Collaborative"}),a.jsx("p",{className:"text-muted-foreground",children:"Rejoignez une équipe passionnée, diverse et solidaire où chaque voix compte."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(Fd,{className:"h-12 w-12 text-green-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Croissance et Apprentissage"}),a.jsx("p",{className:"text-muted-foreground",children:"Bénéficiez d'opportunités de développement professionnel continu et relevez des défis stimulants."})]})]})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Postes Ouverts Actuellement"}),t.length>0?a.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:t.map((e,r)=>a.jsxs(Oe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*r+.5},className:"bg-card p-6 rounded-lg shadow-md border border-border hover:border-primary transition-colors flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-primary",children:e.title}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:[e.location," - ",e.type]})]}),a.jsx(ue,{asChild:!0,className:"mt-4 sm:mt-0 bg-primary hover:bg-primary/90",children:a.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:["Voir l'Offre ",a.jsx(xv,{className:"ml-2 h-4 w-4"})]})})]},r))}):a.jsx("p",{className:"text-center text-muted-foreground text-lg",children:"Nous n'avons pas de postes ouverts pour le moment, mais nous sommes toujours à la recherche de talents exceptionnels. N'hésitez pas à nous envoyer une candidature spontanée !"}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(ue,{variant:"outline",size:"lg",children:"Envoyer une Candidature Spontanée"})})]})]})},Nqe=()=>{const t=[{id:1,title:"MaxiMarket révolutionne le e-commerce en Afrique de l'Ouest",date:"01 Juin 2025",description:"Lancement officiel de la plateforme marketplace innovante MaxiMarket.",pdfUrl:"#"},{id:2,title:"Partenariat stratégique avec PayDunya",date:"15 Mai 2025",description:"MaxiMarket s'associe à PayDunya pour faciliter les paiements en ligne.",pdfUrl:"#"}],e={logos:[{name:"Logo Principal",format:"PNG, SVG",size:"2MB",url:"#"},{name:"Logo Monochrome",format:"PNG, SVG",size:"1.5MB",url:"#"}],photos:[{name:"Photos de l'équipe",format:"JPG",size:"5MB",url:"#"},{name:"Interface utilisateur",format:"JPG",size:"3MB",url:"#"}]},r={name:"Service Relations Presse",email:"presse@maximarket.com",phone:"+221 77 123 45 67"};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(ffe,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Espace ",a.jsx("span",{className:"gradient-text",children:"Presse"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Retrouvez toutes les actualités, ressources et informations pour la presse concernant ",mr.siteName,"."]})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center",children:[a.jsx(Gde,{className:"h-6 w-6 mr-2 text-primary"}),"Derniers Communiqués de Presse"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(n=>a.jsxs(It,{className:"hover:border-primary transition-colors",children:[a.jsxs(ir,{children:[a.jsx(sr,{children:n.title}),a.jsx(Cn,{children:n.date})]}),a.jsxs(Bt,{children:[a.jsx("p",{className:"mb-4 text-muted-foreground",children:n.description}),a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:n.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(Ha,{className:"mr-2 h-4 w-4"})," Télécharger le PDF"]})})]})]},n.id))})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Kit Média"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Logos"}),a.jsx(Cn,{children:"Téléchargez nos logos officiels"})]}),a.jsx(Bt,{children:a.jsx("ul",{className:"space-y-4",children:e.logos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(Ha,{className:"h-4 w-4"})})})]},i))})})]}),a.jsxs(It,{children:[a.jsxs(ir,{children:[a.jsx(sr,{children:"Photos"}),a.jsx(Cn,{children:"Photos officielles haute résolution"})]}),a.jsx(Bt,{children:a.jsx("ul",{className:"space-y-4",children:e.photos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(ue,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(Ha,{className:"h-4 w-4"})})})]},i))})})]})]})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"text-center bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Presse"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("p",{className:"font-medium text-lg mb-2",children:r.name}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Pour toute demande d'interview ou d'information complémentaire"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ue,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:`mailto:${r.email}`,children:[a.jsx(xv,{className:"mr-2 h-4 w-4"}),r.email]})}),a.jsxs(ue,{variant:"outline",className:"w-full",children:[a.jsx(xv,{className:"mr-2 h-4 w-4"}),r.phone]})]})]})]})]})},Cqe=()=>{const[t,e]=b.useState(""),r=[{title:"Comment publier une annonce ?",link:"/faq#publier-annonce"},{title:"Sécuriser mon compte",link:"/faq#securite-compte"},{title:"Problèmes de paiement",link:"/faq#paiement"},{title:"Contacter un vendeur/acheteur",link:"/faq#contacter-utilisateur"},{title:"Signaler un problème",link:"/faq#signaler-probleme"}],n=[{name:"Comptes et Profils",icon:a.jsx(Ka,{className:"h-8 w-8 text-primary"}),description:"Gestion de votre compte, paramètres et notifications."},{name:"Acheter sur MaxiMarket",icon:a.jsx(bfe,{className:"h-8 w-8 text-primary"}),description:"Recherche, achat, paiements et livraisons."},{name:"Vendre sur MaxiMarket",icon:a.jsx(tf,{className:"h-8 w-8 text-primary"}),description:"Création d'annonces, gestion des ventes, boosters."},{name:"Sécurité et Confiance",icon:a.jsx(D_,{className:"h-8 w-8 text-primary"}),description:"Protéger votre compte, éviter les fraudes."}],i=s=>{s.preventDefault(),console.log("Searching for:",t)};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(gR,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Centre d'Aide ",a.jsx("span",{className:"gradient-text",children:mr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Comment pouvons-nous vous aider aujourd'hui ?"})]}),a.jsxs(Oe.form,{onSubmit:i,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-16 relative",children:[a.jsx(tt,{type:"search",placeholder:"Rechercher des articles d'aide (ex: mot de passe oublié)",className:"w-full h-14 pl-12 pr-4 text-lg rounded-full shadow-lg",value:t,onChange:s=>e(s.target.value)}),a.jsx(ei,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-muted-foreground"}),a.jsx(ue,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-10 rounded-full",children:"Rechercher"})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sujets Populaires"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((s,o)=>a.jsxs(ar,{to:s.link,className:"block bg-card p-6 rounded-lg shadow-md hover:shadow-lg hover:border-primary border border-transparent transition-all duration-300 transform hover:-translate-y-1 glassmorphic-card",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-2 flex items-center",children:[s.title," ",a.jsx(Cl,{className:"ml-auto h-4 w-4 opacity-50 group-hover:opacity-100"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez notre FAQ pour une réponse rapide."})]},o))})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Parcourir par Catégorie"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1+.7},className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors glassmorphic-card",children:[a.jsx("div",{className:"p-3 bg-primary/10 rounded-full inline-block mb-4",children:s.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),a.jsx(ue,{variant:"outline",asChild:!0,children:a.jsx(ar,{to:`/faq#cat-${s.name.toLowerCase().replace(/\s+/g,"-")}`,children:"Explorer"})})]},o))})]}),a.jsxs(Oe.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"text-center bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Notre équipe d'assistance est là pour vous aider. Contactez-nous directement ou consultez notre FAQ complète."}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(ue,{size:"lg",asChild:!0,className:"bg-primary hover:bg-primary/90",children:a.jsxs(ar,{to:"/contactez-nous",children:[a.jsx(Qn,{className:"mr-2 h-5 w-5"})," Contacter le Support"]})}),a.jsx(ue,{size:"lg",variant:"outline",asChild:!0,children:a.jsxs(ar,{to:"/faq",children:[a.jsx(Yde,{className:"mr-2 h-5 w-5"})," Consulter la FAQ"]})})]})]})]})},Eqe=()=>{const t=mr.siteName,e=[{id:"general-1",category:"Général",question:`Qu'est-ce que ${t} ?`,answer:`${t} est une plateforme marketplace innovante conçue pour l'Afrique de l'Ouest, facilitant l'achat et la vente de biens immobiliers, véhicules, services professionnels et divers autres produits. Notre objectif est de simplifier le commerce en ligne et de le rendre plus sûr et accessible.`},{id:"compte-1",category:"Compte Utilisateur",question:`Comment créer un compte sur ${t} ?`,answer:"Pour créer un compte, cliquez sur le bouton 'Connexion / Inscription' en haut à droite de la page. Vous pourrez alors vous inscrire en utilisant votre adresse e-mail ou via des services tiers comme Google ou Facebook (si activé). Suivez simplement les instructions à l'écran."},{id:"compte-2",category:"Compte Utilisateur",question:"J'ai oublié mon mot de passe, que faire ?",answer:"Si vous avez oublié votre mot de passe, cliquez sur le lien 'Mot de passe oublié ?' sur la page de connexion. Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe."},{id:"publier-annonce",category:`Vendre sur ${t}`,question:"Comment publier une annonce ?",answer:"Une fois connecté, accédez à votre tableau de bord et cherchez le bouton 'Publier une annonce' ou 'Nouvelle annonce'. Choisissez la catégorie appropriée, remplissez tous les champs requis (titre, description, prix, photos, etc.) et soumettez votre annonce. Elle sera examinée par notre équipe avant d'être publiée."},{id:"paiement",category:"Paiements et Transactions",question:"Quels sont les moyens de paiement acceptés ?",answer:"Nous acceptons plusieurs moyens de paiement, y compris les cartes bancaires (Visa, Mastercard), les paiements mobiles (Orange Money, Wave, etc. selon disponibilité régionale), PayPal et PayDunya. Les options exactes peuvent varier en fonction de votre pays."},{id:"securite-compte",category:"Sécurité",question:"Comment puis-je sécuriser mon compte ?",answer:"Pour sécuriser votre compte, utilisez un mot de passe fort et unique. Activez l'authentification à deux facteurs (2FA) si disponible dans vos paramètres de compte. Méfiez-vous des e-mails de phishing et ne partagez jamais vos identifiants."},{id:"contacter-utilisateur",category:"Interaction",question:"Comment contacter un vendeur ou un acheteur ?",answer:"Sur la page d'une annonce, vous trouverez généralement un bouton ou un lien pour contacter le vendeur (par exemple, 'Contacter le vendeur', 'Envoyer un message'). Utilisez notre système de messagerie intégré pour communiquer en toute sécurité. Les coordonnées directes ne sont partagées qu'avec le consentement des deux parties."},{id:"signaler-probleme",category:"Support et Litiges",question:"Comment signaler un problème ou une annonce suspecte ?",answer:"Si vous rencontrez un problème ou si une annonce vous semble suspecte, vous pouvez la signaler en utilisant le lien 'Signaler cette annonce' présent sur la page de l'annonce. Pour d'autres problèmes, contactez notre support client via le Centre d'Aide."}],r=[...new Set(e.map(n=>n.category))];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(gR,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:["Questions Fréquemment Posées ",a.jsx("span",{className:"gradient-text",children:"(FAQ)"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:["Trouvez des réponses rapides à vos questions sur ",t,"."]})]}),r.map((n,i)=>a.jsxs(Oe.section,{id:`cat-${n.toLowerCase().replace(/\s+/g,"-")}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i},className:"mb-12 max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 border-l-4 border-primary pl-4 text-foreground",children:n}),a.jsx(W_e,{type:"single",collapsible:!0,className:"w-full space-y-3",children:e.filter(s=>s.category===n).map(s=>a.jsxs(iZ,{value:s.id,className:"bg-card border border-border rounded-lg shadow-sm hover:border-primary/50 transition-colors",children:[a.jsx(sZ,{className:"p-6 text-left font-semibold hover:no-underline text-foreground",children:s.question}),a.jsx(aZ,{className:"p-6 pt-0 text-muted-foreground",children:s.answer})]},s.id))})]},n)),a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+.1*r.length},className:"text-center mt-16",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Vous n'avez pas trouvé de réponse ?"}),a.jsx(ue,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 transition-opacity",children:a.jsx(ar,{to:"/contactez-nous",children:"Contactez notre support"})})]})]})},Pqe=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(D_,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Politique de ",a.jsx("span",{className:"gradient-text",children:"Confidentialité"})]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg mb-6",children:["Bienvenue sur ",mr.siteName,". Nous nous engageons à protéger la confidentialité de vos informations personnelles. Cette politique de confidentialité explique comment nous collectons, utilisons, divulguons et protégeons vos informations lorsque vous visitez notre site web et utilisez nos services."]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"1. Informations que nous collectons"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons collecter des informations personnelles vous concernant de différentes manières, notamment :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Informations fournies directement par vous :"})," Lorsque vous créez un compte, publiez une annonce, effectuez une transaction, communiquez avec nous ou d'autres utilisateurs (nom, adresse e-mail, numéro de téléphone, informations de paiement, etc.)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations collectées automatiquement :"})," Lorsque vous utilisez notre site, nous pouvons collecter des informations sur votre appareil, votre activité de navigation, votre adresse IP, votre localisation (si autorisée), les cookies et autres technologies de suivi."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations provenant de tiers :"})," Nous pouvons recevoir des informations vous concernant de la part de services tiers, tels que les fournisseurs de services de paiement ou les plateformes de médias sociaux si vous choisissez de lier votre compte."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Utilisation de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous utilisons les informations que nous collectons pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Fournir, exploiter et améliorer nos services."}),a.jsx("li",{children:"Traiter vos transactions et gérer votre compte."}),a.jsx("li",{children:"Personnaliser votre expérience sur notre plateforme."}),a.jsx("li",{children:"Communiquer avec vous, y compris pour le service client et les mises à jour."}),a.jsx("li",{children:"Assurer la sécurité de notre plateforme et prévenir la fraude."}),a.jsx("li",{children:"Analyser l'utilisation de notre site et améliorer nos offres."}),a.jsx("li",{children:"Respecter nos obligations légales."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Partage de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons partager vos informations personnelles dans les circonstances suivantes :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Avec d'autres utilisateurs :"})," Pour faciliter les transactions et les communications (par exemple, partager votre nom d'utilisateur ou les informations de contact nécessaires pour une transaction)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Avec des fournisseurs de services tiers :"})," Qui nous aident à exploiter notre plateforme (hébergement, traitement des paiements, analyse de données, marketing, etc.). Ces fournisseurs sont contractuellement tenus de protéger vos informations."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Pour des raisons légales :"})," Si la loi l'exige, ou pour répondre à une procédure légale valide, protéger nos droits, notre propriété ou notre sécurité, ou ceux de nos utilisateurs ou du public."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"En cas de transfert d'entreprise :"})," En cas de fusion, acquisition, réorganisation ou vente d'actifs, vos informations peuvent être transférées."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Vos droits et choix"]}),a.jsx("p",{className:"mb-4",children:"Selon votre juridiction, vous pouvez avoir certains droits concernant vos informations personnelles, tels que :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Le droit d'accéder à vos informations."}),a.jsx("li",{children:"Le droit de corriger ou de mettre à jour vos informations."}),a.jsx("li",{children:"Le droit de supprimer vos informations."}),a.jsx("li",{children:"Le droit de vous opposer ou de restreindre certains traitements."}),a.jsx("li",{children:"Le droit à la portabilité des données."})]}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Vous pouvez généralement gérer les informations de votre compte et vos préférences de communication via les paramètres de votre compte. Pour exercer d'autres droits, veuillez nous contacter."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Sécurité des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous mettons en œuvre des mesures de sécurité techniques et organisationnelles raisonnables pour protéger vos informations personnelles contre l'accès non autorisé, la divulgation, l'altération ou la destruction. Cependant, aucune méthode de transmission sur Internet ou de stockage électronique n'est totalement sécurisée."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Conservation des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous conservons vos informations personnelles aussi longtemps que nécessaire pour atteindre les objectifs décrits dans cette politique de confidentialité, sauf si une période de conservation plus longue est requise ou autorisée par la loi."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Transferts internationaux"]}),a.jsx("p",{className:"text-muted-foreground",children:"Vos informations peuvent être transférées et traitées dans des pays autres que votre pays de résidence, où les lois sur la protection des données peuvent différer. Nous prendrons des mesures appropriées pour garantir que vos informations personnelles restent protégées conformément à cette politique."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Modifications de cette politique"]}),a.jsx("p",{className:"text-muted-foreground",children:'Nous pouvons mettre à jour cette politique de confidentialité de temps à autre. Nous vous informerons de tout changement important en publiant la nouvelle politique sur notre site et en mettant à jour la date de "Dernière mise à jour".'})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Nous contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions ou des préoccupations concernant cette politique de confidentialité ou nos pratiques en matière de données, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:privacy@${mr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["privacy@",mr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),kqe=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(Kr,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Termes et ",a.jsx("span",{className:"gradient-text",children:"Conditions"})," d'Utilisation"]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg",children:[`Veuillez lire attentivement ces Termes et Conditions ("Termes") avant d'utiliser le site web `,mr.siteName,' (le "Service") exploité par ',mr.siteName,` ("nous", "notre", ou "nos"). Votre accès et votre utilisation du Service sont conditionnés par votre acceptation et votre respect de ces Termes. Ces Termes s'appliquent à tous les visiteurs, utilisateurs et autres personnes qui accèdent ou utilisent le Service.`]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(rf,{className:"mr-2 h-6 w-6 text-primary"}),"1. Acceptation des Termes"]}),a.jsx("p",{className:"text-muted-foreground",children:"En accédant ou en utilisant le Service, vous acceptez d'être lié par ces Termes. Si vous n'êtes pas d'accord avec une partie des termes, vous ne pouvez pas accéder au Service."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"2. Comptes"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Lorsque vous créez un compte chez nous, vous devez nous fournir des informations exactes, complètes et à jour à tout moment. Le non-respect de cette obligation constitue une violation des Termes, ce qui peut entraîner la résiliation immédiate de votre compte sur notre Service."}),a.jsx("p",{children:"Vous êtes responsable de la protection du mot de passe que vous utilisez pour accéder au Service et de toutes les activités ou actions effectuées sous votre mot de passe, que votre mot de passe soit avec notre Service ou un service tiers."}),a.jsx("p",{children:"Vous acceptez de ne pas divulguer votre mot de passe à un tiers. Vous devez nous informer immédiatement dès que vous prenez connaissance d'une violation de la sécurité ou d'une utilisation non autorisée de votre compte."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"3. Contenu Utilisateur"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:'Notre Service vous permet de publier, lier, stocker, partager et autrement rendre disponible certaines informations, textes, graphiques, vidéos ou autres supports ("Contenu Utilisateur"). Vous êtes responsable du Contenu Utilisateur que vous publiez sur ou via le Service, y compris sa légalité, sa fiabilité et sa pertinence.'}),a.jsx("p",{children:"En publiant du Contenu Utilisateur sur ou via le Service, vous déclarez et garantissez que : (i) le Contenu Utilisateur vous appartient (vous en êtes propriétaire) et/ou vous avez le droit de l'utiliser et le droit de nous accorder les droits et la licence prévus dans ces Termes, et (ii) la publication de votre Contenu Utilisateur sur ou via le Service ne viole pas les droits à la vie privée, les droits de publicité, les droits d'auteur, les droits contractuels ou tout autre droit de toute personne ou entité."}),a.jsx("p",{children:"Vous conservez tous vos droits sur tout Contenu Utilisateur que vous soumettez, publiez ou affichez sur ou via le Service et vous êtes responsable de la protection de ces droits. Nous n'assumons aucune responsabilité et n'engageons aucune responsabilité pour le Contenu Utilisateur que vous ou un tiers publiez sur ou via le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"4. Utilisation Acceptable"]}),a.jsx("p",{className:"mb-4",children:"Vous acceptez de ne pas utiliser le Service pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Publier du contenu illégal, nuisible, menaçant, abusif, harcelant, diffamatoire, vulgaire, obscène, haineux ou autrement répréhensible."}),a.jsx("li",{children:"Usurper l'identité d'une personne ou d'une entité, ou déclarer faussement ou déformer autrement votre affiliation avec une personne ou une entité."}),a.jsx("li",{children:"Télécharger, publier ou transmettre de quelque manière que ce soit tout contenu que vous n'avez pas le droit de transmettre en vertu d'une loi ou de relations contractuelles ou fiduciaires."}),a.jsx("li",{children:"Violer toute loi locale, étatique, nationale ou internationale applicable."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"5. Propriété Intellectuelle"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Le Service et son contenu original (à l'exclusion du Contenu Utilisateur), ses caractéristiques et fonctionnalités sont et resteront la propriété exclusive de ",mr.siteName," et de ses concédants de licence. Le Service est protégé par le droit d'auteur, les marques commerciales et d'autres lois. Nos marques et habillages commerciaux ne peuvent être utilisés en relation avec un produit ou service sans le consentement écrit préalable de ",mr.siteName,"."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"6. Liens Vers D'autres Sites Web"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:["Notre Service peut contenir des liens vers des sites web ou des services tiers qui ne sont pas détenus ou contrôlés par ",mr.siteName,"."]}),a.jsxs("p",{children:[mr.siteName," n'a aucun contrôle sur, et n'assume aucune responsabilité pour, le contenu, les politiques de confidentialité ou les pratiques de tout site web ou service tiers. Vous reconnaissez et acceptez en outre que ",mr.siteName," ne sera pas responsable, directement ou indirectement, de tout dommage ou perte causé ou présumé avoir été causé par ou en relation avec l'utilisation ou la confiance accordée à un tel contenu, biens ou services disponibles sur ou via de tels sites web ou services."]}),a.jsx("p",{children:"Nous vous conseillons vivement de lire les termes et conditions et les politiques de confidentialité de tout site web ou service tiers que vous visitez."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"7. Résiliation"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous pouvons résilier ou suspendre votre compte et interdire l'accès au Service immédiatement, sans préavis ni responsabilité, à notre seule discrétion, pour quelque raison que ce soit et sans limitation, y compris mais sans s'y limiter, une violation des Termes."}),a.jsx("p",{children:"Si vous souhaitez résilier votre compte, vous pouvez simplement cesser d'utiliser le Service."}),a.jsx("p",{children:"Toutes les dispositions des Termes qui, de par leur nature, devraient survivre à la résiliation survivront à la résiliation, y compris, sans limitation, les dispositions relatives à la propriété, les exclusions de garantie, l'indemnisation et les limitations de responsabilité."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"8. Limitation de Responsabilité"]}),a.jsxs("p",{className:"text-muted-foreground",children:["En aucun cas ",mr.siteName,", ni ses administrateurs, employés, partenaires, agents, fournisseurs ou affiliés, ne pourront être tenus responsables de tout dommage indirect, accessoire, spécial, consécutif ou punitif, y compris, sans limitation, la perte de profits, de données, d'utilisation, de clientèle ou d'autres pertes immatérielles, résultant de votre accès ou votre utilisation ou votre incapacité à accéder ou à utiliser le Service."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"9. Droit Applicable"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Ces Termes seront régis et interprétés conformément aux lois du Sénégal, sans égard à ses dispositions relatives aux conflits de lois."}),a.jsx("p",{children:"Notre manquement à faire respecter un droit ou une disposition de ces Termes ne sera pas considéré comme une renonciation à ces droits. Si une disposition de ces Termes est jugée invalide ou inapplicable par un tribunal, les autres dispositions de ces Termes resteront en vigueur. Ces Termes constituent l'intégralité de l'accord entre nous concernant notre Service, et remplacent et annulent tous les accords antérieurs que nous pourrions avoir entre nous concernant le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"10. Modifications"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous nous réservons le droit, à notre seule discrétion, de modifier ou de remplacer ces Termes à tout moment. Si une révision est importante, nous nous efforcerons de fournir un préavis d'au moins 30 jours avant l'entrée en vigueur des nouveaux termes. Ce qui constitue un changement important sera déterminé à notre seule discrétion."}),a.jsx("p",{children:"En continuant à accéder ou à utiliser notre Service après l'entrée en vigueur de ces révisions, vous acceptez d'être lié par les termes révisés. Si vous n'acceptez pas les nouveaux termes, veuillez cesser d'utiliser le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Kr,{className:"mr-2 h-6 w-6 text-primary"}),"11. Nous Contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions concernant ces Termes, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:legal@${mr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["legal@",mr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),Tqe=({post:t,index:e,featured:r=!1})=>{const n=new Date(t.publishedAt),i=AW(n,{addSuffix:!0,locale:om});return a.jsx(Oe.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.1},className:qe("group overflow-hidden rounded-lg border border-border bg-card transition-all duration-300 card-hover",r?"col-span-full md:col-span-2 md:row-span-2":"md:col-span-1"),children:a.jsxs(ar,{to:`/blog/${t.slug||t.id}`,className:"block h-full",children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${t.title}`,src:"https://images.unsplash.com/photo-1578811344633-3376eab0f8ce"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-70"}),r&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(pt,{variant:"default",className:"bg-primary/90 backdrop-blur-sm",children:"À la une"})}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[t.tags&&t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.tags.slice(0,r?3:2).map((s,o)=>a.jsx(pt,{variant:"secondary",className:"bg-secondary/50 backdrop-blur-sm",children:s},o))}),r&&a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 line-clamp-2",children:t.title})]})]}),a.jsxs("div",{className:"p-5",children:[!r&&a.jsx("h2",{className:"text-lg font-bold mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:t.title}),a.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-4",children:t.excerpt}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Hl,{className:"h-3 w-3 mr-1"}),i]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(is,{className:"h-3 w-3 mr-1"}),t.readingTime]})]}),t.category&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(tf,{className:"h-3 w-3 mr-1"}),t.category]})]})]})]})})},Aqe=[{id:"maximarket-welcome-post",title:"Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !",slug:"bienvenue-sur-maximarket-marketplace-futuriste",excerpt:"Découvrez MaxiMarket, la plateforme innovante qui révolutionne le commerce en Afrique de l'Ouest. Immobilier, automobile, services et plus encore !",content:`
# Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !

Nous sommes ravis de vous accueillir sur **MaxiMarket**, la destination incontournable pour toutes vos transactions en Afrique de l'Ouest. Que vous cherchiez à acheter, vendre ou louer, MaxiMarket vous offre une expérience utilisateur unique, moderne et sécurisée.

## Ce que MaxiMarket vous propose :

### 1. Immobilier de Pointe
Trouvez l'appartement de vos rêves, la maison idéale pour votre famille, un terrain pour construire votre avenir ou le local commercial parfait pour votre entreprise. Avec nos filtres avancés, nos visites virtuelles à 360° et nos outils d'estimation IA, la recherche immobilière n'a jamais été aussi simple et efficace.

### 2. Automobile Simplifié
Parcourez notre vaste sélection de voitures, motos et véhicules utilitaires, neufs ou d'occasion. Bénéficiez d'historiques de véhicules transparents, d'inspections virtuelles et de calculateurs de financement intégrés pour prendre des décisions éclairées.

### 3. Services Professionnels à portée de clic
Besoin d'un expert en BTP, d'un technicien qualifié, d'une aide domestique ou d'un professionnel de la santé ? MaxiMarket vous met en relation avec des prestataires vérifiés. Prenez rendez-vous en ligne, consultez les portfolios et suivez l'avancement de vos projets en toute sérénité.

### 4. Une Marketplace Générale Riche et Variée
Explorez un univers de produits allant de l'électronique dernier cri à la mode tendance, en passant par les articles pour la maison, les équipements sportifs et l'artisanat local authentique. MaxiMarket est votre guichet unique pour tous vos besoins.

## Une Expérience Utilisateur Inégalée

Chez MaxiMarket, nous avons mis l'accent sur un design futuriste et des fonctionnalités innovantes :
- **Thème adaptatif sombre/clair** et effets visuels saisissants comme le glassmorphism.
- **Recherche vocale** et **contrôles gestuels** sur mobile pour une navigation intuitive.
- **Tableaux de bord personnalisés** avec analyses détaillées pour les vendeurs.
- **Intelligence Artificielle** intégrée pour des recommandations personnalisées, des estimations de prix et une modération intelligente.

## Rejoignez la Révolution MaxiMarket !

Nous sommes plus qu'une simple marketplace. Nous sommes une communauté qui construit l'avenir du commerce en Afrique de l'Ouest. Créez votre compte dès aujourd'hui, publiez vos annonces ou trouvez exactement ce que vous cherchez.

L'équipe MaxiMarket.
    `,coverImage:"maximarket-marketplace-skyline-futuristic",author:{name:"L'équipe MaxiMarket",avatar:"maximarket-logo-avatar"},category:"Annonces MaxiMarket",tags:["MaxiMarket","Marketplace","Afrique de l'Ouest","Innovation","Immobilier","Automobile","Services"],publishedAt:"2025-06-02T10:00:00Z",readingTime:"4 min"},{id:"1",title:"Comment j'ai créé une application React performante",slug:"comment-jai-cree-une-application-react-performante",excerpt:"Découvrez les techniques que j'ai utilisées pour optimiser les performances de mon application React.",content:`
# Comment j'ai créé une application React performante

React est une bibliothèque JavaScript populaire pour créer des interfaces utilisateur interactives. Cependant, à mesure que les applications grandissent, les performances peuvent devenir un problème. Dans cet article, je vais partager les techniques que j'ai utilisées pour optimiser les performances de mon application React.

## 1. Utilisation de React.memo et useMemo

L'un des premiers problèmes que j'ai rencontrés était des rendus inutiles de composants. Pour résoudre ce problème, j'ai utilisé React.memo pour mémoriser les composants et useMemo pour mémoriser les valeurs calculées.

\`\`\`jsx
const ExpensiveComponent = React.memo(({ data }) => {
  // Rendu du composant
});

function App() {
  const expensiveCalculation = useMemo(() => {
    return performExpensiveCalculation(data);
  }, [data]);
  
  return <div>{expensiveCalculation}</div>;
}
\`\`\`

## 2. Optimisation des listes avec useCallback

Pour les listes, j'ai utilisé useCallback pour éviter de recréer des fonctions à chaque rendu.

\`\`\`jsx
function TodoList({ todos }) {
  const handleDelete = useCallback((id) => {
    // Logique de suppression
  }, []);
  
  return (
    <ul>
      {todos.map(todo => (
        <TodoItem 
          key={todo.id} 
          todo={todo} 
          onDelete={handleDelete} 
        />
      ))}
    </ul>
  );
}
\`\`\`

## 3. Lazy Loading des composants

J'ai utilisé le lazy loading pour charger les composants uniquement lorsqu'ils sont nécessaires.

\`\`\`jsx
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
\`\`\`

## 4. Utilisation de la virtualisation pour les grandes listes

Pour les listes contenant de nombreux éléments, j'ai utilisé la virtualisation pour ne rendre que les éléments visibles à l'écran.

## Conclusion

L'optimisation des performances est un aspect crucial du développement d'applications React. En utilisant ces techniques, j'ai pu améliorer considérablement les performances de mon application.
    `,coverImage:"react-performance",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"React",tags:["React","Performance","JavaScript","Optimisation"],publishedAt:"2023-09-15T10:00:00Z",readingTime:"8 min"},{id:"2",title:"Les meilleures pratiques pour l'architecture de vos projets React",slug:"meilleures-pratiques-architecture-projets-react",excerpt:"Une architecture bien pensée est essentielle pour maintenir des projets React à long terme. Voici mes conseils.",content:`
# Les meilleures pratiques pour l'architecture de vos projets React

Une bonne architecture est la clé pour maintenir des projets React à long terme. Dans cet article, je partage mes meilleures pratiques pour structurer vos projets React.

## 1. Organisation des dossiers

J'ai trouvé qu'une structure de dossiers claire aide énormément à naviguer dans le code. Voici comment j'organise généralement mes projets:

\`\`\`
src/
  ├── components/
  │   ├── common/
  │   ├── layout/
  │   └── features/
  ├── hooks/
  ├── context/
  ├── utils/
  ├── services/
  ├── pages/
  └── assets/
\`\`\`

## 2. Séparation des préoccupations

Il est important de séparer la logique métier de la présentation. J'utilise des hooks personnalisés pour encapsuler la logique et des composants pour la présentation.

## 3. Utilisation des patterns React modernes

J'ai adopté des patterns comme le Compound Component et le Render Props pour créer des composants flexibles et réutilisables.

## 4. Tests unitaires et d'intégration

Les tests sont essentiels pour maintenir la qualité du code. J'utilise Jest et React Testing Library pour tester mes composants.

## Conclusion

Une bonne architecture est un investissement qui paie sur le long terme. En suivant ces pratiques, vous pourrez maintenir et faire évoluer vos projets React plus facilement.
    `,coverImage:"react-architecture",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"Architecture",tags:["React","Architecture","Bonnes pratiques","Structure de projet"],publishedAt:"2023-08-22T14:30:00Z",readingTime:"6 min"},{id:"3",title:"Comment j'ai intégré TailwindCSS dans mon workflow",slug:"comment-jai-integre-tailwindcss-dans-mon-workflow",excerpt:"TailwindCSS a révolutionné ma façon de styliser mes applications. Voici comment je l'ai intégré dans mon workflow.",content:`
# Comment j'ai intégré TailwindCSS dans mon workflow

TailwindCSS est un framework CSS utilitaire qui a changé ma façon de styliser mes applications. Dans cet article, je vais vous montrer comment je l'ai intégré dans mon workflow et les avantages que j'en ai tirés.

## 1. Installation et configuration

L'installation de TailwindCSS est simple avec npm ou yarn:

\`\`\`bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
\`\`\`

## 2. Personnalisation du thème

J'ai personnalisé le thème pour correspondre à l'identité visuelle de mon projet:

\`\`\`js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#3490dc',
        secondary: '#ffed4a',
        danger: '#e3342f',
      },
    },
  },
  // ...
}
\`\`\`

## 3. Création de composants réutilisables

J'ai créé des composants réutilisables avec TailwindCSS:

\`\`\`jsx
function Button({ children, variant = 'primary' }) {
  const baseClasses = 'px-4 py-2 rounded font-bold';
  const variantClasses = {
    primary: 'bg-primary text-white',
    secondary: 'bg-secondary text-gray-800',
    danger: 'bg-danger text-white',
  };
  
  return (
    <button className={\`\${baseClasses} \${variantClasses[variant]}\`}>
      {children}
    </button>
  );
}
\`\`\`

## 4. Optimisation pour la production

Pour la production, j'ai utilisé PurgeCSS pour éliminer les classes non utilisées:

\`\`\`js
// tailwind.config.js
module.exports = {
  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
  // ...
}
\`\`\`

## Conclusion

TailwindCSS a considérablement amélioré ma productivité en me permettant de styliser rapidement mes applications sans quitter mon HTML/JSX. Si vous n'avez pas encore essayé, je vous encourage vivement à le faire!
    `,coverImage:"tailwindcss-workflow",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"CSS",tags:["TailwindCSS","CSS","Workflow","Design"],publishedAt:"2023-07-10T09:15:00Z",readingTime:"5 min"}],Oqe=t=>{const r=t.split(/\s+/).length;return Math.ceil(r/200)},Rqe=t=>t.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");let ax=localStorage.getItem("blogPosts")?JSON.parse(localStorage.getItem("blogPosts")):Aqe.map(t=>({...t,readingTime:`${Oqe(t.content)} min`,author:t.author||{name:"MaxiMarket Admin",avatar:"maximarket-admin-avatar"},slug:t.slug||Rqe(t.title),id:t.id||bme(),publishedAt:t.publishedAt||new Date().toISOString()}));const Mqe=()=>[...ax].sort((t,e)=>new Date(e.publishedAt)-new Date(t.publishedAt)),Iqe=t=>ax.find(e=>e.id===t||e.slug===t),Lqe=t=>t?ax.filter(e=>e.id!==t.id&&(e.category===t.category||e.tags&&t.tags&&e.tags.some(r=>t.tags.includes(r)))).sort((e,r)=>new Date(r.publishedAt)-new Date(e.publishedAt)).slice(0,3):[],Dqe=()=>[...new Set(ax.map(t=>t.category).filter(Boolean))],$qe=()=>{const t=ax.flatMap(e=>e.tags||[]);return[...new Set(t.filter(Boolean))]},Fqe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,h]=b.useState([]),[g,v]=b.useState([]);b.useEffect(()=>{const S=Mqe();l(S),u(S),h(Dqe()),v($qe())},[]),b.useEffect(()=>{let S=[...o];if(t){const N=t.toLowerCase();S=S.filter(C=>C.title.toLowerCase().includes(N)||C.excerpt.toLowerCase().includes(N)||C.content.toLowerCase().includes(N))}r&&(S=S.filter(N=>N.category===r)),i&&(S=S.filter(N=>N.tags.includes(i))),u(S)},[t,r,i,o]);const y=S=>{n(N=>N===S?"":S)},x=S=>{s(N=>N===S?"":S)},_=()=>{e(""),n(""),s("")};return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(Oe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Mon ",a.jsx("span",{className:"gradient-text",children:"Blog"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Découvrez mes articles sur le développement web, les technologies et les bonnes pratiques."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(ei,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(tt,{type:"text",placeholder:"Rechercher un article...",value:t,onChange:S=>e(S.target.value),className:"pl-10"})]}),(r||i||t)&&a.jsx(ue,{variant:"outline",onClick:_,children:"Effacer les filtres"})]}),a.jsxs("div",{className:"space-y-4",children:[d.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Catégories"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((S,N)=>a.jsx(pt,{variant:r===S?"default":"outline",className:"cursor-pointer",onClick:()=>y(S),children:S},N))})]}),g.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(ss,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Tags"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((S,N)=>a.jsx(pt,{variant:i===S?"default":"outline",className:"cursor-pointer",onClick:()=>x(S),children:S},N))})]})]})]}),c.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((S,N)=>a.jsx(Tqe,{post:S,index:N,featured:N===0&&!t&&!r&&!i},S.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Aucun article ne correspond à votre recherche."})})]})},Bqe=()=>{const{id:t}=jO(),[e,r]=b.useState(null),[n,i]=b.useState([]),[s,o]=b.useState(!0),{toast:l}=Yr();if(b.useEffect(()=>{o(!0),setTimeout(()=>{const d=Iqe(t);if(d){r(d);const h=Lqe(d);i(h)}else l({title:"Article non trouvé",description:"L'article que vous recherchez n'existe pas.",variant:"destructive"});o(!1)},500)},[t,l]),s)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'article..."})]})});if(!e)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Article non trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"L'article que vous recherchez n'existe pas ou a été supprimé."}),a.jsx(ue,{asChild:!0,children:a.jsxs(ar,{to:"/blog",children:[a.jsx(rp,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})})]})});const c=new Date(e.publishedAt),u=Pr(c,"d MMMM yyyy",{locale:om});return a.jsx(Oe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(ue,{asChild:!0,variant:"outline",className:"mb-8",children:a.jsxs(ar,{to:"/blog",children:[a.jsx(rp,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:e.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[e.author&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(ts,{className:"h-4 w-4 mr-1"}),e.author.name]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hl,{className:"h-4 w-4 mr-1"}),u]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(is,{className:"h-4 w-4 mr-1"}),e.readingTime]}),e.category&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(tf,{className:"h-4 w-4 mr-1"}),e.category]})]}),e.coverImage&&a.jsx("div",{className:"relative aspect-[21/9] rounded-lg overflow-hidden mb-8",children:a.jsx("img",{className:"w-full h-full object-cover",alt:`Image de couverture pour l'article ${e.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:e.tags.map((d,h)=>a.jsx(pt,{variant:"secondary",children:d},h))}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"whitespace-pre-line",children:e.content})})]}),n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Nv,{className:"my-12"}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Articles similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(d=>a.jsx(ar,{to:`/blog/${d.slug||d.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[d.coverImage&&a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${d.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:d.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:d.excerpt})]})]})},d.id))})]})]})]})})};function zqe(){return Q.useEffect(()=>{wR.register()},[]),a.jsxs(h9,{client:Afe,children:[a.jsx(Cge,{children:a.jsxs(Tge,{children:[a.jsxs(Ude,{children:[a.jsx(kge,{}),a.jsx(Xn,{mode:"wait",children:a.jsx(_ie,{children:a.jsxs(qt,{path:"/",element:a.jsx(P0e,{}),children:[a.jsx(qt,{index:!0,element:a.jsx(vke,{})}),a.jsx(qt,{path:"connexion",element:a.jsx(n_e,{})}),a.jsx(qt,{path:"inscription",element:a.jsx(s_e,{})}),a.jsx(qt,{path:"auth/callback",element:a.jsx(ePe,{})}),a.jsx(qt,{path:"mot-de-passe-oublie",element:a.jsx(a_e,{})}),a.jsx(qt,{path:"reinitialiser-mot-de-passe",element:a.jsx(o_e,{})}),a.jsx(qt,{path:"profile",element:a.jsx(QEe,{})}),a.jsx(qt,{path:"messages",element:a.jsx(fd,{children:a.jsx(I2e,{})})}),a.jsx(qt,{path:"immobilier",element:a.jsx(yke,{})}),a.jsx(qt,{path:"automobile",element:a.jsx(xke,{})}),a.jsx(qt,{path:"services",element:a.jsx(bke,{})}),a.jsx(qt,{path:"marketplace",element:a.jsx(wke,{})}),a.jsx(qt,{path:"premium",element:a.jsx(_ke,{})}),a.jsx(qt,{path:"creer-annonce",element:a.jsx(fd,{children:a.jsx(tb,{})})}),a.jsx(qt,{path:"creer-annonce/:category",element:a.jsx(fd,{children:a.jsx(tb,{})})}),a.jsx(qt,{path:"create-listing",element:a.jsx(fd,{children:a.jsx(tb,{})})}),a.jsx(qt,{path:"annonce/:id",element:a.jsx(Ake,{})}),a.jsx(qt,{path:"annonce/:id/modifier",element:a.jsx(fd,{children:a.jsx(tb,{})})}),a.jsx(qt,{path:"favorites",element:a.jsx(fd,{children:a.jsx(Rke,{})})}),a.jsxs(qt,{path:"admin",element:a.jsx(Pwe,{}),children:[a.jsx(qt,{index:!0,element:a.jsx(Ic,{children:a.jsx(Mke,{})})}),a.jsx(qt,{path:"users",element:a.jsx(Ic,{children:a.jsx(uTe,{})})}),a.jsx(qt,{path:"listings",element:a.jsx(Ic,{children:a.jsx(dTe,{})})}),a.jsx(qt,{path:"transactions",element:a.jsx(Ic,{children:a.jsx(fTe,{})})}),a.jsx(qt,{path:"analytics",element:a.jsx(Ic,{children:a.jsx(hqe,{})})}),a.jsx(qt,{path:"moderation",element:a.jsx(Ic,{children:a.jsx(vqe,{})})}),a.jsx(qt,{path:"categories",element:a.jsx(Ic,{children:a.jsx(yqe,{})})}),a.jsx(qt,{path:"settings",element:a.jsx(Ic,{children:a.jsx(xqe,{})})})]}),a.jsx(qt,{path:"a-propos",element:a.jsx(wqe,{})}),a.jsx(qt,{path:"contact",element:a.jsx(jqe,{})}),a.jsx(qt,{path:"carrieres",element:a.jsx(Sqe,{})}),a.jsx(qt,{path:"presse",element:a.jsx(Nqe,{})}),a.jsx(qt,{path:"aide",element:a.jsx(Cqe,{})}),a.jsx(qt,{path:"faq",element:a.jsx(Eqe,{})}),a.jsx(qt,{path:"politique-confidentialite",element:a.jsx(Pqe,{})}),a.jsx(qt,{path:"conditions-utilisation",element:a.jsx(kqe,{})}),a.jsx(qt,{path:"blog",element:a.jsx(Fqe,{})}),a.jsx(qt,{path:"blog/:id",element:a.jsx(Bqe,{})}),a.jsx(qt,{path:"*",element:a.jsx(bqe,{})})]})})})]}),a.jsx(v9,{}),a.jsx(Rge,{}),a.jsx(Vme,{}),a.jsx(jge,{})]})}),!1]})}class qqe extends Q.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Erreur non interceptée:",e,r)}render(){return this.state.hasError?a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",color:"#e2e8f0",padding:24,textAlign:"center"},children:a.jsxs("div",{style:{maxWidth:720},children:[a.jsx("h1",{style:{marginBottom:12},children:"Une erreur est survenue"}),a.jsx("p",{style:{opacity:.9},children:"Une erreur inattendue a été détectée."}),a.jsx("pre",{style:{textAlign:"left",background:"#111827",padding:12,borderRadius:8,overflow:"auto",marginTop:16},children:String(this.state.error)}),!1]})}):this.props.children}}const kt=t=>typeof t=="string",Ag=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},wV=t=>t==null?"":""+t,Uqe=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Vqe=/###/g,_V=t=>t&&t.indexOf("###")>-1?t.replace(Vqe,"."):t,jV=t=>!t||kt(t),cv=(t,e,r)=>{const n=kt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(jV(t))return{};const s=_V(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return jV(t)?{}:{obj:t,k:_V(n[i])}},SV=(t,e,r)=>{const{obj:n,k:i}=cv(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],o=e.slice(0,e.length-1),l=cv(t,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=cv(t,o,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},Wqe=(t,e,r,n)=>{const{obj:i,k:s}=cv(t,e,Object);i[s]=i[s]||[],i[s].push(r)},b_=(t,e)=>{const{obj:r,k:n}=cv(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Hqe=(t,e,r)=>{const n=b_(t,r);return n!==void 0?n:b_(e,r)},Ire=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?kt(t[n])||t[n]instanceof String||kt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Ire(t[n],e[n],r):t[n]=e[n]);return t},Nh=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Kqe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Gqe=t=>kt(t)?t.replace(/[&<>"'\/]/g,e=>Kqe[e]):t;class Zqe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Yqe=[" ",",","?","!",";"],Xqe=new Zqe(20),Jqe=(t,e,r)=>{e=e||"",r=r||"";const n=Yqe.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=Xqe.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},bO=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}i=o}return i},gy=t=>t?.replace("_","-"),Qqe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class w_{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||Qqe,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(kt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new w_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new w_(this.logger,e)}}var No=new w_;class Q1{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...r])})}}class NV extends Q1{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):kt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=b_(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!kt(n)?c:bO(this.data?.[e]?.[r],n,s)}addResource(e,r,n,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(l=e.split("."),i=r,r=l[1]),this.addNamespaces(r),SV(this.data,l,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const s in n)(kt(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s,o={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=b_(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Ire(c,n,s):c={...c,...n},SV(this.data,l,c),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var Lre={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{e=this.processors[s]?.process(e,r,n,i)??e}),e}};const Dre=Symbol("i18next/PATH_KEY");function eUe(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>(r?.revoke?.(),i===Dre?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function tUe(t,e){const{[Dre]:r}=t(eUe());return r.join(e?.keySeparator??".")}const CV={},EV=t=>!kt(t)&&typeof t!="boolean"&&typeof t!="number";class __ extends Q1{constructor(e,r={}){super(),Uqe(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=No.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Jqe(e,n,i);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:kt(s)?[s]:s};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:kt(s)?[s]:s}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=tUe(e,i)),Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const h=i.lng||this.language,g=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return g?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const v=this.resolve(e,i);let y=v?.res;const x=v?.usedKey||l,_=v?.exactUsedKey||l,S=["[object Number]","[object Function]","[object RegExp]"],N=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,C=!this.i18nFormat||this.i18nFormat.handleAsObject,A=i.count!==void 0&&!kt(i.count),k=__.hasDefaultValue(i),P=A?this.pluralResolver.getSuffix(h,i.count,i):"",O=i.ordinal&&A?this.pluralResolver.getSuffix(h,i.count,{ordinal:!1}):"",I=A&&!i.ordinal&&i.count===0,F=I&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${P}`]||i[`defaultValue${O}`]||i.defaultValue;let H=y;C&&!y&&k&&(H=F);const V=EV(H),U=Object.prototype.toString.apply(H);if(C&&H&&V&&S.indexOf(U)<0&&!(kt(N)&&Array.isArray(H))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,H,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(v.res=z,v.usedParams=this.getUsedParamsDetails(i),v):z}if(o){const z=Array.isArray(H),W=z?[]:{},J=z?_:x;for(const se in H)if(Object.prototype.hasOwnProperty.call(H,se)){const K=`${J}${o}${se}`;k&&!y?W[se]=this.translate(K,{...i,defaultValue:EV(F)?F[se]:void 0,joinArrays:!1,ns:c}):W[se]=this.translate(K,{...i,joinArrays:!1,ns:c}),W[se]===K&&(W[se]=H[se])}y=W}}else if(C&&kt(N)&&Array.isArray(y))y=y.join(N),y&&(y=this.extendTranslation(y,e,i,n));else{let z=!1,W=!1;!this.isValidLookup(y)&&k&&(z=!0,y=F),this.isValidLookup(y)||(W=!0,y=l);const se=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&W?void 0:y,K=k&&F!==y&&this.options.updateMissing;if(W||z||K){if(this.logger.log(K?"updateKey":"missingKey",h,u,l,K?F:y),o){const Y=this.resolve(l,{...i,keySeparator:!1});Y&&Y.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ee=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let Y=0;Y<G.length;Y++)ee.push(G[Y]);else this.options.saveMissingTo==="all"?ee=this.languageUtils.toResolveHierarchy(i.lng||this.language):ee.push(i.lng||this.language);const ne=(Y,oe,xe)=>{const Ne=k&&xe!==y?xe:se;this.options.missingKeyHandler?this.options.missingKeyHandler(Y,u,oe,Ne,K,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Y,u,oe,Ne,K,i),this.emit("missingKey",Y,u,oe,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?ee.forEach(Y=>{const oe=this.pluralResolver.getSuffixes(Y,i);I&&i[`defaultValue${this.options.pluralSeparator}zero`]&&oe.indexOf(`${this.options.pluralSeparator}zero`)<0&&oe.push(`${this.options.pluralSeparator}zero`),oe.forEach(xe=>{ne([Y],l+xe,i[`defaultValue${xe}`]||F)})}):ne(ee,l,F))}y=this.extendTranslation(y,e,i,v,n),W&&y===l&&this.options.appendNamespaceToMissingKey&&(y=`${u}${d}${l}`),(W||z)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,z?y:void 0,i))}return s?(v.res=y,v.usedParams=this.getUsedParamsDetails(i),v):y}extendTranslation(e,r,n,i,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=kt(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const h=e.match(this.interpolator.nestingRegexp);u=h&&h.length}let d=n.replace&&!kt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||i.usedLng,n),c){const h=e.match(this.interpolator.nestingRegexp),g=h&&h.length;u<g&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>s?.[0]===h[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${r[0]}`),null):this.translate(...h,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=kt(o)?[o]:o;return e!=null&&l?.length&&n.applyPostProcessor!==!1&&(e=Lre.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,s,o,l;return kt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;i=d;let h=u.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const g=r.count!==void 0&&!kt(r.count),v=g&&!r.ordinal&&r.count===0,y=r.context!==void 0&&(kt(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);h.forEach(_=>{this.isValidLookup(n)||(l=_,!CV[`${x[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(CV[`${x[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(S=>{if(this.isValidLookup(n))return;o=S;const N=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,d,S,_,r);else{let A;g&&(A=this.pluralResolver.getSuffix(S,r.count,r));const k=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&A.indexOf(P)===0&&N.push(d+A.replace(P,this.options.pluralSeparator)),N.push(d+A),v&&N.push(d+k)),y){const O=`${d}${this.options.contextSeparator||"_"}${r.context}`;N.push(O),g&&(r.ordinal&&A.indexOf(P)===0&&N.push(O+A.replace(P,this.options.pluralSeparator)),N.push(O+A),v&&N.push(O+k))}}let C;for(;C=N.pop();)this.isValidLookup(n)||(s=C,n=this.getResource(S,_,C,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!kt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class PV{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=No.create("languageUtils")}getScriptPartFromCode(e){if(e=gy(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=gy(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(kt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),kt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return kt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):kt(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const kV={zero:0,one:1,two:2,few:3,many:4,other:5},TV={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rUe{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=No.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=gy(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),TV;if(!e.match(/-|_/))return TV;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>kV[i]-kV[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const AV=(t,e,r,n=".",i=!0)=>{let s=Hqe(t,e,r);return!s&&i&&kt(r)&&(s=bO(t,r,n),s===void 0&&(s=bO(e,r,n))),s},ak=t=>t.replace(/\$/g,"$$$$");class nUe{constructor(e={}){this.logger=No.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:h,nestingPrefix:g,nestingPrefixEscaped:v,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:_,maxReplaces:S,alwaysFormat:N}=e.interpolation;this.escape=r!==void 0?r:Gqe,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Nh(s):o||"{{",this.suffix=l?Nh(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=g?Nh(g):v||Nh("$t("),this.nestingSuffix=y?Nh(y):x||Nh(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=S||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const S=AV(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,n,{...i,...r,interpolationkey:v}):S}const y=v.split(this.formatSeparator),x=y.shift().trim(),_=y.join(this.formatSeparator).trim();return this.format(AV(r,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...i,...r,interpolationkey:x})};this.resetRegExp();const d=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>ak(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?ak(this.escape(v)):ak(v)}].forEach(v=>{for(l=0;s=v.regex.exec(e);){const y=s[1].trim();if(o=u(y),o===void 0)if(typeof d=="function"){const _=d(e,s,i);o=kt(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(h){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!kt(o)&&!this.useRawValueToEscape&&(o=wV(o));const x=v.safeValue(o);if(e=e.replace(s[0],x),h?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const h=c.split(new RegExp(`${d}[ ]*{`));let g=`{${h[1]}`;c=h[0],g=this.interpolate(g,o);const v=g.match(/'/g),y=g.match(/"/g);((v?.length??0)%2===0&&!y||y.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${d}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!kt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=r(l.call(this,i[1].trim(),o),o),s&&i[0]===e&&!kt(s))return s;kt(s)||(s=wV(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c.length&&(s=c.reduce((d,h)=>this.format(d,h,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const iUe=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},OV=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=e[o];return l||(l=t(gy(n),i),e[o]=l),l(r)}},sUe=t=>(e,r,n)=>t(gy(r),n)(e);class aUe{constructor(e={}){this.logger=No.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?OV:sUe;this.formats={number:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return l=>o.format(l)}),currency:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return l=>o.format(l)}),relativetime:n((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return l=>o.format(l,s.range||"day")}),list:n((i,s)=>{const o=new Intl.ListFormat(i,{...s});return l=>o.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=OV(r)}format(e,r,n,i={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{const{formatName:u,formatOptions:d}=iUe(c);if(this.formats[u]){let h=l;try{const g=i?.formatParams?.[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||n;h=this.formats[u](l,v,{...d,...i,...g})}catch(g){this.logger.warn(g)}return h}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const oUe=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class lUe extends Q1{constructor(e,r,n,i={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=No.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const s={},o={},l={},c={};return e.forEach(u=>{let d=!0;r.forEach(h=>{const g=`${u}|${h}`;!n.reload&&this.store.hasResourceBundle(u,h)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,d=!1,o[g]===void 0&&(o[g]=!0),s[g]===void 0&&(s[g]=!0),c[h]===void 0&&(c[h]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{Wqe(c.loaded,[s],o),oUe(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(h=>{l[u][h]===void 0&&(l[u][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,r,l)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();kt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),kt(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,l),this.loaded(e,o,l)})}saveMissing(e,r,n,i,s,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,r,n,i,c):d=u(e,r,n,i),d&&typeof d.then=="function"?d.then(h=>l(null,h)).catch(l):l(null,d)}catch(d){l(d)}else u(e,r,n,i,l,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const RV=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),kt(t[1])&&(e.defaultValue=t[1]),kt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),MV=t=>(kt(t.ns)&&(t.ns=[t.ns]),kt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),kt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),mb=()=>{},cUe=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class vy extends Q1{constructor(e={},r){if(super(),this.options=MV(e),this.services={},this.logger=No,this.modules={external:[]},cUe(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(kt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=RV();this.options={...n,...this.options,...MV(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?No.init(i(this.modules.logger),this.options):No.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=aUe;const d=new PV(this.options);this.store=new NV(this.options.resources,this.options);const h=this.services;h.logger=No,h.resourceStore=this.store,h.languageUtils=d,h.pluralResolver=new rUe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(h.formatter=i(u),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new nUe(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new lUe(i(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.languageDetector&&(h.languageDetector=i(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=i(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new __(this.services,this.options),this.translator.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=mb),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=Ag(),c=()=>{const u=(d,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),r(d,h)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=mb){let n=r;const i=kt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,r,n){const i=Ag();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=mb),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Lre.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=Ag();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=kt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(kt(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{s(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,n){const i=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(h=>`${c.keyPrefix}${u}${h}`):d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s,this.t(d,c)};return kt(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,r){const n=Ag();return this.options.ns?(kt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=Ag();kt(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const s=i.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new PV(RV());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new vy(e,r)}cloneInstance(e={},r=mb){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new vy(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,h)=>(d[h]={...c[u][h]},d),c[u]),c),{});s.store=new NV(l,i),s.services.resourceStore=s.store}return s.translator=new __(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ui=vy.createInstance();ui.createInstance=vy.createInstance;ui.createInstance;ui.dir;ui.init;ui.loadResources;ui.reloadResources;ui.use;ui.changeLanguage;ui.getFixedT;ui.t;ui.exists;ui.setDefaultNamespace;ui.hasLoadedNamespace;ui.loadNamespaces;ui.loadLanguages;const{slice:uUe,forEach:dUe}=[];function fUe(t){return dUe.call(uUe.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function hUe(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const IV=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,pUe=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!IV.test(n.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${n.domain}`}if(n.path){if(!IV.test(n.path))throw new TypeError("option path is invalid");s+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s},LV={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=pUe(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var mUe={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return LV.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:s}=e;r&&typeof document<"u"&&LV.create(r,t,n,i,s)}},gUe={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const s=n.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(r=s[o].substring(l+1))}}return r}},vUe={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const s=i.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(n=o[l].substring(c+1))}}if(n)return n;if(!n&&r>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let Ch=null;const DV=()=>{if(Ch!==null)return Ch;try{if(Ch=typeof window<"u"&&window.localStorage!==null,!Ch)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Ch=!1}return Ch};var yUe={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&DV())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&DV()&&window.localStorage.setItem(r,t)}};let Eh=null;const $V=()=>{if(Eh!==null)return Eh;try{if(Eh=typeof window<"u"&&window.sessionStorage!==null,!Eh)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Eh=!1}return Eh};var xUe={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&$V())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&$V()&&window.sessionStorage.setItem(r,t)}},bUe={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let s=0;s<r.length;s++)e.push(r[s]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},wUe={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},_Ue={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},jUe={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let $re=!1;try{document.cookie,$re=!0}catch{}const Fre=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];$re||Fre.splice(1,1);const SUe=()=>({order:Fre,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Bre{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=fUe(r,this.options||{},SUe()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(mUe),this.addDetector(gUe),this.addDetector(yUe),this.addDetector(xUe),this.addDetector(bUe),this.addDetector(wUe),this.addDetector(_Ue),this.addDetector(jUe),this.addDetector(vUe)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!hUe(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}Bre.type="languageDetector";const NUe={fr:{common:require("../locales/fr/common.json"),auth:require("../locales/fr/auth.json"),listings:require("../locales/fr/listings.json")},en:{common:require("../locales/en/common.json"),auth:require("../locales/en/auth.json"),listings:require("../locales/en/listings.json")}};ui.use(Bre).use(Wge).init({resources:NUe,fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},react:{useSuspense:!1},defaultNS:"common",ns:["common","auth","listings"],supportedLngs:["fr","en"],load:"languageOnly",saveMissing:!1,missingKeyHandler:(t,e,r,n)=>{}});const CUe=({children:t})=>a.jsx(Yge,{i18n:ui,children:t});Ane.createRoot(document.getElementById("root")).render(a.jsx(Q.StrictMode,{children:a.jsx(qqe,{children:a.jsx(CUe,{children:a.jsx(Aie,{children:a.jsx(zqe,{})})})})}));
