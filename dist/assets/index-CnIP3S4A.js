function Zie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var $s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Nr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s7(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Tj={exports:{}},Ag={},Oj={exports:{}},dr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _4;function Yie(){if(_4)return dr;_4=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;function g(X){return X===null||typeof X!="object"?null:(X=f&&X[f]||X["@@iterator"],typeof X=="function"?X:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,x={};function _(X,ce,je){this.props=X,this.context=ce,this.refs=x,this.updater=je||v}_.prototype.isReactComponent={},_.prototype.setState=function(X,ce){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,ce,"setState")},_.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function S(){}S.prototype=_.prototype;function C(X,ce,je){this.props=X,this.context=ce,this.refs=x,this.updater=je||v}var N=C.prototype=new S;N.constructor=C,y(N,_.prototype),N.isPureReactComponent=!0;var A=Array.isArray,E=Object.prototype.hasOwnProperty,k={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function I(X,ce,je){var Te,qe={},pe=null,ue=null;if(ce!=null)for(Te in ce.ref!==void 0&&(ue=ce.ref),ce.key!==void 0&&(pe=""+ce.key),ce)E.call(ce,Te)&&!O.hasOwnProperty(Te)&&(qe[Te]=ce[Te]);var _e=arguments.length-2;if(_e===1)qe.children=je;else if(1<_e){for(var ye=Array(_e),Ie=0;Ie<_e;Ie++)ye[Ie]=arguments[Ie+2];qe.children=ye}if(X&&X.defaultProps)for(Te in _e=X.defaultProps,_e)qe[Te]===void 0&&(qe[Te]=_e[Te]);return{$$typeof:t,type:X,key:pe,ref:ue,props:qe,_owner:k.current}}function z(X,ce){return{$$typeof:t,type:X.type,key:ce,ref:X.ref,props:X.props,_owner:X._owner}}function W(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function V(X){var ce={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(je){return ce[je]})}var q=/\/+/g;function F(X,ce){return typeof X=="object"&&X!==null&&X.key!=null?V(""+X.key):ce.toString(36)}function H(X,ce,je,Te,qe){var pe=typeof X;(pe==="undefined"||pe==="boolean")&&(X=null);var ue=!1;if(X===null)ue=!0;else switch(pe){case"string":case"number":ue=!0;break;case"object":switch(X.$$typeof){case t:case e:ue=!0}}if(ue)return ue=X,qe=qe(ue),X=Te===""?"."+F(ue,0):Te,A(qe)?(je="",X!=null&&(je=X.replace(q,"$&/")+"/"),H(qe,ce,je,"",function(Ie){return Ie})):qe!=null&&(W(qe)&&(qe=z(qe,je+(!qe.key||ue&&ue.key===qe.key?"":(""+qe.key).replace(q,"$&/")+"/")+X)),ce.push(qe)),1;if(ue=0,Te=Te===""?".":Te+":",A(X))for(var _e=0;_e<X.length;_e++){pe=X[_e];var ye=Te+F(pe,_e);ue+=H(pe,ce,je,ye,qe)}else if(ye=g(X),typeof ye=="function")for(X=ye.call(X),_e=0;!(pe=X.next()).done;)pe=pe.value,ye=Te+F(pe,_e++),ue+=H(pe,ce,je,ye,qe);else if(pe==="object")throw ce=String(X),Error("Objects are not valid as a React child (found: "+(ce==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":ce)+"). If you meant to render a collection of children, use an array instead.");return ue}function Q(X,ce,je){if(X==null)return X;var Te=[],qe=0;return H(X,Te,"","",function(pe){return ce.call(je,pe,qe++)}),Te}function oe(X){if(X._status===-1){var ce=X._result;ce=ce(),ce.then(function(je){(X._status===0||X._status===-1)&&(X._status=1,X._result=je)},function(je){(X._status===0||X._status===-1)&&(X._status=2,X._result=je)}),X._status===-1&&(X._status=0,X._result=ce)}if(X._status===1)return X._result.default;throw X._result}var K={current:null},te={transition:null},Z={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:te,ReactCurrentOwner:k};function se(){throw Error("act(...) is not supported in production builds of React.")}return dr.Children={map:Q,forEach:function(X,ce,je){Q(X,function(){ce.apply(this,arguments)},je)},count:function(X){var ce=0;return Q(X,function(){ce++}),ce},toArray:function(X){return Q(X,function(ce){return ce})||[]},only:function(X){if(!W(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},dr.Component=_,dr.Fragment=r,dr.Profiler=i,dr.PureComponent=C,dr.StrictMode=n,dr.Suspense=c,dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,dr.act=se,dr.cloneElement=function(X,ce,je){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var Te=y({},X.props),qe=X.key,pe=X.ref,ue=X._owner;if(ce!=null){if(ce.ref!==void 0&&(pe=ce.ref,ue=k.current),ce.key!==void 0&&(qe=""+ce.key),X.type&&X.type.defaultProps)var _e=X.type.defaultProps;for(ye in ce)E.call(ce,ye)&&!O.hasOwnProperty(ye)&&(Te[ye]=ce[ye]===void 0&&_e!==void 0?_e[ye]:ce[ye])}var ye=arguments.length-2;if(ye===1)Te.children=je;else if(1<ye){_e=Array(ye);for(var Ie=0;Ie<ye;Ie++)_e[Ie]=arguments[Ie+2];Te.children=_e}return{$$typeof:t,type:X.type,key:qe,ref:pe,props:Te,_owner:ue}},dr.createContext=function(X){return X={$$typeof:o,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:s,_context:X},X.Consumer=X},dr.createElement=I,dr.createFactory=function(X){var ce=I.bind(null,X);return ce.type=X,ce},dr.createRef=function(){return{current:null}},dr.forwardRef=function(X){return{$$typeof:l,render:X}},dr.isValidElement=W,dr.lazy=function(X){return{$$typeof:d,_payload:{_status:-1,_result:X},_init:oe}},dr.memo=function(X,ce){return{$$typeof:u,type:X,compare:ce===void 0?null:ce}},dr.startTransition=function(X){var ce=te.transition;te.transition={};try{X()}finally{te.transition=ce}},dr.unstable_act=se,dr.useCallback=function(X,ce){return K.current.useCallback(X,ce)},dr.useContext=function(X){return K.current.useContext(X)},dr.useDebugValue=function(){},dr.useDeferredValue=function(X){return K.current.useDeferredValue(X)},dr.useEffect=function(X,ce){return K.current.useEffect(X,ce)},dr.useId=function(){return K.current.useId()},dr.useImperativeHandle=function(X,ce,je){return K.current.useImperativeHandle(X,ce,je)},dr.useInsertionEffect=function(X,ce){return K.current.useInsertionEffect(X,ce)},dr.useLayoutEffect=function(X,ce){return K.current.useLayoutEffect(X,ce)},dr.useMemo=function(X,ce){return K.current.useMemo(X,ce)},dr.useReducer=function(X,ce,je){return K.current.useReducer(X,ce,je)},dr.useRef=function(X){return K.current.useRef(X)},dr.useState=function(X){return K.current.useState(X)},dr.useSyncExternalStore=function(X,ce,je){return K.current.useSyncExternalStore(X,ce,je)},dr.useTransition=function(){return K.current.useTransition()},dr.version="18.3.1",dr}var S4;function B_(){return S4||(S4=1,Oj.exports=Yie()),Oj.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j4;function Xie(){if(j4)return Ag;j4=1;var t=B_(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function o(l,c,u){var d,f={},g=null,v=null;u!==void 0&&(g=""+u),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(v=c.ref);for(d in c)n.call(c,d)&&!s.hasOwnProperty(d)&&(f[d]=c[d]);if(l&&l.defaultProps)for(d in c=l.defaultProps,c)f[d]===void 0&&(f[d]=c[d]);return{$$typeof:e,type:l,key:g,ref:v,props:f,_owner:i.current}}return Ag.Fragment=r,Ag.jsx=o,Ag.jsxs=o,Ag}var C4;function Jie(){return C4||(C4=1,Tj.exports=Xie()),Tj.exports}var a=Jie(),b=B_();const re=Nr(b),dd=Zie({__proto__:null,default:re},[b]);var I0={},Rj={exports:{}},Rs={},Mj={exports:{}},Ij={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N4;function Qie(){return N4||(N4=1,function(t){function e(te,Z){var se=te.length;te.push(Z);e:for(;0<se;){var X=se-1>>>1,ce=te[X];if(0<i(ce,Z))te[X]=Z,te[se]=ce,se=X;else break e}}function r(te){return te.length===0?null:te[0]}function n(te){if(te.length===0)return null;var Z=te[0],se=te.pop();if(se!==Z){te[0]=se;e:for(var X=0,ce=te.length,je=ce>>>1;X<je;){var Te=2*(X+1)-1,qe=te[Te],pe=Te+1,ue=te[pe];if(0>i(qe,se))pe<ce&&0>i(ue,qe)?(te[X]=ue,te[pe]=se,X=pe):(te[X]=qe,te[Te]=se,X=Te);else if(pe<ce&&0>i(ue,se))te[X]=ue,te[pe]=se,X=pe;else break e}}return Z}function i(te,Z){var se=te.sortIndex-Z.sortIndex;return se!==0?se:te.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,f=null,g=3,v=!1,y=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(te){for(var Z=r(u);Z!==null;){if(Z.callback===null)n(u);else if(Z.startTime<=te)n(u),Z.sortIndex=Z.expirationTime,e(c,Z);else break;Z=r(u)}}function A(te){if(x=!1,N(te),!y)if(r(c)!==null)y=!0,oe(E);else{var Z=r(u);Z!==null&&K(A,Z.startTime-te)}}function E(te,Z){y=!1,x&&(x=!1,S(I),I=-1),v=!0;var se=g;try{for(N(Z),f=r(c);f!==null&&(!(f.expirationTime>Z)||te&&!V());){var X=f.callback;if(typeof X=="function"){f.callback=null,g=f.priorityLevel;var ce=X(f.expirationTime<=Z);Z=t.unstable_now(),typeof ce=="function"?f.callback=ce:f===r(c)&&n(c),N(Z)}else n(c);f=r(c)}if(f!==null)var je=!0;else{var Te=r(u);Te!==null&&K(A,Te.startTime-Z),je=!1}return je}finally{f=null,g=se,v=!1}}var k=!1,O=null,I=-1,z=5,W=-1;function V(){return!(t.unstable_now()-W<z)}function q(){if(O!==null){var te=t.unstable_now();W=te;var Z=!0;try{Z=O(!0,te)}finally{Z?F():(k=!1,O=null)}}else k=!1}var F;if(typeof C=="function")F=function(){C(q)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,Q=H.port2;H.port1.onmessage=q,F=function(){Q.postMessage(null)}}else F=function(){_(q,0)};function oe(te){O=te,k||(k=!0,F())}function K(te,Z){I=_(function(){te(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(te){te.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,oe(E))},t.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<te?Math.floor(1e3/te):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(te){switch(g){case 1:case 2:case 3:var Z=3;break;default:Z=g}var se=g;g=Z;try{return te()}finally{g=se}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(te,Z){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var se=g;g=te;try{return Z()}finally{g=se}},t.unstable_scheduleCallback=function(te,Z,se){var X=t.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?X+se:X):se=X,te){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=se+ce,te={id:d++,callback:Z,priorityLevel:te,startTime:se,expirationTime:ce,sortIndex:-1},se>X?(te.sortIndex=se,e(u,te),r(c)===null&&te===r(u)&&(x?(S(I),I=-1):x=!0,K(A,se-X))):(te.sortIndex=ce,e(c,te),y||v||(y=!0,oe(E))),te},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(te){var Z=g;return function(){var se=g;g=Z;try{return te.apply(this,arguments)}finally{g=se}}}}(Ij)),Ij}var E4;function ese(){return E4||(E4=1,Mj.exports=Qie()),Mj.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P4;function tse(){if(P4)return Rs;P4=1;var t=B_(),e=ese();function r(h){for(var m="https://reactjs.org/docs/error-decoder.html?invariant="+h,j=1;j<arguments.length;j++)m+="&args[]="+encodeURIComponent(arguments[j]);return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function s(h,m){o(h,m),o(h+"Capture",m)}function o(h,m){for(i[h]=m,h=0;h<m.length;h++)n.add(m[h])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},f={};function g(h){return c.call(f,h)?!0:c.call(d,h)?!1:u.test(h)?f[h]=!0:(d[h]=!0,!1)}function v(h,m,j,T){if(j!==null&&j.type===0)return!1;switch(typeof m){case"function":case"symbol":return!0;case"boolean":return T?!1:j!==null?!j.acceptsBooleans:(h=h.toLowerCase().slice(0,5),h!=="data-"&&h!=="aria-");default:return!1}}function y(h,m,j,T){if(m===null||typeof m>"u"||v(h,m,j,T))return!0;if(T)return!1;if(j!==null)switch(j.type){case 3:return!m;case 4:return m===!1;case 5:return isNaN(m);case 6:return isNaN(m)||1>m}return!1}function x(h,m,j,T,M,$,ie){this.acceptsBooleans=m===2||m===3||m===4,this.attributeName=T,this.attributeNamespace=M,this.mustUseProperty=j,this.propertyName=h,this.type=m,this.sanitizeURL=$,this.removeEmptyString=ie}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(h){_[h]=new x(h,0,!1,h,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(h){var m=h[0];_[m]=new x(m,1,!1,h[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(h){_[h]=new x(h,2,!1,h.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(h){_[h]=new x(h,2,!1,h,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(h){_[h]=new x(h,3,!1,h.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(h){_[h]=new x(h,3,!0,h,null,!1,!1)}),["capture","download"].forEach(function(h){_[h]=new x(h,4,!1,h,null,!1,!1)}),["cols","rows","size","span"].forEach(function(h){_[h]=new x(h,6,!1,h,null,!1,!1)}),["rowSpan","start"].forEach(function(h){_[h]=new x(h,5,!1,h.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function C(h){return h[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(h){var m=h.replace(S,C);_[m]=new x(m,1,!1,h,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(h){var m=h.replace(S,C);_[m]=new x(m,1,!1,h,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(h){var m=h.replace(S,C);_[m]=new x(m,1,!1,h,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(h){_[h]=new x(h,1,!1,h.toLowerCase(),null,!1,!1)}),_.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(h){_[h]=new x(h,1,!1,h.toLowerCase(),null,!0,!0)});function N(h,m,j,T){var M=_.hasOwnProperty(m)?_[m]:null;(M!==null?M.type!==0:T||!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(y(m,j,M,T)&&(j=null),T||M===null?g(m)&&(j===null?h.removeAttribute(m):h.setAttribute(m,""+j)):M.mustUseProperty?h[M.propertyName]=j===null?M.type===3?!1:"":j:(m=M.attributeName,T=M.attributeNamespace,j===null?h.removeAttribute(m):(M=M.type,j=M===3||M===4&&j===!0?"":""+j,T?h.setAttributeNS(T,m,j):h.setAttribute(m,j))))}var A=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),k=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),W=Symbol.for("react.provider"),V=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),H=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),oe=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),te=Symbol.iterator;function Z(h){return h===null||typeof h!="object"?null:(h=te&&h[te]||h["@@iterator"],typeof h=="function"?h:null)}var se=Object.assign,X;function ce(h){if(X===void 0)try{throw Error()}catch(j){var m=j.stack.trim().match(/\n( *(at )?)/);X=m&&m[1]||""}return`
`+X+h}var je=!1;function Te(h,m){if(!h||je)return"";je=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(m)if(m=function(){throw Error()},Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(Ve){var T=Ve}Reflect.construct(h,[],m)}else{try{m.call()}catch(Ve){T=Ve}h.call(m.prototype)}else{try{throw Error()}catch(Ve){T=Ve}h()}}catch(Ve){if(Ve&&T&&typeof Ve.stack=="string"){for(var M=Ve.stack.split(`
`),$=T.stack.split(`
`),ie=M.length-1,ve=$.length-1;1<=ie&&0<=ve&&M[ie]!==$[ve];)ve--;for(;1<=ie&&0<=ve;ie--,ve--)if(M[ie]!==$[ve]){if(ie!==1||ve!==1)do if(ie--,ve--,0>ve||M[ie]!==$[ve]){var Se=`
`+M[ie].replace(" at new "," at ");return h.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",h.displayName)),Se}while(1<=ie&&0<=ve);break}}}finally{je=!1,Error.prepareStackTrace=j}return(h=h?h.displayName||h.name:"")?ce(h):""}function qe(h){switch(h.tag){case 5:return ce(h.type);case 16:return ce("Lazy");case 13:return ce("Suspense");case 19:return ce("SuspenseList");case 0:case 2:case 15:return h=Te(h.type,!1),h;case 11:return h=Te(h.type.render,!1),h;case 1:return h=Te(h.type,!0),h;default:return""}}function pe(h){if(h==null)return null;if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h;switch(h){case O:return"Fragment";case k:return"Portal";case z:return"Profiler";case I:return"StrictMode";case F:return"Suspense";case H:return"SuspenseList"}if(typeof h=="object")switch(h.$$typeof){case V:return(h.displayName||"Context")+".Consumer";case W:return(h._context.displayName||"Context")+".Provider";case q:var m=h.render;return h=h.displayName,h||(h=m.displayName||m.name||"",h=h!==""?"ForwardRef("+h+")":"ForwardRef"),h;case Q:return m=h.displayName||null,m!==null?m:pe(h.type)||"Memo";case oe:m=h._payload,h=h._init;try{return pe(h(m))}catch{}}return null}function ue(h){var m=h.type;switch(h.tag){case 24:return"Cache";case 9:return(m.displayName||"Context")+".Consumer";case 10:return(m._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return h=m.render,h=h.displayName||h.name||"",m.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case 7:return"Fragment";case 5:return m;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(m);case 8:return m===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m}return null}function _e(h){switch(typeof h){case"boolean":case"number":case"string":case"undefined":return h;case"object":return h;default:return""}}function ye(h){var m=h.type;return(h=h.nodeName)&&h.toLowerCase()==="input"&&(m==="checkbox"||m==="radio")}function Ie(h){var m=ye(h)?"checked":"value",j=Object.getOwnPropertyDescriptor(h.constructor.prototype,m),T=""+h[m];if(!h.hasOwnProperty(m)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var M=j.get,$=j.set;return Object.defineProperty(h,m,{configurable:!0,get:function(){return M.call(this)},set:function(ie){T=""+ie,$.call(this,ie)}}),Object.defineProperty(h,m,{enumerable:j.enumerable}),{getValue:function(){return T},setValue:function(ie){T=""+ie},stopTracking:function(){h._valueTracker=null,delete h[m]}}}}function ne(h){h._valueTracker||(h._valueTracker=Ie(h))}function J(h){if(!h)return!1;var m=h._valueTracker;if(!m)return!0;var j=m.getValue(),T="";return h&&(T=ye(h)?h.checked?"true":"false":h.value),h=T,h!==j?(m.setValue(h),!0):!1}function Ee(h){if(h=h||(typeof document<"u"?document:void 0),typeof h>"u")return null;try{return h.activeElement||h.body}catch{return h.body}}function Ne(h,m){var j=m.checked;return se({},m,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:j??h._wrapperState.initialChecked})}function Je(h,m){var j=m.defaultValue==null?"":m.defaultValue,T=m.checked!=null?m.checked:m.defaultChecked;j=_e(m.value!=null?m.value:j),h._wrapperState={initialChecked:T,initialValue:j,controlled:m.type==="checkbox"||m.type==="radio"?m.checked!=null:m.value!=null}}function Xe(h,m){m=m.checked,m!=null&&N(h,"checked",m,!1)}function Oe(h,m){Xe(h,m);var j=_e(m.value),T=m.type;if(j!=null)T==="number"?(j===0&&h.value===""||h.value!=j)&&(h.value=""+j):h.value!==""+j&&(h.value=""+j);else if(T==="submit"||T==="reset"){h.removeAttribute("value");return}m.hasOwnProperty("value")?Gt(h,m.type,j):m.hasOwnProperty("defaultValue")&&Gt(h,m.type,_e(m.defaultValue)),m.checked==null&&m.defaultChecked!=null&&(h.defaultChecked=!!m.defaultChecked)}function mt(h,m,j){if(m.hasOwnProperty("value")||m.hasOwnProperty("defaultValue")){var T=m.type;if(!(T!=="submit"&&T!=="reset"||m.value!==void 0&&m.value!==null))return;m=""+h._wrapperState.initialValue,j||m===h.value||(h.value=m),h.defaultValue=m}j=h.name,j!==""&&(h.name=""),h.defaultChecked=!!h._wrapperState.initialChecked,j!==""&&(h.name=j)}function Gt(h,m,j){(m!=="number"||Ee(h.ownerDocument)!==h)&&(j==null?h.defaultValue=""+h._wrapperState.initialValue:h.defaultValue!==""+j&&(h.defaultValue=""+j))}var ge=Array.isArray;function Pe(h,m,j,T){if(h=h.options,m){m={};for(var M=0;M<j.length;M++)m["$"+j[M]]=!0;for(j=0;j<h.length;j++)M=m.hasOwnProperty("$"+h[j].value),h[j].selected!==M&&(h[j].selected=M),M&&T&&(h[j].defaultSelected=!0)}else{for(j=""+_e(j),m=null,M=0;M<h.length;M++){if(h[M].value===j){h[M].selected=!0,T&&(h[M].defaultSelected=!0);return}m!==null||h[M].disabled||(m=h[M])}m!==null&&(m.selected=!0)}}function $e(h,m){if(m.dangerouslySetInnerHTML!=null)throw Error(r(91));return se({},m,{value:void 0,defaultValue:void 0,children:""+h._wrapperState.initialValue})}function rt(h,m){var j=m.value;if(j==null){if(j=m.children,m=m.defaultValue,j!=null){if(m!=null)throw Error(r(92));if(ge(j)){if(1<j.length)throw Error(r(93));j=j[0]}m=j}m==null&&(m=""),j=m}h._wrapperState={initialValue:_e(j)}}function at(h,m){var j=_e(m.value),T=_e(m.defaultValue);j!=null&&(j=""+j,j!==h.value&&(h.value=j),m.defaultValue==null&&h.defaultValue!==j&&(h.defaultValue=j)),T!=null&&(h.defaultValue=""+T)}function le(h){var m=h.textContent;m===h._wrapperState.initialValue&&m!==""&&m!==null&&(h.value=m)}function Ae(h){switch(h){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Y(h,m){return h==null||h==="http://www.w3.org/1999/xhtml"?Ae(m):h==="http://www.w3.org/2000/svg"&&m==="foreignObject"?"http://www.w3.org/1999/xhtml":h}var D,B=function(h){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(m,j,T,M){MSApp.execUnsafeLocalFunction(function(){return h(m,j,T,M)})}:h}(function(h,m){if(h.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in h)h.innerHTML=m;else{for(D=D||document.createElement("div"),D.innerHTML="<svg>"+m.valueOf().toString()+"</svg>",m=D.firstChild;h.firstChild;)h.removeChild(h.firstChild);for(;m.firstChild;)h.appendChild(m.firstChild)}});function he(h,m){if(m){var j=h.firstChild;if(j&&j===h.lastChild&&j.nodeType===3){j.nodeValue=m;return}}h.textContent=m}var Ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Be=["Webkit","ms","Moz","O"];Object.keys(Ce).forEach(function(h){Be.forEach(function(m){m=m+h.charAt(0).toUpperCase()+h.substring(1),Ce[m]=Ce[h]})});function We(h,m,j){return m==null||typeof m=="boolean"||m===""?"":j||typeof m!="number"||m===0||Ce.hasOwnProperty(h)&&Ce[h]?(""+m).trim():m+"px"}function Tt(h,m){h=h.style;for(var j in m)if(m.hasOwnProperty(j)){var T=j.indexOf("--")===0,M=We(j,m[j],T);j==="float"&&(j="cssFloat"),T?h.setProperty(j,M):h[j]=M}}var pr=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xt(h,m){if(m){if(pr[h]&&(m.children!=null||m.dangerouslySetInnerHTML!=null))throw Error(r(137,h));if(m.dangerouslySetInnerHTML!=null){if(m.children!=null)throw Error(r(60));if(typeof m.dangerouslySetInnerHTML!="object"||!("__html"in m.dangerouslySetInnerHTML))throw Error(r(61))}if(m.style!=null&&typeof m.style!="object")throw Error(r(62))}}function lr(h,m){if(h.indexOf("-")===-1)return typeof m.is=="string";switch(h){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=null;function qo(h){return h=h.target||h.srcElement||window,h.correspondingUseElement&&(h=h.correspondingUseElement),h.nodeType===3?h.parentNode:h}var ba=null,Gs=null,zi=null;function qi(h){if(h=rc(h)){if(typeof ba!="function")throw Error(r(280));var m=h.stateNode;m&&(m=Sh(m),ba(h.stateNode,h.type,m))}}function Qc(h){Gs?zi?zi.push(h):zi=[h]:Gs=h}function Dt(){if(Gs){var h=Gs,m=zi;if(zi=Gs=null,qi(h),m)for(h=0;h<m.length;h++)qi(m[h])}}function vr(h,m){return h(m)}function Rr(){}var Dn=!1;function Tn(h,m,j){if(Dn)return h(m,j);Dn=!0;try{return vr(h,m,j)}finally{Dn=!1,(Gs!==null||zi!==null)&&(Rr(),Dt())}}function vi(h,m){var j=h.stateNode;if(j===null)return null;var T=Sh(j);if(T===null)return null;j=T[m];e:switch(m){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(T=!T.disabled)||(h=h.type,T=!(h==="button"||h==="input"||h==="select"||h==="textarea")),h=!T;break e;default:h=!1}if(h)return null;if(j&&typeof j!="function")throw Error(r(231,m,typeof j));return j}var ss=!1;if(l)try{var $n={};Object.defineProperty($n,"passive",{get:function(){ss=!0}}),window.addEventListener("test",$n,$n),window.removeEventListener("test",$n,$n)}catch{ss=!1}function ws(h,m,j,T,M,$,ie,ve,Se){var Ve=Array.prototype.slice.call(arguments,3);try{m.apply(j,Ve)}catch(tt){this.onError(tt)}}var wr=!1,St=null,Ml=!1,eu=null,Td={onError:function(h){wr=!0,St=h}};function uh(h,m,j,T,M,$,ie,ve,Se){wr=!1,St=null,ws.apply(Td,arguments)}function Il(h,m,j,T,M,$,ie,ve,Se){if(uh.apply(this,arguments),wr){if(wr){var Ve=St;wr=!1,St=null}else throw Error(r(198));Ml||(Ml=!0,eu=Ve)}}function _s(h){var m=h,j=h;if(h.alternate)for(;m.return;)m=m.return;else{h=m;do m=h,(m.flags&4098)!==0&&(j=m.return),h=m.return;while(h)}return m.tag===3?j:null}function ro(h){if(h.tag===13){var m=h.memoizedState;if(m===null&&(h=h.alternate,h!==null&&(m=h.memoizedState)),m!==null)return m.dehydrated}return null}function Od(h){if(_s(h)!==h)throw Error(r(188))}function dh(h){var m=h.alternate;if(!m){if(m=_s(h),m===null)throw Error(r(188));return m!==h?null:h}for(var j=h,T=m;;){var M=j.return;if(M===null)break;var $=M.alternate;if($===null){if(T=M.return,T!==null){j=T;continue}break}if(M.child===$.child){for($=M.child;$;){if($===j)return Od(M),h;if($===T)return Od(M),m;$=$.sibling}throw Error(r(188))}if(j.return!==T.return)j=M,T=$;else{for(var ie=!1,ve=M.child;ve;){if(ve===j){ie=!0,j=M,T=$;break}if(ve===T){ie=!0,T=M,j=$;break}ve=ve.sibling}if(!ie){for(ve=$.child;ve;){if(ve===j){ie=!0,j=$,T=M;break}if(ve===T){ie=!0,T=$,j=M;break}ve=ve.sibling}if(!ie)throw Error(r(189))}}if(j.alternate!==T)throw Error(r(190))}if(j.tag!==3)throw Error(r(188));return j.stateNode.current===j?h:m}function Uo(h){return h=dh(h),h!==null?Ll(h):null}function Ll(h){if(h.tag===5||h.tag===6)return h;for(h=h.child;h!==null;){var m=Ll(h);if(m!==null)return m;h=h.sibling}return null}var fh=e.unstable_scheduleCallback,Rd=e.unstable_cancelCallback,Md=e.unstable_shouldYield,tu=e.unstable_requestPaint,fn=e.unstable_now,ru=e.unstable_getCurrentPriorityLevel,Ti=e.unstable_ImmediatePriority,nu=e.unstable_UserBlockingPriority,Dl=e.unstable_NormalPriority,wa=e.unstable_LowPriority,no=e.unstable_IdlePriority,$l=null,as=null;function Fl(h){if(as&&typeof as.onCommitFiberRoot=="function")try{as.onCommitFiberRoot($l,h,void 0,(h.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Vo,Wr=Math.log,Bl=Math.LN2;function Vo(h){return h>>>=0,h===0?32:31-(Wr(h)/Bl|0)|0}var Zs=64,Wo=4194304;function qt(h){switch(h&-h){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return h&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return h}}function zr(h,m){var j=h.pendingLanes;if(j===0)return 0;var T=0,M=h.suspendedLanes,$=h.pingedLanes,ie=j&268435455;if(ie!==0){var ve=ie&~M;ve!==0?T=qt(ve):($&=ie,$!==0&&(T=qt($)))}else ie=j&~M,ie!==0?T=qt(ie):$!==0&&(T=qt($));if(T===0)return 0;if(m!==0&&m!==T&&(m&M)===0&&(M=T&-T,$=m&-m,M>=$||M===16&&($&4194240)!==0))return m;if((T&4)!==0&&(T|=j&16),m=h.entangledLanes,m!==0)for(h=h.entanglements,m&=T;0<m;)j=31-zt(m),M=1<<j,T|=h[j],m&=~M;return T}function iu(h,m){switch(h){case 1:case 2:case 4:return m+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(h,m){for(var j=h.suspendedLanes,T=h.pingedLanes,M=h.expirationTimes,$=h.pendingLanes;0<$;){var ie=31-zt($),ve=1<<ie,Se=M[ie];Se===-1?((ve&j)===0||(ve&T)!==0)&&(M[ie]=iu(ve,m)):Se<=m&&(h.expiredLanes|=ve),$&=~ve}}function si(h){return h=h.pendingLanes&-1073741825,h!==0?h:h&1073741824?1073741824:0}function tg(){var h=Zs;return Zs<<=1,(Zs&4194240)===0&&(Zs=64),h}function Ho(h){for(var m=[],j=0;31>j;j++)m.push(h);return m}function js(h,m,j){h.pendingLanes|=m,m!==536870912&&(h.suspendedLanes=0,h.pingedLanes=0),h=h.eventTimes,m=31-zt(m),h[m]=j}function bn(h,m){var j=h.pendingLanes&~m;h.pendingLanes=m,h.suspendedLanes=0,h.pingedLanes=0,h.expiredLanes&=m,h.mutableReadLanes&=m,h.entangledLanes&=m,m=h.entanglements;var T=h.eventTimes;for(h=h.expirationTimes;0<j;){var M=31-zt(j),$=1<<M;m[M]=0,T[M]=-1,h[M]=-1,j&=~$}}function Ys(h,m){var j=h.entangledLanes|=m;for(h=h.entanglements;j;){var T=31-zt(j),M=1<<T;M&m|h[T]&m&&(h[T]|=m),j&=~M}}var mr=0;function Ko(h){return h&=-h,1<h?4<h?(h&268435455)!==0?16:536870912:4:1}var zl,Cs,ql,su,Go,Ul=!1,io=[],Oi=null,Ui=null,Ns=null,Vl=new Map,$t=new Map,Cn=[],Mr="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Id(h,m){switch(h){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Ui=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Vl.delete(m.pointerId);break;case"gotpointercapture":case"lostpointercapture":$t.delete(m.pointerId)}}function _a(h,m,j,T,M,$){return h===null||h.nativeEvent!==$?(h={blockedOn:m,domEventName:j,eventSystemFlags:T,nativeEvent:$,targetContainers:[M]},m!==null&&(m=rc(m),m!==null&&Cs(m)),h):(h.eventSystemFlags|=T,m=h.targetContainers,M!==null&&m.indexOf(M)===-1&&m.push(M),h)}function Wl(h,m,j,T,M){switch(m){case"focusin":return Oi=_a(Oi,h,m,j,T,M),!0;case"dragenter":return Ui=_a(Ui,h,m,j,T,M),!0;case"mouseover":return Ns=_a(Ns,h,m,j,T,M),!0;case"pointerover":var $=M.pointerId;return Vl.set($,_a(Vl.get($)||null,h,m,j,T,M)),!0;case"gotpointercapture":return $=M.pointerId,$t.set($,_a($t.get($)||null,h,m,j,T,M)),!0}return!1}function Hl(h){var m=tc(h.target);if(m!==null){var j=_s(m);if(j!==null){if(m=j.tag,m===13){if(m=ro(j),m!==null){h.blockedOn=m,Go(h.priority,function(){ql(j)});return}}else if(m===3&&j.stateNode.current.memoizedState.isDehydrated){h.blockedOn=j.tag===3?j.stateNode.containerInfo:null;return}}}h.blockedOn=null}function os(h){if(h.blockedOn!==null)return!1;for(var m=h.targetContainers;0<m.length;){var j=cu(h.domEventName,h.eventSystemFlags,m[0],h.nativeEvent);if(j===null){j=h.nativeEvent;var T=new j.constructor(j.type,j);nr=T,j.target.dispatchEvent(T),nr=null}else return m=rc(j),m!==null&&Cs(m),h.blockedOn=j,!1;m.shift()}return!0}function so(h,m,j){os(h)&&j.delete(m)}function Zo(){Ul=!1,Oi!==null&&os(Oi)&&(Oi=null),Ui!==null&&os(Ui)&&(Ui=null),Ns!==null&&os(Ns)&&(Ns=null),Vl.forEach(so),$t.forEach(so)}function hn(h,m){h.blockedOn===m&&(h.blockedOn=null,Ul||(Ul=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Zo)))}function yi(h){function m(M){return hn(M,h)}if(0<io.length){hn(io[0],h);for(var j=1;j<io.length;j++){var T=io[j];T.blockedOn===h&&(T.blockedOn=null)}}for(Oi!==null&&hn(Oi,h),Ui!==null&&hn(Ui,h),Ns!==null&&hn(Ns,h),Vl.forEach(m),$t.forEach(m),j=0;j<Cn.length;j++)T=Cn[j],T.blockedOn===h&&(T.blockedOn=null);for(;0<Cn.length&&(j=Cn[0],j.blockedOn===null);)Hl(j),j.blockedOn===null&&Cn.shift()}var Wn=A.ReactCurrentBatchConfig,Sa=!0;function au(h,m,j,T){var M=mr,$=Wn.transition;Wn.transition=null;try{mr=1,Kl(h,m,j,T)}finally{mr=M,Wn.transition=$}}function ou(h,m,j,T){var M=mr,$=Wn.transition;Wn.transition=null;try{mr=4,Kl(h,m,j,T)}finally{mr=M,Wn.transition=$}}function Kl(h,m,j,T){if(Sa){var M=cu(h,m,j,T);if(M===null)p(h,m,T,lu,j),Id(h,T);else if(Wl(M,h,m,j,T))T.stopPropagation();else if(Id(h,T),m&4&&-1<Mr.indexOf(h)){for(;M!==null;){var $=rc(M);if($!==null&&zl($),$=cu(h,m,j,T),$===null&&p(h,m,T,lu,j),$===M)break;M=$}M!==null&&T.stopPropagation()}else p(h,m,T,null,j)}}var lu=null;function cu(h,m,j,T){if(lu=null,h=qo(T),h=tc(h),h!==null)if(m=_s(h),m===null)h=null;else if(j=m.tag,j===13){if(h=ro(m),h!==null)return h;h=null}else if(j===3){if(m.stateNode.current.memoizedState.isDehydrated)return m.tag===3?m.stateNode.containerInfo:null;h=null}else m!==h&&(h=null);return lu=h,null}function ir(h){switch(h){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ru()){case Ti:return 1;case nu:return 4;case Dl:case wa:return 16;case no:return 536870912;default:return 16}default:return 16}}var ja=null,xi=null,Ir=null;function G(){if(Ir)return Ir;var h,m=xi,j=m.length,T,M="value"in ja?ja.value:ja.textContent,$=M.length;for(h=0;h<j&&m[h]===M[h];h++);var ie=j-h;for(T=1;T<=ie&&m[j-T]===M[$-T];T++);return Ir=M.slice(h,1<T?1-T:void 0)}function ee(h){var m=h.keyCode;return"charCode"in h?(h=h.charCode,h===0&&m===13&&(h=13)):h=m,h===10&&(h=13),32<=h||h===13?h:0}function de(){return!0}function fe(){return!1}function xe(h){function m(j,T,M,$,ie){this._reactName=j,this._targetInst=M,this.type=T,this.nativeEvent=$,this.target=ie,this.currentTarget=null;for(var ve in h)h.hasOwnProperty(ve)&&(j=h[ve],this[ve]=j?j($):$[ve]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?de:fe,this.isPropagationStopped=fe,this}return se(m.prototype,{preventDefault:function(){this.defaultPrevented=!0;var j=this.nativeEvent;j&&(j.preventDefault?j.preventDefault():typeof j.returnValue!="unknown"&&(j.returnValue=!1),this.isDefaultPrevented=de)},stopPropagation:function(){var j=this.nativeEvent;j&&(j.stopPropagation?j.stopPropagation():typeof j.cancelBubble!="unknown"&&(j.cancelBubble=!0),this.isPropagationStopped=de)},persist:function(){},isPersistent:de}),m}var Re={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(h){return h.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Me=xe(Re),Ge=se({},Re,{view:0,detail:0}),jt=xe(Ge),it,ct,Ct,sr=se({},Ge,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(h){return h.relatedTarget===void 0?h.fromElement===h.srcElement?h.toElement:h.fromElement:h.relatedTarget},movementX:function(h){return"movementX"in h?h.movementX:(h!==Ct&&(Ct&&h.type==="mousemove"?(it=h.screenX-Ct.screenX,ct=h.screenY-Ct.screenY):ct=it=0,Ct=h),it)},movementY:function(h){return"movementY"in h?h.movementY:ct}}),pn=xe(sr),Pt=se({},sr,{dataTransfer:0}),Vt=xe(Pt),Ot=se({},Ge,{relatedTarget:0}),Hr=xe(Ot),wn=se({},Re,{animationName:0,elapsedTime:0,pseudoElement:0}),On=xe(wn),Xs=se({},Re,{clipboardData:function(h){return"clipboardData"in h?h.clipboardData:window.clipboardData}}),Hn=xe(Xs),Ca=se({},Re,{data:0}),Js=xe(Ca),Gl={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yS(h){var m=this.nativeEvent;return m.getModifierState?m.getModifierState(h):(h=Yl[h])?!!m[h]:!1}function Xl(){return yS}var Es=se({},Ge,{key:function(h){if(h.key){var m=Gl[h.key]||h.key;if(m!=="Unidentified")return m}return h.type==="keypress"?(h=ee(h),h===13?"Enter":String.fromCharCode(h)):h.type==="keydown"||h.type==="keyup"?Zl[h.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(h){return h.type==="keypress"?ee(h):0},keyCode:function(h){return h.type==="keydown"||h.type==="keyup"?h.keyCode:0},which:function(h){return h.type==="keypress"?ee(h):h.type==="keydown"||h.type==="keyup"?h.keyCode:0}}),Mx=xe(Es),Ix=se({},sr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lx=xe(Ix),rg=se({},Ge,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),ng=xe(rg),xS=se({},Re,{propertyName:0,elapsedTime:0,pseudoElement:0}),bS=xe(xS),Dx=se({},sr,{deltaX:function(h){return"deltaX"in h?h.deltaX:"wheelDeltaX"in h?-h.wheelDeltaX:0},deltaY:function(h){return"deltaY"in h?h.deltaY:"wheelDeltaY"in h?-h.wheelDeltaY:"wheelDelta"in h?-h.wheelDelta:0},deltaZ:0,deltaMode:0}),wS=xe(Dx),Qs=[9,13,27,32],Yo=l&&"CompositionEvent"in window,Ld=null;l&&"documentMode"in document&&(Ld=document.documentMode);var ao=l&&"TextEvent"in window&&!Ld,$x=l&&(!Yo||Ld&&8<Ld&&11>=Ld),Jl=" ",Fx=!1;function uu(h,m){switch(h){case"keyup":return Qs.indexOf(m.keyCode)!==-1;case"keydown":return m.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ig(h){return h=h.detail,typeof h=="object"&&"data"in h?h.data:null}var oo=!1;function _S(h,m){switch(h){case"compositionend":return ig(m);case"keypress":return m.which!==32?null:(Fx=!0,Jl);case"textInput":return h=m.data,h===Jl&&Fx?null:h;default:return null}}function Xo(h,m){if(oo)return h==="compositionend"||!Yo&&uu(h,m)?(h=G(),Ir=xi=ja=null,oo=!1,h):null;switch(h){case"paste":return null;case"keypress":if(!(m.ctrlKey||m.altKey||m.metaKey)||m.ctrlKey&&m.altKey){if(m.char&&1<m.char.length)return m.char;if(m.which)return String.fromCharCode(m.which)}return null;case"compositionend":return $x&&m.locale!=="ko"?null:m.data;default:return null}}var hh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bx(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m==="input"?!!hh[h.type]:m==="textarea"}function ph(h,m,j,T){Qc(T),m=P(m,"onChange"),0<m.length&&(j=new Me("onChange","change",null,j,T),h.push({event:j,listeners:m}))}var Dd=null,ls=null;function SS(h){hg(h,0)}function lo(h){var m=nc(h);if(J(m))return h}function jS(h,m){if(h==="change")return m}var Na=!1;if(l){var du;if(l){var mh="oninput"in document;if(!mh){var gh=document.createElement("div");gh.setAttribute("oninput","return;"),mh=typeof gh.oninput=="function"}du=mh}else du=!1;Na=du&&(!document.documentMode||9<document.documentMode)}function $d(){Dd&&(Dd.detachEvent("onpropertychange",vh),ls=Dd=null)}function vh(h){if(h.propertyName==="value"&&lo(ls)){var m=[];ph(m,ls,h,qo(h)),Tn(SS,m)}}function yh(h,m,j){h==="focusin"?($d(),Dd=m,ls=j,Dd.attachEvent("onpropertychange",vh)):h==="focusout"&&$d()}function fu(h){if(h==="selectionchange"||h==="keyup"||h==="keydown")return lo(ls)}function xh(h,m){if(h==="click")return lo(m)}function sg(h,m){if(h==="input"||h==="change")return lo(m)}function zx(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var ea=typeof Object.is=="function"?Object.is:zx;function Jo(h,m){if(ea(h,m))return!0;if(typeof h!="object"||h===null||typeof m!="object"||m===null)return!1;var j=Object.keys(h),T=Object.keys(m);if(j.length!==T.length)return!1;for(T=0;T<j.length;T++){var M=j[T];if(!c.call(m,M)||!ea(h[M],m[M]))return!1}return!0}function qx(h){for(;h&&h.firstChild;)h=h.firstChild;return h}function ag(h,m){var j=qx(h);h=0;for(var T;j;){if(j.nodeType===3){if(T=h+j.textContent.length,h<=m&&T>=m)return{node:j,offset:m-h};h=T}e:{for(;j;){if(j.nextSibling){j=j.nextSibling;break e}j=j.parentNode}j=void 0}j=qx(j)}}function Ux(h,m){return h&&m?h===m?!0:h&&h.nodeType===3?!1:m&&m.nodeType===3?Ux(h,m.parentNode):"contains"in h?h.contains(m):h.compareDocumentPosition?!!(h.compareDocumentPosition(m)&16):!1:!1}function og(){for(var h=window,m=Ee();m instanceof h.HTMLIFrameElement;){try{var j=typeof m.contentWindow.location.href=="string"}catch{j=!1}if(j)h=m.contentWindow;else break;m=Ee(h.document)}return m}function lg(h){var m=h&&h.nodeName&&h.nodeName.toLowerCase();return m&&(m==="input"&&(h.type==="text"||h.type==="search"||h.type==="tel"||h.type==="url"||h.type==="password")||m==="textarea"||h.contentEditable==="true")}function Ea(h){var m=og(),j=h.focusedElem,T=h.selectionRange;if(m!==j&&j&&j.ownerDocument&&Ux(j.ownerDocument.documentElement,j)){if(T!==null&&lg(j)){if(m=T.start,h=T.end,h===void 0&&(h=m),"selectionStart"in j)j.selectionStart=m,j.selectionEnd=Math.min(h,j.value.length);else if(h=(m=j.ownerDocument||document)&&m.defaultView||window,h.getSelection){h=h.getSelection();var M=j.textContent.length,$=Math.min(T.start,M);T=T.end===void 0?$:Math.min(T.end,M),!h.extend&&$>T&&(M=T,T=$,$=M),M=ag(j,$);var ie=ag(j,T);M&&ie&&(h.rangeCount!==1||h.anchorNode!==M.node||h.anchorOffset!==M.offset||h.focusNode!==ie.node||h.focusOffset!==ie.offset)&&(m=m.createRange(),m.setStart(M.node,M.offset),h.removeAllRanges(),$>T?(h.addRange(m),h.extend(ie.node,ie.offset)):(m.setEnd(ie.node,ie.offset),h.addRange(m)))}}for(m=[],h=j;h=h.parentNode;)h.nodeType===1&&m.push({element:h,left:h.scrollLeft,top:h.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<m.length;j++)h=m[j],h.element.scrollLeft=h.left,h.element.scrollTop=h.top}}var bh=l&&"documentMode"in document&&11>=document.documentMode,hu=null,pu=null,Fd=null,wh=!1;function Vx(h,m,j){var T=j.window===j?j.document:j.nodeType===9?j:j.ownerDocument;wh||hu==null||hu!==Ee(T)||(T=hu,"selectionStart"in T&&lg(T)?T={start:T.selectionStart,end:T.selectionEnd}:(T=(T.ownerDocument&&T.ownerDocument.defaultView||window).getSelection(),T={anchorNode:T.anchorNode,anchorOffset:T.anchorOffset,focusNode:T.focusNode,focusOffset:T.focusOffset}),Fd&&Jo(Fd,T)||(Fd=T,T=P(pu,"onSelect"),0<T.length&&(m=new Me("onSelect","select",null,m,j),h.push({event:m,listeners:T}),m.target=hu)))}function Qo(h,m){var j={};return j[h.toLowerCase()]=m.toLowerCase(),j["Webkit"+h]="webkit"+m,j["Moz"+h]="moz"+m,j}var mu={animationend:Qo("Animation","AnimationEnd"),animationiteration:Qo("Animation","AnimationIteration"),animationstart:Qo("Animation","AnimationStart"),transitionend:Qo("Transition","TransitionEnd")},el={},cg={};l&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete mu.animationend.animation,delete mu.animationiteration.animation,delete mu.animationstart.animation),"TransitionEvent"in window||delete mu.transitionend.transition);function Bd(h){if(el[h])return el[h];if(!mu[h])return h;var m=mu[h],j;for(j in m)if(m.hasOwnProperty(j)&&j in cg)return el[h]=m[j];return h}var Wx=Bd("animationend"),Pa=Bd("animationiteration"),ug=Bd("animationstart"),dg=Bd("transitionend"),gu=new Map,Hx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ta(h,m){gu.set(h,m),s(m,[h])}for(var Ql=0;Ql<Hx.length;Ql++){var _h=Hx[Ql],Kx=_h.toLowerCase(),CS=_h[0].toUpperCase()+_h.slice(1);ta(Kx,"on"+CS)}ta(Wx,"onAnimationEnd"),ta(Pa,"onAnimationIteration"),ta(ug,"onAnimationStart"),ta("dblclick","onDoubleClick"),ta("focusin","onFocus"),ta("focusout","onBlur"),ta(dg,"onTransitionEnd"),o("onMouseEnter",["mouseout","mouseover"]),o("onMouseLeave",["mouseout","mouseover"]),o("onPointerEnter",["pointerout","pointerover"]),o("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Gx=new Set("cancel close invalid load scroll toggle".split(" ").concat(vu));function fg(h,m,j){var T=h.type||"unknown-event";h.currentTarget=j,Il(T,m,void 0,h),h.currentTarget=null}function hg(h,m){m=(m&4)!==0;for(var j=0;j<h.length;j++){var T=h[j],M=T.event;T=T.listeners;e:{var $=void 0;if(m)for(var ie=T.length-1;0<=ie;ie--){var ve=T[ie],Se=ve.instance,Ve=ve.currentTarget;if(ve=ve.listener,Se!==$&&M.isPropagationStopped())break e;fg(M,ve,Ve),$=Se}else for(ie=0;ie<T.length;ie++){if(ve=T[ie],Se=ve.instance,Ve=ve.currentTarget,ve=ve.listener,Se!==$&&M.isPropagationStopped())break e;fg(M,ve,Ve),$=Se}}}if(Ml)throw h=eu,Ml=!1,eu=null,h}function Kr(h,m){var j=m[wu];j===void 0&&(j=m[wu]=new Set);var T=h+"__bubble";j.has(T)||(Zx(m,h,2,!1),j.add(T))}function pg(h,m,j){var T=0;m&&(T|=4),Zx(j,h,T,m)}var zd="_reactListening"+Math.random().toString(36).slice(2);function yu(h){if(!h[zd]){h[zd]=!0,n.forEach(function(j){j!=="selectionchange"&&(Gx.has(j)||pg(j,!1,h),pg(j,!0,h))});var m=h.nodeType===9?h:h.ownerDocument;m===null||m[zd]||(m[zd]=!0,pg("selectionchange",!1,m))}}function Zx(h,m,j,T){switch(ir(m)){case 1:var M=au;break;case 4:M=ou;break;default:M=Kl}j=M.bind(null,m,j,h),M=void 0,!ss||m!=="touchstart"&&m!=="touchmove"&&m!=="wheel"||(M=!0),T?M!==void 0?h.addEventListener(m,j,{capture:!0,passive:M}):h.addEventListener(m,j,!0):M!==void 0?h.addEventListener(m,j,{passive:M}):h.addEventListener(m,j,!1)}function p(h,m,j,T,M){var $=T;if((m&1)===0&&(m&2)===0&&T!==null)e:for(;;){if(T===null)return;var ie=T.tag;if(ie===3||ie===4){var ve=T.stateNode.containerInfo;if(ve===M||ve.nodeType===8&&ve.parentNode===M)break;if(ie===4)for(ie=T.return;ie!==null;){var Se=ie.tag;if((Se===3||Se===4)&&(Se=ie.stateNode.containerInfo,Se===M||Se.nodeType===8&&Se.parentNode===M))return;ie=ie.return}for(;ve!==null;){if(ie=tc(ve),ie===null)return;if(Se=ie.tag,Se===5||Se===6){T=$=ie;continue e}ve=ve.parentNode}}T=T.return}Tn(function(){var Ve=$,tt=qo(j),st=[];e:{var et=gu.get(h);if(et!==void 0){var gt=Me,bt=h;switch(h){case"keypress":if(ee(j)===0)break e;case"keydown":case"keyup":gt=Mx;break;case"focusin":bt="focus",gt=Hr;break;case"focusout":bt="blur",gt=Hr;break;case"beforeblur":case"afterblur":gt=Hr;break;case"click":if(j.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":gt=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":gt=Vt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":gt=ng;break;case Wx:case Pa:case ug:gt=On;break;case dg:gt=bS;break;case"scroll":gt=jt;break;case"wheel":gt=wS;break;case"copy":case"cut":case"paste":gt=Hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":gt=Lx}var Nt=(m&4)!==0,Fn=!Nt&&h==="scroll",De=Nt?et!==null?et+"Capture":null:et;Nt=[];for(var ke=Ve,Fe;ke!==null;){Fe=ke;var ot=Fe.stateNode;if(Fe.tag===5&&ot!==null&&(Fe=ot,De!==null&&(ot=vi(ke,De),ot!=null&&Nt.push(w(ke,ot,Fe)))),Fn)break;ke=ke.return}0<Nt.length&&(et=new gt(et,bt,null,j,tt),st.push({event:et,listeners:Nt}))}}if((m&7)===0){e:{if(et=h==="mouseover"||h==="pointerover",gt=h==="mouseout"||h==="pointerout",et&&j!==nr&&(bt=j.relatedTarget||j.fromElement)&&(tc(bt)||bt[$r]))break e;if((gt||et)&&(et=tt.window===tt?tt:(et=tt.ownerDocument)?et.defaultView||et.parentWindow:window,gt?(bt=j.relatedTarget||j.toElement,gt=Ve,bt=bt?tc(bt):null,bt!==null&&(Fn=_s(bt),bt!==Fn||bt.tag!==5&&bt.tag!==6)&&(bt=null)):(gt=null,bt=Ve),gt!==bt)){if(Nt=pn,ot="onMouseLeave",De="onMouseEnter",ke="mouse",(h==="pointerout"||h==="pointerover")&&(Nt=Lx,ot="onPointerLeave",De="onPointerEnter",ke="pointer"),Fn=gt==null?et:nc(gt),Fe=bt==null?et:nc(bt),et=new Nt(ot,ke+"leave",gt,j,tt),et.target=Fn,et.relatedTarget=Fe,ot=null,tc(tt)===Ve&&(Nt=new Nt(De,ke+"enter",bt,j,tt),Nt.target=Fe,Nt.relatedTarget=Fn,ot=Nt),Fn=ot,gt&&bt)t:{for(Nt=gt,De=bt,ke=0,Fe=Nt;Fe;Fe=R(Fe))ke++;for(Fe=0,ot=De;ot;ot=R(ot))Fe++;for(;0<ke-Fe;)Nt=R(Nt),ke--;for(;0<Fe-ke;)De=R(De),Fe--;for(;ke--;){if(Nt===De||De!==null&&Nt===De.alternate)break t;Nt=R(Nt),De=R(De)}Nt=null}else Nt=null;gt!==null&&U(st,et,gt,Nt,!1),bt!==null&&Fn!==null&&U(st,Fn,bt,Nt,!0)}}e:{if(et=Ve?nc(Ve):window,gt=et.nodeName&&et.nodeName.toLowerCase(),gt==="select"||gt==="input"&&et.type==="file")var kt=jS;else if(Bx(et))if(Na)kt=sg;else{kt=fu;var Mt=yh}else(gt=et.nodeName)&&gt.toLowerCase()==="input"&&(et.type==="checkbox"||et.type==="radio")&&(kt=xh);if(kt&&(kt=kt(h,Ve))){ph(st,kt,j,tt);break e}Mt&&Mt(h,et,Ve),h==="focusout"&&(Mt=et._wrapperState)&&Mt.controlled&&et.type==="number"&&Gt(et,"number",et.value)}switch(Mt=Ve?nc(Ve):window,h){case"focusin":(Bx(Mt)||Mt.contentEditable==="true")&&(hu=Mt,pu=Ve,Fd=null);break;case"focusout":Fd=pu=hu=null;break;case"mousedown":wh=!0;break;case"contextmenu":case"mouseup":case"dragend":wh=!1,Vx(st,j,tt);break;case"selectionchange":if(bh)break;case"keydown":case"keyup":Vx(st,j,tt)}var It;if(Yo)e:{switch(h){case"compositionstart":var Ut="onCompositionStart";break e;case"compositionend":Ut="onCompositionEnd";break e;case"compositionupdate":Ut="onCompositionUpdate";break e}Ut=void 0}else oo?uu(h,j)&&(Ut="onCompositionEnd"):h==="keydown"&&j.keyCode===229&&(Ut="onCompositionStart");Ut&&($x&&j.locale!=="ko"&&(oo||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&oo&&(It=G()):(ja=tt,xi="value"in ja?ja.value:ja.textContent,oo=!0)),Mt=P(Ve,Ut),0<Mt.length&&(Ut=new Js(Ut,h,null,j,tt),st.push({event:Ut,listeners:Mt}),It?Ut.data=It:(It=ig(j),It!==null&&(Ut.data=It)))),(It=ao?_S(h,j):Xo(h,j))&&(Ve=P(Ve,"onBeforeInput"),0<Ve.length&&(tt=new Js("onBeforeInput","beforeinput",null,j,tt),st.push({event:tt,listeners:Ve}),tt.data=It))}hg(st,m)})}function w(h,m,j){return{instance:h,listener:m,currentTarget:j}}function P(h,m){for(var j=m+"Capture",T=[];h!==null;){var M=h,$=M.stateNode;M.tag===5&&$!==null&&(M=$,$=vi(h,j),$!=null&&T.unshift(w(h,$,M)),$=vi(h,m),$!=null&&T.push(w(h,$,M))),h=h.return}return T}function R(h){if(h===null)return null;do h=h.return;while(h&&h.tag!==5);return h||null}function U(h,m,j,T,M){for(var $=m._reactName,ie=[];j!==null&&j!==T;){var ve=j,Se=ve.alternate,Ve=ve.stateNode;if(Se!==null&&Se===T)break;ve.tag===5&&Ve!==null&&(ve=Ve,M?(Se=vi(j,$),Se!=null&&ie.unshift(w(j,Se,ve))):M||(Se=vi(j,$),Se!=null&&ie.push(w(j,Se,ve)))),j=j.return}ie.length!==0&&h.push({event:m,listeners:ie})}var ae=/\r\n?/g,be=/\u0000|\uFFFD/g;function Le(h){return(typeof h=="string"?h:""+h).replace(ae,`
`).replace(be,"")}function Ue(h,m,j){if(m=Le(m),Le(h)!==m&&j)throw Error(r(425))}function Ze(){}var ht=null,Rt=null;function er(h,m){return h==="textarea"||h==="noscript"||typeof m.children=="string"||typeof m.children=="number"||typeof m.dangerouslySetInnerHTML=="object"&&m.dangerouslySetInnerHTML!==null&&m.dangerouslySetInnerHTML.__html!=null}var ai=typeof setTimeout=="function"?setTimeout:void 0,Kn=typeof clearTimeout=="function"?clearTimeout:void 0,cs=typeof Promise=="function"?Promise:void 0,Vi=typeof queueMicrotask=="function"?queueMicrotask:typeof cs<"u"?function(h){return cs.resolve(null).then(h).catch(xu)}:ai;function xu(h){setTimeout(function(){throw h})}function mg(h,m){var j=m,T=0;do{var M=j.nextSibling;if(h.removeChild(j),M&&M.nodeType===8)if(j=M.data,j==="/$"){if(T===0){h.removeChild(M),yi(m);return}T--}else j!=="$"&&j!=="$?"&&j!=="$!"||T++;j=M}while(j);yi(m)}function tl(h){for(;h!=null;h=h.nextSibling){var m=h.nodeType;if(m===1||m===3)break;if(m===8){if(m=h.data,m==="$"||m==="$!"||m==="$?")break;if(m==="/$")return null}}return h}function Yx(h){h=h.previousSibling;for(var m=0;h;){if(h.nodeType===8){var j=h.data;if(j==="$"||j==="$!"||j==="$?"){if(m===0)return h;m--}else j==="/$"&&m++}h=h.previousSibling}return null}var ec=Math.random().toString(36).slice(2),ka="__reactFiber$"+ec,bu="__reactProps$"+ec,$r="__reactContainer$"+ec,wu="__reactEvents$"+ec,NS="__reactListeners$"+ec,ES="__reactHandles$"+ec;function tc(h){var m=h[ka];if(m)return m;for(var j=h.parentNode;j;){if(m=j[$r]||j[ka]){if(j=m.alternate,m.child!==null||j!==null&&j.child!==null)for(h=Yx(h);h!==null;){if(j=h[ka])return j;h=Yx(h)}return m}h=j,j=h.parentNode}return null}function rc(h){return h=h[ka]||h[$r],!h||h.tag!==5&&h.tag!==6&&h.tag!==13&&h.tag!==3?null:h}function nc(h){if(h.tag===5||h.tag===6)return h.stateNode;throw Error(r(33))}function Sh(h){return h[bu]||null}var PS=[],jh=-1;function _u(h){return{current:h}}function mn(h){0>jh||(h.current=PS[jh],PS[jh]=null,jh--)}function an(h,m){jh++,PS[jh]=h.current,h.current=m}var Su={},Wi=_u(Su),Ps=_u(!1),qd=Su;function Ch(h,m){var j=h.type.contextTypes;if(!j)return Su;var T=h.stateNode;if(T&&T.__reactInternalMemoizedUnmaskedChildContext===m)return T.__reactInternalMemoizedMaskedChildContext;var M={},$;for($ in j)M[$]=m[$];return T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=m,h.__reactInternalMemoizedMaskedChildContext=M),M}function ks(h){return h=h.childContextTypes,h!=null}function Xx(){mn(Ps),mn(Wi)}function VL(h,m,j){if(Wi.current!==Su)throw Error(r(168));an(Wi,m),an(Ps,j)}function WL(h,m,j){var T=h.stateNode;if(m=m.childContextTypes,typeof T.getChildContext!="function")return j;T=T.getChildContext();for(var M in T)if(!(M in m))throw Error(r(108,ue(h)||"Unknown",M));return se({},j,T)}function Jx(h){return h=(h=h.stateNode)&&h.__reactInternalMemoizedMergedChildContext||Su,qd=Wi.current,an(Wi,h),an(Ps,Ps.current),!0}function HL(h,m,j){var T=h.stateNode;if(!T)throw Error(r(169));j?(h=WL(h,m,qd),T.__reactInternalMemoizedMergedChildContext=h,mn(Ps),mn(Wi),an(Wi,h)):mn(Ps),an(Ps,j)}var ic=null,Qx=!1,kS=!1;function KL(h){ic===null?ic=[h]:ic.push(h)}function pie(h){Qx=!0,KL(h)}function ju(){if(!kS&&ic!==null){kS=!0;var h=0,m=mr;try{var j=ic;for(mr=1;h<j.length;h++){var T=j[h];do T=T(!0);while(T!==null)}ic=null,Qx=!1}catch(M){throw ic!==null&&(ic=ic.slice(h+1)),fh(Ti,ju),M}finally{mr=m,kS=!1}}return null}var Nh=[],Eh=0,e0=null,t0=0,Aa=[],Ta=0,Ud=null,sc=1,ac="";function Vd(h,m){Nh[Eh++]=t0,Nh[Eh++]=e0,e0=h,t0=m}function GL(h,m,j){Aa[Ta++]=sc,Aa[Ta++]=ac,Aa[Ta++]=Ud,Ud=h;var T=sc;h=ac;var M=32-zt(T)-1;T&=~(1<<M),j+=1;var $=32-zt(m)+M;if(30<$){var ie=M-M%5;$=(T&(1<<ie)-1).toString(32),T>>=ie,M-=ie,sc=1<<32-zt(m)+M|j<<M|T,ac=$+h}else sc=1<<$|j<<M|T,ac=h}function AS(h){h.return!==null&&(Vd(h,1),GL(h,1,0))}function TS(h){for(;h===e0;)e0=Nh[--Eh],Nh[Eh]=null,t0=Nh[--Eh],Nh[Eh]=null;for(;h===Ud;)Ud=Aa[--Ta],Aa[Ta]=null,ac=Aa[--Ta],Aa[Ta]=null,sc=Aa[--Ta],Aa[Ta]=null}var ra=null,na=null,_n=!1,co=null;function ZL(h,m){var j=Ia(5,null,null,0);j.elementType="DELETED",j.stateNode=m,j.return=h,m=h.deletions,m===null?(h.deletions=[j],h.flags|=16):m.push(j)}function YL(h,m){switch(h.tag){case 5:var j=h.type;return m=m.nodeType!==1||j.toLowerCase()!==m.nodeName.toLowerCase()?null:m,m!==null?(h.stateNode=m,ra=h,na=tl(m.firstChild),!0):!1;case 6:return m=h.pendingProps===""||m.nodeType!==3?null:m,m!==null?(h.stateNode=m,ra=h,na=null,!0):!1;case 13:return m=m.nodeType!==8?null:m,m!==null?(j=Ud!==null?{id:sc,overflow:ac}:null,h.memoizedState={dehydrated:m,treeContext:j,retryLane:1073741824},j=Ia(18,null,null,0),j.stateNode=m,j.return=h,h.child=j,ra=h,na=null,!0):!1;default:return!1}}function OS(h){return(h.mode&1)!==0&&(h.flags&128)===0}function RS(h){if(_n){var m=na;if(m){var j=m;if(!YL(h,m)){if(OS(h))throw Error(r(418));m=tl(j.nextSibling);var T=ra;m&&YL(h,m)?ZL(T,j):(h.flags=h.flags&-4097|2,_n=!1,ra=h)}}else{if(OS(h))throw Error(r(418));h.flags=h.flags&-4097|2,_n=!1,ra=h}}}function XL(h){for(h=h.return;h!==null&&h.tag!==5&&h.tag!==3&&h.tag!==13;)h=h.return;ra=h}function r0(h){if(h!==ra)return!1;if(!_n)return XL(h),_n=!0,!1;var m;if((m=h.tag!==3)&&!(m=h.tag!==5)&&(m=h.type,m=m!=="head"&&m!=="body"&&!er(h.type,h.memoizedProps)),m&&(m=na)){if(OS(h))throw JL(),Error(r(418));for(;m;)ZL(h,m),m=tl(m.nextSibling)}if(XL(h),h.tag===13){if(h=h.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));e:{for(h=h.nextSibling,m=0;h;){if(h.nodeType===8){var j=h.data;if(j==="/$"){if(m===0){na=tl(h.nextSibling);break e}m--}else j!=="$"&&j!=="$!"&&j!=="$?"||m++}h=h.nextSibling}na=null}}else na=ra?tl(h.stateNode.nextSibling):null;return!0}function JL(){for(var h=na;h;)h=tl(h.nextSibling)}function Ph(){na=ra=null,_n=!1}function MS(h){co===null?co=[h]:co.push(h)}var mie=A.ReactCurrentBatchConfig;function gg(h,m,j){if(h=j.ref,h!==null&&typeof h!="function"&&typeof h!="object"){if(j._owner){if(j=j._owner,j){if(j.tag!==1)throw Error(r(309));var T=j.stateNode}if(!T)throw Error(r(147,h));var M=T,$=""+h;return m!==null&&m.ref!==null&&typeof m.ref=="function"&&m.ref._stringRef===$?m.ref:(m=function(ie){var ve=M.refs;ie===null?delete ve[$]:ve[$]=ie},m._stringRef=$,m)}if(typeof h!="string")throw Error(r(284));if(!j._owner)throw Error(r(290,h))}return h}function n0(h,m){throw h=Object.prototype.toString.call(m),Error(r(31,h==="[object Object]"?"object with keys {"+Object.keys(m).join(", ")+"}":h))}function QL(h){var m=h._init;return m(h._payload)}function eD(h){function m(De,ke){if(h){var Fe=De.deletions;Fe===null?(De.deletions=[ke],De.flags|=16):Fe.push(ke)}}function j(De,ke){if(!h)return null;for(;ke!==null;)m(De,ke),ke=ke.sibling;return null}function T(De,ke){for(De=new Map;ke!==null;)ke.key!==null?De.set(ke.key,ke):De.set(ke.index,ke),ke=ke.sibling;return De}function M(De,ke){return De=Ou(De,ke),De.index=0,De.sibling=null,De}function $(De,ke,Fe){return De.index=Fe,h?(Fe=De.alternate,Fe!==null?(Fe=Fe.index,Fe<ke?(De.flags|=2,ke):Fe):(De.flags|=2,ke)):(De.flags|=1048576,ke)}function ie(De){return h&&De.alternate===null&&(De.flags|=2),De}function ve(De,ke,Fe,ot){return ke===null||ke.tag!==6?(ke=Cj(Fe,De.mode,ot),ke.return=De,ke):(ke=M(ke,Fe),ke.return=De,ke)}function Se(De,ke,Fe,ot){var kt=Fe.type;return kt===O?tt(De,ke,Fe.props.children,ot,Fe.key):ke!==null&&(ke.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===oe&&QL(kt)===ke.type)?(ot=M(ke,Fe.props),ot.ref=gg(De,ke,Fe),ot.return=De,ot):(ot=E0(Fe.type,Fe.key,Fe.props,null,De.mode,ot),ot.ref=gg(De,ke,Fe),ot.return=De,ot)}function Ve(De,ke,Fe,ot){return ke===null||ke.tag!==4||ke.stateNode.containerInfo!==Fe.containerInfo||ke.stateNode.implementation!==Fe.implementation?(ke=Nj(Fe,De.mode,ot),ke.return=De,ke):(ke=M(ke,Fe.children||[]),ke.return=De,ke)}function tt(De,ke,Fe,ot,kt){return ke===null||ke.tag!==7?(ke=Jd(Fe,De.mode,ot,kt),ke.return=De,ke):(ke=M(ke,Fe),ke.return=De,ke)}function st(De,ke,Fe){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return ke=Cj(""+ke,De.mode,Fe),ke.return=De,ke;if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case E:return Fe=E0(ke.type,ke.key,ke.props,null,De.mode,Fe),Fe.ref=gg(De,null,ke),Fe.return=De,Fe;case k:return ke=Nj(ke,De.mode,Fe),ke.return=De,ke;case oe:var ot=ke._init;return st(De,ot(ke._payload),Fe)}if(ge(ke)||Z(ke))return ke=Jd(ke,De.mode,Fe,null),ke.return=De,ke;n0(De,ke)}return null}function et(De,ke,Fe,ot){var kt=ke!==null?ke.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return kt!==null?null:ve(De,ke,""+Fe,ot);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case E:return Fe.key===kt?Se(De,ke,Fe,ot):null;case k:return Fe.key===kt?Ve(De,ke,Fe,ot):null;case oe:return kt=Fe._init,et(De,ke,kt(Fe._payload),ot)}if(ge(Fe)||Z(Fe))return kt!==null?null:tt(De,ke,Fe,ot,null);n0(De,Fe)}return null}function gt(De,ke,Fe,ot,kt){if(typeof ot=="string"&&ot!==""||typeof ot=="number")return De=De.get(Fe)||null,ve(ke,De,""+ot,kt);if(typeof ot=="object"&&ot!==null){switch(ot.$$typeof){case E:return De=De.get(ot.key===null?Fe:ot.key)||null,Se(ke,De,ot,kt);case k:return De=De.get(ot.key===null?Fe:ot.key)||null,Ve(ke,De,ot,kt);case oe:var Mt=ot._init;return gt(De,ke,Fe,Mt(ot._payload),kt)}if(ge(ot)||Z(ot))return De=De.get(Fe)||null,tt(ke,De,ot,kt,null);n0(ke,ot)}return null}function bt(De,ke,Fe,ot){for(var kt=null,Mt=null,It=ke,Ut=ke=0,_i=null;It!==null&&Ut<Fe.length;Ut++){It.index>Ut?(_i=It,It=null):_i=It.sibling;var Er=et(De,It,Fe[Ut],ot);if(Er===null){It===null&&(It=_i);break}h&&It&&Er.alternate===null&&m(De,It),ke=$(Er,ke,Ut),Mt===null?kt=Er:Mt.sibling=Er,Mt=Er,It=_i}if(Ut===Fe.length)return j(De,It),_n&&Vd(De,Ut),kt;if(It===null){for(;Ut<Fe.length;Ut++)It=st(De,Fe[Ut],ot),It!==null&&(ke=$(It,ke,Ut),Mt===null?kt=It:Mt.sibling=It,Mt=It);return _n&&Vd(De,Ut),kt}for(It=T(De,It);Ut<Fe.length;Ut++)_i=gt(It,De,Ut,Fe[Ut],ot),_i!==null&&(h&&_i.alternate!==null&&It.delete(_i.key===null?Ut:_i.key),ke=$(_i,ke,Ut),Mt===null?kt=_i:Mt.sibling=_i,Mt=_i);return h&&It.forEach(function(Ru){return m(De,Ru)}),_n&&Vd(De,Ut),kt}function Nt(De,ke,Fe,ot){var kt=Z(Fe);if(typeof kt!="function")throw Error(r(150));if(Fe=kt.call(Fe),Fe==null)throw Error(r(151));for(var Mt=kt=null,It=ke,Ut=ke=0,_i=null,Er=Fe.next();It!==null&&!Er.done;Ut++,Er=Fe.next()){It.index>Ut?(_i=It,It=null):_i=It.sibling;var Ru=et(De,It,Er.value,ot);if(Ru===null){It===null&&(It=_i);break}h&&It&&Ru.alternate===null&&m(De,It),ke=$(Ru,ke,Ut),Mt===null?kt=Ru:Mt.sibling=Ru,Mt=Ru,It=_i}if(Er.done)return j(De,It),_n&&Vd(De,Ut),kt;if(It===null){for(;!Er.done;Ut++,Er=Fe.next())Er=st(De,Er.value,ot),Er!==null&&(ke=$(Er,ke,Ut),Mt===null?kt=Er:Mt.sibling=Er,Mt=Er);return _n&&Vd(De,Ut),kt}for(It=T(De,It);!Er.done;Ut++,Er=Fe.next())Er=gt(It,De,Ut,Er.value,ot),Er!==null&&(h&&Er.alternate!==null&&It.delete(Er.key===null?Ut:Er.key),ke=$(Er,ke,Ut),Mt===null?kt=Er:Mt.sibling=Er,Mt=Er);return h&&It.forEach(function(Gie){return m(De,Gie)}),_n&&Vd(De,Ut),kt}function Fn(De,ke,Fe,ot){if(typeof Fe=="object"&&Fe!==null&&Fe.type===O&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case E:e:{for(var kt=Fe.key,Mt=ke;Mt!==null;){if(Mt.key===kt){if(kt=Fe.type,kt===O){if(Mt.tag===7){j(De,Mt.sibling),ke=M(Mt,Fe.props.children),ke.return=De,De=ke;break e}}else if(Mt.elementType===kt||typeof kt=="object"&&kt!==null&&kt.$$typeof===oe&&QL(kt)===Mt.type){j(De,Mt.sibling),ke=M(Mt,Fe.props),ke.ref=gg(De,Mt,Fe),ke.return=De,De=ke;break e}j(De,Mt);break}else m(De,Mt);Mt=Mt.sibling}Fe.type===O?(ke=Jd(Fe.props.children,De.mode,ot,Fe.key),ke.return=De,De=ke):(ot=E0(Fe.type,Fe.key,Fe.props,null,De.mode,ot),ot.ref=gg(De,ke,Fe),ot.return=De,De=ot)}return ie(De);case k:e:{for(Mt=Fe.key;ke!==null;){if(ke.key===Mt)if(ke.tag===4&&ke.stateNode.containerInfo===Fe.containerInfo&&ke.stateNode.implementation===Fe.implementation){j(De,ke.sibling),ke=M(ke,Fe.children||[]),ke.return=De,De=ke;break e}else{j(De,ke);break}else m(De,ke);ke=ke.sibling}ke=Nj(Fe,De.mode,ot),ke.return=De,De=ke}return ie(De);case oe:return Mt=Fe._init,Fn(De,ke,Mt(Fe._payload),ot)}if(ge(Fe))return bt(De,ke,Fe,ot);if(Z(Fe))return Nt(De,ke,Fe,ot);n0(De,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,ke!==null&&ke.tag===6?(j(De,ke.sibling),ke=M(ke,Fe),ke.return=De,De=ke):(j(De,ke),ke=Cj(Fe,De.mode,ot),ke.return=De,De=ke),ie(De)):j(De,ke)}return Fn}var kh=eD(!0),tD=eD(!1),i0=_u(null),s0=null,Ah=null,IS=null;function LS(){IS=Ah=s0=null}function DS(h){var m=i0.current;mn(i0),h._currentValue=m}function $S(h,m,j){for(;h!==null;){var T=h.alternate;if((h.childLanes&m)!==m?(h.childLanes|=m,T!==null&&(T.childLanes|=m)):T!==null&&(T.childLanes&m)!==m&&(T.childLanes|=m),h===j)break;h=h.return}}function Th(h,m){s0=h,IS=Ah=null,h=h.dependencies,h!==null&&h.firstContext!==null&&((h.lanes&m)!==0&&(As=!0),h.firstContext=null)}function Oa(h){var m=h._currentValue;if(IS!==h)if(h={context:h,memoizedValue:m,next:null},Ah===null){if(s0===null)throw Error(r(308));Ah=h,s0.dependencies={lanes:0,firstContext:h}}else Ah=Ah.next=h;return m}var Wd=null;function FS(h){Wd===null?Wd=[h]:Wd.push(h)}function rD(h,m,j,T){var M=m.interleaved;return M===null?(j.next=j,FS(m)):(j.next=M.next,M.next=j),m.interleaved=j,oc(h,T)}function oc(h,m){h.lanes|=m;var j=h.alternate;for(j!==null&&(j.lanes|=m),j=h,h=h.return;h!==null;)h.childLanes|=m,j=h.alternate,j!==null&&(j.childLanes|=m),j=h,h=h.return;return j.tag===3?j.stateNode:null}var Cu=!1;function BS(h){h.updateQueue={baseState:h.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nD(h,m){h=h.updateQueue,m.updateQueue===h&&(m.updateQueue={baseState:h.baseState,firstBaseUpdate:h.firstBaseUpdate,lastBaseUpdate:h.lastBaseUpdate,shared:h.shared,effects:h.effects})}function lc(h,m){return{eventTime:h,lane:m,tag:0,payload:null,callback:null,next:null}}function Nu(h,m,j){var T=h.updateQueue;if(T===null)return null;if(T=T.shared,(_r&2)!==0){var M=T.pending;return M===null?m.next=m:(m.next=M.next,M.next=m),T.pending=m,oc(h,j)}return M=T.interleaved,M===null?(m.next=m,FS(T)):(m.next=M.next,M.next=m),T.interleaved=m,oc(h,j)}function a0(h,m,j){if(m=m.updateQueue,m!==null&&(m=m.shared,(j&4194240)!==0)){var T=m.lanes;T&=h.pendingLanes,j|=T,m.lanes=j,Ys(h,j)}}function iD(h,m){var j=h.updateQueue,T=h.alternate;if(T!==null&&(T=T.updateQueue,j===T)){var M=null,$=null;if(j=j.firstBaseUpdate,j!==null){do{var ie={eventTime:j.eventTime,lane:j.lane,tag:j.tag,payload:j.payload,callback:j.callback,next:null};$===null?M=$=ie:$=$.next=ie,j=j.next}while(j!==null);$===null?M=$=m:$=$.next=m}else M=$=m;j={baseState:T.baseState,firstBaseUpdate:M,lastBaseUpdate:$,shared:T.shared,effects:T.effects},h.updateQueue=j;return}h=j.lastBaseUpdate,h===null?j.firstBaseUpdate=m:h.next=m,j.lastBaseUpdate=m}function o0(h,m,j,T){var M=h.updateQueue;Cu=!1;var $=M.firstBaseUpdate,ie=M.lastBaseUpdate,ve=M.shared.pending;if(ve!==null){M.shared.pending=null;var Se=ve,Ve=Se.next;Se.next=null,ie===null?$=Ve:ie.next=Ve,ie=Se;var tt=h.alternate;tt!==null&&(tt=tt.updateQueue,ve=tt.lastBaseUpdate,ve!==ie&&(ve===null?tt.firstBaseUpdate=Ve:ve.next=Ve,tt.lastBaseUpdate=Se))}if($!==null){var st=M.baseState;ie=0,tt=Ve=Se=null,ve=$;do{var et=ve.lane,gt=ve.eventTime;if((T&et)===et){tt!==null&&(tt=tt.next={eventTime:gt,lane:0,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null});e:{var bt=h,Nt=ve;switch(et=m,gt=j,Nt.tag){case 1:if(bt=Nt.payload,typeof bt=="function"){st=bt.call(gt,st,et);break e}st=bt;break e;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=Nt.payload,et=typeof bt=="function"?bt.call(gt,st,et):bt,et==null)break e;st=se({},st,et);break e;case 2:Cu=!0}}ve.callback!==null&&ve.lane!==0&&(h.flags|=64,et=M.effects,et===null?M.effects=[ve]:et.push(ve))}else gt={eventTime:gt,lane:et,tag:ve.tag,payload:ve.payload,callback:ve.callback,next:null},tt===null?(Ve=tt=gt,Se=st):tt=tt.next=gt,ie|=et;if(ve=ve.next,ve===null){if(ve=M.shared.pending,ve===null)break;et=ve,ve=et.next,et.next=null,M.lastBaseUpdate=et,M.shared.pending=null}}while(!0);if(tt===null&&(Se=st),M.baseState=Se,M.firstBaseUpdate=Ve,M.lastBaseUpdate=tt,m=M.shared.interleaved,m!==null){M=m;do ie|=M.lane,M=M.next;while(M!==m)}else $===null&&(M.shared.lanes=0);Gd|=ie,h.lanes=ie,h.memoizedState=st}}function sD(h,m,j){if(h=m.effects,m.effects=null,h!==null)for(m=0;m<h.length;m++){var T=h[m],M=T.callback;if(M!==null){if(T.callback=null,T=j,typeof M!="function")throw Error(r(191,M));M.call(T)}}}var vg={},rl=_u(vg),yg=_u(vg),xg=_u(vg);function Hd(h){if(h===vg)throw Error(r(174));return h}function zS(h,m){switch(an(xg,m),an(yg,h),an(rl,vg),h=m.nodeType,h){case 9:case 11:m=(m=m.documentElement)?m.namespaceURI:Y(null,"");break;default:h=h===8?m.parentNode:m,m=h.namespaceURI||null,h=h.tagName,m=Y(m,h)}mn(rl),an(rl,m)}function Oh(){mn(rl),mn(yg),mn(xg)}function aD(h){Hd(xg.current);var m=Hd(rl.current),j=Y(m,h.type);m!==j&&(an(yg,h),an(rl,j))}function qS(h){yg.current===h&&(mn(rl),mn(yg))}var Nn=_u(0);function l0(h){for(var m=h;m!==null;){if(m.tag===13){var j=m.memoizedState;if(j!==null&&(j=j.dehydrated,j===null||j.data==="$?"||j.data==="$!"))return m}else if(m.tag===19&&m.memoizedProps.revealOrder!==void 0){if((m.flags&128)!==0)return m}else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return null;m=m.return}m.sibling.return=m.return,m=m.sibling}return null}var US=[];function VS(){for(var h=0;h<US.length;h++)US[h]._workInProgressVersionPrimary=null;US.length=0}var c0=A.ReactCurrentDispatcher,WS=A.ReactCurrentBatchConfig,Kd=0,En=null,oi=null,bi=null,u0=!1,bg=!1,wg=0,gie=0;function Hi(){throw Error(r(321))}function HS(h,m){if(m===null)return!1;for(var j=0;j<m.length&&j<h.length;j++)if(!ea(h[j],m[j]))return!1;return!0}function KS(h,m,j,T,M,$){if(Kd=$,En=m,m.memoizedState=null,m.updateQueue=null,m.lanes=0,c0.current=h===null||h.memoizedState===null?bie:wie,h=j(T,M),bg){$=0;do{if(bg=!1,wg=0,25<=$)throw Error(r(301));$+=1,bi=oi=null,m.updateQueue=null,c0.current=_ie,h=j(T,M)}while(bg)}if(c0.current=h0,m=oi!==null&&oi.next!==null,Kd=0,bi=oi=En=null,u0=!1,m)throw Error(r(300));return h}function GS(){var h=wg!==0;return wg=0,h}function nl(){var h={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bi===null?En.memoizedState=bi=h:bi=bi.next=h,bi}function Ra(){if(oi===null){var h=En.alternate;h=h!==null?h.memoizedState:null}else h=oi.next;var m=bi===null?En.memoizedState:bi.next;if(m!==null)bi=m,oi=h;else{if(h===null)throw Error(r(310));oi=h,h={memoizedState:oi.memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},bi===null?En.memoizedState=bi=h:bi=bi.next=h}return bi}function _g(h,m){return typeof m=="function"?m(h):m}function ZS(h){var m=Ra(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=h;var T=oi,M=T.baseQueue,$=j.pending;if($!==null){if(M!==null){var ie=M.next;M.next=$.next,$.next=ie}T.baseQueue=M=$,j.pending=null}if(M!==null){$=M.next,T=T.baseState;var ve=ie=null,Se=null,Ve=$;do{var tt=Ve.lane;if((Kd&tt)===tt)Se!==null&&(Se=Se.next={lane:0,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null}),T=Ve.hasEagerState?Ve.eagerState:h(T,Ve.action);else{var st={lane:tt,action:Ve.action,hasEagerState:Ve.hasEagerState,eagerState:Ve.eagerState,next:null};Se===null?(ve=Se=st,ie=T):Se=Se.next=st,En.lanes|=tt,Gd|=tt}Ve=Ve.next}while(Ve!==null&&Ve!==$);Se===null?ie=T:Se.next=ve,ea(T,m.memoizedState)||(As=!0),m.memoizedState=T,m.baseState=ie,m.baseQueue=Se,j.lastRenderedState=T}if(h=j.interleaved,h!==null){M=h;do $=M.lane,En.lanes|=$,Gd|=$,M=M.next;while(M!==h)}else M===null&&(j.lanes=0);return[m.memoizedState,j.dispatch]}function YS(h){var m=Ra(),j=m.queue;if(j===null)throw Error(r(311));j.lastRenderedReducer=h;var T=j.dispatch,M=j.pending,$=m.memoizedState;if(M!==null){j.pending=null;var ie=M=M.next;do $=h($,ie.action),ie=ie.next;while(ie!==M);ea($,m.memoizedState)||(As=!0),m.memoizedState=$,m.baseQueue===null&&(m.baseState=$),j.lastRenderedState=$}return[$,T]}function oD(){}function lD(h,m){var j=En,T=Ra(),M=m(),$=!ea(T.memoizedState,M);if($&&(T.memoizedState=M,As=!0),T=T.queue,XS(dD.bind(null,j,T,h),[h]),T.getSnapshot!==m||$||bi!==null&&bi.memoizedState.tag&1){if(j.flags|=2048,Sg(9,uD.bind(null,j,T,M,m),void 0,null),wi===null)throw Error(r(349));(Kd&30)!==0||cD(j,m,M)}return M}function cD(h,m,j){h.flags|=16384,h={getSnapshot:m,value:j},m=En.updateQueue,m===null?(m={lastEffect:null,stores:null},En.updateQueue=m,m.stores=[h]):(j=m.stores,j===null?m.stores=[h]:j.push(h))}function uD(h,m,j,T){m.value=j,m.getSnapshot=T,fD(m)&&hD(h)}function dD(h,m,j){return j(function(){fD(m)&&hD(h)})}function fD(h){var m=h.getSnapshot;h=h.value;try{var j=m();return!ea(h,j)}catch{return!0}}function hD(h){var m=oc(h,1);m!==null&&po(m,h,1,-1)}function pD(h){var m=nl();return typeof h=="function"&&(h=h()),m.memoizedState=m.baseState=h,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:h},m.queue=h,h=h.dispatch=xie.bind(null,En,h),[m.memoizedState,h]}function Sg(h,m,j,T){return h={tag:h,create:m,destroy:j,deps:T,next:null},m=En.updateQueue,m===null?(m={lastEffect:null,stores:null},En.updateQueue=m,m.lastEffect=h.next=h):(j=m.lastEffect,j===null?m.lastEffect=h.next=h:(T=j.next,j.next=h,h.next=T,m.lastEffect=h)),h}function mD(){return Ra().memoizedState}function d0(h,m,j,T){var M=nl();En.flags|=h,M.memoizedState=Sg(1|m,j,void 0,T===void 0?null:T)}function f0(h,m,j,T){var M=Ra();T=T===void 0?null:T;var $=void 0;if(oi!==null){var ie=oi.memoizedState;if($=ie.destroy,T!==null&&HS(T,ie.deps)){M.memoizedState=Sg(m,j,$,T);return}}En.flags|=h,M.memoizedState=Sg(1|m,j,$,T)}function gD(h,m){return d0(8390656,8,h,m)}function XS(h,m){return f0(2048,8,h,m)}function vD(h,m){return f0(4,2,h,m)}function yD(h,m){return f0(4,4,h,m)}function xD(h,m){if(typeof m=="function")return h=h(),m(h),function(){m(null)};if(m!=null)return h=h(),m.current=h,function(){m.current=null}}function bD(h,m,j){return j=j!=null?j.concat([h]):null,f0(4,4,xD.bind(null,m,h),j)}function JS(){}function wD(h,m){var j=Ra();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&HS(m,T[1])?T[0]:(j.memoizedState=[h,m],h)}function _D(h,m){var j=Ra();m=m===void 0?null:m;var T=j.memoizedState;return T!==null&&m!==null&&HS(m,T[1])?T[0]:(h=h(),j.memoizedState=[h,m],h)}function SD(h,m,j){return(Kd&21)===0?(h.baseState&&(h.baseState=!1,As=!0),h.memoizedState=j):(ea(j,m)||(j=tg(),En.lanes|=j,Gd|=j,h.baseState=!0),m)}function vie(h,m){var j=mr;mr=j!==0&&4>j?j:4,h(!0);var T=WS.transition;WS.transition={};try{h(!1),m()}finally{mr=j,WS.transition=T}}function jD(){return Ra().memoizedState}function yie(h,m,j){var T=Au(h);if(j={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null},CD(h))ND(m,j);else if(j=rD(h,m,j,T),j!==null){var M=ds();po(j,h,T,M),ED(j,m,T)}}function xie(h,m,j){var T=Au(h),M={lane:T,action:j,hasEagerState:!1,eagerState:null,next:null};if(CD(h))ND(m,M);else{var $=h.alternate;if(h.lanes===0&&($===null||$.lanes===0)&&($=m.lastRenderedReducer,$!==null))try{var ie=m.lastRenderedState,ve=$(ie,j);if(M.hasEagerState=!0,M.eagerState=ve,ea(ve,ie)){var Se=m.interleaved;Se===null?(M.next=M,FS(m)):(M.next=Se.next,Se.next=M),m.interleaved=M;return}}catch{}finally{}j=rD(h,m,M,T),j!==null&&(M=ds(),po(j,h,T,M),ED(j,m,T))}}function CD(h){var m=h.alternate;return h===En||m!==null&&m===En}function ND(h,m){bg=u0=!0;var j=h.pending;j===null?m.next=m:(m.next=j.next,j.next=m),h.pending=m}function ED(h,m,j){if((j&4194240)!==0){var T=m.lanes;T&=h.pendingLanes,j|=T,m.lanes=j,Ys(h,j)}}var h0={readContext:Oa,useCallback:Hi,useContext:Hi,useEffect:Hi,useImperativeHandle:Hi,useInsertionEffect:Hi,useLayoutEffect:Hi,useMemo:Hi,useReducer:Hi,useRef:Hi,useState:Hi,useDebugValue:Hi,useDeferredValue:Hi,useTransition:Hi,useMutableSource:Hi,useSyncExternalStore:Hi,useId:Hi,unstable_isNewReconciler:!1},bie={readContext:Oa,useCallback:function(h,m){return nl().memoizedState=[h,m===void 0?null:m],h},useContext:Oa,useEffect:gD,useImperativeHandle:function(h,m,j){return j=j!=null?j.concat([h]):null,d0(4194308,4,xD.bind(null,m,h),j)},useLayoutEffect:function(h,m){return d0(4194308,4,h,m)},useInsertionEffect:function(h,m){return d0(4,2,h,m)},useMemo:function(h,m){var j=nl();return m=m===void 0?null:m,h=h(),j.memoizedState=[h,m],h},useReducer:function(h,m,j){var T=nl();return m=j!==void 0?j(m):m,T.memoizedState=T.baseState=m,h={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:h,lastRenderedState:m},T.queue=h,h=h.dispatch=yie.bind(null,En,h),[T.memoizedState,h]},useRef:function(h){var m=nl();return h={current:h},m.memoizedState=h},useState:pD,useDebugValue:JS,useDeferredValue:function(h){return nl().memoizedState=h},useTransition:function(){var h=pD(!1),m=h[0];return h=vie.bind(null,h[1]),nl().memoizedState=h,[m,h]},useMutableSource:function(){},useSyncExternalStore:function(h,m,j){var T=En,M=nl();if(_n){if(j===void 0)throw Error(r(407));j=j()}else{if(j=m(),wi===null)throw Error(r(349));(Kd&30)!==0||cD(T,m,j)}M.memoizedState=j;var $={value:j,getSnapshot:m};return M.queue=$,gD(dD.bind(null,T,$,h),[h]),T.flags|=2048,Sg(9,uD.bind(null,T,$,j,m),void 0,null),j},useId:function(){var h=nl(),m=wi.identifierPrefix;if(_n){var j=ac,T=sc;j=(T&~(1<<32-zt(T)-1)).toString(32)+j,m=":"+m+"R"+j,j=wg++,0<j&&(m+="H"+j.toString(32)),m+=":"}else j=gie++,m=":"+m+"r"+j.toString(32)+":";return h.memoizedState=m},unstable_isNewReconciler:!1},wie={readContext:Oa,useCallback:wD,useContext:Oa,useEffect:XS,useImperativeHandle:bD,useInsertionEffect:vD,useLayoutEffect:yD,useMemo:_D,useReducer:ZS,useRef:mD,useState:function(){return ZS(_g)},useDebugValue:JS,useDeferredValue:function(h){var m=Ra();return SD(m,oi.memoizedState,h)},useTransition:function(){var h=ZS(_g)[0],m=Ra().memoizedState;return[h,m]},useMutableSource:oD,useSyncExternalStore:lD,useId:jD,unstable_isNewReconciler:!1},_ie={readContext:Oa,useCallback:wD,useContext:Oa,useEffect:XS,useImperativeHandle:bD,useInsertionEffect:vD,useLayoutEffect:yD,useMemo:_D,useReducer:YS,useRef:mD,useState:function(){return YS(_g)},useDebugValue:JS,useDeferredValue:function(h){var m=Ra();return oi===null?m.memoizedState=h:SD(m,oi.memoizedState,h)},useTransition:function(){var h=YS(_g)[0],m=Ra().memoizedState;return[h,m]},useMutableSource:oD,useSyncExternalStore:lD,useId:jD,unstable_isNewReconciler:!1};function uo(h,m){if(h&&h.defaultProps){m=se({},m),h=h.defaultProps;for(var j in h)m[j]===void 0&&(m[j]=h[j]);return m}return m}function QS(h,m,j,T){m=h.memoizedState,j=j(T,m),j=j==null?m:se({},m,j),h.memoizedState=j,h.lanes===0&&(h.updateQueue.baseState=j)}var p0={isMounted:function(h){return(h=h._reactInternals)?_s(h)===h:!1},enqueueSetState:function(h,m,j){h=h._reactInternals;var T=ds(),M=Au(h),$=lc(T,M);$.payload=m,j!=null&&($.callback=j),m=Nu(h,$,M),m!==null&&(po(m,h,M,T),a0(m,h,M))},enqueueReplaceState:function(h,m,j){h=h._reactInternals;var T=ds(),M=Au(h),$=lc(T,M);$.tag=1,$.payload=m,j!=null&&($.callback=j),m=Nu(h,$,M),m!==null&&(po(m,h,M,T),a0(m,h,M))},enqueueForceUpdate:function(h,m){h=h._reactInternals;var j=ds(),T=Au(h),M=lc(j,T);M.tag=2,m!=null&&(M.callback=m),m=Nu(h,M,T),m!==null&&(po(m,h,T,j),a0(m,h,T))}};function PD(h,m,j,T,M,$,ie){return h=h.stateNode,typeof h.shouldComponentUpdate=="function"?h.shouldComponentUpdate(T,$,ie):m.prototype&&m.prototype.isPureReactComponent?!Jo(j,T)||!Jo(M,$):!0}function kD(h,m,j){var T=!1,M=Su,$=m.contextType;return typeof $=="object"&&$!==null?$=Oa($):(M=ks(m)?qd:Wi.current,T=m.contextTypes,$=(T=T!=null)?Ch(h,M):Su),m=new m(j,$),h.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=p0,h.stateNode=m,m._reactInternals=h,T&&(h=h.stateNode,h.__reactInternalMemoizedUnmaskedChildContext=M,h.__reactInternalMemoizedMaskedChildContext=$),m}function AD(h,m,j,T){h=m.state,typeof m.componentWillReceiveProps=="function"&&m.componentWillReceiveProps(j,T),typeof m.UNSAFE_componentWillReceiveProps=="function"&&m.UNSAFE_componentWillReceiveProps(j,T),m.state!==h&&p0.enqueueReplaceState(m,m.state,null)}function ej(h,m,j,T){var M=h.stateNode;M.props=j,M.state=h.memoizedState,M.refs={},BS(h);var $=m.contextType;typeof $=="object"&&$!==null?M.context=Oa($):($=ks(m)?qd:Wi.current,M.context=Ch(h,$)),M.state=h.memoizedState,$=m.getDerivedStateFromProps,typeof $=="function"&&(QS(h,m,$,j),M.state=h.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(m=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),m!==M.state&&p0.enqueueReplaceState(M,M.state,null),o0(h,j,M,T),M.state=h.memoizedState),typeof M.componentDidMount=="function"&&(h.flags|=4194308)}function Rh(h,m){try{var j="",T=m;do j+=qe(T),T=T.return;while(T);var M=j}catch($){M=`
Error generating stack: `+$.message+`
`+$.stack}return{value:h,source:m,stack:M,digest:null}}function tj(h,m,j){return{value:h,source:null,stack:j??null,digest:m??null}}function rj(h,m){try{console.error(m.value)}catch(j){setTimeout(function(){throw j})}}var Sie=typeof WeakMap=="function"?WeakMap:Map;function TD(h,m,j){j=lc(-1,j),j.tag=3,j.payload={element:null};var T=m.value;return j.callback=function(){w0||(w0=!0,vj=T),rj(h,m)},j}function OD(h,m,j){j=lc(-1,j),j.tag=3;var T=h.type.getDerivedStateFromError;if(typeof T=="function"){var M=m.value;j.payload=function(){return T(M)},j.callback=function(){rj(h,m)}}var $=h.stateNode;return $!==null&&typeof $.componentDidCatch=="function"&&(j.callback=function(){rj(h,m),typeof T!="function"&&(Pu===null?Pu=new Set([this]):Pu.add(this));var ie=m.stack;this.componentDidCatch(m.value,{componentStack:ie!==null?ie:""})}),j}function RD(h,m,j){var T=h.pingCache;if(T===null){T=h.pingCache=new Sie;var M=new Set;T.set(m,M)}else M=T.get(m),M===void 0&&(M=new Set,T.set(m,M));M.has(j)||(M.add(j),h=Die.bind(null,h,m,j),m.then(h,h))}function MD(h){do{var m;if((m=h.tag===13)&&(m=h.memoizedState,m=m!==null?m.dehydrated!==null:!0),m)return h;h=h.return}while(h!==null);return null}function ID(h,m,j,T,M){return(h.mode&1)===0?(h===m?h.flags|=65536:(h.flags|=128,j.flags|=131072,j.flags&=-52805,j.tag===1&&(j.alternate===null?j.tag=17:(m=lc(-1,1),m.tag=2,Nu(j,m,1))),j.lanes|=1),h):(h.flags|=65536,h.lanes=M,h)}var jie=A.ReactCurrentOwner,As=!1;function us(h,m,j,T){m.child=h===null?tD(m,null,j,T):kh(m,h.child,j,T)}function LD(h,m,j,T,M){j=j.render;var $=m.ref;return Th(m,M),T=KS(h,m,j,T,$,M),j=GS(),h!==null&&!As?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~M,cc(h,m,M)):(_n&&j&&AS(m),m.flags|=1,us(h,m,T,M),m.child)}function DD(h,m,j,T,M){if(h===null){var $=j.type;return typeof $=="function"&&!jj($)&&$.defaultProps===void 0&&j.compare===null&&j.defaultProps===void 0?(m.tag=15,m.type=$,$D(h,m,$,T,M)):(h=E0(j.type,null,T,m,m.mode,M),h.ref=m.ref,h.return=m,m.child=h)}if($=h.child,(h.lanes&M)===0){var ie=$.memoizedProps;if(j=j.compare,j=j!==null?j:Jo,j(ie,T)&&h.ref===m.ref)return cc(h,m,M)}return m.flags|=1,h=Ou($,T),h.ref=m.ref,h.return=m,m.child=h}function $D(h,m,j,T,M){if(h!==null){var $=h.memoizedProps;if(Jo($,T)&&h.ref===m.ref)if(As=!1,m.pendingProps=T=$,(h.lanes&M)!==0)(h.flags&131072)!==0&&(As=!0);else return m.lanes=h.lanes,cc(h,m,M)}return nj(h,m,j,T,M)}function FD(h,m,j){var T=m.pendingProps,M=T.children,$=h!==null?h.memoizedState:null;if(T.mode==="hidden")if((m.mode&1)===0)m.memoizedState={baseLanes:0,cachePool:null,transitions:null},an(Ih,ia),ia|=j;else{if((j&1073741824)===0)return h=$!==null?$.baseLanes|j:j,m.lanes=m.childLanes=1073741824,m.memoizedState={baseLanes:h,cachePool:null,transitions:null},m.updateQueue=null,an(Ih,ia),ia|=h,null;m.memoizedState={baseLanes:0,cachePool:null,transitions:null},T=$!==null?$.baseLanes:j,an(Ih,ia),ia|=T}else $!==null?(T=$.baseLanes|j,m.memoizedState=null):T=j,an(Ih,ia),ia|=T;return us(h,m,M,j),m.child}function BD(h,m){var j=m.ref;(h===null&&j!==null||h!==null&&h.ref!==j)&&(m.flags|=512,m.flags|=2097152)}function nj(h,m,j,T,M){var $=ks(j)?qd:Wi.current;return $=Ch(m,$),Th(m,M),j=KS(h,m,j,T,$,M),T=GS(),h!==null&&!As?(m.updateQueue=h.updateQueue,m.flags&=-2053,h.lanes&=~M,cc(h,m,M)):(_n&&T&&AS(m),m.flags|=1,us(h,m,j,M),m.child)}function zD(h,m,j,T,M){if(ks(j)){var $=!0;Jx(m)}else $=!1;if(Th(m,M),m.stateNode===null)g0(h,m),kD(m,j,T),ej(m,j,T,M),T=!0;else if(h===null){var ie=m.stateNode,ve=m.memoizedProps;ie.props=ve;var Se=ie.context,Ve=j.contextType;typeof Ve=="object"&&Ve!==null?Ve=Oa(Ve):(Ve=ks(j)?qd:Wi.current,Ve=Ch(m,Ve));var tt=j.getDerivedStateFromProps,st=typeof tt=="function"||typeof ie.getSnapshotBeforeUpdate=="function";st||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(ve!==T||Se!==Ve)&&AD(m,ie,T,Ve),Cu=!1;var et=m.memoizedState;ie.state=et,o0(m,T,ie,M),Se=m.memoizedState,ve!==T||et!==Se||Ps.current||Cu?(typeof tt=="function"&&(QS(m,j,tt,T),Se=m.memoizedState),(ve=Cu||PD(m,j,ve,T,et,Se,Ve))?(st||typeof ie.UNSAFE_componentWillMount!="function"&&typeof ie.componentWillMount!="function"||(typeof ie.componentWillMount=="function"&&ie.componentWillMount(),typeof ie.UNSAFE_componentWillMount=="function"&&ie.UNSAFE_componentWillMount()),typeof ie.componentDidMount=="function"&&(m.flags|=4194308)):(typeof ie.componentDidMount=="function"&&(m.flags|=4194308),m.memoizedProps=T,m.memoizedState=Se),ie.props=T,ie.state=Se,ie.context=Ve,T=ve):(typeof ie.componentDidMount=="function"&&(m.flags|=4194308),T=!1)}else{ie=m.stateNode,nD(h,m),ve=m.memoizedProps,Ve=m.type===m.elementType?ve:uo(m.type,ve),ie.props=Ve,st=m.pendingProps,et=ie.context,Se=j.contextType,typeof Se=="object"&&Se!==null?Se=Oa(Se):(Se=ks(j)?qd:Wi.current,Se=Ch(m,Se));var gt=j.getDerivedStateFromProps;(tt=typeof gt=="function"||typeof ie.getSnapshotBeforeUpdate=="function")||typeof ie.UNSAFE_componentWillReceiveProps!="function"&&typeof ie.componentWillReceiveProps!="function"||(ve!==st||et!==Se)&&AD(m,ie,T,Se),Cu=!1,et=m.memoizedState,ie.state=et,o0(m,T,ie,M);var bt=m.memoizedState;ve!==st||et!==bt||Ps.current||Cu?(typeof gt=="function"&&(QS(m,j,gt,T),bt=m.memoizedState),(Ve=Cu||PD(m,j,Ve,T,et,bt,Se)||!1)?(tt||typeof ie.UNSAFE_componentWillUpdate!="function"&&typeof ie.componentWillUpdate!="function"||(typeof ie.componentWillUpdate=="function"&&ie.componentWillUpdate(T,bt,Se),typeof ie.UNSAFE_componentWillUpdate=="function"&&ie.UNSAFE_componentWillUpdate(T,bt,Se)),typeof ie.componentDidUpdate=="function"&&(m.flags|=4),typeof ie.getSnapshotBeforeUpdate=="function"&&(m.flags|=1024)):(typeof ie.componentDidUpdate!="function"||ve===h.memoizedProps&&et===h.memoizedState||(m.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||ve===h.memoizedProps&&et===h.memoizedState||(m.flags|=1024),m.memoizedProps=T,m.memoizedState=bt),ie.props=T,ie.state=bt,ie.context=Se,T=Ve):(typeof ie.componentDidUpdate!="function"||ve===h.memoizedProps&&et===h.memoizedState||(m.flags|=4),typeof ie.getSnapshotBeforeUpdate!="function"||ve===h.memoizedProps&&et===h.memoizedState||(m.flags|=1024),T=!1)}return ij(h,m,j,T,$,M)}function ij(h,m,j,T,M,$){BD(h,m);var ie=(m.flags&128)!==0;if(!T&&!ie)return M&&HL(m,j,!1),cc(h,m,$);T=m.stateNode,jie.current=m;var ve=ie&&typeof j.getDerivedStateFromError!="function"?null:T.render();return m.flags|=1,h!==null&&ie?(m.child=kh(m,h.child,null,$),m.child=kh(m,null,ve,$)):us(h,m,ve,$),m.memoizedState=T.state,M&&HL(m,j,!0),m.child}function qD(h){var m=h.stateNode;m.pendingContext?VL(h,m.pendingContext,m.pendingContext!==m.context):m.context&&VL(h,m.context,!1),zS(h,m.containerInfo)}function UD(h,m,j,T,M){return Ph(),MS(M),m.flags|=256,us(h,m,j,T),m.child}var sj={dehydrated:null,treeContext:null,retryLane:0};function aj(h){return{baseLanes:h,cachePool:null,transitions:null}}function VD(h,m,j){var T=m.pendingProps,M=Nn.current,$=!1,ie=(m.flags&128)!==0,ve;if((ve=ie)||(ve=h!==null&&h.memoizedState===null?!1:(M&2)!==0),ve?($=!0,m.flags&=-129):(h===null||h.memoizedState!==null)&&(M|=1),an(Nn,M&1),h===null)return RS(m),h=m.memoizedState,h!==null&&(h=h.dehydrated,h!==null)?((m.mode&1)===0?m.lanes=1:h.data==="$!"?m.lanes=8:m.lanes=1073741824,null):(ie=T.children,h=T.fallback,$?(T=m.mode,$=m.child,ie={mode:"hidden",children:ie},(T&1)===0&&$!==null?($.childLanes=0,$.pendingProps=ie):$=P0(ie,T,0,null),h=Jd(h,T,j,null),$.return=m,h.return=m,$.sibling=h,m.child=$,m.child.memoizedState=aj(j),m.memoizedState=sj,h):oj(m,ie));if(M=h.memoizedState,M!==null&&(ve=M.dehydrated,ve!==null))return Cie(h,m,ie,T,ve,M,j);if($){$=T.fallback,ie=m.mode,M=h.child,ve=M.sibling;var Se={mode:"hidden",children:T.children};return(ie&1)===0&&m.child!==M?(T=m.child,T.childLanes=0,T.pendingProps=Se,m.deletions=null):(T=Ou(M,Se),T.subtreeFlags=M.subtreeFlags&14680064),ve!==null?$=Ou(ve,$):($=Jd($,ie,j,null),$.flags|=2),$.return=m,T.return=m,T.sibling=$,m.child=T,T=$,$=m.child,ie=h.child.memoizedState,ie=ie===null?aj(j):{baseLanes:ie.baseLanes|j,cachePool:null,transitions:ie.transitions},$.memoizedState=ie,$.childLanes=h.childLanes&~j,m.memoizedState=sj,T}return $=h.child,h=$.sibling,T=Ou($,{mode:"visible",children:T.children}),(m.mode&1)===0&&(T.lanes=j),T.return=m,T.sibling=null,h!==null&&(j=m.deletions,j===null?(m.deletions=[h],m.flags|=16):j.push(h)),m.child=T,m.memoizedState=null,T}function oj(h,m){return m=P0({mode:"visible",children:m},h.mode,0,null),m.return=h,h.child=m}function m0(h,m,j,T){return T!==null&&MS(T),kh(m,h.child,null,j),h=oj(m,m.pendingProps.children),h.flags|=2,m.memoizedState=null,h}function Cie(h,m,j,T,M,$,ie){if(j)return m.flags&256?(m.flags&=-257,T=tj(Error(r(422))),m0(h,m,ie,T)):m.memoizedState!==null?(m.child=h.child,m.flags|=128,null):($=T.fallback,M=m.mode,T=P0({mode:"visible",children:T.children},M,0,null),$=Jd($,M,ie,null),$.flags|=2,T.return=m,$.return=m,T.sibling=$,m.child=T,(m.mode&1)!==0&&kh(m,h.child,null,ie),m.child.memoizedState=aj(ie),m.memoizedState=sj,$);if((m.mode&1)===0)return m0(h,m,ie,null);if(M.data==="$!"){if(T=M.nextSibling&&M.nextSibling.dataset,T)var ve=T.dgst;return T=ve,$=Error(r(419)),T=tj($,T,void 0),m0(h,m,ie,T)}if(ve=(ie&h.childLanes)!==0,As||ve){if(T=wi,T!==null){switch(ie&-ie){case 4:M=2;break;case 16:M=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:M=32;break;case 536870912:M=268435456;break;default:M=0}M=(M&(T.suspendedLanes|ie))!==0?0:M,M!==0&&M!==$.retryLane&&($.retryLane=M,oc(h,M),po(T,h,M,-1))}return Sj(),T=tj(Error(r(421))),m0(h,m,ie,T)}return M.data==="$?"?(m.flags|=128,m.child=h.child,m=$ie.bind(null,h),M._reactRetry=m,null):(h=$.treeContext,na=tl(M.nextSibling),ra=m,_n=!0,co=null,h!==null&&(Aa[Ta++]=sc,Aa[Ta++]=ac,Aa[Ta++]=Ud,sc=h.id,ac=h.overflow,Ud=m),m=oj(m,T.children),m.flags|=4096,m)}function WD(h,m,j){h.lanes|=m;var T=h.alternate;T!==null&&(T.lanes|=m),$S(h.return,m,j)}function lj(h,m,j,T,M){var $=h.memoizedState;$===null?h.memoizedState={isBackwards:m,rendering:null,renderingStartTime:0,last:T,tail:j,tailMode:M}:($.isBackwards=m,$.rendering=null,$.renderingStartTime=0,$.last=T,$.tail=j,$.tailMode=M)}function HD(h,m,j){var T=m.pendingProps,M=T.revealOrder,$=T.tail;if(us(h,m,T.children,j),T=Nn.current,(T&2)!==0)T=T&1|2,m.flags|=128;else{if(h!==null&&(h.flags&128)!==0)e:for(h=m.child;h!==null;){if(h.tag===13)h.memoizedState!==null&&WD(h,j,m);else if(h.tag===19)WD(h,j,m);else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===m)break e;for(;h.sibling===null;){if(h.return===null||h.return===m)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}T&=1}if(an(Nn,T),(m.mode&1)===0)m.memoizedState=null;else switch(M){case"forwards":for(j=m.child,M=null;j!==null;)h=j.alternate,h!==null&&l0(h)===null&&(M=j),j=j.sibling;j=M,j===null?(M=m.child,m.child=null):(M=j.sibling,j.sibling=null),lj(m,!1,M,j,$);break;case"backwards":for(j=null,M=m.child,m.child=null;M!==null;){if(h=M.alternate,h!==null&&l0(h)===null){m.child=M;break}h=M.sibling,M.sibling=j,j=M,M=h}lj(m,!0,j,null,$);break;case"together":lj(m,!1,null,null,void 0);break;default:m.memoizedState=null}return m.child}function g0(h,m){(m.mode&1)===0&&h!==null&&(h.alternate=null,m.alternate=null,m.flags|=2)}function cc(h,m,j){if(h!==null&&(m.dependencies=h.dependencies),Gd|=m.lanes,(j&m.childLanes)===0)return null;if(h!==null&&m.child!==h.child)throw Error(r(153));if(m.child!==null){for(h=m.child,j=Ou(h,h.pendingProps),m.child=j,j.return=m;h.sibling!==null;)h=h.sibling,j=j.sibling=Ou(h,h.pendingProps),j.return=m;j.sibling=null}return m.child}function Nie(h,m,j){switch(m.tag){case 3:qD(m),Ph();break;case 5:aD(m);break;case 1:ks(m.type)&&Jx(m);break;case 4:zS(m,m.stateNode.containerInfo);break;case 10:var T=m.type._context,M=m.memoizedProps.value;an(i0,T._currentValue),T._currentValue=M;break;case 13:if(T=m.memoizedState,T!==null)return T.dehydrated!==null?(an(Nn,Nn.current&1),m.flags|=128,null):(j&m.child.childLanes)!==0?VD(h,m,j):(an(Nn,Nn.current&1),h=cc(h,m,j),h!==null?h.sibling:null);an(Nn,Nn.current&1);break;case 19:if(T=(j&m.childLanes)!==0,(h.flags&128)!==0){if(T)return HD(h,m,j);m.flags|=128}if(M=m.memoizedState,M!==null&&(M.rendering=null,M.tail=null,M.lastEffect=null),an(Nn,Nn.current),T)break;return null;case 22:case 23:return m.lanes=0,FD(h,m,j)}return cc(h,m,j)}var KD,cj,GD,ZD;KD=function(h,m){for(var j=m.child;j!==null;){if(j.tag===5||j.tag===6)h.appendChild(j.stateNode);else if(j.tag!==4&&j.child!==null){j.child.return=j,j=j.child;continue}if(j===m)break;for(;j.sibling===null;){if(j.return===null||j.return===m)return;j=j.return}j.sibling.return=j.return,j=j.sibling}},cj=function(){},GD=function(h,m,j,T){var M=h.memoizedProps;if(M!==T){h=m.stateNode,Hd(rl.current);var $=null;switch(j){case"input":M=Ne(h,M),T=Ne(h,T),$=[];break;case"select":M=se({},M,{value:void 0}),T=se({},T,{value:void 0}),$=[];break;case"textarea":M=$e(h,M),T=$e(h,T),$=[];break;default:typeof M.onClick!="function"&&typeof T.onClick=="function"&&(h.onclick=Ze)}Xt(j,T);var ie;j=null;for(Ve in M)if(!T.hasOwnProperty(Ve)&&M.hasOwnProperty(Ve)&&M[Ve]!=null)if(Ve==="style"){var ve=M[Ve];for(ie in ve)ve.hasOwnProperty(ie)&&(j||(j={}),j[ie]="")}else Ve!=="dangerouslySetInnerHTML"&&Ve!=="children"&&Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&Ve!=="autoFocus"&&(i.hasOwnProperty(Ve)?$||($=[]):($=$||[]).push(Ve,null));for(Ve in T){var Se=T[Ve];if(ve=M?.[Ve],T.hasOwnProperty(Ve)&&Se!==ve&&(Se!=null||ve!=null))if(Ve==="style")if(ve){for(ie in ve)!ve.hasOwnProperty(ie)||Se&&Se.hasOwnProperty(ie)||(j||(j={}),j[ie]="");for(ie in Se)Se.hasOwnProperty(ie)&&ve[ie]!==Se[ie]&&(j||(j={}),j[ie]=Se[ie])}else j||($||($=[]),$.push(Ve,j)),j=Se;else Ve==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,ve=ve?ve.__html:void 0,Se!=null&&ve!==Se&&($=$||[]).push(Ve,Se)):Ve==="children"?typeof Se!="string"&&typeof Se!="number"||($=$||[]).push(Ve,""+Se):Ve!=="suppressContentEditableWarning"&&Ve!=="suppressHydrationWarning"&&(i.hasOwnProperty(Ve)?(Se!=null&&Ve==="onScroll"&&Kr("scroll",h),$||ve===Se||($=[])):($=$||[]).push(Ve,Se))}j&&($=$||[]).push("style",j);var Ve=$;(m.updateQueue=Ve)&&(m.flags|=4)}},ZD=function(h,m,j,T){j!==T&&(m.flags|=4)};function jg(h,m){if(!_n)switch(h.tailMode){case"hidden":m=h.tail;for(var j=null;m!==null;)m.alternate!==null&&(j=m),m=m.sibling;j===null?h.tail=null:j.sibling=null;break;case"collapsed":j=h.tail;for(var T=null;j!==null;)j.alternate!==null&&(T=j),j=j.sibling;T===null?m||h.tail===null?h.tail=null:h.tail.sibling=null:T.sibling=null}}function Ki(h){var m=h.alternate!==null&&h.alternate.child===h.child,j=0,T=0;if(m)for(var M=h.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags&14680064,T|=M.flags&14680064,M.return=h,M=M.sibling;else for(M=h.child;M!==null;)j|=M.lanes|M.childLanes,T|=M.subtreeFlags,T|=M.flags,M.return=h,M=M.sibling;return h.subtreeFlags|=T,h.childLanes=j,m}function Eie(h,m,j){var T=m.pendingProps;switch(TS(m),m.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ki(m),null;case 1:return ks(m.type)&&Xx(),Ki(m),null;case 3:return T=m.stateNode,Oh(),mn(Ps),mn(Wi),VS(),T.pendingContext&&(T.context=T.pendingContext,T.pendingContext=null),(h===null||h.child===null)&&(r0(m)?m.flags|=4:h===null||h.memoizedState.isDehydrated&&(m.flags&256)===0||(m.flags|=1024,co!==null&&(bj(co),co=null))),cj(h,m),Ki(m),null;case 5:qS(m);var M=Hd(xg.current);if(j=m.type,h!==null&&m.stateNode!=null)GD(h,m,j,T,M),h.ref!==m.ref&&(m.flags|=512,m.flags|=2097152);else{if(!T){if(m.stateNode===null)throw Error(r(166));return Ki(m),null}if(h=Hd(rl.current),r0(m)){T=m.stateNode,j=m.type;var $=m.memoizedProps;switch(T[ka]=m,T[bu]=$,h=(m.mode&1)!==0,j){case"dialog":Kr("cancel",T),Kr("close",T);break;case"iframe":case"object":case"embed":Kr("load",T);break;case"video":case"audio":for(M=0;M<vu.length;M++)Kr(vu[M],T);break;case"source":Kr("error",T);break;case"img":case"image":case"link":Kr("error",T),Kr("load",T);break;case"details":Kr("toggle",T);break;case"input":Je(T,$),Kr("invalid",T);break;case"select":T._wrapperState={wasMultiple:!!$.multiple},Kr("invalid",T);break;case"textarea":rt(T,$),Kr("invalid",T)}Xt(j,$),M=null;for(var ie in $)if($.hasOwnProperty(ie)){var ve=$[ie];ie==="children"?typeof ve=="string"?T.textContent!==ve&&($.suppressHydrationWarning!==!0&&Ue(T.textContent,ve,h),M=["children",ve]):typeof ve=="number"&&T.textContent!==""+ve&&($.suppressHydrationWarning!==!0&&Ue(T.textContent,ve,h),M=["children",""+ve]):i.hasOwnProperty(ie)&&ve!=null&&ie==="onScroll"&&Kr("scroll",T)}switch(j){case"input":ne(T),mt(T,$,!0);break;case"textarea":ne(T),le(T);break;case"select":case"option":break;default:typeof $.onClick=="function"&&(T.onclick=Ze)}T=M,m.updateQueue=T,T!==null&&(m.flags|=4)}else{ie=M.nodeType===9?M:M.ownerDocument,h==="http://www.w3.org/1999/xhtml"&&(h=Ae(j)),h==="http://www.w3.org/1999/xhtml"?j==="script"?(h=ie.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild)):typeof T.is=="string"?h=ie.createElement(j,{is:T.is}):(h=ie.createElement(j),j==="select"&&(ie=h,T.multiple?ie.multiple=!0:T.size&&(ie.size=T.size))):h=ie.createElementNS(h,j),h[ka]=m,h[bu]=T,KD(h,m,!1,!1),m.stateNode=h;e:{switch(ie=lr(j,T),j){case"dialog":Kr("cancel",h),Kr("close",h),M=T;break;case"iframe":case"object":case"embed":Kr("load",h),M=T;break;case"video":case"audio":for(M=0;M<vu.length;M++)Kr(vu[M],h);M=T;break;case"source":Kr("error",h),M=T;break;case"img":case"image":case"link":Kr("error",h),Kr("load",h),M=T;break;case"details":Kr("toggle",h),M=T;break;case"input":Je(h,T),M=Ne(h,T),Kr("invalid",h);break;case"option":M=T;break;case"select":h._wrapperState={wasMultiple:!!T.multiple},M=se({},T,{value:void 0}),Kr("invalid",h);break;case"textarea":rt(h,T),M=$e(h,T),Kr("invalid",h);break;default:M=T}Xt(j,M),ve=M;for($ in ve)if(ve.hasOwnProperty($)){var Se=ve[$];$==="style"?Tt(h,Se):$==="dangerouslySetInnerHTML"?(Se=Se?Se.__html:void 0,Se!=null&&B(h,Se)):$==="children"?typeof Se=="string"?(j!=="textarea"||Se!=="")&&he(h,Se):typeof Se=="number"&&he(h,""+Se):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(i.hasOwnProperty($)?Se!=null&&$==="onScroll"&&Kr("scroll",h):Se!=null&&N(h,$,Se,ie))}switch(j){case"input":ne(h),mt(h,T,!1);break;case"textarea":ne(h),le(h);break;case"option":T.value!=null&&h.setAttribute("value",""+_e(T.value));break;case"select":h.multiple=!!T.multiple,$=T.value,$!=null?Pe(h,!!T.multiple,$,!1):T.defaultValue!=null&&Pe(h,!!T.multiple,T.defaultValue,!0);break;default:typeof M.onClick=="function"&&(h.onclick=Ze)}switch(j){case"button":case"input":case"select":case"textarea":T=!!T.autoFocus;break e;case"img":T=!0;break e;default:T=!1}}T&&(m.flags|=4)}m.ref!==null&&(m.flags|=512,m.flags|=2097152)}return Ki(m),null;case 6:if(h&&m.stateNode!=null)ZD(h,m,h.memoizedProps,T);else{if(typeof T!="string"&&m.stateNode===null)throw Error(r(166));if(j=Hd(xg.current),Hd(rl.current),r0(m)){if(T=m.stateNode,j=m.memoizedProps,T[ka]=m,($=T.nodeValue!==j)&&(h=ra,h!==null))switch(h.tag){case 3:Ue(T.nodeValue,j,(h.mode&1)!==0);break;case 5:h.memoizedProps.suppressHydrationWarning!==!0&&Ue(T.nodeValue,j,(h.mode&1)!==0)}$&&(m.flags|=4)}else T=(j.nodeType===9?j:j.ownerDocument).createTextNode(T),T[ka]=m,m.stateNode=T}return Ki(m),null;case 13:if(mn(Nn),T=m.memoizedState,h===null||h.memoizedState!==null&&h.memoizedState.dehydrated!==null){if(_n&&na!==null&&(m.mode&1)!==0&&(m.flags&128)===0)JL(),Ph(),m.flags|=98560,$=!1;else if($=r0(m),T!==null&&T.dehydrated!==null){if(h===null){if(!$)throw Error(r(318));if($=m.memoizedState,$=$!==null?$.dehydrated:null,!$)throw Error(r(317));$[ka]=m}else Ph(),(m.flags&128)===0&&(m.memoizedState=null),m.flags|=4;Ki(m),$=!1}else co!==null&&(bj(co),co=null),$=!0;if(!$)return m.flags&65536?m:null}return(m.flags&128)!==0?(m.lanes=j,m):(T=T!==null,T!==(h!==null&&h.memoizedState!==null)&&T&&(m.child.flags|=8192,(m.mode&1)!==0&&(h===null||(Nn.current&1)!==0?li===0&&(li=3):Sj())),m.updateQueue!==null&&(m.flags|=4),Ki(m),null);case 4:return Oh(),cj(h,m),h===null&&yu(m.stateNode.containerInfo),Ki(m),null;case 10:return DS(m.type._context),Ki(m),null;case 17:return ks(m.type)&&Xx(),Ki(m),null;case 19:if(mn(Nn),$=m.memoizedState,$===null)return Ki(m),null;if(T=(m.flags&128)!==0,ie=$.rendering,ie===null)if(T)jg($,!1);else{if(li!==0||h!==null&&(h.flags&128)!==0)for(h=m.child;h!==null;){if(ie=l0(h),ie!==null){for(m.flags|=128,jg($,!1),T=ie.updateQueue,T!==null&&(m.updateQueue=T,m.flags|=4),m.subtreeFlags=0,T=j,j=m.child;j!==null;)$=j,h=T,$.flags&=14680066,ie=$.alternate,ie===null?($.childLanes=0,$.lanes=h,$.child=null,$.subtreeFlags=0,$.memoizedProps=null,$.memoizedState=null,$.updateQueue=null,$.dependencies=null,$.stateNode=null):($.childLanes=ie.childLanes,$.lanes=ie.lanes,$.child=ie.child,$.subtreeFlags=0,$.deletions=null,$.memoizedProps=ie.memoizedProps,$.memoizedState=ie.memoizedState,$.updateQueue=ie.updateQueue,$.type=ie.type,h=ie.dependencies,$.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),j=j.sibling;return an(Nn,Nn.current&1|2),m.child}h=h.sibling}$.tail!==null&&fn()>Lh&&(m.flags|=128,T=!0,jg($,!1),m.lanes=4194304)}else{if(!T)if(h=l0(ie),h!==null){if(m.flags|=128,T=!0,j=h.updateQueue,j!==null&&(m.updateQueue=j,m.flags|=4),jg($,!0),$.tail===null&&$.tailMode==="hidden"&&!ie.alternate&&!_n)return Ki(m),null}else 2*fn()-$.renderingStartTime>Lh&&j!==1073741824&&(m.flags|=128,T=!0,jg($,!1),m.lanes=4194304);$.isBackwards?(ie.sibling=m.child,m.child=ie):(j=$.last,j!==null?j.sibling=ie:m.child=ie,$.last=ie)}return $.tail!==null?(m=$.tail,$.rendering=m,$.tail=m.sibling,$.renderingStartTime=fn(),m.sibling=null,j=Nn.current,an(Nn,T?j&1|2:j&1),m):(Ki(m),null);case 22:case 23:return _j(),T=m.memoizedState!==null,h!==null&&h.memoizedState!==null!==T&&(m.flags|=8192),T&&(m.mode&1)!==0?(ia&1073741824)!==0&&(Ki(m),m.subtreeFlags&6&&(m.flags|=8192)):Ki(m),null;case 24:return null;case 25:return null}throw Error(r(156,m.tag))}function Pie(h,m){switch(TS(m),m.tag){case 1:return ks(m.type)&&Xx(),h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 3:return Oh(),mn(Ps),mn(Wi),VS(),h=m.flags,(h&65536)!==0&&(h&128)===0?(m.flags=h&-65537|128,m):null;case 5:return qS(m),null;case 13:if(mn(Nn),h=m.memoizedState,h!==null&&h.dehydrated!==null){if(m.alternate===null)throw Error(r(340));Ph()}return h=m.flags,h&65536?(m.flags=h&-65537|128,m):null;case 19:return mn(Nn),null;case 4:return Oh(),null;case 10:return DS(m.type._context),null;case 22:case 23:return _j(),null;case 24:return null;default:return null}}var v0=!1,Gi=!1,kie=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Mh(h,m){var j=h.ref;if(j!==null)if(typeof j=="function")try{j(null)}catch(T){Rn(h,m,T)}else j.current=null}function uj(h,m,j){try{j()}catch(T){Rn(h,m,T)}}var YD=!1;function Aie(h,m){if(ht=Sa,h=og(),lg(h)){if("selectionStart"in h)var j={start:h.selectionStart,end:h.selectionEnd};else e:{j=(j=h.ownerDocument)&&j.defaultView||window;var T=j.getSelection&&j.getSelection();if(T&&T.rangeCount!==0){j=T.anchorNode;var M=T.anchorOffset,$=T.focusNode;T=T.focusOffset;try{j.nodeType,$.nodeType}catch{j=null;break e}var ie=0,ve=-1,Se=-1,Ve=0,tt=0,st=h,et=null;t:for(;;){for(var gt;st!==j||M!==0&&st.nodeType!==3||(ve=ie+M),st!==$||T!==0&&st.nodeType!==3||(Se=ie+T),st.nodeType===3&&(ie+=st.nodeValue.length),(gt=st.firstChild)!==null;)et=st,st=gt;for(;;){if(st===h)break t;if(et===j&&++Ve===M&&(ve=ie),et===$&&++tt===T&&(Se=ie),(gt=st.nextSibling)!==null)break;st=et,et=st.parentNode}st=gt}j=ve===-1||Se===-1?null:{start:ve,end:Se}}else j=null}j=j||{start:0,end:0}}else j=null;for(Rt={focusedElem:h,selectionRange:j},Sa=!1,yt=m;yt!==null;)if(m=yt,h=m.child,(m.subtreeFlags&1028)!==0&&h!==null)h.return=m,yt=h;else for(;yt!==null;){m=yt;try{var bt=m.alternate;if((m.flags&1024)!==0)switch(m.tag){case 0:case 11:case 15:break;case 1:if(bt!==null){var Nt=bt.memoizedProps,Fn=bt.memoizedState,De=m.stateNode,ke=De.getSnapshotBeforeUpdate(m.elementType===m.type?Nt:uo(m.type,Nt),Fn);De.__reactInternalSnapshotBeforeUpdate=ke}break;case 3:var Fe=m.stateNode.containerInfo;Fe.nodeType===1?Fe.textContent="":Fe.nodeType===9&&Fe.documentElement&&Fe.removeChild(Fe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(ot){Rn(m,m.return,ot)}if(h=m.sibling,h!==null){h.return=m.return,yt=h;break}yt=m.return}return bt=YD,YD=!1,bt}function Cg(h,m,j){var T=m.updateQueue;if(T=T!==null?T.lastEffect:null,T!==null){var M=T=T.next;do{if((M.tag&h)===h){var $=M.destroy;M.destroy=void 0,$!==void 0&&uj(m,j,$)}M=M.next}while(M!==T)}}function y0(h,m){if(m=m.updateQueue,m=m!==null?m.lastEffect:null,m!==null){var j=m=m.next;do{if((j.tag&h)===h){var T=j.create;j.destroy=T()}j=j.next}while(j!==m)}}function dj(h){var m=h.ref;if(m!==null){var j=h.stateNode;switch(h.tag){case 5:h=j;break;default:h=j}typeof m=="function"?m(h):m.current=h}}function XD(h){var m=h.alternate;m!==null&&(h.alternate=null,XD(m)),h.child=null,h.deletions=null,h.sibling=null,h.tag===5&&(m=h.stateNode,m!==null&&(delete m[ka],delete m[bu],delete m[wu],delete m[NS],delete m[ES])),h.stateNode=null,h.return=null,h.dependencies=null,h.memoizedProps=null,h.memoizedState=null,h.pendingProps=null,h.stateNode=null,h.updateQueue=null}function JD(h){return h.tag===5||h.tag===3||h.tag===4}function QD(h){e:for(;;){for(;h.sibling===null;){if(h.return===null||JD(h.return))return null;h=h.return}for(h.sibling.return=h.return,h=h.sibling;h.tag!==5&&h.tag!==6&&h.tag!==18;){if(h.flags&2||h.child===null||h.tag===4)continue e;h.child.return=h,h=h.child}if(!(h.flags&2))return h.stateNode}}function fj(h,m,j){var T=h.tag;if(T===5||T===6)h=h.stateNode,m?j.nodeType===8?j.parentNode.insertBefore(h,m):j.insertBefore(h,m):(j.nodeType===8?(m=j.parentNode,m.insertBefore(h,j)):(m=j,m.appendChild(h)),j=j._reactRootContainer,j!=null||m.onclick!==null||(m.onclick=Ze));else if(T!==4&&(h=h.child,h!==null))for(fj(h,m,j),h=h.sibling;h!==null;)fj(h,m,j),h=h.sibling}function hj(h,m,j){var T=h.tag;if(T===5||T===6)h=h.stateNode,m?j.insertBefore(h,m):j.appendChild(h);else if(T!==4&&(h=h.child,h!==null))for(hj(h,m,j),h=h.sibling;h!==null;)hj(h,m,j),h=h.sibling}var Ri=null,fo=!1;function Eu(h,m,j){for(j=j.child;j!==null;)e4(h,m,j),j=j.sibling}function e4(h,m,j){if(as&&typeof as.onCommitFiberUnmount=="function")try{as.onCommitFiberUnmount($l,j)}catch{}switch(j.tag){case 5:Gi||Mh(j,m);case 6:var T=Ri,M=fo;Ri=null,Eu(h,m,j),Ri=T,fo=M,Ri!==null&&(fo?(h=Ri,j=j.stateNode,h.nodeType===8?h.parentNode.removeChild(j):h.removeChild(j)):Ri.removeChild(j.stateNode));break;case 18:Ri!==null&&(fo?(h=Ri,j=j.stateNode,h.nodeType===8?mg(h.parentNode,j):h.nodeType===1&&mg(h,j),yi(h)):mg(Ri,j.stateNode));break;case 4:T=Ri,M=fo,Ri=j.stateNode.containerInfo,fo=!0,Eu(h,m,j),Ri=T,fo=M;break;case 0:case 11:case 14:case 15:if(!Gi&&(T=j.updateQueue,T!==null&&(T=T.lastEffect,T!==null))){M=T=T.next;do{var $=M,ie=$.destroy;$=$.tag,ie!==void 0&&(($&2)!==0||($&4)!==0)&&uj(j,m,ie),M=M.next}while(M!==T)}Eu(h,m,j);break;case 1:if(!Gi&&(Mh(j,m),T=j.stateNode,typeof T.componentWillUnmount=="function"))try{T.props=j.memoizedProps,T.state=j.memoizedState,T.componentWillUnmount()}catch(ve){Rn(j,m,ve)}Eu(h,m,j);break;case 21:Eu(h,m,j);break;case 22:j.mode&1?(Gi=(T=Gi)||j.memoizedState!==null,Eu(h,m,j),Gi=T):Eu(h,m,j);break;default:Eu(h,m,j)}}function t4(h){var m=h.updateQueue;if(m!==null){h.updateQueue=null;var j=h.stateNode;j===null&&(j=h.stateNode=new kie),m.forEach(function(T){var M=Fie.bind(null,h,T);j.has(T)||(j.add(T),T.then(M,M))})}}function ho(h,m){var j=m.deletions;if(j!==null)for(var T=0;T<j.length;T++){var M=j[T];try{var $=h,ie=m,ve=ie;e:for(;ve!==null;){switch(ve.tag){case 5:Ri=ve.stateNode,fo=!1;break e;case 3:Ri=ve.stateNode.containerInfo,fo=!0;break e;case 4:Ri=ve.stateNode.containerInfo,fo=!0;break e}ve=ve.return}if(Ri===null)throw Error(r(160));e4($,ie,M),Ri=null,fo=!1;var Se=M.alternate;Se!==null&&(Se.return=null),M.return=null}catch(Ve){Rn(M,m,Ve)}}if(m.subtreeFlags&12854)for(m=m.child;m!==null;)r4(m,h),m=m.sibling}function r4(h,m){var j=h.alternate,T=h.flags;switch(h.tag){case 0:case 11:case 14:case 15:if(ho(m,h),il(h),T&4){try{Cg(3,h,h.return),y0(3,h)}catch(Nt){Rn(h,h.return,Nt)}try{Cg(5,h,h.return)}catch(Nt){Rn(h,h.return,Nt)}}break;case 1:ho(m,h),il(h),T&512&&j!==null&&Mh(j,j.return);break;case 5:if(ho(m,h),il(h),T&512&&j!==null&&Mh(j,j.return),h.flags&32){var M=h.stateNode;try{he(M,"")}catch(Nt){Rn(h,h.return,Nt)}}if(T&4&&(M=h.stateNode,M!=null)){var $=h.memoizedProps,ie=j!==null?j.memoizedProps:$,ve=h.type,Se=h.updateQueue;if(h.updateQueue=null,Se!==null)try{ve==="input"&&$.type==="radio"&&$.name!=null&&Xe(M,$),lr(ve,ie);var Ve=lr(ve,$);for(ie=0;ie<Se.length;ie+=2){var tt=Se[ie],st=Se[ie+1];tt==="style"?Tt(M,st):tt==="dangerouslySetInnerHTML"?B(M,st):tt==="children"?he(M,st):N(M,tt,st,Ve)}switch(ve){case"input":Oe(M,$);break;case"textarea":at(M,$);break;case"select":var et=M._wrapperState.wasMultiple;M._wrapperState.wasMultiple=!!$.multiple;var gt=$.value;gt!=null?Pe(M,!!$.multiple,gt,!1):et!==!!$.multiple&&($.defaultValue!=null?Pe(M,!!$.multiple,$.defaultValue,!0):Pe(M,!!$.multiple,$.multiple?[]:"",!1))}M[bu]=$}catch(Nt){Rn(h,h.return,Nt)}}break;case 6:if(ho(m,h),il(h),T&4){if(h.stateNode===null)throw Error(r(162));M=h.stateNode,$=h.memoizedProps;try{M.nodeValue=$}catch(Nt){Rn(h,h.return,Nt)}}break;case 3:if(ho(m,h),il(h),T&4&&j!==null&&j.memoizedState.isDehydrated)try{yi(m.containerInfo)}catch(Nt){Rn(h,h.return,Nt)}break;case 4:ho(m,h),il(h);break;case 13:ho(m,h),il(h),M=h.child,M.flags&8192&&($=M.memoizedState!==null,M.stateNode.isHidden=$,!$||M.alternate!==null&&M.alternate.memoizedState!==null||(gj=fn())),T&4&&t4(h);break;case 22:if(tt=j!==null&&j.memoizedState!==null,h.mode&1?(Gi=(Ve=Gi)||tt,ho(m,h),Gi=Ve):ho(m,h),il(h),T&8192){if(Ve=h.memoizedState!==null,(h.stateNode.isHidden=Ve)&&!tt&&(h.mode&1)!==0)for(yt=h,tt=h.child;tt!==null;){for(st=yt=tt;yt!==null;){switch(et=yt,gt=et.child,et.tag){case 0:case 11:case 14:case 15:Cg(4,et,et.return);break;case 1:Mh(et,et.return);var bt=et.stateNode;if(typeof bt.componentWillUnmount=="function"){T=et,j=et.return;try{m=T,bt.props=m.memoizedProps,bt.state=m.memoizedState,bt.componentWillUnmount()}catch(Nt){Rn(T,j,Nt)}}break;case 5:Mh(et,et.return);break;case 22:if(et.memoizedState!==null){s4(st);continue}}gt!==null?(gt.return=et,yt=gt):s4(st)}tt=tt.sibling}e:for(tt=null,st=h;;){if(st.tag===5){if(tt===null){tt=st;try{M=st.stateNode,Ve?($=M.style,typeof $.setProperty=="function"?$.setProperty("display","none","important"):$.display="none"):(ve=st.stateNode,Se=st.memoizedProps.style,ie=Se!=null&&Se.hasOwnProperty("display")?Se.display:null,ve.style.display=We("display",ie))}catch(Nt){Rn(h,h.return,Nt)}}}else if(st.tag===6){if(tt===null)try{st.stateNode.nodeValue=Ve?"":st.memoizedProps}catch(Nt){Rn(h,h.return,Nt)}}else if((st.tag!==22&&st.tag!==23||st.memoizedState===null||st===h)&&st.child!==null){st.child.return=st,st=st.child;continue}if(st===h)break e;for(;st.sibling===null;){if(st.return===null||st.return===h)break e;tt===st&&(tt=null),st=st.return}tt===st&&(tt=null),st.sibling.return=st.return,st=st.sibling}}break;case 19:ho(m,h),il(h),T&4&&t4(h);break;case 21:break;default:ho(m,h),il(h)}}function il(h){var m=h.flags;if(m&2){try{e:{for(var j=h.return;j!==null;){if(JD(j)){var T=j;break e}j=j.return}throw Error(r(160))}switch(T.tag){case 5:var M=T.stateNode;T.flags&32&&(he(M,""),T.flags&=-33);var $=QD(h);hj(h,$,M);break;case 3:case 4:var ie=T.stateNode.containerInfo,ve=QD(h);fj(h,ve,ie);break;default:throw Error(r(161))}}catch(Se){Rn(h,h.return,Se)}h.flags&=-3}m&4096&&(h.flags&=-4097)}function Tie(h,m,j){yt=h,n4(h)}function n4(h,m,j){for(var T=(h.mode&1)!==0;yt!==null;){var M=yt,$=M.child;if(M.tag===22&&T){var ie=M.memoizedState!==null||v0;if(!ie){var ve=M.alternate,Se=ve!==null&&ve.memoizedState!==null||Gi;ve=v0;var Ve=Gi;if(v0=ie,(Gi=Se)&&!Ve)for(yt=M;yt!==null;)ie=yt,Se=ie.child,ie.tag===22&&ie.memoizedState!==null?a4(M):Se!==null?(Se.return=ie,yt=Se):a4(M);for(;$!==null;)yt=$,n4($),$=$.sibling;yt=M,v0=ve,Gi=Ve}i4(h)}else(M.subtreeFlags&8772)!==0&&$!==null?($.return=M,yt=$):i4(h)}}function i4(h){for(;yt!==null;){var m=yt;if((m.flags&8772)!==0){var j=m.alternate;try{if((m.flags&8772)!==0)switch(m.tag){case 0:case 11:case 15:Gi||y0(5,m);break;case 1:var T=m.stateNode;if(m.flags&4&&!Gi)if(j===null)T.componentDidMount();else{var M=m.elementType===m.type?j.memoizedProps:uo(m.type,j.memoizedProps);T.componentDidUpdate(M,j.memoizedState,T.__reactInternalSnapshotBeforeUpdate)}var $=m.updateQueue;$!==null&&sD(m,$,T);break;case 3:var ie=m.updateQueue;if(ie!==null){if(j=null,m.child!==null)switch(m.child.tag){case 5:j=m.child.stateNode;break;case 1:j=m.child.stateNode}sD(m,ie,j)}break;case 5:var ve=m.stateNode;if(j===null&&m.flags&4){j=ve;var Se=m.memoizedProps;switch(m.type){case"button":case"input":case"select":case"textarea":Se.autoFocus&&j.focus();break;case"img":Se.src&&(j.src=Se.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(m.memoizedState===null){var Ve=m.alternate;if(Ve!==null){var tt=Ve.memoizedState;if(tt!==null){var st=tt.dehydrated;st!==null&&yi(st)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}Gi||m.flags&512&&dj(m)}catch(et){Rn(m,m.return,et)}}if(m===h){yt=null;break}if(j=m.sibling,j!==null){j.return=m.return,yt=j;break}yt=m.return}}function s4(h){for(;yt!==null;){var m=yt;if(m===h){yt=null;break}var j=m.sibling;if(j!==null){j.return=m.return,yt=j;break}yt=m.return}}function a4(h){for(;yt!==null;){var m=yt;try{switch(m.tag){case 0:case 11:case 15:var j=m.return;try{y0(4,m)}catch(Se){Rn(m,j,Se)}break;case 1:var T=m.stateNode;if(typeof T.componentDidMount=="function"){var M=m.return;try{T.componentDidMount()}catch(Se){Rn(m,M,Se)}}var $=m.return;try{dj(m)}catch(Se){Rn(m,$,Se)}break;case 5:var ie=m.return;try{dj(m)}catch(Se){Rn(m,ie,Se)}}}catch(Se){Rn(m,m.return,Se)}if(m===h){yt=null;break}var ve=m.sibling;if(ve!==null){ve.return=m.return,yt=ve;break}yt=m.return}}var Oie=Math.ceil,x0=A.ReactCurrentDispatcher,pj=A.ReactCurrentOwner,Ma=A.ReactCurrentBatchConfig,_r=0,wi=null,Gn=null,Mi=0,ia=0,Ih=_u(0),li=0,Ng=null,Gd=0,b0=0,mj=0,Eg=null,Ts=null,gj=0,Lh=1/0,uc=null,w0=!1,vj=null,Pu=null,_0=!1,ku=null,S0=0,Pg=0,yj=null,j0=-1,C0=0;function ds(){return(_r&6)!==0?fn():j0!==-1?j0:j0=fn()}function Au(h){return(h.mode&1)===0?1:(_r&2)!==0&&Mi!==0?Mi&-Mi:mie.transition!==null?(C0===0&&(C0=tg()),C0):(h=mr,h!==0||(h=window.event,h=h===void 0?16:ir(h.type)),h)}function po(h,m,j,T){if(50<Pg)throw Pg=0,yj=null,Error(r(185));js(h,j,T),((_r&2)===0||h!==wi)&&(h===wi&&((_r&2)===0&&(b0|=j),li===4&&Tu(h,Mi)),Os(h,T),j===1&&_r===0&&(m.mode&1)===0&&(Lh=fn()+500,Qx&&ju()))}function Os(h,m){var j=h.callbackNode;Ss(h,m);var T=zr(h,h===wi?Mi:0);if(T===0)j!==null&&Rd(j),h.callbackNode=null,h.callbackPriority=0;else if(m=T&-T,h.callbackPriority!==m){if(j!=null&&Rd(j),m===1)h.tag===0?pie(l4.bind(null,h)):KL(l4.bind(null,h)),Vi(function(){(_r&6)===0&&ju()}),j=null;else{switch(Ko(T)){case 1:j=Ti;break;case 4:j=nu;break;case 16:j=Dl;break;case 536870912:j=no;break;default:j=Dl}j=g4(j,o4.bind(null,h))}h.callbackPriority=m,h.callbackNode=j}}function o4(h,m){if(j0=-1,C0=0,(_r&6)!==0)throw Error(r(327));var j=h.callbackNode;if(Dh()&&h.callbackNode!==j)return null;var T=zr(h,h===wi?Mi:0);if(T===0)return null;if((T&30)!==0||(T&h.expiredLanes)!==0||m)m=N0(h,T);else{m=T;var M=_r;_r|=2;var $=u4();(wi!==h||Mi!==m)&&(uc=null,Lh=fn()+500,Yd(h,m));do try{Iie();break}catch(ve){c4(h,ve)}while(!0);LS(),x0.current=$,_r=M,Gn!==null?m=0:(wi=null,Mi=0,m=li)}if(m!==0){if(m===2&&(M=si(h),M!==0&&(T=M,m=xj(h,M))),m===1)throw j=Ng,Yd(h,0),Tu(h,T),Os(h,fn()),j;if(m===6)Tu(h,T);else{if(M=h.current.alternate,(T&30)===0&&!Rie(M)&&(m=N0(h,T),m===2&&($=si(h),$!==0&&(T=$,m=xj(h,$))),m===1))throw j=Ng,Yd(h,0),Tu(h,T),Os(h,fn()),j;switch(h.finishedWork=M,h.finishedLanes=T,m){case 0:case 1:throw Error(r(345));case 2:Xd(h,Ts,uc);break;case 3:if(Tu(h,T),(T&130023424)===T&&(m=gj+500-fn(),10<m)){if(zr(h,0)!==0)break;if(M=h.suspendedLanes,(M&T)!==T){ds(),h.pingedLanes|=h.suspendedLanes&M;break}h.timeoutHandle=ai(Xd.bind(null,h,Ts,uc),m);break}Xd(h,Ts,uc);break;case 4:if(Tu(h,T),(T&4194240)===T)break;for(m=h.eventTimes,M=-1;0<T;){var ie=31-zt(T);$=1<<ie,ie=m[ie],ie>M&&(M=ie),T&=~$}if(T=M,T=fn()-T,T=(120>T?120:480>T?480:1080>T?1080:1920>T?1920:3e3>T?3e3:4320>T?4320:1960*Oie(T/1960))-T,10<T){h.timeoutHandle=ai(Xd.bind(null,h,Ts,uc),T);break}Xd(h,Ts,uc);break;case 5:Xd(h,Ts,uc);break;default:throw Error(r(329))}}}return Os(h,fn()),h.callbackNode===j?o4.bind(null,h):null}function xj(h,m){var j=Eg;return h.current.memoizedState.isDehydrated&&(Yd(h,m).flags|=256),h=N0(h,m),h!==2&&(m=Ts,Ts=j,m!==null&&bj(m)),h}function bj(h){Ts===null?Ts=h:Ts.push.apply(Ts,h)}function Rie(h){for(var m=h;;){if(m.flags&16384){var j=m.updateQueue;if(j!==null&&(j=j.stores,j!==null))for(var T=0;T<j.length;T++){var M=j[T],$=M.getSnapshot;M=M.value;try{if(!ea($(),M))return!1}catch{return!1}}}if(j=m.child,m.subtreeFlags&16384&&j!==null)j.return=m,m=j;else{if(m===h)break;for(;m.sibling===null;){if(m.return===null||m.return===h)return!0;m=m.return}m.sibling.return=m.return,m=m.sibling}}return!0}function Tu(h,m){for(m&=~mj,m&=~b0,h.suspendedLanes|=m,h.pingedLanes&=~m,h=h.expirationTimes;0<m;){var j=31-zt(m),T=1<<j;h[j]=-1,m&=~T}}function l4(h){if((_r&6)!==0)throw Error(r(327));Dh();var m=zr(h,0);if((m&1)===0)return Os(h,fn()),null;var j=N0(h,m);if(h.tag!==0&&j===2){var T=si(h);T!==0&&(m=T,j=xj(h,T))}if(j===1)throw j=Ng,Yd(h,0),Tu(h,m),Os(h,fn()),j;if(j===6)throw Error(r(345));return h.finishedWork=h.current.alternate,h.finishedLanes=m,Xd(h,Ts,uc),Os(h,fn()),null}function wj(h,m){var j=_r;_r|=1;try{return h(m)}finally{_r=j,_r===0&&(Lh=fn()+500,Qx&&ju())}}function Zd(h){ku!==null&&ku.tag===0&&(_r&6)===0&&Dh();var m=_r;_r|=1;var j=Ma.transition,T=mr;try{if(Ma.transition=null,mr=1,h)return h()}finally{mr=T,Ma.transition=j,_r=m,(_r&6)===0&&ju()}}function _j(){ia=Ih.current,mn(Ih)}function Yd(h,m){h.finishedWork=null,h.finishedLanes=0;var j=h.timeoutHandle;if(j!==-1&&(h.timeoutHandle=-1,Kn(j)),Gn!==null)for(j=Gn.return;j!==null;){var T=j;switch(TS(T),T.tag){case 1:T=T.type.childContextTypes,T!=null&&Xx();break;case 3:Oh(),mn(Ps),mn(Wi),VS();break;case 5:qS(T);break;case 4:Oh();break;case 13:mn(Nn);break;case 19:mn(Nn);break;case 10:DS(T.type._context);break;case 22:case 23:_j()}j=j.return}if(wi=h,Gn=h=Ou(h.current,null),Mi=ia=m,li=0,Ng=null,mj=b0=Gd=0,Ts=Eg=null,Wd!==null){for(m=0;m<Wd.length;m++)if(j=Wd[m],T=j.interleaved,T!==null){j.interleaved=null;var M=T.next,$=j.pending;if($!==null){var ie=$.next;$.next=M,T.next=ie}j.pending=T}Wd=null}return h}function c4(h,m){do{var j=Gn;try{if(LS(),c0.current=h0,u0){for(var T=En.memoizedState;T!==null;){var M=T.queue;M!==null&&(M.pending=null),T=T.next}u0=!1}if(Kd=0,bi=oi=En=null,bg=!1,wg=0,pj.current=null,j===null||j.return===null){li=1,Ng=m,Gn=null;break}e:{var $=h,ie=j.return,ve=j,Se=m;if(m=Mi,ve.flags|=32768,Se!==null&&typeof Se=="object"&&typeof Se.then=="function"){var Ve=Se,tt=ve,st=tt.tag;if((tt.mode&1)===0&&(st===0||st===11||st===15)){var et=tt.alternate;et?(tt.updateQueue=et.updateQueue,tt.memoizedState=et.memoizedState,tt.lanes=et.lanes):(tt.updateQueue=null,tt.memoizedState=null)}var gt=MD(ie);if(gt!==null){gt.flags&=-257,ID(gt,ie,ve,$,m),gt.mode&1&&RD($,Ve,m),m=gt,Se=Ve;var bt=m.updateQueue;if(bt===null){var Nt=new Set;Nt.add(Se),m.updateQueue=Nt}else bt.add(Se);break e}else{if((m&1)===0){RD($,Ve,m),Sj();break e}Se=Error(r(426))}}else if(_n&&ve.mode&1){var Fn=MD(ie);if(Fn!==null){(Fn.flags&65536)===0&&(Fn.flags|=256),ID(Fn,ie,ve,$,m),MS(Rh(Se,ve));break e}}$=Se=Rh(Se,ve),li!==4&&(li=2),Eg===null?Eg=[$]:Eg.push($),$=ie;do{switch($.tag){case 3:$.flags|=65536,m&=-m,$.lanes|=m;var De=TD($,Se,m);iD($,De);break e;case 1:ve=Se;var ke=$.type,Fe=$.stateNode;if(($.flags&128)===0&&(typeof ke.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(Pu===null||!Pu.has(Fe)))){$.flags|=65536,m&=-m,$.lanes|=m;var ot=OD($,ve,m);iD($,ot);break e}}$=$.return}while($!==null)}f4(j)}catch(kt){m=kt,Gn===j&&j!==null&&(Gn=j=j.return);continue}break}while(!0)}function u4(){var h=x0.current;return x0.current=h0,h===null?h0:h}function Sj(){(li===0||li===3||li===2)&&(li=4),wi===null||(Gd&268435455)===0&&(b0&268435455)===0||Tu(wi,Mi)}function N0(h,m){var j=_r;_r|=2;var T=u4();(wi!==h||Mi!==m)&&(uc=null,Yd(h,m));do try{Mie();break}catch(M){c4(h,M)}while(!0);if(LS(),_r=j,x0.current=T,Gn!==null)throw Error(r(261));return wi=null,Mi=0,li}function Mie(){for(;Gn!==null;)d4(Gn)}function Iie(){for(;Gn!==null&&!Md();)d4(Gn)}function d4(h){var m=m4(h.alternate,h,ia);h.memoizedProps=h.pendingProps,m===null?f4(h):Gn=m,pj.current=null}function f4(h){var m=h;do{var j=m.alternate;if(h=m.return,(m.flags&32768)===0){if(j=Eie(j,m,ia),j!==null){Gn=j;return}}else{if(j=Pie(j,m),j!==null){j.flags&=32767,Gn=j;return}if(h!==null)h.flags|=32768,h.subtreeFlags=0,h.deletions=null;else{li=6,Gn=null;return}}if(m=m.sibling,m!==null){Gn=m;return}Gn=m=h}while(m!==null);li===0&&(li=5)}function Xd(h,m,j){var T=mr,M=Ma.transition;try{Ma.transition=null,mr=1,Lie(h,m,j,T)}finally{Ma.transition=M,mr=T}return null}function Lie(h,m,j,T){do Dh();while(ku!==null);if((_r&6)!==0)throw Error(r(327));j=h.finishedWork;var M=h.finishedLanes;if(j===null)return null;if(h.finishedWork=null,h.finishedLanes=0,j===h.current)throw Error(r(177));h.callbackNode=null,h.callbackPriority=0;var $=j.lanes|j.childLanes;if(bn(h,$),h===wi&&(Gn=wi=null,Mi=0),(j.subtreeFlags&2064)===0&&(j.flags&2064)===0||_0||(_0=!0,g4(Dl,function(){return Dh(),null})),$=(j.flags&15990)!==0,(j.subtreeFlags&15990)!==0||$){$=Ma.transition,Ma.transition=null;var ie=mr;mr=1;var ve=_r;_r|=4,pj.current=null,Aie(h,j),r4(j,h),Ea(Rt),Sa=!!ht,Rt=ht=null,h.current=j,Tie(j),tu(),_r=ve,mr=ie,Ma.transition=$}else h.current=j;if(_0&&(_0=!1,ku=h,S0=M),$=h.pendingLanes,$===0&&(Pu=null),Fl(j.stateNode),Os(h,fn()),m!==null)for(T=h.onRecoverableError,j=0;j<m.length;j++)M=m[j],T(M.value,{componentStack:M.stack,digest:M.digest});if(w0)throw w0=!1,h=vj,vj=null,h;return(S0&1)!==0&&h.tag!==0&&Dh(),$=h.pendingLanes,($&1)!==0?h===yj?Pg++:(Pg=0,yj=h):Pg=0,ju(),null}function Dh(){if(ku!==null){var h=Ko(S0),m=Ma.transition,j=mr;try{if(Ma.transition=null,mr=16>h?16:h,ku===null)var T=!1;else{if(h=ku,ku=null,S0=0,(_r&6)!==0)throw Error(r(331));var M=_r;for(_r|=4,yt=h.current;yt!==null;){var $=yt,ie=$.child;if((yt.flags&16)!==0){var ve=$.deletions;if(ve!==null){for(var Se=0;Se<ve.length;Se++){var Ve=ve[Se];for(yt=Ve;yt!==null;){var tt=yt;switch(tt.tag){case 0:case 11:case 15:Cg(8,tt,$)}var st=tt.child;if(st!==null)st.return=tt,yt=st;else for(;yt!==null;){tt=yt;var et=tt.sibling,gt=tt.return;if(XD(tt),tt===Ve){yt=null;break}if(et!==null){et.return=gt,yt=et;break}yt=gt}}}var bt=$.alternate;if(bt!==null){var Nt=bt.child;if(Nt!==null){bt.child=null;do{var Fn=Nt.sibling;Nt.sibling=null,Nt=Fn}while(Nt!==null)}}yt=$}}if(($.subtreeFlags&2064)!==0&&ie!==null)ie.return=$,yt=ie;else e:for(;yt!==null;){if($=yt,($.flags&2048)!==0)switch($.tag){case 0:case 11:case 15:Cg(9,$,$.return)}var De=$.sibling;if(De!==null){De.return=$.return,yt=De;break e}yt=$.return}}var ke=h.current;for(yt=ke;yt!==null;){ie=yt;var Fe=ie.child;if((ie.subtreeFlags&2064)!==0&&Fe!==null)Fe.return=ie,yt=Fe;else e:for(ie=ke;yt!==null;){if(ve=yt,(ve.flags&2048)!==0)try{switch(ve.tag){case 0:case 11:case 15:y0(9,ve)}}catch(kt){Rn(ve,ve.return,kt)}if(ve===ie){yt=null;break e}var ot=ve.sibling;if(ot!==null){ot.return=ve.return,yt=ot;break e}yt=ve.return}}if(_r=M,ju(),as&&typeof as.onPostCommitFiberRoot=="function")try{as.onPostCommitFiberRoot($l,h)}catch{}T=!0}return T}finally{mr=j,Ma.transition=m}}return!1}function h4(h,m,j){m=Rh(j,m),m=TD(h,m,1),h=Nu(h,m,1),m=ds(),h!==null&&(js(h,1,m),Os(h,m))}function Rn(h,m,j){if(h.tag===3)h4(h,h,j);else for(;m!==null;){if(m.tag===3){h4(m,h,j);break}else if(m.tag===1){var T=m.stateNode;if(typeof m.type.getDerivedStateFromError=="function"||typeof T.componentDidCatch=="function"&&(Pu===null||!Pu.has(T))){h=Rh(j,h),h=OD(m,h,1),m=Nu(m,h,1),h=ds(),m!==null&&(js(m,1,h),Os(m,h));break}}m=m.return}}function Die(h,m,j){var T=h.pingCache;T!==null&&T.delete(m),m=ds(),h.pingedLanes|=h.suspendedLanes&j,wi===h&&(Mi&j)===j&&(li===4||li===3&&(Mi&130023424)===Mi&&500>fn()-gj?Yd(h,0):mj|=j),Os(h,m)}function p4(h,m){m===0&&((h.mode&1)===0?m=1:(m=Wo,Wo<<=1,(Wo&130023424)===0&&(Wo=4194304)));var j=ds();h=oc(h,m),h!==null&&(js(h,m,j),Os(h,j))}function $ie(h){var m=h.memoizedState,j=0;m!==null&&(j=m.retryLane),p4(h,j)}function Fie(h,m){var j=0;switch(h.tag){case 13:var T=h.stateNode,M=h.memoizedState;M!==null&&(j=M.retryLane);break;case 19:T=h.stateNode;break;default:throw Error(r(314))}T!==null&&T.delete(m),p4(h,j)}var m4;m4=function(h,m,j){if(h!==null)if(h.memoizedProps!==m.pendingProps||Ps.current)As=!0;else{if((h.lanes&j)===0&&(m.flags&128)===0)return As=!1,Nie(h,m,j);As=(h.flags&131072)!==0}else As=!1,_n&&(m.flags&1048576)!==0&&GL(m,t0,m.index);switch(m.lanes=0,m.tag){case 2:var T=m.type;g0(h,m),h=m.pendingProps;var M=Ch(m,Wi.current);Th(m,j),M=KS(null,m,T,h,M,j);var $=GS();return m.flags|=1,typeof M=="object"&&M!==null&&typeof M.render=="function"&&M.$$typeof===void 0?(m.tag=1,m.memoizedState=null,m.updateQueue=null,ks(T)?($=!0,Jx(m)):$=!1,m.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,BS(m),M.updater=p0,m.stateNode=M,M._reactInternals=m,ej(m,T,h,j),m=ij(null,m,T,!0,$,j)):(m.tag=0,_n&&$&&AS(m),us(null,m,M,j),m=m.child),m;case 16:T=m.elementType;e:{switch(g0(h,m),h=m.pendingProps,M=T._init,T=M(T._payload),m.type=T,M=m.tag=zie(T),h=uo(T,h),M){case 0:m=nj(null,m,T,h,j);break e;case 1:m=zD(null,m,T,h,j);break e;case 11:m=LD(null,m,T,h,j);break e;case 14:m=DD(null,m,T,uo(T.type,h),j);break e}throw Error(r(306,T,""))}return m;case 0:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:uo(T,M),nj(h,m,T,M,j);case 1:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:uo(T,M),zD(h,m,T,M,j);case 3:e:{if(qD(m),h===null)throw Error(r(387));T=m.pendingProps,$=m.memoizedState,M=$.element,nD(h,m),o0(m,T,null,j);var ie=m.memoizedState;if(T=ie.element,$.isDehydrated)if($={element:T,isDehydrated:!1,cache:ie.cache,pendingSuspenseBoundaries:ie.pendingSuspenseBoundaries,transitions:ie.transitions},m.updateQueue.baseState=$,m.memoizedState=$,m.flags&256){M=Rh(Error(r(423)),m),m=UD(h,m,T,j,M);break e}else if(T!==M){M=Rh(Error(r(424)),m),m=UD(h,m,T,j,M);break e}else for(na=tl(m.stateNode.containerInfo.firstChild),ra=m,_n=!0,co=null,j=tD(m,null,T,j),m.child=j;j;)j.flags=j.flags&-3|4096,j=j.sibling;else{if(Ph(),T===M){m=cc(h,m,j);break e}us(h,m,T,j)}m=m.child}return m;case 5:return aD(m),h===null&&RS(m),T=m.type,M=m.pendingProps,$=h!==null?h.memoizedProps:null,ie=M.children,er(T,M)?ie=null:$!==null&&er(T,$)&&(m.flags|=32),BD(h,m),us(h,m,ie,j),m.child;case 6:return h===null&&RS(m),null;case 13:return VD(h,m,j);case 4:return zS(m,m.stateNode.containerInfo),T=m.pendingProps,h===null?m.child=kh(m,null,T,j):us(h,m,T,j),m.child;case 11:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:uo(T,M),LD(h,m,T,M,j);case 7:return us(h,m,m.pendingProps,j),m.child;case 8:return us(h,m,m.pendingProps.children,j),m.child;case 12:return us(h,m,m.pendingProps.children,j),m.child;case 10:e:{if(T=m.type._context,M=m.pendingProps,$=m.memoizedProps,ie=M.value,an(i0,T._currentValue),T._currentValue=ie,$!==null)if(ea($.value,ie)){if($.children===M.children&&!Ps.current){m=cc(h,m,j);break e}}else for($=m.child,$!==null&&($.return=m);$!==null;){var ve=$.dependencies;if(ve!==null){ie=$.child;for(var Se=ve.firstContext;Se!==null;){if(Se.context===T){if($.tag===1){Se=lc(-1,j&-j),Se.tag=2;var Ve=$.updateQueue;if(Ve!==null){Ve=Ve.shared;var tt=Ve.pending;tt===null?Se.next=Se:(Se.next=tt.next,tt.next=Se),Ve.pending=Se}}$.lanes|=j,Se=$.alternate,Se!==null&&(Se.lanes|=j),$S($.return,j,m),ve.lanes|=j;break}Se=Se.next}}else if($.tag===10)ie=$.type===m.type?null:$.child;else if($.tag===18){if(ie=$.return,ie===null)throw Error(r(341));ie.lanes|=j,ve=ie.alternate,ve!==null&&(ve.lanes|=j),$S(ie,j,m),ie=$.sibling}else ie=$.child;if(ie!==null)ie.return=$;else for(ie=$;ie!==null;){if(ie===m){ie=null;break}if($=ie.sibling,$!==null){$.return=ie.return,ie=$;break}ie=ie.return}$=ie}us(h,m,M.children,j),m=m.child}return m;case 9:return M=m.type,T=m.pendingProps.children,Th(m,j),M=Oa(M),T=T(M),m.flags|=1,us(h,m,T,j),m.child;case 14:return T=m.type,M=uo(T,m.pendingProps),M=uo(T.type,M),DD(h,m,T,M,j);case 15:return $D(h,m,m.type,m.pendingProps,j);case 17:return T=m.type,M=m.pendingProps,M=m.elementType===T?M:uo(T,M),g0(h,m),m.tag=1,ks(T)?(h=!0,Jx(m)):h=!1,Th(m,j),kD(m,T,M),ej(m,T,M,j),ij(null,m,T,!0,h,j);case 19:return HD(h,m,j);case 22:return FD(h,m,j)}throw Error(r(156,m.tag))};function g4(h,m){return fh(h,m)}function Bie(h,m,j,T){this.tag=h,this.key=j,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=m,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=T,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ia(h,m,j,T){return new Bie(h,m,j,T)}function jj(h){return h=h.prototype,!(!h||!h.isReactComponent)}function zie(h){if(typeof h=="function")return jj(h)?1:0;if(h!=null){if(h=h.$$typeof,h===q)return 11;if(h===Q)return 14}return 2}function Ou(h,m){var j=h.alternate;return j===null?(j=Ia(h.tag,m,h.key,h.mode),j.elementType=h.elementType,j.type=h.type,j.stateNode=h.stateNode,j.alternate=h,h.alternate=j):(j.pendingProps=m,j.type=h.type,j.flags=0,j.subtreeFlags=0,j.deletions=null),j.flags=h.flags&14680064,j.childLanes=h.childLanes,j.lanes=h.lanes,j.child=h.child,j.memoizedProps=h.memoizedProps,j.memoizedState=h.memoizedState,j.updateQueue=h.updateQueue,m=h.dependencies,j.dependencies=m===null?null:{lanes:m.lanes,firstContext:m.firstContext},j.sibling=h.sibling,j.index=h.index,j.ref=h.ref,j}function E0(h,m,j,T,M,$){var ie=2;if(T=h,typeof h=="function")jj(h)&&(ie=1);else if(typeof h=="string")ie=5;else e:switch(h){case O:return Jd(j.children,M,$,m);case I:ie=8,M|=8;break;case z:return h=Ia(12,j,m,M|2),h.elementType=z,h.lanes=$,h;case F:return h=Ia(13,j,m,M),h.elementType=F,h.lanes=$,h;case H:return h=Ia(19,j,m,M),h.elementType=H,h.lanes=$,h;case K:return P0(j,M,$,m);default:if(typeof h=="object"&&h!==null)switch(h.$$typeof){case W:ie=10;break e;case V:ie=9;break e;case q:ie=11;break e;case Q:ie=14;break e;case oe:ie=16,T=null;break e}throw Error(r(130,h==null?h:typeof h,""))}return m=Ia(ie,j,m,M),m.elementType=h,m.type=T,m.lanes=$,m}function Jd(h,m,j,T){return h=Ia(7,h,T,m),h.lanes=j,h}function P0(h,m,j,T){return h=Ia(22,h,T,m),h.elementType=K,h.lanes=j,h.stateNode={isHidden:!1},h}function Cj(h,m,j){return h=Ia(6,h,null,m),h.lanes=j,h}function Nj(h,m,j){return m=Ia(4,h.children!==null?h.children:[],h.key,m),m.lanes=j,m.stateNode={containerInfo:h.containerInfo,pendingChildren:null,implementation:h.implementation},m}function qie(h,m,j,T,M){this.tag=m,this.containerInfo=h,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ho(0),this.expirationTimes=Ho(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ho(0),this.identifierPrefix=T,this.onRecoverableError=M,this.mutableSourceEagerHydrationData=null}function Ej(h,m,j,T,M,$,ie,ve,Se){return h=new qie(h,m,j,ve,Se),m===1?(m=1,$===!0&&(m|=8)):m=0,$=Ia(3,null,null,m),h.current=$,$.stateNode=h,$.memoizedState={element:T,isDehydrated:j,cache:null,transitions:null,pendingSuspenseBoundaries:null},BS($),h}function Uie(h,m,j){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:k,key:T==null?null:""+T,children:h,containerInfo:m,implementation:j}}function v4(h){if(!h)return Su;h=h._reactInternals;e:{if(_s(h)!==h||h.tag!==1)throw Error(r(170));var m=h;do{switch(m.tag){case 3:m=m.stateNode.context;break e;case 1:if(ks(m.type)){m=m.stateNode.__reactInternalMemoizedMergedChildContext;break e}}m=m.return}while(m!==null);throw Error(r(171))}if(h.tag===1){var j=h.type;if(ks(j))return WL(h,j,m)}return m}function y4(h,m,j,T,M,$,ie,ve,Se){return h=Ej(j,T,!0,h,M,$,ie,ve,Se),h.context=v4(null),j=h.current,T=ds(),M=Au(j),$=lc(T,M),$.callback=m??null,Nu(j,$,M),h.current.lanes=M,js(h,M,T),Os(h,T),h}function k0(h,m,j,T){var M=m.current,$=ds(),ie=Au(M);return j=v4(j),m.context===null?m.context=j:m.pendingContext=j,m=lc($,ie),m.payload={element:h},T=T===void 0?null:T,T!==null&&(m.callback=T),h=Nu(M,m,ie),h!==null&&(po(h,M,ie,$),a0(h,M,ie)),ie}function A0(h){if(h=h.current,!h.child)return null;switch(h.child.tag){case 5:return h.child.stateNode;default:return h.child.stateNode}}function x4(h,m){if(h=h.memoizedState,h!==null&&h.dehydrated!==null){var j=h.retryLane;h.retryLane=j!==0&&j<m?j:m}}function Pj(h,m){x4(h,m),(h=h.alternate)&&x4(h,m)}function Vie(){return null}var b4=typeof reportError=="function"?reportError:function(h){console.error(h)};function kj(h){this._internalRoot=h}T0.prototype.render=kj.prototype.render=function(h){var m=this._internalRoot;if(m===null)throw Error(r(409));k0(h,m,null,null)},T0.prototype.unmount=kj.prototype.unmount=function(){var h=this._internalRoot;if(h!==null){this._internalRoot=null;var m=h.containerInfo;Zd(function(){k0(null,h,null,null)}),m[$r]=null}};function T0(h){this._internalRoot=h}T0.prototype.unstable_scheduleHydration=function(h){if(h){var m=su();h={blockedOn:null,target:h,priority:m};for(var j=0;j<Cn.length&&m!==0&&m<Cn[j].priority;j++);Cn.splice(j,0,h),j===0&&Hl(h)}};function Aj(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)}function O0(h){return!(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11&&(h.nodeType!==8||h.nodeValue!==" react-mount-point-unstable "))}function w4(){}function Wie(h,m,j,T,M){if(M){if(typeof T=="function"){var $=T;T=function(){var Ve=A0(ie);$.call(Ve)}}var ie=y4(m,T,h,0,null,!1,!1,"",w4);return h._reactRootContainer=ie,h[$r]=ie.current,yu(h.nodeType===8?h.parentNode:h),Zd(),ie}for(;M=h.lastChild;)h.removeChild(M);if(typeof T=="function"){var ve=T;T=function(){var Ve=A0(Se);ve.call(Ve)}}var Se=Ej(h,0,!1,null,null,!1,!1,"",w4);return h._reactRootContainer=Se,h[$r]=Se.current,yu(h.nodeType===8?h.parentNode:h),Zd(function(){k0(m,Se,j,T)}),Se}function R0(h,m,j,T,M){var $=j._reactRootContainer;if($){var ie=$;if(typeof M=="function"){var ve=M;M=function(){var Se=A0(ie);ve.call(Se)}}k0(m,ie,h,M)}else ie=Wie(j,m,h,M,T);return A0(ie)}zl=function(h){switch(h.tag){case 3:var m=h.stateNode;if(m.current.memoizedState.isDehydrated){var j=qt(m.pendingLanes);j!==0&&(Ys(m,j|1),Os(m,fn()),(_r&6)===0&&(Lh=fn()+500,ju()))}break;case 13:Zd(function(){var T=oc(h,1);if(T!==null){var M=ds();po(T,h,1,M)}}),Pj(h,1)}},Cs=function(h){if(h.tag===13){var m=oc(h,134217728);if(m!==null){var j=ds();po(m,h,134217728,j)}Pj(h,134217728)}},ql=function(h){if(h.tag===13){var m=Au(h),j=oc(h,m);if(j!==null){var T=ds();po(j,h,m,T)}Pj(h,m)}},su=function(){return mr},Go=function(h,m){var j=mr;try{return mr=h,m()}finally{mr=j}},ba=function(h,m,j){switch(m){case"input":if(Oe(h,j),m=j.name,j.type==="radio"&&m!=null){for(j=h;j.parentNode;)j=j.parentNode;for(j=j.querySelectorAll("input[name="+JSON.stringify(""+m)+'][type="radio"]'),m=0;m<j.length;m++){var T=j[m];if(T!==h&&T.form===h.form){var M=Sh(T);if(!M)throw Error(r(90));J(T),Oe(T,M)}}}break;case"textarea":at(h,j);break;case"select":m=j.value,m!=null&&Pe(h,!!j.multiple,m,!1)}},vr=wj,Rr=Zd;var Hie={usingClientEntryPoint:!1,Events:[rc,nc,Sh,Qc,Dt,wj]},kg={findFiberByHostInstance:tc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kie={bundleType:kg.bundleType,version:kg.version,rendererPackageName:kg.rendererPackageName,rendererConfig:kg.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(h){return h=Uo(h),h===null?null:h.stateNode},findFiberByHostInstance:kg.findFiberByHostInstance||Vie,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var M0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!M0.isDisabled&&M0.supportsFiber)try{$l=M0.inject(Kie),as=M0}catch{}}return Rs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hie,Rs.createPortal=function(h,m){var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Aj(m))throw Error(r(200));return Uie(h,m,null,j)},Rs.createRoot=function(h,m){if(!Aj(h))throw Error(r(299));var j=!1,T="",M=b4;return m!=null&&(m.unstable_strictMode===!0&&(j=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onRecoverableError!==void 0&&(M=m.onRecoverableError)),m=Ej(h,1,!1,null,null,j,!1,T,M),h[$r]=m.current,yu(h.nodeType===8?h.parentNode:h),new kj(m)},Rs.findDOMNode=function(h){if(h==null)return null;if(h.nodeType===1)return h;var m=h._reactInternals;if(m===void 0)throw typeof h.render=="function"?Error(r(188)):(h=Object.keys(h).join(","),Error(r(268,h)));return h=Uo(m),h=h===null?null:h.stateNode,h},Rs.flushSync=function(h){return Zd(h)},Rs.hydrate=function(h,m,j){if(!O0(m))throw Error(r(200));return R0(null,h,m,!0,j)},Rs.hydrateRoot=function(h,m,j){if(!Aj(h))throw Error(r(405));var T=j!=null&&j.hydratedSources||null,M=!1,$="",ie=b4;if(j!=null&&(j.unstable_strictMode===!0&&(M=!0),j.identifierPrefix!==void 0&&($=j.identifierPrefix),j.onRecoverableError!==void 0&&(ie=j.onRecoverableError)),m=y4(m,null,h,1,j??null,M,!1,$,ie),h[$r]=m.current,yu(h),T)for(h=0;h<T.length;h++)j=T[h],M=j._getVersion,M=M(j._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[j,M]:m.mutableSourceEagerHydrationData.push(j,M);return new T0(m)},Rs.render=function(h,m,j){if(!O0(m))throw Error(r(200));return R0(null,h,m,!1,j)},Rs.unmountComponentAtNode=function(h){if(!O0(h))throw Error(r(40));return h._reactRootContainer?(Zd(function(){R0(null,null,h,!1,function(){h._reactRootContainer=null,h[$r]=null})}),!0):!1},Rs.unstable_batchedUpdates=wj,Rs.unstable_renderSubtreeIntoContainer=function(h,m,j,T){if(!O0(j))throw Error(r(200));if(h==null||h._reactInternals===void 0)throw Error(r(38));return R0(h,m,j,!1,T)},Rs.version="18.3.1-next-f1338f8080-20240426",Rs}var k4;function a7(){if(k4)return Rj.exports;k4=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Rj.exports=tse(),Rj.exports}var A4;function rse(){if(A4)return I0;A4=1;var t=a7();return I0.createRoot=t.createRoot,I0.hydrateRoot=t.hydrateRoot,I0}var nse=rse();const ise=Nr(nse);var Do=a7();const z_=Nr(Do);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lv(){return Lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Lv.apply(this,arguments)}var ed;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ed||(ed={}));const T4="popstate";function sse(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return Hk("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Zb(i)}return ose(e,r,null,t)}function An(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function o7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ase(){return Math.random().toString(36).substr(2,8)}function O4(t,e){return{usr:t.state,key:t.key,idx:e}}function Hk(t,e,r,n){return r===void 0&&(r=null),Lv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jm(e):e,{state:r,key:e&&e.key||n||ase()})}function Zb(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jm(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ose(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=ed.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(Lv({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=ed.Pop;let _=d(),S=_==null?null:_-u;u=_,c&&c({action:l,location:x.location,delta:S})}function g(_,S){l=ed.Push;let C=Hk(x.location,_,S);u=d()+1;let N=O4(C,u),A=x.createHref(C);try{o.pushState(N,"",A)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(A)}s&&c&&c({action:l,location:x.location,delta:1})}function v(_,S){l=ed.Replace;let C=Hk(x.location,_,S);u=d();let N=O4(C,u),A=x.createHref(C);o.replaceState(N,"",A),s&&c&&c({action:l,location:x.location,delta:0})}function y(_){let S=i.location.origin!=="null"?i.location.origin:i.location.href,C=typeof _=="string"?_:Zb(_);return C=C.replace(/ $/,"%20"),An(S,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,S)}let x={get action(){return l},get location(){return t(i,o)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(T4,f),c=_,()=>{i.removeEventListener(T4,f),c=null}},createHref(_){return e(i,_)},createURL:y,encodeLocation(_){let S=y(_);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:g,replace:v,go(_){return o.go(_)}};return x}var R4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(R4||(R4={}));function lse(t,e,r){return r===void 0&&(r="/"),cse(t,e,r)}function cse(t,e,r,n){let i=typeof e=="string"?jm(e):e,s=Mp(i.pathname||"/",r);if(s==null)return null;let o=l7(t);use(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=wse(s);l=xse(o[c],u)}return l}function l7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(An(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=nd([n,c.relativePath]),d=r.concat(c);s.children&&s.children.length>0&&(An(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),l7(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:vse(u,s.index),routesMeta:d})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of c7(s.path))i(s,o,c)}),e}function c7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=c7(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function use(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:yse(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const dse=/^:[\w-]+$/,fse=3,hse=2,pse=1,mse=10,gse=-2,M4=t=>t==="*";function vse(t,e){let r=t.split("/"),n=r.length;return r.some(M4)&&(n+=gse),e&&(n+=hse),r.filter(i=>!M4(i)).reduce((i,s)=>i+(dse.test(s)?fse:s===""?pse:mse),n)}function yse(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function xse(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=Kk({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),g=c.route;if(!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:nd([s,f.pathname]),pathnameBase:Cse(nd([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=nd([s,f.pathnameBase]))}return o}function Kk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=bse(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let x=l[f]||"";o=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const y=l[f];return v&&!y?u[g]=void 0:u[g]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function bse(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),o7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function wse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return o7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Mp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function _se(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?jm(t):t;return{pathname:r?r.startsWith("/")?r:Sse(r,e):e,search:Nse(n),hash:Ese(i)}}function Sse(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Lj(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function jse(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function oR(t,e){let r=jse(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function lR(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=jm(t):(i=Lv({},t),An(!i.pathname||!i.pathname.includes("?"),Lj("?","pathname","search",i)),An(!i.pathname||!i.pathname.includes("#"),Lj("#","pathname","hash",i)),An(!i.search||!i.search.includes("#"),Lj("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(o==null)l=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}l=f>=0?e[f]:"/"}let c=_se(i,l),u=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const nd=t=>t.join("/").replace(/\/\/+/g,"/"),Cse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Nse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ese=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Pse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const u7=["post","put","patch","delete"];new Set(u7);const kse=["get",...u7];new Set(kse);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dv(){return Dv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dv.apply(this,arguments)}const q_=b.createContext(null),d7=b.createContext(null),Wc=b.createContext(null),U_=b.createContext(null),Al=b.createContext({outlet:null,matches:[],isDataRoute:!1}),f7=b.createContext(null);function Ase(t,e){let{relative:r}=e===void 0?{}:e;Cm()||An(!1);let{basename:n,navigator:i}=b.useContext(Wc),{hash:s,pathname:o,search:l}=V_(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:nd([n,o])),i.createHref({pathname:c,search:l,hash:s})}function Cm(){return b.useContext(U_)!=null}function is(){return Cm()||An(!1),b.useContext(U_).location}function h7(t){b.useContext(Wc).static||b.useLayoutEffect(t)}function ii(){let{isDataRoute:t}=b.useContext(Al);return t?Wse():Tse()}function Tse(){Cm()||An(!1);let t=b.useContext(q_),{basename:e,future:r,navigator:n}=b.useContext(Wc),{matches:i}=b.useContext(Al),{pathname:s}=is(),o=JSON.stringify(oR(i,r.v7_relativeSplatPath)),l=b.useRef(!1);return h7(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=lR(u,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:nd([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,o,s,t])}const Ose=b.createContext(null);function Rse(t){let e=b.useContext(Al).outlet;return e&&b.createElement(Ose.Provider,{value:t},e)}function cR(){let{matches:t}=b.useContext(Al),e=t[t.length-1];return e?e.params:{}}function V_(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(Wc),{matches:i}=b.useContext(Al),{pathname:s}=is(),o=JSON.stringify(oR(i,n.v7_relativeSplatPath));return b.useMemo(()=>lR(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function Mse(t,e){return Ise(t,e)}function Ise(t,e,r,n){Cm()||An(!1);let{navigator:i}=b.useContext(Wc),{matches:s}=b.useContext(Al),o=s[s.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=is(),d;if(e){var f;let _=typeof e=="string"?jm(e):e;c==="/"||(f=_.pathname)!=null&&f.startsWith(c)||An(!1),d=_}else d=u;let g=d.pathname||"/",v=g;if(c!=="/"){let _=c.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(_.length).join("/")}let y=lse(t,{pathname:v}),x=Bse(y&&y.map(_=>Object.assign({},_,{params:Object.assign({},l,_.params),pathname:nd([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:nd([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,r,n);return e&&x?b.createElement(U_.Provider,{value:{location:Dv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ed.Pop}},x):x}function Lse(){let t=Vse(),e=Pse(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:i},r):null,null)}const Dse=b.createElement(Lse,null);class $se extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Al.Provider,{value:this.props.routeContext},b.createElement(f7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Fse(t){let{routeContext:e,match:r,children:n}=t,i=b.useContext(q_);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Al.Provider,{value:e},n)}function Bse(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,l=(i=r)==null?void 0:i.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);d>=0||An(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:v}=r,y=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||y){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,g)=>{let v,y=!1,x=null,_=null;r&&(v=l&&f.route.id?l[f.route.id]:void 0,x=f.route.errorElement||Dse,c&&(u<0&&g===0?(Hse("route-fallback"),y=!0,_=null):u===g&&(y=!0,_=f.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,g+1)),C=()=>{let N;return v?N=x:y?N=_:f.route.Component?N=b.createElement(f.route.Component,null):f.route.element?N=f.route.element:N=d,b.createElement(Fse,{match:f,routeContext:{outlet:d,matches:S,isDataRoute:r!=null},children:N})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?b.createElement($se,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:C(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):C()},null)}var p7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(p7||{}),m7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(m7||{});function zse(t){let e=b.useContext(q_);return e||An(!1),e}function qse(t){let e=b.useContext(d7);return e||An(!1),e}function Use(t){let e=b.useContext(Al);return e||An(!1),e}function g7(t){let e=Use(),r=e.matches[e.matches.length-1];return r.route.id||An(!1),r.route.id}function Vse(){var t;let e=b.useContext(f7),r=qse(),n=g7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Wse(){let{router:t}=zse(p7.UseNavigateStable),e=g7(m7.UseNavigateStable),r=b.useRef(!1);return h7(()=>{r.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Dv({fromRouteId:e},s)))},[t,e])}const I4={};function Hse(t,e,r){I4[t]||(I4[t]=!0)}function Kse(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function L4(t){let{to:e,replace:r,state:n,relative:i}=t;Cm()||An(!1);let{future:s,static:o}=b.useContext(Wc),{matches:l}=b.useContext(Al),{pathname:c}=is(),u=ii(),d=lR(e,oR(l,s.v7_relativeSplatPath),c,i==="path"),f=JSON.stringify(d);return b.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function v7(t){return Rse(t.context)}function or(t){An(!1)}function Gse(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ed.Pop,navigator:s,static:o=!1,future:l}=t;Cm()&&An(!1);let c=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:c,navigator:s,static:o,future:Dv({v7_relativeSplatPath:!1},l)}),[c,l,s,o]);typeof n=="string"&&(n=jm(n));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:y="default"}=n,x=b.useMemo(()=>{let _=Mp(d,c);return _==null?null:{location:{pathname:_,search:f,hash:g,state:v,key:y},navigationType:i}},[c,d,f,g,v,y,i]);return x==null?null:b.createElement(Wc.Provider,{value:u},b.createElement(U_.Provider,{children:r,value:x}))}function Zse(t){let{children:e,location:r}=t;return Mse(Gk(e),r)}new Promise(()=>{});function Gk(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,i)=>{if(!b.isValidElement(n))return;let s=[...e,i];if(n.type===b.Fragment){r.push.apply(r,Gk(n.props.children,s));return}n.type!==or&&An(!1),!n.props.index||!n.props.children||An(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Gk(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yb(){return Yb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yb.apply(this,arguments)}function y7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Yse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Xse(t,e){return t.button===0&&(!e||e==="_self")&&!Yse(t)}function Zk(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Jse(t,e){let r=Zk(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const Qse=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],eae=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],tae="6";try{window.__reactRouterVersion=tae}catch{}const rae=b.createContext({isTransitioning:!1}),nae="startTransition",D4=dd[nae];function iae(t){let{basename:e,children:r,future:n,window:i}=t,s=b.useRef();s.current==null&&(s.current=sse({window:i,v5Compat:!0}));let o=s.current,[l,c]=b.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=b.useCallback(f=>{u&&D4?D4(()=>c(f)):c(f)},[c,u]);return b.useLayoutEffect(()=>o.listen(d),[o,d]),b.useEffect(()=>Kse(n),[n]),b.createElement(Gse,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}const sae=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",aae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fr=b.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:f}=e,g=y7(e,Qse),{basename:v}=b.useContext(Wc),y,x=!1;if(typeof u=="string"&&aae.test(u)&&(y=u,sae))try{let N=new URL(window.location.href),A=u.startsWith("//")?new URL(N.protocol+u):new URL(u),E=Mp(A.pathname,v);A.origin===N.origin&&E!=null?u=E+A.search+A.hash:x=!0}catch{}let _=Ase(u,{relative:i}),S=lae(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:i,viewTransition:f});function C(N){n&&n(N),N.defaultPrevented||S(N)}return b.createElement("a",Yb({},g,{href:y||_,onClick:x||s?n:C,ref:r,target:c}))}),Qd=b.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:l,to:c,viewTransition:u,children:d}=e,f=y7(e,eae),g=V_(c,{relative:f.relative}),v=is(),y=b.useContext(d7),{navigator:x,basename:_}=b.useContext(Wc),S=y!=null&&cae(g)&&u===!0,C=x.encodeLocation?x.encodeLocation(g).pathname:g.pathname,N=v.pathname,A=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;i||(N=N.toLowerCase(),A=A?A.toLowerCase():null,C=C.toLowerCase()),A&&_&&(A=Mp(A,_)||A);const E=C!=="/"&&C.endsWith("/")?C.length-1:C.length;let k=N===C||!o&&N.startsWith(C)&&N.charAt(E)==="/",O=A!=null&&(A===C||!o&&A.startsWith(C)&&A.charAt(C.length)==="/"),I={isActive:k,isPending:O,isTransitioning:S},z=k?n:void 0,W;typeof s=="function"?W=s(I):W=[s,k?"active":null,O?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let V=typeof l=="function"?l(I):l;return b.createElement(fr,Yb({},f,{"aria-current":z,className:W,ref:r,style:V,to:c,viewTransition:u}),typeof d=="function"?d(I):d)});var Yk;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Yk||(Yk={}));var $4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})($4||($4={}));function oae(t){let e=b.useContext(q_);return e||An(!1),e}function lae(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:l}=e===void 0?{}:e,c=ii(),u=is(),d=V_(t,{relative:o});return b.useCallback(f=>{if(Xse(f,r)){f.preventDefault();let g=n!==void 0?n:Zb(u)===Zb(d);c(t,{replace:g,state:i,preventScrollReset:s,relative:o,viewTransition:l})}},[u,c,d,n,i,r,t,s,o,l])}function uR(t){let e=b.useRef(Zk(t)),r=b.useRef(!1),n=is(),i=b.useMemo(()=>Jse(n.search,r.current?null:e.current),[n.search]),s=ii(),o=b.useCallback((l,c)=>{const u=Zk(typeof l=="function"?l(i):l);r.current=!0,s("?"+u,c)},[s,i]);return[i,o]}function cae(t,e){e===void 0&&(e={});let r=b.useContext(rae);r==null&&An(!1);let{basename:n}=oae(Yk.useViewTransitionState),i=V_(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Mp(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Mp(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Kk(i.pathname,o)!=null||Kk(i.pathname,s)!=null}var Nm=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Rf=typeof window>"u"||"Deno"in globalThis;function fs(){}function uae(t,e){return typeof t=="function"?t(e):t}function Xk(t){return typeof t=="number"&&t>=0&&t!==1/0}function x7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function id(t,e){return typeof t=="function"?t(e):t}function qa(t,e){return typeof t=="function"?t(e):t}function F4(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:l}=t;if(o){if(n){if(e.queryHash!==dR(o,e.options))return!1}else if(!$v(e.queryKey,o))return!1}if(r!=="all"){const c=e.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||i&&i!==e.state.fetchStatus||s&&!s(e))}function B4(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Mf(e.options.mutationKey)!==Mf(s))return!1}else if(!$v(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function dR(t,e){return(e?.queryKeyHashFn||Mf)(t)}function Mf(t){return JSON.stringify(t,(e,r)=>Jk(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function $v(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>$v(t[r],e[r])):!1}function b7(t,e){if(t===e)return t;const r=z4(t)&&z4(e);if(r||Jk(t)&&Jk(e)){const n=r?t:Object.keys(t),i=n.length,s=r?e:Object.keys(e),o=s.length,l=r?[]:{},c=new Set(n);let u=0;for(let d=0;d<o;d++){const f=r?d:s[d];(!r&&c.has(f)||r)&&t[f]===void 0&&e[f]===void 0?(l[f]=void 0,u++):(l[f]=b7(t[f],e[f]),l[f]===t[f]&&t[f]!==void 0&&u++)}return i===o&&u===i?t:l}return e}function Xb(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function z4(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Jk(t){if(!q4(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!q4(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function q4(t){return Object.prototype.toString.call(t)==="[object Object]"}function dae(t){return new Promise(e=>{setTimeout(e,t)})}function Qk(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?b7(t,e):e}function fae(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function hae(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var fR=Symbol();function w7(t,e){return!t.queryFn&&e?.initialPromise?()=>e.initialPromise:!t.queryFn||t.queryFn===fR?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function _7(t,e){return typeof t=="function"?t(...e):!!t}var pae=class extends Nm{#t;#e;#r;constructor(){super(),this.#r=t=>{if(!Rf&&window.addEventListener){const e=()=>t();return window.addEventListener("visibilitychange",e,!1),()=>{window.removeEventListener("visibilitychange",e)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(e=>{typeof e=="boolean"?this.setFocused(e):this.onFocus()})}setFocused(t){this.#t!==t&&(this.#t=t,this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(e=>{e(t)})}isFocused(){return typeof this.#t=="boolean"?this.#t:globalThis.document?.visibilityState!=="hidden"}},hR=new pae,mae=class extends Nm{#t=!0;#e;#r;constructor(){super(),this.#r=t=>{if(!Rf&&window.addEventListener){const e=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",e,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",e),window.removeEventListener("offline",r)}}}}onSubscribe(){this.#e||this.setEventListener(this.#r)}onUnsubscribe(){this.hasListeners()||(this.#e?.(),this.#e=void 0)}setEventListener(t){this.#r=t,this.#e?.(),this.#e=t(this.setOnline.bind(this))}setOnline(t){this.#t!==t&&(this.#t=t,this.listeners.forEach(r=>{r(t)}))}isOnline(){return this.#t}},Jb=new mae;function eA(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}function gae(t){return Math.min(1e3*2**t,3e4)}function S7(t){return(t??"online")==="online"?Jb.isOnline():!0}var j7=class extends Error{constructor(t){super("CancelledError"),this.revert=t?.revert,this.silent=t?.silent}};function C7(t){let e=!1,r=0,n;const i=eA(),s=()=>i.status!=="pending",o=x=>{s()||(g(new j7(x)),t.abort?.())},l=()=>{e=!0},c=()=>{e=!1},u=()=>hR.isFocused()&&(t.networkMode==="always"||Jb.isOnline())&&t.canRun(),d=()=>S7(t.networkMode)&&t.canRun(),f=x=>{s()||(n?.(),i.resolve(x))},g=x=>{s()||(n?.(),i.reject(x))},v=()=>new Promise(x=>{n=_=>{(s()||u())&&x(_)},t.onPause?.()}).then(()=>{n=void 0,s()||t.onContinue?.()}),y=()=>{if(s())return;let x;const _=r===0?t.initialPromise:void 0;try{x=_??t.fn()}catch(S){x=Promise.reject(S)}Promise.resolve(x).then(f).catch(S=>{if(s())return;const C=t.retry??(Rf?0:3),N=t.retryDelay??gae,A=typeof N=="function"?N(r,S):N,E=C===!0||typeof C=="number"&&r<C||typeof C=="function"&&C(r,S);if(e||!E){g(S);return}r++,t.onFail?.(r,S),dae(A).then(()=>u()?void 0:v()).then(()=>{e?g(S):y()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n?.(),i),cancelRetry:l,continueRetry:c,canStart:d,start:()=>(d()?y():v().then(y),i)}}var vae=t=>setTimeout(t,0);function yae(){let t=[],e=0,r=l=>{l()},n=l=>{l()},i=vae;const s=l=>{e?t.push(l):i(()=>{r(l)})},o=()=>{const l=t;t=[],l.length&&i(()=>{n(()=>{l.forEach(c=>{r(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{s(()=>{l(...c)})},schedule:s,setNotifyFunction:l=>{r=l},setBatchNotifyFunction:l=>{n=l},setScheduler:l=>{i=l}}}var hi=yae(),N7=class{#t;destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Xk(this.gcTime)&&(this.#t=setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Rf?1/0:5*60*1e3))}clearGcTimeout(){this.#t&&(clearTimeout(this.#t),this.#t=void 0)}},xae=class extends N7{#t;#e;#r;#n;#i;#a;#o;constructor(t){super(),this.#o=!1,this.#a=t.defaultOptions,this.setOptions(t.options),this.observers=[],this.#n=t.client,this.#r=this.#n.getQueryCache(),this.queryKey=t.queryKey,this.queryHash=t.queryHash,this.#t=bae(this.options),this.state=t.state??this.#t,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#i?.promise}setOptions(t){this.options={...this.#a,...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.#r.remove(this)}setData(t,e){const r=Qk(this.state.data,t,this.options);return this.#s({data:r,type:"success",dataUpdatedAt:e?.updatedAt,manual:e?.manual}),r}setState(t,e){this.#s({type:"setState",state:t,setStateOptions:e})}cancel(t){const e=this.#i?.promise;return this.#i?.cancel(t),e?e.then(fs).catch(fs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#t)}isActive(){return this.observers.some(t=>qa(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===fR||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>id(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!x7(this.state.dataUpdatedAt,t)}onFocus(){this.observers.find(e=>e.shouldFetchOnWindowFocus())?.refetch({cancelRefetch:!1}),this.#i?.continue()}onOnline(){this.observers.find(e=>e.shouldFetchOnReconnect())?.refetch({cancelRefetch:!1}),this.#i?.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),this.#r.notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(e=>e!==t),this.observers.length||(this.#i&&(this.#o?this.#i.cancel({revert:!0}):this.#i.cancelRetry()),this.scheduleGc()),this.#r.notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#s({type:"invalidate"})}async fetch(t,e){if(this.state.fetchStatus!=="idle"&&this.#i?.status()!=="rejected"){if(this.state.data!==void 0&&e?.cancelRefetch)this.cancel({silent:!0});else if(this.#i)return this.#i.continueRetry(),this.#i.promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,n=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(this.#o=!0,r.signal)})},i=()=>{const l=w7(this.options,e),u=(()=>{const d={client:this.#n,queryKey:this.queryKey,meta:this.meta};return n(d),d})();return this.#o=!1,this.options.persister?this.options.persister(l,u,this):l(u)},o=(()=>{const l={fetchOptions:e,options:this.options,queryKey:this.queryKey,client:this.#n,state:this.state,fetchFn:i};return n(l),l})();this.options.behavior?.onFetch(o,this),this.#e=this.state,(this.state.fetchStatus==="idle"||this.state.fetchMeta!==o.fetchOptions?.meta)&&this.#s({type:"fetch",meta:o.fetchOptions?.meta}),this.#i=C7({initialPromise:e?.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onFail:(l,c)=>{this.#s({type:"failed",failureCount:l,error:c})},onPause:()=>{this.#s({type:"pause"})},onContinue:()=>{this.#s({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const l=await this.#i.start();if(l===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(l),this.#r.config.onSuccess?.(l,this),this.#r.config.onSettled?.(l,this.state.error,this),l}catch(l){if(l instanceof j7){if(l.silent)return this.#i.promise;if(l.revert)return this.setState({...this.#e,fetchStatus:"idle"}),this.state.data}throw this.#s({type:"error",error:l}),this.#r.config.onError?.(l,this),this.#r.config.onSettled?.(this.state.data,l,this),l}finally{this.scheduleGc()}}#s(t){const e=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...E7(r.data,this.options),fetchMeta:t.meta??null};case"success":const n={...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#e=t.manual?n:void 0,n;case"error":const i=t.error;return{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=e(this.state),hi.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),this.#r.notify({query:this,type:"updated",action:t})})}};function E7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:S7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function bae(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var wae=class extends Nm{constructor(t={}){super(),this.config=t,this.#t=new Map}#t;build(t,e,r){const n=e.queryKey,i=e.queryHash??dR(n,e);let s=this.get(i);return s||(s=new xae({client:t,queryKey:n,queryHash:i,options:t.defaultQueryOptions(e),state:r,defaultOptions:t.getQueryDefaults(n)}),this.add(s)),s}add(t){this.#t.has(t.queryHash)||(this.#t.set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const e=this.#t.get(t.queryHash);e&&(t.destroy(),e===t&&this.#t.delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){hi.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return this.#t.get(t)}getAll(){return[...this.#t.values()]}find(t){const e={exact:!0,...t};return this.getAll().find(r=>F4(e,r))}findAll(t={}){const e=this.getAll();return Object.keys(t).length>0?e.filter(r=>F4(t,r)):e}notify(t){hi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}onFocus(){hi.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){hi.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},_ae=class extends N7{#t;#e;#r;constructor(t){super(),this.mutationId=t.mutationId,this.#e=t.mutationCache,this.#t=[],this.state=t.state||P7(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){this.#t.includes(t)||(this.#t.push(t),this.clearGcTimeout(),this.#e.notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){this.#t=this.#t.filter(e=>e!==t),this.scheduleGc(),this.#e.notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){this.#t.length||(this.state.status==="pending"?this.scheduleGc():this.#e.remove(this))}continue(){return this.#r?.continue()??this.execute(this.state.variables)}async execute(t){const e=()=>{this.#n({type:"continue"})};this.#r=C7({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(i,s)=>{this.#n({type:"failed",failureCount:i,error:s})},onPause:()=>{this.#n({type:"pause"})},onContinue:e,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#e.canRun(this)});const r=this.state.status==="pending",n=!this.#r.canStart();try{if(r)e();else{this.#n({type:"pending",variables:t,isPaused:n}),await this.#e.config.onMutate?.(t,this);const s=await this.options.onMutate?.(t);s!==this.state.context&&this.#n({type:"pending",context:s,variables:t,isPaused:n})}const i=await this.#r.start();return await this.#e.config.onSuccess?.(i,t,this.state.context,this),await this.options.onSuccess?.(i,t,this.state.context),await this.#e.config.onSettled?.(i,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(i,null,t,this.state.context),this.#n({type:"success",data:i}),i}catch(i){try{throw await this.#e.config.onError?.(i,t,this.state.context,this),await this.options.onError?.(i,t,this.state.context),await this.#e.config.onSettled?.(void 0,i,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,i,t,this.state.context),i}finally{this.#n({type:"error",error:i})}}finally{this.#e.runNext(this)}}#n(t){const e=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=e(this.state),hi.batch(()=>{this.#t.forEach(r=>{r.onMutationUpdate(t)}),this.#e.notify({mutation:this,type:"updated",action:t})})}};function P7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Sae=class extends Nm{constructor(t={}){super(),this.config=t,this.#t=new Set,this.#e=new Map,this.#r=0}#t;#e;#r;build(t,e,r){const n=new _ae({mutationCache:this,mutationId:++this.#r,options:t.defaultMutationOptions(e),state:r});return this.add(n),n}add(t){this.#t.add(t);const e=L0(t);if(typeof e=="string"){const r=this.#e.get(e);r?r.push(t):this.#e.set(e,[t])}this.notify({type:"added",mutation:t})}remove(t){if(this.#t.delete(t)){const e=L0(t);if(typeof e=="string"){const r=this.#e.get(e);if(r)if(r.length>1){const n=r.indexOf(t);n!==-1&&r.splice(n,1)}else r[0]===t&&this.#e.delete(e)}}this.notify({type:"removed",mutation:t})}canRun(t){const e=L0(t);if(typeof e=="string"){const n=this.#e.get(e)?.find(i=>i.state.status==="pending");return!n||n===t}else return!0}runNext(t){const e=L0(t);return typeof e=="string"?this.#e.get(e)?.find(n=>n!==t&&n.state.isPaused)?.continue()??Promise.resolve():Promise.resolve()}clear(){hi.batch(()=>{this.#t.forEach(t=>{this.notify({type:"removed",mutation:t})}),this.#t.clear(),this.#e.clear()})}getAll(){return Array.from(this.#t)}find(t){const e={exact:!0,...t};return this.getAll().find(r=>B4(e,r))}findAll(t={}){return this.getAll().filter(e=>B4(t,e))}notify(t){hi.batch(()=>{this.listeners.forEach(e=>{e(t)})})}resumePausedMutations(){const t=this.getAll().filter(e=>e.state.isPaused);return hi.batch(()=>Promise.all(t.map(e=>e.continue().catch(fs))))}};function L0(t){return t.options.scope?.id}function Qb(t){return{onFetch:(e,r)=>{const n=e.options,i=e.fetchOptions?.meta?.fetchMore?.direction,s=e.state.data?.pages||[],o=e.state.data?.pageParams||[];let l={pages:[],pageParams:[]},c=0;const u=async()=>{let d=!1;const f=y=>{Object.defineProperty(y,"signal",{enumerable:!0,get:()=>(e.signal.aborted?d=!0:e.signal.addEventListener("abort",()=>{d=!0}),e.signal)})},g=w7(e.options,e.fetchOptions),v=async(y,x,_)=>{if(d)return Promise.reject();if(x==null&&y.pages.length)return Promise.resolve(y);const C=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};return f(k),k})(),N=await g(C),{maxPages:A}=e.options,E=_?hae:fae;return{pages:E(y.pages,N,A),pageParams:E(y.pageParams,x,A)}};if(i&&s.length){const y=i==="backward",x=y?k7:tA,_={pages:s,pageParams:o},S=x(n,_);l=await v(_,S,y)}else{const y=t??s.length;do{const x=c===0?o[0]??n.initialPageParam:tA(n,l);if(c>0&&x==null)break;l=await v(l,x),c++}while(c<y)}return l};e.options.persister?e.fetchFn=()=>e.options.persister?.(u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r):e.fetchFn=u}}}function tA(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function k7(t,{pages:e,pageParams:r}){return e.length>0?t.getPreviousPageParam?.(e[0],e,r[0],r):void 0}function jae(t,e){return e?tA(t,e)!=null:!1}function Cae(t,e){return!e||!t.getPreviousPageParam?!1:k7(t,e)!=null}var A7=class{#t;#e;#r;#n;#i;#a;#o;#s;constructor(t={}){this.#t=t.queryCache||new wae,this.#e=t.mutationCache||new Sae,this.#r=t.defaultOptions||{},this.#n=new Map,this.#i=new Map,this.#a=0}mount(){this.#a++,this.#a===1&&(this.#o=hR.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onFocus())}),this.#s=Jb.subscribe(async t=>{t&&(await this.resumePausedMutations(),this.#t.onOnline())}))}unmount(){this.#a--,this.#a===0&&(this.#o?.(),this.#o=void 0,this.#s?.(),this.#s=void 0)}isFetching(t){return this.#t.findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return this.#e.findAll({...t,status:"pending"}).length}getQueryData(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=this.#t.build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(id(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return this.#t.findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=this.#t.get(n.queryHash)?.state.data,o=uae(e,s);if(o!==void 0)return this.#t.build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return hi.batch(()=>this.#t.findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){const e=this.defaultQueryOptions({queryKey:t});return this.#t.get(e.queryHash)?.state}removeQueries(t){const e=this.#t;hi.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=this.#t;return hi.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=hi.batch(()=>this.#t.findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(fs).catch(fs)}invalidateQueries(t,e={}){return hi.batch(()=>(this.#t.findAll(t).forEach(r=>{r.invalidate()}),t?.refetchType==="none"?Promise.resolve():this.refetchQueries({...t,type:t?.refetchType??t?.type??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=hi.batch(()=>this.#t.findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(fs)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(fs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=this.#t.build(this,e);return r.isStaleByTime(id(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fs).catch(fs)}fetchInfiniteQuery(t){return t.behavior=Qb(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fs).catch(fs)}ensureInfiniteQueryData(t){return t.behavior=Qb(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Jb.isOnline()?this.#e.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#t}getMutationCache(){return this.#e}getDefaultOptions(){return this.#r}setDefaultOptions(t){this.#r=t}setQueryDefaults(t,e){this.#n.set(Mf(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...this.#n.values()],r={};return e.forEach(n=>{$v(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){this.#i.set(Mf(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...this.#i.values()],r={};return e.forEach(n=>{$v(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...this.#r.queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=dR(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===fR&&(e.enabled=!1),e}defaultMutationOptions(t){return t?._defaulted?t:{...this.#r.mutations,...t?.mutationKey&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){this.#t.clear(),this.#e.clear()}},T7=class extends Nm{constructor(t,e){super(),this.options=e,this.#t=t,this.#s=null,this.#o=eA(),this.options.experimental_prefetchInRender||this.#o.reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(e)}#t;#e=void 0;#r=void 0;#n=void 0;#i;#a;#o;#s;#m;#f;#h;#c;#u;#l;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(this.#e.addObserver(this),U4(this.#e,this.options)?this.#d():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return rA(this.#e,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return rA(this.#e,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#b(),this.#w(),this.#e.removeObserver(this)}setOptions(t){const e=this.options,r=this.#e;if(this.options=this.#t.defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof qa(this.options.enabled,this.#e)!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#_(),this.#e.setOptions(this.options),e._defaulted&&!Xb(this.options,e)&&this.#t.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#e,observer:this});const n=this.hasListeners();n&&V4(this.#e,r,this.options,e)&&this.#d(),this.updateResult(),n&&(this.#e!==r||qa(this.options.enabled,this.#e)!==qa(e.enabled,this.#e)||id(this.options.staleTime,this.#e)!==id(e.staleTime,this.#e))&&this.#g();const i=this.#v();n&&(this.#e!==r||qa(this.options.enabled,this.#e)!==qa(e.enabled,this.#e)||i!==this.#l)&&this.#y(i)}getOptimisticResult(t){const e=this.#t.getQueryCache().build(this.#t,t),r=this.createResult(e,t);return Eae(this,r)&&(this.#n=r,this.#a=this.options,this.#i=this.#e.state),r}getCurrentResult(){return this.#n}trackResult(t,e){return new Proxy(t,{get:(r,n)=>(this.trackProp(n),e?.(n),Reflect.get(r,n))})}trackProp(t){this.#p.add(t)}getCurrentQuery(){return this.#e}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const e=this.#t.defaultQueryOptions(t),r=this.#t.getQueryCache().build(this.#t,e);return r.fetch().then(()=>this.createResult(r,e))}fetch(t){return this.#d({...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#d(t){this.#_();let e=this.#e.fetch(this.options,t);return t?.throwOnError||(e=e.catch(fs)),e}#g(){this.#b();const t=id(this.options.staleTime,this.#e);if(Rf||this.#n.isStale||!Xk(t))return;const r=x7(this.#n.dataUpdatedAt,t)+1;this.#c=setTimeout(()=>{this.#n.isStale||this.updateResult()},r)}#v(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.#e):this.options.refetchInterval)??!1}#y(t){this.#w(),this.#l=t,!(Rf||qa(this.options.enabled,this.#e)===!1||!Xk(this.#l)||this.#l===0)&&(this.#u=setInterval(()=>{(this.options.refetchIntervalInBackground||hR.isFocused())&&this.#d()},this.#l))}#x(){this.#g(),this.#y(this.#v())}#b(){this.#c&&(clearTimeout(this.#c),this.#c=void 0)}#w(){this.#u&&(clearInterval(this.#u),this.#u=void 0)}createResult(t,e){const r=this.#e,n=this.options,i=this.#n,s=this.#i,o=this.#a,c=t!==r?t.state:this.#r,{state:u}=t;let d={...u},f=!1,g;if(e._optimisticResults){const I=this.hasListeners(),z=!I&&U4(t,e),W=I&&V4(t,r,e,n);(z||W)&&(d={...d,...E7(u.data,t.options)}),e._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:x}=d;g=d.data;let _=!1;if(e.placeholderData!==void 0&&g===void 0&&x==="pending"){let I;i?.isPlaceholderData&&e.placeholderData===o?.placeholderData?(I=i.data,_=!0):I=typeof e.placeholderData=="function"?e.placeholderData(this.#h?.state.data,this.#h):e.placeholderData,I!==void 0&&(x="success",g=Qk(i?.data,I,e),f=!0)}if(e.select&&g!==void 0&&!_)if(i&&g===s?.data&&e.select===this.#m)g=this.#f;else try{this.#m=e.select,g=e.select(g),g=Qk(i?.data,g,e),this.#f=g,this.#s=null}catch(I){this.#s=I}this.#s&&(v=this.#s,g=this.#f,y=Date.now(),x="error");const S=d.fetchStatus==="fetching",C=x==="pending",N=x==="error",A=C&&S,E=g!==void 0,O={status:x,fetchStatus:d.fetchStatus,isPending:C,isSuccess:x==="success",isError:N,isInitialLoading:A,isLoading:A,data:g,dataUpdatedAt:d.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>c.dataUpdateCount||d.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!C,isLoadingError:N&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:N&&E,isStale:pR(t,e),refetch:this.refetch,promise:this.#o,isEnabled:qa(e.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const I=V=>{O.status==="error"?V.reject(O.error):O.data!==void 0&&V.resolve(O.data)},z=()=>{const V=this.#o=O.promise=eA();I(V)},W=this.#o;switch(W.status){case"pending":t.queryHash===r.queryHash&&I(W);break;case"fulfilled":(O.status==="error"||O.data!==W.value)&&z();break;case"rejected":(O.status!=="error"||O.error!==W.reason)&&z();break}}return O}updateResult(){const t=this.#n,e=this.createResult(this.#e,this.options);if(this.#i=this.#e.state,this.#a=this.options,this.#i.data!==void 0&&(this.#h=this.#e),Xb(e,t))return;this.#n=e;const r=()=>{if(!t)return!0;const{notifyOnChangeProps:n}=this.options,i=typeof n=="function"?n():n;if(i==="all"||!i&&!this.#p.size)return!0;const s=new Set(i??this.#p);return this.options.throwOnError&&s.add("error"),Object.keys(this.#n).some(o=>{const l=o;return this.#n[l]!==t[l]&&s.has(l)})};this.#S({listeners:r()})}#_(){const t=this.#t.getQueryCache().build(this.#t,this.options);if(t===this.#e)return;const e=this.#e;this.#e=t,this.#r=t.state,this.hasListeners()&&(e?.removeObserver(this),t.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#S(t){hi.batch(()=>{t.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#t.getQueryCache().notify({query:this.#e,type:"observerResultsUpdated"})})}};function Nae(t,e){return qa(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function U4(t,e){return Nae(t,e)||t.state.data!==void 0&&rA(t,e,e.refetchOnMount)}function rA(t,e,r){if(qa(e.enabled,t)!==!1&&id(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&pR(t,e)}return!1}function V4(t,e,r,n){return(t!==e||qa(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&pR(t,r)}function pR(t,e){return qa(e.enabled,t)!==!1&&t.isStaleByTime(id(e.staleTime,t))}function Eae(t,e){return!Xb(t.getCurrentResult(),e)}var Pae=class extends T7{constructor(t,e){super(t,e)}bindMethods(){super.bindMethods(),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)}setOptions(t){super.setOptions({...t,behavior:Qb()})}getOptimisticResult(t){return t.behavior=Qb(),super.getOptimisticResult(t)}fetchNextPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"forward"}}})}fetchPreviousPage(t){return this.fetch({...t,meta:{fetchMore:{direction:"backward"}}})}createResult(t,e){const{state:r}=t,n=super.createResult(t,e),{isFetching:i,isRefetching:s,isError:o,isRefetchError:l}=n,c=r.fetchMeta?.fetchMore?.direction,u=o&&c==="forward",d=i&&c==="forward",f=o&&c==="backward",g=i&&c==="backward";return{...n,fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:jae(e,r.data),hasPreviousPage:Cae(e,r.data),isFetchNextPageError:u,isFetchingNextPage:d,isFetchPreviousPageError:f,isFetchingPreviousPage:g,isRefetchError:l&&!u&&!f,isRefetching:s&&!d&&!g}}},kae=class extends Nm{#t;#e=void 0;#r;#n;constructor(e,r){super(),this.#t=e,this.setOptions(r),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){const r=this.options;this.options=this.#t.defaultMutationOptions(e),Xb(this.options,r)||this.#t.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),r?.mutationKey&&this.options.mutationKey&&Mf(r.mutationKey)!==Mf(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#a(e)}getCurrentResult(){return this.#e}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#a()}mutate(e,r){return this.#n=r,this.#r?.removeObserver(this),this.#r=this.#t.getMutationCache().build(this.#t,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){const e=this.#r?.state??P7();this.#e={...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset}}#a(e){hi.batch(()=>{if(this.#n&&this.hasListeners()){const r=this.#e.variables,n=this.#e.context;e?.type==="success"?(this.#n.onSuccess?.(e.data,r,n),this.#n.onSettled?.(e.data,null,r,n)):e?.type==="error"&&(this.#n.onError?.(e.error,r,n),this.#n.onSettled?.(void 0,e.error,r,n))}this.listeners.forEach(r=>{r(this.#e)})})}},O7=b.createContext(void 0),Tl=t=>{const e=b.useContext(O7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},R7=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(O7.Provider,{value:t,children:e})),M7=b.createContext(!1),Aae=()=>b.useContext(M7);M7.Provider;function Tae(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Oae=b.createContext(Tae()),I7=()=>b.useContext(Oae),Rae=(t,e)=>{(t.suspense||t.throwOnError||t.experimental_prefetchInRender)&&(e.isReset()||(t.retryOnMount=!1))},Mae=t=>{b.useEffect(()=>{t.clearReset()},[t])},Iae=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||_7(r,[t.error,n])),Lae=t=>{if(t.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),r=t.staleTime;t.staleTime=typeof r=="function"?(...n)=>e(r(...n)):e(r),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},Dae=(t,e)=>t.isLoading&&t.isFetching&&!e,$ae=(t,e)=>t?.suspense&&e.isPending,W4=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function L7(t,e,r){const n=Aae(),i=I7(),s=Tl(),o=s.defaultQueryOptions(t);s.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=n?"isRestoring":"optimistic",Lae(o),Rae(o,i),Mae(i);const l=!s.getQueryCache().get(o.queryHash),[c]=b.useState(()=>new e(s,o)),u=c.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(b.useSyncExternalStore(b.useCallback(f=>{const g=d?c.subscribe(hi.batchCalls(f)):fs;return c.updateResult(),g},[c,d]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),b.useEffect(()=>{c.setOptions(o)},[o,c]),$ae(o,u))throw W4(o,c,i);if(Iae({result:u,errorResetBoundary:i,throwOnError:o.throwOnError,query:s.getQueryCache().get(o.queryHash),suspense:o.suspense}))throw u.error;return s.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!Rf&&Dae(u,n)&&(l?W4(o,c,i):s.getQueryCache().get(o.queryHash)?.promise)?.catch(fs).finally(()=>{c.updateResult()}),o.notifyOnChangeProps?u:c.trackResult(u)}function Ni(t,e){return L7(t,T7)}function $i(t,e){const r=Tl(),[n]=b.useState(()=>new kae(r,t));b.useEffect(()=>{n.setOptions(t)},[n,t]);const i=b.useSyncExternalStore(b.useCallback(o=>n.subscribe(hi.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=b.useCallback((o,l)=>{n.mutate(o,l).catch(fs)},[n]);if(i.error&&_7(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function Fae(t,e){return L7(t,Pae)}const Bae="modulepreload",zae=function(t){return"/"+t},H4={},Vy=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let u=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var o=u;document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=l?.nonce||l?.getAttribute("nonce");i=u(r.map(d=>{if(d=zae(d),d in H4)return;H4[d]=!0;const f=d.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${g}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":Bae,f||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((y,x)=>{v.addEventListener("load",y),v.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function s(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&s(c.reason);return e().catch(s)})};function D7(){return b.useEffect(()=>{if(typeof document<"u"){let t=document.getElementById("toaster-container");t||(t=document.createElement("div"),t.id="toaster-container",t.className="fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none",document.body.appendChild(t))}},[]),a.jsx("div",{id:"toaster-container",className:"fixed top-0 right-0 z-[100] p-4 space-y-2 pointer-events-none"})}const mR=b.createContext({});function gR(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const W_=b.createContext(null),vR=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class qae extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Uae({children:t,isPresent:e}){const r=b.useId(),n=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=b.useContext(vR);return b.useInsertionEffect(()=>{const{width:o,height:l,top:c,left:u}=i.current;if(e||!n.current||!o||!l)return;n.current.dataset.motionPopId=r;const d=document.createElement("style");return s&&(d.nonce=s),document.head.appendChild(d),d.sheet&&d.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${l}px !important;
            top: ${c}px !important;
            left: ${u}px !important;
          }
        `),()=>{document.head.removeChild(d)}},[e]),a.jsx(qae,{isPresent:e,childRef:n,sizeRef:i,children:b.cloneElement(t,{ref:n})})}const Vae=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:o})=>{const l=gR(Wae),c=b.useId(),u=b.useCallback(f=>{l.set(f,!0);for(const g of l.values())if(!g)return;n&&n()},[l,n]),d=b.useMemo(()=>({id:c,initial:e,isPresent:r,custom:i,onExitComplete:u,register:f=>(l.set(f,!1),()=>l.delete(f))}),s?[Math.random(),u]:[r,u]);return b.useMemo(()=>{l.forEach((f,g)=>l.set(g,!1))},[r]),b.useEffect(()=>{!r&&!l.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(Uae,{isPresent:r,children:t})),a.jsx(W_.Provider,{value:d,children:t})};function Wae(){return new Map}function $7(t=!0){const e=b.useContext(W_);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=b.useId();b.useEffect(()=>{t&&i(s)},[t]);const o=b.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const D0=t=>t.key||"";function K4(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const yR=typeof window<"u",F7=yR?b.useLayoutEffect:b.useEffect,Ei=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[l,c]=$7(o),u=b.useMemo(()=>K4(t),[t]),d=o&&!l?[]:u.map(D0),f=b.useRef(!0),g=b.useRef(u),v=gR(()=>new Map),[y,x]=b.useState(u),[_,S]=b.useState(u);F7(()=>{f.current=!1,g.current=u;for(let A=0;A<_.length;A++){const E=D0(_[A]);d.includes(E)?v.delete(E):v.get(E)!==!0&&v.set(E,!1)}},[_,d.length,d.join("-")]);const C=[];if(u!==y){let A=[...u];for(let E=0;E<_.length;E++){const k=_[E],O=D0(k);d.includes(O)||(A.splice(E,0,k),C.push(k))}s==="wait"&&C.length&&(A=C),S(K4(A)),x(u);return}const{forceRender:N}=b.useContext(mR);return a.jsx(a.Fragment,{children:_.map(A=>{const E=D0(A),k=o&&!l?!1:u===_||d.includes(E),O=()=>{if(v.has(E))v.set(E,!0);else return;let I=!0;v.forEach(z=>{z||(I=!1)}),I&&(N?.(),S(g.current),o&&c?.(),n&&n())};return a.jsx(Vae,{isPresent:k,initial:!f.current||r?void 0:!1,custom:k?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:k?void 0:O,children:A},E)})})},ha=t=>t;let B7=ha;function xR(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ip=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},_c=t=>t*1e3,Sc=t=>t/1e3,Hae={useManualTiming:!1};function Kae(t){let e=new Set,r=new Set,n=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(u){s.has(u)&&(c.schedule(u),t()),u(o)}const c={schedule:(u,d=!1,f=!1)=>{const v=f&&n?e:r;return d&&s.add(u),v.has(u)||v.add(u),u},cancel:u=>{r.delete(u),s.delete(u)},process:u=>{if(o=u,n){i=!0;return}n=!0,[e,r]=[r,e],e.forEach(l),e.clear(),n=!1,i&&(i=!1,c.process(u))}};return c}const $0=["read","resolveKeyframes","update","preRender","render","postRender"],Gae=40;function z7(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=$0.reduce((S,C)=>(S[C]=Kae(s),S),{}),{read:l,resolveKeyframes:c,update:u,preRender:d,render:f,postRender:g}=o,v=()=>{const S=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(S-i.timestamp,Gae),1),i.timestamp=S,i.isProcessing=!0,l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),g.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(v))},y=()=>{r=!0,n=!0,i.isProcessing||t(v)};return{schedule:$0.reduce((S,C)=>{const N=o[C];return S[C]=(A,E=!1,k=!1)=>(r||y(),N.schedule(A,E,k)),S},{}),cancel:S=>{for(let C=0;C<$0.length;C++)o[$0[C]].cancel(S)},state:i,steps:o}}const{schedule:xn,cancel:fd,state:Li,steps:Dj}=z7(typeof requestAnimationFrame<"u"?requestAnimationFrame:ha,!0),q7=b.createContext({strict:!1}),G4={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lp={};for(const t in G4)Lp[t]={isEnabled:e=>G4[t].some(r=>!!e[r])};function Zae(t){for(const e in t)Lp[e]={...Lp[e],...t[e]}}const Yae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ew(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Yae.has(t)}let U7=t=>!ew(t);function Xae(t){t&&(U7=e=>e.startsWith("on")?!ew(e):t(e))}try{Xae(require("@emotion/is-prop-valid").default)}catch{}function Jae(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(U7(i)||r===!0&&ew(i)||!e&&!ew(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function Qae(t){if(typeof Proxy>"u")return t;const e=new Map,r=(...n)=>t(...n);return new Proxy(r,{get:(n,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const H_=b.createContext({});function Fv(t){return typeof t=="string"||Array.isArray(t)}function K_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const bR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wR=["initial",...bR];function G_(t){return K_(t.animate)||wR.some(e=>Fv(t[e]))}function V7(t){return!!(G_(t)||t.variants)}function eoe(t,e){if(G_(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Fv(r)?r:void 0,animate:Fv(n)?n:void 0}}return t.inherit!==!1?e:{}}function toe(t){const{initial:e,animate:r}=eoe(t,b.useContext(H_));return b.useMemo(()=>({initial:e,animate:r}),[Z4(e),Z4(r)])}function Z4(t){return Array.isArray(t)?t.join(" "):t}const roe=Symbol.for("motionComponentSymbol");function mp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function noe(t,e,r){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):mp(r)&&(r.current=n))},[e])}const _R=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ioe="framerAppearId",W7="data-"+_R(ioe),{schedule:SR}=z7(queueMicrotask,!1),H7=b.createContext({});function soe(t,e,r,n,i){var s,o;const{visualElement:l}=b.useContext(H_),c=b.useContext(q7),u=b.useContext(W_),d=b.useContext(vR).reducedMotion,f=b.useRef(null);n=n||c.renderer,!f.current&&n&&(f.current=n(t,{visualState:e,parent:l,props:r,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:d}));const g=f.current,v=b.useContext(H7);g&&!g.projection&&i&&(g.type==="html"||g.type==="svg")&&aoe(f.current,r,i,v);const y=b.useRef(!1);b.useInsertionEffect(()=>{g&&y.current&&g.update(r,u)});const x=r[W7],_=b.useRef(!!x&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,x))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,x)));return F7(()=>{g&&(y.current=!0,window.MotionIsMounted=!0,g.updateFeatures(),SR.render(g.render),_.current&&g.animationState&&g.animationState.animateChanges())}),b.useEffect(()=>{g&&(!_.current&&g.animationState&&g.animationState.animateChanges(),_.current&&(queueMicrotask(()=>{var S;(S=window.MotionHandoffMarkAsComplete)===null||S===void 0||S.call(window,x)}),_.current=!1))}),g}function aoe(t,e,r,n){const{layoutId:i,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:K7(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||l&&mp(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,layoutScroll:c,layoutRoot:u})}function K7(t){if(t)return t.options.allowProjection!==!1?t.projection:K7(t.parent)}function ooe({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){var s,o;t&&Zae(t);function l(u,d){let f;const g={...b.useContext(vR),...u,layoutId:loe(u)},{isStatic:v}=g,y=toe(u),x=n(u,v);if(!v&&yR){coe();const _=uoe(g);f=_.MeasureLayout,y.visualElement=soe(i,x,g,e,_.ProjectionNode)}return a.jsxs(H_.Provider,{value:y,children:[f&&y.visualElement?a.jsx(f,{visualElement:y.visualElement,...g}):null,r(i,u,noe(x,y.visualElement,d),x,v,y.visualElement)]})}l.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=b.forwardRef(l);return c[roe]=i,c}function loe({layoutId:t}){const e=b.useContext(mR).id;return e&&t!==void 0?e+"-"+t:t}function coe(t,e){b.useContext(q7).strict}function uoe(t){const{drag:e,layout:r}=Lp;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const doe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function jR(t){return typeof t!="string"||t.includes("-")?!1:!!(doe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Y4(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function CR(t,e,r,n){if(typeof e=="function"){const[i,s]=Y4(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=Y4(n);e=e(r!==void 0?r:t.custom,i,s)}return e}const nA=t=>Array.isArray(t),foe=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),hoe=t=>nA(t)?t[t.length-1]||0:t,rs=t=>!!(t&&t.getVelocity);function Rb(t){const e=rs(t)?t.get():t;return foe(e)?e.toValue():e}function poe({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:r},n,i,s){const o={latestValues:moe(n,i,s,t),renderState:e()};return r&&(o.onMount=l=>r({props:n,current:l,...o}),o.onUpdate=l=>r(l)),o}const G7=t=>(e,r)=>{const n=b.useContext(H_),i=b.useContext(W_),s=()=>poe(t,e,n,i);return r?s():gR(s)};function moe(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=Rb(s[g]);let{initial:o,animate:l}=t;const c=G_(t),u=V7(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const f=d?l:o;if(f&&typeof f!="boolean"&&!K_(f)){const g=Array.isArray(f)?f:[f];for(let v=0;v<g.length;v++){const y=CR(t,g[v]);if(y){const{transitionEnd:x,transition:_,...S}=y;for(const C in S){let N=S[C];if(Array.isArray(N)){const A=d?N.length-1:0;N=N[A]}N!==null&&(i[C]=N)}for(const C in x)i[C]=x[C]}}}return i}const Em=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Kf=new Set(Em),Z7=t=>e=>typeof e=="string"&&e.startsWith(t),Y7=Z7("--"),goe=Z7("var(--"),NR=t=>goe(t)?voe.test(t.split("/*")[0].trim()):!1,voe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,X7=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Mc=(t,e,r)=>r>e?e:r<t?t:r,Pm={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Bv={...Pm,transform:t=>Mc(0,1,t)},F0={...Pm,default:1},Wy=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),zu=Wy("deg"),ml=Wy("%"),Bt=Wy("px"),yoe=Wy("vh"),xoe=Wy("vw"),X4={...ml,parse:t=>ml.parse(t)/100,transform:t=>ml.transform(t*100)},boe={borderWidth:Bt,borderTopWidth:Bt,borderRightWidth:Bt,borderBottomWidth:Bt,borderLeftWidth:Bt,borderRadius:Bt,radius:Bt,borderTopLeftRadius:Bt,borderTopRightRadius:Bt,borderBottomRightRadius:Bt,borderBottomLeftRadius:Bt,width:Bt,maxWidth:Bt,height:Bt,maxHeight:Bt,top:Bt,right:Bt,bottom:Bt,left:Bt,padding:Bt,paddingTop:Bt,paddingRight:Bt,paddingBottom:Bt,paddingLeft:Bt,margin:Bt,marginTop:Bt,marginRight:Bt,marginBottom:Bt,marginLeft:Bt,backgroundPositionX:Bt,backgroundPositionY:Bt},woe={rotate:zu,rotateX:zu,rotateY:zu,rotateZ:zu,scale:F0,scaleX:F0,scaleY:F0,scaleZ:F0,skew:zu,skewX:zu,skewY:zu,distance:Bt,translateX:Bt,translateY:Bt,translateZ:Bt,x:Bt,y:Bt,z:Bt,perspective:Bt,transformPerspective:Bt,opacity:Bv,originX:X4,originY:X4,originZ:Bt},J4={...Pm,transform:Math.round},ER={...boe,...woe,zIndex:J4,size:Bt,fillOpacity:Bv,strokeOpacity:Bv,numOctaves:J4},_oe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Soe=Em.length;function joe(t,e,r){let n="",i=!0;for(let s=0;s<Soe;s++){const o=Em[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=X7(l,ER[o]);if(!c){i=!1;const d=_oe[o]||o;n+=`${d}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function PR(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(Kf.has(c)){o=!0;continue}else if(Y7(c)){i[c]=u;continue}else{const d=X7(u,ER[c]);c.startsWith("origin")?(l=!0,s[c]=d):n[c]=d}}if(e.transform||(o||r?n.transform=joe(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${c} ${u} ${d}`}}const Coe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Noe={offset:"strokeDashoffset",array:"strokeDasharray"};function Eoe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?Coe:Noe;t[s.offset]=Bt.transform(-n);const o=Bt.transform(e),l=Bt.transform(r);t[s.array]=`${o} ${l}`}function Q4(t,e,r){return typeof t=="string"?t:Bt.transform(e+r*t)}function Poe(t,e,r){const n=Q4(e,t.x,t.width),i=Q4(r,t.y,t.height);return`${n} ${i}`}function kR(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:l=1,pathOffset:c=0,...u},d,f){if(PR(t,u,f),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:v,dimensions:y}=t;g.transform&&(y&&(v.transform=g.transform),delete g.transform),y&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=Poe(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&Eoe(g,o,l,c,!1)}const AR=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),J7=()=>({...AR(),attrs:{}}),TR=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Q7(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const eW=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tW(t,e,r,n){Q7(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(eW.has(i)?i:_R(i),e.attrs[i])}const tw={};function koe(t){Object.assign(tw,t)}function rW(t,{layout:e,layoutId:r}){return Kf.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!tw[t]||t==="opacity")}function OR(t,e,r){var n;const{style:i}=t,s={};for(const o in i)(rs(i[o])||e.style&&rs(e.style[o])||rW(o,t)||((n=r?.getValue(o))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function nW(t,e,r){const n=OR(t,e,r);for(const i in t)if(rs(t[i])||rs(e[i])){const s=Em.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}function Aoe(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const e$=["x","y","width","height","cx","cy","r"],Toe={useVisualState:G7({scrapeMotionValuesFromProps:nW,createRenderState:J7,onUpdate:({props:t,prevProps:e,current:r,renderState:n,latestValues:i})=>{if(!r)return;let s=!!t.drag;if(!s){for(const l in i)if(Kf.has(l)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let l=0;l<e$.length;l++){const c=e$[l];t[c]!==e[c]&&(o=!0)}o&&xn.read(()=>{Aoe(r,n),xn.render(()=>{kR(n,i,TR(r.tagName),t.transformTemplate),tW(r,n)})})}})},Ooe={useVisualState:G7({scrapeMotionValuesFromProps:OR,createRenderState:AR})};function iW(t,e,r){for(const n in e)!rs(e[n])&&!rW(n,r)&&(t[n]=e[n])}function Roe({transformTemplate:t},e){return b.useMemo(()=>{const r=AR();return PR(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Moe(t,e){const r=t.style||{},n={};return iW(n,r,t),Object.assign(n,Roe(t,e)),n}function Ioe(t,e){const r={},n=Moe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}function Loe(t,e,r,n){const i=b.useMemo(()=>{const s=J7();return kR(s,e,TR(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};iW(s,t.style,t),i.style={...s,...i.style}}return i}function Doe(t=!1){return(r,n,i,{latestValues:s},o)=>{const c=(jR(r)?Loe:Ioe)(n,s,o,r),u=Jae(n,typeof r=="string",t),d=r!==b.Fragment?{...u,...c,ref:i}:{},{children:f}=n,g=b.useMemo(()=>rs(f)?f.get():f,[f]);return b.createElement(r,{...d,children:g})}}function $oe(t,e){return function(n,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...jR(n)?Toe:Ooe,preloadedFeatures:t,useRender:Doe(i),createVisualElement:e,Component:n};return ooe(o)}}function sW(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function Z_(t,e,r){const n=t.getProps();return CR(n,e,r!==void 0?r:n.custom,t)}const Foe=xR(()=>window.ScrollTimeline!==void 0);class Boe{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,r){for(let n=0;n<this.animations.length;n++)this.animations[n][e]=r}attachTimeline(e,r){const n=this.animations.map(i=>{if(Foe()&&i.attachTimeline)return i.attachTimeline(e);if(typeof r=="function")return r(i)});return()=>{n.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let r=0;r<this.animations.length;r++)e=Math.max(e,this.animations[r].duration);return e}runAll(e){this.animations.forEach(r=>r[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class zoe extends Boe{then(e,r){return Promise.all(this.animations).then(e).catch(r)}}function RR(t,e){return t?t[e]||t.default||t:void 0}const iA=2e4;function aW(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<iA;)e+=r,n=t.next(e);return e>=iA?1/0:e}function MR(t){return typeof t=="function"}function t$(t,e){t.timeline=e,t.onfinish=null}const IR=t=>Array.isArray(t)&&typeof t[0]=="number",qoe={linearEasing:void 0};function Uoe(t,e){const r=xR(t);return()=>{var n;return(n=qoe[e])!==null&&n!==void 0?n:r()}}const rw=Uoe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oW=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=t(Ip(0,i-1,s))+", ";return`linear(${n.substring(0,n.length-2)})`};function lW(t){return!!(typeof t=="function"&&rw()||!t||typeof t=="string"&&(t in sA||rw())||IR(t)||Array.isArray(t)&&t.every(lW))}const nv=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,sA={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nv([0,.65,.55,1]),circOut:nv([.55,0,1,.45]),backIn:nv([.31,.01,.66,-.59]),backOut:nv([.33,1.53,.69,.99])};function cW(t,e){if(t)return typeof t=="function"&&rw()?oW(t,e):IR(t)?nv(t):Array.isArray(t)?t.map(r=>cW(r,e)||sA.easeOut):sA[t]}const yo={x:!1,y:!1};function uW(){return yo.x||yo.y}function Voe(t,e,r){var n;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(n=void 0)!==null&&n!==void 0?n:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function dW(t,e){const r=Voe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function r$(t){return e=>{e.pointerType==="touch"||uW()||t(e)}}function Woe(t,e,r={}){const[n,i,s]=dW(t,r),o=r$(l=>{const{target:c}=l,u=e(l);if(typeof u!="function"||!c)return;const d=r$(f=>{u(f),c.removeEventListener("pointerleave",d)});c.addEventListener("pointerleave",d,i)});return n.forEach(l=>{l.addEventListener("pointerenter",o,i)}),s}const fW=(t,e)=>e?t===e?!0:fW(t,e.parentElement):!1,LR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Hoe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Koe(t){return Hoe.has(t.tagName)||t.tabIndex!==-1}const iv=new WeakSet;function n$(t){return e=>{e.key==="Enter"&&t(e)}}function $j(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Goe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=n$(()=>{if(iv.has(r))return;$j(r,"down");const i=n$(()=>{$j(r,"up")}),s=()=>$j(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function i$(t){return LR(t)&&!uW()}function Zoe(t,e,r={}){const[n,i,s]=dW(t,r),o=l=>{const c=l.currentTarget;if(!i$(l)||iv.has(c))return;iv.add(c);const u=e(l),d=(v,y)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),!(!i$(v)||!iv.has(c))&&(iv.delete(c),typeof u=="function"&&u(v,{success:y}))},f=v=>{d(v,r.useGlobalTarget||fW(c,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return n.forEach(l=>{!Koe(l)&&l.getAttribute("tabindex")===null&&(l.tabIndex=0),(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,i),l.addEventListener("focus",u=>Goe(u,i),i)}),s}function Yoe(t){return t==="x"||t==="y"?yo[t]?null:(yo[t]=!0,()=>{yo[t]=!1}):yo.x||yo.y?null:(yo.x=yo.y=!0,()=>{yo.x=yo.y=!1})}const hW=new Set(["width","height","top","left","right","bottom",...Em]);let Mb;function Xoe(){Mb=void 0}const gl={now:()=>(Mb===void 0&&gl.set(Li.isProcessing||Hae.useManualTiming?Li.timestamp:performance.now()),Mb),set:t=>{Mb=t,queueMicrotask(Xoe)}};function DR(t,e){t.indexOf(e)===-1&&t.push(e)}function $R(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class FR{constructor(){this.subscriptions=[]}add(e){return DR(this.subscriptions,e),()=>$R(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function pW(t,e){return e?t*(1e3/e):0}const s$=30,Joe=t=>!isNaN(parseFloat(t));class Qoe{constructor(e,r={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,i=!0)=>{const s=gl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=gl.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Joe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new FR);const n=this.events[e].add(r);return e==="change"?()=>{n(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=gl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>s$)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,s$);return pW(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function zv(t,e){return new Qoe(t,e)}function ele(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,zv(r))}function tle(t,e){const r=Z_(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const o in s){const l=hoe(s[o]);ele(t,o,l)}}function rle(t){return!!(rs(t)&&t.add)}function aA(t,e){const r=t.getValue("willChange");if(rle(r))return r.add(e)}function mW(t){return t.props[W7]}const gW=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,nle=1e-7,ile=12;function sle(t,e,r,n,i){let s,o,l=0;do o=e+(r-e)/2,s=gW(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>nle&&++l<ile);return o}function Hy(t,e,r,n){if(t===e&&r===n)return ha;const i=s=>sle(s,0,1,t,r);return s=>s===0||s===1?s:gW(i(s),e,n)}const vW=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,yW=t=>e=>1-t(1-e),xW=Hy(.33,1.53,.69,.99),BR=yW(xW),bW=vW(BR),wW=t=>(t*=2)<1?.5*BR(t):.5*(2-Math.pow(2,-10*(t-1))),zR=t=>1-Math.sin(Math.acos(t)),_W=yW(zR),SW=vW(zR),jW=t=>/^0[^.\s]+$/u.test(t);function ale(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||jW(t):!0}const xv=t=>Math.round(t*1e5)/1e5,qR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ole(t){return t==null}const lle=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,UR=(t,e)=>r=>!!(typeof r=="string"&&lle.test(r)&&r.startsWith(t)||e&&!ole(r)&&Object.prototype.hasOwnProperty.call(r,e)),CW=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,o,l]=n.match(qR);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},cle=t=>Mc(0,255,t),Fj={...Pm,transform:t=>Math.round(cle(t))},mf={test:UR("rgb","red"),parse:CW("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Fj.transform(t)+", "+Fj.transform(e)+", "+Fj.transform(r)+", "+xv(Bv.transform(n))+")"};function ule(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const oA={test:UR("#"),parse:ule,transform:mf.transform},gp={test:UR("hsl","hue"),parse:CW("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ml.transform(xv(e))+", "+ml.transform(xv(r))+", "+xv(Bv.transform(n))+")"},Xi={test:t=>mf.test(t)||oA.test(t)||gp.test(t),parse:t=>mf.test(t)?mf.parse(t):gp.test(t)?gp.parse(t):oA.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?mf.transform(t):gp.transform(t)},dle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function fle(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(qR))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(dle))===null||r===void 0?void 0:r.length)||0)>0}const NW="number",EW="color",hle="var",ple="var(",a$="${}",mle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function qv(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const l=e.replace(mle,c=>(Xi.test(c)?(n.color.push(s),i.push(EW),r.push(Xi.parse(c))):c.startsWith(ple)?(n.var.push(s),i.push(hle),r.push(c)):(n.number.push(s),i.push(NW),r.push(parseFloat(c))),++s,a$)).split(a$);return{values:r,split:l,indexes:n,types:i}}function PW(t){return qv(t).values}function kW(t){const{split:e,types:r}=qv(t),n=e.length;return i=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],i[o]!==void 0){const l=r[o];l===NW?s+=xv(i[o]):l===EW?s+=Xi.transform(i[o]):s+=i[o]}return s}}const gle=t=>typeof t=="number"?0:t;function vle(t){const e=PW(t);return kW(t)(e.map(gle))}const hd={test:fle,parse:PW,createTransformer:kW,getAnimatableNone:vle},yle=new Set(["brightness","contrast","saturate","opacity"]);function xle(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(qR)||[];if(!n)return t;const i=r.replace(n,"");let s=yle.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const ble=/\b([a-z-]*)\(.*?\)/gu,lA={...hd,getAnimatableNone:t=>{const e=t.match(ble);return e?e.map(xle).join(" "):t}},wle={...ER,color:Xi,backgroundColor:Xi,outlineColor:Xi,fill:Xi,stroke:Xi,borderColor:Xi,borderTopColor:Xi,borderRightColor:Xi,borderBottomColor:Xi,borderLeftColor:Xi,filter:lA,WebkitFilter:lA},VR=t=>wle[t];function AW(t,e){let r=VR(t);return r!==lA&&(r=hd),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const _le=new Set(["auto","none","0"]);function Sle(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!_le.has(s)&&qv(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=AW(r,i)}const o$=t=>t===Pm||t===Bt,l$=(t,e)=>parseFloat(t.split(", ")[e]),c$=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/u);if(i)return l$(i[1],e);{const s=n.match(/^matrix\((.+)\)$/u);return s?l$(s[1],t):0}},jle=new Set(["x","y","z"]),Cle=Em.filter(t=>!jle.has(t));function Nle(t){const e=[];return Cle.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Dp={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:c$(4,13),y:c$(5,14)};Dp.translateX=Dp.x;Dp.translateY=Dp.y;const Cf=new Set;let cA=!1,uA=!1;function TW(){if(uA){const t=Array.from(Cf).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Nle(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,o])=>{var l;(l=n.getValue(s))===null||l===void 0||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}uA=!1,cA=!1,Cf.forEach(t=>t.complete()),Cf.clear()}function OW(){Cf.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(uA=!0)})}function Ele(){OW(),TW()}class WR{constructor(e,r,n,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Cf.add(this),cA||(cA=!0,xn.read(OW),xn.resolveKeyframes(TW))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i?.get(),l=e[e.length-1];if(o!==void 0)e[0]=o;else if(n&&r){const c=n.readValue(r,l);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=l),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Cf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Cf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const RW=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),Ple=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kle(t){const e=Ple.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function MW(t,e,r=1){const[n,i]=kle(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return RW(o)?parseFloat(o):o}return NR(i)?MW(i,e,r+1):i}const IW=t=>e=>e.test(t),Ale={test:t=>t==="auto",parse:t=>t},LW=[Pm,Bt,ml,zu,xoe,yoe,Ale],u$=t=>LW.find(IW(t));class DW extends WR{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),NR(u))){const d=MW(u,r.current);d!==void 0&&(e[c]=d),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!hW.has(n)||e.length!==2)return;const[i,s]=e,o=u$(i),l=u$(s);if(o!==l)if(o$(o)&&o$(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)ale(e[i])&&n.push(i);n.length&&Sle(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var e;const{element:r,name:n,unresolvedKeyframes:i}=this;if(!r||!r.current)return;const s=r.getValue(n);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,l=i[o];i[o]=Dp[n](r.measureViewportBox(),window.getComputedStyle(r.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,u])=>{r.getValue(c).set(u)}),this.resolveNoneKeyframes()}}const d$=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(hd.test(t)||t==="0")&&!t.startsWith("url("));function Tle(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Ole(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=d$(i,e),l=d$(s,e);return!o||!l?!1:Tle(t)||(r==="spring"||MR(r))&&n}const Rle=t=>t!==null;function Y_(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Rle),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return!s||n===void 0?i[s]:n}const Mle=40;class $W{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...l}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=gl.now(),this.options={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:o,...l},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Mle?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Ele(),this._resolved}onKeyframesResolved(e,r){this.resolvedAt=gl.now(),this.hasAttemptedResolve=!0;const{name:n,type:i,velocity:s,delay:o,onComplete:l,onUpdate:c,isGenerator:u}=this.options;if(!u&&!Ole(e,n,i,s))if(o)this.options.duration=0;else{c&&c(Y_(e,this.options,r)),l&&l(),this.resolveFinishedPromise();return}const d=this.initPlayback(e,r);d!==!1&&(this._resolved={keyframes:e,finalKeyframe:r,...d},this.onPostResolved())}onPostResolved(){}then(e,r){return this.currentFinishedPromise.then(e,r)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Pn=(t,e,r)=>t+(e-t)*r;function Bj(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Ile({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;i=Bj(c,l,t+1/3),s=Bj(c,l,t),o=Bj(c,l,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function nw(t,e){return r=>r>0?e:t}const zj=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Lle=[oA,mf,gp],Dle=t=>Lle.find(e=>e.test(t));function f$(t){const e=Dle(t);if(!e)return!1;let r=e.parse(t);return e===gp&&(r=Ile(r)),r}const h$=(t,e)=>{const r=f$(t),n=f$(e);if(!r||!n)return nw(t,e);const i={...r};return s=>(i.red=zj(r.red,n.red,s),i.green=zj(r.green,n.green,s),i.blue=zj(r.blue,n.blue,s),i.alpha=Pn(r.alpha,n.alpha,s),mf.transform(i))},$le=(t,e)=>r=>e(t(r)),Ky=(...t)=>t.reduce($le),dA=new Set(["none","hidden"]);function Fle(t,e){return dA.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Ble(t,e){return r=>Pn(t,e,r)}function HR(t){return typeof t=="number"?Ble:typeof t=="string"?NR(t)?nw:Xi.test(t)?h$:Ule:Array.isArray(t)?FW:typeof t=="object"?Xi.test(t)?h$:zle:nw}function FW(t,e){const r=[...t],n=r.length,i=t.map((s,o)=>HR(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}}function zle(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=HR(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function qle(t,e){var r;const n=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],l=t.indexes[o][i[o]],c=(r=t.values[l])!==null&&r!==void 0?r:0;n[s]=c,i[o]++}return n}const Ule=(t,e)=>{const r=hd.createTransformer(e),n=qv(t),i=qv(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?dA.has(t)&&!i.values.length||dA.has(e)&&!n.values.length?Fle(t,e):Ky(FW(qle(n,i),i.values),r):nw(t,e)};function BW(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?Pn(t,e,r):HR(t)(t,e)}const Vle=5;function zW(t,e,r){const n=Math.max(e-Vle,0);return pW(r-t(n),e-n)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},qj=.001;function Wle({duration:t=Mn.duration,bounce:e=Mn.bounce,velocity:r=Mn.velocity,mass:n=Mn.mass}){let i,s,o=1-e;o=Mc(Mn.minDamping,Mn.maxDamping,o),t=Mc(Mn.minDuration,Mn.maxDuration,Sc(t)),o<1?(i=u=>{const d=u*o,f=d*t,g=d-r,v=fA(u,o),y=Math.exp(-f);return qj-g/v*y},s=u=>{const f=u*o*t,g=f*r+r,v=Math.pow(o,2)*Math.pow(u,2)*t,y=Math.exp(-f),x=fA(Math.pow(u,2),o);return(-i(u)+qj>0?-1:1)*((g-v)*y)/x}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-qj+d*f},s=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const l=5/t,c=Kle(i,s,l);if(t=_c(t),isNaN(c))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const Hle=12;function Kle(t,e,r){let n=r;for(let i=1;i<Hle;i++)n=n-t(n)/e(n);return n}function fA(t,e){return t*Math.sqrt(1-e*e)}const Gle=["duration","bounce"],Zle=["stiffness","damping","mass"];function p$(t,e){return e.some(r=>t[r]!==void 0)}function Yle(t){let e={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...t};if(!p$(t,Zle)&&p$(t,Gle))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Mc(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Mn.mass,stiffness:i,damping:s}}else{const r=Wle(t);e={...e,...r,mass:Mn.mass},e.isResolvedFromDuration=!0}return e}function qW(t=Mn.visualDuration,e=Mn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:d,duration:f,velocity:g,isResolvedFromDuration:v}=Yle({...r,velocity:-Sc(r.velocity||0)}),y=g||0,x=u/(2*Math.sqrt(c*d)),_=o-s,S=Sc(Math.sqrt(c/d)),C=Math.abs(_)<5;n||(n=C?Mn.restSpeed.granular:Mn.restSpeed.default),i||(i=C?Mn.restDelta.granular:Mn.restDelta.default);let N;if(x<1){const E=fA(S,x);N=k=>{const O=Math.exp(-x*S*k);return o-O*((y+x*S*_)/E*Math.sin(E*k)+_*Math.cos(E*k))}}else if(x===1)N=E=>o-Math.exp(-S*E)*(_+(y+S*_)*E);else{const E=S*Math.sqrt(x*x-1);N=k=>{const O=Math.exp(-x*S*k),I=Math.min(E*k,300);return o-O*((y+x*S*_)*Math.sinh(I)+E*_*Math.cosh(I))/E}}const A={calculatedDuration:v&&f||null,next:E=>{const k=N(E);if(v)l.done=E>=f;else{let O=0;x<1&&(O=E===0?_c(y):zW(N,E,k));const I=Math.abs(O)<=n,z=Math.abs(o-k)<=i;l.done=I&&z}return l.value=l.done?o:k,l},toString:()=>{const E=Math.min(aW(A),iA),k=oW(O=>A.next(E*O).value,E,30);return E+"ms "+k}};return A}function m$({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:d}){const f=t[0],g={done:!1,value:f},v=I=>l!==void 0&&I<l||c!==void 0&&I>c,y=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let x=r*e;const _=f+x,S=o===void 0?_:o(_);S!==_&&(x=S-f);const C=I=>-x*Math.exp(-I/n),N=I=>S+C(I),A=I=>{const z=C(I),W=N(I);g.done=Math.abs(z)<=u,g.value=g.done?S:W};let E,k;const O=I=>{v(g.value)&&(E=I,k=qW({keyframes:[g.value,y(g.value)],velocity:zW(N,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return O(0),{calculatedDuration:null,next:I=>{let z=!1;return!k&&E===void 0&&(z=!0,A(I),O(I)),E!==void 0&&I>=E?k.next(I-E):(!z&&A(I),g)}}}const Xle=Hy(.42,0,1,1),Jle=Hy(0,0,.58,1),UW=Hy(.42,0,.58,1),Qle=t=>Array.isArray(t)&&typeof t[0]!="number",ece={linear:ha,easeIn:Xle,easeInOut:UW,easeOut:Jle,circIn:zR,circInOut:SW,circOut:_W,backIn:BR,backInOut:bW,backOut:xW,anticipate:wW},g$=t=>{if(IR(t)){B7(t.length===4);const[e,r,n,i]=t;return Hy(e,r,n,i)}else if(typeof t=="string")return ece[t];return t};function tce(t,e,r){const n=[],i=r||BW,s=t.length-1;for(let o=0;o<s;o++){let l=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||ha:e;l=Ky(c,l)}n.push(l)}return n}function rce(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(B7(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=tce(e,n,i),c=l.length,u=d=>{if(o&&d<t[0])return e[0];let f=0;if(c>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const g=Ip(t[f],t[f+1],d);return l[f](g)};return r?d=>u(Mc(t[0],t[s-1],d)):u}function nce(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=Ip(0,e,n);t.push(Pn(r,1,i))}}function ice(t){const e=[0];return nce(e,t.length-1),e}function sce(t,e){return t.map(r=>r*e)}function ace(t,e){return t.map(()=>e||UW).splice(0,t.length-1)}function iw({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=Qle(n)?n.map(g$):g$(n),s={done:!1,value:e[0]},o=sce(r&&r.length===e.length?r:ice(e),t),l=rce(o,e,{ease:Array.isArray(i)?i:ace(e,i)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const oce=t=>{const e=({timestamp:r})=>t(r);return{start:()=>xn.update(e,!0),stop:()=>fd(e),now:()=>Li.isProcessing?Li.timestamp:gl.now()}},lce={decay:m$,inertia:m$,tween:iw,keyframes:iw,spring:qW},cce=t=>t/100;class KR extends $W{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:r,motionValue:n,element:i,keyframes:s}=this.options,o=i?.KeyframeResolver||WR,l=(c,u)=>this.onKeyframesResolved(c,u);this.resolver=new o(s,l,r,n,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:r="keyframes",repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,l=MR(r)?r:lce[r]||iw;let c,u;l!==iw&&typeof e[0]!="number"&&(c=Ky(cce,BW(e[0],e[1])),e=[0,100]);const d=l({...this.options,keyframes:e});s==="mirror"&&(u=l({...this.options,keyframes:[...e].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=aW(d));const{calculatedDuration:f}=d,g=f+i,v=g*(n+1)-i;return{generator:d,mirroredGenerator:u,mapPercentToKeyframes:c,calculatedDuration:f,resolvedDuration:g,totalDuration:v}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,r=!1){const{resolved:n}=this;if(!n){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:l,keyframes:c,calculatedDuration:u,totalDuration:d,resolvedDuration:f}=n;if(this.startTime===null)return s.next(0);const{delay:g,repeat:v,repeatType:y,repeatDelay:x,onUpdate:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-d/this.speed,this.startTime)),r?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const S=this.currentTime-g*(this.speed>=0?1:-1),C=this.speed>=0?S<0:S>d;this.currentTime=Math.max(S,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=d);let N=this.currentTime,A=s;if(v){const I=Math.min(this.currentTime,d)/f;let z=Math.floor(I),W=I%1;!W&&I>=1&&(W=1),W===1&&z--,z=Math.min(z,v+1),!!(z%2)&&(y==="reverse"?(W=1-W,x&&(W-=x/f)):y==="mirror"&&(A=o)),N=Mc(0,1,W)*f}const E=C?{done:!1,value:c[0]}:A.next(N);l&&(E.value=l(E.value));let{done:k}=E;!C&&u!==null&&(k=this.speed>=0?this.currentTime>=d:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return O&&i!==void 0&&(E.value=Y_(c,this.options,i)),_&&_(E.value),O&&this.finish(),E}get duration(){const{resolved:e}=this;return e?Sc(e.calculatedDuration):0}get time(){return Sc(this.currentTime)}set time(e){e=_c(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Sc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=oce,onPlay:r,startTime:n}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),r&&r();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const uce=new Set(["opacity","clipPath","filter","transform"]);function dce(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:l="easeInOut",times:c}={}){const u={[e]:r};c&&(u.offset=c);const d=cW(l,i);return Array.isArray(d)&&(u.easing=d),t.animate(u,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const fce=xR(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sw=10,hce=2e4;function pce(t){return MR(t.type)||t.type==="spring"||!lW(t.ease)}function mce(t,e){const r=new KR({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:t[0]};const i=[];let s=0;for(;!n.done&&s<hce;)n=r.sample(s),i.push(n.value),s+=sw;return{times:void 0,keyframes:i,duration:s-sw,ease:"linear"}}const VW={anticipate:wW,backInOut:bW,circInOut:SW};function gce(t){return t in VW}class v$ extends $W{constructor(e){super(e);const{name:r,motionValue:n,element:i,keyframes:s}=this.options;this.resolver=new DW(s,(o,l)=>this.onKeyframesResolved(o,l),r,n,i),this.resolver.scheduleResolve()}initPlayback(e,r){let{duration:n=300,times:i,ease:s,type:o,motionValue:l,name:c,startTime:u}=this.options;if(!l.owner||!l.owner.current)return!1;if(typeof s=="string"&&rw()&&gce(s)&&(s=VW[s]),pce(this.options)){const{onComplete:f,onUpdate:g,motionValue:v,element:y,...x}=this.options,_=mce(e,x);e=_.keyframes,e.length===1&&(e[1]=e[0]),n=_.duration,i=_.times,s=_.ease,o="keyframes"}const d=dce(l.owner.current,c,e,{...this.options,duration:n,times:i,ease:s});return d.startTime=u??this.calcStartTime(),this.pendingTimeline?(t$(d,this.pendingTimeline),this.pendingTimeline=void 0):d.onfinish=()=>{const{onComplete:f}=this.options;l.set(Y_(e,this.options,r)),f&&f(),this.cancel(),this.resolveFinishedPromise()},{animation:d,duration:n,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:r}=e;return Sc(r)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:r}=e;return Sc(r.currentTime||0)}set time(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.currentTime=_c(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:r}=e;return r.playbackRate}set speed(e){const{resolved:r}=this;if(!r)return;const{animation:n}=r;n.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:r}=e;return r.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:r}=e;return r.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:r}=this;if(!r)return ha;const{animation:n}=r;t$(n,e)}return ha}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.playState==="finished"&&this.updateFinishedPromise(),r.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:r}=e;r.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:r,keyframes:n,duration:i,type:s,ease:o,times:l}=e;if(r.playState==="idle"||r.playState==="finished")return;if(this.time){const{motionValue:u,onUpdate:d,onComplete:f,element:g,...v}=this.options,y=new KR({...v,keyframes:n,duration:i,type:s,ease:o,times:l,isGenerator:!0}),x=_c(this.time);u.setWithVelocity(y.sample(x-sw).value,y.sample(x).value,sw)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:r,name:n,repeatDelay:i,repeatType:s,damping:o,type:l}=e;if(!r||!r.owner||!(r.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=r.owner.getProps();return fce()&&n&&uce.has(n)&&!c&&!u&&!i&&s!=="mirror"&&o!==0&&l!=="inertia"}}const vce={type:"spring",stiffness:500,damping:25,restSpeed:10},yce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),xce={type:"keyframes",duration:.8},bce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},wce=(t,{keyframes:e})=>e.length>2?xce:Kf.has(t)?t.startsWith("scale")?yce(e[1]):vce:bce;function _ce({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...d}){return!!Object.keys(d).length}const GR=(t,e,r,n={},i,s)=>o=>{const l=RR(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-_c(c);let d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:i};_ce(l)||(d={...d,...wce(t,d)}),d.duration&&(d.duration=_c(d.duration)),d.repeatDelay&&(d.repeatDelay=_c(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(d.duration=0,d.delay===0&&(f=!0)),f&&!s&&e.get()!==void 0){const g=Y_(d.keyframes,l);if(g!==void 0)return xn.update(()=>{d.onUpdate(g),d.onComplete()}),new zoe([])}return!s&&v$.supports(d)?new v$(d):new KR(d)};function Sce({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function WW(t,e,{delay:r=0,transitionOverride:n,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:l,...c}=e;n&&(o=n);const u=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const f in c){const g=t.getValue(f,(s=t.latestValues[f])!==null&&s!==void 0?s:null),v=c[f];if(v===void 0||d&&Sce(d,f))continue;const y={delay:r,...RR(o||{},f)};let x=!1;if(window.MotionHandoffAnimation){const S=mW(t);if(S){const C=window.MotionHandoffAnimation(S,f,xn);C!==null&&(y.startTime=C,x=!0)}}aA(t,f),g.start(GR(f,g,v,t.shouldReduceMotion&&hW.has(f)?{type:!1}:y,t,x));const _=g.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{xn.update(()=>{l&&tle(t,l)})}),u}function hA(t,e,r={}){var n;const i=Z_(t,e,r.type==="exit"?(n=t.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};r.transitionOverride&&(s=r.transitionOverride);const o=i?()=>Promise.all(WW(t,i,r)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:g}=s;return jce(t,e,d+u,f,g,r)}:()=>Promise.resolve(),{when:c}=s;if(c){const[u,d]=c==="beforeChildren"?[o,l]:[l,o];return u().then(()=>d())}else return Promise.all([o(),l(r.delay)])}function jce(t,e,r=0,n=0,i=1,s){const o=[],l=(t.variantChildren.size-1)*n,c=i===1?(u=0)=>u*n:(u=0)=>l-u*n;return Array.from(t.variantChildren).sort(Cce).forEach((u,d)=>{u.notify("AnimationStart",e),o.push(hA(u,e,{...s,delay:r+c(d)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function Cce(t,e){return t.sortNodePosition(e)}function Nce(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>hA(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=hA(t,e,r);else{const i=typeof e=="function"?Z_(t,e,r.custom):e;n=Promise.all(WW(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}const Ece=wR.length;function HW(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?HW(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Ece;r++){const n=wR[r],i=t.props[n];(Fv(i)||i===!1)&&(e[n]=i)}return e}const Pce=[...bR].reverse(),kce=bR.length;function Ace(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Nce(t,r,n)))}function Tce(t){let e=Ace(t),r=y$(),n=!0;const i=c=>(u,d)=>{var f;const g=Z_(t,d,c==="exit"?(f=t.presenceContext)===null||f===void 0?void 0:f.custom:void 0);if(g){const{transition:v,transitionEnd:y,...x}=g;u={...u,...x,...y}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,d=HW(t.parent)||{},f=[],g=new Set;let v={},y=1/0;for(let _=0;_<kce;_++){const S=Pce[_],C=r[S],N=u[S]!==void 0?u[S]:d[S],A=Fv(N),E=S===c?C.isActive:null;E===!1&&(y=_);let k=N===d[S]&&N!==u[S]&&A;if(k&&n&&t.manuallyAnimateOnMount&&(k=!1),C.protectedKeys={...v},!C.isActive&&E===null||!N&&!C.prevProp||K_(N)||typeof N=="boolean")continue;const O=Oce(C.prevProp,N);let I=O||S===c&&C.isActive&&!k&&A||_>y&&A,z=!1;const W=Array.isArray(N)?N:[N];let V=W.reduce(i(S),{});E===!1&&(V={});const{prevResolvedValues:q={}}=C,F={...q,...V},H=K=>{I=!0,g.has(K)&&(z=!0,g.delete(K)),C.needsAnimating[K]=!0;const te=t.getValue(K);te&&(te.liveStyle=!1)};for(const K in F){const te=V[K],Z=q[K];if(v.hasOwnProperty(K))continue;let se=!1;nA(te)&&nA(Z)?se=!sW(te,Z):se=te!==Z,se?te!=null?H(K):g.add(K):te!==void 0&&g.has(K)?H(K):C.protectedKeys[K]=!0}C.prevProp=N,C.prevResolvedValues=V,C.isActive&&(v={...v,...V}),n&&t.blockInitialAnimation&&(I=!1),I&&(!(k&&O)||z)&&f.push(...W.map(K=>({animation:K,options:{type:S}})))}if(g.size){const _={};g.forEach(S=>{const C=t.getBaseTarget(S),N=t.getValue(S);N&&(N.liveStyle=!0),_[S]=C??null}),f.push({animation:_})}let x=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),n=!1,x?e(f):Promise.resolve()}function l(c,u){var d;if(r[c].isActive===u)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(g=>{var v;return(v=g.animationState)===null||v===void 0?void 0:v.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=y$(),n=!0}}}function Oce(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!sW(e,t):!1}function ef(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function y$(){return{animate:ef(!0),whileInView:ef(),whileHover:ef(),whileTap:ef(),whileDrag:ef(),whileFocus:ef(),exit:ef()}}class xd{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Rce extends xd{constructor(e){super(e),e.animationState||(e.animationState=Tce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();K_(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Mce=0;class Ice extends xd{constructor(){super(...arguments),this.id=Mce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Lce={animation:{Feature:Rce},exit:{Feature:Ice}};function Uv(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Gy(t){return{point:{x:t.pageX,y:t.pageY}}}const Dce=t=>e=>LR(e)&&t(e,Gy(e));function bv(t,e,r,n){return Uv(t,e,Dce(r),n)}const x$=(t,e)=>Math.abs(t-e);function $ce(t,e){const r=x$(t.x,e.x),n=x$(t.y,e.y);return Math.sqrt(r**2+n**2)}class KW{constructor(e,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=Vj(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=$ce(f.offset,{x:0,y:0})>=3;if(!g&&!v)return;const{point:y}=f,{timestamp:x}=Li;this.history.push({...y,timestamp:x});const{onStart:_,onMove:S}=this.handlers;g||(_&&_(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),S&&S(this.lastMoveEvent,f)},this.handlePointerMove=(f,g)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=Uj(g,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(f,g)=>{this.end();const{onEnd:v,onSessionEnd:y,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Vj(f.type==="pointercancel"?this.lastMoveEventInfo:Uj(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(f,_),y&&y(f,_)},!LR(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const o=Gy(e),l=Uj(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=Li;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=r;d&&d(e,Vj(l,this.history)),this.removeListeners=Ky(bv(this.contextWindow,"pointermove",this.handlePointerMove),bv(this.contextWindow,"pointerup",this.handlePointerUp),bv(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),fd(this.updatePoint)}}function Uj(t,e){return e?{point:e(t.point)}:t}function b$(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vj({point:t},e){return{point:t,delta:b$(t,GW(e)),offset:b$(t,Fce(e)),velocity:Bce(e,.1)}}function Fce(t){return t[0]}function GW(t){return t[t.length-1]}function Bce(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=GW(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>_c(e)));)r--;if(!n)return{x:0,y:0};const s=Sc(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const ZW=1e-4,zce=1-ZW,qce=1+ZW,YW=.01,Uce=0-YW,Vce=0+YW;function va(t){return t.max-t.min}function Wce(t,e,r){return Math.abs(t-e)<=r}function w$(t,e,r,n=.5){t.origin=n,t.originPoint=Pn(e.min,e.max,t.origin),t.scale=va(r)/va(e),t.translate=Pn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=zce&&t.scale<=qce||isNaN(t.scale))&&(t.scale=1),(t.translate>=Uce&&t.translate<=Vce||isNaN(t.translate))&&(t.translate=0)}function wv(t,e,r,n){w$(t.x,e.x,r.x,n?n.originX:void 0),w$(t.y,e.y,r.y,n?n.originY:void 0)}function _$(t,e,r){t.min=r.min+e.min,t.max=t.min+va(e)}function Hce(t,e,r){_$(t.x,e.x,r.x),_$(t.y,e.y,r.y)}function S$(t,e,r){t.min=e.min-r.min,t.max=t.min+va(e)}function _v(t,e,r){S$(t.x,e.x,r.x),S$(t.y,e.y,r.y)}function Kce(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?Pn(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?Pn(r,t,n.max):Math.min(t,r)),t}function j$(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Gce(t,{top:e,left:r,bottom:n,right:i}){return{x:j$(t.x,r,i),y:j$(t.y,e,n)}}function C$(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function Zce(t,e){return{x:C$(t.x,e.x),y:C$(t.y,e.y)}}function Yce(t,e){let r=.5;const n=va(t),i=va(e);return i>n?r=Ip(e.min,e.max-n,t.min):n>i&&(r=Ip(t.min,t.max-i,e.min)),Mc(0,1,r)}function Xce(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const pA=.35;function Jce(t=pA){return t===!1?t=0:t===!0&&(t=pA),{x:N$(t,"left","right"),y:N$(t,"top","bottom")}}function N$(t,e,r){return{min:E$(t,e),max:E$(t,r)}}function E$(t,e){return typeof t=="number"?t:t[e]||0}const P$=()=>({translate:0,scale:1,origin:0,originPoint:0}),vp=()=>({x:P$(),y:P$()}),k$=()=>({min:0,max:0}),zn=()=>({x:k$(),y:k$()});function za(t){return[t("x"),t("y")]}function XW({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Qce({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function eue(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Wj(t){return t===void 0||t===1}function mA({scale:t,scaleX:e,scaleY:r}){return!Wj(t)||!Wj(e)||!Wj(r)}function sf(t){return mA(t)||JW(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function JW(t){return A$(t.x)||A$(t.y)}function A$(t){return t&&t!=="0%"}function aw(t,e,r){const n=t-r,i=e*n;return r+i}function T$(t,e,r,n,i){return i!==void 0&&(t=aw(t,i,n)),aw(t,r,n)+e}function gA(t,e=0,r=1,n,i){t.min=T$(t.min,e,r,n,i),t.max=T$(t.max,e,r,n,i)}function QW(t,{x:e,y:r}){gA(t.x,e.translate,e.scale,e.originPoint),gA(t.y,r.translate,r.scale,r.originPoint)}const O$=.999999999999,R$=1.0000000000001;function tue(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let l=0;l<i;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&xp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,QW(t,o)),n&&sf(s.latestValues)&&xp(t,s.latestValues))}e.x<R$&&e.x>O$&&(e.x=1),e.y<R$&&e.y>O$&&(e.y=1)}function yp(t,e){t.min=t.min+e,t.max=t.max+e}function M$(t,e,r,n,i=.5){const s=Pn(t.min,t.max,i);gA(t,e,r,s,n)}function xp(t,e){M$(t.x,e.x,e.scaleX,e.scale,e.originX),M$(t.y,e.y,e.scaleY,e.scale,e.originY)}function eH(t,e){return XW(eue(t.getBoundingClientRect(),e))}function rue(t,e,r){const n=eH(t,r),{scroll:i}=e;return i&&(yp(n.x,i.offset.x),yp(n.y,i.offset.y)),n}const tH=({current:t})=>t?t.ownerDocument.defaultView:null,nue=new WeakMap;class iue{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=zn(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Gy(d).point)},s=(d,f)=>{const{drag:g,dragPropagation:v,onDragStart:y}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Yoe(g),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),za(_=>{let S=this.getAxisMotionValue(_).get()||0;if(ml.test(S)){const{projection:C}=this.visualElement;if(C&&C.layout){const N=C.layout.layoutBox[_];N&&(S=va(N)*(parseFloat(S)/100))}}this.originPoint[_]=S}),y&&xn.postRender(()=>y(d,f)),aA(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},o=(d,f)=>{const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:y,onDrag:x}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:_}=f;if(v&&this.currentDirection===null){this.currentDirection=sue(_),this.currentDirection!==null&&y&&y(this.currentDirection);return}this.updateAxis("x",f.point,_),this.updateAxis("y",f.point,_),this.visualElement.render(),x&&x(d,f)},l=(d,f)=>this.stop(d,f),c=()=>za(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new KW(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:tH(this.visualElement)})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&xn.postRender(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!B0(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=Kce(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;r&&mp(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Gce(i.layoutBox,r):this.constraints=!1,this.elastic=Jce(n),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&za(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Xce(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!mp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=rue(n,i.root,this.visualElement.getTransformPagePoint());let o=Zce(i.layout.layoutBox,s);if(r){const l=r(Qce(o));this.hasMutatedConstraints=!!l,l&&(o=XW(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=za(d=>{if(!B0(d,r,this.currentDirection))return;let f=c&&c[d]||{};o&&(f={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,y={type:"inertia",velocity:n?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,y)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return aA(this.visualElement,e),n.start(GR(e,n,0,r,this.visualElement,!1))}stopAnimation(){za(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){za(e=>{var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){za(r=>{const{drag:n}=this.getProps();if(!B0(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:l}=i.layout.layoutBox[r];s.set(e[r]-Pn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!mp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};za(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();i[o]=Yce({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),za(o=>{if(!B0(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(Pn(c,u,i[o]))})}addListeners(){if(!this.visualElement.current)return;nue.set(this.visualElement,this);const e=this.visualElement.current,r=bv(e,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();mp(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),xn.read(n);const o=Uv(window,"resize",()=>this.scalePositionWithinConstraints()),l=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(za(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=pA,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function B0(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function sue(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class aue extends xd{constructor(e){super(e),this.removeGroupControls=ha,this.removeListeners=ha,this.controls=new iue(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ha}unmount(){this.removeGroupControls(),this.removeListeners()}}const I$=t=>(e,r)=>{t&&xn.postRender(()=>t(e,r))};class oue extends xd{constructor(){super(...arguments),this.removePointerDownListener=ha}onPointerDown(e){this.session=new KW(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:tH(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:I$(e),onStart:I$(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&xn.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=bv(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ib={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function L$(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tg={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Bt.test(t))t=parseFloat(t);else return t;const r=L$(t,e.target.x),n=L$(t,e.target.y);return`${r}% ${n}%`}},lue={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=hd.parse(t);if(i.length>5)return n;const s=hd.createTransformer(t),o=typeof i[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;i[0+o]/=l,i[1+o]/=c;const u=Pn(l,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=u),typeof i[3+o]=="number"&&(i[3+o]/=u),s(i)}};class cue extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;koe(uue),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Ib.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||xn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),SR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function rH(t){const[e,r]=$7(),n=b.useContext(mR);return a.jsx(cue,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(H7),isPresent:e,safeToRemove:r})}const uue={borderRadius:{...Tg,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tg,borderTopRightRadius:Tg,borderBottomLeftRadius:Tg,borderBottomRightRadius:Tg,boxShadow:lue};function due(t,e,r){const n=rs(t)?t:zv(t);return n.start(GR("",n,e,r)),n.animation}function fue(t){return t instanceof SVGElement&&t.tagName!=="svg"}const hue=(t,e)=>t.depth-e.depth;class pue{constructor(){this.children=[],this.isDirty=!1}add(e){DR(this.children,e),this.isDirty=!0}remove(e){$R(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hue),this.isDirty=!1,this.children.forEach(e)}}function mue(t,e){const r=gl.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(fd(n),t(s-e))};return xn.read(n,!0),()=>fd(n)}const nH=["TopLeft","TopRight","BottomLeft","BottomRight"],gue=nH.length,D$=t=>typeof t=="string"?parseFloat(t):t,$$=t=>typeof t=="number"||Bt.test(t);function vue(t,e,r,n,i,s){i?(t.opacity=Pn(0,r.opacity!==void 0?r.opacity:1,yue(n)),t.opacityExit=Pn(e.opacity!==void 0?e.opacity:1,0,xue(n))):s&&(t.opacity=Pn(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<gue;o++){const l=`border${nH[o]}Radius`;let c=F$(e,l),u=F$(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||$$(c)===$$(u)?(t[l]=Math.max(Pn(D$(c),D$(u),n),0),(ml.test(u)||ml.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=Pn(e.rotate||0,r.rotate||0,n))}function F$(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const yue=iH(0,.5,_W),xue=iH(.5,.95,ha);function iH(t,e,r){return n=>n<t?0:n>e?1:r(Ip(t,e,n))}function B$(t,e){t.min=e.min,t.max=e.max}function La(t,e){B$(t.x,e.x),B$(t.y,e.y)}function z$(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function q$(t,e,r,n,i){return t-=e,t=aw(t,1/r,n),i!==void 0&&(t=aw(t,1/i,n)),t}function bue(t,e=0,r=1,n=.5,i,s=t,o=t){if(ml.test(e)&&(e=parseFloat(e),e=Pn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=Pn(s.min,s.max,n);t===s&&(l-=e),t.min=q$(t.min,e,r,l,i),t.max=q$(t.max,e,r,l,i)}function U$(t,e,[r,n,i],s,o){bue(t,e[r],e[n],e[i],e.scale,s,o)}const wue=["x","scaleX","originX"],_ue=["y","scaleY","originY"];function V$(t,e,r,n){U$(t.x,e,wue,r?r.x:void 0,n?n.x:void 0),U$(t.y,e,_ue,r?r.y:void 0,n?n.y:void 0)}function W$(t){return t.translate===0&&t.scale===1}function sH(t){return W$(t.x)&&W$(t.y)}function H$(t,e){return t.min===e.min&&t.max===e.max}function Sue(t,e){return H$(t.x,e.x)&&H$(t.y,e.y)}function K$(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function aH(t,e){return K$(t.x,e.x)&&K$(t.y,e.y)}function G$(t){return va(t.x)/va(t.y)}function Z$(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class jue{constructor(){this.members=[]}add(e){DR(this.members,e),e.scheduleRender()}remove(e){if($R(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Cue(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=r?.z||0;if((i||s||o)&&(n=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:g,skewX:v,skewY:y}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),y&&(n+=`skewY(${y}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const af={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},sv=typeof window<"u"&&window.MotionDebug!==void 0,Hj=["","X","Y","Z"],Nue={visibility:"hidden"},Y$=1e3;let Eue=0;function Kj(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function oH(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=mW(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",xn,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&oH(n)}function lH({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(o={},l=e?.()){this.id=Eue++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,sv&&(af.totalNodes=af.resolvedTargetDeltas=af.recalculatedProjection=0),this.nodes.forEach(Aue),this.nodes.forEach(Iue),this.nodes.forEach(Lue),this.nodes.forEach(Tue),sv&&window.MotionDebug.record(af)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new pue)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new FR),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,l=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=fue(o),this.instance=o;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),l&&(u||c)&&(this.isLayoutDirty=!0),t){let f;const g=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=mue(g,250),Ib.hasAnimatedSinceResize&&(Ib.hasAnimatedSinceResize=!1,this.nodes.forEach(J$))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:g,hasRelativeTargetChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||zue,{onLayoutAnimationStart:_,onLayoutAnimationComplete:S}=d.getProps(),C=!this.targetLayout||!aH(this.targetLayout,y)||v,N=!g&&v;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||g&&(C||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,N);const A={...RR(x,"layout"),onPlay:_,onComplete:S};(d.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else g||J$(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,fd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Due),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&oH(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X$);return}this.isUpdating||this.nodes.forEach(Rue),this.isUpdating=!1,this.nodes.forEach(Mue),this.nodes.forEach(Pue),this.nodes.forEach(kue),this.clearAllSnapshots();const l=gl.now();Li.delta=Mc(0,1e3/60,l-Li.timestamp),Li.timestamp=l,Li.isProcessing=!0,Dj.update.process(Li),Dj.preRender.process(Li),Dj.render.process(Li),Li.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,SR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Oue),this.sharedNodes.forEach($ue)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=zn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!sH(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;o&&(l||sf(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),que(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:l}=this.options;if(!l)return zn();const c=l.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(Uue))){const{scroll:d}=this.root;d&&(yp(c.x,d.offset.x),yp(c.y,d.offset.y))}return c}removeElementScroll(o){var l;const c=zn();if(La(c,o),!((l=this.scroll)===null||l===void 0)&&l.wasRoot)return c;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:g}=d;d!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&La(c,o),yp(c.x,f.offset.x),yp(c.y,f.offset.y))}return c}applyTransform(o,l=!1){const c=zn();La(c,o);for(let u=0;u<this.path.length;u++){const d=this.path[u];!l&&d.options.layoutScroll&&d.scroll&&d!==d.root&&xp(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),sf(d.latestValues)&&xp(c,d.latestValues)}return sf(this.latestValues)&&xp(c,this.latestValues),c}removeTransform(o){const l=zn();La(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!sf(u.latestValues))continue;mA(u.latestValues)&&u.updateSnapshot();const d=zn(),f=u.measurePageBox();La(d,f),V$(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return sf(this.latestValues)&&V$(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Li.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var l;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(o||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:g}=this.options;if(!(!this.layout||!(f||g))){if(this.resolvedRelativeTargetAt=Li.timestamp,!this.targetDelta&&!this.relativeTarget){const v=this.getClosestProjectingParent();v&&v.layout&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zn(),this.relativeTargetOrigin=zn(),_v(this.relativeTargetOrigin,this.layout.layoutBox,v.layout.layoutBox),La(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=zn(),this.targetWithTransforms=zn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Hce(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):La(this.target,this.layout.layoutBox),QW(this.target,this.targetDelta)):La(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const v=this.getClosestProjectingParent();v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?(this.relativeParent=v,this.forceRelativeParentToResolveTarget(),this.relativeTarget=zn(),this.relativeTargetOrigin=zn(),_v(this.relativeTargetOrigin,this.target,v.target),La(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}sv&&af.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||mA(this.parent.latestValues)||JW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const l=this.getLead(),c=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Li.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;La(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,v=this.treeScale.y;tue(this.layoutCorrected,this.treeScale,this.path,c),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=zn());const{target:y}=l;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(z$(this.prevProjectionDelta.x,this.projectionDelta.x),z$(this.prevProjectionDelta.y,this.projectionDelta.y)),wv(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==v||!Z$(this.projectionDelta.x,this.prevProjectionDelta.x)||!Z$(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y)),sv&&af.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)===null||l===void 0||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=vp(),this.projectionDelta=vp(),this.projectionDeltaWithTransform=vp()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=vp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=zn(),v=c?c.source:void 0,y=this.layout?this.layout.source:void 0,x=v!==y,_=this.getStack(),S=!_||_.members.length<=1,C=!!(x&&!S&&this.options.crossfade===!0&&!this.path.some(Bue));this.animationProgress=0;let N;this.mixTargetDelta=A=>{const E=A/1e3;Q$(f.x,o.x,E),Q$(f.y,o.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(_v(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Fue(this.relativeTarget,this.relativeTargetOrigin,g,E),N&&Sue(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=zn()),La(N,this.relativeTarget)),x&&(this.animationValues=d,vue(d,u,this.latestValues,E,C,S)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(fd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{Ib.hasAnimatedSinceResize=!0,this.currentAnimation=due(0,Y$,{...o,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Y$),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:d}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&cH(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||zn();const f=va(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+f;const g=va(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}La(l,c),xp(l,d),wv(this.projectionDeltaWithTransform,this.layoutCorrected,l,d)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new jue),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:l}=this.options;return l?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:l}=this.options;return l?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&Kj("z",o,u,this.animationValues);for(let d=0;d<Hj.length;d++)Kj(`rotate${Hj[d]}`,o,u,this.animationValues),Kj(`skew${Hj[d]}`,o,u,this.animationValues);o.render();for(const d in u)o.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);o.scheduleRender()}getProjectionStyles(o){var l,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Nue;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=Rb(o?.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=Rb(o?.pointerEvents)||""),this.hasProjected&&!sf(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const g=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=Cue(this.projectionDeltaWithTransform,this.treeScale,g),d&&(u.transform=d(g,u.transform));const{x:v,y}=this.projectionDelta;u.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(l=g.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:u.opacity=f===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const x in tw){if(g[x]===void 0)continue;const{correct:_,applyTo:S}=tw[x],C=u.transform==="none"?g[x]:_(g[x],f);if(S){const N=S.length;for(let A=0;A<N;A++)u[S[A]]=C}else u[x]=C}return this.options.layoutId&&(u.pointerEvents=f===this?Rb(o?.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)===null||l===void 0?void 0:l.stop()}),this.root.nodes.forEach(X$),this.root.sharedNodes.clear()}}}function Pue(t){t.updateLayout()}function kue(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?za(f=>{const g=o?r.measuredBox[f]:r.layoutBox[f],v=va(g);g.min=n[f].min,g.max=g.min+v}):cH(s,r.layoutBox,n)&&za(f=>{const g=o?r.measuredBox[f]:r.layoutBox[f],v=va(n[f]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const l=vp();wv(l,n,r.layoutBox);const c=vp();o?wv(c,t.applyTransform(i,!0),r.measuredBox):wv(c,n,r.layoutBox);const u=!sH(l);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:v}=f;if(g&&v){const y=zn();_v(y,r.layoutBox,g.layoutBox);const x=zn();_v(x,n,v.layoutBox),aH(y,x)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=y,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Aue(t){sv&&af.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Tue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Oue(t){t.clearSnapshot()}function X$(t){t.clearMeasurements()}function Rue(t){t.isLayoutDirty=!1}function Mue(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function J$(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Iue(t){t.resolveTargetDelta()}function Lue(t){t.calcProjection()}function Due(t){t.resetSkewAndRotation()}function $ue(t){t.removeLeadSnapshot()}function Q$(t,e,r){t.translate=Pn(e.translate,0,r),t.scale=Pn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function e3(t,e,r,n){t.min=Pn(e.min,r.min,n),t.max=Pn(e.max,r.max,n)}function Fue(t,e,r,n){e3(t.x,e.x,r.x,n),e3(t.y,e.y,r.y,n)}function Bue(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zue={duration:.45,ease:[.4,0,.1,1]},t3=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),r3=t3("applewebkit/")&&!t3("chrome/")?Math.round:ha;function n3(t){t.min=r3(t.min),t.max=r3(t.max)}function que(t){n3(t.x),n3(t.y)}function cH(t,e,r){return t==="position"||t==="preserve-aspect"&&!Wce(G$(e),G$(r),.2)}function Uue(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const Vue=lH({attachResizeListener:(t,e)=>Uv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Gj={current:void 0},uH=lH({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Gj.current){const t=new Vue({});t.mount(window),t.setOptions({layoutScroll:!0}),Gj.current=t}return Gj.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wue={pan:{Feature:oue},drag:{Feature:aue,ProjectionNode:uH,MeasureLayout:rH}};function i3(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&xn.postRender(()=>s(e,Gy(e)))}class Hue extends xd{mount(){const{current:e}=this.node;e&&(this.unmount=Woe(e,r=>(i3(this.node,r,"Start"),n=>i3(this.node,n,"End"))))}unmount(){}}class Kue extends xd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ky(Uv(this.node.current,"focus",()=>this.onFocus()),Uv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function s3(t,e,r){const{props:n}=t;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&xn.postRender(()=>s(e,Gy(e)))}class Gue extends xd{mount(){const{current:e}=this.node;e&&(this.unmount=Zoe(e,r=>(s3(this.node,r,"Start"),(n,{success:i})=>s3(this.node,n,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const vA=new WeakMap,Zj=new WeakMap,Zue=t=>{const e=vA.get(t.target);e&&e(t)},Yue=t=>{t.forEach(Zue)};function Xue({root:t,...e}){const r=t||document;Zj.has(r)||Zj.set(r,{});const n=Zj.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Yue,{root:t,...e})),n[i]}function Jue(t,e,r){const n=Xue(e);return vA.set(t,r),n.observe(t),()=>{vA.delete(t),n.unobserve(t)}}const Que={some:0,all:1};class ede extends xd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Que[i]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),g=u?d:f;g&&g(c)};return Jue(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(tde(e,r))&&this.startObserver()}unmount(){}}function tde({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const rde={inView:{Feature:ede},tap:{Feature:Gue},focus:{Feature:Kue},hover:{Feature:Hue}},nde={layout:{ProjectionNode:uH,MeasureLayout:rH}},yA={current:null},dH={current:!1};function ide(){if(dH.current=!0,!!yR)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>yA.current=t.matches;t.addListener(e),e()}else yA.current=!1}const sde=[...LW,Xi,hd],ade=t=>sde.find(IW(t)),a3=new WeakMap;function ode(t,e,r){for(const n in e){const i=e[n],s=r[n];if(rs(i))t.addValue(n,i);else if(rs(s))t.addValue(n,zv(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(n);t.addValue(n,zv(o!==void 0?o:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const o3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class lde{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=WR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=gl.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,xn.render(this.render,!1,!0))};const{latestValues:c,renderState:u,onUpdate:d}=o;this.onUpdate=d,this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=G_(r),this.isVariantNode=V7(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...g}=this.scrapeMotionValuesFromProps(r,{},this);for(const v in g){const y=g[v];c[v]!==void 0&&rs(y)&&y.set(c[v],!1)}}mount(e){this.current=e,a3.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),dH.current||ide(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:yA.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){a3.delete(this.current),this.projection&&this.projection.unmount(),fd(this.notifyUpdate),fd(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Kf.has(e),i=r.on("change",l=>{this.latestValues[e]=l,this.props.onUpdate&&xn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Lp){const r=Lp[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):zn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<o3.length;n++){const i=o3[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=ode(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=zv(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){var n;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(RW(i)||jW(i))?i=parseFloat(i):!ade(i)&&hd.test(r)&&(i=AW(e,r)),this.setBaseTarget(e,rs(i)?i.get():i)),rs(i)?i.get():i}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props;let i;if(typeof n=="string"||typeof n=="object"){const o=CR(this.props,n,(r=this.presenceContext)===null||r===void 0?void 0:r.custom);o&&(i=o[e])}if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!rs(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new FR),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class fH extends lde{constructor(){super(...arguments),this.KeyframeResolver=DW}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;rs(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function cde(t){return window.getComputedStyle(t)}class ude extends fH{constructor(){super(...arguments),this.type="html",this.renderInstance=Q7}readValueFromInstance(e,r){if(Kf.has(r)){const n=VR(r);return n&&n.default||0}else{const n=cde(e),i=(Y7(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return eH(e,r)}build(e,r,n){PR(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return OR(e,r,n)}}class dde extends fH{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=zn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Kf.has(r)){const n=VR(r);return n&&n.default||0}return r=eW.has(r)?r:_R(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return nW(e,r,n)}build(e,r,n){kR(e,r,this.isSVGTag,n.transformTemplate)}renderInstance(e,r,n,i){tW(e,r,n,i)}mount(e){this.isSVGTag=TR(e.tagName),super.mount(e)}}const fde=(t,e)=>jR(t)?new dde(e):new ude(e,{allowProjection:t!==b.Fragment}),hde=$oe({...Lce,...rde,...Wue,...nde},fde),ze=Qae(hde),pde=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vy(async()=>{const{default:n}=await Promise.resolve().then(()=>km);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ZR extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class mde extends ZR{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class l3 extends ZR{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class c3 extends ZR{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xA;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xA||(xA={}));var gde=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class vde{constructor(e,{headers:r={},customFetch:n,region:i=xA.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=pde(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return gde(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:o}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const f=yield this.fetch(u.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),i),body:d}).catch(x=>{throw new mde(x)}),g=f.headers.get("x-relay-error");if(g&&g==="true")throw new l3(f);if(!f.ok)throw new c3(f);let v=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield f.json():v==="application/octet-stream"?y=yield f.blob():v==="text/event-stream"?y=f:v==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(i){return{data:null,error:i,response:i instanceof c3||i instanceof l3?i.context:void 0}}})}}var Si={},$h={},Fh={},Bh={},zh={},qh={},yde=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},$p=yde();const xde=$p.fetch,hH=$p.fetch.bind($p),pH=$p.Headers,bde=$p.Request,wde=$p.Response,km=Object.freeze(Object.defineProperty({__proto__:null,Headers:pH,Request:bde,Response:wde,default:hH,fetch:xde},Symbol.toStringTag,{value:"Module"})),_de=s7(km);var z0={},u3;function mH(){if(u3)return z0;u3=1,Object.defineProperty(z0,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return z0.default=t,z0}var d3;function gH(){if(d3)return qh;d3=1;var t=qh&&qh.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(qh,"__esModule",{value:!0});const e=t(_de),r=t(mH());class n{constructor(s){this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=s.headers,this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=s.shouldThrowOnError,this.signal=s.signal,this.isMaybeSingle=s.isMaybeSingle,s.fetch?this.fetch=s.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,o){return this.headers=Object.assign({},this.headers),this.headers[s]=o,this}then(s,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let c=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,g;let v=null,y=null,x=null,_=u.status,S=u.statusText;if(u.ok){if(this.method!=="HEAD"){const E=await u.text();E===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?y=E:y=JSON.parse(E))}const N=(d=this.headers.Prefer)===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),A=(f=u.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");N&&A&&A.length>1&&(x=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(y)&&(y.length>1?(v={code:"PGRST116",details:`Results contain ${y.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},y=null,x=null,_=406,S="Not Acceptable"):y.length===1?y=y[0]:y=null)}else{const N=await u.text();try{v=JSON.parse(N),Array.isArray(v)&&u.status===404&&(y=[],v=null,_=200,S="OK")}catch{u.status===404&&N===""?(_=204,S="No Content"):v={message:N}}if(v&&this.isMaybeSingle&&(!((g=v?.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,_=200,S="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:y,count:x,status:_,statusText:S}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,g;return{error:{message:`${(d=u?.name)!==null&&d!==void 0?d:"FetchError"}: ${u?.message}`,details:`${(f=u?.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(g=u?.code)!==null&&g!==void 0?g:""}`},data:null,count:null,status:0,statusText:""}})),c.then(s,o)}returns(){return this}overrideTypes(){return this}}return qh.default=n,qh}var f3;function vH(){if(f3)return zh;f3=1;var t=zh&&zh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(zh,"__esModule",{value:!0});const e=t(gH());class r extends e.default{select(i){let s=!1;const o=(i??"*").split("").map(l=>/\s/.test(l)&&!s?"":(l==='"'&&(s=!s),l)).join("");return this.url.searchParams.set("select",o),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(i,{ascending:s=!0,nullsFirst:o,foreignTable:l,referencedTable:c=l}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:o=s}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,s,{foreignTable:o,referencedTable:l=o}={}){const c=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(c,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:i=!1,verbose:s=!1,settings:o=!1,buffers:l=!1,wal:c=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,o?"settings":null,l?"buffers":null,c?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.Accept)!==null&&d!==void 0?d:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${g}"; options=${f};`,u==="json"?this:this}rollback(){var i;return((i=this.headers.Prefer)!==null&&i!==void 0?i:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return zh.default=r,zh}var h3;function YR(){if(h3)return Bh;h3=1;var t=Bh&&Bh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Bh,"__esModule",{value:!0});const e=t(vH());class r extends e.default{eq(i,s){return this.url.searchParams.append(i,`eq.${s}`),this}neq(i,s){return this.url.searchParams.append(i,`neq.${s}`),this}gt(i,s){return this.url.searchParams.append(i,`gt.${s}`),this}gte(i,s){return this.url.searchParams.append(i,`gte.${s}`),this}lt(i,s){return this.url.searchParams.append(i,`lt.${s}`),this}lte(i,s){return this.url.searchParams.append(i,`lte.${s}`),this}like(i,s){return this.url.searchParams.append(i,`like.${s}`),this}likeAllOf(i,s){return this.url.searchParams.append(i,`like(all).{${s.join(",")}}`),this}likeAnyOf(i,s){return this.url.searchParams.append(i,`like(any).{${s.join(",")}}`),this}ilike(i,s){return this.url.searchParams.append(i,`ilike.${s}`),this}ilikeAllOf(i,s){return this.url.searchParams.append(i,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(i,s){return this.url.searchParams.append(i,`ilike(any).{${s.join(",")}}`),this}is(i,s){return this.url.searchParams.append(i,`is.${s}`),this}in(i,s){const o=Array.from(new Set(s)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${o})`),this}contains(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cs.{${s.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(s)}`),this}containedBy(i,s){return typeof s=="string"?this.url.searchParams.append(i,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(i,`cd.{${s.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(s)}`),this}rangeGt(i,s){return this.url.searchParams.append(i,`sr.${s}`),this}rangeGte(i,s){return this.url.searchParams.append(i,`nxl.${s}`),this}rangeLt(i,s){return this.url.searchParams.append(i,`sl.${s}`),this}rangeLte(i,s){return this.url.searchParams.append(i,`nxr.${s}`),this}rangeAdjacent(i,s){return this.url.searchParams.append(i,`adj.${s}`),this}overlaps(i,s){return typeof s=="string"?this.url.searchParams.append(i,`ov.${s}`):this.url.searchParams.append(i,`ov.{${s.join(",")}}`),this}textSearch(i,s,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(i,`${c}fts${u}.${s}`),this}match(i){return Object.entries(i).forEach(([s,o])=>{this.url.searchParams.append(s,`eq.${o}`)}),this}not(i,s,o){return this.url.searchParams.append(i,`not.${s}.${o}`),this}or(i,{foreignTable:s,referencedTable:o=s}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,s,o){return this.url.searchParams.append(i,`${s}.${o}`),this}}return Bh.default=r,Bh}var p3;function yH(){if(p3)return Fh;p3=1;var t=Fh&&Fh.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Fh,"__esModule",{value:!0});const e=t(YR());class r{constructor(i,{headers:s={},schema:o,fetch:l}){this.url=i,this.headers=s,this.schema=o,this.fetch=l}select(i,{head:s=!1,count:o}={}){const l=s?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),o&&(this.headers.Prefer=`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(i,{count:s,defaultToNull:o=!0}={}){const l="POST",c=[];if(this.headers.Prefer&&c.push(this.headers.Prefer),s&&c.push(`count=${s}`),o||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}upsert(i,{onConflict:s,ignoreDuplicates:o=!1,count:l,defaultToNull:c=!0}={}){const u="POST",d=[`resolution=${o?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&d.push(this.headers.Prefer),l&&d.push(`count=${l}`),c||d.push("missing=default"),this.headers.Prefer=d.join(","),Array.isArray(i)){const f=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}update(i,{count:s}={}){const o="PATCH",l=[];return this.headers.Prefer&&l.push(this.headers.Prefer),s&&l.push(`count=${s}`),this.headers.Prefer=l.join(","),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:this.fetch,allowEmpty:!1})}delete({count:i}={}){const s="DELETE",o=[];return i&&o.push(`count=${i}`),this.headers.Prefer&&o.unshift(this.headers.Prefer),this.headers.Prefer=o.join(","),new e.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Fh.default=r,Fh}var Og={},Rg={},m3;function Sde(){return m3||(m3=1,Object.defineProperty(Rg,"__esModule",{value:!0}),Rg.version=void 0,Rg.version="0.0.0-automated"),Rg}var g3;function jde(){if(g3)return Og;g3=1,Object.defineProperty(Og,"__esModule",{value:!0}),Og.DEFAULT_HEADERS=void 0;const t=Sde();return Og.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${t.version}`},Og}var v3;function Cde(){if(v3)return $h;v3=1;var t=$h&&$h.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty($h,"__esModule",{value:!0});const e=t(yH()),r=t(YR()),n=jde();class i{constructor(o,{headers:l={},schema:c,fetch:u}={}){this.url=o,this.headers=Object.assign(Object.assign({},n.DEFAULT_HEADERS),l),this.schemaName=c,this.fetch=u}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new i(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:c=!1,get:u=!1,count:d}={}){let f;const g=new URL(`${this.url}/rpc/${o}`);let v;c||u?(f=c?"HEAD":"GET",Object.entries(l).filter(([x,_])=>_!==void 0).map(([x,_])=>[x,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([x,_])=>{g.searchParams.append(x,_)})):(f="POST",v=l);const y=Object.assign({},this.headers);return d&&(y.Prefer=`count=${d}`),new r.default({method:f,url:g,headers:y,schema:this.schemaName,body:v,fetch:this.fetch,allowEmpty:!1})}}return $h.default=i,$h}var y3;function Nde(){if(y3)return Si;y3=1;var t=Si&&Si.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Si,"__esModule",{value:!0}),Si.PostgrestError=Si.PostgrestBuilder=Si.PostgrestTransformBuilder=Si.PostgrestFilterBuilder=Si.PostgrestQueryBuilder=Si.PostgrestClient=void 0;const e=t(Cde());Si.PostgrestClient=e.default;const r=t(yH());Si.PostgrestQueryBuilder=r.default;const n=t(YR());Si.PostgrestFilterBuilder=n.default;const i=t(vH());Si.PostgrestTransformBuilder=i.default;const s=t(gH());Si.PostgrestBuilder=s.default;const o=t(mH());return Si.PostgrestError=o.default,Si.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:o.default},Si}var Ede=Nde();const Pde=Nr(Ede),{PostgrestClient:kde,PostgrestQueryBuilder:k7e,PostgrestFilterBuilder:A7e,PostgrestTransformBuilder:T7e,PostgrestBuilder:O7e,PostgrestError:R7e}=Pde;function Ade(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Tde=Ade(),Ode="2.11.15",Rde=`realtime-js/${Ode}`,Mde="1.0.0",xH=1e4,Ide=1e3;var Sv;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Sv||(Sv={}));var Yi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Yi||(Yi={}));var bo;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(bo||(bo={}));var bA;(function(t){t.websocket="websocket"})(bA||(bA={}));var ff;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ff||(ff={}));class Lde{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(e.slice(o,o+i));o=o+i;const c=n.decode(e.slice(o,o+s));o=o+s;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class bH{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var on;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(on||(on={}));const x3=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,o)=>(s[o]=Dde(o,t,e,i),s),{})},Dde=(t,e,r,n)=>{const i=e.find(l=>l.name===t),s=i?.type,o=r[t];return s&&!n.includes(s)?wH(s,o):wA(o)},wH=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return zde(e,r)}switch(t){case on.bool:return $de(e);case on.float4:case on.float8:case on.int2:case on.int4:case on.int8:case on.numeric:case on.oid:return Fde(e);case on.json:case on.jsonb:return Bde(e);case on.timestamp:return qde(e);case on.abstime:case on.date:case on.daterange:case on.int4range:case on.int8range:case on.money:case on.reltime:case on.text:case on.time:case on.timestamptz:case on.timetz:case on.tsrange:case on.tstzrange:return wA(e);default:return wA(e)}},wA=t=>t,$de=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Fde=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Bde=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},zde=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const o=t.slice(1,r);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(l=>wH(e,l))}return t},qde=t=>typeof t=="string"?t.replace(" ","T"):t,_H=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Yj{constructor(e,r,n={},i=xH){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var b3;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(b3||(b3={}));class jv{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=jv.syncState(this.state,i,s,o),this.pendingDiffs.forEach(c=>{this.state=jv.syncDiff(this.state,c,s,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=jv.syncDiff(this.state,i,s,o),l())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),o=this.transformState(r),l={},c={};return this.map(s,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=s[u];if(f){const g=d.map(_=>_.presence_ref),v=f.map(_=>_.presence_ref),y=d.filter(_=>v.indexOf(_.presence_ref)<0),x=f.filter(_=>g.indexOf(_.presence_ref)<0);y.length>0&&(l[u]=y),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(s,{joins:l,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const f=e[l].map(v=>v.presence_ref),g=d.filter(v=>f.indexOf(v.presence_ref)<0);e[l].unshift(...g)}n(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[l]=u,i(l,u,c),u.length===0&&delete e[l]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var w3;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(w3||(w3={}));var _3;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_3||(_3={}));var mc;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mc||(mc={}));class XR{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Yi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Yj(this,bo.join,this.params,this.timeout),this.rejoinTimer=new bH(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Yi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Yi.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Yi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Yi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bo.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new jv(this),this.broadcastEndpointURL=_H(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Yi.closed){const{config:{broadcast:s,presence:o,private:l}}=this.params;this._onError(d=>e?.(mc.CHANNEL_ERROR,d)),this._onClose(()=>e?.(mc.CLOSED));const c={},u={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&i!==void 0?i:[],private:l};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:u},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){e?.(mc.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(f=g?.length)!==null&&f!==void 0?f:0,y=[];for(let x=0;x<v;x++){const _=g[x],{filter:{event:S,schema:C,table:N,filter:A}}=_,E=d&&d[x];if(E&&E.event===S&&E.schema===C&&E.table===N&&E.filter===A)y.push(Object.assign(Object.assign({},_),{id:E.id}));else{this.unsubscribe(),this.state=Yi.errored,e?.(mc.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(mc.SUBSCRIBED);return}}).receive("error",d=>{this.state=Yi.errored,e?.(mc.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e?.(mc.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var o,l,c;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Yi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bo.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Yj(this,bo.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Yj(this,e,r,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=bo;if(n&&[l,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let g=this._onMessage(o,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var y,x,_;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((_=(x=v.filter)===null||x===void 0?void 0:x.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===o}).map(v=>v.callback(g,n)):(s=this.bindings[o])===null||s===void 0||s.filter(v=>{var y,x,_,S,C,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const A=v.id,E=(y=v.filter)===null||y===void 0?void 0:y.event;return A&&((x=r.ids)===null||x===void 0?void 0:x.includes(A))&&(E==="*"||E?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const A=(C=(S=v?.filter)===null||S===void 0?void 0:S.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return A==="*"||A===((N=r?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof g=="object"&&"ids"in g){const y=g.data,{schema:x,table:_,commit_timestamp:S,type:C,errors:N}=y;g=Object.assign(Object.assign({},{schema:x,table:_,commit_timestamp:S,eventType:C,new:{},old:{},errors:N}),this._getPayloadRecords(y))}v.callback(g,n)})}_isClosed(){return this.state===Yi.closed}_isJoined(){return this.state===Yi.joined}_isJoining(){return this.state===Yi.joining}_isLeaving(){return this.state===Yi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&XR.isEqual(i.filter,r))}),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(bo.close,{},e)}_onError(e){this._on(bo.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Yi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=x3(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=x3(e.columns,e.old_record)),r}}const S3=()=>{},Ude=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Vde{constructor(e,r){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=xH,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=S3,this.ref=0,this.logger=S3,this.conn=null,this.sendBuffer=[],this.serializer=new Lde,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Vy(async()=>{const{default:c}=await Promise.resolve().then(()=>km);return{default:c}},void 0).then(({default:c})=>c(...l)):o=fetch,(...l)=>o(...l)},this.endPoint=`${e}/${bA.websocket}`,this.httpEndpoint=_H(e),r?.transport?this.transport=r.transport:this.transport=null,r?.params&&(this.params=r.params),r?.timeout&&(this.timeout=r.timeout),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),r?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=r.heartbeatIntervalMs);const i=(n=r?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=r?.reconnectAfterMs?r.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=r?.encode?r.encode:(s,o)=>o(JSON.stringify(s)),this.decode=r?.decode?r.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new bH(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(r?.fetch),r?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=r?.worker||!1,this.workerUrl=r?.workerUrl}this.accessToken=r?.accessToken||null}connect(){if(!this.conn){if(this.transport||(this.transport=Tde),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Mde}))}disconnect(e,r){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,r??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Sv.connecting:return ff.Connecting;case Sv.open:return ff.Open;case Sv.closing:return ff.Closing;default:return ff.Closed}}isConnected(){return this.connectionState()===ff.Open}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new XR(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let r=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:Rde};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(bo.access_token,{access_token:r})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Ide,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,r=>{let{topic:n,event:i,payload:s,ref:o}=r;n==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(r.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),Array.from(this.channels).filter(l=>l._isMember(n)).forEach(l=>l._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(l=>l(r))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(r=>r(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(r=>r(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(bo.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Ude],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}}class JR extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ji(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Wde extends JR{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _A extends JR{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var Hde=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const SH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vy(async()=>{const{default:n}=await Promise.resolve().then(()=>km);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Kde=()=>Hde(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Vy(()=>Promise.resolve().then(()=>km),void 0)).Response:Response}),SA=t=>{if(Array.isArray(t))return t.map(r=>SA(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=SA(n)}),e},Gde=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Gf=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Xj=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zde=(t,e,r)=>Gf(void 0,void 0,void 0,function*(){const n=yield Kde();t instanceof n&&!r?.noResolveJson?t.json().then(i=>{const s=t.status||500,o=i?.statusCode||s+"";e(new Wde(Xj(i),s,o))}).catch(i=>{e(new _A(Xj(i),i))}):e(new _A(Xj(t),t))}),Yde=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"||!n?i:(Gde(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e?.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Zy(t,e,r,n,i,s){return Gf(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(r,Yde(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>Zde(c,l,n))})})}function ow(t,e,r,n){return Gf(this,void 0,void 0,function*(){return Zy(t,"GET",e,r,n)})}function gc(t,e,r,n,i){return Gf(this,void 0,void 0,function*(){return Zy(t,"POST",e,n,i,r)})}function jA(t,e,r,n,i){return Gf(this,void 0,void 0,function*(){return Zy(t,"PUT",e,n,i,r)})}function Xde(t,e,r,n){return Gf(this,void 0,void 0,function*(){return Zy(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function jH(t,e,r,n,i){return Gf(this,void 0,void 0,function*(){return Zy(t,"DELETE",e,n,i,r)})}var Ms=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const Jde={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},j3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Qde{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=SH(i)}uploadOrUpdate(e,r,n,i){return Ms(this,void 0,void 0,function*(){try{let s;const o=Object.assign(Object.assign({},j3),i);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(l=Object.assign(Object.assign({},l),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?jA:gc)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:l},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(ji(s))return{data:null,error:s};throw s}})}upload(e,r,n){return Ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return Ms(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),o=this._getFinalPath(s),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:j3.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield jA(this.fetch,l.toString(),c,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(c){if(ji(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return Ms(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r?.upsert&&(i["x-upsert"]="true");const s=yield gc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),l=o.searchParams.get("token");if(!l)throw new JR("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ms(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ms(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}copy(e,r,n){return Ms(this,void 0,void 0,function*(){try{return{data:{path:(yield gc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return Ms(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield gc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return Ms(this,void 0,void 0,function*(){try{const i=yield gc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}download(e,r){return Ms(this,void 0,void 0,function*(){const i=typeof r?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(r?.transform||{}),o=s?`?${s}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield ow(this.fetch,`${this.url}/${i}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(ji(l))return{data:null,error:l};throw l}})}info(e){return Ms(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ow(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:SA(n),error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}exists(e){return Ms(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield Xde(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ji(n)&&n instanceof _A){const i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r?.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const l=typeof r?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(r?.transform||{});c!==""&&i.push(c);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(e){return Ms(this,void 0,void 0,function*(){try{return{data:yield jH(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ms(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},Jde),r),{prefix:e||""});return{data:yield gc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(ji(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const efe="2.10.4",tfe={"X-Client-Info":`storage-js/${efe}`};var Uh=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class rfe{constructor(e,r={},n,i){const s=new URL(e);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},tfe),r),this.fetch=SH(n)}listBuckets(){return Uh(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ji(e))return{data:null,error:e};throw e}})}getBucket(e){return Uh(this,void 0,void 0,function*(){try{return{data:yield ow(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Uh(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Uh(this,void 0,void 0,function*(){try{return{data:yield jA(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ji(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Uh(this,void 0,void 0,function*(){try{return{data:yield gc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Uh(this,void 0,void 0,function*(){try{return{data:yield jH(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ji(r))return{data:null,error:r};throw r}})}}class nfe extends rfe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new Qde(this.url,this.headers,e,this.fetch)}}const ife="2.53.0";let av="";typeof Deno<"u"?av="deno":typeof document<"u"?av="web":typeof navigator<"u"&&navigator.product==="ReactNative"?av="react-native":av="node";const sfe={"X-Client-Info":`supabase-js-${av}/${ife}`},afe={headers:sfe},ofe={schema:"public"},lfe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},cfe={};var ufe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};const dfe=t=>{let e;return t?e=t:typeof fetch>"u"?e=hH:e=fetch,(...r)=>e(...r)},ffe=()=>typeof Headers>"u"?pH:Headers,hfe=(t,e,r)=>{const n=dfe(r),i=ffe();return(s,o)=>ufe(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new i(o?.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},o),{headers:u}))})};var pfe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};function mfe(t){return t.endsWith("/")?t:t+"/"}function gfe(t,e){var r,n;const{db:i,auth:s,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:f}=e,g={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f?.headers)!==null&&r!==void 0?r:{}),(n=l?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>pfe(this,void 0,void 0,function*(){return""})};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}const CH="2.71.1",up=30*1e3,CA=3,Jj=CA*up,vfe="http://localhost:9999",yfe="supabase.auth.token",xfe={"X-Client-Info":`gotrue-js/${CH}`},NA="X-Supabase-Api-Version",NH={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},bfe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,wfe=10*60*1e3;class QR extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function tr(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class _fe extends QR{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Sfe(t){return tr(t)&&t.name==="AuthApiError"}class EH extends QR{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bd extends QR{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class qu extends bd{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function jfe(t){return tr(t)&&t.name==="AuthSessionMissingError"}class q0 extends bd{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class U0 extends bd{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class V0 extends bd{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Cfe(t){return tr(t)&&t.name==="AuthImplicitGrantRedirectError"}class C3 extends bd{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class EA extends bd{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Qj(t){return tr(t)&&t.name==="AuthRetryableFetchError"}class N3 extends bd{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class PA extends bd{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const lw="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),E3=` 	
\r=`.split(""),Nfe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<E3.length;e+=1)t[E3[e].charCodeAt(0)]=-2;for(let e=0;e<lw.length;e+=1)t[lw[e].charCodeAt(0)]=e;return t})();function P3(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lw[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(lw[n]),e.queuedBits-=6}}function PH(t,e,r){const n=Nfe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function k3(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{kfe(o,n,r)};for(let o=0;o<t.length;o+=1)PH(t.charCodeAt(o),i,s);return e.join("")}function Efe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Pfe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}Efe(n,e)}}function kfe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Afe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)PH(t.charCodeAt(i),r,n);return new Uint8Array(e)}function Tfe(t){const e=[];return Pfe(t,r=>e.push(r)),new Uint8Array(e)}function Ofe(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>P3(i,r,n)),P3(null,r,n),e.join("")}function Rfe(t){return Math.round(Date.now()/1e3)+t}function Mfe(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const vo=()=>typeof window<"u"&&typeof document<"u",tf={tested:!1,writable:!1},kH=()=>{if(!vo())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(tf.tested)return tf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),tf.tested=!0,tf.writable=!0}catch{tf.tested=!0,tf.writable=!1}return tf.writable};function Ife(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const AH=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Vy(async()=>{const{default:n}=await Promise.resolve().then(()=>km);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},Lfe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",dp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},rf=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mu=async(t,e)=>{await t.removeItem(e)};class X_{constructor(){this.promise=new X_.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}X_.promiseConstructor=Promise;function eC(t){const e=t.split(".");if(e.length!==3)throw new PA("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!bfe.test(e[n]))throw new PA("JWT not in base64url format");return{header:JSON.parse(k3(e[0])),payload:JSON.parse(k3(e[1])),signature:Afe(e[2]),raw:{header:e[0],payload:e[1]}}}async function Dfe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function $fe(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const o=await t(s);if(!e(s,null,o)){n(o);return}}catch(o){if(!e(s,o)){i(o);return}}})()})}function Ffe(t){return("0"+t.toString(16)).substr(-2)}function Bfe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Ffe).join("")}async function zfe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function qfe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await zfe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Vh(t,e,r=!1){const n=Bfe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await dp(t,`${e}-code-verifier`,i);const s=await qfe(n);return[s,n===s?"plain":"s256"]}const Ufe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vfe(t){const e=t.headers.get(NA);if(!e||!e.match(Ufe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Wfe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Hfe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Kfe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wh(t){if(!Kfe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tC(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function A3(t){return JSON.parse(JSON.stringify(t))}var Gfe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const of=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zfe=[502,503,504];async function T3(t){var e;if(!Lfe(t))throw new EA(of(t),0);if(Zfe.includes(t.status))throw new EA(of(t),t.status);let r;try{r=await t.json()}catch(s){throw new EH(of(s),s)}let n;const i=Vfe(t);if(i&&i.getTime()>=NH["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new N3(of(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new qu}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new N3(of(r),t.status,r.weak_password.reasons);throw new _fe(of(r),t.status||500,n)}const Yfe=(t,e,r,n)=>{const i={method:t,headers:e?.headers||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function gr(t,e,r,n){var i;const s=Object.assign({},n?.headers);s[NA]||(s[NA]=NH["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Xfe(t,e,r+l,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(c):{data:Object.assign({},c),error:null}}async function Xfe(t,e,r,n,i,s){const o=Yfe(e,n,i,s);let l;try{l=await t(r,Object.assign({},o))}catch(c){throw console.error(c),new EA(of(c),0)}if(l.ok||await T3(l),n?.noResolveJson)return l;try{return await l.json()}catch(c){await T3(c)}}function pc(t){var e;let r=null;the(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Rfe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function O3(t){const e=pc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Zu(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Jfe(t){return{data:t,error:null}}function Qfe(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,o=Gfe(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function ehe(t){return t}function the(t){return t.access_token&&t.refresh_token&&t.expires_in}const rC=["global","local","others"];var rhe=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class nhe{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=AH(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=rC[0]){if(rC.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rC.join(", ")}`);try{return await gr(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(tr(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await gr(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Zu})}catch(n){if(tr(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=rhe(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),await gr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Qfe,redirectTo:r?.redirectTo})}catch(r){if(tr(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await gr(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Zu})}catch(r){if(tr(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await gr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:ehe});if(d.error)throw d.error;const f=await d.json(),g=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(y.split(";")[1].split("=")[1]);u[`${_}Page`]=x}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(tr(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Wh(e);try{return await gr(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Zu})}catch(r){if(tr(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Wh(e);try{return await gr(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Zu})}catch(n){if(tr(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Wh(e);try{return await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Zu})}catch(n){if(tr(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Wh(e.userId);try{const{data:r,error:n}=await gr(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(tr(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Wh(e.userId),Wh(e.id);try{return{data:await gr(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(tr(r))return{data:null,error:r};throw r}}}function R3(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function ihe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hh={debug:!!(globalThis&&kH()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class TH extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class she extends TH{}async function ahe(t,e,r){Hh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Hh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){Hh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{Hh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Hh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new she(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Hh.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}ihe();const ohe={url:vfe,storageKey:yfe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xfe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function M3(t,e,r){return await r()}const Kh={};class Vv{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Vv.nextInstanceID,Vv.nextInstanceID+=1,this.instanceID>0&&vo()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},ohe),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new nhe({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=AH(i.fetch),this.lock=i.lock||M3,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:vo()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ahe:this.lock=M3,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:kH()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=R3(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=R3(this.memoryStorage)),vo()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Kh[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Kh[this.storageKey]=Object.assign(Object.assign({},Kh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Kh[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Kh[this.storageKey]=Object.assign(Object.assign({},Kh[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${CH}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Ife(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),vo()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Cfe(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:o,redirectType:l}=i;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return tr(r)?{error:r}:{error:new EH("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:pc}),{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(tr(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:f,options:g}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Vh(this.storage,this.storageKey)),s=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g?.emailRedirectTo,body:{email:d,password:f,data:(r=g?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:v,code_challenge_method:y},xform:pc})}else if("phone"in e){const{phone:d,password:f,options:g}=e;s=await gr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g?.data)!==null&&n!==void 0?n:{},channel:(i=g?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g?.captchaToken}},xform:pc})}else throw new U0("You must provide either an email or phone number and a password");const{data:o,error:l}=s;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(tr(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:o,options:l}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:O3})}else if("phone"in e){const{phone:s,password:o,options:l}=e;r=await gr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:o,gotrue_meta_security:{captcha_token:l?.captchaToken}},xform:O3})}else throw new U0("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new q0}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(tr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,o,l,c,u,d,f,g,v;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:_,wallet:S,statement:C,options:N}=e;let A;if(vo())if(typeof S=="object")A=S;else{const k=window;if("solana"in k&&typeof k.solana=="object"&&("signIn"in k.solana&&typeof k.solana.signIn=="function"||"signMessage"in k.solana&&typeof k.solana.signMessage=="function"))A=k.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!N?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=S}const E=new URL((r=N?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in A&&A.signIn){const k=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},N?.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),C?{statement:C}:null));let O;if(Array.isArray(k)&&k[0]&&typeof k[0]=="object")O=k[0];else if(k&&typeof k=="object"&&"signedMessage"in k&&"signature"in k)O=k;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in O&&"signature"in O&&(typeof O.signedMessage=="string"||O.signedMessage instanceof Uint8Array)&&O.signature instanceof Uint8Array)y=typeof O.signedMessage=="string"?O.signedMessage:new TextDecoder().decode(O.signedMessage),x=O.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${E.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...C?["",C,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(n=N?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=N?.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${N.signInWithSolana.notBefore}`]:[],...!((o=N?.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${N.signInWithSolana.expirationTime}`]:[],...!((l=N?.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${N.signInWithSolana.chainId}`]:[],...!((c=N?.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${N.signInWithSolana.nonce}`]:[],...!((u=N?.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${N.signInWithSolana.requestId}`]:[],...!((f=(d=N?.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...N.signInWithSolana.resources.map(O=>`- ${O}`)]:[]].join(`
`);const k=await A.signMessage(new TextEncoder().encode(y),"utf8");if(!k||!(k instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=k}}try{const{data:_,error:S}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Ofe(x)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pc});if(S)throw S;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new q0}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:S})}catch(_){if(tr(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(e){const r=await rf(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:o}=await gr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pc});if(await Mu(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new q0}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:o})}catch(s){if(tr(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:o}=e,l=await gr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:o,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:pc}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new q0}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(tr(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Vh(this.storage,this.storageKey));const{error:f}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c?.data)!==null&&r!==void 0?r:{},create_user:(n=c?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c?.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await gr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(i=c?.data)!==null&&i!==void 0?i:{},create_user:(s=c?.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c?.captchaToken},channel:(o=c?.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new U0("You must provide either an email or phone number.")}catch(l){if(tr(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await gr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:pc});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c?.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(tr(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,o=null;return this.flowType==="pkce"&&([s,o]=await Vh(this.storage,this.storageKey)),await gr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:o}),headers:this.headers,xform:Jfe})}catch(s){if(tr(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new qu;const{error:i}=await gr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(tr(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:o}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}},redirectTo:s?.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:o,error:l}=await gr(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s?.captchaToken}}});return{data:{user:null,session:null,messageId:o?.message_id},error:l}}throw new U0("You must provide either an email or phone number and a type")}catch(r){if(tr(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await rf(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Jj:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await rf(this.userStorage,this.storageKey+"-user");o?.user?e.user=o.user:e.user=tC()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Zu}):await this._useSession(async r=>{var n,i,s;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new qu}:await gr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Zu})})}catch(r){if(tr(r))return jfe(r)&&(await this._removeSession(),await Mu(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new qu;const o=i.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await Vh(this.storage,this.storageKey));const{data:u,error:d}=await gr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:Zu});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(tr(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new qu;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:o}=eC(e.access_token);if(o.exp&&(n=o.exp,i=n<=r),i){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};s=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(tr(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:l}=r;if(l)throw l;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!e?.refresh_token)throw new qu;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(tr(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!vo())throw new V0("No browser detected.");if(e.error||e.error_description||e.error_code)throw new V0(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new C3("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new V0("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new C3("No code detected.");const{data:C,error:N}=await this._exchangeCodeForSession(e.code);if(N)throw N;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:C.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!s||!l||!o||!u)throw new V0("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let g=d+f;c&&(g=parseInt(c));const v=g-d;v*1e3<=up&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=g-f;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,g,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,g,d);const{data:x,error:_}=await this._getUser(s);if(_)throw _;const S={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:g,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(tr(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await rf(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const o=(n=i.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Sfe(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Mu(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Mfe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Vh(this.storage,this.storageKey,!0));try{return await gr(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(tr(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(tr(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var o,l,c,u,d;const{data:f,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await gr(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return vo()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:e.provider,url:n?.url},error:null}}catch(n){if(tr(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)throw o;return await gr(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(tr(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await $fe(async i=>(i>0&&await Dfe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await gr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pc})),(i,s)=>{const o=200*Math.pow(2,i);return s&&Qj(s)&&Date.now()+o-n<up})}catch(n){if(this._debug(r,"error",n),tr(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),vo()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await rf(this.storage,this.storageKey);if(i&&this.userStorage){let o=await rf(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:i.user},await dp(this.userStorage,this.storageKey+"-user",o)),i.user=(e=o?.user)!==null&&e!==void 0?e:tC()}else if(i&&!i.user&&!i.user){const o=await rf(this.storage,this.storageKey+"-user");o&&o?.user?(i.user=o.user,await Mu(this.storage,this.storageKey+"-user"),await dp(this.storage,this.storageKey,i)):i.user=tC()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jj;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Jj}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:o}=await this._callRefreshToken(i.refresh_token);o&&(console.error(o),Qj(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(i.access_token);!l&&o?.user?(i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new qu;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new X_;const{data:s,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!s.session)throw new qu;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const l={session:s.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(s){if(this._debug(i,"error",s),tr(s)){const o={session:null,error:s};return Qj(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(o),s.length>0){for(let l=0;l<s.length;l+=1)console.error(s[l]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await dp(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=A3(i);await dp(this.storage,this.storageKey,s)}else{const i=A3(r);await dp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Mu(this.storage,this.storageKey),await Mu(this.storage,this.storageKey+"-code-verifier"),await Mu(this.storage,this.storageKey+"-user"),this.userStorage&&await Mu(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&vo()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),up);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/up);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${up}ms, refresh threshold is ${CA} ticks`),i<=CA&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof TH)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vo()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,o]=await Vh(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(o)}`});i.push(l.toString())}if(n?.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n?.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await gr(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tr(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await gr(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((i=c?.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(tr(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:o,error:l}=await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(r){if(tr(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await gr(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(tr(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=e?.factors||[],i=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),s=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=eC(i.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(l=>l.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(l=>l.kid===e),n&&this.jwks_cached_at+wfe>i)return n;const{data:s,error:o}=await gr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(l=>l.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:i,payload:s,signature:o,raw:{header:l,payload:c}}=eC(n);r?.allowExpired||Wfe(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:o},error:null}}const d=Hfe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,Tfe(`${l}.${c}`)))throw new PA("Invalid JWT signature");return{data:{claims:s,header:i,signature:o},error:null}}catch(n){if(tr(n))return{data:null,error:n};throw n}}}Vv.nextInstanceID=0;const lhe=Vv;class che extends lhe{constructor(e){super(e)}}var uhe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):i(d.value).then(l,c)}u((n=n.apply(t,e||[])).next())})};class dhe{constructor(e,r,n){var i,s,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const l=mfe(e),c=new URL(l);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const u=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:ofe,realtime:cfe,auth:Object.assign(Object.assign({},lfe),{storageKey:u}),global:afe},f=gfe(n??{},d);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(g,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=f.auth)!==null&&o!==void 0?o:{},this.headers,f.global.fetch),this.fetch=hfe(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new kde(new URL("rest/v1",c).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new nfe(this.storageUrl.href,this.headers,this.fetch,n?.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new vde(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return uhe(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:l,debug:c},u,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new che({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),u),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:o,lock:l,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Vde(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const fhe=(t,e,r)=>new dhe(t,e,r);function hhe(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const t=process.version.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}hhe()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let Yu="https://vvlpgviacinsbggfsexs.supabase.co";const eM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZ2bHBndmlhY2luc2JnZ2ZzZXhzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ1MjMzNjUsImV4cCI6MjA3MDA5OTM2NX0.YsZUDyYfgGHD7jNDKAVaR4Y0yzulwLo2NGo85ohHefY";console.log("🔍 Variables d'environnement détectées:");console.log("🔍 VITE_SUPABASE_URL:",Yu);console.log("🔍 VITE_SUPABASE_ANON_KEY length:",eM?.length);Yu&&Yu.startsWith("//")&&(Yu="https:"+Yu,console.log("🔧 URL Supabase corrigée:",Yu));const Lr=!!(Yu&&eM);console.log("🔍 isSupabaseConfigured:",Lr);Lr||console.error("Supabase non configuré: VITE_SUPABASE_URL ou VITE_SUPABASE_ANON_KEY manquants");const vc={sessionTimeout:30*60*1e3,rememberMeDays:7,autoRefresh:!0,detectSessionInUrl:!0,persistSession:!0},we=fhe(Yu||"https://placeholder.supabase.co",eM,{auth:{autoRefreshToken:vc.autoRefresh,persistSession:vc.persistSession,detectSessionInUrl:vc.detectSessionInUrl,flowType:"pkce",debug:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"maximarket-web"}}});let phe=0;const mhe=function(t){if(typeof window>"u"||typeof document>"u")return{id:"noop",dismiss:function(){}};const e="toast-"+ ++phe,r=document.getElementById("toaster-container");if(!r)return console.warn("Toast container not found"),{id:"noop",dismiss:function(){}};try{const n=document.createElement("div");n.id=e,n.className="bg-background border rounded-md p-4 shadow-lg max-w-sm mb-2";let i="";return t.title&&(i+='<div class="font-semibold">'+t.title+"</div>"),t.description&&(i+='<div class="text-sm opacity-90 mt-1">'+t.description+"</div>"),n.innerHTML=i+'<button onclick="this.parentElement.remove()" class="absolute top-2 right-2 text-foreground/50 hover:text-foreground">✕</button>',r.appendChild(n),t.duration!==1/0&&setTimeout(function(){n.parentNode&&n.remove()},t.duration||5e3),{id:e,dismiss:function(){n.parentNode&&n.remove()}}}catch(n){return console.error("Error creating toast:",n),{id:"error",dismiss:function(){}}}};function dn(){return{toast:mhe,toasts:[]}}const OH=b.createContext({}),ghe=({children:t})=>{const[e,r]=b.useState(null),[n,i]=b.useState(null),[s,o]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState(null),[f,g]=b.useState(!1),{toast:v}=dn(),y=b.useCallback(()=>{if(l&&!f){const V=Date.now();V-(l.created_at?new Date(l.created_at).getTime():V)>vc.sessionTimeout&&(console.log("🕐 Session expirée, déconnexion automatique"),C(),v({title:"Session expirée",description:"Votre session a expiré. Veuillez vous reconnecter.",variant:"destructive"}))}},[l,f,v]);b.useEffect(()=>{if(!l)return;const V=setInterval(y,6e4);return()=>clearInterval(V)},[l,y]);const x=b.useCallback(V=>{g(V),V?(localStorage.setItem("maximarket-remember-me","true"),localStorage.setItem("maximarket-remember-date",new Date().toISOString())):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"))},[]);b.useEffect(()=>{const V=localStorage.getItem("maximarket-remember-me")==="true",q=localStorage.getItem("maximarket-remember-date");V&&q&&((Date.now()-new Date(q).getTime())/864e5<=vc.rememberMeDays?g(!0):(localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),g(!1)))},[]),b.useEffect(()=>{if(!Lr){o(!1);return}(async()=>{const{data:{session:F}}=await we.auth.getSession();if(c(F),r(F?.user??null),F?.user)try{const{data:H}=await we.from("users").select("*").eq("id",F.user.id).single();if(i(H),F.created_at){const Q=new Date(F.created_at).getTime()+vc.sessionTimeout;d(Q)}}catch(H){console.error("Erreur lors de la récupération du profil:",H)}o(!1)})();const{data:{subscription:q}}=we.auth.onAuthStateChange(async(F,H)=>{if(console.log("Auth state changed:",F,H),c(H),r(H?.user??null),H?.user)try{const{data:Q}=await we.from("users").select("*").eq("id",H.user.id).single();if(i(Q),H.created_at){const oe=new Date(H.created_at).getTime()+vc.sessionTimeout;d(oe)}}catch(Q){console.error("Erreur lors de la récupération du profil:",Q)}else i(null),d(null);if(o(!1),F==="SIGNED_IN"){if(H?.user){const Q={id:H.user.id,first_name:H.user.user_metadata?.first_name||"",last_name:H.user.user_metadata?.last_name||"",email:H.user.email,phone_number:H.user.user_metadata?.phone_number||"",role:"user"},{error:oe}=await we.from("users").upsert([Q],{onConflict:"id"});oe&&console.error("Profile upsert error:",oe)}v({title:"Connexion réussie",description:"Bienvenue sur MaxiMarket !"})}else if(F==="SIGNED_OUT")d(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date");else if(F==="TOKEN_REFRESHED"&&H?.created_at){const Q=new Date(H.created_at).getTime()+vc.sessionTimeout;d(Q)}});return()=>q.unsubscribe()},[v]);const _=async(V,q=!1)=>{try{if(!Lr)throw new Error("Supabase non configuré");const{data:F,error:H}=await we.auth.signInWithPassword({email:V.email,password:V.password});if(H)throw H;return x(q),console.log("Supabase login successful:",F),!0}catch(F){return console.error("Login error:",F),v({title:"Erreur de connexion",description:F.message,variant:"destructive"}),!1}},S=async V=>{try{if(!Lr)throw new Error("Supabase non configuré");const q=(V?.phoneNumber||"").trim(),F=/^\+?[1-9]\d{1,14}$/;if(!q)return v({title:"Numéro requis",description:"Le numéro de téléphone est obligatoire pour créer un compte.",variant:"destructive"}),!1;if(!F.test(q))return v({title:"Numéro invalide",description:"Veuillez saisir un numéro de téléphone valide (format international).",variant:"destructive"}),!1;const{data:H,error:Q}=await we.auth.signUp({email:V.email,password:V.password,options:{emailRedirectTo:`${window.location.origin}/auth/callback`,data:{first_name:V.firstName,last_name:V.lastName,phone_number:q}}});if(Q)throw Q;if(console.log("Supabase register successful:",H),H.user){const{error:oe}=await we.from("users").upsert([{id:H.user.id,first_name:V.firstName,last_name:V.lastName,email:V.email,phone_number:q,role:"user"}],{onConflict:"id"});oe&&console.error("Profile upsert error:",oe)}return H.user&&!H.user.email_confirmed_at?(v({title:"Inscription réussie",description:"Vérifiez votre email pour confirmer votre compte !"}),{success:!0,needsConfirmation:!0}):(v({title:"Inscription réussie",description:"Bienvenue sur MaxiMarket !"}),{success:!0,needsConfirmation:!1})}catch(q){return console.error("Register error:",q),v({title:"Erreur d'inscription",description:q.message,variant:"destructive"}),!1}},C=async()=>{try{const{error:V}=await we.auth.signOut();if(V)throw V;return d(null),g(!1),localStorage.removeItem("maximarket-remember-me"),localStorage.removeItem("maximarket-remember-date"),!0}catch(V){return console.error("Logout error:",V),v({title:"Erreur de déconnexion",description:V.message,variant:"destructive"}),!1}},W={user:n||e,userProfile:n,session:l,sessionExpiry:u,isRememberMe:f,loading:s,login:_,register:S,logout:C,extendSession:async()=>{try{if(!l)return!1;const{data:V,error:q}=await we.auth.refreshSession();if(q)throw q;if(V.session){const F=new Date(V.session.created_at).getTime()+vc.sessionTimeout;return d(F),v({title:"Session étendue",description:"Votre session a été prolongée avec succès."}),!0}return!1}catch(V){return console.error("Erreur lors de l'extension de session:",V),!1}},getSessionStatus:()=>{if(!l)return"disconnected";if(f)return"remembered";if(u){const V=Date.now(),q=u-V;return q<=0?"expired":q<=5*60*1e3?"expiring_soon":"active"}return"active"},getSessionTimeLeft:()=>{if(!u)return 0;const V=Date.now(),q=u-V;return Math.max(0,q)},resetPassword:async V=>{try{const{error:q}=await we.auth.resetPasswordForEmail(V,{redirectTo:`${window.location.origin}/reset-password`});if(q)throw q;return v({title:"Email envoyé",description:"Vérifiez votre boîte mail pour réinitialiser votre mot de passe."}),!0}catch(q){return console.error("Reset password error:",q),v({title:"Erreur",description:q.message,variant:"destructive"}),!1}},updatePassword:async V=>{try{const{error:q}=await we.auth.updateUser({password:V});if(q)throw q;return v({title:"Mot de passe mis à jour",description:"Votre mot de passe a été modifié avec succès."}),!0}catch(q){return console.error("Update password error:",q),v({title:"Erreur",description:q.message,variant:"destructive"}),!1}},hasRole:V=>e?n?.role?n.role===V:e.user_metadata?.role===V||e.app_metadata?.role===V:!1,hasAnyRole:V=>{if(!e)return!1;if(n?.role)return V.includes(n.role);const q=e.user_metadata?.role||e.app_metadata?.role;return V.includes(q)},isAuthenticated:!!e};return a.jsx(OH.Provider,{value:W,children:t})},Vr=()=>{const t=b.useContext(OH);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vhe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>b.createElement("svg",{ref:d,...vhe,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${yhe(t)}`,l].join(" "),...u},[...e.map(([f,g])=>b.createElement(f,g)),...Array.isArray(c)?c:[c]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J_=Ke("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=Ke("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=Ke("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jc=Ke("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=Ke("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=Ke("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=Ke("BadgeCent",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M15.4 10a4 4 0 1 0 0 4",key:"2eqtx8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tM=Ke("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=Ke("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=Ke("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=Ke("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=Ke("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=Ke("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=Ke("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hc=Ke("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nf=Ke("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=Ke("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bp=Ke("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=Ke("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=Ke("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=Ke("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=Ke("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yy=Ke("ChevronsLeft",[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xy=Ke("ChevronsRight",[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Un=Ke("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fi=Ke("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=Ke("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=Ke("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=Ke("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=Ke("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=Ke("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qs=Ke("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=Ke("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=Ke("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=Ke("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=Ke("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zp=Ke("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=Ke("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zf=Ke("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RH=Ke("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=Ke("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=Ke("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=Ke("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=Ke("Facebook",[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vn=Ke("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=Ke("File",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=Ke("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=Ke("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=Ke("FolderHeart",[["path",{d:"M11 20H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H20a2 2 0 0 1 2 2v1.5",key:"6hud8k"}],["path",{d:"M13.9 17.45c-1.2-1.2-1.14-2.8-.2-3.73a2.43 2.43 0 0 1 3.44 0l.36.34.34-.34a2.43 2.43 0 0 1 3.45-.01v0c.95.95 1 2.53-.2 3.74L17.5 21Z",key:"vgq86i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=Ke("Github",[["path",{d:"M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4",key:"tonef"}],["path",{d:"M9 18c-4.51 2-5-2-7-2",key:"9comsn"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iM=Ke("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=Ke("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=Ke("HeartOff",[["line",{x1:"2",y1:"2",x2:"22",y2:"22",key:"1w4vcy"}],["path",{d:"M16.5 16.5 12 21l-7-7c-1.5-1.45-3-3.2-3-5.5a5.5 5.5 0 0 1 2.14-4.35",key:"3mpagl"}],["path",{d:"M8.76 3.1c1.15.22 2.13.78 3.24 1.9 1.5-1.5 2.74-2 4.5-2A5.5 5.5 0 0 1 22 8.5c0 2.12-1.3 3.78-2.67 5.17",key:"1gh3v3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _l=Ke("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=Ke("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MH=Ke("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=Ke("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=Ke("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IH=Ke("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=Ke("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=Ke("LineChart",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=Ke("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Ke("ListChecks",[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=Ke("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qr=Ke("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Df=Ke("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sM=Ke("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Ke("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=Ke("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LH=Ke("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=Ke("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=Ke("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=Ke("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=Ke("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=Ke("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zhe=Ke("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=Ke("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=Ke("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=Ke("PhoneIncoming",[["polyline",{points:"16 2 16 8 22 8",key:"1ygljm"}],["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nC=Ke("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=Ke("PhoneOutgoing",[["polyline",{points:"22 8 22 2 16 2",key:"1g204g"}],["line",{x1:"16",x2:"22",y1:"8",y2:"2",key:"1ggias"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=Ke("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=Ke("PieChart",[["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}],["path",{d:"M22 12A10 10 0 0 0 12 2v10z",key:"1rfc4y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dc=Ke("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=Ke("RefreshCcw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sl=Ke("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=Ke("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=Ke("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=Ke("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=Ke("SearchCode",[["path",{d:"m9 9-2 2 2 2",key:"17gsfh"}],["path",{d:"m13 13 2-2-2-2",key:"186z8k"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=Ke("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qp=Ke("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gf=Ke("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IA=Ke("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=Ke("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=Ke("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=Ke("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=Ke("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=Ke("Smile",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DH=Ke("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=Ke("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=Ke("StarOff",[["path",{d:"M8.34 8.34 2 9.27l5 4.87L5.82 21 12 17.77 18.18 21l-.59-3.43",key:"16m0ql"}],["path",{d:"M18.42 12.76 22 9.27l-6.91-1L12 2l-1.44 2.91",key:"1vt8nq"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=Ke("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=Ke("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ke("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=Ke("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mo=Ke("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=Ke("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jf=Ke("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $H=Ke("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mg=Ke("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qhe=Ke("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=Ke("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=Ke("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=Ke("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=Ke("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=Ke("Volume2",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07",key:"ltjumu"}],["path",{d:"M19.07 4.93a10 10 0 0 1 0 14.14",key:"1kegas"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=Ke("VolumeX",[["polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5",key:"16drj5"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=Ke("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FH=Ke("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=Ke("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.363.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=Ke("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),lf=({children:t,requiredRole:e="user"})=>{const{user:r,loading:n}=Vr(),i=is();if(console.log("🔒 ProtectedRoute check:",{user:!!r,loading:n,requiredRole:e,path:i.pathname}),n)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Qr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!r)return console.log("🔒 User not authenticated, redirecting to /connexion"),a.jsx(L4,{to:"/connexion",state:{from:i},replace:!0});const s=Array.isArray(r.roles)&&r.roles.includes(e)||r.role===e||r.roles===e;return e&&!s?a.jsx(L4,{to:"/",replace:!0}):t},Iu=({children:t})=>a.jsx(lf,{requiredRole:"admin",children:t}),ipe=new A7({defaultOptions:{queries:{staleTime:5*60*1e3,gcTime:10*60*1e3,retry:(t,e)=>e?.status>=500?t<2:!1,refetchOnWindowFocus:!1,refetchOnReconnect:!0},mutations:{retry:!1}}}),z3={listings:{staleTime:2*60*1e3,gcTime:5*60*1e3}};class spe{constructor(){this.isSupported="serviceWorker"in navigator,this.registration=null,this.updateAvailable=!1}async register(){if(!this.isSupported)return console.warn("⚠️ Service Worker non supporté par ce navigateur"),!1;try{return console.log("🔄 Enregistrement du Service Worker..."),this.registration=await navigator.serviceWorker.register("/sw.js",{scope:"/"}),console.log("✅ Service Worker enregistré:",this.registration),this.registration.addEventListener("updatefound",()=>{console.log("🔄 Mise à jour du Service Worker disponible"),this.updateAvailable=!0}),navigator.serviceWorker.addEventListener("controllerchange",()=>{console.log("✅ Nouveau Service Worker activé"),this.updateAvailable=!1,window.location.reload()}),navigator.serviceWorker.addEventListener("message",e=>{console.log("📨 Message du Service Worker:",e.data)}),!0}catch(e){return console.error("❌ Erreur lors de l'enregistrement du Service Worker:",e),!1}}async unregister(){if(this.registration)try{return await this.registration.unregister(),console.log("✅ Service Worker désenregistré"),!0}catch(e){return console.error("❌ Erreur lors du désenregistrement:",e),!1}return!1}async update(){if(this.registration&&this.updateAvailable)try{return this.registration.active.postMessage({type:"SKIP_WAITING"}),console.log("🔄 Mise à jour du Service Worker déclenchée"),!0}catch(e){return console.error("❌ Erreur lors de la mise à jour:",e),!1}return!1}async clearCache(){if(this.registration)try{return this.registration.active.postMessage({type:"CLEAR_CACHE"}),console.log("🗑️ Vidage du cache demandé"),!0}catch(e){return console.error("❌ Erreur lors du vidage du cache:",e),!1}return!1}getStatus(){return{isSupported:this.isSupported,isRegistered:!!this.registration,updateAvailable:this.updateAvailable,scope:this.registration?.scope||null}}}const oM=new spe;class ape{constructor(){this.usagePatterns=new Map,this.optimizations=new Map,this.isOptimizing=!1}recordUsage(e,r,n){this.usagePatterns.has(e)||this.usagePatterns.set(e,{hits:0,misses:0,lastAccess:n,accessTimes:[],totalAccesses:0});const i=this.usagePatterns.get(e);i.totalAccesses++,i.lastAccess=n,i.accessTimes.push(n),r?i.hits++:i.misses++,i.accessTimes.length>100&&i.accessTimes.shift(),this.optimizeTTL(e)}calculateAverageInterval(e){if(e.length<2)return 0;const r=[];for(let i=1;i<e.length;i++)r.push(e[i]-e[i-1]);return r.reduce((i,s)=>i+s,0)/r.length}calculateFreshnessRatio(e){if(e.hits+e.misses===0)return 0;const n=e.hits,i=e.misses;return n/(n+i)}optimizeTTL(e){const r=this.usagePatterns.get(e);if(!r||r.totalAccesses<10)return;const n=this.calculateAverageInterval(r.accessTimes),i=this.calculateFreshnessRatio(r),s=this.getCurrentTTL(e);let o=s;n<5*60*1e3&&i>.8?o=Math.min(s*1.5,30*60*1e3):n>15*60*1e3&&i<.3?o=Math.max(s*.7,1*60*1e3):n<1*60*1e3&&(o=Math.max(n*2,30*1e3)),this.optimizations.set(e,{currentTTL:s,optimalTTL:o,averageInterval:n,freshnessRatio:i,lastOptimized:Date.now()}),console.log(`🔧 TTL optimisé pour ${e}:`,{current:`${s/1e3}s`,optimal:`${o/1e3}s`,interval:`${n/1e3}s`,ratio:`${(i*100).toFixed(1)}%`})}getCurrentTTL(e){return e.includes("categories")?10*60*1e3:e.includes("listings")?2*60*1e3:e.includes("userListings")?1*60*1e3:(e.includes("search"),5*60*1e3)}getOptimalTTL(e){const r=this.optimizations.get(e);return r?r.optimalTTL:this.getCurrentTTL(e)}getOptimizationRecommendations(){const e=[];for(const[r,n]of this.optimizations){const i=(n.optimalTTL-n.currentTTL)/n.currentTTL*100;Math.abs(i)>10&&e.push({cacheKey:r,currentTTL:n.currentTTL,optimalTTL:n.optimalTTL,improvement:i.toFixed(1),averageInterval:n.averageInterval,freshnessRatio:n.freshnessRatio})}return e.sort((r,n)=>Math.abs(n.improvement)-Math.abs(r.improvement))}applyOptimizations(){const e=this.getOptimizationRecommendations();let r=0;for(const n of e)console.log(`✅ Optimisation appliquée pour ${n.cacheKey}:`,{from:`${n.currentTTL/1e3}s`,to:`${n.optimalTTL/1e3}s`,improvement:`${n.improvement}%`}),r++;return r}getOptimizationStats(){const e=this.usagePatterns.size,r=this.optimizations.size,n=this.getOptimizationRecommendations();return{totalPatterns:e,totalOptimizations:r,activeRecommendations:n.length,averageImprovement:n.length>0?n.reduce((i,s)=>i+Math.abs(parseFloat(s.improvement)),0)/n.length:0}}reset(){this.usagePatterns.clear(),this.optimizations.clear(),console.log("🔄 Optimisations TTL réinitialisées")}}const Gh=new ape;class ope{constructor(e="benome"){this.prefix=e,this.maxSize=50*1024*1024}_getKey(e){return`${this.prefix}:${e}`}_isExpired(e,r){return Date.now()-e>r}_getSize(e){return new Blob([JSON.stringify(e)]).size}_cleanup(){const r=Object.keys(localStorage).filter(o=>o.startsWith(`${this.prefix}:`));if(r.length===0)return;const n=r.map(o=>{try{const l=JSON.parse(localStorage.getItem(o));return{key:o,timestamp:l.timestamp,size:this._getSize(l)}}catch{return{key:o,timestamp:0,size:0}}}).sort((o,l)=>o.timestamp-l.timestamp);let i=this._getCurrentCacheSize();const s=this.maxSize*.8;for(const o of n){if(i<=s)break;localStorage.removeItem(o.key),i-=o.size}}_getCurrentCacheSize(){return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).reduce((n,i)=>{try{const s=JSON.parse(localStorage.getItem(i));return n+this._getSize(s)}catch{return n}},0)}set(e,r,n=5*60*1e3){try{const i=this._getKey(e),s={data:r,timestamp:Date.now(),ttl:n,version:"1.0"},o=this._getSize(s);return o>this.maxSize?(console.warn("⚠️ Données trop volumineuses pour le cache local"),!1):(this._getCurrentCacheSize()+o>this.maxSize&&this._cleanup(),localStorage.setItem(i,JSON.stringify(s)),Gh.recordUsage(e,!1,Date.now()),!0)}catch(i){return console.error("❌ Erreur lors de la sauvegarde en cache:",i),!1}}get(e){try{const r=this._getKey(e),n=localStorage.getItem(r);if(!n)return Gh.recordUsage(e,!1,Date.now()),null;const i=JSON.parse(n);return this._isExpired(i.timestamp,i.ttl)?(this.delete(e),Gh.recordUsage(e,!1,Date.now()),null):(Gh.recordUsage(e,!0,Date.now()),i.data)}catch(r){return console.error("❌ Erreur lors de la récupération du cache:",r),this.delete(e),null}}delete(e){try{const r=this._getKey(e);return localStorage.removeItem(r),!0}catch(r){return console.error("❌ Erreur lors de la suppression du cache:",r),!1}}clear(){try{return Object.keys(localStorage).filter(n=>n.startsWith(`${this.prefix}:`)).forEach(n=>localStorage.removeItem(n)),!0}catch(e){return console.error("❌ Erreur lors du vidage du cache:",e),!1}}getStats(){try{const r=Object.keys(localStorage).filter(s=>s.startsWith(`${this.prefix}:`)),n={totalEntries:r.length,totalSize:this._getCurrentCacheSize(),maxSize:this.maxSize,usagePercentage:this._getCurrentCacheSize()/this.maxSize*100};let i=0;return r.forEach(s=>{try{const o=JSON.parse(localStorage.getItem(s));this._isExpired(o.timestamp,o.ttl)&&i++}catch{i++}}),n.expiredEntries=i,n}catch(e){return console.error("❌ Erreur lors du calcul des statistiques:",e),null}}cleanup(){try{const r=Object.keys(localStorage).filter(i=>i.startsWith(`${this.prefix}:`));let n=0;return r.forEach(i=>{try{const s=JSON.parse(localStorage.getItem(i));this._isExpired(s.timestamp,s.ttl)&&(localStorage.removeItem(i),n++)}catch{localStorage.removeItem(i),n++}}),console.log(`🧹 Cache nettoyé: ${n} entrées supprimées`),n}catch(e){return console.error("❌ Erreur lors du nettoyage du cache:",e),0}}getTTLOptimizations(){return Gh.getOptimizationRecommendations()}applyTTLOptimizations(){return Gh.applyOptimizations()}}const lM=new ope;setInterval(()=>{lM.cleanup()},5*60*1e3);const lpe=(t,e)=>e.map(r=>{const n=t[r.key]||"";return r.type==="date"?cpe(n):r.type==="currency"?upe(n):r.type==="boolean"?n?"Oui":"Non":r.type==="array"?Array.isArray(n)?n.join(", "):n:r.type==="object"&&typeof n=="object"?JSON.stringify(n):n}).map(r=>`"${String(r).replace(/"/g,'""')}"`).join(","),cpe=t=>{if(!t)return"";try{const e=new Date(t);return isNaN(e.getTime())?t:e.toLocaleDateString("fr-FR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})}catch{return t}},upe=t=>{if(t==null)return"";try{return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}catch{return String(t)}},Ig=(t,e,r="export")=>{try{const n=e.map(u=>u.label).join(","),i=t.map(u=>lpe(u,e)),s=[n,...i].join(`
`),o=new Blob(["\uFEFF"+s],{type:"text/csv;charset=utf-8;"}),l=document.createElement("a"),c=URL.createObjectURL(o);return l.setAttribute("href",c),l.setAttribute("download",`${r}-${new Date().toISOString().split("T")[0]}.csv`),l.style.visibility="hidden",document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(c),{success:!0,message:"Export CSV réussi"}}catch(n){throw console.error("Erreur lors de l'export CSV:",n),new Error("Impossible d'exporter les données")}},dpe=[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"last_login_at",label:"Dernière connexion",type:"date"}],fpe=[{key:"id",label:"ID",type:"string"},{key:"title",label:"Titre",type:"string"},{key:"price",label:"Prix",type:"currency"},{key:"category",label:"Catégorie",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"location",label:"Localisation",type:"object"},{key:"views_count",label:"Vues",type:"number"},{key:"favorites_count",label:"Favoris",type:"number"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],hpe=[{key:"id",label:"ID",type:"string"},{key:"reference",label:"Référence",type:"string"},{key:"type",label:"Type",type:"string"},{key:"amount",label:"Montant",type:"currency"},{key:"currency",label:"Devise",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"payment_method",label:"Méthode de paiement",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"completed_at",label:"Date de finalisation",type:"date"}],ppe=[{key:"id",label:"ID",type:"string"},{key:"name",label:"Nom",type:"string"},{key:"slug",label:"Slug",type:"string"},{key:"parent_category",label:"Type parent",type:"string"},{key:"description",label:"Description",type:"string"},{key:"icon",label:"Icône",type:"string"},{key:"sort_order",label:"Ordre de tri",type:"number"},{key:"is_active",label:"Actif",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],mpe=[{key:"id",label:"ID",type:"string"},{key:"reason",label:"Raison",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"type",label:"Type",type:"string"},{key:"severity",label:"Sévérité",type:"string"},{key:"created_at",label:"Date de création",type:"date"},{key:"moderated_at",label:"Date de modération",type:"date"}],r1={users:(t,e="utilisateurs")=>Ig(t,dpe,e),listings:(t,e="annonces")=>Ig(t,fpe,e),transactions:(t,e="transactions")=>Ig(t,hpe,e),categories:(t,e="categories")=>Ig(t,ppe,e),reports:(t,e="rapports")=>Ig(t,mpe,e)},ko={getProfile:async(t=null)=>{const{data:{user:e}}=await we.auth.getUser(),r=t||e?.id;if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await we.from("users").select("*").eq("id",r).single();if(i)throw i;return n},updateProfile:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await we.from("users").update(t).eq("id",e.id).select().single();if(n)throw n;return r},getAllUsers:async()=>{const{data:t,error:e}=await we.from("users").select("*").order("created_at",{ascending:!1});if(e)throw e;return t},updateUserStatus:async(t,e)=>{const{data:r,error:n}=await we.from("users").update({status:e}).eq("id",t).select().single();if(n)throw n;return r},getUserById:async t=>{const{data:e,error:r}=await we.from("users").select("*").eq("id",t).single();if(r)throw r;return e},searchUsers:async(t,e={})=>{let r=we.from("users").select("*").or(`first_name.ilike.%${t}%,last_name.ilike.%${t}%,email.ilike.%${t}%`);e.role&&(r=r.eq("role",e.role)),e.status&&(r=r.eq("status",e.status));const{data:n,error:i}=await r.order("created_at",{ascending:!1});if(i)throw i;return n},updateUserRole:async(t,e)=>{const{data:r,error:n}=await we.from("users").update({role:e}).eq("id",t).select().single();if(n)throw n;return r},deleteUser:async t=>{const{error:e}=await we.from("users").delete().eq("id",t);if(e)throw e;return!0},getUserStats:async()=>{const{data:t,error:e}=await we.from("users").select("role, status, created_at");if(e)throw e;const r={total:t.length,byRole:{},byStatus:{},byMonth:{}};return t.forEach(n=>{r.byRole[n.role]=(r.byRole[n.role]||0)+1,r.byStatus[n.status]=(r.byStatus[n.status]||0)+1;const i=new Date(n.created_at).toISOString().slice(0,7);r.byMonth[i]=(r.byMonth[i]||0)+1}),r},exportUsers:async(t="csv")=>{const e=await ko.getAllUsers();return r1(e,[{key:"id",label:"ID",type:"string"},{key:"first_name",label:"Prénom",type:"string"},{key:"last_name",label:"Nom",type:"string"},{key:"email",label:"Email",type:"string"},{key:"phone_number",label:"Téléphone",type:"string"},{key:"role",label:"Rôle",type:"string"},{key:"status",label:"Statut",type:"string"},{key:"is_verified",label:"Vérifié",type:"boolean"},{key:"created_at",label:"Date de création",type:"date"},{key:"updated_at",label:"Dernière modification",type:"date"}],`utilisateurs-${new Date().toISOString().split("T")[0]}`,t)}},gpe=(t,e)=>{const r=t?.length||0;if(r===0)return{data:[],hasMore:!1,totalPremium:0};if(r<=e)return{data:t||[],hasMore:!1,totalPremium:r};const n=new Date,i=Math.floor((n-new Date(n.getFullYear(),0,0))/(1e3*60*60*24)),s=i%r,o=[];for(let l=0;l<e;l++){const c=(s+l)%r;o.push(t[c])}return console.log(`🔄 Rotation premium: ${r} total, ${e} affichées, offset: ${s}`),{data:o,hasMore:r>e,totalPremium:r,rotationInfo:{dayOfYear:i,rotationOffset:s,nextRotation:new Date(n.getTime()+24*60*60*1e3)}}},iC=t=>{let e=0;const r={highest:1e3,high:800,medium:600,low:400},n=t.listing_boosts?.[0]?.boost_packages?.features?.priority;e+=r[n]||500,t.is_featured&&t.is_boosted?e+=900:t.is_featured?e+=700:t.is_boosted&&(e+=600);const i=Math.ceil((new Date(t.boost_expires_at)-new Date)/(1e3*60*60*24));e+=Math.max(0,i*10);const s=Math.ceil((Date.now()-new Date(t.updated_at))/(1e3*60*60*24));return e+=Math.max(0,30-s),e},vpe=()=>{const t=new Date().getHours();return t>=6&&t<12?"real_estate":t>=12&&t<18?"automobile":t>=18&&t<22?"marketplace":"services"},sC=(t,e,r)=>({data:{real_estate:[{id:"hero-re-1",title:"Appartement de luxe au Plateau",price:85e4,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1500,is_featured:!0,is_boosted:!0},{id:"hero-re-2",title:"Villa avec piscine à Almadies",price:25e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!1},{id:"hero-re-3",title:"Terrain constructible à Thiès",price:35e4,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!0}],automobile:[{id:"hero-auto-1",title:"Toyota Land Cruiser 2022",price:45e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2e3,is_featured:!0,is_boosted:!0},{id:"hero-auto-2",title:"BMW X5 2021 - Excellent état",price:32e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-auto-3",title:"Peugeot 3008 2020",price:18e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:950,is_featured:!1,is_boosted:!0}],services:[{id:"hero-serv-1",title:"Service de nettoyage professionnel",price:25e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1200,is_featured:!0,is_boosted:!0},{id:"hero-serv-2",title:"Cours particuliers - Mathématiques",price:15e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!0,is_boosted:!1},{id:"hero-serv-3",title:"Service de déménagement",price:45e3,category:"services",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:600,is_featured:!1,is_boosted:!0}],marketplace:[{id:"hero-mp-1",title:"iPhone 15 Pro Max - Neuf",price:85e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:2500,is_featured:!0,is_boosted:!0},{id:"hero-mp-2",title:"MacBook Pro M2 - 2023",price:12e5,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1800,is_featured:!0,is_boosted:!1},{id:"hero-mp-3",title:"PS5 + 5 jeux - Comme neuf",price:35e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:1100,is_featured:!1,is_boosted:!0}]}[t]?.slice(0,r)||[],category:t,hour:e,fallbackLevel:5,nextRotation:new Date(Date.now()+60*60*1e3),rotationInfo:{currentHour:e,currentCategory:t,timeSlot:BH(e),fallbackLevel:5}}),ype=async(t=6)=>{const e=new Date().getHours(),r=vpe();if(console.log(`🕐 Hero carousel - Heure: ${e}h, Catégorie: ${r}`),!Lr)return console.warn("⚠️ Supabase non configuré, retour de données de test pour hero"),sC(r,e,t);try{let n=[],i=1;console.log(`🔄 Niveau ${i}: Annonces premium de ${r}`);const{data:s,error:o}=await we.from("listings").select(`
        *,
        users (
          id,
          first_name,
          last_name,
          profile_image
        ),
        listing_boosts (
          boost_packages (
            name,
            features
          ),
          end_date
        )
      `).eq("category",r).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(t*2);if(!o&&s&&s.length>0?(n=s,console.log(`✅ Niveau ${i} réussi: ${n.length} annonces premium trouvées`)):(console.log(`❌ Niveau ${i} échoué: ${o?.message||"Aucune annonce premium"}`),i++),n.length<t){console.log(`🔄 Niveau ${i}: Annonces populaires de ${r}`);const{data:f,error:g}=await we.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).eq("category",r).eq("status","approved").eq("is_featured",!1).eq("is_boosted",!1).order("views_count",{ascending:!1}).limit(t-n.length);!g&&f&&f.length>0?(n=[...n,...f],console.log(`✅ Niveau ${i} réussi: ${f.length} annonces populaires ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce populaire"}`),i++)}if(n.length<t){console.log(`🔄 Niveau ${i}: Annonces premium d'autres catégories`);const{data:f,error:g}=await we.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).neq("category",r).eq("status","approved").or("is_featured.eq.true,is_boosted.eq.true").order("created_at",{ascending:!1}).limit(t-n.length);!g&&f&&f.length>0?(n=[...n,...f],console.log(`✅ Niveau ${i} réussi: ${f.length} annonces d'autres catégories ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce d'autre catégorie"}`),i++)}if(n.length<t){console.log(`🔄 Niveau ${i}: Annonces récentes de toutes catégories`);const{data:f,error:g}=await we.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            profile_image
          )
        `).eq("status","approved").order("created_at",{ascending:!1}).limit(t-n.length);!g&&f&&f.length>0?(n=[...n,...f],console.log(`✅ Niveau ${i} réussi: ${f.length} annonces récentes ajoutées`)):(console.log(`❌ Niveau ${i} échoué: ${g?.message||"Aucune annonce récente"}`),i++)}if(n.length===0)return console.log(`🔄 Niveau ${i}: Données de test (fallback final)`),sC(r,e,t);const l=new Date,u=Math.floor((l-new Date(l.getFullYear(),0,0))/(1e3*60*60))%Math.max(1,n.length),d=[];for(let f=0;f<t&&f<n.length;f++){const g=(u+f)%n.length;d.push(n[g])}return console.log(`🔄 Hero rotation: ${n.length} total, ${d.length} affichées, catégorie: ${r}, heure: ${e}h, niveau de fallback: ${i}`),{data:d,category:r,hour:e,nextRotation:new Date(Date.now()+60*60*1e3),fallbackLevel:i,rotationInfo:{currentHour:e,currentCategory:r,timeSlot:BH(e),totalListings:n.length,rotationOffset:u,fallbackLevel:i}}}catch(n){return console.error("❌ Erreur lors de la récupération des annonces hero:",n),console.log("🔄 Fallback vers les données de test"),sC(r,e,t)}},BH=t=>t>=6&&t<12?"matin":t>=12&&t<18?"après-midi":t>=18&&t<22?"soirée":"nuit",en={getAllListings:async(t={})=>{if(!Lr)return console.warn("⚠️ Supabase non configuré, retour de données de test"),{data:[{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}},{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",description:"Véhicule en parfait état, entretien régulier, première main.",price:25e5,category:"automobile",status:"approved",user_id:"test-user-2",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},automobile_details:{brand:"Toyota",model:"Corolla",year:"2020"},contact_info:{phone:"+221 76 987 6543",email:"vendeur-auto@test.com"},users:{id:"test-user-2",first_name:"Fatou",last_name:"Sall",phone_number:"+221 76 987 6543",email:"fatou.sall@test.com"}},{id:"test-3",title:"Service de Plomberie Professionnel",description:"Plombier qualifié avec 10 ans d'expérience. Réparation, installation, maintenance. Intervention rapide 24h/24.",price:15e3,category:"services",status:"approved",user_id:"test-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Plomberie",experience:"10 ans",availability:"24h/24",verified:!0,certifications:["Certification professionnelle","Assurance responsabilité civile"]},contact_info:{phone:"+221 78 555 1234",email:"plombier@test.com",website:"www.plombier-dakar.com"},users:{id:"test-user-3",first_name:"Ibrahima",last_name:"Ndiaye",phone_number:"+221 78 555 1234",email:"ibrahima.ndiaye@test.com"}},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",description:"iPhone 13 Pro 128GB en excellent état, acheté il y a 6 mois. Boîte et accessoires inclus.",price:45e4,category:"marketplace",status:"approved",user_id:"test-user-4",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},product_details:{brand:"Apple",model:"iPhone 13 Pro",condition:"Excellent",warranty:"Garantie constructeur",dimensions:"146.7 x 71.5 x 7.65 mm",weight:"203g"},contact_info:{phone:"+221 77 888 9999",email:"tech@test.com"},users:{id:"test-user-4",first_name:"Aissatou",last_name:"Diop",phone_number:"+221 77 888 9999",email:"aissatou.diop@test.com"}}],count:4,hasMore:!1};const{page:e=0,limit:r=12,sort:n}=t,i=e*r,s=i+r-1;try{console.log("🔍 Début de la requête getAllListings"),console.log("🔍 Construction de la requête Supabase...");let o=we.from("listings").select("*").order(n==="popular"?"views_count":"created_at",{ascending:!1}).range(i,s);if(console.log("🔍 Requête de base construite"),t.category&&t.category!=="all"&&(o=o.eq("category",t.category)),t.status&&t.status!=="all"&&(o=o.eq("status",t.status)),t.user_id&&(o=o.eq("user_id",t.user_id)),t.search&&(o=o.or(`title.ilike.%${t.search}%,description.ilike.%${t.search}%`)),t.minPrice&&(o=o.gte("price",Number(t.minPrice))),t.maxPrice&&(o=o.lte("price",Number(t.maxPrice))),t.location){const d=String(t.location).trim();d&&(o=o.or(`location->>city.ilike.%${d}%,location->>country.ilike.%${d}%`))}console.log("🔍 Executing query with filters:",t),console.log("🔍 Lancement de la requête...");const{data:l,error:c}=await o;if(console.log("🔍 Requête terminée"),c)throw console.error("❌ Erreur Supabase:",c),c;const u=l?.map(d=>{try{return{...d,location:d.location?typeof d.location=="string"?JSON.parse(d.location):d.location:null,real_estate_details:d.real_estate_details?typeof d.real_estate_details=="string"?JSON.parse(d.real_estate_details):d.real_estate_details:null,automobile_details:d.automobile_details?typeof d.automobile_details=="string"?JSON.parse(d.automobile_details):d.automobile_details:null,service_details:d.service_details?typeof d.service_details=="string"?JSON.parse(d.service_details):d.service_details:null,product_details:d.product_details?typeof d.product_details=="string"?JSON.parse(d.product_details):d.product_details:null,contact_info:d.contact_info?typeof d.contact_info=="string"?JSON.parse(d.contact_info):d.contact_info:null}}catch(f){return console.warn("⚠️ Erreur parsing JSONB pour listing:",d.id,f),d}})||[];return{data:u,count:u.length,hasMore:!1}}catch(o){throw console.error("❌ Erreur dans getAllListings:",o),o}},getListingById:async t=>{if(!Lr)return console.warn("⚠️ Supabase non configuré, retour d'annonce de test"),{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",description:"Bel appartement moderne au cœur de Dakar, proche de tous les commerces et transports.",price:5e5,category:"real_estate",status:"approved",user_id:"test-user-1",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},real_estate_details:{type:"Appartement",rooms:"3 pièces",surface:"80m²"},contact_info:{phone:"+221 77 123 4567",email:"vendeur@test.com"},users:{id:"test-user-1",first_name:"Mamadou",last_name:"Diallo",phone_number:"+221 77 123 4567",email:"mamadou.diallo@test.com"}};try{const{data:e,error:r}=await we.from("listings").select(`
          *,
          users:users!listings_user_id_fkey (
            id,
            first_name,
            last_name,
            phone_number,
            email
          )
        `).eq("id",t).eq("status","approved").single();if(r){console.log("🔍 Erreur avec requête simple:",r);const{data:n,error:i}=await we.from("listings").select(`
            *,
            users:users!listings_user_id_fkey (
              id,
              first_name,
              last_name,
              phone_number,
              email
            )
          `).eq("id",t).single();if(i)throw i;return n?(console.log("🔍 Annonce trouvée sans filtre de statut:",n.status),{...n,location:typeof n.location=="string"?JSON.parse(n.location):n.location,real_estate_details:typeof n.real_estate_details=="string"?JSON.parse(n.real_estate_details):n.real_estate_details,automobile_details:typeof n.automobile_details=="string"?JSON.parse(n.automobile_details):n.automobile_details,service_details:typeof n.service_details=="string"?JSON.parse(n.service_details):n.service_details,product_details:typeof n.product_details=="string"?JSON.parse(n.product_details):n.product_details,contact_info:typeof n.contact_info=="string"?JSON.parse(n.contact_info):n.contact_info}):null}return e?{...e,location:typeof e.location=="string"?JSON.parse(e.location):e.location,real_estate_details:typeof e.real_estate_details=="string"?JSON.parse(e.real_estate_details):e.real_estate_details,automobile_details:typeof e.automobile_details=="string"?JSON.parse(e.automobile_details):e.automobile_details,service_details:typeof e.service_details=="string"?JSON.parse(e.service_details):e.service_details,product_details:typeof e.product_details=="string"?JSON.parse(e.product_details):e.product_details,contact_info:typeof e.contact_info=="string"?JSON.parse(e.contact_info):e.contact_info}:null}catch(e){throw console.error("🔍 Erreur dans getListingById:",e),e}},incrementViews:async t=>{try{const{error:e}=await we.rpc("increment_listing_views",{listing_id:t});if(e)throw e}catch(e){console.warn("⚠️ Impossible d'incrémenter views_count pour",t,e?.message)}},getTopViewedListings:async(t=6)=>{if(console.log("🔍 getTopViewedListings appelé avec limit:",t),console.log("🔍 isSupabaseConfigured:",Lr),!Lr)return console.warn("⚠️ Supabase non configuré, retour de données de test (top vues)"),[{id:"test-2",title:"Toyota Corolla 2020 - Excellent état",price:25e5,category:"automobile",status:"approved",created_at:new Date().toISOString(),location:{city:"Thiès",country:"Sénégal"},images:[],views_count:1200,is_featured:!1,is_boosted:!1},{id:"test-1",title:"Appartement 3 pièces au Centre-Ville",price:5e5,category:"real_estate",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:980,is_featured:!1,is_boosted:!1},{id:"test-4",title:"iPhone 13 Pro - Comme neuf",price:45e4,category:"marketplace",status:"approved",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},images:[],views_count:800,is_featured:!1,is_boosted:!1}].slice(0,t);try{console.log("🔍 Tentative de connexion à Supabase...");const{data:e,error:r}=await we.from("listings").select("*").eq("status","approved").not("is_featured","eq",!0).not("is_boosted","eq",!0).order("views_count",{ascending:!1,nullsFirst:!1}).limit(t);if(console.log("🔍 Réponse Supabase:",{data:e,error:r}),r)throw r;const n=(e||[]).map(i=>({...i,location:i.location?typeof i.location=="string"?JSON.parse(i.location):i.location:null,real_estate_details:i.real_estate_details?typeof i.real_estate_details=="string"?JSON.parse(i.real_estate_details):i.real_estate_details:null,automobile_details:i.automobile_details?typeof i.automobile_details=="string"?JSON.parse(i.automobile_details):i.automobile_details:null,service_details:i.service_details?typeof i.service_details=="string"?JSON.parse(i.service_details):i.service_details:null,product_details:i.product_details?typeof i.product_details=="string"?JSON.parse(i.product_details):i.product_details:null,contact_info:i.contact_info?typeof i.contact_info=="string"?JSON.parse(i.contact_info):i.contact_info:null}));return console.log("🔍 Données nettoyées:",n),n}catch(e){throw console.error("❌ Erreur dans getTopViewedListings:",e),e}},getUserListings:async()=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await we.from("listings").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},createListing:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{currency:r,specificData:n,subCategory:i,videos:s,...o}=t,l={...o,user_id:e.id,status:"approved"};r&&(l.currency=r),n&&Object.keys(n).length>0&&(l.specific_data=n),i&&(l.subCategory=i),s&&s.length>0&&(l.videos=s);const{data:c,error:u}=await we.from("listings").insert([l]).select().single();if(u)throw console.error("Erreur création annonce:",u),u;return c},updateListing:async(t,e)=>{const{data:r,error:n}=await we.from("listings").update(e).eq("id",t).select().single();if(n)throw n;return r},deleteListing:async t=>{const{error:e}=await we.from("listings").delete().eq("id",t);if(e)throw e},updateListingStatus:async(t,e)=>{const{data:r,error:n}=await we.from("listings").update({status:e}).eq("id",t).select().single();if(n)throw n;return r},searchListings:async t=>{const{query:e,category:r,minPrice:n,maxPrice:i,location:s,status:o="approved"}=t;let l=we.from("listings").select("*").eq("status",o);e&&(l=l.or(`title.ilike.%${e}%,description.ilike.%${e}%`)),r&&(l=l.eq("category",r)),n&&(l=l.gte("price",Number(n))),i&&(l=l.lte("price",Number(i))),s&&(l=l.or(`location->>city.ilike.%${s}%,location->>country.ilike.%${s}%`));const{data:c,error:u}=await l.order("created_at",{ascending:!1});if(u)throw u;return c},getListingStats:async()=>{const{data:t,error:e}=await we.from("listings").select("category, status, created_at, price");if(e)throw e;const r={total:t.length,byCategory:{},byStatus:{},byMonth:{},totalValue:0,averagePrice:0};let n=0;return t.forEach(i=>{r.byCategory[i.category]=(r.byCategory[i.category]||0)+1,r.byStatus[i.status]=(r.byStatus[i.status]||0)+1;const s=new Date(i.created_at).toISOString().slice(0,7);r.byMonth[s]=(r.byMonth[s]||0)+1,i.price&&(n+=i.price)}),r.totalValue=n,r.averagePrice=t.length>0?n/t.length:0,r},getPremiumListings:async(t=6,e=!1)=>{if(!Lr)return console.warn("⚠️ Supabase non configuré, retour de données de test premium"),{data:[{id:"premium-1",title:"Villa de luxe avec vue mer - Premium",description:"Magnifique villa 5 pièces avec vue panoramique sur l'océan. Piscine privée, jardin paysager, garage 2 voitures.",price:15e6,category:"real_estate",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-1",created_at:new Date().toISOString(),location:{city:"Saly",country:"Sénégal"},real_estate_details:{type:"Villa",rooms:"5 pièces",surface:"200m²",amenities:["Piscine","Jardin","Garage"]},contact_info:{phone:"+221 77 999 8888",email:"villa-premium@test.com"},views_count:1250,favorites_count:89,users:{id:"premium-user-1",first_name:"Omar",last_name:"Diop",phone_number:"+221 77 999 8888",email:"omar.diop@test.com"}},{id:"premium-2",title:"Mercedes Classe S 2023 - Premium",description:"Berline de luxe Mercedes Classe S en parfait état, toutes options, entretien constructeur, garantie étendue.",price:45e6,category:"automobile",status:"approved",is_featured:!0,is_boosted:!0,user_id:"premium-user-2",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},automobile_details:{brand:"Mercedes",model:"Classe S",year:"2023",condition:"Parfait"},contact_info:{phone:"+221 76 777 6666",email:"mercedes-premium@test.com"},views_count:890,favorites_count:67,users:{id:"premium-user-2",first_name:"Aissatou",last_name:"Fall",phone_number:"+221 76 777 6666",email:"aissatou.fall@test.com"}},{id:"premium-3",title:"Service de Design d'Intérieur Premium",description:"Designer d'intérieur certifié avec 15 ans d'expérience. Projets résidentiels et commerciaux, suivi complet.",price:25e4,category:"services",status:"approved",is_featured:!0,is_boosted:!1,user_id:"premium-user-3",created_at:new Date().toISOString(),location:{city:"Dakar",country:"Sénégal"},service_details:{expertise:"Design d'Intérieur",experience:"15 ans",availability:"Sur rendez-vous",verified:!0,certifications:["Certification internationale","Membre de l'ordre des designers"]},contact_info:{phone:"+221 78 444 3333",email:"design-premium@test.com",website:"www.design-interieur-premium.com"},views_count:567,favorites_count:34,users:{id:"premium-user-3",first_name:"Mariama",last_name:"Ba",phone_number:"+221 78 444 3333",email:"mariama.ba@test.com"}}],hasMore:!1};try{const{data:r,error:n}=await we.from("listings").select(`
          *,
          users (
            id,
            first_name,
            last_name,
            phone_number,
            email
          ),
          listing_boosts (
            boost_packages (
              features
            ),
            end_date
          )
        `).or("is_featured.eq.true,is_boosted.eq.true").eq("status","approved").order("updated_at",{ascending:!1});if(n)throw n;const i=r.map(s=>{const o=s.listing_boosts?.[0],l=o?.boost_packages?.features;return{...s,premium_metadata:{priority:l?.priority||"medium",badge:l?.badge||"boosted",featured:l?.featured||!1,analytics:l?.analytics||"basic",support:l?.support||"standard"},boost_expires_at:o?.end_date||null}});if(e){console.log("🏆 Tri par score premium activé");const s=i.sort((o,l)=>{const c=iC(o);return iC(l)-c});return{data:s.slice(0,t),hasMore:s.length>t,totalPremium:s.length,sortingMethod:"score",topScores:s.slice(0,3).map((o,l)=>({position:l+1,score:iC(o),title:o.title}))}}else return console.log("🔄 Rotation intelligente activée"),gpe(i,t)}catch(r){throw console.error("Erreur lors de la récupération des annonces premium:",r),r}},getHeroListings:async(t=6)=>ype(t)};class xpe{async getUserTransactions(e,r={}){try{let n=we.from("transactions").select(`
          *,
          listing:listings(id, title, price, images),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url)
        `).or(`sender_id.eq.${e},receiver_id.eq.${e}`).order("created_at",{ascending:!1});r.status&&(n=n.eq("status",r.status)),r.type&&(n=n.eq("type",r.type)),r.dateFrom&&(n=n.gte("created_at",r.dateFrom)),r.dateTo&&(n=n.lte("created_at",r.dateTo)),r.amountMin&&(n=n.gte("amount",r.amountMin)),r.amountMax&&(n=n.lte("amount",r.amountMax));const{data:i,error:s}=await n;if(s)throw s;return i}catch(n){throw console.error("Erreur lors de la récupération des transactions:",n),n}}async createTransaction(e){try{const{data:r,error:n}=await we.from("transactions").insert([{...e,status:"pending",created_at:new Date().toISOString()}]).select().single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la création de la transaction:",r),r}}async updateTransactionStatus(e,r,n={}){try{const{data:i,error:s}=await we.from("transactions").update({status:r,metadata:{...n,status_updated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(s)throw s;return i}catch(i){throw console.error("Erreur lors de la mise à jour du statut:",i),i}}async getTransaction(e){try{const{data:r,error:n}=await we.from("transactions").select(`
          *,
          listing:listings(id, title, price, images, description),
          sender:users!transactions_sender_id_fkey(id, full_name, avatar_url, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, avatar_url, email)
        `).eq("id",e).single();if(n)throw n;return r}catch(r){throw console.error("Erreur lors de la récupération de la transaction:",r),r}}async cancelTransaction(e,r){try{const{data:n,error:i}=await we.from("transactions").update({status:"cancelled",metadata:{cancellation_reason:r,cancelled_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de l'annulation de la transaction:",n),n}}async getTransactionStats(e){try{const{data:r,error:n}=await we.from("transactions").select("status, amount, type, created_at").or(`sender_id.eq.${e},receiver_id.eq.${e}`);if(n)throw n;const i={total:r.length,totalAmount:r.reduce((s,o)=>s+(o.amount||0),0),byStatus:{},byType:{},monthly:{}};return r.forEach(s=>{i.byStatus[s.status]=(i.byStatus[s.status]||0)+1,i.byType[s.type]=(i.byType[s.type]||0)+1;const o=new Date(s.created_at).toISOString().slice(0,7);i.monthly[o]||(i.monthly[o]={count:0,amount:0}),i.monthly[o].count++,i.monthly[o].amount+=s.amount||0}),i}catch(r){throw console.error("Erreur lors de la récupération des statistiques:",r),r}}async searchTransactions(e,r){try{const{data:n,error:i}=await we.from("transactions").select(`
          *,
          listing:listings(id, title),
          sender:users!transactions_sender_id_fkey(id, full_name),
          receiver:users!transactions_receiver_id_fkey(id, full_name)
        `).or(`sender_id.eq.${e},receiver_id.eq.${e}`).or(`reference.ilike.%${r}%,description.ilike.%${r}%`).order("created_at",{ascending:!1});if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la recherche de transactions:",n),n}}async exportTransactions(e,r={}){try{return(await this.getUserTransactions(e,r)).map(s=>({Référence:s.reference,Date:new Date(s.created_at).toLocaleDateString("fr-FR"),Type:s.type,Statut:s.status,Montant:s.amount,Devise:s.currency,Description:s.description,Expéditeur:s.sender?.full_name||"N/A",Destinataire:s.receiver?.full_name||"N/A"}))}catch(n){throw console.error("Erreur lors de l'export des transactions:",n),n}}async validateTransaction(e,r){try{const{data:n,error:i}=await we.from("transactions").update({status:"completed",metadata:{validated_by:r,validated_at:new Date().toISOString()},updated_at:new Date().toISOString()}).eq("id",e).select().single();if(i)throw i;return n}catch(n){throw console.error("Erreur lors de la validation de la transaction:",n),n}}async getPendingTransactions(){try{const{data:e,error:r}=await we.from("transactions").select(`
          *,
          listing:listings(id, title, price),
          sender:users!transactions_sender_id_fkey(id, full_name, email),
          receiver:users!transactions_receiver_id_fkey(id, full_name, email)
        `).eq("status","pending").order("created_at",{ascending:!0});if(r)throw r;return e}catch(e){throw console.error("Erreur lors de la récupération des transactions en attente:",e),e}}}const bpe=new xpe,zH={getUserNotifications:async()=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await we.from("notifications").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},markAsRead:async t=>{const{data:e,error:r}=await we.from("notifications").update({read:!0}).eq("id",t).select().single();if(r)throw r;return e},createNotification:async t=>{const{data:e,error:r}=await we.from("notifications").insert([t]).select().single();if(r)throw r;return e},markAllAsRead:async()=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{error:e}=await we.from("notifications").update({read:!0}).eq("user_id",t.id).eq("read",!1);if(e)throw e;return!0},deleteNotification:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:r}=await we.from("notifications").delete().eq("id",t).eq("user_id",e.id);if(r)throw r;return!0},getUnreadCount:async()=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{count:e,error:r}=await we.from("notifications").select("*",{count:"exact",head:!0}).eq("user_id",t.id).eq("read",!1);if(r)throw r;return e||0},sendPushNotification:async(t,e,r,n={})=>{try{const{data:i,error:s}=await we.from("users").select("push_token").eq("id",t).single();return s||!i?.push_token?(console.warn("Aucun token push trouvé pour l'utilisateur:",t),!1):await zH.createNotification({user_id:t,title:e,body:r,type:"push",data:JSON.stringify(n),read:!1})}catch(i){throw console.error("Erreur envoi notification push:",i),i}}};new Date().toISOString(),new Date().toISOString(),new Date().toISOString();const wpe=async t=>{try{console.log("🔍 Création de la conversation de bienvenue pour l'utilisateur:",t);const{data:e,error:r}=await we.from("conversations").insert([{participant1_id:"00000000-0000-0000-0000-000000000000",participant2_id:t,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw console.error("❌ Erreur création conversation de bienvenue:",r),r;console.log("✅ Conversation de bienvenue créée:",e.id);const n={conversation_id:e.id,sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:t,content:`🤖 Bienvenue sur MaxiMarket !

Votre marketplace de confiance pour l'Afrique de l'Ouest.

✨ Découvrez nos fonctionnalités :
• 🏠 Immobilier : Achetez, vendez, louez
• 🚗 Automobile : Véhicules neufs et d'occasion
• 🛠️ Services : Trouvez des professionnels
• 🛍️ Marketplace : Tout ce dont vous avez besoin

🔒 Sécurité garantie avec nos partenaires vérifiés
💬 Support 24/7 disponible

Besoin d'aide ? Je suis là pour vous accompagner !`,message_type:"system",is_read:!1,created_at:new Date().toISOString()},{data:i,error:s}=await we.from("messages").insert([n]).select().single();if(s)throw console.error("❌ Erreur ajout message de bienvenue:",s),s;return console.log("✅ Message de bienvenue ajouté:",i.id),e}catch(e){return console.error("❌ Erreur création conversation de bienvenue:",e),null}},Qi={getUserConversations:async()=>{try{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des conversations pour l'utilisateur:",t.id);const{data:e,error:r}=await we.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${t.id},participant2_id.eq.${t.id}`).order("last_message_at",{ascending:!1,nullsLast:!0}).order("created_at",{ascending:!1});if(r)throw console.error("❌ Erreur récupération conversations:",r),r;console.log("🔍 Conversations trouvées:",e?.length||0),console.log("🔍 Vérification de la conversation de l'assistant...");const{data:n,error:i}=await we.from("conversations").select(`
          id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.00000000-0000-0000-0000-000000000000,participant2_id.eq.${t.id}`).or(`participant1_id.eq.${t.id},participant2_id.eq.00000000-0000-0000-0000-000000000000`).single();let s=null;i||!n?(console.log("Création de la conversation de l'assistant pour l'utilisateur:",t.id),s=await wpe(t.id)):(console.log("Conversation de l'assistant existante trouvée:",n.id),s=n);let o=null;if(s){const{data:c,error:u}=await we.from("messages").select("*").eq("conversation_id",s.id).eq("sender_id","00000000-0000-0000-0000-000000000000").single();!u&&c&&(o={...s,messages:[c],participant1:{id:"00000000-0000-0000-0000-000000000000",first_name:"Assistant",last_name:"MaxiMarket",profile_image:null},participant2:{id:t.id,first_name:t.user_metadata?.first_name||"",last_name:t.user_metadata?.last_name||"",profile_image:t.user_metadata?.profile_image||null},listing:null})}if((!e||e.length===0)&&!o)return console.log("Aucune conversation trouvée, impossible de créer l'assistant"),[];const l=await Promise.all(e.map(async c=>{try{console.log(`🔍 Traitement de la conversation: ${c.id}`);let u=null;if(c.listing_id){const{data:S,error:C}=await we.from("listings").select("id, title, price, images").eq("id",c.listing_id).single();!C&&S?(u=S,console.log(`✅ Listing récupéré pour la conversation ${c.id}:`,S.title)):console.warn(`⚠️ Listing non trouvé pour la conversation ${c.id}:`,C)}const d=c.participant1_id,f=c.participant2_id;console.log(`🔍 Récupération des participants pour la conversation ${c.id}:`),console.log(`🔍 Participant 1 ID: ${d}`),console.log(`🔍 Participant 2 ID: ${f}`);let g=null,v=null;if(d)try{console.log(`🔍 Récupération des détails du participant 1: ${d}`);const{data:S,error:C}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",d).single();console.log("🔍 Résultat participant 1 - data:",S),console.log("🔍 Résultat participant 1 - error:",C),!C&&S?(g=S,console.log(`✅ Participant 1 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 1 non trouvé pour la conversation ${c.id}:`,d,C),g={id:d,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 1 pour la conversation ${c.id}:`,S),g={id:d,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}if(f)try{console.log(`🔍 Récupération des détails du participant 2: ${f}`);const{data:S,error:C}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",f).single();console.log("🔍 Résultat participant 2 - data:",S),console.log("🔍 Résultat participant 2 - error:",C),!C&&S?(v=S,console.log(`✅ Participant 2 récupéré pour la conversation ${c.id}:`,{id:S.id,name:`${S.first_name||"N/A"} ${S.last_name||"N/A"}`,avatar:S.profile_image||S.profile_image})):(console.warn(`❌ Utilisateur 2 non trouvé pour la conversation ${c.id}:`,f,C),v={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null})}catch(S){console.error(`❌ Erreur lors de la récupération de l'utilisateur 2 pour la conversation ${c.id}:`,S),v={id:f,first_name:"Utilisateur",last_name:"Inconnu",profile_image:null,profile_image:null}}const{data:y,error:x}=await we.from("messages").select(`
                id,
                content,
                created_at,
                is_read,
                sender_id,
                conversation_id
              `).eq("conversation_id",c.id).order("created_at",{ascending:!0});if(x)return console.error(`❌ Erreur récupération messages pour la conversation ${c.id}:`,x),{...c,messages:[],listing:u,participant1:g,participant2:v};console.log(`✅ Messages récupérés pour la conversation ${c.id}:`,y?.length||0);const _=await Promise.all((y||[]).map(async S=>{try{let C=null;if(S.sender_id){console.log(`🔍 Récupération de l'expéditeur pour le message ${S.id}: ${S.sender_id}`);const{data:N,error:A}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",S.sender_id).single();!A&&N?(C=N,console.log(`✅ Expéditeur récupéré pour le message ${S.id}:`,{id:N.id,name:`${N.first_name||"N/A"} ${N.last_name||"N/A"}`})):console.warn(`⚠️ Expéditeur non trouvé pour le message ${S.id}:`,S.sender_id,A)}return{...S,sender:C}}catch(C){return console.error(`❌ Erreur lors de la récupération des détails de l'expéditeur pour le message ${S.id}:`,C),S}}));return console.log(`✅ Conversation ${c.id} traitée avec succès:`,{participant1:g?`${g.first_name||"N/A"} ${g.last_name||"N/A"}`:"N/A",participant2:v?`${v.first_name||"N/A"} ${v.last_name||"N/A"}`:"N/A",messages:_?.length||0,listing:u?.title||"N/A"}),{...c,messages:_||[],listing:u,participant1:g,participant2:v}}catch(u){return console.error(`❌ Erreur lors du traitement de la conversation ${c.id}:`,u),{...c,messages:[],listing:null,participant1:null,participant2:null}}}));return o&&(l.unshift(o),console.log("✅ Conversation de l'assistant ajoutée à la liste")),console.log(`✅ Total des conversations traitées: ${l.length}`),l.forEach((c,u)=>{console.log(`🔍 Conversation ${u+1}:`,{id:c.id,p1:c.participant1?`${c.participant1.first_name||"N/A"} ${c.participant1.last_name||"N/A"}`:"N/A",p2:c.participant2?`${c.participant2.first_name||"N/A"} ${c.participant2.last_name||"N/A"}`:"N/A",messages:c.messages?.length||0})}),l}catch(t){throw console.error("❌ Erreur dans getUserConversations:",t),t}},getConversationMessages:async t=>{try{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages pour la conversation:",t);const{data:r,error:n}=await we.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",t).order("created_at",{ascending:!0});if(n)throw console.error("Erreur récupération messages:",n),n;return await Promise.all((r||[]).map(async s=>{try{let o=null,l=null;if(s.sender_id){const{data:c,error:u}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.sender_id).single();!u&&c&&(o=c)}if(s.receiver_id){const{data:c,error:u}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.receiver_id).single();!u&&c&&(l=c)}return{...s,sender:o,receiver:l}}catch(o){return console.error("Erreur lors de la récupération des détails utilisateur:",o),s}}))}catch(e){throw console.error("Erreur dans getConversationMessages:",e),e}},sendMessage:async(t,e,r="text")=>{const{data:{user:n}}=await we.auth.getUser();if(!n)throw new Error("Utilisateur non connecté");console.log("📤 Envoi de message dans la conversation:",t);const{data:i,error:s}=await we.from("conversations").select("participant1_id, participant2_id").eq("id",t).single();if(s)throw s;const o=i.participant1_id===n.id?i.participant2_id:i.participant1_id,l=new Date().toISOString(),{data:c,error:u}=await we.from("messages").insert([{sender_id:n.id,receiver_id:o,conversation_id:t,content:e,message_type:r,created_at:l}]).select().single();if(u)throw u;console.log("✅ Message envoyé avec succès, mise à jour de la conversation..."),console.log("🔍 message.service - Mise à jour de la conversation:",t),console.log("🔍 message.service - currentTime:",l);const{data:d,error:f}=await we.from("conversations").update({last_message_at:l,updated_at:l}).eq("id",t).select();return f?console.error("❌ Erreur mise à jour conversation:",f):(console.log("✅ Conversation mise à jour avec succès:",d),console.log("✅ last_message_at mis à jour:",l)),c},refreshConversations:async()=>{try{return console.log("🔄 Actualisation automatique des conversations..."),await Qi.getUserConversations()}catch(t){throw console.error("❌ Erreur lors de l'actualisation des conversations:",t),t}},syncConversation:async t=>{try{console.log("🔄 Synchronisation de la conversation:",t);const{data:e,error:r}=await we.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("conversation_id",t).order("created_at",{ascending:!0});if(r)throw r;const n=await Promise.all((e||[]).map(async i=>{try{let s=null;if(i.sender_id){const{data:o,error:l}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!l&&o&&(s=o)}return{...i,sender:s}}catch(s){return console.error("Erreur lors de la récupération des détails de l'expéditeur:",s),i}}));return console.log("✅ Conversation synchronisée:",n?.length||0,"messages"),n}catch(e){throw console.error("❌ Erreur lors de la synchronisation de la conversation:",e),e}},createConversation:async(t,e=null)=>{const{data:{user:r}}=await we.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");const{data:n,error:i}=await we.from("conversations").select("id").or(`and(participant1_id.eq.${r.id},participant2_id.eq.${t}),and(participant1_id.eq.${t},participant2_id.eq.${r.id})`).eq("listing_id",e).single();if(n)return n;const{data:s,error:o}=await we.from("conversations").insert([{participant1_id:r.id,participant2_id:t,listing_id:e,is_active:!0}]).select().single();if(o)throw o;return s},markMessagesAsRead:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Marquage des messages comme lus pour la conversation:",t);const{error:r}=await we.from("messages").update({is_read:!0,read_at:new Date().toISOString()}).eq("conversation_id",t).neq("sender_id",e.id).eq("is_read",!1);if(r)throw console.error("Erreur lors du marquage des messages comme lus:",r),r;return console.log("✅ Messages marqués comme lus avec succès"),!0},archiveConversation:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Archivage de la conversation:",t);const{data:r,error:n}=await we.from("conversations").select("participant1_id, participant2_id, is_archived").eq("id",t).single();if(n)throw n;if(r.participant1_id!==e.id&&r.participant2_id!==e.id)throw new Error("Non autorisé");const i=!r.is_archived,{error:s}=await we.from("conversations").update({is_archived:i,updated_at:new Date().toISOString()}).eq("id",t);if(s)throw console.error("Erreur lors de l'archivage de la conversation:",s),s;return console.log(`✅ Conversation ${i?"archivée":"désarchivée"} avec succès`),{is_archived:i}},toggleConversationStar:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Basculement du statut favori pour la conversation:",t);const{data:r,error:n}=await we.from("conversations").select("participant1_id, participant2_id, starred").eq("id",t).single();if(n)throw n;if(r.participant1_id!==e.id&&r.participant2_id!==e.id)throw new Error("Non autorisé");const i=!r.starred,{error:s}=await we.from("conversations").update({starred:i,updated_at:new Date().toISOString()}).eq("id",t);if(s)throw console.error("Erreur lors du basculement du statut favori:",s),s;return console.log(`✅ Conversation ${i?"ajoutée aux":"retirée des"} favoris avec succès`),{starred:i}},deleteMessage:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression du message:",t);const{data:r,error:n}=await we.from("messages").select("sender_id, conversation_id").eq("id",t).single();if(n)throw n;if(r.sender_id!==e.id)throw new Error("Vous ne pouvez supprimer que vos propres messages");const{error:i}=await we.from("messages").delete().eq("id",t);if(i)throw console.error("Erreur lors de la suppression du message:",i),i;return console.log("✅ Message supprimé avec succès"),!0},deleteConversation:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Suppression de la conversation:",t),console.log("🔍 Utilisateur actuel:",e.id);const{data:r,error:n}=await we.from("conversations").select("participant1_id, participant2_id").eq("id",t).single();if(n)throw console.error("❌ Erreur lors de la vérification de la conversation:",n),n;if(console.log("🔍 Conversation trouvée:",r),r.participant1_id!==e.id&&r.participant2_id!==e.id)throw console.error("❌ Utilisateur non autorisé à supprimer cette conversation"),new Error("Non autorisé");console.log("✅ Autorisation vérifiée, suppression en cours..."),console.log("🔍 Suppression des messages de la conversation...");const{error:i}=await we.from("messages").delete().eq("conversation_id",t);if(i)throw console.error("❌ Erreur lors de la suppression des messages:",i),i;console.log("✅ Messages supprimés avec succès"),console.log("🔍 Suppression de la conversation...");const{error:s}=await we.from("conversations").delete().eq("id",t);if(s)throw console.error("❌ Erreur lors de la suppression de la conversation:",s),s;return console.log("✅ Conversation supprimée avec succès"),!0},searchConversations:async t=>{try{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");console.log("🔍 Recherche de conversations avec le terme:",t);const{data:r,error:n}=await we.from("conversations").select(`
          id,
          listing_id,
          participant1_id,
          participant2_id,
          is_active,
          last_message_at,
          created_at,
          updated_at
        `).or(`participant1_id.eq.${e.id},participant2_id.eq.${e.id}`).order("last_message_at",{ascending:!1});if(n)throw console.error("Erreur recherche conversations:",n),n;return(await Promise.all((r||[]).map(async s=>{try{let o=null,l=null,c=null;if(s.listing_id){const{data:u,error:d}=await we.from("listings").select("id, title").eq("id",s.listing_id).single();!d&&u&&(o=u)}if(s.participant1_id){const{data:u,error:d}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant1_id).single();!d&&u&&(l=u)}if(s.participant2_id){const{data:u,error:d}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",s.participant2_id).single();!d&&u&&(c=u)}return{...s,listing:o,participant1:l,participant2:c}}catch(o){return console.error("Erreur lors de l'enrichissement de la conversation:",o),s}}))).filter(s=>{if(!t)return!0;const o=t.toLowerCase();return!!(s.listing?.title?.toLowerCase().includes(o)||s.participant1?.first_name?.toLowerCase().includes(o)||s.participant1?.last_name?.toLowerCase().includes(o)||s.participant2?.first_name?.toLowerCase().includes(o)||s.participant2?.last_name?.toLowerCase().includes(o))})}catch(e){throw console.error("Erreur dans searchConversations:",e),e}},getUnreadMessages:async()=>{try{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");console.log("🔍 Récupération des messages non lus pour l'utilisateur:",t.id);const{data:e,error:r}=await we.from("messages").select(`
          id,
          content,
          created_at,
          is_read,
          sender_id,
          receiver_id,
          conversation_id,
          message_type
        `).eq("receiver_id",t.id).eq("is_read",!1).order("created_at",{ascending:!1});if(r)throw console.error("Erreur récupération messages non lus:",r),r;return await Promise.all((e||[]).map(async i=>{try{let s=null,o=null;if(i.conversation_id){const{data:l,error:c}=await we.from("conversations").select("id, listing_id").eq("id",i.conversation_id).single();!c&&l&&(s=l)}if(i.sender_id){const{data:l,error:c}=await we.from("users").select("id, first_name, last_name, profile_image").eq("id",i.sender_id).single();!c&&l&&(o=l)}return{...i,conversation:s,sender:o}}catch(s){return console.error("Erreur lors de l'enrichissement du message:",s),i}}))}catch(t){throw console.error("Erreur dans getUnreadMessages:",t),t}},getUnreadMessageCount:async()=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{count:e,error:r}=await we.from("messages").select("*",{count:"exact",head:!0}).eq("receiver_id",t.id).eq("is_read",!1);if(r)throw r;return e||0},sendSystemMessage:async(t,e,r="system")=>{const{data:n,error:i}=await we.from("messages").insert([{sender_id:"00000000-0000-0000-0000-000000000000",receiver_id:t,content:e,message_type:r,is_read:!1}]).select().single();if(i)throw i;return n}};class _pe{static forbiddenWords=["spam","arnaque","fake","faux","escroquerie","arnaqueur","arnaqueuse","escroc","arnaqueur","arnaqueuse","arnaqueur","merde","putain","con","salope","nique","fuck","shit","bitch","asshole","connard","connasse","enculé","enculée","publicité","pub","promotion","offre spéciale","promo","rabais","réduction","bon plan","opportunité","business","politique","religion","dieu","allah","jésus","parti","élection","vote","candidat","président","ministre","drogue","cannabis","cocaïne","héroïne","trafic","illégal","contrefaçon","faux billets","fausse monnaie","vol","cambriolage"];static spamPatterns=[/(https?:\/\/[^\s]+)/g,/(\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b)/g,/(\b\d{10,}\b)/g,/(\b[A-Z]{5,}\b)/g,/(.)\1{4,}/g,/(\b\w+\b)(?:\s+\1){2,}/g];static commercialPatterns=[/\b(achetez|vendez|promotion|offre|rabais|réduction|bon plan)\b/gi,/\b(contactez|appelez|écrivez|visitez)\b/gi,/\b(prix|tarif|coût|gratuit|payant)\b/gi];static analyzeContent(e){if(!e||typeof e!="string")return{isClean:!1,score:100,issues:["Contenu vide ou invalide"],shouldAutoReject:!0,shouldAutoApprove:!1,moderationLevel:"high"};const r=e.toLowerCase(),n=[];let i=100;const s=this.forbiddenWords.filter(v=>r.includes(v.toLowerCase()));s.length>0&&(n.push(`Mots interdits détectés: ${s.join(", ")}`),i-=s.length*20);const o=this.spamPatterns.some(v=>v.test(e));o&&(n.push("Patterns de spam détectés"),i-=30);const l=this.commercialPatterns.some(v=>v.test(e));l&&(n.push("Contenu commercial détecté"),i-=15),e.length<10&&(n.push("Commentaire trop court"),i-=25),e.length>1e3&&(n.push("Commentaire trop long"),i-=10),(e.match(/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/g)||[]).length/e.length>.3&&(n.push("Trop de caractères spéciaux"),i-=20),(e.match(/[A-Z]/g)||[]).length/e.length>.5&&(n.push("Trop de majuscules"),i-=15);const d=i<30||s.length>=3,f=i>=80&&n.length===0,g=i<30?"high":i<60?"medium":"low";return{isClean:i>=60,score:Math.max(0,i),issues:n,shouldAutoReject:d,shouldAutoApprove:f,moderationLevel:g,foundForbiddenWords:s,spamDetected:o,commercialDetected:l}}static async moderateComment(e){const r=this.analyzeContent(e.content);let n="pending",i=null;return r.shouldAutoReject?(n="rejected",i=`Contenu inapproprié détecté: ${r.issues.join(", ")}`):r.shouldAutoApprove?(n="approved",i="Contenu approuvé automatiquement"):(n="pending",i="Nécessite une modération manuelle"),{status:n,reason:i,analysis:r,moderatedAt:new Date().toISOString()}}static async checkUserRateLimit(e,r){return{canPost:!0,reason:null,nextAllowedTime:null}}static async analyzeUserBehavior(e){return{trustScore:50,warningCount:0,isFlagged:!1,lastViolation:null}}static getModerationSuggestions(e){const r=[];return e.foundForbiddenWords.length>0&&r.push({type:"warning",message:"Évitez les mots inappropriés",action:"reject"}),e.spamDetected&&r.push({type:"warning",message:"Contenu détecté comme spam",action:"reject"}),e.commercialDetected&&r.push({type:"info",message:"Contenu commercial détecté",action:"review"}),e.score<50&&r.push({type:"warning",message:"Score de qualité faible",action:"review"}),r}static formatModerationReport(e,r,n){return{commentId:e.id,userId:e.user_id,listingId:e.listing_id,content:e.content,analysis:{score:r.score,issues:r.issues,moderationLevel:r.moderationLevel},moderation:{status:n.status,reason:n.reason,moderatedAt:n.moderatedAt},suggestions:this.getModerationSuggestions(r)}}}class Spe{async getComments(e,r={}){console.log("🔍 [CommentService] getComments appelé avec:",{listingId:e,options:r});try{console.log("🔍 [CommentService] Construction de la requête...");const{page:n=1,limit:i=10,forceRefresh:s=!1}=r,o=(n-1)*i,l=o+i-1;console.log("🔍 [CommentService] Paramètres de pagination:",{page:n,limit:i,from:o,to:l,forceRefresh:s});const c=s?`&_t=${Date.now()}`:"",{data:u,error:d}=await we.from("comments").select(`
          *,
          user:users(id, first_name, last_name, email)
        `).eq("listing_id",e).eq("status","approved").order("created_at",{ascending:!1}).range(o,l);if(console.log("🔍 [CommentService] Requête SQL exécutée avec listingId:",e),console.log("🔍 [CommentService] Résultat requête commentaires:",{commentsCount:u?.length||0,comments:u?.map(_=>({id:_.id,user_id:_.user_id,user:_.user,content:_.content?.substring(0,50)+"..."})),commentsError:d}),d)throw console.error("❌ [CommentService] Erreur requête commentaires:",d),d;const{count:f,error:g}=await we.from("comments").select("*",{count:"exact",head:!0}).eq("listing_id",e).eq("status","approved");if(console.log("🔍 [CommentService] Résultat comptage:",{count:f,countError:g}),g)throw console.error("❌ [CommentService] Erreur comptage:",g),g;const v=f||0,y=Math.ceil(v/i),x=u?.map(_=>{const S=_.user;let C="Utilisateur anonyme",N=null;if(S)S.first_name&&S.last_name?C=`${S.first_name} ${S.last_name}`:S.first_name?C=S.first_name:S.last_name?C=S.last_name:S.email&&(C=S.email.split("@")[0]),N=S.email;else{const A=_.user_id;A&&(C=`Utilisateur ${A.slice(0,8)}`)}return{..._,user_display_name:C,user_email:N}})||[];return console.log("✅ [CommentService] Commentaires récupérés avec succès:",{commentsCount:x?.length||0,total:v,pages:y,currentPage:n}),{comments:x,pagination:{page:n,limit:i,total:v,pages:y},error:null}}catch(n){return console.error("❌ [CommentService] Erreur finale:",n),{comments:[],pagination:{page:1,limit:10,total:0,pages:0},error:n.message}}}async createComment(e){console.log("🔍 [CommentService] createComment appelé avec:",e);try{console.log("🔍 [CommentService] Début de la création..."),console.log("🔍 [CommentService] Appel de la modération...");const r=await _pe.moderateComment(e);console.log("�� [CommentService] Résultat modération:",r);const n={listing_id:e.listing_id,user_id:e.user_id,content:e.content,rating:e.rating,parent_id:e.parent_id||null,status:r.status};console.log("🔍 [CommentService] Données à insérer:",n);const{data:i,error:s}=await we.from("comments").insert([n]).select("*").single();if(console.log("🔍 [CommentService] Résultat insertion:",{data:i,error:s}),s)throw s;return console.log("✅ [CommentService] Commentaire créé avec succès"),{comment:{...i,user_display_name:`Utilisateur ${i.user_id?.slice(0,8)}`,user_email:null},error:null,moderation:r}}catch(r){return console.error("❌ [CommentService] Erreur lors de la création du commentaire:",r),{comment:null,error:r.message}}}async updateComment(e,r){try{const{data:n,error:i}=await we.from("comments").update(r).eq("id",e).select("*").single();if(i)throw i;return{comment:{...n,user_display_name:`Utilisateur ${n.user_id?.slice(0,8)}`,user_email:null},error:null}}catch(n){return console.error("Erreur lors de la mise à jour du commentaire:",n),{comment:null,error:n.message}}}async deleteComment(e){try{const{error:r}=await we.from("comments").delete().eq("id",e);if(r)throw r;return{error:null}}catch(r){return console.error("Erreur lors de la suppression du commentaire:",r),{error:r.message}}}async reportComment(e,r){try{const{data:n,error:i}=await we.from("comment_reports").insert([{comment_id:e,...r}]).select().single();if(i)throw i;return{report:n,error:null}}catch(n){return console.error("Erreur lors du signalement du commentaire:",n),{report:null,error:n.message}}}async getCommentStats(e){try{const{data:r,error:n}=await we.rpc("get_listing_comment_stats",{listing_uuid:e});if(n)throw n;return{stats:r[0]||null,error:null}}catch(r){console.error("Erreur lors de la récupération des statistiques:",r);try{const{data:n,error:i}=await we.from("comments").select("rating, is_verified_purchase").eq("listing_id",e).eq("status","approved");if(i)throw i;return{stats:{total_comments:n.length,average_rating:n.length>0?n.reduce((o,l)=>o+l.rating,0)/n.length:0,verified_purchases:n.filter(o=>o.is_verified_purchase).length,rating_distribution:{1:n.filter(o=>o.rating===1).length,2:n.filter(o=>o.rating===2).length,3:n.filter(o=>o.rating===3).length,4:n.filter(o=>o.rating===4).length,5:n.filter(o=>o.rating===5).length}},error:null}}catch(n){return{stats:null,error:n.message}}}}async getUserComments(e,r={}){const{page:n=1,limit:i=10,status:s=null}=r;try{let o=we.from("comments").select(`
          *,
          listing:listings(id, title, category, images)
        `).eq("user_id",e);s&&(o=o.eq("status",s)),o=o.order("created_at",{ascending:!1});const l=(n-1)*i,c=l+i-1;o=o.range(l,c);const{data:u,error:d,count:f}=await o;if(d)throw d;return{comments:u||[],pagination:{page:n,limit:i,total:f,pages:Math.ceil(f/i)},error:null}}catch(o){return console.error("Erreur lors de la récupération des commentaires utilisateur:",o),{comments:[],pagination:{page:n,limit:i,total:0,pages:0},error:o.message}}}async getPendingComments(e={}){const{page:r=1,limit:n=20}=e;try{const{data:i,error:s,count:o}=await we.from("comments").select(`
          *,
          listing:listings(id, title, category)
        `).eq("status","pending").order("created_at",{ascending:!1}).range((r-1)*n,r*n-1);if(s)throw s;return{comments:i||[],pagination:{page:r,limit:n,total:o,pages:Math.ceil(o/n)},error:null}}catch(i){return console.error("Erreur lors de la récupération des commentaires en attente:",i),{comments:[],pagination:{page:r,limit:n,total:0,pages:0},error:i.message}}}async moderateComment(e,r,n=null){try{const i={status:r,updated_at:new Date().toISOString()},{data:s,error:o}=await we.from("comments").update(i).eq("id",e).select().single();if(o)throw o;return{comment:s,error:null}}catch(i){return console.error("Erreur lors de la modération du commentaire:",i),{comment:null,error:i.message}}}}const Lg=new Spe,ov={getAllCategories:async()=>{const{data:t,error:e}=await we.from("categories").select("*").order("name");if(e)throw e;return t},getCategoryById:async t=>{const{data:e,error:r}=await we.from("categories").select("*").eq("id",t).single();if(r)throw r;return e},getCategoryBySlug:async t=>{const{data:e,error:r}=await we.from("categories").select("*").eq("slug",t).single();if(r)throw r;return e},getCategoriesByType:async t=>{const{data:e,error:r}=await we.from("categories").select("*").eq("type",t).order("name");if(r)throw r;return e},createCategory:async t=>{const{data:e,error:r}=await we.from("categories").insert([{...t,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return e},updateCategory:async(t,e)=>{const{data:r,error:n}=await we.from("categories").update({...e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r},deleteCategory:async t=>{const{error:e}=await we.from("categories").delete().eq("id",t);if(e)throw e;return{success:!0}},toggleCategoryStatus:async(t,e)=>{const{data:r,error:n}=await we.from("categories").update({is_active:e,updated_at:new Date().toISOString()}).eq("id",t).select().single();if(n)throw n;return r}},Nc={getUserFavorites:async()=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");const{data:e,error:r}=await we.from("favorites").select(`
        *,
        listings!favorites_listing_id_fkey (
          *,
          users!listings_user_id_fkey (
            id,
            first_name,
            last_name
          )
        )
      `).eq("user_id",t.id).order("created_at",{ascending:!1});if(r)throw r;return e},addToFavorites:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await we.from("favorites").insert([{user_id:e.id,listing_id:t}]).select().single();if(n)throw n;return r},removeFromFavorites:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{error:r}=await we.from("favorites").delete().eq("user_id",e.id).eq("listing_id",t);if(r)throw r},isFavorite:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)return!1;const{data:r,error:n}=await we.from("favorites").select("id").eq("user_id",e.id).eq("listing_id",t).single();if(n&&n.code!=="PGRST116")throw n;return!!r},toggleFavorite:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");try{return await Nc.isFavorite(t)?(await Nc.removeFromFavorites(t),{is_favorite:!1,action:"removed"}):(await Nc.addToFavorites(t),{is_favorite:!0,action:"added"})}catch(r){throw console.error("Erreur lors du basculement des favoris:",r),new Error("Impossible de modifier les favoris")}},getUserFavoritesWithStatus:async()=>{const{data:{user:t}}=await we.auth.getUser();if(!t)throw new Error("Utilisateur non connecté");try{const{data:e,error:r}=await we.from("favorites").select("listing_id").eq("user_id",t.id);if(r)throw r;return new Set(e.map(i=>i.listing_id))}catch(e){return console.error("Erreur lors de la récupération des favoris:",e),new Set}}},jpe={uploadImage:async(t,e="listings")=>{try{const{data:{user:r}}=await we.auth.getUser();if(!r)throw new Error("Utilisateur non connecté");if(!t.type.startsWith("image/"))throw new Error("Le fichier doit être une image");if(t.size>5*1024*1024)throw new Error("L'image ne doit pas dépasser 5MB");const n=`${Date.now()}-${Math.random().toString(36).substring(2)}-${t.name.replace(/[^a-zA-Z0-9.-]/g,"_")}`,i=`${e}/${r.id}/${n}`,{data:s,error:o}=await we.storage.from("images").upload(i,t,{cacheControl:"31536000",upsert:!1,contentType:"image/jpeg"});if(o)throw console.error("Erreur upload Supabase:",o),new Error(`Erreur lors de l'upload: ${o.message}`);const{data:{publicUrl:l}}=we.storage.from("images").getPublicUrl(i);return l}catch(r){throw console.error("Erreur dans uploadImage:",r),r}},deleteImage:async t=>{try{const{error:e}=await we.storage.from("images").remove([t]);if(e)throw e}catch(e){throw console.error("Erreur dans deleteImage:",e),e}},listUserImages:async(t,e="listings")=>{try{const{data:r,error:n}=await we.storage.from("images").list(`${e}/${t}`);if(n)throw n;return r}catch(r){throw console.error("Erreur dans listUserImages:",r),r}}},Cpe={getAllReports:async(t={})=>{let e=we.from("reports").select(`
        *,
        reporter:users!reports_reporter_id_fkey (
          id,
          first_name,
          last_name,
          email
        ),
        listing:listings!reports_listing_id_fkey (
          id,
          title,
          description
        )
      `).order("created_at",{ascending:!1});t.status&&(e=e.eq("status",t.status)),t.type&&(e=e.eq("type",t.type)),t.severity&&(e=e.eq("severity",t.severity));const{data:r,error:n}=await e;if(n)throw n;return r},createReport:async t=>{const{data:{user:e}}=await we.auth.getUser();if(!e)throw new Error("Utilisateur non connecté");const{data:r,error:n}=await we.from("reports").insert([{...t,reporter_id:e.id,status:"pending"}]).select().single();if(n)throw n;return r},moderateReport:async(t,e,r=null)=>{const n={status:e,moderated_at:new Date().toISOString(),moderator_reason:r},{data:i,error:s}=await we.from("reports").update(n).eq("id",t).select().single();if(s)throw s;return i}},aC={getBoostPackages:async()=>{if(!Lr)return console.warn("⚠️ Supabase non configuré, retour de packages de test"),[{id:"test-basic",name:"Boost Basique",description:"Visibilité améliorée pendant 7 jours",duration_days:7,price:5e3,features:{priority:"medium",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:1},{id:"test-premium",name:"Boost Premium",description:"Mise en avant complète pendant 14 jours",duration_days:14,price:12e3,features:{priority:"high",badge:"boosted",featured:!0,analytics:"detailed"},is_active:!0,sort_order:2},{id:"test-vip",name:"Boost VIP",description:"Visibilité maximale pendant 30 jours",duration_days:30,price:25e3,features:{priority:"highest",badge:"boosted",featured:!0,analytics:"premium",support:"priority"},is_active:!0,sort_order:3},{id:"test-flash",name:"Boost Flash",description:"Visibilité intensive pendant 3 jours",duration_days:3,price:3e3,features:{priority:"high",badge:"boosted",featured:!1,analytics:"basic"},is_active:!0,sort_order:4}];try{const{data:t,error:e}=await we.from("boost_packages").select("*").eq("is_active",!0).order("sort_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){throw console.error("Erreur lors de la récupération des packages de boost:",t),t}},purchaseBoost:async(t,e,r)=>{if(!Lr)return console.warn("⚠️ Supabase non configuré, simulation d'achat de boost"),{success:!0,boostId:"test-boost-"+Date.now(),message:"Boost acheté avec succès (mode test)"};try{const{data:n,error:i}=await we.from("boost_packages").select("*").eq("id",e).eq("is_active",!0).single();if(i||!n)throw new Error("Package de boost non trouvé ou inactif");const{data:s,error:o}=await we.from("listings").select("id, user_id, status").eq("id",t).eq("user_id",r).eq("status","approved").single();if(o||!s)throw new Error("Annonce non trouvée ou non autorisée");const l=new Date,c=new Date;c.setDate(c.getDate()+n.duration_days);const{data:u,error:d}=await we.from("listing_boosts").insert({listing_id:t,package_id:e,user_id:r,start_date:l.toISOString(),end_date:c.toISOString(),status:"pending",metadata:{views_before:0,contacts_before:0}}).select().single();if(d)throw d;return await we.from("boost_history").insert({listing_id:t,boost_id:u.id,user_id:r,action:"purchased",details:{package_name:n.name,price:n.price,duration_days:n.duration_days}}),{success:!0,boostId:u.id,boostData:u,packageData:n,message:"Boost acheté avec succès"}}catch(n){throw console.error("Erreur lors de l'achat du boost:",n),n}},getBoostStatus:async t=>{if(!Lr)return{hasActiveBoost:!1,currentBoost:null,boostHistory:[]};try{const{data:e,error:r}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            description,
            features
          )
        `).eq("listing_id",t).order("created_at",{ascending:!1});if(r)throw r;const n=e?.find(s=>s.status==="active");return{hasActiveBoost:!!n,currentBoost:n,boostHistory:e||[]}}catch(e){throw console.error("Erreur lors de la vérification du statut de boost:",e),e}},cancelBoost:async(t,e)=>{if(!Lr)return{success:!0,message:"Boost annulé avec succès (mode test)"};try{const{data:r,error:n}=await we.from("listing_boosts").select("*").eq("id",t).eq("user_id",e).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const{error:i}=await we.from("listing_boosts").update({status:"cancelled"}).eq("id",t);if(i)throw i;return await we.from("boost_history").insert({listing_id:r.listing_id,boost_id:t,user_id:e,action:"cancelled",details:{reason:"user_cancelled",cancelled_at:new Date().toISOString()}}),{success:!0,message:"Boost annulé avec succès"}}catch(r){throw console.error("Erreur lors de l'annulation du boost:",r),r}},getBoostHistory:async t=>{if(!Lr)return[];try{const{data:e,error:r}=await we.from("boost_history").select(`
          *,
          listing_boosts (
            boost_packages (
              name,
              price
            )
          ),
          listings (
            title,
            category
          )
        `).eq("user_id",t).order("created_at",{ascending:!1});if(r)throw r;return e||[]}catch(e){throw console.error("Erreur lors de la récupération de l'historique des boosts:",e),e}},activateBoost:async(t,e)=>{if(!Lr)return{success:!0,message:"Boost activé avec succès (mode test)"};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          *,
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",t).single();if(n||!r)throw new Error("Boost non trouvé");const{error:i}=await we.from("listing_boosts").update({status:"active",payment_id:e,metadata:{views_before:r.listings.views_count||0,contacts_before:r.listings.favorites_count||0,activated_at:new Date().toISOString()}}).eq("id",t);if(i)throw i;return await we.from("boost_history").insert({listing_id:r.listing_id,boost_id:t,user_id:r.user_id,action:"activated",details:{payment_id:e,activated_at:new Date().toISOString()}}),{success:!0,message:"Boost activé avec succès"}}catch(r){throw console.error("Erreur lors de l'activation du boost:",r),r}},renewBoost:async(t,e)=>{if(!Lr)return{success:!0,message:"Boost renouvelé avec succès (mode test)"};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            duration_days,
            price
          )
        `).eq("id",t).eq("user_id",e).single();if(n||!r)throw new Error("Boost non trouvé ou non autorisé");const i=new Date;i.setDate(i.getDate()+r.boost_packages.duration_days);const{error:s}=await we.from("listing_boosts").update({end_date:i.toISOString(),updated_at:new Date().toISOString()}).eq("id",t);if(s)throw s;return await we.from("boost_history").insert({listing_id:r.listing_id,boost_id:t,user_id:e,action:"renewed",details:{new_end_date:i.toISOString(),renewed_at:new Date().toISOString()}}),{success:!0,message:"Boost renouvelé avec succès"}}catch(r){throw console.error("Erreur lors du renouvellement du boost:",r),r}},getBoostStats:async t=>{if(!Lr)return{total_boosts:0,active_boosts:0,total_days:0,total_investment:0,current_boost:null};try{const{data:e,error:r}=await we.rpc("get_boost_stats",{listing_id_param:t});if(r)throw r;return e||{}}catch(e){throw console.error("Erreur lors de la récupération des statistiques de boost:",e),e}}};function Ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $c(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Npe(t,e){const r=Ur(t);return isNaN(e)?$c(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const qH=6048e5,Epe=864e5,UH=6e4,VH=36e5,H0=43200,q3=1440;let Ppe={};function Jy(){return Ppe}function Up(t,e){const r=Jy(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=Ur(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function dw(t){return Up(t,{weekStartsOn:1})}function WH(t){const e=Ur(t),r=e.getFullYear(),n=$c(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=dw(n),s=$c(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=dw(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function U3(t){const e=Ur(t);return e.setHours(0,0,0,0),e}function fw(t){const e=Ur(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function kpe(t,e){const r=U3(t),n=U3(e),i=+r-fw(r),s=+n-fw(n);return Math.round((i-s)/Epe)}function Ape(t){const e=WH(t),r=$c(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),dw(r)}function Lb(t,e){const r=Ur(t),n=Ur(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Tpe(t){return $c(t,Date.now())}function Ope(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Rpe(t){if(!Ope(t)&&typeof t!="number")return!1;const e=Ur(t);return!isNaN(Number(e))}function Mpe(t,e){const r=Ur(t),n=Ur(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Ipe(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Lpe(t,e){return+Ur(t)-+Ur(e)}function Dpe(t){const e=Ur(t);return e.setHours(23,59,59,999),e}function $pe(t){const e=Ur(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Fpe(t){const e=Ur(t);return+Dpe(e)==+$pe(e)}function Bpe(t,e){const r=Ur(t),n=Ur(e),i=Lb(r,n),s=Math.abs(Mpe(r,n));let o;if(s<1)o=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let l=Lb(r,n)===-i;Fpe(Ur(t))&&s===1&&Lb(t,n)===1&&(l=!1),o=i*(s-Number(l))}return o===0?0:o}function zpe(t,e,r){const n=Lpe(t,e)/1e3;return Ipe(r?.roundingMethod)(n)}function qpe(t){const e=Ur(t);return e.setDate(1),e.setHours(0,0,0,0),e}function Upe(t){const e=Ur(t),r=$c(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Vpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wpe=(t,e,r)=>{let n;const i=Vpe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function jp(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Hpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zpe={date:jp({formats:Hpe,defaultWidth:"full"}),time:jp({formats:Kpe,defaultWidth:"full"}),dateTime:jp({formats:Gpe,defaultWidth:"full"})},Ype={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xpe=(t,e,r,n)=>Ype[t];function ol(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r?.width?String(r.width):o;i=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r?.width?String(r.width):t.defaultWidth;i=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Jpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Qpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},eme={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tme={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nme={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ime=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sme={ordinalNumber:ime,era:ol({values:Jpe,defaultWidth:"wide"}),quarter:ol({values:Qpe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ol({values:eme,defaultWidth:"wide"}),day:ol({values:tme,defaultWidth:"wide"}),dayPeriod:ol({values:rme,defaultWidth:"wide",formattingValues:nme,defaultFormattingWidth:"wide"})};function ll(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?ome(l,f=>f.test(o)):ame(l,f=>f.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(o.length);return{value:u,rest:d}}}function ame(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ome(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function HH(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(i.length);return{value:o,rest:l}}}const lme=/^(\d+)(th|st|nd|rd)?/i,cme=/\d+/i,ume={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dme={any:[/^b/i,/^(a|c)/i]},fme={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hme={any:[/1/i,/2/i,/3/i,/4/i]},pme={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},mme={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gme={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vme={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yme={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xme={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bme={ordinalNumber:HH({matchPattern:lme,parsePattern:cme,valueCallback:t=>parseInt(t,10)}),era:ll({matchPatterns:ume,defaultMatchWidth:"wide",parsePatterns:dme,defaultParseWidth:"any"}),quarter:ll({matchPatterns:fme,defaultMatchWidth:"wide",parsePatterns:hme,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ll({matchPatterns:pme,defaultMatchWidth:"wide",parsePatterns:mme,defaultParseWidth:"any"}),day:ll({matchPatterns:gme,defaultMatchWidth:"wide",parsePatterns:vme,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:yme,defaultMatchWidth:"any",parsePatterns:xme,defaultParseWidth:"any"})},KH={code:"en-US",formatDistance:Wpe,formatLong:Zpe,formatRelative:Xpe,localize:sme,match:bme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function wme(t){const e=Ur(t);return kpe(e,Upe(e))+1}function _me(t){const e=Ur(t),r=+dw(e)-+Ape(e);return Math.round(r/qH)+1}function GH(t,e){const r=Ur(t),n=r.getFullYear(),i=Jy(),s=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,o=$c(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Up(o,e),c=$c(t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Up(c,e);return r.getTime()>=l.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Sme(t,e){const r=Jy(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=GH(t,e),s=$c(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Up(s,e)}function jme(t,e){const r=Ur(t),n=+Up(r,e)-+Sme(r,e);return Math.round(n/qH)+1}function qr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Lu={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return qr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):qr(r+1,2)},d(t,e){return qr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return qr(t.getHours()%12||12,e.length)},H(t,e){return qr(t.getHours(),e.length)},m(t,e){return qr(t.getMinutes(),e.length)},s(t,e){return qr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return qr(i,e.length)}},Zh={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},V3={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Lu.y(t,e)},Y:function(t,e,r,n){const i=GH(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return qr(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):qr(s,e.length)},R:function(t,e){const r=WH(t);return qr(r,e.length)},u:function(t,e){const r=t.getFullYear();return qr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return qr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return qr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Lu.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return qr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=jme(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):qr(i,e.length)},I:function(t,e,r){const n=_me(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):qr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Lu.d(t,e)},D:function(t,e,r){const n=wme(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):qr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return qr(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return qr(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return qr(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Zh.noon:n===0?i=Zh.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Zh.evening:n>=12?i=Zh.afternoon:n>=4?i=Zh.morning:i=Zh.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Lu.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Lu.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):qr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):qr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Lu.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Lu.s(t,e)},S:function(t,e){return Lu.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return H3(n);case"XXXX":case"XX":return cf(n);case"XXXXX":case"XXX":default:return cf(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return H3(n);case"xxxx":case"xx":return cf(n);case"xxxxx":case"xxx":default:return cf(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+W3(n,":");case"OOOO":default:return"GMT"+cf(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+W3(n,":");case"zzzz":default:return"GMT"+cf(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return qr(n,e.length)},T:function(t,e,r){const n=t.getTime();return qr(n,e.length)}};function W3(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+qr(s,2)}function H3(t,e){return t%60===0?(t>0?"-":"+")+qr(Math.abs(t)/60,2):cf(t,e)}function cf(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=qr(Math.trunc(n/60),2),s=qr(n%60,2);return r+i+e+s}const K3=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},ZH=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cme=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return K3(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",K3(n,e)).replace("{{time}}",ZH(i,e))},Nme={p:ZH,P:Cme},Eme=/^D+$/,Pme=/^Y+$/,kme=["D","DD","YY","YYYY"];function Ame(t){return Eme.test(t)}function Tme(t){return Pme.test(t)}function Ome(t,e,r){const n=Rme(t,e,r);if(console.warn(n),kme.includes(t))throw new RangeError(n)}function Rme(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Mme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ime=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lme=/^'([^]*?)'?$/,Dme=/''/g,$me=/[a-zA-Z]/;function Zr(t,e,r){const n=Jy(),i=r?.locale??n.locale??KH,s=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,l=Ur(t);if(!Rpe(l))throw new RangeError("Invalid time value");let c=e.match(Ime).map(d=>{const f=d[0];if(f==="p"||f==="P"){const g=Nme[f];return g(d,i.formatLong)}return d}).join("").match(Mme).map(d=>{if(d==="''")return{isToken:!1,value:"'"};const f=d[0];if(f==="'")return{isToken:!1,value:Fme(d)};if(V3[f])return{isToken:!0,value:d};if(f.match($me))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:d}});i.localize.preprocessor&&(c=i.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return c.map(d=>{if(!d.isToken)return d.value;const f=d.value;(!r?.useAdditionalWeekYearTokens&&Tme(f)||!r?.useAdditionalDayOfYearTokens&&Ame(f))&&Ome(f,e,String(t));const g=V3[f[0]];return g(l,f,i.localize,u)}).join("")}function Fme(t){const e=t.match(Lme);return e?e[1].replace(Dme,"'"):t}function Bme(t,e,r){const n=Jy(),i=r?.locale??n.locale??KH,s=2520,o=Lb(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r?.addSuffix,comparison:o});let c,u;o>0?(c=Ur(e),u=Ur(t)):(c=Ur(t),u=Ur(e));const d=zpe(u,c),f=(fw(u)-fw(c))/1e3,g=Math.round((d-f)/60);let v;if(g<2)return r?.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,l):d<10?i.formatDistance("lessThanXSeconds",10,l):d<20?i.formatDistance("lessThanXSeconds",20,l):d<40?i.formatDistance("halfAMinute",0,l):d<60?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",1,l):g===0?i.formatDistance("lessThanXMinutes",1,l):i.formatDistance("xMinutes",g,l);if(g<45)return i.formatDistance("xMinutes",g,l);if(g<90)return i.formatDistance("aboutXHours",1,l);if(g<q3){const y=Math.round(g/60);return i.formatDistance("aboutXHours",y,l)}else{if(g<s)return i.formatDistance("xDays",1,l);if(g<H0){const y=Math.round(g/q3);return i.formatDistance("xDays",y,l)}else if(g<H0*2)return v=Math.round(g/H0),i.formatDistance("aboutXMonths",v,l)}if(v=Bpe(u,c),v<12){const y=Math.round(g/H0);return i.formatDistance("xMonths",y,l)}else{const y=v%12,x=Math.trunc(v/12);return y<3?i.formatDistance("aboutXYears",x,l):y<9?i.formatDistance("overXYears",x,l):i.formatDistance("almostXYears",x+1,l)}}function YH(t,e){return Bme(t,Tpe(t),e)}function Dg(t,e){return Npe(t,-e)}function zme(t,e){const n=Wme(t);let i;if(n.date){const c=Hme(n.date,2);i=Kme(c.restDateString,c.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let o=0,l;if(n.time&&(o=Gme(n.time),isNaN(o)))return new Date(NaN);if(n.timezone){if(l=Zme(n.timezone),isNaN(l))return new Date(NaN)}else{const c=new Date(s+o),u=new Date(0);return u.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),u.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),u}return new Date(s+o+l)}const K0={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},qme=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ume=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Vme=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Wme(t){const e={},r=t.split(K0.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],K0.timeZoneDelimiter.test(e.date)&&(e.date=t.split(K0.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=K0.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Hme(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Kme(t,e){if(e===null)return new Date(NaN);const r=t.match(qme);if(!r)return new Date(NaN);const n=!!r[4],i=$g(r[1]),s=$g(r[2])-1,o=$g(r[3]),l=$g(r[4]),c=$g(r[5])-1;if(n)return ege(e,l,c)?Yme(e,l,c):new Date(NaN);{const u=new Date(0);return!Jme(e,s,o)||!Qme(e,i)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(i,o)),u)}}function $g(t){return t?parseInt(t):1}function Gme(t){const e=t.match(Ume);if(!e)return NaN;const r=oC(e[1]),n=oC(e[2]),i=oC(e[3]);return tge(r,n,i)?r*VH+n*UH+i*1e3:NaN}function oC(t){return t&&parseFloat(t.replace(",","."))||0}function Zme(t){if(t==="Z")return 0;const e=t.match(Vme);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return rge(n,i)?r*(n*VH+i*UH):NaN}function Yme(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Xme=[31,null,31,30,31,30,31,31,30,31,30,31];function XH(t){return t%400===0||t%4===0&&t%100!==0}function Jme(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Xme[e]||(XH(t)?29:28))}function Qme(t,e){return e>=1&&e<=(XH(t)?366:365)}function ege(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function tge(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function rge(t,e){return e>=0&&e<=59}const G3={getBoostAnalytics:async(t=null,e="30d")=>{if(!Lr)return console.warn("⚠️ Supabase non configuré, retour d'analytics de test"),{totalBoosts:45,activeBoosts:12,totalRevenue:45e4,averageBoostPrice:1e4,successRate:87.5,topPerformingCategories:["Immobilier","Automobile","Services"],boostTrends:{daily:[12,15,18,22,25,28,30],weekly:[85,92,105,118,125,132,140],monthly:[350,420,480,520,580,620,680]}};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            title,
            category,
            views_count,
            favorites_count
          )
        `).eq("status","active").gte("created_at",fp(e));if(n)throw n;return nge(r||[],t)}catch(r){throw console.error("Erreur lors de la récupération des analytics de boost:",r),r}},getBoostPerformance:async t=>{if(!Lr)return{viewsIncrease:245,favoritesIncrease:18,contactsIncrease:12,roi:320,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]};try{const{data:e,error:r}=await we.from("listing_boosts").select(`
          *,
          boost_packages (
            name,
            price,
            features
          ),
          listings (
            views_count,
            favorites_count
          )
        `).eq("id",t).single();if(r)throw r;return ige(e)}catch(e){throw console.error("Erreur lors de la récupération des performances:",e),e}},getPaymentAnalytics:async(t=null,e="30d")=>{if(!Lr)return{totalPayments:67,totalRevenue:67e4,averageTransactionValue:1e4,paymentMethods:{orange_money:45,mtn_mobile_money:15,card:7},conversionRate:78.5,refundRate:2.3};try{const{data:r,error:n}=await we.from("payments").select("*").gte("created_at",fp(e));if(n)throw n;return sge(r||[],t)}catch(r){throw console.error("Erreur lors de la récupération des analytics de paiement:",r),r}},getRevenueData:async(t,e)=>{if(!Lr)return{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0};try{const{data:r,error:n}=await we.from("payments").select(`
          *,
          listings (
            category,
            title
          )
        `).eq("status","completed").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(n)throw n;const i=r?.reduce((c,u)=>c+(u.amount||0),0)||0,s=r?.reduce((c,u)=>{const d=Zr(new Date(u.created_at),"yyyy-MM-dd");return c[d]=(c[d]||0)+(u.amount||0),c},{})||{},o=r?.reduce((c,u)=>{const d=u.listings?.category||"Autre";return c[d]=(c[d]||0)+(u.amount||0),c},{})||{},l=r?.reduce((c,u)=>{const d=u.payment_method||"Autre";return c[d]=(c[d]||0)+(u.amount||0),c},{})||{};return{totalRevenue:i,revenueByDate:Object.entries(s).map(([c,u])=>({date:c,revenue:u})),revenueByCategory:o,paymentMethods:l,growth:0}}catch(r){return console.error("Erreur lors de la récupération des données de revenus:",r),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}},getUserPremiumAnalytics:async(t,e="30d")=>{if(!Lr)return{totalBoosts:8,totalSpent:85e3,averageBoostPrice:10625,boostSuccessRate:87.5,favoriteCategories:["Immobilier","Services"],boostHistory:[{date:"2024-01-15",package:"Boost Premium",price:12e3,status:"active"},{date:"2024-01-08",package:"Boost Basique",price:5e3,status:"expired"}]};try{const[r,n]=await Promise.all([we.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            )
          `).eq("user_id",t).gte("created_at",fp(e)),we.from("payments").select("*").eq("user_id",t).gte("created_at",fp(e))]);if(r.error)throw r.error;if(n.error)throw n.error;return age(r.data||[],n.data||[])}catch(r){throw console.error("Erreur lors de la récupération des analytics utilisateur:",r),r}},getPerformanceTrends:async(t="30d",e="revenue")=>{if(!Lr)return{labels:["Sem 1","Sem 2","Sem 3","Sem 4"],data:[45e3,52e3,48e3,61e3],trend:"up",percentageChange:15.6};try{const{data:r,error:n}=await we.from("listing_boosts").select(`
          created_at,
          boost_packages (
            price
          )
        `).gte("created_at",fp(t)).order("created_at",{ascending:!0});if(n)throw n;return oge(r||[],t,e)}catch(r){throw console.error("Erreur lors de la récupération des tendances:",r),r}},getGrowthTrends:async(t,e)=>{if(!Lr)return{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}};try{const{data:r,error:n}=await we.from("users").select("created_at").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(n)throw n;const{data:i,error:s}=await we.from("listings").select("created_at, status").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(s)throw s;const{data:o,error:l}=await we.from("payments").select("created_at, amount").eq("status","completed").gte("created_at",t).lte("created_at",e).order("created_at",{ascending:!0});if(l)throw l;const c=lC(r,"created_at"),u=lC(i,"created_at"),d=lC(o,"created_at","amount"),f=cC(r,"created_at"),g=cC(i,"created_at"),v=cC(o,"created_at","amount"),y=uC(r,"created_at"),x=uC(i,"created_at"),_=uC(o,"created_at","amount");return{users:{daily:c,weekly:f,monthly:y},listings:{daily:u,weekly:g,monthly:x},revenue:{daily:d,weekly:v,monthly:_}}}catch(r){return console.error("Erreur lors de la récupération des tendances de croissance:",r),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}},getInsightsAndRecommendations:async(t=null)=>{if(!Lr)return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]};try{const[e,r]=await Promise.all([we.from("listing_boosts").select(`
            *,
            boost_packages (
              name,
              price
            ),
            listings (
              category,
              views_count,
              favorites_count
            )
          `).eq("status","active"),we.from("payments").select("*").eq("status","completed")]);if(e.error)throw e.error;if(r.error)throw r.error;return hge(e.data||[],r.data||[],t)}catch(e){throw console.error("Erreur lors de la génération des insights:",e),e}},getComparisonMetrics:async(t="7d",e="30d")=>{if(!Lr)return{revenue:{period1:45e3,period2:18e4,change:300},boosts:{period1:12,period2:45,change:275},conversion:{period1:8.5,period2:12.3,change:44.7}};try{const[r,n]=await Promise.all([Z3(t),Z3(e)]);return pge(r,n)}catch(r){throw console.error("Erreur lors de la comparaison des métriques:",r),r}}};function fp(t){const e=new Date;switch(t){case"7d":return new Date(e.getTime()-7*24*60*60*1e3);case"30d":return new Date(e.getTime()-30*24*60*60*1e3);case"90d":return new Date(e.getTime()-90*24*60*60*1e3);case"1y":return new Date(e.getTime()-365*24*60*60*1e3);default:return new Date(e.getTime()-30*24*60*60*1e3)}}function nge(t,e){const r=e?t.filter(d=>d.user_id===e):t,n=r.length,i=r.filter(d=>d.status==="active").length,s=r.reduce((d,f)=>d+(f.boost_packages?.price||0),0),o=n>0?s/n:0,l=uge(r),c=dge(r),u=fge();return{totalBoosts:n,activeBoosts:i,totalRevenue:s,averageBoostPrice:Math.round(o),successRate:l,topPerformingCategories:c.slice(0,5),boostTrends:u}}function ige(t){const e=t.metadata?.views_before||0,n=(t.listings?.views_count||0)-e,i=t.metadata?.contacts_before||0,o=(t.listings?.favorites_count||0)-i,l=Math.round(o*.8),c=cge(t.boost_packages?.price||0,n,l);return{viewsIncrease:n,favoritesIncrease:o,contactsIncrease:l,roi:c,topReferrers:["Google","Facebook","Direct"],peakHours:["9h-11h","14h-16h","19h-21h"]}}function sge(t,e){const r=e?t.filter(f=>f.user_id===e):t,n=r.length,i=r.reduce((f,g)=>f+g.amount,0),s=n>0?i/n:0,o={};r.forEach(f=>{o[f.payment_method]=(o[f.payment_method]||0)+1});const l=r.filter(f=>f.status==="completed").length,c=n>0?l/n*100:0,u=r.filter(f=>f.status==="refunded").length,d=n>0?u/n*100:0;return{totalPayments:n,totalRevenue:i,averageTransactionValue:Math.round(s),paymentMethods:o,conversionRate:Math.round(c*100)/100,refundRate:Math.round(d*100)/100}}function age(t,e){const r=t.length,n=e.reduce((f,g)=>f+g.amount,0),i=r>0?n/r:0,s=t.filter(f=>f.status==="active").length,o=r>0?s/r*100:0,l=t.map(f=>f.listings?.category).filter(Boolean),c={};l.forEach(f=>{c[f]=(c[f]||0)+1});const u=Object.entries(c).sort(([,f],[,g])=>g-f).slice(0,3).map(([f])=>f),d=t.slice(0,5).map(f=>({date:new Date(f.created_at).toLocaleDateString("fr-FR"),package:f.boost_packages?.name||"Package",price:f.boost_packages?.price||0,status:f.status}));return{totalBoosts:r,totalSpent:n,averageBoostPrice:Math.round(i),boostSuccessRate:Math.round(o*100)/100,favoriteCategories:u,boostHistory:d}}function oge(t,e,r){const n=lge(t,e),i=Object.keys(n),s=Object.values(n).map(c=>r==="revenue"?c.reduce((u,d)=>u+(d.boost_packages?.price||0),0):r==="boosts"?c.length:0),o=s[s.length-1]>s[0]?"up":"down",l=s[0]>0?(s[s.length-1]-s[0])/s[0]*100:0;return{labels:i,data:s,trend:o,percentageChange:Math.round(l*100)/100}}function lge(t,e){const r={};return t.forEach(n=>{const i=new Date(n.created_at);let s;switch(e){case"7d":s=i.toLocaleDateString("fr-FR",{weekday:"short"});break;case"30d":s=`Sem ${Math.ceil(i.getDate()/7)}`;break;case"90d":s=i.toLocaleDateString("fr-FR",{month:"short"});break;default:s=i.toLocaleDateString("fr-FR",{month:"short"})}r[s]||(r[s]=[]),r[s].push(n)}),r}function cge(t,e,r){if(t<=0)return 0;const i=(r*2e3-t)/t*100;return Math.round(i*100)/100}function uge(t){if(t.length===0)return 0;const e=t.filter(r=>{const n=(r.listings?.views_count||0)-(r.metadata?.views_before||0),i=(r.listings?.favorites_count||0)-(r.metadata?.contacts_before||0);return n>10||i>2});return Math.round(e.length/t.length*100)}function dge(t){const e={};return t.forEach(r=>{const n=r.listings?.category;n&&(e[n]||(e[n]={count:0,totalViews:0,totalFavorites:0}),e[n].count++,e[n].totalViews+=r.listings?.views_count||0,e[n].totalFavorites+=r.listings?.favorites_count||0)}),Object.entries(e).map(([r,n])=>({category:r,performance:(n.totalViews+n.totalFavorites*10)/n.count})).sort((r,n)=>n.performance-r.performance).map(r=>r.category)}function fge(t){const e=new Date,r=[],n=[],i=[];for(let s=6;s>=0;s--)new Date(e.getTime()-s*24*60*60*1e3),r.push(Math.floor(Math.random()*20)+10);for(let s=6;s>=0;s--)n.push(Math.floor(Math.random()*50)+80);for(let s=6;s>=0;s--)i.push(Math.floor(Math.random()*100)+300);return{daily:r,weekly:n,monthly:i}}function hge(t,e,r){return{insights:["Les boosts du weekend ont 23% plus de succès","Les annonces immobilières boostées génèrent 45% plus de contacts","Le package Premium a le meilleur ROI (320%)"],recommendations:["Boostez vos annonces le vendredi pour maximiser la visibilité","Utilisez le package Premium pour les annonces à fort potentiel","Renouvelez vos boosts avant expiration pour maintenir la visibilité"]}}async function Z3(t){const{data:e,error:r}=await we.from("listing_boosts").select(`
      created_at,
      boost_packages (
        price
      )
    `).gte("created_at",fp(t));if(r)throw r;return e||[]}function pge(t,e){const r=t.reduce((o,l)=>o+(l.boost_packages?.price||0),0),n=e.reduce((o,l)=>o+(l.boost_packages?.price||0),0),i=t.length,s=e.length;return{revenue:{period1:r,period2:n,change:r>0?(n-r)/r*100:0},boosts:{period1:i,period2:s,change:i>0?(s-i)/i*100:0}}}function lC(t,e,r=null){const n={};return t?.forEach(i=>{const s=Zr(new Date(i[e]),"yyyy-MM-dd");r?n[s]=(n[s]||0)+(i[r]||0):n[s]=(n[s]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function cC(t,e,r=null){const n={};return t?.forEach(i=>{const s=new Date(i[e]),o=Zr(Up(s,{weekStartsOn:1}),"yyyy-MM-dd");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}function uC(t,e,r=null){const n={};return t?.forEach(i=>{const s=new Date(i[e]),o=Zr(qpe(s),"yyyy-MM");r?n[o]=(n[o]||0)+(i[r]||0):n[o]=(n[o]||0)+1}),Object.entries(n).map(([i,s])=>({date:i,value:s}))}const Bn={getSystemSettings:async()=>{try{if(!Lr)return{general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}};const{data:t,error:e}=await we.from("system_settings").select("*").single();return e?(console.warn("Table system_settings non trouvée, utilisation des paramètres par défaut"),Bn.getDefaultSettings()):t.settings||Bn.getDefaultSettings()}catch(t){return console.error("Erreur lors de la récupération des paramètres:",t),Bn.getDefaultSettings()}},updateSystemSettings:async t=>{try{if(!Lr)return console.log("Paramètres mis à jour (mode développement):",t),{success:!0,message:"Paramètres mis à jour en mode développement"};const{data:e,error:r}=await we.from("system_settings").upsert([{id:"main",settings:t,updated_at:new Date().toISOString()}],{onConflict:"id"}).select().single();if(r)throw r;return{success:!0,data:e,message:"Paramètres mis à jour avec succès"}}catch(e){throw console.error("Erreur lors de la mise à jour des paramètres:",e),new Error("Impossible de sauvegarder les paramètres")}},getSetting:async(t,e)=>{try{return(await Bn.getSystemSettings())[t]?.[e]}catch(r){return console.error("Erreur lors de la récupération du paramètre:",r),null}},updateSetting:async(t,e,r)=>{try{const n=await Bn.getSystemSettings();return n[t]||(n[t]={}),n[t][e]=r,await Bn.updateSystemSettings(n)}catch(n){throw console.error("Erreur lors de la mise à jour du paramètre:",n),n}},getSettingsBySection:async t=>{try{return(await Bn.getSystemSettings())[t]||{}}catch(e){return console.error("Erreur lors de la récupération des paramètres de la section:",e),{}}},getSiteSettings:async()=>{try{return(await Bn.getSystemSettings()).general||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres du site:",t),{}}},getAppearanceSettings:async()=>{try{return(await Bn.getSystemSettings()).appearance||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres d'apparence:",t),{}}},getNotificationSettings:async()=>{try{return(await Bn.getSystemSettings()).notifications||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de notifications:",t),{}}},getSecuritySettings:async()=>{try{return(await Bn.getSystemSettings()).security||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres de sécurité:",t),{}}},getSystemSettingsSection:async()=>{try{return(await Bn.getSystemSettings()).system||{}}catch(t){return console.error("Erreur lors de la récupération des paramètres système:",t),{}}},resetToDefaults:async()=>{try{const t=Bn.getDefaultSettings();return await Bn.updateSystemSettings(t)}catch(t){throw console.error("Erreur lors de la réinitialisation des paramètres:",t),t}},exportSettings:async()=>{try{const t=await Bn.getSystemSettings(),e=JSON.stringify(t,null,2),r=new Blob([e],{type:"application/json"}),n=URL.createObjectURL(r),i=document.createElement("a");return i.href=n,i.download=`maximarket-settings-${new Date().toISOString().split("T")[0]}.json`,i.click(),URL.revokeObjectURL(n),{success:!0,message:"Paramètres exportés avec succès"}}catch(t){throw console.error("Erreur lors de l'export des paramètres:",t),new Error("Impossible d'exporter les paramètres")}},importSettings:async t=>{try{return new Promise((e,r)=>{const n=new FileReader;n.onload=async i=>{try{const s=JSON.parse(i.target.result);if(!Bn.validateSettings(s)){r(new Error("Format de paramètres invalide"));return}const o=await Bn.updateSystemSettings(s);e(o)}catch{r(new Error("Fichier JSON invalide"))}},n.onerror=()=>r(new Error("Erreur de lecture du fichier")),n.readAsText(t)})}catch(e){throw console.error("Erreur lors de l'import des paramètres:",e),e}},validateSettings:t=>{const e=["general","appearance","notifications","security","system"];for(const n of e)if(!t[n]||typeof t[n]!="object")return!1;const r=t.general;return!(!r.siteName||!r.contactEmail||!r.timezone||!r.currency)},getDefaultSettings:()=>({general:{siteName:"MaxiMarket",siteDescription:"Marketplace en ligne pour l'Afrique de l'Ouest",contactEmail:"contact@maximarket.com",supportPhone:"+221 77 123 4567",timezone:"Africa/Dakar",currency:"XOF",language:"fr"},appearance:{theme:"auto",primaryColor:"#3B82F6",logoUrl:"/logo.png",faviconUrl:"/favicon.ico",enableAnimations:!0,enableGradients:!0},notifications:{emailNotifications:!0,pushNotifications:!0,smsNotifications:!1,adminAlerts:!0,userWelcome:!0,listingApproval:!0,transactionUpdates:!0},security:{requireEmailVerification:!0,requirePhoneVerification:!1,twoFactorAuth:!1,sessionTimeout:24,maxLoginAttempts:5,passwordMinLength:8,enableCaptcha:!0},system:{maintenanceMode:!1,debugMode:!1,enableLogs:!0,backupFrequency:"daily",maxFileSize:10,allowedFileTypes:["jpg","jpeg","png","gif","pdf"],enableCaching:!0,cacheTTL:3600}})};var G0={exports:{}},Z0={exports:{}};/*! Axios v1.10.0 Copyright (c) 2025 Matt Zabriskie and contributors */var dC,Y3;function mge(){if(Y3)return dC;Y3=1;function t(G,ee){return function(){return G.apply(ee,arguments)}}const{toString:e}=Object.prototype,{getPrototypeOf:r}=Object,{iterator:n,toStringTag:i}=Symbol,s=(G=>ee=>{const de=e.call(ee);return G[de]||(G[de]=de.slice(8,-1).toLowerCase())})(Object.create(null)),o=G=>(G=G.toLowerCase(),ee=>s(ee)===G),l=G=>ee=>typeof ee===G,{isArray:c}=Array,u=l("undefined");function d(G){return G!==null&&!u(G)&&G.constructor!==null&&!u(G.constructor)&&y(G.constructor.isBuffer)&&G.constructor.isBuffer(G)}const f=o("ArrayBuffer");function g(G){let ee;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ee=ArrayBuffer.isView(G):ee=G&&G.buffer&&f(G.buffer),ee}const v=l("string"),y=l("function"),x=l("number"),_=G=>G!==null&&typeof G=="object",S=G=>G===!0||G===!1,C=G=>{if(s(G)!=="object")return!1;const ee=r(G);return(ee===null||ee===Object.prototype||Object.getPrototypeOf(ee)===null)&&!(i in G)&&!(n in G)},N=o("Date"),A=o("File"),E=o("Blob"),k=o("FileList"),O=G=>_(G)&&y(G.pipe),I=G=>{let ee;return G&&(typeof FormData=="function"&&G instanceof FormData||y(G.append)&&((ee=s(G))==="formdata"||ee==="object"&&y(G.toString)&&G.toString()==="[object FormData]"))},z=o("URLSearchParams"),[W,V,q,F]=["ReadableStream","Request","Response","Headers"].map(o),H=G=>G.trim?G.trim():G.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Q(G,ee,{allOwnKeys:de=!1}={}){if(G===null||typeof G>"u")return;let fe,xe;if(typeof G!="object"&&(G=[G]),c(G))for(fe=0,xe=G.length;fe<xe;fe++)ee.call(null,G[fe],fe,G);else{const Re=de?Object.getOwnPropertyNames(G):Object.keys(G),Me=Re.length;let Ge;for(fe=0;fe<Me;fe++)Ge=Re[fe],ee.call(null,G[Ge],Ge,G)}}function oe(G,ee){ee=ee.toLowerCase();const de=Object.keys(G);let fe=de.length,xe;for(;fe-- >0;)if(xe=de[fe],ee===xe.toLowerCase())return xe;return null}const K=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:$s,te=G=>!u(G)&&G!==K;function Z(){const{caseless:G}=te(this)&&this||{},ee={},de=(fe,xe)=>{const Re=G&&oe(ee,xe)||xe;C(ee[Re])&&C(fe)?ee[Re]=Z(ee[Re],fe):C(fe)?ee[Re]=Z({},fe):c(fe)?ee[Re]=fe.slice():ee[Re]=fe};for(let fe=0,xe=arguments.length;fe<xe;fe++)arguments[fe]&&Q(arguments[fe],de);return ee}const se=(G,ee,de,{allOwnKeys:fe}={})=>(Q(ee,(xe,Re)=>{de&&y(xe)?G[Re]=t(xe,de):G[Re]=xe},{allOwnKeys:fe}),G),X=G=>(G.charCodeAt(0)===65279&&(G=G.slice(1)),G),ce=(G,ee,de,fe)=>{G.prototype=Object.create(ee.prototype,fe),G.prototype.constructor=G,Object.defineProperty(G,"super",{value:ee.prototype}),de&&Object.assign(G.prototype,de)},je=(G,ee,de,fe)=>{let xe,Re,Me;const Ge={};if(ee=ee||{},G==null)return ee;do{for(xe=Object.getOwnPropertyNames(G),Re=xe.length;Re-- >0;)Me=xe[Re],(!fe||fe(Me,G,ee))&&!Ge[Me]&&(ee[Me]=G[Me],Ge[Me]=!0);G=de!==!1&&r(G)}while(G&&(!de||de(G,ee))&&G!==Object.prototype);return ee},Te=(G,ee,de)=>{G=String(G),(de===void 0||de>G.length)&&(de=G.length),de-=ee.length;const fe=G.indexOf(ee,de);return fe!==-1&&fe===de},qe=G=>{if(!G)return null;if(c(G))return G;let ee=G.length;if(!x(ee))return null;const de=new Array(ee);for(;ee-- >0;)de[ee]=G[ee];return de},pe=(G=>ee=>G&&ee instanceof G)(typeof Uint8Array<"u"&&r(Uint8Array)),ue=(G,ee)=>{const fe=(G&&G[n]).call(G);let xe;for(;(xe=fe.next())&&!xe.done;){const Re=xe.value;ee.call(G,Re[0],Re[1])}},_e=(G,ee)=>{let de;const fe=[];for(;(de=G.exec(ee))!==null;)fe.push(de);return fe},ye=o("HTMLFormElement"),Ie=G=>G.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(de,fe,xe){return fe.toUpperCase()+xe}),ne=(({hasOwnProperty:G})=>(ee,de)=>G.call(ee,de))(Object.prototype),J=o("RegExp"),Ee=(G,ee)=>{const de=Object.getOwnPropertyDescriptors(G),fe={};Q(de,(xe,Re)=>{let Me;(Me=ee(xe,Re,G))!==!1&&(fe[Re]=Me||xe)}),Object.defineProperties(G,fe)},Ne=G=>{Ee(G,(ee,de)=>{if(y(G)&&["arguments","caller","callee"].indexOf(de)!==-1)return!1;const fe=G[de];if(y(fe)){if(ee.enumerable=!1,"writable"in ee){ee.writable=!1;return}ee.set||(ee.set=()=>{throw Error("Can not rewrite read-only method '"+de+"'")})}})},Je=(G,ee)=>{const de={},fe=xe=>{xe.forEach(Re=>{de[Re]=!0})};return c(G)?fe(G):fe(String(G).split(ee)),de},Xe=()=>{},Oe=(G,ee)=>G!=null&&Number.isFinite(G=+G)?G:ee;function mt(G){return!!(G&&y(G.append)&&G[i]==="FormData"&&G[n])}const Gt=G=>{const ee=new Array(10),de=(fe,xe)=>{if(_(fe)){if(ee.indexOf(fe)>=0)return;if(!("toJSON"in fe)){ee[xe]=fe;const Re=c(fe)?[]:{};return Q(fe,(Me,Ge)=>{const jt=de(Me,xe+1);!u(jt)&&(Re[Ge]=jt)}),ee[xe]=void 0,Re}}return fe};return de(G,0)},ge=o("AsyncFunction"),Pe=G=>G&&(_(G)||y(G))&&y(G.then)&&y(G.catch),$e=((G,ee)=>G?setImmediate:ee?((de,fe)=>(K.addEventListener("message",({source:xe,data:Re})=>{xe===K&&Re===de&&fe.length&&fe.shift()()},!1),xe=>{fe.push(xe),K.postMessage(de,"*")}))(`axios@${Math.random()}`,[]):de=>setTimeout(de))(typeof setImmediate=="function",y(K.postMessage)),rt=typeof queueMicrotask<"u"?queueMicrotask.bind(K):typeof process<"u"&&process.nextTick||$e;var le={isArray:c,isArrayBuffer:f,isBuffer:d,isFormData:I,isArrayBufferView:g,isString:v,isNumber:x,isBoolean:S,isObject:_,isPlainObject:C,isReadableStream:W,isRequest:V,isResponse:q,isHeaders:F,isUndefined:u,isDate:N,isFile:A,isBlob:E,isRegExp:J,isFunction:y,isStream:O,isURLSearchParams:z,isTypedArray:pe,isFileList:k,forEach:Q,merge:Z,extend:se,trim:H,stripBOM:X,inherits:ce,toFlatObject:je,kindOf:s,kindOfTest:o,endsWith:Te,toArray:qe,forEachEntry:ue,matchAll:_e,isHTMLForm:ye,hasOwnProperty:ne,hasOwnProp:ne,reduceDescriptors:Ee,freezeMethods:Ne,toObjectSet:Je,toCamelCase:Ie,noop:Xe,toFiniteNumber:Oe,findKey:oe,global:K,isContextDefined:te,isSpecCompliantForm:mt,toJSONObject:Gt,isAsyncFn:ge,isThenable:Pe,setImmediate:$e,asap:rt,isIterable:G=>G!=null&&y(G[n])};function Ae(G,ee,de,fe,xe){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=G,this.name="AxiosError",ee&&(this.code=ee),de&&(this.config=de),fe&&(this.request=fe),xe&&(this.response=xe,this.status=xe.status?xe.status:null)}le.inherits(Ae,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:le.toJSONObject(this.config),code:this.code,status:this.status}}});const Y=Ae.prototype,D={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(G=>{D[G]={value:G}}),Object.defineProperties(Ae,D),Object.defineProperty(Y,"isAxiosError",{value:!0}),Ae.from=(G,ee,de,fe,xe,Re)=>{const Me=Object.create(Y);return le.toFlatObject(G,Me,function(jt){return jt!==Error.prototype},Ge=>Ge!=="isAxiosError"),Ae.call(Me,G.message,ee,de,fe,xe),Me.cause=G,Me.name=G.name,Re&&Object.assign(Me,Re),Me};var B=null;function he(G){return le.isPlainObject(G)||le.isArray(G)}function Ce(G){return le.endsWith(G,"[]")?G.slice(0,-2):G}function Be(G,ee,de){return G?G.concat(ee).map(function(xe,Re){return xe=Ce(xe),!de&&Re?"["+xe+"]":xe}).join(de?".":""):ee}function We(G){return le.isArray(G)&&!G.some(he)}const Tt=le.toFlatObject(le,{},null,function(ee){return/^is[A-Z]/.test(ee)});function pr(G,ee,de){if(!le.isObject(G))throw new TypeError("target must be an object");ee=ee||new FormData,de=le.toFlatObject(de,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Vt,Ot){return!le.isUndefined(Ot[Vt])});const fe=de.metaTokens,xe=de.visitor||ct,Re=de.dots,Me=de.indexes,jt=(de.Blob||typeof Blob<"u"&&Blob)&&le.isSpecCompliantForm(ee);if(!le.isFunction(xe))throw new TypeError("visitor must be a function");function it(Pt){if(Pt===null)return"";if(le.isDate(Pt))return Pt.toISOString();if(le.isBoolean(Pt))return Pt.toString();if(!jt&&le.isBlob(Pt))throw new Ae("Blob is not supported. Use a Buffer instead.");return le.isArrayBuffer(Pt)||le.isTypedArray(Pt)?jt&&typeof Blob=="function"?new Blob([Pt]):Buffer.from(Pt):Pt}function ct(Pt,Vt,Ot){let Hr=Pt;if(Pt&&!Ot&&typeof Pt=="object"){if(le.endsWith(Vt,"{}"))Vt=fe?Vt:Vt.slice(0,-2),Pt=JSON.stringify(Pt);else if(le.isArray(Pt)&&We(Pt)||(le.isFileList(Pt)||le.endsWith(Vt,"[]"))&&(Hr=le.toArray(Pt)))return Vt=Ce(Vt),Hr.forEach(function(On,Xs){!(le.isUndefined(On)||On===null)&&ee.append(Me===!0?Be([Vt],Xs,Re):Me===null?Vt:Vt+"[]",it(On))}),!1}return he(Pt)?!0:(ee.append(Be(Ot,Vt,Re),it(Pt)),!1)}const Ct=[],sr=Object.assign(Tt,{defaultVisitor:ct,convertValue:it,isVisitable:he});function pn(Pt,Vt){if(!le.isUndefined(Pt)){if(Ct.indexOf(Pt)!==-1)throw Error("Circular reference detected in "+Vt.join("."));Ct.push(Pt),le.forEach(Pt,function(Hr,wn){(!(le.isUndefined(Hr)||Hr===null)&&xe.call(ee,Hr,le.isString(wn)?wn.trim():wn,Vt,sr))===!0&&pn(Hr,Vt?Vt.concat(wn):[wn])}),Ct.pop()}}if(!le.isObject(G))throw new TypeError("data must be an object");return pn(G),ee}function Xt(G){const ee={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(G).replace(/[!'()~]|%20|%00/g,function(fe){return ee[fe]})}function lr(G,ee){this._pairs=[],G&&pr(G,this,ee)}const nr=lr.prototype;nr.append=function(ee,de){this._pairs.push([ee,de])},nr.toString=function(ee){const de=ee?function(fe){return ee.call(this,fe,Xt)}:Xt;return this._pairs.map(function(xe){return de(xe[0])+"="+de(xe[1])},"").join("&")};function qo(G){return encodeURIComponent(G).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ba(G,ee,de){if(!ee)return G;const fe=de&&de.encode||qo;le.isFunction(de)&&(de={serialize:de});const xe=de&&de.serialize;let Re;if(xe?Re=xe(ee,de):Re=le.isURLSearchParams(ee)?ee.toString():new lr(ee,de).toString(fe),Re){const Me=G.indexOf("#");Me!==-1&&(G=G.slice(0,Me)),G+=(G.indexOf("?")===-1?"?":"&")+Re}return G}class Gs{constructor(){this.handlers=[]}use(ee,de,fe){return this.handlers.push({fulfilled:ee,rejected:de,synchronous:fe?fe.synchronous:!1,runWhen:fe?fe.runWhen:null}),this.handlers.length-1}eject(ee){this.handlers[ee]&&(this.handlers[ee]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(ee){le.forEach(this.handlers,function(fe){fe!==null&&ee(fe)})}}var zi=Gs,qi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Qc=typeof URLSearchParams<"u"?URLSearchParams:lr,Dt=typeof FormData<"u"?FormData:null,vr=typeof Blob<"u"?Blob:null,Rr={isBrowser:!0,classes:{URLSearchParams:Qc,FormData:Dt,Blob:vr},protocols:["http","https","file","blob","url","data"]};const Dn=typeof window<"u"&&typeof document<"u",Tn=typeof navigator=="object"&&navigator||void 0,vi=Dn&&(!Tn||["ReactNative","NativeScript","NS"].indexOf(Tn.product)<0),ss=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",$n=Dn&&window.location.href||"http://localhost";var ws=Object.freeze({__proto__:null,hasBrowserEnv:Dn,hasStandardBrowserWebWorkerEnv:ss,hasStandardBrowserEnv:vi,navigator:Tn,origin:$n}),wr={...ws,...Rr};function St(G,ee){return pr(G,new wr.classes.URLSearchParams,Object.assign({visitor:function(de,fe,xe,Re){return wr.isNode&&le.isBuffer(de)?(this.append(fe,de.toString("base64")),!1):Re.defaultVisitor.apply(this,arguments)}},ee))}function Ml(G){return le.matchAll(/\w+|\[(\w*)]/g,G).map(ee=>ee[0]==="[]"?"":ee[1]||ee[0])}function eu(G){const ee={},de=Object.keys(G);let fe;const xe=de.length;let Re;for(fe=0;fe<xe;fe++)Re=de[fe],ee[Re]=G[Re];return ee}function Td(G){function ee(de,fe,xe,Re){let Me=de[Re++];if(Me==="__proto__")return!0;const Ge=Number.isFinite(+Me),jt=Re>=de.length;return Me=!Me&&le.isArray(xe)?xe.length:Me,jt?(le.hasOwnProp(xe,Me)?xe[Me]=[xe[Me],fe]:xe[Me]=fe,!Ge):((!xe[Me]||!le.isObject(xe[Me]))&&(xe[Me]=[]),ee(de,fe,xe[Me],Re)&&le.isArray(xe[Me])&&(xe[Me]=eu(xe[Me])),!Ge)}if(le.isFormData(G)&&le.isFunction(G.entries)){const de={};return le.forEachEntry(G,(fe,xe)=>{ee(Ml(fe),xe,de,0)}),de}return null}function uh(G,ee,de){if(le.isString(G))try{return(ee||JSON.parse)(G),le.trim(G)}catch(fe){if(fe.name!=="SyntaxError")throw fe}return(de||JSON.stringify)(G)}const Il={transitional:qi,adapter:["xhr","http","fetch"],transformRequest:[function(ee,de){const fe=de.getContentType()||"",xe=fe.indexOf("application/json")>-1,Re=le.isObject(ee);if(Re&&le.isHTMLForm(ee)&&(ee=new FormData(ee)),le.isFormData(ee))return xe?JSON.stringify(Td(ee)):ee;if(le.isArrayBuffer(ee)||le.isBuffer(ee)||le.isStream(ee)||le.isFile(ee)||le.isBlob(ee)||le.isReadableStream(ee))return ee;if(le.isArrayBufferView(ee))return ee.buffer;if(le.isURLSearchParams(ee))return de.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),ee.toString();let Ge;if(Re){if(fe.indexOf("application/x-www-form-urlencoded")>-1)return St(ee,this.formSerializer).toString();if((Ge=le.isFileList(ee))||fe.indexOf("multipart/form-data")>-1){const jt=this.env&&this.env.FormData;return pr(Ge?{"files[]":ee}:ee,jt&&new jt,this.formSerializer)}}return Re||xe?(de.setContentType("application/json",!1),uh(ee)):ee}],transformResponse:[function(ee){const de=this.transitional||Il.transitional,fe=de&&de.forcedJSONParsing,xe=this.responseType==="json";if(le.isResponse(ee)||le.isReadableStream(ee))return ee;if(ee&&le.isString(ee)&&(fe&&!this.responseType||xe)){const Me=!(de&&de.silentJSONParsing)&&xe;try{return JSON.parse(ee)}catch(Ge){if(Me)throw Ge.name==="SyntaxError"?Ae.from(Ge,Ae.ERR_BAD_RESPONSE,this,null,this.response):Ge}}return ee}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wr.classes.FormData,Blob:wr.classes.Blob},validateStatus:function(ee){return ee>=200&&ee<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};le.forEach(["delete","get","head","post","put","patch"],G=>{Il.headers[G]={}});var _s=Il;const ro=le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]);var Od=G=>{const ee={};let de,fe,xe;return G&&G.split(`
`).forEach(function(Me){xe=Me.indexOf(":"),de=Me.substring(0,xe).trim().toLowerCase(),fe=Me.substring(xe+1).trim(),!(!de||ee[de]&&ro[de])&&(de==="set-cookie"?ee[de]?ee[de].push(fe):ee[de]=[fe]:ee[de]=ee[de]?ee[de]+", "+fe:fe)}),ee};const dh=Symbol("internals");function Uo(G){return G&&String(G).trim().toLowerCase()}function Ll(G){return G===!1||G==null?G:le.isArray(G)?G.map(Ll):String(G)}function fh(G){const ee=Object.create(null),de=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let fe;for(;fe=de.exec(G);)ee[fe[1]]=fe[2];return ee}const Rd=G=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(G.trim());function Md(G,ee,de,fe,xe){if(le.isFunction(fe))return fe.call(this,ee,de);if(xe&&(ee=de),!!le.isString(ee)){if(le.isString(fe))return ee.indexOf(fe)!==-1;if(le.isRegExp(fe))return fe.test(ee)}}function tu(G){return G.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(ee,de,fe)=>de.toUpperCase()+fe)}function fn(G,ee){const de=le.toCamelCase(" "+ee);["get","set","has"].forEach(fe=>{Object.defineProperty(G,fe+de,{value:function(xe,Re,Me){return this[fe].call(this,ee,xe,Re,Me)},configurable:!0})})}class ru{constructor(ee){ee&&this.set(ee)}set(ee,de,fe){const xe=this;function Re(Ge,jt,it){const ct=Uo(jt);if(!ct)throw new Error("header name must be a non-empty string");const Ct=le.findKey(xe,ct);(!Ct||xe[Ct]===void 0||it===!0||it===void 0&&xe[Ct]!==!1)&&(xe[Ct||jt]=Ll(Ge))}const Me=(Ge,jt)=>le.forEach(Ge,(it,ct)=>Re(it,ct,jt));if(le.isPlainObject(ee)||ee instanceof this.constructor)Me(ee,de);else if(le.isString(ee)&&(ee=ee.trim())&&!Rd(ee))Me(Od(ee),de);else if(le.isObject(ee)&&le.isIterable(ee)){let Ge={},jt,it;for(const ct of ee){if(!le.isArray(ct))throw TypeError("Object iterator must return a key-value pair");Ge[it=ct[0]]=(jt=Ge[it])?le.isArray(jt)?[...jt,ct[1]]:[jt,ct[1]]:ct[1]}Me(Ge,de)}else ee!=null&&Re(de,ee,fe);return this}get(ee,de){if(ee=Uo(ee),ee){const fe=le.findKey(this,ee);if(fe){const xe=this[fe];if(!de)return xe;if(de===!0)return fh(xe);if(le.isFunction(de))return de.call(this,xe,fe);if(le.isRegExp(de))return de.exec(xe);throw new TypeError("parser must be boolean|regexp|function")}}}has(ee,de){if(ee=Uo(ee),ee){const fe=le.findKey(this,ee);return!!(fe&&this[fe]!==void 0&&(!de||Md(this,this[fe],fe,de)))}return!1}delete(ee,de){const fe=this;let xe=!1;function Re(Me){if(Me=Uo(Me),Me){const Ge=le.findKey(fe,Me);Ge&&(!de||Md(fe,fe[Ge],Ge,de))&&(delete fe[Ge],xe=!0)}}return le.isArray(ee)?ee.forEach(Re):Re(ee),xe}clear(ee){const de=Object.keys(this);let fe=de.length,xe=!1;for(;fe--;){const Re=de[fe];(!ee||Md(this,this[Re],Re,ee,!0))&&(delete this[Re],xe=!0)}return xe}normalize(ee){const de=this,fe={};return le.forEach(this,(xe,Re)=>{const Me=le.findKey(fe,Re);if(Me){de[Me]=Ll(xe),delete de[Re];return}const Ge=ee?tu(Re):String(Re).trim();Ge!==Re&&delete de[Re],de[Ge]=Ll(xe),fe[Ge]=!0}),this}concat(...ee){return this.constructor.concat(this,...ee)}toJSON(ee){const de=Object.create(null);return le.forEach(this,(fe,xe)=>{fe!=null&&fe!==!1&&(de[xe]=ee&&le.isArray(fe)?fe.join(", "):fe)}),de}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([ee,de])=>ee+": "+de).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(ee){return ee instanceof this?ee:new this(ee)}static concat(ee,...de){const fe=new this(ee);return de.forEach(xe=>fe.set(xe)),fe}static accessor(ee){const fe=(this[dh]=this[dh]={accessors:{}}).accessors,xe=this.prototype;function Re(Me){const Ge=Uo(Me);fe[Ge]||(fn(xe,Me),fe[Ge]=!0)}return le.isArray(ee)?ee.forEach(Re):Re(ee),this}}ru.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),le.reduceDescriptors(ru.prototype,({value:G},ee)=>{let de=ee[0].toUpperCase()+ee.slice(1);return{get:()=>G,set(fe){this[de]=fe}}}),le.freezeMethods(ru);var Ti=ru;function nu(G,ee){const de=this||_s,fe=ee||de,xe=Ti.from(fe.headers);let Re=fe.data;return le.forEach(G,function(Ge){Re=Ge.call(de,Re,xe.normalize(),ee?ee.status:void 0)}),xe.normalize(),Re}function Dl(G){return!!(G&&G.__CANCEL__)}function wa(G,ee,de){Ae.call(this,G??"canceled",Ae.ERR_CANCELED,ee,de),this.name="CanceledError"}le.inherits(wa,Ae,{__CANCEL__:!0});function no(G,ee,de){const fe=de.config.validateStatus;!de.status||!fe||fe(de.status)?G(de):ee(new Ae("Request failed with status code "+de.status,[Ae.ERR_BAD_REQUEST,Ae.ERR_BAD_RESPONSE][Math.floor(de.status/100)-4],de.config,de.request,de))}function $l(G){const ee=/^([-+\w]{1,25})(:?\/\/|:)/.exec(G);return ee&&ee[1]||""}function as(G,ee){G=G||10;const de=new Array(G),fe=new Array(G);let xe=0,Re=0,Me;return ee=ee!==void 0?ee:1e3,function(jt){const it=Date.now(),ct=fe[Re];Me||(Me=it),de[xe]=jt,fe[xe]=it;let Ct=Re,sr=0;for(;Ct!==xe;)sr+=de[Ct++],Ct=Ct%G;if(xe=(xe+1)%G,xe===Re&&(Re=(Re+1)%G),it-Me<ee)return;const pn=ct&&it-ct;return pn?Math.round(sr*1e3/pn):void 0}}function Fl(G,ee){let de=0,fe=1e3/ee,xe,Re;const Me=(it,ct=Date.now())=>{de=ct,xe=null,Re&&(clearTimeout(Re),Re=null),G.apply(null,it)};return[(...it)=>{const ct=Date.now(),Ct=ct-de;Ct>=fe?Me(it,ct):(xe=it,Re||(Re=setTimeout(()=>{Re=null,Me(xe)},fe-Ct)))},()=>xe&&Me(xe)]}const zt=(G,ee,de=3)=>{let fe=0;const xe=as(50,250);return Fl(Re=>{const Me=Re.loaded,Ge=Re.lengthComputable?Re.total:void 0,jt=Me-fe,it=xe(jt),ct=Me<=Ge;fe=Me;const Ct={loaded:Me,total:Ge,progress:Ge?Me/Ge:void 0,bytes:jt,rate:it||void 0,estimated:it&&Ge&&ct?(Ge-Me)/it:void 0,event:Re,lengthComputable:Ge!=null,[ee?"download":"upload"]:!0};G(Ct)},de)},Wr=(G,ee)=>{const de=G!=null;return[fe=>ee[0]({lengthComputable:de,total:G,loaded:fe}),ee[1]]},Bl=G=>(...ee)=>le.asap(()=>G(...ee));var Vo=wr.hasStandardBrowserEnv?((G,ee)=>de=>(de=new URL(de,wr.origin),G.protocol===de.protocol&&G.host===de.host&&(ee||G.port===de.port)))(new URL(wr.origin),wr.navigator&&/(msie|trident)/i.test(wr.navigator.userAgent)):()=>!0,Zs=wr.hasStandardBrowserEnv?{write(G,ee,de,fe,xe,Re){const Me=[G+"="+encodeURIComponent(ee)];le.isNumber(de)&&Me.push("expires="+new Date(de).toGMTString()),le.isString(fe)&&Me.push("path="+fe),le.isString(xe)&&Me.push("domain="+xe),Re===!0&&Me.push("secure"),document.cookie=Me.join("; ")},read(G){const ee=document.cookie.match(new RegExp("(^|;\\s*)("+G+")=([^;]*)"));return ee?decodeURIComponent(ee[3]):null},remove(G){this.write(G,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Wo(G){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(G)}function qt(G,ee){return ee?G.replace(/\/?\/$/,"")+"/"+ee.replace(/^\/+/,""):G}function zr(G,ee,de){let fe=!Wo(ee);return G&&(fe||de==!1)?qt(G,ee):ee}const iu=G=>G instanceof Ti?{...G}:G;function Ss(G,ee){ee=ee||{};const de={};function fe(it,ct,Ct,sr){return le.isPlainObject(it)&&le.isPlainObject(ct)?le.merge.call({caseless:sr},it,ct):le.isPlainObject(ct)?le.merge({},ct):le.isArray(ct)?ct.slice():ct}function xe(it,ct,Ct,sr){if(le.isUndefined(ct)){if(!le.isUndefined(it))return fe(void 0,it,Ct,sr)}else return fe(it,ct,Ct,sr)}function Re(it,ct){if(!le.isUndefined(ct))return fe(void 0,ct)}function Me(it,ct){if(le.isUndefined(ct)){if(!le.isUndefined(it))return fe(void 0,it)}else return fe(void 0,ct)}function Ge(it,ct,Ct){if(Ct in ee)return fe(it,ct);if(Ct in G)return fe(void 0,it)}const jt={url:Re,method:Re,data:Re,baseURL:Me,transformRequest:Me,transformResponse:Me,paramsSerializer:Me,timeout:Me,timeoutMessage:Me,withCredentials:Me,withXSRFToken:Me,adapter:Me,responseType:Me,xsrfCookieName:Me,xsrfHeaderName:Me,onUploadProgress:Me,onDownloadProgress:Me,decompress:Me,maxContentLength:Me,maxBodyLength:Me,beforeRedirect:Me,transport:Me,httpAgent:Me,httpsAgent:Me,cancelToken:Me,socketPath:Me,responseEncoding:Me,validateStatus:Ge,headers:(it,ct,Ct)=>xe(iu(it),iu(ct),Ct,!0)};return le.forEach(Object.keys(Object.assign({},G,ee)),function(ct){const Ct=jt[ct]||xe,sr=Ct(G[ct],ee[ct],ct);le.isUndefined(sr)&&Ct!==Ge||(de[ct]=sr)}),de}var si=G=>{const ee=Ss({},G);let{data:de,withXSRFToken:fe,xsrfHeaderName:xe,xsrfCookieName:Re,headers:Me,auth:Ge}=ee;ee.headers=Me=Ti.from(Me),ee.url=ba(zr(ee.baseURL,ee.url,ee.allowAbsoluteUrls),G.params,G.paramsSerializer),Ge&&Me.set("Authorization","Basic "+btoa((Ge.username||"")+":"+(Ge.password?unescape(encodeURIComponent(Ge.password)):"")));let jt;if(le.isFormData(de)){if(wr.hasStandardBrowserEnv||wr.hasStandardBrowserWebWorkerEnv)Me.setContentType(void 0);else if((jt=Me.getContentType())!==!1){const[it,...ct]=jt?jt.split(";").map(Ct=>Ct.trim()).filter(Boolean):[];Me.setContentType([it||"multipart/form-data",...ct].join("; "))}}if(wr.hasStandardBrowserEnv&&(fe&&le.isFunction(fe)&&(fe=fe(ee)),fe||fe!==!1&&Vo(ee.url))){const it=xe&&Re&&Zs.read(Re);it&&Me.set(xe,it)}return ee},Ho=typeof XMLHttpRequest<"u"&&function(G){return new Promise(function(de,fe){const xe=si(G);let Re=xe.data;const Me=Ti.from(xe.headers).normalize();let{responseType:Ge,onUploadProgress:jt,onDownloadProgress:it}=xe,ct,Ct,sr,pn,Pt;function Vt(){pn&&pn(),Pt&&Pt(),xe.cancelToken&&xe.cancelToken.unsubscribe(ct),xe.signal&&xe.signal.removeEventListener("abort",ct)}let Ot=new XMLHttpRequest;Ot.open(xe.method.toUpperCase(),xe.url,!0),Ot.timeout=xe.timeout;function Hr(){if(!Ot)return;const On=Ti.from("getAllResponseHeaders"in Ot&&Ot.getAllResponseHeaders()),Hn={data:!Ge||Ge==="text"||Ge==="json"?Ot.responseText:Ot.response,status:Ot.status,statusText:Ot.statusText,headers:On,config:G,request:Ot};no(function(Js){de(Js),Vt()},function(Js){fe(Js),Vt()},Hn),Ot=null}"onloadend"in Ot?Ot.onloadend=Hr:Ot.onreadystatechange=function(){!Ot||Ot.readyState!==4||Ot.status===0&&!(Ot.responseURL&&Ot.responseURL.indexOf("file:")===0)||setTimeout(Hr)},Ot.onabort=function(){Ot&&(fe(new Ae("Request aborted",Ae.ECONNABORTED,G,Ot)),Ot=null)},Ot.onerror=function(){fe(new Ae("Network Error",Ae.ERR_NETWORK,G,Ot)),Ot=null},Ot.ontimeout=function(){let Xs=xe.timeout?"timeout of "+xe.timeout+"ms exceeded":"timeout exceeded";const Hn=xe.transitional||qi;xe.timeoutErrorMessage&&(Xs=xe.timeoutErrorMessage),fe(new Ae(Xs,Hn.clarifyTimeoutError?Ae.ETIMEDOUT:Ae.ECONNABORTED,G,Ot)),Ot=null},Re===void 0&&Me.setContentType(null),"setRequestHeader"in Ot&&le.forEach(Me.toJSON(),function(Xs,Hn){Ot.setRequestHeader(Hn,Xs)}),le.isUndefined(xe.withCredentials)||(Ot.withCredentials=!!xe.withCredentials),Ge&&Ge!=="json"&&(Ot.responseType=xe.responseType),it&&([sr,Pt]=zt(it,!0),Ot.addEventListener("progress",sr)),jt&&Ot.upload&&([Ct,pn]=zt(jt),Ot.upload.addEventListener("progress",Ct),Ot.upload.addEventListener("loadend",pn)),(xe.cancelToken||xe.signal)&&(ct=On=>{Ot&&(fe(!On||On.type?new wa(null,G,Ot):On),Ot.abort(),Ot=null)},xe.cancelToken&&xe.cancelToken.subscribe(ct),xe.signal&&(xe.signal.aborted?ct():xe.signal.addEventListener("abort",ct)));const wn=$l(xe.url);if(wn&&wr.protocols.indexOf(wn)===-1){fe(new Ae("Unsupported protocol "+wn+":",Ae.ERR_BAD_REQUEST,G));return}Ot.send(Re||null)})},bn=(G,ee)=>{const{length:de}=G=G?G.filter(Boolean):[];if(ee||de){let fe=new AbortController,xe;const Re=function(it){if(!xe){xe=!0,Ge();const ct=it instanceof Error?it:this.reason;fe.abort(ct instanceof Ae?ct:new wa(ct instanceof Error?ct.message:ct))}};let Me=ee&&setTimeout(()=>{Me=null,Re(new Ae(`timeout ${ee} of ms exceeded`,Ae.ETIMEDOUT))},ee);const Ge=()=>{G&&(Me&&clearTimeout(Me),Me=null,G.forEach(it=>{it.unsubscribe?it.unsubscribe(Re):it.removeEventListener("abort",Re)}),G=null)};G.forEach(it=>it.addEventListener("abort",Re));const{signal:jt}=fe;return jt.unsubscribe=()=>le.asap(Ge),jt}};const Ys=function*(G,ee){let de=G.byteLength;if(de<ee){yield G;return}let fe=0,xe;for(;fe<de;)xe=fe+ee,yield G.slice(fe,xe),fe=xe},mr=async function*(G,ee){for await(const de of Ko(G))yield*Ys(de,ee)},Ko=async function*(G){if(G[Symbol.asyncIterator]){yield*G;return}const ee=G.getReader();try{for(;;){const{done:de,value:fe}=await ee.read();if(de)break;yield fe}}finally{await ee.cancel()}},zl=(G,ee,de,fe)=>{const xe=mr(G,ee);let Re=0,Me,Ge=jt=>{Me||(Me=!0,fe&&fe(jt))};return new ReadableStream({async pull(jt){try{const{done:it,value:ct}=await xe.next();if(it){Ge(),jt.close();return}let Ct=ct.byteLength;if(de){let sr=Re+=Ct;de(sr)}jt.enqueue(new Uint8Array(ct))}catch(it){throw Ge(it),it}},cancel(jt){return Ge(jt),xe.return()}},{highWaterMark:2})},Cs=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",ql=Cs&&typeof ReadableStream=="function",su=Cs&&(typeof TextEncoder=="function"?(G=>ee=>G.encode(ee))(new TextEncoder):async G=>new Uint8Array(await new Response(G).arrayBuffer())),Go=(G,...ee)=>{try{return!!G(...ee)}catch{return!1}},Ul=ql&&Go(()=>{let G=!1;const ee=new Request(wr.origin,{body:new ReadableStream,method:"POST",get duplex(){return G=!0,"half"}}).headers.has("Content-Type");return G&&!ee}),io=64*1024,Oi=ql&&Go(()=>le.isReadableStream(new Response("").body)),Ui={stream:Oi&&(G=>G.body)};Cs&&(G=>{["text","arrayBuffer","blob","formData","stream"].forEach(ee=>{!Ui[ee]&&(Ui[ee]=le.isFunction(G[ee])?de=>de[ee]():(de,fe)=>{throw new Ae(`Response type '${ee}' is not supported`,Ae.ERR_NOT_SUPPORT,fe)})})})(new Response);const Ns=async G=>{if(G==null)return 0;if(le.isBlob(G))return G.size;if(le.isSpecCompliantForm(G))return(await new Request(wr.origin,{method:"POST",body:G}).arrayBuffer()).byteLength;if(le.isArrayBufferView(G)||le.isArrayBuffer(G))return G.byteLength;if(le.isURLSearchParams(G)&&(G=G+""),le.isString(G))return(await su(G)).byteLength},Vl=async(G,ee)=>{const de=le.toFiniteNumber(G.getContentLength());return de??Ns(ee)};var $t=Cs&&(async G=>{let{url:ee,method:de,data:fe,signal:xe,cancelToken:Re,timeout:Me,onDownloadProgress:Ge,onUploadProgress:jt,responseType:it,headers:ct,withCredentials:Ct="same-origin",fetchOptions:sr}=si(G);it=it?(it+"").toLowerCase():"text";let pn=bn([xe,Re&&Re.toAbortSignal()],Me),Pt;const Vt=pn&&pn.unsubscribe&&(()=>{pn.unsubscribe()});let Ot;try{if(jt&&Ul&&de!=="get"&&de!=="head"&&(Ot=await Vl(ct,fe))!==0){let Hn=new Request(ee,{method:"POST",body:fe,duplex:"half"}),Ca;if(le.isFormData(fe)&&(Ca=Hn.headers.get("content-type"))&&ct.setContentType(Ca),Hn.body){const[Js,Gl]=Wr(Ot,zt(Bl(jt)));fe=zl(Hn.body,io,Js,Gl)}}le.isString(Ct)||(Ct=Ct?"include":"omit");const Hr="credentials"in Request.prototype;Pt=new Request(ee,{...sr,signal:pn,method:de.toUpperCase(),headers:ct.normalize().toJSON(),body:fe,duplex:"half",credentials:Hr?Ct:void 0});let wn=await fetch(Pt,sr);const On=Oi&&(it==="stream"||it==="response");if(Oi&&(Ge||On&&Vt)){const Hn={};["status","statusText","headers"].forEach(Zl=>{Hn[Zl]=wn[Zl]});const Ca=le.toFiniteNumber(wn.headers.get("content-length")),[Js,Gl]=Ge&&Wr(Ca,zt(Bl(Ge),!0))||[];wn=new Response(zl(wn.body,io,Js,()=>{Gl&&Gl(),Vt&&Vt()}),Hn)}it=it||"text";let Xs=await Ui[le.findKey(Ui,it)||"text"](wn,G);return!On&&Vt&&Vt(),await new Promise((Hn,Ca)=>{no(Hn,Ca,{data:Xs,headers:Ti.from(wn.headers),status:wn.status,statusText:wn.statusText,config:G,request:Pt})})}catch(Hr){throw Vt&&Vt(),Hr&&Hr.name==="TypeError"&&/Load failed|fetch/i.test(Hr.message)?Object.assign(new Ae("Network Error",Ae.ERR_NETWORK,G,Pt),{cause:Hr.cause||Hr}):Ae.from(Hr,Hr&&Hr.code,G,Pt)}});const Cn={http:B,xhr:Ho,fetch:$t};le.forEach(Cn,(G,ee)=>{if(G){try{Object.defineProperty(G,"name",{value:ee})}catch{}Object.defineProperty(G,"adapterName",{value:ee})}});const Mr=G=>`- ${G}`,Id=G=>le.isFunction(G)||G===null||G===!1;var _a={getAdapter:G=>{G=le.isArray(G)?G:[G];const{length:ee}=G;let de,fe;const xe={};for(let Re=0;Re<ee;Re++){de=G[Re];let Me;if(fe=de,!Id(de)&&(fe=Cn[(Me=String(de)).toLowerCase()],fe===void 0))throw new Ae(`Unknown adapter '${Me}'`);if(fe)break;xe[Me||"#"+Re]=fe}if(!fe){const Re=Object.entries(xe).map(([Ge,jt])=>`adapter ${Ge} `+(jt===!1?"is not supported by the environment":"is not available in the build"));let Me=ee?Re.length>1?`since :
`+Re.map(Mr).join(`
`):" "+Mr(Re[0]):"as no adapter specified";throw new Ae("There is no suitable adapter to dispatch the request "+Me,"ERR_NOT_SUPPORT")}return fe},adapters:Cn};function Wl(G){if(G.cancelToken&&G.cancelToken.throwIfRequested(),G.signal&&G.signal.aborted)throw new wa(null,G)}function Hl(G){return Wl(G),G.headers=Ti.from(G.headers),G.data=nu.call(G,G.transformRequest),["post","put","patch"].indexOf(G.method)!==-1&&G.headers.setContentType("application/x-www-form-urlencoded",!1),_a.getAdapter(G.adapter||_s.adapter)(G).then(function(fe){return Wl(G),fe.data=nu.call(G,G.transformResponse,fe),fe.headers=Ti.from(fe.headers),fe},function(fe){return Dl(fe)||(Wl(G),fe&&fe.response&&(fe.response.data=nu.call(G,G.transformResponse,fe.response),fe.response.headers=Ti.from(fe.response.headers))),Promise.reject(fe)})}const os="1.10.0",so={};["object","boolean","number","function","string","symbol"].forEach((G,ee)=>{so[G]=function(fe){return typeof fe===G||"a"+(ee<1?"n ":" ")+G}});const Zo={};so.transitional=function(ee,de,fe){function xe(Re,Me){return"[Axios v"+os+"] Transitional option '"+Re+"'"+Me+(fe?". "+fe:"")}return(Re,Me,Ge)=>{if(ee===!1)throw new Ae(xe(Me," has been removed"+(de?" in "+de:"")),Ae.ERR_DEPRECATED);return de&&!Zo[Me]&&(Zo[Me]=!0,console.warn(xe(Me," has been deprecated since v"+de+" and will be removed in the near future"))),ee?ee(Re,Me,Ge):!0}},so.spelling=function(ee){return(de,fe)=>(console.warn(`${fe} is likely a misspelling of ${ee}`),!0)};function hn(G,ee,de){if(typeof G!="object")throw new Ae("options must be an object",Ae.ERR_BAD_OPTION_VALUE);const fe=Object.keys(G);let xe=fe.length;for(;xe-- >0;){const Re=fe[xe],Me=ee[Re];if(Me){const Ge=G[Re],jt=Ge===void 0||Me(Ge,Re,G);if(jt!==!0)throw new Ae("option "+Re+" must be "+jt,Ae.ERR_BAD_OPTION_VALUE);continue}if(de!==!0)throw new Ae("Unknown option "+Re,Ae.ERR_BAD_OPTION)}}var yi={assertOptions:hn,validators:so};const Wn=yi.validators;class Sa{constructor(ee){this.defaults=ee||{},this.interceptors={request:new zi,response:new zi}}async request(ee,de){try{return await this._request(ee,de)}catch(fe){if(fe instanceof Error){let xe={};Error.captureStackTrace?Error.captureStackTrace(xe):xe=new Error;const Re=xe.stack?xe.stack.replace(/^.+\n/,""):"";try{fe.stack?Re&&!String(fe.stack).endsWith(Re.replace(/^.+\n.+\n/,""))&&(fe.stack+=`
`+Re):fe.stack=Re}catch{}}throw fe}}_request(ee,de){typeof ee=="string"?(de=de||{},de.url=ee):de=ee||{},de=Ss(this.defaults,de);const{transitional:fe,paramsSerializer:xe,headers:Re}=de;fe!==void 0&&yi.assertOptions(fe,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1),xe!=null&&(le.isFunction(xe)?de.paramsSerializer={serialize:xe}:yi.assertOptions(xe,{encode:Wn.function,serialize:Wn.function},!0)),de.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?de.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:de.allowAbsoluteUrls=!0),yi.assertOptions(de,{baseUrl:Wn.spelling("baseURL"),withXsrfToken:Wn.spelling("withXSRFToken")},!0),de.method=(de.method||this.defaults.method||"get").toLowerCase();let Me=Re&&le.merge(Re.common,Re[de.method]);Re&&le.forEach(["delete","get","head","post","put","patch","common"],Pt=>{delete Re[Pt]}),de.headers=Ti.concat(Me,Re);const Ge=[];let jt=!0;this.interceptors.request.forEach(function(Vt){typeof Vt.runWhen=="function"&&Vt.runWhen(de)===!1||(jt=jt&&Vt.synchronous,Ge.unshift(Vt.fulfilled,Vt.rejected))});const it=[];this.interceptors.response.forEach(function(Vt){it.push(Vt.fulfilled,Vt.rejected)});let ct,Ct=0,sr;if(!jt){const Pt=[Hl.bind(this),void 0];for(Pt.unshift.apply(Pt,Ge),Pt.push.apply(Pt,it),sr=Pt.length,ct=Promise.resolve(de);Ct<sr;)ct=ct.then(Pt[Ct++],Pt[Ct++]);return ct}sr=Ge.length;let pn=de;for(Ct=0;Ct<sr;){const Pt=Ge[Ct++],Vt=Ge[Ct++];try{pn=Pt(pn)}catch(Ot){Vt.call(this,Ot);break}}try{ct=Hl.call(this,pn)}catch(Pt){return Promise.reject(Pt)}for(Ct=0,sr=it.length;Ct<sr;)ct=ct.then(it[Ct++],it[Ct++]);return ct}getUri(ee){ee=Ss(this.defaults,ee);const de=zr(ee.baseURL,ee.url,ee.allowAbsoluteUrls);return ba(de,ee.params,ee.paramsSerializer)}}le.forEach(["delete","get","head","options"],function(ee){Sa.prototype[ee]=function(de,fe){return this.request(Ss(fe||{},{method:ee,url:de,data:(fe||{}).data}))}}),le.forEach(["post","put","patch"],function(ee){function de(fe){return function(Re,Me,Ge){return this.request(Ss(Ge||{},{method:ee,headers:fe?{"Content-Type":"multipart/form-data"}:{},url:Re,data:Me}))}}Sa.prototype[ee]=de(),Sa.prototype[ee+"Form"]=de(!0)});var au=Sa;class ou{constructor(ee){if(typeof ee!="function")throw new TypeError("executor must be a function.");let de;this.promise=new Promise(function(Re){de=Re});const fe=this;this.promise.then(xe=>{if(!fe._listeners)return;let Re=fe._listeners.length;for(;Re-- >0;)fe._listeners[Re](xe);fe._listeners=null}),this.promise.then=xe=>{let Re;const Me=new Promise(Ge=>{fe.subscribe(Ge),Re=Ge}).then(xe);return Me.cancel=function(){fe.unsubscribe(Re)},Me},ee(function(Re,Me,Ge){fe.reason||(fe.reason=new wa(Re,Me,Ge),de(fe.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(ee){if(this.reason){ee(this.reason);return}this._listeners?this._listeners.push(ee):this._listeners=[ee]}unsubscribe(ee){if(!this._listeners)return;const de=this._listeners.indexOf(ee);de!==-1&&this._listeners.splice(de,1)}toAbortSignal(){const ee=new AbortController,de=fe=>{ee.abort(fe)};return this.subscribe(de),ee.signal.unsubscribe=()=>this.unsubscribe(de),ee.signal}static source(){let ee;return{token:new ou(function(xe){ee=xe}),cancel:ee}}}var Kl=ou;function lu(G){return function(de){return G.apply(null,de)}}function cu(G){return le.isObject(G)&&G.isAxiosError===!0}const ir={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ir).forEach(([G,ee])=>{ir[ee]=G});var ja=ir;function xi(G){const ee=new au(G),de=t(au.prototype.request,ee);return le.extend(de,au.prototype,ee,{allOwnKeys:!0}),le.extend(de,ee,null,{allOwnKeys:!0}),de.create=function(xe){return xi(Ss(G,xe))},de}const Ir=xi(_s);return Ir.Axios=au,Ir.CanceledError=wa,Ir.CancelToken=Kl,Ir.isCancel=Dl,Ir.VERSION=os,Ir.toFormData=pr,Ir.AxiosError=Ae,Ir.Cancel=Ir.CanceledError,Ir.all=function(ee){return Promise.all(ee)},Ir.spread=lu,Ir.isAxiosError=cu,Ir.mergeConfig=Ss,Ir.AxiosHeaders=Ti,Ir.formToJSON=G=>Td(le.isHTMLForm(G)?new FormData(G):G),Ir.getAdapter=_a.getAdapter,Ir.HttpStatusCode=ja,Ir.default=Ir,dC=Ir,dC}const gge="8.1.5",vge={version:gge};var fC,X3;function cM(){return X3||(X3=1,fC=function t(e,r,n){if(typeof e!="object"||e===null)throw new Error("Non object passed to convertKeys: "+e);if(Array.isArray(e))return e;Array.isArray(n)||(n=[]);for(const i in e)if(e.hasOwnProperty(i)){const s=r(i);typeof e[i]=="object"&&e[i]!==null&&!n.includes(i)&&!n.includes(s)&&(e[i]=t(e[i],r,n)),s!==i&&(e[s]=e[i],delete e[i])}return e}),fC}var hC,J3;function yge(){return J3||(J3=1,hC=function(e){if(typeof e!="string")throw new Error("String expected for conversion to snake case");return e.trim().replace(/_+|\-+/g," ").replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(r,n){return Number(r)===0?"":n===0?r.toLowerCase():r.toUpperCase()})}),hC}var pC,Q3;function Qy(){if(Q3)return pC;Q3=1;const t=cM(),e=yge();return pC=function(n,i){return t(n,e,i)},pC}var mC,eF;function xge(){return eF||(eF=1,mC=function(e){if(typeof e!="string")throw new Error("String expected for conversion to snake case");return e.trim().replace(/(\s*\-*\b\w|[A-Z])/g,function(r){return r=r.trim().toLowerCase().replace("-",""),(r[0]==="_"?"":"_")+r}).slice(1)}),mC}var gC,tF;function n1(){if(tF)return gC;tF=1;const t=cM(),e=xge();return gC=function(n,i){return t(n,e,i)},gC}var vC,rF;function ex(){return rF||(rF=1,vC=function(e){return JSON.parse(JSON.stringify(e))}),vC}const bge={},wge=Object.freeze(Object.defineProperty({__proto__:null,default:bge},Symbol.toStringTag,{value:"Module"})),Vp=s7(wge);var yC,nF;function _ge(){if(nF)return yC;nF=1;const t=Qy(),e=n1(),r=ex(),n=Vp,i=Vp;class s{constructor(l){l&&this.fromData(l)}fromData(l){if(typeof l!="object")throw new Error("Expecting object for Mail data");l=r(l),l=t(l);const{content:c,filename:u,type:d,disposition:f,contentId:g,filePath:v}=l;if(typeof c<"u"&&typeof v<"u")throw new Error("The props 'content' and 'filePath' cannot be used together.");this.setFilename(u),this.setType(d),this.setDisposition(f),this.setContentId(g),this.setContent(v?this.readFile(v):c)}readFile(l){return n.readFileSync(i.resolve(l))}setContent(l){if(typeof l=="string"){this.content=l;return}else if(l instanceof Buffer&&l.toString!==void 0){this.content=l.toString(),this.disposition==="attachment"&&(this.content=l.toString("base64"));return}throw new Error("`content` expected to be either Buffer or string")}setFileContent(l){if(l instanceof Buffer&&l.toString!==void 0){this.content=l.toString("base64");return}throw new Error("`content` expected to be Buffer")}setFilename(l){if(!(typeof l>"u")){if(l&&typeof l!="string")throw new Error("String expected for `filename`");this.filename=l}}setType(l){if(!(typeof l>"u")){if(typeof l!="string")throw new Error("String expected for `type`");this.type=l}}setDisposition(l){if(!(typeof l>"u")){if(typeof l!="string")throw new Error("String expected for `disposition`");this.disposition=l}}setContentId(l){if(!(typeof l>"u")){if(typeof l!="string")throw new Error("String expected for `contentId`");this.contentId=l}}toJSON(){const{content:l,filename:c,type:u,disposition:d,contentId:f}=this,g={content:l,filename:c};return typeof u<"u"&&(g.type=u),typeof d<"u"&&(g.disposition=d),typeof f<"u"&&(g.contentId=f),e(g)}}return yC=s,yC}var xC,iF;function JH(){return iF||(iF=1,xC=function(e){if(e.indexOf("<")===-1)return["",e];let[r,n]=e.split("<");return r=r.trim(),n=n.replace(">","").trim(),[r,n]}),xC}var bC,sF;function uM(){if(sF)return bC;sF=1;const t=JH();class e{constructor(n){n&&this.fromData(n)}fromData(n){if(typeof n=="string"){const[o,l]=t(n);n={name:o,email:l}}if(typeof n!="object")throw new Error("Expecting object or string for EmailAddress data");const{name:i,email:s}=n;this.setEmail(s),this.setName(i)}setName(n){if(!(typeof n>"u")){if(typeof n!="string")throw new Error("String expected for `name`");this.name=n}}setEmail(n){if(typeof n>"u")throw new Error("Must provide `email`");if(typeof n!="string")throw new Error("String expected for `email`");this.email=n}toJSON(){const{email:n,name:i}=this,s={email:n};return i!==""&&(s.name=i),s}static create(n){return Array.isArray(n)?n.filter(i=>!!i).map(i=>this.create(i)):n instanceof e?n:new e(n)}}return bC=e,bC}var wC,aF;function Sge(){if(aF)return wC;aF=1;var t=function(C){return e(C)&&!r(C)};function e(S){return!!S&&typeof S=="object"}function r(S){var C=Object.prototype.toString.call(S);return C==="[object RegExp]"||C==="[object Date]"||s(S)}var n=typeof Symbol=="function"&&Symbol.for,i=n?Symbol.for("react.element"):60103;function s(S){return S.$$typeof===i}function o(S){return Array.isArray(S)?[]:{}}function l(S,C){return C.clone!==!1&&C.isMergeableObject(S)?x(o(S),S,C):S}function c(S,C,N){return S.concat(C).map(function(A){return l(A,N)})}function u(S,C){if(!C.customMerge)return x;var N=C.customMerge(S);return typeof N=="function"?N:x}function d(S){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(S).filter(function(C){return Object.propertyIsEnumerable.call(S,C)}):[]}function f(S){return Object.keys(S).concat(d(S))}function g(S,C){try{return C in S}catch{return!1}}function v(S,C){return g(S,C)&&!(Object.hasOwnProperty.call(S,C)&&Object.propertyIsEnumerable.call(S,C))}function y(S,C,N){var A={};return N.isMergeableObject(S)&&f(S).forEach(function(E){A[E]=l(S[E],N)}),f(C).forEach(function(E){v(S,E)||(g(S,E)&&N.isMergeableObject(C[E])?A[E]=u(E,N)(S[E],C[E],N):A[E]=l(C[E],N))}),A}function x(S,C,N){N=N||{},N.arrayMerge=N.arrayMerge||c,N.isMergeableObject=N.isMergeableObject||t,N.cloneUnlessOtherwiseSpecified=l;var A=Array.isArray(C),E=Array.isArray(S),k=A===E;return k?A?N.arrayMerge(S,C,N):y(S,C,N):l(C,N)}x.all=function(C,N){if(!Array.isArray(C))throw new Error("first argument should be an array");return C.reduce(function(A,E){return x(A,E,N)},{})};var _=x;return wC=_,wC}var _C,oF;function QH(){return oF||(oF=1,_C=function t(e,r="{{",n="}}"){if(Array.isArray(e))return e.map(s=>t(s,r,n));const i={};for(const s in e)e.hasOwnProperty(s)&&(i[r+s+n]=String(e[s]));return i}),_C}var SC,lF;function eK(){if(lF)return SC;lF=1;const t=uM(),e=Qy(),r=n1(),n=ex(),i=Sge(),s=QH();class o{constructor(c){this.to=[],this.cc=[],this.bcc=[],this.headers={},this.customArgs={},this.substitutions={},this.substitutionWrappers=["{{","}}"],this.dynamicTemplateData={},c&&this.fromData(c)}fromData(c){if(typeof c!="object")throw new Error("Expecting object for Mail data");c=n(c),c=e(c,["substitutions","dynamicTemplateData","customArgs","headers"]);const{to:u,from:d,cc:f,bcc:g,subject:v,headers:y,customArgs:x,sendAt:_,substitutions:S,substitutionWrappers:C,dynamicTemplateData:N}=c;this.setTo(u),this.setFrom(d),this.setCc(f),this.setBcc(g),this.setSubject(v),this.setHeaders(y),this.setSubstitutions(S),this.setSubstitutionWrappers(C),this.setCustomArgs(x),this.setDynamicTemplateData(N),this.setSendAt(_)}setSubject(c){if(!(typeof c>"u")){if(typeof c!="string")throw new Error("String expected for `subject`");this.subject=c}}setSendAt(c){if(!(typeof c>"u")){if(!Number.isInteger(c))throw new Error("Integer expected for `sendAt`");this.sendAt=c}}setTo(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.to=t.create(c))}setFrom(c){typeof c>"u"||(this.from=t.create(c))}addTo(c){typeof c>"u"||this.to.push(t.create(c))}setCc(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.cc=t.create(c))}addCc(c){typeof c>"u"||this.cc.push(t.create(c))}setBcc(c){typeof c>"u"||(Array.isArray(c)||(c=[c]),this.bcc=t.create(c))}addBcc(c){typeof c>"u"||this.bcc.push(t.create(c))}setHeaders(c){if(!(typeof c>"u")){if(typeof c!="object"||c===null)throw new Error("Object expected for `headers`");this.headers=c}}addHeader(c,u){if(typeof c!="string")throw new Error("String expected for header key");if(typeof u!="string")throw new Error("String expected for header value");this.headers[c]=u}setCustomArgs(c){if(!(typeof c>"u")){if(typeof c!="object"||c===null)throw new Error("Object expected for `customArgs`");this.customArgs=c}}addCustomArg(c,u){if(typeof c!="string")throw new Error("String expected for custom arg key");if(typeof u!="string")throw new Error("String expected for custom arg value");this.customArgs[c]=u}setSubstitutions(c){if(!(typeof c>"u")){if(typeof c!="object")throw new Error("Object expected for `substitutions`");this.substitutions=c}}addSubstitution(c,u){if(typeof c!="string")throw new Error("String expected for substitution key");if(typeof u!="string"&&typeof u!="number")throw new Error("String or Number expected for substitution value");this.substitutions[c]=u}reverseMergeSubstitutions(c){if(!(typeof c>"u"||c===null)){if(typeof c!="object")throw new Error("Object expected for `substitutions` in reverseMergeSubstitutions");this.substitutions=Object.assign({},c,this.substitutions)}}setSubstitutionWrappers(c){if(!(typeof c>"u"||c===null)){if(!Array.isArray(c)||c.length!==2)throw new Error("Array expected with two elements for `substitutionWrappers`");this.substitutionWrappers=c}}deepMergeDynamicTemplateData(c){if(!(typeof c>"u"||c===null)){if(typeof c!="object")throw new Error("Object expected for `dynamicTemplateData` in deepMergeDynamicTemplateData");this.dynamicTemplateData=i(c,this.dynamicTemplateData)}}setDynamicTemplateData(c){if(!(typeof c>"u")){if(typeof c!="object")throw new Error("Object expected for `dynamicTemplateData`");this.dynamicTemplateData=c}}toJSON(){const{to:c,from:u,cc:d,bcc:f,subject:g,headers:v,customArgs:y,sendAt:x,substitutions:_,substitutionWrappers:S,dynamicTemplateData:C}=this,N={to:c};if(Array.isArray(d)&&d.length>0&&(N.cc=d),Array.isArray(f)&&f.length>0&&(N.bcc=f),Object.keys(v).length>0&&(N.headers=v),_&&Object.keys(_).length>0){const[A,E]=S;N.substitutions=s(_,A,E)}return Object.keys(y).length>0&&(N.customArgs=y),C&&Object.keys(C).length>0&&(N.dynamicTemplateData=C),typeof g<"u"&&(N.subject=g),typeof x<"u"&&(N.sendAt=x),typeof u<"u"&&(N.from=u),r(N,["substitutions","dynamicTemplateData","customArgs","headers"])}}return SC=o,SC}var jC,cF;function tK(){return cF||(cF=1,jC=function(e){return e.map(r=>typeof r=="object"&&r!==null&&typeof r.toJSON=="function"?r.toJSON():r)}),jC}var CC,uF;function jge(){return uF||(uF=1,CC={DYNAMIC_TEMPLATE_CHAR_WARNING:`
Content with characters ', " or & may need to be escaped with three brackets
{{{ content }}}
See https://sendgrid.com/docs/for-developers/sending-email/using-handlebars/ for more information.`}),CC}var NC,dF;function Cge(){if(dF)return NC;dF=1;const t=(e,r,n,i)=>{if(!(typeof e>"u"||typeof e[n]>"u")&&typeof e[n]!==i)throw new Error(`${i} expected for \`${r}.${n}\``)};return NC={validateMailSettings(e){if(typeof e!="object")throw new Error("Object expected for `mailSettings`");const{bcc:r,bypassListManagement:n,bypassSpamManagement:i,bypassBounceManagement:s,bypassUnsubscribeManagement:o,footer:l,sandboxMode:c,spamCheck:u}=e;t(r,"bcc","enable","boolean"),t(r,"bcc","email","string"),t(n,"bypassListManagement","enable","boolean"),t(i,"bypassSpamManagement","enable","boolean"),t(s,"bypassBounceManagement","enable","boolean"),t(o,"bypassUnsubscribeManagement","enable","boolean"),t(l,"footer","enable","boolean"),t(l,"footer","text","string"),t(l,"footer","html","string"),t(c,"sandboxMode","enable","boolean"),t(u,"spamCheck","enable","boolean"),t(u,"spamCheck","threshold","number"),t(u,"spamCheck","postToUrl","string")},validateTrackingSettings(e){if(typeof e!="object")throw new Error("Object expected for `trackingSettings`");const{clickTracking:r,openTracking:n,subscriptionTracking:i,ganalytics:s}=e;t(r,"clickTracking","enable","boolean"),t(r,"clickTracking","enableText","boolean"),t(n,"openTracking","enable","boolean"),t(n,"openTracking","substitutionTag","string"),t(i,"subscriptionTracking","enable","boolean"),t(i,"subscriptionTracking","text","string"),t(i,"subscriptionTracking","html","string"),t(i,"subscriptionTracking","substitutionTag","string"),t(s,"ganalytics","enable","boolean"),t(s,"ganalytics","utm_source","string"),t(s,"ganalytics","utm_medium","string"),t(s,"ganalytics","utm_term","string"),t(s,"ganalytics","utm_content","string"),t(s,"ganalytics","utm_campaign","string")}},NC}var EC,fF;function Nge(){if(fF)return EC;fF=1;const t=uM(),e=eK(),r=Qy(),n=n1(),i=ex(),s=tK(),{DYNAMIC_TEMPLATE_CHAR_WARNING:o}=jge(),{validateMailSettings:l,validateTrackingSettings:c}=Cge();class u{constructor(f){this.isDynamic=!1,this.hideWarnings=!1,this.personalizations=[],this.attachments=[],this.content=[],this.categories=[],this.headers={},this.sections={},this.customArgs={},this.trackingSettings={},this.mailSettings={},this.asm={},this.substitutions=null,this.substitutionWrappers=null,this.dynamicTemplateData=null,f&&this.fromData(f)}fromData(f){if(typeof f!="object")throw new Error("Expecting object for Mail data");f=i(f),f=r(f,["substitutions","dynamicTemplateData","customArgs","headers","sections"]);const{to:g,from:v,replyTo:y,cc:x,bcc:_,sendAt:S,subject:C,text:N,html:A,content:E,templateId:k,personalizations:O,attachments:I,ipPoolName:z,batchId:W,sections:V,headers:q,categories:F,category:H,customArgs:Q,asm:oe,mailSettings:K,trackingSettings:te,substitutions:Z,substitutionWrappers:se,dynamicTemplateData:X,isMultiple:ce,hideWarnings:je,replyToList:Te}=f;this.setFrom(v),this.setReplyTo(y),this.setSubject(C),this.setSendAt(S),this.setTemplateId(k),this.setBatchId(W),this.setIpPoolName(z),this.setAttachments(I),this.setContent(E),this.setSections(V),this.setHeaders(q),this.setCategories(H),this.setCategories(F),this.setCustomArgs(Q),this.setAsm(oe),this.setMailSettings(K),this.setTrackingSettings(te),this.setHideWarnings(je),this.setReplyToList(Te),this.isDynamic?this.setDynamicTemplateData(X):(this.setSubstitutions(Z),this.setSubstitutionWrappers(se)),this.addTextContent(N),this.addHtmlContent(A),O?this.setPersonalizations(O):ce&&Array.isArray(g)?g.forEach(qe=>this.addTo(qe,x,_)):this.addTo(g,x,_)}setFrom(f){if(this._checkProperty("from",f,[this._checkUndefined])){if(typeof f!="string"&&typeof f.email!="string")throw new Error("String or address object expected for `from`");this.from=t.create(f)}}setReplyTo(f){if(this._checkProperty("replyTo",f,[this._checkUndefined])){if(typeof f!="string"&&typeof f.email!="string")throw new Error("String or address object expected for `replyTo`");this.replyTo=t.create(f)}}setSubject(f){this._setProperty("subject",f,"string")}setSendAt(f){this._checkProperty("sendAt",f,[this._checkUndefined,this._createCheckThatThrows(Number.isInteger,"Integer expected for `sendAt`")])&&(this.sendAt=f)}setTemplateId(f){this._setProperty("templateId",f,"string")&&f.indexOf("d-")===0&&(this.isDynamic=!0)}setBatchId(f){this._setProperty("batchId",f,"string")}setIpPoolName(f){this._setProperty("ipPoolName",f,"string")}setAsm(f){if(this._checkProperty("asm",f,[this._checkUndefined,this._createTypeCheck("object")])){if(typeof f.groupId!="number")throw new Error("Expected `asm` to include an integer in its `groupId` field");if(f.groupsToDisplay&&(!Array.isArray(f.groupsToDisplay)||!f.groupsToDisplay.every(g=>typeof g=="number")))throw new Error("Array of integers expected for `asm.groupsToDisplay`");this.asm=f}}setPersonalizations(f){if(this._doArrayCheck("personalizations",f)){if(!f.every(g=>typeof g=="object"))throw new Error("Array of objects expected for `personalizations`");this.personalizations=[],f.forEach(g=>this.addPersonalization(g))}}addPersonalization(f){this.isDynamic&&f.substitutions?delete f.substitutions:!this.isDynamic&&f.dynamicTemplateData&&delete f.dynamicTemplateData,f instanceof e||(f=new e(f)),this.isDynamic?this.applyDynamicTemplateData(f):this.applySubstitutions(f),this.personalizations.push(f)}addTo(f,g,v){if(typeof f>"u"&&typeof g>"u"&&typeof v>"u")throw new Error("Provide at least one of to, cc or bcc");this.addPersonalization(new e({to:f,cc:g,bcc:v}))}setSubstitutions(f){this._setProperty("substitutions",f,"object")}setSubstitutionWrappers(f){let g=(v,y)=>{if(!Array.isArray(y)||y.length!==2)throw new Error("Array expected with two elements for `"+v+"`")};this._checkProperty("substitutionWrappers",f,[this._checkUndefined,g])&&(this.substitutionWrappers=f)}applySubstitutions(f){f instanceof e&&(f.reverseMergeSubstitutions(this.substitutions),f.setSubstitutionWrappers(this.substitutionWrappers))}applyDynamicTemplateData(f){f instanceof e&&f.deepMergeDynamicTemplateData(this.dynamicTemplateData)}setDynamicTemplateData(f){if(!(typeof f>"u")){if(typeof f!="object")throw new Error("Object expected for `dynamicTemplateData`");this.hideWarnings||Object.values(f).forEach(g=>{/['"&]/.test(g)&&console.warn(o)}),this.dynamicTemplateData=f}}setContent(f){if(this._doArrayCheck("content",f)){if(!f.every(g=>typeof g=="object"))throw new Error("Expected each entry in `content` to be an object");if(!f.every(g=>typeof g.type=="string"))throw new Error("Expected each `content` entry to contain a `type` string");if(!f.every(g=>typeof g.value=="string"))throw new Error("Expected each `content` entry to contain a `value` string");this.content=f}}addContent(f){this._checkProperty("content",f,[this._createTypeCheck("object")])&&this.content.push(f)}addTextContent(f){this._checkProperty("text",f,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:f,type:"text/plain"})}addHtmlContent(f){this._checkProperty("html",f,[this._checkUndefined,this._createTypeCheck("string")])&&this.addContent({value:f,type:"text/html"})}setAttachments(f){if(this._doArrayCheck("attachments",f)){if(!f.every(g=>typeof g.content=="string"))throw new Error("Expected each attachment to contain a `content` string");if(!f.every(g=>typeof g.filename=="string"))throw new Error("Expected each attachment to contain a `filename` string");if(!f.every(g=>!g.type||typeof g.type=="string"))throw new Error("Expected the attachment's `type` field to be a string");if(!f.every(g=>!g.disposition||typeof g.disposition=="string"))throw new Error("Expected the attachment's `disposition` field to be a string");this.attachments=f}}addAttachment(f){this._checkProperty("attachment",f,[this._checkUndefined,this._createTypeCheck("object")])&&this.attachments.push(f)}setCategories(f){let g=(v,y)=>{if(!Array.isArray(y)||!y.every(x=>typeof x=="string"))throw new Error("Array of strings expected for `"+v+"`")};typeof f=="string"&&(f=[f]),this._checkProperty("categories",f,[this._checkUndefined,g])&&(this.categories=f)}addCategory(f){this._checkProperty("category",f,[this._createTypeCheck("string")])&&this.categories.push(f)}setHeaders(f){this._setProperty("headers",f,"object")}addHeader(f,g){this._checkProperty("key",f,[this._createTypeCheck("string")])&&this._checkProperty("value",g,[this._createTypeCheck("string")])&&(this.headers[f]=g)}setSections(f){this._setProperty("sections",f,"object")}setCustomArgs(f){this._setProperty("customArgs",f,"object")}setTrackingSettings(f){typeof f>"u"||(c(f),this.trackingSettings=f)}setMailSettings(f){typeof f>"u"||(l(f),this.mailSettings=f)}setHideWarnings(f){if(!(typeof f>"u")){if(typeof f!="boolean")throw new Error("Boolean expected for `hideWarnings`");this.hideWarnings=f}}toJSON(){const{from:f,replyTo:g,sendAt:v,subject:y,content:x,templateId:_,personalizations:S,attachments:C,ipPoolName:N,batchId:A,asm:E,sections:k,headers:O,categories:I,customArgs:z,mailSettings:W,trackingSettings:V,replyToList:q}=this,F={from:f,subject:y,personalizations:s(S)};return Array.isArray(C)&&C.length>0&&(F.attachments=s(C)),Array.isArray(I)&&I.length>0&&(F.categories=I.filter(H=>H!=="")),Array.isArray(x)&&x.length>0&&(F.content=s(x)),Object.keys(O).length>0&&(F.headers=O),Object.keys(W).length>0&&(F.mailSettings=W),Object.keys(V).length>0&&(F.trackingSettings=V),Object.keys(z).length>0&&(F.customArgs=z),Object.keys(k).length>0&&(F.sections=k),Object.keys(E).length>0&&(F.asm=E),typeof g<"u"&&(F.replyTo=g),typeof v<"u"&&(F.sendAt=v),typeof A<"u"&&(F.batchId=A),typeof _<"u"&&(F.templateId=_),typeof N<"u"&&(F.ipPoolName=N),typeof q<"u"&&(F.replyToList=q),n(F,["substitutions","dynamicTemplateData","customArgs","headers","sections"])}static create(f){return Array.isArray(f)?f.filter(g=>!!g).map(g=>this.create(g)):f instanceof u?f:new u(f)}_checkProperty(f,g,v){return!v.some(y=>y(f,g))}_setProperty(f,g,v){let y=this._checkProperty(f,g,[this._checkUndefined,this._createTypeCheck(v)]);return y&&(this[f]=g),y}_checkUndefined(f,g){return typeof g>"u"}_createTypeCheck(f){return(g,v)=>{if(typeof v!==f)throw new Error(f+" expected for `"+g+"`")}}_createCheckThatThrows(f,g){return(v,y)=>{if(!f(y))throw new Error(g)}}_setArrayProperty(f,g){this._doArrayCheck(f,g)&&(this[f]=g)}_doArrayCheck(f,g){return this._checkProperty(f,g,[this._checkUndefined,this._createCheckThatThrows(Array.isArray,"Array expected for`"+f+"`")])}setReplyToList(f){if(this._doArrayCheck("replyToList",f)&&f.length){if(!f.every(g=>g&&typeof g.email=="string"))throw new Error("Expected each replyTo to contain an `email` string");this.replyToList=f}}}return EC=u,EC}var PC,hF;function Ege(){if(hF)return PC;hF=1;class t{constructor(r,n,i){this.statusCode=r,this.body=n,this.headers=i}toString(){return"HTTP "+this.statusCode+" "+this.body}}return PC=t,PC}var kC,pF;function Pge(){if(pF)return kC;pF=1;class t extends Error{constructor(r){super();const{headers:n,status:i,statusText:s,data:o}=r;this.code=i,this.message=s,this.response={headers:n,body:o},this.stack||Error.captureStackTrace(this,this.constructor);const l=new RegExp(process.cwd()+"/","gi");this.stack=this.stack.replace(l,"")}toString(){const{body:r}=this.response;let n=`${this.message} (${this.code})`;return r&&Array.isArray(r.errors)&&r.errors.forEach(i=>{const s=i.message,o=i.field,l=i.help;n+=`
  ${s}
    ${o}
    ${l}`}),n}toJSON(){const{message:r,code:n,response:i}=this;return{message:r,code:n,response:i}}}return kC=t,kC}var AC,mF;function kge(){if(mF)return AC;mF=1;const t=Qy(),e=ex(),r=["day","week","month"],n=["us","ca"],i=["desc","asc"];class s{constructor(l){this.startDate=null,this.endDate=null,this.aggregatedBy=null,l&&this.fromData(l)}fromData(l){if(typeof l!="object")throw new Error("Expecting object for Statistics data");l=e(l),l=t(l,["substitutions","customArgs"]);const{startDate:c,endDate:u,aggregatedBy:d}=l;this.setStartDate(c),this.setEndDate(u),this.setAggregatedBy(d)}setStartDate(l){if(typeof l>"u")throw new Error("Date expected for `startDate`");if(new Date(l)==="Invalid Date"||isNaN(new Date(l)))throw new Error("Date expected for `startDate`");console.log(l),this.startDate=new Date(l).toISOString().slice(0,10)}setEndDate(l){if(typeof l>"u"){this.endDate=new Date().toISOString().slice(0,10);return}if(new Date(l)==="Invalid Date"||isNaN(new Date(l)))throw new Error("Date expected for `endDate`");this.endDate=new Date(l).toISOString().slice(0,10)}setAggregatedBy(l){if(!(typeof l>"u"))if(typeof l=="string"&&r.includes(l.toLowerCase()))this.aggregatedBy=l;else throw new Error("Incorrect value for `aggregatedBy`")}getGlobal(){const{startDate:l,endDate:c,aggregatedBy:u}=this;return{startDate:l,endDate:c,aggregatedBy:u}}getAdvanced(l){const c=this.getGlobal();return typeof l>"u"||typeof l=="string"&&n.includes(l.toLowerCase())&&(c.country=l),c}getAdvancedMailboxProviders(l){const c=this.getGlobal();if(typeof l>"u")return c;if(Array.isArray(l)&&l.some(u=>typeof u!="string"))throw new Error("Array of strings expected for `mailboxProviders`");return c.mailBoxProviders=l,c}getAdvancedBrowsers(l){const c=this.getGlobal();if(typeof l>"u")return c;if(Array.isArray(l)&&l.some(u=>typeof u!="string"))throw new Error("Array of strings expected for `browsers`");return c.browsers=l,c}getCategories(l){if(typeof l>"u")throw new Error("Array of strings expected for `categories`");if(!this._isValidArrayOfStrings(l))throw new Error("Array of strings expected for `categories`");const c=this.getGlobal();return c.categories=l,c}getSubuser(l){if(typeof l>"u")throw new Error("Array of strings expected for `subusers`");if(!this._isValidArrayOfStrings(l))throw new Error("Array of strings expected for `subusers`");const c=this.getGlobal();return c.subusers=l,c}getSubuserSum(l="delivered",c=i[0],u=5,d=0){if(typeof l!="string")throw new Error("string expected for `sortByMetric`");if(!i.includes(c.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof u!="number")throw new Error("number expected for `limit`");if(typeof d!="number")throw new Error("number expected for `offset`");const f=this.getGlobal();return f.sortByMetric=l,f.sortByDirection=c,f.limit=u,f.offset=d,f}getSubuserMonthly(l="delivered",c=i[0],u=5,d=0){if(typeof l!="string")throw new Error("string expected for `sortByMetric`");if(!i.includes(c.toLowerCase()))throw new Error("desc or asc expected for `sortByDirection`");if(typeof u!="number")throw new Error("number expected for `limit`");if(typeof d!="number")throw new Error("number expected for `offset`");const f=this.getGlobal();return f.sortByMetric=l,f.sortByDirection=c,f.limit=u,f.offset=d,f}_isValidArrayOfStrings(l){return!(!Array.isArray(l)||l.length<1||l.some(c=>typeof c!="string"))}}return AC=s,AC}var TC,gF;function Age(){if(gF)return TC;gF=1;const t=_ge(),e=uM(),r=Nge(),n=eK(),i=Ege(),s=Pge(),o=kge();return TC={Attachment:t,EmailAddress:e,Mail:r,Personalization:n,Response:i,ResponseError:s,Statistics:o},TC}var OC,vF;function Tge(){return vF||(vF=1,OC=function(e,r){if(typeof e!="object"||e===null)throw new Error("Not an object provided for base");if(typeof r!="object"||r===null)throw new Error("Not an object provided for data");const n=Object.assign({},e);for(const i in r)r.hasOwnProperty(i)&&(r[i]&&Array.isArray(r[i])?n[i]=r[i]:r[i]&&typeof r[i]=="object"?n[i]=Object.assign({},r[i]):r[i]&&(n[i]=r[i]));return n}),OC}var RC,yF;function Oge(){if(yF)return RC;yF=1;const t=tK(),e=cM(),r=ex(),n=Tge(),i=JH(),s=Qy(),o=n1(),l=QH();return RC={arrayToJSON:t,convertKeys:e,deepClone:r,mergeData:n,splitNameEmail:i,toCamelCase:s,toSnakeCase:o,wrapSubstitutions:l},RC}var MC,xF;function rK(){if(xF)return MC;xF=1;const t=Age(),e=Oge();return MC={classes:t,helpers:e},MC}var IC,bF;function nK(){if(bF)return IC;bF=1;const t=mge(),e=vge,{helpers:{mergeData:r},classes:{Response:n,ResponseError:i}}=rK(),s="SG.",o="https://api.sendgrid.com/",l="https://email.twilio.com/",c="global",u={eu:"https://api.eu.sendgrid.com/",global:"https://api.sendgrid.com/"};class d{constructor(){this.auth="",this.impersonateSubuser="",this.sendgrid_region=c,this.defaultHeaders={Accept:"application/json","Content-Type":"application/json","User-Agent":"sendgrid/"+e.version+";nodejs"},this.defaultRequest={baseUrl:o,url:"",method:"GET",headers:{},maxContentLength:1/0,maxBodyLength:1/0}}setApiKey(g){this.auth="Bearer "+g,this.setDefaultRequest("baseUrl",u[this.sendgrid_region]),this.isValidApiKey(g)||console.warn(`API key does not start with "${s}".`)}setTwilioEmailAuth(g,v){const y=Buffer.from(g+":"+v).toString("base64");this.auth="Basic "+y,this.setDefaultRequest("baseUrl",l),this.isValidTwilioAuth(g,v)||console.warn("Twilio Email credentials must be non-empty strings.")}isValidApiKey(g){return this.isString(g)&&g.trim().startsWith(s)}isValidTwilioAuth(g,v){return this.isString(g)&&g&&this.isString(v)&&v}isString(g){return typeof g=="string"||g instanceof String}setImpersonateSubuser(g){this.impersonateSubuser=g}setDefaultHeader(g,v){return g!==null&&typeof g=="object"?(Object.assign(this.defaultHeaders,g),this):(this.defaultHeaders[g]=v,this)}setDefaultRequest(g,v){return g!==null&&typeof g=="object"?(Object.assign(this.defaultRequest,g),this):(this.defaultRequest[g]=v,this)}setDataResidency(g){return u.hasOwnProperty(g)?(this.sendgrid_region=g,this.setDefaultRequest("baseUrl",u[g])):console.warn('Region can only be "global" or "eu".'),this}createHeaders(g){const v=r(this.defaultHeaders,g);return typeof v.Authorization>"u"&&this.auth&&(v.Authorization=this.auth),this.impersonateSubuser&&(v["On-Behalf-Of"]=this.impersonateSubuser),v}createRequest(g){let v={url:g.uri||g.url,baseUrl:g.baseUrl,method:g.method,data:g.body,params:g.qs,headers:g.headers};return v=r(this.defaultRequest,v),v.headers=this.createHeaders(v.headers),v.baseURL=v.baseUrl,delete v.baseUrl,v}request(g,v){g=this.createRequest(g);const y=new Promise((x,_)=>{t(g).then(S=>x([new n(S.status,S.data,S.headers),S.data])).catch(S=>S.response&&S.response.status>=400?_(new i(S.response)):_(S))});if(v&&typeof v!="function")throw new Error("Callback passed is not a function.");return v?y.then(x=>v(null,x)).catch(x=>v(x,null)):y}}return IC=d,IC}var LC,wF;function Rge(){if(wF)return LC;wF=1;const t=nK();return LC=new t,LC}var _F;function Mge(){if(_F)return Z0.exports;_F=1;const t=Rge(),e=nK();return Z0.exports=t,Z0.exports.Client=e,Z0.exports}var DC,SF;function iK(){if(SF)return DC;SF=1;const{Client:t}=Mge(),{classes:{Mail:e}}=rK();class r{constructor(){this.setClient(new t),this.setSubstitutionWrappers("{{","}}"),this.secretRules=[]}setClient(i){return this.client=i,this}setApiKey(i){return this.client.setApiKey(i),this}setTwilioEmailAuth(i,s){this.client.setTwilioEmailAuth(i,s)}setTimeout(i){typeof i>"u"||this.client.setDefaultRequest("timeout",i)}setSubstitutionWrappers(i,s){if(typeof i>"u"||typeof s>"u")throw new Error("Must provide both left and right side wrappers");return Array.isArray(this.substitutionWrappers)||(this.substitutionWrappers=[]),this.substitutionWrappers[0]=i,this.substitutionWrappers[1]=s,this}setSecretRules(i){i instanceof Array||(i=[i]);const s=i.map(function(o){const l=typeof o;if(l==="string")return{pattern:new RegExp(o)};if(l==="object"){o instanceof RegExp?o={pattern:o}:o.hasOwnProperty("pattern")&&typeof o.pattern=="string"&&(o.pattern=new RegExp(o.pattern));try{return o.pattern.test(""),o}catch{}}});this.secretRules=s.filter(function(o){return o})}filterSecrets(i){if(typeof i=="object"&&!i.hasOwnProperty("content"))return;const s=this;i.content.forEach(function(o){s.secretRules.forEach(function(l){if(l.hasOwnProperty("pattern")&&!l.pattern.test(o.value))return;let c=`The pattern '${l.pattern}'`;throw l.name&&(c+=`identified by '${l.name}'`),c+=" was found in the Mail content!",new Error(c)})})}send(i,s=!1,o){if(typeof s=="function"&&(o=s,s=!1),Array.isArray(i)){const l=Promise.all(i.map(c=>this.send(c,s)));return o&&l.then(c=>o(null,c)).catch(c=>o(c,null)),l}try{typeof i.isMultiple>"u"&&(i.isMultiple=s),typeof i.substitutionWrappers>"u"&&(i.substitutionWrappers=this.substitutionWrappers);const l=e.create(i),c=l.toJSON();this.filterSecrets(c);const u={method:"POST",url:"/v3/mail/send",headers:l.headers,body:c};return this.client.request(u,o)}catch(l){return o&&o(l,null),Promise.reject(l)}}sendMultiple(i,s){return this.send(i,!0,s)}}return DC=r,DC}var $C,jF;function Ige(){if(jF)return $C;jF=1;const t=iK();return $C=new t,$C}var CF;function Lge(){if(CF)return G0.exports;CF=1;const t=Ige(),e=iK();return G0.exports=t,G0.exports.MailService=e,G0.exports}var Dge=Lge();const LA=Nr(Dge),NF={welcomeNewsletter:(t,e="")=>({subject:"🎉 Bienvenue sur MaxiMarket !",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Bienvenue sur MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
            .header h1 { margin: 0; font-size: 2.5em; font-weight: 700; }
            .header p { margin: 10px 0 0 0; font-size: 1.2em; opacity: 0.9; }
            .content { padding: 40px 30px; }
            .welcome-text { font-size: 1.1em; margin-bottom: 30px; }
            .features-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
            .feature { background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 4px solid #667eea; }
            .feature h3 { margin: 0 0 10px 0; color: #667eea; }
            .feature p { margin: 0; font-size: 0.9em; }
            .cta-buttons { text-align: center; margin: 40px 0; }
            .btn { display: inline-block; background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; margin: 10px; font-weight: 600; transition: all 0.3s ease; }
            .btn:hover { background: #5a6fd8; transform: translateY(-2px); }
            .btn-secondary { background: #6c757d; }
            .btn-secondary:hover { background: #5a6268; }
            .tips { background: #e3f2fd; padding: 25px; border-radius: 10px; margin: 30px 0; }
            .tips h3 { color: #1976d2; margin-top: 0; }
            .tips ul { margin: 10px 0; padding-left: 20px; }
            .tips li { margin: 8px 0; }
            .footer { background: #f8f9fa; padding: 30px; text-align: center; color: #666; font-size: 0.9em; }
            .footer a { color: #667eea; text-decoration: none; }
            .social-links { margin: 20px 0; }
            .social-links a { display: inline-block; margin: 0 10px; color: #667eea; text-decoration: none; }
            @media (max-width: 600px) {
              .features-grid { grid-template-columns: 1fr; }
              .header h1 { font-size: 2em; }
              .content { padding: 20px; }
            }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🎉 Bienvenue sur MaxiMarket !</h1>
              <p>Votre marketplace de confiance pour l'Afrique de l'Ouest</p>
            </div>
            
            <div class="content">
              <div class="welcome-text">
                <h2>Bonjour ${e||"Cher utilisateur"} !</h2>
                <p>Merci de vous être inscrit à notre newsletter ! Vous recevrez désormais nos dernières actualités, offres spéciales et conseils pour optimiser votre expérience sur MaxiMarket.</p>
              </div>
              
              <h3>🚀 Découvrez nos fonctionnalités :</h3>
              <div class="features-grid">
                <div class="feature">
                  <h3>🏠 Immobilier</h3>
                  <p>Achetez, vendez ou louez des biens immobiliers en toute sécurité avec nos partenaires vérifiés.</p>
                </div>
                <div class="feature">
                  <h3>🚗 Automobile</h3>
                  <p>Trouvez votre véhicule idéal parmi des milliers d'annonces de particuliers et professionnels.</p>
                </div>
                <div class="feature">
                  <h3>🛠️ Services</h3>
                  <p>Connectez-vous avec des professionnels qualifiés pour tous vos besoins de services.</p>
                </div>
                <div class="feature">
                  <h3>🛍️ Marketplace</h3>
                  <p>Tout ce dont vous avez besoin en un seul endroit, avec des prix compétitifs.</p>
                </div>
              </div>
              
              <div class="cta-buttons">
                <a href="${window.location.origin}/marketplace" class="btn">Explorer MaxiMarket</a>
                <a href="${window.location.origin}/creer-annonce" class="btn btn-secondary">Créer une annonce</a>
              </div>
              
              <div class="tips">
                <h3>💡 Conseils pour bien commencer :</h3>
                <ul>
                  <li><strong>Complétez votre profil</strong> pour plus de visibilité et de confiance</li>
                  <li><strong>Ajoutez des photos de qualité</strong> à vos annonces pour attirer plus d'acheteurs</li>
                  <li><strong>Répondez rapidement</strong> aux messages pour augmenter vos chances de vente</li>
                  <li><strong>Utilisez des mots-clés pertinents</strong> dans vos descriptions</li>
                  <li><strong>Fixez des prix compétitifs</strong> en consultant les prix du marché</li>
                </ul>
              </div>
              
              <p><strong>Besoin d'aide ?</strong> Notre équipe support est disponible 24/7 pour vous accompagner dans votre parcours sur MaxiMarket.</p>
              
              <div class="social-links">
                <p>Suivez-nous sur les réseaux sociaux :</p>
                <a href="https://facebook.com/maximarket">Facebook</a> |
                <a href="https://twitter.com/maximarket">Twitter</a> |
                <a href="https://instagram.com/maximarket">Instagram</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p>Vous recevez cet email car vous vous êtes inscrit à notre newsletter.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe?email=${t}">Se désinscrire</a> | <a href="${window.location.origin}/contact">Contact</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),reactivationNewsletter:t=>({subject:"🔄 Bienvenue de retour sur MaxiMarket !",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Réactivation MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #28a745 0%, #20c997 100%); color: white; padding: 40px 30px; text-align: center; }
            .header h1 { margin: 0; font-size: 2.5em; font-weight: 700; }
            .content { padding: 40px 30px; text-align: center; }
            .welcome-back { font-size: 1.3em; margin-bottom: 30px; }
            .cta-button { display: inline-block; background: #28a745; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 30px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔄 Bienvenue de retour !</h1>
            </div>
            <div class="content">
              <div class="welcome-back">
                <h2>Votre inscription a été réactivée</h2>
                <p>Nous sommes ravis de vous revoir ! Vous recevrez à nouveau nos newsletters et actualités.</p>
                <p>Découvrez ce qui a changé depuis votre dernière visite :</p>
              </div>
              
              <ul style="text-align: left; max-width: 400px; margin: 0 auto;">
                <li>🎯 Nouvelles fonctionnalités de recherche avancée</li>
                <li>🔒 Système de sécurité renforcé</li>
                <li>📱 Interface mobile optimisée</li>
                <li>💬 Messagerie instantanée améliorée</li>
              </ul>
              
              <a href="${window.location.origin}" class="cta-button">Visiter MaxiMarket</a>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe?email=${t}">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),subscriptionConfirmation:t=>({subject:"✅ Confirmation d'inscription - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Confirmation d'inscription</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #28a745; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; text-align: center; }
            .success-icon { font-size: 4em; margin-bottom: 20px; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>✅ Inscription confirmée</h1>
            </div>
            <div class="content">
              <div class="success-icon">✅</div>
              <h2>Votre inscription à la newsletter est confirmée</h2>
              <p>Vous recevrez désormais nos actualités et offres spéciales.</p>
              <p>Adresse email : <strong>${t}</strong></p>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket</p>
            </div>
          </div>
        </body>
        </html>
      `}),unsubscribeConfirmation:t=>({subject:"👋 Désinscription confirmée - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Désinscription confirmée</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #6c757d; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; text-align: center; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>👋 Désinscription confirmée</h1>
            </div>
            <div class="content">
              <h2>Vous avez été désinscrit de notre newsletter</h2>
              <p>Adresse email : <strong>${t}</strong></p>
              <p>Vous ne recevrez plus nos newsletters. Vous pouvez vous réinscrire à tout moment.</p>
              <a href="${window.location.origin}/newsletter/subscribe?email=${t}" style="color: #667eea;">Se réinscrire</a>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket</p>
            </div>
          </div>
        </body>
        </html>
      `}),weeklyNewsletter:(t={})=>({subject:"📊 Votre résumé MaxiMarket de la semaine",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Newsletter hebdomadaire MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .stats-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 30px 0; }
            .stat-card { background: #f8f9fa; padding: 20px; border-radius: 10px; text-align: center; }
            .stat-number { font-size: 2em; font-weight: bold; color: #667eea; }
            .featured-listings { margin: 30px 0; }
            .listing-card { background: #f8f9fa; padding: 15px; margin: 10px 0; border-radius: 8px; border-left: 4px solid #667eea; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
            @media (max-width: 600px) { .stats-grid { grid-template-columns: 1fr; } }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>📊 Votre résumé MaxiMarket</h1>
              <p>Semaine du ${t.weekStart||"cette semaine"}</p>
            </div>
            
            <div class="content">
              <h2>🚀 Activité de la semaine</h2>
              
              <div class="stats-grid">
                <div class="stat-card">
                  <div class="stat-number">${t.newListings||"150+"}</div>
                  <p>Nouvelles annonces</p>
                </div>
                <div class="stat-card">
                  <div class="stat-number">${t.activeUsers||"2.5k"}</div>
                  <p>Utilisateurs actifs</p>
                </div>
                <div class="stat-card">
                  <div class="stat-number">${t.transactions||"89"}</div>
                  <p>Transactions</p>
                </div>
                <div class="stat-card">
                  <div class="stat-number">${t.newUsers||"320"}</div>
                  <p>Nouveaux membres</p>
                </div>
              </div>
              
              <h3>🔥 Annonces populaires</h3>
              <div class="featured-listings">
                ${t.featuredListings?t.featuredListings.map(e=>`
                  <div class="listing-card">
                    <h4>${e.title}</h4>
                    <p>${e.price} • ${e.location}</p>
                    <a href="${window.location.origin}/annonce/${e.id}" style="color: #667eea;">Voir l'annonce</a>
                  </div>
                `).join(""):"<p>Aucune annonce populaire cette semaine.</p>"}
              </div>
              
              <h3>💡 Conseils de la semaine</h3>
              <ul>
                <li>Optimisez vos photos d'annonces pour plus de visibilité</li>
                <li>Répondez rapidement aux messages pour augmenter vos ventes</li>
                <li>Utilisez des mots-clés pertinents dans vos descriptions</li>
              </ul>
              
              <div style="text-align: center; margin: 30px 0;">
                <a href="${window.location.origin}/marketplace" style="background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">Explorer MaxiMarket</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),monthlyNewsletter:(t={})=>({subject:`📈 Rapport mensuel MaxiMarket - ${t.month||"Ce mois"}`,html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Rapport mensuel MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
            .content { padding: 30px; }
            .highlight { background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>📈 Rapport mensuel MaxiMarket</h1>
              <p>${t.month||"Ce mois"}</p>
            </div>
            
            <div class="content">
              <div class="highlight">
                <h2>🎯 Performances du mois</h2>
                <p><strong>${t.totalListings||"1,250"}</strong> annonces publiées</p>
                <p><strong>${t.totalUsers||"5,200"}</strong> nouveaux utilisateurs</p>
                <p><strong>${t.totalTransactions||"450"}</strong> transactions réussies</p>
              </div>
              
              <h3>🏆 Top catégories</h3>
              <ol>
                <li>Immobilier (${t.topCategories?.immobilier||"35%"})</li>
                <li>Automobile (${t.topCategories?.automobile||"28%"})</li>
                <li>Services (${t.topCategories?.services||"22%"})</li>
                <li>Marketplace (${t.topCategories?.marketplace||"15%"})</li>
              </ol>
              
              <h3>🚀 Nouvelles fonctionnalités</h3>
              <ul>
                <li>Recherche avancée par localisation</li>
                <li>Messagerie instantanée améliorée</li>
                <li>Système de notation et avis</li>
                <li>Paiements sécurisés intégrés</li>
              </ul>
              
              <div style="text-align: center; margin: 30px 0;">
                <a href="${window.location.origin}/marketplace" style="background: #667eea; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px;">Découvrir les nouveautés</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),specialOffer:(t={})=>({subject:`🎁 Offre spéciale MaxiMarket - ${t.offer||"Réduction exclusive"}`,html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Offre spéciale MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%); color: white; padding: 40px 30px; text-align: center; }
            .offer-banner { background: #fff3cd; border: 2px solid #ffeaa7; padding: 20px; margin: 20px 0; border-radius: 10px; text-align: center; }
            .offer-code { background: #667eea; color: white; padding: 10px 20px; border-radius: 5px; font-size: 1.2em; font-weight: bold; margin: 10px 0; display: inline-block; }
            .content { padding: 30px; }
            .cta-button { display: inline-block; background: #ff6b6b; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🎁 Offre spéciale !</h1>
              <p>${t.offer||"Réduction exclusive pour nos abonnés"}</p>
            </div>
            
            <div class="content">
              <div class="offer-banner">
                <h2>${t.discount||"20%"} de réduction</h2>
                <p>${t.description||"Sur tous les services premium de MaxiMarket"}</p>
                <div class="offer-code">${t.code||"NEWSLETTER20"}</div>
                <p><small>Valable jusqu'au ${t.expiryDate||"31 décembre 2024"}</small></p>
              </div>
              
              <h3>🚀 Comment en profiter :</h3>
              <ol>
                <li>Connectez-vous à votre compte MaxiMarket</li>
                <li>Choisissez un service premium</li>
                <li>Entrez le code promo lors du paiement</li>
                <li>Profitez de votre réduction !</li>
              </ol>
              
              <h3>💎 Services éligibles :</h3>
              <ul>
                <li>Boost d'annonces</li>
                <li>Compte premium</li>
                <li>Services de vérification</li>
                <li>Support prioritaire</li>
              </ul>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/premium" class="cta-button">Profiter de l'offre</a>
              </div>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p><a href="${window.location.origin}/newsletter/unsubscribe">Se désinscrire</a></p>
            </div>
          </div>
        </body>
        </html>
      `}),reengagementEmail:(t={})=>({subject:"👋 On vous a manqué sur MaxiMarket !",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Revenez sur MaxiMarket</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 40px 30px; text-align: center; }
            .content { padding: 30px; }
            .highlight { background: #e3f2fd; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #667eea; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: 600; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>👋 On vous a manqué !</h1>
              <p>Revenez découvrir ce qui a changé sur MaxiMarket</p>
            </div>
            
            <div class="content">
              <h2>Bonjour ${t.firstName||"Cher utilisateur"} !</h2>
              
              <p>Il y a ${t.daysInactive||"quelques temps"} que vous n'avez pas visité MaxiMarket. Nous avons de nombreuses nouveautés à vous faire découvrir !</p>
              
              <div class="highlight">
                <h3>🆕 Ce qui a changé :</h3>
                <ul>
                  <li>Interface utilisateur modernisée</li>
                  <li>Nouvelles fonctionnalités de recherche</li>
                  <li>Système de messagerie amélioré</li>
                  <li>Plus de ${t.newListings||"500"} nouvelles annonces</li>
                </ul>
              </div>
              
              <h3>🔥 Annonces populaires qui pourraient vous intéresser :</h3>
              <p>Découvrez les dernières annonces dans vos catégories préférées.</p>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/marketplace" class="cta-button">Revenir sur MaxiMarket</a>
              </div>
              
              <p><small>Si vous ne souhaitez plus recevoir ces emails, vous pouvez vous <a href="${window.location.origin}/newsletter/unsubscribe">désinscrire</a>.</small></p>
            </div>
            
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
            </div>
          </div>
        </body>
        </html>
      `}),maintenanceNotification:(t={})=>({subject:"🔧 Maintenance programmée - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Maintenance programmée</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #ffc107; color: #333; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .maintenance-info { background: #fff3cd; border: 1px solid #ffeaa7; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔧 Maintenance programmée</h1>
            </div>
            <div class="content">
              <h2>Maintenance prévue</h2>
              <div class="maintenance-info">
                <p><strong>Date :</strong> ${t.date||"Prochainement"}</p>
                <p><strong>Durée :</strong> ${t.duration||"2 heures"}</p>
                <p><strong>Heure :</strong> ${t.time||"02:00 - 04:00 UTC"}</p>
              </div>
              
              <h3>🛠️ Ce qui sera amélioré :</h3>
              <ul>
                <li>Performance du système</li>
                <li>Sécurité renforcée</li>
                <li>Nouvelles fonctionnalités</li>
                <li>Corrections de bugs</li>
              </ul>
              
              <p>Nous nous excusons pour la gêne occasionnée. La maintenance est nécessaire pour améliorer votre expérience.</p>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
            </div>
          </div>
        </body>
        </html>
      `}),securityAlert:(t={})=>({subject:"🔒 Alerte de sécurité - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Alerte de sécurité</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #dc3545; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .alert-box { background: #f8d7da; border: 1px solid #f5c6cb; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #dc3545; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔒 Alerte de sécurité</h1>
            </div>
            <div class="content">
              <div class="alert-box">
                <h3>${t.alertType||"Connexion suspecte détectée"}</h3>
                <p>${t.message||"Une connexion inhabituelle a été détectée sur votre compte."}</p>
              </div>
              
              <h3>📍 Détails de la connexion :</h3>
              <ul>
                <li><strong>Date :</strong> ${t.date||new Date().toLocaleString()}</li>
                <li><strong>Localisation :</strong> ${t.location||"Non déterminée"}</li>
                <li><strong>Appareil :</strong> ${t.device||"Non déterminé"}</li>
                <li><strong>IP :</strong> ${t.ip||"Non déterminée"}</li>
              </ul>
              
              <h3>🛡️ Actions recommandées :</h3>
              <ol>
                <li>Changer votre mot de passe immédiatement</li>
                <li>Activer l'authentification à deux facteurs</li>
                <li>Vérifier vos connexions actives</li>
                <li>Nous contacter si vous n'êtes pas à l'origine de cette connexion</li>
              </ol>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/security" class="cta-button">Sécuriser mon compte</a>
              </div>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p>Si vous n'êtes pas à l'origine de cette connexion, contactez-nous immédiatement.</p>
            </div>
          </div>
        </body>
        </html>
      `}),accountCreated:(t={})=>({subject:"✅ Compte créé avec succès - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Compte créé</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #28a745; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .welcome-box { background: #d4edda; border: 1px solid #c3e6cb; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #28a745; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>✅ Compte créé avec succès !</h1>
            </div>
            <div class="content">
              <div class="welcome-box">
                <h2>Bienvenue ${t.firstName||"sur MaxiMarket"} !</h2>
                <p>Votre compte a été créé avec succès. Vous pouvez maintenant profiter de toutes nos fonctionnalités.</p>
              </div>
              
              <h3>🚀 Prochaines étapes :</h3>
              <ol>
                <li>Complétez votre profil</li>
                <li>Ajoutez vos premières annonces</li>
                <li>Explorez le marketplace</li>
                <li>Connectez-vous avec d'autres utilisateurs</li>
              </ol>
              
              <div style="text-align: center;">
                <a href="${window.location.origin}/dashboard" class="cta-button">Accéder à mon compte</a>
              </div>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
            </div>
          </div>
        </body>
        </html>
      `}),passwordReset:(t={})=>({subject:"🔑 Réinitialisation de mot de passe - MaxiMarket",html:`
        <!DOCTYPE html>
        <html>
        <head>
          <meta charset="utf-8">
          <meta name="viewport" content="width=device-width, initial-scale=1.0">
          <title>Réinitialisation de mot de passe</title>
          <style>
            body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; margin: 0; padding: 0; background: #f4f4f4; }
            .container { max-width: 600px; margin: 0 auto; background: white; }
            .header { background: #17a2b8; color: white; padding: 30px; text-align: center; }
            .content { padding: 30px; }
            .reset-box { background: #d1ecf1; border: 1px solid #bee5eb; padding: 20px; border-radius: 10px; margin: 20px 0; }
            .cta-button { display: inline-block; background: #17a2b8; color: white; padding: 12px 24px; text-decoration: none; border-radius: 5px; margin: 10px 0; }
            .footer { background: #f8f9fa; padding: 20px; text-align: center; color: #666; font-size: 0.9em; }
          </style>
        </head>
        <body>
          <div class="container">
            <div class="header">
              <h1>🔑 Réinitialisation de mot de passe</h1>
            </div>
            <div class="content">
              <div class="reset-box">
                <h2>Demande de réinitialisation</h2>
                <p>Vous avez demandé la réinitialisation de votre mot de passe. Cliquez sur le bouton ci-dessous pour créer un nouveau mot de passe.</p>
              </div>
              
              <p><strong>Important :</strong> Ce lien expire dans ${t.expiryTime||"1 heure"}. Si vous n'avez pas demandé cette réinitialisation, ignorez cet email.</p>
              
              <div style="text-align: center;">
                <a href="${t.resetLink||"#"}" class="cta-button">Réinitialiser mon mot de passe</a>
              </div>
              
              <h3>🔒 Conseils de sécurité :</h3>
              <ul>
                <li>Choisissez un mot de passe fort et unique</li>
                <li>N'utilisez pas le même mot de passe sur d'autres sites</li>
                <li>Activez l'authentification à deux facteurs</li>
                <li>Ne partagez jamais vos identifiants</li>
              </ul>
            </div>
            <div class="footer">
              <p>© 2024 MaxiMarket. Tous droits réservés.</p>
              <p>Si vous n'avez pas demandé cette réinitialisation, contactez-nous immédiatement.</p>
            </div>
          </div>
        </body>
        </html>
      `})},Da=(t,e={})=>{if(!NF[t])throw new Error(`Template '${t}' non trouvé`);return NF[t](e)},dM={};var fM={};const Ev=dM?.VITE_SENDGRID_API_KEY||fM.VITE_SENDGRID_API_KEY,FC=dM?.VITE_FROM_EMAIL||fM.VITE_FROM_EMAIL||"newsletter@maximarket.com",BC=dM?.VITE_FROM_NAME||fM.VITE_FROM_NAME||"MaxiMarket Newsletter";Ev?LA.setApiKey(Ev):console.warn("⚠️ VITE_SENDGRID_API_KEY non configurée - emails en mode simulation");const fi={sendEmail:async(t,e,r,n=!1)=>{try{if(!Ev)return console.log("📧 [SIMULATION] Email envoyé à:",t),console.log("📧 [SIMULATION] Sujet:",e),console.log("📧 [SIMULATION] Contenu:",r),{success:!0,message:"Email simulé (SendGrid non configuré)"};const i={to:t,from:{email:FC,name:BC},subject:e,...n?{html:r}:{text:r}},s=await LA.send(i);return console.log("✅ Email envoyé avec succès:",s[0].statusCode),{success:!0,message:"Email envoyé avec succès"}}catch(i){throw console.error("❌ Erreur envoi email:",i),i}},sendWelcomeEmail:async(t,e="")=>{const r=Da("welcomeNewsletter",{email:t,firstName:e});return fi.sendEmail(t,r.subject,r.html,!0)},sendNewsletter:async(t,e,r,n=!1)=>{try{if(!t||t.length===0)throw new Error("Aucun abonné à qui envoyer la newsletter");console.log(`📧 Envoi de newsletter à ${t.length} abonnés`);const i=100,s=[];for(let c=0;c<t.length;c+=i)s.push(t.slice(c,c+i));let o=0,l=0;for(const c of s)try{const u=c.map(d=>d.email);if(Ev){const d={to:u,from:{email:FC,name:BC},subject:e,...n?{html:r}:{text:r}};await LA.sendMultiple(d),o+=c.length}else console.log(`📧 [SIMULATION] Newsletter envoyée à ${c.length} abonnés`),o+=c.length}catch(u){console.error("❌ Erreur envoi batch:",u),l+=c.length}return console.log(`✅ Newsletter envoyée: ${o} succès, ${l} erreurs`),{success:!0,message:`Newsletter envoyée à ${o} abonnés`,stats:{successCount:o,errorCount:l,total:t.length}}}catch(i){throw console.error("❌ Erreur envoi newsletter:",i),i}},sendReactivationEmail:async t=>{const e=Da("reactivationNewsletter",{email:t});return fi.sendEmail(t,e.subject,e.html,!0)},sendTemplateEmail:async(t,e,r={})=>{try{const n=Da(e,r);return fi.sendEmail(t,n.subject,n.html,!0)}catch(n){throw console.error(`❌ Erreur envoi template ${e}:`,n),n}},sendWeeklyNewsletter:async(t,e={})=>{const r=Da("weeklyNewsletter",e);return fi.sendNewsletter(t,r.subject,r.html,!0)},sendMonthlyNewsletter:async(t,e={})=>{const r=Da("monthlyNewsletter",e);return fi.sendNewsletter(t,r.subject,r.html,!0)},sendSpecialOffer:async(t,e={})=>{const r=Da("specialOffer",e);return fi.sendNewsletter(t,r.subject,r.html,!0)},sendReengagementEmail:async(t,e={})=>{const r=Da("reengagementEmail",e);return fi.sendEmail(t,r.subject,r.html,!0)},sendMaintenanceNotification:async(t,e={})=>{const r=Da("maintenanceNotification",e);return fi.sendNewsletter(t,r.subject,r.html,!0)},sendSecurityAlert:async(t,e={})=>{const r=Da("securityAlert",e);return fi.sendEmail(t,r.subject,r.html,!0)},sendAccountCreatedEmail:async(t,e={})=>{const r=Da("accountCreated",e);return fi.sendEmail(t,r.subject,r.html,!0)},sendPasswordResetEmail:async(t,e={})=>{const r=Da("passwordReset",e);return fi.sendEmail(t,r.subject,r.html,!0)},sendUnsubscribeConfirmation:async t=>{const e=Da("unsubscribeConfirmation",{email:t});return fi.sendEmail(t,e.subject,e.html,!0)},checkConfiguration:()=>{const t={sendgridConfigured:!!Ev,fromEmail:FC,fromName:BC};return console.log("🔧 Configuration email service:",t),t}},$ge={subscribe:async t=>{try{if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t))throw new Error("Adresse email invalide");const{data:r,error:n}=await we.from("newsletter_subscribers").select("id, email, is_active").eq("email",t.toLowerCase()).single();if(n&&n.code!=="PGRST116")throw n;if(r){if(r.is_active)throw new Error("Cette adresse email est déjà inscrite à la newsletter");{const{error:o}=await we.from("newsletter_subscribers").update({is_active:!0,updated_at:new Date().toISOString()}).eq("id",r.id);if(o)throw o;try{await fi.sendReactivationEmail(t.toLowerCase()),console.log("✅ Email de réactivation envoyé à:",t)}catch(l){console.warn("⚠️ Erreur envoi email de réactivation:",l)}return{success:!0,message:"Inscription réactivée avec succès ! Email de confirmation envoyé.",action:"reactivated"}}}const{data:i,error:s}=await we.from("newsletter_subscribers").insert([{email:t.toLowerCase(),is_active:!0,subscribed_at:new Date().toISOString(),source:"footer"}]).select().single();if(s)throw s;try{await fi.sendWelcomeEmail(t.toLowerCase()),console.log("✅ Email de bienvenue envoyé à:",t)}catch(o){console.warn("⚠️ Erreur envoi email de bienvenue:",o)}return{success:!0,message:"Inscription à la newsletter réussie ! Email de bienvenue envoyé.",action:"subscribed",data:i}}catch(e){throw console.error("Erreur inscription newsletter:",e),e}},unsubscribe:async t=>{try{const{error:e}=await we.from("newsletter_subscribers").update({is_active:!1,unsubscribed_at:new Date().toISOString()}).eq("email",t.toLowerCase());if(e)throw e;return{success:!0,message:"Désinscription réussie"}}catch(e){throw console.error("Erreur désinscription newsletter:",e),e}},checkStatus:async t=>{try{const{data:e,error:r}=await we.from("newsletter_subscribers").select("id, email, is_active, subscribed_at").eq("email",t.toLowerCase()).single();if(r&&r.code!=="PGRST116")throw r;return{isSubscribed:e?.is_active||!1,subscribedAt:e?.subscribed_at,data:e}}catch(e){throw console.error("Erreur vérification statut newsletter:",e),e}},getStats:async()=>{try{const{data:t,error:e}=await we.from("newsletter_subscribers").select("*");if(e)throw e;const r=t.length,n=t.filter(s=>s.is_active).length,i=r-n;return{total:r,active:n,inactive:i,data:t}}catch(t){throw console.error("Erreur récupération stats newsletter:",t),t}},sendWeeklyNewsletter:async(t={})=>{try{const{data:e,error:r}=await we.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour la newsletter hebdomadaire"),{success:!0,message:"Aucun abonné à notifier"};const n=await fi.sendWeeklyNewsletter(e,t);return console.log("✅ Newsletter hebdomadaire envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur envoi newsletter hebdomadaire:",e),e}},sendMonthlyNewsletter:async(t={})=>{try{const{data:e,error:r}=await we.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour la newsletter mensuelle"),{success:!0,message:"Aucun abonné à notifier"};const n=await fi.sendMonthlyNewsletter(e,t);return console.log("✅ Newsletter mensuelle envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur envoi newsletter mensuelle:",e),e}},sendSpecialOffer:async(t={})=>{try{const{data:e,error:r}=await we.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour l'offre spéciale"),{success:!0,message:"Aucun abonné à notifier"};const n=await fi.sendSpecialOffer(e,t);return console.log("✅ Offre spéciale envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur envoi offre spéciale:",e),e}},sendReengagementCampaign:async(t={})=>{try{const{data:e,error:r}=await we.from("newsletter_subscribers").select("email").eq("is_active",!0).lt("updated_at",new Date(Date.now()-2592e6).toISOString());if(r)throw r;if(e.length===0)return console.log("📧 Aucun utilisateur inactif pour la campagne de réengagement"),{success:!0,message:"Aucun utilisateur inactif à notifier"};let n=0;for(const i of e)try{await fi.sendReengagementEmail(i.email,t),n++}catch(s){console.warn("⚠️ Erreur envoi email réengagement à",i.email,":",s)}return console.log("✅ Campagne de réengagement envoyée à",n,"utilisateurs inactifs"),{success:!0,message:`Campagne de réengagement envoyée à ${n} utilisateurs`,stats:{successCount:n,total:e.length}}}catch(e){throw console.error("❌ Erreur campagne de réengagement:",e),e}},sendMaintenanceNotification:async(t={})=>{try{const{data:e,error:r}=await we.from("newsletter_subscribers").select("email").eq("is_active",!0);if(r)throw r;if(e.length===0)return console.log("📧 Aucun abonné actif pour la notification de maintenance"),{success:!0,message:"Aucun abonné à notifier"};const n=await fi.sendMaintenanceNotification(e,t);return console.log("✅ Notification de maintenance envoyée à",e.length,"abonnés"),n}catch(e){throw console.error("❌ Erreur notification de maintenance:",e),e}}};function sK(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=sK(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function hr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=sK(t))&&(n&&(n+=" "),n+=e);return n}const hM="-",Fge=t=>{const e=zge(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{const l=o.split(hM);return l[0]===""&&l.length!==1&&l.shift(),aK(l,e)||Bge(o)},getConflictingClassGroupIds:(o,l)=>{const c=r[o]||[];return l&&n[o]?[...c,...n[o]]:c}}},aK=(t,e)=>{if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?aK(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(hM);return e.validators.find(({validator:o})=>o(s))?.classGroupId},EF=/^\[(.+)\]$/,Bge=t=>{if(EF.test(t)){const e=EF.exec(t)[1],r=e?.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},zge=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return Uge(Object.entries(t.classGroups),r).forEach(([s,o])=>{DA(o,n,s,e)}),n},DA=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:PF(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(qge(i)){DA(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,o])=>{DA(o,PF(e,s),r,n)})})},PF=(t,e)=>{let r=t;return e.split(hM).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},qge=t=>t.isThemeGetter,Uge=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,l])=>[e+o,l])):s);return[r,i]}):t,Vge=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,o)=>{r.set(s,o),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let o=r.get(s);if(o!==void 0)return o;if((o=n.get(s))!==void 0)return i(s,o),o},set(s,o){r.has(s)?r.set(s,o):i(s,o)}}},oK="!",Wge=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,o=l=>{const c=[];let u=0,d=0,f;for(let _=0;_<l.length;_++){let S=l[_];if(u===0){if(S===i&&(n||l.slice(_,_+s)===e)){c.push(l.slice(d,_)),d=_+s;continue}if(S==="/"){f=_;continue}}S==="["?u++:S==="]"&&u--}const g=c.length===0?l:l.substring(d),v=g.startsWith(oK),y=v?g.substring(1):g,x=f&&f>d?f-d:void 0;return{modifiers:c,hasImportantModifier:v,baseClassName:y,maybePostfixModifierPosition:x}};return r?l=>r({className:l,parseClassName:o}):o},Hge=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},Kge=t=>({cache:Vge(t.cacheSize),parseClassName:Wge(t),...Fge(t)}),Gge=/\s+/,Zge=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(Gge);let l="";for(let c=o.length-1;c>=0;c-=1){const u=o[c],{modifiers:d,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:v}=r(u);let y=!!v,x=n(y?g.substring(0,v):g);if(!x){if(!y){l=u+(l.length>0?" "+l:l);continue}if(x=n(g),!x){l=u+(l.length>0?" "+l:l);continue}y=!1}const _=Hge(d).join(":"),S=f?_+oK:_,C=S+x;if(s.includes(C))continue;s.push(C);const N=i(x,y);for(let A=0;A<N.length;++A){const E=N[A];s.push(S+E)}l=u+(l.length>0?" "+l:l)}return l};function Yge(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=lK(e))&&(n&&(n+=" "),n+=r);return n}const lK=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=lK(t[n]))&&(r&&(r+=" "),r+=e);return r};function Xge(t,...e){let r,n,i,s=o;function o(c){const u=e.reduce((d,f)=>f(d),t());return r=Kge(u),n=r.cache.get,i=r.cache.set,s=l,l(c)}function l(c){const u=n(c);if(u)return u;const d=Zge(c,r);return i(c,d),d}return function(){return s(Yge.apply(null,arguments))}}const gn=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},cK=/^\[(?:([a-z-]+):)?(.+)\]$/i,Jge=/^\d+\/\d+$/,Qge=new Set(["px","full","screen"]),eve=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,tve=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rve=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nve=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ive=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,dc=t=>Cp(t)||Qge.has(t)||Jge.test(t),Du=t=>Am(t,"length",fve),Cp=t=>!!t&&!Number.isNaN(Number(t)),zC=t=>Am(t,"number",Cp),Fg=t=>!!t&&Number.isInteger(Number(t)),sve=t=>t.endsWith("%")&&Cp(t.slice(0,-1)),ar=t=>cK.test(t),$u=t=>eve.test(t),ave=new Set(["length","size","percentage"]),ove=t=>Am(t,ave,uK),lve=t=>Am(t,"position",uK),cve=new Set(["image","url"]),uve=t=>Am(t,cve,pve),dve=t=>Am(t,"",hve),Bg=()=>!0,Am=(t,e,r)=>{const n=cK.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},fve=t=>tve.test(t)&&!rve.test(t),uK=()=>!1,hve=t=>nve.test(t),pve=t=>ive.test(t),mve=()=>{const t=gn("colors"),e=gn("spacing"),r=gn("blur"),n=gn("brightness"),i=gn("borderColor"),s=gn("borderRadius"),o=gn("borderSpacing"),l=gn("borderWidth"),c=gn("contrast"),u=gn("grayscale"),d=gn("hueRotate"),f=gn("invert"),g=gn("gap"),v=gn("gradientColorStops"),y=gn("gradientColorStopPositions"),x=gn("inset"),_=gn("margin"),S=gn("opacity"),C=gn("padding"),N=gn("saturate"),A=gn("scale"),E=gn("sepia"),k=gn("skew"),O=gn("space"),I=gn("translate"),z=()=>["auto","contain","none"],W=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",ar,e],q=()=>[ar,e],F=()=>["",dc,Du],H=()=>["auto",Cp,ar],Q=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",ar],se=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Cp,ar];return{cacheSize:500,separator:":",theme:{colors:[Bg],spacing:[dc,Du],blur:["none","",$u,ar],brightness:X(),borderColor:[t],borderRadius:["none","","full",$u,ar],borderSpacing:q(),borderWidth:F(),contrast:X(),grayscale:Z(),hueRotate:X(),invert:Z(),gap:q(),gradientColorStops:[t],gradientColorStopPositions:[sve,Du],inset:V(),margin:V(),opacity:X(),padding:q(),saturate:X(),scale:X(),sepia:Z(),skew:X(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",ar]}],container:["container"],columns:[{columns:[$u]}],"break-after":[{"break-after":se()}],"break-before":[{"break-before":se()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Q(),ar]}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[x]}],"inset-x":[{"inset-x":[x]}],"inset-y":[{"inset-y":[x]}],start:[{start:[x]}],end:[{end:[x]}],top:[{top:[x]}],right:[{right:[x]}],bottom:[{bottom:[x]}],left:[{left:[x]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Fg,ar]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ar]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",Fg,ar]}],"grid-cols":[{"grid-cols":[Bg]}],"col-start-end":[{col:["auto",{span:["full",Fg,ar]},ar]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Bg]}],"row-start-end":[{row:["auto",{span:[Fg,ar]},ar]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ar]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ar]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...te()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...te(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...te(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[C]}],px:[{px:[C]}],py:[{py:[C]}],ps:[{ps:[C]}],pe:[{pe:[C]}],pt:[{pt:[C]}],pr:[{pr:[C]}],pb:[{pb:[C]}],pl:[{pl:[C]}],m:[{m:[_]}],mx:[{mx:[_]}],my:[{my:[_]}],ms:[{ms:[_]}],me:[{me:[_]}],mt:[{mt:[_]}],mr:[{mr:[_]}],mb:[{mb:[_]}],ml:[{ml:[_]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ar,e]}],"min-w":[{"min-w":[ar,e,"min","max","fit"]}],"max-w":[{"max-w":[ar,e,"none","full","min","max","fit","prose",{screen:[$u]},$u]}],h:[{h:[ar,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ar,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ar,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ar,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$u,Du]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",zC]}],"font-family":[{font:[Bg]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ar]}],"line-clamp":[{"line-clamp":["none",Cp,zC]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",dc,ar]}],"list-image":[{"list-image":["none",ar]}],"list-style-type":[{list:["none","disc","decimal",ar]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[S]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[S]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",dc,Du]}],"underline-offset":[{"underline-offset":["auto",dc,ar]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ar]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ar]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[S]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Q(),lve]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ove]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},uve]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[v]}],"gradient-via":[{via:[v]}],"gradient-to":[{to:[v]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[S]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[S]}],"divide-style":[{divide:oe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[dc,ar]}],"outline-w":[{outline:[dc,Du]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[S]}],"ring-offset-w":[{"ring-offset":[dc,Du]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$u,dve]}],"shadow-color":[{shadow:[Bg]}],opacity:[{opacity:[S]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",$u,ar]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[f]}],saturate:[{saturate:[N]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[S]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ar]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",ar]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",ar]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Fg,ar]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ar]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ar]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ar]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[dc,Du,zC]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},gve=Xge(mve);function Ye(...t){return gve(hr(t))}function vve(){return Math.random().toString(36).substr(2,9)+"_"+Date.now().toString(36)}function yve(t){if(!t)return"Date inconnue";const e=new Date(t),n=(new Date-e)/(1e3*60),i=n/60,s=i/24;if(n<1)return"À l'instant";if(n<60){const o=Math.floor(n);return`Il y a ${o} minute${o>1?"s":""}`}else if(i<24){const o=Math.floor(i);return`Il y a ${o} heure${o>1?"s":""}`}else{if(s<2)return"Hier";if(s<7){const o=Math.floor(s);return`Il y a ${o} jour${o>1?"s":""}`}else if(s<30){const o=Math.floor(s/7);return`Il y a ${o} semaine${o>1?"s":""}`}else return e.toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"})}}function kF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function ya(...t){return e=>{let r=!1;const n=t.map(i=>{const s=kF(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():kF(t[i],null)}}}}function vt(...t){return b.useCallback(ya(...t),t)}function Wp(t){const e=xve(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(wve);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}var dK=Wp("Slot");function xve(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r,o=b.isValidElement(i)?Sve(i):void 0,l=vt(o,n);if(b.isValidElement(i)){const c=_ve(s,i.props);return i.type!==b.Fragment&&(c.ref=l),b.cloneElement(i,c)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fK=Symbol("radix.slottable");function bve(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=fK,e}function wve(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fK}function _ve(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Sve(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const AF=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,TF=hr,i1=(t,e)=>r=>{var n;if(e?.variants==null)return TF(t,r?.class,r?.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(u=>{const d=r?.[u],f=s?.[u];if(d===null)return null;const g=AF(d)||AF(f);return i[u][g]}),l=r&&Object.entries(r).reduce((u,d)=>{let[f,g]=d;return g===void 0||(u[f]=g),u},{}),c=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((u,d)=>{let{class:f,className:g,...v}=d;return Object.entries(v).every(y=>{let[x,_]=y;return Array.isArray(_)?_.includes({...s,...l}[x]):{...s,...l}[x]===_})?[...u,f,g]:u},[]);return TF(t,o,c,r?.class,r?.className)},pM=i1("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),me=re.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...i},s)=>{const o=n?dK:"button";return a.jsx(o,{className:Ye(pM({variant:e,size:r,className:t})),ref:s,...i})});me.displayName="Button";const Jt=re.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Jt.displayName="Card";const Sr=re.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("flex flex-col space-y-1.5 p-6",t),...e}));Sr.displayName="CardHeader";const jr=re.forwardRef(({className:t,...e},r)=>a.jsx("h3",{ref:r,className:Ye("text-2xl font-semibold leading-none tracking-tight",t),...e}));jr.displayName="CardTitle";const ei=re.forwardRef(({className:t,...e},r)=>a.jsx("p",{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));ei.displayName="CardDescription";const rr=re.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("p-6 pt-0",t),...e}));rr.displayName="CardContent";const Hv=re.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("flex items-center p-6 pt-0",t),...e}));Hv.displayName="CardFooter";const jve=i1("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Et({className:t,variant:e,...r}){return a.jsx("div",{className:Ye(jve({variant:e}),t),...r})}function Cve(t,e){const r=b.createContext(e),n=s=>{const{children:o,...l}=s,c=b.useMemo(()=>l,Object.values(l));return a.jsx(r.Provider,{value:c,children:o})};n.displayName=t+"Provider";function i(s){const o=b.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[n,i]}function sn(t,e=[]){let r=[];function n(s,o){const l=b.createContext(o),c=r.length;r=[...r,o];const u=f=>{const{scope:g,children:v,...y}=f,x=g?.[t]?.[c]||l,_=b.useMemo(()=>y,Object.values(y));return a.jsx(x.Provider,{value:_,children:v})};u.displayName=s+"Provider";function d(f,g){const v=g?.[t]?.[c]||l,y=b.useContext(v);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[u,d]}const i=()=>{const s=r.map(o=>b.createContext(o));return function(l){const c=l?.[t]||s;return b.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return i.scopeName=t,[n,Nve(i,...e)]}function Nve(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=n.reduce((l,{useScope:c,scopeName:u})=>{const f=c(s)[`__scope${u}`];return{...l,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function Eve(t){const e=Pve(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(Ave);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Pve(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=Ove(i),l=Tve(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var kve=Symbol("radix.slottable");function Ave(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===kve}function Tve(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Ove(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Rve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],hK=Rve.reduce((t,e)=>{const r=Eve(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),mM="Progress",gM=100,[Mve,M7e]=sn(mM),[Ive,Lve]=Mve(mM),pK=b.forwardRef((t,e)=>{const{__scopeProgress:r,value:n=null,max:i,getValueLabel:s=Dve,...o}=t;(i||i===0)&&!OF(i)&&console.error($ve(`${i}`,"Progress"));const l=OF(i)?i:gM;n!==null&&!RF(n,l)&&console.error(Fve(`${n}`,"Progress"));const c=RF(n,l)?n:null,u=hw(c)?s(c,l):void 0;return a.jsx(Ive,{scope:r,value:c,max:l,children:a.jsx(hK.div,{"aria-valuemax":l,"aria-valuemin":0,"aria-valuenow":hw(c)?c:void 0,"aria-valuetext":u,role:"progressbar","data-state":vK(c,l),"data-value":c??void 0,"data-max":l,...o,ref:e})})});pK.displayName=mM;var mK="ProgressIndicator",gK=b.forwardRef((t,e)=>{const{__scopeProgress:r,...n}=t,i=Lve(mK,r);return a.jsx(hK.div,{"data-state":vK(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...n,ref:e})});gK.displayName=mK;function Dve(t,e){return`${Math.round(t/e*100)}%`}function vK(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function hw(t){return typeof t=="number"}function OF(t){return hw(t)&&!isNaN(t)&&t>0}function RF(t,e){return hw(t)&&!isNaN(t)&&t<=e&&t>=0}function $ve(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${gM}\`.`}function Fve(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${gM} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var yK=pK,Bve=gK;const xK=b.forwardRef(({className:t,value:e,...r},n)=>a.jsx(yK,{ref:n,className:Ye("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...r,children:a.jsx(Bve,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));xK.displayName=yK.displayName;const zve=()=>{const[t,e]=b.useState(null),[r,n]=b.useState(null),[i,s]=b.useState(!1);b.useEffect(()=>{o();const l=setInterval(o,5e3);return()=>clearInterval(l)},[]);const o=()=>{e(lM.getStats()),n(oM.getStatus())};return null};class qve{constructor(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},this.observers=[],this.isMonitoring=!1}startMonitoring(){this.isMonitoring||(this.isMonitoring=!0,this.monitorMemoryUsage(),this.monitorNetworkRequests(),this.monitorCachePerformance(),console.log("📊 Monitoring de performance démarré"))}stopMonitoring(){this.isMonitoring=!1,console.log("📊 Monitoring de performance arrêté")}recordCacheHit(e,r){this.metrics.cacheHits++,this.notifyObservers("cacheHit",{type:e,key:r,timestamp:Date.now()})}recordCacheMiss(e,r){this.metrics.cacheMisses++,this.notifyObservers("cacheMiss",{type:e,key:r,timestamp:Date.now()})}recordApiCall(e,r){this.metrics.apiCalls++,this.metrics.loadTimes.push(r),this.metrics.loadTimes.length>100&&this.metrics.loadTimes.shift(),this.notifyObservers("apiCall",{endpoint:e,duration:r,timestamp:Date.now()})}recordError(e,r){this.metrics.errors++,this.notifyObservers("error",{type:e,error:r,timestamp:Date.now()})}getCacheHitRatio(){const e=this.metrics.cacheHits+this.metrics.cacheMisses;return e>0?this.metrics.cacheHits/e*100:0}getAverageLoadTime(){return this.metrics.loadTimes.length===0?0:this.metrics.loadTimes.reduce((r,n)=>r+n,0)/this.metrics.loadTimes.length}getStats(){const e=Date.now()-this.metrics.startTime;return{uptime:Math.floor(e/1e3),cacheHits:this.metrics.cacheHits,cacheMisses:this.metrics.cacheMisses,cacheHitRatio:this.getCacheHitRatio(),apiCalls:this.metrics.apiCalls,errors:this.metrics.errors,averageLoadTime:this.getAverageLoadTime(),memoryUsage:this.metrics.memoryUsage[this.metrics.memoryUsage.length-1]||0,isMonitoring:this.isMonitoring}}monitorMemoryUsage(){if(this.isMonitoring){if("memory"in performance){const e=performance.memory;this.metrics.memoryUsage.push({used:e.usedJSHeapSize,total:e.totalJSHeapSize,limit:e.jsHeapSizeLimit,timestamp:Date.now()}),this.metrics.memoryUsage.length>50&&this.metrics.memoryUsage.shift()}setTimeout(()=>this.monitorMemoryUsage(),5e3)}}monitorNetworkRequests(){if(!this.isMonitoring)return;const e=window.fetch;window.fetch=async(...r)=>{const n=performance.now();try{const i=await e(...r),s=performance.now()-n;return this.recordApiCall(r[0],s),i}catch(i){throw this.recordError("network",i),i}}}monitorCachePerformance(){if(!this.isMonitoring)return;const e=Storage.prototype.getItem,r=Storage.prototype.setItem;Storage.prototype.getItem=function(n){const i=e.call(this,n);return i&&n.startsWith("benome:")&&Np.recordCacheHit("localStorage",n),i},Storage.prototype.setItem=function(n,i){return n.startsWith("benome:")&&Np.recordCacheMiss("localStorage",n),r.call(this,n,i)}}addObserver(e){this.observers.push(e)}removeObserver(e){this.observers=this.observers.filter(r=>r!==e)}notifyObservers(e,r){this.observers.forEach(n=>{try{n(e,r)}catch(i){console.error("Erreur dans l'observateur de métriques:",i)}})}exportMetrics(){return{...this.metrics,cacheHitRatio:this.getCacheHitRatio(),averageLoadTime:this.getAverageLoadTime(),exportTime:new Date().toISOString()}}reset(){this.metrics={cacheHits:0,cacheMisses:0,apiCalls:0,errors:0,loadTimes:[],memoryUsage:[],startTime:Date.now()},console.log("📊 Métriques réinitialisées")}}const Np=new qve;Np.startMonitoring();function Qe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function $A(t){const e=Uve(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(Wve);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Uve(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=Kve(i),l=Hve(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Vve=Symbol("radix.slottable");function Wve(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Vve}function Hve(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Kve(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Gve(t){const e=t+"CollectionProvider",[r,n]=sn(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,C=re.useRef(null),N=re.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:N,collectionRef:C,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=$A(l),u=re.forwardRef((x,_)=>{const{scope:S,children:C}=x,N=s(l,S),A=vt(_,N.collectionRef);return a.jsx(c,{ref:A,children:C})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=$A(d),v=re.forwardRef((x,_)=>{const{scope:S,children:C,...N}=x,A=re.useRef(null),E=vt(_,A),k=s(d,S);return re.useEffect(()=>(k.itemMap.set(A,{ref:A,...N}),()=>void k.itemMap.delete(A))),a.jsx(g,{[f]:"",ref:E,children:C})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return re.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((k,O)=>N.indexOf(k.ref.current)-N.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var Cr=globalThis?.document?b.useLayoutEffect:()=>{},Zve=dd[" useId ".trim().toString()]||(()=>{}),Yve=0;function zs(t){const[e,r]=b.useState(Zve());return Cr(()=>{r(n=>n??String(Yve++))},[t]),e?`radix-${e}`:""}var Xve=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tm=Xve.reduce((t,e)=>{const r=$A(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Tr(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...r)=>e.current?.(...r),[])}var Jve=dd[" useInsertionEffect ".trim().toString()]||Cr;function Vs({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[i,s,o]=Qve({defaultProp:e,onChange:r}),l=t!==void 0,c=l?t:i;{const d=b.useRef(t!==void 0);b.useEffect(()=>{const f=d.current;f!==l&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=l},[l,n])}const u=b.useCallback(d=>{if(l){const f=eye(d)?d(t):d;f!==t&&o.current?.(f)}else s(d)},[l,t,s,o]);return[c,u]}function Qve({defaultProp:t,onChange:e}){const[r,n]=b.useState(t),i=b.useRef(r),s=b.useRef(e);return Jve(()=>{s.current=e},[e]),b.useEffect(()=>{i.current!==r&&(s.current?.(r),i.current=r)},[r,i]),[r,n,s]}function eye(t){return typeof t=="function"}var tye=b.createContext(void 0);function Om(t){const e=b.useContext(tye);return t||e||"ltr"}var qC="rovingFocusGroup.onEntryFocus",rye={bubbles:!1,cancelable:!0},tx="RovingFocusGroup",[FA,bK,nye]=Gve(tx),[iye,wK]=sn(tx,[nye]),[sye,aye]=iye(tx),_K=b.forwardRef((t,e)=>a.jsx(FA.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(FA.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(oye,{...t,ref:e})})}));_K.displayName=tx;var oye=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,g=b.useRef(null),v=vt(e,g),y=Om(s),[x,_]=Vs({prop:o,defaultProp:l??null,onChange:c,caller:tx}),[S,C]=b.useState(!1),N=Tr(u),A=bK(r),E=b.useRef(!1),[k,O]=b.useState(0);return b.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(qC,N),()=>I.removeEventListener(qC,N)},[N]),a.jsx(sye,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:x,onItemFocus:b.useCallback(I=>_(I),[_]),onItemShiftTab:b.useCallback(()=>C(!0),[]),onFocusableItemAdd:b.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>O(I=>I-1),[]),children:a.jsx(Tm.div,{tabIndex:S||k===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:Qe(t.onMouseDown,()=>{E.current=!0}),onFocus:Qe(t.onFocus,I=>{const z=!E.current;if(I.target===I.currentTarget&&z&&!S){const W=new CustomEvent(qC,rye);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const V=A().filter(oe=>oe.focusable),q=V.find(oe=>oe.active),F=V.find(oe=>oe.id===x),Q=[q,F,...V].filter(Boolean).map(oe=>oe.ref.current);CK(Q,d)}}E.current=!1}),onBlur:Qe(t.onBlur,()=>C(!1))})})}),SK="RovingFocusGroupItem",jK=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=zs(),u=s||c,d=aye(SK,r),f=d.currentTabStopId===u,g=bK(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:x}=d;return b.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),a.jsx(FA.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(Tm.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Qe(t.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:Qe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Qe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=uye(_,d.orientation,d.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")N.reverse();else if(S==="prev"||S==="next"){S==="prev"&&N.reverse();const A=N.indexOf(_.currentTarget);N=d.loop?dye(N,A+1):N.slice(A+1)}setTimeout(()=>CK(N))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});jK.displayName=SK;var lye={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function cye(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function uye(t,e,r){const n=cye(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return lye[n]}function CK(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function dye(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var fye=_K,hye=jK;function pye(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var Hs=t=>{const{present:e,children:r}=t,n=mye(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),s=vt(n.ref,gye(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:s}):null};Hs.displayName="Presence";function mye(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[l,c]=pye(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=Y0(n.current);s.current=l==="mounted"?u:"none"},[l]),Cr(()=>{const u=n.current,d=i.current;if(d!==t){const g=s.current,v=Y0(u);t?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Cr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=v=>{const x=Y0(n.current).includes(v.animationName);if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=v=>{v.target===e&&(s.current=Y0(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function Y0(t){return t?.animationName||"none"}function gye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var s1="Tabs",[vye,I7e]=sn(s1,[wK]),NK=wK(),[yye,vM]=vye(s1),EK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:i,defaultValue:s,orientation:o="horizontal",dir:l,activationMode:c="automatic",...u}=t,d=Om(l),[f,g]=Vs({prop:n,onChange:i,defaultProp:s??"",caller:s1});return a.jsx(yye,{scope:r,baseId:zs(),value:f,onValueChange:g,orientation:o,dir:d,activationMode:c,children:a.jsx(Tm.div,{dir:d,"data-orientation":o,...u,ref:e})})});EK.displayName=s1;var PK="TabsList",kK=b.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...i}=t,s=vM(PK,r),o=NK(r);return a.jsx(fye,{asChild:!0,...o,orientation:s.orientation,dir:s.dir,loop:n,children:a.jsx(Tm.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});kK.displayName=PK;var AK="TabsTrigger",TK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:i=!1,...s}=t,o=vM(AK,r),l=NK(r),c=MK(o.baseId,n),u=IK(o.baseId,n),d=n===o.value;return a.jsx(hye,{asChild:!0,...l,focusable:!i,active:d,children:a.jsx(Tm.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:c,...s,ref:e,onMouseDown:Qe(t.onMouseDown,f=>{!i&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:Qe(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:Qe(t.onFocus,()=>{const f=o.activationMode!=="manual";!d&&!i&&f&&o.onValueChange(n)})})})});TK.displayName=AK;var OK="TabsContent",RK=b.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:i,children:s,...o}=t,l=vM(OK,r),c=MK(l.baseId,n),u=IK(l.baseId,n),d=n===l.value,f=b.useRef(d);return b.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),a.jsx(Hs,{present:i||d,children:({present:g})=>a.jsx(Tm.div,{"data-state":d?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":c,hidden:!g,id:u,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&s})})});RK.displayName=OK;function MK(t,e){return`${t}-trigger-${e}`}function IK(t,e){return`${t}-content-${e}`}var xye=EK,LK=kK,DK=TK,$K=RK;const yM=xye,a1=re.forwardRef(({className:t,...e},r)=>a.jsx(LK,{ref:r,className:Ye("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));a1.displayName=LK.displayName;const ps=re.forwardRef(({className:t,...e},r)=>a.jsx(DK,{ref:r,className:Ye("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",t),...e}));ps.displayName=DK.displayName;const ms=re.forwardRef(({className:t,...e},r)=>a.jsx($K,{ref:r,className:Ye("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));ms.displayName=$K.displayName;const bye=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState("overview"),[i,s]=b.useState(null),[o,l]=b.useState(null),[c,u]=b.useState(null),[d,f]=b.useState([]);return b.useEffect(()=>{if(!t)return;const g=()=>{s(Np.getStats()),l(lM.getStats()),u(oM.getStatus())};g();const v=setInterval(g,2e3),y=(x,_)=>{f(S=>[...S,{event:x,data:_,timestamp:Date.now()}].slice(-50))};return Np.addObserver(y),()=>{clearInterval(v),Np.removeObserver(y)}},[t]),null},wye=i1("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-600 dark:border-green-500 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-600 dark:border-yellow-500 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-600 dark:border-blue-500 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),FK=b.forwardRef(({className:t,variant:e,...r},n)=>a.jsx("div",{ref:n,role:"alert",className:Ye(wye({variant:e}),t),...r}));FK.displayName="Alert";const BK=b.forwardRef(({className:t,...e},r)=>a.jsx("h5",{ref:r,className:Ye("mb-1 font-medium leading-none tracking-tight",t),...e}));BK.displayName="AlertTitle";const zK=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{ref:r,className:Ye("text-sm [&_p]:leading-relaxed",t),...e}));zK.displayName="AlertDescription";let _ye=class extends re.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("QueryErrorBoundary caught an error:",e,r)}render(){return this.state.hasError?this.props.fallbackRender?this.props.fallbackRender({error:this.state.error,resetErrorBoundary:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()}}):a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Une erreur est survenue"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:this.state.error?.message||"Erreur inconnue"}),a.jsxs(me,{onClick:()=>{this.setState({hasError:!1,error:null}),this.props.onReset&&this.props.onReset()},variant:"outline",children:[a.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}):this.props.children}};const Sye=({children:t})=>{const{reset:e}=I7();return a.jsx(_ye,{onReset:e,fallbackRender:({error:r,resetErrorBoundary:n})=>a.jsx("div",{className:"flex items-center justify-center min-h-screen p-4",children:a.jsxs(FK,{className:"max-w-md",children:[a.jsx(Jf,{className:"h-4 w-4"}),a.jsx(BK,{children:"Erreur de chargement"}),a.jsxs(zK,{className:"mt-2",children:["Une erreur est survenue lors du chargement des données.",a.jsx("div",{className:"mt-2 text-sm text-muted-foreground",children:r.message})]}),a.jsxs(me,{onClick:n,className:"mt-4",variant:"outline",children:[a.jsx(Sl,{className:"w-4 h-4 mr-2"}),"Réessayer"]})]})}),children:t})},Yh={theme:"light",notifications:{email:!0,push:!0,sms:!1},privacy:{profile_visibility:"public",show_online_status:!0,allow_messages:!0},security_settings:{two_factor_auth:!1,login_notifications:!0,session_timeout:30,require_password_change:!1,remember_me_enabled:!0,auto_logout:!0,max_session_age:7},customization:{primary_color:"#3B82F6",accent_color:"#10B981",font_size:"medium",animations_enabled:!0}},jye=()=>{const{user:t}=Vr(),[e,r]=b.useState(Yh),[n,i]=b.useState(!1),[s,o]=b.useState(null),l=async()=>{if(!t){r(Yh),i(!1);return}try{i(!0),o(null);const f=localStorage.getItem(`maximarket-preferences-${t.id}`);if(f){const g=JSON.parse(f);r({...Yh,...g})}else r(Yh)}catch(f){console.error("Erreur lors du chargement des préférences:",f),o(f.message),r(Yh)}finally{i(!1)}},c=async(f,g)=>{if(t)try{const v={...e},y=f.split(".");let x=v;for(let _=0;_<y.length-1;_++)x[y[_]]||(x[y[_]]={}),x=x[y[_]];x[y[y.length-1]]=g,r(v),localStorage.setItem(`maximarket-preferences-${t.id}`,JSON.stringify(v))}catch(v){console.error("Erreur lors de la mise à jour des préférences:",v),o(v.message)}},u=async f=>{if(t)try{const g={...e};Object.entries(f).forEach(([v,y])=>{const x=v.split(".");let _=g;for(let S=0;S<x.length-1;S++)_[x[S]]||(_[x[S]]={}),_=_[x[S]];_[x[x.length-1]]=y}),r(g),localStorage.setItem(`maximarket-preferences-${t.id}`,JSON.stringify(g))}catch(g){console.error("Erreur lors de la mise à jour des préférences:",g),o(g.message)}},d=async()=>{if(t)try{r(Yh),localStorage.removeItem(`maximarket-preferences-${t.id}`)}catch(f){console.error("Erreur lors de la réinitialisation des préférences:",f),o(f.message)}};return b.useEffect(()=>{l()},[t]),{preferences:e,loading:n,error:s,updatePreference:c,updateMultiplePreferences:u,resetPreferences:d,reloadPreferences:l}},Cye=()=>{const{session:t,logout:e,isRememberMe:r}=Vr(),{preferences:n}=jye(),i=b.useRef(null),s=b.useRef(Date.now()),o=b.useCallback(()=>{if(s.current=Date.now(),i.current&&clearTimeout(i.current),!t||r||!n?.security_settings?.auto_logout)return;const u=(n.security_settings.session_timeout||30)*60*1e3;i.current=setTimeout(()=>{console.log("🕐 Inactivité détectée, déconnexion automatique"),e()},u)},[t,r,n,e]),l=b.useCallback(()=>{o()},[o]);return b.useEffect(()=>{if(!t)return;const c=["mousedown","mousemove","keypress","keydown","scroll","touchstart","click","focus","input","change"];return c.forEach(u=>{document.addEventListener(u,l,{passive:!0})}),o(),()=>{c.forEach(u=>{document.removeEventListener(u,l)}),i.current&&clearTimeout(i.current)}},[t,l,o]),b.useEffect(()=>{!t&&i.current&&clearTimeout(i.current)},[t]),{lastActivity:s.current,resetTimer:o}},Nye=()=>(Cye(),null),Eye=({children:t})=>Lr?t:a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1a1a1a",color:"#fff",fontFamily:"Arial, sans-serif",padding:"20px",textAlign:"center"},children:a.jsxs("div",{children:[a.jsx("h1",{style:{color:"#e74c3c",marginBottom:"20px"},children:"⚠️ Configuration Supabase requise"}),a.jsx("p",{style:{marginBottom:"15px"},children:"L'application nécessite la configuration des variables Supabase."}),a.jsxs("div",{style:{backgroundColor:"#2c3e50",padding:"15px",borderRadius:"5px",textAlign:"left",marginBottom:"20px"},children:[a.jsx("strong",{children:"Variables requises dans Vercel :"}),a.jsxs("div",{style:{marginTop:"10px",fontFamily:"monospace"},children:["VITE_SUPABASE_URL",a.jsx("br",{}),"VITE_SUPABASE_ANON_KEY"]})]}),a.jsx("button",{onClick:()=>window.location.reload(),style:{backgroundColor:"#3498db",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer"},children:"🔄 Recharger"})]})});async function Pye(t,e={},r="mistral-small-latest",n,i){const s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({messages:t,context:e,model:r,stream:!0}),signal:i});if(!s.ok||!s.body){const d=await s.json().catch(()=>({}));throw new Error(d?.error||"Chat API error")}const o=s.body.getReader(),l=new TextDecoder;let c="",u="";for(;;){const{value:d,done:f}=await o.read();if(f)break;c+=l.decode(d,{stream:!0});const g=c.split(`
`);c=g.pop()||"";for(const v of g)if(v.startsWith("data: ")){const y=v.slice(6);if(y==="[DONE]")continue;try{const _=JSON.parse(y)?.choices?.[0]?.delta?.content||"";_&&(u+=_,n?.(u))}catch{}}}}const dt=re.forwardRef(({className:t,type:e,...r},n)=>a.jsx("input",{type:e,className:Ye("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 text-foreground",t),ref:n,...r}));dt.displayName="Input";const kye=["Dakar","Thiès","Saint-Louis","Kaolack","Ziguinchor","Touba","Mbour","Rufisque","Pikine","Guédiawaye","Cotonou","Porto-Novo","Abomey-Calavi","Parakou","Djougou","Bohicon","Kandi","Lokossa","Ouidah","Natitingou","Lomé","Sokodé","Kara","Kpalimé","Atakpamé","Bassar","Tsévié","Aného","Dapaong","Mango","Abidjan","Bouaké","Daloa","Yamoussoukro","San-Pédro","Korhogo","Man","Abengourou","Gagnoa","Anyama","Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"],MF=["toyota","peugeot","renault","citroën","citroen","ford","volkswagen","vw","bmw","mercedes","audi","honda","nissan","hyundai","kia","dacia","opel","fiat","chevrolet","mazda","suzuki"];function BA(t){if(!t||typeof t!="string")return{section:"marketplace",params:{sort:"popular"}};const e=t.trim(),r=e.toLowerCase(),n=r.normalize("NFD").replace(/[\u0300-\u036f]/g,""),i=n.replace(/[\s-]/g,""),s=x=>{const _=x.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,""),S=_.replace(/[\s-]/g,"");return n.includes(_)||i.includes(S)},o=kye.find(x=>s(x));let l,c;const u=r.match(/(\d+[\.,]?\d*)\s*(k|m)?/gi)||[],d=x=>{const _=x.match(/(\d+[\.,]?\d*)\s*(k|m)?/i);if(!_)return null;const S=parseFloat(_[1].replace(",",".")),C=_[2]?_[2].toLowerCase()==="m"?1e6:1e3:1;return Math.round(S*C)};if(u.length>=2&&/entre|et|-/i.test(r)){const x=d(u[0]),_=d(u[1]);x&&_&&(l=Math.min(x,_),c=Math.max(x,_))}else/max|<=|<\s*/i.test(r)&&u[0]?c=d(u[0]):/min|>=|>\s*/i.test(r)&&u[0]?l=d(u[0]):u.length===1&&(c=d(u[0]));let f="marketplace";/\b(appartement|maison|terrain|studio|immobilier|villa|pi[eè]ces|m²|m2)\b/i.test(r)?f="immobilier":/\b(voiture|auto|car|moto|scooter|camion|camionnette|vehicule|véhicule)\b/i.test(r)||MF.some(x=>r.includes(x))?f="automobile":/\b(plombier|electricien|électricien|menage|ménage|jardinage|coiffure|réparation|reparation|d[eé]m[eé]nagement|cours|prof|service|informatique|evenementiel|événementiel)\b/i.test(r)&&(f="services");let g;const v=MF.find(x=>r.includes(x));v&&(g=v);const y={search:e,sort:"popular"};return o&&(y.location=o),l&&(y.minPrice=String(l)),c&&(y.maxPrice=String(c)),g&&f==="automobile"&&(y.brand=g),{section:f,params:y}}const Aye=({pageContext:t={}})=>{const{user:e}=Vr(),[r,n]=b.useState(!1),[i,s]=b.useState(""),[o,l]=b.useState(!1),[c,u]=b.useState([]),[d,f]=b.useState([]),[g,v]=b.useState(null),[y,x]=b.useState(!1),[_,S]=b.useState(!1),[C,N]=b.useState(!1),A=b.useRef(null),E=b.useRef(null),k=b.useMemo(()=>({path:window.location.pathname,...typeof window<"u"&&window.__MAXIMARKET_CONTEXT?window.__MAXIMARKET_CONTEXT:{},...t}),[t]);b.useEffect(()=>{const F=localStorage.getItem("chatbot_conversations");if(F)try{const H=JSON.parse(F);Array.isArray(H)&&f(H)}catch(H){console.error("Erreur parsing conversations:",H)}},[]),b.useEffect(()=>{d.length>0&&localStorage.setItem("chatbot_conversations",JSON.stringify(d))},[d]),b.useEffect(()=>{const F=()=>S(window.matchMedia("(max-width: 640px)").matches);return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]);const O=async()=>{const F=i.trim();if(!F||o)return;if(c.length===0){const Q=Date.now().toString();v(Q),f(oe=>[...oe,{id:Q,title:F.length>30?F.substring(0,30)+"...":F,date:new Date().toLocaleDateString(),messages:[]}])}const H=[...c,{role:"user",content:F}];u(H),s(""),l(!0);try{const Q=/^(yo|salut|bonjour|hello|hi|hey|ciao|hola|bonsoir|bonne\s+nuit)$/i.test(F.trim()),oe=/\b(appartement|maison|voiture|service|immobilier|auto|plombier|electricien|terrain|studio|villa|moto|scooter|camion|menage|jardinage|coiffure|reparation|demenagement|cours|prof|informatique|evenementiel)\b/i.test(F.toLowerCase()),K=/\d+\s*(k|m|xof|frs?)|(dakar|abidjan|lome|cotonou|thiès|saint-louis|kaolack|ziguinchor|touba|mbour|rufisque|pikine|guediawaye)/i.test(F.toLowerCase());let te=null,Z="",se=[];if(x(!1),!Q&&(oe||K)&&(te=BA(F)),te){const{section:Te,params:qe}=te,ue={...qe,category:{immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[Te]||void 0,limit:3,page:0,status:"approved"};try{const _e=await en.getAllListings(ue);_e?.data?.length&&(se=_e.data.slice(0,3).map(ye=>({id:ye.id,title:ye.title,price:ye.price})),Z+=`J'ai trouvé ${_e.data.length} résultats. Voici quelques suggestions:
`+se.map(ye=>`• ${ye.title} — ${ye.price??""} XOF (ouvrir: /annonce/${ye.id})`).join(`
`)+`

`,x(!0))}catch{}}u(Te=>[...Te,{role:"assistant",content:Z}]);const X=H.length;let ce="";E.current?.abort();const je=new AbortController;E.current=je,await Pye(H,{...k,intent:te},void 0,Te=>{ce=Te;const qe=Z+ce;u(pe=>pe.map((ue,_e)=>_e===X?{...ue,content:qe}:ue))},je.signal),setTimeout(()=>A.current?.scrollTo({top:A.current.scrollHeight,behavior:"smooth"}),50)}catch(Q){if(Q?.name!=="AbortError"){console.error("Chat error:",Q);let oe="Une erreur serveur est survenue côté assistant.";Q.message?.includes("API configuration error")?oe="Erreur de configuration API. Veuillez contacter l'administrateur.":Q.message?.includes("401")||Q.message?.includes("Unauthorized")?oe="Erreur d'authentification API. Veuillez réessayer plus tard.":Q.message?.includes("429")||Q.message?.includes("Too Many Requests")?oe="Limite de requêtes atteinte. Veuillez réessayer dans quelques minutes.":(Q.message?.includes("500")||Q.message?.includes("Internal Server Error"))&&(oe="Erreur serveur temporaire. Veuillez réessayer dans un instant.");const K="Bonjour. Je reste à votre disposition pour la recherche et vos questions.",te=y?`${oe} Vous pouvez cliquer sur « Voir plus » pour ouvrir tous les résultats, ou réessayer dans un instant.`:`${oe} Veuillez réessayer dans un instant ou lancer la recherche complète depuis le marketplace.`;u(Z=>[...Z,{role:"assistant",content:K},{role:"assistant",content:te}])}}finally{l(!1)}},I=()=>{try{E.current?.abort()}catch{}if(c.length>0&&g){const H=c.find(K=>K.role==="user")?.content||"Nouvelle conversation",Q=H.length>30?H.substring(0,30)+"...":H,oe=d.map(K=>K.id===g?{...K,messages:c,title:Q}:K);f(oe)}const F=Date.now().toString();v(F),u([]),s(""),l(!1),setTimeout(()=>A.current?.scrollTo({top:0,behavior:"smooth"}),50)},z=()=>{const F=[],H=c.filter(te=>te.role==="user").map(te=>te.content.toLowerCase()),Q=H.some(te=>te.includes("immobilier")||te.includes("appartement")||te.includes("maison")||te.includes("terrain")),oe=H.some(te=>te.includes("voiture")||te.includes("auto")||te.includes("véhicule")),K=H.some(te=>te.includes("service")||te.includes("plomberie")||te.includes("électricité"));return Q&&(F.push("Appartements 2 chambres à Dakar"),F.push("Terrains constructibles")),oe&&(F.push("Voitures d'occasion récentes"),F.push("Motos économiques")),K&&(F.push("Services de nettoyage"),F.push("Réparation électroménager")),F.length===0&&F.push("Immobilier à Dakar","Voitures < 3 000 000 XOF"),F.slice(0,3)},W=()=>d.map(F=>({id:F.id,title:F.title||"Conversation sans titre",date:F.date||new Date(F.id).toLocaleDateString(),messageCount:F.messages?.length||0})).slice(-10).reverse(),V=()=>{const F=c.filter(oe=>oe.role==="user").length,H=c.filter(oe=>oe.role==="assistant").length,Q=c.length;return{userMessages:F,assistantMessages:H,totalMessages:Q,sessionDuration:c.length>0?Math.floor((Date.now()-new Date().getTime())/6e4):0}},q=(F,H={})=>{switch(F){case"publish_listing":window.location.href="/creer-annonce";break;case"my_listings":e?window.location.href="/mes-annonces":u(Q=>[...Q,{role:"assistant",content:"Vous devez être connecté pour voir vos annonces. Connectez-vous d'abord."}]);break;case"contact_seller":k.listing?.sellerId?window.location.href=`/annonce/${k.listing.id}#contact`:u(Q=>[...Q,{role:"assistant",content:"Informations de contact non disponibles pour cette annonce."}]);break;case"share_listing":if(k.listing?.id){const Q=`${window.location.origin}/annonce/${k.listing.id}`;navigator.share?navigator.share({title:k.listing.title||"Annonce MaxiMarket",url:Q}):(navigator.clipboard.writeText(Q),u(oe=>[...oe,{role:"assistant",content:"Lien copié dans le presse-papiers !"}]))}break}};return a.jsxs("div",{children:[!r&&a.jsx("button",{onClick:()=>n(!0),"aria-label":"Ouvrir le chat",style:{position:"fixed",bottom:"calc(16px + env(safe-area-inset-bottom, 0px))",right:"calc(16px + env(safe-area-inset-right, 0px))",zIndex:9999,width:56,height:56,borderRadius:14,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"white",border:"1px solid #1f2937",boxShadow:"0 10px 30px rgba(0,0,0,0.55)",display:"grid",placeItems:"center"},children:a.jsxs("svg",{width:"22",height:"22",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{d:"M21 12c0 4.418-4.03 8-9 8-1.032 0-2.021-.152-2.94-.432L3 21l1.49-4.47C3.55 15.19 3 13.65 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8Z",stroke:"#e5e7eb",strokeWidth:"1.2"}),a.jsx("path",{d:"M7.5 11h9M7.5 14h5",stroke:"#9ca3af",strokeWidth:"1.2",strokeLinecap:"round"})]})}),r&&a.jsxs(a.Fragment,{children:[a.jsx("div",{onClick:()=>{n(!1),N(!1)},style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9998,background:"rgba(0,0,0,0.3)"}}),C&&a.jsx("div",{onClick:()=>N(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9997,background:"transparent"}}),a.jsxs("div",{style:{position:"fixed",bottom:_?"calc(16px + env(safe-area-inset-bottom, 0px))":20,right:_?"calc(16px + env(safe-area-inset-right, 0px))":20,left:"auto",top:"auto",zIndex:9999,width:_?"80vw":420,maxWidth:"95vw",height:_?"90vw":560,maxHeight:"78vh",background:"#0b0f14",border:"1px solid #111827",borderRadius:16,display:"flex",flexDirection:"column",boxShadow:"0 18px 38px rgba(0,0,0,0.6)"},children:[a.jsxs("div",{style:{padding:"12px 14px",borderBottom:"1px solid #1f2937",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#0e141b",position:_?"sticky":"static",top:0},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[a.jsxs("div",{style:{position:"relative"},children:[a.jsx("button",{onClick:()=>N(!C),style:{width:36,height:36,borderRadius:10,background:"linear-gradient(135deg,#111827,#0b0f14)",color:"#fff",display:"grid",placeItems:"center",border:"1px solid #1f2937",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>F.target.style.background="linear-gradient(135deg,#1f2937,#111827)",onMouseLeave:F=>F.target.style.background="linear-gradient(135deg,#111827,#0b0f14)",children:C?a.jsxs("div",{style:{position:"relative",width:16,height:16,display:"flex",alignItems:"center",justifyContent:"center"},children:[a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(45deg)",transition:"all 0.2s"}}),a.jsx("div",{style:{position:"absolute",width:16,height:2,background:"#e5e7eb",borderRadius:1,transform:"rotate(-45deg)",transition:"all 0.2s"}})]}):a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}}),a.jsx("div",{style:{width:16,height:2,background:"#e5e7eb",borderRadius:1}})]})}),C&&a.jsxs("div",{onClick:F=>F.stopPropagation(),style:{position:"absolute",top:"100%",left:0,width:280,background:"#0b0f14",border:"1px solid #1f2937",borderRadius:12,boxShadow:"0 10px 30px rgba(0,0,0,0.5)",zIndex:1e4,marginTop:8,padding:16},children:[a.jsxs("div",{style:{borderBottom:"1px solid #1f2937",paddingBottom:12,marginBottom:12},children:[a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:14,marginBottom:4},children:"Assistant MaxiMarket"}),a.jsxs("div",{style:{fontSize:12,color:"#9ca3af"},children:[V().totalMessages," messages • ",V().userMessages," recherches"]})]}),a.jsxs("div",{style:{marginBottom:16},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"CONVERSATIONS RÉCENTES"}),a.jsx("div",{style:{maxHeight:120,overflowY:"auto"},children:W().length>0?W().map((F,H)=>a.jsx("button",{onClick:()=>{const Q=d.find(oe=>oe.id===F.id);Q&&(u(Q.messages||[]),v(F.id),N(!1))},style:{width:"100%",padding:"8px 12px",background:"transparent",border:"none",color:"#e5e7eb",fontSize:12,textAlign:"left",borderRadius:6,cursor:"pointer",marginBottom:2,transition:"all 0.2s"},onMouseEnter:Q=>Q.target.style.background="#1f2937",onMouseLeave:Q=>Q.target.style.background="transparent",children:a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8},children:[a.jsx("div",{style:{width:4,height:4,borderRadius:"50%",background:"#6b7280"}}),a.jsxs("div",{style:{flex:1,overflow:"hidden"},children:[a.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontWeight:500},children:F.title}),a.jsxs("div",{style:{fontSize:10,color:"#9ca3af"},children:[F.date," • ",F.messageCount," messages"]})]})]})},F.id)):a.jsx("div",{style:{fontSize:12,color:"#6b7280",fontStyle:"italic"},children:"Aucune conversation récente"})})]}),a.jsxs("div",{style:{borderTop:"1px solid #1f2937",paddingTop:12},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8,fontWeight:600},children:"ACTIONS RAPIDES"}),a.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:4},children:[a.jsx("button",{onClick:()=>{q("publish_listing"),N(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>F.target.style.background="#1f2937",onMouseLeave:F=>F.target.style.background="transparent",children:"📝 Publier une annonce"}),e&&a.jsx("button",{onClick:()=>{q("my_listings"),N(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>F.target.style.background="#1f2937",onMouseLeave:F=>F.target.style.background="transparent",children:"📋 Mes annonces"}),a.jsx("button",{onClick:()=>{I(),N(!1)},style:{width:"100%",padding:"6px 12px",background:"transparent",border:"1px solid #374151",color:"#e5e7eb",fontSize:12,borderRadius:6,cursor:"pointer",transition:"all 0.2s"},onMouseEnter:F=>F.target.style.background="#1f2937",onMouseLeave:F=>F.target.style.background="transparent",children:"🆕 Nouveau chat"})]})]})]})]}),a.jsx("div",{children:a.jsx("div",{style:{fontWeight:700,color:"#e5e7eb",fontSize:15},children:"Assistant MaxiMarket"})})]}),a.jsxs("div",{style:{display:"flex",gap:6},children:[a.jsx("button",{onClick:I,title:"Nouveau chat","aria-label":"Nouveau chat",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontWeight:600,fontSize:16},children:"+"}),o&&a.jsx("button",{onClick:()=>E.current?.abort(),title:"Arrêter",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:12,fontWeight:600},children:"⏹"}),a.jsx("button",{onClick:()=>{n(!1),N(!1)},"aria-label":"Fermer",style:{width:32,height:32,border:"1px solid #374151",background:"#0b0f14",color:"#e5e7eb",borderRadius:8,display:"grid",placeItems:"center",fontSize:16,fontWeight:600},children:"×"})]})]}),a.jsxs("div",{ref:A,style:{flex:1,overflowY:"auto",padding:14,paddingBottom:"calc(14px + env(safe-area-inset-bottom, 0px))"},children:[c.length===0&&a.jsxs("div",{style:{fontSize:14,color:"#9ca3af"},children:["Bonjour. Je suis l'assistant Maximarket. Indiquez ce que vous recherchez (catégorie, budget, ville) ou posez votre question.",a.jsx("div",{style:{marginTop:10,display:"flex",flexWrap:"wrap",gap:8},children:[...z(),"Publier une annonce","Services plomberie",e?"Voir mes annonces":"Se connecter"].map((F,H)=>a.jsx("button",{onClick:()=>{F==="Publier une annonce"?q("publish_listing"):F==="Voir mes annonces"?q("my_listings"):F==="Se connecter"?window.location.href="/connexion":s(F)},style:{padding:"6px 10px",border:"1px solid #374151",borderRadius:999,background:"#0e141b",color:"#e5e7eb",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Q=>Q.target.style.background="#1f2937",onMouseLeave:Q=>Q.target.style.background="#0e141b",children:F},H))}),k.listing&&a.jsxs("div",{style:{marginTop:15,paddingTop:15,borderTop:"1px solid #1f2937"},children:[a.jsx("div",{style:{fontSize:12,color:"#6b7280",marginBottom:8},children:"Actions rapides :"}),a.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:6},children:[a.jsx("button",{onClick:()=>q("contact_seller"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Contacter le vendeur"}),a.jsx("button",{onClick:()=>q("share_listing"),style:{padding:"4px 8px",border:"1px solid #374151",borderRadius:6,background:"#0e141b",color:"#e5e7eb",fontSize:12,cursor:"pointer"},children:"Partager"})]})]})]}),c.map((F,H)=>a.jsxs("div",{style:{margin:"10px 0",display:"flex",gap:10,alignItems:"flex-start"},children:[a.jsx("div",{style:{width:28,height:28,borderRadius:"50%",background:F.role==="user"?"#111827":"#0e141b",color:"#e5e7eb",display:"grid",placeItems:"center",fontSize:12,border:"1px solid #1f2937"},children:F.role==="user"?"Vous":"AI"}),a.jsx("div",{style:{whiteSpace:"pre-wrap",background:F.role==="user"?"#0e141b":"#0b0f14",border:"1px solid #1f2937",color:"#e5e7eb",borderRadius:12,padding:"10px 12px",maxWidth:"85%"},children:F.content})]},H)),o&&a.jsx("div",{style:{color:"#9ca3af",fontSize:14},children:"Rédaction..."})]}),a.jsxs("div",{style:{display:"flex",gap:8,padding:12,paddingBottom:"calc(12px + env(safe-area-inset-bottom, 0px))",borderTop:"1px solid #1f2937",background:"#0e141b",borderBottomLeftRadius:16,borderBottomRightRadius:16},children:[a.jsx(dt,{value:i,onChange:F=>s(F.target.value),onKeyDown:F=>{F.key==="Enter"&&O()},placeholder:"Votre message...",style:{background:"#0b0f14",color:"#e5e7eb",borderColor:"#1f2937"}}),a.jsx(me,{onClick:O,disabled:o||!i.trim(),style:{background:"#111827",border:"1px solid #1f2937"},children:"Envoyer"}),y&&a.jsx(me,{variant:"outline",onClick:()=>{const F=c.filter(oe=>oe.role==="user").slice(-1)[0]?.content||"",H=BA(F),Q=new URLSearchParams;H?.params?.search&&Q.set("search",H.params.search),H?.params?.minPrice&&Q.set("minPrice",H.params.minPrice),H?.params?.maxPrice&&Q.set("maxPrice",H.params.maxPrice),H?.params?.location&&Q.set("location",H.params.location),window.location.href=`/marketplace?${Q.toString()}`},style:{border:"1px solid #374151",color:"#e5e7eb"},children:"Voir plus"})]})]})]})]})},Pr={siteName:"MaxiMarket",tagline:"Votre Hub Innovant pour l'Afrique de l'Ouest",socials:{github:"https://github.com/maximarket",linkedin:"https://linkedin.com/company/maximarket",twitter:"https://twitter.com/maximarket",instagram:"https://instagram.com/maximarket",facebook:"https://facebook.com/maximarket",youtube:"https://youtube.com/@maximarket"}},Tye=(t,e,r,n)=>{const i=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);kf(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...i):console?.warn&&console.warn(...i)},IF={},zA=(t,e,r,n)=>{kf(r)&&IF[r]||(kf(r)&&(IF[r]=new Date),Tye(t,e,r,n))},qK=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},qA=(t,e,r)=>{t.loadNamespaces(e,qK(t,r))},LF=(t,e,r,n)=>{if(kf(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return qA(t,r,n);r.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,qK(t,n))},Oye=(t,e,r={})=>!e.languages||!e.languages.length?(zA(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,i)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!i(n.isLanguageChangingTo,t))return!1}}),kf=t=>typeof t=="string",Rye=t=>typeof t=="object"&&t!==null,Mye=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,Iye={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},Lye=t=>Iye[t],Dye=t=>t.replace(Mye,Lye);let UA={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Dye};const $ye=(t={})=>{UA={...UA,...t}},Fye=()=>UA;let UK;const Bye=t=>{UK=t},zye=()=>UK,qye={type:"3rdParty",init(t){$ye(t.options.react),Bye(t)}},VK=b.createContext();class Uye{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const Vye=(t,e)=>{const r=b.useRef();return b.useEffect(()=>{r.current=t},[t,e]),r.current},WK=(t,e,r,n)=>t.getFixedT(e,r,n),Wye=(t,e,r,n)=>b.useCallback(WK(t,e,r,n),[t,e,r,n]),Hye=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:i}=b.useContext(VK)||{},s=r||n||zye();if(s&&!s.reportNamespaces&&(s.reportNamespaces=new Uye),!s){zA(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const A=(k,O)=>kf(O)?O:Rye(O)&&kf(O.defaultValue)?O.defaultValue:Array.isArray(k)?k[k.length-1]:k,E=[A,{},!1];return E.t=A,E.i18n={},E.ready=!1,E}s.options.react?.wait&&zA(s,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...Fye(),...s.options.react,...e},{useSuspense:l,keyPrefix:c}=o;let u=t||i||s.options?.defaultNS;u=kf(u)?[u]:u||["translation"],s.reportNamespaces.addUsedNamespaces?.(u);const d=(s.isInitialized||s.initializedStoreOnce)&&u.every(A=>Oye(A,s,o)),f=Wye(s,e.lng||null,o.nsMode==="fallback"?u:u[0],c),g=()=>f,v=()=>WK(s,e.lng||null,o.nsMode==="fallback"?u:u[0],c),[y,x]=b.useState(g);let _=u.join();e.lng&&(_=`${e.lng}${_}`);const S=Vye(_),C=b.useRef(!0);b.useEffect(()=>{const{bindI18n:A,bindI18nStore:E}=o;C.current=!0,!d&&!l&&(e.lng?LF(s,e.lng,u,()=>{C.current&&x(v)}):qA(s,u,()=>{C.current&&x(v)})),d&&S&&S!==_&&C.current&&x(v);const k=()=>{C.current&&x(v)};return A&&s?.on(A,k),E&&s?.store.on(E,k),()=>{C.current=!1,s&&A&&A?.split(" ").forEach(O=>s.off(O,k)),E&&s&&E.split(" ").forEach(O=>s.store.off(O,k))}},[s,_]),b.useEffect(()=>{C.current&&d&&x(g)},[s,c,d]);const N=[y,s,d];if(N.t=y,N.i18n=s,N.ready=d,d||!d&&!l)return N;throw new Promise(A=>{e.lng?LF(s,e.lng,u,()=>A()):qA(s,u,()=>A())})};function Kye({i18n:t,defaultNS:e,children:r}){const n=b.useMemo(()=>({i18n:t,defaultNS:e}),[t,e]);return b.createElement(VK.Provider,{value:n},r)}const Qf=(t="common")=>{const{t:e,i18n:r}=Hye(t),n=b.useCallback(f=>{r.changeLanguage(f),localStorage.setItem("i18nextLng",f),f==="ar"?(document.documentElement.dir="rtl",document.documentElement.lang="ar"):(document.documentElement.dir="ltr",document.documentElement.lang=f)},[r]),i=r.language,s=["fr","en"],o=b.useMemo(()=>({fr:"Français",en:"English"}),[]),l=!1,c=b.useCallback((f,g="XOF")=>{const y={fr:{XOF:"XOF",EUR:"EUR"},en:{XOF:"XOF",EUR:"EUR",USD:"USD"}}[i]?.[g]||g;return new Intl.NumberFormat(i,{style:"currency",currency:y,minimumFractionDigits:0,maximumFractionDigits:0}).format(f)},[i]),u=b.useCallback((f,g="PP")=>{const y={fr:"fr-FR",en:"en-US"}[i]||"fr-FR";return g==="PP"?new Intl.DateTimeFormat(y,{year:"numeric",month:"long",day:"numeric"}).format(new Date(f)):g==="P"?new Intl.DateTimeFormat(y,{year:"numeric",month:"short",day:"numeric"}).format(new Date(f)):new Intl.DateTimeFormat(y).format(new Date(f))},[i]),d=b.useCallback(f=>{const g=new Date,v=new Date(f),y=Math.floor((g-v)/1e3),x={year:31536e3,month:2592e3,week:604800,day:86400,hour:3600,minute:60};for(const[_,S]of Object.entries(x)){const C=Math.floor(y/S);if(C>=1){const A={fr:{year:C===1?"an":"ans",month:"mois",week:C===1?"semaine":"semaines",day:C===1?"jour":"jours",hour:C===1?"heure":"heures",minute:C===1?"minute":"minutes"},en:{year:C===1?"year":"years",month:C===1?"month":"months",week:C===1?"week":"weeks",day:C===1?"day":"days",hour:C===1?"hour":"hours",minute:C===1?"minute":"minutes"}}[i]?.[_]||_,E={fr:"il y a",en:"ago"}[i]||"";return`${C} ${A} ${E}`}}return{fr:"À l'instant",en:"Just now"}[i]||"Just now"},[i]);return{t:e,changeLanguage:n,currentLanguage:i,availableLanguages:s,languageNames:o,isRTL:l,formatCurrency:c,formatDate:u,formatDistanceToNow:d}};var Gye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],br=Gye.reduce((t,e)=>{const r=Wp(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function xM(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}function bM(t){const e=t+"CollectionProvider",[r,n]=sn(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,C=re.useRef(null),N=re.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:N,collectionRef:C,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=Wp(l),u=re.forwardRef((x,_)=>{const{scope:S,children:C}=x,N=s(l,S),A=vt(_,N.collectionRef);return a.jsx(c,{ref:A,children:C})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=Wp(d),v=re.forwardRef((x,_)=>{const{scope:S,children:C,...N}=x,A=re.useRef(null),E=vt(_,A),k=s(d,S);return re.useEffect(()=>(k.itemMap.set(A,{ref:A,...N}),()=>void k.itemMap.delete(A))),a.jsx(g,{[f]:"",ref:E,children:C})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return re.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((k,O)=>N.indexOf(k.ref.current)-N.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}function rx(t,e=globalThis?.document){const r=Tr(t);b.useEffect(()=>{const n=i=>{i.key==="Escape"&&r(i)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var Zye="DismissableLayer",VA="dismissableLayer.update",Yye="dismissableLayer.pointerDownOutside",Xye="dismissableLayer.focusOutside",DF,HK=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),o1=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(HK),[d,f]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=vt(e,O=>f(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),C=d?x.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,A=C>=S,E=Qye(O=>{const I=O.target,z=[...u.branches].some(W=>W.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=exe(O=>{const I=O.target;[...u.branches].some(W=>W.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return rx(O=>{C===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(DF=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),$F(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=DF)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),$F())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(VA,O),()=>document.removeEventListener(VA,O)},[]),a.jsx(br.div,{...c,ref:y,style:{pointerEvents:N?A?"auto":"none":void 0,...t.style},onFocusCapture:Qe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Qe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Qe(t.onPointerDownCapture,E.onPointerDownCapture)})});o1.displayName=Zye;var Jye="DismissableLayerBranch",KK=b.forwardRef((t,e)=>{const r=b.useContext(HK),n=b.useRef(null),i=vt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(br.div,{...t,ref:i})});KK.displayName=Jye;function Qye(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){GK(Yye,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function exe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&GK(Xye,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function $F(){const t=new CustomEvent(VA);document.dispatchEvent(t)}function GK(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?xM(i,s):i.dispatchEvent(s)}var txe=o1,rxe=KK,UC=0;function wM(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??FF()),document.body.insertAdjacentElement("beforeend",t[1]??FF()),UC++,()=>{UC===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),UC--}},[])}function FF(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var VC="focusScope.autoFocusOnMount",WC="focusScope.autoFocusOnUnmount",BF={bubbles:!1,cancelable:!0},nxe="FocusScope",_M=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=b.useState(null),u=Tr(i),d=Tr(s),f=b.useRef(null),g=vt(e,x=>c(x)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let x=function(N){if(v.paused||!l)return;const A=N.target;l.contains(A)?f.current=A:Uu(f.current,{select:!0})},_=function(N){if(v.paused||!l)return;const A=N.relatedTarget;A!==null&&(l.contains(A)||Uu(f.current,{select:!0}))},S=function(N){if(document.activeElement===document.body)for(const E of N)E.removedNodes.length>0&&Uu(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const C=new MutationObserver(S);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),C.disconnect()}}},[n,l,v.paused]),b.useEffect(()=>{if(l){qF.add(v);const x=document.activeElement;if(!l.contains(x)){const S=new CustomEvent(VC,BF);l.addEventListener(VC,u),l.dispatchEvent(S),S.defaultPrevented||(ixe(cxe(ZK(l)),{select:!0}),document.activeElement===x&&Uu(l))}return()=>{l.removeEventListener(VC,u),setTimeout(()=>{const S=new CustomEvent(WC,BF);l.addEventListener(WC,d),l.dispatchEvent(S),S.defaultPrevented||Uu(x??document.body,{select:!0}),l.removeEventListener(WC,d),qF.remove(v)},0)}}},[l,u,d,v]);const y=b.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const C=x.currentTarget,[N,A]=sxe(C);N&&A?!x.shiftKey&&S===A?(x.preventDefault(),r&&Uu(N,{select:!0})):x.shiftKey&&S===N&&(x.preventDefault(),r&&Uu(A,{select:!0})):S===C&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(br.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});_M.displayName=nxe;function ixe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Uu(n,{select:e}),document.activeElement!==r)return}function sxe(t){const e=ZK(t),r=zF(e,t),n=zF(e.reverse(),t);return[r,n]}function ZK(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function zF(t,e){for(const r of t)if(!axe(r,{upTo:e}))return r}function axe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function oxe(t){return t instanceof HTMLInputElement&&"select"in t}function Uu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&oxe(t)&&e&&t.select()}}var qF=lxe();function lxe(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=UF(t,e),t.unshift(e)},remove(e){t=UF(t,e),t[0]?.resume()}}}function UF(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function cxe(t){return t.filter(e=>e.tagName!=="A")}const uxe=["top","right","bottom","left"],pd=Math.min,ca=Math.max,pw=Math.round,X0=Math.floor,yl=t=>({x:t,y:t}),dxe={left:"right",right:"left",bottom:"top",top:"bottom"},fxe={start:"end",end:"start"};function WA(t,e,r){return ca(t,pd(e,r))}function Fc(t,e){return typeof t=="function"?t(e):t}function Bc(t){return t.split("-")[0]}function Rm(t){return t.split("-")[1]}function SM(t){return t==="x"?"y":"x"}function jM(t){return t==="y"?"height":"width"}function Ec(t){return["top","bottom"].includes(Bc(t))?"y":"x"}function CM(t){return SM(Ec(t))}function hxe(t,e,r){r===void 0&&(r=!1);const n=Rm(t),i=CM(t),s=jM(i);let o=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mw(o)),[o,mw(o)]}function pxe(t){const e=mw(t);return[HA(t),e,HA(e)]}function HA(t){return t.replace(/start|end/g,e=>fxe[e])}function mxe(t,e,r){const n=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return r?e?i:n:e?n:i;case"left":case"right":return e?s:o;default:return[]}}function gxe(t,e,r,n){const i=Rm(t);let s=mxe(Bc(t),r==="start",n);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(HA)))),s}function mw(t){return t.replace(/left|right|bottom|top/g,e=>dxe[e])}function vxe(t){return{top:0,right:0,bottom:0,left:0,...t}}function YK(t){return typeof t!="number"?vxe(t):{top:t,right:t,bottom:t,left:t}}function gw(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function VF(t,e,r){let{reference:n,floating:i}=t;const s=Ec(e),o=CM(e),l=jM(o),c=Bc(e),u=s==="y",d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,g=n[l]/2-i[l]/2;let v;switch(c){case"top":v={x:d,y:n.y-i.height};break;case"bottom":v={x:d,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-i.width,y:f};break;default:v={x:n.x,y:n.y}}switch(Rm(e)){case"start":v[o]-=g*(r&&u?-1:1);break;case"end":v[o]+=g*(r&&u?-1:1);break}return v}const yxe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:d,y:f}=VF(u,n,c),g=n,v={},y=0;for(let x=0;x<l.length;x++){const{name:_,fn:S}=l[x],{x:C,y:N,data:A,reset:E}=await S({x:d,y:f,initialPlacement:n,placement:g,strategy:i,middlewareData:v,rects:u,platform:o,elements:{reference:t,floating:e}});d=C??d,f=N??f,v={...v,[_]:{...v[_],...A}},E&&y<=50&&(y++,typeof E=="object"&&(E.placement&&(g=E.placement),E.rects&&(u=E.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:d,y:f}=VF(u,g,c)),x=-1)}return{x:d,y:f,placement:g,strategy:i,middlewareData:v}};async function Kv(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:f="floating",altBoundary:g=!1,padding:v=0}=Fc(e,t),y=YK(v),_=l[g?f==="floating"?"reference":"floating":f],S=gw(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(_)))==null||r?_:_.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:d,strategy:c})),C=f==="floating"?{x:n,y:i,width:o.floating.width,height:o.floating.height}:o.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},E=gw(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:C,offsetParent:N,strategy:c}):C);return{top:(S.top-E.top+y.top)/A.y,bottom:(E.bottom-S.bottom+y.bottom)/A.y,left:(S.left-E.left+y.left)/A.x,right:(E.right-S.right+y.right)/A.x}}const xxe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:i,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:d=0}=Fc(t,e)||{};if(u==null)return{};const f=YK(d),g={x:r,y:n},v=CM(i),y=jM(v),x=await o.getDimensions(u),_=v==="y",S=_?"top":"left",C=_?"bottom":"right",N=_?"clientHeight":"clientWidth",A=s.reference[y]+s.reference[v]-g[v]-s.floating[y],E=g[v]-s.reference[v],k=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let O=k?k[N]:0;(!O||!await(o.isElement==null?void 0:o.isElement(k)))&&(O=l.floating[N]||s.floating[y]);const I=A/2-E/2,z=O/2-x[y]/2-1,W=pd(f[S],z),V=pd(f[C],z),q=W,F=O-x[y]-V,H=O/2-x[y]/2+I,Q=WA(q,H,F),oe=!c.arrow&&Rm(i)!=null&&H!==Q&&s.reference[y]/2-(H<q?W:V)-x[y]/2<0,K=oe?H<q?H-q:H-F:0;return{[v]:g[v]+K,data:{[v]:Q,centerOffset:H-Q-K,...oe&&{alignmentOffset:K}},reset:oe}}}),bxe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:d=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:x=!0,..._}=Fc(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const S=Bc(i),C=Ec(l),N=Bc(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),E=g||(N||!x?[mw(l)]:pxe(l)),k=y!=="none";!g&&k&&E.push(...gxe(l,x,y,A));const O=[l,...E],I=await Kv(e,_),z=[];let W=((n=s.flip)==null?void 0:n.overflows)||[];if(d&&z.push(I[S]),f){const Q=hxe(i,o,A);z.push(I[Q[0]],I[Q[1]])}if(W=[...W,{placement:i,overflows:z}],!z.every(Q=>Q<=0)){var V,q;const Q=(((V=s.flip)==null?void 0:V.index)||0)+1,oe=O[Q];if(oe){var F;const te=f==="alignment"?C!==Ec(oe):!1,Z=((F=W[0])==null?void 0:F.overflows[0])>0;if(!te||Z)return{data:{index:Q,overflows:W},reset:{placement:oe}}}let K=(q=W.filter(te=>te.overflows[0]<=0).sort((te,Z)=>te.overflows[1]-Z.overflows[1])[0])==null?void 0:q.placement;if(!K)switch(v){case"bestFit":{var H;const te=(H=W.filter(Z=>{if(k){const se=Ec(Z.placement);return se===C||se==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(se=>se>0).reduce((se,X)=>se+X,0)]).sort((Z,se)=>Z[1]-se[1])[0])==null?void 0:H[0];te&&(K=te);break}case"initialPlacement":K=l;break}if(i!==K)return{reset:{placement:K}}}return{}}}};function WF(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function HF(t){return uxe.some(e=>t[e]>=0)}const wxe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...i}=Fc(t,e);switch(n){case"referenceHidden":{const s=await Kv(e,{...i,elementContext:"reference"}),o=WF(s,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:HF(o)}}}case"escaped":{const s=await Kv(e,{...i,altBoundary:!0}),o=WF(s,r.floating);return{data:{escapedOffsets:o,escaped:HF(o)}}}default:return{}}}}};async function _xe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),o=Bc(r),l=Rm(r),c=Ec(r)==="y",u=["left","top"].includes(o)?-1:1,d=s&&c?-1:1,f=Fc(e,t);let{mainAxis:g,crossAxis:v,alignmentAxis:y}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return l&&typeof y=="number"&&(v=l==="end"?y*-1:y),c?{x:v*d,y:g*u}:{x:g*u,y:v*d}}const Sxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:o,middlewareData:l}=e,c=await _xe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:o}}}}},jxe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:l={fn:_=>{let{x:S,y:C}=_;return{x:S,y:C}}},...c}=Fc(t,e),u={x:r,y:n},d=await Kv(e,c),f=Ec(Bc(i)),g=SM(f);let v=u[g],y=u[f];if(s){const _=g==="y"?"top":"left",S=g==="y"?"bottom":"right",C=v+d[_],N=v-d[S];v=WA(C,v,N)}if(o){const _=f==="y"?"top":"left",S=f==="y"?"bottom":"right",C=y+d[_],N=y-d[S];y=WA(C,y,N)}const x=l.fn({...e,[g]:v,[f]:y});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[g]:s,[f]:o}}}}}},Cxe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:i,rects:s,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:u=!0}=Fc(t,e),d={x:r,y:n},f=Ec(i),g=SM(f);let v=d[g],y=d[f];const x=Fc(l,e),_=typeof x=="number"?{mainAxis:x,crossAxis:0}:{mainAxis:0,crossAxis:0,...x};if(c){const N=g==="y"?"height":"width",A=s.reference[g]-s.floating[N]+_.mainAxis,E=s.reference[g]+s.reference[N]-_.mainAxis;v<A?v=A:v>E&&(v=E)}if(u){var S,C;const N=g==="y"?"width":"height",A=["top","left"].includes(Bc(i)),E=s.reference[f]-s.floating[N]+(A&&((S=o.offset)==null?void 0:S[f])||0)+(A?0:_.crossAxis),k=s.reference[f]+s.reference[N]+(A?0:((C=o.offset)==null?void 0:C[f])||0)-(A?_.crossAxis:0);y<E?y=E:y>k&&(y=k)}return{[g]:v,[f]:y}}}},Nxe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:o,elements:l}=e,{apply:c=()=>{},...u}=Fc(t,e),d=await Kv(e,u),f=Bc(i),g=Rm(i),v=Ec(i)==="y",{width:y,height:x}=s.floating;let _,S;f==="top"||f==="bottom"?(_=f,S=g===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(S=f,_=g==="end"?"top":"bottom");const C=x-d.top-d.bottom,N=y-d.left-d.right,A=pd(x-d[_],C),E=pd(y-d[S],N),k=!e.middlewareData.shift;let O=A,I=E;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(I=N),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(O=C),k&&!g){const W=ca(d.left,0),V=ca(d.right,0),q=ca(d.top,0),F=ca(d.bottom,0);v?I=y-2*(W!==0||V!==0?W+V:ca(d.left,d.right)):O=x-2*(q!==0||F!==0?q+F:ca(d.top,d.bottom))}await c({...e,availableWidth:I,availableHeight:O});const z=await o.getDimensions(l.floating);return y!==z.width||x!==z.height?{reset:{rects:!0}}:{}}}};function l1(){return typeof window<"u"}function Mm(t){return XK(t)?(t.nodeName||"").toLowerCase():"#document"}function pa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ol(t){var e;return(e=(XK(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XK(t){return l1()?t instanceof Node||t instanceof pa(t).Node:!1}function Io(t){return l1()?t instanceof Element||t instanceof pa(t).Element:!1}function jl(t){return l1()?t instanceof HTMLElement||t instanceof pa(t).HTMLElement:!1}function KF(t){return!l1()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pa(t).ShadowRoot}function nx(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=Lo(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!["inline","contents"].includes(i)}function Exe(t){return["table","td","th"].includes(Mm(t))}function c1(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function NM(t){const e=EM(),r=Io(t)?Lo(t):t;return["transform","translate","scale","rotate","perspective"].some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(n=>(r.willChange||"").includes(n))||["paint","layout","strict","content"].some(n=>(r.contain||"").includes(n))}function Pxe(t){let e=md(t);for(;jl(e)&&!Hp(e);){if(NM(e))return e;if(c1(e))return null;e=md(e)}return null}function EM(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Hp(t){return["html","body","#document"].includes(Mm(t))}function Lo(t){return pa(t).getComputedStyle(t)}function u1(t){return Io(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function md(t){if(Mm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||KF(t)&&t.host||Ol(t);return KF(e)?e.host:e}function JK(t){const e=md(t);return Hp(e)?t.ownerDocument?t.ownerDocument.body:t.body:jl(e)&&nx(e)?e:JK(e)}function Gv(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=JK(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),o=pa(i);if(s){const l=KA(o);return e.concat(o,o.visualViewport||[],nx(i)?i:[],l&&r?Gv(l):[])}return e.concat(i,Gv(i,[],r))}function KA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function QK(t){const e=Lo(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=jl(t),s=i?t.offsetWidth:r,o=i?t.offsetHeight:n,l=pw(r)!==s||pw(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function PM(t){return Io(t)?t:t.contextElement}function Ep(t){const e=PM(t);if(!jl(e))return yl(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=QK(e);let o=(s?pw(r.width):r.width)/n,l=(s?pw(r.height):r.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const kxe=yl(0);function eG(t){const e=pa(t);return!EM()||!e.visualViewport?kxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Axe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==pa(t)?!1:e}function $f(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=PM(t);let o=yl(1);e&&(n?Io(n)&&(o=Ep(n)):o=Ep(t));const l=Axe(s,r,n)?eG(s):yl(0);let c=(i.left+l.x)/o.x,u=(i.top+l.y)/o.y,d=i.width/o.x,f=i.height/o.y;if(s){const g=pa(s),v=n&&Io(n)?pa(n):n;let y=g,x=KA(y);for(;x&&n&&v!==y;){const _=Ep(x),S=x.getBoundingClientRect(),C=Lo(x),N=S.left+(x.clientLeft+parseFloat(C.paddingLeft))*_.x,A=S.top+(x.clientTop+parseFloat(C.paddingTop))*_.y;c*=_.x,u*=_.y,d*=_.x,f*=_.y,c+=N,u+=A,y=pa(x),x=KA(y)}}return gw({width:d,height:f,x:c,y:u})}function kM(t,e){const r=u1(t).scrollLeft;return e?e.left+r:$f(Ol(t)).left+r}function tG(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),i=n.left+e.scrollLeft-(r?0:kM(t,n)),s=n.top+e.scrollTop;return{x:i,y:s}}function Txe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",o=Ol(n),l=e?c1(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=yl(1);const d=yl(0),f=jl(n);if((f||!f&&!s)&&((Mm(n)!=="body"||nx(o))&&(c=u1(n)),jl(n))){const v=$f(n);u=Ep(n),d.x=v.x+n.clientLeft,d.y=v.y+n.clientTop}const g=o&&!f&&!s?tG(o,c,!0):yl(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+d.x+g.x,y:r.y*u.y-c.scrollTop*u.y+d.y+g.y}}function Oxe(t){return Array.from(t.getClientRects())}function Rxe(t){const e=Ol(t),r=u1(t),n=t.ownerDocument.body,i=ca(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=ca(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+kM(t);const l=-r.scrollTop;return Lo(n).direction==="rtl"&&(o+=ca(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:o,y:l}}function Mxe(t,e){const r=pa(t),n=Ol(t),i=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(i){s=i.width,o=i.height;const u=EM();(!u||u&&e==="fixed")&&(l=i.offsetLeft,c=i.offsetTop)}return{width:s,height:o,x:l,y:c}}function Ixe(t,e){const r=$f(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=jl(t)?Ep(t):yl(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=i*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function GF(t,e,r){let n;if(e==="viewport")n=Mxe(t,r);else if(e==="document")n=Rxe(Ol(t));else if(Io(e))n=Ixe(e,r);else{const i=eG(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return gw(n)}function rG(t,e){const r=md(t);return r===e||!Io(r)||Hp(r)?!1:Lo(r).position==="fixed"||rG(r,e)}function Lxe(t,e){const r=e.get(t);if(r)return r;let n=Gv(t,[],!1).filter(l=>Io(l)&&Mm(l)!=="body"),i=null;const s=Lo(t).position==="fixed";let o=s?md(t):t;for(;Io(o)&&!Hp(o);){const l=Lo(o),c=NM(o);!c&&l.position==="fixed"&&(i=null),(s?!c&&!i:!c&&l.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||nx(o)&&!c&&rG(t,o))?n=n.filter(d=>d!==o):i=l,o=md(o)}return e.set(t,n),n}function Dxe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const o=[...r==="clippingAncestors"?c1(e)?[]:Lxe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,d)=>{const f=GF(e,d,i);return u.top=ca(f.top,u.top),u.right=pd(f.right,u.right),u.bottom=pd(f.bottom,u.bottom),u.left=ca(f.left,u.left),u},GF(e,l,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function $xe(t){const{width:e,height:r}=QK(t);return{width:e,height:r}}function Fxe(t,e,r){const n=jl(e),i=Ol(e),s=r==="fixed",o=$f(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=yl(0);function u(){c.x=kM(i)}if(n||!n&&!s)if((Mm(e)!=="body"||nx(i))&&(l=u1(e)),n){const v=$f(e,!0,s,e);c.x=v.x+e.clientLeft,c.y=v.y+e.clientTop}else i&&u();s&&!n&&i&&u();const d=i&&!n&&!s?tG(i,l):yl(0),f=o.left+l.scrollLeft-c.x-d.x,g=o.top+l.scrollTop-c.y-d.y;return{x:f,y:g,width:o.width,height:o.height}}function HC(t){return Lo(t).position==="static"}function ZF(t,e){if(!jl(t)||Lo(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ol(t)===r&&(r=r.ownerDocument.body),r}function nG(t,e){const r=pa(t);if(c1(t))return r;if(!jl(t)){let i=md(t);for(;i&&!Hp(i);){if(Io(i)&&!HC(i))return i;i=md(i)}return r}let n=ZF(t,e);for(;n&&Exe(n)&&HC(n);)n=ZF(n,e);return n&&Hp(n)&&HC(n)&&!NM(n)?r:n||Pxe(t)||r}const Bxe=async function(t){const e=this.getOffsetParent||nG,r=this.getDimensions,n=await r(t.floating);return{reference:Fxe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function zxe(t){return Lo(t).direction==="rtl"}const qxe={convertOffsetParentRelativeRectToViewportRelativeRect:Txe,getDocumentElement:Ol,getClippingRect:Dxe,getOffsetParent:nG,getElementRects:Bxe,getClientRects:Oxe,getDimensions:$xe,getScale:Ep,isElement:Io,isRTL:zxe};function iG(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Uxe(t,e){let r=null,n;const i=Ol(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:d,top:f,width:g,height:v}=u;if(l||e(),!g||!v)return;const y=X0(f),x=X0(i.clientWidth-(d+g)),_=X0(i.clientHeight-(f+v)),S=X0(d),N={rootMargin:-y+"px "+-x+"px "+-_+"px "+-S+"px",threshold:ca(0,pd(1,c))||1};let A=!0;function E(k){const O=k[0].intersectionRatio;if(O!==c){if(!A)return o();O?o(!1,O):n=setTimeout(()=>{o(!1,1e-7)},1e3)}O===1&&!iG(u,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(E,{...N,root:i.ownerDocument})}catch{r=new IntersectionObserver(E,N)}r.observe(t)}return o(!0),s}function ix(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=PM(t),d=i||s?[...u?Gv(u):[],...Gv(e)]:[];d.forEach(S=>{i&&S.addEventListener("scroll",r,{passive:!0}),s&&S.addEventListener("resize",r)});const f=u&&l?Uxe(u,r):null;let g=-1,v=null;o&&(v=new ResizeObserver(S=>{let[C]=S;C&&C.target===u&&v&&(v.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var N;(N=v)==null||N.observe(e)})),r()}),u&&!c&&v.observe(u),v.observe(e));let y,x=c?$f(t):null;c&&_();function _(){const S=$f(t);x&&!iG(x,S)&&r(),x=S,y=requestAnimationFrame(_)}return r(),()=>{var S;d.forEach(C=>{i&&C.removeEventListener("scroll",r),s&&C.removeEventListener("resize",r)}),f?.(),(S=v)==null||S.disconnect(),v=null,c&&cancelAnimationFrame(y)}}const Vxe=Sxe,Wxe=jxe,Hxe=bxe,Kxe=Nxe,Gxe=wxe,YF=xxe,Zxe=Cxe,Yxe=(t,e,r)=>{const n=new Map,i={platform:qxe,...r},s={...i.platform,_c:n};return yxe(t,e,{...i,platform:s})};var Db=typeof document<"u"?b.useLayoutEffect:b.useEffect;function vw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!vw(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!vw(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function sG(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function XF(t,e){const r=sG(t);return Math.round(e*r)/r}function KC(t){const e=b.useRef(t);return Db(()=>{e.current=t}),e}function sx(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[d,f]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,v]=b.useState(n);vw(g,n)||v(n);const[y,x]=b.useState(null),[_,S]=b.useState(null),C=b.useCallback(te=>{te!==k.current&&(k.current=te,x(te))},[]),N=b.useCallback(te=>{te!==O.current&&(O.current=te,S(te))},[]),A=s||y,E=o||_,k=b.useRef(null),O=b.useRef(null),I=b.useRef(d),z=c!=null,W=KC(c),V=KC(i),q=KC(u),F=b.useCallback(()=>{if(!k.current||!O.current)return;const te={placement:e,strategy:r,middleware:g};V.current&&(te.platform=V.current),Yxe(k.current,O.current,te).then(Z=>{const se={...Z,isPositioned:q.current!==!1};H.current&&!vw(I.current,se)&&(I.current=se,Do.flushSync(()=>{f(se)}))})},[g,e,r,V,q]);Db(()=>{u===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(te=>({...te,isPositioned:!1})))},[u]);const H=b.useRef(!1);Db(()=>(H.current=!0,()=>{H.current=!1}),[]),Db(()=>{if(A&&(k.current=A),E&&(O.current=E),A&&E){if(W.current)return W.current(A,E,F);F()}},[A,E,F,W,z]);const Q=b.useMemo(()=>({reference:k,floating:O,setReference:C,setFloating:N}),[C,N]),oe=b.useMemo(()=>({reference:A,floating:E}),[A,E]),K=b.useMemo(()=>{const te={position:r,left:0,top:0};if(!oe.floating)return te;const Z=XF(oe.floating,d.x),se=XF(oe.floating,d.y);return l?{...te,transform:"translate("+Z+"px, "+se+"px)",...sG(oe.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:se}},[r,l,oe.floating,d.x,d.y]);return b.useMemo(()=>({...d,update:F,refs:Q,elements:oe,floatingStyles:K}),[d,F,Q,oe,K])}const Xxe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:i}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?YF({element:n.current,padding:i}).fn(r):{}:n?YF({element:n,padding:i}).fn(r):{}}}},ax=(t,e)=>({...Vxe(t),options:[t,e]}),ox=(t,e)=>({...Wxe(t),options:[t,e]}),lx=(t,e)=>({...Zxe(t),options:[t,e]}),cx=(t,e)=>({...Hxe(t),options:[t,e]}),ux=(t,e)=>({...Kxe(t),options:[t,e]}),dx=(t,e)=>({...Gxe(t),options:[t,e]}),fx=(t,e)=>({...Xxe(t),options:[t,e]});var Jxe="Arrow",aG=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(br.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});aG.displayName=Jxe;var Qxe=aG;function eh(t){const[e,r]=b.useState(void 0);return Cr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,l;if("borderBoxSize"in s){const c=s.borderBoxSize,u=Array.isArray(c)?c[0]:c;o=u.inlineSize,l=u.blockSize}else o=t.offsetWidth,l=t.offsetHeight;r({width:o,height:l})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var AM="Popper",[oG,lG]=sn(AM),[e0e,cG]=oG(AM),uG=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return a.jsx(e0e,{scope:e,anchor:n,onAnchorChange:i,children:r})};uG.displayName=AM;var dG="PopperAnchor",fG=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=cG(dG,r),o=b.useRef(null),l=vt(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(br.div,{...i,ref:l})});fG.displayName=dG;var TM="PopperContent",[t0e,r0e]=oG(TM),hG=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=cG(TM,r),[S,C]=b.useState(null),N=vt(e,ue=>C(ue)),[A,E]=b.useState(null),k=eh(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],q=V.length>0,F={padding:W,boundary:V.filter(i0e),altBoundary:q},{refs:H,floatingStyles:Q,placement:oe,isPositioned:K,middlewareData:te}=sx({strategy:"fixed",placement:z,whileElementsMounted:(...ue)=>ix(...ue,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[ax({mainAxis:i+I,alignmentAxis:o}),c&&ox({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lx():void 0,...F}),c&&cx({...F}),ux({...F,apply:({elements:ue,rects:_e,availableWidth:ye,availableHeight:Ie})=>{const{width:ne,height:J}=_e.reference,Ee=ue.floating.style;Ee.setProperty("--radix-popper-available-width",`${ye}px`),Ee.setProperty("--radix-popper-available-height",`${Ie}px`),Ee.setProperty("--radix-popper-anchor-width",`${ne}px`),Ee.setProperty("--radix-popper-anchor-height",`${J}px`)}}),A&&fx({element:A,padding:l}),s0e({arrowWidth:O,arrowHeight:I}),g&&dx({strategy:"referenceHidden",...F})]}),[Z,se]=gG(oe),X=Tr(y);Cr(()=>{K&&X?.()},[K,X]);const ce=te.arrow?.x,je=te.arrow?.y,Te=te.arrow?.centerOffset!==0,[qe,pe]=b.useState();return Cr(()=>{S&&pe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:K?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(t0e,{scope:r,placedSide:Z,onArrowChange:E,arrowX:ce,arrowY:je,shouldHideArrow:Te,children:a.jsx(br.div,{"data-side":Z,"data-align":se,...x,ref:N,style:{...x.style,animation:K?void 0:"none"}})})})});hG.displayName=TM;var pG="PopperArrow",n0e={top:"bottom",right:"left",bottom:"top",left:"right"},mG=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=r0e(pG,n),o=n0e[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(Qxe,{...i,ref:r,style:{...i.style,display:"block"}})})});mG.displayName=pG;function i0e(t){return t!==null}var s0e=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=gG(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${g}px`,x=`${-c}px`):u==="top"?(y=o?f:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:y,y:x}}}});function gG(t){const[e,r="center"]=t.split("-");return[e,r]}var a0e=uG,o0e=fG,l0e=hG,c0e=mG,u0e="Portal",d1=b.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=b.useState(!1);Cr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?z_.createPortal(a.jsx(br.div,{...n,ref:e}),o):null});d1.displayName=u0e;var GC="rovingFocusGroup.onEntryFocus",d0e={bubbles:!1,cancelable:!0},hx="RovingFocusGroup",[GA,vG,f0e]=bM(hx),[h0e,yG]=sn(hx,[f0e]),[p0e,m0e]=h0e(hx),xG=b.forwardRef((t,e)=>a.jsx(GA.Provider,{scope:t.__scopeRovingFocusGroup,children:a.jsx(GA.Slot,{scope:t.__scopeRovingFocusGroup,children:a.jsx(g0e,{...t,ref:e})})}));xG.displayName=hx;var g0e=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:l,onCurrentTabStopIdChange:c,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...f}=t,g=b.useRef(null),v=vt(e,g),y=Om(s),[x,_]=Vs({prop:o,defaultProp:l??null,onChange:c,caller:hx}),[S,C]=b.useState(!1),N=Tr(u),A=vG(r),E=b.useRef(!1),[k,O]=b.useState(0);return b.useEffect(()=>{const I=g.current;if(I)return I.addEventListener(GC,N),()=>I.removeEventListener(GC,N)},[N]),a.jsx(p0e,{scope:r,orientation:n,dir:y,loop:i,currentTabStopId:x,onItemFocus:b.useCallback(I=>_(I),[_]),onItemShiftTab:b.useCallback(()=>C(!0),[]),onFocusableItemAdd:b.useCallback(()=>O(I=>I+1),[]),onFocusableItemRemove:b.useCallback(()=>O(I=>I-1),[]),children:a.jsx(br.div,{tabIndex:S||k===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:Qe(t.onMouseDown,()=>{E.current=!0}),onFocus:Qe(t.onFocus,I=>{const z=!E.current;if(I.target===I.currentTarget&&z&&!S){const W=new CustomEvent(GC,d0e);if(I.currentTarget.dispatchEvent(W),!W.defaultPrevented){const V=A().filter(oe=>oe.focusable),q=V.find(oe=>oe.active),F=V.find(oe=>oe.id===x),Q=[q,F,...V].filter(Boolean).map(oe=>oe.ref.current);_G(Q,d)}}E.current=!1}),onBlur:Qe(t.onBlur,()=>C(!1))})})}),bG="RovingFocusGroupItem",wG=b.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:i=!1,tabStopId:s,children:o,...l}=t,c=zs(),u=s||c,d=m0e(bG,r),f=d.currentTabStopId===u,g=vG(r),{onFocusableItemAdd:v,onFocusableItemRemove:y,currentTabStopId:x}=d;return b.useEffect(()=>{if(n)return v(),()=>y()},[n,v,y]),a.jsx(GA.ItemSlot,{scope:r,id:u,focusable:n,active:i,children:a.jsx(br.span,{tabIndex:f?0:-1,"data-orientation":d.orientation,...l,ref:e,onMouseDown:Qe(t.onMouseDown,_=>{n?d.onItemFocus(u):_.preventDefault()}),onFocus:Qe(t.onFocus,()=>d.onItemFocus(u)),onKeyDown:Qe(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){d.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const S=x0e(_,d.orientation,d.dir);if(S!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let N=g().filter(A=>A.focusable).map(A=>A.ref.current);if(S==="last")N.reverse();else if(S==="prev"||S==="next"){S==="prev"&&N.reverse();const A=N.indexOf(_.currentTarget);N=d.loop?b0e(N,A+1):N.slice(A+1)}setTimeout(()=>_G(N))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:x!=null}):o})})});wG.displayName=bG;var v0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function y0e(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function x0e(t,e,r){const n=y0e(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return v0e[n]}function _G(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function b0e(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var w0e=xG,_0e=wG,S0e=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Xh=new WeakMap,J0=new WeakMap,Q0={},ZC=0,SG=function(t){return t&&(t.host||SG(t.parentNode))},j0e=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=SG(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},C0e=function(t,e,r,n){var i=j0e(e,Array.isArray(t)?t:[t]);Q0[r]||(Q0[r]=new WeakMap);var s=Q0[r],o=[],l=new Set,c=new Set(i),u=function(f){!f||l.has(f)||(l.add(f),u(f.parentNode))};i.forEach(u);var d=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(g){if(l.has(g))d(g);else try{var v=g.getAttribute(n),y=v!==null&&v!=="false",x=(Xh.get(g)||0)+1,_=(s.get(g)||0)+1;Xh.set(g,x),s.set(g,_),o.push(g),x===1&&y&&J0.set(g,!0),_===1&&g.setAttribute(r,"true"),y||g.setAttribute(n,"true")}catch(S){console.error("aria-hidden: cannot operate on ",g,S)}})};return d(e),l.clear(),ZC++,function(){o.forEach(function(f){var g=Xh.get(f)-1,v=s.get(f)-1;Xh.set(f,g),s.set(f,v),g||(J0.has(f)||f.removeAttribute(n),J0.delete(f)),v||f.removeAttribute(r)}),ZC--,ZC||(Xh=new WeakMap,Xh=new WeakMap,J0=new WeakMap,Q0={})}},f1=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),i=S0e(t);return i?(n.push.apply(n,Array.from(i.querySelectorAll("[aria-live]"))),C0e(n,i,r,"aria-hidden")):function(){return null}},cl=function(){return cl=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},cl.apply(this,arguments)};function jG(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function N0e(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var $b="right-scroll-bar-position",Fb="width-before-scroll-bar",E0e="with-scroll-bars-hidden",P0e="--removed-body-scroll-bar-size";function YC(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function k0e(t,e){var r=b.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var i=r.value;i!==n&&(r.value=n,r.callback(n,i))}}}})[0];return r.callback=e,r.facade}var A0e=typeof window<"u"?b.useLayoutEffect:b.useEffect,JF=new WeakMap;function T0e(t,e){var r=k0e(null,function(n){return t.forEach(function(i){return YC(i,n)})});return A0e(function(){var n=JF.get(r);if(n){var i=new Set(n),s=new Set(t),o=r.current;i.forEach(function(l){s.has(l)||YC(l,null)}),s.forEach(function(l){i.has(l)||YC(l,o)})}JF.set(r,t)},[t]),r}function O0e(t){return t}function R0e(t,e){e===void 0&&(e=O0e);var r=[],n=!1,i={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(s){var o=e(s,n);return r.push(o),function(){r=r.filter(function(l){return l!==o})}},assignSyncMedium:function(s){for(n=!0;r.length;){var o=r;r=[],o.forEach(s)}r={push:function(l){return s(l)},filter:function(){return r}}},assignMedium:function(s){n=!0;var o=[];if(r.length){var l=r;r=[],l.forEach(s),o=r}var c=function(){var d=o;o=[],d.forEach(s)},u=function(){return Promise.resolve().then(c)};u(),r={push:function(d){o.push(d),u()},filter:function(d){return o=o.filter(d),r}}}};return i}function M0e(t){t===void 0&&(t={});var e=R0e(null);return e.options=cl({async:!0,ssr:!1},t),e}var CG=function(t){var e=t.sideCar,r=jG(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return b.createElement(n,cl({},r))};CG.isSideCarExport=!0;function I0e(t,e){return t.useMedium(e),CG}var NG=M0e(),XC=function(){},h1=b.forwardRef(function(t,e){var r=b.useRef(null),n=b.useState({onScrollCapture:XC,onWheelCapture:XC,onTouchMoveCapture:XC}),i=n[0],s=n[1],o=t.forwardProps,l=t.children,c=t.className,u=t.removeScrollBar,d=t.enabled,f=t.shards,g=t.sideCar,v=t.noIsolation,y=t.inert,x=t.allowPinchZoom,_=t.as,S=_===void 0?"div":_,C=t.gapMode,N=jG(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=g,E=T0e([r,e]),k=cl(cl({},N),i);return b.createElement(b.Fragment,null,d&&b.createElement(A,{sideCar:NG,removeScrollBar:u,shards:f,noIsolation:v,inert:y,setCallbacks:s,allowPinchZoom:!!x,lockRef:r,gapMode:C}),o?b.cloneElement(b.Children.only(l),cl(cl({},k),{ref:E})):b.createElement(S,cl({},k,{className:c,ref:E}),l))});h1.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};h1.classNames={fullWidth:Fb,zeroRight:$b};var L0e=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function D0e(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=L0e();return e&&t.setAttribute("nonce",e),t}function $0e(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function F0e(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var B0e=function(){var t=0,e=null;return{add:function(r){t==0&&(e=D0e())&&($0e(e,r),F0e(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},z0e=function(){var t=B0e();return function(e,r){b.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},EG=function(){var t=z0e(),e=function(r){var n=r.styles,i=r.dynamic;return t(n,i),null};return e},q0e={left:0,top:0,right:0,gap:0},JC=function(t){return parseInt(t||"",10)||0},U0e=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[JC(r),JC(n),JC(i)]},V0e=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return q0e;var e=U0e(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},W0e=EG(),Pp="data-scroll-locked",H0e=function(t,e,r,n){var i=t.left,s=t.top,o=t.right,l=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(E0e,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(l,"px ").concat(n,`;
  }
  body[`).concat(Pp,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(l,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat($b,` {
    right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat(Fb,` {
    margin-right: `).concat(l,"px ").concat(n,`;
  }
  
  .`).concat($b," .").concat($b,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Fb," .").concat(Fb,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Pp,`] {
    `).concat(P0e,": ").concat(l,`px;
  }
`)},QF=function(){var t=parseInt(document.body.getAttribute(Pp)||"0",10);return isFinite(t)?t:0},K0e=function(){b.useEffect(function(){return document.body.setAttribute(Pp,(QF()+1).toString()),function(){var t=QF()-1;t<=0?document.body.removeAttribute(Pp):document.body.setAttribute(Pp,t.toString())}},[])},G0e=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,i=n===void 0?"margin":n;K0e();var s=b.useMemo(function(){return V0e(i)},[i]);return b.createElement(W0e,{styles:H0e(s,!e,i,r?"":"!important")})},ZA=!1;if(typeof window<"u")try{var eb=Object.defineProperty({},"passive",{get:function(){return ZA=!0,!0}});window.addEventListener("test",eb,eb),window.removeEventListener("test",eb,eb)}catch{ZA=!1}var Jh=ZA?{passive:!1}:!1,Z0e=function(t){return t.tagName==="TEXTAREA"},PG=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!Z0e(t)&&r[e]==="visible")},Y0e=function(t){return PG(t,"overflowY")},X0e=function(t){return PG(t,"overflowX")},e5=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var i=kG(t,n);if(i){var s=AG(t,n),o=s[1],l=s[2];if(o>l)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},J0e=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},Q0e=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},kG=function(t,e){return t==="v"?Y0e(e):X0e(e)},AG=function(t,e){return t==="v"?J0e(e):Q0e(e)},ebe=function(t,e){return t==="h"&&e==="rtl"?-1:1},tbe=function(t,e,r,n,i){var s=ebe(t,window.getComputedStyle(e).direction),o=s*n,l=r.target,c=e.contains(l),u=!1,d=o>0,f=0,g=0;do{var v=AG(t,l),y=v[0],x=v[1],_=v[2],S=x-_-s*y;(y||S)&&kG(t,l)&&(f+=S,g+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(d&&Math.abs(f)<1||!d&&Math.abs(g)<1)&&(u=!0),u},tb=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},t5=function(t){return[t.deltaX,t.deltaY]},r5=function(t){return t&&"current"in t?t.current:t},rbe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},nbe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ibe=0,Qh=[];function sbe(t){var e=b.useRef([]),r=b.useRef([0,0]),n=b.useRef(),i=b.useState(ibe++)[0],s=b.useState(EG)[0],o=b.useRef(t);b.useEffect(function(){o.current=t},[t]),b.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var x=N0e([t.lockRef.current],(t.shards||[]).map(r5),!0).filter(Boolean);return x.forEach(function(_){return _.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),x.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var l=b.useCallback(function(x,_){if("touches"in x&&x.touches.length===2||x.type==="wheel"&&x.ctrlKey)return!o.current.allowPinchZoom;var S=tb(x),C=r.current,N="deltaX"in x?x.deltaX:C[0]-S[0],A="deltaY"in x?x.deltaY:C[1]-S[1],E,k=x.target,O=Math.abs(N)>Math.abs(A)?"h":"v";if("touches"in x&&O==="h"&&k.type==="range")return!1;var I=e5(O,k);if(!I)return!0;if(I?E=O:(E=O==="v"?"h":"v",I=e5(O,k)),!I)return!1;if(!n.current&&"changedTouches"in x&&(N||A)&&(n.current=E),!E)return!0;var z=n.current||E;return tbe(z,_,x,z==="h"?N:A)},[]),c=b.useCallback(function(x){var _=x;if(!(!Qh.length||Qh[Qh.length-1]!==s)){var S="deltaY"in _?t5(_):tb(_),C=e.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&rbe(E.delta,S)})[0];if(C&&C.should){_.cancelable&&_.preventDefault();return}if(!C){var N=(o.current.shards||[]).map(r5).filter(Boolean).filter(function(E){return E.contains(_.target)}),A=N.length>0?l(_,N[0]):!o.current.noIsolation;A&&_.cancelable&&_.preventDefault()}}},[]),u=b.useCallback(function(x,_,S,C){var N={name:x,delta:_,target:S,should:C,shadowParent:abe(S)};e.current.push(N),setTimeout(function(){e.current=e.current.filter(function(A){return A!==N})},1)},[]),d=b.useCallback(function(x){r.current=tb(x),n.current=void 0},[]),f=b.useCallback(function(x){u(x.type,t5(x),x.target,l(x,t.lockRef.current))},[]),g=b.useCallback(function(x){u(x.type,tb(x),x.target,l(x,t.lockRef.current))},[]);b.useEffect(function(){return Qh.push(s),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",c,Jh),document.addEventListener("touchmove",c,Jh),document.addEventListener("touchstart",d,Jh),function(){Qh=Qh.filter(function(x){return x!==s}),document.removeEventListener("wheel",c,Jh),document.removeEventListener("touchmove",c,Jh),document.removeEventListener("touchstart",d,Jh)}},[]);var v=t.removeScrollBar,y=t.inert;return b.createElement(b.Fragment,null,y?b.createElement(s,{styles:nbe(i)}):null,v?b.createElement(G0e,{gapMode:t.gapMode}):null)}function abe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const obe=I0e(NG,sbe);var px=b.forwardRef(function(t,e){return b.createElement(h1,cl({},t,{ref:e,sideCar:obe}))});px.classNames=h1.classNames;var YA=["Enter"," "],lbe=["ArrowDown","PageUp","Home"],TG=["ArrowUp","PageDown","End"],cbe=[...lbe,...TG],ube={ltr:[...YA,"ArrowRight"],rtl:[...YA,"ArrowLeft"]},dbe={ltr:["ArrowLeft"],rtl:["ArrowRight"]},mx="Menu",[Zv,fbe,hbe]=bM(mx),[th,OG]=sn(mx,[hbe,lG,yG]),p1=lG(),RG=yG(),[pbe,rh]=th(mx),[mbe,gx]=th(mx),MG=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:i,onOpenChange:s,modal:o=!0}=t,l=p1(e),[c,u]=b.useState(null),d=b.useRef(!1),f=Tr(s),g=Om(i);return b.useEffect(()=>{const v=()=>{d.current=!0,document.addEventListener("pointerdown",y,{capture:!0,once:!0}),document.addEventListener("pointermove",y,{capture:!0,once:!0})},y=()=>d.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",y,{capture:!0}),document.removeEventListener("pointermove",y,{capture:!0})}},[]),a.jsx(a0e,{...l,children:a.jsx(pbe,{scope:e,open:r,onOpenChange:f,content:c,onContentChange:u,children:a.jsx(mbe,{scope:e,onClose:b.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:d,dir:g,modal:o,children:n})})})};MG.displayName=mx;var gbe="MenuAnchor",OM=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=p1(r);return a.jsx(o0e,{...i,...n,ref:e})});OM.displayName=gbe;var RM="MenuPortal",[vbe,IG]=th(RM,{forceMount:void 0}),LG=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:i}=t,s=rh(RM,e);return a.jsx(vbe,{scope:e,forceMount:r,children:a.jsx(Hs,{present:r||s.open,children:a.jsx(d1,{asChild:!0,container:i,children:n})})})};LG.displayName=RM;var Ka="MenuContent",[ybe,MM]=th(Ka),DG=b.forwardRef((t,e)=>{const r=IG(Ka,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=rh(Ka,t.__scopeMenu),o=gx(Ka,t.__scopeMenu);return a.jsx(Zv.Provider,{scope:t.__scopeMenu,children:a.jsx(Hs,{present:n||s.open,children:a.jsx(Zv.Slot,{scope:t.__scopeMenu,children:o.modal?a.jsx(xbe,{...i,ref:e}):a.jsx(bbe,{...i,ref:e})})})})}),xbe=b.forwardRef((t,e)=>{const r=rh(Ka,t.__scopeMenu),n=b.useRef(null),i=vt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return f1(s)},[]),a.jsx(IM,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:Qe(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),bbe=b.forwardRef((t,e)=>{const r=rh(Ka,t.__scopeMenu);return a.jsx(IM,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),wbe=Wp("MenuContent.ScrollLock"),IM=b.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:o,disableOutsidePointerEvents:l,onEntryFocus:c,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,onDismiss:v,disableOutsideScroll:y,...x}=t,_=rh(Ka,r),S=gx(Ka,r),C=p1(r),N=RG(r),A=fbe(r),[E,k]=b.useState(null),O=b.useRef(null),I=vt(e,O,_.onContentChange),z=b.useRef(0),W=b.useRef(""),V=b.useRef(0),q=b.useRef(null),F=b.useRef("right"),H=b.useRef(0),Q=y?px:b.Fragment,oe=y?{as:wbe,allowPinchZoom:!0}:void 0,K=Z=>{const se=W.current+Z,X=A().filter(ue=>!ue.disabled),ce=document.activeElement,je=X.find(ue=>ue.ref.current===ce)?.textValue,Te=X.map(ue=>ue.textValue),qe=Rbe(Te,se,je),pe=X.find(ue=>ue.textValue===qe)?.ref.current;(function ue(_e){W.current=_e,window.clearTimeout(z.current),_e!==""&&(z.current=window.setTimeout(()=>ue(""),1e3))})(se),pe&&setTimeout(()=>pe.focus())};b.useEffect(()=>()=>window.clearTimeout(z.current),[]),wM();const te=b.useCallback(Z=>F.current===q.current?.side&&Ibe(Z,q.current?.area),[]);return a.jsx(ybe,{scope:r,searchRef:W,onItemEnter:b.useCallback(Z=>{te(Z)&&Z.preventDefault()},[te]),onItemLeave:b.useCallback(Z=>{te(Z)||(O.current?.focus(),k(null))},[te]),onTriggerLeave:b.useCallback(Z=>{te(Z)&&Z.preventDefault()},[te]),pointerGraceTimerRef:V,onPointerGraceIntentChange:b.useCallback(Z=>{q.current=Z},[]),children:a.jsx(Q,{...oe,children:a.jsx(_M,{asChild:!0,trapped:i,onMountAutoFocus:Qe(s,Z=>{Z.preventDefault(),O.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:a.jsx(o1,{asChild:!0,disableOutsidePointerEvents:l,onEscapeKeyDown:u,onPointerDownOutside:d,onFocusOutside:f,onInteractOutside:g,onDismiss:v,children:a.jsx(w0e,{asChild:!0,...N,dir:S.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:k,onEntryFocus:Qe(c,Z=>{S.isUsingKeyboardRef.current||Z.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(l0e,{role:"menu","aria-orientation":"vertical","data-state":QG(_.open),"data-radix-menu-content":"",dir:S.dir,...C,...x,ref:I,style:{outline:"none",...x.style},onKeyDown:Qe(x.onKeyDown,Z=>{const X=Z.target.closest("[data-radix-menu-content]")===Z.currentTarget,ce=Z.ctrlKey||Z.altKey||Z.metaKey,je=Z.key.length===1;X&&(Z.key==="Tab"&&Z.preventDefault(),!ce&&je&&K(Z.key));const Te=O.current;if(Z.target!==Te||!cbe.includes(Z.key))return;Z.preventDefault();const pe=A().filter(ue=>!ue.disabled).map(ue=>ue.ref.current);TG.includes(Z.key)&&pe.reverse(),Tbe(pe)}),onBlur:Qe(t.onBlur,Z=>{Z.currentTarget.contains(Z.target)||(window.clearTimeout(z.current),W.current="")}),onPointerMove:Qe(t.onPointerMove,Yv(Z=>{const se=Z.target,X=H.current!==Z.clientX;if(Z.currentTarget.contains(se)&&X){const ce=Z.clientX>H.current?"right":"left";F.current=ce,H.current=Z.clientX}}))})})})})})})});DG.displayName=Ka;var _be="MenuGroup",LM=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(br.div,{role:"group",...n,ref:e})});LM.displayName=_be;var Sbe="MenuLabel",$G=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(br.div,{...n,ref:e})});$G.displayName=Sbe;var yw="MenuItem",n5="menu.itemSelect",m1=b.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...i}=t,s=b.useRef(null),o=gx(yw,t.__scopeMenu),l=MM(yw,t.__scopeMenu),c=vt(e,s),u=b.useRef(!1),d=()=>{const f=s.current;if(!r&&f){const g=new CustomEvent(n5,{bubbles:!0,cancelable:!0});f.addEventListener(n5,v=>n?.(v),{once:!0}),xM(f,g),g.defaultPrevented?u.current=!1:o.onClose()}};return a.jsx(FG,{...i,ref:c,disabled:r,onClick:Qe(t.onClick,d),onPointerDown:f=>{t.onPointerDown?.(f),u.current=!0},onPointerUp:Qe(t.onPointerUp,f=>{u.current||f.currentTarget?.click()}),onKeyDown:Qe(t.onKeyDown,f=>{const g=l.searchRef.current!=="";r||g&&f.key===" "||YA.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});m1.displayName=yw;var FG=b.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:i,...s}=t,o=MM(yw,r),l=RG(r),c=b.useRef(null),u=vt(e,c),[d,f]=b.useState(!1),[g,v]=b.useState("");return b.useEffect(()=>{const y=c.current;y&&v((y.textContent??"").trim())},[s.children]),a.jsx(Zv.ItemSlot,{scope:r,disabled:n,textValue:i??g,children:a.jsx(_0e,{asChild:!0,...l,focusable:!n,children:a.jsx(br.div,{role:"menuitem","data-highlighted":d?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...s,ref:u,onPointerMove:Qe(t.onPointerMove,Yv(y=>{n?o.onItemLeave(y):(o.onItemEnter(y),y.defaultPrevented||y.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Qe(t.onPointerLeave,Yv(y=>o.onItemLeave(y))),onFocus:Qe(t.onFocus,()=>f(!0)),onBlur:Qe(t.onBlur,()=>f(!1))})})})}),jbe="MenuCheckboxItem",BG=b.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...i}=t;return a.jsx(WG,{scope:t.__scopeMenu,checked:r,children:a.jsx(m1,{role:"menuitemcheckbox","aria-checked":xw(r)?"mixed":r,...i,ref:e,"data-state":$M(r),onSelect:Qe(i.onSelect,()=>n?.(xw(r)?!0:!r),{checkForDefaultPrevented:!1})})})});BG.displayName=jbe;var zG="MenuRadioGroup",[Cbe,Nbe]=th(zG,{value:void 0,onValueChange:()=>{}}),qG=b.forwardRef((t,e)=>{const{value:r,onValueChange:n,...i}=t,s=Tr(n);return a.jsx(Cbe,{scope:t.__scopeMenu,value:r,onValueChange:s,children:a.jsx(LM,{...i,ref:e})})});qG.displayName=zG;var UG="MenuRadioItem",VG=b.forwardRef((t,e)=>{const{value:r,...n}=t,i=Nbe(UG,t.__scopeMenu),s=r===i.value;return a.jsx(WG,{scope:t.__scopeMenu,checked:s,children:a.jsx(m1,{role:"menuitemradio","aria-checked":s,...n,ref:e,"data-state":$M(s),onSelect:Qe(n.onSelect,()=>i.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});VG.displayName=UG;var DM="MenuItemIndicator",[WG,Ebe]=th(DM,{checked:!1}),HG=b.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...i}=t,s=Ebe(DM,r);return a.jsx(Hs,{present:n||xw(s.checked)||s.checked===!0,children:a.jsx(br.span,{...i,ref:e,"data-state":$M(s.checked)})})});HG.displayName=DM;var Pbe="MenuSeparator",KG=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return a.jsx(br.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});KG.displayName=Pbe;var kbe="MenuArrow",GG=b.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,i=p1(r);return a.jsx(c0e,{...i,...n,ref:e})});GG.displayName=kbe;var Abe="MenuSub",[D7e,ZG]=th(Abe),lv="MenuSubTrigger",YG=b.forwardRef((t,e)=>{const r=rh(lv,t.__scopeMenu),n=gx(lv,t.__scopeMenu),i=ZG(lv,t.__scopeMenu),s=MM(lv,t.__scopeMenu),o=b.useRef(null),{pointerGraceTimerRef:l,onPointerGraceIntentChange:c}=s,u={__scopeMenu:t.__scopeMenu},d=b.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return b.useEffect(()=>d,[d]),b.useEffect(()=>{const f=l.current;return()=>{window.clearTimeout(f),c(null)}},[l,c]),a.jsx(OM,{asChild:!0,...u,children:a.jsx(FG,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":i.contentId,"data-state":QG(r.open),...t,ref:ya(e,i.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:Qe(t.onPointerMove,Yv(f=>{s.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(s.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),d()},100))})),onPointerLeave:Qe(t.onPointerLeave,Yv(f=>{d();const g=r.content?.getBoundingClientRect();if(g){const v=r.content?.dataset.side,y=v==="right",x=y?-5:5,_=g[y?"left":"right"],S=g[y?"right":"left"];s.onPointerGraceIntentChange({area:[{x:f.clientX+x,y:f.clientY},{x:_,y:g.top},{x:S,y:g.top},{x:S,y:g.bottom},{x:_,y:g.bottom}],side:v}),window.clearTimeout(l.current),l.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(f),f.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:Qe(t.onKeyDown,f=>{const g=s.searchRef.current!=="";t.disabled||g&&f.key===" "||ube[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});YG.displayName=lv;var XG="MenuSubContent",JG=b.forwardRef((t,e)=>{const r=IG(Ka,t.__scopeMenu),{forceMount:n=r.forceMount,...i}=t,s=rh(Ka,t.__scopeMenu),o=gx(Ka,t.__scopeMenu),l=ZG(XG,t.__scopeMenu),c=b.useRef(null),u=vt(e,c);return a.jsx(Zv.Provider,{scope:t.__scopeMenu,children:a.jsx(Hs,{present:n||s.open,children:a.jsx(Zv.Slot,{scope:t.__scopeMenu,children:a.jsx(IM,{id:l.contentId,"aria-labelledby":l.triggerId,...i,ref:u,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:d=>{o.isUsingKeyboardRef.current&&c.current?.focus(),d.preventDefault()},onCloseAutoFocus:d=>d.preventDefault(),onFocusOutside:Qe(t.onFocusOutside,d=>{d.target!==l.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:Qe(t.onEscapeKeyDown,d=>{o.onClose(),d.preventDefault()}),onKeyDown:Qe(t.onKeyDown,d=>{const f=d.currentTarget.contains(d.target),g=dbe[o.dir].includes(d.key);f&&g&&(s.onOpenChange(!1),l.trigger?.focus(),d.preventDefault())})})})})})});JG.displayName=XG;function QG(t){return t?"open":"closed"}function xw(t){return t==="indeterminate"}function $M(t){return xw(t)?"indeterminate":t?"checked":"unchecked"}function Tbe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function Obe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function Rbe(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=Obe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function Mbe(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,f=c.x,g=c.y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function Ibe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return Mbe(r,e)}function Yv(t){return e=>e.pointerType==="mouse"?t(e):void 0}var Lbe=MG,Dbe=OM,$be=LG,Fbe=DG,Bbe=LM,zbe=$G,qbe=m1,Ube=BG,Vbe=qG,Wbe=VG,Hbe=HG,Kbe=KG,Gbe=GG,Zbe=YG,Ybe=JG,g1="DropdownMenu",[Xbe,$7e]=sn(g1,[OG]),bs=OG(),[Jbe,eZ]=Xbe(g1),tZ=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:i,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,c=bs(e),u=b.useRef(null),[d,f]=Vs({prop:i,defaultProp:s??!1,onChange:o,caller:g1});return a.jsx(Jbe,{scope:e,triggerId:zs(),triggerRef:u,contentId:zs(),open:d,onOpenChange:f,onOpenToggle:b.useCallback(()=>f(g=>!g),[f]),modal:l,children:a.jsx(Lbe,{...c,open:d,onOpenChange:f,dir:n,modal:l,children:r})})};tZ.displayName=g1;var rZ="DropdownMenuTrigger",nZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...i}=t,s=eZ(rZ,r),o=bs(r);return a.jsx(Dbe,{asChild:!0,...o,children:a.jsx(br.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...i,ref:ya(e,s.triggerRef),onPointerDown:Qe(t.onPointerDown,l=>{!n&&l.button===0&&l.ctrlKey===!1&&(s.onOpenToggle(),s.open||l.preventDefault())}),onKeyDown:Qe(t.onKeyDown,l=>{n||(["Enter"," "].includes(l.key)&&s.onOpenToggle(),l.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(l.key)&&l.preventDefault())})})})});nZ.displayName=rZ;var Qbe="DropdownMenuPortal",iZ=t=>{const{__scopeDropdownMenu:e,...r}=t,n=bs(e);return a.jsx($be,{...n,...r})};iZ.displayName=Qbe;var sZ="DropdownMenuContent",aZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=eZ(sZ,r),s=bs(r),o=b.useRef(!1);return a.jsx(Fbe,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...n,ref:e,onCloseAutoFocus:Qe(t.onCloseAutoFocus,l=>{o.current||i.triggerRef.current?.focus(),o.current=!1,l.preventDefault()}),onInteractOutside:Qe(t.onInteractOutside,l=>{const c=l.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0,d=c.button===2||u;(!i.modal||d)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});aZ.displayName=sZ;var ewe="DropdownMenuGroup",twe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Bbe,{...i,...n,ref:e})});twe.displayName=ewe;var rwe="DropdownMenuLabel",oZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(zbe,{...i,...n,ref:e})});oZ.displayName=rwe;var nwe="DropdownMenuItem",lZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(qbe,{...i,...n,ref:e})});lZ.displayName=nwe;var iwe="DropdownMenuCheckboxItem",cZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Ube,{...i,...n,ref:e})});cZ.displayName=iwe;var swe="DropdownMenuRadioGroup",awe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Vbe,{...i,...n,ref:e})});awe.displayName=swe;var owe="DropdownMenuRadioItem",uZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Wbe,{...i,...n,ref:e})});uZ.displayName=owe;var lwe="DropdownMenuItemIndicator",dZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Hbe,{...i,...n,ref:e})});dZ.displayName=lwe;var cwe="DropdownMenuSeparator",fZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Kbe,{...i,...n,ref:e})});fZ.displayName=cwe;var uwe="DropdownMenuArrow",dwe=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Gbe,{...i,...n,ref:e})});dwe.displayName=uwe;var fwe="DropdownMenuSubTrigger",hZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Zbe,{...i,...n,ref:e})});hZ.displayName=fwe;var hwe="DropdownMenuSubContent",pZ=b.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,i=bs(r);return a.jsx(Ybe,{...i,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});pZ.displayName=hwe;var pwe=tZ,mwe=nZ,gwe=iZ,mZ=aZ,gZ=oZ,vZ=lZ,yZ=cZ,xZ=uZ,bZ=dZ,wZ=fZ,_Z=hZ,SZ=pZ;const wd=pwe,_d=mwe,vwe=b.forwardRef(({className:t,inset:e,children:r,...n},i)=>a.jsxs(_Z,{ref:i,className:Ye("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",e&&"pl-8",t),...n,children:[r,a.jsx(Za,{className:"ml-auto h-4 w-4"})]}));vwe.displayName=_Z.displayName;const ywe=b.forwardRef(({className:t,...e},r)=>a.jsx(SZ,{ref:r,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));ywe.displayName=SZ.displayName;const Kc=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(gwe,{children:a.jsx(mZ,{ref:n,sideOffset:e,className:Ye("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}));Kc.displayName=mZ.displayName;const Dr=b.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(vZ,{ref:n,className:Ye("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e&&"pl-8",t),...r}));Dr.displayName=vZ.displayName;const xwe=b.forwardRef(({className:t,children:e,checked:r,...n},i)=>a.jsxs(yZ,{ref:i,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bZ,{children:a.jsx(Bp,{className:"h-4 w-4"})})}),e]}));xwe.displayName=yZ.displayName;const bwe=b.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(xZ,{ref:n,className:Ye("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(bZ,{children:a.jsx(Nhe,{className:"h-2 w-2 fill-current"})})}),e]}));bwe.displayName=xZ.displayName;const wwe=b.forwardRef(({className:t,inset:e,...r},n)=>a.jsx(gZ,{ref:n,className:Ye("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));wwe.displayName=gZ.displayName;const Im=b.forwardRef(({className:t,...e},r)=>a.jsx(wZ,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));Im.displayName=wZ.displayName;const _we=({className:t=""})=>{const{currentLanguage:e,changeLanguage:r,availableLanguages:n,languageNames:i}=Qf(),s=o=>{r(o)};return a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsxs(me,{variant:"ghost",size:"sm",className:`flex items-center space-x-2 ${t}`,children:[a.jsx(iM,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:i[e]}),a.jsx("span",{className:"sm:hidden",children:e.toUpperCase()})]})}),a.jsx(Kc,{align:"end",className:"w-48",children:n.map(o=>a.jsxs(Dr,{onClick:()=>s(o),className:`flex items-center justify-between cursor-pointer ${e===o?"bg-accent":""}`,children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("span",{className:"text-sm font-medium",children:i[o]})}),e===o&&a.jsx(Bp,{className:"h-4 w-4 text-primary"})]},o))})]})},Swe=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[i,s]=b.useState(!0),{user:o}=Vr(),{t:l}=Qf(),c=b.useMemo(()=>[{name:l("navigation.immobilier"),path:"/immobilier",icon:a.jsx(Lf,{className:"mr-2 h-4 w-4"})},{name:l("navigation.automobile"),path:"/automobile",icon:a.jsx(Q_,{className:"mr-2 h-4 w-4"})},{name:l("navigation.services"),path:"/services",icon:a.jsx(If,{className:"mr-2 h-4 w-4"})},{name:l("navigation.marketplace"),path:"/marketplace",icon:a.jsx(Yf,{className:"mr-2 h-4 w-4"})}],[l]),u=b.useMemo(()=>({closed:{opacity:0,x:"-100%"},open:{opacity:1,x:"0%",transition:{duration:.3,ease:"easeInOut"}}}),[]),d=b.useMemo(()=>"text-muted-foreground hover:text-primary transition-colors px-3 py-2 rounded-md text-sm font-medium flex items-center",[]),f=b.useMemo(()=>"text-primary bg-primary/10",[]);b.useEffect(()=>{const y=()=>{n(window.scrollY>20)};return window.addEventListener("scroll",y,{passive:!0}),()=>window.removeEventListener("scroll",y)},[]),b.useEffect(()=>{i?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[i]);const g=()=>{s(!i)},v=b.useMemo(()=>a.jsx(fr,{to:"/",className:"flex items-center space-x-2","aria-label":"Accueil MaxiMarket",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:Pr.siteName})}),[]);return a.jsxs("header",{role:"banner","aria-label":"Navigation principale",children:[a.jsx("nav",{className:`sticky top-0 z-50 transition-all duration-300 ${r||t?"bg-background/95 shadow-lg backdrop-blur-md":"bg-transparent"}`,role:"navigation","aria-label":"Menu principal",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsxs("div",{className:"flex items-center justify-between h-20",children:[a.jsx(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5},children:v}),a.jsx("nav",{role:"navigation","aria-label":"Navigation desktop",className:"hidden md:flex items-center space-x-2 lg:space-x-4",children:c.map(y=>a.jsxs(Qd,{to:y.path,className:({isActive:x})=>`${d} ${x?f:""}`,"aria-current":({isActive:x})=>x?"page":void 0,children:[y.icon,y.name]},y.name))}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(_we,{className:"md:hidden"}),a.jsx(me,{variant:"ghost",size:"icon",onClick:g,"aria-label":"Changer de thème",type:"button",children:i?a.jsx(Xhe,{className:"h-5 w-5"}):a.jsx(Fhe,{className:"h-5 w-5"})}),a.jsx(me,{variant:"ghost",size:"icon",className:"md:hidden","aria-label":"Rechercher",type:"button",children:a.jsx(ki,{className:"h-5 w-5"})}),!o&&a.jsxs(a.Fragment,{children:[a.jsx(me,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(fr,{to:"/connexion","aria-label":"Se connecter",children:[a.jsx(W0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]})}),a.jsx(me,{asChild:!0,className:"hidden md:inline-flex btn-gradient-secondary",children:a.jsxs(fr,{to:"/inscription","aria-label":"S'inscrire",children:[a.jsx(W0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})})]}),o&&o.role==="admin"?a.jsx(me,{asChild:!0,className:"hidden md:inline-flex btn-secondary",children:a.jsxs(fr,{to:"/admin","aria-label":"Accéder à l'administration",children:[a.jsx(gf,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]})}):o&&a.jsxs(a.Fragment,{children:[a.jsx(me,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(fr,{to:"/messages","aria-label":"Accéder aux messages",children:[a.jsx(Pi,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]})}),a.jsx(me,{asChild:!0,className:"hidden md:inline-flex btn-gradient-primary",children:a.jsxs(fr,{to:"/profile","aria-label":"Accéder à mon compte",children:[a.jsx(gf,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})})]}),a.jsx("div",{className:"md:hidden",children:a.jsx(me,{variant:"ghost",size:"icon",onClick:()=>e(!t),"aria-label":t?"Fermer le menu":"Ouvrir le menu","aria-expanded":t,type:"button",children:t?a.jsx(Ws,{className:"h-6 w-6"}):a.jsx(LH,{className:"h-6 w-6"})})})]})]})})}),a.jsx(Ei,{children:t&&a.jsxs(ze.nav,{variants:u,initial:"closed",animate:"open",exit:"closed",className:"md:hidden fixed inset-0 top-20 bg-background/95 backdrop-blur-md z-40 p-4 space-y-3 border-t border-border",role:"navigation","aria-label":"Menu mobile",children:[c.map(y=>a.jsxs(Qd,{to:y.path,onClick:()=>e(!1),className:({isActive:x})=>`${d} text-base w-full justify-start ${x?f:""}`,"aria-current":({isActive:x})=>x?"page":void 0,children:[y.icon,y.name]},y.name)),!o&&a.jsxs(a.Fragment,{children:[a.jsxs(Qd,{to:"/connexion",onClick:()=>e(!1),className:`${d} text-base w-full justify-start`,"aria-label":"Se connecter",children:[a.jsx(W0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Connexion"]}),a.jsxs(Qd,{to:"/inscription",onClick:()=>e(!1),className:`${d} text-base w-full justify-start`,"aria-label":"S'inscrire",children:[a.jsx(W0,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Inscription"]})]}),o&&o.role==="admin"?a.jsxs(Qd,{to:"/admin",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?f:""}`,"aria-label":"Accéder à l'administration",children:[a.jsx(gf,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Admin"]}):o&&a.jsxs(a.Fragment,{children:[a.jsxs(Qd,{to:"/messages",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?f:""}`,"aria-label":"Accéder aux messages",children:[a.jsx(Pi,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Messages"]}),a.jsxs(Qd,{to:"/profile",onClick:()=>e(!1),className:({isActive:y})=>`${d} text-base w-full justify-start ${y?f:""}`,"aria-label":"Accéder à mon compte",children:[a.jsx(gf,{className:"mr-2 h-4 w-4","aria-hidden":"true"})," Mon Compte"]})]})]})})]})},jwe=()=>{const t=new Date().getFullYear(),{toast:e}=dn(),[r,n]=b.useState(""),[i,s]=b.useState(!1),o=[{title:"Explorer",links:[{name:"Immobilier",path:"/immobilier"},{name:"Automobile",path:"/automobile"},{name:"Services Pro",path:"/services"},{name:"Marketplace",path:"/marketplace"}]},{title:"Entreprise",links:[{name:"À Propos",path:"/a-propos"},{name:"Carrières",path:"/carrieres"},{name:"Presse",path:"/presse"},{name:"Blog",path:"/blog"}]},{title:"Support",links:[{name:"Centre d'Aide",path:"/aide"},{name:"Contactez-nous",path:"/contact"},{name:"FAQ",path:"/faq"},{name:"Politique de Confidentialité",path:"/politique-confidentialite"},{name:"Termes & Conditions",path:"/conditions-utilisation"}]}],l=[{name:"Facebook",icon:a.jsx(TA,{className:"h-5 w-5"}),path:Pr.socials.facebook},{name:"Twitter",icon:a.jsx($H,{className:"h-5 w-5"}),path:Pr.socials.twitter},{name:"Instagram",icon:a.jsx(OA,{className:"h-5 w-5"}),path:Pr.socials.instagram}].filter(u=>u.path&&u.path!=="");console.log("🔍 Réseaux sociaux disponibles:",Pr.socials),console.log("🔍 Réseaux sociaux filtrés:",l);const c=async u=>{if(u.preventDefault(),!r.trim()){e({title:"Email requis",description:"Veuillez saisir votre adresse email",variant:"destructive"});return}s(!0);try{const d=await $ge.subscribe(r.trim());e({title:"Inscription réussie !",description:d.message}),n("")}catch(d){console.error("Erreur inscription newsletter:",d),e({title:"Erreur d'inscription",description:d.message||"Une erreur s'est produite",variant:"destructive"})}finally{s(!1)}};return a.jsx("footer",{className:"bg-card text-card-foreground border-t border-border",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("div",{className:"hidden md:grid md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8 pt-16 pb-8",children:[a.jsxs("div",{className:"md:col-span-2 lg:col-span-1 xl:col-span-2 pr-4",children:[a.jsx(fr,{to:"/",className:"flex items-center space-x-2 mb-6",children:a.jsx("span",{className:"text-2xl font-bold gradient-text",children:Pr.siteName})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-6",children:"La plateforme N°1 en Afrique de l'Ouest pour l'immobilier, l'automobile, les services et bien plus."}),a.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Restez informé de nos nouveautés :"}),a.jsxs("form",{onSubmit:c,className:"flex items-center gap-2",children:[a.jsx(dt,{type:"email",placeholder:"Votre adresse e-mail",className:"flex-grow",value:r,onChange:u=>n(u.target.value),disabled:i}),a.jsx(me,{type:"submit",size:"icon",className:"bg-primary hover:bg-primary/90",disabled:i,children:i?a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}):a.jsx(qp,{className:"h-4 w-4"})})]})]}),o.map(u=>a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold mb-4",children:u.title}),a.jsx("ul",{className:"space-y-2",children:u.links.map(d=>a.jsx("li",{children:a.jsxs(fr,{to:d.path,className:"text-sm text-muted-foreground hover:text-primary transition-colors flex items-center group",children:[d.name,a.jsx(jc,{className:"h-3 w-3 ml-1 opacity-0 group-hover:opacity-100 transition-opacity"})]})},d.name))})]},u.title))]}),a.jsxs("div",{className:"md:hidden",children:[a.jsxs("div",{className:"pt-8 pb-6 text-center",children:[a.jsx(fr,{to:"/",className:"flex items-center justify-center space-x-2 mb-4",children:a.jsx("span",{className:"text-xl font-bold gradient-text",children:Pr.siteName})}),a.jsx("p",{className:"text-muted-foreground text-sm mb-4",children:"La plateforme N°1 en Afrique de l'Ouest"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"font-semibold mb-2 text-sm",children:"Newsletter :"}),a.jsxs("form",{onSubmit:c,className:"flex items-center gap-2 max-w-xs mx-auto",children:[a.jsx(dt,{type:"email",placeholder:"Email",className:"flex-grow text-sm",value:r,onChange:u=>n(u.target.value),disabled:i}),a.jsx(me,{type:"submit",size:"sm",className:"bg-primary hover:bg-primary/90",disabled:i,children:i?a.jsx("div",{className:"h-3 w-3 animate-spin rounded-full border-2 border-white border-t-transparent"}):a.jsx(qp,{className:"h-3 w-3"})})]})]})]}),a.jsx("div",{className:"pb-6",children:a.jsx("div",{className:"grid grid-cols-3 gap-4",children:o.map(u=>a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"font-semibold mb-3 text-sm text-primary",children:u.title}),a.jsx("div",{className:"space-y-2",children:u.links.slice(0,3).map(d=>a.jsx(fr,{to:d.path,className:"block text-xs text-muted-foreground hover:text-primary transition-colors",children:d.name},d.name))})]},u.title))})}),a.jsxs("div",{className:"pb-6",children:[a.jsx("p",{className:"text-center font-semibold mb-4 text-sm text-primary",children:"Suivez-nous"}),a.jsx("div",{className:"flex justify-center space-x-6",children:l.length>0?l.map(u=>a.jsx(fr,{to:u.path,target:"_blank",rel:"noopener noreferrer","aria-label":u.name,className:"text-muted-foreground hover:text-primary transition-colors p-2 rounded-full hover:bg-accent",children:u.icon},u.name)):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Réseaux sociaux en cours de configuration"})})]}),a.jsxs("div",{className:"pb-6",children:[a.jsx("p",{className:"text-center font-semibold mb-4 text-sm text-primary",children:"Contact"}),a.jsxs("div",{className:"flex justify-center space-x-6 text-xs text-muted-foreground",children:[a.jsxs(fr,{to:"/contact",className:"flex items-center space-x-1 hover:text-primary",children:[a.jsx(Lc,{className:"h-3 w-3"}),a.jsx("span",{children:"Contact"})]}),a.jsxs(fr,{to:"/aide",className:"flex items-center space-x-1 hover:text-primary",children:[a.jsx(Wa,{className:"h-3 w-3"}),a.jsx("span",{children:"Aide"})]})]})]})]}),a.jsx("div",{className:"hidden md:block border-t border-border pt-8 pb-8",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[a.jsxs("p",{className:"text-xs text-muted-foreground mb-4 md:mb-0",children:["© ",t," ",Pr.siteName,". Tous droits réservés."]}),a.jsx("div",{className:"flex space-x-4",children:l.length>0?l.map(u=>a.jsx(fr,{to:u.path,target:"_blank",rel:"noopener noreferrer","aria-label":u.name,className:"text-muted-foreground hover:text-primary transition-colors",children:u.icon},u.name)):a.jsx("p",{className:"text-xs text-muted-foreground",children:"Réseaux sociaux en cours de configuration"})})]})}),a.jsx("div",{className:"md:hidden border-t border-border pt-6 pb-8 text-center",children:a.jsxs("p",{className:"text-xs text-muted-foreground",children:["© ",t," ",Pr.siteName,". Tous droits réservés."]})})]})})},Cwe=()=>{const t=is(),[e,r]=b.useState(!1),n=b.useCallback(()=>{r(window.scrollY>20)},[]);b.useEffect(()=>(window.addEventListener("scroll",n,{passive:!0}),()=>window.removeEventListener("scroll",n)),[n]),b.useEffect(()=>{window.scrollTo(0,0)},[t.pathname]);const i=b.useMemo(()=>Ye("fixed top-0 left-0 right-0 z-50 transition-all duration-300",e?"py-3 glass-effect":"py-5 bg-transparent"),[e]),s=b.useMemo(()=>({initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3}}),[]);return a.jsxs("div",{className:"min-h-screen flex flex-col bg-background grid-pattern",children:[a.jsx("header",{className:i,role:"banner","aria-label":"En-tête principal",children:a.jsx(Swe,{})}),a.jsx("main",{className:"flex-grow pt-24 pb-16",role:"main","aria-label":"Contenu principal",id:"main-content",children:a.jsx(ze.div,{...s,children:a.jsx(v7,{})},t.pathname)}),a.jsx(jwe,{})]})},Nwe=[{name:"Tableau de bord",href:"/admin",icon:IH},{name:"Utilisateurs",href:"/admin/users",icon:Oo},{name:"Annonces",href:"/admin/listings",icon:Nv},{name:"Transactions",href:"/admin/transactions",icon:zp},{name:"Catégories",href:"/admin/categories",icon:Xf},{name:"Rapports",href:"/admin/analytics",icon:tM},{name:"Modération",href:"/admin/moderation",icon:uw},{name:"Paramètres",href:"/admin/settings",icon:gf}];function Ewe({className:t}){const e=is(),{logout:r}=Vr(),n=async()=>{try{await r()}catch(i){console.error("Erreur lors de la déconnexion:",i)}};return a.jsxs("div",{className:Ye("hidden md:flex md:flex-col md:w-64 bg-slate-900 border-r border-slate-800 min-h-screen",t),children:[a.jsx("div",{className:"p-4 border-b border-slate-800",children:a.jsx("h2",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"flex-1 px-3 py-4 space-y-1",children:Nwe.map(i=>a.jsxs(fr,{to:i.href,className:Ye("flex items-center px-4 py-3 text-sm font-medium rounded-md transition-colors",e.pathname===i.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white"),children:[a.jsx(i.icon,{className:"mr-3 h-5 w-5"}),i.name]},i.href))}),a.jsx("div",{className:"p-4 border-t border-slate-800",children:a.jsxs(me,{onClick:n,variant:"ghost",className:"w-full justify-start text-slate-300 hover:bg-slate-800 hover:text-white",children:[a.jsx(sM,{className:"mr-3 h-5 w-5"}),"Déconnexion"]})})]})}var Pwe=Object.defineProperty,kwe=(t,e,r)=>e in t?Pwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,QC=(t,e,r)=>(kwe(t,typeof e!="symbol"?e+"":e,r),r);let Awe=class{constructor(){QC(this,"current",this.detect()),QC(this,"handoffState","pending"),QC(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},Pc=new Awe,Xa=(t,e)=>{Pc.isServer?b.useEffect(t,e):b.useLayoutEffect(t,e)};function kc(t){let e=b.useRef(t);return Xa(()=>{e.current=t},[t]),e}let Sn=function(t){let e=kc(t);return re.useCallback((...r)=>e.current(...r),[e])};function v1(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function nh(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return v1(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=nh();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function FM(){let[t]=b.useState(nh);return b.useEffect(()=>()=>t.dispose(),[t]),t}function Twe(){let t=typeof document>"u";return"useSyncExternalStore"in dd?(e=>e.useSyncExternalStore)(dd)(()=>()=>{},()=>!1,()=>!t):!1}function Lm(){let t=Twe(),[e,r]=b.useState(Pc.isHandoffComplete);return e&&Pc.isHandoffComplete===!1&&r(!1),b.useEffect(()=>{e!==!0&&r(!0)},[e]),b.useEffect(()=>Pc.handoff(),[]),t?!1:e}var i5;let Dm=(i5=re.useId)!=null?i5:function(){let t=Lm(),[e,r]=re.useState(t?()=>Pc.nextId():null);return Xa(()=>{e===null&&r(Pc.nextId())},[e]),e!=null?""+e:void 0};function ns(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ns),n}function jZ(t){return Pc.isServer?null:t instanceof Node?t.ownerDocument:t!=null&&t.hasOwnProperty("current")&&t.current instanceof Node?t.current.ownerDocument:document}let XA=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var pf=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(pf||{}),CZ=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(CZ||{}),Owe=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(Owe||{});function Rwe(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(XA)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var NZ=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(NZ||{});function Mwe(t,e=0){var r;return t===((r=jZ(t))==null?void 0:r.body)?!1:ns(e,{0(){return t.matches(XA)},1(){let n=t;for(;n!==null;){if(n.matches(XA))return!0;n=n.parentElement}return!1}})}var Iwe=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(Iwe||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Af(t){t?.focus({preventScroll:!0})}let Lwe=["textarea","input"].join(",");function Dwe(t){var e,r;return(r=(e=t?.matches)==null?void 0:e.call(t,Lwe))!=null?r:!1}function $we(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function Bb(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t.ownerDocument,o=Array.isArray(t)?r?$we(t):t:Rwe(t);i.length>0&&o.length>1&&(o=o.filter(v=>!i.includes(v))),n=n??s.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,o.indexOf(n))-1;if(e&4)return Math.max(0,o.indexOf(n))+1;if(e&8)return o.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},d=0,f=o.length,g;do{if(d>=f||d+f<=0)return 0;let v=c+d;if(e&16)v=(v+f)%f;else{if(v<0)return 3;if(v>=f)return 1}g=o[v],g?.focus(u),d+=l}while(g!==s.activeElement);return e&6&&Dwe(g)&&g.select(),2}function EZ(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function Fwe(){return/Android/gi.test(window.navigator.userAgent)}function Bwe(){return EZ()||Fwe()}function rb(t,e,r){let n=kc(e);b.useEffect(()=>{function i(s){n.current(s)}return document.addEventListener(t,i,r),()=>document.removeEventListener(t,i,r)},[t,r])}function PZ(t,e,r){let n=kc(e);b.useEffect(()=>{function i(s){n.current(s)}return window.addEventListener(t,i,r),()=>window.removeEventListener(t,i,r)},[t,r])}function zwe(t,e,r=!0){let n=b.useRef(!1);b.useEffect(()=>{requestAnimationFrame(()=>{n.current=r})},[r]);function i(o,l){if(!n.current||o.defaultPrevented)return;let c=l(o);if(c===null||!c.getRootNode().contains(c)||!c.isConnected)return;let u=function d(f){return typeof f=="function"?d(f()):Array.isArray(f)||f instanceof Set?f:[f]}(t);for(let d of u){if(d===null)continue;let f=d instanceof HTMLElement?d:d.current;if(f!=null&&f.contains(c)||o.composed&&o.composedPath().includes(f))return}return!Mwe(c,NZ.Loose)&&c.tabIndex!==-1&&o.preventDefault(),e(o,c)}let s=b.useRef(null);rb("pointerdown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),rb("mousedown",o=>{var l,c;n.current&&(s.current=((c=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:c[0])||o.target)},!0),rb("click",o=>{Bwe()||s.current&&(i(o,()=>s.current),s.current=null)},!0),rb("touchend",o=>i(o,()=>o.target instanceof HTMLElement?o.target:null),!0),PZ("blur",o=>i(o,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function vx(...t){return b.useMemo(()=>jZ(...t),[...t])}let kZ=Symbol();function qwe(t,e=!0){return Object.assign(t,{[kZ]:e})}function $o(...t){let e=b.useRef(t);b.useEffect(()=>{e.current=t},[t]);let r=Sn(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||n?.[kZ])?void 0:r}function BM(t,e){let r=b.useRef([]),n=Sn(t);b.useEffect(()=>{let i=[...r.current];for(let[s,o]of e.entries())if(r.current[s]!==o){let l=n(e,i);return r.current=e,l}},[n,...e])}function bw(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}var ww=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(ww||{}),td=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(td||{});function Qa({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:o,mergeRefs:l}){l=l??Uwe;let c=AZ(e,t);if(s)return nb(c,r,n,o,l);let u=i??0;if(u&2){let{static:d=!1,...f}=c;if(d)return nb(f,r,n,o,l)}if(u&1){let{unmount:d=!0,...f}=c;return ns(d?0:1,{0(){return null},1(){return nb({...f,hidden:!0,style:{display:"none"}},r,n,o,l)}})}return nb(c,r,n,o,l)}function nb(t,e={},r,n,i){let{as:s=r,children:o,refName:l="ref",...c}=eN(t,["unmount","static"]),u=t.ref!==void 0?{[l]:t.ref}:{},d=typeof o=="function"?o(e):o;"className"in c&&c.className&&typeof c.className=="function"&&(c.className=c.className(e));let f={};if(e){let g=!1,v=[];for(let[y,x]of Object.entries(e))typeof x=="boolean"&&(g=!0),x===!0&&v.push(y);g&&(f["data-headlessui-state"]=v.join(" "))}if(s===b.Fragment&&Object.keys(s5(c)).length>0){if(!b.isValidElement(d)||Array.isArray(d)&&d.length>1)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(c).map(x=>`  - ${x}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(x=>`  - ${x}`).join(`
`)].join(`
`));let g=d.props,v=typeof g?.className=="function"?(...x)=>bw(g?.className(...x),c.className):bw(g?.className,c.className),y=v?{className:v}:{};return b.cloneElement(d,Object.assign({},AZ(d.props,s5(eN(c,["ref"]))),f,u,{ref:i(d.ref,u.ref)},y))}return b.createElement(s,Object.assign({},eN(c,["ref"]),s!==b.Fragment&&u,s!==b.Fragment&&f),d)}function Uwe(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function AZ(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](i,...s){let o=r[n];for(let l of o){if((i instanceof Event||i?.nativeEvent instanceof Event)&&i.defaultPrevented)return;l(i,...s)}}});return e}function xa(t){var e;return Object.assign(b.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function s5(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function eN(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}let Vwe="div";var _w=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(_w||{});function Wwe(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return Qa({ourProps:s,theirProps:i,slot:{},defaultTag:Vwe,name:"Hidden"})}let JA=xa(Wwe),zM=b.createContext(null);zM.displayName="OpenClosedContext";var ua=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(ua||{});function qM(){return b.useContext(zM)}function Hwe({value:t,children:e}){return re.createElement(zM.Provider,{value:t},e)}function Kwe(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Xu=[];Kwe(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Xu[0]!==e.target&&(Xu.unshift(e.target),Xu=Xu.filter(r=>r!=null&&r.isConnected),Xu.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function Gwe(t){let e=t.parentElement,r=null;for(;e&&!(e instanceof HTMLFieldSetElement);)e instanceof HTMLLegendElement&&(r=e),e=e.parentElement;let n=e?.getAttribute("disabled")==="";return n&&Zwe(r)?!1:n}function Zwe(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(e instanceof HTMLLegendElement)return!1;e=e.previousElementSibling}return!0}var TZ=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(TZ||{});function OZ(t,e,r,n){let i=kc(r);b.useEffect(()=>{t=t??window;function s(o){i.current(o)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function yx(){let t=b.useRef(!1);return Xa(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function RZ(t){let e=Sn(t),r=b.useRef(!1);b.useEffect(()=>(r.current=!1,()=>{r.current=!0,v1(()=>{r.current&&e()})}),[e])}var cv=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(cv||{});function Ywe(){let t=b.useRef(0);return PZ("keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function MZ(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)r.current instanceof HTMLElement&&e.add(r.current);return e}let Xwe="div";var IZ=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(IZ||{});function Jwe(t,e){let r=b.useRef(null),n=$o(r,e),{initialFocus:i,containers:s,features:o=30,...l}=t;Lm()||(o=1);let c=vx(r);t_e({ownerDocument:c},!!(o&16));let u=r_e({ownerDocument:c,container:r,initialFocus:i},!!(o&2));n_e({ownerDocument:c,container:r,containers:s,previousActiveElement:u},!!(o&8));let d=Ywe(),f=Sn(x=>{let _=r.current;_&&(S=>S())(()=>{ns(d.current,{[cv.Forwards]:()=>{Bb(_,pf.First,{skipElements:[x.relatedTarget]})},[cv.Backwards]:()=>{Bb(_,pf.Last,{skipElements:[x.relatedTarget]})}})})}),g=FM(),v=b.useRef(!1),y={ref:n,onKeyDown(x){x.key=="Tab"&&(v.current=!0,g.requestAnimationFrame(()=>{v.current=!1}))},onBlur(x){let _=MZ(s);r.current instanceof HTMLElement&&_.add(r.current);let S=x.relatedTarget;S instanceof HTMLElement&&S.dataset.headlessuiFocusGuard!=="true"&&(LZ(_,S)||(v.current?Bb(r.current,ns(d.current,{[cv.Forwards]:()=>pf.Next,[cv.Backwards]:()=>pf.Previous})|pf.WrapAround,{relativeTo:x.target}):x.target instanceof HTMLElement&&Af(x.target)))}};return re.createElement(re.Fragment,null,!!(o&4)&&re.createElement(JA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:_w.Focusable}),Qa({ourProps:y,theirProps:l,defaultTag:Xwe,name:"FocusTrap"}),!!(o&4)&&re.createElement(JA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:f,features:_w.Focusable}))}let Qwe=xa(Jwe),zg=Object.assign(Qwe,{features:IZ});function e_e(t=!0){let e=b.useRef(Xu.slice());return BM(([r],[n])=>{n===!0&&r===!1&&v1(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Xu.slice())},[t,Xu,e]),Sn(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function t_e({ownerDocument:t},e){let r=e_e(e);BM(()=>{e||t?.activeElement===t?.body&&Af(r())},[e]),RZ(()=>{e&&Af(r())})}function r_e({ownerDocument:t,container:e,initialFocus:r},n){let i=b.useRef(null),s=yx();return BM(()=>{if(!n)return;let o=e.current;o&&v1(()=>{if(!s.current)return;let l=t?.activeElement;if(r!=null&&r.current){if(r?.current===l){i.current=l;return}}else if(o.contains(l)){i.current=l;return}r!=null&&r.current?Af(r.current):Bb(o,pf.First)===CZ.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.current=t?.activeElement})},[n]),i}function n_e({ownerDocument:t,container:e,containers:r,previousActiveElement:n},i){let s=yx();OZ(t?.defaultView,"focus",o=>{if(!i||!s.current)return;let l=MZ(r);e.current instanceof HTMLElement&&l.add(e.current);let c=n.current;if(!c)return;let u=o.target;u&&u instanceof HTMLElement?LZ(l,u)?(n.current=u,Af(u)):(o.preventDefault(),o.stopPropagation(),Af(c)):Af(n.current)},!0)}function LZ(t,e){for(let r of t)if(r.contains(e))return!0;return!1}let DZ=b.createContext(!1);function i_e(){return b.useContext(DZ)}function QA(t){return re.createElement(DZ.Provider,{value:t.force},t.children)}function s_e(t){let e=i_e(),r=b.useContext($Z),n=vx(t),[i,s]=b.useState(()=>{if(!e&&r!==null||Pc.isServer)return null;let o=n?.getElementById("headlessui-portal-root");if(o)return o;if(n===null)return null;let l=n.createElement("div");return l.setAttribute("id","headlessui-portal-root"),n.body.appendChild(l)});return b.useEffect(()=>{i!==null&&(n!=null&&n.body.contains(i)||n==null||n.body.appendChild(i))},[i,n]),b.useEffect(()=>{e||r!==null&&s(r.current)},[r,s,e]),i}let a_e=b.Fragment;function o_e(t,e){let r=t,n=b.useRef(null),i=$o(qwe(d=>{n.current=d}),e),s=vx(n),o=s_e(n),[l]=b.useState(()=>{var d;return Pc.isServer?null:(d=s?.createElement("div"))!=null?d:null}),c=b.useContext(eT),u=Lm();return Xa(()=>{!o||!l||o.contains(l)||(l.setAttribute("data-headlessui-portal",""),o.appendChild(l))},[o,l]),Xa(()=>{if(l&&c)return c.register(l)},[c,l]),RZ(()=>{var d;!o||!l||(l instanceof Node&&o.contains(l)&&o.removeChild(l),o.childNodes.length<=0&&((d=o.parentElement)==null||d.removeChild(o)))}),u?!o||!l?null:Do.createPortal(Qa({ourProps:{ref:i},theirProps:r,defaultTag:a_e,name:"Portal"}),l):null}let l_e=b.Fragment,$Z=b.createContext(null);function c_e(t,e){let{target:r,...n}=t,i={ref:$o(e)};return re.createElement($Z.Provider,{value:r},Qa({ourProps:i,theirProps:n,defaultTag:l_e,name:"Popover.Group"}))}let eT=b.createContext(null);function u_e(){let t=b.useContext(eT),e=b.useRef([]),r=Sn(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Sn(s=>{let o=e.current.indexOf(s);o!==-1&&e.current.splice(o,1),t&&t.unregister(s)}),i=b.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,b.useMemo(()=>function({children:s}){return re.createElement(eT.Provider,{value:i},s)},[i])]}let d_e=xa(o_e),f_e=xa(c_e),tT=Object.assign(d_e,{Group:f_e});function h_e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const p_e=typeof Object.is=="function"?Object.is:h_e,{useState:m_e,useEffect:g_e,useLayoutEffect:v_e,useDebugValue:y_e}=dd;function x_e(t,e,r){const n=e(),[{inst:i},s]=m_e({inst:{value:n,getSnapshot:e}});return v_e(()=>{i.value=n,i.getSnapshot=e,tN(i)&&s({inst:i})},[t,n,e]),g_e(()=>(tN(i)&&s({inst:i}),t(()=>{tN(i)&&s({inst:i})})),[t]),y_e(n),n}function tN(t){const e=t.getSnapshot,r=t.value;try{const n=e();return!p_e(r,n)}catch{return!0}}function b_e(t,e,r){return e()}const w_e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",__e=!w_e,S_e=__e?b_e:x_e,j_e="useSyncExternalStore"in dd?(t=>t.useSyncExternalStore)(dd):S_e;function C_e(t){return j_e(t.subscribe,t.getSnapshot,t.getSnapshot)}function N_e(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let o=e[i].call(r,...s);o&&(r=o,n.forEach(l=>l()))}}}function E_e(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,i=n.clientWidth-n.offsetWidth,s=t-i;r.style(n,"paddingRight",`${s}px`)}}}function P_e(){return EZ()?{before({doc:t,d:e,meta:r}){function n(i){return r.containers.flatMap(s=>s()).some(s=>s.contains(i))}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let l=nh();l.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>l.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,o=null;e.addEventListener(t,"click",l=>{if(l.target instanceof HTMLElement)try{let c=l.target.closest("a");if(!c)return;let{hash:u}=new URL(c.href),d=t.querySelector(u);d&&!n(d)&&(o=d)}catch{}},!0),e.addEventListener(t,"touchstart",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(l.target,"touchAction","none")}),e.addEventListener(t,"touchmove",l=>{if(l.target instanceof HTMLElement)if(n(l.target)){let c=l.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&l.preventDefault()}else l.preventDefault()},{passive:!1}),e.add(()=>{var l;let c=(l=window.scrollY)!=null?l:window.pageYOffset;s!==c&&window.scrollTo(0,s),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function k_e(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function A_e(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let vf=N_e(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:nh(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:A_e(r)},i=[P_e(),E_e(),k_e()];i.forEach(({before:s})=>s?.(n)),i.forEach(({after:s})=>s?.(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});vf.subscribe(()=>{let t=vf.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&vf.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&vf.dispatch("TEARDOWN",r)}});function T_e(t,e,r){let n=C_e(vf),i=t?n.get(t):void 0,s=i?i.count>0:!1;return Xa(()=>{if(!(!t||!e))return vf.dispatch("PUSH",t,r),()=>vf.dispatch("POP",t,r)},[e,t]),s}let rN=new Map,qg=new Map;function a5(t,e=!0){Xa(()=>{var r;if(!e)return;let n=typeof t=="function"?t():t.current;if(!n)return;function i(){var o;if(!n)return;let l=(o=qg.get(n))!=null?o:1;if(l===1?qg.delete(n):qg.set(n,l-1),l!==1)return;let c=rN.get(n);c&&(c["aria-hidden"]===null?n.removeAttribute("aria-hidden"):n.setAttribute("aria-hidden",c["aria-hidden"]),n.inert=c.inert,rN.delete(n))}let s=(r=qg.get(n))!=null?r:0;return qg.set(n,s+1),s!==0||(rN.set(n,{"aria-hidden":n.getAttribute("aria-hidden"),inert:n.inert}),n.setAttribute("aria-hidden","true"),n.inert=!0),i},[t,e])}function O_e({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){var n;let i=b.useRef((n=r?.current)!=null?n:null),s=vx(i),o=Sn(()=>{var l,c,u;let d=[];for(let f of t)f!==null&&(f instanceof HTMLElement?d.push(f):"current"in f&&f.current instanceof HTMLElement&&d.push(f.current));if(e!=null&&e.current)for(let f of e.current)d.push(f);for(let f of(l=s?.querySelectorAll("html > *, body > *"))!=null?l:[])f!==document.body&&f!==document.head&&f instanceof HTMLElement&&f.id!=="headlessui-portal-root"&&(f.contains(i.current)||f.contains((u=(c=i.current)==null?void 0:c.getRootNode())==null?void 0:u.host)||d.some(g=>f.contains(g))||d.push(f));return d});return{resolveContainers:o,contains:Sn(l=>o().some(c=>c.contains(l))),mainTreeNodeRef:i,MainTreeNode:b.useMemo(()=>function(){return r!=null?null:re.createElement(JA,{features:_w.Hidden,ref:i})},[i,r])}}let UM=b.createContext(()=>{});UM.displayName="StackContext";var rT=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(rT||{});function R_e(){return b.useContext(UM)}function M_e({children:t,onUpdate:e,type:r,element:n,enabled:i}){let s=R_e(),o=Sn((...l)=>{e?.(...l),s(...l)});return Xa(()=>{let l=i===void 0||i===!0;return l&&o(0,r,n),()=>{l&&o(1,r,n)}},[o,r,n,i]),re.createElement(UM.Provider,{value:o},t)}let FZ=b.createContext(null);function BZ(){let t=b.useContext(FZ);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,BZ),e}return t}function I_e(){let[t,e]=b.useState([]);return[t.length>0?t.join(" "):void 0,b.useMemo(()=>function(r){let n=Sn(s=>(e(o=>[...o,s]),()=>e(o=>{let l=o.slice(),c=l.indexOf(s);return c!==-1&&l.splice(c,1),l}))),i=b.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props}),[n,r.slot,r.name,r.props]);return re.createElement(FZ.Provider,{value:i},r.children)},[e])]}let L_e="p";function D_e(t,e){let r=Dm(),{id:n=`headlessui-description-${r}`,...i}=t,s=BZ(),o=$o(e);Xa(()=>s.register(n),[n,s.register]);let l={ref:o,...s.props,id:n};return Qa({ourProps:l,theirProps:i,slot:s.slot||{},defaultTag:L_e,name:s.name||"Description"})}let $_e=xa(D_e),F_e=Object.assign($_e,{});var B_e=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(B_e||{}),z_e=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(z_e||{});let q_e={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},Sw=b.createContext(null);Sw.displayName="DialogContext";function xx(t){let e=b.useContext(Sw);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,xx),r}return e}function U_e(t,e,r=()=>[document.body]){T_e(t,e,n=>{var i;return{containers:[...(i=n.containers)!=null?i:[],r]}})}function V_e(t,e){return ns(e.type,q_e,t,e)}let W_e="div",H_e=ww.RenderStrategy|ww.Static;function K_e(t,e){let r=Dm(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:o,role:l="dialog",__demoMode:c=!1,...u}=t,[d,f]=b.useState(0),g=b.useRef(!1);l=function(){return l==="dialog"||l==="alertdialog"?l:(g.current||(g.current=!0,console.warn(`Invalid role [${l}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let v=qM();i===void 0&&v!==null&&(i=(v&ua.Open)===ua.Open);let y=b.useRef(null),x=$o(y,e),_=vx(y),S=t.hasOwnProperty("open")||v!==null,C=t.hasOwnProperty("onClose");if(!S&&!C)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!S)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!C)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(typeof i!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${i}`);if(typeof s!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${s}`);let N=i?0:1,[A,E]=b.useReducer(V_e,{titleId:null,descriptionId:null,panelRef:b.createRef()}),k=Sn(()=>s(!1)),O=Sn(ne=>E({type:0,id:ne})),I=Lm()?c?!1:N===0:!1,z=d>1,W=b.useContext(Sw)!==null,[V,q]=u_e(),F={get current(){var ne;return(ne=A.panelRef.current)!=null?ne:y.current}},{resolveContainers:H,mainTreeNodeRef:Q,MainTreeNode:oe}=O_e({portals:V,defaultContainers:[F]}),K=z?"parent":"leaf",te=v!==null?(v&ua.Closing)===ua.Closing:!1,Z=W||te?!1:I,se=b.useCallback(()=>{var ne,J;return(J=Array.from((ne=_?.querySelectorAll("body > *"))!=null?ne:[]).find(Ee=>Ee.id==="headlessui-portal-root"?!1:Ee.contains(Q.current)&&Ee instanceof HTMLElement))!=null?J:null},[Q]);a5(se,Z);let X=z?!0:I,ce=b.useCallback(()=>{var ne,J;return(J=Array.from((ne=_?.querySelectorAll("[data-headlessui-portal]"))!=null?ne:[]).find(Ee=>Ee.contains(Q.current)&&Ee instanceof HTMLElement))!=null?J:null},[Q]);a5(ce,X),zwe(H,ne=>{ne.preventDefault(),k()},!(!I||z));let Te=!(z||N!==0);OZ(_?.defaultView,"keydown",ne=>{Te&&(ne.defaultPrevented||ne.key===TZ.Escape&&(ne.preventDefault(),ne.stopPropagation(),k()))}),U_e(_,!(te||N!==0||W),H),b.useEffect(()=>{if(N!==0||!y.current)return;let ne=new ResizeObserver(J=>{for(let Ee of J){let Ne=Ee.target.getBoundingClientRect();Ne.x===0&&Ne.y===0&&Ne.width===0&&Ne.height===0&&k()}});return ne.observe(y.current),()=>ne.disconnect()},[N,y,k]);let[pe,ue]=I_e(),_e=b.useMemo(()=>[{dialogState:N,close:k,setTitleId:O},A],[N,A,k,O]),ye=b.useMemo(()=>({open:N===0}),[N]),Ie={ref:x,id:n,role:l,"aria-modal":N===0?!0:void 0,"aria-labelledby":A.titleId,"aria-describedby":pe};return re.createElement(M_e,{type:"Dialog",enabled:N===0,element:y,onUpdate:Sn((ne,J)=>{J==="Dialog"&&ns(ne,{[rT.Add]:()=>f(Ee=>Ee+1),[rT.Remove]:()=>f(Ee=>Ee-1)})})},re.createElement(QA,{force:!0},re.createElement(tT,null,re.createElement(Sw.Provider,{value:_e},re.createElement(tT.Group,{target:y},re.createElement(QA,{force:!1},re.createElement(ue,{slot:ye,name:"Dialog.Description"},re.createElement(zg,{initialFocus:o,containers:H,features:I?ns(K,{parent:zg.features.RestoreFocus,leaf:zg.features.All&~zg.features.FocusLock}):zg.features.None},re.createElement(q,null,Qa({ourProps:Ie,theirProps:u,slot:ye,defaultTag:W_e,features:H_e,visible:N===0,name:"Dialog"}))))))))),re.createElement(oe,null))}let G_e="div";function Z_e(t,e){let r=Dm(),{id:n=`headlessui-dialog-overlay-${r}`,...i}=t,[{dialogState:s,close:o}]=xx("Dialog.Overlay"),l=$o(e),c=Sn(d=>{if(d.target===d.currentTarget){if(Gwe(d.currentTarget))return d.preventDefault();d.preventDefault(),d.stopPropagation(),o()}}),u=b.useMemo(()=>({open:s===0}),[s]);return Qa({ourProps:{ref:l,id:n,"aria-hidden":!0,onClick:c},theirProps:i,slot:u,defaultTag:G_e,name:"Dialog.Overlay"})}let Y_e="div";function X_e(t,e){let r=Dm(),{id:n=`headlessui-dialog-backdrop-${r}`,...i}=t,[{dialogState:s},o]=xx("Dialog.Backdrop"),l=$o(e);b.useEffect(()=>{if(o.panelRef.current===null)throw new Error("A <Dialog.Backdrop /> component is being used, but a <Dialog.Panel /> component is missing.")},[o.panelRef]);let c=b.useMemo(()=>({open:s===0}),[s]);return re.createElement(QA,{force:!0},re.createElement(tT,null,Qa({ourProps:{ref:l,id:n,"aria-hidden":!0},theirProps:i,slot:c,defaultTag:Y_e,name:"Dialog.Backdrop"})))}let J_e="div";function Q_e(t,e){let r=Dm(),{id:n=`headlessui-dialog-panel-${r}`,...i}=t,[{dialogState:s},o]=xx("Dialog.Panel"),l=$o(e,o.panelRef),c=b.useMemo(()=>({open:s===0}),[s]),u=Sn(d=>{d.stopPropagation()});return Qa({ourProps:{ref:l,id:n,onClick:u},theirProps:i,slot:c,defaultTag:J_e,name:"Dialog.Panel"})}let e1e="h2";function t1e(t,e){let r=Dm(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:o}]=xx("Dialog.Title"),l=$o(e);b.useEffect(()=>(o(n),()=>o(null)),[n,o]);let c=b.useMemo(()=>({open:s===0}),[s]);return Qa({ourProps:{ref:l,id:n},theirProps:i,slot:c,defaultTag:e1e,name:"Dialog.Title"})}let r1e=xa(K_e),n1e=xa(X_e),i1e=xa(Q_e),s1e=xa(Z_e),a1e=xa(t1e),o5=Object.assign(r1e,{Backdrop:n1e,Panel:i1e,Overlay:s1e,Title:a1e,Description:F_e});function o1e(t=0){let[e,r]=b.useState(t),n=yx(),i=b.useCallback(c=>{n.current&&r(u=>u|c)},[e,n]),s=b.useCallback(c=>!!(e&c),[e]),o=b.useCallback(c=>{n.current&&r(u=>u&~c)},[r,n]),l=b.useCallback(c=>{n.current&&r(u=>u^c)},[r]);return{flags:e,addFlag:i,hasFlag:s,removeFlag:o,toggleFlag:l}}function l1e(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function nN(t,...e){t&&e.length>0&&t.classList.add(...e)}function iN(t,...e){t&&e.length>0&&t.classList.remove(...e)}function c1e(t,e){let r=nh();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:i}=getComputedStyle(t),[s,o]=[n,i].map(c=>{let[u=0]=c.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,f)=>f-d);return u}),l=s+o;if(l!==0){r.group(u=>{u.setTimeout(()=>{e(),u.dispose()},l),u.addEventListener(t,"transitionrun",d=>{d.target===d.currentTarget&&u.dispose()})});let c=r.addEventListener(t,"transitionend",u=>{u.target===u.currentTarget&&(e(),c())})}else e();return r.add(()=>e()),r.dispose}function u1e(t,e,r,n){let i=r?"enter":"leave",s=nh(),o=n!==void 0?l1e(n):()=>{};i==="enter"&&(t.removeAttribute("hidden"),t.style.display="");let l=ns(i,{enter:()=>e.enter,leave:()=>e.leave}),c=ns(i,{enter:()=>e.enterTo,leave:()=>e.leaveTo}),u=ns(i,{enter:()=>e.enterFrom,leave:()=>e.leaveFrom});return iN(t,...e.base,...e.enter,...e.enterTo,...e.enterFrom,...e.leave,...e.leaveFrom,...e.leaveTo,...e.entered),nN(t,...e.base,...l,...u),s.nextFrame(()=>{iN(t,...e.base,...l,...u),nN(t,...e.base,...l,...c),c1e(t,()=>(iN(t,...e.base,...l),nN(t,...e.base,...e.entered),o()))}),s.dispose}function d1e({immediate:t,container:e,direction:r,classes:n,onStart:i,onStop:s}){let o=yx(),l=FM(),c=kc(r);Xa(()=>{t&&(c.current="enter")},[t]),Xa(()=>{let u=nh();l.add(u.dispose);let d=e.current;if(d&&c.current!=="idle"&&o.current)return u.dispose(),i.current(c.current),u.add(u1e(d,n.current,c.current==="enter",()=>{u.dispose(),s.current(c.current)})),u.dispose},[r])}function Fu(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let y1=b.createContext(null);y1.displayName="TransitionContext";var f1e=(t=>(t.Visible="visible",t.Hidden="hidden",t))(f1e||{});function h1e(){let t=b.useContext(y1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function p1e(){let t=b.useContext(x1);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let x1=b.createContext(null);x1.displayName="NestingContext";function b1(t){return"children"in t?b1(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function zZ(t,e){let r=kc(t),n=b.useRef([]),i=yx(),s=FM(),o=Sn((v,y=td.Hidden)=>{let x=n.current.findIndex(({el:_})=>_===v);x!==-1&&(ns(y,{[td.Unmount](){n.current.splice(x,1)},[td.Hidden](){n.current[x].state="hidden"}}),s.microTask(()=>{var _;!b1(n)&&i.current&&((_=r.current)==null||_.call(r))}))}),l=Sn(v=>{let y=n.current.find(({el:x})=>x===v);return y?y.state!=="visible"&&(y.state="visible"):n.current.push({el:v,state:"visible"}),()=>o(v,td.Unmount)}),c=b.useRef([]),u=b.useRef(Promise.resolve()),d=b.useRef({enter:[],leave:[],idle:[]}),f=Sn((v,y,x)=>{c.current.splice(0),e&&(e.chains.current[y]=e.chains.current[y].filter(([_])=>_!==v)),e?.chains.current[y].push([v,new Promise(_=>{c.current.push(_)})]),e?.chains.current[y].push([v,new Promise(_=>{Promise.all(d.current[y].map(([S,C])=>C)).then(()=>_())})]),y==="enter"?u.current=u.current.then(()=>e?.wait.current).then(()=>x(y)):x(y)}),g=Sn((v,y,x)=>{Promise.all(d.current[y].splice(0).map(([_,S])=>S)).then(()=>{var _;(_=c.current.shift())==null||_()}).then(()=>x(y))});return b.useMemo(()=>({children:n,register:l,unregister:o,onStart:f,onStop:g,wait:u,chains:d}),[l,o,n,f,g,d,u])}function m1e(){}let g1e=["beforeEnter","afterEnter","beforeLeave","afterLeave"];function l5(t){var e;let r={};for(let n of g1e)r[n]=(e=t[n])!=null?e:m1e;return r}function v1e(t){let e=b.useRef(l5(t));return b.useEffect(()=>{e.current=l5(t)},[t]),e}let y1e="div",qZ=ww.RenderStrategy;function x1e(t,e){var r,n;let{beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l,enter:c,enterFrom:u,enterTo:d,entered:f,leave:g,leaveFrom:v,leaveTo:y,...x}=t,_=b.useRef(null),S=$o(_,e),C=(r=x.unmount)==null||r?td.Unmount:td.Hidden,{show:N,appear:A,initial:E}=h1e(),[k,O]=b.useState(N?"visible":"hidden"),I=p1e(),{register:z,unregister:W}=I;b.useEffect(()=>z(_),[z,_]),b.useEffect(()=>{if(C===td.Hidden&&_.current){if(N&&k!=="visible"){O("visible");return}return ns(k,{hidden:()=>W(_),visible:()=>z(_)})}},[k,_,z,W,N,C]);let V=kc({base:Fu(x.className),enter:Fu(c),enterFrom:Fu(u),enterTo:Fu(d),entered:Fu(f),leave:Fu(g),leaveFrom:Fu(v),leaveTo:Fu(y)}),q=v1e({beforeEnter:i,afterEnter:s,beforeLeave:o,afterLeave:l}),F=Lm();b.useEffect(()=>{if(F&&k==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,k,F]);let H=E&&!A,Q=A&&N&&E,oe=!F||H?"idle":N?"enter":"leave",K=o1e(0),te=Sn(Te=>ns(Te,{enter:()=>{K.addFlag(ua.Opening),q.current.beforeEnter()},leave:()=>{K.addFlag(ua.Closing),q.current.beforeLeave()},idle:()=>{}})),Z=Sn(Te=>ns(Te,{enter:()=>{K.removeFlag(ua.Opening),q.current.afterEnter()},leave:()=>{K.removeFlag(ua.Closing),q.current.afterLeave()},idle:()=>{}})),se=zZ(()=>{O("hidden"),W(_)},I),X=b.useRef(!1);d1e({immediate:Q,container:_,classes:V,direction:oe,onStart:kc(Te=>{X.current=!0,se.onStart(_,Te,te)}),onStop:kc(Te=>{X.current=!1,se.onStop(_,Te,Z),Te==="leave"&&!b1(se)&&(O("hidden"),W(_))})});let ce=x,je={ref:S};return Q?ce={...ce,className:bw(x.className,...V.current.enter,...V.current.enterFrom)}:X.current&&(ce.className=bw(x.className,(n=_.current)==null?void 0:n.className),ce.className===""&&delete ce.className),re.createElement(x1.Provider,{value:se},re.createElement(Hwe,{value:ns(k,{visible:ua.Open,hidden:ua.Closed})|K.flags},Qa({ourProps:je,theirProps:ce,defaultTag:y1e,features:qZ,visible:k==="visible",name:"Transition.Child"})))}function b1e(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,o=b.useRef(null),l=$o(o,e);Lm();let c=qM();if(r===void 0&&c!==null&&(r=(c&ua.Open)===ua.Open),![!0,!1].includes(r))throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[u,d]=b.useState(r?"visible":"hidden"),f=zZ(()=>{d("hidden")}),[g,v]=b.useState(!0),y=b.useRef([r]);Xa(()=>{g!==!1&&y.current[y.current.length-1]!==r&&(y.current.push(r),v(!1))},[y,r]);let x=b.useMemo(()=>({show:r,appear:n,initial:g}),[r,n,g]);b.useEffect(()=>{if(r)d("visible");else if(!b1(f))d("hidden");else{let N=o.current;if(!N)return;let A=N.getBoundingClientRect();A.x===0&&A.y===0&&A.width===0&&A.height===0&&d("hidden")}},[r,f]);let _={unmount:i},S=Sn(()=>{var N;g&&v(!1),(N=t.beforeEnter)==null||N.call(t)}),C=Sn(()=>{var N;g&&v(!1),(N=t.beforeLeave)==null||N.call(t)});return re.createElement(x1.Provider,{value:f},re.createElement(y1.Provider,{value:x},Qa({ourProps:{..._,as:b.Fragment,children:re.createElement(UZ,{ref:l,..._,...s,beforeEnter:S,beforeLeave:C})},theirProps:{},defaultTag:b.Fragment,features:qZ,visible:u==="visible",name:"Transition"})))}function w1e(t,e){let r=b.useContext(y1)!==null,n=qM()!==null;return re.createElement(re.Fragment,null,!r&&n?re.createElement(nT,{ref:e,...t}):re.createElement(UZ,{ref:e,...t}))}let nT=xa(b1e),UZ=xa(x1e),_1e=xa(w1e),sN=Object.assign(nT,{Child:_1e,Root:nT});const S1e=[{name:"Tableau de bord",href:"/admin",icon:IH},{name:"Utilisateurs",href:"/admin/users",icon:Oo},{name:"Annonces",href:"/admin/listings",icon:Nv},{name:"Transactions",href:"/admin/transactions",icon:zp},{name:"Catégories",href:"/admin/categories",icon:Xf},{name:"Rapports",href:"/admin/analytics",icon:tM},{name:"Modération",href:"/admin/moderation",icon:uw},{name:"Paramètres",href:"/admin/settings",icon:gf}];function j1e({sidebarOpen:t,setSidebarOpen:e}){const r=is(),{logout:n}=Vr(),i=async()=>{try{await n(),e(!1)}catch(s){console.error("Erreur lors de la déconnexion:",s)}};return a.jsx(sN.Root,{show:t,as:b.Fragment,children:a.jsxs(o5,{as:"div",className:"fixed inset-0 z-40 flex md:hidden",onClose:e,children:[a.jsx(sN.Child,{as:b.Fragment,enter:"transition-opacity ease-linear duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"transition-opacity ease-linear duration-300",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:a.jsx(o5.Overlay,{className:"fixed inset-0 bg-gray-600 bg-opacity-75"})}),a.jsx(sN.Child,{as:b.Fragment,enter:"transition ease-in-out duration-300 transform",enterFrom:"-translate-x-full",enterTo:"translate-x-0",leave:"transition ease-in-out duration-300 transform",leaveFrom:"translate-x-0",leaveTo:"-translate-x-full",children:a.jsxs("div",{className:"relative flex-1 flex flex-col max-w-xs w-full bg-slate-900",children:[a.jsx("div",{className:"absolute top-0 right-0 -mr-12 pt-2",children:a.jsxs("button",{type:"button",className:"ml-1 flex items-center justify-center h-10 w-10 rounded-full focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",onClick:()=>e(!1),children:[a.jsx("span",{className:"sr-only",children:"Fermer le menu"}),a.jsx(Ws,{className:"h-6 w-6 text-white","aria-hidden":"true"})]})}),a.jsxs("div",{className:"flex-1 h-0 pt-5 pb-4 overflow-y-auto",children:[a.jsx("div",{className:"flex-shrink-0 flex items-center px-4",children:a.jsx("h1",{className:"text-xl font-bold text-white",children:"MaxiMarket Admin"})}),a.jsx("nav",{className:"mt-5 px-2 space-y-1",children:S1e.map(s=>a.jsxs(fr,{to:s.href,onClick:()=>e(!1),className:[r.pathname===s.href?"bg-slate-800 text-white":"text-slate-300 hover:bg-slate-800 hover:text-white","group flex items-center px-2 py-2 text-base font-medium rounded-md"].join(" "),children:[a.jsx(s.icon,{className:["mr-4 flex-shrink-0 h-6 w-6",r.pathname===s.href?"text-white":"text-slate-400 group-hover:text-white"].join(" "),"aria-hidden":"true"}),s.name]},s.name))})]}),a.jsx("div",{className:"flex-shrink-0 flex border-t border-slate-800 p-4",children:a.jsx("button",{onClick:i,className:"flex-shrink-0 w-full group block",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{children:a.jsx(sM,{className:"h-6 w-6 text-slate-400 group-hover:text-white","aria-hidden":"true"})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm font-medium text-slate-300 group-hover:text-white",children:"Déconnexion"})})]})})})]})}),a.jsx("div",{className:"flex-shrink-0 w-14"})]})})}function C1e(){const{user:t,hasRole:e,loading:r}=Vr(),[n,i]=b.useState(!1),s=ii();return b.useEffect(()=>{!r&&!t?s("/connexion",{state:{from:"/admin"}}):!r&&t&&!e("admin")&&s("/")},[t,r,e,s]),r?a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-slate-900",children:a.jsx(Qr,{className:"h-12 w-12 animate-spin text-blue-500"})}):a.jsxs("div",{className:"flex h-screen bg-slate-900 text-white overflow-hidden",children:[a.jsx(j1e,{sidebarOpen:n,setSidebarOpen:i}),a.jsx(Ewe,{className:"hidden md:flex"}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("header",{className:"bg-slate-800 border-b border-slate-700 flex items-center justify-between p-4",children:[a.jsxs("button",{type:"button",className:"md:hidden text-slate-400 hover:text-white focus:outline-none",onClick:()=>i(!0),children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("button",{className:"p-1 rounded-full text-slate-400 hover:text-white focus:outline-none",children:[a.jsx("span",{className:"sr-only",children:"Notifications"}),a.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})})]}),a.jsx("div",{className:"relative",children:a.jsxs("button",{className:"flex items-center space-x-2 focus:outline-none",children:[a.jsx("span",{className:"flex items-center justify-center h-8 w-8 rounded-full bg-slate-700 text-sm font-medium text-white",children:t?.name?.charAt(0)||"A"}),a.jsxs("span",{className:"hidden md:inline-flex items-center",children:[a.jsx("span",{className:"text-sm font-medium text-slate-300",children:t?.name||"Admin"}),a.jsx("svg",{className:"ml-2 h-4 w-4 text-slate-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})})]})]}),a.jsx("main",{className:"flex-1 overflow-y-auto bg-slate-900 p-4 md:p-8",children:a.jsx(v7,{})})]})]})}var bx=t=>t.type==="checkbox",yf=t=>t instanceof Date,hs=t=>t==null;const VZ=t=>typeof t=="object";var qn=t=>!hs(t)&&!Array.isArray(t)&&VZ(t)&&!yf(t),N1e=t=>qn(t)&&t.target?bx(t.target)?t.target.checked:t.target.value:t,E1e=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,P1e=(t,e)=>t.has(E1e(e)),k1e=t=>{const e=t.constructor&&t.constructor.prototype;return qn(e)&&e.hasOwnProperty("isPrototypeOf")},VM=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Zi(t){let e;const r=Array.isArray(t),n=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(VM&&(t instanceof Blob||n))&&(r||qn(t)))if(e=r?[]:{},!r&&!k1e(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Zi(t[i]));else return t;return e}var w1=t=>Array.isArray(t)?t.filter(Boolean):[],Jn=t=>t===void 0,wt=(t,e,r)=>{if(!e||!qn(t))return r;const n=w1(e.split(/[,[\].]+?/)).reduce((i,s)=>hs(i)?i:i[s],t);return Jn(n)||n===t?Jn(t[e])?r:t[e]:n},sl=t=>typeof t=="boolean",WM=t=>/^\w*$/.test(t),WZ=t=>w1(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Gr=(t,e,r)=>{let n=-1;const i=WM(e)?[e]:WZ(e),s=i.length,o=s-1;for(;++n<s;){const l=i[n];let c=r;if(n!==o){const u=t[l];c=qn(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(l==="__proto__"||l==="constructor"||l==="prototype")return;t[l]=c,t=t[l]}};const c5={BLUR:"blur",FOCUS_OUT:"focusout"},jo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},fc={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},A1e=re.createContext(null),T1e=()=>re.useContext(A1e);var O1e=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==jo.all&&(e._proxyFormState[o]=!n||jo.all),t[o]}});return i};const R1e=typeof window<"u"?b.useLayoutEffect:b.useEffect;var fl=t=>typeof t=="string",M1e=(t,e,r,n,i)=>fl(t)?(n&&e.watch.add(t),wt(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),wt(r,s))):(n&&(e.watchAll=!0),r),HZ=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Pv=t=>Array.isArray(t)?t:[t],u5=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},iT=t=>hs(t)||!VZ(t);function Ju(t,e){if(iT(t)||iT(e))return t===e;if(yf(t)&&yf(e))return t.getTime()===e.getTime();const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(const i of r){const s=t[i];if(!n.includes(i))return!1;if(i!=="ref"){const o=e[i];if(yf(s)&&yf(o)||qn(s)&&qn(o)||Array.isArray(s)&&Array.isArray(o)?!Ju(s,o):s!==o)return!1}}return!0}var Is=t=>qn(t)&&!Object.keys(t).length,HM=t=>t.type==="file",Co=t=>typeof t=="function",jw=t=>{if(!VM)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},KZ=t=>t.type==="select-multiple",KM=t=>t.type==="radio",I1e=t=>KM(t)||bx(t),aN=t=>jw(t)&&t.isConnected;function L1e(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Jn(t)?n++:t[e[n++]];return t}function D1e(t){for(const e in t)if(t.hasOwnProperty(e)&&!Jn(t[e]))return!1;return!0}function di(t,e){const r=Array.isArray(e)?e:WM(e)?[e]:WZ(e),n=r.length===1?t:L1e(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(qn(n)&&Is(n)||Array.isArray(n)&&D1e(n))&&di(t,r.slice(0,-1)),t}var GZ=t=>{for(const e in t)if(Co(t[e]))return!0;return!1};function Cw(t,e={}){const r=Array.isArray(t);if(qn(t)||r)for(const n in t)Array.isArray(t[n])||qn(t[n])&&!GZ(t[n])?(e[n]=Array.isArray(t[n])?[]:{},Cw(t[n],e[n])):hs(t[n])||(e[n]=!0);return e}function ZZ(t,e,r){const n=Array.isArray(t);if(qn(t)||n)for(const i in t)Array.isArray(t[i])||qn(t[i])&&!GZ(t[i])?Jn(e)||iT(r[i])?r[i]=Array.isArray(t[i])?Cw(t[i],[]):{...Cw(t[i])}:ZZ(t[i],hs(e)?{}:e[i],r[i]):r[i]=!Ju(t[i],e[i]);return r}var Ug=(t,e)=>ZZ(t,e,Cw(e));const d5={value:!1,isValid:!1},f5={value:!0,isValid:!0};var YZ=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Jn(t[0].attributes.value)?Jn(t[0].value)||t[0].value===""?f5:{value:t[0].value,isValid:!0}:f5:d5}return d5},XZ=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Jn(t)?t:e?t===""?NaN:t&&+t:r&&fl(t)?new Date(t):n?n(t):t;const h5={isValid:!1,value:null};var JZ=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,h5):h5;function p5(t){const e=t.ref;return HM(e)?e.files:KM(e)?JZ(t.refs).value:KZ(e)?[...e.selectedOptions].map(({value:r})=>r):bx(e)?YZ(t.refs).value:XZ(Jn(e.value)?t.ref.value:e.value,t)}var $1e=(t,e,r,n)=>{const i={};for(const s of t){const o=wt(e,s);o&&Gr(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Nw=t=>t instanceof RegExp,Vg=t=>Jn(t)?t:Nw(t)?t.source:qn(t)?Nw(t.value)?t.value.source:t.value:t,m5=t=>({isOnSubmit:!t||t===jo.onSubmit,isOnBlur:t===jo.onBlur,isOnChange:t===jo.onChange,isOnAll:t===jo.all,isOnTouch:t===jo.onTouched});const g5="AsyncFunction";var F1e=t=>!!t&&!!t.validate&&!!(Co(t.validate)&&t.validate.constructor.name===g5||qn(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===g5)),B1e=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),v5=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const kv=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=wt(t,i);if(s){const{_f:o,...l}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(kv(l,e))break}else if(qn(l)&&kv(l,e))break}}};function y5(t,e,r){const n=wt(t,r);if(n||WM(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=wt(e,s),l=wt(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(l&&l.type)return{name:s,error:l};if(l&&l.root&&l.root.type)return{name:`${s}.root`,error:l.root};i.pop()}return{name:r}}var z1e=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Is(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||jo.all))},q1e=(t,e,r)=>!t||!e||t===e||Pv(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),U1e=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,V1e=(t,e)=>!w1(wt(t,e)).length&&di(t,e),W1e=(t,e,r)=>{const n=Pv(wt(t,r));return Gr(n,"root",e[r]),Gr(t,r,n),t},zb=t=>fl(t);function x5(t,e,r="validate"){if(zb(t)||Array.isArray(t)&&t.every(zb)||sl(t)&&!t)return{type:r,message:zb(t)?t:"",ref:e}}var ep=t=>qn(t)&&!Nw(t)?t:{value:t,message:""},b5=async(t,e,r,n,i,s)=>{const{ref:o,refs:l,required:c,maxLength:u,minLength:d,min:f,max:g,pattern:v,validate:y,name:x,valueAsNumber:_,mount:S}=t._f,C=wt(r,x);if(!S||e.has(x))return{};const N=l?l[0]:o,A=q=>{i&&N.reportValidity&&(N.setCustomValidity(sl(q)?"":q||""),N.reportValidity())},E={},k=KM(o),O=bx(o),I=k||O,z=(_||HM(o))&&Jn(o.value)&&Jn(C)||jw(o)&&o.value===""||C===""||Array.isArray(C)&&!C.length,W=HZ.bind(null,x,n,E),V=(q,F,H,Q=fc.maxLength,oe=fc.minLength)=>{const K=q?F:H;E[x]={type:q?Q:oe,message:K,ref:o,...W(q?Q:oe,K)}};if(s?!Array.isArray(C)||!C.length:c&&(!I&&(z||hs(C))||sl(C)&&!C||O&&!YZ(l).isValid||k&&!JZ(l).isValid)){const{value:q,message:F}=zb(c)?{value:!!c,message:c}:ep(c);if(q&&(E[x]={type:fc.required,message:F,ref:N,...W(fc.required,F)},!n))return A(F),E}if(!z&&(!hs(f)||!hs(g))){let q,F;const H=ep(g),Q=ep(f);if(!hs(C)&&!isNaN(C)){const oe=o.valueAsNumber||C&&+C;hs(H.value)||(q=oe>H.value),hs(Q.value)||(F=oe<Q.value)}else{const oe=o.valueAsDate||new Date(C),K=se=>new Date(new Date().toDateString()+" "+se),te=o.type=="time",Z=o.type=="week";fl(H.value)&&C&&(q=te?K(C)>K(H.value):Z?C>H.value:oe>new Date(H.value)),fl(Q.value)&&C&&(F=te?K(C)<K(Q.value):Z?C<Q.value:oe<new Date(Q.value))}if((q||F)&&(V(!!q,H.message,Q.message,fc.max,fc.min),!n))return A(E[x].message),E}if((u||d)&&!z&&(fl(C)||s&&Array.isArray(C))){const q=ep(u),F=ep(d),H=!hs(q.value)&&C.length>+q.value,Q=!hs(F.value)&&C.length<+F.value;if((H||Q)&&(V(H,q.message,F.message),!n))return A(E[x].message),E}if(v&&!z&&fl(C)){const{value:q,message:F}=ep(v);if(Nw(q)&&!C.match(q)&&(E[x]={type:fc.pattern,message:F,ref:o,...W(fc.pattern,F)},!n))return A(F),E}if(y){if(Co(y)){const q=await y(C,r),F=x5(q,N);if(F&&(E[x]={...F,...W(fc.validate,F.message)},!n))return A(F.message),E}else if(qn(y)){let q={};for(const F in y){if(!Is(q)&&!n)break;const H=x5(await y[F](C,r),N,F);H&&(q={...H,...W(F,H.message)},A(H.message),n&&(E[x]=q))}if(!Is(q)&&(E[x]={ref:N,...q},!n))return E}}return A(!0),E};const H1e={mode:jo.onSubmit,reValidateMode:jo.onChange,shouldFocusError:!0};function K1e(t={}){let e={...H1e,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Co(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let i=qn(e.defaultValues)||qn(e.values)?Zi(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Zi(i),o={action:!1,mount:!1,watch:!1},l={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let f={...d};const g={array:u5(),state:u5()},v=e.criteriaMode===jo.all,y=ge=>Pe=>{clearTimeout(u),u=setTimeout(ge,Pe)},x=async ge=>{if(!e.disabled&&(d.isValid||f.isValid||ge)){const Pe=e.resolver?Is((await O()).errors):await z(n,!0);Pe!==r.isValid&&g.state.next({isValid:Pe})}},_=(ge,Pe)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&((ge||Array.from(l.mount)).forEach($e=>{$e&&(Pe?Gr(r.validatingFields,$e,Pe):di(r.validatingFields,$e))}),g.state.next({validatingFields:r.validatingFields,isValidating:!Is(r.validatingFields)}))},S=(ge,Pe=[],$e,rt,at=!0,le=!0)=>{if(rt&&$e&&!e.disabled){if(o.action=!0,le&&Array.isArray(wt(n,ge))){const Ae=$e(wt(n,ge),rt.argA,rt.argB);at&&Gr(n,ge,Ae)}if(le&&Array.isArray(wt(r.errors,ge))){const Ae=$e(wt(r.errors,ge),rt.argA,rt.argB);at&&Gr(r.errors,ge,Ae),V1e(r.errors,ge)}if((d.touchedFields||f.touchedFields)&&le&&Array.isArray(wt(r.touchedFields,ge))){const Ae=$e(wt(r.touchedFields,ge),rt.argA,rt.argB);at&&Gr(r.touchedFields,ge,Ae)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ug(i,s)),g.state.next({name:ge,isDirty:V(ge,Pe),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Gr(s,ge,Pe)},C=(ge,Pe)=>{Gr(r.errors,ge,Pe),g.state.next({errors:r.errors})},N=ge=>{r.errors=ge,g.state.next({errors:r.errors,isValid:!1})},A=(ge,Pe,$e,rt)=>{const at=wt(n,ge);if(at){const le=wt(s,ge,Jn($e)?wt(i,ge):$e);Jn(le)||rt&&rt.defaultChecked||Pe?Gr(s,ge,Pe?le:p5(at._f)):H(ge,le),o.mount&&x()}},E=(ge,Pe,$e,rt,at)=>{let le=!1,Ae=!1;const Y={name:ge};if(!e.disabled){if(!$e||rt){(d.isDirty||f.isDirty)&&(Ae=r.isDirty,r.isDirty=Y.isDirty=V(),le=Ae!==Y.isDirty);const D=Ju(wt(i,ge),Pe);Ae=!!wt(r.dirtyFields,ge),D?di(r.dirtyFields,ge):Gr(r.dirtyFields,ge,!0),Y.dirtyFields=r.dirtyFields,le=le||(d.dirtyFields||f.dirtyFields)&&Ae!==!D}if($e){const D=wt(r.touchedFields,ge);D||(Gr(r.touchedFields,ge,$e),Y.touchedFields=r.touchedFields,le=le||(d.touchedFields||f.touchedFields)&&D!==$e)}le&&at&&g.state.next(Y)}return le?Y:{}},k=(ge,Pe,$e,rt)=>{const at=wt(r.errors,ge),le=(d.isValid||f.isValid)&&sl(Pe)&&r.isValid!==Pe;if(e.delayError&&$e?(c=y(()=>C(ge,$e)),c(e.delayError)):(clearTimeout(u),c=null,$e?Gr(r.errors,ge,$e):di(r.errors,ge)),($e?!Ju(at,$e):at)||!Is(rt)||le){const Ae={...rt,...le&&sl(Pe)?{isValid:Pe}:{},errors:r.errors,name:ge};r={...r,...Ae},g.state.next(Ae)}},O=async ge=>{_(ge,!0);const Pe=await e.resolver(s,e.context,$1e(ge||l.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return _(ge),Pe},I=async ge=>{const{errors:Pe}=await O(ge);if(ge)for(const $e of ge){const rt=wt(Pe,$e);rt?Gr(r.errors,$e,rt):di(r.errors,$e)}else r.errors=Pe;return Pe},z=async(ge,Pe,$e={valid:!0})=>{for(const rt in ge){const at=ge[rt];if(at){const{_f:le,...Ae}=at;if(le){const Y=l.array.has(le.name),D=at._f&&F1e(at._f);D&&d.validatingFields&&_([rt],!0);const B=await b5(at,l.disabled,s,v,e.shouldUseNativeValidation&&!Pe,Y);if(D&&d.validatingFields&&_([rt]),B[le.name]&&($e.valid=!1,Pe))break;!Pe&&(wt(B,le.name)?Y?W1e(r.errors,B,le.name):Gr(r.errors,le.name,B[le.name]):di(r.errors,le.name))}!Is(Ae)&&await z(Ae,Pe,$e)}}return $e.valid},W=()=>{for(const ge of l.unMount){const Pe=wt(n,ge);Pe&&(Pe._f.refs?Pe._f.refs.every($e=>!aN($e)):!aN(Pe._f.ref))&&ue(ge)}l.unMount=new Set},V=(ge,Pe)=>!e.disabled&&(ge&&Pe&&Gr(s,ge,Pe),!Ju(se(),i)),q=(ge,Pe,$e)=>M1e(ge,l,{...o.mount?s:Jn(Pe)?i:fl(ge)?{[ge]:Pe}:Pe},$e,Pe),F=ge=>w1(wt(o.mount?s:i,ge,e.shouldUnregister?wt(i,ge,[]):[])),H=(ge,Pe,$e={})=>{const rt=wt(n,ge);let at=Pe;if(rt){const le=rt._f;le&&(!le.disabled&&Gr(s,ge,XZ(Pe,le)),at=jw(le.ref)&&hs(Pe)?"":Pe,KZ(le.ref)?[...le.ref.options].forEach(Ae=>Ae.selected=at.includes(Ae.value)):le.refs?bx(le.ref)?le.refs.forEach(Ae=>{(!Ae.defaultChecked||!Ae.disabled)&&(Array.isArray(at)?Ae.checked=!!at.find(Y=>Y===Ae.value):Ae.checked=at===Ae.value||!!at)}):le.refs.forEach(Ae=>Ae.checked=Ae.value===at):HM(le.ref)?le.ref.value="":(le.ref.value=at,le.ref.type||g.state.next({name:ge,values:Zi(s)})))}($e.shouldDirty||$e.shouldTouch)&&E(ge,at,$e.shouldTouch,$e.shouldDirty,!0),$e.shouldValidate&&Z(ge)},Q=(ge,Pe,$e)=>{for(const rt in Pe){if(!Pe.hasOwnProperty(rt))return;const at=Pe[rt],le=ge+"."+rt,Ae=wt(n,le);(l.array.has(ge)||qn(at)||Ae&&!Ae._f)&&!yf(at)?Q(le,at,$e):H(le,at,$e)}},oe=(ge,Pe,$e={})=>{const rt=wt(n,ge),at=l.array.has(ge),le=Zi(Pe);Gr(s,ge,le),at?(g.array.next({name:ge,values:Zi(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&$e.shouldDirty&&g.state.next({name:ge,dirtyFields:Ug(i,s),isDirty:V(ge,le)})):rt&&!rt._f&&!hs(le)?Q(ge,le,$e):H(ge,le,$e),v5(ge,l)&&g.state.next({...r}),g.state.next({name:o.mount?ge:void 0,values:Zi(s)})},K=async ge=>{o.mount=!0;const Pe=ge.target;let $e=Pe.name,rt=!0;const at=wt(n,$e),le=D=>{rt=Number.isNaN(D)||yf(D)&&isNaN(D.getTime())||Ju(D,wt(s,$e,D))},Ae=m5(e.mode),Y=m5(e.reValidateMode);if(at){let D,B;const he=Pe.type?p5(at._f):N1e(ge),Ce=ge.type===c5.BLUR||ge.type===c5.FOCUS_OUT,Be=!B1e(at._f)&&!e.resolver&&!wt(r.errors,$e)&&!at._f.deps||U1e(Ce,wt(r.touchedFields,$e),r.isSubmitted,Y,Ae),We=v5($e,l,Ce);Gr(s,$e,he),Ce?(at._f.onBlur&&at._f.onBlur(ge),c&&c(0)):at._f.onChange&&at._f.onChange(ge);const Tt=E($e,he,Ce),pr=!Is(Tt)||We;if(!Ce&&g.state.next({name:$e,type:ge.type,values:Zi(s)}),Be)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?Ce&&x():Ce||x()),pr&&g.state.next({name:$e,...We?{}:Tt});if(!Ce&&We&&g.state.next({...r}),e.resolver){const{errors:Xt}=await O([$e]);if(le(he),rt){const lr=y5(r.errors,n,$e),nr=y5(Xt,n,lr.name||$e);D=nr.error,$e=nr.name,B=Is(Xt)}}else _([$e],!0),D=(await b5(at,l.disabled,s,v,e.shouldUseNativeValidation))[$e],_([$e]),le(he),rt&&(D?B=!1:(d.isValid||f.isValid)&&(B=await z(n,!0)));rt&&(at._f.deps&&Z(at._f.deps),k($e,B,D,Tt))}},te=(ge,Pe)=>{if(wt(r.errors,Pe)&&ge.focus)return ge.focus(),1},Z=async(ge,Pe={})=>{let $e,rt;const at=Pv(ge);if(e.resolver){const le=await I(Jn(ge)?ge:at);$e=Is(le),rt=ge?!at.some(Ae=>wt(le,Ae)):$e}else ge?(rt=(await Promise.all(at.map(async le=>{const Ae=wt(n,le);return await z(Ae&&Ae._f?{[le]:Ae}:Ae)}))).every(Boolean),!(!rt&&!r.isValid)&&x()):rt=$e=await z(n);return g.state.next({...!fl(ge)||(d.isValid||f.isValid)&&$e!==r.isValid?{}:{name:ge},...e.resolver||!ge?{isValid:$e}:{},errors:r.errors}),Pe.shouldFocus&&!rt&&kv(n,te,ge?at:l.mount),rt},se=ge=>{const Pe={...o.mount?s:i};return Jn(ge)?Pe:fl(ge)?wt(Pe,ge):ge.map($e=>wt(Pe,$e))},X=(ge,Pe)=>({invalid:!!wt((Pe||r).errors,ge),isDirty:!!wt((Pe||r).dirtyFields,ge),error:wt((Pe||r).errors,ge),isValidating:!!wt(r.validatingFields,ge),isTouched:!!wt((Pe||r).touchedFields,ge)}),ce=ge=>{ge&&Pv(ge).forEach(Pe=>di(r.errors,Pe)),g.state.next({errors:ge?r.errors:{}})},je=(ge,Pe,$e)=>{const rt=(wt(n,ge,{_f:{}})._f||{}).ref,at=wt(r.errors,ge)||{},{ref:le,message:Ae,type:Y,...D}=at;Gr(r.errors,ge,{...D,...Pe,ref:rt}),g.state.next({name:ge,errors:r.errors,isValid:!1}),$e&&$e.shouldFocus&&rt&&rt.focus&&rt.focus()},Te=(ge,Pe)=>Co(ge)?g.state.subscribe({next:$e=>ge(q(void 0,Pe),$e)}):q(ge,Pe,!0),qe=ge=>g.state.subscribe({next:Pe=>{q1e(ge.name,Pe.name,ge.exact)&&z1e(Pe,ge.formState||d,Oe,ge.reRenderRoot)&&ge.callback({values:{...s},...r,...Pe})}}).unsubscribe,pe=ge=>(o.mount=!0,f={...f,...ge.formState},qe({...ge,formState:f})),ue=(ge,Pe={})=>{for(const $e of ge?Pv(ge):l.mount)l.mount.delete($e),l.array.delete($e),Pe.keepValue||(di(n,$e),di(s,$e)),!Pe.keepError&&di(r.errors,$e),!Pe.keepDirty&&di(r.dirtyFields,$e),!Pe.keepTouched&&di(r.touchedFields,$e),!Pe.keepIsValidating&&di(r.validatingFields,$e),!e.shouldUnregister&&!Pe.keepDefaultValue&&di(i,$e);g.state.next({values:Zi(s)}),g.state.next({...r,...Pe.keepDirty?{isDirty:V()}:{}}),!Pe.keepIsValid&&x()},_e=({disabled:ge,name:Pe})=>{(sl(ge)&&o.mount||ge||l.disabled.has(Pe))&&(ge?l.disabled.add(Pe):l.disabled.delete(Pe))},ye=(ge,Pe={})=>{let $e=wt(n,ge);const rt=sl(Pe.disabled)||sl(e.disabled);return Gr(n,ge,{...$e||{},_f:{...$e&&$e._f?$e._f:{ref:{name:ge}},name:ge,mount:!0,...Pe}}),l.mount.add(ge),$e?_e({disabled:sl(Pe.disabled)?Pe.disabled:e.disabled,name:ge}):A(ge,!0,Pe.value),{...rt?{disabled:Pe.disabled||e.disabled}:{},...e.progressive?{required:!!Pe.required,min:Vg(Pe.min),max:Vg(Pe.max),minLength:Vg(Pe.minLength),maxLength:Vg(Pe.maxLength),pattern:Vg(Pe.pattern)}:{},name:ge,onChange:K,onBlur:K,ref:at=>{if(at){ye(ge,Pe),$e=wt(n,ge);const le=Jn(at.value)&&at.querySelectorAll&&at.querySelectorAll("input,select,textarea")[0]||at,Ae=I1e(le),Y=$e._f.refs||[];if(Ae?Y.find(D=>D===le):le===$e._f.ref)return;Gr(n,ge,{_f:{...$e._f,...Ae?{refs:[...Y.filter(aN),le,...Array.isArray(wt(i,ge))?[{}]:[]],ref:{type:le.type,name:ge}}:{ref:le}}}),A(ge,!1,void 0,le)}else $e=wt(n,ge,{}),$e._f&&($e._f.mount=!1),(e.shouldUnregister||Pe.shouldUnregister)&&!(P1e(l.array,ge)&&o.action)&&l.unMount.add(ge)}}},Ie=()=>e.shouldFocusError&&kv(n,te,l.mount),ne=ge=>{sl(ge)&&(g.state.next({disabled:ge}),kv(n,(Pe,$e)=>{const rt=wt(n,$e);rt&&(Pe.disabled=rt._f.disabled||ge,Array.isArray(rt._f.refs)&&rt._f.refs.forEach(at=>{at.disabled=rt._f.disabled||ge}))},0,!1))},J=(ge,Pe)=>async $e=>{let rt;$e&&($e.preventDefault&&$e.preventDefault(),$e.persist&&$e.persist());let at=Zi(s);if(g.state.next({isSubmitting:!0}),e.resolver){const{errors:le,values:Ae}=await O();r.errors=le,at=Ae}else await z(n);if(l.disabled.size)for(const le of l.disabled)Gr(at,le,void 0);if(di(r.errors,"root"),Is(r.errors)){g.state.next({errors:{}});try{await ge(at,$e)}catch(le){rt=le}}else Pe&&await Pe({...r.errors},$e),Ie(),setTimeout(Ie);if(g.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Is(r.errors)&&!rt,submitCount:r.submitCount+1,errors:r.errors}),rt)throw rt},Ee=(ge,Pe={})=>{wt(n,ge)&&(Jn(Pe.defaultValue)?oe(ge,Zi(wt(i,ge))):(oe(ge,Pe.defaultValue),Gr(i,ge,Zi(Pe.defaultValue))),Pe.keepTouched||di(r.touchedFields,ge),Pe.keepDirty||(di(r.dirtyFields,ge),r.isDirty=Pe.defaultValue?V(ge,Zi(wt(i,ge))):V()),Pe.keepError||(di(r.errors,ge),d.isValid&&x()),g.state.next({...r}))},Ne=(ge,Pe={})=>{const $e=ge?Zi(ge):i,rt=Zi($e),at=Is(ge),le=at?i:rt;if(Pe.keepDefaultValues||(i=$e),!Pe.keepValues){if(Pe.keepDirtyValues){const Ae=new Set([...l.mount,...Object.keys(Ug(i,s))]);for(const Y of Array.from(Ae))wt(r.dirtyFields,Y)?Gr(le,Y,wt(s,Y)):oe(Y,wt(le,Y))}else{if(VM&&Jn(ge))for(const Ae of l.mount){const Y=wt(n,Ae);if(Y&&Y._f){const D=Array.isArray(Y._f.refs)?Y._f.refs[0]:Y._f.ref;if(jw(D)){const B=D.closest("form");if(B){B.reset();break}}}}for(const Ae of l.mount)oe(Ae,wt(le,Ae))}s=Zi(le),g.array.next({values:{...le}}),g.state.next({values:{...le}})}l={mount:Pe.keepDirtyValues?l.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!Pe.keepIsValid||!!Pe.keepDirtyValues,o.watch=!!e.shouldUnregister,g.state.next({submitCount:Pe.keepSubmitCount?r.submitCount:0,isDirty:at?!1:Pe.keepDirty?r.isDirty:!!(Pe.keepDefaultValues&&!Ju(ge,i)),isSubmitted:Pe.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:at?{}:Pe.keepDirtyValues?Pe.keepDefaultValues&&s?Ug(i,s):r.dirtyFields:Pe.keepDefaultValues&&ge?Ug(i,ge):Pe.keepDirty?r.dirtyFields:{},touchedFields:Pe.keepTouched?r.touchedFields:{},errors:Pe.keepErrors?r.errors:{},isSubmitSuccessful:Pe.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Je=(ge,Pe)=>Ne(Co(ge)?ge(s):ge,Pe),Xe=(ge,Pe={})=>{const $e=wt(n,ge),rt=$e&&$e._f;if(rt){const at=rt.refs?rt.refs[0]:rt.ref;at.focus&&(at.focus(),Pe.shouldSelect&&Co(at.select)&&at.select())}},Oe=ge=>{r={...r,...ge}},Gt={control:{register:ye,unregister:ue,getFieldState:X,handleSubmit:J,setError:je,_subscribe:qe,_runSchema:O,_focusError:Ie,_getWatch:q,_getDirty:V,_setValid:x,_setFieldArray:S,_setDisabledField:_e,_setErrors:N,_getFieldArray:F,_reset:Ne,_resetDefaultValues:()=>Co(e.defaultValues)&&e.defaultValues().then(ge=>{Je(ge,e.resetOptions),g.state.next({isLoading:!1})}),_removeUnmounted:W,_disableForm:ne,_subjects:g,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state(ge){o=ge},get _defaultValues(){return i},get _names(){return l},set _names(ge){l=ge},get _formState(){return r},get _options(){return e},set _options(ge){e={...e,...ge}}},subscribe:pe,trigger:Z,register:ye,handleSubmit:J,watch:Te,setValue:oe,getValues:se,reset:Je,resetField:Ee,clearErrors:ce,unregister:ue,setError:je,setFocus:Xe,getFieldState:X};return{...Gt,formControl:Gt}}function $m(t={}){const e=re.useRef(void 0),r=re.useRef(void 0),[n,i]=re.useState({isDirty:!1,isValidating:!1,isLoading:Co(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Co(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:K1e(t),formState:n},t.formControl&&t.defaultValues&&!Co(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const s=e.current.control;return s._options=t,R1e(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(l=>({...l,isReady:!0})),s._formState.isReady=!0,o},[s]),re.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),re.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),re.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),re.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),re.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),re.useEffect(()=>{t.values&&!Ju(t.values,r.current)?(s._reset(t.values,s._options.resetOptions),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),re.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=O1e(n,s),e.current}var G1e="Label",QZ=b.forwardRef((t,e)=>a.jsx(br.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));QZ.displayName=G1e;var eY=QZ;const ft=re.forwardRef(({className:t,...e},r)=>a.jsx(eY,{ref:r,className:Ye("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",t),...e}));ft.displayName=eY.displayName;function GM(t){const e=b.useRef({value:t,previous:t});return b.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var _1="Checkbox",[Z1e,B7e]=sn(_1),[Y1e,ZM]=Z1e(_1);function X1e(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:i,disabled:s,form:o,name:l,onCheckedChange:c,required:u,value:d="on",internal_do_not_use_render:f}=t,[g,v]=Vs({prop:r,defaultProp:i??!1,onChange:c,caller:_1}),[y,x]=b.useState(null),[_,S]=b.useState(null),C=b.useRef(!1),N=y?!!o||!!y.closest("form"):!0,A={checked:g,disabled:s,setChecked:v,control:y,setControl:x,name:l,form:o,value:d,hasConsumerStoppedPropagationRef:C,required:u,defaultChecked:sd(i)?!1:i,isFormControl:N,bubbleInput:_,setBubbleInput:S};return a.jsx(Y1e,{scope:e,...A,children:J1e(f)?f(A):n})}var tY="CheckboxTrigger",rY=b.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},i)=>{const{control:s,value:o,disabled:l,checked:c,required:u,setControl:d,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:v,bubbleInput:y}=ZM(tY,t),x=vt(i,d),_=b.useRef(c);return b.useEffect(()=>{const S=s?.form;if(S){const C=()=>f(_.current);return S.addEventListener("reset",C),()=>S.removeEventListener("reset",C)}},[s,f]),a.jsx(br.button,{type:"button",role:"checkbox","aria-checked":sd(c)?"mixed":c,"aria-required":u,"data-state":oY(c),"data-disabled":l?"":void 0,disabled:l,value:o,...n,ref:x,onKeyDown:Qe(e,S=>{S.key==="Enter"&&S.preventDefault()}),onClick:Qe(r,S=>{f(C=>sd(C)?!0:!C),y&&v&&(g.current=S.isPropagationStopped(),g.current||S.stopPropagation())})})});rY.displayName=tY;var YM=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c,onCheckedChange:u,form:d,...f}=t;return a.jsx(X1e,{__scopeCheckbox:r,checked:i,defaultChecked:s,disabled:l,required:o,onCheckedChange:u,name:n,form:d,value:c,internal_do_not_use_render:({isFormControl:g})=>a.jsxs(a.Fragment,{children:[a.jsx(rY,{...f,ref:e,__scopeCheckbox:r}),g&&a.jsx(aY,{__scopeCheckbox:r})]})})});YM.displayName=_1;var nY="CheckboxIndicator",iY=b.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...i}=t,s=ZM(nY,r);return a.jsx(Hs,{present:n||sd(s.checked)||s.checked===!0,children:a.jsx(br.span,{"data-state":oY(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});iY.displayName=nY;var sY="CheckboxBubbleInput",aY=b.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:o,required:l,disabled:c,name:u,value:d,form:f,bubbleInput:g,setBubbleInput:v}=ZM(sY,t),y=vt(r,v),x=GM(s),_=eh(n);b.useEffect(()=>{const C=g;if(!C)return;const N=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(N,"checked").set,k=!i.current;if(x!==s&&E){const O=new Event("click",{bubbles:k});C.indeterminate=sd(s),E.call(C,sd(s)?!1:s),C.dispatchEvent(O)}},[g,x,s,i]);const S=b.useRef(sd(s)?!1:s);return a.jsx(br.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??S.current,required:l,disabled:c,name:u,value:d,form:f,...e,tabIndex:-1,ref:y,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});aY.displayName=sY;function J1e(t){return typeof t=="function"}function sd(t){return t==="indeterminate"}function oY(t){return sd(t)?"indeterminate":t?"checked":"unchecked"}const lY=b.forwardRef(({className:t,...e},r)=>a.jsx(YM,{ref:r,className:Ye("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:a.jsx(iY,{className:Ye("flex items-center justify-center text-current"),children:a.jsx(Bp,{className:"h-4 w-4"})})}));lY.displayName=YM.displayName;const Q1e=()=>{const{login:t}=Vr(),{register:e,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=$m(),[s,o]=b.useState(!1),{t:l}=Qf("auth"),c=async u=>{await t(u,s)};return a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:l("login.title")}),a.jsx(ei,{children:l("login.subtitle")})]}),a.jsx(rr,{children:a.jsxs("form",{onSubmit:r(c),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"email",children:l("login.email")}),a.jsxs("div",{className:"relative",children:[a.jsx(Lc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:l("validation.emailRequired"),pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:l("validation.emailInvalid")}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"password",children:l("login.password")}),a.jsxs("div",{className:"relative",children:[a.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...e("password",{required:l("validation.passwordRequired"),minLength:{value:8,message:l("validation.passwordMinLength")}})})]}),n.password&&a.jsx("p",{className:"text-sm text-destructive",children:n.password.message})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(lY,{id:"rememberMe",checked:s,onCheckedChange:o}),a.jsx(ft,{htmlFor:"rememberMe",className:"text-sm font-normal cursor-pointer",children:l("login.rememberMe")})]}),a.jsx(me,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),l("status.loading")]}):l("login.loginButton")})]})}),a.jsxs(Hv,{className:"flex flex-col space-y-2",children:[a.jsx(fr,{to:"/mot-de-passe-oublie",className:"text-sm text-primary hover:underline",children:"Mot de passe oublié ?"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Pas encore de compte ?"," ",a.jsx(fr,{to:"/inscription",className:"text-primary hover:underline",children:"S'inscrire"})]})]})]})})},eSe=()=>{const{user:t,loading:e}=Vr(),r=ii(),n=is();return b.useEffect(()=>{if(!e&&t){const i=n.state?.from||(t.role==="admin"?"/admin":"/");r(i,{replace:!0})}},[t,e,r,n]),e||t?null:a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(Q1e,{})})},tSe=()=>{const{register:t}=Vr(),{register:e,handleSubmit:r,watch:n,formState:{errors:i,isSubmitting:s}}=$m(),[o,l]=b.useState({shown:!1,email:""}),[c,u]=b.useState(!1),[d,f]=b.useState(null),g=async y=>{const x=await t(y);x&&x.needsConfirmation&&l({shown:!0,email:y.email})},v=n("password");return o.shown?a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Che,{className:"h-5 w-5 text-green-600"}),a.jsx(jr,{children:"Inscription réussie"})]}),a.jsx(ei,{children:"Vérifiez votre email pour confirmer votre compte."})]}),a.jsxs(rr,{className:"space-y-4",children:[a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Nous avons envoyé un lien de confirmation à:",a.jsx("div",{className:"mt-1 font-medium text-foreground",children:o.email})]}),d&&a.jsx("div",{className:"text-sm",children:d}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{type:"button",onClick:async()=>{try{u(!0),f(null);const{error:y}=await we.auth.resend({type:"signup",email:o.email,options:{emailRedirectTo:`${window.location.origin}/auth/callback`}});if(y)throw y;f("Un nouvel email de confirmation a été envoyé.")}catch(y){f(y.message||"Impossible d'envoyer l'email de confirmation.")}finally{u(!1)}},disabled:c,className:"inline-flex items-center",children:c?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Hhe,{className:"mr-2 h-4 w-4"}),"Renvoyer l'email"]})}),a.jsx(me,{type:"button",variant:"outline",onClick:()=>l({shown:!1,email:""}),children:"Utiliser une autre adresse"})]})]}),a.jsxs(Hv,{className:"flex flex-col items-start gap-2",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Déjà confirmé ?"}),a.jsx(fr,{to:"/connexion",className:"text-primary hover:underline text-sm",children:"Se connecter"})]})]})}):a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md mx-auto p-4",children:a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Inscription"}),a.jsx(ei,{children:"Créez votre compte MaxiMarket"})]}),a.jsx(rr,{children:a.jsxs("form",{onSubmit:r(g),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"firstName",type:"text",placeholder:"John",className:"pl-10",...e("firstName",{required:"Le prénom est requis",minLength:{value:2,message:"Le prénom doit contenir au moins 2 caractères"}})})]}),i.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:i.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"lastName",type:"text",placeholder:"Doe",className:"pl-10",...e("lastName",{required:"Le nom est requis",minLength:{value:2,message:"Le nom doit contenir au moins 2 caractères"}})})]}),i.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:i.lastName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),i.email&&a.jsx("p",{className:"text-sm text-destructive",children:i.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"phoneNumber",type:"tel",placeholder:"+221 77 123 45 67",className:"pl-10",...e("phoneNumber",{required:"Le numéro de téléphone est requis",pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),i.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:i.phoneNumber.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"password",children:"Mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"password",type:"password",placeholder:"••••••••",className:"pl-10",...e("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),i.password&&a.jsx("p",{className:"text-sm text-destructive",children:i.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"confirmPassword",type:"password",placeholder:"••••••••",className:"pl-10",...e("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:y=>y===v||"Les mots de passe ne correspondent pas"})})]}),i.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:i.confirmPassword.message})]}),a.jsx(me,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Inscription en cours..."]}):"S'inscrire"})]})}),a.jsx(Hv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Déjà un compte ?"," ",a.jsx(fr,{to:"/connexion",className:"text-primary hover:underline",children:"Se connecter"})]})})]})})},rSe=()=>a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx(tSe,{})}),nSe=()=>{const{toast:t}=dn(),{register:e,handleSubmit:r,formState:{errors:n,isSubmitting:i}}=$m(),s=async o=>{try{t({title:"Email envoyé",description:"Si un compte existe avec cet email, vous recevrez les instructions de réinitialisation."})}catch(l){t({title:"Erreur",description:l.message,variant:"destructive"})}};return a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Mot de passe oublié"}),a.jsx(ei,{children:"Entrez votre adresse email pour recevoir les instructions de réinitialisation"})]}),a.jsx(rr,{children:a.jsxs("form",{onSubmit:r(s),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"email",type:"email",placeholder:"votre@email.com",className:"pl-10",...e("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),n.email&&a.jsx("p",{className:"text-sm text-destructive",children:n.email.message})]}),a.jsx(me,{type:"submit",className:"w-full",disabled:i,children:i?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Envoi en cours..."]}):"Envoyer les instructions"})]})}),a.jsx(Hv,{children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Retour à la"," ",a.jsx(fr,{to:"/connexion",className:"text-primary hover:underline",children:"page de connexion"})]})})]})})})},iSe=()=>{const{toast:t}=dn(),e=ii(),[r]=uR(),n=r.get("token"),{register:i,handleSubmit:s,watch:o,formState:{errors:l,isSubmitting:c}}=$m(),u=o("password"),d=async f=>{try{if(!n)throw new Error("Token de réinitialisation manquant");t({title:"Mot de passe réinitialisé",description:"Vous pouvez maintenant vous connecter avec votre nouveau mot de passe."}),e("/connexion")}catch(g){t({title:"Erreur",description:g.message,variant:"destructive"})}};return n?a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Réinitialisation du mot de passe"}),a.jsx(ei,{children:"Choisissez votre nouveau mot de passe"})]}),a.jsx(rr,{children:a.jsxs("form",{onSubmit:s(d),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"password",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"password",type:"password",className:"pl-10",...i("password",{required:"Le mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"},pattern:{value:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,message:"Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial"}})})]}),l.password&&a.jsx("p",{className:"text-sm text-destructive",children:l.password.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"confirmPassword",children:"Confirmer le mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"confirmPassword",type:"password",className:"pl-10",...i("confirmPassword",{required:"Veuillez confirmer votre mot de passe",validate:f=>f===u||"Les mots de passe ne correspondent pas"})})]}),l.confirmPassword&&a.jsx("p",{className:"text-sm text-destructive",children:l.confirmPassword.message})]}),a.jsx(me,{type:"submit",className:"w-full",disabled:c,children:c?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Réinitialisation en cours..."]}):"Réinitialiser le mot de passe"})]})})]})})}):a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Jt,{children:a.jsxs(Sr,{children:[a.jsx(jr,{className:"text-destructive",children:"Lien invalide"}),a.jsx(ei,{children:"Le lien de réinitialisation est invalide ou a expiré. Veuillez faire une nouvelle demande de réinitialisation."})]})})})},sSe=(t="dashboard")=>{const[e,r]=uR(),[n,i]=b.useState(t);return b.useEffect(()=>{const o=e.get("tab");o&&i(o)},[e]),{activeTab:n,handleTabChange:o=>{i(o),r({tab:o})},setActiveTab:i}},ib=({title:t,value:e,icon:r,trend:n,trendValue:i,color:s="blue",className:o})=>{const l={blue:"from-blue-500 to-blue-600",green:"from-green-500 to-green-600",purple:"from-purple-500 to-purple-600",orange:"from-orange-500 to-orange-600",red:"from-red-500 to-red-600",teal:"from-teal-500 to-teal-600",indigo:"from-indigo-500 to-indigo-600",pink:"from-pink-500 to-pink-600"},c={blue:"text-blue-200",green:"text-green-200",purple:"text-purple-200",orange:"text-orange-200",red:"text-red-200",teal:"text-teal-200",indigo:"text-indigo-200",pink:"text-pink-200"};return a.jsx(Jt,{className:Ye(`bg-gradient-to-br ${l[s]} text-white overflow-hidden`,o),children:a.jsx(rr,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm opacity-90 mb-1",children:t}),a.jsx("p",{className:"text-2xl font-bold",children:e}),n&&a.jsx("div",{className:"flex items-center mt-2",children:a.jsxs(Et,{variant:"secondary",className:Ye("text-xs bg-white/20 text-white border-0",n==="up"?"text-green-200":"text-red-200"),children:[n==="up"?"↗":"↘"," ",i]})})]}),r&&a.jsx("div",{className:Ye("p-3 rounded-full bg-white/10",c[s]),children:a.jsx(r,{className:"h-6 w-6"})})]})})})},aSe=(t={})=>{const{threshold:e=.1,rootMargin:r="50px",root:n=null,triggerOnce:i=!1}=t,[s,o]=b.useState(!1),[l,c]=b.useState(!1),u=b.useRef(null),d=b.useCallback(f=>{const[g]=f;g.isIntersecting?(o(!0),i&&!l&&c(!0)):i||o(!1)},[i,l]);return b.useEffect(()=>{const f=u.current;if(!f)return;const g=new IntersectionObserver(d,{threshold:e,rootMargin:r,root:n});return g.observe(f),()=>{g.unobserve(f),g.disconnect()}},[d,e,r,n]),[u,s]},oSe=(t={})=>{const{threshold:e=.1,rootMargin:r="100px",placeholder:n=null,onLoad:i=null,onError:s=null}=t,[o,l]=b.useState({src:null,isLoading:!1,hasLoaded:!1,hasError:!1}),[c,u]=aSe({threshold:e,rootMargin:r,triggerOnce:!0}),d=b.useCallback(g=>{if(!g||o.src===g)return;l(y=>({...y,src:g,isLoading:!0,hasLoaded:!1,hasError:!1}));const v=new Image;v.onload=()=>{l(y=>({...y,isLoading:!1,hasLoaded:!0})),i?.(g)},v.onerror=()=>{l(y=>({...y,isLoading:!1,hasError:!0})),s?.(g)},v.src=g},[o.src,i,s]);b.useEffect(()=>{u&&o.src&&d(o.src)},[u,o.src,d]);const f=b.useCallback(g=>{g!==o.src&&l(v=>({...v,src:g}))},[o.src]);return{elementRef:c,isIntersecting:u,imageState:o,setImageSrc:f,loadImage:d}},w5={thumbnail:{width:150,height:150},card:{width:400,height:300},gallery:{width:800,height:600},fullscreen:{width:1200,height:900},hero:{width:1920,height:1080}},_5={low:60,medium:80,high:95},cY=(t,e="gallery",r="medium")=>{if(!t)return t;const n=w5[e]||w5.gallery,i=_5[r]||_5.medium;if(t.includes("unsplash.com"))return`${t}?w=${n.width}&h=${n.height}&fit=crop&q=${i}&auto=format&fm=webp`;if(t.includes("cloudinary.com"))return t.replace("/upload/",`/upload/w_${n.width},h_${n.height},c_fill,q_${i},f_auto/`);if(t.includes("imagekit.io"))return`${t}?tr=w-${n.width},h-${n.height},c-at_max,q-${i}`;if(t.includes("cdn.")||t.includes("static.")){const s=t.includes("?")?"&":"?";return`${t}${s}w=${n.width}&h=${n.height}&q=${i}`}return t},lSe=(t,e="gallery",r="medium")=>Array.isArray(t)?t.map(n=>cY(n,e,r)):[],cSe=({src:t,alt:e,className:r="",placeholder:n=null,context:i="gallery",quality:s="medium",onLoad:o=null,onError:l=null,showSkeleton:c=!0,priority:u="medium",fallbackSrc:d=null,enableHeroAnimations:f=!1,showOverlay:g=!1,overlayGradient:v="to-b from-transparent via-transparent to-black/20",...y})=>{const[x,_]=b.useState(!1),[S,C]=b.useState(!1),N=Q=>Q?typeof Q=="string"?Q:Q?.url?Q.url:Q?.file?URL.createObjectURL(Q.file):Q?.src?Q.src:Q?.displayUrl?Q.displayUrl:null:null,A=b.useMemo(()=>{const Q=N(t);return Q?cY(Q,i,s):null},[t,i,s]),E=b.useMemo(()=>{if(d)return d;const Q={hero:"https://images.unsplash.com/photo-1542044896530-05d85be9b11a?q=80&w=2070&auto=format&fit=crop",city:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?q=80&w=1920&auto=format&fit=crop",business:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"};return Q[i]||Q.hero},[d,i]),{elementRef:k,isIntersecting:O,imageState:I,setImageSrc:z}=oSe({threshold:.1,rootMargin:u==="high"?"50px":"100px",onLoad:Q=>{C(!0),_(!1),o?.(Q)},onError:Q=>{_(!0),C(!1),l?.(Q)}});re.useEffect(()=>{O&&A&&z(A)},[O,A,z]);const W=b.useCallback(Q=>{y.onClick&&y.onClick(Q)},[y.onClick]),V=x?E:I.src||N(t),q=()=>a.jsx("div",{className:"animate-pulse bg-muted rounded-lg",children:a.jsx("div",{className:"w-full h-full bg-gradient-to-r from-muted via-muted/50 to-muted"})}),F=()=>a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-muted text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Image non disponible"})]})});if(!t)return a.jsx("div",{className:r,children:a.jsx(F,{})});const H=N(t)!==null;return a.jsxs("div",{ref:k,className:`relative overflow-hidden ${r}`,children:[c&&!S&&!x&&H&&a.jsx(Ei,{children:a.jsx(ze.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx(q,{})})}),n&&!S&&!x&&H&&a.jsx(Ei,{children:a.jsx(ze.div,{initial:{opacity:1},exit:{opacity:0},transition:{duration:.3},className:"absolute inset-0 z-10",children:a.jsx("img",{src:n,alt:"Placeholder",className:"w-full h-full object-cover"})})}),a.jsx(Ei,{mode:"wait",children:!x&&H&&a.jsx(ze.img,{src:V,alt:e,className:`w-full h-full object-cover transition-opacity duration-300 ${S?"opacity-100":"opacity-0"}`,initial:f?{opacity:0,scale:1.1}:{opacity:0},animate:f?{opacity:S?1:.7,scale:S?1:1.05}:{opacity:S?1:0},exit:f?{opacity:0,scale:.95}:{opacity:0},transition:f?{duration:.8,ease:"easeOut",opacity:{duration:.5}}:{duration:.3},onLoad:()=>{V&&(C(!0),_(!1),o?.(V))},onError:()=>{_(!0),C(!1),l?.(V)},onClick:W,loading:u==="high"?"eager":"lazy",decoding:"async",...y},V)}),g&&S&&a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3,delay:.2},className:`absolute inset-0 bg-gradient-${v}`}),x&&a.jsx(Ei,{children:a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.3},className:"absolute inset-0 z-20",children:a.jsx(F,{})})}),I.isLoading&&!S&&!x&&H&&a.jsx("div",{className:"absolute inset-0 z-30 flex items-center justify-center bg-black/10",children:a.jsx(ze.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-6 h-6 border-2 border-primary border-t-transparent rounded-full"})}),!H&&a.jsx("div",{className:"absolute inset-0 z-20 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx("svg",{className:"w-8 h-8 mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),a.jsx("p",{className:"text-sm",children:"Format d'image non supporté"})]})})]})},Ew=re.memo(cSe),uY=re.memo(({images:t=[],title:e="Galerie d'images",className:r=""})=>{const[n,i]=b.useState(0),[s,o]=b.useState(!1),l=v=>v?typeof v=="string"?v:v?.url?v.url:v?.file?URL.createObjectURL(v.file):v?.src?v.src:v?.displayUrl?v.displayUrl:null:null,c=t.filter(v=>l(v)!==null);b.useEffect(()=>{if(!s||c.length<=1)return;const v=setInterval(()=>{i(y=>(y+1)%c.length)},3e3);return()=>clearInterval(v)},[s,c.length]);const u=()=>{c.length>0&&i(v=>(v+1)%c.length)},d=()=>{c.length>0&&i(v=>(v-1+c.length)%c.length)},f=v=>{v>=0&&v<c.length&&i(v)};if(!c||c.length===0)return a.jsx("div",{className:`relative bg-muted flex items-center justify-center ${r}`,children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{className:"text-xs sm:text-sm",children:"Aucune image"})})});const g=c[n];return a.jsxs("div",{className:`relative bg-muted overflow-hidden group ${r}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[a.jsx(Ei,{mode:"wait",children:a.jsx(ze.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},transition:{duration:.3},className:"w-full h-full",children:a.jsx(Ew,{src:g,alt:`${e} - Image ${n+1}`,className:"w-full h-full object-cover",context:"card",quality:"medium",showSkeleton:!0})},n)}),c.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v=>{v.stopPropagation(),d()},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image précédente",children:a.jsx(Ga,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),a.jsx("button",{onClick:v=>{v.stopPropagation(),u()},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white p-1 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-200 z-10","aria-label":"Image suivante",children:a.jsx(Za,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]}),c.length>1&&a.jsx("div",{className:"absolute bottom-2 left-1/2 -translate-x-1/2 flex gap-1 sm:gap-1.5",children:c.map((v,y)=>a.jsx("button",{onClick:x=>{x.stopPropagation(),f(y)},className:`w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full transition-all duration-200 ${y===n?"bg-white":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${y+1}`},y))})]})}),S5=({listing:t,onEdit:e,onDelete:r,onRefresh:n,onBoost:i,showActions:s=!0})=>{const o=u=>{switch(u){case"active":return"bg-green-100 text-green-800 border-green-200";case"pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"expired":return"bg-red-100 text-red-800 border-red-200";case"draft":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},l=u=>{switch(u){case"active":return"Active";case"pending":return"En attente";case"expired":return"Expirée";case"draft":return"Brouillon";default:return u}},c=u=>{let d="";if(typeof u=="string")d=u;else if(u&&typeof u=="object"&&u.name)d=u.name;else return"📦";switch(d.toLowerCase()){case"immobilier":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📦"}};return a.jsxs(Jt,{className:"overflow-hidden hover:shadow-lg transition-all duration-300 group",children:[a.jsxs("div",{className:"relative",children:[a.jsx(uY,{images:t.images||[t.image],title:t.title,className:"h-48"}),a.jsxs("div",{className:"absolute top-2 right-2 flex space-x-1",children:[a.jsx(Et,{variant:"secondary",className:Ye("text-xs font-medium",o(t.status)),children:l(t.status)}),t.featured&&a.jsx(Et,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-200 text-xs",children:"⭐ Premium"})]}),a.jsx("div",{className:"absolute top-2 left-2",children:a.jsx("span",{className:"text-2xl",children:c(t.category)})})]}),a.jsx(rr,{className:"p-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg mb-1 line-clamp-2",children:t.title}),a.jsx("p",{className:"text-primary font-bold text-lg",children:t.price})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(vl,{className:"h-3 w-3 mr-1"}),t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:t.location?.city||t.location?.country||"Localisation non spécifiée"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Hc,{className:"h-3 w-3 mr-1"}),t.createdAt||t.created_at?new Date(t.createdAt||t.created_at).toLocaleDateString("fr-FR"):"Date inconnue"]})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ic,{className:"h-4 w-4 mr-1"}),t.views||t.views_count||0," vues"]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Oo,{className:"h-4 w-4 mr-1"}),t.contacts||t.contacts_count||0," contacts"]})]}),t.boosted&&a.jsxs(Et,{variant:"outline",className:"text-xs",children:[a.jsx(Po,{className:"h-3 w-3 mr-1"}),"Boosté"]})]}),s&&a.jsxs("div",{className:"flex space-x-2 pt-2 border-t",children:[a.jsxs(me,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>e?.(t),children:[a.jsx(t1,{className:"h-4 w-4 mr-1"}),"Modifier"]}),t.status==="active"&&a.jsxs(me,{size:"sm",variant:"outline",onClick:()=>i?.(t),className:"flex-1",children:[a.jsx(Po,{className:"h-4 w-4 mr-1"}),"Booster"]}),a.jsx(me,{size:"sm",variant:"outline",onClick:()=>n?.(t),children:a.jsx(Sl,{className:"h-4 w-4"})}),a.jsx(me,{size:"sm",variant:"outline",onClick:()=>r?.(t),className:"text-red-600 hover:text-red-700",children:a.jsx(Mo,{className:"h-4 w-4"})})]})]})})]})};function sT(t){const e=uSe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(fSe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function uSe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=pSe(i),l=hSe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dSe=Symbol("radix.slottable");function fSe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dSe}function hSe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function pSe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function mSe(t){const e=t+"CollectionProvider",[r,n]=sn(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,C=re.useRef(null),N=re.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:N,collectionRef:C,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=sT(l),u=re.forwardRef((x,_)=>{const{scope:S,children:C}=x,N=s(l,S),A=vt(_,N.collectionRef);return a.jsx(c,{ref:A,children:C})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=sT(d),v=re.forwardRef((x,_)=>{const{scope:S,children:C,...N}=x,A=re.useRef(null),E=vt(_,A),k=s(d,S);return re.useEffect(()=>(k.itemMap.set(A,{ref:A,...N}),()=>void k.itemMap.delete(A))),a.jsx(g,{[f]:"",ref:E,children:C})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return re.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((k,O)=>N.indexOf(k.ref.current)-N.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var gSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],dY=gSe.reduce((t,e)=>{const r=sT(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vSe(t){const e=ySe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(bSe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function ySe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=_Se(i),l=wSe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var xSe=Symbol("radix.slottable");function bSe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===xSe}function wSe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function _Se(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var SSe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],XM=SSe.reduce((t,e)=>{const r=vSe(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),S1="Collapsible",[jSe,fY]=sn(S1),[CSe,JM]=jSe(S1),hY=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,open:n,defaultOpen:i,disabled:s,onOpenChange:o,...l}=t,[c,u]=Vs({prop:n,defaultProp:i??!1,onChange:o,caller:S1});return a.jsx(CSe,{scope:r,disabled:s,contentId:zs(),open:c,onOpenToggle:b.useCallback(()=>u(d=>!d),[u]),children:a.jsx(XM.div,{"data-state":eI(c),"data-disabled":s?"":void 0,...l,ref:e})})});hY.displayName=S1;var pY="CollapsibleTrigger",mY=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,...n}=t,i=JM(pY,r);return a.jsx(XM.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":eI(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...n,ref:e,onClick:Qe(t.onClick,i.onOpenToggle)})});mY.displayName=pY;var QM="CollapsibleContent",gY=b.forwardRef((t,e)=>{const{forceMount:r,...n}=t,i=JM(QM,t.__scopeCollapsible);return a.jsx(Hs,{present:r||i.open,children:({present:s})=>a.jsx(NSe,{...n,ref:e,present:s})})});gY.displayName=QM;var NSe=b.forwardRef((t,e)=>{const{__scopeCollapsible:r,present:n,children:i,...s}=t,o=JM(QM,r),[l,c]=b.useState(n),u=b.useRef(null),d=vt(e,u),f=b.useRef(0),g=f.current,v=b.useRef(0),y=v.current,x=o.open||l,_=b.useRef(x),S=b.useRef(void 0);return b.useEffect(()=>{const C=requestAnimationFrame(()=>_.current=!1);return()=>cancelAnimationFrame(C)},[]),Cr(()=>{const C=u.current;if(C){S.current=S.current||{transitionDuration:C.style.transitionDuration,animationName:C.style.animationName},C.style.transitionDuration="0s",C.style.animationName="none";const N=C.getBoundingClientRect();f.current=N.height,v.current=N.width,_.current||(C.style.transitionDuration=S.current.transitionDuration,C.style.animationName=S.current.animationName),c(n)}},[o.open,n]),a.jsx(XM.div,{"data-state":eI(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!x,...s,ref:d,style:{"--radix-collapsible-content-height":g?`${g}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:x&&i})});function eI(t){return t?"open":"closed"}var ESe=hY,PSe=mY,kSe=gY,Fo="Accordion",ASe=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[tI,TSe,OSe]=mSe(Fo),[j1,z7e]=sn(Fo,[OSe,fY]),rI=fY(),vY=re.forwardRef((t,e)=>{const{type:r,...n}=t,i=n,s=n;return a.jsx(tI.Provider,{scope:t.__scopeAccordion,children:r==="multiple"?a.jsx(LSe,{...s,ref:e}):a.jsx(ISe,{...i,ref:e})})});vY.displayName=Fo;var[yY,RSe]=j1(Fo),[xY,MSe]=j1(Fo,{collapsible:!1}),ISe=re.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},collapsible:s=!1,...o}=t,[l,c]=Vs({prop:r,defaultProp:n??"",onChange:i,caller:Fo});return a.jsx(yY,{scope:t.__scopeAccordion,value:re.useMemo(()=>l?[l]:[],[l]),onItemOpen:c,onItemClose:re.useCallback(()=>s&&c(""),[s,c]),children:a.jsx(xY,{scope:t.__scopeAccordion,collapsible:s,children:a.jsx(bY,{...o,ref:e})})})}),LSe=re.forwardRef((t,e)=>{const{value:r,defaultValue:n,onValueChange:i=()=>{},...s}=t,[o,l]=Vs({prop:r,defaultProp:n??[],onChange:i,caller:Fo}),c=re.useCallback(d=>l((f=[])=>[...f,d]),[l]),u=re.useCallback(d=>l((f=[])=>f.filter(g=>g!==d)),[l]);return a.jsx(yY,{scope:t.__scopeAccordion,value:o,onItemOpen:c,onItemClose:u,children:a.jsx(xY,{scope:t.__scopeAccordion,collapsible:!0,children:a.jsx(bY,{...s,ref:e})})})}),[DSe,C1]=j1(Fo),bY=re.forwardRef((t,e)=>{const{__scopeAccordion:r,disabled:n,dir:i,orientation:s="vertical",...o}=t,l=re.useRef(null),c=vt(l,e),u=TSe(r),f=Om(i)==="ltr",g=Qe(t.onKeyDown,v=>{if(!ASe.includes(v.key))return;const y=v.target,x=u().filter(I=>!I.ref.current?.disabled),_=x.findIndex(I=>I.ref.current===y),S=x.length;if(_===-1)return;v.preventDefault();let C=_;const N=0,A=S-1,E=()=>{C=_+1,C>A&&(C=N)},k=()=>{C=_-1,C<N&&(C=A)};switch(v.key){case"Home":C=N;break;case"End":C=A;break;case"ArrowRight":s==="horizontal"&&(f?E():k());break;case"ArrowDown":s==="vertical"&&E();break;case"ArrowLeft":s==="horizontal"&&(f?k():E());break;case"ArrowUp":s==="vertical"&&k();break}const O=C%S;x[O].ref.current?.focus()});return a.jsx(DSe,{scope:r,disabled:n,direction:i,orientation:s,children:a.jsx(tI.Slot,{scope:r,children:a.jsx(dY.div,{...o,"data-orientation":s,ref:c,onKeyDown:n?void 0:g})})})}),Pw="AccordionItem",[$Se,nI]=j1(Pw),wY=re.forwardRef((t,e)=>{const{__scopeAccordion:r,value:n,...i}=t,s=C1(Pw,r),o=RSe(Pw,r),l=rI(r),c=zs(),u=n&&o.value.includes(n)||!1,d=s.disabled||t.disabled;return a.jsx($Se,{scope:r,open:u,disabled:d,triggerId:c,children:a.jsx(ESe,{"data-orientation":s.orientation,"data-state":EY(u),...l,...i,ref:e,disabled:d,open:u,onOpenChange:f=>{f?o.onItemOpen(n):o.onItemClose(n)}})})});wY.displayName=Pw;var _Y="AccordionHeader",SY=re.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=C1(Fo,r),s=nI(_Y,r);return a.jsx(dY.h3,{"data-orientation":i.orientation,"data-state":EY(s.open),"data-disabled":s.disabled?"":void 0,...n,ref:e})});SY.displayName=_Y;var aT="AccordionTrigger",jY=re.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=C1(Fo,r),s=nI(aT,r),o=MSe(aT,r),l=rI(r);return a.jsx(tI.ItemSlot,{scope:r,children:a.jsx(PSe,{"aria-disabled":s.open&&!o.collapsible||void 0,"data-orientation":i.orientation,id:s.triggerId,...l,...n,ref:e})})});jY.displayName=aT;var CY="AccordionContent",NY=re.forwardRef((t,e)=>{const{__scopeAccordion:r,...n}=t,i=C1(Fo,r),s=nI(CY,r),o=rI(r);return a.jsx(kSe,{role:"region","aria-labelledby":s.triggerId,"data-orientation":i.orientation,...o,...n,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}})});NY.displayName=CY;function EY(t){return t?"open":"closed"}var FSe=vY,BSe=wY,zSe=SY,PY=jY,kY=NY;const qSe=FSe,AY=re.forwardRef(({className:t,...e},r)=>a.jsx(BSe,{ref:r,className:Ye("border-b border-border",t),...e}));AY.displayName="AccordionItem";const TY=re.forwardRef(({className:t,children:e,...r},n)=>a.jsx(zSe,{className:"flex",children:a.jsxs(PY,{ref:n,className:Ye("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline text-foreground [&[data-state=open]>svg]:rotate-180",t),...r,children:[e,a.jsx(Cc,{className:"h-4 w-4 shrink-0 transition-transform duration-200 text-muted-foreground"})]})}));TY.displayName=PY.displayName;const OY=re.forwardRef(({className:t,children:e,...r},n)=>a.jsx(kY,{ref:n,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:a.jsx("div",{className:Ye("pb-4 pt-0 text-muted-foreground",t),children:e})}));OY.displayName=kY.displayName;var N1="Dialog",[RY,MY]=sn(N1),[USe,Bo]=RY(N1),IY=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,l=b.useRef(null),c=b.useRef(null),[u,d]=Vs({prop:n,defaultProp:i??!1,onChange:s,caller:N1});return a.jsx(USe,{scope:e,triggerRef:l,contentRef:c,contentId:zs(),titleId:zs(),descriptionId:zs(),open:u,onOpenChange:d,onOpenToggle:b.useCallback(()=>d(f=>!f),[d]),modal:o,children:r})};IY.displayName=N1;var LY="DialogTrigger",DY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Bo(LY,r),s=vt(e,i.triggerRef);return a.jsx(br.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":aI(i.open),...n,ref:s,onClick:Qe(t.onClick,i.onOpenToggle)})});DY.displayName=LY;var iI="DialogPortal",[VSe,$Y]=RY(iI,{forceMount:void 0}),FY=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:i}=t,s=Bo(iI,e);return a.jsx(VSe,{scope:e,forceMount:r,children:b.Children.map(n,o=>a.jsx(Hs,{present:r||s.open,children:a.jsx(d1,{asChild:!0,container:i,children:o})}))})};FY.displayName=iI;var kw="DialogOverlay",BY=b.forwardRef((t,e)=>{const r=$Y(kw,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Bo(kw,t.__scopeDialog);return s.modal?a.jsx(Hs,{present:n||s.open,children:a.jsx(HSe,{...i,ref:e})}):null});BY.displayName=kw;var WSe=Wp("DialogOverlay.RemoveScroll"),HSe=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Bo(kw,r);return a.jsx(px,{as:WSe,allowPinchZoom:!0,shards:[i.contentRef],children:a.jsx(br.div,{"data-state":aI(i.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Ff="DialogContent",zY=b.forwardRef((t,e)=>{const r=$Y(Ff,t.__scopeDialog),{forceMount:n=r.forceMount,...i}=t,s=Bo(Ff,t.__scopeDialog);return a.jsx(Hs,{present:n||s.open,children:s.modal?a.jsx(KSe,{...i,ref:e}):a.jsx(GSe,{...i,ref:e})})});zY.displayName=Ff;var KSe=b.forwardRef((t,e)=>{const r=Bo(Ff,t.__scopeDialog),n=b.useRef(null),i=vt(e,r.contentRef,n);return b.useEffect(()=>{const s=n.current;if(s)return f1(s)},[]),a.jsx(qY,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(t.onCloseAutoFocus,s=>{s.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:Qe(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&s.preventDefault()}),onFocusOutside:Qe(t.onFocusOutside,s=>s.preventDefault())})}),GSe=b.forwardRef((t,e)=>{const r=Bo(Ff,t.__scopeDialog),n=b.useRef(!1),i=b.useRef(!1);return a.jsx(qY,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),qY=b.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,l=Bo(Ff,r),c=b.useRef(null),u=vt(e,c);return wM(),a.jsxs(a.Fragment,{children:[a.jsx(_M,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(o1,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":aI(l.open),...o,ref:u,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(YSe,{titleId:l.titleId}),a.jsx(JSe,{contentRef:c,descriptionId:l.descriptionId})]})]})}),sI="DialogTitle",UY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Bo(sI,r);return a.jsx(br.h2,{id:i.titleId,...n,ref:e})});UY.displayName=sI;var VY="DialogDescription",WY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Bo(VY,r);return a.jsx(br.p,{id:i.descriptionId,...n,ref:e})});WY.displayName=VY;var HY="DialogClose",KY=b.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,i=Bo(HY,r);return a.jsx(br.button,{type:"button",...n,ref:e,onClick:Qe(t.onClick,()=>i.onOpenChange(!1))})});KY.displayName=HY;function aI(t){return t?"open":"closed"}var GY="DialogTitleWarning",[ZSe,ZY]=Cve(GY,{contentName:Ff,titleName:sI,docsSlug:"dialog"}),YSe=({titleId:t})=>{const e=ZY(GY),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return b.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},XSe="DialogDescriptionWarning",JSe=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ZY(XSe).contentName}}.`;return b.useEffect(()=>{const i=t.current?.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},YY=IY,QSe=DY,XY=FY,oI=BY,lI=zY,cI=UY,uI=WY,dI=KY,JY="AlertDialog",[eje,q7e]=sn(JY,[MY]),Gc=MY(),QY=t=>{const{__scopeAlertDialog:e,...r}=t,n=Gc(e);return a.jsx(YY,{...n,...r,modal:!0})};QY.displayName=JY;var tje="AlertDialogTrigger",rje=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Gc(r);return a.jsx(QSe,{...i,...n,ref:e})});rje.displayName=tje;var nje="AlertDialogPortal",eX=t=>{const{__scopeAlertDialog:e,...r}=t,n=Gc(e);return a.jsx(XY,{...n,...r})};eX.displayName=nje;var ije="AlertDialogOverlay",tX=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Gc(r);return a.jsx(oI,{...i,...n,ref:e})});tX.displayName=ije;var kp="AlertDialogContent",[sje,aje]=eje(kp),oje=bve("AlertDialogContent"),rX=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...i}=t,s=Gc(r),o=b.useRef(null),l=vt(e,o),c=b.useRef(null);return a.jsx(ZSe,{contentName:kp,titleName:nX,docsSlug:"alert-dialog",children:a.jsx(sje,{scope:r,cancelRef:c,children:a.jsxs(lI,{role:"alertdialog",...s,...i,ref:l,onOpenAutoFocus:Qe(i.onOpenAutoFocus,u=>{u.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[a.jsx(oje,{children:n}),a.jsx(cje,{contentRef:o})]})})})});rX.displayName=kp;var nX="AlertDialogTitle",iX=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Gc(r);return a.jsx(cI,{...i,...n,ref:e})});iX.displayName=nX;var sX="AlertDialogDescription",aX=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Gc(r);return a.jsx(uI,{...i,...n,ref:e})});aX.displayName=sX;var lje="AlertDialogAction",oX=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,i=Gc(r);return a.jsx(dI,{...i,...n,ref:e})});oX.displayName=lje;var lX="AlertDialogCancel",cX=b.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:i}=aje(lX,r),s=Gc(r),o=vt(e,i);return a.jsx(dI,{...s,...n,ref:o})});cX.displayName=lX;var cje=({contentRef:t})=>{const e=`\`${kp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${kp}\` by passing a \`${sX}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${kp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return b.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},uje=QY,dje=eX,uX=tX,dX=rX,fX=oX,hX=cX,pX=iX,mX=aX;const gX=uje,fje=dje,vX=b.forwardRef(({className:t,...e},r)=>a.jsx(uX,{className:Ye("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));vX.displayName=uX.displayName;const fI=b.forwardRef(({className:t,...e},r)=>a.jsxs(fje,{children:[a.jsx(vX,{}),a.jsx(dX,{ref:r,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));fI.displayName=dX.displayName;const hI=({className:t,...e})=>a.jsx("div",{className:Ye("flex flex-col space-y-2 text-center sm:text-left",t),...e});hI.displayName="AlertDialogHeader";const pI=({className:t,...e})=>a.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});pI.displayName="AlertDialogFooter";const mI=b.forwardRef(({className:t,...e},r)=>a.jsx(pX,{ref:r,className:Ye("text-lg font-semibold",t),...e}));mI.displayName=pX.displayName;const gI=b.forwardRef(({className:t,...e},r)=>a.jsx(mX,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));gI.displayName=mX.displayName;const yX=b.forwardRef(({className:t,...e},r)=>a.jsx(fX,{ref:r,className:Ye(pM(),t),...e}));yX.displayName=fX.displayName;const vI=b.forwardRef(({className:t,...e},r)=>a.jsx(hX,{ref:r,className:Ye(pM({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));vI.displayName=hX.displayName;var oN={exports:{}},lN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function hje(){if(j5)return lN;j5=1;var t=B_();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(f,g){var v=g(),y=n({inst:{value:v,getSnapshot:g}}),x=y[0].inst,_=y[1];return s(function(){x.value=v,x.getSnapshot=g,c(x)&&_({inst:x})},[f,v,g]),i(function(){return c(x)&&_({inst:x}),f(function(){c(x)&&_({inst:x})})},[f]),o(v),v}function c(f){var g=f.getSnapshot;f=f.value;try{var v=g();return!r(f,v)}catch{return!0}}function u(f,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return lN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,lN}var C5;function pje(){return C5||(C5=1,oN.exports=hje()),oN.exports}var mje=pje();function gje(){return mje.useSyncExternalStore(vje,()=>!0,()=>!1)}function vje(){return()=>{}}var yI="Avatar",[yje,U7e]=sn(yI),[xje,xX]=yje(yI),bX=b.forwardRef((t,e)=>{const{__scopeAvatar:r,...n}=t,[i,s]=b.useState("idle");return a.jsx(xje,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:a.jsx(br.span,{...n,ref:e})})});bX.displayName=yI;var wX="AvatarImage",_X=b.forwardRef((t,e)=>{const{__scopeAvatar:r,src:n,onLoadingStatusChange:i=()=>{},...s}=t,o=xX(wX,r),l=bje(n,s),c=Tr(u=>{i(u),o.onImageLoadingStatusChange(u)});return Cr(()=>{l!=="idle"&&c(l)},[l,c]),l==="loaded"?a.jsx(br.img,{...s,ref:e,src:n}):null});_X.displayName=wX;var SX="AvatarFallback",jX=b.forwardRef((t,e)=>{const{__scopeAvatar:r,delayMs:n,...i}=t,s=xX(SX,r),[o,l]=b.useState(n===void 0);return b.useEffect(()=>{if(n!==void 0){const c=window.setTimeout(()=>l(!0),n);return()=>window.clearTimeout(c)}},[n]),o&&s.imageLoadingStatus!=="loaded"?a.jsx(br.span,{...i,ref:e}):null});jX.displayName=SX;function N5(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function bje(t,{referrerPolicy:e,crossOrigin:r}){const n=gje(),i=b.useRef(null),s=n?(i.current||(i.current=new window.Image),i.current):null,[o,l]=b.useState(()=>N5(s,t));return Cr(()=>{l(N5(s,t))},[s,t]),Cr(()=>{const c=f=>()=>{l(f)};if(!s)return;const u=c("loaded"),d=c("error");return s.addEventListener("load",u),s.addEventListener("error",d),e&&(s.referrerPolicy=e),typeof r=="string"&&(s.crossOrigin=r),()=>{s.removeEventListener("load",u),s.removeEventListener("error",d)}},[s,r,e]),o}var CX=bX,NX=_X,EX=jX;const Aw=re.forwardRef(({className:t,...e},r)=>a.jsx(CX,{ref:r,className:Ye("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Aw.displayName=CX.displayName;const PX=re.forwardRef(({className:t,...e},r)=>a.jsx(NX,{ref:r,className:Ye("aspect-square h-full w-full",t),...e}));PX.displayName=NX.displayName;const Tw=re.forwardRef(({className:t,...e},r)=>a.jsx(EX,{ref:r,className:Ye("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));Tw.displayName=EX.displayName;const E1=({isOpen:t,onClose:e,onConfirm:r,title:n,description:i,confirmText:s="Confirmer",cancelText:o="Annuler",variant:l="destructive",icon:c=Jf,isLoading:u=!1})=>{const d=()=>{switch(l){case"destructive":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}},f=()=>{switch(l){case"destructive":return"destructive";case"warning":return"secondary";case"info":return"default";default:return"outline"}};return a.jsx(gX,{open:t,onOpenChange:e,children:a.jsxs(fI,{children:[a.jsxs(hI,{children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(c,{className:`h-6 w-6 ${d()}`}),a.jsx(mI,{children:n})]}),a.jsx(gI,{className:"text-left",children:i})]}),a.jsxs(pI,{children:[a.jsx(vI,{disabled:u,children:o}),a.jsxs(me,{variant:f(),onClick:r,disabled:u,className:"flex items-center space-x-2",children:[u&&a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:s})]})]})]})})},wje=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(E1,{isOpen:t,onClose:e,onConfirm:r,title:"Confirmer la suppression",description:`Êtes-vous sûr de vouloir supprimer "${n}" ? Cette action est irréversible.`,confirmText:"Supprimer",variant:"destructive",icon:Mo,isLoading:i}),_je=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(E1,{isOpen:t,onClose:e,onConfirm:r,title:"Modifier l'élément",description:`Voulez-vous modifier "${n}" ?`,confirmText:"Modifier",variant:"info",icon:t1,isLoading:i}),Sje=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(E1,{isOpen:t,onClose:e,onConfirm:r,title:"Actualiser l'élément",description:`Voulez-vous actualiser "${n}" ? Cela remettra l'élément en haut de la liste.`,confirmText:"Actualiser",variant:"info",icon:Sl,isLoading:i}),jje=({isOpen:t,onClose:e,onConfirm:r,itemName:n,isLoading:i})=>a.jsx(E1,{isOpen:t,onClose:e,onConfirm:r,title:"Booster l'élément",description:`Voulez-vous booster "${n}" ? Cela augmentera sa visibilité.`,confirmText:"Booster",variant:"warning",icon:Ya,isLoading:i}),E5=YY,Cje=XY,kX=re.forwardRef(({className:t,...e},r)=>a.jsx(oI,{ref:r,className:Ye("fixed inset-0 z-50 bg-black/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));kX.displayName=oI.displayName;const oT=re.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(Cje,{children:[a.jsx(kX,{}),a.jsxs(lI,{ref:n,className:Ye("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,a.jsxs(dI,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ws,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));oT.displayName=lI.displayName;const lT=({className:t,...e})=>a.jsx("div",{className:Ye("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});lT.displayName="DialogHeader";const cT=({className:t,...e})=>a.jsx("div",{className:Ye("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});cT.displayName="DialogFooter";const uT=re.forwardRef(({className:t,...e},r)=>a.jsx(cI,{ref:r,className:Ye("text-lg font-semibold leading-none tracking-tight",t),...e}));uT.displayName=cI.displayName;const dT=re.forwardRef(({className:t,...e},r)=>a.jsx(uI,{ref:r,className:Ye("text-sm text-muted-foreground",t),...e}));dT.displayName=uI.displayName;const Nje=b.createContext({}),P1=()=>{const t=b.useContext(Nje),e=b.useContext(AX),{getFieldState:r,formState:n}=T1e(),i=r(t.name,n);if(!t)throw new Error("useFormField should be used within <FormField>");const{id:s}=e;return{id:s,name:t.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},AX=b.createContext({}),Eje=b.forwardRef(({className:t,...e},r)=>{const n=b.useId();return a.jsx(AX.Provider,{value:{id:n},children:a.jsx("div",{ref:r,className:Ye("space-y-2",t),...e})})});Eje.displayName="FormItem";const Pje=b.forwardRef(({className:t,...e},r)=>{const{error:n,formItemId:i}=P1();return a.jsx(ft,{ref:r,className:Ye(n&&"text-destructive",t),htmlFor:i,...e})});Pje.displayName="FormLabel";const kje=b.forwardRef(({...t},e)=>{const{error:r,formItemId:n,formDescriptionId:i,formMessageId:s}=P1();return a.jsx(dK,{ref:e,id:n,"aria-describedby":r?`${i} ${s}`:`${i}`,"aria-invalid":!!r,...t})});kje.displayName="FormControl";const Aje=b.forwardRef(({className:t,...e},r)=>{const{formDescriptionId:n}=P1();return a.jsx("p",{ref:r,id:n,className:Ye("text-sm text-muted-foreground",t),...e})});Aje.displayName="FormDescription";const Tje=b.forwardRef(({className:t,children:e,...r},n)=>{const{error:i,formMessageId:s}=P1(),o=i?String(i?.message):e;return o?a.jsx("p",{ref:n,id:s,className:Ye("text-sm font-medium text-destructive",t),...r,children:o}):null});Tje.displayName="FormMessage";function Oje(t){const e=Rje(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(Ije);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function Rje(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=Dje(i),l=Lje(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Mje=Symbol("radix.slottable");function Ije(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Mje}function Lje(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function Dje(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var $je=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fm=$je.reduce((t,e)=>{const r=Oje(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function Fje(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}var Bje="Arrow",TX=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(Fm.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});TX.displayName=Bje;var zje=TX,OX="Popper",[RX,MX]=sn(OX),[V7e,IX]=RX(OX),LX="PopperAnchor",DX=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=IX(LX,r),o=b.useRef(null),l=vt(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Fm.div,{...i,ref:l})});DX.displayName=LX;var xI="PopperContent",[qje,Uje]=RX(xI),$X=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=IX(xI,r),[S,C]=b.useState(null),N=vt(e,ue=>C(ue)),[A,E]=b.useState(null),k=eh(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],q=V.length>0,F={padding:W,boundary:V.filter(Wje),altBoundary:q},{refs:H,floatingStyles:Q,placement:oe,isPositioned:K,middlewareData:te}=sx({strategy:"fixed",placement:z,whileElementsMounted:(...ue)=>ix(...ue,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[ax({mainAxis:i+I,alignmentAxis:o}),c&&ox({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lx():void 0,...F}),c&&cx({...F}),ux({...F,apply:({elements:ue,rects:_e,availableWidth:ye,availableHeight:Ie})=>{const{width:ne,height:J}=_e.reference,Ee=ue.floating.style;Ee.setProperty("--radix-popper-available-width",`${ye}px`),Ee.setProperty("--radix-popper-available-height",`${Ie}px`),Ee.setProperty("--radix-popper-anchor-width",`${ne}px`),Ee.setProperty("--radix-popper-anchor-height",`${J}px`)}}),A&&fx({element:A,padding:l}),Hje({arrowWidth:O,arrowHeight:I}),g&&dx({strategy:"referenceHidden",...F})]}),[Z,se]=zX(oe),X=Tr(y);Cr(()=>{K&&X?.()},[K,X]);const ce=te.arrow?.x,je=te.arrow?.y,Te=te.arrow?.centerOffset!==0,[qe,pe]=b.useState();return Cr(()=>{S&&pe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:K?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(qje,{scope:r,placedSide:Z,onArrowChange:E,arrowX:ce,arrowY:je,shouldHideArrow:Te,children:a.jsx(Fm.div,{"data-side":Z,"data-align":se,...x,ref:N,style:{...x.style,animation:K?void 0:"none"}})})})});$X.displayName=xI;var FX="PopperArrow",Vje={top:"bottom",right:"left",bottom:"top",left:"right"},BX=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=Uje(FX,n),o=Vje[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(zje,{...i,ref:r,style:{...i.style,display:"block"}})})});BX.displayName=FX;function Wje(t){return t!==null}var Hje=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=zX(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${g}px`,x=`${-c}px`):u==="top"?(y=o?f:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:y,y:x}}}});function zX(t){const[e,r="center"]=t.split("-");return[e,r]}var Kje=DX,Gje=$X,Zje=BX,Yje="DismissableLayer",fT="dismissableLayer.update",Xje="dismissableLayer.pointerDownOutside",Jje="dismissableLayer.focusOutside",P5,qX=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),UX=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(qX),[d,f]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=vt(e,O=>f(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),C=d?x.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,A=C>=S,E=tCe(O=>{const I=O.target,z=[...u.branches].some(W=>W.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=rCe(O=>{const I=O.target;[...u.branches].some(W=>W.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return rx(O=>{C===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(P5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),k5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=P5)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),k5())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(fT,O),()=>document.removeEventListener(fT,O)},[]),a.jsx(Fm.div,{...c,ref:y,style:{pointerEvents:N?A?"auto":"none":void 0,...t.style},onFocusCapture:Qe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Qe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Qe(t.onPointerDownCapture,E.onPointerDownCapture)})});UX.displayName=Yje;var Qje="DismissableLayerBranch",eCe=b.forwardRef((t,e)=>{const r=b.useContext(qX),n=b.useRef(null),i=vt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Fm.div,{...t,ref:i})});eCe.displayName=Qje;function tCe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){VX(Xje,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function rCe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&VX(Jje,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function k5(){const t=new CustomEvent(fT);document.dispatchEvent(t)}function VX(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?Fje(i,s):i.dispatchEvent(s)}var cN,WX="HoverCard",[HX,W7e]=sn(WX,[MX]),bI=MX(),[H7e,wI]=HX(WX),KX="HoverCardTrigger",nCe=b.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=wI(KX,r),s=bI(r);return a.jsx(Kje,{asChild:!0,...s,children:a.jsx(Fm.a,{"data-state":i.open?"open":"closed",...n,ref:e,onPointerEnter:Qe(t.onPointerEnter,Rw(i.onOpen)),onPointerLeave:Qe(t.onPointerLeave,Rw(i.onClose)),onFocus:Qe(t.onFocus,i.onOpen),onBlur:Qe(t.onBlur,i.onClose),onTouchStart:Qe(t.onTouchStart,o=>o.preventDefault())})})});nCe.displayName=KX;var iCe="HoverCardPortal",[K7e,sCe]=HX(iCe,{forceMount:void 0}),Ow="HoverCardContent",GX=b.forwardRef((t,e)=>{const r=sCe(Ow,t.__scopeHoverCard),{forceMount:n=r.forceMount,...i}=t,s=wI(Ow,t.__scopeHoverCard);return a.jsx(Hs,{present:n||s.open,children:a.jsx(aCe,{"data-state":s.open?"open":"closed",...i,onPointerEnter:Qe(t.onPointerEnter,Rw(s.onOpen)),onPointerLeave:Qe(t.onPointerLeave,Rw(s.onClose)),ref:e})})});GX.displayName=Ow;var aCe=b.forwardRef((t,e)=>{const{__scopeHoverCard:r,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,...l}=t,c=wI(Ow,r),u=bI(r),d=b.useRef(null),f=vt(e,d),[g,v]=b.useState(!1);return b.useEffect(()=>{if(g){const y=document.body;return cN=y.style.userSelect||y.style.webkitUserSelect,y.style.userSelect="none",y.style.webkitUserSelect="none",()=>{y.style.userSelect=cN,y.style.webkitUserSelect=cN}}},[g]),b.useEffect(()=>{if(d.current){const y=()=>{v(!1),c.isPointerDownOnContentRef.current=!1,setTimeout(()=>{document.getSelection()?.toString()!==""&&(c.hasSelectionRef.current=!0)})};return document.addEventListener("pointerup",y),()=>{document.removeEventListener("pointerup",y),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!1}}},[c.isPointerDownOnContentRef,c.hasSelectionRef]),b.useEffect(()=>{d.current&&cCe(d.current).forEach(x=>x.setAttribute("tabindex","-1"))}),a.jsx(UX,{asChild:!0,disableOutsidePointerEvents:!1,onInteractOutside:o,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:Qe(s,y=>{y.preventDefault()}),onDismiss:c.onDismiss,children:a.jsx(Gje,{...u,...l,onPointerDown:Qe(l.onPointerDown,y=>{y.currentTarget.contains(y.target)&&v(!0),c.hasSelectionRef.current=!1,c.isPointerDownOnContentRef.current=!0}),ref:f,style:{...l.style,userSelect:g?"text":void 0,WebkitUserSelect:g?"text":void 0,"--radix-hover-card-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-hover-card-content-available-width":"var(--radix-popper-available-width)","--radix-hover-card-content-available-height":"var(--radix-popper-available-height)","--radix-hover-card-trigger-width":"var(--radix-popper-anchor-width)","--radix-hover-card-trigger-height":"var(--radix-popper-anchor-height)"}})})}),oCe="HoverCardArrow",lCe=b.forwardRef((t,e)=>{const{__scopeHoverCard:r,...n}=t,i=bI(r);return a.jsx(Zje,{...i,...n,ref:e})});lCe.displayName=oCe;function Rw(t){return e=>e.pointerType==="touch"?void 0:t()}function cCe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});for(;r.nextNode();)e.push(r.currentNode);return e}var ZX=GX;const uCe=re.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>a.jsx(ZX,{ref:i,align:e,sideOffset:r,className:Ye("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));uCe.displayName=ZX.displayName;function ad(t,e,{checkForDefaultPrevented:r=!0}={}){return function(i){if(t?.(i),r===!1||!i.defaultPrevented)return e?.(i)}}function YX(t){const e=dCe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(hCe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function dCe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=mCe(i),l=pCe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var fCe=Symbol("radix.slottable");function hCe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===fCe}function pCe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function mCe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var gCe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zc=gCe.reduce((t,e)=>{const r=YX(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function vCe(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}var yCe="DismissableLayer",hT="dismissableLayer.update",xCe="dismissableLayer.pointerDownOutside",bCe="dismissableLayer.focusOutside",A5,XX=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),JX=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(XX),[d,f]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=vt(e,O=>f(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),C=d?x.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,A=C>=S,E=SCe(O=>{const I=O.target,z=[...u.branches].some(W=>W.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=jCe(O=>{const I=O.target;[...u.branches].some(W=>W.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return rx(O=>{C===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(A5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),T5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=A5)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),T5())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(hT,O),()=>document.removeEventListener(hT,O)},[]),a.jsx(Zc.div,{...c,ref:y,style:{pointerEvents:N?A?"auto":"none":void 0,...t.style},onFocusCapture:ad(t.onFocusCapture,k.onFocusCapture),onBlurCapture:ad(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:ad(t.onPointerDownCapture,E.onPointerDownCapture)})});JX.displayName=yCe;var wCe="DismissableLayerBranch",_Ce=b.forwardRef((t,e)=>{const r=b.useContext(XX),n=b.useRef(null),i=vt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Zc.div,{...t,ref:i})});_Ce.displayName=wCe;function SCe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){QX(xCe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function jCe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&QX(bCe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function T5(){const t=new CustomEvent(hT);document.dispatchEvent(t)}function QX(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?vCe(i,s):i.dispatchEvent(s)}var uN=0;function CCe(){b.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??O5()),document.body.insertAdjacentElement("beforeend",t[1]??O5()),uN++,()=>{uN===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),uN--}},[])}function O5(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var dN="focusScope.autoFocusOnMount",fN="focusScope.autoFocusOnUnmount",R5={bubbles:!1,cancelable:!0},NCe="FocusScope",eJ=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=b.useState(null),u=Tr(i),d=Tr(s),f=b.useRef(null),g=vt(e,x=>c(x)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let x=function(N){if(v.paused||!l)return;const A=N.target;l.contains(A)?f.current=A:Vu(f.current,{select:!0})},_=function(N){if(v.paused||!l)return;const A=N.relatedTarget;A!==null&&(l.contains(A)||Vu(f.current,{select:!0}))},S=function(N){if(document.activeElement===document.body)for(const E of N)E.removedNodes.length>0&&Vu(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const C=new MutationObserver(S);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),C.disconnect()}}},[n,l,v.paused]),b.useEffect(()=>{if(l){I5.add(v);const x=document.activeElement;if(!l.contains(x)){const S=new CustomEvent(dN,R5);l.addEventListener(dN,u),l.dispatchEvent(S),S.defaultPrevented||(ECe(OCe(tJ(l)),{select:!0}),document.activeElement===x&&Vu(l))}return()=>{l.removeEventListener(dN,u),setTimeout(()=>{const S=new CustomEvent(fN,R5);l.addEventListener(fN,d),l.dispatchEvent(S),S.defaultPrevented||Vu(x??document.body,{select:!0}),l.removeEventListener(fN,d),I5.remove(v)},0)}}},[l,u,d,v]);const y=b.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const C=x.currentTarget,[N,A]=PCe(C);N&&A?!x.shiftKey&&S===A?(x.preventDefault(),r&&Vu(N,{select:!0})):x.shiftKey&&S===N&&(x.preventDefault(),r&&Vu(A,{select:!0})):S===C&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(Zc.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});eJ.displayName=NCe;function ECe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Vu(n,{select:e}),document.activeElement!==r)return}function PCe(t){const e=tJ(t),r=M5(e,t),n=M5(e.reverse(),t);return[r,n]}function tJ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function M5(t,e){for(const r of t)if(!kCe(r,{upTo:e}))return r}function kCe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function ACe(t){return t instanceof HTMLInputElement&&"select"in t}function Vu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&ACe(t)&&e&&t.select()}}var I5=TCe();function TCe(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=L5(t,e),t.unshift(e)},remove(e){t=L5(t,e),t[0]?.resume()}}}function L5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function OCe(t){return t.filter(e=>e.tagName!=="A")}var RCe="Arrow",rJ=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(Zc.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});rJ.displayName=RCe;var MCe=rJ,nJ="Popper",[iJ,sJ]=sn(nJ),[G7e,aJ]=iJ(nJ),oJ="PopperAnchor",lJ=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=aJ(oJ,r),o=b.useRef(null),l=vt(e,o),c=b.useRef(null);return b.useEffect(()=>{const u=c.current;c.current=n?.current||o.current,u!==c.current&&s.onAnchorChange(c.current)}),n?null:a.jsx(Zc.div,{...i,ref:l})});lJ.displayName=oJ;var _I="PopperContent",[ICe,LCe]=iJ(_I),cJ=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=aJ(_I,r),[S,C]=b.useState(null),N=vt(e,ue=>C(ue)),[A,E]=b.useState(null),k=eh(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],q=V.length>0,F={padding:W,boundary:V.filter($Ce),altBoundary:q},{refs:H,floatingStyles:Q,placement:oe,isPositioned:K,middlewareData:te}=sx({strategy:"fixed",placement:z,whileElementsMounted:(...ue)=>ix(...ue,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[ax({mainAxis:i+I,alignmentAxis:o}),c&&ox({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lx():void 0,...F}),c&&cx({...F}),ux({...F,apply:({elements:ue,rects:_e,availableWidth:ye,availableHeight:Ie})=>{const{width:ne,height:J}=_e.reference,Ee=ue.floating.style;Ee.setProperty("--radix-popper-available-width",`${ye}px`),Ee.setProperty("--radix-popper-available-height",`${Ie}px`),Ee.setProperty("--radix-popper-anchor-width",`${ne}px`),Ee.setProperty("--radix-popper-anchor-height",`${J}px`)}}),A&&fx({element:A,padding:l}),FCe({arrowWidth:O,arrowHeight:I}),g&&dx({strategy:"referenceHidden",...F})]}),[Z,se]=fJ(oe),X=Tr(y);Cr(()=>{K&&X?.()},[K,X]);const ce=te.arrow?.x,je=te.arrow?.y,Te=te.arrow?.centerOffset!==0,[qe,pe]=b.useState();return Cr(()=>{S&&pe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:K?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(ICe,{scope:r,placedSide:Z,onArrowChange:E,arrowX:ce,arrowY:je,shouldHideArrow:Te,children:a.jsx(Zc.div,{"data-side":Z,"data-align":se,...x,ref:N,style:{...x.style,animation:K?void 0:"none"}})})})});cJ.displayName=_I;var uJ="PopperArrow",DCe={top:"bottom",right:"left",bottom:"top",left:"right"},dJ=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=LCe(uJ,n),o=DCe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(MCe,{...i,ref:r,style:{...i.style,display:"block"}})})});dJ.displayName=uJ;function $Ce(t){return t!==null}var FCe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=fJ(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${g}px`,x=`${-c}px`):u==="top"?(y=o?f:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:y,y:x}}}});function fJ(t){const[e,r="center"]=t.split("-");return[e,r]}var hJ=lJ,BCe=cJ,zCe=dJ,qCe="Portal",pJ=b.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=b.useState(!1);Cr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?z_.createPortal(a.jsx(Zc.div,{...n,ref:e}),o):null});pJ.displayName=qCe;function UCe(t,e){return b.useReducer((r,n)=>e[r][n]??r,t)}var SI=t=>{const{present:e,children:r}=t,n=VCe(e),i=typeof r=="function"?r({present:n.isPresent}):b.Children.only(r),s=vt(n.ref,WCe(i));return typeof r=="function"||n.isPresent?b.cloneElement(i,{ref:s}):null};SI.displayName="Presence";function VCe(t){const[e,r]=b.useState(),n=b.useRef(null),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[l,c]=UCe(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const u=sb(n.current);s.current=l==="mounted"?u:"none"},[l]),Cr(()=>{const u=n.current,d=i.current;if(d!==t){const g=s.current,v=sb(u);t?c("MOUNT"):v==="none"||u?.display==="none"?c("UNMOUNT"):c(d&&g!==v?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,c]),Cr(()=>{if(e){let u;const d=e.ownerDocument.defaultView??window,f=v=>{const x=sb(n.current).includes(CSS.escape(v.animationName));if(v.target===e&&x&&(c("ANIMATION_END"),!i.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",u=d.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=v=>{v.target===e&&(s.current=sb(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{d.clearTimeout(u),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:b.useCallback(u=>{n.current=u?getComputedStyle(u):null,r(u)},[])}}function sb(t){return t?.animationName||"none"}function WCe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var mJ="Popover",[gJ,Z7e]=sn(mJ,[sJ]),k1=sJ(),[Y7e,Sd]=gJ(mJ),vJ="PopoverAnchor",HCe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Sd(vJ,r),s=k1(r),{onCustomAnchorAdd:o,onCustomAnchorRemove:l}=i;return b.useEffect(()=>(o(),()=>l()),[o,l]),a.jsx(hJ,{...s,...n,ref:e})});HCe.displayName=vJ;var yJ="PopoverTrigger",KCe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Sd(yJ,r),s=k1(r),o=vt(e,i.triggerRef),l=a.jsx(Zc.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":SJ(i.open),...n,ref:o,onClick:ad(t.onClick,i.onOpenToggle)});return i.hasCustomAnchor?l:a.jsx(hJ,{asChild:!0,...s,children:l})});KCe.displayName=yJ;var jI="PopoverPortal",[GCe,ZCe]=gJ(jI,{forceMount:void 0}),xJ=t=>{const{__scopePopover:e,forceMount:r,children:n,container:i}=t,s=Sd(jI,e);return a.jsx(GCe,{scope:e,forceMount:r,children:a.jsx(SI,{present:r||s.open,children:a.jsx(pJ,{asChild:!0,container:i,children:n})})})};xJ.displayName=jI;var Kp="PopoverContent",bJ=b.forwardRef((t,e)=>{const r=ZCe(Kp,t.__scopePopover),{forceMount:n=r.forceMount,...i}=t,s=Sd(Kp,t.__scopePopover);return a.jsx(SI,{present:n||s.open,children:s.modal?a.jsx(XCe,{...i,ref:e}):a.jsx(JCe,{...i,ref:e})})});bJ.displayName=Kp;var YCe=YX("PopoverContent.RemoveScroll"),XCe=b.forwardRef((t,e)=>{const r=Sd(Kp,t.__scopePopover),n=b.useRef(null),i=vt(e,n),s=b.useRef(!1);return b.useEffect(()=>{const o=n.current;if(o)return f1(o)},[]),a.jsx(px,{as:YCe,allowPinchZoom:!0,children:a.jsx(wJ,{...t,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ad(t.onCloseAutoFocus,o=>{o.preventDefault(),s.current||r.triggerRef.current?.focus()}),onPointerDownOutside:ad(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;s.current=u},{checkForDefaultPrevented:!1}),onFocusOutside:ad(t.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1})})})}),JCe=b.forwardRef((t,e)=>{const r=Sd(Kp,t.__scopePopover),n=b.useRef(!1),i=b.useRef(!1);return a.jsx(wJ,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{t.onCloseAutoFocus?.(s),s.defaultPrevented||(n.current||r.triggerRef.current?.focus(),s.preventDefault()),n.current=!1,i.current=!1},onInteractOutside:s=>{t.onInteractOutside?.(s),s.defaultPrevented||(n.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;r.triggerRef.current?.contains(o)&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),wJ=b.forwardRef((t,e)=>{const{__scopePopover:r,trapFocus:n,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:o,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onInteractOutside:d,...f}=t,g=Sd(Kp,r),v=k1(r);return CCe(),a.jsx(eJ,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:i,onUnmountAutoFocus:s,children:a.jsx(JX,{asChild:!0,disableOutsidePointerEvents:o,onInteractOutside:d,onEscapeKeyDown:l,onPointerDownOutside:c,onFocusOutside:u,onDismiss:()=>g.onOpenChange(!1),children:a.jsx(BCe,{"data-state":SJ(g.open),role:"dialog",id:g.contentId,...v,...f,ref:e,style:{...f.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),_J="PopoverClose",QCe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=Sd(_J,r);return a.jsx(Zc.button,{type:"button",...n,ref:e,onClick:ad(t.onClick,()=>i.onOpenChange(!1))})});QCe.displayName=_J;var eNe="PopoverArrow",tNe=b.forwardRef((t,e)=>{const{__scopePopover:r,...n}=t,i=k1(r);return a.jsx(zCe,{...i,...n,ref:e})});tNe.displayName=eNe;function SJ(t){return t?"open":"closed"}var rNe=xJ,jJ=bJ;const nNe=b.forwardRef(({className:t,align:e="center",sideOffset:r=4,...n},i)=>a.jsx(rNe,{children:a.jsx(jJ,{ref:i,align:e,sideOffset:r,className:Ye("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));nNe.displayName=jJ.displayName;const iNe=({currentPage:t,totalPages:e,onPageChange:r,hasNextPage:n,hasPrevPage:i,isLoading:s=!1})=>{const o=()=>{const c=[],u=[];for(let d=Math.max(2,t-2);d<=Math.min(e-1,t+2);d++)c.push(d);return t-2>2?u.push(1,"..."):u.push(1),u.push(...c),t+2<e-1?u.push("...",e):u.push(e),u};return e<=1?null:a.jsxs("div",{className:"flex items-center justify-center space-x-2 py-4",children:[a.jsxs(me,{variant:"outline",size:"sm",onClick:()=>r(t-1),disabled:!i||s,className:"flex items-center space-x-1",children:[a.jsx(Ga,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Précédent"})]}),a.jsx("div",{className:"flex items-center space-x-1",children:o().map((l,c)=>a.jsx(re.Fragment,{children:l==="..."?a.jsx(RH,{className:"h-4 w-4 text-muted-foreground"}):a.jsx(me,{variant:t===l?"default":"outline",size:"sm",onClick:()=>r(l),disabled:s,className:"w-8 h-8 p-0",children:l})},c))}),a.jsxs(me,{variant:"outline",size:"sm",onClick:()=>r(t+1),disabled:!n||s,className:"flex items-center space-x-1",children:[a.jsx("span",{className:"hidden sm:inline",children:"Suivant"}),a.jsx(Za,{className:"h-4 w-4"})]})]})},sNe=b.forwardRef(({className:t="",...e},r)=>a.jsx("div",{className:`grid gap-2 ${t}`,ref:r,...e}));sNe.displayName="RadioGroup";const aNe=b.forwardRef(({className:t="",...e},r)=>a.jsx("input",{type:"radio",className:`h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 ${t}`,ref:r,...e}));aNe.displayName="RadioGroupItem";function D5(t,[e,r]){return Math.min(r,Math.max(e,t))}function Mw(t){const e=oNe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(cNe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function oNe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=dNe(i),l=uNe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var lNe=Symbol("radix.slottable");function cNe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lNe}function uNe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function dNe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function fNe(t){const e=t+"CollectionProvider",[r,n]=sn(e),[i,s]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=x=>{const{scope:_,children:S}=x,C=re.useRef(null),N=re.useRef(new Map).current;return a.jsx(i,{scope:_,itemMap:N,collectionRef:C,children:S})};o.displayName=e;const l=t+"CollectionSlot",c=Mw(l),u=re.forwardRef((x,_)=>{const{scope:S,children:C}=x,N=s(l,S),A=vt(_,N.collectionRef);return a.jsx(c,{ref:A,children:C})});u.displayName=l;const d=t+"CollectionItemSlot",f="data-radix-collection-item",g=Mw(d),v=re.forwardRef((x,_)=>{const{scope:S,children:C,...N}=x,A=re.useRef(null),E=vt(_,A),k=s(d,S);return re.useEffect(()=>(k.itemMap.set(A,{ref:A,...N}),()=>void k.itemMap.delete(A))),a.jsx(g,{[f]:"",ref:E,children:C})});v.displayName=d;function y(x){const _=s(t+"CollectionConsumer",x);return re.useCallback(()=>{const C=_.collectionRef.current;if(!C)return[];const N=Array.from(C.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((k,O)=>N.indexOf(k.ref.current)-N.indexOf(O.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:u,ItemSlot:v},y,n]}var hNe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Vn=hNe.reduce((t,e)=>{const r=Mw(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function pNe(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}var mNe="DismissableLayer",pT="dismissableLayer.update",gNe="dismissableLayer.pointerDownOutside",vNe="dismissableLayer.focusOutside",$5,CJ=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),NJ=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(CJ),[d,f]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=vt(e,O=>f(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),C=d?x.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,A=C>=S,E=bNe(O=>{const I=O.target,z=[...u.branches].some(W=>W.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=wNe(O=>{const I=O.target;[...u.branches].some(W=>W.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return rx(O=>{C===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&($5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),F5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=$5)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),F5())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(pT,O),()=>document.removeEventListener(pT,O)},[]),a.jsx(Vn.div,{...c,ref:y,style:{pointerEvents:N?A?"auto":"none":void 0,...t.style},onFocusCapture:Qe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Qe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Qe(t.onPointerDownCapture,E.onPointerDownCapture)})});NJ.displayName=mNe;var yNe="DismissableLayerBranch",xNe=b.forwardRef((t,e)=>{const r=b.useContext(CJ),n=b.useRef(null),i=vt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(Vn.div,{...t,ref:i})});xNe.displayName=yNe;function bNe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){EJ(gNe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function wNe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&EJ(vNe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function F5(){const t=new CustomEvent(pT);document.dispatchEvent(t)}function EJ(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?pNe(i,s):i.dispatchEvent(s)}var hN="focusScope.autoFocusOnMount",pN="focusScope.autoFocusOnUnmount",B5={bubbles:!1,cancelable:!0},_Ne="FocusScope",PJ=b.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[l,c]=b.useState(null),u=Tr(i),d=Tr(s),f=b.useRef(null),g=vt(e,x=>c(x)),v=b.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;b.useEffect(()=>{if(n){let x=function(N){if(v.paused||!l)return;const A=N.target;l.contains(A)?f.current=A:Wu(f.current,{select:!0})},_=function(N){if(v.paused||!l)return;const A=N.relatedTarget;A!==null&&(l.contains(A)||Wu(f.current,{select:!0}))},S=function(N){if(document.activeElement===document.body)for(const E of N)E.removedNodes.length>0&&Wu(l)};document.addEventListener("focusin",x),document.addEventListener("focusout",_);const C=new MutationObserver(S);return l&&C.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",x),document.removeEventListener("focusout",_),C.disconnect()}}},[n,l,v.paused]),b.useEffect(()=>{if(l){q5.add(v);const x=document.activeElement;if(!l.contains(x)){const S=new CustomEvent(hN,B5);l.addEventListener(hN,u),l.dispatchEvent(S),S.defaultPrevented||(SNe(PNe(kJ(l)),{select:!0}),document.activeElement===x&&Wu(l))}return()=>{l.removeEventListener(hN,u),setTimeout(()=>{const S=new CustomEvent(pN,B5);l.addEventListener(pN,d),l.dispatchEvent(S),S.defaultPrevented||Wu(x??document.body,{select:!0}),l.removeEventListener(pN,d),q5.remove(v)},0)}}},[l,u,d,v]);const y=b.useCallback(x=>{if(!r&&!n||v.paused)return;const _=x.key==="Tab"&&!x.altKey&&!x.ctrlKey&&!x.metaKey,S=document.activeElement;if(_&&S){const C=x.currentTarget,[N,A]=jNe(C);N&&A?!x.shiftKey&&S===A?(x.preventDefault(),r&&Wu(N,{select:!0})):x.shiftKey&&S===N&&(x.preventDefault(),r&&Wu(A,{select:!0})):S===C&&x.preventDefault()}},[r,n,v.paused]);return a.jsx(Vn.div,{tabIndex:-1,...o,ref:g,onKeyDown:y})});PJ.displayName=_Ne;function SNe(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Wu(n,{select:e}),document.activeElement!==r)return}function jNe(t){const e=kJ(t),r=z5(e,t),n=z5(e.reverse(),t);return[r,n]}function kJ(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function z5(t,e){for(const r of t)if(!CNe(r,{upTo:e}))return r}function CNe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function NNe(t){return t instanceof HTMLInputElement&&"select"in t}function Wu(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&NNe(t)&&e&&t.select()}}var q5=ENe();function ENe(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=U5(t,e),t.unshift(e)},remove(e){t=U5(t,e),t[0]?.resume()}}}function U5(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function PNe(t){return t.filter(e=>e.tagName!=="A")}var kNe="Arrow",AJ=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(Vn.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});AJ.displayName=kNe;var ANe=AJ,CI="Popper",[TJ,OJ]=sn(CI),[TNe,RJ]=TJ(CI),MJ=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return a.jsx(TNe,{scope:e,anchor:n,onAnchorChange:i,children:r})};MJ.displayName=CI;var IJ="PopperAnchor",LJ=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=RJ(IJ,r),o=b.useRef(null),l=vt(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(Vn.div,{...i,ref:l})});LJ.displayName=IJ;var NI="PopperContent",[ONe,RNe]=TJ(NI),DJ=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=RJ(NI,r),[S,C]=b.useState(null),N=vt(e,ue=>C(ue)),[A,E]=b.useState(null),k=eh(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],q=V.length>0,F={padding:W,boundary:V.filter(INe),altBoundary:q},{refs:H,floatingStyles:Q,placement:oe,isPositioned:K,middlewareData:te}=sx({strategy:"fixed",placement:z,whileElementsMounted:(...ue)=>ix(...ue,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[ax({mainAxis:i+I,alignmentAxis:o}),c&&ox({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lx():void 0,...F}),c&&cx({...F}),ux({...F,apply:({elements:ue,rects:_e,availableWidth:ye,availableHeight:Ie})=>{const{width:ne,height:J}=_e.reference,Ee=ue.floating.style;Ee.setProperty("--radix-popper-available-width",`${ye}px`),Ee.setProperty("--radix-popper-available-height",`${Ie}px`),Ee.setProperty("--radix-popper-anchor-width",`${ne}px`),Ee.setProperty("--radix-popper-anchor-height",`${J}px`)}}),A&&fx({element:A,padding:l}),LNe({arrowWidth:O,arrowHeight:I}),g&&dx({strategy:"referenceHidden",...F})]}),[Z,se]=BJ(oe),X=Tr(y);Cr(()=>{K&&X?.()},[K,X]);const ce=te.arrow?.x,je=te.arrow?.y,Te=te.arrow?.centerOffset!==0,[qe,pe]=b.useState();return Cr(()=>{S&&pe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:K?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(ONe,{scope:r,placedSide:Z,onArrowChange:E,arrowX:ce,arrowY:je,shouldHideArrow:Te,children:a.jsx(Vn.div,{"data-side":Z,"data-align":se,...x,ref:N,style:{...x.style,animation:K?void 0:"none"}})})})});DJ.displayName=NI;var $J="PopperArrow",MNe={top:"bottom",right:"left",bottom:"top",left:"right"},FJ=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=RNe($J,n),o=MNe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(ANe,{...i,ref:r,style:{...i.style,display:"block"}})})});FJ.displayName=$J;function INe(t){return t!==null}var LNe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=BJ(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${g}px`,x=`${-c}px`):u==="top"?(y=o?f:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:y,y:x}}}});function BJ(t){const[e,r="center"]=t.split("-");return[e,r]}var DNe=MJ,$Ne=LJ,FNe=DJ,BNe=FJ,zNe="Portal",zJ=b.forwardRef((t,e)=>{const{container:r,...n}=t,[i,s]=b.useState(!1);Cr(()=>s(!0),[]);const o=r||i&&globalThis?.document?.body;return o?z_.createPortal(a.jsx(Vn.div,{...n,ref:e}),o):null});zJ.displayName=zNe;var qJ=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),qNe="VisuallyHidden",UNe=b.forwardRef((t,e)=>a.jsx(Vn.span,{...t,ref:e,style:{...qJ,...t.style}}));UNe.displayName=qNe;var VNe=[" ","Enter","ArrowUp","ArrowDown"],WNe=[" ","Enter"],Bf="Select",[A1,T1,HNe]=fNe(Bf),[Bm,X7e]=sn(Bf,[HNe,OJ]),O1=OJ(),[KNe,jd]=Bm(Bf),[GNe,ZNe]=Bm(Bf),UJ=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:i,onOpenChange:s,value:o,defaultValue:l,onValueChange:c,dir:u,name:d,autoComplete:f,disabled:g,required:v,form:y}=t,x=O1(e),[_,S]=b.useState(null),[C,N]=b.useState(null),[A,E]=b.useState(!1),k=Om(u),[O,I]=Vs({prop:n,defaultProp:i??!1,onChange:s,caller:Bf}),[z,W]=Vs({prop:o,defaultProp:l,onChange:c,caller:Bf}),V=b.useRef(null),q=_?y||!!_.closest("form"):!0,[F,H]=b.useState(new Set),Q=Array.from(F).map(oe=>oe.props.value).join(";");return a.jsx(DNe,{...x,children:a.jsxs(KNe,{required:v,scope:e,trigger:_,onTriggerChange:S,valueNode:C,onValueNodeChange:N,valueNodeHasChildren:A,onValueNodeHasChildrenChange:E,contentId:zs(),value:z,onValueChange:W,open:O,onOpenChange:I,dir:k,triggerPointerDownPosRef:V,disabled:g,children:[a.jsx(A1.Provider,{scope:e,children:a.jsx(GNe,{scope:t.__scopeSelect,onNativeOptionAdd:b.useCallback(oe=>{H(K=>new Set(K).add(oe))},[]),onNativeOptionRemove:b.useCallback(oe=>{H(K=>{const te=new Set(K);return te.delete(oe),te})},[]),children:r})}),q?a.jsxs(hQ,{"aria-hidden":!0,required:v,tabIndex:-1,name:d,autoComplete:f,value:z,onChange:oe=>W(oe.target.value),disabled:g,form:y,children:[z===void 0?a.jsx("option",{value:""}):null,Array.from(F)]},Q):null]})})};UJ.displayName=Bf;var VJ="SelectTrigger",WJ=b.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...i}=t,s=O1(r),o=jd(VJ,r),l=o.disabled||n,c=vt(e,o.onTriggerChange),u=T1(r),d=b.useRef("touch"),[f,g,v]=mQ(x=>{const _=u().filter(N=>!N.disabled),S=_.find(N=>N.value===o.value),C=gQ(_,x,S);C!==void 0&&o.onValueChange(C.value)}),y=x=>{l||(o.onOpenChange(!0),v()),x&&(o.triggerPointerDownPosRef.current={x:Math.round(x.pageX),y:Math.round(x.pageY)})};return a.jsx($Ne,{asChild:!0,...s,children:a.jsx(Vn.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":pQ(o.value)?"":void 0,...i,ref:c,onClick:Qe(i.onClick,x=>{x.currentTarget.focus(),d.current!=="mouse"&&y(x)}),onPointerDown:Qe(i.onPointerDown,x=>{d.current=x.pointerType;const _=x.target;_.hasPointerCapture(x.pointerId)&&_.releasePointerCapture(x.pointerId),x.button===0&&x.ctrlKey===!1&&x.pointerType==="mouse"&&(y(x),x.preventDefault())}),onKeyDown:Qe(i.onKeyDown,x=>{const _=f.current!=="";!(x.ctrlKey||x.altKey||x.metaKey)&&x.key.length===1&&g(x.key),!(_&&x.key===" ")&&VNe.includes(x.key)&&(y(),x.preventDefault())})})})});WJ.displayName=VJ;var HJ="SelectValue",KJ=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,children:s,placeholder:o="",...l}=t,c=jd(HJ,r),{onValueNodeHasChildrenChange:u}=c,d=s!==void 0,f=vt(e,c.onValueNodeChange);return Cr(()=>{u(d)},[u,d]),a.jsx(Vn.span,{...l,ref:f,style:{pointerEvents:"none"},children:pQ(c.value)?a.jsx(a.Fragment,{children:o}):s})});KJ.displayName=HJ;var YNe="SelectIcon",GJ=b.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...i}=t;return a.jsx(Vn.span,{"aria-hidden":!0,...i,ref:e,children:n||"▼"})});GJ.displayName=YNe;var XNe="SelectPortal",ZJ=t=>a.jsx(zJ,{asChild:!0,...t});ZJ.displayName=XNe;var zf="SelectContent",YJ=b.forwardRef((t,e)=>{const r=jd(zf,t.__scopeSelect),[n,i]=b.useState();if(Cr(()=>{i(new DocumentFragment)},[]),!r.open){const s=n;return s?Do.createPortal(a.jsx(XJ,{scope:t.__scopeSelect,children:a.jsx(A1.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),s):null}return a.jsx(JJ,{...t,ref:e})});YJ.displayName=zf;var xo=10,[XJ,Cd]=Bm(zf),JNe="SelectContentImpl",QNe=Mw("SelectContent.RemoveScroll"),JJ=b.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:_,...S}=t,C=jd(zf,r),[N,A]=b.useState(null),[E,k]=b.useState(null),O=vt(e,ue=>A(ue)),[I,z]=b.useState(null),[W,V]=b.useState(null),q=T1(r),[F,H]=b.useState(!1),Q=b.useRef(!1);b.useEffect(()=>{if(N)return f1(N)},[N]),wM();const oe=b.useCallback(ue=>{const[_e,...ye]=q().map(J=>J.ref.current),[Ie]=ye.slice(-1),ne=document.activeElement;for(const J of ue)if(J===ne||(J?.scrollIntoView({block:"nearest"}),J===_e&&E&&(E.scrollTop=0),J===Ie&&E&&(E.scrollTop=E.scrollHeight),J?.focus(),document.activeElement!==ne))return},[q,E]),K=b.useCallback(()=>oe([I,N]),[oe,I,N]);b.useEffect(()=>{F&&K()},[F,K]);const{onOpenChange:te,triggerPointerDownPosRef:Z}=C;b.useEffect(()=>{if(N){let ue={x:0,y:0};const _e=Ie=>{ue={x:Math.abs(Math.round(Ie.pageX)-(Z.current?.x??0)),y:Math.abs(Math.round(Ie.pageY)-(Z.current?.y??0))}},ye=Ie=>{ue.x<=10&&ue.y<=10?Ie.preventDefault():N.contains(Ie.target)||te(!1),document.removeEventListener("pointermove",_e),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",_e),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",_e),document.removeEventListener("pointerup",ye,{capture:!0})}}},[N,te,Z]),b.useEffect(()=>{const ue=()=>te(!1);return window.addEventListener("blur",ue),window.addEventListener("resize",ue),()=>{window.removeEventListener("blur",ue),window.removeEventListener("resize",ue)}},[te]);const[se,X]=mQ(ue=>{const _e=q().filter(ne=>!ne.disabled),ye=_e.find(ne=>ne.ref.current===document.activeElement),Ie=gQ(_e,ue,ye);Ie&&setTimeout(()=>Ie.ref.current.focus())}),ce=b.useCallback((ue,_e,ye)=>{const Ie=!Q.current&&!ye;(C.value!==void 0&&C.value===_e||Ie)&&(z(ue),Ie&&(Q.current=!0))},[C.value]),je=b.useCallback(()=>N?.focus(),[N]),Te=b.useCallback((ue,_e,ye)=>{const Ie=!Q.current&&!ye;(C.value!==void 0&&C.value===_e||Ie)&&V(ue)},[C.value]),qe=n==="popper"?mT:QJ,pe=qe===mT?{side:l,sideOffset:c,align:u,alignOffset:d,arrowPadding:f,collisionBoundary:g,collisionPadding:v,sticky:y,hideWhenDetached:x,avoidCollisions:_}:{};return a.jsx(XJ,{scope:r,content:N,viewport:E,onViewportChange:k,itemRefCallback:ce,selectedItem:I,onItemLeave:je,itemTextRefCallback:Te,focusSelectedItem:K,selectedItemText:W,position:n,isPositioned:F,searchRef:se,children:a.jsx(px,{as:QNe,allowPinchZoom:!0,children:a.jsx(PJ,{asChild:!0,trapped:C.open,onMountAutoFocus:ue=>{ue.preventDefault()},onUnmountAutoFocus:Qe(i,ue=>{C.trigger?.focus({preventScroll:!0}),ue.preventDefault()}),children:a.jsx(NJ,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:ue=>ue.preventDefault(),onDismiss:()=>C.onOpenChange(!1),children:a.jsx(qe,{role:"listbox",id:C.contentId,"data-state":C.open?"open":"closed",dir:C.dir,onContextMenu:ue=>ue.preventDefault(),...S,...pe,onPlaced:()=>H(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:Qe(S.onKeyDown,ue=>{const _e=ue.ctrlKey||ue.altKey||ue.metaKey;if(ue.key==="Tab"&&ue.preventDefault(),!_e&&ue.key.length===1&&X(ue.key),["ArrowUp","ArrowDown","Home","End"].includes(ue.key)){let Ie=q().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);if(["ArrowUp","End"].includes(ue.key)&&(Ie=Ie.slice().reverse()),["ArrowUp","ArrowDown"].includes(ue.key)){const ne=ue.target,J=Ie.indexOf(ne);Ie=Ie.slice(J+1)}setTimeout(()=>oe(Ie)),ue.preventDefault()}})})})})})})});JJ.displayName=JNe;var eEe="SelectItemAlignedPosition",QJ=b.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...i}=t,s=jd(zf,r),o=Cd(zf,r),[l,c]=b.useState(null),[u,d]=b.useState(null),f=vt(e,O=>d(O)),g=T1(r),v=b.useRef(!1),y=b.useRef(!0),{viewport:x,selectedItem:_,selectedItemText:S,focusSelectedItem:C}=o,N=b.useCallback(()=>{if(s.trigger&&s.valueNode&&l&&u&&x&&_&&S){const O=s.trigger.getBoundingClientRect(),I=u.getBoundingClientRect(),z=s.valueNode.getBoundingClientRect(),W=S.getBoundingClientRect();if(s.dir!=="rtl"){const ne=W.left-I.left,J=z.left-ne,Ee=O.left-J,Ne=O.width+Ee,Je=Math.max(Ne,I.width),Xe=window.innerWidth-xo,Oe=D5(J,[xo,Math.max(xo,Xe-Je)]);l.style.minWidth=Ne+"px",l.style.left=Oe+"px"}else{const ne=I.right-W.right,J=window.innerWidth-z.right-ne,Ee=window.innerWidth-O.right-J,Ne=O.width+Ee,Je=Math.max(Ne,I.width),Xe=window.innerWidth-xo,Oe=D5(J,[xo,Math.max(xo,Xe-Je)]);l.style.minWidth=Ne+"px",l.style.right=Oe+"px"}const V=g(),q=window.innerHeight-xo*2,F=x.scrollHeight,H=window.getComputedStyle(u),Q=parseInt(H.borderTopWidth,10),oe=parseInt(H.paddingTop,10),K=parseInt(H.borderBottomWidth,10),te=parseInt(H.paddingBottom,10),Z=Q+oe+F+te+K,se=Math.min(_.offsetHeight*5,Z),X=window.getComputedStyle(x),ce=parseInt(X.paddingTop,10),je=parseInt(X.paddingBottom,10),Te=O.top+O.height/2-xo,qe=q-Te,pe=_.offsetHeight/2,ue=_.offsetTop+pe,_e=Q+oe+ue,ye=Z-_e;if(_e<=Te){const ne=V.length>0&&_===V[V.length-1].ref.current;l.style.bottom="0px";const J=u.clientHeight-x.offsetTop-x.offsetHeight,Ee=Math.max(qe,pe+(ne?je:0)+J+K),Ne=_e+Ee;l.style.height=Ne+"px"}else{const ne=V.length>0&&_===V[0].ref.current;l.style.top="0px";const Ee=Math.max(Te,Q+x.offsetTop+(ne?ce:0)+pe)+ye;l.style.height=Ee+"px",x.scrollTop=_e-Te+x.offsetTop}l.style.margin=`${xo}px 0`,l.style.minHeight=se+"px",l.style.maxHeight=q+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[g,s.trigger,s.valueNode,l,u,x,_,S,s.dir,n]);Cr(()=>N(),[N]);const[A,E]=b.useState();Cr(()=>{u&&E(window.getComputedStyle(u).zIndex)},[u]);const k=b.useCallback(O=>{O&&y.current===!0&&(N(),C?.(),y.current=!1)},[N,C]);return a.jsx(rEe,{scope:r,contentWrapper:l,shouldExpandOnScrollRef:v,onScrollButtonChange:k,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(Vn.div,{...i,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});QJ.displayName=eEe;var tEe="SelectPopperPosition",mT=b.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:i=xo,...s}=t,o=O1(r);return a.jsx(FNe,{...o,...s,ref:e,align:n,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});mT.displayName=tEe;var[rEe,EI]=Bm(zf,{}),gT="SelectViewport",eQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...i}=t,s=Cd(gT,r),o=EI(gT,r),l=vt(e,s.onViewportChange),c=b.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),a.jsx(A1.Slot,{scope:r,children:a.jsx(Vn.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qe(i.onScroll,u=>{const d=u.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g?.current&&f){const v=Math.abs(c.current-d.scrollTop);if(v>0){const y=window.innerHeight-xo*2,x=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),S=Math.max(x,_);if(S<y){const C=S+v,N=Math.min(y,C),A=C-N;f.style.height=N+"px",f.style.bottom==="0px"&&(d.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}c.current=d.scrollTop})})})]})});eQ.displayName=gT;var tQ="SelectGroup",[nEe,iEe]=Bm(tQ),sEe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=zs();return a.jsx(nEe,{scope:r,id:i,children:a.jsx(Vn.div,{role:"group","aria-labelledby":i,...n,ref:e})})});sEe.displayName=tQ;var rQ="SelectLabel",nQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=iEe(rQ,r);return a.jsx(Vn.div,{id:i.id,...n,ref:e})});nQ.displayName=rQ;var Iw="SelectItem",[aEe,iQ]=Bm(Iw),sQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:i=!1,textValue:s,...o}=t,l=jd(Iw,r),c=Cd(Iw,r),u=l.value===n,[d,f]=b.useState(s??""),[g,v]=b.useState(!1),y=vt(e,C=>c.itemRefCallback?.(C,n,i)),x=zs(),_=b.useRef("touch"),S=()=>{i||(l.onValueChange(n),l.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(aEe,{scope:r,value:n,disabled:i,textId:x,isSelected:u,onItemTextChange:b.useCallback(C=>{f(N=>N||(C?.textContent??"").trim())},[]),children:a.jsx(A1.ItemSlot,{scope:r,value:n,disabled:i,textValue:d,children:a.jsx(Vn.div,{role:"option","aria-labelledby":x,"data-highlighted":g?"":void 0,"aria-selected":u&&g,"data-state":u?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:y,onFocus:Qe(o.onFocus,()=>v(!0)),onBlur:Qe(o.onBlur,()=>v(!1)),onClick:Qe(o.onClick,()=>{_.current!=="mouse"&&S()}),onPointerUp:Qe(o.onPointerUp,()=>{_.current==="mouse"&&S()}),onPointerDown:Qe(o.onPointerDown,C=>{_.current=C.pointerType}),onPointerMove:Qe(o.onPointerMove,C=>{_.current=C.pointerType,i?c.onItemLeave?.():_.current==="mouse"&&C.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(o.onPointerLeave,C=>{C.currentTarget===document.activeElement&&c.onItemLeave?.()}),onKeyDown:Qe(o.onKeyDown,C=>{c.searchRef?.current!==""&&C.key===" "||(WNe.includes(C.key)&&S(),C.key===" "&&C.preventDefault())})})})})});sQ.displayName=Iw;var uv="SelectItemText",aQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:i,...s}=t,o=jd(uv,r),l=Cd(uv,r),c=iQ(uv,r),u=ZNe(uv,r),[d,f]=b.useState(null),g=vt(e,S=>f(S),c.onItemTextChange,S=>l.itemTextRefCallback?.(S,c.value,c.disabled)),v=d?.textContent,y=b.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:v},c.value),[c.disabled,c.value,v]),{onNativeOptionAdd:x,onNativeOptionRemove:_}=u;return Cr(()=>(x(y),()=>_(y)),[x,_,y]),a.jsxs(a.Fragment,{children:[a.jsx(Vn.span,{id:c.textId,...s,ref:g}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Do.createPortal(s.children,o.valueNode):null]})});aQ.displayName=uv;var oQ="SelectItemIndicator",lQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return iQ(oQ,r).isSelected?a.jsx(Vn.span,{"aria-hidden":!0,...n,ref:e}):null});lQ.displayName=oQ;var vT="SelectScrollUpButton",cQ=b.forwardRef((t,e)=>{const r=Cd(vT,t.__scopeSelect),n=EI(vT,t.__scopeSelect),[i,s]=b.useState(!1),o=vt(e,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollTop>0;s(u)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(dQ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});cQ.displayName=vT;var yT="SelectScrollDownButton",uQ=b.forwardRef((t,e)=>{const r=Cd(yT,t.__scopeSelect),n=EI(yT,t.__scopeSelect),[i,s]=b.useState(!1),o=vt(e,n.onScrollButtonChange);return Cr(()=>{if(r.viewport&&r.isPositioned){let l=function(){const u=c.scrollHeight-c.clientHeight,d=Math.ceil(c.scrollTop)<u;s(d)};const c=r.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[r.viewport,r.isPositioned]),i?a.jsx(dQ,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=r;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});uQ.displayName=yT;var dQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...i}=t,s=Cd("SelectScrollButton",r),o=b.useRef(null),l=T1(r),c=b.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return b.useEffect(()=>()=>c(),[c]),Cr(()=>{l().find(d=>d.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[l]),a.jsx(Vn.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:Qe(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:Qe(i.onPointerMove,()=>{s.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:Qe(i.onPointerLeave,()=>{c()})})}),oEe="SelectSeparator",fQ=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return a.jsx(Vn.div,{"aria-hidden":!0,...n,ref:e})});fQ.displayName=oEe;var xT="SelectArrow",lEe=b.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,i=O1(r),s=jd(xT,r),o=Cd(xT,r);return s.open&&o.position==="popper"?a.jsx(BNe,{...i,...n,ref:e}):null});lEe.displayName=xT;var cEe="SelectBubbleInput",hQ=b.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const i=b.useRef(null),s=vt(n,i),o=GM(e);return b.useEffect(()=>{const l=i.current;if(!l)return;const c=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&d){const f=new Event("change",{bubbles:!0});d.call(l,e),l.dispatchEvent(f)}},[o,e]),a.jsx(Vn.select,{...r,style:{...qJ,...r.style},ref:s,defaultValue:e})});hQ.displayName=cEe;function pQ(t){return t===""||t===void 0}function mQ(t){const e=Tr(t),r=b.useRef(""),n=b.useRef(0),i=b.useCallback(o=>{const l=r.current+o;e(l),function c(u){r.current=u,window.clearTimeout(n.current),u!==""&&(n.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),s=b.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return b.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,i,s]}function gQ(t,e,r){const i=e.length>1&&Array.from(e).every(u=>u===e[0])?e[0]:e,s=r?t.indexOf(r):-1;let o=uEe(t,Math.max(s,0));i.length===1&&(o=o.filter(u=>u!==r));const c=o.find(u=>u.textValue.toLowerCase().startsWith(i.toLowerCase()));return c!==r?c:void 0}function uEe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var dEe=UJ,vQ=WJ,fEe=KJ,hEe=GJ,pEe=ZJ,yQ=YJ,mEe=eQ,xQ=nQ,bQ=sQ,gEe=aQ,vEe=lQ,wQ=cQ,_Q=uQ,SQ=fQ;const tn=dEe,rn=fEe,Xr=b.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(vQ,{ref:n,className:Ye("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,a.jsx(hEe,{asChild:!0,children:a.jsx(Cc,{className:"h-4 w-4 opacity-50"})})]}));Xr.displayName=vQ.displayName;const jQ=b.forwardRef(({className:t,...e},r)=>a.jsx(wQ,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Ef,{className:"h-4 w-4"})}));jQ.displayName=wQ.displayName;const CQ=b.forwardRef(({className:t,...e},r)=>a.jsx(_Q,{ref:r,className:Ye("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Cc,{className:"h-4 w-4"})}));CQ.displayName=_Q.displayName;const Jr=b.forwardRef(({className:t,children:e,position:r="popper",...n},i)=>a.jsx(pEe,{children:a.jsxs(yQ,{ref:i,className:Ye("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[a.jsx(jQ,{}),a.jsx(mEe,{className:Ye("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(CQ,{})]})}));Jr.displayName=yQ.displayName;const yEe=b.forwardRef(({className:t,...e},r)=>a.jsx(xQ,{ref:r,className:Ye("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));yEe.displayName=xQ.displayName;const nt=b.forwardRef(({className:t,children:e,...r},n)=>a.jsxs(bQ,{ref:n,className:Ye("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(vEe,{children:a.jsx(Bp,{className:"h-4 w-4"})})}),a.jsx(gEe,{children:e})]}));nt.displayName=bQ.displayName;const xEe=b.forwardRef(({className:t,...e},r)=>a.jsx(SQ,{ref:r,className:Ye("-mx-1 my-1 h-px bg-muted",t),...e}));xEe.displayName=SQ.displayName;function bEe(t){const e=wEe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(SEe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function wEe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=CEe(i),l=jEe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var _Ee=Symbol("radix.slottable");function SEe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===_Ee}function jEe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function CEe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var NEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EEe=NEe.reduce((t,e)=>{const r=bEe(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),PEe="Separator",V5="horizontal",kEe=["horizontal","vertical"],NQ=b.forwardRef((t,e)=>{const{decorative:r,orientation:n=V5,...i}=t,s=AEe(n)?n:V5,l=r?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return a.jsx(EEe.div,{"data-orientation":s,...l,...i,ref:e})});NQ.displayName=PEe;function AEe(t){return kEe.includes(t)}var EQ=NQ;const Xv=re.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},i)=>a.jsx(EQ,{ref:i,decorative:r,orientation:e,className:Ye("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));Xv.displayName=EQ.displayName;const al=({className:t,...e})=>a.jsx("div",{className:Ye("animate-pulse rounded-md bg-muted",t),...e}),TEe=()=>a.jsxs("div",{className:"bg-card rounded-lg shadow-lg overflow-hidden",children:[a.jsx(al,{className:"h-48 w-full"}),a.jsxs("div",{className:"p-4 space-y-3",children:[a.jsx(al,{className:"h-4 w-3/4"}),a.jsx(al,{className:"h-4 w-1/2"}),a.jsx(al,{className:"h-6 w-1/3"}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(al,{className:"h-4 w-20"}),a.jsx(al,{className:"h-8 w-20 rounded"})]})]})]}),OEe=()=>a.jsxs("div",{className:"bg-card rounded-lg p-6 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(al,{className:"h-4 w-1/2"}),a.jsx(al,{className:"h-8 w-8 rounded"})]}),a.jsx(al,{className:"h-8 w-1/3"}),a.jsx(al,{className:"h-3 w-2/3"})]});function REe(t){const e=MEe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(LEe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function MEe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=$Ee(i),l=DEe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IEe=Symbol("radix.slottable");function LEe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IEe}function DEe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function $Ee(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var FEe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],PQ=FEe.reduce((t,e)=>{const r=REe(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),R1="Switch",[BEe,J7e]=sn(R1),[zEe,qEe]=BEe(R1),kQ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:i,defaultChecked:s,required:o,disabled:l,value:c="on",onCheckedChange:u,form:d,...f}=t,[g,v]=b.useState(null),y=vt(e,N=>v(N)),x=b.useRef(!1),_=g?d||!!g.closest("form"):!0,[S,C]=Vs({prop:i,defaultProp:s??!1,onChange:u,caller:R1});return a.jsxs(zEe,{scope:r,checked:S,disabled:l,children:[a.jsx(PQ.button,{type:"button",role:"switch","aria-checked":S,"aria-required":o,"data-state":RQ(S),"data-disabled":l?"":void 0,disabled:l,value:c,...f,ref:y,onClick:Qe(t.onClick,N=>{C(A=>!A),_&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})}),_&&a.jsx(OQ,{control:g,bubbles:!x.current,name:n,value:c,checked:S,required:o,disabled:l,form:d,style:{transform:"translateX(-100%)"}})]})});kQ.displayName=R1;var AQ="SwitchThumb",TQ=b.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,i=qEe(AQ,r);return a.jsx(PQ.span,{"data-state":RQ(i.checked),"data-disabled":i.disabled?"":void 0,...n,ref:e})});TQ.displayName=AQ;var UEe="SwitchBubbleInput",OQ=b.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...i},s)=>{const o=b.useRef(null),l=vt(o,s),c=GM(r),u=eh(e);return b.useEffect(()=>{const d=o.current;if(!d)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==r&&v){const y=new Event("click",{bubbles:n});v.call(d,r),d.dispatchEvent(y)}},[c,r,n]),a.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...i,tabIndex:-1,ref:l,style:{...i.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});OQ.displayName=UEe;function RQ(t){return t?"checked":"unchecked"}var MQ=kQ,VEe=TQ;const dv=b.forwardRef(({className:t,...e},r)=>a.jsx(MQ,{className:Ye("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:a.jsx(VEe,{className:Ye("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));dv.displayName=MQ.displayName;const zm=b.forwardRef(({className:t,...e},r)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:r,className:Ye("w-full caption-bottom text-sm",t),...e})}));zm.displayName="Table";const qm=b.forwardRef(({className:t,...e},r)=>a.jsx("thead",{ref:r,className:Ye("[&_tr]:border-b",t),...e}));qm.displayName="TableHeader";const Um=b.forwardRef(({className:t,...e},r)=>a.jsx("tbody",{ref:r,className:Ye("[&_tr:last-child]:border-0",t),...e}));Um.displayName="TableBody";const WEe=b.forwardRef(({className:t,...e},r)=>a.jsx("tfoot",{ref:r,className:Ye("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));WEe.displayName="TableFooter";const kn=b.forwardRef(({className:t,...e},r)=>a.jsx("tr",{ref:r,className:Ye("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));kn.displayName="TableRow";const kr=b.forwardRef(({className:t,...e},r)=>a.jsx("th",{ref:r,className:Ye("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));kr.displayName="TableHead";const Zt=b.forwardRef(({className:t,...e},r)=>a.jsx("td",{ref:r,className:Ye("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Zt.displayName="TableCell";const HEe=b.forwardRef(({className:t,...e},r)=>a.jsx("caption",{ref:r,className:Ye("mt-4 text-sm text-muted-foreground",t),...e}));HEe.displayName="TableCaption";const gd=re.forwardRef(({className:t,...e},r)=>a.jsx("textarea",{className:Ye("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));gd.displayName="Textarea";var KEe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GEe="VisuallyHidden",PI=b.forwardRef((t,e)=>a.jsx(br.span,{...t,ref:e,style:{...KEe,...t.style}}));PI.displayName=GEe;var ZEe="ToastProvider",[IQ,YEe,XEe]=bM("Toast"),[LQ,Q7e]=sn("Toast",[XEe]),[eWe,M1]=LQ(ZEe),DQ="ToastViewport",JEe=["F8"],bT="toast.viewportPause",wT="toast.viewportResume",$Q=b.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=JEe,label:i="Notifications ({hotkey})",...s}=t,o=M1(DQ,r),l=YEe(r),c=b.useRef(null),u=b.useRef(null),d=b.useRef(null),f=b.useRef(null),g=vt(e,f,o.onViewportChange),v=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;b.useEffect(()=>{const _=S=>{n.length!==0&&n.every(N=>S[N]||S.code===N)&&f.current?.focus()};return document.addEventListener("keydown",_),()=>document.removeEventListener("keydown",_)},[n]),b.useEffect(()=>{const _=c.current,S=f.current;if(y&&_&&S){const C=()=>{if(!o.isClosePausedRef.current){const k=new CustomEvent(bT);S.dispatchEvent(k),o.isClosePausedRef.current=!0}},N=()=>{if(o.isClosePausedRef.current){const k=new CustomEvent(wT);S.dispatchEvent(k),o.isClosePausedRef.current=!1}},A=k=>{!_.contains(k.relatedTarget)&&N()},E=()=>{_.contains(document.activeElement)||N()};return _.addEventListener("focusin",C),_.addEventListener("focusout",A),_.addEventListener("pointermove",C),_.addEventListener("pointerleave",E),window.addEventListener("blur",C),window.addEventListener("focus",N),()=>{_.removeEventListener("focusin",C),_.removeEventListener("focusout",A),_.removeEventListener("pointermove",C),_.removeEventListener("pointerleave",E),window.removeEventListener("blur",C),window.removeEventListener("focus",N)}}},[y,o.isClosePausedRef]);const x=b.useCallback(({tabbingDirection:_})=>{const C=l().map(N=>{const A=N.ref.current,E=[A,...dPe(A)];return _==="forwards"?E:E.reverse()});return(_==="forwards"?C.reverse():C).flat()},[l]);return b.useEffect(()=>{const _=f.current;if(_){const S=C=>{const N=C.altKey||C.ctrlKey||C.metaKey;if(C.key==="Tab"&&!N){const E=document.activeElement,k=C.shiftKey;if(C.target===_&&k){u.current?.focus();return}const z=x({tabbingDirection:k?"backwards":"forwards"}),W=z.findIndex(V=>V===E);mN(z.slice(W+1))?C.preventDefault():k?u.current?.focus():d.current?.focus()}};return _.addEventListener("keydown",S),()=>_.removeEventListener("keydown",S)}},[l,x]),a.jsxs(rxe,{ref:c,role:"region","aria-label":i.replace("{hotkey}",v),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(_T,{ref:u,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"forwards"});mN(_)}}),a.jsx(IQ.Slot,{scope:r,children:a.jsx(br.ol,{tabIndex:-1,...s,ref:g})}),y&&a.jsx(_T,{ref:d,onFocusFromOutsideViewport:()=>{const _=x({tabbingDirection:"backwards"});mN(_)}})]})});$Q.displayName=DQ;var FQ="ToastFocusProxy",_T=b.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...i}=t,s=M1(FQ,r);return a.jsx(PI,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{const l=o.relatedTarget;!s.viewport?.contains(l)&&n()}})});_T.displayName=FQ;var wx="Toast",QEe="toast.swipeStart",ePe="toast.swipeMove",tPe="toast.swipeCancel",rPe="toast.swipeEnd",BQ=b.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:i,onOpenChange:s,...o}=t,[l,c]=Vs({prop:n,defaultProp:i??!0,onChange:s,caller:wx});return a.jsx(Hs,{present:r||l,children:a.jsx(sPe,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:Tr(t.onPause),onResume:Tr(t.onResume),onSwipeStart:Qe(t.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qe(t.onSwipeMove,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:Qe(t.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qe(t.onSwipeEnd,u=>{const{x:d,y:f}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});BQ.displayName=wx;var[nPe,iPe]=LQ(wx,{onClose(){}}),sPe=b.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:u,onSwipeStart:d,onSwipeMove:f,onSwipeCancel:g,onSwipeEnd:v,...y}=t,x=M1(wx,r),[_,S]=b.useState(null),C=vt(e,H=>S(H)),N=b.useRef(null),A=b.useRef(null),E=i||x.duration,k=b.useRef(0),O=b.useRef(E),I=b.useRef(0),{onToastAdd:z,onToastRemove:W}=x,V=Tr(()=>{_?.contains(document.activeElement)&&x.viewport?.focus(),o()}),q=b.useCallback(H=>{!H||H===1/0||(window.clearTimeout(I.current),k.current=new Date().getTime(),I.current=window.setTimeout(V,H))},[V]);b.useEffect(()=>{const H=x.viewport;if(H){const Q=()=>{q(O.current),u?.()},oe=()=>{const K=new Date().getTime()-k.current;O.current=O.current-K,window.clearTimeout(I.current),c?.()};return H.addEventListener(bT,oe),H.addEventListener(wT,Q),()=>{H.removeEventListener(bT,oe),H.removeEventListener(wT,Q)}}},[x.viewport,E,c,u,q]),b.useEffect(()=>{s&&!x.isClosePausedRef.current&&q(E)},[s,E,x.isClosePausedRef,q]),b.useEffect(()=>(z(),()=>W()),[z,W]);const F=b.useMemo(()=>_?KQ(_):null,[_]);return x.viewport?a.jsxs(a.Fragment,{children:[F&&a.jsx(aPe,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),a.jsx(nPe,{scope:r,onClose:V,children:Do.createPortal(a.jsx(IQ.ItemSlot,{scope:r,children:a.jsx(txe,{asChild:!0,onEscapeKeyDown:Qe(l,()=>{x.isFocusedToastEscapeKeyDownRef.current||V(),x.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(br.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":x.swipeDirection,...y,ref:C,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Qe(t.onKeyDown,H=>{H.key==="Escape"&&(l?.(H.nativeEvent),H.nativeEvent.defaultPrevented||(x.isFocusedToastEscapeKeyDownRef.current=!0,V()))}),onPointerDown:Qe(t.onPointerDown,H=>{H.button===0&&(N.current={x:H.clientX,y:H.clientY})}),onPointerMove:Qe(t.onPointerMove,H=>{if(!N.current)return;const Q=H.clientX-N.current.x,oe=H.clientY-N.current.y,K=!!A.current,te=["left","right"].includes(x.swipeDirection),Z=["left","up"].includes(x.swipeDirection)?Math.min:Math.max,se=te?Z(0,Q):0,X=te?0:Z(0,oe),ce=H.pointerType==="touch"?10:2,je={x:se,y:X},Te={originalEvent:H,delta:je};K?(A.current=je,ab(ePe,f,Te,{discrete:!1})):W5(je,x.swipeDirection,ce)?(A.current=je,ab(QEe,d,Te,{discrete:!1}),H.target.setPointerCapture(H.pointerId)):(Math.abs(Q)>ce||Math.abs(oe)>ce)&&(N.current=null)}),onPointerUp:Qe(t.onPointerUp,H=>{const Q=A.current,oe=H.target;if(oe.hasPointerCapture(H.pointerId)&&oe.releasePointerCapture(H.pointerId),A.current=null,N.current=null,Q){const K=H.currentTarget,te={originalEvent:H,delta:Q};W5(Q,x.swipeDirection,x.swipeThreshold)?ab(rPe,v,te,{discrete:!0}):ab(tPe,g,te,{discrete:!0}),K.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),x.viewport)})]}):null}),aPe=t=>{const{__scopeToast:e,children:r,...n}=t,i=M1(wx,e),[s,o]=b.useState(!1),[l,c]=b.useState(!1);return cPe(()=>o(!0)),b.useEffect(()=>{const u=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(u)},[]),l?null:a.jsx(d1,{asChild:!0,children:a.jsx(PI,{...n,children:s&&a.jsxs(a.Fragment,{children:[i.label," ",r]})})})},oPe="ToastTitle",zQ=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(br.div,{...n,ref:e})});zQ.displayName=oPe;var lPe="ToastDescription",qQ=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return a.jsx(br.div,{...n,ref:e})});qQ.displayName=lPe;var UQ="ToastAction",VQ=b.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?a.jsx(HQ,{altText:r,asChild:!0,children:a.jsx(kI,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${UQ}\`. Expected non-empty \`string\`.`),null)});VQ.displayName=UQ;var WQ="ToastClose",kI=b.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,i=iPe(WQ,r);return a.jsx(HQ,{asChild:!0,children:a.jsx(br.button,{type:"button",...n,ref:e,onClick:Qe(t.onClick,i.onClose)})})});kI.displayName=WQ;var HQ=b.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...i}=t;return a.jsx(br.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...i,ref:e})});function KQ(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),uPe(n)){const i=n.ariaHidden||n.hidden||n.style.display==="none",s=n.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=n.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...KQ(n))}}),e}function ab(t,e,r,{discrete:n}){const i=r.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?xM(i,s):i.dispatchEvent(s)}var W5=(t,e,r=0)=>{const n=Math.abs(t.x),i=Math.abs(t.y),s=n>i;return e==="left"||e==="right"?s&&n>r:!s&&i>r};function cPe(t=()=>{}){const e=Tr(t);Cr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function uPe(t){return t.nodeType===t.ELEMENT_NODE}function dPe(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const i=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||i?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function mN(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var GQ=$Q,ZQ=BQ,YQ=zQ,XQ=qQ,JQ=VQ,QQ=kI;const fPe=re.forwardRef(({className:t,...e},r)=>a.jsx(GQ,{ref:r,className:Ye("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));fPe.displayName=GQ.displayName;const hPe=i1("data-[swipe=move]:transition-none group relative pointer-events-auto flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full data-[state=closed]:slide-out-to-right-full",{variants:{variant:{default:"bg-background border",destructive:"group destructive border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),pPe=re.forwardRef(({className:t,variant:e,...r},n)=>a.jsx(ZQ,{ref:n,className:Ye(hPe({variant:e}),t),...r}));pPe.displayName=ZQ.displayName;const mPe=re.forwardRef(({className:t,...e},r)=>a.jsx(JQ,{ref:r,className:Ye("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-destructive/30 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));mPe.displayName=JQ.displayName;const gPe=re.forwardRef(({className:t,...e},r)=>a.jsx(QQ,{ref:r,className:Ye("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Ws,{className:"h-4 w-4"})}));gPe.displayName=QQ.displayName;const vPe=re.forwardRef(({className:t,...e},r)=>a.jsx(YQ,{ref:r,className:Ye("text-sm font-semibold",t),...e}));vPe.displayName=YQ.displayName;const yPe=re.forwardRef(({className:t,...e},r)=>a.jsx(XQ,{ref:r,className:Ye("text-sm opacity-90",t),...e}));yPe.displayName=XQ.displayName;function xPe(t){const e=bPe(t),r=b.forwardRef((n,i)=>{const{children:s,...o}=n,l=b.Children.toArray(s),c=l.find(_Pe);if(c){const u=c.props.children,d=l.map(f=>f===c?b.Children.count(u)>1?b.Children.only(null):b.isValidElement(u)?u.props.children:null:f);return a.jsx(e,{...o,ref:i,children:b.isValidElement(u)?b.cloneElement(u,void 0,d):null})}return a.jsx(e,{...o,ref:i,children:s})});return r.displayName=`${t}.Slot`,r}function bPe(t){const e=b.forwardRef((r,n)=>{const{children:i,...s}=r;if(b.isValidElement(i)){const o=jPe(i),l=SPe(s,i.props);return i.type!==b.Fragment&&(l.ref=n?ya(n,o):o),b.cloneElement(i,l)}return b.Children.count(i)>1?b.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var eee=Symbol("radix.slottable");function wPe(t){const e=({children:r})=>a.jsx(a.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=eee,e}function _Pe(t){return b.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===eee}function SPe(t,e){const r={...e};for(const n in e){const i=t[n],s=e[n];/^on[A-Z]/.test(n)?i&&s?r[n]=(...l)=>{const c=s(...l);return i(...l),c}:i&&(r[n]=i):n==="style"?r[n]={...i,...s}:n==="className"&&(r[n]=[i,s].filter(Boolean).join(" "))}return{...t,...r}}function jPe(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var CPe=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ih=CPe.reduce((t,e)=>{const r=xPe(`Primitive.${e}`),n=b.forwardRef((i,s)=>{const{asChild:o,...l}=i,c=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(c,{...l,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function NPe(t,e){t&&Do.flushSync(()=>t.dispatchEvent(e))}var EPe="DismissableLayer",ST="dismissableLayer.update",PPe="dismissableLayer.pointerDownOutside",kPe="dismissableLayer.focusOutside",H5,tee=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ree=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:l,...c}=t,u=b.useContext(tee),[d,f]=b.useState(null),g=d?.ownerDocument??globalThis?.document,[,v]=b.useState({}),y=vt(e,O=>f(O)),x=Array.from(u.layers),[_]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),S=x.indexOf(_),C=d?x.indexOf(d):-1,N=u.layersWithOutsidePointerEventsDisabled.size>0,A=C>=S,E=OPe(O=>{const I=O.target,z=[...u.branches].some(W=>W.contains(I));!A||z||(i?.(O),o?.(O),O.defaultPrevented||l?.())},g),k=RPe(O=>{const I=O.target;[...u.branches].some(W=>W.contains(I))||(s?.(O),o?.(O),O.defaultPrevented||l?.())},g);return rx(O=>{C===u.layers.size-1&&(n?.(O),!O.defaultPrevented&&l&&(O.preventDefault(),l()))},g),b.useEffect(()=>{if(d)return r&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(H5=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),K5(),()=>{r&&u.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=H5)}},[d,g,r,u]),b.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),K5())},[d,u]),b.useEffect(()=>{const O=()=>v({});return document.addEventListener(ST,O),()=>document.removeEventListener(ST,O)},[]),a.jsx(ih.div,{...c,ref:y,style:{pointerEvents:N?A?"auto":"none":void 0,...t.style},onFocusCapture:Qe(t.onFocusCapture,k.onFocusCapture),onBlurCapture:Qe(t.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Qe(t.onPointerDownCapture,E.onPointerDownCapture)})});ree.displayName=EPe;var APe="DismissableLayerBranch",TPe=b.forwardRef((t,e)=>{const r=b.useContext(tee),n=b.useRef(null),i=vt(e,n);return b.useEffect(()=>{const s=n.current;if(s)return r.branches.add(s),()=>{r.branches.delete(s)}},[r.branches]),a.jsx(ih.div,{...t,ref:i})});TPe.displayName=APe;function OPe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=l=>{if(l.target&&!n.current){let c=function(){nee(PPe,r,u,{discrete:!0})};const u={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=c,e.addEventListener("click",i.current,{once:!0})):c()}else e.removeEventListener("click",i.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function RPe(t,e=globalThis?.document){const r=Tr(t),n=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!n.current&&nee(kPe,r,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function K5(){const t=new CustomEvent(ST);document.dispatchEvent(t)}function nee(t,e,r,{discrete:n}){const i=r.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&i.addEventListener(t,e,{once:!0}),n?NPe(i,s):i.dispatchEvent(s)}var MPe="Arrow",iee=b.forwardRef((t,e)=>{const{children:r,width:n=10,height:i=5,...s}=t;return a.jsx(ih.svg,{...s,ref:e,width:n,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});iee.displayName=MPe;var IPe=iee,AI="Popper",[see,aee]=sn(AI),[LPe,oee]=see(AI),lee=t=>{const{__scopePopper:e,children:r}=t,[n,i]=b.useState(null);return a.jsx(LPe,{scope:e,anchor:n,onAnchorChange:i,children:r})};lee.displayName=AI;var cee="PopperAnchor",uee=b.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...i}=t,s=oee(cee,r),o=b.useRef(null),l=vt(e,o);return b.useEffect(()=>{s.onAnchorChange(n?.current||o.current)}),n?null:a.jsx(ih.div,{...i,ref:l})});uee.displayName=cee;var TI="PopperContent",[DPe,$Pe]=see(TI),dee=b.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:v="optimized",onPlaced:y,...x}=t,_=oee(TI,r),[S,C]=b.useState(null),N=vt(e,ue=>C(ue)),[A,E]=b.useState(null),k=eh(A),O=k?.width??0,I=k?.height??0,z=n+(s!=="center"?"-"+s:""),W=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},V=Array.isArray(u)?u:[u],q=V.length>0,F={padding:W,boundary:V.filter(BPe),altBoundary:q},{refs:H,floatingStyles:Q,placement:oe,isPositioned:K,middlewareData:te}=sx({strategy:"fixed",placement:z,whileElementsMounted:(...ue)=>ix(...ue,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[ax({mainAxis:i+I,alignmentAxis:o}),c&&ox({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?lx():void 0,...F}),c&&cx({...F}),ux({...F,apply:({elements:ue,rects:_e,availableWidth:ye,availableHeight:Ie})=>{const{width:ne,height:J}=_e.reference,Ee=ue.floating.style;Ee.setProperty("--radix-popper-available-width",`${ye}px`),Ee.setProperty("--radix-popper-available-height",`${Ie}px`),Ee.setProperty("--radix-popper-anchor-width",`${ne}px`),Ee.setProperty("--radix-popper-anchor-height",`${J}px`)}}),A&&fx({element:A,padding:l}),zPe({arrowWidth:O,arrowHeight:I}),g&&dx({strategy:"referenceHidden",...F})]}),[Z,se]=pee(oe),X=Tr(y);Cr(()=>{K&&X?.()},[K,X]);const ce=te.arrow?.x,je=te.arrow?.y,Te=te.arrow?.centerOffset!==0,[qe,pe]=b.useState();return Cr(()=>{S&&pe(window.getComputedStyle(S).zIndex)},[S]),a.jsx("div",{ref:H.setFloating,"data-radix-popper-content-wrapper":"",style:{...Q,transform:K?Q.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:qe,"--radix-popper-transform-origin":[te.transformOrigin?.x,te.transformOrigin?.y].join(" "),...te.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(DPe,{scope:r,placedSide:Z,onArrowChange:E,arrowX:ce,arrowY:je,shouldHideArrow:Te,children:a.jsx(ih.div,{"data-side":Z,"data-align":se,...x,ref:N,style:{...x.style,animation:K?void 0:"none"}})})})});dee.displayName=TI;var fee="PopperArrow",FPe={top:"bottom",right:"left",bottom:"top",left:"right"},hee=b.forwardRef(function(e,r){const{__scopePopper:n,...i}=e,s=$Pe(fee,n),o=FPe[s.placedSide];return a.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:a.jsx(IPe,{...i,ref:r,style:{...i.style,display:"block"}})})});hee.displayName=fee;function BPe(t){return t!==null}var zPe=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:i}=e,o=i.arrow?.centerOffset!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[u,d]=pee(r),f={start:"0%",center:"50%",end:"100%"}[d],g=(i.arrow?.x??0)+l/2,v=(i.arrow?.y??0)+c/2;let y="",x="";return u==="bottom"?(y=o?f:`${g}px`,x=`${-c}px`):u==="top"?(y=o?f:`${g}px`,x=`${n.floating.height+c}px`):u==="right"?(y=`${-c}px`,x=o?f:`${v}px`):u==="left"&&(y=`${n.floating.width+c}px`,x=o?f:`${v}px`),{data:{x:y,y:x}}}});function pee(t){const[e,r="center"]=t.split("-");return[e,r]}var qPe=lee,UPe=uee,VPe=dee,WPe=hee,HPe=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),KPe="VisuallyHidden",mee=b.forwardRef((t,e)=>a.jsx(ih.span,{...t,ref:e,style:{...HPe,...t.style}}));mee.displayName=KPe;var GPe=mee,[I1,tWe]=sn("Tooltip",[aee]),L1=aee(),gee="TooltipProvider",ZPe=700,jT="tooltip.open",[YPe,OI]=I1(gee),vee=t=>{const{__scopeTooltip:e,delayDuration:r=ZPe,skipDelayDuration:n=300,disableHoverableContent:i=!1,children:s}=t,o=b.useRef(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),a.jsx(YPe,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};vee.displayName=gee;var Jv="Tooltip",[XPe,D1]=I1(Jv),yee=t=>{const{__scopeTooltip:e,children:r,open:n,defaultOpen:i,onOpenChange:s,disableHoverableContent:o,delayDuration:l}=t,c=OI(Jv,t.__scopeTooltip),u=L1(e),[d,f]=b.useState(null),g=zs(),v=b.useRef(0),y=o??c.disableHoverableContent,x=l??c.delayDuration,_=b.useRef(!1),[S,C]=Vs({prop:n,defaultProp:i??!1,onChange:O=>{O?(c.onOpen(),document.dispatchEvent(new CustomEvent(jT))):c.onClose(),s?.(O)},caller:Jv}),N=b.useMemo(()=>S?_.current?"delayed-open":"instant-open":"closed",[S]),A=b.useCallback(()=>{window.clearTimeout(v.current),v.current=0,_.current=!1,C(!0)},[C]),E=b.useCallback(()=>{window.clearTimeout(v.current),v.current=0,C(!1)},[C]),k=b.useCallback(()=>{window.clearTimeout(v.current),v.current=window.setTimeout(()=>{_.current=!0,C(!0),v.current=0},x)},[x,C]);return b.useEffect(()=>()=>{v.current&&(window.clearTimeout(v.current),v.current=0)},[]),a.jsx(qPe,{...u,children:a.jsx(XPe,{scope:e,contentId:g,open:S,stateAttribute:N,trigger:d,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{c.isOpenDelayedRef.current?k():A()},[c.isOpenDelayedRef,k,A]),onTriggerLeave:b.useCallback(()=>{y?E():(window.clearTimeout(v.current),v.current=0)},[E,y]),onOpen:A,onClose:E,disableHoverableContent:y,children:r})})};yee.displayName=Jv;var CT="TooltipTrigger",xee=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=D1(CT,r),s=OI(CT,r),o=L1(r),l=b.useRef(null),c=vt(e,l,i.onTriggerChange),u=b.useRef(!1),d=b.useRef(!1),f=b.useCallback(()=>u.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),a.jsx(UPe,{asChild:!0,...o,children:a.jsx(ih.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...n,ref:c,onPointerMove:Qe(t.onPointerMove,g=>{g.pointerType!=="touch"&&!d.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),d.current=!0)}),onPointerLeave:Qe(t.onPointerLeave,()=>{i.onTriggerLeave(),d.current=!1}),onPointerDown:Qe(t.onPointerDown,()=>{i.open&&i.onClose(),u.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:Qe(t.onFocus,()=>{u.current||i.onOpen()}),onBlur:Qe(t.onBlur,i.onClose),onClick:Qe(t.onClick,i.onClose)})})});xee.displayName=CT;var JPe="TooltipPortal",[rWe,QPe]=I1(JPe,{forceMount:void 0}),Gp="TooltipContent",bee=b.forwardRef((t,e)=>{const r=QPe(Gp,t.__scopeTooltip),{forceMount:n=r.forceMount,side:i="top",...s}=t,o=D1(Gp,t.__scopeTooltip);return a.jsx(Hs,{present:n||o.open,children:o.disableHoverableContent?a.jsx(wee,{side:i,...s,ref:e}):a.jsx(e2e,{side:i,...s,ref:e})})}),e2e=b.forwardRef((t,e)=>{const r=D1(Gp,t.__scopeTooltip),n=OI(Gp,t.__scopeTooltip),i=b.useRef(null),s=vt(e,i),[o,l]=b.useState(null),{trigger:c,onClose:u}=r,d=i.current,{onPointerInTransitChange:f}=n,g=b.useCallback(()=>{l(null),f(!1)},[f]),v=b.useCallback((y,x)=>{const _=y.currentTarget,S={x:y.clientX,y:y.clientY},C=s2e(S,_.getBoundingClientRect()),N=a2e(S,C),A=o2e(x.getBoundingClientRect()),E=c2e([...N,...A]);l(E),f(!0)},[f]);return b.useEffect(()=>()=>g(),[g]),b.useEffect(()=>{if(c&&d){const y=_=>v(_,d),x=_=>v(_,c);return c.addEventListener("pointerleave",y),d.addEventListener("pointerleave",x),()=>{c.removeEventListener("pointerleave",y),d.removeEventListener("pointerleave",x)}}},[c,d,v,g]),b.useEffect(()=>{if(o){const y=x=>{const _=x.target,S={x:x.clientX,y:x.clientY},C=c?.contains(_)||d?.contains(_),N=!l2e(S,o);C?g():N&&(g(),u())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,d,o,u,g]),a.jsx(wee,{...t,ref:s})}),[t2e,r2e]=I1(Jv,{isInside:!1}),n2e=wPe("TooltipContent"),wee=b.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...l}=t,c=D1(Gp,r),u=L1(r),{onClose:d}=c;return b.useEffect(()=>(document.addEventListener(jT,d),()=>document.removeEventListener(jT,d)),[d]),b.useEffect(()=>{if(c.trigger){const f=g=>{g.target?.contains(c.trigger)&&d()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,d]),a.jsx(ree,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:d,children:a.jsxs(VPe,{"data-state":c.stateAttribute,...u,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(n2e,{children:n}),a.jsx(t2e,{scope:r,isInside:!0,children:a.jsx(GPe,{id:c.contentId,role:"tooltip",children:i||n})})]})})});bee.displayName=Gp;var _ee="TooltipArrow",i2e=b.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,i=L1(r);return r2e(_ee,r).isInside?null:a.jsx(WPe,{...i,...n,ref:e})});i2e.displayName=_ee;function s2e(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(r,n,i,s)){case s:return"left";case i:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function a2e(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function o2e(t){const{top:e,right:r,bottom:n,left:i}=t;return[{x:i,y:e},{x:r,y:e},{x:r,y:n},{x:i,y:n}]}function l2e(t,e){const{x:r,y:n}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const l=e[s],c=e[o],u=l.x,d=l.y,f=c.x,g=c.y;d>n!=g>n&&r<(f-u)*(n-d)/(g-d)+u&&(i=!i)}return i}function c2e(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),u2e(e)}function u2e(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const i=t[n];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const i=t[n];for(;r.length>=2;){const s=r[r.length-1],o=r[r.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))r.pop();else break}r.push(i)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var d2e=vee,f2e=yee,h2e=xee,See=bee;const hp=d2e,ul=f2e,dl=h2e,No=b.forwardRef(({className:t,sideOffset:e=4,...r},n)=>a.jsx(See,{ref:n,sideOffset:e,className:Ye("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));No.displayName=See.displayName;const Qv=({user:t,size:e="default",className:r,showFallbackIcon:n=!1})=>{if(!t)return a.jsx(Aw,{className:Ye("bg-gray-200",e==="sm"&&"h-8 w-8",e==="default"&&"h-10 w-10",e==="lg"&&"h-12 w-12",e==="xl"&&"h-16 w-16",r),children:a.jsx(Tw,{className:"bg-gray-200 text-gray-600",children:a.jsx(Fs,{className:"h-4 w-4"})})});const i=()=>{const c=t.first_name||"",u=t.last_name||"";return c&&u?`${c.charAt(0)}${u.charAt(0)}`.toUpperCase():c?c.charAt(0).toUpperCase():u?u.charAt(0).toUpperCase():t.email?t.email.charAt(0).toUpperCase():"?"},s=()=>{const c=`${t.first_name||""}${t.last_name||""}`.toLowerCase();if(!c)return"bg-gray-500";const u=["bg-blue-500","bg-green-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-yellow-500","bg-red-500","bg-teal-500"];let d=0;for(let f=0;f<c.length;f++)d=c.charCodeAt(f)+((d<<5)-d);return u[Math.abs(d)%u.length]},o=()=>{switch(e){case"sm":return"h-8 w-8";case"lg":return"h-12 w-12";case"xl":return"h-16 w-16";default:return"h-10 w-10"}},l=()=>{switch(e){case"sm":return"text-xs";case"lg":return"text-lg";case"xl":return"text-2xl";default:return"text-sm"}};return a.jsxs(Aw,{className:Ye(o(),r),children:[t.avatar_url&&a.jsx(PX,{src:t.avatar_url,alt:`${t.first_name||""} ${t.last_name||""}`,onError:c=>{c.target.style.display="none"}}),a.jsx(Tw,{className:Ye(s(),"text-white font-semibold",l()),children:n?a.jsx(Fs,{className:Ye(e==="sm"&&"h-3 w-3",e==="default"&&"h-4 w-4",e==="lg"&&"h-5 w-5",e==="xl"&&"h-6 w-6")}):i()})]})},ob=({error:t,className:e="",showIcon:r=!0})=>t?a.jsxs("div",{className:Ye("flex items-start gap-1.5 text-xs text-red-600 mt-1",e),children:[r&&a.jsx(Un,{className:"h-3 w-3 mt-0.5 flex-shrink-0"}),a.jsx("span",{className:"leading-relaxed",children:t})]}):null,p2e=(t={})=>({getFieldError:o=>t[o]||null,hasFieldError:o=>!!t[o],hasAnyErrors:()=>Object.keys(t).length>0,clearFieldError:(o,l)=>{l&&t[o]&&l(c=>{const u={...c};return delete u[o],u})},clearAllErrors:o=>{o&&o({})}}),G5=(t,e,r)=>{if(t&&"reportValidity"in t){const n=wt(r,e);t.setCustomValidity(n&&n.message||""),t.reportValidity()}},jee=(t,e)=>{for(const r in e.fields){const n=e.fields[r];n&&n.ref&&"reportValidity"in n.ref?G5(n.ref,r,t):n.refs&&n.refs.forEach(i=>G5(i,r,t))}},m2e=(t,e)=>{e.shouldUseNativeValidation&&jee(t,e);const r={};for(const n in t){const i=wt(e.fields,n),s=Object.assign(t[n]||{},{ref:i&&i.ref});if(g2e(e.names||Object.keys(t),n)){const o=Object.assign({},wt(r,n));Gr(o,"root",s),Gr(r,n,o)}else Gr(r,n,s)}return r},g2e=(t,e)=>t.some(r=>r.startsWith(e+"."));var v2e=function(t,e){for(var r={};t.length;){var n=t[0],i=n.code,s=n.message,o=n.path.join(".");if(!r[o])if("unionErrors"in n){var l=n.unionErrors[0].errors[0];r[o]={message:l.message,type:l.code}}else r[o]={message:s,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(d){return d.errors.forEach(function(f){return t.push(f)})}),e){var c=r[o].types,u=c&&c[n.code];r[o]=HZ(o,e,r,i,u?[].concat(u,n.message):n.message)}t.shift()}return r},y2e=function(t,e,r){return r===void 0&&(r={}),function(n,i,s){try{return Promise.resolve(function(o,l){try{var c=Promise.resolve(t[r.mode==="sync"?"parse":"parseAsync"](n,e)).then(function(u){return s.shouldUseNativeValidation&&jee({},s),{errors:{},values:r.raw?n:u}})}catch(u){return l(u)}return c&&c.then?c.then(void 0,l):c}(0,function(o){if(function(l){return Array.isArray(l?.errors)}(o))return{values:{},errors:m2e(v2e(o.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw o}))}catch(o){return Promise.reject(o)}}},Ar;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(l=>typeof i[i[l]]!="number"),o={};for(const l of s)o[l]=i[l];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(Ar||(Ar={}));var Z5;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(Z5||(Z5={}));const _t=Ar.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Hu=t=>{switch(typeof t){case"undefined":return _t.undefined;case"string":return _t.string;case"number":return Number.isNaN(t)?_t.nan:_t.number;case"boolean":return _t.boolean;case"function":return _t.function;case"bigint":return _t.bigint;case"symbol":return _t.symbol;case"object":return Array.isArray(t)?_t.array:t===null?_t.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?_t.promise:typeof Map<"u"&&t instanceof Map?_t.map:typeof Set<"u"&&t instanceof Set?_t.set:typeof Date<"u"&&t instanceof Date?_t.date:_t.object;default:return _t.unknown}},lt=Ar.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Cl extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let l=n,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(l[u]=l[u]||{_errors:[]},l[u]._errors.push(r(o))):l[u]=l[u]||{_errors:[]},l=l[u],c++}}};return i(this),n}static assert(e){if(!(e instanceof Cl))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ar.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];r[s]=r[s]||[],r[s].push(e(i))}else n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Cl.create=t=>new Cl(t);const NT=(t,e)=>{let r;switch(t.code){case lt.invalid_type:t.received===_t.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case lt.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,Ar.jsonStringifyReplacer)}`;break;case lt.unrecognized_keys:r=`Unrecognized key(s) in object: ${Ar.joinValues(t.keys,", ")}`;break;case lt.invalid_union:r="Invalid input";break;case lt.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${Ar.joinValues(t.options)}`;break;case lt.invalid_enum_value:r=`Invalid enum value. Expected ${Ar.joinValues(t.options)}, received '${t.received}'`;break;case lt.invalid_arguments:r="Invalid function arguments";break;case lt.invalid_return_type:r="Invalid function return type";break;case lt.invalid_date:r="Invalid date";break;case lt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:Ar.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case lt.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case lt.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case lt.custom:r="Invalid input";break;case lt.invalid_intersection_types:r="Intersection results could not be merged";break;case lt.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case lt.not_finite:r="Number must be finite";break;default:r=e.defaultError,Ar.assertNever(t)}return{message:r}};let x2e=NT;function b2e(){return x2e}const w2e=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let l="";const c=n.filter(u=>!!u).slice().reverse();for(const u of c)l=u(o,{data:e,defaultError:l}).message;return{...i,path:s,message:l}};function pt(t,e){const r=b2e(),n=w2e({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===NT?void 0:NT].filter(i=>!!i)});t.common.issues.push(n)}class xs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Kt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r){const s=await i.key,o=await i.value;n.push({key:s,value:o})}return xs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Kt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const Kt=Object.freeze({status:"aborted"}),fv=t=>({status:"dirty",value:t}),eo=t=>({status:"valid",value:t}),Y5=t=>t.status==="aborted",X5=t=>t.status==="dirty",Zp=t=>t.status==="valid",Lw=t=>typeof Promise<"u"&&t instanceof Promise;var At;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(At||(At={}));class Nl{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const J5=(t,e)=>{if(Zp(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Cl(t.common.issues);return this._error=r,this._error}}};function cr(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,l)=>{const{message:c}=t;return o.code==="invalid_enum_value"?{message:c??l.defaultError}:typeof l.data>"u"?{message:c??n??l.defaultError}:o.code!=="invalid_type"?{message:l.defaultError}:{message:c??r??l.defaultError}},description:i}}class xr{get description(){return this._def.description}_getType(e){return Hu(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Hu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new xs,ctx:{common:e.parent.common,data:e.data,parsedType:Hu(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(Lw(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){const n={common:{issues:[],async:r?.async??!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hu(e)},i=this._parseSync({data:e,path:n.path,parent:n});return J5(n,i)}"~validate"(e){const r={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hu(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:r});return Zp(n)?{value:n.value}:{issues:r.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),r.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:r}).then(n=>Zp(n)?{value:n.value}:{issues:r.common.issues})}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Hu(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(Lw(i)?i:Promise.resolve(i));return J5(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),l=()=>s.addIssue({code:lt.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(l(),!1)):o?!0:(l(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new Jp({schema:this,typeName:Ht.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return od.create(this,this._def)}nullable(){return Qp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return xl.create(this)}promise(){return Bw.create(this,this._def)}or(e){return Dw.create([this,e],this._def)}and(e){return $w.create(this,e,this._def)}transform(e){return new Jp({...cr(this._def),schema:this,typeName:Ht.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new AT({...cr(this._def),innerType:this,defaultValue:r,typeName:Ht.ZodDefault})}brand(){return new V2e({typeName:Ht.ZodBranded,type:this,...cr(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new TT({...cr(this._def),innerType:this,catchValue:r,typeName:Ht.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return RI.create(this,e)}readonly(){return OT.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const _2e=/^c[^\s-]{8,}$/i,S2e=/^[0-9a-z]+$/,j2e=/^[0-9A-HJKMNP-TV-Z]{26}$/i,C2e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,N2e=/^[a-z0-9_-]{21}$/i,E2e=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,P2e=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,k2e=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,A2e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gN;const T2e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,O2e=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,R2e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,M2e=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,I2e=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,L2e=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Cee="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",D2e=new RegExp(`^${Cee}$`);function Nee(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const r=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${r}`}function $2e(t){return new RegExp(`^${Nee(t)}$`)}function F2e(t){let e=`${Cee}T${Nee(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function B2e(t,e){return!!((e==="v4"||!e)&&T2e.test(t)||(e==="v6"||!e)&&R2e.test(t))}function z2e(t,e){if(!E2e.test(t))return!1;try{const[r]=t.split(".");if(!r)return!1;const n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||"typ"in i&&i?.typ!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function q2e(t,e){return!!((e==="v4"||!e)&&O2e.test(t)||(e==="v6"||!e)&&M2e.test(t))}class yc extends xr{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==_t.string){const s=this._getOrReturnCtx(e);return pt(s,{code:lt.invalid_type,expected:_t.string,received:s.parsedType}),Kt}const n=new xs;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,l=e.data.length<s.value;(o||l)&&(i=this._getOrReturnCtx(e,i),o?pt(i,{code:lt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):l&&pt(i,{code:lt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")k2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"email",code:lt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")gN||(gN=new RegExp(A2e,"u")),gN.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"emoji",code:lt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")C2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"uuid",code:lt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="nanoid")N2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"nanoid",code:lt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")_2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"cuid",code:lt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")S2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"cuid2",code:lt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")j2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"ulid",code:lt.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),pt(i,{validation:"url",code:lt.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"regex",code:lt.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?F2e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="date"?D2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.invalid_string,validation:"date",message:s.message}),n.dirty()):s.kind==="time"?$2e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.invalid_string,validation:"time",message:s.message}),n.dirty()):s.kind==="duration"?P2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"duration",code:lt.invalid_string,message:s.message}),n.dirty()):s.kind==="ip"?B2e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"ip",code:lt.invalid_string,message:s.message}),n.dirty()):s.kind==="jwt"?z2e(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"jwt",code:lt.invalid_string,message:s.message}),n.dirty()):s.kind==="cidr"?q2e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"cidr",code:lt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64"?I2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"base64",code:lt.invalid_string,message:s.message}),n.dirty()):s.kind==="base64url"?L2e.test(e.data)||(i=this._getOrReturnCtx(e,i),pt(i,{validation:"base64url",code:lt.invalid_string,message:s.message}),n.dirty()):Ar.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:lt.invalid_string,...At.errToObj(n)})}_addCheck(e){return new yc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...At.errToObj(e)})}url(e){return this._addCheck({kind:"url",...At.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...At.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...At.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...At.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...At.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...At.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...At.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...At.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...At.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...At.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...At.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...At.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...At.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof e?.precision>"u"?null:e?.precision,...At.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...At.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...At.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...At.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...At.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...At.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...At.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...At.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...At.errToObj(r)})}nonempty(e){return this.min(1,At.errToObj(e))}trim(){return new yc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new yc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new yc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}yc.create=t=>new yc({checks:[],typeName:Ht.ZodString,coerce:t?.coerce??!1,...cr(t)});function U2e(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=Number.parseInt(t.toFixed(i).replace(".","")),o=Number.parseInt(e.toFixed(i).replace(".",""));return s%o/10**i}class Yp extends xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==_t.number){const s=this._getOrReturnCtx(e);return pt(s,{code:lt.invalid_type,expected:_t.number,received:s.parsedType}),Kt}let n;const i=new xs;for(const s of this._def.checks)s.kind==="int"?Ar.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?U2e(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.not_finite,message:s.message}),i.dirty()):Ar.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,At.toString(r))}gt(e,r){return this.setLimit("min",e,!1,At.toString(r))}lte(e,r){return this.setLimit("max",e,!0,At.toString(r))}lt(e,r){return this.setLimit("max",e,!1,At.toString(r))}setLimit(e,r,n,i){return new Yp({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:At.toString(i)}]})}_addCheck(e){return new Yp({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:At.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:At.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:At.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:At.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:At.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&Ar.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Yp.create=t=>new Yp({checks:[],typeName:Ht.ZodNumber,coerce:t?.coerce||!1,...cr(t)});class ey extends xr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==_t.bigint)return this._getInvalidInput(e);let n;const i=new xs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),pt(n,{code:lt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):Ar.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const r=this._getOrReturnCtx(e);return pt(r,{code:lt.invalid_type,expected:_t.bigint,received:r.parsedType}),Kt}gte(e,r){return this.setLimit("min",e,!0,At.toString(r))}gt(e,r){return this.setLimit("min",e,!1,At.toString(r))}lte(e,r){return this.setLimit("max",e,!0,At.toString(r))}lt(e,r){return this.setLimit("max",e,!1,At.toString(r))}setLimit(e,r,n,i){return new ey({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:At.toString(i)}]})}_addCheck(e){return new ey({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:At.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:At.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:At.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:At.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:At.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}ey.create=t=>new ey({checks:[],typeName:Ht.ZodBigInt,coerce:t?.coerce??!1,...cr(t)});class ET extends xr{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==_t.boolean){const n=this._getOrReturnCtx(e);return pt(n,{code:lt.invalid_type,expected:_t.boolean,received:n.parsedType}),Kt}return eo(e.data)}}ET.create=t=>new ET({typeName:Ht.ZodBoolean,coerce:t?.coerce||!1,...cr(t)});class ty extends xr{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==_t.date){const s=this._getOrReturnCtx(e);return pt(s,{code:lt.invalid_type,expected:_t.date,received:s.parsedType}),Kt}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return pt(s,{code:lt.invalid_date}),Kt}const n=new xs;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),pt(i,{code:lt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):Ar.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new ty({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:At.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:At.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}ty.create=t=>new ty({checks:[],coerce:t?.coerce||!1,typeName:Ht.ZodDate,...cr(t)});class Q5 extends xr{_parse(e){if(this._getType(e)!==_t.symbol){const n=this._getOrReturnCtx(e);return pt(n,{code:lt.invalid_type,expected:_t.symbol,received:n.parsedType}),Kt}return eo(e.data)}}Q5.create=t=>new Q5({typeName:Ht.ZodSymbol,...cr(t)});class eB extends xr{_parse(e){if(this._getType(e)!==_t.undefined){const n=this._getOrReturnCtx(e);return pt(n,{code:lt.invalid_type,expected:_t.undefined,received:n.parsedType}),Kt}return eo(e.data)}}eB.create=t=>new eB({typeName:Ht.ZodUndefined,...cr(t)});class tB extends xr{_parse(e){if(this._getType(e)!==_t.null){const n=this._getOrReturnCtx(e);return pt(n,{code:lt.invalid_type,expected:_t.null,received:n.parsedType}),Kt}return eo(e.data)}}tB.create=t=>new tB({typeName:Ht.ZodNull,...cr(t)});class PT extends xr{constructor(){super(...arguments),this._any=!0}_parse(e){return eo(e.data)}}PT.create=t=>new PT({typeName:Ht.ZodAny,...cr(t)});class rB extends xr{constructor(){super(...arguments),this._unknown=!0}_parse(e){return eo(e.data)}}rB.create=t=>new rB({typeName:Ht.ZodUnknown,...cr(t)});class vd extends xr{_parse(e){const r=this._getOrReturnCtx(e);return pt(r,{code:lt.invalid_type,expected:_t.never,received:r.parsedType}),Kt}}vd.create=t=>new vd({typeName:Ht.ZodNever,...cr(t)});class nB extends xr{_parse(e){if(this._getType(e)!==_t.undefined){const n=this._getOrReturnCtx(e);return pt(n,{code:lt.invalid_type,expected:_t.void,received:n.parsedType}),Kt}return eo(e.data)}}nB.create=t=>new nB({typeName:Ht.ZodVoid,...cr(t)});class xl extends xr{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==_t.array)return pt(r,{code:lt.invalid_type,expected:_t.array,received:r.parsedType}),Kt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,l=r.data.length<i.exactLength.value;(o||l)&&(pt(r,{code:o?lt.too_big:lt.too_small,minimum:l?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(pt(r,{code:lt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(pt(r,{code:lt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,l)=>i.type._parseAsync(new Nl(r,o,r.path,l)))).then(o=>xs.mergeArray(n,o));const s=[...r.data].map((o,l)=>i.type._parseSync(new Nl(r,o,r.path,l)));return xs.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new xl({...this._def,minLength:{value:e,message:At.toString(r)}})}max(e,r){return new xl({...this._def,maxLength:{value:e,message:At.toString(r)}})}length(e,r){return new xl({...this._def,exactLength:{value:e,message:At.toString(r)}})}nonempty(e){return this.min(1,e)}}xl.create=(t,e)=>new xl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:Ht.ZodArray,...cr(e)});function pp(t){if(t instanceof Xn){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=od.create(pp(n))}return new Xn({...t._def,shape:()=>e})}else return t instanceof xl?new xl({...t._def,type:pp(t.element)}):t instanceof od?od.create(pp(t.unwrap())):t instanceof Qp?Qp.create(pp(t.unwrap())):t instanceof qf?qf.create(t.items.map(e=>pp(e))):t}class Xn extends xr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=Ar.objectKeys(e);return this._cached={shape:e,keys:r},this._cached}_parse(e){if(this._getType(e)!==_t.object){const u=this._getOrReturnCtx(e);return pt(u,{code:lt.invalid_type,expected:_t.object,received:u.parsedType}),Kt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),l=[];if(!(this._def.catchall instanceof vd&&this._def.unknownKeys==="strip"))for(const u in i.data)o.includes(u)||l.push(u);const c=[];for(const u of o){const d=s[u],f=i.data[u];c.push({key:{status:"valid",value:u},value:d._parse(new Nl(i,f,i.path,u)),alwaysSet:u in i.data})}if(this._def.catchall instanceof vd){const u=this._def.unknownKeys;if(u==="passthrough")for(const d of l)c.push({key:{status:"valid",value:d},value:{status:"valid",value:i.data[d]}});else if(u==="strict")l.length>0&&(pt(i,{code:lt.unrecognized_keys,keys:l}),n.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const d of l){const f=i.data[d];c.push({key:{status:"valid",value:d},value:u._parse(new Nl(i,f,i.path,d)),alwaysSet:d in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const u=[];for(const d of c){const f=await d.key,g=await d.value;u.push({key:f,value:g,alwaysSet:d.alwaysSet})}return u}).then(u=>xs.mergeObjectSync(n,u)):xs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return At.errToObj,new Xn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{const i=this._def.errorMap?.(r,n).message??n.defaultError;return r.code==="unrecognized_keys"?{message:At.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new Xn({...this._def,unknownKeys:"strip"})}passthrough(){return new Xn({...this._def,unknownKeys:"passthrough"})}extend(e){return new Xn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Xn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Ht.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Xn({...this._def,catchall:e})}pick(e){const r={};for(const n of Ar.objectKeys(e))e[n]&&this.shape[n]&&(r[n]=this.shape[n]);return new Xn({...this._def,shape:()=>r})}omit(e){const r={};for(const n of Ar.objectKeys(this.shape))e[n]||(r[n]=this.shape[n]);return new Xn({...this._def,shape:()=>r})}deepPartial(){return pp(this)}partial(e){const r={};for(const n of Ar.objectKeys(this.shape)){const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}return new Xn({...this._def,shape:()=>r})}required(e){const r={};for(const n of Ar.objectKeys(this.shape))if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof od;)s=s._def.innerType;r[n]=s}return new Xn({...this._def,shape:()=>r})}keyof(){return Eee(Ar.objectKeys(this.shape))}}Xn.create=(t,e)=>new Xn({shape:()=>t,unknownKeys:"strip",catchall:vd.create(),typeName:Ht.ZodObject,...cr(e)});Xn.strictCreate=(t,e)=>new Xn({shape:()=>t,unknownKeys:"strict",catchall:vd.create(),typeName:Ht.ZodObject,...cr(e)});Xn.lazycreate=(t,e)=>new Xn({shape:t,unknownKeys:"strip",catchall:vd.create(),typeName:Ht.ZodObject,...cr(e)});class Dw extends xr{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const l of s)if(l.result.status==="valid")return l.result;for(const l of s)if(l.result.status==="dirty")return r.common.issues.push(...l.ctx.common.issues),l.result;const o=s.map(l=>new Cl(l.ctx.common.issues));return pt(r,{code:lt.invalid_union,unionErrors:o}),Kt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const u={...r,common:{...r.common,issues:[]},parent:null},d=c._parseSync({data:r.data,path:r.path,parent:u});if(d.status==="valid")return d;d.status==="dirty"&&!s&&(s={result:d,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const l=o.map(c=>new Cl(c));return pt(r,{code:lt.invalid_union,unionErrors:l}),Kt}}get options(){return this._def.options}}Dw.create=(t,e)=>new Dw({options:t,typeName:Ht.ZodUnion,...cr(e)});function kT(t,e){const r=Hu(t),n=Hu(e);if(t===e)return{valid:!0,data:t};if(r===_t.object&&n===_t.object){const i=Ar.objectKeys(e),s=Ar.objectKeys(t).filter(l=>i.indexOf(l)!==-1),o={...t,...e};for(const l of s){const c=kT(t[l],e[l]);if(!c.valid)return{valid:!1};o[l]=c.data}return{valid:!0,data:o}}else if(r===_t.array&&n===_t.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],l=e[s],c=kT(o,l);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===_t.date&&n===_t.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class $w extends xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(Y5(s)||Y5(o))return Kt;const l=kT(s.value,o.value);return l.valid?((X5(s)||X5(o))&&r.dirty(),{status:r.value,value:l.data}):(pt(n,{code:lt.invalid_intersection_types}),Kt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}$w.create=(t,e,r)=>new $w({left:t,right:e,typeName:Ht.ZodIntersection,...cr(r)});class qf extends xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.array)return pt(n,{code:lt.invalid_type,expected:_t.array,received:n.parsedType}),Kt;if(n.data.length<this._def.items.length)return pt(n,{code:lt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Kt;!this._def.rest&&n.data.length>this._def.items.length&&(pt(n,{code:lt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,l)=>{const c=this._def.items[l]||this._def.rest;return c?c._parse(new Nl(n,o,n.path,l)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>xs.mergeArray(r,o)):xs.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new qf({...this._def,rest:e})}}qf.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new qf({items:t,typeName:Ht.ZodTuple,rest:null,...cr(e)})};class Fw extends xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.object)return pt(n,{code:lt.invalid_type,expected:_t.object,received:n.parsedType}),Kt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const l in n.data)i.push({key:s._parse(new Nl(n,l,n.path,l)),value:o._parse(new Nl(n,n.data[l],n.path,l)),alwaysSet:l in n.data});return n.common.async?xs.mergeObjectAsync(r,i):xs.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof xr?new Fw({keyType:e,valueType:r,typeName:Ht.ZodRecord,...cr(n)}):new Fw({keyType:yc.create(),valueType:e,typeName:Ht.ZodRecord,...cr(r)})}}class iB extends xr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.map)return pt(n,{code:lt.invalid_type,expected:_t.map,received:n.parsedType}),Kt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([l,c],u)=>({key:i._parse(new Nl(n,l,n.path,[u,"key"])),value:s._parse(new Nl(n,c,n.path,[u,"value"]))}));if(n.common.async){const l=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,d=await c.value;if(u.status==="aborted"||d.status==="aborted")return Kt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}})}else{const l=new Map;for(const c of o){const u=c.key,d=c.value;if(u.status==="aborted"||d.status==="aborted")return Kt;(u.status==="dirty"||d.status==="dirty")&&r.dirty(),l.set(u.value,d.value)}return{status:r.value,value:l}}}}iB.create=(t,e,r)=>new iB({valueType:e,keyType:t,typeName:Ht.ZodMap,...cr(r)});class ry extends xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==_t.set)return pt(n,{code:lt.invalid_type,expected:_t.set,received:n.parsedType}),Kt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(pt(n,{code:lt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(pt(n,{code:lt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const u=new Set;for(const d of c){if(d.status==="aborted")return Kt;d.status==="dirty"&&r.dirty(),u.add(d.value)}return{status:r.value,value:u}}const l=[...n.data.values()].map((c,u)=>s._parse(new Nl(n,c,n.path,u)));return n.common.async?Promise.all(l).then(c=>o(c)):o(l)}min(e,r){return new ry({...this._def,minSize:{value:e,message:At.toString(r)}})}max(e,r){return new ry({...this._def,maxSize:{value:e,message:At.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}ry.create=(t,e)=>new ry({valueType:t,minSize:null,maxSize:null,typeName:Ht.ZodSet,...cr(e)});class sB extends xr{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}sB.create=(t,e)=>new sB({getter:t,typeName:Ht.ZodLazy,...cr(e)});class aB extends xr{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return pt(r,{received:r.data,code:lt.invalid_literal,expected:this._def.value}),Kt}return{status:"valid",value:e.data}}get value(){return this._def.value}}aB.create=(t,e)=>new aB({value:t,typeName:Ht.ZodLiteral,...cr(e)});function Eee(t,e){return new Xp({values:t,typeName:Ht.ZodEnum,...cr(e)})}class Xp extends xr{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return pt(r,{expected:Ar.joinValues(n),received:r.parsedType,code:lt.invalid_type}),Kt}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const r=this._getOrReturnCtx(e),n=this._def.values;return pt(r,{received:r.data,code:lt.invalid_enum_value,options:n}),Kt}return eo(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Xp.create(e,{...this._def,...r})}exclude(e,r=this._def){return Xp.create(this.options.filter(n=>!e.includes(n)),{...this._def,...r})}}Xp.create=Eee;class oB extends xr{_parse(e){const r=Ar.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==_t.string&&n.parsedType!==_t.number){const i=Ar.objectValues(r);return pt(n,{expected:Ar.joinValues(i),received:n.parsedType,code:lt.invalid_type}),Kt}if(this._cache||(this._cache=new Set(Ar.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=Ar.objectValues(r);return pt(n,{received:n.data,code:lt.invalid_enum_value,options:i}),Kt}return eo(e.data)}get enum(){return this._def.values}}oB.create=(t,e)=>new oB({values:t,typeName:Ht.ZodNativeEnum,...cr(e)});class Bw extends xr{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==_t.promise&&r.common.async===!1)return pt(r,{code:lt.invalid_type,expected:_t.promise,received:r.parsedType}),Kt;const n=r.parsedType===_t.promise?r.data:Promise.resolve(r.data);return eo(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}Bw.create=(t,e)=>new Bw({type:t,typeName:Ht.ZodPromise,...cr(e)});class Jp extends xr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ht.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{pt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);if(n.common.async)return Promise.resolve(o).then(async l=>{if(r.value==="aborted")return Kt;const c=await this._def.schema._parseAsync({data:l,path:n.path,parent:n});return c.status==="aborted"?Kt:c.status==="dirty"||r.value==="dirty"?fv(c.value):c});{if(r.value==="aborted")return Kt;const l=this._def.schema._parseSync({data:o,path:n.path,parent:n});return l.status==="aborted"?Kt:l.status==="dirty"||r.value==="dirty"?fv(l.value):l}}if(i.type==="refinement"){const o=l=>{const c=i.refinement(l,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return l};if(n.common.async===!1){const l=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return l.status==="aborted"?Kt:(l.status==="dirty"&&r.dirty(),o(l.value),{status:r.value,value:l.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(l=>l.status==="aborted"?Kt:(l.status==="dirty"&&r.dirty(),o(l.value).then(()=>({status:r.value,value:l.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Zp(o))return Kt;const l=i.transform(o.value,s);if(l instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:l}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Zp(o)?Promise.resolve(i.transform(o.value,s)).then(l=>({status:r.value,value:l})):Kt);Ar.assertNever(i)}}Jp.create=(t,e,r)=>new Jp({schema:t,typeName:Ht.ZodEffects,effect:e,...cr(r)});Jp.createWithPreprocess=(t,e,r)=>new Jp({schema:e,effect:{type:"preprocess",transform:t},typeName:Ht.ZodEffects,...cr(r)});class od extends xr{_parse(e){return this._getType(e)===_t.undefined?eo(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}od.create=(t,e)=>new od({innerType:t,typeName:Ht.ZodOptional,...cr(e)});class Qp extends xr{_parse(e){return this._getType(e)===_t.null?eo(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Qp.create=(t,e)=>new Qp({innerType:t,typeName:Ht.ZodNullable,...cr(e)});class AT extends xr{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===_t.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}AT.create=(t,e)=>new AT({innerType:t,typeName:Ht.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...cr(e)});class TT extends xr{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Lw(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Cl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Cl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}TT.create=(t,e)=>new TT({innerType:t,typeName:Ht.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...cr(e)});class lB extends xr{_parse(e){if(this._getType(e)!==_t.nan){const n=this._getOrReturnCtx(e);return pt(n,{code:lt.invalid_type,expected:_t.nan,received:n.parsedType}),Kt}return{status:"valid",value:e.data}}}lB.create=t=>new lB({typeName:Ht.ZodNaN,...cr(t)});class V2e extends xr{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class RI extends xr{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Kt:s.status==="dirty"?(r.dirty(),fv(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Kt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new RI({in:e,out:r,typeName:Ht.ZodPipeline})}}class OT extends xr{_parse(e){const r=this._def.innerType._parse(e),n=i=>(Zp(i)&&(i.value=Object.freeze(i.value)),i);return Lw(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}}OT.create=(t,e)=>new OT({innerType:t,typeName:Ht.ZodReadonly,...cr(e)});var Ht;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(Ht||(Ht={}));const Lt=yc.create,ts=Yp.create,Zn=ET.create,RT=ty.create,W2e=PT.create;vd.create;const qb=xl.create,Qn=Xn.create;Dw.create;$w.create;qf.create;const H2e=Fw.create,Ln=Xp.create;Bw.create;od.create;Qp.create;const K2e=({conversation:t,onReply:e,onArchive:r,onDelete:n,onMarkAsRead:i,onStar:s,showActions:o=!0})=>{const{user:l}=Vr();if(console.log("🔍 ConversationCard - Données reçues:",{id:t.id,participant1_id:t.participant1_id,participant2_id:t.participant2_id,participant1:t.participant1,participant2:t.participant2,messages:t.messages?.length||0,currentUserId:l?.id,p1_details:t.participant1?{id:t.participant1.id,first_name:t.participant1.first_name,last_name:t.participant1.last_name,profile_image:t.participant1.profile_image,avatar_url:t.participant1.avatar_url}:null,p2_details:t.participant2?{id:t.participant2.id,first_name:t.participant2.first_name,last_name:t.participant2.last_name,profile_image:t.participant2.profile_image,avatar_url:t.participant2.avatar_url}:null}),t.id==="welcome-message"||t.type==="system"||t.is_system)return a.jsx(Jt,{className:"bg-gradient-to-r from-blue-50 to-purple-50 border-blue-200 shadow-sm",children:a.jsx(rr,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-lg",children:"🤖"})})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"font-semibold text-blue-800",children:"Assistant MaxiMarket"}),a.jsx(Et,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-800",children:"Système"})]}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line text-sm leading-relaxed",children:t.content||"Bienvenue sur MaxiMarket !"}),a.jsx("div",{className:"flex items-center space-x-1 mt-2",children:a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(qs,{className:"h-3 w-3 mr-1"}),"À l'instant"]})})]})]})})});const u=S=>{if(!S)return"À l'instant";try{const C=new Date(S),N=new Date,A=Math.floor((N-C)/(1e3*60*60)),E=Math.floor((N-C)/(1e3*60*60*24));return A<1?"À l'instant":A<24?`Il y a ${A}h`:E<7?`Il y a ${E}j`:C.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}},d=t.messages&&t.messages.length>0?t.messages[t.messages.length-1]:null;let f=null,g="unknown";l&&t.participant1&&t.participant2?t.participant1_id===l.id?(f=t.participant2,g="participant2"):t.participant2_id===l.id?(f=t.participant1,g="participant1"):t.participant1_id==="00000000-0000-0000-0000-000000000000"?(f=t.participant2,g="assistant_participant2"):t.participant2_id==="00000000-0000-0000-0000-000000000000"?(f=t.participant1,g="assistant_participant1"):(f=t.participant1,g="fallback_participant1"):t.participant1?(f=t.participant1,g="only_participant1"):t.participant2&&(f=t.participant2,g="only_participant2"),console.log("🔍 ConversationCard - Logique de sélection du participant:",{conversationId:t.id,currentUserId:l?.id,participant1_id:t.participant1_id,participant2_id:t.participant2_id,participantSource:g,otherParticipant:f?{id:f.id,first_name:f.first_name,last_name:f.last_name,profile_image:f.profile_image,avatar_url:f.avatar_url}:null});const y=(S=>{if(!S)return console.warn("⚠️ ConversationCard - Participant null/undefined"),"Utilisateur inconnu";if(S.first_name&&S.last_name)return`${S.first_name} ${S.last_name}`;if(S.first_name)return S.first_name;if(S.last_name)return S.last_name;if(S.name)return S.name;if(S.email){const C=S.email.split("@")[0];return C.charAt(0).toUpperCase()+C.slice(1)}return console.warn("⚠️ ConversationCard - Aucun nom trouvé pour le participant:",S),"Utilisateur"})(f);console.log("🔍 ConversationCard - Nom d'affichage final:",{conversationId:t.id,displayName:y,participant:f});const x=t.messages&&t.messages.some(S=>!S.is_read&&S.sender_id!==l?.id),_=!f||!f.first_name&&!f.last_name&&!f.name;return a.jsx(Jt,{className:Ye("transition-all duration-200 hover:shadow-md",x&&"bg-blue-50 border-blue-200",t.starred&&"bg-yellow-50 border-yellow-200",_&&"bg-orange-50 border-orange-200"),children:a.jsx(rr,{className:"p-4",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Qv,{user:f,size:"lg",className:"flex-shrink-0"}),x&&a.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-blue-600 border-2 border-white rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h3",{className:"font-semibold text-sm",children:y}),_&&a.jsxs(Et,{variant:"secondary",className:"text-xs bg-orange-100 text-orange-800",children:[a.jsx(Jf,{className:"h-3 w-3 mr-1"}),"Données manquantes"]}),x&&a.jsx(Et,{variant:"destructive",className:"text-xs",children:"Nouveau"})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[t.starred&&a.jsx(Ya,{className:"h-4 w-4 text-yellow-500 fill-current"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(qs,{className:"h-3 w-3 mr-1"}),u(t.last_message_at)]})]})]}),d&&a.jsx("p",{className:"text-sm text-muted-foreground mb-2 line-clamp-2",children:d.content||"Aucun contenu"}),a.jsx("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[t.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Lf,{className:"h-3 w-3 mr-1"}),t.listing.title||"Annonce"]}),t.messages&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Pi,{className:"h-3 w-3 mr-1"}),t.messages.length," message",t.messages.length>1?"s":""]})]})}),o&&a.jsxs("div",{className:"flex items-center space-x-2 mt-3 pt-3 border-t",children:[a.jsxs(me,{size:"sm",variant:"outline",onClick:()=>e?.(t),className:"flex-1",children:[a.jsx(RA,{className:"h-3 w-3 mr-1"}),"Répondre"]}),a.jsxs(me,{size:"sm",variant:"outline",onClick:()=>i?.(t),className:"flex-1",children:[a.jsx(Ic,{className:"h-3 w-3 mr-1"}),"Marquer lu"]}),a.jsx(me,{size:"sm",variant:"outline",onClick:()=>r?.(t),children:a.jsx(J_,{className:"h-3 w-3"})}),a.jsx(me,{size:"sm",variant:"outline",onClick:()=>s?.(t),children:a.jsx(Ya,{className:"h-3 w-3"})})]})]})]})})})},G2e=({activities:t=[]})=>{const e=i=>{switch(i){case"view":return a.jsx(Ic,{className:"h-4 w-4"});case"message":return a.jsx(Pi,{className:"h-4 w-4"});case"favorite":return a.jsx(_l,{className:"h-4 w-4"});case"boost":return a.jsx(Po,{className:"h-4 w-4"});case"approval":return a.jsx(Fi,{className:"h-4 w-4"});case"warning":return a.jsx(Un,{className:"h-4 w-4"});case"info":return a.jsx(Rhe,{className:"h-4 w-4"});default:return a.jsx(kA,{className:"h-4 w-4"})}},r=i=>{switch(i){case"view":return"bg-blue-50 border-blue-200";case"message":return"bg-green-50 border-green-200";case"favorite":return"bg-pink-50 border-pink-200";case"boost":return"bg-purple-50 border-purple-200";case"approval":return"bg-green-50 border-green-200";case"warning":return"bg-yellow-50 border-yellow-200";case"info":return"bg-blue-50 border-blue-200";default:return"bg-gray-50 border-gray-200"}},n=i=>{switch(i){case"view":return"text-blue-500";case"message":return"text-green-500";case"favorite":return"text-pink-500";case"boost":return"text-purple-500";case"approval":return"text-green-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-gray-500"}};return t.length===0?a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsxs(jr,{className:"flex items-center space-x-2",children:[a.jsx(Po,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsx(rr,{children:a.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[a.jsx(Po,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-sm",children:"Aucune activité récente"}),a.jsx("p",{className:"text-xs mt-1",children:"Vos activités apparaîtront ici"})]})})]}):a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsxs(jr,{className:"flex items-center space-x-2",children:[a.jsx(Po,{className:"h-5 w-5"}),a.jsx("span",{children:"Activité Récente"})]})}),a.jsxs(rr,{children:[a.jsx("div",{className:"space-y-4",children:t.map(i=>a.jsxs("div",{className:Ye("flex items-start space-x-3 p-3 rounded-lg transition-colors",r(i.type),i.unread&&"bg-blue-50 border-blue-200"),children:[a.jsx("div",{className:Ye("flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center",r(i.type).replace("border-","bg-").replace("-50","-100")),children:a.jsx("div",{className:n(i.type),children:e(i.type)})}),a.jsx("div",{className:"flex-1 min-w-0",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-foreground",children:i.title}),a.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:i.description}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-muted-foreground",children:[i.listing&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Ic,{className:"h-3 w-3 mr-1"}),i.listing]}),i.location&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(vl,{className:"h-3 w-3 mr-1"}),i.location]}),i.sender&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Fs,{className:"h-3 w-3 mr-1"}),i.sender]})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[i.unread&&a.jsx(Et,{variant:"destructive",className:"text-xs",children:"Nouveau"}),a.jsxs("span",{className:"text-xs text-muted-foreground flex items-center",children:[a.jsx(Hc,{className:"h-3 w-3 mr-1"}),i.time]})]})]})})]},i.id))}),activitiesToShow.length===0&&a.jsxs("div",{className:"text-center py-8",children:[a.jsx(kA,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune activité"}),a.jsx("p",{className:"text-muted-foreground",children:"Vous n'avez pas encore d'activité récente."})]})]})]})},Z2e=({stats:t={}})=>{const e=[{id:"new-listing",title:"Nouvelle Annonce",description:"Publier une nouvelle annonce",icon:Dc,color:"from-primary to-blue-600",href:"/creer-annonce",badge:null},{id:"messages",title:"Messages",description:"Voir vos conversations",icon:Pi,color:"from-green-500 to-green-600",href:"/messages",badge:t.unreadMessages||0},{id:"favorites",title:"Mes Favoris",description:"Annonces sauvegardées",icon:_l,color:"from-pink-500 to-pink-600",href:"/favorites",badge:t.totalFavorites||0},{id:"analytics",title:"Analytics",description:"Voir vos statistiques",icon:Po,color:"from-purple-500 to-purple-600",href:"/admin/analytics",badge:null},{id:"settings",title:"Paramètres",description:"Configurer votre compte",icon:gf,color:"from-gray-500 to-gray-600",href:"/profile",badge:null},{id:"support",title:"Support",description:"Besoin d'aide ?",icon:rM,color:"from-orange-500 to-orange-600",href:"/aide",badge:null}];return a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsxs(jr,{className:"flex items-center space-x-2",children:[a.jsx(Dc,{className:"h-5 w-5"}),a.jsx("span",{children:"Actions Rapides"})]})}),a.jsx(rr,{children:a.jsx("div",{className:"grid grid-cols-2 gap-3",children:e.map(r=>a.jsx(me,{variant:"outline",className:`h-12 bg-gradient-to-r ${r.color} hover:from-primary/90 hover:to-blue-600/90 text-white border-0 transition-all duration-200 hover:scale-105`,asChild:!0,children:a.jsxs(fr,{to:r.href,className:"flex items-center space-x-2",children:[a.jsx(r.icon,{className:"h-4 w-4"}),a.jsx("span",{className:"text-sm font-medium",children:r.title}),r.badge&&r.badge>0&&a.jsx(Et,{variant:"secondary",className:"ml-auto bg-white/20 text-white border-0",children:r.badge})]})},r.id))})})]})},Y2e=()=>{const{user:t,loading:e,logout:r}=Vr(),{toast:n}=dn(),i=ii(),[s,o]=b.useState(!1),{activeTab:l,handleTabChange:c}=sSe("dashboard"),[u,d]=b.useState([]),[f,g]=b.useState([]),[v,y]=b.useState([]),[x,_]=b.useState({totalListings:0,activeListings:0,totalViews:0,totalContacts:0,unreadMessages:0,totalFavorites:0}),[S,C]=b.useState({isOpen:!1,item:null}),[N,A]=b.useState({isOpen:!1,item:null}),[E,k]=b.useState({isOpen:!1,item:null}),[O,I]=b.useState({isOpen:!1,item:null}),[z,W]=b.useState(1),[V,q]=b.useState(1),[F]=b.useState(6),{register:H,handleSubmit:Q,formState:{errors:oe}}=$m({defaultValues:{firstName:t?.firstName||"",lastName:t?.lastName||"",email:t?.email||"",phoneNumber:t?.phoneNumber||""}});b.useEffect(()=>{(async()=>{if(t)try{const Je=await en.getUserListings();d(Je);let Xe=[];try{Xe=await Nc.getUserFavorites()}catch(Pe){console.warn("Erreur lors du chargement des favoris:",Pe)}y(Xe);let Oe=[];try{Oe=await Qi.getUserConversations()}catch(Pe){console.warn("Erreur lors du chargement des messages:",Pe)}g(Oe);const mt=Je.filter(Pe=>Pe.status==="approved").length,Gt=Je.reduce((Pe,$e)=>Pe+($e.views_count||0),0),ge=Oe.filter(Pe=>!Pe.read).length;_({totalListings:Je.length,activeListings:mt,totalViews:Gt,totalContacts:Oe.length,unreadMessages:ge,totalFavorites:Xe.length}),q(Math.ceil(Je.length/F))}catch(Je){console.error("Erreur lors du chargement des données:",Je),n({title:"Erreur",description:"Impossible de charger vos données",variant:"destructive"})}})()},[t,n]);const K=async Ne=>{try{o(!0),await ko.updateProfile(Ne),n({title:"Profil mis à jour",description:"Vos informations ont été mises à jour avec succès."})}catch(Je){n({title:"Erreur",description:Je.message,variant:"destructive"})}finally{o(!1)}},te=async Ne=>{try{o(!0),await ko.updatePassword(Ne.newPassword),n({title:"Mot de passe mis à jour",description:"Votre mot de passe a été changé avec succès."})}catch(Je){n({title:"Erreur",description:Je.message,variant:"destructive"})}finally{o(!1)}},Z=Ne=>{A({isOpen:!0,item:Ne})},se=Ne=>{C({isOpen:!0,item:Ne})},X=Ne=>{I({isOpen:!0,item:Ne})},ce=Ne=>{k({isOpen:!0,item:Ne})},je=async()=>{try{const Ne=N.item;i(`/editer-annonce/${Ne.id}`),A({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de modifier l'annonce",variant:"destructive"})}},Te=async()=>{try{const Ne=S.item;await en.deleteListing(Ne.id);const Je=u.filter(Xe=>Xe.id!==Ne.id);d(Je),n({title:"Annonce supprimée",description:`"${Ne.title}" a été supprimée`}),C({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de supprimer l'annonce",variant:"destructive"})}},qe=async()=>{try{const Ne=O.item;await en.updateListing(Ne.id,{boosted:!Ne.boosted});const Je=u.map(Xe=>Xe.id===Ne.id?{...Xe,boosted:!Xe.boosted}:Xe);d(Je),n({title:"Annonce boostée",description:`"${Ne.title}" a été boostée`}),I({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible de booster l'annonce",variant:"destructive"})}},pe=async()=>{try{const Ne=E.item;await en.updateListing(Ne.id,{updated_at:new Date().toISOString()}),n({title:"Annonce actualisée",description:`"${Ne.title}" a été actualisée`}),k({isOpen:!1,item:null})}catch{n({title:"Erreur",description:"Impossible d'actualiser l'annonce",variant:"destructive"})}},ue=Ne=>{W(Ne)},_e=()=>{const Ne=(z-1)*F,Je=Ne+F;return u.slice(Ne,Je)},ye=Ne=>{i(`/messages?conversation=${Ne.id}`)},Ie=async Ne=>{try{await Qi.archiveConversation(Ne.id);const Je=f.map(Xe=>Xe.id===Ne.id?{...Xe,is_archived:!0}:Xe);g(Je),n({title:"Conversation archivée",description:"La conversation a été archivée"})}catch{n({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},ne=async Ne=>{try{await Qi.markMessagesAsRead(Ne.id);const Je=f.map(Xe=>Xe.id===Ne.id?{...Xe,messages:Xe.messages?.map(Oe=>({...Oe,is_read:!0}))}:Xe);g(Je),_(Xe=>({...Xe,unreadMessages:Math.max(0,Xe.unreadMessages-1)})),n({title:"Messages marqués comme lus",description:"Les messages ont été marqués comme lus"})}catch{n({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},J=async Ne=>{try{const Je=!Ne.starred;await Qi.toggleConversationStar(Ne.id,Je);const Xe=f.map(Oe=>Oe.id===Ne.id?{...Oe,starred:Je}:Oe);g(Xe),n({title:Je?"Conversation ajoutée aux favoris":"Conversation retirée des favoris",description:Je?"La conversation a été ajoutée à vos favoris":"La conversation a été retirée de vos favoris"})}catch{n({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},Ee=async()=>{try{if(await r())n({title:"Déconnexion réussie",description:"Vous avez été déconnecté avec succès."}),i("/");else throw new Error("Échec de la déconnexion")}catch(Ne){n({title:"Erreur de déconnexion",description:Ne.message||"Une erreur est survenue lors de la déconnexion",variant:"destructive"})}};return e?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsx(Qr,{className:"h-8 w-8 animate-spin"})}):a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"min-h-screen bg-gradient-to-br from-background via-slate-50 to-blue-50/20",children:[a.jsxs("div",{className:"container mx-auto py-8 px-4",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-blue-600 flex items-center justify-center overflow-hidden shadow-lg",children:t?.profileImage?a.jsx("img",{src:t.profileImage,alt:`${t.firstName} ${t.lastName}`,className:"w-full h-full object-cover"}):a.jsx(Fs,{className:"h-10 w-10 text-white"})}),a.jsx(me,{size:"icon",variant:"secondary",className:"absolute -bottom-1 -right-1 rounded-full shadow-md",children:a.jsx(Nf,{className:"h-4 w-4"})})]}),a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-foreground",children:[t?.firstName," ",t?.lastName]}),a.jsxs("p",{className:"text-muted-foreground flex items-center",children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"}),t?.email]}),a.jsxs("div",{className:"flex items-center space-x-4 mt-2",children:[a.jsxs(Et,{variant:"secondary",className:"bg-green-100 text-green-800",children:[a.jsx(uw,{className:"h-3 w-3 mr-1"}),"Compte vérifié"]}),a.jsxs(Et,{variant:"outline",children:["Membre depuis ",new Date(t?.createdAt).toLocaleDateString()]})]})]})]})}),a.jsxs(yM,{value:l,onValueChange:c,className:"w-full",children:[a.jsxs(a1,{className:"grid w-full grid-cols-7 bg-white/50 backdrop-blur-sm border border-border/50",children:[a.jsxs(ps,{value:"dashboard",className:"flex items-center space-x-2",children:[a.jsx(hf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Dashboard"})]}),a.jsxs(ps,{value:"listings",className:"flex items-center space-x-2",children:[a.jsx(Lf,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Mes Annonces"})]}),a.jsxs(ps,{value:"messages",className:"flex items-center space-x-2",children:[a.jsx(Pi,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Messages"}),x.unreadMessages>0&&a.jsx(Et,{variant:"destructive",className:"h-5 w-5 p-0 text-xs",children:x.unreadMessages})]}),a.jsxs(ps,{value:"favorites",className:"flex items-center space-x-2",children:[a.jsx(_l,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Favoris"})]}),a.jsxs(ps,{value:"transactions",className:"flex items-center space-x-2",children:[a.jsx(Cv,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Transactions"})]}),a.jsxs(ps,{value:"profile",className:"flex items-center space-x-2",children:[a.jsx(Fs,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Profil"})]}),a.jsxs(ps,{value:"security",className:"flex items-center space-x-2",children:[a.jsx(uw,{className:"h-4 w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Sécurité"})]})]}),a.jsxs(ms,{value:"dashboard",className:"space-y-6",children:[e?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((Ne,Je)=>a.jsx(OEe,{},Je))}):a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(ib,{title:"Annonces Actives",value:x.activeListings,icon:Lf,color:"blue"}),a.jsx(ib,{title:"Total des Vues",value:x.totalViews.toLocaleString(),icon:Ic,color:"green"}),a.jsx(ib,{title:"Contacts Reçus",value:x.totalContacts,icon:Oo,color:"purple"}),a.jsx(ib,{title:"Messages Non Lus",value:x.unreadMessages,icon:kA,color:"orange"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsx(G2e,{}),a.jsx(Z2e,{stats:x})]})]}),a.jsxs(ms,{value:"listings",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos annonces publiées"})]}),a.jsx(me,{asChild:!0,className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-white",children:a.jsxs(fr,{to:"/creer-annonce",children:[a.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Nouvelle Annonce"]})})]}),e?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[...Array(6)].map((Ne,Je)=>a.jsx(TEe,{},Je))}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:_e().map(Ne=>a.jsx(S5,{listing:Ne,onEdit:Z,onDelete:se,onRefresh:ce,onBoost:X,showActions:!0},Ne.id))}),a.jsx(iNe,{currentPage:z,totalPages:V,onPageChange:ue,hasNextPage:z<V,hasPrevPage:z>1,isLoading:e})]})]}),a.jsxs(ms,{value:"messages",className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(me,{variant:"outline",size:"sm",children:[a.jsx(Us,{className:"h-4 w-4 mr-2"}),"Filtrer"]}),a.jsxs(me,{variant:"outline",size:"sm",children:[a.jsx(ki,{className:"h-4 w-4 mr-2"}),"Rechercher"]})]})]}),a.jsx("div",{className:"space-y-4",children:f.map(Ne=>a.jsx(K2e,{conversation:Ne,onReply:ye,onArchive:Ie,onDelete:()=>{},onMarkAsRead:ne,onStar:J,showActions:!0},Ne.id))})]}),a.jsxs(ms,{value:"favorites",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Mes Favoris"}),a.jsx("p",{className:"text-muted-foreground",children:"Annonces que vous avez sauvegardées"})]})}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:v.map(Ne=>a.jsx(S5,{listing:Ne,showActions:!1},Ne.id))})]}),a.jsxs(ms,{value:"transactions",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Historique de vos transactions"})]})}),a.jsx(Jt,{children:a.jsx(rr,{className:"p-6",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Cv,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucune transaction"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous n'avez pas encore effectué de transactions sur MaxiMarket."}),a.jsx(me,{variant:"outline",children:"Découvrir nos services"})]})})})]}),a.jsxs(ms,{value:"profile",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Informations du profil"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos informations personnelles"})]})}),a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Paramètres du profil"}),a.jsx(ei,{children:"Gérez vos informations personnelles et vos préférences"})]}),a.jsx(rr,{children:a.jsxs("form",{onSubmit:Q(K),className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"firstName",children:"Prénom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"firstName",className:"pl-10",...H("firstName",{required:"Le prénom est requis"})})]}),oe.firstName&&a.jsx("p",{className:"text-sm text-destructive",children:oe.firstName.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"lastName",children:"Nom"}),a.jsxs("div",{className:"relative",children:[a.jsx(Fs,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"lastName",className:"pl-10",...H("lastName",{required:"Le nom est requis"})})]}),oe.lastName&&a.jsx("p",{className:"text-sm text-destructive",children:oe.lastName.message})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"email",children:"Email"}),a.jsxs("div",{className:"relative",children:[a.jsx(Lc,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"email",type:"email",className:"pl-10",...H("email",{required:"L'email est requis",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Email invalide"}})})]}),oe.email&&a.jsx("p",{className:"text-sm text-destructive",children:oe.email.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"phoneNumber",children:"Téléphone"}),a.jsxs("div",{className:"relative",children:[a.jsx(Wa,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"phoneNumber",type:"tel",className:"pl-10",...H("phoneNumber",{pattern:{value:/^\+?[1-9]\d{1,14}$/,message:"Numéro de téléphone invalide"}})})]}),oe.phoneNumber&&a.jsx("p",{className:"text-sm text-destructive",children:oe.phoneNumber.message})]}),a.jsx(me,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Mettre à jour le profil"})]})})]})]}),a.jsxs(ms,{value:"security",className:"space-y-6",children:[a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Sécurité"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez la sécurité de votre compte"})]})}),a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Changer le mot de passe"}),a.jsx(ei,{children:"Assurez-vous d'utiliser un mot de passe fort et unique"})]}),a.jsx(rr,{children:a.jsxs("form",{onSubmit:Q(te),className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"currentPassword",children:"Mot de passe actuel"}),a.jsxs("div",{className:"relative",children:[a.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"currentPassword",type:"password",className:"pl-10",...H("currentPassword",{required:"Le mot de passe actuel est requis"})})]}),oe.currentPassword&&a.jsx("p",{className:"text-sm text-destructive",children:oe.currentPassword.message})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"newPassword",children:"Nouveau mot de passe"}),a.jsxs("div",{className:"relative",children:[a.jsx(Df,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{id:"newPassword",type:"password",className:"pl-10",...H("newPassword",{required:"Le nouveau mot de passe est requis",minLength:{value:8,message:"Le mot de passe doit contenir au moins 8 caractères"}})})]}),oe.newPassword&&a.jsx("p",{className:"text-sm text-destructive",children:oe.newPassword.message})]}),a.jsx(me,{type:"submit",className:"w-full",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-4 w-4 animate-spin"}),"Mise à jour en cours..."]}):"Changer le mot de passe"})]})})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(me,{onClick:Ee,variant:"destructive",className:"w-full",children:[a.jsx(sM,{className:"mr-2 h-4 w-4"}),"Se déconnecter"]})})]})]})]}),a.jsx(wje,{isOpen:S.isOpen,onClose:()=>C({isOpen:!1,item:null}),onConfirm:Te,itemName:S.item?.title,isLoading:s}),a.jsx(_je,{isOpen:N.isOpen,onClose:()=>A({isOpen:!1,item:null}),onConfirm:je,itemName:N.item?.title,isLoading:s}),a.jsx(Sje,{isOpen:E.isOpen,onClose:()=>k({isOpen:!1,item:null}),onConfirm:pe,itemName:E.item?.title,isLoading:s}),a.jsx(jje,{isOpen:O.isOpen,onClose:()=>I({isOpen:!1,item:null}),onConfirm:qe,itemName:O.item?.title,isLoading:s})]})},X2e=()=>{const t=ii();return b.useEffect(()=>{(async()=>{try{const{data:{session:r}}=await we.auth.getSession();r?.user?t("/",{replace:!0}):t("/connexion",{replace:!0})}catch{t("/connexion",{replace:!0})}})()},[t]),a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:a.jsxs("div",{className:"flex items-center text-muted-foreground",children:[a.jsx(Qr,{className:"mr-2 h-5 w-5 animate-spin"}),"Traitement de la confirmation..."]})})};function J2e(){const[t,e]=b.useState(null),[r,n]=b.useState(!0),[i,s]=b.useState(null);return b.useEffect(()=>{(async()=>{try{const{data:{session:v}}=await we.auth.getSession();s(v),e(v?.user??null)}catch(v){console.error("Erreur lors de la récupération de la session:",v)}finally{n(!1)}})();const{data:{subscription:g}}=we.auth.onAuthStateChange(async(v,y)=>{console.log("🔄 Événement d'authentification:",v),s(y),e(y?.user??null),n(!1)});return()=>g.unsubscribe()},[]),{user:t,session:i,loading:r,signIn:async(f,g)=>{try{const{data:v,error:y}=await we.auth.signInWithPassword({email:f,password:g});if(y)throw y;return{data:v,error:null}}catch(v){return console.error("Erreur de connexion:",v),{data:null,error:v}}},signUp:async(f,g,v={})=>{try{const{data:y,error:x}=await we.auth.signUp({email:f,password:g,options:{data:v}});if(x)throw x;return{data:y,error:null}}catch(y){return console.error("Erreur d'inscription:",y),{data:null,error:y}}},signOut:async()=>{try{const{error:f}=await we.auth.signOut();if(f)throw f;return{error:null}}catch(f){return console.error("Erreur de déconnexion:",f),{error:f}}},resetPassword:async f=>{try{const{data:g,error:v}=await we.auth.resetPasswordForEmail(f,{redirectTo:`${window.location.origin}/reset-password`});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de réinitialisation de mot de passe:",g),{data:null,error:g}}},updatePassword:async f=>{try{const{data:g,error:v}=await we.auth.updateUser({password:f});if(v)throw v;return{data:g,error:null}}catch(g){return console.error("Erreur de mise à jour du mot de passe:",g),{data:null,error:g}}},isAuthenticated:!!t}}const Q2e=(t={})=>{const{user:e}=Vr();return Ni({queryKey:["conversations",e?.id,t],queryFn:async()=>{try{console.log("🔍 Hook useConversations - Début de la récupération");const r=await Qi.getUserConversations();return console.log("🔍 Hook useConversations - Récupération réussie:",r?.length||0),r}catch(r){throw console.error("❌ Hook useConversations - Erreur lors de la récupération:",r),r.code==="PGRST116"?new Error("Erreur de base de données: Vérifiez la structure des tables"):r.message?.includes("Invalid Refresh Token")?new Error("Session expirée. Veuillez vous reconnecter."):r.status===400?new Error("Requête invalide. Vérifiez les paramètres."):new Error(`Erreur de messagerie: ${r.message||"Erreur inconnue"}`)}},enabled:!!e,staleTime:3e4,gcTime:5*60*1e3,retry:(r,n)=>n.message?.includes("Session expirée")||n.message?.includes("Utilisateur non connecté")?!1:r<2,retryDelay:r=>Math.min(1e3*2**r,3e4)})},eke=t=>{const e=Tl(),{user:r}=Vr();b.useEffect(()=>{if(!t||!r)return;const n=we.channel(`messages:${t}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${t}`},i=>{e.setQueryData(["conversation-messages",t],s=>{if(!s)return s;const o=i.new,l=[...s.pages];return l.length>0&&(l[l.length-1]=[...l[l.length-1],o]),{...s,pages:l}}),e.setQueryData(["conversations"],s=>s&&s.map(o=>o.id===t?{...o,last_message_at:newMessage.created_at,messages:[...o.messages||[],newMessage]}:o))}).subscribe();return()=>{we.removeChannel(n)}},[t,r,e])},tke=({selectedConversation:t,onBack:e,onMenuToggle:r,onSearch:n,onFilter:i,onMore:s,onCall:o,onVideo:l,unreadCount:c=0,isStarred:u=!1,isArchived:d=!1})=>t?a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:e,className:"p-2 -ml-2",children:a.jsx(Ga,{className:"h-5 w-5"})}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-muted rounded-full flex items-center justify-center",children:a.jsx(Fs,{className:"h-4 w-4 text-muted-foreground"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-sm",children:t.participant1?.first_name||"Utilisateur"}),a.jsx("p",{className:"text-xs text-muted-foreground",children:t.listing?.title||"Conversation"})]})]})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[o&&a.jsx(me,{variant:"ghost",size:"sm",onClick:o,className:"p-2",children:a.jsx(Wa,{className:"h-4 w-4"})}),l&&a.jsx(me,{variant:"ghost",size:"sm",onClick:l,className:"p-2",children:a.jsx(aM,{className:"h-4 w-4"})}),a.jsx(me,{variant:"ghost",size:"sm",onClick:s,className:"p-2",children:a.jsx(Zf,{className:"h-4 w-4"})})]})]}):a.jsxs("div",{className:"bg-card border-b border-border px-4 py-3 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h1",{className:"text-lg font-semibold",children:"Messages"}),c>0&&a.jsx(Et,{variant:"destructive",className:"h-5 px-2 text-xs",children:c})]}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:n,className:"p-2",children:a.jsx(ki,{className:"h-4 w-4"})}),a.jsx(me,{variant:"ghost",size:"sm",onClick:i,className:"p-2",children:a.jsx(Us,{className:"h-4 w-4"})}),a.jsx(me,{variant:"ghost",size:"sm",onClick:r,className:"p-2",children:a.jsx(LH,{className:"h-4 w-4"})})]})]}),rke=({searchTerm:t,onSearchChange:e,filterType:r,onFilterChange:n,onClear:i,totalCount:s=0,unreadCount:o=0,starredCount:l=0,archivedCount:c=0})=>{const[u,d]=b.useState(!1),f=[{key:"all",label:"Toutes",icon:Pi,count:s},{key:"unread",label:"Non lues",icon:qs,count:o},{key:"starred",label:"Favoris",icon:Ya,count:l},{key:"archived",label:"Archivées",icon:J_,count:c}];return a.jsxs("div",{className:"bg-card border-b border-border p-4",children:[a.jsxs("div",{className:"relative mb-3",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:"Rechercher des conversations...",value:t,onChange:g=>e(g.target.value),className:"pl-10 pr-10"}),t&&a.jsx(me,{variant:"ghost",size:"sm",onClick:i,className:"absolute right-2 top-1/2 transform -translate-y-1/2 p-1 h-6 w-6",children:a.jsx(Ws,{className:"h-4 w-4"})})]}),a.jsx("div",{className:"flex space-x-2 mb-3",children:f.map(g=>a.jsxs(me,{variant:r===g.key?"default":"outline",size:"sm",onClick:()=>n(g.key),className:"flex-1 flex items-center justify-center space-x-1",children:[a.jsx(g.icon,{className:"h-3 w-3"}),a.jsx("span",{className:"text-xs",children:g.label}),g.count>0&&a.jsx(Et,{variant:"secondary",className:"ml-1 h-4 px-1 text-xs",children:g.count})]},g.key))}),u&&a.jsx("div",{className:"pt-3 border-t border-border",children:a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsxs(me,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Fs,{className:"h-3 w-3 mr-1"}),"Par utilisateur"]}),a.jsxs(me,{variant:"outline",size:"sm",className:"text-xs",children:[a.jsx(Lf,{className:"h-3 w-3 mr-1"}),"Par annonce"]})]})}),a.jsx("div",{className:"flex justify-center",children:a.jsxs(me,{variant:"ghost",size:"sm",onClick:()=>d(!u),className:"text-xs text-muted-foreground hover:text-foreground",children:[a.jsx(Us,{className:"h-3 w-3 mr-1"}),u?"Masquer":"Plus de filtres"]})})]})},nke=({onCapture:t,onClose:e,isOpen:r=!1,quality:n=.8,maxWidth:i=1920,maxHeight:s=1080})=>{const o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),[u,d]=b.useState(!1),[f,g]=b.useState(null),[v,y]=b.useState(null),[x,_]=b.useState(null),[S,C]=b.useState(!1),[N,A]=b.useState("user"),{toast:E}=dn(),k=b.useCallback(async()=>{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){y("Votre navigateur ne supporte pas l'accès à la caméra");return}d(!0),y(null);try{const F={video:{facingMode:N,width:{ideal:i},height:{ideal:s}},audio:!1},H=await navigator.mediaDevices.getUserMedia(F);c.current=H,o.current&&(o.current.srcObject=H,o.current.onloadedmetadata=()=>{C(!0),d(!1)}),g(!0)}catch(F){console.error("Erreur caméra:",F),F.name==="NotAllowedError"?y("Permission d'accès à la caméra refusée. Veuillez autoriser l'accès dans les paramètres de votre navigateur."):F.name==="NotFoundError"?y("Aucune caméra trouvée sur votre appareil."):F.name==="NotReadableError"?y("La caméra est déjà utilisée par une autre application."):y("Erreur lors de l'accès à la caméra. Veuillez réessayer."),g(!1),d(!1)}},[N,i,s]),O=b.useCallback(()=>{c.current&&(c.current.getTracks().forEach(F=>F.stop()),c.current=null),C(!1)},[]),I=b.useCallback(()=>{S&&(O(),A(F=>F==="user"?"environment":"user"),setTimeout(()=>k(),100))},[S,O,k]),z=b.useCallback(()=>{if(!o.current||!l.current)return;const F=o.current,H=l.current,Q=H.getContext("2d");H.width=F.videoWidth,H.height=F.videoHeight,Q.drawImage(F,0,0,H.width,H.height),H.toBlob(oe=>{if(oe){const K=URL.createObjectURL(oe);_({blob:oe,url:K,timestamp:new Date().toISOString()}),E({title:"Photo capturée !",description:"Votre photo a été capturée avec succès.",duration:3e3})}},"image/jpeg",n)},[n,E]),W=b.useCallback(()=>{_(null),x?.url&&URL.revokeObjectURL(x.url)},[x]),V=b.useCallback(()=>{x&&t&&(t(x),e())},[x,t,e]),q=b.useCallback(()=>{O(),x?.url&&URL.revokeObjectURL(x.url),_(null),y(null),e()},[O,x,e]);return b.useEffect(()=>{r&&!S&&k()},[r,S,k]),b.useEffect(()=>()=>{O(),x?.url&&URL.revokeObjectURL(x.url)},[O,x]),f===!1?a.jsx(Ei,{children:r&&a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(ze.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Un,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la caméra refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v||"Pour utiliser la caméra, vous devez autoriser l'accès dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(me,{variant:"outline",onClick:q,children:"Fermer"}),a.jsx(me,{onClick:k,children:"Réessayer"})]})]})})}):a.jsx(Ei,{children:r&&a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(ze.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-2xl w-full mx-4",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Nf,{className:"h-5 w-5 mr-2"}),"Prendre une photo"]}),a.jsx(me,{variant:"ghost",size:"icon",onClick:q,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ws,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4",children:u?a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(Qr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]}):x?a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:a.jsx("img",{src:x.url,alt:"Photo capturée",className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(me,{variant:"outline",onClick:W,children:[a.jsx(F3,{className:"h-4 w-4 mr-2"}),"Reprendre"]}),a.jsxs(me,{onClick:V,children:[a.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Utiliser cette photo"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:[a.jsx("video",{ref:o,autoPlay:!0,playsInline:!0,muted:!0,className:"w-full h-full object-cover"}),!S&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Nf,{className:"h-16 w-16 text-muted-foreground mx-auto mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Initialisation de la caméra..."})]})})]}),a.jsxs("div",{className:"flex justify-center space-x-2",children:[a.jsxs(me,{variant:"outline",onClick:I,disabled:!S,className:"flex items-center",children:[a.jsx(F3,{className:"h-4 w-4 mr-2"}),"Changer de caméra"]}),a.jsxs(me,{onClick:z,disabled:!S,size:"lg",className:"bg-primary hover:bg-primary/90",children:[a.jsx(Nf,{className:"h-5 w-5 mr-2"}),"Prendre la photo"]})]}),a.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[a.jsx("p",{children:'Positionnez-vous dans le cadre et appuyez sur "Prendre la photo"'}),a.jsx("p",{className:"mt-1",children:"Vous pourrez reprendre la photo si nécessaire"})]})]})})]})})})},ike=({onFilesSelected:t,onClose:e,isOpen:r=!1,maxFiles:n=10,maxFileSize:i=10*1024*1024,acceptedTypes:s=["image/*","video/*","application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","text/csv","application/zip"],multiple:o=!0})=>{const l=b.useRef(null),c=b.useRef(null),[u,d]=b.useState([]),[f,g]=b.useState(!1),[v,y]=b.useState({}),[x,_]=b.useState([]),[S,C]=b.useState({}),{toast:N}=dn(),A=K=>K.type.startsWith("image/")?"image":K.type.startsWith("video/")?"video":K.type.startsWith("application/pdf")?"pdf":K.type.includes("word")||K.type.includes("document")?"document":K.type.includes("excel")||K.type.includes("spreadsheet")?"spreadsheet":K.type.includes("text/")||K.type.includes("csv")?"text":K.type.includes("zip")||K.type.includes("archive")?"archive":"other",E=K=>{switch(K){case"image":return a.jsx(MH,{className:"h-8 w-8 text-blue-500"});case"video":return a.jsx(aM,{className:"h-8 w-8 text-purple-500"});case"pdf":return a.jsx(vn,{className:"h-8 w-8 text-red-500"});case"document":return a.jsx(vn,{className:"h-8 w-8 text-blue-600"});case"spreadsheet":return a.jsx(vn,{className:"h-8 w-8 text-green-600"});case"text":return a.jsx(vn,{className:"h-8 w-8 text-gray-600"});case"archive":return a.jsx(cw,{className:"h-8 w-8 text-orange-500"});default:return a.jsx(cw,{className:"h-8 w-8 text-gray-500"})}},k=K=>{if(K===0)return"0 Bytes";const te=1024,Z=["Bytes","KB","MB","GB"],se=Math.floor(Math.log(K)/Math.log(te));return parseFloat((K/Math.pow(te,se)).toFixed(2))+" "+Z[se]},O=K=>{const te=[];return K.size>i&&te.push(`Le fichier "${K.name}" est trop volumineux (${k(K.size)}). Taille maximale : ${k(i)}`),s.some(se=>se.endsWith("/*")?K.type.startsWith(se.slice(0,-1)):K.type===se)||te.push(`Le type de fichier "${K.type}" n'est pas accepté pour "${K.name}"`),u.length>=n&&te.push(`Nombre maximum de fichiers atteint (${n})`),te},I=b.useCallback(K=>{if(K.type.startsWith("image/")){const te=new FileReader;te.onload=Z=>{C(se=>({...se,[K.name]:Z.target.result}))},te.readAsDataURL(K)}},[]),z=b.useCallback(K=>{const te=Array.from(K),Z=[],se=[];te.forEach(X=>{const ce=O(X);ce.length===0?(se.push(X),I(X)):Z.push(...ce)}),Z.length>0&&(_(Z),N({title:"Erreurs de validation",description:Z.slice(0,3).join(". "),variant:"destructive",duration:5e3})),se.length>0&&(d(X=>[...X,...se]),N({title:"Fichiers ajoutés",description:`${se.length} fichier(s) ajouté(s) avec succès.`,duration:3e3}))},[u,n,i,s,I,N]),W=b.useCallback(K=>{K.preventDefault(),g(!1);const te=K.dataTransfer.files;te.length>0&&z(te)},[z]),V=b.useCallback(K=>{K.preventDefault(),g(!0)},[]),q=b.useCallback(K=>{K.preventDefault(),g(!1)},[]),F=b.useCallback(K=>{d(te=>te.filter(Z=>Z.name!==K)),C(te=>{const Z={...te};return delete Z[K],Z}),y(te=>{const Z={...te};return delete Z[K],Z})},[]),H=b.useCallback(()=>{u.length>0&&t&&(t(u),e())},[u,t,e]),Q=b.useCallback(K=>{y(Z=>({...Z,[K.name]:0}));const te=setInterval(()=>{y(Z=>{const se=Z[K.name]||0;return se>=100?(clearInterval(te),Z):{...Z,[K.name]:se+10}})},100)},[]),oe=b.useCallback(()=>{d([]),C({}),y({}),_([]),e()},[e]);return a.jsx(Ei,{children:r&&a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(ze.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Mg,{className:"h-5 w-5 mr-2"}),"Sélectionner des fichiers"]}),a.jsx(me,{variant:"ghost",size:"icon",onClick:oe,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ws,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{ref:c,onDrop:W,onDragOver:V,onDragLeave:q,className:`
                  border-2 border-dashed rounded-lg p-8 text-center transition-colors
                  ${f?"border-primary bg-primary/10":"border-border hover:border-primary/50"}
                `,children:[a.jsx(Mg,{className:"h-16 w-16 text-muted-foreground mx-auto mb-4"}),a.jsx("h4",{className:"text-lg font-medium mb-2",children:"Glissez-déposez vos fichiers ici"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"ou cliquez pour sélectionner des fichiers"}),a.jsxs(me,{onClick:()=>l.current?.click(),variant:"outline",className:"bg-primary text-primary-foreground hover:bg-primary/90",children:[a.jsx(Mg,{className:"h-4 w-4 mr-2"}),"Choisir des fichiers"]}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Types acceptés : Images, Vidéos, PDF, Documents, etc.",a.jsx("br",{}),"Taille maximale : ",k(i)," par fichier"]})]}),a.jsx("input",{ref:l,type:"file",multiple:o,accept:s.join(","),onChange:K=>z(K.target.files),className:"hidden"}),u.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("h4",{className:"font-medium",children:["Fichiers sélectionnés (",u.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 max-h-64 overflow-y-auto",children:u.map((K,te)=>a.jsx(ze.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"border border-border rounded-lg p-3 bg-muted/30",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[E(A(K)),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"font-medium text-sm truncate",title:K.name,children:K.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[k(K.size)," • ",A(K)]}),S[K.name]&&a.jsx("div",{className:"mt-2",children:a.jsx("img",{src:S[K.name],alt:K.name,className:"w-16 h-16 object-cover rounded border"})}),v[K.name]!==void 0&&a.jsxs("div",{className:"mt-2",children:[a.jsx(xK,{value:v[K.name],className:"h-2"}),a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[v[K.name],"% terminé"]})]})]}),a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>Q(K),disabled:v[K.name]!==void 0,children:a.jsx(Mg,{className:"h-4 w-4"})}),a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>F(K.name),className:"text-red-500 hover:text-red-700",children:a.jsx(Mo,{className:"h-4 w-4"})})]})]})},`${K.name}-${te}`))})]}),x.length>0&&a.jsx(ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Un,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreurs de validation"}),a.jsxs("ul",{className:"text-sm text-destructive space-y-1",children:[x.slice(0,5).map((K,te)=>a.jsxs("li",{children:["• ",K]},te)),x.length>5&&a.jsxs("li",{children:["• ... et ",x.length-5," autres erreurs"]})]})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:u.length>0?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Fi,{className:"h-4 w-4 mr-2 text-green-500"}),u.length," fichier(s) prêt(s) à être envoyé(s)"]}):"Aucun fichier sélectionné"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(me,{variant:"outline",onClick:oe,children:"Annuler"}),a.jsxs(me,{onClick:H,disabled:u.length===0,className:"bg-primary hover:bg-primary/90",children:[a.jsx(Mg,{className:"h-4 w-4 mr-2"}),"Envoyer ",u.length>0&&`(${u.length})`]})]})]})]})})})};var hv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var ske=hv.exports,cB;function ake(){return cB||(cB=1,function(t,e){(function(r,n){n(e)})(ske,function(r){var n="1.9.4";function i(p){var w,P,R,U;for(P=1,R=arguments.length;P<R;P++){U=arguments[P];for(w in U)p[w]=U[w]}return p}var s=Object.create||function(){function p(){}return function(w){return p.prototype=w,new p}}();function o(p,w){var P=Array.prototype.slice;if(p.bind)return p.bind.apply(p,P.call(arguments,1));var R=P.call(arguments,2);return function(){return p.apply(w,R.length?R.concat(P.call(arguments)):arguments)}}var l=0;function c(p){return"_leaflet_id"in p||(p._leaflet_id=++l),p._leaflet_id}function u(p,w,P){var R,U,ae,be;return be=function(){R=!1,U&&(ae.apply(P,U),U=!1)},ae=function(){R?U=arguments:(p.apply(P,arguments),setTimeout(be,w),R=!0)},ae}function d(p,w,P){var R=w[1],U=w[0],ae=R-U;return p===R&&P?p:((p-U)%ae+ae)%ae+U}function f(){return!1}function g(p,w){if(w===!1)return p;var P=Math.pow(10,w===void 0?6:w);return Math.round(p*P)/P}function v(p){return p.trim?p.trim():p.replace(/^\s+|\s+$/g,"")}function y(p){return v(p).split(/\s+/)}function x(p,w){Object.prototype.hasOwnProperty.call(p,"options")||(p.options=p.options?s(p.options):{});for(var P in w)p.options[P]=w[P];return p.options}function _(p,w,P){var R=[];for(var U in p)R.push(encodeURIComponent(P?U.toUpperCase():U)+"="+encodeURIComponent(p[U]));return(!w||w.indexOf("?")===-1?"?":"&")+R.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function C(p,w){return p.replace(S,function(P,R){var U=w[R];if(U===void 0)throw new Error("No value provided for variable "+P);return typeof U=="function"&&(U=U(w)),U})}var N=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"};function A(p,w){for(var P=0;P<p.length;P++)if(p[P]===w)return P;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function k(p){return window["webkit"+p]||window["moz"+p]||window["ms"+p]}var O=0;function I(p){var w=+new Date,P=Math.max(0,16-(w-O));return O=w+P,window.setTimeout(p,P)}var z=window.requestAnimationFrame||k("RequestAnimationFrame")||I,W=window.cancelAnimationFrame||k("CancelAnimationFrame")||k("CancelRequestAnimationFrame")||function(p){window.clearTimeout(p)};function V(p,w,P){if(P&&z===I)p.call(w);else return z.call(window,o(p,w))}function q(p){p&&W.call(window,p)}var F={__proto__:null,extend:i,create:s,bind:o,get lastId(){return l},stamp:c,throttle:u,wrapNum:d,falseFn:f,formatNum:g,trim:v,splitWords:y,setOptions:x,getParamString:_,template:C,isArray:N,indexOf:A,emptyImageUrl:E,requestFn:z,cancelFn:W,requestAnimFrame:V,cancelAnimFrame:q};function H(){}H.extend=function(p){var w=function(){x(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},P=w.__super__=this.prototype,R=s(P);R.constructor=w,w.prototype=R;for(var U in this)Object.prototype.hasOwnProperty.call(this,U)&&U!=="prototype"&&U!=="__super__"&&(w[U]=this[U]);return p.statics&&i(w,p.statics),p.includes&&(Q(p.includes),i.apply(null,[R].concat(p.includes))),i(R,p),delete R.statics,delete R.includes,R.options&&(R.options=P.options?s(P.options):{},i(R.options,p.options)),R._initHooks=[],R.callInitHooks=function(){if(!this._initHooksCalled){P.callInitHooks&&P.callInitHooks.call(this),this._initHooksCalled=!0;for(var ae=0,be=R._initHooks.length;ae<be;ae++)R._initHooks[ae].call(this)}},w},H.include=function(p){var w=this.prototype.options;return i(this.prototype,p),p.options&&(this.prototype.options=w,this.mergeOptions(p.options)),this},H.mergeOptions=function(p){return i(this.prototype.options,p),this},H.addInitHook=function(p){var w=Array.prototype.slice.call(arguments,1),P=typeof p=="function"?p:function(){this[p].apply(this,w)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(P),this};function Q(p){if(!(typeof L>"u"||!L||!L.Mixin)){p=N(p)?p:[p];for(var w=0;w<p.length;w++)p[w]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var oe={on:function(p,w,P){if(typeof p=="object")for(var R in p)this._on(R,p[R],w);else{p=y(p);for(var U=0,ae=p.length;U<ae;U++)this._on(p[U],w,P)}return this},off:function(p,w,P){if(!arguments.length)delete this._events;else if(typeof p=="object")for(var R in p)this._off(R,p[R],w);else{p=y(p);for(var U=arguments.length===1,ae=0,be=p.length;ae<be;ae++)U?this._off(p[ae]):this._off(p[ae],w,P)}return this},_on:function(p,w,P,R){if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}if(this._listens(p,w,P)===!1){P===this&&(P=void 0);var U={fn:w,ctx:P};R&&(U.once=!0),this._events=this._events||{},this._events[p]=this._events[p]||[],this._events[p].push(U)}},_off:function(p,w,P){var R,U,ae;if(this._events&&(R=this._events[p],!!R)){if(arguments.length===1){if(this._firingCount)for(U=0,ae=R.length;U<ae;U++)R[U].fn=f;delete this._events[p];return}if(typeof w!="function"){console.warn("wrong listener type: "+typeof w);return}var be=this._listens(p,w,P);if(be!==!1){var Le=R[be];this._firingCount&&(Le.fn=f,this._events[p]=R=R.slice()),R.splice(be,1)}}},fire:function(p,w,P){if(!this.listens(p,P))return this;var R=i({},w,{type:p,target:this,sourceTarget:w&&w.sourceTarget||this});if(this._events){var U=this._events[p];if(U){this._firingCount=this._firingCount+1||1;for(var ae=0,be=U.length;ae<be;ae++){var Le=U[ae],Ue=Le.fn;Le.once&&this.off(p,Ue,Le.ctx),Ue.call(Le.ctx||this,R)}this._firingCount--}}return P&&this._propagateEvent(R),this},listens:function(p,w,P,R){typeof p!="string"&&console.warn('"string" type argument expected');var U=w;typeof w!="function"&&(R=!!w,U=void 0,P=void 0);var ae=this._events&&this._events[p];if(ae&&ae.length&&this._listens(p,U,P)!==!1)return!0;if(R){for(var be in this._eventParents)if(this._eventParents[be].listens(p,w,P,R))return!0}return!1},_listens:function(p,w,P){if(!this._events)return!1;var R=this._events[p]||[];if(!w)return!!R.length;P===this&&(P=void 0);for(var U=0,ae=R.length;U<ae;U++)if(R[U].fn===w&&R[U].ctx===P)return U;return!1},once:function(p,w,P){if(typeof p=="object")for(var R in p)this._on(R,p[R],w,!0);else{p=y(p);for(var U=0,ae=p.length;U<ae;U++)this._on(p[U],w,P,!0)}return this},addEventParent:function(p){return this._eventParents=this._eventParents||{},this._eventParents[c(p)]=p,this},removeEventParent:function(p){return this._eventParents&&delete this._eventParents[c(p)],this},_propagateEvent:function(p){for(var w in this._eventParents)this._eventParents[w].fire(p.type,i({layer:p.target,propagatedFrom:p.target},p),!0)}};oe.addEventListener=oe.on,oe.removeEventListener=oe.clearAllEventListeners=oe.off,oe.addOneTimeEventListener=oe.once,oe.fireEvent=oe.fire,oe.hasEventListeners=oe.listens;var K=H.extend(oe);function te(p,w,P){this.x=P?Math.round(p):p,this.y=P?Math.round(w):w}var Z=Math.trunc||function(p){return p>0?Math.floor(p):Math.ceil(p)};te.prototype={clone:function(){return new te(this.x,this.y)},add:function(p){return this.clone()._add(se(p))},_add:function(p){return this.x+=p.x,this.y+=p.y,this},subtract:function(p){return this.clone()._subtract(se(p))},_subtract:function(p){return this.x-=p.x,this.y-=p.y,this},divideBy:function(p){return this.clone()._divideBy(p)},_divideBy:function(p){return this.x/=p,this.y/=p,this},multiplyBy:function(p){return this.clone()._multiplyBy(p)},_multiplyBy:function(p){return this.x*=p,this.y*=p,this},scaleBy:function(p){return new te(this.x*p.x,this.y*p.y)},unscaleBy:function(p){return new te(this.x/p.x,this.y/p.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Z(this.x),this.y=Z(this.y),this},distanceTo:function(p){p=se(p);var w=p.x-this.x,P=p.y-this.y;return Math.sqrt(w*w+P*P)},equals:function(p){return p=se(p),p.x===this.x&&p.y===this.y},contains:function(p){return p=se(p),Math.abs(p.x)<=Math.abs(this.x)&&Math.abs(p.y)<=Math.abs(this.y)},toString:function(){return"Point("+g(this.x)+", "+g(this.y)+")"}};function se(p,w,P){return p instanceof te?p:N(p)?new te(p[0],p[1]):p==null?p:typeof p=="object"&&"x"in p&&"y"in p?new te(p.x,p.y):new te(p,w,P)}function X(p,w){if(p)for(var P=w?[p,w]:p,R=0,U=P.length;R<U;R++)this.extend(P[R])}X.prototype={extend:function(p){var w,P;if(!p)return this;if(p instanceof te||typeof p[0]=="number"||"x"in p)w=P=se(p);else if(p=ce(p),w=p.min,P=p.max,!w||!P)return this;return!this.min&&!this.max?(this.min=w.clone(),this.max=P.clone()):(this.min.x=Math.min(w.x,this.min.x),this.max.x=Math.max(P.x,this.max.x),this.min.y=Math.min(w.y,this.min.y),this.max.y=Math.max(P.y,this.max.y)),this},getCenter:function(p){return se((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,p)},getBottomLeft:function(){return se(this.min.x,this.max.y)},getTopRight:function(){return se(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(p){var w,P;return typeof p[0]=="number"||p instanceof te?p=se(p):p=ce(p),p instanceof X?(w=p.min,P=p.max):w=P=p,w.x>=this.min.x&&P.x<=this.max.x&&w.y>=this.min.y&&P.y<=this.max.y},intersects:function(p){p=ce(p);var w=this.min,P=this.max,R=p.min,U=p.max,ae=U.x>=w.x&&R.x<=P.x,be=U.y>=w.y&&R.y<=P.y;return ae&&be},overlaps:function(p){p=ce(p);var w=this.min,P=this.max,R=p.min,U=p.max,ae=U.x>w.x&&R.x<P.x,be=U.y>w.y&&R.y<P.y;return ae&&be},isValid:function(){return!!(this.min&&this.max)},pad:function(p){var w=this.min,P=this.max,R=Math.abs(w.x-P.x)*p,U=Math.abs(w.y-P.y)*p;return ce(se(w.x-R,w.y-U),se(P.x+R,P.y+U))},equals:function(p){return p?(p=ce(p),this.min.equals(p.getTopLeft())&&this.max.equals(p.getBottomRight())):!1}};function ce(p,w){return!p||p instanceof X?p:new X(p,w)}function je(p,w){if(p)for(var P=w?[p,w]:p,R=0,U=P.length;R<U;R++)this.extend(P[R])}je.prototype={extend:function(p){var w=this._southWest,P=this._northEast,R,U;if(p instanceof qe)R=p,U=p;else if(p instanceof je){if(R=p._southWest,U=p._northEast,!R||!U)return this}else return p?this.extend(pe(p)||Te(p)):this;return!w&&!P?(this._southWest=new qe(R.lat,R.lng),this._northEast=new qe(U.lat,U.lng)):(w.lat=Math.min(R.lat,w.lat),w.lng=Math.min(R.lng,w.lng),P.lat=Math.max(U.lat,P.lat),P.lng=Math.max(U.lng,P.lng)),this},pad:function(p){var w=this._southWest,P=this._northEast,R=Math.abs(w.lat-P.lat)*p,U=Math.abs(w.lng-P.lng)*p;return new je(new qe(w.lat-R,w.lng-U),new qe(P.lat+R,P.lng+U))},getCenter:function(){return new qe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new qe(this.getNorth(),this.getWest())},getSouthEast:function(){return new qe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(p){typeof p[0]=="number"||p instanceof qe||"lat"in p?p=pe(p):p=Te(p);var w=this._southWest,P=this._northEast,R,U;return p instanceof je?(R=p.getSouthWest(),U=p.getNorthEast()):R=U=p,R.lat>=w.lat&&U.lat<=P.lat&&R.lng>=w.lng&&U.lng<=P.lng},intersects:function(p){p=Te(p);var w=this._southWest,P=this._northEast,R=p.getSouthWest(),U=p.getNorthEast(),ae=U.lat>=w.lat&&R.lat<=P.lat,be=U.lng>=w.lng&&R.lng<=P.lng;return ae&&be},overlaps:function(p){p=Te(p);var w=this._southWest,P=this._northEast,R=p.getSouthWest(),U=p.getNorthEast(),ae=U.lat>w.lat&&R.lat<P.lat,be=U.lng>w.lng&&R.lng<P.lng;return ae&&be},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(p,w){return p?(p=Te(p),this._southWest.equals(p.getSouthWest(),w)&&this._northEast.equals(p.getNorthEast(),w)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Te(p,w){return p instanceof je?p:new je(p,w)}function qe(p,w,P){if(isNaN(p)||isNaN(w))throw new Error("Invalid LatLng object: ("+p+", "+w+")");this.lat=+p,this.lng=+w,P!==void 0&&(this.alt=+P)}qe.prototype={equals:function(p,w){if(!p)return!1;p=pe(p);var P=Math.max(Math.abs(this.lat-p.lat),Math.abs(this.lng-p.lng));return P<=(w===void 0?1e-9:w)},toString:function(p){return"LatLng("+g(this.lat,p)+", "+g(this.lng,p)+")"},distanceTo:function(p){return _e.distance(this,pe(p))},wrap:function(){return _e.wrapLatLng(this)},toBounds:function(p){var w=180*p/40075017,P=w/Math.cos(Math.PI/180*this.lat);return Te([this.lat-w,this.lng-P],[this.lat+w,this.lng+P])},clone:function(){return new qe(this.lat,this.lng,this.alt)}};function pe(p,w,P){return p instanceof qe?p:N(p)&&typeof p[0]!="object"?p.length===3?new qe(p[0],p[1],p[2]):p.length===2?new qe(p[0],p[1]):null:p==null?p:typeof p=="object"&&"lat"in p?new qe(p.lat,"lng"in p?p.lng:p.lon,p.alt):w===void 0?null:new qe(p,w,P)}var ue={latLngToPoint:function(p,w){var P=this.projection.project(p),R=this.scale(w);return this.transformation._transform(P,R)},pointToLatLng:function(p,w){var P=this.scale(w),R=this.transformation.untransform(p,P);return this.projection.unproject(R)},project:function(p){return this.projection.project(p)},unproject:function(p){return this.projection.unproject(p)},scale:function(p){return 256*Math.pow(2,p)},zoom:function(p){return Math.log(p/256)/Math.LN2},getProjectedBounds:function(p){if(this.infinite)return null;var w=this.projection.bounds,P=this.scale(p),R=this.transformation.transform(w.min,P),U=this.transformation.transform(w.max,P);return new X(R,U)},infinite:!1,wrapLatLng:function(p){var w=this.wrapLng?d(p.lng,this.wrapLng,!0):p.lng,P=this.wrapLat?d(p.lat,this.wrapLat,!0):p.lat,R=p.alt;return new qe(P,w,R)},wrapLatLngBounds:function(p){var w=p.getCenter(),P=this.wrapLatLng(w),R=w.lat-P.lat,U=w.lng-P.lng;if(R===0&&U===0)return p;var ae=p.getSouthWest(),be=p.getNorthEast(),Le=new qe(ae.lat-R,ae.lng-U),Ue=new qe(be.lat-R,be.lng-U);return new je(Le,Ue)}},_e=i({},ue,{wrapLng:[-180,180],R:6371e3,distance:function(p,w){var P=Math.PI/180,R=p.lat*P,U=w.lat*P,ae=Math.sin((w.lat-p.lat)*P/2),be=Math.sin((w.lng-p.lng)*P/2),Le=ae*ae+Math.cos(R)*Math.cos(U)*be*be,Ue=2*Math.atan2(Math.sqrt(Le),Math.sqrt(1-Le));return this.R*Ue}}),ye=6378137,Ie={R:ye,MAX_LATITUDE:85.0511287798,project:function(p){var w=Math.PI/180,P=this.MAX_LATITUDE,R=Math.max(Math.min(P,p.lat),-P),U=Math.sin(R*w);return new te(this.R*p.lng*w,this.R*Math.log((1+U)/(1-U))/2)},unproject:function(p){var w=180/Math.PI;return new qe((2*Math.atan(Math.exp(p.y/this.R))-Math.PI/2)*w,p.x*w/this.R)},bounds:function(){var p=ye*Math.PI;return new X([-p,-p],[p,p])}()};function ne(p,w,P,R){if(N(p)){this._a=p[0],this._b=p[1],this._c=p[2],this._d=p[3];return}this._a=p,this._b=w,this._c=P,this._d=R}ne.prototype={transform:function(p,w){return this._transform(p.clone(),w)},_transform:function(p,w){return w=w||1,p.x=w*(this._a*p.x+this._b),p.y=w*(this._c*p.y+this._d),p},untransform:function(p,w){return w=w||1,new te((p.x/w-this._b)/this._a,(p.y/w-this._d)/this._c)}};function J(p,w,P,R){return new ne(p,w,P,R)}var Ee=i({},_e,{code:"EPSG:3857",projection:Ie,transformation:function(){var p=.5/(Math.PI*Ie.R);return J(p,.5,-p,.5)}()}),Ne=i({},Ee,{code:"EPSG:900913"});function Je(p){return document.createElementNS("http://www.w3.org/2000/svg",p)}function Xe(p,w){var P="",R,U,ae,be,Le,Ue;for(R=0,ae=p.length;R<ae;R++){for(Le=p[R],U=0,be=Le.length;U<be;U++)Ue=Le[U],P+=(U?"L":"M")+Ue.x+" "+Ue.y;P+=w?St.svg?"z":"x":""}return P||"M0 0"}var Oe=document.documentElement.style,mt="ActiveXObject"in window,Gt=mt&&!document.addEventListener,ge="msLaunchUri"in navigator&&!("documentMode"in document),Pe=wr("webkit"),$e=wr("android"),rt=wr("android 2")||wr("android 3"),at=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),le=$e&&wr("Google")&&at<537&&!("AudioNode"in window),Ae=!!window.opera,Y=!ge&&wr("chrome"),D=wr("gecko")&&!Pe&&!Ae&&!mt,B=!Y&&wr("safari"),he=wr("phantom"),Ce="OTransition"in Oe,Be=navigator.platform.indexOf("Win")===0,We=mt&&"transition"in Oe,Tt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!rt,pr="MozPerspective"in Oe,Xt=!window.L_DISABLE_3D&&(We||Tt||pr)&&!Ce&&!he,lr=typeof orientation<"u"||wr("mobile"),nr=lr&&Pe,qo=lr&&Tt,ba=!window.PointerEvent&&window.MSPointerEvent,Gs=!!(window.PointerEvent||ba),zi="ontouchstart"in window||!!window.TouchEvent,qi=!window.L_NO_TOUCH&&(zi||Gs),Qc=lr&&Ae,Dt=lr&&D,vr=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rr=function(){var p=!1;try{var w=Object.defineProperty({},"passive",{get:function(){p=!0}});window.addEventListener("testPassiveEventSupport",f,w),window.removeEventListener("testPassiveEventSupport",f,w)}catch{}return p}(),Dn=function(){return!!document.createElement("canvas").getContext}(),Tn=!!(document.createElementNS&&Je("svg").createSVGRect),vi=!!Tn&&function(){var p=document.createElement("div");return p.innerHTML="<svg/>",(p.firstChild&&p.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ss=!Tn&&function(){try{var p=document.createElement("div");p.innerHTML='<v:shape adj="1"/>';var w=p.firstChild;return w.style.behavior="url(#default#VML)",w&&typeof w.adj=="object"}catch{return!1}}(),$n=navigator.platform.indexOf("Mac")===0,ws=navigator.platform.indexOf("Linux")===0;function wr(p){return navigator.userAgent.toLowerCase().indexOf(p)>=0}var St={ie:mt,ielt9:Gt,edge:ge,webkit:Pe,android:$e,android23:rt,androidStock:le,opera:Ae,chrome:Y,gecko:D,safari:B,phantom:he,opera12:Ce,win:Be,ie3d:We,webkit3d:Tt,gecko3d:pr,any3d:Xt,mobile:lr,mobileWebkit:nr,mobileWebkit3d:qo,msPointer:ba,pointer:Gs,touch:qi,touchNative:zi,mobileOpera:Qc,mobileGecko:Dt,retina:vr,passiveEvents:Rr,canvas:Dn,svg:Tn,vml:ss,inlineSvg:vi,mac:$n,linux:ws},Ml=St.msPointer?"MSPointerDown":"pointerdown",eu=St.msPointer?"MSPointerMove":"pointermove",Td=St.msPointer?"MSPointerUp":"pointerup",uh=St.msPointer?"MSPointerCancel":"pointercancel",Il={touchstart:Ml,touchmove:eu,touchend:Td,touchcancel:uh},_s={touchstart:fn,touchmove:tu,touchend:tu,touchcancel:tu},ro={},Od=!1;function dh(p,w,P){return w==="touchstart"&&Md(),_s[w]?(P=_s[w].bind(this,P),p.addEventListener(Il[w],P,!1),P):(console.warn("wrong event specified:",w),f)}function Uo(p,w,P){if(!Il[w]){console.warn("wrong event specified:",w);return}p.removeEventListener(Il[w],P,!1)}function Ll(p){ro[p.pointerId]=p}function fh(p){ro[p.pointerId]&&(ro[p.pointerId]=p)}function Rd(p){delete ro[p.pointerId]}function Md(){Od||(document.addEventListener(Ml,Ll,!0),document.addEventListener(eu,fh,!0),document.addEventListener(Td,Rd,!0),document.addEventListener(uh,Rd,!0),Od=!0)}function tu(p,w){if(w.pointerType!==(w.MSPOINTER_TYPE_MOUSE||"mouse")){w.touches=[];for(var P in ro)w.touches.push(ro[P]);w.changedTouches=[w],p(w)}}function fn(p,w){w.MSPOINTER_TYPE_TOUCH&&w.pointerType===w.MSPOINTER_TYPE_TOUCH&&hn(w),tu(p,w)}function ru(p){var w={},P,R;for(R in p)P=p[R],w[R]=P&&P.bind?P.bind(p):P;return p=w,w.type="dblclick",w.detail=2,w.isTrusted=!1,w._simulated=!0,w}var Ti=200;function nu(p,w){p.addEventListener("dblclick",w);var P=0,R;function U(ae){if(ae.detail!==1){R=ae.detail;return}if(!(ae.pointerType==="mouse"||ae.sourceCapabilities&&!ae.sourceCapabilities.firesTouchEvents)){var be=Wn(ae);if(!(be.some(function(Ue){return Ue instanceof HTMLLabelElement&&Ue.attributes.for})&&!be.some(function(Ue){return Ue instanceof HTMLInputElement||Ue instanceof HTMLSelectElement}))){var Le=Date.now();Le-P<=Ti?(R++,R===2&&w(ru(ae))):R=1,P=Le}}}return p.addEventListener("click",U),{dblclick:w,simDblclick:U}}function Dl(p,w){p.removeEventListener("dblclick",w.dblclick),p.removeEventListener("click",w.simDblclick)}var wa=Ho(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),no=Ho(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),$l=no==="webkitTransition"||no==="OTransition"?no+"End":"transitionend";function as(p){return typeof p=="string"?document.getElementById(p):p}function Fl(p,w){var P=p.style[w]||p.currentStyle&&p.currentStyle[w];if((!P||P==="auto")&&document.defaultView){var R=document.defaultView.getComputedStyle(p,null);P=R?R[w]:null}return P==="auto"?null:P}function zt(p,w,P){var R=document.createElement(p);return R.className=w||"",P&&P.appendChild(R),R}function Wr(p){var w=p.parentNode;w&&w.removeChild(p)}function Bl(p){for(;p.firstChild;)p.removeChild(p.firstChild)}function Vo(p){var w=p.parentNode;w&&w.lastChild!==p&&w.appendChild(p)}function Zs(p){var w=p.parentNode;w&&w.firstChild!==p&&w.insertBefore(p,w.firstChild)}function Wo(p,w){if(p.classList!==void 0)return p.classList.contains(w);var P=Ss(p);return P.length>0&&new RegExp("(^|\\s)"+w+"(\\s|$)").test(P)}function qt(p,w){if(p.classList!==void 0)for(var P=y(w),R=0,U=P.length;R<U;R++)p.classList.add(P[R]);else if(!Wo(p,w)){var ae=Ss(p);iu(p,(ae?ae+" ":"")+w)}}function zr(p,w){p.classList!==void 0?p.classList.remove(w):iu(p,v((" "+Ss(p)+" ").replace(" "+w+" "," ")))}function iu(p,w){p.className.baseVal===void 0?p.className=w:p.className.baseVal=w}function Ss(p){return p.correspondingElement&&(p=p.correspondingElement),p.className.baseVal===void 0?p.className:p.className.baseVal}function si(p,w){"opacity"in p.style?p.style.opacity=w:"filter"in p.style&&tg(p,w)}function tg(p,w){var P=!1,R="DXImageTransform.Microsoft.Alpha";try{P=p.filters.item(R)}catch{if(w===1)return}w=Math.round(w*100),P?(P.Enabled=w!==100,P.Opacity=w):p.style.filter+=" progid:"+R+"(opacity="+w+")"}function Ho(p){for(var w=document.documentElement.style,P=0;P<p.length;P++)if(p[P]in w)return p[P];return!1}function js(p,w,P){var R=w||new te(0,0);p.style[wa]=(St.ie3d?"translate("+R.x+"px,"+R.y+"px)":"translate3d("+R.x+"px,"+R.y+"px,0)")+(P?" scale("+P+")":"")}function bn(p,w){p._leaflet_pos=w,St.any3d?js(p,w):(p.style.left=w.x+"px",p.style.top=w.y+"px")}function Ys(p){return p._leaflet_pos||new te(0,0)}var mr,Ko,zl;if("onselectstart"in document)mr=function(){$t(window,"selectstart",hn)},Ko=function(){Mr(window,"selectstart",hn)};else{var Cs=Ho(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);mr=function(){if(Cs){var p=document.documentElement.style;zl=p[Cs],p[Cs]="none"}},Ko=function(){Cs&&(document.documentElement.style[Cs]=zl,zl=void 0)}}function ql(){$t(window,"dragstart",hn)}function su(){Mr(window,"dragstart",hn)}var Go,Ul;function io(p){for(;p.tabIndex===-1;)p=p.parentNode;p.style&&(Oi(),Go=p,Ul=p.style.outlineStyle,p.style.outlineStyle="none",$t(window,"keydown",Oi))}function Oi(){Go&&(Go.style.outlineStyle=Ul,Go=void 0,Ul=void 0,Mr(window,"keydown",Oi))}function Ui(p){do p=p.parentNode;while((!p.offsetWidth||!p.offsetHeight)&&p!==document.body);return p}function Ns(p){var w=p.getBoundingClientRect();return{x:w.width/p.offsetWidth||1,y:w.height/p.offsetHeight||1,boundingClientRect:w}}var Vl={__proto__:null,TRANSFORM:wa,TRANSITION:no,TRANSITION_END:$l,get:as,getStyle:Fl,create:zt,remove:Wr,empty:Bl,toFront:Vo,toBack:Zs,hasClass:Wo,addClass:qt,removeClass:zr,setClass:iu,getClass:Ss,setOpacity:si,testProp:Ho,setTransform:js,setPosition:bn,getPosition:Ys,get disableTextSelection(){return mr},get enableTextSelection(){return Ko},disableImageDrag:ql,enableImageDrag:su,preventOutline:io,restoreOutline:Oi,getSizedParentNode:Ui,getScale:Ns};function $t(p,w,P,R){if(w&&typeof w=="object")for(var U in w)Wl(p,U,w[U],P);else{w=y(w);for(var ae=0,be=w.length;ae<be;ae++)Wl(p,w[ae],P,R)}return this}var Cn="_leaflet_events";function Mr(p,w,P,R){if(arguments.length===1)Id(p),delete p[Cn];else if(w&&typeof w=="object")for(var U in w)Hl(p,U,w[U],P);else if(w=y(w),arguments.length===2)Id(p,function(Le){return A(w,Le)!==-1});else for(var ae=0,be=w.length;ae<be;ae++)Hl(p,w[ae],P,R);return this}function Id(p,w){for(var P in p[Cn]){var R=P.split(/\d/)[0];(!w||w(R))&&Hl(p,R,null,null,P)}}var _a={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Wl(p,w,P,R){var U=w+c(P)+(R?"_"+c(R):"");if(p[Cn]&&p[Cn][U])return this;var ae=function(Le){return P.call(R||p,Le||window.event)},be=ae;!St.touchNative&&St.pointer&&w.indexOf("touch")===0?ae=dh(p,w,ae):St.touch&&w==="dblclick"?ae=nu(p,ae):"addEventListener"in p?w==="touchstart"||w==="touchmove"||w==="wheel"||w==="mousewheel"?p.addEventListener(_a[w]||w,ae,St.passiveEvents?{passive:!1}:!1):w==="mouseenter"||w==="mouseleave"?(ae=function(Le){Le=Le||window.event,Kl(p,Le)&&be(Le)},p.addEventListener(_a[w],ae,!1)):p.addEventListener(w,be,!1):p.attachEvent("on"+w,ae),p[Cn]=p[Cn]||{},p[Cn][U]=ae}function Hl(p,w,P,R,U){U=U||w+c(P)+(R?"_"+c(R):"");var ae=p[Cn]&&p[Cn][U];if(!ae)return this;!St.touchNative&&St.pointer&&w.indexOf("touch")===0?Uo(p,w,ae):St.touch&&w==="dblclick"?Dl(p,ae):"removeEventListener"in p?p.removeEventListener(_a[w]||w,ae,!1):p.detachEvent("on"+w,ae),p[Cn][U]=null}function os(p){return p.stopPropagation?p.stopPropagation():p.originalEvent?p.originalEvent._stopped=!0:p.cancelBubble=!0,this}function so(p){return Wl(p,"wheel",os),this}function Zo(p){return $t(p,"mousedown touchstart dblclick contextmenu",os),p._leaflet_disable_click=!0,this}function hn(p){return p.preventDefault?p.preventDefault():p.returnValue=!1,this}function yi(p){return hn(p),os(p),this}function Wn(p){if(p.composedPath)return p.composedPath();for(var w=[],P=p.target;P;)w.push(P),P=P.parentNode;return w}function Sa(p,w){if(!w)return new te(p.clientX,p.clientY);var P=Ns(w),R=P.boundingClientRect;return new te((p.clientX-R.left)/P.x-w.clientLeft,(p.clientY-R.top)/P.y-w.clientTop)}var au=St.linux&&St.chrome?window.devicePixelRatio:St.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ou(p){return St.edge?p.wheelDeltaY/2:p.deltaY&&p.deltaMode===0?-p.deltaY/au:p.deltaY&&p.deltaMode===1?-p.deltaY*20:p.deltaY&&p.deltaMode===2?-p.deltaY*60:p.deltaX||p.deltaZ?0:p.wheelDelta?(p.wheelDeltaY||p.wheelDelta)/2:p.detail&&Math.abs(p.detail)<32765?-p.detail*20:p.detail?p.detail/-32765*60:0}function Kl(p,w){var P=w.relatedTarget;if(!P)return!0;try{for(;P&&P!==p;)P=P.parentNode}catch{return!1}return P!==p}var lu={__proto__:null,on:$t,off:Mr,stopPropagation:os,disableScrollPropagation:so,disableClickPropagation:Zo,preventDefault:hn,stop:yi,getPropagationPath:Wn,getMousePosition:Sa,getWheelDelta:ou,isExternalTarget:Kl,addListener:$t,removeListener:Mr},cu=K.extend({run:function(p,w,P,R){this.stop(),this._el=p,this._inProgress=!0,this._duration=P||.25,this._easeOutPower=1/Math.max(R||.5,.2),this._startPos=Ys(p),this._offset=w.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=V(this._animate,this),this._step()},_step:function(p){var w=+new Date-this._startTime,P=this._duration*1e3;w<P?this._runFrame(this._easeOut(w/P),p):(this._runFrame(1),this._complete())},_runFrame:function(p,w){var P=this._startPos.add(this._offset.multiplyBy(p));w&&P._round(),bn(this._el,P),this.fire("step")},_complete:function(){q(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(p){return 1-Math.pow(1-p,this._easeOutPower)}}),ir=K.extend({options:{crs:Ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(p,w){w=x(this,w),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(p),this._initLayout(),this._onResize=o(this._onResize,this),this._initEvents(),w.maxBounds&&this.setMaxBounds(w.maxBounds),w.zoom!==void 0&&(this._zoom=this._limitZoom(w.zoom)),w.center&&w.zoom!==void 0&&this.setView(pe(w.center),w.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=no&&St.any3d&&!St.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$t(this._proxy,$l,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(p,w,P){if(w=w===void 0?this._zoom:this._limitZoom(w),p=this._limitCenter(pe(p),w,this.options.maxBounds),P=P||{},this._stop(),this._loaded&&!P.reset&&P!==!0){P.animate!==void 0&&(P.zoom=i({animate:P.animate},P.zoom),P.pan=i({animate:P.animate,duration:P.duration},P.pan));var R=this._zoom!==w?this._tryAnimatedZoom&&this._tryAnimatedZoom(p,w,P.zoom):this._tryAnimatedPan(p,P.pan);if(R)return clearTimeout(this._sizeTimer),this}return this._resetView(p,w,P.pan&&P.pan.noMoveStart),this},setZoom:function(p,w){return this._loaded?this.setView(this.getCenter(),p,{zoom:w}):(this._zoom=p,this)},zoomIn:function(p,w){return p=p||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+p,w)},zoomOut:function(p,w){return p=p||(St.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-p,w)},setZoomAround:function(p,w,P){var R=this.getZoomScale(w),U=this.getSize().divideBy(2),ae=p instanceof te?p:this.latLngToContainerPoint(p),be=ae.subtract(U).multiplyBy(1-1/R),Le=this.containerPointToLatLng(U.add(be));return this.setView(Le,w,{zoom:P})},_getBoundsCenterZoom:function(p,w){w=w||{},p=p.getBounds?p.getBounds():Te(p);var P=se(w.paddingTopLeft||w.padding||[0,0]),R=se(w.paddingBottomRight||w.padding||[0,0]),U=this.getBoundsZoom(p,!1,P.add(R));if(U=typeof w.maxZoom=="number"?Math.min(w.maxZoom,U):U,U===1/0)return{center:p.getCenter(),zoom:U};var ae=R.subtract(P).divideBy(2),be=this.project(p.getSouthWest(),U),Le=this.project(p.getNorthEast(),U),Ue=this.unproject(be.add(Le).divideBy(2).add(ae),U);return{center:Ue,zoom:U}},fitBounds:function(p,w){if(p=Te(p),!p.isValid())throw new Error("Bounds are not valid.");var P=this._getBoundsCenterZoom(p,w);return this.setView(P.center,P.zoom,w)},fitWorld:function(p){return this.fitBounds([[-90,-180],[90,180]],p)},panTo:function(p,w){return this.setView(p,this._zoom,{pan:w})},panBy:function(p,w){if(p=se(p).round(),w=w||{},!p.x&&!p.y)return this.fire("moveend");if(w.animate!==!0&&!this.getSize().contains(p))return this._resetView(this.unproject(this.project(this.getCenter()).add(p)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),w.noMoveStart||this.fire("movestart"),w.animate!==!1){qt(this._mapPane,"leaflet-pan-anim");var P=this._getMapPanePos().subtract(p).round();this._panAnim.run(this._mapPane,P,w.duration||.25,w.easeLinearity)}else this._rawPanBy(p),this.fire("move").fire("moveend");return this},flyTo:function(p,w,P){if(P=P||{},P.animate===!1||!St.any3d)return this.setView(p,w,P);this._stop();var R=this.project(this.getCenter()),U=this.project(p),ae=this.getSize(),be=this._zoom;p=pe(p),w=w===void 0?be:w;var Le=Math.max(ae.x,ae.y),Ue=Le*this.getZoomScale(be,w),Ze=U.distanceTo(R)||1,ht=1.42,Rt=ht*ht;function er($r){var wu=$r?-1:1,NS=$r?Ue:Le,ES=Ue*Ue-Le*Le+wu*Rt*Rt*Ze*Ze,tc=2*NS*Rt*Ze,rc=ES/tc,nc=Math.sqrt(rc*rc+1)-rc,Sh=nc<1e-9?-18:Math.log(nc);return Sh}function ai($r){return(Math.exp($r)-Math.exp(-$r))/2}function Kn($r){return(Math.exp($r)+Math.exp(-$r))/2}function cs($r){return ai($r)/Kn($r)}var Vi=er(0);function xu($r){return Le*(Kn(Vi)/Kn(Vi+ht*$r))}function mg($r){return Le*(Kn(Vi)*cs(Vi+ht*$r)-ai(Vi))/Rt}function tl($r){return 1-Math.pow(1-$r,1.5)}var Yx=Date.now(),ec=(er(1)-Vi)/ht,ka=P.duration?1e3*P.duration:1e3*ec*.8;function bu(){var $r=(Date.now()-Yx)/ka,wu=tl($r)*ec;$r<=1?(this._flyToFrame=V(bu,this),this._move(this.unproject(R.add(U.subtract(R).multiplyBy(mg(wu)/Ze)),be),this.getScaleZoom(Le/xu(wu),be),{flyTo:!0})):this._move(p,w)._moveEnd(!0)}return this._moveStart(!0,P.noMoveStart),bu.call(this),this},flyToBounds:function(p,w){var P=this._getBoundsCenterZoom(p,w);return this.flyTo(P.center,P.zoom,w)},setMaxBounds:function(p){return p=Te(p),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),p.isValid()?(this.options.maxBounds=p,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(p){var w=this.options.minZoom;return this.options.minZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(p):this},setMaxZoom:function(p){var w=this.options.maxZoom;return this.options.maxZoom=p,this._loaded&&w!==p&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(p):this},panInsideBounds:function(p,w){this._enforcingBounds=!0;var P=this.getCenter(),R=this._limitCenter(P,this._zoom,Te(p));return P.equals(R)||this.panTo(R,w),this._enforcingBounds=!1,this},panInside:function(p,w){w=w||{};var P=se(w.paddingTopLeft||w.padding||[0,0]),R=se(w.paddingBottomRight||w.padding||[0,0]),U=this.project(this.getCenter()),ae=this.project(p),be=this.getPixelBounds(),Le=ce([be.min.add(P),be.max.subtract(R)]),Ue=Le.getSize();if(!Le.contains(ae)){this._enforcingBounds=!0;var Ze=ae.subtract(Le.getCenter()),ht=Le.extend(ae).getSize().subtract(Ue);U.x+=Ze.x<0?-ht.x:ht.x,U.y+=Ze.y<0?-ht.y:ht.y,this.panTo(this.unproject(U),w),this._enforcingBounds=!1}return this},invalidateSize:function(p){if(!this._loaded)return this;p=i({animate:!1,pan:!0},p===!0?{animate:!0}:p);var w=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var P=this.getSize(),R=w.divideBy(2).round(),U=P.divideBy(2).round(),ae=R.subtract(U);return!ae.x&&!ae.y?this:(p.animate&&p.pan?this.panBy(ae):(p.pan&&this._rawPanBy(ae),this.fire("move"),p.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(o(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:w,newSize:P}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(p){if(p=this._locateOptions=i({timeout:1e4,watch:!1},p),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var w=o(this._handleGeolocationResponse,this),P=o(this._handleGeolocationError,this);return p.watch?this._locationWatchId=navigator.geolocation.watchPosition(w,P,p):navigator.geolocation.getCurrentPosition(w,P,p),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(p){if(this._container._leaflet_id){var w=p.code,P=p.message||(w===1?"permission denied":w===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:w,message:"Geolocation error: "+P+"."})}},_handleGeolocationResponse:function(p){if(this._container._leaflet_id){var w=p.coords.latitude,P=p.coords.longitude,R=new qe(w,P),U=R.toBounds(p.coords.accuracy*2),ae=this._locateOptions;if(ae.setView){var be=this.getBoundsZoom(U);this.setView(R,ae.maxZoom?Math.min(be,ae.maxZoom):be)}var Le={latlng:R,bounds:U,timestamp:p.timestamp};for(var Ue in p.coords)typeof p.coords[Ue]=="number"&&(Le[Ue]=p.coords[Ue]);this.fire("locationfound",Le)}},addHandler:function(p,w){if(!w)return this;var P=this[p]=new w(this);return this._handlers.push(P),this.options[p]&&P.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wr(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(q(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var p;for(p in this._layers)this._layers[p].remove();for(p in this._panes)Wr(this._panes[p]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(p,w){var P="leaflet-pane"+(p?" leaflet-"+p.replace("Pane","")+"-pane":""),R=zt("div",P,w||this._mapPane);return p&&(this._panes[p]=R),R},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var p=this.getPixelBounds(),w=this.unproject(p.getBottomLeft()),P=this.unproject(p.getTopRight());return new je(w,P)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(p,w,P){p=Te(p),P=se(P||[0,0]);var R=this.getZoom()||0,U=this.getMinZoom(),ae=this.getMaxZoom(),be=p.getNorthWest(),Le=p.getSouthEast(),Ue=this.getSize().subtract(P),Ze=ce(this.project(Le,R),this.project(be,R)).getSize(),ht=St.any3d?this.options.zoomSnap:1,Rt=Ue.x/Ze.x,er=Ue.y/Ze.y,ai=w?Math.max(Rt,er):Math.min(Rt,er);return R=this.getScaleZoom(ai,R),ht&&(R=Math.round(R/(ht/100))*(ht/100),R=w?Math.ceil(R/ht)*ht:Math.floor(R/ht)*ht),Math.max(U,Math.min(ae,R))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new te(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(p,w){var P=this._getTopLeftPoint(p,w);return new X(P,P.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(p){return this.options.crs.getProjectedBounds(p===void 0?this.getZoom():p)},getPane:function(p){return typeof p=="string"?this._panes[p]:p},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(p,w){var P=this.options.crs;return w=w===void 0?this._zoom:w,P.scale(p)/P.scale(w)},getScaleZoom:function(p,w){var P=this.options.crs;w=w===void 0?this._zoom:w;var R=P.zoom(p*P.scale(w));return isNaN(R)?1/0:R},project:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.latLngToPoint(pe(p),w)},unproject:function(p,w){return w=w===void 0?this._zoom:w,this.options.crs.pointToLatLng(se(p),w)},layerPointToLatLng:function(p){var w=se(p).add(this.getPixelOrigin());return this.unproject(w)},latLngToLayerPoint:function(p){var w=this.project(pe(p))._round();return w._subtract(this.getPixelOrigin())},wrapLatLng:function(p){return this.options.crs.wrapLatLng(pe(p))},wrapLatLngBounds:function(p){return this.options.crs.wrapLatLngBounds(Te(p))},distance:function(p,w){return this.options.crs.distance(pe(p),pe(w))},containerPointToLayerPoint:function(p){return se(p).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(p){return se(p).add(this._getMapPanePos())},containerPointToLatLng:function(p){var w=this.containerPointToLayerPoint(se(p));return this.layerPointToLatLng(w)},latLngToContainerPoint:function(p){return this.layerPointToContainerPoint(this.latLngToLayerPoint(pe(p)))},mouseEventToContainerPoint:function(p){return Sa(p,this._container)},mouseEventToLayerPoint:function(p){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(p))},mouseEventToLatLng:function(p){return this.layerPointToLatLng(this.mouseEventToLayerPoint(p))},_initContainer:function(p){var w=this._container=as(p);if(w){if(w._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$t(w,"scroll",this._onScroll,this),this._containerId=c(w)},_initLayout:function(){var p=this._container;this._fadeAnimated=this.options.fadeAnimation&&St.any3d,qt(p,"leaflet-container"+(St.touch?" leaflet-touch":"")+(St.retina?" leaflet-retina":"")+(St.ielt9?" leaflet-oldie":"")+(St.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var w=Fl(p,"position");w!=="absolute"&&w!=="relative"&&w!=="fixed"&&w!=="sticky"&&(p.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var p=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),bn(this._mapPane,new te(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(qt(p.markerPane,"leaflet-zoom-hide"),qt(p.shadowPane,"leaflet-zoom-hide"))},_resetView:function(p,w,P){bn(this._mapPane,new te(0,0));var R=!this._loaded;this._loaded=!0,w=this._limitZoom(w),this.fire("viewprereset");var U=this._zoom!==w;this._moveStart(U,P)._move(p,w)._moveEnd(U),this.fire("viewreset"),R&&this.fire("load")},_moveStart:function(p,w){return p&&this.fire("zoomstart"),w||this.fire("movestart"),this},_move:function(p,w,P,R){w===void 0&&(w=this._zoom);var U=this._zoom!==w;return this._zoom=w,this._lastCenter=p,this._pixelOrigin=this._getNewPixelOrigin(p),R?P&&P.pinch&&this.fire("zoom",P):((U||P&&P.pinch)&&this.fire("zoom",P),this.fire("move",P)),this},_moveEnd:function(p){return p&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return q(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(p){bn(this._mapPane,this._getMapPanePos().subtract(p))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(p){this._targets={},this._targets[c(this._container)]=this;var w=p?Mr:$t;w(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&w(window,"resize",this._onResize,this),St.any3d&&this.options.transform3DLimit&&(p?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){q(this._resizeRequest),this._resizeRequest=V(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var p=this._getMapPanePos();Math.max(Math.abs(p.x),Math.abs(p.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(p,w){for(var P=[],R,U=w==="mouseout"||w==="mouseover",ae=p.target||p.srcElement,be=!1;ae;){if(R=this._targets[c(ae)],R&&(w==="click"||w==="preclick")&&this._draggableMoved(R)){be=!0;break}if(R&&R.listens(w,!0)&&(U&&!Kl(ae,p)||(P.push(R),U))||ae===this._container)break;ae=ae.parentNode}return!P.length&&!be&&!U&&this.listens(w,!0)&&(P=[this]),P},_isClickDisabled:function(p){for(;p&&p!==this._container;){if(p._leaflet_disable_click)return!0;p=p.parentNode}},_handleDOMEvent:function(p){var w=p.target||p.srcElement;if(!(!this._loaded||w._leaflet_disable_events||p.type==="click"&&this._isClickDisabled(w))){var P=p.type;P==="mousedown"&&io(w),this._fireDOMEvent(p,P)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(p,w,P){if(p.type==="click"){var R=i({},p);R.type="preclick",this._fireDOMEvent(R,R.type,P)}var U=this._findEventTargets(p,w);if(P){for(var ae=[],be=0;be<P.length;be++)P[be].listens(w,!0)&&ae.push(P[be]);U=ae.concat(U)}if(U.length){w==="contextmenu"&&hn(p);var Le=U[0],Ue={originalEvent:p};if(p.type!=="keypress"&&p.type!=="keydown"&&p.type!=="keyup"){var Ze=Le.getLatLng&&(!Le._radius||Le._radius<=10);Ue.containerPoint=Ze?this.latLngToContainerPoint(Le.getLatLng()):this.mouseEventToContainerPoint(p),Ue.layerPoint=this.containerPointToLayerPoint(Ue.containerPoint),Ue.latlng=Ze?Le.getLatLng():this.layerPointToLatLng(Ue.layerPoint)}for(be=0;be<U.length;be++)if(U[be].fire(w,Ue,!0),Ue.originalEvent._stopped||U[be].options.bubblingMouseEvents===!1&&A(this._mouseEvents,w)!==-1)return}},_draggableMoved:function(p){return p=p.dragging&&p.dragging.enabled()?p:this,p.dragging&&p.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var p=0,w=this._handlers.length;p<w;p++)this._handlers[p].disable()},whenReady:function(p,w){return this._loaded?p.call(w||this,{target:this}):this.on("load",p,w),this},_getMapPanePos:function(){return Ys(this._mapPane)||new te(0,0)},_moved:function(){var p=this._getMapPanePos();return p&&!p.equals([0,0])},_getTopLeftPoint:function(p,w){var P=p&&w!==void 0?this._getNewPixelOrigin(p,w):this.getPixelOrigin();return P.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(p,w){var P=this.getSize()._divideBy(2);return this.project(p,w)._subtract(P)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(p,w,P){var R=this._getNewPixelOrigin(P,w);return this.project(p,w)._subtract(R)},_latLngBoundsToNewLayerBounds:function(p,w,P){var R=this._getNewPixelOrigin(P,w);return ce([this.project(p.getSouthWest(),w)._subtract(R),this.project(p.getNorthWest(),w)._subtract(R),this.project(p.getSouthEast(),w)._subtract(R),this.project(p.getNorthEast(),w)._subtract(R)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(p){return this.latLngToLayerPoint(p).subtract(this._getCenterLayerPoint())},_limitCenter:function(p,w,P){if(!P)return p;var R=this.project(p,w),U=this.getSize().divideBy(2),ae=new X(R.subtract(U),R.add(U)),be=this._getBoundsOffset(ae,P,w);return Math.abs(be.x)<=1&&Math.abs(be.y)<=1?p:this.unproject(R.add(be),w)},_limitOffset:function(p,w){if(!w)return p;var P=this.getPixelBounds(),R=new X(P.min.add(p),P.max.add(p));return p.add(this._getBoundsOffset(R,w))},_getBoundsOffset:function(p,w,P){var R=ce(this.project(w.getNorthEast(),P),this.project(w.getSouthWest(),P)),U=R.min.subtract(p.min),ae=R.max.subtract(p.max),be=this._rebound(U.x,-ae.x),Le=this._rebound(U.y,-ae.y);return new te(be,Le)},_rebound:function(p,w){return p+w>0?Math.round(p-w)/2:Math.max(0,Math.ceil(p))-Math.max(0,Math.floor(w))},_limitZoom:function(p){var w=this.getMinZoom(),P=this.getMaxZoom(),R=St.any3d?this.options.zoomSnap:1;return R&&(p=Math.round(p/R)*R),Math.max(w,Math.min(P,p))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){zr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(p,w){var P=this._getCenterOffset(p)._trunc();return(w&&w.animate)!==!0&&!this.getSize().contains(P)?!1:(this.panBy(P,w),!0)},_createAnimProxy:function(){var p=this._proxy=zt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(p),this.on("zoomanim",function(w){var P=wa,R=this._proxy.style[P];js(this._proxy,this.project(w.center,w.zoom),this.getZoomScale(w.zoom,1)),R===this._proxy.style[P]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wr(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var p=this.getCenter(),w=this.getZoom();js(this._proxy,this.project(p,w),this.getZoomScale(w,1))},_catchTransitionEnd:function(p){this._animatingZoom&&p.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(p,w,P){if(this._animatingZoom)return!0;if(P=P||{},!this._zoomAnimated||P.animate===!1||this._nothingToAnimate()||Math.abs(w-this._zoom)>this.options.zoomAnimationThreshold)return!1;var R=this.getZoomScale(w),U=this._getCenterOffset(p)._divideBy(1-1/R);return P.animate!==!0&&!this.getSize().contains(U)?!1:(V(function(){this._moveStart(!0,P.noMoveStart||!1)._animateZoom(p,w,!0)},this),!0)},_animateZoom:function(p,w,P,R){this._mapPane&&(P&&(this._animatingZoom=!0,this._animateToCenter=p,this._animateToZoom=w,qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:p,zoom:w,noUpdate:R}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(o(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&zr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ja(p,w){return new ir(p,w)}var xi=H.extend({options:{position:"topright"},initialize:function(p){x(this,p)},getPosition:function(){return this.options.position},setPosition:function(p){var w=this._map;return w&&w.removeControl(this),this.options.position=p,w&&w.addControl(this),this},getContainer:function(){return this._container},addTo:function(p){this.remove(),this._map=p;var w=this._container=this.onAdd(p),P=this.getPosition(),R=p._controlCorners[P];return qt(w,"leaflet-control"),P.indexOf("bottom")!==-1?R.insertBefore(w,R.firstChild):R.appendChild(w),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wr(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(p){this._map&&p&&p.screenX>0&&p.screenY>0&&this._map.getContainer().focus()}}),Ir=function(p){return new xi(p)};ir.include({addControl:function(p){return p.addTo(this),this},removeControl:function(p){return p.remove(),this},_initControlPos:function(){var p=this._controlCorners={},w="leaflet-",P=this._controlContainer=zt("div",w+"control-container",this._container);function R(U,ae){var be=w+U+" "+w+ae;p[U+ae]=zt("div",be,P)}R("top","left"),R("top","right"),R("bottom","left"),R("bottom","right")},_clearControlPos:function(){for(var p in this._controlCorners)Wr(this._controlCorners[p]);Wr(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var G=xi.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(p,w,P,R){return P<R?-1:R<P?1:0}},initialize:function(p,w,P){x(this,P),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var R in p)this._addLayer(p[R],R);for(R in w)this._addLayer(w[R],R,!0)},onAdd:function(p){this._initLayout(),this._update(),this._map=p,p.on("zoomend",this._checkDisabledLayers,this);for(var w=0;w<this._layers.length;w++)this._layers[w].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(p){return xi.prototype.addTo.call(this,p),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(p,w){return this._addLayer(p,w),this._map?this._update():this},addOverlay:function(p,w){return this._addLayer(p,w,!0),this._map?this._update():this},removeLayer:function(p){p.off("add remove",this._onLayerChange,this);var w=this._getLayer(c(p));return w&&this._layers.splice(this._layers.indexOf(w),1),this._map?this._update():this},expand:function(){qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var p=this._map.getSize().y-(this._container.offsetTop+50);return p<this._section.clientHeight?(qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=p+"px"):zr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return zr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var p="leaflet-control-layers",w=this._container=zt("div",p),P=this.options.collapsed;w.setAttribute("aria-haspopup",!0),Zo(w),so(w);var R=this._section=zt("section",p+"-list");P&&(this._map.on("click",this.collapse,this),$t(w,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var U=this._layersLink=zt("a",p+"-toggle",w);U.href="#",U.title="Layers",U.setAttribute("role","button"),$t(U,{keydown:function(ae){ae.keyCode===13&&this._expandSafely()},click:function(ae){hn(ae),this._expandSafely()}},this),P||this.expand(),this._baseLayersList=zt("div",p+"-base",R),this._separator=zt("div",p+"-separator",R),this._overlaysList=zt("div",p+"-overlays",R),w.appendChild(R)},_getLayer:function(p){for(var w=0;w<this._layers.length;w++)if(this._layers[w]&&c(this._layers[w].layer)===p)return this._layers[w]},_addLayer:function(p,w,P){this._map&&p.on("add remove",this._onLayerChange,this),this._layers.push({layer:p,name:w,overlay:P}),this.options.sortLayers&&this._layers.sort(o(function(R,U){return this.options.sortFunction(R.layer,U.layer,R.name,U.name)},this)),this.options.autoZIndex&&p.setZIndex&&(this._lastZIndex++,p.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bl(this._baseLayersList),Bl(this._overlaysList),this._layerControlInputs=[];var p,w,P,R,U=0;for(P=0;P<this._layers.length;P++)R=this._layers[P],this._addItem(R),w=w||R.overlay,p=p||!R.overlay,U+=R.overlay?0:1;return this.options.hideSingleBase&&(p=p&&U>1,this._baseLayersList.style.display=p?"":"none"),this._separator.style.display=w&&p?"":"none",this},_onLayerChange:function(p){this._handlingClick||this._update();var w=this._getLayer(c(p.target)),P=w.overlay?p.type==="add"?"overlayadd":"overlayremove":p.type==="add"?"baselayerchange":null;P&&this._map.fire(P,w)},_createRadioElement:function(p,w){var P='<input type="radio" class="leaflet-control-layers-selector" name="'+p+'"'+(w?' checked="checked"':"")+"/>",R=document.createElement("div");return R.innerHTML=P,R.firstChild},_addItem:function(p){var w=document.createElement("label"),P=this._map.hasLayer(p.layer),R;p.overlay?(R=document.createElement("input"),R.type="checkbox",R.className="leaflet-control-layers-selector",R.defaultChecked=P):R=this._createRadioElement("leaflet-base-layers_"+c(this),P),this._layerControlInputs.push(R),R.layerId=c(p.layer),$t(R,"click",this._onInputClick,this);var U=document.createElement("span");U.innerHTML=" "+p.name;var ae=document.createElement("span");w.appendChild(ae),ae.appendChild(R),ae.appendChild(U);var be=p.overlay?this._overlaysList:this._baseLayersList;return be.appendChild(w),this._checkDisabledLayers(),w},_onInputClick:function(){if(!this._preventClick){var p=this._layerControlInputs,w,P,R=[],U=[];this._handlingClick=!0;for(var ae=p.length-1;ae>=0;ae--)w=p[ae],P=this._getLayer(w.layerId).layer,w.checked?R.push(P):w.checked||U.push(P);for(ae=0;ae<U.length;ae++)this._map.hasLayer(U[ae])&&this._map.removeLayer(U[ae]);for(ae=0;ae<R.length;ae++)this._map.hasLayer(R[ae])||this._map.addLayer(R[ae]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var p=this._layerControlInputs,w,P,R=this._map.getZoom(),U=p.length-1;U>=0;U--)w=p[U],P=this._getLayer(w.layerId).layer,w.disabled=P.options.minZoom!==void 0&&R<P.options.minZoom||P.options.maxZoom!==void 0&&R>P.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var p=this._section;this._preventClick=!0,$t(p,"click",hn),this.expand();var w=this;setTimeout(function(){Mr(p,"click",hn),w._preventClick=!1})}}),ee=function(p,w,P){return new G(p,w,P)},de=xi.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(p){var w="leaflet-control-zoom",P=zt("div",w+" leaflet-bar"),R=this.options;return this._zoomInButton=this._createButton(R.zoomInText,R.zoomInTitle,w+"-in",P,this._zoomIn),this._zoomOutButton=this._createButton(R.zoomOutText,R.zoomOutTitle,w+"-out",P,this._zoomOut),this._updateDisabled(),p.on("zoomend zoomlevelschange",this._updateDisabled,this),P},onRemove:function(p){p.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(p){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(p.shiftKey?3:1))},_zoomOut:function(p){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(p.shiftKey?3:1))},_createButton:function(p,w,P,R,U){var ae=zt("a",P,R);return ae.innerHTML=p,ae.href="#",ae.title=w,ae.setAttribute("role","button"),ae.setAttribute("aria-label",w),Zo(ae),$t(ae,"click",yi),$t(ae,"click",U,this),$t(ae,"click",this._refocusOnMap,this),ae},_updateDisabled:function(){var p=this._map,w="leaflet-disabled";zr(this._zoomInButton,w),zr(this._zoomOutButton,w),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||p._zoom===p.getMinZoom())&&(qt(this._zoomOutButton,w),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||p._zoom===p.getMaxZoom())&&(qt(this._zoomInButton,w),this._zoomInButton.setAttribute("aria-disabled","true"))}});ir.mergeOptions({zoomControl:!0}),ir.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new de,this.addControl(this.zoomControl))});var fe=function(p){return new de(p)},xe=xi.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(p){var w="leaflet-control-scale",P=zt("div",w),R=this.options;return this._addScales(R,w+"-line",P),p.on(R.updateWhenIdle?"moveend":"move",this._update,this),p.whenReady(this._update,this),P},onRemove:function(p){p.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(p,w,P){p.metric&&(this._mScale=zt("div",w,P)),p.imperial&&(this._iScale=zt("div",w,P))},_update:function(){var p=this._map,w=p.getSize().y/2,P=p.distance(p.containerPointToLatLng([0,w]),p.containerPointToLatLng([this.options.maxWidth,w]));this._updateScales(P)},_updateScales:function(p){this.options.metric&&p&&this._updateMetric(p),this.options.imperial&&p&&this._updateImperial(p)},_updateMetric:function(p){var w=this._getRoundNum(p),P=w<1e3?w+" m":w/1e3+" km";this._updateScale(this._mScale,P,w/p)},_updateImperial:function(p){var w=p*3.2808399,P,R,U;w>5280?(P=w/5280,R=this._getRoundNum(P),this._updateScale(this._iScale,R+" mi",R/P)):(U=this._getRoundNum(w),this._updateScale(this._iScale,U+" ft",U/w))},_updateScale:function(p,w,P){p.style.width=Math.round(this.options.maxWidth*P)+"px",p.innerHTML=w},_getRoundNum:function(p){var w=Math.pow(10,(Math.floor(p)+"").length-1),P=p/w;return P=P>=10?10:P>=5?5:P>=3?3:P>=2?2:1,w*P}}),Re=function(p){return new xe(p)},Me='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ge=xi.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(St.inlineSvg?Me+" ":"")+"Leaflet</a>"},initialize:function(p){x(this,p),this._attributions={}},onAdd:function(p){p.attributionControl=this,this._container=zt("div","leaflet-control-attribution"),Zo(this._container);for(var w in p._layers)p._layers[w].getAttribution&&this.addAttribution(p._layers[w].getAttribution());return this._update(),p.on("layeradd",this._addAttribution,this),this._container},onRemove:function(p){p.off("layeradd",this._addAttribution,this)},_addAttribution:function(p){p.layer.getAttribution&&(this.addAttribution(p.layer.getAttribution()),p.layer.once("remove",function(){this.removeAttribution(p.layer.getAttribution())},this))},setPrefix:function(p){return this.options.prefix=p,this._update(),this},addAttribution:function(p){return p?(this._attributions[p]||(this._attributions[p]=0),this._attributions[p]++,this._update(),this):this},removeAttribution:function(p){return p?(this._attributions[p]&&(this._attributions[p]--,this._update()),this):this},_update:function(){if(this._map){var p=[];for(var w in this._attributions)this._attributions[w]&&p.push(w);var P=[];this.options.prefix&&P.push(this.options.prefix),p.length&&P.push(p.join(", ")),this._container.innerHTML=P.join(' <span aria-hidden="true">|</span> ')}}});ir.mergeOptions({attributionControl:!0}),ir.addInitHook(function(){this.options.attributionControl&&new Ge().addTo(this)});var jt=function(p){return new Ge(p)};xi.Layers=G,xi.Zoom=de,xi.Scale=xe,xi.Attribution=Ge,Ir.layers=ee,Ir.zoom=fe,Ir.scale=Re,Ir.attribution=jt;var it=H.extend({initialize:function(p){this._map=p},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});it.addTo=function(p,w){return p.addHandler(w,this),this};var ct={Events:oe},Ct=St.touch?"touchstart mousedown":"mousedown",sr=K.extend({options:{clickTolerance:3},initialize:function(p,w,P,R){x(this,R),this._element=p,this._dragStartTarget=w||p,this._preventOutline=P},enable:function(){this._enabled||($t(this._dragStartTarget,Ct,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(sr._dragging===this&&this.finishDrag(!0),Mr(this._dragStartTarget,Ct,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(p){if(this._enabled&&(this._moved=!1,!Wo(this._element,"leaflet-zoom-anim"))){if(p.touches&&p.touches.length!==1){sr._dragging===this&&this.finishDrag();return}if(!(sr._dragging||p.shiftKey||p.which!==1&&p.button!==1&&!p.touches)&&(sr._dragging=this,this._preventOutline&&io(this._element),ql(),mr(),!this._moving)){this.fire("down");var w=p.touches?p.touches[0]:p,P=Ui(this._element);this._startPoint=new te(w.clientX,w.clientY),this._startPos=Ys(this._element),this._parentScale=Ns(P);var R=p.type==="mousedown";$t(document,R?"mousemove":"touchmove",this._onMove,this),$t(document,R?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(p){if(this._enabled){if(p.touches&&p.touches.length>1){this._moved=!0;return}var w=p.touches&&p.touches.length===1?p.touches[0]:p,P=new te(w.clientX,w.clientY)._subtract(this._startPoint);!P.x&&!P.y||Math.abs(P.x)+Math.abs(P.y)<this.options.clickTolerance||(P.x/=this._parentScale.x,P.y/=this._parentScale.y,hn(p),this._moved||(this.fire("dragstart"),this._moved=!0,qt(document.body,"leaflet-dragging"),this._lastTarget=p.target||p.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(P),this._moving=!0,this._lastEvent=p,this._updatePosition())}},_updatePosition:function(){var p={originalEvent:this._lastEvent};this.fire("predrag",p),bn(this._element,this._newPos),this.fire("drag",p)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(p){zr(document.body,"leaflet-dragging"),this._lastTarget&&(zr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Mr(document,"mousemove touchmove",this._onMove,this),Mr(document,"mouseup touchend touchcancel",this._onUp,this),su(),Ko();var w=this._moved&&this._moving;this._moving=!1,sr._dragging=!1,w&&this.fire("dragend",{noInertia:p,distance:this._newPos.distanceTo(this._startPos)})}});function pn(p,w,P){var R,U=[1,4,2,8],ae,be,Le,Ue,Ze,ht,Rt,er;for(ae=0,ht=p.length;ae<ht;ae++)p[ae]._code=Yl(p[ae],w);for(Le=0;Le<4;Le++){for(Rt=U[Le],R=[],ae=0,ht=p.length,be=ht-1;ae<ht;be=ae++)Ue=p[ae],Ze=p[be],Ue._code&Rt?Ze._code&Rt||(er=Zl(Ze,Ue,Rt,w,P),er._code=Yl(er,w),R.push(er)):(Ze._code&Rt&&(er=Zl(Ze,Ue,Rt,w,P),er._code=Yl(er,w),R.push(er)),R.push(Ue));p=R}return p}function Pt(p,w){var P,R,U,ae,be,Le,Ue,Ze,ht;if(!p||p.length===0)throw new Error("latlngs not passed");Es(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var Rt=pe([0,0]),er=Te(p),ai=er.getNorthWest().distanceTo(er.getSouthWest())*er.getNorthEast().distanceTo(er.getNorthWest());ai<1700&&(Rt=Vt(p));var Kn=p.length,cs=[];for(P=0;P<Kn;P++){var Vi=pe(p[P]);cs.push(w.project(pe([Vi.lat-Rt.lat,Vi.lng-Rt.lng])))}for(Le=Ue=Ze=0,P=0,R=Kn-1;P<Kn;R=P++)U=cs[P],ae=cs[R],be=U.y*ae.x-ae.y*U.x,Ue+=(U.x+ae.x)*be,Ze+=(U.y+ae.y)*be,Le+=be*3;Le===0?ht=cs[0]:ht=[Ue/Le,Ze/Le];var xu=w.unproject(se(ht));return pe([xu.lat+Rt.lat,xu.lng+Rt.lng])}function Vt(p){for(var w=0,P=0,R=0,U=0;U<p.length;U++){var ae=pe(p[U]);w+=ae.lat,P+=ae.lng,R++}return pe([w/R,P/R])}var Ot={__proto__:null,clipPolygon:pn,polygonCenter:Pt,centroid:Vt};function Hr(p,w){if(!w||!p.length)return p.slice();var P=w*w;return p=Ca(p,P),p=Xs(p,P),p}function wn(p,w,P){return Math.sqrt(Xl(p,w,P,!0))}function On(p,w,P){return Xl(p,w,P)}function Xs(p,w){var P=p.length,R=typeof Uint8Array<"u"?Uint8Array:Array,U=new R(P);U[0]=U[P-1]=1,Hn(p,U,w,0,P-1);var ae,be=[];for(ae=0;ae<P;ae++)U[ae]&&be.push(p[ae]);return be}function Hn(p,w,P,R,U){var ae=0,be,Le,Ue;for(Le=R+1;Le<=U-1;Le++)Ue=Xl(p[Le],p[R],p[U],!0),Ue>ae&&(be=Le,ae=Ue);ae>P&&(w[be]=1,Hn(p,w,P,R,be),Hn(p,w,P,be,U))}function Ca(p,w){for(var P=[p[0]],R=1,U=0,ae=p.length;R<ae;R++)yS(p[R],p[U])>w&&(P.push(p[R]),U=R);return U<ae-1&&P.push(p[ae-1]),P}var Js;function Gl(p,w,P,R,U){var ae=R?Js:Yl(p,P),be=Yl(w,P),Le,Ue,Ze;for(Js=be;;){if(!(ae|be))return[p,w];if(ae&be)return!1;Le=ae||be,Ue=Zl(p,w,Le,P,U),Ze=Yl(Ue,P),Le===ae?(p=Ue,ae=Ze):(w=Ue,be=Ze)}}function Zl(p,w,P,R,U){var ae=w.x-p.x,be=w.y-p.y,Le=R.min,Ue=R.max,Ze,ht;return P&8?(Ze=p.x+ae*(Ue.y-p.y)/be,ht=Ue.y):P&4?(Ze=p.x+ae*(Le.y-p.y)/be,ht=Le.y):P&2?(Ze=Ue.x,ht=p.y+be*(Ue.x-p.x)/ae):P&1&&(Ze=Le.x,ht=p.y+be*(Le.x-p.x)/ae),new te(Ze,ht,U)}function Yl(p,w){var P=0;return p.x<w.min.x?P|=1:p.x>w.max.x&&(P|=2),p.y<w.min.y?P|=4:p.y>w.max.y&&(P|=8),P}function yS(p,w){var P=w.x-p.x,R=w.y-p.y;return P*P+R*R}function Xl(p,w,P,R){var U=w.x,ae=w.y,be=P.x-U,Le=P.y-ae,Ue=be*be+Le*Le,Ze;return Ue>0&&(Ze=((p.x-U)*be+(p.y-ae)*Le)/Ue,Ze>1?(U=P.x,ae=P.y):Ze>0&&(U+=be*Ze,ae+=Le*Ze)),be=p.x-U,Le=p.y-ae,R?be*be+Le*Le:new te(U,ae)}function Es(p){return!N(p[0])||typeof p[0][0]!="object"&&typeof p[0][0]<"u"}function Mx(p){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Es(p)}function Ix(p,w){var P,R,U,ae,be,Le,Ue,Ze;if(!p||p.length===0)throw new Error("latlngs not passed");Es(p)||(console.warn("latlngs are not flat! Only the first ring will be used"),p=p[0]);var ht=pe([0,0]),Rt=Te(p),er=Rt.getNorthWest().distanceTo(Rt.getSouthWest())*Rt.getNorthEast().distanceTo(Rt.getNorthWest());er<1700&&(ht=Vt(p));var ai=p.length,Kn=[];for(P=0;P<ai;P++){var cs=pe(p[P]);Kn.push(w.project(pe([cs.lat-ht.lat,cs.lng-ht.lng])))}for(P=0,R=0;P<ai-1;P++)R+=Kn[P].distanceTo(Kn[P+1])/2;if(R===0)Ze=Kn[0];else for(P=0,ae=0;P<ai-1;P++)if(be=Kn[P],Le=Kn[P+1],U=be.distanceTo(Le),ae+=U,ae>R){Ue=(ae-R)/U,Ze=[Le.x-Ue*(Le.x-be.x),Le.y-Ue*(Le.y-be.y)];break}var Vi=w.unproject(se(Ze));return pe([Vi.lat+ht.lat,Vi.lng+ht.lng])}var Lx={__proto__:null,simplify:Hr,pointToSegmentDistance:wn,closestPointOnSegment:On,clipSegment:Gl,_getEdgeIntersection:Zl,_getBitCode:Yl,_sqClosestPointOnSegment:Xl,isFlat:Es,_flat:Mx,polylineCenter:Ix},rg={project:function(p){return new te(p.lng,p.lat)},unproject:function(p){return new qe(p.y,p.x)},bounds:new X([-180,-90],[180,90])},ng={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(p){var w=Math.PI/180,P=this.R,R=p.lat*w,U=this.R_MINOR/P,ae=Math.sqrt(1-U*U),be=ae*Math.sin(R),Le=Math.tan(Math.PI/4-R/2)/Math.pow((1-be)/(1+be),ae/2);return R=-P*Math.log(Math.max(Le,1e-10)),new te(p.lng*w*P,R)},unproject:function(p){for(var w=180/Math.PI,P=this.R,R=this.R_MINOR/P,U=Math.sqrt(1-R*R),ae=Math.exp(-p.y/P),be=Math.PI/2-2*Math.atan(ae),Le=0,Ue=.1,Ze;Le<15&&Math.abs(Ue)>1e-7;Le++)Ze=U*Math.sin(be),Ze=Math.pow((1-Ze)/(1+Ze),U/2),Ue=Math.PI/2-2*Math.atan(ae*Ze)-be,be+=Ue;return new qe(be*w,p.x*w/P)}},xS={__proto__:null,LonLat:rg,Mercator:ng,SphericalMercator:Ie},bS=i({},_e,{code:"EPSG:3395",projection:ng,transformation:function(){var p=.5/(Math.PI*ng.R);return J(p,.5,-p,.5)}()}),Dx=i({},_e,{code:"EPSG:4326",projection:rg,transformation:J(1/180,1,-1/180,.5)}),wS=i({},ue,{projection:rg,transformation:J(1,0,-1,0),scale:function(p){return Math.pow(2,p)},zoom:function(p){return Math.log(p)/Math.LN2},distance:function(p,w){var P=w.lng-p.lng,R=w.lat-p.lat;return Math.sqrt(P*P+R*R)},infinite:!0});ue.Earth=_e,ue.EPSG3395=bS,ue.EPSG3857=Ee,ue.EPSG900913=Ne,ue.EPSG4326=Dx,ue.Simple=wS;var Qs=K.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(p){return p.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(p){return p&&p.removeLayer(this),this},getPane:function(p){return this._map.getPane(p?this.options[p]||p:this.options.pane)},addInteractiveTarget:function(p){return this._map._targets[c(p)]=this,this},removeInteractiveTarget:function(p){return delete this._map._targets[c(p)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(p){var w=p.target;if(w.hasLayer(this)){if(this._map=w,this._zoomAnimated=w._zoomAnimated,this.getEvents){var P=this.getEvents();w.on(P,this),this.once("remove",function(){w.off(P,this)},this)}this.onAdd(w),this.fire("add"),w.fire("layeradd",{layer:this})}}});ir.include({addLayer:function(p){if(!p._layerAdd)throw new Error("The provided object is not a Layer.");var w=c(p);return this._layers[w]?this:(this._layers[w]=p,p._mapToAdd=this,p.beforeAdd&&p.beforeAdd(this),this.whenReady(p._layerAdd,p),this)},removeLayer:function(p){var w=c(p);return this._layers[w]?(this._loaded&&p.onRemove(this),delete this._layers[w],this._loaded&&(this.fire("layerremove",{layer:p}),p.fire("remove")),p._map=p._mapToAdd=null,this):this},hasLayer:function(p){return c(p)in this._layers},eachLayer:function(p,w){for(var P in this._layers)p.call(w,this._layers[P]);return this},_addLayers:function(p){p=p?N(p)?p:[p]:[];for(var w=0,P=p.length;w<P;w++)this.addLayer(p[w])},_addZoomLimit:function(p){(!isNaN(p.options.maxZoom)||!isNaN(p.options.minZoom))&&(this._zoomBoundLayers[c(p)]=p,this._updateZoomLevels())},_removeZoomLimit:function(p){var w=c(p);this._zoomBoundLayers[w]&&(delete this._zoomBoundLayers[w],this._updateZoomLevels())},_updateZoomLevels:function(){var p=1/0,w=-1/0,P=this._getZoomSpan();for(var R in this._zoomBoundLayers){var U=this._zoomBoundLayers[R].options;p=U.minZoom===void 0?p:Math.min(p,U.minZoom),w=U.maxZoom===void 0?w:Math.max(w,U.maxZoom)}this._layersMaxZoom=w===-1/0?void 0:w,this._layersMinZoom=p===1/0?void 0:p,P!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Yo=Qs.extend({initialize:function(p,w){x(this,w),this._layers={};var P,R;if(p)for(P=0,R=p.length;P<R;P++)this.addLayer(p[P])},addLayer:function(p){var w=this.getLayerId(p);return this._layers[w]=p,this._map&&this._map.addLayer(p),this},removeLayer:function(p){var w=p in this._layers?p:this.getLayerId(p);return this._map&&this._layers[w]&&this._map.removeLayer(this._layers[w]),delete this._layers[w],this},hasLayer:function(p){var w=typeof p=="number"?p:this.getLayerId(p);return w in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(p){var w=Array.prototype.slice.call(arguments,1),P,R;for(P in this._layers)R=this._layers[P],R[p]&&R[p].apply(R,w);return this},onAdd:function(p){this.eachLayer(p.addLayer,p)},onRemove:function(p){this.eachLayer(p.removeLayer,p)},eachLayer:function(p,w){for(var P in this._layers)p.call(w,this._layers[P]);return this},getLayer:function(p){return this._layers[p]},getLayers:function(){var p=[];return this.eachLayer(p.push,p),p},setZIndex:function(p){return this.invoke("setZIndex",p)},getLayerId:function(p){return c(p)}}),Ld=function(p,w){return new Yo(p,w)},ao=Yo.extend({addLayer:function(p){return this.hasLayer(p)?this:(p.addEventParent(this),Yo.prototype.addLayer.call(this,p),this.fire("layeradd",{layer:p}))},removeLayer:function(p){return this.hasLayer(p)?(p in this._layers&&(p=this._layers[p]),p.removeEventParent(this),Yo.prototype.removeLayer.call(this,p),this.fire("layerremove",{layer:p})):this},setStyle:function(p){return this.invoke("setStyle",p)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var p=new je;for(var w in this._layers){var P=this._layers[w];p.extend(P.getBounds?P.getBounds():P.getLatLng())}return p}}),$x=function(p,w){return new ao(p,w)},Jl=H.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(p){x(this,p)},createIcon:function(p){return this._createIcon("icon",p)},createShadow:function(p){return this._createIcon("shadow",p)},_createIcon:function(p,w){var P=this._getIconUrl(p);if(!P){if(p==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var R=this._createImg(P,w&&w.tagName==="IMG"?w:null);return this._setIconStyles(R,p),(this.options.crossOrigin||this.options.crossOrigin==="")&&(R.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),R},_setIconStyles:function(p,w){var P=this.options,R=P[w+"Size"];typeof R=="number"&&(R=[R,R]);var U=se(R),ae=se(w==="shadow"&&P.shadowAnchor||P.iconAnchor||U&&U.divideBy(2,!0));p.className="leaflet-marker-"+w+" "+(P.className||""),ae&&(p.style.marginLeft=-ae.x+"px",p.style.marginTop=-ae.y+"px"),U&&(p.style.width=U.x+"px",p.style.height=U.y+"px")},_createImg:function(p,w){return w=w||document.createElement("img"),w.src=p,w},_getIconUrl:function(p){return St.retina&&this.options[p+"RetinaUrl"]||this.options[p+"Url"]}});function Fx(p){return new Jl(p)}var uu=Jl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(p){return typeof uu.imagePath!="string"&&(uu.imagePath=this._detectIconPath()),(this.options.imagePath||uu.imagePath)+Jl.prototype._getIconUrl.call(this,p)},_stripUrl:function(p){var w=function(P,R,U){var ae=R.exec(P);return ae&&ae[U]};return p=w(p,/^url\((['"])?(.+)\1\)$/,2),p&&w(p,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var p=zt("div","leaflet-default-icon-path",document.body),w=Fl(p,"background-image")||Fl(p,"backgroundImage");if(document.body.removeChild(p),w=this._stripUrl(w),w)return w;var P=document.querySelector('link[href$="leaflet.css"]');return P?P.href.substring(0,P.href.length-11-1):""}}),ig=it.extend({initialize:function(p){this._marker=p},addHooks:function(){var p=this._marker._icon;this._draggable||(this._draggable=new sr(p,p,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),qt(p,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&zr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(p){var w=this._marker,P=w._map,R=this._marker.options.autoPanSpeed,U=this._marker.options.autoPanPadding,ae=Ys(w._icon),be=P.getPixelBounds(),Le=P.getPixelOrigin(),Ue=ce(be.min._subtract(Le).add(U),be.max._subtract(Le).subtract(U));if(!Ue.contains(ae)){var Ze=se((Math.max(Ue.max.x,ae.x)-Ue.max.x)/(be.max.x-Ue.max.x)-(Math.min(Ue.min.x,ae.x)-Ue.min.x)/(be.min.x-Ue.min.x),(Math.max(Ue.max.y,ae.y)-Ue.max.y)/(be.max.y-Ue.max.y)-(Math.min(Ue.min.y,ae.y)-Ue.min.y)/(be.min.y-Ue.min.y)).multiplyBy(R);P.panBy(Ze,{animate:!1}),this._draggable._newPos._add(Ze),this._draggable._startPos._add(Ze),bn(w._icon,this._draggable._newPos),this._onDrag(p),this._panRequest=V(this._adjustPan.bind(this,p))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(p){this._marker.options.autoPan&&(q(this._panRequest),this._panRequest=V(this._adjustPan.bind(this,p)))},_onDrag:function(p){var w=this._marker,P=w._shadow,R=Ys(w._icon),U=w._map.layerPointToLatLng(R);P&&bn(P,R),w._latlng=U,p.latlng=U,p.oldLatLng=this._oldLatLng,w.fire("move",p).fire("drag",p)},_onDragEnd:function(p){q(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",p)}}),oo=Qs.extend({options:{icon:new uu,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(p,w){x(this,w),this._latlng=pe(p)},onAdd:function(p){this._zoomAnimated=this._zoomAnimated&&p.options.markerZoomAnimation,this._zoomAnimated&&p.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(p){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&p.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(p){var w=this._latlng;return this._latlng=pe(p),this.update(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},setZIndexOffset:function(p){return this.options.zIndexOffset=p,this.update()},getIcon:function(){return this.options.icon},setIcon:function(p){return this.options.icon=p,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var p=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(p)}return this},_initIcon:function(){var p=this.options,w="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),P=p.icon.createIcon(this._icon),R=!1;P!==this._icon&&(this._icon&&this._removeIcon(),R=!0,p.title&&(P.title=p.title),P.tagName==="IMG"&&(P.alt=p.alt||"")),qt(P,w),p.keyboard&&(P.tabIndex="0",P.setAttribute("role","button")),this._icon=P,p.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$t(P,"focus",this._panOnFocus,this);var U=p.icon.createShadow(this._shadow),ae=!1;U!==this._shadow&&(this._removeShadow(),ae=!0),U&&(qt(U,w),U.alt=""),this._shadow=U,p.opacity<1&&this._updateOpacity(),R&&this.getPane().appendChild(this._icon),this._initInteraction(),U&&ae&&this.getPane(p.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Mr(this._icon,"focus",this._panOnFocus,this),Wr(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wr(this._shadow),this._shadow=null},_setPos:function(p){this._icon&&bn(this._icon,p),this._shadow&&bn(this._shadow,p),this._zIndex=p.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(p){this._icon&&(this._icon.style.zIndex=this._zIndex+p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center).round();this._setPos(w)},_initInteraction:function(){if(this.options.interactive&&(qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ig)){var p=this.options.draggable;this.dragging&&(p=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ig(this),p&&this.dragging.enable()}},setOpacity:function(p){return this.options.opacity=p,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var p=this.options.opacity;this._icon&&si(this._icon,p),this._shadow&&si(this._shadow,p)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var p=this._map;if(p){var w=this.options.icon.options,P=w.iconSize?se(w.iconSize):se(0,0),R=w.iconAnchor?se(w.iconAnchor):se(0,0);p.panInside(this._latlng,{paddingTopLeft:R,paddingBottomRight:P.subtract(R)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function _S(p,w){return new oo(p,w)}var Xo=Qs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(p){this._renderer=p.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(p){return x(this,p),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&p&&Object.prototype.hasOwnProperty.call(p,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),hh=Xo.extend({options:{fill:!0,radius:10},initialize:function(p,w){x(this,w),this._latlng=pe(p),this._radius=this.options.radius},setLatLng:function(p){var w=this._latlng;return this._latlng=pe(p),this.redraw(),this.fire("move",{oldLatLng:w,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(p){return this.options.radius=this._radius=p,this.redraw()},getRadius:function(){return this._radius},setStyle:function(p){var w=p&&p.radius||this._radius;return Xo.prototype.setStyle.call(this,p),this.setRadius(w),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var p=this._radius,w=this._radiusY||p,P=this._clickTolerance(),R=[p+P,w+P];this._pxBounds=new X(this._point.subtract(R),this._point.add(R))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(p){return p.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Bx(p,w){return new hh(p,w)}var ph=hh.extend({initialize:function(p,w,P){if(typeof w=="number"&&(w=i({},P,{radius:w})),x(this,w),this._latlng=pe(p),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(p){return this._mRadius=p,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var p=[this._radius,this._radiusY||this._radius];return new je(this._map.layerPointToLatLng(this._point.subtract(p)),this._map.layerPointToLatLng(this._point.add(p)))},setStyle:Xo.prototype.setStyle,_project:function(){var p=this._latlng.lng,w=this._latlng.lat,P=this._map,R=P.options.crs;if(R.distance===_e.distance){var U=Math.PI/180,ae=this._mRadius/_e.R/U,be=P.project([w+ae,p]),Le=P.project([w-ae,p]),Ue=be.add(Le).divideBy(2),Ze=P.unproject(Ue).lat,ht=Math.acos((Math.cos(ae*U)-Math.sin(w*U)*Math.sin(Ze*U))/(Math.cos(w*U)*Math.cos(Ze*U)))/U;(isNaN(ht)||ht===0)&&(ht=ae/Math.cos(Math.PI/180*w)),this._point=Ue.subtract(P.getPixelOrigin()),this._radius=isNaN(ht)?0:Ue.x-P.project([Ze,p-ht]).x,this._radiusY=Ue.y-be.y}else{var Rt=R.unproject(R.project(this._latlng).subtract([this._mRadius,0]));this._point=P.latLngToLayerPoint(this._latlng),this._radius=this._point.x-P.latLngToLayerPoint(Rt).x}this._updateBounds()}});function Dd(p,w,P){return new ph(p,w,P)}var ls=Xo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(p,w){x(this,w),this._setLatLngs(p)},getLatLngs:function(){return this._latlngs},setLatLngs:function(p){return this._setLatLngs(p),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(p){for(var w=1/0,P=null,R=Xl,U,ae,be=0,Le=this._parts.length;be<Le;be++)for(var Ue=this._parts[be],Ze=1,ht=Ue.length;Ze<ht;Ze++){U=Ue[Ze-1],ae=Ue[Ze];var Rt=R(p,U,ae,!0);Rt<w&&(w=Rt,P=R(p,U,ae))}return P&&(P.distance=Math.sqrt(w)),P},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ix(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(p,w){return w=w||this._defaultShape(),p=pe(p),w.push(p),this._bounds.extend(p),this.redraw()},_setLatLngs:function(p){this._bounds=new je,this._latlngs=this._convertLatLngs(p)},_defaultShape:function(){return Es(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(p){for(var w=[],P=Es(p),R=0,U=p.length;R<U;R++)P?(w[R]=pe(p[R]),this._bounds.extend(w[R])):w[R]=this._convertLatLngs(p[R]);return w},_project:function(){var p=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,p),this._bounds.isValid()&&p.isValid()&&(this._rawPxBounds=p,this._updateBounds())},_updateBounds:function(){var p=this._clickTolerance(),w=new te(p,p);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(w),this._rawPxBounds.max.add(w)]))},_projectLatlngs:function(p,w,P){var R=p[0]instanceof qe,U=p.length,ae,be;if(R){for(be=[],ae=0;ae<U;ae++)be[ae]=this._map.latLngToLayerPoint(p[ae]),P.extend(be[ae]);w.push(be)}else for(ae=0;ae<U;ae++)this._projectLatlngs(p[ae],w,P)},_clipPoints:function(){var p=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}var w=this._parts,P,R,U,ae,be,Le,Ue;for(P=0,U=0,ae=this._rings.length;P<ae;P++)for(Ue=this._rings[P],R=0,be=Ue.length;R<be-1;R++)Le=Gl(Ue[R],Ue[R+1],p,R,!0),Le&&(w[U]=w[U]||[],w[U].push(Le[0]),(Le[1]!==Ue[R+1]||R===be-2)&&(w[U].push(Le[1]),U++))}},_simplifyPoints:function(){for(var p=this._parts,w=this.options.smoothFactor,P=0,R=p.length;P<R;P++)p[P]=Hr(p[P],w)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(p,w){var P,R,U,ae,be,Le,Ue=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(P=0,ae=this._parts.length;P<ae;P++)for(Le=this._parts[P],R=0,be=Le.length,U=be-1;R<be;U=R++)if(!(!w&&R===0)&&wn(p,Le[U],Le[R])<=Ue)return!0;return!1}});function SS(p,w){return new ls(p,w)}ls._flat=Mx;var lo=ls.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Pt(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(p){var w=ls.prototype._convertLatLngs.call(this,p),P=w.length;return P>=2&&w[0]instanceof qe&&w[0].equals(w[P-1])&&w.pop(),w},_setLatLngs:function(p){ls.prototype._setLatLngs.call(this,p),Es(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Es(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var p=this._renderer._bounds,w=this.options.weight,P=new te(w,w);if(p=new X(p.min.subtract(P),p.max.add(P)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(p))){if(this.options.noClip){this._parts=this._rings;return}for(var R=0,U=this._rings.length,ae;R<U;R++)ae=pn(this._rings[R],p,!0),ae.length&&this._parts.push(ae)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(p){var w=!1,P,R,U,ae,be,Le,Ue,Ze;if(!this._pxBounds||!this._pxBounds.contains(p))return!1;for(ae=0,Ue=this._parts.length;ae<Ue;ae++)for(P=this._parts[ae],be=0,Ze=P.length,Le=Ze-1;be<Ze;Le=be++)R=P[be],U=P[Le],R.y>p.y!=U.y>p.y&&p.x<(U.x-R.x)*(p.y-R.y)/(U.y-R.y)+R.x&&(w=!w);return w||ls.prototype._containsPoint.call(this,p,!0)}});function jS(p,w){return new lo(p,w)}var Na=ao.extend({initialize:function(p,w){x(this,w),this._layers={},p&&this.addData(p)},addData:function(p){var w=N(p)?p:p.features,P,R,U;if(w){for(P=0,R=w.length;P<R;P++)U=w[P],(U.geometries||U.geometry||U.features||U.coordinates)&&this.addData(U);return this}var ae=this.options;if(ae.filter&&!ae.filter(p))return this;var be=du(p,ae);return be?(be.feature=xh(p),be.defaultOptions=be.options,this.resetStyle(be),ae.onEachFeature&&ae.onEachFeature(p,be),this.addLayer(be)):this},resetStyle:function(p){return p===void 0?this.eachLayer(this.resetStyle,this):(p.options=i({},p.defaultOptions),this._setLayerStyle(p,this.options.style),this)},setStyle:function(p){return this.eachLayer(function(w){this._setLayerStyle(w,p)},this)},_setLayerStyle:function(p,w){p.setStyle&&(typeof w=="function"&&(w=w(p.feature)),p.setStyle(w))}});function du(p,w){var P=p.type==="Feature"?p.geometry:p,R=P?P.coordinates:null,U=[],ae=w&&w.pointToLayer,be=w&&w.coordsToLatLng||gh,Le,Ue,Ze,ht;if(!R&&!P)return null;switch(P.type){case"Point":return Le=be(R),mh(ae,p,Le,w);case"MultiPoint":for(Ze=0,ht=R.length;Ze<ht;Ze++)Le=be(R[Ze]),U.push(mh(ae,p,Le,w));return new ao(U);case"LineString":case"MultiLineString":return Ue=$d(R,P.type==="LineString"?0:1,be),new ls(Ue,w);case"Polygon":case"MultiPolygon":return Ue=$d(R,P.type==="Polygon"?1:2,be),new lo(Ue,w);case"GeometryCollection":for(Ze=0,ht=P.geometries.length;Ze<ht;Ze++){var Rt=du({geometry:P.geometries[Ze],type:"Feature",properties:p.properties},w);Rt&&U.push(Rt)}return new ao(U);case"FeatureCollection":for(Ze=0,ht=P.features.length;Ze<ht;Ze++){var er=du(P.features[Ze],w);er&&U.push(er)}return new ao(U);default:throw new Error("Invalid GeoJSON object.")}}function mh(p,w,P,R){return p?p(w,P):new oo(P,R&&R.markersInheritOptions&&R)}function gh(p){return new qe(p[1],p[0],p[2])}function $d(p,w,P){for(var R=[],U=0,ae=p.length,be;U<ae;U++)be=w?$d(p[U],w-1,P):(P||gh)(p[U]),R.push(be);return R}function vh(p,w){return p=pe(p),p.alt!==void 0?[g(p.lng,w),g(p.lat,w),g(p.alt,w)]:[g(p.lng,w),g(p.lat,w)]}function yh(p,w,P,R){for(var U=[],ae=0,be=p.length;ae<be;ae++)U.push(w?yh(p[ae],Es(p[ae])?0:w-1,P,R):vh(p[ae],R));return!w&&P&&U.length>0&&U.push(U[0].slice()),U}function fu(p,w){return p.feature?i({},p.feature,{geometry:w}):xh(w)}function xh(p){return p.type==="Feature"||p.type==="FeatureCollection"?p:{type:"Feature",properties:{},geometry:p}}var sg={toGeoJSON:function(p){return fu(this,{type:"Point",coordinates:vh(this.getLatLng(),p)})}};oo.include(sg),ph.include(sg),hh.include(sg),ls.include({toGeoJSON:function(p){var w=!Es(this._latlngs),P=yh(this._latlngs,w?1:0,!1,p);return fu(this,{type:(w?"Multi":"")+"LineString",coordinates:P})}}),lo.include({toGeoJSON:function(p){var w=!Es(this._latlngs),P=w&&!Es(this._latlngs[0]),R=yh(this._latlngs,P?2:w?1:0,!0,p);return w||(R=[R]),fu(this,{type:(P?"Multi":"")+"Polygon",coordinates:R})}}),Yo.include({toMultiPoint:function(p){var w=[];return this.eachLayer(function(P){w.push(P.toGeoJSON(p).geometry.coordinates)}),fu(this,{type:"MultiPoint",coordinates:w})},toGeoJSON:function(p){var w=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(w==="MultiPoint")return this.toMultiPoint(p);var P=w==="GeometryCollection",R=[];return this.eachLayer(function(U){if(U.toGeoJSON){var ae=U.toGeoJSON(p);if(P)R.push(ae.geometry);else{var be=xh(ae);be.type==="FeatureCollection"?R.push.apply(R,be.features):R.push(be)}}}),P?fu(this,{geometries:R,type:"GeometryCollection"}):{type:"FeatureCollection",features:R}}});function zx(p,w){return new Na(p,w)}var ea=zx,Jo=Qs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(p,w,P){this._url=p,this._bounds=Te(w),x(this,P)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wr(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(p){return this.options.opacity=p,this._image&&this._updateOpacity(),this},setStyle:function(p){return p.opacity&&this.setOpacity(p.opacity),this},bringToFront:function(){return this._map&&Vo(this._image),this},bringToBack:function(){return this._map&&Zs(this._image),this},setUrl:function(p){return this._url=p,this._image&&(this._image.src=p),this},setBounds:function(p){return this._bounds=Te(p),this._map&&this._reset(),this},getEvents:function(){var p={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var p=this._url.tagName==="IMG",w=this._image=p?this._url:zt("img");if(qt(w,"leaflet-image-layer"),this._zoomAnimated&&qt(w,"leaflet-zoom-animated"),this.options.className&&qt(w,this.options.className),w.onselectstart=f,w.onmousemove=f,w.onload=o(this.fire,this,"load"),w.onerror=o(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(w.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),p){this._url=w.src;return}w.src=this._url,w.alt=this.options.alt},_animateZoom:function(p){var w=this._map.getZoomScale(p.zoom),P=this._map._latLngBoundsToNewLayerBounds(this._bounds,p.zoom,p.center).min;js(this._image,P,w)},_reset:function(){var p=this._image,w=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),P=w.getSize();bn(p,w.min),p.style.width=P.x+"px",p.style.height=P.y+"px"},_updateOpacity:function(){si(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var p=this.options.errorOverlayUrl;p&&this._url!==p&&(this._url=p,this._image.src=p)},getCenter:function(){return this._bounds.getCenter()}}),qx=function(p,w,P){return new Jo(p,w,P)},ag=Jo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var p=this._url.tagName==="VIDEO",w=this._image=p?this._url:zt("video");if(qt(w,"leaflet-image-layer"),this._zoomAnimated&&qt(w,"leaflet-zoom-animated"),this.options.className&&qt(w,this.options.className),w.onselectstart=f,w.onmousemove=f,w.onloadeddata=o(this.fire,this,"load"),p){for(var P=w.getElementsByTagName("source"),R=[],U=0;U<P.length;U++)R.push(P[U].src);this._url=P.length>0?R:[w.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(w.style,"objectFit")&&(w.style.objectFit="fill"),w.autoplay=!!this.options.autoplay,w.loop=!!this.options.loop,w.muted=!!this.options.muted,w.playsInline=!!this.options.playsInline;for(var ae=0;ae<this._url.length;ae++){var be=zt("source");be.src=this._url[ae],w.appendChild(be)}}});function Ux(p,w,P){return new ag(p,w,P)}var og=Jo.extend({_initImage:function(){var p=this._image=this._url;qt(p,"leaflet-image-layer"),this._zoomAnimated&&qt(p,"leaflet-zoom-animated"),this.options.className&&qt(p,this.options.className),p.onselectstart=f,p.onmousemove=f}});function lg(p,w,P){return new og(p,w,P)}var Ea=Qs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(p,w){p&&(p instanceof qe||N(p))?(this._latlng=pe(p),x(this,w)):(x(this,p),this._source=w),this.options.content&&(this._content=this.options.content)},openOn:function(p){return p=arguments.length?p:this._source._map,p.hasLayer(this)||p.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(p){return this._map?this.close():(arguments.length?this._source=p:p=this._source,this._prepareOpen(),this.openOn(p._map)),this},onAdd:function(p){this._zoomAnimated=p._zoomAnimated,this._container||this._initLayout(),p._fadeAnimated&&si(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),p._fadeAnimated&&si(this._container,1),this.bringToFront(),this.options.interactive&&(qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(p){p._fadeAnimated?(si(this._container,0),this._removeTimeout=setTimeout(o(Wr,void 0,this._container),200)):Wr(this._container),this.options.interactive&&(zr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(p){return this._latlng=pe(p),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(p){return this._content=p,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var p={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vo(this._container),this},bringToBack:function(){return this._map&&Zs(this._container),this},_prepareOpen:function(p){var w=this._source;if(!w._map)return!1;if(w instanceof ao){w=null;var P=this._source._layers;for(var R in P)if(P[R]._map){w=P[R];break}if(!w)return!1;this._source=w}if(!p)if(w.getCenter)p=w.getCenter();else if(w.getLatLng)p=w.getLatLng();else if(w.getBounds)p=w.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(p),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var p=this._contentNode,w=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof w=="string")p.innerHTML=w;else{for(;p.hasChildNodes();)p.removeChild(p.firstChild);p.appendChild(w)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var p=this._map.latLngToLayerPoint(this._latlng),w=se(this.options.offset),P=this._getAnchor();this._zoomAnimated?bn(this._container,p.add(P)):w=w.add(p).add(P);var R=this._containerBottom=-w.y,U=this._containerLeft=-Math.round(this._containerWidth/2)+w.x;this._container.style.bottom=R+"px",this._container.style.left=U+"px"}},_getAnchor:function(){return[0,0]}});ir.include({_initOverlay:function(p,w,P,R){var U=w;return U instanceof p||(U=new p(R).setContent(w)),P&&U.setLatLng(P),U}}),Qs.include({_initOverlay:function(p,w,P,R){var U=P;return U instanceof p?(x(U,R),U._source=this):(U=w&&!R?w:new p(R,this),U.setContent(P)),U}});var bh=Ea.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(p){return p=arguments.length?p:this._source._map,!p.hasLayer(this)&&p._popup&&p._popup.options.autoClose&&p.removeLayer(p._popup),p._popup=this,Ea.prototype.openOn.call(this,p)},onAdd:function(p){Ea.prototype.onAdd.call(this,p),p.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Xo||this._source.on("preclick",os))},onRemove:function(p){Ea.prototype.onRemove.call(this,p),p.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Xo||this._source.off("preclick",os))},getEvents:function(){var p=Ea.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(p.preclick=this.close),this.options.keepInView&&(p.moveend=this._adjustPan),p},_initLayout:function(){var p="leaflet-popup",w=this._container=zt("div",p+" "+(this.options.className||"")+" leaflet-zoom-animated"),P=this._wrapper=zt("div",p+"-content-wrapper",w);if(this._contentNode=zt("div",p+"-content",P),Zo(w),so(this._contentNode),$t(w,"contextmenu",os),this._tipContainer=zt("div",p+"-tip-container",w),this._tip=zt("div",p+"-tip",this._tipContainer),this.options.closeButton){var R=this._closeButton=zt("a",p+"-close-button",w);R.setAttribute("role","button"),R.setAttribute("aria-label","Close popup"),R.href="#close",R.innerHTML='<span aria-hidden="true">&#215;</span>',$t(R,"click",function(U){hn(U),this.close()},this)}},_updateLayout:function(){var p=this._contentNode,w=p.style;w.width="",w.whiteSpace="nowrap";var P=p.offsetWidth;P=Math.min(P,this.options.maxWidth),P=Math.max(P,this.options.minWidth),w.width=P+1+"px",w.whiteSpace="",w.height="";var R=p.offsetHeight,U=this.options.maxHeight,ae="leaflet-popup-scrolled";U&&R>U?(w.height=U+"px",qt(p,ae)):zr(p,ae),this._containerWidth=this._container.offsetWidth},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center),P=this._getAnchor();bn(this._container,w.add(P))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var p=this._map,w=parseInt(Fl(this._container,"marginBottom"),10)||0,P=this._container.offsetHeight+w,R=this._containerWidth,U=new te(this._containerLeft,-P-this._containerBottom);U._add(Ys(this._container));var ae=p.layerPointToContainerPoint(U),be=se(this.options.autoPanPadding),Le=se(this.options.autoPanPaddingTopLeft||be),Ue=se(this.options.autoPanPaddingBottomRight||be),Ze=p.getSize(),ht=0,Rt=0;ae.x+R+Ue.x>Ze.x&&(ht=ae.x+R-Ze.x+Ue.x),ae.x-ht-Le.x<0&&(ht=ae.x-Le.x),ae.y+P+Ue.y>Ze.y&&(Rt=ae.y+P-Ze.y+Ue.y),ae.y-Rt-Le.y<0&&(Rt=ae.y-Le.y),(ht||Rt)&&(this.options.keepInView&&(this._autopanning=!0),p.fire("autopanstart").panBy([ht,Rt]))}},_getAnchor:function(){return se(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),hu=function(p,w){return new bh(p,w)};ir.mergeOptions({closePopupOnClick:!0}),ir.include({openPopup:function(p,w,P){return this._initOverlay(bh,p,w,P).openOn(this),this},closePopup:function(p){return p=arguments.length?p:this._popup,p&&p.close(),this}}),Qs.include({bindPopup:function(p,w){return this._popup=this._initOverlay(bh,this._popup,p,w),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(p){return this._popup&&(this instanceof ao||(this._popup._source=this),this._popup._prepareOpen(p||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(p){return this._popup&&this._popup.setContent(p),this},getPopup:function(){return this._popup},_openPopup:function(p){if(!(!this._popup||!this._map)){yi(p);var w=p.layer||p.target;if(this._popup._source===w&&!(w instanceof Xo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(p.latlng);return}this._popup._source=w,this.openPopup(p.latlng)}},_movePopup:function(p){this._popup.setLatLng(p.latlng)},_onKeyPress:function(p){p.originalEvent.keyCode===13&&this._openPopup(p)}});var pu=Ea.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(p){Ea.prototype.onAdd.call(this,p),this.setOpacity(this.options.opacity),p.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(p){Ea.prototype.onRemove.call(this,p),p.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var p=Ea.prototype.getEvents.call(this);return this.options.permanent||(p.preclick=this.close),p},_initLayout:function(){var p="leaflet-tooltip",w=p+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=zt("div",w),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+c(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(p){var w,P,R=this._map,U=this._container,ae=R.latLngToContainerPoint(R.getCenter()),be=R.layerPointToContainerPoint(p),Le=this.options.direction,Ue=U.offsetWidth,Ze=U.offsetHeight,ht=se(this.options.offset),Rt=this._getAnchor();Le==="top"?(w=Ue/2,P=Ze):Le==="bottom"?(w=Ue/2,P=0):Le==="center"?(w=Ue/2,P=Ze/2):Le==="right"?(w=0,P=Ze/2):Le==="left"?(w=Ue,P=Ze/2):be.x<ae.x?(Le="right",w=0,P=Ze/2):(Le="left",w=Ue+(ht.x+Rt.x)*2,P=Ze/2),p=p.subtract(se(w,P,!0)).add(ht).add(Rt),zr(U,"leaflet-tooltip-right"),zr(U,"leaflet-tooltip-left"),zr(U,"leaflet-tooltip-top"),zr(U,"leaflet-tooltip-bottom"),qt(U,"leaflet-tooltip-"+Le),bn(U,p)},_updatePosition:function(){var p=this._map.latLngToLayerPoint(this._latlng);this._setPosition(p)},setOpacity:function(p){this.options.opacity=p,this._container&&si(this._container,p)},_animateZoom:function(p){var w=this._map._latLngToNewLayerPoint(this._latlng,p.zoom,p.center);this._setPosition(w)},_getAnchor:function(){return se(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Fd=function(p,w){return new pu(p,w)};ir.include({openTooltip:function(p,w,P){return this._initOverlay(pu,p,w,P).openOn(this),this},closeTooltip:function(p){return p.close(),this}}),Qs.include({bindTooltip:function(p,w){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(pu,this._tooltip,p,w),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(p){if(!(!p&&this._tooltipHandlersAdded)){var w=p?"off":"on",P={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?P.add=this._openTooltip:(P.mouseover=this._openTooltip,P.mouseout=this.closeTooltip,P.click=this._openTooltip,this._map?this._addFocusListeners():P.add=this._addFocusListeners),this._tooltip.options.sticky&&(P.mousemove=this._moveTooltip),this[w](P),this._tooltipHandlersAdded=!p}},openTooltip:function(p){return this._tooltip&&(this instanceof ao||(this._tooltip._source=this),this._tooltip._prepareOpen(p)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(p){return this._tooltip&&this._tooltip.setContent(p),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&($t(w,"focus",function(){this._tooltip._source=p,this.openTooltip()},this),$t(w,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(p){var w=typeof p.getElement=="function"&&p.getElement();w&&w.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(p){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var w=this;this._map.once("moveend",function(){w._openOnceFlag=!1,w._openTooltip(p)});return}this._tooltip._source=p.layer||p.target,this.openTooltip(this._tooltip.options.sticky?p.latlng:void 0)}},_moveTooltip:function(p){var w=p.latlng,P,R;this._tooltip.options.sticky&&p.originalEvent&&(P=this._map.mouseEventToContainerPoint(p.originalEvent),R=this._map.containerPointToLayerPoint(P),w=this._map.layerPointToLatLng(R)),this._tooltip.setLatLng(w)}});var wh=Jl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(p){var w=p&&p.tagName==="DIV"?p:document.createElement("div"),P=this.options;if(P.html instanceof Element?(Bl(w),w.appendChild(P.html)):w.innerHTML=P.html!==!1?P.html:"",P.bgPos){var R=se(P.bgPos);w.style.backgroundPosition=-R.x+"px "+-R.y+"px"}return this._setIconStyles(w,"icon"),w},createShadow:function(){return null}});function Vx(p){return new wh(p)}Jl.Default=uu;var Qo=Qs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:St.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(p){x(this,p)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(p){p._addZoomLimit(this)},onRemove:function(p){this._removeAllTiles(),Wr(this._container),p._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(p){return this.options.opacity=p,this._updateOpacity(),this},setZIndex:function(p){return this.options.zIndex=p,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var p=this._clampZoom(this._map.getZoom());p!==this._tileZoom&&(this._tileZoom=p,this._updateLevels()),this._update()}return this},getEvents:function(){var p={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=u(this._onMoveEnd,this.options.updateInterval,this)),p.move=this._onMove),this._zoomAnimated&&(p.zoomanim=this._animateZoom),p},createTile:function(){return document.createElement("div")},getTileSize:function(){var p=this.options.tileSize;return p instanceof te?p:new te(p,p)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p){for(var w=this.getPane().children,P=-p(-1/0,1/0),R=0,U=w.length,ae;R<U;R++)ae=w[R].style.zIndex,w[R]!==this._container&&ae&&(P=p(P,+ae));isFinite(P)&&(this.options.zIndex=P+p(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!St.ielt9){si(this._container,this.options.opacity);var p=+new Date,w=!1,P=!1;for(var R in this._tiles){var U=this._tiles[R];if(!(!U.current||!U.loaded)){var ae=Math.min(1,(p-U.loaded)/200);si(U.el,ae),ae<1?w=!0:(U.active?P=!0:this._onOpaqueTile(U),U.active=!0)}}P&&!this._noPrune&&this._pruneTiles(),w&&(q(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this))}},_onOpaqueTile:f,_initContainer:function(){this._container||(this._container=zt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var p=this._tileZoom,w=this.options.maxZoom;if(p!==void 0){for(var P in this._levels)P=Number(P),this._levels[P].el.children.length||P===p?(this._levels[P].el.style.zIndex=w-Math.abs(p-P),this._onUpdateLevel(P)):(Wr(this._levels[P].el),this._removeTilesAtZoom(P),this._onRemoveLevel(P),delete this._levels[P]);var R=this._levels[p],U=this._map;return R||(R=this._levels[p]={},R.el=zt("div","leaflet-tile-container leaflet-zoom-animated",this._container),R.el.style.zIndex=w,R.origin=U.project(U.unproject(U.getPixelOrigin()),p).round(),R.zoom=p,this._setZoomTransform(R,U.getCenter(),U.getZoom()),f(R.el.offsetWidth),this._onCreateLevel(R)),this._level=R,R}},_onUpdateLevel:f,_onRemoveLevel:f,_onCreateLevel:f,_pruneTiles:function(){if(this._map){var p,w,P=this._map.getZoom();if(P>this.options.maxZoom||P<this.options.minZoom){this._removeAllTiles();return}for(p in this._tiles)w=this._tiles[p],w.retain=w.current;for(p in this._tiles)if(w=this._tiles[p],w.current&&!w.active){var R=w.coords;this._retainParent(R.x,R.y,R.z,R.z-5)||this._retainChildren(R.x,R.y,R.z,R.z+2)}for(p in this._tiles)this._tiles[p].retain||this._removeTile(p)}},_removeTilesAtZoom:function(p){for(var w in this._tiles)this._tiles[w].coords.z===p&&this._removeTile(w)},_removeAllTiles:function(){for(var p in this._tiles)this._removeTile(p)},_invalidateAll:function(){for(var p in this._levels)Wr(this._levels[p].el),this._onRemoveLevel(Number(p)),delete this._levels[p];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(p,w,P,R){var U=Math.floor(p/2),ae=Math.floor(w/2),be=P-1,Le=new te(+U,+ae);Le.z=+be;var Ue=this._tileCoordsToKey(Le),Ze=this._tiles[Ue];return Ze&&Ze.active?(Ze.retain=!0,!0):(Ze&&Ze.loaded&&(Ze.retain=!0),be>R?this._retainParent(U,ae,be,R):!1)},_retainChildren:function(p,w,P,R){for(var U=2*p;U<2*p+2;U++)for(var ae=2*w;ae<2*w+2;ae++){var be=new te(U,ae);be.z=P+1;var Le=this._tileCoordsToKey(be),Ue=this._tiles[Le];if(Ue&&Ue.active){Ue.retain=!0;continue}else Ue&&Ue.loaded&&(Ue.retain=!0);P+1<R&&this._retainChildren(U,ae,P+1,R)}},_resetView:function(p){var w=p&&(p.pinch||p.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),w,w)},_animateZoom:function(p){this._setView(p.center,p.zoom,!0,p.noUpdate)},_clampZoom:function(p){var w=this.options;return w.minNativeZoom!==void 0&&p<w.minNativeZoom?w.minNativeZoom:w.maxNativeZoom!==void 0&&w.maxNativeZoom<p?w.maxNativeZoom:p},_setView:function(p,w,P,R){var U=Math.round(w);this.options.maxZoom!==void 0&&U>this.options.maxZoom||this.options.minZoom!==void 0&&U<this.options.minZoom?U=void 0:U=this._clampZoom(U);var ae=this.options.updateWhenZooming&&U!==this._tileZoom;(!R||ae)&&(this._tileZoom=U,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),U!==void 0&&this._update(p),P||this._pruneTiles(),this._noPrune=!!P),this._setZoomTransforms(p,w)},_setZoomTransforms:function(p,w){for(var P in this._levels)this._setZoomTransform(this._levels[P],p,w)},_setZoomTransform:function(p,w,P){var R=this._map.getZoomScale(P,p.zoom),U=p.origin.multiplyBy(R).subtract(this._map._getNewPixelOrigin(w,P)).round();St.any3d?js(p.el,U,R):bn(p.el,U)},_resetGrid:function(){var p=this._map,w=p.options.crs,P=this._tileSize=this.getTileSize(),R=this._tileZoom,U=this._map.getPixelWorldBounds(this._tileZoom);U&&(this._globalTileRange=this._pxBoundsToTileRange(U)),this._wrapX=w.wrapLng&&!this.options.noWrap&&[Math.floor(p.project([0,w.wrapLng[0]],R).x/P.x),Math.ceil(p.project([0,w.wrapLng[1]],R).x/P.y)],this._wrapY=w.wrapLat&&!this.options.noWrap&&[Math.floor(p.project([w.wrapLat[0],0],R).y/P.x),Math.ceil(p.project([w.wrapLat[1],0],R).y/P.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(p){var w=this._map,P=w._animatingZoom?Math.max(w._animateToZoom,w.getZoom()):w.getZoom(),R=w.getZoomScale(P,this._tileZoom),U=w.project(p,this._tileZoom).floor(),ae=w.getSize().divideBy(R*2);return new X(U.subtract(ae),U.add(ae))},_update:function(p){var w=this._map;if(w){var P=this._clampZoom(w.getZoom());if(p===void 0&&(p=w.getCenter()),this._tileZoom!==void 0){var R=this._getTiledPixelBounds(p),U=this._pxBoundsToTileRange(R),ae=U.getCenter(),be=[],Le=this.options.keepBuffer,Ue=new X(U.getBottomLeft().subtract([Le,-Le]),U.getTopRight().add([Le,-Le]));if(!(isFinite(U.min.x)&&isFinite(U.min.y)&&isFinite(U.max.x)&&isFinite(U.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ze in this._tiles){var ht=this._tiles[Ze].coords;(ht.z!==this._tileZoom||!Ue.contains(new te(ht.x,ht.y)))&&(this._tiles[Ze].current=!1)}if(Math.abs(P-this._tileZoom)>1){this._setView(p,P);return}for(var Rt=U.min.y;Rt<=U.max.y;Rt++)for(var er=U.min.x;er<=U.max.x;er++){var ai=new te(er,Rt);if(ai.z=this._tileZoom,!!this._isValidTile(ai)){var Kn=this._tiles[this._tileCoordsToKey(ai)];Kn?Kn.current=!0:be.push(ai)}}if(be.sort(function(Vi,xu){return Vi.distanceTo(ae)-xu.distanceTo(ae)}),be.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var cs=document.createDocumentFragment();for(er=0;er<be.length;er++)this._addTile(be[er],cs);this._level.el.appendChild(cs)}}}},_isValidTile:function(p){var w=this._map.options.crs;if(!w.infinite){var P=this._globalTileRange;if(!w.wrapLng&&(p.x<P.min.x||p.x>P.max.x)||!w.wrapLat&&(p.y<P.min.y||p.y>P.max.y))return!1}if(!this.options.bounds)return!0;var R=this._tileCoordsToBounds(p);return Te(this.options.bounds).overlaps(R)},_keyToBounds:function(p){return this._tileCoordsToBounds(this._keyToTileCoords(p))},_tileCoordsToNwSe:function(p){var w=this._map,P=this.getTileSize(),R=p.scaleBy(P),U=R.add(P),ae=w.unproject(R,p.z),be=w.unproject(U,p.z);return[ae,be]},_tileCoordsToBounds:function(p){var w=this._tileCoordsToNwSe(p),P=new je(w[0],w[1]);return this.options.noWrap||(P=this._map.wrapLatLngBounds(P)),P},_tileCoordsToKey:function(p){return p.x+":"+p.y+":"+p.z},_keyToTileCoords:function(p){var w=p.split(":"),P=new te(+w[0],+w[1]);return P.z=+w[2],P},_removeTile:function(p){var w=this._tiles[p];w&&(Wr(w.el),delete this._tiles[p],this.fire("tileunload",{tile:w.el,coords:this._keyToTileCoords(p)}))},_initTile:function(p){qt(p,"leaflet-tile");var w=this.getTileSize();p.style.width=w.x+"px",p.style.height=w.y+"px",p.onselectstart=f,p.onmousemove=f,St.ielt9&&this.options.opacity<1&&si(p,this.options.opacity)},_addTile:function(p,w){var P=this._getTilePos(p),R=this._tileCoordsToKey(p),U=this.createTile(this._wrapCoords(p),o(this._tileReady,this,p));this._initTile(U),this.createTile.length<2&&V(o(this._tileReady,this,p,null,U)),bn(U,P),this._tiles[R]={el:U,coords:p,current:!0},w.appendChild(U),this.fire("tileloadstart",{tile:U,coords:p})},_tileReady:function(p,w,P){w&&this.fire("tileerror",{error:w,tile:P,coords:p});var R=this._tileCoordsToKey(p);P=this._tiles[R],P&&(P.loaded=+new Date,this._map._fadeAnimated?(si(P.el,0),q(this._fadeFrame),this._fadeFrame=V(this._updateOpacity,this)):(P.active=!0,this._pruneTiles()),w||(qt(P.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:P.el,coords:p})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),St.ielt9||!this._map._fadeAnimated?V(this._pruneTiles,this):setTimeout(o(this._pruneTiles,this),250)))},_getTilePos:function(p){return p.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(p){var w=new te(this._wrapX?d(p.x,this._wrapX):p.x,this._wrapY?d(p.y,this._wrapY):p.y);return w.z=p.z,w},_pxBoundsToTileRange:function(p){var w=this.getTileSize();return new X(p.min.unscaleBy(w).floor(),p.max.unscaleBy(w).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var p in this._tiles)if(!this._tiles[p].loaded)return!1;return!0}});function mu(p){return new Qo(p)}var el=Qo.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(p,w){this._url=p,w=x(this,w),w.detectRetina&&St.retina&&w.maxZoom>0?(w.tileSize=Math.floor(w.tileSize/2),w.zoomReverse?(w.zoomOffset--,w.minZoom=Math.min(w.maxZoom,w.minZoom+1)):(w.zoomOffset++,w.maxZoom=Math.max(w.minZoom,w.maxZoom-1)),w.minZoom=Math.max(0,w.minZoom)):w.zoomReverse?w.minZoom=Math.min(w.maxZoom,w.minZoom):w.maxZoom=Math.max(w.minZoom,w.maxZoom),typeof w.subdomains=="string"&&(w.subdomains=w.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(p,w){return this._url===p&&w===void 0&&(w=!0),this._url=p,w||this.redraw(),this},createTile:function(p,w){var P=document.createElement("img");return $t(P,"load",o(this._tileOnLoad,this,w,P)),$t(P,"error",o(this._tileOnError,this,w,P)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(P.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(P.referrerPolicy=this.options.referrerPolicy),P.alt="",P.src=this.getTileUrl(p),P},getTileUrl:function(p){var w={r:St.retina?"@2x":"",s:this._getSubdomain(p),x:p.x,y:p.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var P=this._globalTileRange.max.y-p.y;this.options.tms&&(w.y=P),w["-y"]=P}return C(this._url,i(w,this.options))},_tileOnLoad:function(p,w){St.ielt9?setTimeout(o(p,this,null,w),0):p(null,w)},_tileOnError:function(p,w,P){var R=this.options.errorTileUrl;R&&w.getAttribute("src")!==R&&(w.src=R),p(P,w)},_onTileRemove:function(p){p.tile.onload=null},_getZoomForUrl:function(){var p=this._tileZoom,w=this.options.maxZoom,P=this.options.zoomReverse,R=this.options.zoomOffset;return P&&(p=w-p),p+R},_getSubdomain:function(p){var w=Math.abs(p.x+p.y)%this.options.subdomains.length;return this.options.subdomains[w]},_abortLoading:function(){var p,w;for(p in this._tiles)if(this._tiles[p].coords.z!==this._tileZoom&&(w=this._tiles[p].el,w.onload=f,w.onerror=f,!w.complete)){w.src=E;var P=this._tiles[p].coords;Wr(w),delete this._tiles[p],this.fire("tileabort",{tile:w,coords:P})}},_removeTile:function(p){var w=this._tiles[p];if(w)return w.el.setAttribute("src",E),Qo.prototype._removeTile.call(this,p)},_tileReady:function(p,w,P){if(!(!this._map||P&&P.getAttribute("src")===E))return Qo.prototype._tileReady.call(this,p,w,P)}});function cg(p,w){return new el(p,w)}var Bd=el.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(p,w){this._url=p;var P=i({},this.defaultWmsParams);for(var R in w)R in this.options||(P[R]=w[R]);w=x(this,w);var U=w.detectRetina&&St.retina?2:1,ae=this.getTileSize();P.width=ae.x*U,P.height=ae.y*U,this.wmsParams=P},onAdd:function(p){this._crs=this.options.crs||p.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var w=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[w]=this._crs.code,el.prototype.onAdd.call(this,p)},getTileUrl:function(p){var w=this._tileCoordsToNwSe(p),P=this._crs,R=ce(P.project(w[0]),P.project(w[1])),U=R.min,ae=R.max,be=(this._wmsVersion>=1.3&&this._crs===Dx?[U.y,U.x,ae.y,ae.x]:[U.x,U.y,ae.x,ae.y]).join(","),Le=el.prototype.getTileUrl.call(this,p);return Le+_(this.wmsParams,Le,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+be},setParams:function(p,w){return i(this.wmsParams,p),w||this.redraw(),this}});function Wx(p,w){return new Bd(p,w)}el.WMS=Bd,cg.wms=Wx;var Pa=Qs.extend({options:{padding:.1},initialize:function(p){x(this,p),c(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var p={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(p.zoomanim=this._onAnimZoom),p},_onAnimZoom:function(p){this._updateTransform(p.center,p.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(p,w){var P=this._map.getZoomScale(w,this._zoom),R=this._map.getSize().multiplyBy(.5+this.options.padding),U=this._map.project(this._center,w),ae=R.multiplyBy(-P).add(U).subtract(this._map._getNewPixelOrigin(p,w));St.any3d?js(this._container,ae,P):bn(this._container,ae)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var p in this._layers)this._layers[p]._reset()},_onZoomEnd:function(){for(var p in this._layers)this._layers[p]._project()},_updatePaths:function(){for(var p in this._layers)this._layers[p]._update()},_update:function(){var p=this.options.padding,w=this._map.getSize(),P=this._map.containerPointToLayerPoint(w.multiplyBy(-p)).round();this._bounds=new X(P,P.add(w.multiplyBy(1+p*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ug=Pa.extend({options:{tolerance:0},getEvents:function(){var p=Pa.prototype.getEvents.call(this);return p.viewprereset=this._onViewPreReset,p},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Pa.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var p=this._container=document.createElement("canvas");$t(p,"mousemove",this._onMouseMove,this),$t(p,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$t(p,"mouseout",this._handleMouseOut,this),p._leaflet_disable_events=!0,this._ctx=p.getContext("2d")},_destroyContainer:function(){q(this._redrawRequest),delete this._ctx,Wr(this._container),Mr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var p;this._redrawBounds=null;for(var w in this._layers)p=this._layers[w],p._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pa.prototype._update.call(this);var p=this._bounds,w=this._container,P=p.getSize(),R=St.retina?2:1;bn(w,p.min),w.width=R*P.x,w.height=R*P.y,w.style.width=P.x+"px",w.style.height=P.y+"px",St.retina&&this._ctx.scale(2,2),this._ctx.translate(-p.min.x,-p.min.y),this.fire("update")}},_reset:function(){Pa.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(p){this._updateDashArray(p),this._layers[c(p)]=p;var w=p._order={layer:p,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=w),this._drawLast=w,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(p){this._requestRedraw(p)},_removePath:function(p){var w=p._order,P=w.next,R=w.prev;P?P.prev=R:this._drawLast=R,R?R.next=P:this._drawFirst=P,delete p._order,delete this._layers[c(p)],this._requestRedraw(p)},_updatePath:function(p){this._extendRedrawBounds(p),p._project(),p._update(),this._requestRedraw(p)},_updateStyle:function(p){this._updateDashArray(p),this._requestRedraw(p)},_updateDashArray:function(p){if(typeof p.options.dashArray=="string"){var w=p.options.dashArray.split(/[, ]+/),P=[],R,U;for(U=0;U<w.length;U++){if(R=Number(w[U]),isNaN(R))return;P.push(R)}p.options._dashArray=P}else p.options._dashArray=p.options.dashArray},_requestRedraw:function(p){this._map&&(this._extendRedrawBounds(p),this._redrawRequest=this._redrawRequest||V(this._redraw,this))},_extendRedrawBounds:function(p){if(p._pxBounds){var w=(p.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(p._pxBounds.min.subtract([w,w])),this._redrawBounds.extend(p._pxBounds.max.add([w,w]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var p=this._redrawBounds;if(p){var w=p.getSize();this._ctx.clearRect(p.min.x,p.min.y,w.x,w.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var p,w=this._redrawBounds;if(this._ctx.save(),w){var P=w.getSize();this._ctx.beginPath(),this._ctx.rect(w.min.x,w.min.y,P.x,P.y),this._ctx.clip()}this._drawing=!0;for(var R=this._drawFirst;R;R=R.next)p=R.layer,(!w||p._pxBounds&&p._pxBounds.intersects(w))&&p._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(p,w){if(this._drawing){var P,R,U,ae,be=p._parts,Le=be.length,Ue=this._ctx;if(Le){for(Ue.beginPath(),P=0;P<Le;P++){for(R=0,U=be[P].length;R<U;R++)ae=be[P][R],Ue[R?"lineTo":"moveTo"](ae.x,ae.y);w&&Ue.closePath()}this._fillStroke(Ue,p)}}},_updateCircle:function(p){if(!(!this._drawing||p._empty())){var w=p._point,P=this._ctx,R=Math.max(Math.round(p._radius),1),U=(Math.max(Math.round(p._radiusY),1)||R)/R;U!==1&&(P.save(),P.scale(1,U)),P.beginPath(),P.arc(w.x,w.y/U,R,0,Math.PI*2,!1),U!==1&&P.restore(),this._fillStroke(P,p)}},_fillStroke:function(p,w){var P=w.options;P.fill&&(p.globalAlpha=P.fillOpacity,p.fillStyle=P.fillColor||P.color,p.fill(P.fillRule||"evenodd")),P.stroke&&P.weight!==0&&(p.setLineDash&&p.setLineDash(w.options&&w.options._dashArray||[]),p.globalAlpha=P.opacity,p.lineWidth=P.weight,p.strokeStyle=P.color,p.lineCap=P.lineCap,p.lineJoin=P.lineJoin,p.stroke())},_onClick:function(p){for(var w=this._map.mouseEventToLayerPoint(p),P,R,U=this._drawFirst;U;U=U.next)P=U.layer,P.options.interactive&&P._containsPoint(w)&&(!(p.type==="click"||p.type==="preclick")||!this._map._draggableMoved(P))&&(R=P);this._fireEvent(R?[R]:!1,p)},_onMouseMove:function(p){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var w=this._map.mouseEventToLayerPoint(p);this._handleMouseHover(p,w)}},_handleMouseOut:function(p){var w=this._hoveredLayer;w&&(zr(this._container,"leaflet-interactive"),this._fireEvent([w],p,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(p,w){if(!this._mouseHoverThrottled){for(var P,R,U=this._drawFirst;U;U=U.next)P=U.layer,P.options.interactive&&P._containsPoint(w)&&(R=P);R!==this._hoveredLayer&&(this._handleMouseOut(p),R&&(qt(this._container,"leaflet-interactive"),this._fireEvent([R],p,"mouseover"),this._hoveredLayer=R)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,p),this._mouseHoverThrottled=!0,setTimeout(o(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(p,w,P){this._map._fireDOMEvent(w,P||w.type,p)},_bringToFront:function(p){var w=p._order;if(w){var P=w.next,R=w.prev;if(P)P.prev=R;else return;R?R.next=P:P&&(this._drawFirst=P),w.prev=this._drawLast,this._drawLast.next=w,w.next=null,this._drawLast=w,this._requestRedraw(p)}},_bringToBack:function(p){var w=p._order;if(w){var P=w.next,R=w.prev;if(R)R.next=P;else return;P?P.prev=R:R&&(this._drawLast=R),w.prev=null,w.next=this._drawFirst,this._drawFirst.prev=w,this._drawFirst=w,this._requestRedraw(p)}}});function dg(p){return St.canvas?new ug(p):null}var gu=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(p){return document.createElement("<lvml:"+p+' class="lvml">')}}catch{}return function(p){return document.createElement("<"+p+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hx={_initContainer:function(){this._container=zt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Pa.prototype._update.call(this),this.fire("update"))},_initPath:function(p){var w=p._container=gu("shape");qt(w,"leaflet-vml-shape "+(this.options.className||"")),w.coordsize="1 1",p._path=gu("path"),w.appendChild(p._path),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){var w=p._container;this._container.appendChild(w),p.options.interactive&&p.addInteractiveTarget(w)},_removePath:function(p){var w=p._container;Wr(w),p.removeInteractiveTarget(w),delete this._layers[c(p)]},_updateStyle:function(p){var w=p._stroke,P=p._fill,R=p.options,U=p._container;U.stroked=!!R.stroke,U.filled=!!R.fill,R.stroke?(w||(w=p._stroke=gu("stroke")),U.appendChild(w),w.weight=R.weight+"px",w.color=R.color,w.opacity=R.opacity,R.dashArray?w.dashStyle=N(R.dashArray)?R.dashArray.join(" "):R.dashArray.replace(/( *, *)/g," "):w.dashStyle="",w.endcap=R.lineCap.replace("butt","flat"),w.joinstyle=R.lineJoin):w&&(U.removeChild(w),p._stroke=null),R.fill?(P||(P=p._fill=gu("fill")),U.appendChild(P),P.color=R.fillColor||R.color,P.opacity=R.fillOpacity):P&&(U.removeChild(P),p._fill=null)},_updateCircle:function(p){var w=p._point.round(),P=Math.round(p._radius),R=Math.round(p._radiusY||P);this._setPath(p,p._empty()?"M0 0":"AL "+w.x+","+w.y+" "+P+","+R+" 0,"+65535*360)},_setPath:function(p,w){p._path.v=w},_bringToFront:function(p){Vo(p._container)},_bringToBack:function(p){Zs(p._container)}},ta=St.vml?gu:Je,Ql=Pa.extend({_initContainer:function(){this._container=ta("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=ta("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wr(this._container),Mr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Pa.prototype._update.call(this);var p=this._bounds,w=p.getSize(),P=this._container;(!this._svgSize||!this._svgSize.equals(w))&&(this._svgSize=w,P.setAttribute("width",w.x),P.setAttribute("height",w.y)),bn(P,p.min),P.setAttribute("viewBox",[p.min.x,p.min.y,w.x,w.y].join(" ")),this.fire("update")}},_initPath:function(p){var w=p._path=ta("path");p.options.className&&qt(w,p.options.className),p.options.interactive&&qt(w,"leaflet-interactive"),this._updateStyle(p),this._layers[c(p)]=p},_addPath:function(p){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(p._path),p.addInteractiveTarget(p._path)},_removePath:function(p){Wr(p._path),p.removeInteractiveTarget(p._path),delete this._layers[c(p)]},_updatePath:function(p){p._project(),p._update()},_updateStyle:function(p){var w=p._path,P=p.options;w&&(P.stroke?(w.setAttribute("stroke",P.color),w.setAttribute("stroke-opacity",P.opacity),w.setAttribute("stroke-width",P.weight),w.setAttribute("stroke-linecap",P.lineCap),w.setAttribute("stroke-linejoin",P.lineJoin),P.dashArray?w.setAttribute("stroke-dasharray",P.dashArray):w.removeAttribute("stroke-dasharray"),P.dashOffset?w.setAttribute("stroke-dashoffset",P.dashOffset):w.removeAttribute("stroke-dashoffset")):w.setAttribute("stroke","none"),P.fill?(w.setAttribute("fill",P.fillColor||P.color),w.setAttribute("fill-opacity",P.fillOpacity),w.setAttribute("fill-rule",P.fillRule||"evenodd")):w.setAttribute("fill","none"))},_updatePoly:function(p,w){this._setPath(p,Xe(p._parts,w))},_updateCircle:function(p){var w=p._point,P=Math.max(Math.round(p._radius),1),R=Math.max(Math.round(p._radiusY),1)||P,U="a"+P+","+R+" 0 1,0 ",ae=p._empty()?"M0 0":"M"+(w.x-P)+","+w.y+U+P*2+",0 "+U+-P*2+",0 ";this._setPath(p,ae)},_setPath:function(p,w){p._path.setAttribute("d",w)},_bringToFront:function(p){Vo(p._path)},_bringToBack:function(p){Zs(p._path)}});St.vml&&Ql.include(Hx);function _h(p){return St.svg||St.vml?new Ql(p):null}ir.include({getRenderer:function(p){var w=p.options.renderer||this._getPaneRenderer(p.options.pane)||this.options.renderer||this._renderer;return w||(w=this._renderer=this._createRenderer()),this.hasLayer(w)||this.addLayer(w),w},_getPaneRenderer:function(p){if(p==="overlayPane"||p===void 0)return!1;var w=this._paneRenderers[p];return w===void 0&&(w=this._createRenderer({pane:p}),this._paneRenderers[p]=w),w},_createRenderer:function(p){return this.options.preferCanvas&&dg(p)||_h(p)}});var Kx=lo.extend({initialize:function(p,w){lo.prototype.initialize.call(this,this._boundsToLatLngs(p),w)},setBounds:function(p){return this.setLatLngs(this._boundsToLatLngs(p))},_boundsToLatLngs:function(p){return p=Te(p),[p.getSouthWest(),p.getNorthWest(),p.getNorthEast(),p.getSouthEast()]}});function CS(p,w){return new Kx(p,w)}Ql.create=ta,Ql.pointsToPath=Xe,Na.geometryToLayer=du,Na.coordsToLatLng=gh,Na.coordsToLatLngs=$d,Na.latLngToCoords=vh,Na.latLngsToCoords=yh,Na.getFeature=fu,Na.asFeature=xh,ir.mergeOptions({boxZoom:!0});var vu=it.extend({initialize:function(p){this._map=p,this._container=p._container,this._pane=p._panes.overlayPane,this._resetStateTimeout=0,p.on("unload",this._destroy,this)},addHooks:function(){$t(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Mr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wr(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(p){if(!p.shiftKey||p.which!==1&&p.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),mr(),ql(),this._startPoint=this._map.mouseEventToContainerPoint(p),$t(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(p){this._moved||(this._moved=!0,this._box=zt("div","leaflet-zoom-box",this._container),qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(p);var w=new X(this._point,this._startPoint),P=w.getSize();bn(this._box,w.min),this._box.style.width=P.x+"px",this._box.style.height=P.y+"px"},_finish:function(){this._moved&&(Wr(this._box),zr(this._container,"leaflet-crosshair")),Ko(),su(),Mr(document,{contextmenu:yi,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(p){if(!(p.which!==1&&p.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(o(this._resetState,this),0);var w=new je(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(w).fire("boxzoomend",{boxZoomBounds:w})}},_onKeyDown:function(p){p.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ir.addInitHook("addHandler","boxZoom",vu),ir.mergeOptions({doubleClickZoom:!0});var Gx=it.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(p){var w=this._map,P=w.getZoom(),R=w.options.zoomDelta,U=p.originalEvent.shiftKey?P-R:P+R;w.options.doubleClickZoom==="center"?w.setZoom(U):w.setZoomAround(p.containerPoint,U)}});ir.addInitHook("addHandler","doubleClickZoom",Gx),ir.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var fg=it.extend({addHooks:function(){if(!this._draggable){var p=this._map;this._draggable=new sr(p._mapPane,p._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),p.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),p.on("zoomend",this._onZoomEnd,this),p.whenReady(this._onZoomEnd,this))}qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){zr(this._map._container,"leaflet-grab"),zr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var p=this._map;if(p._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var w=Te(this._map.options.maxBounds);this._offsetLimit=ce(this._map.latLngToContainerPoint(w.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(w.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;p.fire("movestart").fire("dragstart"),p.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(p){if(this._map.options.inertia){var w=this._lastTime=+new Date,P=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(P),this._times.push(w),this._prunePositions(w)}this._map.fire("move",p).fire("drag",p)},_prunePositions:function(p){for(;this._positions.length>1&&p-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var p=this._map.getSize().divideBy(2),w=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=w.subtract(p).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(p,w){return p-(p-w)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var p=this._draggable._newPos.subtract(this._draggable._startPos),w=this._offsetLimit;p.x<w.min.x&&(p.x=this._viscousLimit(p.x,w.min.x)),p.y<w.min.y&&(p.y=this._viscousLimit(p.y,w.min.y)),p.x>w.max.x&&(p.x=this._viscousLimit(p.x,w.max.x)),p.y>w.max.y&&(p.y=this._viscousLimit(p.y,w.max.y)),this._draggable._newPos=this._draggable._startPos.add(p)}},_onPreDragWrap:function(){var p=this._worldWidth,w=Math.round(p/2),P=this._initialWorldOffset,R=this._draggable._newPos.x,U=(R-w+P)%p+w-P,ae=(R+w+P)%p-w-P,be=Math.abs(U+P)<Math.abs(ae+P)?U:ae;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=be},_onDragEnd:function(p){var w=this._map,P=w.options,R=!P.inertia||p.noInertia||this._times.length<2;if(w.fire("dragend",p),R)w.fire("moveend");else{this._prunePositions(+new Date);var U=this._lastPos.subtract(this._positions[0]),ae=(this._lastTime-this._times[0])/1e3,be=P.easeLinearity,Le=U.multiplyBy(be/ae),Ue=Le.distanceTo([0,0]),Ze=Math.min(P.inertiaMaxSpeed,Ue),ht=Le.multiplyBy(Ze/Ue),Rt=Ze/(P.inertiaDeceleration*be),er=ht.multiplyBy(-Rt/2).round();!er.x&&!er.y?w.fire("moveend"):(er=w._limitOffset(er,w.options.maxBounds),V(function(){w.panBy(er,{duration:Rt,easeLinearity:be,noMoveStart:!0,animate:!0})}))}}});ir.addInitHook("addHandler","dragging",fg),ir.mergeOptions({keyboard:!0,keyboardPanDelta:80});var hg=it.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(p){this._map=p,this._setPanDelta(p.options.keyboardPanDelta),this._setZoomDelta(p.options.zoomDelta)},addHooks:function(){var p=this._map._container;p.tabIndex<=0&&(p.tabIndex="0"),$t(p,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Mr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var p=document.body,w=document.documentElement,P=p.scrollTop||w.scrollTop,R=p.scrollLeft||w.scrollLeft;this._map._container.focus(),window.scrollTo(R,P)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(p){var w=this._panKeys={},P=this.keyCodes,R,U;for(R=0,U=P.left.length;R<U;R++)w[P.left[R]]=[-1*p,0];for(R=0,U=P.right.length;R<U;R++)w[P.right[R]]=[p,0];for(R=0,U=P.down.length;R<U;R++)w[P.down[R]]=[0,p];for(R=0,U=P.up.length;R<U;R++)w[P.up[R]]=[0,-1*p]},_setZoomDelta:function(p){var w=this._zoomKeys={},P=this.keyCodes,R,U;for(R=0,U=P.zoomIn.length;R<U;R++)w[P.zoomIn[R]]=p;for(R=0,U=P.zoomOut.length;R<U;R++)w[P.zoomOut[R]]=-p},_addHooks:function(){$t(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Mr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(p){if(!(p.altKey||p.ctrlKey||p.metaKey)){var w=p.keyCode,P=this._map,R;if(w in this._panKeys){if(!P._panAnim||!P._panAnim._inProgress)if(R=this._panKeys[w],p.shiftKey&&(R=se(R).multiplyBy(3)),P.options.maxBounds&&(R=P._limitOffset(se(R),P.options.maxBounds)),P.options.worldCopyJump){var U=P.wrapLatLng(P.unproject(P.project(P.getCenter()).add(R)));P.panTo(U)}else P.panBy(R)}else if(w in this._zoomKeys)P.setZoom(P.getZoom()+(p.shiftKey?3:1)*this._zoomKeys[w]);else if(w===27&&P._popup&&P._popup.options.closeOnEscapeKey)P.closePopup();else return;yi(p)}}});ir.addInitHook("addHandler","keyboard",hg),ir.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Kr=it.extend({addHooks:function(){$t(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Mr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(p){var w=ou(p),P=this._map.options.wheelDebounceTime;this._delta+=w,this._lastMousePos=this._map.mouseEventToContainerPoint(p),this._startTime||(this._startTime=+new Date);var R=Math.max(P-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(o(this._performZoom,this),R),yi(p)},_performZoom:function(){var p=this._map,w=p.getZoom(),P=this._map.options.zoomSnap||0;p._stop();var R=this._delta/(this._map.options.wheelPxPerZoomLevel*4),U=4*Math.log(2/(1+Math.exp(-Math.abs(R))))/Math.LN2,ae=P?Math.ceil(U/P)*P:U,be=p._limitZoom(w+(this._delta>0?ae:-ae))-w;this._delta=0,this._startTime=null,be&&(p.options.scrollWheelZoom==="center"?p.setZoom(w+be):p.setZoomAround(this._lastMousePos,w+be))}});ir.addInitHook("addHandler","scrollWheelZoom",Kr);var pg=600;ir.mergeOptions({tapHold:St.touchNative&&St.safari&&St.mobile,tapTolerance:15});var zd=it.extend({addHooks:function(){$t(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Mr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(p){if(clearTimeout(this._holdTimeout),p.touches.length===1){var w=p.touches[0];this._startPos=this._newPos=new te(w.clientX,w.clientY),this._holdTimeout=setTimeout(o(function(){this._cancel(),this._isTapValid()&&($t(document,"touchend",hn),$t(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",w))},this),pg),$t(document,"touchend touchcancel contextmenu",this._cancel,this),$t(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function p(){Mr(document,"touchend",hn),Mr(document,"touchend touchcancel",p)},_cancel:function(){clearTimeout(this._holdTimeout),Mr(document,"touchend touchcancel contextmenu",this._cancel,this),Mr(document,"touchmove",this._onMove,this)},_onMove:function(p){var w=p.touches[0];this._newPos=new te(w.clientX,w.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(p,w){var P=new MouseEvent(p,{bubbles:!0,cancelable:!0,view:window,screenX:w.screenX,screenY:w.screenY,clientX:w.clientX,clientY:w.clientY});P._simulated=!0,w.target.dispatchEvent(P)}});ir.addInitHook("addHandler","tapHold",zd),ir.mergeOptions({touchZoom:St.touch,bounceAtZoomLimits:!0});var yu=it.extend({addHooks:function(){qt(this._map._container,"leaflet-touch-zoom"),$t(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){zr(this._map._container,"leaflet-touch-zoom"),Mr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(p){var w=this._map;if(!(!p.touches||p.touches.length!==2||w._animatingZoom||this._zooming)){var P=w.mouseEventToContainerPoint(p.touches[0]),R=w.mouseEventToContainerPoint(p.touches[1]);this._centerPoint=w.getSize()._divideBy(2),this._startLatLng=w.containerPointToLatLng(this._centerPoint),w.options.touchZoom!=="center"&&(this._pinchStartLatLng=w.containerPointToLatLng(P.add(R)._divideBy(2))),this._startDist=P.distanceTo(R),this._startZoom=w.getZoom(),this._moved=!1,this._zooming=!0,w._stop(),$t(document,"touchmove",this._onTouchMove,this),$t(document,"touchend touchcancel",this._onTouchEnd,this),hn(p)}},_onTouchMove:function(p){if(!(!p.touches||p.touches.length!==2||!this._zooming)){var w=this._map,P=w.mouseEventToContainerPoint(p.touches[0]),R=w.mouseEventToContainerPoint(p.touches[1]),U=P.distanceTo(R)/this._startDist;if(this._zoom=w.getScaleZoom(U,this._startZoom),!w.options.bounceAtZoomLimits&&(this._zoom<w.getMinZoom()&&U<1||this._zoom>w.getMaxZoom()&&U>1)&&(this._zoom=w._limitZoom(this._zoom)),w.options.touchZoom==="center"){if(this._center=this._startLatLng,U===1)return}else{var ae=P._add(R)._divideBy(2)._subtract(this._centerPoint);if(U===1&&ae.x===0&&ae.y===0)return;this._center=w.unproject(w.project(this._pinchStartLatLng,this._zoom).subtract(ae),this._zoom)}this._moved||(w._moveStart(!0,!1),this._moved=!0),q(this._animRequest);var be=o(w._move,w,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=V(be,this,!0),hn(p)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,q(this._animRequest),Mr(document,"touchmove",this._onTouchMove,this),Mr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ir.addInitHook("addHandler","touchZoom",yu),ir.BoxZoom=vu,ir.DoubleClickZoom=Gx,ir.Drag=fg,ir.Keyboard=hg,ir.ScrollWheelZoom=Kr,ir.TapHold=zd,ir.TouchZoom=yu,r.Bounds=X,r.Browser=St,r.CRS=ue,r.Canvas=ug,r.Circle=ph,r.CircleMarker=hh,r.Class=H,r.Control=xi,r.DivIcon=wh,r.DivOverlay=Ea,r.DomEvent=lu,r.DomUtil=Vl,r.Draggable=sr,r.Evented=K,r.FeatureGroup=ao,r.GeoJSON=Na,r.GridLayer=Qo,r.Handler=it,r.Icon=Jl,r.ImageOverlay=Jo,r.LatLng=qe,r.LatLngBounds=je,r.Layer=Qs,r.LayerGroup=Yo,r.LineUtil=Lx,r.Map=ir,r.Marker=oo,r.Mixin=ct,r.Path=Xo,r.Point=te,r.PolyUtil=Ot,r.Polygon=lo,r.Polyline=ls,r.Popup=bh,r.PosAnimation=cu,r.Projection=xS,r.Rectangle=Kx,r.Renderer=Pa,r.SVG=Ql,r.SVGOverlay=og,r.TileLayer=el,r.Tooltip=pu,r.Transformation=ne,r.Util=F,r.VideoOverlay=ag,r.bind=o,r.bounds=ce,r.canvas=dg,r.circle=Dd,r.circleMarker=Bx,r.control=Ir,r.divIcon=Vx,r.extend=i,r.featureGroup=$x,r.geoJSON=zx,r.geoJson=ea,r.gridLayer=mu,r.icon=Fx,r.imageOverlay=qx,r.latLng=pe,r.latLngBounds=Te,r.layerGroup=Ld,r.map=ja,r.marker=_S,r.point=se,r.polygon=jS,r.polyline=SS,r.popup=hu,r.rectangle=CS,r.setOptions=x,r.stamp=c,r.svg=_h,r.svgOverlay=lg,r.tileLayer=cg,r.tooltip=Fd,r.transformation=J,r.version=n,r.videoOverlay=Ux;var Zx=window.L;r.noConflict=function(){return window.L=Zx,this},window.L=r})}(hv,hv.exports)),hv.exports}var oke=ake();const Ku=Nr(oke);delete Ku.Icon.Default.prototype._getIconUrl;Ku.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const lke=({center:t=[48.8566,2.3522],zoom:e=13,onLocationSelect:r,selectedLocation:n=null,height:i="400px",className:s=""})=>{const o=b.useRef(null),l=b.useRef(null),c=b.useRef(null),[u,d]=b.useState(!1);b.useEffect(()=>{if(!o.current||l.current)return;const g=Ku.map(o.current).setView(t,e);return l.current=g,Ku.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}).addTo(g),g.on("click",v=>{const{lat:y,lng:x}=v.latlng;c.current&&g.removeLayer(c.current),c.current=Ku.marker([y,x],{icon:Ku.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(g),r&&r({latitude:y,longitude:x,timestamp:new Date().toISOString(),source:"map"})}),g.whenReady(()=>{d(!0)}),()=>{l.current&&(l.current.remove(),l.current=null)}},[t,e,r]),b.useEffect(()=>{!l.current||!n||(c.current&&l.current.removeLayer(c.current),c.current=Ku.marker([n.latitude,n.longitude],{icon:Ku.divIcon({className:"custom-marker",html:'<div class="w-6 h-6 bg-primary rounded-full border-2 border-white shadow-lg"></div>',iconSize:[24,24],iconAnchor:[12,12]})}).addTo(l.current),l.current.setView([n.latitude,n.longitude],15))},[n]);const f=(g,v,y=15)=>{l.current&&l.current.setView([g,v],y)};return b.useEffect(()=>{window.centerMapOnLocation,window.centerMapOnLocation=f},[]),a.jsxs("div",{className:`relative ${s}`,children:[a.jsx("div",{ref:o,style:{height:i},className:"w-full rounded-lg overflow-hidden border"}),!u&&a.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-2"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Chargement de la carte..."})]})}),a.jsx("div",{className:"absolute top-2 left-2 bg-white/90 backdrop-blur-sm rounded-lg px-3 py-2 text-xs text-muted-foreground shadow-sm",children:"Cliquez sur la carte pour sélectionner un point"})]})};class cke{constructor(){this.baseUrl="https://nominatim.openstreetmap.org",this.cache=new Map,this.cacheTimeout=5*60*1e3}async searchLocation(e,r={}){const{limit:n=5,countrycodes:i="",bounded:s=0,viewbox:o="",addressdetails:l=1}=r,c=`${e}_${n}_${i}`,u=this.getFromCache(c);if(u)return u;try{const d=new URLSearchParams({q:e,format:"json",limit:n.toString(),addressdetails:l.toString(),bounded:s.toString()});i&&d.append("countrycodes",i),o&&d.append("viewbox",o);const f=await fetch(`${this.baseUrl}/search?${d}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!f.ok)throw new Error(`Erreur HTTP: ${f.status}`);const v=(await f.json()).map(y=>({id:y.place_id,name:y.display_name,latitude:parseFloat(y.lat),longitude:parseFloat(y.lon),type:y.type,importance:y.importance,address:y.address,boundingbox:y.boundingbox}));return this.setCache(c,v),v}catch(d){throw console.error("Erreur géocodage:",d),new Error("Erreur lors de la recherche d'adresse. Veuillez réessayer.")}}async reverseGeocode(e,r,n={}){const{zoom:i=18,addressdetails:s=1,extratags:o=1}=n,l=`reverse_${e}_${r}_${i}`,c=this.getFromCache(l);if(c)return c;try{const u=new URLSearchParams({lat:e.toString(),lon:r.toString(),format:"json",zoom:i.toString(),addressdetails:s.toString(),extratags:o.toString()}),d=await fetch(`${this.baseUrl}/reverse?${u}`,{headers:{Accept:"application/json","User-Agent":"MaxiMarket-LocationPicker/1.0"}});if(!d.ok)throw new Error(`Erreur HTTP: ${d.status}`);const f=await d.json(),g={id:f.place_id,name:f.display_name,latitude:parseFloat(f.lat),longitude:parseFloat(f.lon),type:f.type,address:f.address,boundingbox:f.boundingbox};return this.setCache(l,g),g}catch(u){throw console.error("Erreur géocodage inverse:",u),new Error("Erreur lors de la récupération de l'adresse. Veuillez réessayer.")}}async searchPopularPlaces(e,r={}){const{limit:n=10,countrycodes:i="fr,be,ch,ca"}=r;try{return(await this.searchLocation(e,{limit:n,countrycodes:i})).sort((o,l)=>l.importance-o.importance)}catch(s){return console.error("Erreur recherche lieux populaires:",s),[]}}validateCoordinates(e,r){const n=parseFloat(e),i=parseFloat(r);return!(isNaN(n)||isNaN(i)||n<-90||n>90||i<-180||i>180)}formatAddress(e){if(!e)return"";const r=[];return e.house_number&&r.push(e.house_number),e.road&&r.push(e.road),e.postcode&&r.push(e.postcode),(e.city||e.town||e.village)&&r.push(e.city||e.town||e.village),e.country&&r.push(e.country),r.join(", ")}getFromCache(e){const r=this.cache.get(e);return r?Date.now()-r.timestamp>this.cacheTimeout?(this.cache.delete(e),null):r.data:null}setCache(e,r){this.cache.set(e,{data:r,timestamp:Date.now()})}clearCache(){this.cache.clear()}getCacheStats(){return{size:this.cache.size,keys:Array.from(this.cache.keys())}}}const lb=new cke,uke=({onLocationSelect:t,onClose:e,isOpen:r=!1,defaultLocation:n=null,showMap:i=!0})=>{b.useRef(null);const s=b.useRef(null),[o,l]=b.useState(!1),[c,u]=b.useState(null),[d,f]=b.useState(null),[g,v]=b.useState(n),[y,x]=b.useState(""),[_,S]=b.useState([]),[C,N]=b.useState(!1),[A,E]=b.useState(null),{toast:k}=dn(),O=b.useCallback(async()=>{if(!navigator.geolocation){f("La géolocalisation n'est pas supportée par votre navigateur");return}l(!0),f(null);const F={enableHighAccuracy:!0,timeout:1e4,maximumAge:6e4};try{const H=await new Promise((te,Z)=>{navigator.geolocation.getCurrentPosition(te,Z,F)}),{latitude:Q,longitude:oe}=H.coords,K={latitude:Q,longitude:oe,accuracy:H.coords.accuracy,timestamp:new Date().toISOString(),source:"gps"};E(K),v(K),u(!0),k({title:"Position obtenue !",description:`Précision : ${Math.round(H.coords.accuracy)} mètres`,duration:3e3})}catch(H){console.error("Erreur géolocalisation:",H),H.code===1?f("Permission de géolocalisation refusée. Veuillez autoriser l'accès à votre position dans les paramètres de votre navigateur."):H.code===2?f("Impossible de déterminer votre position. Vérifiez que votre GPS est activé."):H.code===3?f("Délai d'attente dépassé. Vérifiez votre connexion internet."):f("Erreur lors de la géolocalisation. Veuillez réessayer."),u(!1)}finally{l(!1)}},[k]),I=b.useCallback(async F=>{if(!F.trim()){S([]);return}N(!0),f(null);try{const H=await lb.searchLocation(F,{limit:8,countrycodes:"fr,be,ch,ca",addressdetails:1});S(H)}catch(H){console.error("Erreur recherche:",H),f(H.message||"Erreur lors de la recherche. Veuillez réessayer."),S([])}finally{N(!1)}},[]),z=b.useCallback(F=>{const H={latitude:F.latitude,longitude:F.longitude,name:F.name,timestamp:new Date().toISOString(),source:"search"};v(H),x(F.name),S([]),k({title:"Localisation sélectionnée !",description:F.name,duration:3e3})},[k]),W=b.useCallback(async(F,H)=>{try{const Q=await lb.reverseGeocode(F,H),oe={latitude:F,longitude:H,name:Q.name,address:lb.formatAddress(Q.address),timestamp:new Date().toISOString(),source:"map"};v(oe),k({title:"Position sélectionnée !",description:Q.name||`Lat: ${F.toFixed(6)}, Lng: ${H.toFixed(6)}`,duration:3e3})}catch{const oe={latitude:F,longitude:H,timestamp:new Date().toISOString(),source:"map"};v(oe),k({title:"Position sélectionnée !",description:`Lat: ${F.toFixed(6)}, Lng: ${H.toFixed(6)}`,duration:3e3})}},[k]),V=b.useCallback(()=>{g&&t&&(t(g),e())},[g,t,e]),q=b.useCallback(()=>{v(null),x(""),S([]),f(null),e()},[e]);return b.useEffect(()=>{const F=setTimeout(()=>{y.trim()&&I(y)},500);return()=>clearTimeout(F)},[y,I]),b.useEffect(()=>{r&&!n&&!A&&O()},[r,n,A,O]),c===!1?a.jsx(Ei,{children:r&&a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(ze.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg p-6 max-w-md mx-4 text-center",children:[a.jsx(Un,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Accès à la localisation refusé"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:d||"Pour utiliser la géolocalisation, vous devez autoriser l'accès à votre position dans les paramètres de votre navigateur."}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(me,{variant:"outline",onClick:q,children:"Fermer"}),a.jsx(me,{onClick:O,children:"Réessayer"})]})]})})}):a.jsx(Ei,{children:r&&a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(ze.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(vl,{className:"h-5 w-5 mr-2"}),"Sélectionner une localisation"]}),a.jsx(me,{variant:"ghost",size:"icon",onClick:q,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ws,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{ref:s,placeholder:"Rechercher une adresse, ville, lieu...",value:y,onChange:F=>x(F.target.value),className:"pl-10 pr-4"}),C&&a.jsx(Qr,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 animate-spin text-muted-foreground"})]}),_.length>0&&a.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:_.map(F=>a.jsxs(ze.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex items-center space-x-3 p-3 border rounded-lg hover:bg-muted/50 cursor-pointer transition-colors",onClick:()=>z(F),children:[a.jsx(vl,{className:"h-4 w-4 text-primary"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-sm",children:F.name}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[F.type," • ",lb.formatAddress(F.address)]})]})]},F.id))}),i&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h4",{className:"font-medium",children:"Carte interactive"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(me,{variant:"outline",size:"sm",onClick:O,disabled:o,className:"flex items-center",children:[a.jsx(Ehe,{className:"h-4 w-4 mr-2"}),"Ma position"]}),a.jsxs(me,{variant:"outline",size:"sm",onClick:()=>{g&&window.centerMapOnLocation&&window.centerMapOnLocation(g.latitude,g.longitude)},disabled:!g,className:"flex items-center",children:[a.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Centrer"]})]})]}),a.jsx(lke,{center:A?[A.latitude,A.longitude]:[48.8566,2.3522],zoom:13,onLocationSelect:W,selectedLocation:g,height:"400px",className:"w-full"})]}),g&&a.jsx(ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-primary/10 border border-primary/20 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx(Fi,{className:"h-5 w-5 text-primary mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-primary mb-2",children:"Localisation sélectionnée"}),a.jsxs("div",{className:"space-y-1 text-sm",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"Latitude :"})," ",g.latitude.toFixed(6)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Longitude :"})," ",g.longitude.toFixed(6)]}),g.name&&a.jsxs("p",{children:[a.jsx("strong",{children:"Nom :"})," ",g.name]}),g.address&&a.jsxs("p",{children:[a.jsx("strong",{children:"Adresse :"})," ",g.address]}),g.accuracy&&a.jsxs("p",{children:[a.jsx("strong",{children:"Précision :"})," ",Math.round(g.accuracy)," mètres"]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Source :"})," ",g.source]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Heure :"})," ",new Date(g.timestamp).toLocaleTimeString()]})]})]})]})}),d&&a.jsx(ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Un,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:d})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:g?a.jsxs("span",{className:"flex items-center",children:[a.jsx(Fi,{className:"h-4 w-4 mr-2 text-green-500"}),"Localisation prête à être envoyée"]}):"Aucune localisation sélectionnée"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(me,{variant:"outline",onClick:q,children:"Annuler"}),a.jsxs(me,{onClick:V,disabled:!g,className:"bg-primary hover:bg-primary/90",children:[a.jsx(vl,{className:"h-4 w-4 mr-2"}),"Utiliser cette localisation"]})]})]})]})})})},dke=({onAppointmentCreate:t,onClose:e,isOpen:r=!1,existingAppointments:n=[],availableSlots:i=[],timezone:s="Europe/Paris"})=>{const[o,l]=b.useState(""),[c,u]=b.useState(""),[d,f]=b.useState(60),[g,v]=b.useState(""),[y,x]=b.useState(""),[_,S]=b.useState(""),[C,N]=b.useState(1),[A,E]=b.useState(!1),[k,O]=b.useState(null),{toast:I}=dn(),z=b.useCallback(()=>{const F=[],H=new Date;for(let Q=0;Q<30;Q++){const oe=new Date(H);oe.setDate(H.getDate()+Q);const K=oe.getDay();K!==0&&K!==6&&F.push({date:oe.toISOString().split("T")[0],label:oe.toLocaleDateString("fr-FR",{weekday:"short",day:"numeric",month:"short"}),isToday:Q===0})}return F},[]),W=b.useCallback(async()=>{if(!o||!c||!g.trim()){O("Veuillez remplir tous les champs obligatoires");return}E(!0),O(null);try{const F={id:Date.now().toString(),date:o,time:c,duration:d,title:g.trim(),description:y.trim(),location:_.trim(),timezone:s,createdAt:new Date().toISOString(),status:"confirmed"};await new Promise(H=>setTimeout(H,1e3)),t&&t(F),I({title:"Rendez-vous créé !",description:`Le rendez-vous "${g}" a été planifié avec succès.`,duration:5e3}),e()}catch{O("Erreur lors de la création du rendez-vous. Veuillez réessayer.")}finally{E(!1)}},[o,c,d,g,y,_,s,t,e,I]),V=b.useCallback(()=>{l(""),u(""),f(60),v(""),x(""),S(""),O(null),N(1),e()},[e]),q=z();return a.jsx(Ei,{children:r&&a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm",children:a.jsxs(ze.div,{initial:{y:20},animate:{y:0},className:"bg-card border border-border rounded-lg overflow-hidden max-w-4xl w-full mx-4 max-h-[90vh]",children:[a.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-border",children:[a.jsxs("h3",{className:"text-lg font-semibold flex items-center",children:[a.jsx(Hc,{className:"h-5 w-5 mr-2"}),"Planifier un rendez-vous"]}),a.jsx(me,{variant:"ghost",size:"icon",onClick:V,className:"hover:bg-destructive hover:text-destructive-foreground",children:a.jsx(Ws,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"p-4 space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Sélectionnez une date et une heure"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Date"}),a.jsx("div",{className:"grid grid-cols-5 gap-2",children:q.map(F=>a.jsx(me,{variant:o===F.date?"default":"outline",size:"sm",onClick:()=>l(F.date),className:`h-12 ${F.isToday?"ring-2 ring-primary":""}`,children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-xs text-muted-foreground",children:F.label.split(" ")[0]}),a.jsx("div",{className:"font-medium",children:F.label.split(" ")[1]})]})},F.date))})]}),o&&a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Heure"}),a.jsx("div",{className:"grid grid-cols-4 gap-2",children:["09:00","10:00","11:00","14:00","15:00","16:00","17:00"].map(F=>a.jsx(me,{variant:c===F?"default":"outline",size:"sm",onClick:()=>u(F),className:"h-10",children:F},F))})]}),o&&c&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"font-medium",children:"Détails du rendez-vous"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Titre *"}),a.jsx(dt,{placeholder:"Titre du rendez-vous",value:g,onChange:F=>v(F.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx(gd,{placeholder:"Description du rendez-vous...",value:y,onChange:F=>x(F.target.value),rows:3})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lieu"}),a.jsx(dt,{placeholder:"Adresse ou lieu",value:_,onChange:F=>S(F.target.value)})]})]}),k&&a.jsx("div",{className:"bg-destructive/10 border border-destructive/20 rounded-lg p-3",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Un,{className:"h-5 w-5 text-destructive mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-destructive mb-2",children:"Erreur"}),a.jsx("p",{className:"text-sm text-destructive",children:k})]})]})})]}),a.jsxs("div",{className:"flex items-center justify-between p-4 border-t border-border bg-muted/30",children:[a.jsx("div",{className:"text-sm text-muted-foreground",children:"Rendez-vous"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(me,{variant:"outline",onClick:V,children:"Annuler"}),a.jsx(me,{onClick:W,disabled:A||!o||!c||!g.trim(),className:"bg-primary hover:bg-primary/90",children:A?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"h-4 w-4 mr-2 animate-spin"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Créer le rendez-vous"]})})]})]})]})})})},El=Object.create(null);El.open="0";El.close="1";El.ping="2";El.pong="3";El.message="4";El.upgrade="5";El.noop="6";const Ub=Object.create(null);Object.keys(El).forEach(t=>{Ub[El[t]]=t});const MT={type:"error",data:"parser error"},Pee=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",kee=typeof ArrayBuffer=="function",Aee=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,MI=({type:t,data:e},r,n)=>Pee&&e instanceof Blob?r?n(e):uB(e,n):kee&&(e instanceof ArrayBuffer||Aee(e))?r?n(e):uB(new Blob([e]),n):n(El[t]+(e||"")),uB=(t,e)=>{const r=new FileReader;return r.onload=function(){const n=r.result.split(",")[1];e("b"+(n||""))},r.readAsDataURL(t)};function dB(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let vN;function fke(t,e){if(Pee&&t.data instanceof Blob)return t.data.arrayBuffer().then(dB).then(e);if(kee&&(t.data instanceof ArrayBuffer||Aee(t.data)))return e(dB(t.data));MI(t,!1,r=>{vN||(vN=new TextEncoder),e(vN.encode(r))})}const fB="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",pv=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<fB.length;t++)pv[fB.charCodeAt(t)]=t;const hke=t=>{let e=t.length*.75,r=t.length,n,i=0,s,o,l,c;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const u=new ArrayBuffer(e),d=new Uint8Array(u);for(n=0;n<r;n+=4)s=pv[t.charCodeAt(n)],o=pv[t.charCodeAt(n+1)],l=pv[t.charCodeAt(n+2)],c=pv[t.charCodeAt(n+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|l>>2,d[i++]=(l&3)<<6|c&63;return u},pke=typeof ArrayBuffer=="function",II=(t,e)=>{if(typeof t!="string")return{type:"message",data:Tee(t,e)};const r=t.charAt(0);return r==="b"?{type:"message",data:mke(t.substring(1),e)}:Ub[r]?t.length>1?{type:Ub[r],data:t.substring(1)}:{type:Ub[r]}:MT},mke=(t,e)=>{if(pke){const r=hke(t);return Tee(r,e)}else return{base64:!0,data:t}},Tee=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},Oee="",gke=(t,e)=>{const r=t.length,n=new Array(r);let i=0;t.forEach((s,o)=>{MI(s,!1,l=>{n[o]=l,++i===r&&e(n.join(Oee))})})},vke=(t,e)=>{const r=t.split(Oee),n=[];for(let i=0;i<r.length;i++){const s=II(r[i],e);if(n.push(s),s.type==="error")break}return n};function yke(){return new TransformStream({transform(t,e){fke(t,r=>{const n=r.length;let i;if(n<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,n);else if(n<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,n)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(n))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(r)})}})}let yN;function cb(t){return t.reduce((e,r)=>e+r.length,0)}function ub(t,e){if(t[0].length===e)return t.shift();const r=new Uint8Array(e);let n=0;for(let i=0;i<e;i++)r[i]=t[0][n++],n===t[0].length&&(t.shift(),n=0);return t.length&&n<t[0].length&&(t[0]=t[0].slice(n)),r}function xke(t,e){yN||(yN=new TextDecoder);const r=[];let n=0,i=-1,s=!1;return new TransformStream({transform(o,l){for(r.push(o);;){if(n===0){if(cb(r)<1)break;const c=ub(r,1);s=(c[0]&128)===128,i=c[0]&127,i<126?n=3:i===126?n=1:n=2}else if(n===1){if(cb(r)<2)break;const c=ub(r,2);i=new DataView(c.buffer,c.byteOffset,c.length).getUint16(0),n=3}else if(n===2){if(cb(r)<8)break;const c=ub(r,8),u=new DataView(c.buffer,c.byteOffset,c.length),d=u.getUint32(0);if(d>Math.pow(2,21)-1){l.enqueue(MT);break}i=d*Math.pow(2,32)+u.getUint32(4),n=3}else{if(cb(r)<i)break;const c=ub(r,i);l.enqueue(II(s?c:yN.decode(c),e)),n=0}if(i===0||i>t){l.enqueue(MT);break}}}})}const Ree=4;function ti(t){if(t)return bke(t)}function bke(t){for(var e in ti.prototype)t[e]=ti.prototype[e];return t}ti.prototype.on=ti.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};ti.prototype.once=function(t,e){function r(){this.off(t,r),e.apply(this,arguments)}return r.fn=e,this.on(t,r),this};ti.prototype.off=ti.prototype.removeListener=ti.prototype.removeAllListeners=ti.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var r=this._callbacks["$"+t];if(!r)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var n,i=0;i<r.length;i++)if(n=r[i],n===e||n.fn===e){r.splice(i,1);break}return r.length===0&&delete this._callbacks["$"+t],this};ti.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),r=this._callbacks["$"+t],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(r){r=r.slice(0);for(var n=0,i=r.length;n<i;++n)r[n].apply(this,e)}return this};ti.prototype.emitReserved=ti.prototype.emit;ti.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};ti.prototype.hasListeners=function(t){return!!this.listeners(t).length};const $1=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,r)=>r(e,0),Ua=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),wke="arraybuffer";function Mee(t,...e){return e.reduce((r,n)=>(t.hasOwnProperty(n)&&(r[n]=t[n]),r),{})}const _ke=Ua.setTimeout,Ske=Ua.clearTimeout;function F1(t,e){e.useNativeTimers?(t.setTimeoutFn=_ke.bind(Ua),t.clearTimeoutFn=Ske.bind(Ua)):(t.setTimeoutFn=Ua.setTimeout.bind(Ua),t.clearTimeoutFn=Ua.clearTimeout.bind(Ua))}const jke=1.33;function Cke(t){return typeof t=="string"?Nke(t):Math.ceil((t.byteLength||t.size)*jke)}function Nke(t){let e=0,r=0;for(let n=0,i=t.length;n<i;n++)e=t.charCodeAt(n),e<128?r+=1:e<2048?r+=2:e<55296||e>=57344?r+=3:(n++,r+=4);return r}function Iee(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function Eke(t){let e="";for(let r in t)t.hasOwnProperty(r)&&(e.length&&(e+="&"),e+=encodeURIComponent(r)+"="+encodeURIComponent(t[r]));return e}function Pke(t){let e={},r=t.split("&");for(let n=0,i=r.length;n<i;n++){let s=r[n].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class kke extends Error{constructor(e,r,n){super(e),this.description=r,this.context=n,this.type="TransportError"}}class LI extends ti{constructor(e){super(),this.writable=!1,F1(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,r,n){return super.emitReserved("error",new kke(e,r,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const r=II(e,this.socket.binaryType);this.onPacket(r)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,r={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(r)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const r=Eke(e);return r.length?"?"+r:""}}class Ake extends LI{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const r=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let n=0;this._polling&&(n++,this.once("pollComplete",function(){--n||r()})),this.writable||(n++,this.once("drain",function(){--n||r()}))}else r()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const r=n=>{if(this.readyState==="opening"&&n.type==="open"&&this.onOpen(),n.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(n)};vke(e,this.socket.binaryType).forEach(r),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,gke(e,r=>{this.doWrite(r,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",r=this.query||{};return this.opts.timestampRequests!==!1&&(r[this.opts.timestampParam]=Iee()),!this.supportsBinary&&!r.sid&&(r.b64=1),this.createUri(e,r)}}let Lee=!1;try{Lee=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const Tke=Lee;function Oke(){}class Rke extends Ake{constructor(e){if(super(e),typeof location<"u"){const r=location.protocol==="https:";let n=location.port;n||(n=r?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||n!==e.port}}doWrite(e,r){const n=this.request({method:"POST",data:e});n.on("success",r),n.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(r,n)=>{this.onError("xhr poll error",r,n)}),this.pollXhr=e}}let Ap=class Vb extends ti{constructor(e,r,n){super(),this.createRequest=e,F1(this,n),this._opts=n,this._method=n.method||"GET",this._uri=r,this._data=n.data!==void 0?n.data:null,this._create()}_create(){var e;const r=Mee(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");r.xdomain=!!this._opts.xd;const n=this._xhr=this.createRequest(r);try{n.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{n.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(n.timeout=this._opts.requestTimeout),n.onreadystatechange=()=>{var i;n.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(n.getResponseHeader("set-cookie"))),n.readyState===4&&(n.status===200||n.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof n.status=="number"?n.status:0)},0))},n.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Vb.requestsCount++,Vb.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=Oke,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Vb.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};Ap.requestsCount=0;Ap.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",hB);else if(typeof addEventListener=="function"){const t="onpagehide"in Ua?"pagehide":"unload";addEventListener(t,hB,!1)}}function hB(){for(let t in Ap.requests)Ap.requests.hasOwnProperty(t)&&Ap.requests[t].abort()}const Mke=function(){const t=Dee({xdomain:!1});return t&&t.responseType!==null}();class Ike extends Rke{constructor(e){super(e);const r=e&&e.forceBase64;this.supportsBinary=Mke&&!r}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new Ap(Dee,this.uri(),e)}}function Dee(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||Tke))return new XMLHttpRequest}catch{}if(!e)try{return new Ua[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const $ee=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class Lke extends LI{get name(){return"websocket"}doOpen(){const e=this.uri(),r=this.opts.protocols,n=$ee?{}:Mee(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,r,n)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;MI(n,this.supportsBinary,s=>{try{this.doWrite(n,s)}catch{}i&&$1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",r=this.query||{};return this.opts.timestampRequests&&(r[this.opts.timestampParam]=Iee()),this.supportsBinary||(r.b64=1),this.createUri(e,r)}}const xN=Ua.WebSocket||Ua.MozWebSocket;class Dke extends Lke{createSocket(e,r,n){return $ee?new xN(e,r,n):r?new xN(e,r):new xN(e)}doWrite(e,r){this.ws.send(r)}}class $ke extends LI{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const r=xke(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(r).getReader(),i=yke();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{n.read().then(({done:l,value:c})=>{l||(this.onPacket(c),s())}).catch(l=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let r=0;r<e.length;r++){const n=e[r],i=r===e.length-1;this._writer.write(n).then(()=>{i&&$1(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const Fke={websocket:Dke,webtransport:$ke,polling:Ike},Bke=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,zke=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function IT(t){if(t.length>8e3)throw"URI too long";const e=t,r=t.indexOf("["),n=t.indexOf("]");r!=-1&&n!=-1&&(t=t.substring(0,r)+t.substring(r,n).replace(/:/g,";")+t.substring(n,t.length));let i=Bke.exec(t||""),s={},o=14;for(;o--;)s[zke[o]]=i[o]||"";return r!=-1&&n!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=qke(s,s.path),s.queryKey=Uke(s,s.query),s}function qke(t,e){const r=/\/{2,9}/g,n=e.replace(r,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&n.splice(0,1),e.slice(-1)=="/"&&n.splice(n.length-1,1),n}function Uke(t,e){const r={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(n,i,s){i&&(r[i]=s)}),r}const LT=typeof addEventListener=="function"&&typeof removeEventListener=="function",Wb=[];LT&&addEventListener("offline",()=>{Wb.forEach(t=>t())},!1);class ld extends ti{constructor(e,r){if(super(),this.binaryType=wke,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(r=e,e=null),e){const n=IT(e);r.hostname=n.host,r.secure=n.protocol==="https"||n.protocol==="wss",r.port=n.port,n.query&&(r.query=n.query)}else r.host&&(r.hostname=IT(r.host).host);F1(this,r),this.secure=r.secure!=null?r.secure:typeof location<"u"&&location.protocol==="https:",r.hostname&&!r.port&&(r.port=this.secure?"443":"80"),this.hostname=r.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=r.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},r.transports.forEach(n=>{const i=n.prototype.name;this.transports.push(i),this._transportsByName[i]=n}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},r),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=Pke(this.opts.query)),LT&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Wb.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const r=Object.assign({},this.opts.query);r.EIO=Ree,r.transport=e,this.id&&(r.sid=this.id);const n=Object.assign({},this.opts,{query:r,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&ld.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const r=this.createTransport(e);r.open(),this.setTransport(r)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",r=>this._onClose("transport close",r))}onOpen(){this.readyState="open",ld.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const r=new Error("server error");r.code=e.data,this._onError(r);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let r=1;for(let n=0;n<this.writeBuffer.length;n++){const i=this.writeBuffer[n].data;if(i&&(r+=Cke(i)),n>0&&r>this._maxPayload)return this.writeBuffer.slice(0,n);r+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,$1(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,r,n){return this._sendPacket("message",e,r,n),this}send(e,r,n){return this._sendPacket("message",e,r,n),this}_sendPacket(e,r,n,i){if(typeof r=="function"&&(i=r,r=void 0),typeof n=="function"&&(i=n,n=null),this.readyState==="closing"||this.readyState==="closed")return;n=n||{},n.compress=n.compress!==!1;const s={type:e,data:r,options:n};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},r=()=>{this.off("upgrade",r),this.off("upgradeError",r),e()},n=()=>{this.once("upgrade",r),this.once("upgradeError",r)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?n():e()}):this.upgrading?n():e()),this}_onError(e){if(ld.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,r){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),LT&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const n=Wb.indexOf(this._offlineEventListener);n!==-1&&Wb.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,r),this.writeBuffer=[],this._prevBufferLen=0}}}ld.protocol=Ree;class Vke extends ld{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let r=this.createTransport(e),n=!1;ld.priorWebsocketSuccess=!1;const i=()=>{n||(r.send([{type:"ping",data:"probe"}]),r.once("packet",f=>{if(!n)if(f.type==="pong"&&f.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",r),!r)return;ld.priorWebsocketSuccess=r.name==="websocket",this.transport.pause(()=>{n||this.readyState!=="closed"&&(d(),this.setTransport(r),r.send([{type:"upgrade"}]),this.emitReserved("upgrade",r),r=null,this.upgrading=!1,this.flush())})}else{const g=new Error("probe error");g.transport=r.name,this.emitReserved("upgradeError",g)}}))};function s(){n||(n=!0,d(),r.close(),r=null)}const o=f=>{const g=new Error("probe error: "+f);g.transport=r.name,s(),this.emitReserved("upgradeError",g)};function l(){o("transport closed")}function c(){o("socket closed")}function u(f){r&&f.name!==r.name&&s()}const d=()=>{r.removeListener("open",i),r.removeListener("error",o),r.removeListener("close",l),this.off("close",c),this.off("upgrading",u)};r.once("open",i),r.once("error",o),r.once("close",l),this.once("close",c),this.once("upgrading",u),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{n||r.open()},200):r.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const r=[];for(let n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&r.push(e[n]);return r}}let Wke=class extends Vke{constructor(e,r={}){const n=typeof e=="object"?e:r;(!n.transports||n.transports&&typeof n.transports[0]=="string")&&(n.transports=(n.transports||["polling","websocket","webtransport"]).map(i=>Fke[i]).filter(i=>!!i)),super(e,n)}};function Hke(t,e="",r){let n=t;r=r||typeof location<"u"&&location,t==null&&(t=r.protocol+"//"+r.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=r.protocol+t:t=r.host+t),/^(https?|wss?):\/\//.test(t)||(typeof r<"u"?t=r.protocol+"//"+t:t="https://"+t),n=IT(t)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=n.host.indexOf(":")!==-1?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+e,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}const Kke=typeof ArrayBuffer=="function",Gke=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,Fee=Object.prototype.toString,Zke=typeof Blob=="function"||typeof Blob<"u"&&Fee.call(Blob)==="[object BlobConstructor]",Yke=typeof File=="function"||typeof File<"u"&&Fee.call(File)==="[object FileConstructor]";function DI(t){return Kke&&(t instanceof ArrayBuffer||Gke(t))||Zke&&t instanceof Blob||Yke&&t instanceof File}function Hb(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(Hb(t[r]))return!0;return!1}if(DI(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Hb(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&Hb(t[r]))return!0;return!1}function Xke(t){const e=[],r=t.data,n=t;return n.data=DT(r,e),n.attachments=e.length,{packet:n,buffers:e}}function DT(t,e){if(!t)return t;if(DI(t)){const r={_placeholder:!0,num:e.length};return e.push(t),r}else if(Array.isArray(t)){const r=new Array(t.length);for(let n=0;n<t.length;n++)r[n]=DT(t[n],e);return r}else if(typeof t=="object"&&!(t instanceof Date)){const r={};for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=DT(t[n],e));return r}return t}function Jke(t,e){return t.data=$T(t.data,e),delete t.attachments,t}function $T(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let r=0;r<t.length;r++)t[r]=$T(t[r],e);else if(typeof t=="object")for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(t[r]=$T(t[r],e));return t}const Qke=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],eAe=5;var yr;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(yr||(yr={}));class tAe{constructor(e){this.replacer=e}encode(e){return(e.type===yr.EVENT||e.type===yr.ACK)&&Hb(e)?this.encodeAsBinary({type:e.type===yr.EVENT?yr.BINARY_EVENT:yr.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let r=""+e.type;return(e.type===yr.BINARY_EVENT||e.type===yr.BINARY_ACK)&&(r+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(r+=e.nsp+","),e.id!=null&&(r+=e.id),e.data!=null&&(r+=JSON.stringify(e.data,this.replacer)),r}encodeAsBinary(e){const r=Xke(e),n=this.encodeAsString(r.packet),i=r.buffers;return i.unshift(n),i}}function pB(t){return Object.prototype.toString.call(t)==="[object Object]"}class $I extends ti{constructor(e){super(),this.reviver=e}add(e){let r;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");r=this.decodeString(e);const n=r.type===yr.BINARY_EVENT;n||r.type===yr.BINARY_ACK?(r.type=n?yr.EVENT:yr.ACK,this.reconstructor=new rAe(r),r.attachments===0&&super.emitReserved("decoded",r)):super.emitReserved("decoded",r)}else if(DI(e)||e.base64)if(this.reconstructor)r=this.reconstructor.takeBinaryData(e),r&&(this.reconstructor=null,super.emitReserved("decoded",r));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let r=0;const n={type:Number(e.charAt(0))};if(yr[n.type]===void 0)throw new Error("unknown packet type "+n.type);if(n.type===yr.BINARY_EVENT||n.type===yr.BINARY_ACK){const s=r+1;for(;e.charAt(++r)!=="-"&&r!=e.length;);const o=e.substring(s,r);if(o!=Number(o)||e.charAt(r)!=="-")throw new Error("Illegal attachments");n.attachments=Number(o)}if(e.charAt(r+1)==="/"){const s=r+1;for(;++r&&!(e.charAt(r)===","||r===e.length););n.nsp=e.substring(s,r)}else n.nsp="/";const i=e.charAt(r+1);if(i!==""&&Number(i)==i){const s=r+1;for(;++r;){const o=e.charAt(r);if(o==null||Number(o)!=o){--r;break}if(r===e.length)break}n.id=Number(e.substring(s,r+1))}if(e.charAt(++r)){const s=this.tryParse(e.substr(r));if($I.isPayloadValid(n.type,s))n.data=s;else throw new Error("invalid payload")}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,r){switch(e){case yr.CONNECT:return pB(r);case yr.DISCONNECT:return r===void 0;case yr.CONNECT_ERROR:return typeof r=="string"||pB(r);case yr.EVENT:case yr.BINARY_EVENT:return Array.isArray(r)&&(typeof r[0]=="number"||typeof r[0]=="string"&&Qke.indexOf(r[0])===-1);case yr.ACK:case yr.BINARY_ACK:return Array.isArray(r)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class rAe{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const r=Jke(this.reconPack,this.buffers);return this.finishedReconstruction(),r}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const nAe=Object.freeze(Object.defineProperty({__proto__:null,Decoder:$I,Encoder:tAe,get PacketType(){return yr},protocol:eAe},Symbol.toStringTag,{value:"Module"}));function wo(t,e,r){return t.on(e,r),function(){t.off(e,r)}}const iAe=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Bee extends ti{constructor(e,r,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=r,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[wo(e,"open",this.onopen.bind(this)),wo(e,"packet",this.onpacket.bind(this)),wo(e,"error",this.onerror.bind(this)),wo(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...r){var n,i,s;if(iAe.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(r.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(r),this;const o={type:yr.EVENT,data:r};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof r[r.length-1]=="function"){const d=this.ids++,f=r.pop();this._registerAckCallback(d,f),o.id=d}const l=(i=(n=this.io.engine)===null||n===void 0?void 0:n.transport)===null||i===void 0?void 0:i.writable,c=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!l||(c?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,r){var n;const i=(n=this.flags.timeout)!==null&&n!==void 0?n:this._opts.ackTimeout;if(i===void 0){this.acks[e]=r;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let l=0;l<this.sendBuffer.length;l++)this.sendBuffer[l].id===e&&this.sendBuffer.splice(l,1);r.call(this,new Error("operation has timed out"))},i),o=(...l)=>{this.io.clearTimeoutFn(s),r.apply(this,l)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...r){return new Promise((n,i)=>{const s=(o,l)=>o?i(o):n(l);s.withError=!0,r.push(s),this.emit(e,...r)})}_addToQueue(e){let r;typeof e[e.length-1]=="function"&&(r=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>n!==this._queue[0]?void 0:(i!==null?n.tryCount>this._opts.retries&&(this._queue.shift(),r&&r(i)):(this._queue.shift(),r&&r(null,...s)),n.pending=!1,this._drainQueue())),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const r=this._queue[0];r.pending&&!e||(r.pending=!0,r.tryCount++,this.flags=r.flags,this.emit.apply(this,r.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:yr.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,r){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,r),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(n=>String(n.id)===e)){const n=this.acks[e];delete this.acks[e],n.withError&&n.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case yr.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case yr.EVENT:case yr.BINARY_EVENT:this.onevent(e);break;case yr.ACK:case yr.BINARY_ACK:this.onack(e);break;case yr.DISCONNECT:this.ondisconnect();break;case yr.CONNECT_ERROR:this.destroy();const n=new Error(e.data.message);n.data=e.data.data,this.emitReserved("connect_error",n);break}}onevent(e){const r=e.data||[];e.id!=null&&r.push(this.ack(e.id)),this.connected?this.emitEvent(r):this.receiveBuffer.push(Object.freeze(r))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const r=this._anyListeners.slice();for(const n of r)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const r=this;let n=!1;return function(...i){n||(n=!0,r.packet({type:yr.ACK,id:e,data:i}))}}onack(e){const r=this.acks[e.id];typeof r=="function"&&(delete this.acks[e.id],r.withError&&e.data.unshift(null),r.apply(this,e.data))}onconnect(e,r){this.id=e,this.recovered=r&&this._pid===r,this._pid=r,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:yr.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const r=this._anyListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const r=this._anyOutgoingListeners;for(let n=0;n<r.length;n++)if(e===r[n])return r.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const r=this._anyOutgoingListeners.slice();for(const n of r)n.apply(this,e.data)}}}function Vm(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}Vm.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),r=Math.floor(e*this.jitter*t);t=(Math.floor(e*10)&1)==0?t-r:t+r}return Math.min(t,this.max)|0};Vm.prototype.reset=function(){this.attempts=0};Vm.prototype.setMin=function(t){this.ms=t};Vm.prototype.setMax=function(t){this.max=t};Vm.prototype.setJitter=function(t){this.jitter=t};class FT extends ti{constructor(e,r){var n;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(r=e,e=void 0),r=r||{},r.path=r.path||"/socket.io",this.opts=r,F1(this,r),this.reconnection(r.reconnection!==!1),this.reconnectionAttempts(r.reconnectionAttempts||1/0),this.reconnectionDelay(r.reconnectionDelay||1e3),this.reconnectionDelayMax(r.reconnectionDelayMax||5e3),this.randomizationFactor((n=r.randomizationFactor)!==null&&n!==void 0?n:.5),this.backoff=new Vm({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(r.timeout==null?2e4:r.timeout),this._readyState="closed",this.uri=e;const i=r.parser||nAe;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=r.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var r;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(r=this.backoff)===null||r===void 0||r.setMin(e),this)}randomizationFactor(e){var r;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(r=this.backoff)===null||r===void 0||r.setJitter(e),this)}reconnectionDelayMax(e){var r;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(r=this.backoff)===null||r===void 0||r.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new Wke(this.uri,this.opts);const r=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const i=wo(r,"open",function(){n.onopen(),e&&e()}),s=l=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",l),e?e(l):this.maybeReconnectOnOpen()},o=wo(r,"error",s);if(this._timeout!==!1){const l=this._timeout,c=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),r.close()},l);this.opts.autoUnref&&c.unref(),this.subs.push(()=>{this.clearTimeoutFn(c)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(wo(e,"ping",this.onping.bind(this)),wo(e,"data",this.ondata.bind(this)),wo(e,"error",this.onerror.bind(this)),wo(e,"close",this.onclose.bind(this)),wo(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(r){this.onclose("parse error",r)}}ondecoded(e){$1(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,r){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new Bee(this,e,r),this.nsps[e]=n),n}_destroy(e){const r=Object.keys(this.nsps);for(const n of r)if(this.nsps[n].active)return;this._close()}_packet(e){const r=this.encoder.encode(e);for(let n=0;n<r.length;n++)this.engine.write(r[n],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,r){var n;this.cleanup(),(n=this.engine)===null||n===void 0||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,r),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const r=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},r);this.opts.autoUnref&&n.unref(),this.subs.push(()=>{this.clearTimeoutFn(n)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Wg={};function Kb(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const r=Hke(t,e.path||"/socket.io"),n=r.source,i=r.id,s=r.path,o=Wg[i]&&s in Wg[i].nsps,l=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let c;return l?c=new FT(n,e):(Wg[i]||(Wg[i]=new FT(n,e)),c=Wg[i]),r.query&&!e.query&&(e.query=r.queryKey),c.socket(r.path,e)}Object.assign(Kb,{Manager:FT,Socket:Bee,io:Kb,connect:Kb});var db={exports:{}},bN,mB;function sAe(){if(mB)return bN;mB=1;var t=1e3,e=t*60,r=e*60,n=r*24,i=n*7,s=n*365.25;bN=function(d,f){f=f||{};var g=typeof d;if(g==="string"&&d.length>0)return o(d);if(g==="number"&&isFinite(d))return f.long?c(d):l(d);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(d))};function o(d){if(d=String(d),!(d.length>100)){var f=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(d);if(f){var g=parseFloat(f[1]),v=(f[2]||"ms").toLowerCase();switch(v){case"years":case"year":case"yrs":case"yr":case"y":return g*s;case"weeks":case"week":case"w":return g*i;case"days":case"day":case"d":return g*n;case"hours":case"hour":case"hrs":case"hr":case"h":return g*r;case"minutes":case"minute":case"mins":case"min":case"m":return g*e;case"seconds":case"second":case"secs":case"sec":case"s":return g*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return g;default:return}}}}function l(d){var f=Math.abs(d);return f>=n?Math.round(d/n)+"d":f>=r?Math.round(d/r)+"h":f>=e?Math.round(d/e)+"m":f>=t?Math.round(d/t)+"s":d+"ms"}function c(d){var f=Math.abs(d);return f>=n?u(d,f,n,"day"):f>=r?u(d,f,r,"hour"):f>=e?u(d,f,e,"minute"):f>=t?u(d,f,t,"second"):d+" ms"}function u(d,f,g,v){var y=f>=g*1.5;return Math.round(d/g)+" "+v+(y?"s":"")}return bN}var wN,gB;function aAe(){if(gB)return wN;gB=1;function t(e){n.debug=n,n.default=n,n.coerce=u,n.disable=l,n.enable=s,n.enabled=c,n.humanize=sAe(),n.destroy=d,Object.keys(e).forEach(f=>{n[f]=e[f]}),n.names=[],n.skips=[],n.formatters={};function r(f){let g=0;for(let v=0;v<f.length;v++)g=(g<<5)-g+f.charCodeAt(v),g|=0;return n.colors[Math.abs(g)%n.colors.length]}n.selectColor=r;function n(f){let g,v=null,y,x;function _(...S){if(!_.enabled)return;const C=_,N=Number(new Date),A=N-(g||N);C.diff=A,C.prev=g,C.curr=N,g=N,S[0]=n.coerce(S[0]),typeof S[0]!="string"&&S.unshift("%O");let E=0;S[0]=S[0].replace(/%([a-zA-Z%])/g,(O,I)=>{if(O==="%%")return"%";E++;const z=n.formatters[I];if(typeof z=="function"){const W=S[E];O=z.call(C,W),S.splice(E,1),E--}return O}),n.formatArgs.call(C,S),(C.log||n.log).apply(C,S)}return _.namespace=f,_.useColors=n.useColors(),_.color=n.selectColor(f),_.extend=i,_.destroy=n.destroy,Object.defineProperty(_,"enabled",{enumerable:!0,configurable:!1,get:()=>v!==null?v:(y!==n.namespaces&&(y=n.namespaces,x=n.enabled(f)),x),set:S=>{v=S}}),typeof n.init=="function"&&n.init(_),_}function i(f,g){const v=n(this.namespace+(typeof g>"u"?":":g)+f);return v.log=this.log,v}function s(f){n.save(f),n.namespaces=f,n.names=[],n.skips=[];const g=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const v of g)v[0]==="-"?n.skips.push(v.slice(1)):n.names.push(v)}function o(f,g){let v=0,y=0,x=-1,_=0;for(;v<f.length;)if(y<g.length&&(g[y]===f[v]||g[y]==="*"))g[y]==="*"?(x=y,_=v,y++):(v++,y++);else if(x!==-1)y=x+1,_++,v=_;else return!1;for(;y<g.length&&g[y]==="*";)y++;return y===g.length}function l(){const f=[...n.names,...n.skips.map(g=>"-"+g)].join(",");return n.enable(""),f}function c(f){for(const g of n.skips)if(o(f,g))return!1;for(const g of n.names)if(o(f,g))return!0;return!1}function u(f){return f instanceof Error?f.stack||f.message:f}function d(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}return wN=t,wN}var vB;function oAe(){return vB||(vB=1,function(t,e){var r={};e.formatArgs=i,e.save=s,e.load=o,e.useColors=n,e.storage=l(),e.destroy=(()=>{let u=!1;return()=>{u||(u=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let u;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(u=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(u[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(u){if(u[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+u[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const d="color: "+this.color;u.splice(1,0,d,"color: inherit");let f=0,g=0;u[0].replace(/%[a-zA-Z%]/g,v=>{v!=="%%"&&(f++,v==="%c"&&(g=f))}),u.splice(g,0,d)}e.log=console.debug||console.log||(()=>{});function s(u){try{u?e.storage.setItem("debug",u):e.storage.removeItem("debug")}catch{}}function o(){let u;try{u=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!u&&typeof process<"u"&&"env"in process&&(u=r.DEBUG),u}function l(){try{return localStorage}catch{}}t.exports=aAe()(e);const{formatters:c}=t.exports;c.j=function(u){try{return JSON.stringify(u)}catch(d){return"[UnexpectedJSONParseError]: "+d.message}}}(db,db.exports)),db.exports}var _N,yB;function lAe(){return yB||(yB=1,_N=function(){if(typeof globalThis>"u")return null;var e={RTCPeerConnection:globalThis.RTCPeerConnection||globalThis.mozRTCPeerConnection||globalThis.webkitRTCPeerConnection,RTCSessionDescription:globalThis.RTCSessionDescription||globalThis.mozRTCSessionDescription||globalThis.webkitRTCSessionDescription,RTCIceCandidate:globalThis.RTCIceCandidate||globalThis.mozRTCIceCandidate||globalThis.webkitRTCIceCandidate};return e.RTCPeerConnection?e:null}),_N}var fb={exports:{}},hb={exports:{}},SN={},Hg={},xB;function cAe(){if(xB)return Hg;xB=1,Hg.byteLength=l,Hg.toByteArray=u,Hg.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,s=n.length;i<s;++i)t[i]=n[i],e[n.charCodeAt(i)]=i;e[45]=62,e[95]=63;function o(v){var y=v.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=v.indexOf("=");x===-1&&(x=y);var _=x===y?0:4-x%4;return[x,_]}function l(v){var y=o(v),x=y[0],_=y[1];return(x+_)*3/4-_}function c(v,y,x){return(y+x)*3/4-x}function u(v){var y,x=o(v),_=x[0],S=x[1],C=new r(c(v,_,S)),N=0,A=S>0?_-4:_,E;for(E=0;E<A;E+=4)y=e[v.charCodeAt(E)]<<18|e[v.charCodeAt(E+1)]<<12|e[v.charCodeAt(E+2)]<<6|e[v.charCodeAt(E+3)],C[N++]=y>>16&255,C[N++]=y>>8&255,C[N++]=y&255;return S===2&&(y=e[v.charCodeAt(E)]<<2|e[v.charCodeAt(E+1)]>>4,C[N++]=y&255),S===1&&(y=e[v.charCodeAt(E)]<<10|e[v.charCodeAt(E+1)]<<4|e[v.charCodeAt(E+2)]>>2,C[N++]=y>>8&255,C[N++]=y&255),C}function d(v){return t[v>>18&63]+t[v>>12&63]+t[v>>6&63]+t[v&63]}function f(v,y,x){for(var _,S=[],C=y;C<x;C+=3)_=(v[C]<<16&16711680)+(v[C+1]<<8&65280)+(v[C+2]&255),S.push(d(_));return S.join("")}function g(v){for(var y,x=v.length,_=x%3,S=[],C=16383,N=0,A=x-_;N<A;N+=C)S.push(f(v,N,N+C>A?A:N+C));return _===1?(y=v[x-1],S.push(t[y>>2]+t[y<<4&63]+"==")):_===2&&(y=(v[x-2]<<8)+v[x-1],S.push(t[y>>10]+t[y>>4&63]+t[y<<2&63]+"=")),S.join("")}return Hg}var pb={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var bB;function uAe(){return bB||(bB=1,pb.read=function(t,e,r,n,i){var s,o,l=i*8-n-1,c=(1<<l)-1,u=c>>1,d=-7,f=r?i-1:0,g=r?-1:1,v=t[e+f];for(f+=g,s=v&(1<<-d)-1,v>>=-d,d+=l;d>0;s=s*256+t[e+f],f+=g,d-=8);for(o=s&(1<<-d)-1,s>>=-d,d+=n;d>0;o=o*256+t[e+f],f+=g,d-=8);if(s===0)s=1-u;else{if(s===c)return o?NaN:(v?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-u}return(v?-1:1)*o*Math.pow(2,s-n)},pb.write=function(t,e,r,n,i,s){var o,l,c,u=s*8-i-1,d=(1<<u)-1,f=d>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=n?0:s-1,y=n?1:-1,x=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(l=isNaN(e)?1:0,o=d):(o=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?e+=g/c:e+=g*Math.pow(2,1-f),e*c>=2&&(o++,c/=2),o+f>=d?(l=0,o=d):o+f>=1?(l=(e*c-1)*Math.pow(2,i),o=o+f):(l=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;t[r+v]=l&255,v+=y,l/=256,i-=8);for(o=o<<i|l,u+=i;u>0;t[r+v]=o&255,v+=y,o/=256,u-=8);t[r+v-y]|=x*128}),pb}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var wB;function _x(){return wB||(wB=1,function(t){const e=cAe(),r=uAe(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=C,t.INSPECT_MAX_BYTES=50;const i=2147483647;t.kMaxLength=i,l.TYPED_ARRAY_SUPPORT=s(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{const Y=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(Y,D),Y.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function o(Y){if(Y>i)throw new RangeError('The value "'+Y+'" is invalid for option "size"');const D=new Uint8Array(Y);return Object.setPrototypeOf(D,l.prototype),D}function l(Y,D,B){if(typeof Y=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(Y)}return c(Y,D,B)}l.poolSize=8192;function c(Y,D,B){if(typeof Y=="string")return g(Y,D);if(ArrayBuffer.isView(Y))return y(Y);if(Y==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if($e(Y,ArrayBuffer)||Y&&$e(Y.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&($e(Y,SharedArrayBuffer)||Y&&$e(Y.buffer,SharedArrayBuffer)))return x(Y,D,B);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const he=Y.valueOf&&Y.valueOf();if(he!=null&&he!==Y)return l.from(he,D,B);const Ce=_(Y);if(Ce)return Ce;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return l.from(Y[Symbol.toPrimitive]("string"),D,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}l.from=function(Y,D,B){return c(Y,D,B)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array);function u(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function d(Y,D,B){return u(Y),Y<=0?o(Y):D!==void 0?typeof B=="string"?o(Y).fill(D,B):o(Y).fill(D):o(Y)}l.alloc=function(Y,D,B){return d(Y,D,B)};function f(Y){return u(Y),o(Y<0?0:S(Y)|0)}l.allocUnsafe=function(Y){return f(Y)},l.allocUnsafeSlow=function(Y){return f(Y)};function g(Y,D){if((typeof D!="string"||D==="")&&(D="utf8"),!l.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const B=N(Y,D)|0;let he=o(B);const Ce=he.write(Y,D);return Ce!==B&&(he=he.slice(0,Ce)),he}function v(Y){const D=Y.length<0?0:S(Y.length)|0,B=o(D);for(let he=0;he<D;he+=1)B[he]=Y[he]&255;return B}function y(Y){if($e(Y,Uint8Array)){const D=new Uint8Array(Y);return x(D.buffer,D.byteOffset,D.byteLength)}return v(Y)}function x(Y,D,B){if(D<0||Y.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<D+(B||0))throw new RangeError('"length" is outside of buffer bounds');let he;return D===void 0&&B===void 0?he=new Uint8Array(Y):B===void 0?he=new Uint8Array(Y,D):he=new Uint8Array(Y,D,B),Object.setPrototypeOf(he,l.prototype),he}function _(Y){if(l.isBuffer(Y)){const D=S(Y.length)|0,B=o(D);return B.length===0||Y.copy(B,0,0,D),B}if(Y.length!==void 0)return typeof Y.length!="number"||rt(Y.length)?o(0):v(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return v(Y.data)}function S(Y){if(Y>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return Y|0}function C(Y){return+Y!=Y&&(Y=0),l.alloc(+Y)}l.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==l.prototype},l.compare=function(D,B){if($e(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),$e(B,Uint8Array)&&(B=l.from(B,B.offset,B.byteLength)),!l.isBuffer(D)||!l.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===B)return 0;let he=D.length,Ce=B.length;for(let Be=0,We=Math.min(he,Ce);Be<We;++Be)if(D[Be]!==B[Be]){he=D[Be],Ce=B[Be];break}return he<Ce?-1:Ce<he?1:0},l.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(D,B){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return l.alloc(0);let he;if(B===void 0)for(B=0,he=0;he<D.length;++he)B+=D[he].length;const Ce=l.allocUnsafe(B);let Be=0;for(he=0;he<D.length;++he){let We=D[he];if($e(We,Uint8Array))Be+We.length>Ce.length?(l.isBuffer(We)||(We=l.from(We)),We.copy(Ce,Be)):Uint8Array.prototype.set.call(Ce,We,Be);else if(l.isBuffer(We))We.copy(Ce,Be);else throw new TypeError('"list" argument must be an Array of Buffers');Be+=We.length}return Ce};function N(Y,D){if(l.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||$e(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);const B=Y.length,he=arguments.length>2&&arguments[2]===!0;if(!he&&B===0)return 0;let Ce=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return Oe(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return ge(Y).length;default:if(Ce)return he?-1:Oe(Y).length;D=(""+D).toLowerCase(),Ce=!0}}l.byteLength=N;function A(Y,D,B){let he=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,D>>>=0,B<=D))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return Z(this,D,B);case"utf8":case"utf-8":return H(this,D,B);case"ascii":return K(this,D,B);case"latin1":case"binary":return te(this,D,B);case"base64":return F(this,D,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,D,B);default:if(he)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),he=!0}}l.prototype._isBuffer=!0;function E(Y,D,B){const he=Y[D];Y[D]=Y[B],Y[B]=he}l.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<D;B+=2)E(this,B,B+1);return this},l.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<D;B+=4)E(this,B,B+3),E(this,B+1,B+2);return this},l.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<D;B+=8)E(this,B,B+7),E(this,B+1,B+6),E(this,B+2,B+5),E(this,B+3,B+4);return this},l.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?H(this,0,D):A.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(D){if(!l.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:l.compare(this,D)===0},l.prototype.inspect=function(){let D="";const B=t.INSPECT_MAX_BYTES;return D=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(D+=" ... "),"<Buffer "+D+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(D,B,he,Ce,Be){if($e(D,Uint8Array)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(B===void 0&&(B=0),he===void 0&&(he=D?D.length:0),Ce===void 0&&(Ce=0),Be===void 0&&(Be=this.length),B<0||he>D.length||Ce<0||Be>this.length)throw new RangeError("out of range index");if(Ce>=Be&&B>=he)return 0;if(Ce>=Be)return-1;if(B>=he)return 1;if(B>>>=0,he>>>=0,Ce>>>=0,Be>>>=0,this===D)return 0;let We=Be-Ce,Tt=he-B;const pr=Math.min(We,Tt),Xt=this.slice(Ce,Be),lr=D.slice(B,he);for(let nr=0;nr<pr;++nr)if(Xt[nr]!==lr[nr]){We=Xt[nr],Tt=lr[nr];break}return We<Tt?-1:Tt<We?1:0};function k(Y,D,B,he,Ce){if(Y.length===0)return-1;if(typeof B=="string"?(he=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,rt(B)&&(B=Ce?0:Y.length-1),B<0&&(B=Y.length+B),B>=Y.length){if(Ce)return-1;B=Y.length-1}else if(B<0)if(Ce)B=0;else return-1;if(typeof D=="string"&&(D=l.from(D,he)),l.isBuffer(D))return D.length===0?-1:O(Y,D,B,he,Ce);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?Ce?Uint8Array.prototype.indexOf.call(Y,D,B):Uint8Array.prototype.lastIndexOf.call(Y,D,B):O(Y,[D],B,he,Ce);throw new TypeError("val must be string, number or Buffer")}function O(Y,D,B,he,Ce){let Be=1,We=Y.length,Tt=D.length;if(he!==void 0&&(he=String(he).toLowerCase(),he==="ucs2"||he==="ucs-2"||he==="utf16le"||he==="utf-16le")){if(Y.length<2||D.length<2)return-1;Be=2,We/=2,Tt/=2,B/=2}function pr(lr,nr){return Be===1?lr[nr]:lr.readUInt16BE(nr*Be)}let Xt;if(Ce){let lr=-1;for(Xt=B;Xt<We;Xt++)if(pr(Y,Xt)===pr(D,lr===-1?0:Xt-lr)){if(lr===-1&&(lr=Xt),Xt-lr+1===Tt)return lr*Be}else lr!==-1&&(Xt-=Xt-lr),lr=-1}else for(B+Tt>We&&(B=We-Tt),Xt=B;Xt>=0;Xt--){let lr=!0;for(let nr=0;nr<Tt;nr++)if(pr(Y,Xt+nr)!==pr(D,nr)){lr=!1;break}if(lr)return Xt}return-1}l.prototype.includes=function(D,B,he){return this.indexOf(D,B,he)!==-1},l.prototype.indexOf=function(D,B,he){return k(this,D,B,he,!0)},l.prototype.lastIndexOf=function(D,B,he){return k(this,D,B,he,!1)};function I(Y,D,B,he){B=Number(B)||0;const Ce=Y.length-B;he?(he=Number(he),he>Ce&&(he=Ce)):he=Ce;const Be=D.length;he>Be/2&&(he=Be/2);let We;for(We=0;We<he;++We){const Tt=parseInt(D.substr(We*2,2),16);if(rt(Tt))return We;Y[B+We]=Tt}return We}function z(Y,D,B,he){return Pe(Oe(D,Y.length-B),Y,B,he)}function W(Y,D,B,he){return Pe(mt(D),Y,B,he)}function V(Y,D,B,he){return Pe(ge(D),Y,B,he)}function q(Y,D,B,he){return Pe(Gt(D,Y.length-B),Y,B,he)}l.prototype.write=function(D,B,he,Ce){if(B===void 0)Ce="utf8",he=this.length,B=0;else if(he===void 0&&typeof B=="string")Ce=B,he=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(he)?(he=he>>>0,Ce===void 0&&(Ce="utf8")):(Ce=he,he=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Be=this.length-B;if((he===void 0||he>Be)&&(he=Be),D.length>0&&(he<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");Ce||(Ce="utf8");let We=!1;for(;;)switch(Ce){case"hex":return I(this,D,B,he);case"utf8":case"utf-8":return z(this,D,B,he);case"ascii":case"latin1":case"binary":return W(this,D,B,he);case"base64":return V(this,D,B,he);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,D,B,he);default:if(We)throw new TypeError("Unknown encoding: "+Ce);Ce=(""+Ce).toLowerCase(),We=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(Y,D,B){return D===0&&B===Y.length?e.fromByteArray(Y):e.fromByteArray(Y.slice(D,B))}function H(Y,D,B){B=Math.min(Y.length,B);const he=[];let Ce=D;for(;Ce<B;){const Be=Y[Ce];let We=null,Tt=Be>239?4:Be>223?3:Be>191?2:1;if(Ce+Tt<=B){let pr,Xt,lr,nr;switch(Tt){case 1:Be<128&&(We=Be);break;case 2:pr=Y[Ce+1],(pr&192)===128&&(nr=(Be&31)<<6|pr&63,nr>127&&(We=nr));break;case 3:pr=Y[Ce+1],Xt=Y[Ce+2],(pr&192)===128&&(Xt&192)===128&&(nr=(Be&15)<<12|(pr&63)<<6|Xt&63,nr>2047&&(nr<55296||nr>57343)&&(We=nr));break;case 4:pr=Y[Ce+1],Xt=Y[Ce+2],lr=Y[Ce+3],(pr&192)===128&&(Xt&192)===128&&(lr&192)===128&&(nr=(Be&15)<<18|(pr&63)<<12|(Xt&63)<<6|lr&63,nr>65535&&nr<1114112&&(We=nr))}}We===null?(We=65533,Tt=1):We>65535&&(We-=65536,he.push(We>>>10&1023|55296),We=56320|We&1023),he.push(We),Ce+=Tt}return oe(he)}const Q=4096;function oe(Y){const D=Y.length;if(D<=Q)return String.fromCharCode.apply(String,Y);let B="",he=0;for(;he<D;)B+=String.fromCharCode.apply(String,Y.slice(he,he+=Q));return B}function K(Y,D,B){let he="";B=Math.min(Y.length,B);for(let Ce=D;Ce<B;++Ce)he+=String.fromCharCode(Y[Ce]&127);return he}function te(Y,D,B){let he="";B=Math.min(Y.length,B);for(let Ce=D;Ce<B;++Ce)he+=String.fromCharCode(Y[Ce]);return he}function Z(Y,D,B){const he=Y.length;(!D||D<0)&&(D=0),(!B||B<0||B>he)&&(B=he);let Ce="";for(let Be=D;Be<B;++Be)Ce+=at[Y[Be]];return Ce}function se(Y,D,B){const he=Y.slice(D,B);let Ce="";for(let Be=0;Be<he.length-1;Be+=2)Ce+=String.fromCharCode(he[Be]+he[Be+1]*256);return Ce}l.prototype.slice=function(D,B){const he=this.length;D=~~D,B=B===void 0?he:~~B,D<0?(D+=he,D<0&&(D=0)):D>he&&(D=he),B<0?(B+=he,B<0&&(B=0)):B>he&&(B=he),B<D&&(B=D);const Ce=this.subarray(D,B);return Object.setPrototypeOf(Ce,l.prototype),Ce};function X(Y,D,B){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+D>B)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(D,B,he){D=D>>>0,B=B>>>0,he||X(D,B,this.length);let Ce=this[D],Be=1,We=0;for(;++We<B&&(Be*=256);)Ce+=this[D+We]*Be;return Ce},l.prototype.readUintBE=l.prototype.readUIntBE=function(D,B,he){D=D>>>0,B=B>>>0,he||X(D,B,this.length);let Ce=this[D+--B],Be=1;for(;B>0&&(Be*=256);)Ce+=this[D+--B]*Be;return Ce},l.prototype.readUint8=l.prototype.readUInt8=function(D,B){return D=D>>>0,B||X(D,1,this.length),this[D]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(D,B){return D=D>>>0,B||X(D,2,this.length),this[D]|this[D+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(D,B){return D=D>>>0,B||X(D,2,this.length),this[D]<<8|this[D+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(D,B){return D=D>>>0,B||X(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(D,B){return D=D>>>0,B||X(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},l.prototype.readBigUInt64LE=le(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],he=this[D+7];(B===void 0||he===void 0)&&Ne(D,this.length-8);const Ce=B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,Be=this[++D]+this[++D]*2**8+this[++D]*2**16+he*2**24;return BigInt(Ce)+(BigInt(Be)<<BigInt(32))}),l.prototype.readBigUInt64BE=le(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],he=this[D+7];(B===void 0||he===void 0)&&Ne(D,this.length-8);const Ce=B*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],Be=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+he;return(BigInt(Ce)<<BigInt(32))+BigInt(Be)}),l.prototype.readIntLE=function(D,B,he){D=D>>>0,B=B>>>0,he||X(D,B,this.length);let Ce=this[D],Be=1,We=0;for(;++We<B&&(Be*=256);)Ce+=this[D+We]*Be;return Be*=128,Ce>=Be&&(Ce-=Math.pow(2,8*B)),Ce},l.prototype.readIntBE=function(D,B,he){D=D>>>0,B=B>>>0,he||X(D,B,this.length);let Ce=B,Be=1,We=this[D+--Ce];for(;Ce>0&&(Be*=256);)We+=this[D+--Ce]*Be;return Be*=128,We>=Be&&(We-=Math.pow(2,8*B)),We},l.prototype.readInt8=function(D,B){return D=D>>>0,B||X(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},l.prototype.readInt16LE=function(D,B){D=D>>>0,B||X(D,2,this.length);const he=this[D]|this[D+1]<<8;return he&32768?he|4294901760:he},l.prototype.readInt16BE=function(D,B){D=D>>>0,B||X(D,2,this.length);const he=this[D+1]|this[D]<<8;return he&32768?he|4294901760:he},l.prototype.readInt32LE=function(D,B){return D=D>>>0,B||X(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},l.prototype.readInt32BE=function(D,B){return D=D>>>0,B||X(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},l.prototype.readBigInt64LE=le(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],he=this[D+7];(B===void 0||he===void 0)&&Ne(D,this.length-8);const Ce=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(he<<24);return(BigInt(Ce)<<BigInt(32))+BigInt(B+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),l.prototype.readBigInt64BE=le(function(D){D=D>>>0,Ee(D,"offset");const B=this[D],he=this[D+7];(B===void 0||he===void 0)&&Ne(D,this.length-8);const Ce=(B<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(Ce)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+he)}),l.prototype.readFloatLE=function(D,B){return D=D>>>0,B||X(D,4,this.length),r.read(this,D,!0,23,4)},l.prototype.readFloatBE=function(D,B){return D=D>>>0,B||X(D,4,this.length),r.read(this,D,!1,23,4)},l.prototype.readDoubleLE=function(D,B){return D=D>>>0,B||X(D,8,this.length),r.read(this,D,!0,52,8)},l.prototype.readDoubleBE=function(D,B){return D=D>>>0,B||X(D,8,this.length),r.read(this,D,!1,52,8)};function ce(Y,D,B,he,Ce,Be){if(!l.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>Ce||D<Be)throw new RangeError('"value" argument is out of bounds');if(B+he>Y.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(D,B,he,Ce){if(D=+D,B=B>>>0,he=he>>>0,!Ce){const Tt=Math.pow(2,8*he)-1;ce(this,D,B,he,Tt,0)}let Be=1,We=0;for(this[B]=D&255;++We<he&&(Be*=256);)this[B+We]=D/Be&255;return B+he},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(D,B,he,Ce){if(D=+D,B=B>>>0,he=he>>>0,!Ce){const Tt=Math.pow(2,8*he)-1;ce(this,D,B,he,Tt,0)}let Be=he-1,We=1;for(this[B+Be]=D&255;--Be>=0&&(We*=256);)this[B+Be]=D/We&255;return B+he},l.prototype.writeUint8=l.prototype.writeUInt8=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,1,255,0),this[B]=D&255,B+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,2,65535,0),this[B]=D&255,this[B+1]=D>>>8,B+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,2,65535,0),this[B]=D>>>8,this[B+1]=D&255,B+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,4,4294967295,0),this[B+3]=D>>>24,this[B+2]=D>>>16,this[B+1]=D>>>8,this[B]=D&255,B+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,4,4294967295,0),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4};function je(Y,D,B,he,Ce){J(D,he,Ce,Y,B,7);let Be=Number(D&BigInt(4294967295));Y[B++]=Be,Be=Be>>8,Y[B++]=Be,Be=Be>>8,Y[B++]=Be,Be=Be>>8,Y[B++]=Be;let We=Number(D>>BigInt(32)&BigInt(4294967295));return Y[B++]=We,We=We>>8,Y[B++]=We,We=We>>8,Y[B++]=We,We=We>>8,Y[B++]=We,B}function Te(Y,D,B,he,Ce){J(D,he,Ce,Y,B,7);let Be=Number(D&BigInt(4294967295));Y[B+7]=Be,Be=Be>>8,Y[B+6]=Be,Be=Be>>8,Y[B+5]=Be,Be=Be>>8,Y[B+4]=Be;let We=Number(D>>BigInt(32)&BigInt(4294967295));return Y[B+3]=We,We=We>>8,Y[B+2]=We,We=We>>8,Y[B+1]=We,We=We>>8,Y[B]=We,B+8}l.prototype.writeBigUInt64LE=le(function(D,B=0){return je(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=le(function(D,B=0){return Te(this,D,B,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(D,B,he,Ce){if(D=+D,B=B>>>0,!Ce){const pr=Math.pow(2,8*he-1);ce(this,D,B,he,pr-1,-pr)}let Be=0,We=1,Tt=0;for(this[B]=D&255;++Be<he&&(We*=256);)D<0&&Tt===0&&this[B+Be-1]!==0&&(Tt=1),this[B+Be]=(D/We>>0)-Tt&255;return B+he},l.prototype.writeIntBE=function(D,B,he,Ce){if(D=+D,B=B>>>0,!Ce){const pr=Math.pow(2,8*he-1);ce(this,D,B,he,pr-1,-pr)}let Be=he-1,We=1,Tt=0;for(this[B+Be]=D&255;--Be>=0&&(We*=256);)D<0&&Tt===0&&this[B+Be+1]!==0&&(Tt=1),this[B+Be]=(D/We>>0)-Tt&255;return B+he},l.prototype.writeInt8=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,1,127,-128),D<0&&(D=255+D+1),this[B]=D&255,B+1},l.prototype.writeInt16LE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,2,32767,-32768),this[B]=D&255,this[B+1]=D>>>8,B+2},l.prototype.writeInt16BE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,2,32767,-32768),this[B]=D>>>8,this[B+1]=D&255,B+2},l.prototype.writeInt32LE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,4,2147483647,-2147483648),this[B]=D&255,this[B+1]=D>>>8,this[B+2]=D>>>16,this[B+3]=D>>>24,B+4},l.prototype.writeInt32BE=function(D,B,he){return D=+D,B=B>>>0,he||ce(this,D,B,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[B]=D>>>24,this[B+1]=D>>>16,this[B+2]=D>>>8,this[B+3]=D&255,B+4},l.prototype.writeBigInt64LE=le(function(D,B=0){return je(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=le(function(D,B=0){return Te(this,D,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function qe(Y,D,B,he,Ce,Be){if(B+he>Y.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function pe(Y,D,B,he,Ce){return D=+D,B=B>>>0,Ce||qe(Y,D,B,4),r.write(Y,D,B,he,23,4),B+4}l.prototype.writeFloatLE=function(D,B,he){return pe(this,D,B,!0,he)},l.prototype.writeFloatBE=function(D,B,he){return pe(this,D,B,!1,he)};function ue(Y,D,B,he,Ce){return D=+D,B=B>>>0,Ce||qe(Y,D,B,8),r.write(Y,D,B,he,52,8),B+8}l.prototype.writeDoubleLE=function(D,B,he){return ue(this,D,B,!0,he)},l.prototype.writeDoubleBE=function(D,B,he){return ue(this,D,B,!1,he)},l.prototype.copy=function(D,B,he,Ce){if(!l.isBuffer(D))throw new TypeError("argument should be a Buffer");if(he||(he=0),!Ce&&Ce!==0&&(Ce=this.length),B>=D.length&&(B=D.length),B||(B=0),Ce>0&&Ce<he&&(Ce=he),Ce===he||D.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(he<0||he>=this.length)throw new RangeError("Index out of range");if(Ce<0)throw new RangeError("sourceEnd out of bounds");Ce>this.length&&(Ce=this.length),D.length-B<Ce-he&&(Ce=D.length-B+he);const Be=Ce-he;return this===D&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(B,he,Ce):Uint8Array.prototype.set.call(D,this.subarray(he,Ce),B),Be},l.prototype.fill=function(D,B,he,Ce){if(typeof D=="string"){if(typeof B=="string"?(Ce=B,B=0,he=this.length):typeof he=="string"&&(Ce=he,he=this.length),Ce!==void 0&&typeof Ce!="string")throw new TypeError("encoding must be a string");if(typeof Ce=="string"&&!l.isEncoding(Ce))throw new TypeError("Unknown encoding: "+Ce);if(D.length===1){const We=D.charCodeAt(0);(Ce==="utf8"&&We<128||Ce==="latin1")&&(D=We)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(B<0||this.length<B||this.length<he)throw new RangeError("Out of range index");if(he<=B)return this;B=B>>>0,he=he===void 0?this.length:he>>>0,D||(D=0);let Be;if(typeof D=="number")for(Be=B;Be<he;++Be)this[Be]=D;else{const We=l.isBuffer(D)?D:l.from(D,Ce),Tt=We.length;if(Tt===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Be=0;Be<he-B;++Be)this[Be+B]=We[Be%Tt]}return this};const _e={};function ye(Y,D,B){_e[Y]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${Y}]`,this.stack,delete this.name}get code(){return Y}set code(Ce){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:Ce,writable:!0})}toString(){return`${this.name} [${Y}]: ${this.message}`}}}ye("ERR_BUFFER_OUT_OF_BOUNDS",function(Y){return Y?`${Y} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),ye("ERR_INVALID_ARG_TYPE",function(Y,D){return`The "${Y}" argument must be of type number. Received type ${typeof D}`},TypeError),ye("ERR_OUT_OF_RANGE",function(Y,D,B){let he=`The value of "${Y}" is out of range.`,Ce=B;return Number.isInteger(B)&&Math.abs(B)>2**32?Ce=Ie(String(B)):typeof B=="bigint"&&(Ce=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(Ce=Ie(Ce)),Ce+="n"),he+=` It must be ${D}. Received ${Ce}`,he},RangeError);function Ie(Y){let D="",B=Y.length;const he=Y[0]==="-"?1:0;for(;B>=he+4;B-=3)D=`_${Y.slice(B-3,B)}${D}`;return`${Y.slice(0,B)}${D}`}function ne(Y,D,B){Ee(D,"offset"),(Y[D]===void 0||Y[D+B]===void 0)&&Ne(D,Y.length-(B+1))}function J(Y,D,B,he,Ce,Be){if(Y>B||Y<D){const We=typeof D=="bigint"?"n":"";let Tt;throw D===0||D===BigInt(0)?Tt=`>= 0${We} and < 2${We} ** ${(Be+1)*8}${We}`:Tt=`>= -(2${We} ** ${(Be+1)*8-1}${We}) and < 2 ** ${(Be+1)*8-1}${We}`,new _e.ERR_OUT_OF_RANGE("value",Tt,Y)}ne(he,Ce,Be)}function Ee(Y,D){if(typeof Y!="number")throw new _e.ERR_INVALID_ARG_TYPE(D,"number",Y)}function Ne(Y,D,B){throw Math.floor(Y)!==Y?(Ee(Y,B),new _e.ERR_OUT_OF_RANGE("offset","an integer",Y)):D<0?new _e.ERR_BUFFER_OUT_OF_BOUNDS:new _e.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,Y)}const Je=/[^+/0-9A-Za-z-_]/g;function Xe(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(Je,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function Oe(Y,D){D=D||1/0;let B;const he=Y.length;let Ce=null;const Be=[];for(let We=0;We<he;++We){if(B=Y.charCodeAt(We),B>55295&&B<57344){if(!Ce){if(B>56319){(D-=3)>-1&&Be.push(239,191,189);continue}else if(We+1===he){(D-=3)>-1&&Be.push(239,191,189);continue}Ce=B;continue}if(B<56320){(D-=3)>-1&&Be.push(239,191,189),Ce=B;continue}B=(Ce-55296<<10|B-56320)+65536}else Ce&&(D-=3)>-1&&Be.push(239,191,189);if(Ce=null,B<128){if((D-=1)<0)break;Be.push(B)}else if(B<2048){if((D-=2)<0)break;Be.push(B>>6|192,B&63|128)}else if(B<65536){if((D-=3)<0)break;Be.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((D-=4)<0)break;Be.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return Be}function mt(Y){const D=[];for(let B=0;B<Y.length;++B)D.push(Y.charCodeAt(B)&255);return D}function Gt(Y,D){let B,he,Ce;const Be=[];for(let We=0;We<Y.length&&!((D-=2)<0);++We)B=Y.charCodeAt(We),he=B>>8,Ce=B%256,Be.push(Ce),Be.push(he);return Be}function ge(Y){return e.toByteArray(Xe(Y))}function Pe(Y,D,B,he){let Ce;for(Ce=0;Ce<he&&!(Ce+B>=D.length||Ce>=Y.length);++Ce)D[Ce+B]=Y[Ce];return Ce}function $e(Y,D){return Y instanceof D||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===D.name}function rt(Y){return Y!==Y}const at=function(){const Y="0123456789abcdef",D=new Array(256);for(let B=0;B<16;++B){const he=B*16;for(let Ce=0;Ce<16;++Ce)D[he+Ce]=Y[B]+Y[Ce]}return D}();function le(Y){return typeof BigInt>"u"?Ae:Y}function Ae(){throw new Error("BigInt not supported")}}(SN)),SN}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var _B;function zee(){return _B||(_B=1,function(t,e){var r=_x(),n=r.Buffer;function i(o,l){for(var c in o)l[c]=o[c]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(i(r,e),e.Buffer=s);function s(o,l,c){return n(o,l,c)}s.prototype=Object.create(n.prototype),i(n,s),s.from=function(o,l,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,l,c)},s.alloc=function(o,l,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=n(o);return l!==void 0?typeof c=="string"?u.fill(l,c):u.fill(l):u.fill(0),u},s.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},s.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}}(hb,hb.exports)),hb.exports}var SB;function dAe(){if(SB)return fb.exports;SB=1;var t=65536,e=4294967295;function r(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var n=zee().Buffer,i=$s.crypto||$s.msCrypto;i&&i.getRandomValues?fb.exports=s:fb.exports=r;function s(o,l){if(o>e)throw new RangeError("requested too many random bytes");var c=n.allocUnsafe(o);if(o>0)if(o>t)for(var u=0;u<o;u+=t)i.getRandomValues(c.slice(u,u+t));else i.getRandomValues(c);return typeof l=="function"?process.nextTick(function(){l(null,c)}):c}return fb.exports}var mb={exports:{}},jN,jB;function qee(){return jB||(jB=1,jN=Vp.EventEmitter),jN}var CN,CB;function fAe(){if(CB)return CN;CB=1;function t(y,x){var _=Object.keys(y);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(y);x&&(S=S.filter(function(C){return Object.getOwnPropertyDescriptor(y,C).enumerable})),_.push.apply(_,S)}return _}function e(y){for(var x=1;x<arguments.length;x++){var _=arguments[x]!=null?arguments[x]:{};x%2?t(Object(_),!0).forEach(function(S){r(y,S,_[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(y,Object.getOwnPropertyDescriptors(_)):t(Object(_)).forEach(function(S){Object.defineProperty(y,S,Object.getOwnPropertyDescriptor(_,S))})}return y}function r(y,x,_){return x=o(x),x in y?Object.defineProperty(y,x,{value:_,enumerable:!0,configurable:!0,writable:!0}):y[x]=_,y}function n(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function i(y,x){for(var _=0;_<x.length;_++){var S=x[_];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(y,o(S.key),S)}}function s(y,x,_){return x&&i(y.prototype,x),Object.defineProperty(y,"prototype",{writable:!1}),y}function o(y){var x=l(y,"string");return typeof x=="symbol"?x:String(x)}function l(y,x){if(typeof y!="object"||y===null)return y;var _=y[Symbol.toPrimitive];if(_!==void 0){var S=_.call(y,x);if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(y)}var c=_x(),u=c.Buffer,d=Vp,f=d.inspect,g=f&&f.custom||"inspect";function v(y,x,_){u.prototype.copy.call(y,x,_)}return CN=function(){function y(){n(this,y),this.head=null,this.tail=null,this.length=0}return s(y,[{key:"push",value:function(_){var S={data:_,next:null};this.length>0?this.tail.next=S:this.head=S,this.tail=S,++this.length}},{key:"unshift",value:function(_){var S={data:_,next:this.head};this.length===0&&(this.tail=S),this.head=S,++this.length}},{key:"shift",value:function(){if(this.length!==0){var _=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,_}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(_){if(this.length===0)return"";for(var S=this.head,C=""+S.data;S=S.next;)C+=_+S.data;return C}},{key:"concat",value:function(_){if(this.length===0)return u.alloc(0);for(var S=u.allocUnsafe(_>>>0),C=this.head,N=0;C;)v(C.data,S,N),N+=C.data.length,C=C.next;return S}},{key:"consume",value:function(_,S){var C;return _<this.head.data.length?(C=this.head.data.slice(0,_),this.head.data=this.head.data.slice(_)):_===this.head.data.length?C=this.shift():C=S?this._getString(_):this._getBuffer(_),C}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(_){var S=this.head,C=1,N=S.data;for(_-=N.length;S=S.next;){var A=S.data,E=_>A.length?A.length:_;if(E===A.length?N+=A:N+=A.slice(0,_),_-=E,_===0){E===A.length?(++C,S.next?this.head=S.next:this.head=this.tail=null):(this.head=S,S.data=A.slice(E));break}++C}return this.length-=C,N}},{key:"_getBuffer",value:function(_){var S=u.allocUnsafe(_),C=this.head,N=1;for(C.data.copy(S),_-=C.data.length;C=C.next;){var A=C.data,E=_>A.length?A.length:_;if(A.copy(S,S.length-_,0,E),_-=E,_===0){E===A.length?(++N,C.next?this.head=C.next:this.head=this.tail=null):(this.head=C,C.data=A.slice(E));break}++N}return this.length-=N,S}},{key:g,value:function(_,S){return f(this,e(e({},S),{},{depth:0,customInspect:!1}))}}]),y}(),CN}var NN,NB;function Uee(){if(NB)return NN;NB=1;function t(o,l){var c=this,u=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return u||d?(l?l(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(i,this,o)):process.nextTick(i,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!l&&f?c._writableState?c._writableState.errorEmitted?process.nextTick(r,c):(c._writableState.errorEmitted=!0,process.nextTick(e,c,f)):process.nextTick(e,c,f):l?(process.nextTick(r,c),l(f)):process.nextTick(r,c)}),this)}function e(o,l){i(o,l),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function i(o,l){o.emit("error",l)}function s(o,l){var c=o._readableState,u=o._writableState;c&&c.autoDestroy||u&&u.autoDestroy?o.destroy(l):o.emit("error",l)}return NN={destroy:t,undestroy:n,errorOrDestroy:s},NN}var EN={},EB;function Wm(){if(EB)return EN;EB=1;function t(l,c){l.prototype=Object.create(c.prototype),l.prototype.constructor=l,l.__proto__=c}var e={};function r(l,c,u){u||(u=Error);function d(g,v,y){return typeof c=="string"?c:c(g,v,y)}var f=function(g){t(v,g);function v(y,x,_){return g.call(this,d(y,x,_))||this}return v}(u);f.prototype.name=u.name,f.prototype.code=l,e[l]=f}function n(l,c){if(Array.isArray(l)){var u=l.length;return l=l.map(function(d){return String(d)}),u>2?"one of ".concat(c," ").concat(l.slice(0,u-1).join(", "),", or ")+l[u-1]:u===2?"one of ".concat(c," ").concat(l[0]," or ").concat(l[1]):"of ".concat(c," ").concat(l[0])}else return"of ".concat(c," ").concat(String(l))}function i(l,c,u){return l.substr(0,c.length)===c}function s(l,c,u){return(u===void 0||u>l.length)&&(u=l.length),l.substring(u-c.length,u)===c}function o(l,c,u){return typeof u!="number"&&(u=0),u+c.length>l.length?!1:l.indexOf(c,u)!==-1}return r("ERR_INVALID_OPT_VALUE",function(l,c){return'The value "'+c+'" is invalid for option "'+l+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(l,c,u){var d;typeof c=="string"&&i(c,"not ")?(d="must not be",c=c.replace(/^not /,"")):d="must be";var f;if(s(l," argument"))f="The ".concat(l," ").concat(d," ").concat(n(c,"type"));else{var g=o(l,".")?"property":"argument";f='The "'.concat(l,'" ').concat(g," ").concat(d," ").concat(n(c,"type"))}return f+=". Received type ".concat(typeof u),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(l){return"The "+l+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(l){return"Cannot call "+l+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(l){return"Unknown encoding: "+l},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),EN.codes=e,EN}var PN,PB;function Vee(){if(PB)return PN;PB=1;var t=Wm().codes.ERR_INVALID_OPT_VALUE;function e(n,i,s){return n.highWaterMark!=null?n.highWaterMark:i?n[s]:null}function r(n,i,s,o){var l=e(i,o,s);if(l!=null){if(!(isFinite(l)&&Math.floor(l)===l)||l<0){var c=o?s:"highWaterMark";throw new t(c,l)}return Math.floor(l)}return n.objectMode?16:16*1024}return PN={getHighWaterMark:r},PN}var gb={exports:{}},kB;function Sx(){return kB||(kB=1,typeof Object.create=="function"?gb.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:gb.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),gb.exports}var kN,AB;function hAe(){if(AB)return kN;AB=1,kN=t;function t(r,n){if(e("noDeprecation"))return r;var i=!1;function s(){if(!i){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),i=!0}return r.apply(this,arguments)}return s}function e(r){try{if(!$s.localStorage)return!1}catch{return!1}var n=$s.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return kN}var AN,TB;function Wee(){if(TB)return AN;TB=1,AN=I;function t(pe){var ue=this;this.next=null,this.entry=null,this.finish=function(){qe(ue,pe)}}var e;I.WritableState=k;var r={deprecate:hAe()},n=qee(),i=_x().Buffer,s=(typeof $s<"u"?$s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function o(pe){return i.from(pe)}function l(pe){return i.isBuffer(pe)||pe instanceof s}var c=Uee(),u=Vee(),d=u.getHighWaterMark,f=Wm().codes,g=f.ERR_INVALID_ARG_TYPE,v=f.ERR_METHOD_NOT_IMPLEMENTED,y=f.ERR_MULTIPLE_CALLBACK,x=f.ERR_STREAM_CANNOT_PIPE,_=f.ERR_STREAM_DESTROYED,S=f.ERR_STREAM_NULL_VALUES,C=f.ERR_STREAM_WRITE_AFTER_END,N=f.ERR_UNKNOWN_ENCODING,A=c.errorOrDestroy;Sx()(I,n);function E(){}function k(pe,ue,_e){e=e||em(),pe=pe||{},typeof _e!="boolean"&&(_e=ue instanceof e),this.objectMode=!!pe.objectMode,_e&&(this.objectMode=this.objectMode||!!pe.writableObjectMode),this.highWaterMark=d(this,pe,"writableHighWaterMark",_e),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ye=pe.decodeStrings===!1;this.decodeStrings=!ye,this.defaultEncoding=pe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Ie){oe(ue,Ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=pe.emitClose!==!1,this.autoDestroy=!!pe.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}k.prototype.getBuffer=function(){for(var ue=this.bufferedRequest,_e=[];ue;)_e.push(ue),ue=ue.next;return _e},function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var O;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(O=Function.prototype[Symbol.hasInstance],Object.defineProperty(I,Symbol.hasInstance,{value:function(ue){return O.call(this,ue)?!0:this!==I?!1:ue&&ue._writableState instanceof k}})):O=function(ue){return ue instanceof this};function I(pe){e=e||em();var ue=this instanceof e;if(!ue&&!O.call(I,this))return new I(pe);this._writableState=new k(pe,this,ue),this.writable=!0,pe&&(typeof pe.write=="function"&&(this._write=pe.write),typeof pe.writev=="function"&&(this._writev=pe.writev),typeof pe.destroy=="function"&&(this._destroy=pe.destroy),typeof pe.final=="function"&&(this._final=pe.final)),n.call(this)}I.prototype.pipe=function(){A(this,new x)};function z(pe,ue){var _e=new C;A(pe,_e),process.nextTick(ue,_e)}function W(pe,ue,_e,ye){var Ie;return _e===null?Ie=new S:typeof _e!="string"&&!ue.objectMode&&(Ie=new g("chunk",["string","Buffer"],_e)),Ie?(A(pe,Ie),process.nextTick(ye,Ie),!1):!0}I.prototype.write=function(pe,ue,_e){var ye=this._writableState,Ie=!1,ne=!ye.objectMode&&l(pe);return ne&&!i.isBuffer(pe)&&(pe=o(pe)),typeof ue=="function"&&(_e=ue,ue=null),ne?ue="buffer":ue||(ue=ye.defaultEncoding),typeof _e!="function"&&(_e=E),ye.ending?z(this,_e):(ne||W(this,ye,pe,_e))&&(ye.pendingcb++,Ie=q(this,ye,ne,pe,ue,_e)),Ie},I.prototype.cork=function(){this._writableState.corked++},I.prototype.uncork=function(){var pe=this._writableState;pe.corked&&(pe.corked--,!pe.writing&&!pe.corked&&!pe.bufferProcessing&&pe.bufferedRequest&&Z(this,pe))},I.prototype.setDefaultEncoding=function(ue){if(typeof ue=="string"&&(ue=ue.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ue+"").toLowerCase())>-1))throw new N(ue);return this._writableState.defaultEncoding=ue,this},Object.defineProperty(I.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function V(pe,ue,_e){return!pe.objectMode&&pe.decodeStrings!==!1&&typeof ue=="string"&&(ue=i.from(ue,_e)),ue}Object.defineProperty(I.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function q(pe,ue,_e,ye,Ie,ne){if(!_e){var J=V(ue,ye,Ie);ye!==J&&(_e=!0,Ie="buffer",ye=J)}var Ee=ue.objectMode?1:ye.length;ue.length+=Ee;var Ne=ue.length<ue.highWaterMark;if(Ne||(ue.needDrain=!0),ue.writing||ue.corked){var Je=ue.lastBufferedRequest;ue.lastBufferedRequest={chunk:ye,encoding:Ie,isBuf:_e,callback:ne,next:null},Je?Je.next=ue.lastBufferedRequest:ue.bufferedRequest=ue.lastBufferedRequest,ue.bufferedRequestCount+=1}else F(pe,ue,!1,Ee,ye,Ie,ne);return Ne}function F(pe,ue,_e,ye,Ie,ne,J){ue.writelen=ye,ue.writecb=J,ue.writing=!0,ue.sync=!0,ue.destroyed?ue.onwrite(new _("write")):_e?pe._writev(Ie,ue.onwrite):pe._write(Ie,ne,ue.onwrite),ue.sync=!1}function H(pe,ue,_e,ye,Ie){--ue.pendingcb,_e?(process.nextTick(Ie,ye),process.nextTick(je,pe,ue),pe._writableState.errorEmitted=!0,A(pe,ye)):(Ie(ye),pe._writableState.errorEmitted=!0,A(pe,ye),je(pe,ue))}function Q(pe){pe.writing=!1,pe.writecb=null,pe.length-=pe.writelen,pe.writelen=0}function oe(pe,ue){var _e=pe._writableState,ye=_e.sync,Ie=_e.writecb;if(typeof Ie!="function")throw new y;if(Q(_e),ue)H(pe,_e,ye,ue,Ie);else{var ne=se(_e)||pe.destroyed;!ne&&!_e.corked&&!_e.bufferProcessing&&_e.bufferedRequest&&Z(pe,_e),ye?process.nextTick(K,pe,_e,ne,Ie):K(pe,_e,ne,Ie)}}function K(pe,ue,_e,ye){_e||te(pe,ue),ue.pendingcb--,ye(),je(pe,ue)}function te(pe,ue){ue.length===0&&ue.needDrain&&(ue.needDrain=!1,pe.emit("drain"))}function Z(pe,ue){ue.bufferProcessing=!0;var _e=ue.bufferedRequest;if(pe._writev&&_e&&_e.next){var ye=ue.bufferedRequestCount,Ie=new Array(ye),ne=ue.corkedRequestsFree;ne.entry=_e;for(var J=0,Ee=!0;_e;)Ie[J]=_e,_e.isBuf||(Ee=!1),_e=_e.next,J+=1;Ie.allBuffers=Ee,F(pe,ue,!0,ue.length,Ie,"",ne.finish),ue.pendingcb++,ue.lastBufferedRequest=null,ne.next?(ue.corkedRequestsFree=ne.next,ne.next=null):ue.corkedRequestsFree=new t(ue),ue.bufferedRequestCount=0}else{for(;_e;){var Ne=_e.chunk,Je=_e.encoding,Xe=_e.callback,Oe=ue.objectMode?1:Ne.length;if(F(pe,ue,!1,Oe,Ne,Je,Xe),_e=_e.next,ue.bufferedRequestCount--,ue.writing)break}_e===null&&(ue.lastBufferedRequest=null)}ue.bufferedRequest=_e,ue.bufferProcessing=!1}I.prototype._write=function(pe,ue,_e){_e(new v("_write()"))},I.prototype._writev=null,I.prototype.end=function(pe,ue,_e){var ye=this._writableState;return typeof pe=="function"?(_e=pe,pe=null,ue=null):typeof ue=="function"&&(_e=ue,ue=null),pe!=null&&this.write(pe,ue),ye.corked&&(ye.corked=1,this.uncork()),ye.ending||Te(this,ye,_e),this},Object.defineProperty(I.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function se(pe){return pe.ending&&pe.length===0&&pe.bufferedRequest===null&&!pe.finished&&!pe.writing}function X(pe,ue){pe._final(function(_e){ue.pendingcb--,_e&&A(pe,_e),ue.prefinished=!0,pe.emit("prefinish"),je(pe,ue)})}function ce(pe,ue){!ue.prefinished&&!ue.finalCalled&&(typeof pe._final=="function"&&!ue.destroyed?(ue.pendingcb++,ue.finalCalled=!0,process.nextTick(X,pe,ue)):(ue.prefinished=!0,pe.emit("prefinish")))}function je(pe,ue){var _e=se(ue);if(_e&&(ce(pe,ue),ue.pendingcb===0&&(ue.finished=!0,pe.emit("finish"),ue.autoDestroy))){var ye=pe._readableState;(!ye||ye.autoDestroy&&ye.endEmitted)&&pe.destroy()}return _e}function Te(pe,ue,_e){ue.ending=!0,je(pe,ue),_e&&(ue.finished?process.nextTick(_e):pe.once("finish",_e)),ue.ended=!0,pe.writable=!1}function qe(pe,ue,_e){var ye=pe.entry;for(pe.entry=null;ye;){var Ie=ye.callback;ue.pendingcb--,Ie(_e),ye=ye.next}ue.corkedRequestsFree.next=pe}return Object.defineProperty(I.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ue){this._writableState&&(this._writableState.destroyed=ue)}}),I.prototype.destroy=c.destroy,I.prototype._undestroy=c.undestroy,I.prototype._destroy=function(pe,ue){ue(pe)},AN}var TN,OB;function em(){if(OB)return TN;OB=1;var t=Object.keys||function(u){var d=[];for(var f in u)d.push(f);return d};TN=o;var e=Hee(),r=Wee();Sx()(o,e);for(var n=t(r.prototype),i=0;i<n.length;i++){var s=n[i];o.prototype[s]||(o.prototype[s]=r.prototype[s])}function o(u){if(!(this instanceof o))return new o(u);e.call(this,u),r.call(this,u),this.allowHalfOpen=!0,u&&(u.readable===!1&&(this.readable=!1),u.writable===!1&&(this.writable=!1),u.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",l)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function l(){this._writableState.ended||process.nextTick(c,this)}function c(u){u.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(d){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=d,this._writableState.destroyed=d)}}),TN}var ON={},RB;function MB(){if(RB)return ON;RB=1;var t=zee().Buffer,e=t.isEncoding||function(S){switch(S=""+S,S&&S.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(S){if(!S)return"utf8";for(var C;;)switch(S){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return S;default:if(C)return;S=(""+S).toLowerCase(),C=!0}}function n(S){var C=r(S);if(typeof C!="string"&&(t.isEncoding===e||!e(S)))throw new Error("Unknown encoding: "+S);return C||S}ON.StringDecoder=i;function i(S){this.encoding=n(S);var C;switch(this.encoding){case"utf16le":this.text=f,this.end=g,C=4;break;case"utf8":this.fillLast=c,C=4;break;case"base64":this.text=v,this.end=y,C=3;break;default:this.write=x,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(C)}i.prototype.write=function(S){if(S.length===0)return"";var C,N;if(this.lastNeed){if(C=this.fillLast(S),C===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<S.length?C?C+this.text(S,N):this.text(S,N):C||""},i.prototype.end=d,i.prototype.text=u,i.prototype.fillLast=function(S){if(this.lastNeed<=S.length)return S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,this.lastTotal-this.lastNeed,0,S.length),this.lastNeed-=S.length};function s(S){return S<=127?0:S>>5===6?2:S>>4===14?3:S>>3===30?4:S>>6===2?-1:-2}function o(S,C,N){var A=C.length-1;if(A<N)return 0;var E=s(C[A]);return E>=0?(E>0&&(S.lastNeed=E-1),E):--A<N||E===-2?0:(E=s(C[A]),E>=0?(E>0&&(S.lastNeed=E-2),E):--A<N||E===-2?0:(E=s(C[A]),E>=0?(E>0&&(E===2?E=0:S.lastNeed=E-3),E):0))}function l(S,C,N){if((C[0]&192)!==128)return S.lastNeed=0,"�";if(S.lastNeed>1&&C.length>1){if((C[1]&192)!==128)return S.lastNeed=1,"�";if(S.lastNeed>2&&C.length>2&&(C[2]&192)!==128)return S.lastNeed=2,"�"}}function c(S){var C=this.lastTotal-this.lastNeed,N=l(this,S);if(N!==void 0)return N;if(this.lastNeed<=S.length)return S.copy(this.lastChar,C,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);S.copy(this.lastChar,C,0,S.length),this.lastNeed-=S.length}function u(S,C){var N=o(this,S,C);if(!this.lastNeed)return S.toString("utf8",C);this.lastTotal=N;var A=S.length-(N-this.lastNeed);return S.copy(this.lastChar,0,A),S.toString("utf8",C,A)}function d(S){var C=S&&S.length?this.write(S):"";return this.lastNeed?C+"�":C}function f(S,C){if((S.length-C)%2===0){var N=S.toString("utf16le",C);if(N){var A=N.charCodeAt(N.length-1);if(A>=55296&&A<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=S[S.length-1],S.toString("utf16le",C,S.length-1)}function g(S){var C=S&&S.length?this.write(S):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return C+this.lastChar.toString("utf16le",0,N)}return C}function v(S,C){var N=(S.length-C)%3;return N===0?S.toString("base64",C):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=S[S.length-1]:(this.lastChar[0]=S[S.length-2],this.lastChar[1]=S[S.length-1]),S.toString("base64",C,S.length-N))}function y(S){var C=S&&S.length?this.write(S):"";return this.lastNeed?C+this.lastChar.toString("base64",0,3-this.lastNeed):C}function x(S){return S.toString(this.encoding)}function _(S){return S&&S.length?this.write(S):""}return ON}var RN,IB;function FI(){if(IB)return RN;IB=1;var t=Wm().codes.ERR_STREAM_PREMATURE_CLOSE;function e(s){var o=!1;return function(){if(!o){o=!0;for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];s.apply(this,c)}}}function r(){}function n(s){return s.setHeader&&typeof s.abort=="function"}function i(s,o,l){if(typeof o=="function")return i(s,null,o);o||(o={}),l=e(l||r);var c=o.readable||o.readable!==!1&&s.readable,u=o.writable||o.writable!==!1&&s.writable,d=function(){s.writable||g()},f=s._writableState&&s._writableState.finished,g=function(){u=!1,f=!0,c||l.call(s)},v=s._readableState&&s._readableState.endEmitted,y=function(){c=!1,v=!0,u||l.call(s)},x=function(N){l.call(s,N)},_=function(){var N;if(c&&!v)return(!s._readableState||!s._readableState.ended)&&(N=new t),l.call(s,N);if(u&&!f)return(!s._writableState||!s._writableState.ended)&&(N=new t),l.call(s,N)},S=function(){s.req.on("finish",g)};return n(s)?(s.on("complete",g),s.on("abort",_),s.req?S():s.on("request",S)):u&&!s._writableState&&(s.on("end",d),s.on("close",d)),s.on("end",y),s.on("finish",g),o.error!==!1&&s.on("error",x),s.on("close",_),function(){s.removeListener("complete",g),s.removeListener("abort",_),s.removeListener("request",S),s.req&&s.req.removeListener("finish",g),s.removeListener("end",d),s.removeListener("close",d),s.removeListener("finish",g),s.removeListener("end",y),s.removeListener("error",x),s.removeListener("close",_)}}return RN=i,RN}var MN,LB;function pAe(){if(LB)return MN;LB=1;var t;function e(N,A,E){return A=r(A),A in N?Object.defineProperty(N,A,{value:E,enumerable:!0,configurable:!0,writable:!0}):N[A]=E,N}function r(N){var A=n(N,"string");return typeof A=="symbol"?A:String(A)}function n(N,A){if(typeof N!="object"||N===null)return N;var E=N[Symbol.toPrimitive];if(E!==void 0){var k=E.call(N,A);if(typeof k!="object")return k;throw new TypeError("@@toPrimitive must return a primitive value.")}return(A==="string"?String:Number)(N)}var i=FI(),s=Symbol("lastResolve"),o=Symbol("lastReject"),l=Symbol("error"),c=Symbol("ended"),u=Symbol("lastPromise"),d=Symbol("handlePromise"),f=Symbol("stream");function g(N,A){return{value:N,done:A}}function v(N){var A=N[s];if(A!==null){var E=N[f].read();E!==null&&(N[u]=null,N[s]=null,N[o]=null,A(g(E,!1)))}}function y(N){process.nextTick(v,N)}function x(N,A){return function(E,k){N.then(function(){if(A[c]){E(g(void 0,!0));return}A[d](E,k)},k)}}var _=Object.getPrototypeOf(function(){}),S=Object.setPrototypeOf((t={get stream(){return this[f]},next:function(){var A=this,E=this[l];if(E!==null)return Promise.reject(E);if(this[c])return Promise.resolve(g(void 0,!0));if(this[f].destroyed)return new Promise(function(z,W){process.nextTick(function(){A[l]?W(A[l]):z(g(void 0,!0))})});var k=this[u],O;if(k)O=new Promise(x(k,this));else{var I=this[f].read();if(I!==null)return Promise.resolve(g(I,!1));O=new Promise(this[d])}return this[u]=O,O}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var A=this;return new Promise(function(E,k){A[f].destroy(null,function(O){if(O){k(O);return}E(g(void 0,!0))})})}),t),_),C=function(A){var E,k=Object.create(S,(E={},e(E,f,{value:A,writable:!0}),e(E,s,{value:null,writable:!0}),e(E,o,{value:null,writable:!0}),e(E,l,{value:null,writable:!0}),e(E,c,{value:A._readableState.endEmitted,writable:!0}),e(E,d,{value:function(I,z){var W=k[f].read();W?(k[u]=null,k[s]=null,k[o]=null,I(g(W,!1))):(k[s]=I,k[o]=z)},writable:!0}),E));return k[u]=null,i(A,function(O){if(O&&O.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=k[o];I!==null&&(k[u]=null,k[s]=null,k[o]=null,I(O)),k[l]=O;return}var z=k[s];z!==null&&(k[u]=null,k[s]=null,k[o]=null,z(g(void 0,!0))),k[c]=!0}),A.on("readable",y.bind(null,k)),k};return MN=C,MN}var IN,DB;function mAe(){return DB||(DB=1,IN=function(){throw new Error("Readable.from is not available in the browser")}),IN}var LN,$B;function Hee(){if($B)return LN;$B=1,LN=z;var t;z.ReadableState=I,Vp.EventEmitter;var e=function(J,Ee){return J.listeners(Ee).length},r=qee(),n=_x().Buffer,i=(typeof $s<"u"?$s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(ne){return n.from(ne)}function o(ne){return n.isBuffer(ne)||ne instanceof i}var l=Vp,c;l&&l.debuglog?c=l.debuglog("stream"):c=function(){};var u=fAe(),d=Uee(),f=Vee(),g=f.getHighWaterMark,v=Wm().codes,y=v.ERR_INVALID_ARG_TYPE,x=v.ERR_STREAM_PUSH_AFTER_EOF,_=v.ERR_METHOD_NOT_IMPLEMENTED,S=v.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,C,N,A;Sx()(z,r);var E=d.errorOrDestroy,k=["error","close","destroy","pause","resume"];function O(ne,J,Ee){if(typeof ne.prependListener=="function")return ne.prependListener(J,Ee);!ne._events||!ne._events[J]?ne.on(J,Ee):Array.isArray(ne._events[J])?ne._events[J].unshift(Ee):ne._events[J]=[Ee,ne._events[J]]}function I(ne,J,Ee){t=t||em(),ne=ne||{},typeof Ee!="boolean"&&(Ee=J instanceof t),this.objectMode=!!ne.objectMode,Ee&&(this.objectMode=this.objectMode||!!ne.readableObjectMode),this.highWaterMark=g(this,ne,"readableHighWaterMark",Ee),this.buffer=new u,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ne.emitClose!==!1,this.autoDestroy=!!ne.autoDestroy,this.destroyed=!1,this.defaultEncoding=ne.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ne.encoding&&(C||(C=MB().StringDecoder),this.decoder=new C(ne.encoding),this.encoding=ne.encoding)}function z(ne){if(t=t||em(),!(this instanceof z))return new z(ne);var J=this instanceof t;this._readableState=new I(ne,this,J),this.readable=!0,ne&&(typeof ne.read=="function"&&(this._read=ne.read),typeof ne.destroy=="function"&&(this._destroy=ne.destroy)),r.call(this)}Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),z.prototype.destroy=d.destroy,z.prototype._undestroy=d.undestroy,z.prototype._destroy=function(ne,J){J(ne)},z.prototype.push=function(ne,J){var Ee=this._readableState,Ne;return Ee.objectMode?Ne=!0:typeof ne=="string"&&(J=J||Ee.defaultEncoding,J!==Ee.encoding&&(ne=n.from(ne,J),J=""),Ne=!0),W(this,ne,J,!1,Ne)},z.prototype.unshift=function(ne){return W(this,ne,null,!0,!1)};function W(ne,J,Ee,Ne,Je){c("readableAddChunk",J);var Xe=ne._readableState;if(J===null)Xe.reading=!1,oe(ne,Xe);else{var Oe;if(Je||(Oe=q(Xe,J)),Oe)E(ne,Oe);else if(Xe.objectMode||J&&J.length>0)if(typeof J!="string"&&!Xe.objectMode&&Object.getPrototypeOf(J)!==n.prototype&&(J=s(J)),Ne)Xe.endEmitted?E(ne,new S):V(ne,Xe,J,!0);else if(Xe.ended)E(ne,new x);else{if(Xe.destroyed)return!1;Xe.reading=!1,Xe.decoder&&!Ee?(J=Xe.decoder.write(J),Xe.objectMode||J.length!==0?V(ne,Xe,J,!1):Z(ne,Xe)):V(ne,Xe,J,!1)}else Ne||(Xe.reading=!1,Z(ne,Xe))}return!Xe.ended&&(Xe.length<Xe.highWaterMark||Xe.length===0)}function V(ne,J,Ee,Ne){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,ne.emit("data",Ee)):(J.length+=J.objectMode?1:Ee.length,Ne?J.buffer.unshift(Ee):J.buffer.push(Ee),J.needReadable&&K(ne)),Z(ne,J)}function q(ne,J){var Ee;return!o(J)&&typeof J!="string"&&J!==void 0&&!ne.objectMode&&(Ee=new y("chunk",["string","Buffer","Uint8Array"],J)),Ee}z.prototype.isPaused=function(){return this._readableState.flowing===!1},z.prototype.setEncoding=function(ne){C||(C=MB().StringDecoder);var J=new C(ne);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ee=this._readableState.buffer.head,Ne="";Ee!==null;)Ne+=J.write(Ee.data),Ee=Ee.next;return this._readableState.buffer.clear(),Ne!==""&&this._readableState.buffer.push(Ne),this._readableState.length=Ne.length,this};var F=1073741824;function H(ne){return ne>=F?ne=F:(ne--,ne|=ne>>>1,ne|=ne>>>2,ne|=ne>>>4,ne|=ne>>>8,ne|=ne>>>16,ne++),ne}function Q(ne,J){return ne<=0||J.length===0&&J.ended?0:J.objectMode?1:ne!==ne?J.flowing&&J.length?J.buffer.head.data.length:J.length:(ne>J.highWaterMark&&(J.highWaterMark=H(ne)),ne<=J.length?ne:J.ended?J.length:(J.needReadable=!0,0))}z.prototype.read=function(ne){c("read",ne),ne=parseInt(ne,10);var J=this._readableState,Ee=ne;if(ne!==0&&(J.emittedReadable=!1),ne===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return c("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?_e(this):K(this),null;if(ne=Q(ne,J),ne===0&&J.ended)return J.length===0&&_e(this),null;var Ne=J.needReadable;c("need readable",Ne),(J.length===0||J.length-ne<J.highWaterMark)&&(Ne=!0,c("length less than watermark",Ne)),J.ended||J.reading?(Ne=!1,c("reading or ended",Ne)):Ne&&(c("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(ne=Q(Ee,J)));var Je;return ne>0?Je=ue(ne,J):Je=null,Je===null?(J.needReadable=J.length<=J.highWaterMark,ne=0):(J.length-=ne,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),Ee!==ne&&J.ended&&_e(this)),Je!==null&&this.emit("data",Je),Je};function oe(ne,J){if(c("onEofChunk"),!J.ended){if(J.decoder){var Ee=J.decoder.end();Ee&&Ee.length&&(J.buffer.push(Ee),J.length+=J.objectMode?1:Ee.length)}J.ended=!0,J.sync?K(ne):(J.needReadable=!1,J.emittedReadable||(J.emittedReadable=!0,te(ne)))}}function K(ne){var J=ne._readableState;c("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(c("emitReadable",J.flowing),J.emittedReadable=!0,process.nextTick(te,ne))}function te(ne){var J=ne._readableState;c("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&(J.length||J.ended)&&(ne.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,pe(ne)}function Z(ne,J){J.readingMore||(J.readingMore=!0,process.nextTick(se,ne,J))}function se(ne,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var Ee=J.length;if(c("maybeReadMore read 0"),ne.read(0),Ee===J.length)break}J.readingMore=!1}z.prototype._read=function(ne){E(this,new _("_read()"))},z.prototype.pipe=function(ne,J){var Ee=this,Ne=this._readableState;switch(Ne.pipesCount){case 0:Ne.pipes=ne;break;case 1:Ne.pipes=[Ne.pipes,ne];break;default:Ne.pipes.push(ne);break}Ne.pipesCount+=1,c("pipe count=%d opts=%j",Ne.pipesCount,J);var Je=(!J||J.end!==!1)&&ne!==process.stdout&&ne!==process.stderr,Xe=Je?mt:Ae;Ne.endEmitted?process.nextTick(Xe):Ee.once("end",Xe),ne.on("unpipe",Oe);function Oe(Y,D){c("onunpipe"),Y===Ee&&D&&D.hasUnpiped===!1&&(D.hasUnpiped=!0,Pe())}function mt(){c("onend"),ne.end()}var Gt=X(Ee);ne.on("drain",Gt);var ge=!1;function Pe(){c("cleanup"),ne.removeListener("close",at),ne.removeListener("finish",le),ne.removeListener("drain",Gt),ne.removeListener("error",rt),ne.removeListener("unpipe",Oe),Ee.removeListener("end",mt),Ee.removeListener("end",Ae),Ee.removeListener("data",$e),ge=!0,Ne.awaitDrain&&(!ne._writableState||ne._writableState.needDrain)&&Gt()}Ee.on("data",$e);function $e(Y){c("ondata");var D=ne.write(Y);c("dest.write",D),D===!1&&((Ne.pipesCount===1&&Ne.pipes===ne||Ne.pipesCount>1&&Ie(Ne.pipes,ne)!==-1)&&!ge&&(c("false write response, pause",Ne.awaitDrain),Ne.awaitDrain++),Ee.pause())}function rt(Y){c("onerror",Y),Ae(),ne.removeListener("error",rt),e(ne,"error")===0&&E(ne,Y)}O(ne,"error",rt);function at(){ne.removeListener("finish",le),Ae()}ne.once("close",at);function le(){c("onfinish"),ne.removeListener("close",at),Ae()}ne.once("finish",le);function Ae(){c("unpipe"),Ee.unpipe(ne)}return ne.emit("pipe",Ee),Ne.flowing||(c("pipe resume"),Ee.resume()),ne};function X(ne){return function(){var Ee=ne._readableState;c("pipeOnDrain",Ee.awaitDrain),Ee.awaitDrain&&Ee.awaitDrain--,Ee.awaitDrain===0&&e(ne,"data")&&(Ee.flowing=!0,pe(ne))}}z.prototype.unpipe=function(ne){var J=this._readableState,Ee={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return ne&&ne!==J.pipes?this:(ne||(ne=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,ne&&ne.emit("unpipe",this,Ee),this);if(!ne){var Ne=J.pipes,Je=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var Xe=0;Xe<Je;Xe++)Ne[Xe].emit("unpipe",this,{hasUnpiped:!1});return this}var Oe=Ie(J.pipes,ne);return Oe===-1?this:(J.pipes.splice(Oe,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),ne.emit("unpipe",this,Ee),this)},z.prototype.on=function(ne,J){var Ee=r.prototype.on.call(this,ne,J),Ne=this._readableState;return ne==="data"?(Ne.readableListening=this.listenerCount("readable")>0,Ne.flowing!==!1&&this.resume()):ne==="readable"&&!Ne.endEmitted&&!Ne.readableListening&&(Ne.readableListening=Ne.needReadable=!0,Ne.flowing=!1,Ne.emittedReadable=!1,c("on readable",Ne.length,Ne.reading),Ne.length?K(this):Ne.reading||process.nextTick(je,this)),Ee},z.prototype.addListener=z.prototype.on,z.prototype.removeListener=function(ne,J){var Ee=r.prototype.removeListener.call(this,ne,J);return ne==="readable"&&process.nextTick(ce,this),Ee},z.prototype.removeAllListeners=function(ne){var J=r.prototype.removeAllListeners.apply(this,arguments);return(ne==="readable"||ne===void 0)&&process.nextTick(ce,this),J};function ce(ne){var J=ne._readableState;J.readableListening=ne.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:ne.listenerCount("data")>0&&ne.resume()}function je(ne){c("readable nexttick read 0"),ne.read(0)}z.prototype.resume=function(){var ne=this._readableState;return ne.flowing||(c("resume"),ne.flowing=!ne.readableListening,Te(this,ne)),ne.paused=!1,this};function Te(ne,J){J.resumeScheduled||(J.resumeScheduled=!0,process.nextTick(qe,ne,J))}function qe(ne,J){c("resume",J.reading),J.reading||ne.read(0),J.resumeScheduled=!1,ne.emit("resume"),pe(ne),J.flowing&&!J.reading&&ne.read(0)}z.prototype.pause=function(){return c("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(c("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function pe(ne){var J=ne._readableState;for(c("flow",J.flowing);J.flowing&&ne.read()!==null;);}z.prototype.wrap=function(ne){var J=this,Ee=this._readableState,Ne=!1;ne.on("end",function(){if(c("wrapped end"),Ee.decoder&&!Ee.ended){var Oe=Ee.decoder.end();Oe&&Oe.length&&J.push(Oe)}J.push(null)}),ne.on("data",function(Oe){if(c("wrapped data"),Ee.decoder&&(Oe=Ee.decoder.write(Oe)),!(Ee.objectMode&&Oe==null)&&!(!Ee.objectMode&&(!Oe||!Oe.length))){var mt=J.push(Oe);mt||(Ne=!0,ne.pause())}});for(var Je in ne)this[Je]===void 0&&typeof ne[Je]=="function"&&(this[Je]=function(mt){return function(){return ne[mt].apply(ne,arguments)}}(Je));for(var Xe=0;Xe<k.length;Xe++)ne.on(k[Xe],this.emit.bind(this,k[Xe]));return this._read=function(Oe){c("wrapped _read",Oe),Ne&&(Ne=!1,ne.resume())},this},typeof Symbol=="function"&&(z.prototype[Symbol.asyncIterator]=function(){return N===void 0&&(N=pAe()),N(this)}),Object.defineProperty(z.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(z.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(z.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),z._fromList=ue,Object.defineProperty(z.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function ue(ne,J){if(J.length===0)return null;var Ee;return J.objectMode?Ee=J.buffer.shift():!ne||ne>=J.length?(J.decoder?Ee=J.buffer.join(""):J.buffer.length===1?Ee=J.buffer.first():Ee=J.buffer.concat(J.length),J.buffer.clear()):Ee=J.buffer.consume(ne,J.decoder),Ee}function _e(ne){var J=ne._readableState;c("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,process.nextTick(ye,J,ne))}function ye(ne,J){if(c("endReadableNT",ne.endEmitted,ne.length),!ne.endEmitted&&ne.length===0&&(ne.endEmitted=!0,J.readable=!1,J.emit("end"),ne.autoDestroy)){var Ee=J._writableState;(!Ee||Ee.autoDestroy&&Ee.finished)&&J.destroy()}}typeof Symbol=="function"&&(z.from=function(ne,J){return A===void 0&&(A=mAe()),A(z,ne,J)});function Ie(ne,J){for(var Ee=0,Ne=ne.length;Ee<Ne;Ee++)if(ne[Ee]===J)return Ee;return-1}return LN}var DN,FB;function Kee(){if(FB)return DN;FB=1,DN=l;var t=Wm().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,i=t.ERR_TRANSFORM_WITH_LENGTH_0,s=em();Sx()(l,s);function o(d,f){var g=this._transformState;g.transforming=!1;var v=g.writecb;if(v===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,f!=null&&this.push(f),v(d);var y=this._readableState;y.reading=!1,(y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}function l(d){if(!(this instanceof l))return new l(d);s.call(this,d),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,d&&(typeof d.transform=="function"&&(this._transform=d.transform),typeof d.flush=="function"&&(this._flush=d.flush)),this.on("prefinish",c)}function c(){var d=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,g){u(d,f,g)}):u(this,null,null)}l.prototype.push=function(d,f){return this._transformState.needTransform=!1,s.prototype.push.call(this,d,f)},l.prototype._transform=function(d,f,g){g(new e("_transform()"))},l.prototype._write=function(d,f,g){var v=this._transformState;if(v.writecb=g,v.writechunk=d,v.writeencoding=f,!v.transforming){var y=this._readableState;(v.needTransform||y.needReadable||y.length<y.highWaterMark)&&this._read(y.highWaterMark)}},l.prototype._read=function(d){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},l.prototype._destroy=function(d,f){s.prototype._destroy.call(this,d,function(g){f(g)})};function u(d,f,g){if(f)return d.emit("error",f);if(g!=null&&d.push(g),d._writableState.length)throw new i;if(d._transformState.transforming)throw new n;return d.push(null)}return DN}var $N,BB;function gAe(){if(BB)return $N;BB=1,$N=e;var t=Kee();Sx()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,i){i(null,r)},$N}var FN,zB;function vAe(){if(zB)return FN;zB=1;var t;function e(g){var v=!1;return function(){v||(v=!0,g.apply(void 0,arguments))}}var r=Wm().codes,n=r.ERR_MISSING_ARGS,i=r.ERR_STREAM_DESTROYED;function s(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function l(g,v,y,x){x=e(x);var _=!1;g.on("close",function(){_=!0}),t===void 0&&(t=FI()),t(g,{readable:v,writable:y},function(C){if(C)return x(C);_=!0,x()});var S=!1;return function(C){if(!_&&!S){if(S=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();x(C||new i("pipe"))}}}function c(g){g()}function u(g,v){return g.pipe(v)}function d(g){return!g.length||typeof g[g.length-1]!="function"?s:g.pop()}function f(){for(var g=arguments.length,v=new Array(g),y=0;y<g;y++)v[y]=arguments[y];var x=d(v);if(Array.isArray(v[0])&&(v=v[0]),v.length<2)throw new n("streams");var _,S=v.map(function(C,N){var A=N<v.length-1,E=N>0;return l(C,A,E,function(k){_||(_=k),k&&S.forEach(c),!A&&(S.forEach(c),x(_))})});return v.reduce(u)}return FN=f,FN}var qB;function yAe(){return qB||(qB=1,function(t,e){e=t.exports=Hee(),e.Stream=e,e.Readable=e,e.Writable=Wee(),e.Duplex=em(),e.Transform=Kee(),e.PassThrough=gAe(),e.finished=FI(),e.pipeline=vAe()}(mb,mb.exports)),mb.exports}/*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var BN,UB;function xAe(){if(UB)return BN;UB=1;let t;return BN=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:$s):e=>(t||(t=Promise.resolve())).then(e).catch(r=>setTimeout(()=>{throw r},0)),BN}var zN,VB;function bAe(){if(VB)return zN;VB=1;function t(r,n){for(const i in n)Object.defineProperty(r,i,{value:n[i],enumerable:!0,configurable:!0});return r}function e(r,n,i){if(!r||typeof r=="string")throw new TypeError("Please pass an Error to err-code");i||(i={}),typeof n=="object"&&(i=n,n=""),n&&(i.code=n);try{return t(r,i)}catch{i.message=r.message,i.stack=r.stack;const o=function(){};return o.prototype=Object.create(Object.getPrototypeOf(r)),t(new o,i)}}return zN=e,zN}/*! simple-peer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var qN,WB;function wAe(){if(WB)return qN;WB=1;const t=oAe()("simple-peer"),e=lAe(),r=dAe(),n=yAe(),i=xAe(),s=bAe(),{Buffer:o}=_x(),l=64*1024,c=5*1e3,u=5*1e3;function d(v){return v.replace(/a=ice-options:trickle\s\n/g,"")}function f(v){console.warn(v)}class g extends n.Duplex{constructor(y){if(y=Object.assign({allowHalfOpen:!1},y),super(y),this._id=r(4).toString("hex").slice(0,7),this._debug("new peer %o",y),this.channelName=y.initiator?y.channelName||r(20).toString("hex"):null,this.initiator=y.initiator||!1,this.channelConfig=y.channelConfig||g.channelConfig,this.channelNegotiated=this.channelConfig.negotiated,this.config=Object.assign({},g.config,y.config),this.offerOptions=y.offerOptions||{},this.answerOptions=y.answerOptions||{},this.sdpTransform=y.sdpTransform||(x=>x),this.streams=y.streams||(y.stream?[y.stream]:[]),this.trickle=y.trickle!==void 0?y.trickle:!0,this.allowHalfTrickle=y.allowHalfTrickle!==void 0?y.allowHalfTrickle:!1,this.iceCompleteTimeout=y.iceCompleteTimeout||c,this.destroyed=!1,this.destroying=!1,this._connected=!1,this.remoteAddress=void 0,this.remoteFamily=void 0,this.remotePort=void 0,this.localAddress=void 0,this.localFamily=void 0,this.localPort=void 0,this._wrtc=y.wrtc&&typeof y.wrtc=="object"?y.wrtc:e(),!this._wrtc)throw s(typeof window>"u"?new Error("No WebRTC support: Specify `opts.wrtc` option in this environment"):new Error("No WebRTC support: Not a supported browser"),"ERR_WEBRTC_SUPPORT");this._pcReady=!1,this._channelReady=!1,this._iceComplete=!1,this._iceCompleteTimer=null,this._channel=null,this._pendingCandidates=[],this._isNegotiating=!1,this._firstNegotiation=!0,this._batchedNegotiation=!1,this._queuedNegotiation=!1,this._sendersAwaitingStable=[],this._senderMap=new Map,this._closingInterval=null,this._remoteTracks=[],this._remoteStreams=[],this._chunk=null,this._cb=null,this._interval=null;try{this._pc=new this._wrtc.RTCPeerConnection(this.config)}catch(x){this.destroy(s(x,"ERR_PC_CONSTRUCTOR"));return}this._isReactNativeWebrtc=typeof this._pc._peerConnectionId=="number",this._pc.oniceconnectionstatechange=()=>{this._onIceStateChange()},this._pc.onicegatheringstatechange=()=>{this._onIceStateChange()},this._pc.onconnectionstatechange=()=>{this._onConnectionStateChange()},this._pc.onsignalingstatechange=()=>{this._onSignalingStateChange()},this._pc.onicecandidate=x=>{this._onIceCandidate(x)},typeof this._pc.peerIdentity=="object"&&this._pc.peerIdentity.catch(x=>{this.destroy(s(x,"ERR_PC_PEER_IDENTITY"))}),this.initiator||this.channelNegotiated?this._setupData({channel:this._pc.createDataChannel(this.channelName,this.channelConfig)}):this._pc.ondatachannel=x=>{this._setupData(x)},this.streams&&this.streams.forEach(x=>{this.addStream(x)}),this._pc.ontrack=x=>{this._onTrack(x)},this._debug("initial negotiation"),this._needsNegotiation(),this._onFinishBound=()=>{this._onFinish()},this.once("finish",this._onFinishBound)}get bufferSize(){return this._channel&&this._channel.bufferedAmount||0}get connected(){return this._connected&&this._channel.readyState==="open"}address(){return{port:this.localPort,family:this.localFamily,address:this.localAddress}}signal(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot signal after peer is destroyed"),"ERR_DESTROYED");if(typeof y=="string")try{y=JSON.parse(y)}catch{y={}}this._debug("signal()"),y.renegotiate&&this.initiator&&(this._debug("got request to renegotiate"),this._needsNegotiation()),y.transceiverRequest&&this.initiator&&(this._debug("got request for transceiver"),this.addTransceiver(y.transceiverRequest.kind,y.transceiverRequest.init)),y.candidate&&(this._pc.remoteDescription&&this._pc.remoteDescription.type?this._addIceCandidate(y.candidate):this._pendingCandidates.push(y.candidate)),y.sdp&&this._pc.setRemoteDescription(new this._wrtc.RTCSessionDescription(y)).then(()=>{this.destroyed||(this._pendingCandidates.forEach(x=>{this._addIceCandidate(x)}),this._pendingCandidates=[],this._pc.remoteDescription.type==="offer"&&this._createAnswer())}).catch(x=>{this.destroy(s(x,"ERR_SET_REMOTE_DESCRIPTION"))}),!y.sdp&&!y.candidate&&!y.renegotiate&&!y.transceiverRequest&&this.destroy(s(new Error("signal() called with invalid signal data"),"ERR_SIGNALING"))}}_addIceCandidate(y){const x=new this._wrtc.RTCIceCandidate(y);this._pc.addIceCandidate(x).catch(_=>{!x.address||x.address.endsWith(".local")?f("Ignoring unsupported ICE candidate."):this.destroy(s(_,"ERR_ADD_ICE_CANDIDATE"))})}send(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot send after peer is destroyed"),"ERR_DESTROYED");this._channel.send(y)}}addTransceiver(y,x){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addTransceiver after peer is destroyed"),"ERR_DESTROYED");if(this._debug("addTransceiver()"),this.initiator)try{this._pc.addTransceiver(y,x),this._needsNegotiation()}catch(_){this.destroy(s(_,"ERR_ADD_TRANSCEIVER"))}else this.emit("signal",{type:"transceiverRequest",transceiverRequest:{kind:y,init:x}})}}addStream(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot addStream after peer is destroyed"),"ERR_DESTROYED");this._debug("addStream()"),y.getTracks().forEach(x=>{this.addTrack(x,y)})}}addTrack(y,x){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot addTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("addTrack()");const _=this._senderMap.get(y)||new Map;let S=_.get(x);if(!S)S=this._pc.addTrack(y,x),_.set(x,S),this._senderMap.set(y,_),this._needsNegotiation();else throw S.removed?s(new Error("Track has been removed. You should enable/disable tracks that you want to re-add."),"ERR_SENDER_REMOVED"):s(new Error("Track has already been added to that stream."),"ERR_SENDER_ALREADY_ADDED")}replaceTrack(y,x,_){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot replaceTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("replaceTrack()");const S=this._senderMap.get(y),C=S?S.get(_):null;if(!C)throw s(new Error("Cannot replace track that was never added."),"ERR_TRACK_NOT_ADDED");x&&this._senderMap.set(x,S),C.replaceTrack!=null?C.replaceTrack(x):this.destroy(s(new Error("replaceTrack is not supported in this browser"),"ERR_UNSUPPORTED_REPLACETRACK"))}removeTrack(y,x){if(this.destroying)return;if(this.destroyed)throw s(new Error("cannot removeTrack after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSender()");const _=this._senderMap.get(y),S=_?_.get(x):null;if(!S)throw s(new Error("Cannot remove track that was never added."),"ERR_TRACK_NOT_ADDED");try{S.removed=!0,this._pc.removeTrack(S)}catch(C){C.name==="NS_ERROR_UNEXPECTED"?this._sendersAwaitingStable.push(S):this.destroy(s(C,"ERR_REMOVE_TRACK"))}this._needsNegotiation()}removeStream(y){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot removeStream after peer is destroyed"),"ERR_DESTROYED");this._debug("removeSenders()"),y.getTracks().forEach(x=>{this.removeTrack(x,y)})}}_needsNegotiation(){this._debug("_needsNegotiation"),!this._batchedNegotiation&&(this._batchedNegotiation=!0,i(()=>{this._batchedNegotiation=!1,this.initiator||!this._firstNegotiation?(this._debug("starting batched negotiation"),this.negotiate()):this._debug("non-initiator initial negotiation request discarded"),this._firstNegotiation=!1}))}negotiate(){if(!this.destroying){if(this.destroyed)throw s(new Error("cannot negotiate after peer is destroyed"),"ERR_DESTROYED");this.initiator?this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("start negotiation"),setTimeout(()=>{this._createOffer()},0)):this._isNegotiating?(this._queuedNegotiation=!0,this._debug("already negotiating, queueing")):(this._debug("requesting negotiation from initiator"),this.emit("signal",{type:"renegotiate",renegotiate:!0})),this._isNegotiating=!0}}destroy(y){this._destroy(y,()=>{})}_destroy(y,x){this.destroyed||this.destroying||(this.destroying=!0,this._debug("destroying (error: %s)",y&&(y.message||y)),i(()=>{if(this.destroyed=!0,this.destroying=!1,this._debug("destroy (error: %s)",y&&(y.message||y)),this.readable=this.writable=!1,this._readableState.ended||this.push(null),this._writableState.finished||this.end(),this._connected=!1,this._pcReady=!1,this._channelReady=!1,this._remoteTracks=null,this._remoteStreams=null,this._senderMap=null,clearInterval(this._closingInterval),this._closingInterval=null,clearInterval(this._interval),this._interval=null,this._chunk=null,this._cb=null,this._onFinishBound&&this.removeListener("finish",this._onFinishBound),this._onFinishBound=null,this._channel){try{this._channel.close()}catch{}this._channel.onmessage=null,this._channel.onopen=null,this._channel.onclose=null,this._channel.onerror=null}if(this._pc){try{this._pc.close()}catch{}this._pc.oniceconnectionstatechange=null,this._pc.onicegatheringstatechange=null,this._pc.onsignalingstatechange=null,this._pc.onicecandidate=null,this._pc.ontrack=null,this._pc.ondatachannel=null}this._pc=null,this._channel=null,y&&this.emit("error",y),this.emit("close"),x()}))}_setupData(y){if(!y.channel)return this.destroy(s(new Error("Data channel event is missing `channel` property"),"ERR_DATA_CHANNEL"));this._channel=y.channel,this._channel.binaryType="arraybuffer",typeof this._channel.bufferedAmountLowThreshold=="number"&&(this._channel.bufferedAmountLowThreshold=l),this.channelName=this._channel.label,this._channel.onmessage=_=>{this._onChannelMessage(_)},this._channel.onbufferedamountlow=()=>{this._onChannelBufferedAmountLow()},this._channel.onopen=()=>{this._onChannelOpen()},this._channel.onclose=()=>{this._onChannelClose()},this._channel.onerror=_=>{const S=_.error instanceof Error?_.error:new Error(`Datachannel error: ${_.message} ${_.filename}:${_.lineno}:${_.colno}`);this.destroy(s(S,"ERR_DATA_CHANNEL"))};let x=!1;this._closingInterval=setInterval(()=>{this._channel&&this._channel.readyState==="closing"?(x&&this._onChannelClose(),x=!0):x=!1},u)}_read(){}_write(y,x,_){if(this.destroyed)return _(s(new Error("cannot write after peer is destroyed"),"ERR_DATA_CHANNEL"));if(this._connected){try{this.send(y)}catch(S){return this.destroy(s(S,"ERR_DATA_CHANNEL"))}this._channel.bufferedAmount>l?(this._debug("start backpressure: bufferedAmount %d",this._channel.bufferedAmount),this._cb=_):_(null)}else this._debug("write before connect"),this._chunk=y,this._cb=_}_onFinish(){if(this.destroyed)return;const y=()=>{setTimeout(()=>this.destroy(),1e3)};this._connected?y():this.once("connect",y)}_startIceCompleteTimeout(){this.destroyed||this._iceCompleteTimer||(this._debug("started iceComplete timeout"),this._iceCompleteTimer=setTimeout(()=>{this._iceComplete||(this._iceComplete=!0,this._debug("iceComplete timeout completed"),this.emit("iceTimeout"),this.emit("_iceComplete"))},this.iceCompleteTimeout))}_createOffer(){this.destroyed||this._pc.createOffer(this.offerOptions).then(y=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(y.sdp=d(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const x=()=>{if(this.destroyed)return;const C=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:C.type,sdp:C.sdp})},_=()=>{this._debug("createOffer success"),!this.destroyed&&(this.trickle||this._iceComplete?x():this.once("_iceComplete",x))},S=C=>{this.destroy(s(C,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(y).then(_).catch(S)}).catch(y=>{this.destroy(s(y,"ERR_CREATE_OFFER"))})}_requestMissingTransceivers(){this._pc.getTransceivers&&this._pc.getTransceivers().forEach(y=>{!y.mid&&y.sender.track&&!y.requested&&(y.requested=!0,this.addTransceiver(y.sender.track.kind))})}_createAnswer(){this.destroyed||this._pc.createAnswer(this.answerOptions).then(y=>{if(this.destroyed)return;!this.trickle&&!this.allowHalfTrickle&&(y.sdp=d(y.sdp)),y.sdp=this.sdpTransform(y.sdp);const x=()=>{if(this.destroyed)return;const C=this._pc.localDescription||y;this._debug("signal"),this.emit("signal",{type:C.type,sdp:C.sdp}),this.initiator||this._requestMissingTransceivers()},_=()=>{this.destroyed||(this.trickle||this._iceComplete?x():this.once("_iceComplete",x))},S=C=>{this.destroy(s(C,"ERR_SET_LOCAL_DESCRIPTION"))};this._pc.setLocalDescription(y).then(_).catch(S)}).catch(y=>{this.destroy(s(y,"ERR_CREATE_ANSWER"))})}_onConnectionStateChange(){this.destroyed||this._pc.connectionState==="failed"&&this.destroy(s(new Error("Connection failed."),"ERR_CONNECTION_FAILURE"))}_onIceStateChange(){if(this.destroyed)return;const y=this._pc.iceConnectionState,x=this._pc.iceGatheringState;this._debug("iceStateChange (connection: %s) (gathering: %s)",y,x),this.emit("iceStateChange",y,x),(y==="connected"||y==="completed")&&(this._pcReady=!0,this._maybeReady()),y==="failed"&&this.destroy(s(new Error("Ice connection failed."),"ERR_ICE_CONNECTION_FAILURE")),y==="closed"&&this.destroy(s(new Error("Ice connection closed."),"ERR_ICE_CONNECTION_CLOSED"))}getStats(y){const x=_=>(Object.prototype.toString.call(_.values)==="[object Array]"&&_.values.forEach(S=>{Object.assign(_,S)}),_);this._pc.getStats.length===0||this._isReactNativeWebrtc?this._pc.getStats().then(_=>{const S=[];_.forEach(C=>{S.push(x(C))}),y(null,S)},_=>y(_)):this._pc.getStats.length>0?this._pc.getStats(_=>{if(this.destroyed)return;const S=[];_.result().forEach(C=>{const N={};C.names().forEach(A=>{N[A]=C.stat(A)}),N.id=C.id,N.type=C.type,N.timestamp=C.timestamp,S.push(x(N))}),y(null,S)},_=>y(_)):y(null,[])}_maybeReady(){if(this._debug("maybeReady pc %s channel %s",this._pcReady,this._channelReady),this._connected||this._connecting||!this._pcReady||!this._channelReady)return;this._connecting=!0;const y=()=>{this.destroyed||this.getStats((x,_)=>{if(this.destroyed)return;x&&(_=[]);const S={},C={},N={};let A=!1;_.forEach(k=>{(k.type==="remotecandidate"||k.type==="remote-candidate")&&(S[k.id]=k),(k.type==="localcandidate"||k.type==="local-candidate")&&(C[k.id]=k),(k.type==="candidatepair"||k.type==="candidate-pair")&&(N[k.id]=k)});const E=k=>{A=!0;let O=C[k.localCandidateId];O&&(O.ip||O.address)?(this.localAddress=O.ip||O.address,this.localPort=Number(O.port)):O&&O.ipAddress?(this.localAddress=O.ipAddress,this.localPort=Number(O.portNumber)):typeof k.googLocalAddress=="string"&&(O=k.googLocalAddress.split(":"),this.localAddress=O[0],this.localPort=Number(O[1])),this.localAddress&&(this.localFamily=this.localAddress.includes(":")?"IPv6":"IPv4");let I=S[k.remoteCandidateId];I&&(I.ip||I.address)?(this.remoteAddress=I.ip||I.address,this.remotePort=Number(I.port)):I&&I.ipAddress?(this.remoteAddress=I.ipAddress,this.remotePort=Number(I.portNumber)):typeof k.googRemoteAddress=="string"&&(I=k.googRemoteAddress.split(":"),this.remoteAddress=I[0],this.remotePort=Number(I[1])),this.remoteAddress&&(this.remoteFamily=this.remoteAddress.includes(":")?"IPv6":"IPv4"),this._debug("connect local: %s:%s remote: %s:%s",this.localAddress,this.localPort,this.remoteAddress,this.remotePort)};if(_.forEach(k=>{k.type==="transport"&&k.selectedCandidatePairId&&E(N[k.selectedCandidatePairId]),(k.type==="googCandidatePair"&&k.googActiveConnection==="true"||(k.type==="candidatepair"||k.type==="candidate-pair")&&k.selected)&&E(k)}),!A&&(!Object.keys(N).length||Object.keys(C).length)){setTimeout(y,100);return}else this._connecting=!1,this._connected=!0;if(this._chunk){try{this.send(this._chunk)}catch(O){return this.destroy(s(O,"ERR_DATA_CHANNEL"))}this._chunk=null,this._debug('sent chunk from "write before connect"');const k=this._cb;this._cb=null,k(null)}typeof this._channel.bufferedAmountLowThreshold!="number"&&(this._interval=setInterval(()=>this._onInterval(),150),this._interval.unref&&this._interval.unref()),this._debug("connect"),this.emit("connect")})};y()}_onInterval(){!this._cb||!this._channel||this._channel.bufferedAmount>l||this._onChannelBufferedAmountLow()}_onSignalingStateChange(){this.destroyed||(this._pc.signalingState==="stable"&&(this._isNegotiating=!1,this._debug("flushing sender queue",this._sendersAwaitingStable),this._sendersAwaitingStable.forEach(y=>{this._pc.removeTrack(y),this._queuedNegotiation=!0}),this._sendersAwaitingStable=[],this._queuedNegotiation?(this._debug("flushing negotiation queue"),this._queuedNegotiation=!1,this._needsNegotiation()):(this._debug("negotiated"),this.emit("negotiated"))),this._debug("signalingStateChange %s",this._pc.signalingState),this.emit("signalingStateChange",this._pc.signalingState))}_onIceCandidate(y){this.destroyed||(y.candidate&&this.trickle?this.emit("signal",{type:"candidate",candidate:{candidate:y.candidate.candidate,sdpMLineIndex:y.candidate.sdpMLineIndex,sdpMid:y.candidate.sdpMid}}):!y.candidate&&!this._iceComplete&&(this._iceComplete=!0,this.emit("_iceComplete")),y.candidate&&this._startIceCompleteTimeout())}_onChannelMessage(y){if(this.destroyed)return;let x=y.data;x instanceof ArrayBuffer&&(x=o.from(x)),this.push(x)}_onChannelBufferedAmountLow(){if(this.destroyed||!this._cb)return;this._debug("ending backpressure: bufferedAmount %d",this._channel.bufferedAmount);const y=this._cb;this._cb=null,y(null)}_onChannelOpen(){this._connected||this.destroyed||(this._debug("on channel open"),this._channelReady=!0,this._maybeReady())}_onChannelClose(){this.destroyed||(this._debug("on channel close"),this.destroy())}_onTrack(y){this.destroyed||y.streams.forEach(x=>{this._debug("on track"),this.emit("track",y.track,x),this._remoteTracks.push({track:y.track,stream:x}),!this._remoteStreams.some(_=>_.id===x.id)&&(this._remoteStreams.push(x),i(()=>{this._debug("on stream"),this.emit("stream",x)}))})}_debug(){const y=[].slice.call(arguments);y[0]="["+this._id+"] "+y[0],t.apply(null,y)}}return g.WEBRTC_SUPPORT=!!e(),g.config={iceServers:[{urls:["stun:stun.l.google.com:19302","stun:global.stun.twilio.com:3478"]}],sdpSemantics:"unified-plan"},g.channelConfig={},qN=g,qN}var _Ae=wAe();const HB=Nr(_Ae);var SAe={};class jAe{constructor(){this.socket=null,this.peer=null,this.localStream=null,this.remoteStream=null,this.callState="idle",this.callDuration=0,this.callTimer=null,this.callStartTime=null,this.onCallStateChange=null,this.onRemoteStream=null,this.onCallDuration=null,this.onError=null,this.config={iceServers:[{urls:"stun:stun.l.google.com:19302"},{urls:"stun:stun1.l.google.com:19302"},{urls:"stun:stun2.l.google.com:19302"}],audio:!0,video:!1}}async initialize(e,r){try{return this.socket=Kb(SAe.REACT_APP_SIGNALING_SERVER||"http://localhost:3001",{query:{userId:e,roomId:r}}),this.setupSocketListeners(),await this.requestAudioPermission(),!0}catch(n){return console.error("Erreur initialisation AudioCall:",n),this.handleError(n),!1}}async requestAudioPermission(){try{return this.localStream=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,autoGainControl:!0,sampleRate:44100},video:!1}),console.log("Accès microphone accordé"),!0}catch(e){throw console.error("Erreur accès microphone:",e),new Error("Accès au microphone refusé. Veuillez autoriser l'accès audio.")}}setupSocketListeners(){this.socket&&(this.socket.on("incoming-call",e=>{console.log("Appel entrant de:",e.callerId),this.callState="incoming",this.triggerCallStateChange()}),this.socket.on("call-answered",e=>{console.log("Appel répondu par:",e.answererId),this.handleCallAnswered(e)}),this.socket.on("call-rejected",e=>{console.log("Appel refusé par:",e.rejecterId),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}),this.socket.on("call-ended",e=>{console.log("Appel terminé par:",e.enderId),this.endCall()}),this.socket.on("webrtc-signal",e=>{this.peer&&this.peer.signal(e.signal)}),this.socket.on("connect",()=>{console.log("Connecté au serveur de signalisation")}),this.socket.on("disconnect",()=>{console.log("Déconnecté du serveur de signalisation"),this.handleError(new Error("Connexion perdue au serveur"))}))}async startCall(e,r){try{if(this.callState!=="idle")throw new Error("Un appel est déjà en cours");return this.localStream||await this.requestAudioPermission(),this.callState="calling",this.triggerCallStateChange(),this.peer=new HB({initiator:!0,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("start-call",{targetUserId:e,roomId:r,callerId:this.socket.id}),!0}catch(n){return console.error("Erreur démarrage appel:",n),this.handleError(n),!1}}async answerCall(e,r){try{if(this.callState!=="incoming")throw new Error("Aucun appel entrant");return this.localStream||await this.requestAudioPermission(),this.callState="connected",this.triggerCallStateChange(),this.peer=new HB({initiator:!1,trickle:!1,stream:this.localStream,config:{iceServers:this.config.iceServers}}),this.setupPeerListeners(),this.socket.emit("answer-call",{callerId:e,roomId:r,answererId:this.socket.id}),this.startCallTimer(),!0}catch(n){return console.error("Erreur réponse appel:",n),this.handleError(n),!1}}rejectCall(e,r){try{this.socket.emit("reject-call",{callerId:e,roomId:r,rejecterId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(n){console.error("Erreur refus appel:",n),this.handleError(n)}}endCall(){try{this.callState==="connected"&&this.socket.emit("end-call",{enderId:this.socket.id}),this.callState="ended",this.triggerCallStateChange(),this.cleanup()}catch(e){console.error("Erreur fin appel:",e),this.handleError(e)}}setupPeerListeners(){this.peer&&(this.peer.on("signal",e=>{this.socket.emit("webrtc-signal",{signal:e})}),this.peer.on("connect",()=>{console.log("Connexion WebRTC établie"),this.callState="connected",this.triggerCallStateChange(),this.startCallTimer()}),this.peer.on("stream",e=>{this.remoteStream=e,this.onRemoteStream&&this.onRemoteStream(e)}),this.peer.on("error",e=>{console.error("Erreur WebRTC:",e),this.handleError(e)}),this.peer.on("close",()=>{console.log("Connexion WebRTC fermée"),this.endCall()}))}startCallTimer(){this.callStartTime=Date.now(),this.callDuration=0,this.callTimer=setInterval(()=>{this.callDuration=Math.floor((Date.now()-this.callStartTime)/1e3),this.onCallDuration&&this.onCallDuration(this.callDuration)},1e3)}handleCallAnswered(e){this.peer&&this.callState==="calling"&&(this.callState="connected",this.triggerCallStateChange(),this.startCallTimer())}cleanup(){this.callTimer&&(clearInterval(this.callTimer),this.callTimer=null),this.peer&&(this.peer.destroy(),this.peer=null),this.localStream&&(this.localStream.getTracks().forEach(e=>e.stop()),this.localStream=null),this.callState="idle",this.callDuration=0,this.callStartTime=null,this.remoteStream=null}handleError(e){console.error("Erreur AudioCall:",e),this.onError&&this.onError(e)}triggerCallStateChange(){this.onCallStateChange&&this.onCallStateChange(this.callState)}formatCallDuration(e){const r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;return r>0?`${r.toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`:`${n.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getCallState(){return{state:this.callState,duration:this.callDuration,formattedDuration:this.formatCallDuration(this.callDuration),hasLocalStream:!!this.localStream,hasRemoteStream:!!this.remoteStream}}isInCall(){return["calling","incoming","connected"].includes(this.callState)}isConnected(){return this.callState==="connected"}disconnect(){this.socket&&(this.socket.disconnect(),this.socket=null),this.cleanup()}setCallbacks(e){this.onCallStateChange=e.onCallStateChange,this.onRemoteStream=e.onRemoteStream,this.onCallDuration=e.onCallDuration,this.onError=e.onError}}const Bu=new jAe,Gee=({isOpen:t=!1,onClose:e,targetUser:r=null,currentUser:n=null,roomId:i=null})=>{const[s,o]=b.useState("idle"),[l,c]=b.useState(0),[u,d]=b.useState(!1),[f,g]=b.useState(!0),[v,y]=b.useState(!1),[x,_]=b.useState(null),[S,C]=b.useState(!1),N=b.useRef(null),{toast:A}=dn();b.useEffect(()=>{t&&n&&i&&E()},[t,n,i]),b.useEffect(()=>{t||F()},[t]);const E=async()=>{try{y(!0),_(null),console.log("🔍 Initialisation appel simplifié pour:",{currentUser:n?.id,targetUser:r?.id,roomId:i}),setTimeout(()=>{o("calling"),y(!1),A({title:"Appel initialisé",description:`Appel en cours vers ${r?.first_name||r?.last_name||"l'utilisateur"}`,duration:3e3})},1e3)}catch(Z){console.error("Erreur initialisation:",Z),_(Z.message),A({title:"Erreur d'initialisation",description:Z.message,variant:"destructive",duration:5e3})}finally{y(!1)}};b.useCallback(Z=>{o(Z),C(Z==="connected"),Z==="ended"&&setTimeout(()=>{e()},2e3)},[e]),b.useCallback(Z=>{N.current&&(N.current.srcObject=Z,N.current.play().catch(console.error))},[]),b.useCallback(Z=>{c(Z)},[]);const k=b.useCallback(Z=>{_(Z.message),A({title:"Erreur d'appel",description:Z.message,variant:"destructive",duration:5e3})},[A]),O=async()=>{try{if(!r||!i)throw new Error("Informations manquantes pour l'appel");await Bu.startCall(r.id,i)&&A({title:"Appel en cours...",description:`Appel de ${r.name||r.email}`,duration:3e3})}catch(Z){console.error("Erreur démarrage appel:",Z),k(Z)}},I=async()=>{try{await Bu.answerCall()&&A({title:"Appel accepté",description:"Connexion en cours...",duration:3e3})}catch(Z){console.error("Erreur réponse appel:",Z),k(Z)}},z=()=>{Bu.rejectCall(),A({title:"Appel refusé",description:"L'appel a été refusé",duration:3e3,variant:"destructive"})},W=()=>{Bu.endCall(),A({title:"Appel terminé",description:"L'appel a été terminé",duration:3e3})},V=()=>{if(Bu.localStream){const Z=Bu.localStream.getAudioTracks()[0];Z&&(Z.enabled=!Z.enabled,d(!Z.enabled),A({title:u?"Micro activé":"Micro désactivé",description:u?"Votre voix est maintenant audible":"Votre voix est maintenant muette",duration:2e3}))}},q=()=>{N.current&&(N.current.muted=!N.current.muted,g(!N.current.muted),A({title:f?"Haut-parleur désactivé":"Haut-parleur activé",description:f?"Son désactivé":"Son activé",duration:2e3}))},F=()=>{Bu.disconnect(),o("idle"),c(0),C(!1),_(null)},H=()=>{Bu.isInCall()&&W(),e()},Q=Z=>{const se=Math.floor(Z/60),X=Z%60;return`${se.toString().padStart(2,"0")}:${X.toString().padStart(2,"0")}`},oe=()=>{switch(s){case"calling":return a.jsx(Whe,{className:"h-6 w-6 text-orange-500"});case"incoming":return a.jsx(Vhe,{className:"h-6 w-6 text-green-500"});case"connected":return a.jsx(Wa,{className:"h-6 w-6 text-green-500"});default:return a.jsx(Wa,{className:"h-6 w-6 text-gray-500"})}},K=()=>{switch(s){case"calling":return"Appel en cours...";case"incoming":return"Appel entrant";case"connected":return"Appel en cours";case"ended":return"Appel terminé";default:return"Prêt pour l'appel"}},te=()=>s==="connected"?`Durée: ${Q(l)}`:r?`Appel de ${r.name||r.email}`:"En attente...";return t?a.jsx(Ei,{children:a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm",children:a.jsxs(ze.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},exit:{y:20,opacity:0},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl max-w-md w-full mx-4 overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white text-center relative",children:[a.jsx("button",{onClick:H,className:"absolute top-4 right-4 p-2 rounded-full bg-white/20 hover:bg-white/30 transition-colors",children:a.jsx(Ws,{className:"h-5 w-5"})}),a.jsx("div",{className:"flex items-center justify-center mb-4",children:oe()}),a.jsx("h2",{className:"text-xl font-semibold mb-1",children:K()}),a.jsx("p",{className:"text-blue-100 text-sm",children:te()})]}),a.jsxs("div",{className:"p-6 space-y-6",children:[r&&a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx(Fs,{className:"h-10 w-10 text-white"})}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:r.name||"Utilisateur"}),r.email&&a.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm",children:r.email})]}),a.jsxs("div",{className:"text-center",children:[a.jsx(Et,{variant:s==="connected"?"default":"secondary",children:s.toUpperCase()}),s==="connected"&&a.jsxs("div",{className:"flex items-center justify-center mt-2 text-green-600",children:[a.jsx(qs,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"font-mono",children:Q(l)})]})]}),x&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3 flex items-center",children:[a.jsx(Un,{className:"h-5 w-5 text-red-500 mr-2"}),a.jsx("span",{className:"text-red-700 text-sm",children:x})]}),a.jsxs("div",{className:"space-y-3",children:[s==="idle"&&a.jsx(me,{onClick:O,disabled:v||!r,className:"w-full bg-green-600 hover:bg-green-700 text-white",size:"lg",children:v?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"h-5 w-5 mr-2 animate-spin"}),"Initialisation..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Wa,{className:"h-5 w-5 mr-2"}),"Appeler"]})}),s==="incoming"&&a.jsxs("div",{className:"flex space-x-3",children:[a.jsxs(me,{onClick:I,className:"flex-1 bg-green-600 hover:bg-green-700 text-white",size:"lg",children:[a.jsx(Wa,{className:"h-5 w-5 mr-2"}),"Répondre"]}),a.jsxs(me,{onClick:z,variant:"destructive",className:"flex-1",size:"lg",children:[a.jsx(nC,{className:"h-5 w-5 mr-2"}),"Refuser"]})]}),s==="calling"&&a.jsxs(me,{onClick:W,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(nC,{className:"h-5 w-5 mr-2"}),"Annuler l'appel"]}),s==="connected"&&a.jsxs(me,{onClick:W,variant:"destructive",className:"w-full",size:"lg",children:[a.jsx(nC,{className:"h-5 w-5 mr-2"}),"Terminer l'appel"]}),s==="connected"&&a.jsxs("div",{className:"flex space-x-3 pt-3 border-t",children:[a.jsxs(me,{onClick:V,variant:u?"destructive":"outline",className:"flex-1",children:[u?a.jsx(Dhe,{className:"h-4 w-4 mr-2"}):a.jsx($he,{className:"h-4 w-4 mr-2"}),u?"Activer":"Muet"]}),a.jsxs(me,{onClick:q,variant:f?"outline":"destructive",className:"flex-1",children:[f?a.jsx(tpe,{className:"h-4 w-4 mr-2"}):a.jsx(rpe,{className:"h-4 w-4 mr-2"}),f?"Désactiver":"Activer"]})]})]}),a.jsx("div",{className:"text-center text-sm text-gray-500",children:S?a.jsxs("div",{className:"flex items-center justify-center text-green-600",children:[a.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Connecté"]}):a.jsxs("div",{className:"flex items-center justify-center text-gray-400",children:[a.jsx(Qr,{className:"h-4 w-4 mr-2 animate-spin"}),"Connexion..."]})})]}),a.jsx("audio",{ref:N,autoPlay:!0,playsInline:!0,className:"hidden"})]})})}):null},CAe=({value:t,onChange:e,onSend:r,onAttachment:n,onEmoji:i,onVoice:s,onCamera:o,placeholder:l="Tapez votre message...",disabled:c=!1,showActions:u=!0})=>{const[d,f]=b.useState(!1),[g,v]=b.useState(!1),[y,x]=b.useState(!1),[_,S]=b.useState(!1),[C,N]=b.useState(!1),[A,E]=b.useState(!1),k=b.useRef(null),O=()=>{t.trim()&&!c&&r(t.trim())},I=Q=>{Q.key==="Enter"&&!Q.shiftKey&&(Q.preventDefault(),O())},z=Q=>{const oe=Array.from(Q.target.files);oe.length>0&&n(oe)},W=Q=>{const oe=new cw([Q.blob],`photo_${Date.now()}.jpg`,{type:"image/jpeg",lastModified:Date.now()});n&&n([oe])},V=Q=>{n&&n(Q)},q=Q=>{const oe=`📍 Localisation partagée
Lat: ${Q.latitude.toFixed(6)}
Lng: ${Q.longitude.toFixed(6)}${Q.name?`
Lieu: ${Q.name}`:""}`;n&&n([{type:"location",data:Q,message:oe}])},F=Q=>{const oe=`📅 Rendez-vous planifié
Titre: ${Q.title}
Date: ${new Date(Q.date).toLocaleDateString("fr-FR")}
Heure: ${Q.time}${Q.location?`
Lieu: ${Q.location}`:""}${Q.description?`
Description: ${Q.description}`:""}`;n&&n([{type:"appointment",data:Q,message:oe}])},H=[{icon:MH,label:"Photo",action:()=>x(!0)},{icon:Nf,label:"Caméra",action:()=>v(!0)},{icon:cw,label:"Document",action:()=>x(!0)},{icon:vl,label:"Localisation",action:()=>S(!0)},{icon:Hc,label:"Rendez-vous",action:()=>N(!0)},{icon:Wa,label:"Appel",action:()=>E(!0)},{icon:aM,label:"Vidéo",action:()=>console.log("Vidéo - Phase 3")}];return a.jsxs("div",{className:"bg-card border-t border-border p-3",children:[d&&a.jsx("div",{className:"mb-3 p-3 bg-muted/50 rounded-lg",children:a.jsx("div",{className:"grid grid-cols-4 gap-2",children:H.map((Q,oe)=>a.jsxs(me,{variant:"ghost",size:"sm",onClick:Q.action,className:"flex flex-col items-center space-y-1 p-2 h-auto",children:[a.jsx(Q.icon,{className:"h-5 w-5 text-muted-foreground"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:Q.label})]},oe))})}),a.jsxs("div",{className:"flex items-end space-x-2",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>f(!d),className:"p-2 flex-shrink-0",children:a.jsx(Dc,{className:`h-4 w-4 transition-transform ${d?"rotate-45":""}`})}),a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(dt,{ref:k,placeholder:l,value:t,onChange:e,onKeyPress:I,disabled:c,className:"pr-20 resize-none",style:{minHeight:"44px"}}),a.jsxs("div",{className:"absolute right-2 bottom-2 flex items-center space-x-1",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:i,className:"p-1 h-6 w-6",children:a.jsx(Zhe,{className:"h-4 w-4"})}),a.jsx(me,{variant:"ghost",size:"sm",onClick:n,className:"p-1 h-6 w-6",children:a.jsx(qhe,{className:"h-4 w-4"})})]})]}),a.jsx(me,{onClick:O,disabled:!t.trim()||c,className:"bg-primary hover:bg-primary/90 flex-shrink-0 px-4",children:a.jsx(qp,{className:"h-4 w-4"})})]}),a.jsx("input",{ref:k,type:"file",multiple:!0,accept:"image/*,video/*,.pdf,.doc,.docx,.txt",onChange:z,className:"hidden"}),t&&a.jsx("div",{className:"mt-2 text-xs text-muted-foreground text-center",children:"Appuyez sur Entrée pour envoyer, Shift+Entrée pour une nouvelle ligne"}),a.jsx(nke,{isOpen:g,onClose:()=>v(!1),onCapture:W}),a.jsx(ike,{isOpen:y,onClose:()=>x(!1),onFilesSelected:V}),a.jsx(uke,{isOpen:_,onClose:()=>S(!1),onLocationSelect:q}),a.jsx(dke,{isOpen:C,onClose:()=>N(!1),onAppointmentCreate:F}),a.jsx(Gee,{isOpen:A,onClose:()=>E(!1),targetUser:{id:"user123",name:"Utilisateur Test",email:"test@example.com"},currentUser:{id:"currentUser",name:"Moi"},roomId:"room123"})]})},Zee=({size:t="default",className:e=""})=>{const r={sm:"w-8 h-8",default:"w-10 h-10",lg:"w-12 h-12",xl:"w-16 h-16"};return a.jsxs("div",{className:`
      relative flex items-center justify-center rounded-full
      bg-gradient-to-br from-blue-500 via-purple-500 to-pink-500
      text-white font-bold shadow-lg
      ${r[t]}
      ${e}
    `,children:[a.jsx(jhe,{className:"w-5 h-5"}),a.jsx("div",{className:"absolute -top-1 -right-1",children:a.jsx(DH,{className:"w-3 h-3 text-yellow-300 animate-pulse"})}),a.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-blue-400 to-purple-400 animate-spin opacity-20"})]})},NAe=new A7({defaultOptions:{queries:{staleTime:3e4,gcTime:5*60*1e3,retry:1}}}),EAe=()=>{const{user:t}=J2e(),{toast:e}=dn(),[r]=uR(),{data:n,isLoading:i,error:s,refetch:o}=Q2e(),l=Tl(),[c,u]=b.useState(null),[d,f]=b.useState([]),[g,v]=b.useState(""),[y,x]=b.useState("all"),[_,S]=b.useState(!1),[C,N]=b.useState(!1),[A,E]=b.useState(""),[k,O]=b.useState(!1),[I,z]=b.useState(null),[W,V]=b.useState(new Set),[q,F]=b.useState(!1),[H,Q]=b.useState(null),[oe,K]=b.useState(!1),[te,Z]=b.useState(null);eke(c?.id);const se=$i({mutationFn:le=>Qi.deleteConversation(le),onSuccess:()=>{l.invalidateQueries(["conversations"]),e({title:"Conversation supprimée",description:"La conversation a été supprimée définitivement"})},onError:le=>{e({title:"Erreur",description:"Impossible de supprimer la conversation",variant:"destructive"})}});b.useEffect(()=>{if(!n||n.length===0)return;const le=r.get("conversation"),Ae=r.get("listing");if(le&&!c){const Y=n.find(D=>D.id===le);Y&&(console.log("🔍 Ouverture automatique de la conversation:",le),u(Y),X(Y.id))}else if(Ae&&!c){const Y=n.find(D=>D.listing_id===Ae);Y&&(console.log("🔍 Ouverture automatique de la conversation pour l'annonce:",Ae),u(Y),X(Y.id))}},[n,r,c]),b.useEffect(()=>{if(!t)return;const le=we.channel("conversations").on("postgres_changes",{event:"INSERT",schema:"public",table:"conversations",filter:`participant1_id=eq.${t.id} OR participant2_id=eq.${t.id}`},Ae=>{console.log("🆕 Nouvelle conversation reçue:",Ae),o()}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"conversations",filter:`participant1_id=eq.${t.id} OR participant2_id=eq.${t.id}`},Ae=>{console.log("🔄 Conversation mise à jour:",Ae),o()}).subscribe();return()=>{we.removeChannel(le)}},[t,o]),b.useEffect(()=>{if(!t)return;const le=we.channel("messages").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`receiver_id=eq.${t.id}`},Ae=>{console.log("💬 Nouveau message reçu:",Ae),c&&Ae.new.conversation_id===c.id&&f(Y=>[...Y,Ae.new]),o(),Ae.new.sender_id!==t.id&&e({title:"Nouveau message",description:"Vous avez reçu un nouveau message"})}).subscribe();return()=>{we.removeChannel(le)}},[t,c,o,e]);const X=async le=>{if(le){N(!0);try{const Ae=await Qi.getConversationMessages(le);f(Ae),await Qi.markMessagesAsRead(le),o()}catch(Ae){console.error("Erreur chargement messages:",Ae),e({title:"Erreur",description:"Impossible de charger les messages",variant:"destructive"})}finally{N(!1)}}},ce=async le=>{u(le),X(le.id),S(!1);try{await Qi.markMessagesAsRead(le.id),o()}catch(Ae){console.error("Erreur lors du marquage des messages comme lus:",Ae)}},je=async le=>{if(!(!le.trim()||!c))try{const Ae=await Qi.sendMessage(c.id,le.trim());E(""),f(Y=>[...Y,Ae]),o()}catch(Ae){console.error("Erreur envoi message:",Ae),e({title:"Erreur",description:"Impossible d'envoyer le message",variant:"destructive"})}},Te=le=>{console.log("Fichiers sélectionnés:",le)},qe=()=>{},pe=()=>{if(!c||!t){e({title:"Erreur",description:"Impossible de déterminer la conversation ou l'utilisateur",variant:"destructive"});return}const le=c.participant1_id===t.id?c.participant2:c.participant1;if(!le||!le.id){e({title:"Erreur",description:"Impossible de déterminer l'interlocuteur",variant:"destructive"});return}console.log("🔍 Initialisation appel avec:",{user:t.id,target:le.id,targetName:le.first_name||le.last_name||"Utilisateur"}),Z(le),K(!0),e({title:"Appel audio",description:`Initialisation de l'appel avec ${le.first_name||le.last_name||"l'utilisateur"}`})},ue=()=>{K(!1),Z(null)},Ie=[...(n?.filter(le=>y==="unread"?le.messages?.some(Ae=>!Ae.is_read&&Ae.sender_id!==t?.id):y==="starred"?le.starred:y==="archived"?le.is_archived:!0)||[]).filter(le=>{if(!g)return!0;const Ae=g.toLowerCase(),Y=`${le.participant1?.first_name||""} ${le.participant1?.last_name||""}`.toLowerCase(),D=`${le.participant2?.first_name||""} ${le.participant2?.last_name||""}`.toLowerCase();return!!(Y.includes(Ae)||D.includes(Ae)||le.listing?.title?.toLowerCase().includes(Ae)||le.messages?.some(B=>B.content?.toLowerCase().includes(Ae)))})].sort((le,Ae)=>{const Y=le.messages?.[le.messages.length-1]?.created_at||le.created_at,D=Ae.messages?.[Ae.messages.length-1]?.created_at||Ae.created_at;return!Y&&!D?0:Y?D?new Date(D)-new Date(Y):-1:1});console.log("🔍 Conversations triées:",Ie.map(le=>({id:le.id,title:le.listing?.title||"Sans titre",lastMessage:le.messages?.[le.messages.length-1]?.created_at||le.created_at,hasUnread:le.messages?.some(Ae=>!Ae.is_read&&Ae.sender_id!==t?.id)})));const ne={total:n?.length||0,unread:n?.filter(le=>le.messages?.some(Ae=>!Ae.is_read&&Ae.sender_id!==t?.id)).length||0,starred:n?.filter(le=>le.starred).length||0,archived:n?.filter(le=>le.is_archived).length||0},J=async le=>{try{await Qi.markMessagesAsRead(le.id),o()}catch{e({title:"Erreur",description:"Impossible de marquer les messages comme lus",variant:"destructive"})}},Ee=async le=>{try{const Ae=!le.starred;await Qi.toggleConversationStar(le.id,Ae),o()}catch{e({title:"Erreur",description:"Impossible de modifier le statut favori",variant:"destructive"})}},Ne=async le=>{try{await Qi.archiveConversation(le.id),o()}catch{e({title:"Erreur",description:"Impossible d'archiver la conversation",variant:"destructive"})}},Je=le=>{c?.id===le.id&&(u(null),f([])),se.mutate(le.id)},Xe=le=>{z(le),O(!0)},Oe=le=>{F(!0),V(new Set([le]))},mt=le=>{q&&V(Ae=>{const Y=new Set(Ae);return Y.has(le)?Y.delete(le):Y.add(le),Y})},Gt=le=>{q&&mt(le)},ge=()=>{V(new Set),F(!1)},Pe=()=>{const le=d.map(Ae=>Ae.id);V(new Set(le))},$e=()=>{const le=d.filter(Ae=>Ae.sender_id===t?.id).map(Ae=>Ae.id);V(new Set(le))},rt=async()=>{if(W.size!==0)try{const le=Array.from(W).map(Ae=>Qi.deleteMessage(Ae));await Promise.all(le),f(Ae=>Ae.filter(Y=>!W.has(Y.id))),ge(),e({title:"Messages supprimés",description:`${W.size} message(s) supprimé(s) avec succès`})}catch{e({title:"Erreur",description:"Impossible de supprimer certains messages",variant:"destructive"})}},at=()=>{W.size};return s?a.jsx("div",{className:"flex items-center justify-center h-96",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pi,{className:"mx-auto h-12 w-12 text-destructive mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:s.message||"Impossible de charger les conversations"}),a.jsx(me,{onClick:()=>o(),className:"bg-blue-600 hover:bg-blue-700",children:"Réessayer"})]})}):a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx(tke,{selectedConversation:c,onBack:()=>u(null),onMenuToggle:()=>S(!_),onSearch:()=>S(!1),onFilter:()=>S(!1),onMore:()=>console.log("Plus d'options"),onCall:pe,onVideo:()=>console.log("Video"),unreadCount:ne.unread}),a.jsx("div",{className:"bg-card border-b border-border px-6 py-4 hidden md:block",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-card-foreground",children:"Centre de Messages"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez vos conversations et échangez avec d'autres utilisateurs"})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsxs(me,{className:"bg-primary hover:bg-primary/90",children:[a.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Nouvelle Conversation"]})})]})}),a.jsxs("div",{className:"flex h-[calc(100vh-120px)] md:h-[calc(100vh-140px)]",children:[a.jsxs("div",{className:`
          ${c?"hidden md:block":"block"} 
          w-full md:w-80 lg:w-96 
          bg-card border-r border-border 
          flex flex-col
        `,children:[a.jsx(rke,{searchTerm:g,onSearchChange:v,filterType:y,onFilterChange:x,onClear:()=>v(""),totalCount:ne.total,unreadCount:ne.unread,starredCount:ne.starred,archivedCount:ne.archived}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:i?a.jsx("div",{className:"p-4 space-y-3",children:[...Array(5)].map((le,Ae)=>a.jsx("div",{className:"animate-pulse",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-muted rounded-full"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-muted rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-muted rounded w-1/2"})]})]})},Ae))}):Ie.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Pi,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-card-foreground mb-2",children:"Aucune conversation"}),a.jsx("p",{className:"text-muted-foreground",children:g?"Aucune conversation trouvée pour votre recherche":"Commencez une nouvelle conversation"})]}):a.jsx("div",{className:"space-y-1",children:Ie.map(le=>a.jsx(PAe,{conversation:le,isSelected:c?.id===le.id,onSelect:()=>ce(le),onMarkAsRead:()=>J(le),onToggleStar:()=>Ee(le),onArchive:()=>Ne(le),onDelete:()=>Xe(le),currentUserId:t?.id},le.id))})})]}),c?a.jsxs("div",{className:"flex-1 flex flex-col bg-card",children:[a.jsx("div",{className:"border-b border-border p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Qv,{user:c.participant1_id===t?.id?c.participant2:c.participant1,size:"default"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:(()=>{const le=c.participant1_id===t?.id?c.participant2:c.participant1;return le&&`${le.first_name||""} ${le.last_name||""}`.trim()||"Utilisateur"})()}),a.jsx("p",{className:"text-sm text-muted-foreground",children:c.listing?.title||"Conversation"})]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:pe,children:a.jsx(Wa,{className:"h-4 w-4"})}),a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsx(me,{variant:"ghost",size:"sm",children:a.jsx(Zf,{className:"h-4 w-4"})})}),a.jsxs(Kc,{align:"end",className:"w-48",children:[a.jsxs(Dr,{onClick:()=>Ee(c),children:[a.jsx(Ya,{className:"h-4 w-4 mr-2"}),c.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(Dr,{onClick:()=>Ne(c),children:[a.jsx(J_,{className:"h-4 w-4 mr-2"}),c.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Im,{}),a.jsxs(Dr,{onClick:()=>Xe(c),className:"text-destructive focus:text-destructive",children:[a.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Supprimer la conversation"]})]})]})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[q&&a.jsx("div",{className:"sticky top-0 bg-card border border-border rounded-lg p-3 mb-4 shadow-sm z-10",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("span",{className:"text-sm font-medium text-foreground",children:[W.size," message(s) sélectionné(s)"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(me,{variant:"outline",size:"sm",onClick:Pe,className:"text-xs",children:"Tout sélectionner"}),a.jsx(me,{variant:"outline",size:"sm",onClick:$e,className:"text-xs",children:"Mes messages"})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(me,{variant:"outline",size:"sm",onClick:ge,className:"text-xs",children:"Annuler"}),a.jsxs(me,{variant:"destructive",size:"sm",onClick:at,className:"text-xs",disabled:W.size===0,children:["Supprimer (",W.size,")"]})]})]})}),!q&&d.length>0&&a.jsxs("div",{className:"text-center text-xs text-muted-foreground mb-4 p-2 bg-muted/30 rounded-lg",children:["💡 ",a.jsx("strong",{children:"Appui long"})," sur un message pour activer la sélection multiple"]}),C?a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):d.length===0?a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucun message dans cette conversation"})}):d.map(le=>a.jsx(kAe,{message:le,isOwn:le.sender_id===t?.id,participant1:c.participant1,participant2:c.participant2,currentUserId:t?.id,onLongPress:()=>Oe(le.id),onPress:()=>Gt(le.id),isSelected:W.has(le.id),isSelectionMode:q},le.id))]}),a.jsx(CAe,{value:A,onChange:le=>E(le.target.value),onSend:je,onAttachment:Te,onEmoji:qe,onVoice:()=>console.log("Voice message"),onCamera:()=>console.log("Camera"),placeholder:"Tapez votre message...",disabled:C})]}):a.jsx("div",{className:"hidden md:flex flex-1 items-center justify-center bg-muted/50",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pi,{className:"mx-auto h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h3",{className:"text-xl font-medium text-card-foreground mb-2",children:"Sélectionnez une conversation"}),a.jsx("p",{className:"text-muted-foreground",children:"Choisissez une conversation dans la liste pour commencer à échanger"})]})})]}),k&&I&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Êtes-vous sûr de vouloir supprimer définitivement cette conversation ? Cette action ne peut pas être annulée."}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(me,{variant:"outline",onClick:()=>O(!1),className:"flex-1",children:"Annuler"}),a.jsx(me,{variant:"destructive",onClick:()=>{Je(I),O(!1),z(null)},className:"flex-1",disabled:se.isLoading,children:se.isLoading?"Suppression...":"Supprimer"})]})]})}),q&&W.size>0&&a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-card p-6 rounded-lg max-w-md w-full mx-4",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Confirmer la suppression"}),a.jsxs("p",{className:"text-muted-foreground mb-6",children:["Êtes-vous sûr de vouloir supprimer définitivement ",W.size," message(s) ? Cette action ne peut pas être annulée."]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(me,{variant:"outline",onClick:ge,className:"flex-1",children:"Annuler"}),a.jsxs(me,{variant:"destructive",onClick:rt,className:"flex-1",children:["Supprimer (",W.size,")"]})]})]})}),oe&&te&&a.jsx(Gee,{isOpen:oe,onClose:ue,targetUser:te,currentUser:t,roomId:`call-${t?.id}-${te.id}`})]})},PAe=({conversation:t,isSelected:e,onSelect:r,onMarkAsRead:n,onToggleStar:i,onArchive:s,onDelete:o,currentUserId:l})=>{const c=t.messages?.[t.messages.length-1],u=t.messages?.some(v=>!v.is_read&&v.sender_id!==l),d=t.participant1_id===l?t.participant2:t.participant1,f=t.participant1_id==="00000000-0000-0000-0000-000000000000"||t.participant2_id==="00000000-0000-0000-0000-000000000000",g=v=>{if(!v)return"À l'instant";try{const y=new Date(v),x=new Date,_=Math.floor((x-y)/(1e3*60*60)),S=Math.floor((x-y)/(1e3*60*60*24));return _<1?"À l'instant":_<24?`Il y a ${_}h`:S<7?`Il y a ${S}j`:y.toLocaleDateString("fr-FR",{day:"numeric",month:"short"})}catch{return"À l'instant"}};return a.jsxs("div",{className:`
        group p-4 cursor-pointer transition-colors hover:bg-accent relative
        ${e?"bg-primary/10 border-r-2 border-primary":""}
        ${u?"bg-primary/10":""}
        ${f?"bg-gradient-to-r from-blue-50 to-purple-50 border-l-4 border-blue-500":""}
      `,onClick:r,children:[f&&a.jsx("div",{className:"absolute top-2 right-2",children:a.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 text-white text-xs px-2 py-1 rounded-full font-medium shadow-sm",children:"🤖 Assistant"})}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsxs("div",{className:"relative",children:[f?a.jsx(Zee,{size:"default",className:"flex-shrink-0"}):a.jsx(Qv,{user:d,size:"default",className:"flex-shrink-0"}),u&&a.jsx("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-primary rounded-full"})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("h4",{className:"font-medium text-sm truncate",children:f?"Assistant MaxiMarket":d&&`${d.first_name||""} ${d.last_name||""}`.trim()||"Utilisateur"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[t.starred&&a.jsx(Ya,{className:"h-3 w-3 text-yellow-500 fill-current"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:c?.created_at?g(c.created_at):"À l'instant"})]})]}),a.jsx("p",{className:"text-sm text-muted-foreground truncate mb-1",children:c?.content||"Aucun message"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-muted-foreground",children:f?"Support et assistance":t.listing?.title||"Conversation"}),a.jsx("div",{className:"flex items-center space-x-1",children:u&&a.jsx(Et,{variant:"destructive",className:"h-5 px-2 text-xs",children:"Nouveau"})})]})]}),a.jsx("div",{className:"flex-shrink-0",onClick:v=>v.stopPropagation(),children:a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsx(me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",children:a.jsx(Zf,{className:"h-4 w-4"})})}),a.jsxs(Kc,{align:"end",className:"w-48",children:[a.jsxs(Dr,{onClick:()=>n?.(t),children:[a.jsx(Ic,{className:"h-4 w-4 mr-2"}),"Marquer comme lu"]}),a.jsxs(Dr,{onClick:()=>i?.(t),children:[a.jsx(Ya,{className:"h-4 w-4 mr-2"}),t.starred?"Retirer des favoris":"Ajouter aux favoris"]}),a.jsxs(Dr,{onClick:()=>s?.(t),children:[a.jsx(J_,{className:"h-4 w-4 mr-2"}),t.is_archived?"Désarchiver":"Archiver"]}),a.jsx(Im,{}),a.jsxs(Dr,{onClick:()=>o?.(t),className:"text-destructive focus:text-destructive",children:[a.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]})]})},kAe=({message:t,isOwn:e,participant1:r,participant2:n,currentUserId:i,onLongPress:s,onPress:o,isSelected:l=!1,isSelectionMode:c=!1})=>{const[u,d]=b.useState(null),f=t.sender_id==="00000000-0000-0000-0000-000000000000",g=S=>{if(!S)return"À l'instant";try{return new Date(S).toLocaleTimeString("fr-FR",{hour:"2-digit",minute:"2-digit"})}catch{return"À l'instant"}},v=t.sender_id===r?.id?r:n,y=()=>{if(s){const S=setTimeout(()=>{s()},500);d(S)}},x=()=>{u&&(clearTimeout(u),d(null))},_=()=>{o&&o()};return a.jsxs("div",{className:`flex ${e?"justify-end":"justify-start"} space-x-2`,onTouchStart:y,onTouchEnd:x,onClick:_,children:[!e&&(f?a.jsx(Zee,{size:"sm",className:"flex-shrink-0 mt-1"}):a.jsx(Qv,{user:v,size:"sm",className:"flex-shrink-0 mt-1"})),a.jsxs("div",{className:`
        relative max-w-xs lg:max-w-md px-4 py-2 rounded-lg cursor-pointer
        transition-all duration-200
        ${e?"bg-primary text-primary-foreground":f?"bg-gradient-to-r from-blue-100 to-purple-100 text-gray-800 border border-blue-200":"bg-muted text-muted-foreground"}
        ${l?"ring-2 ring-primary ring-offset-2":""}
        ${c?"hover:ring-2 hover:ring-primary/50":""}
      `,children:[l&&a.jsx("div",{className:"absolute -top-2 -right-2 w-5 h-5 bg-primary rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-primary-foreground text-xs",children:"✓"})}),a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[!e&&a.jsx("span",{className:`text-xs font-medium ${f?"text-blue-600":""}`,children:f?"🤖 Assistant MaxiMarket":v&&`${v.first_name||""} ${v.last_name||""}`.trim()||"Utilisateur"}),a.jsx("span",{className:"text-xs opacity-75",children:g(t.created_at)})]}),a.jsx("p",{className:"text-sm",children:t.content})]}),e&&a.jsx(Qv,{user:{first_name:"Moi",last_name:""},size:"sm",className:"flex-shrink-0 mt-1"})]})},AAe=()=>a.jsx(R7,{client:NAe,children:a.jsx(EAe,{})}),B1=(t=null,e={})=>{const r=Tl(),{user:n}=Vr(),[i,s]=b.useState(new Set);b.useEffect(()=>{n&&o()},[n]);const o=async()=>{try{const A=await Nc.getUserFavoritesWithStatus();s(A)}catch(A){console.error("Erreur lors du chargement des favoris:",A)}},{data:l,fetchNextPage:c,hasNextPage:u,isFetchingNextPage:d,isLoading:f,error:g,refetch:v}=Fae({queryKey:["listings",t,e],queryFn:({pageParam:A=0})=>{const E={status:"approved",category:t,search:e.search,minPrice:e.minPrice,maxPrice:e.maxPrice,location:e.location,page:A,limit:12,...e};return en.getAllListings(E)},getNextPageParam:(A,E)=>A.hasMore?E.length:void 0,staleTime:z3.listings.staleTime,gcTime:z3.listings.gcTime,keepPreviousData:!0}),y=$i({mutationFn:A=>{if(!n)throw new Error("Vous devez être connecté pour créer une annonce");return en.createListing({...A,user_id:n.id,status:"pending"})},onSuccess:()=>{r.invalidateQueries(["listings"])}}),x=$i({mutationFn:({id:A,updates:E})=>en.updateListing(A,E),onSuccess:(A,E)=>{r.setQueryData(["listings"],k=>k&&{...k,pages:k.pages.map(O=>({...O,data:O.data.map(I=>I.id===E.id?{...I,...E.updates}:I)}))})}}),_=$i({mutationFn:A=>en.deleteListing(A),onSuccess:(A,E)=>{r.setQueryData(["listings"],k=>k&&{...k,pages:k.pages.map(O=>({...O,data:O.data.filter(I=>I.id!==E)}))})}}),S=$i({mutationFn:async A=>{if(!n)throw new Error("Vous devez être connecté pour ajouter aux favoris");const E=await Nc.toggleFavorite(A);return s(k=>{const O=new Set(k);return E.is_favorite?O.add(A):O.delete(A),O}),E},onSuccess:(A,E)=>{r.setQueryData(["listings"],k=>k&&{...k,pages:k.pages.map(O=>({...O,data:O.data.map(I=>I.id===E?{...I,is_favorite:A.is_favorite}:I)}))}),r.invalidateQueries(["favorites"]),r.invalidateQueries(["userStats"])},onError:(A,E)=>{s(k=>{const O=new Set(k);return i.has(E)?O.delete(E):O.add(E),O}),console.error("Erreur lors du basculement des favoris:",A)}}),C=A=>i.has(A);return{listings:(l?.pages.flatMap(E=>E.data)||[]).map(E=>({...E,is_favorite:i.has(E.id)})),loading:f,error:g,hasMore:u,isFetchingMore:d,loadMore:c,refresh:v,createListing:y.mutate,updateListing:x.mutate,deleteListing:_.mutate,toggleFavorite:S.mutate,isCreating:y.isLoading,isUpdating:x.isLoading,isDeleting:_.isLoading,isTogglingFavorite:S.isLoading,isFavorite:C,favoriteIds:i,loadUserFavorites:o}},TAe=()=>{const{user:t}=Vr(),e=Tl(),[r,n]=b.useState(new Set),{data:i,isLoading:s,error:o,refetch:l}=Ni({queryKey:["favorites",t?.id],queryFn:()=>Nc.getUserFavorites(),enabled:!!t,staleTime:5*60*1e3,gcTime:10*60*1e3}),{data:c,isLoading:u,error:d}=Ni({queryKey:["favoriteIds",t?.id],queryFn:()=>Nc.getUserFavoritesWithStatus(),enabled:!!t,staleTime:2*60*1e3,gcTime:5*60*1e3});b.useEffect(()=>{c&&n(c)},[c]);const f=$i({mutationFn:async S=>{if(!t)throw new Error("Vous devez être connecté pour ajouter aux favoris");return{...await Nc.toggleFavorite(S),listingId:S}},onMutate:async S=>{await e.cancelQueries(["favorites",t?.id]),await e.cancelQueries(["favoriteIds",t?.id]);const C=e.getQueryData(["favorites",t?.id]),N=e.getQueryData(["favoriteIds",t?.id]),A=new Set(r);return A.has(S)?A.delete(S):A.add(S),n(A),e.setQueryData(["favoriteIds",t?.id],A),{previousFavorites:C,previousIds:N,listingId:S}},onSuccess:(S,C)=>{e.invalidateQueries(["favorites",t?.id]),e.invalidateQueries(["favoriteIds",t?.id]),e.invalidateQueries(["listings"]),e.invalidateQueries(["userStats"])},onError:(S,C,N)=>{N?.previousIds&&(n(N.previousIds),e.setQueryData(["favoriteIds",t?.id],N.previousIds)),console.error("Erreur lors du basculement des favoris:",S)}}),g=S=>r.has(S),v=S=>{f.mutate(S)},y=S=>{g(S)||v(S)},x=S=>{g(S)&&v(S)},_=()=>{l()};return{favorites:i||[],favoriteIds:r,isLoading:s||u,error:o||d,isToggling:f.isLoading,isFavorite:g,toggleFavorite:v,addToFavorites:y,removeFromFavorites:x,refreshFavorites:_,totalFavorites:i?.length||0,toggleFavoriteMutation:f}};var OAe=t=>{switch(t){case"success":return IAe;case"info":return DAe;case"warning":return LAe;case"error":return $Ae;default:return null}},RAe=Array(12).fill(0),MAe=({visible:t,className:e})=>re.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},re.createElement("div",{className:"sonner-spinner"},RAe.map((r,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),IAe=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LAe=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),DAe=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$Ae=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),FAe=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BAe=()=>{let[t,e]=re.useState(document.hidden);return re.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},BT=1,zAe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,i=typeof t?.id=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:BT++,s=this.toasts.find(l=>l.id===i),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(l=>l.id===i?(this.publish({...l,...t,id:i,title:r}),{...l,...t,id:i,dismissible:o,title:r}):l):this.addToast({title:r,...n,dismissible:o,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),i=r!==void 0,s,o=n.then(async c=>{if(s=["resolve",c],re.isValidElement(c))i=!1,this.create({id:r,type:"default",message:c});else if(UAe(c)&&!c.ok){i=!1;let u=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,d=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:r,type:"error",message:u,description:d})}else if(e.success!==void 0){i=!1;let u=typeof e.success=="function"?await e.success(c):e.success,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"success",message:u,description:d})}}).catch(async c=>{if(s=["reject",c],e.error!==void 0){i=!1;let u=typeof e.error=="function"?await e.error(c):e.error,d=typeof e.description=="function"?await e.description(c):e.description;this.create({id:r,type:"error",message:u,description:d})}}).finally(()=>{var c;i&&(this.dismiss(r),r=void 0),(c=e.finally)==null||c.call(e)}),l=()=>new Promise((c,u)=>o.then(()=>s[0]==="reject"?u(s[1]):c(s[1])).catch(u));return typeof r!="string"&&typeof r!="number"?{unwrap:l}:Object.assign(r,{unwrap:l})},this.custom=(t,e)=>{let r=e?.id||BT++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ls=new zAe,qAe=(t,e)=>{let r=e?.id||BT++;return Ls.addToast({title:t,...e,id:r}),r},UAe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",VAe=qAe,WAe=()=>Ls.toasts,HAe=()=>Ls.getActiveToasts(),UN=Object.assign(VAe,{success:Ls.success,info:Ls.info,warning:Ls.warning,error:Ls.error,custom:Ls.custom,message:Ls.message,promise:Ls.promise,dismiss:Ls.dismiss,loading:Ls.loading},{getHistory:WAe,getToasts:HAe});function KAe(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}KAe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function vb(t){return t.label!==void 0}var GAe=3,ZAe="32px",YAe="16px",KB=4e3,XAe=356,JAe=14,QAe=20,eTe=200;function mo(...t){return t.filter(Boolean).join(" ")}function tTe(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var rTe=t=>{var e,r,n,i,s,o,l,c,u,d,f;let{invert:g,toast:v,unstyled:y,interacting:x,setHeights:_,visibleToasts:S,heights:C,index:N,toasts:A,expanded:E,removeToast:k,defaultRichColors:O,closeButton:I,style:z,cancelButtonStyle:W,actionButtonStyle:V,className:q="",descriptionClassName:F="",duration:H,position:Q,gap:oe,loadingIcon:K,expandByDefault:te,classNames:Z,icons:se,closeButtonAriaLabel:X="Close toast",pauseWhenPageIsHidden:ce}=t,[je,Te]=re.useState(null),[qe,pe]=re.useState(null),[ue,_e]=re.useState(!1),[ye,Ie]=re.useState(!1),[ne,J]=re.useState(!1),[Ee,Ne]=re.useState(!1),[Je,Xe]=re.useState(!1),[Oe,mt]=re.useState(0),[Gt,ge]=re.useState(0),Pe=re.useRef(v.duration||H||KB),$e=re.useRef(null),rt=re.useRef(null),at=N===0,le=N+1<=S,Ae=v.type,Y=v.dismissible!==!1,D=v.className||"",B=v.descriptionClassName||"",he=re.useMemo(()=>C.findIndex(Dt=>Dt.toastId===v.id)||0,[C,v.id]),Ce=re.useMemo(()=>{var Dt;return(Dt=v.closeButton)!=null?Dt:I},[v.closeButton,I]),Be=re.useMemo(()=>v.duration||H||KB,[v.duration,H]),We=re.useRef(0),Tt=re.useRef(0),pr=re.useRef(0),Xt=re.useRef(null),[lr,nr]=Q.split("-"),qo=re.useMemo(()=>C.reduce((Dt,vr,Rr)=>Rr>=he?Dt:Dt+vr.height,0),[C,he]),ba=BAe(),Gs=v.invert||g,zi=Ae==="loading";Tt.current=re.useMemo(()=>he*oe+qo,[he,qo]),re.useEffect(()=>{Pe.current=Be},[Be]),re.useEffect(()=>{_e(!0)},[]),re.useEffect(()=>{let Dt=rt.current;if(Dt){let vr=Dt.getBoundingClientRect().height;return ge(vr),_(Rr=>[{toastId:v.id,height:vr,position:v.position},...Rr]),()=>_(Rr=>Rr.filter(Dn=>Dn.toastId!==v.id))}},[_,v.id]),re.useLayoutEffect(()=>{if(!ue)return;let Dt=rt.current,vr=Dt.style.height;Dt.style.height="auto";let Rr=Dt.getBoundingClientRect().height;Dt.style.height=vr,ge(Rr),_(Dn=>Dn.find(Tn=>Tn.toastId===v.id)?Dn.map(Tn=>Tn.toastId===v.id?{...Tn,height:Rr}:Tn):[{toastId:v.id,height:Rr,position:v.position},...Dn])},[ue,v.title,v.description,_,v.id]);let qi=re.useCallback(()=>{Ie(!0),mt(Tt.current),_(Dt=>Dt.filter(vr=>vr.toastId!==v.id)),setTimeout(()=>{k(v)},eTe)},[v,k,_,Tt]);re.useEffect(()=>{if(v.promise&&Ae==="loading"||v.duration===1/0||v.type==="loading")return;let Dt;return E||x||ce&&ba?(()=>{if(pr.current<We.current){let vr=new Date().getTime()-We.current;Pe.current=Pe.current-vr}pr.current=new Date().getTime()})():Pe.current!==1/0&&(We.current=new Date().getTime(),Dt=setTimeout(()=>{var vr;(vr=v.onAutoClose)==null||vr.call(v,v),qi()},Pe.current)),()=>clearTimeout(Dt)},[E,x,v,Ae,ce,ba,qi]),re.useEffect(()=>{v.delete&&qi()},[qi,v.delete]);function Qc(){var Dt,vr,Rr;return se!=null&&se.loading?re.createElement("div",{className:mo(Z?.loader,(Dt=v?.classNames)==null?void 0:Dt.loader,"sonner-loader"),"data-visible":Ae==="loading"},se.loading):K?re.createElement("div",{className:mo(Z?.loader,(vr=v?.classNames)==null?void 0:vr.loader,"sonner-loader"),"data-visible":Ae==="loading"},K):re.createElement(MAe,{className:mo(Z?.loader,(Rr=v?.classNames)==null?void 0:Rr.loader),visible:Ae==="loading"})}return re.createElement("li",{tabIndex:0,ref:rt,className:mo(q,D,Z?.toast,(e=v?.classNames)==null?void 0:e.toast,Z?.default,Z?.[Ae],(r=v?.classNames)==null?void 0:r[Ae]),"data-sonner-toast":"","data-rich-colors":(n=v.richColors)!=null?n:O,"data-styled":!(v.jsx||v.unstyled||y),"data-mounted":ue,"data-promise":!!v.promise,"data-swiped":Je,"data-removed":ye,"data-visible":le,"data-y-position":lr,"data-x-position":nr,"data-index":N,"data-front":at,"data-swiping":ne,"data-dismissible":Y,"data-type":Ae,"data-invert":Gs,"data-swipe-out":Ee,"data-swipe-direction":qe,"data-expanded":!!(E||te&&ue),style:{"--index":N,"--toasts-before":N,"--z-index":A.length-N,"--offset":`${ye?Oe:Tt.current}px`,"--initial-height":te?"auto":`${Gt}px`,...z,...v.style},onDragEnd:()=>{J(!1),Te(null),Xt.current=null},onPointerDown:Dt=>{zi||!Y||($e.current=new Date,mt(Tt.current),Dt.target.setPointerCapture(Dt.pointerId),Dt.target.tagName!=="BUTTON"&&(J(!0),Xt.current={x:Dt.clientX,y:Dt.clientY}))},onPointerUp:()=>{var Dt,vr,Rr,Dn;if(Ee||!Y)return;Xt.current=null;let Tn=Number(((Dt=rt.current)==null?void 0:Dt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),vi=Number(((vr=rt.current)==null?void 0:vr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ss=new Date().getTime()-((Rr=$e.current)==null?void 0:Rr.getTime()),$n=je==="x"?Tn:vi,ws=Math.abs($n)/ss;if(Math.abs($n)>=QAe||ws>.11){mt(Tt.current),(Dn=v.onDismiss)==null||Dn.call(v,v),pe(je==="x"?Tn>0?"right":"left":vi>0?"down":"up"),qi(),Ne(!0),Xe(!1);return}J(!1),Te(null)},onPointerMove:Dt=>{var vr,Rr,Dn,Tn;if(!Xt.current||!Y||((vr=window.getSelection())==null?void 0:vr.toString().length)>0)return;let vi=Dt.clientY-Xt.current.y,ss=Dt.clientX-Xt.current.x,$n=(Rr=t.swipeDirections)!=null?Rr:tTe(Q);!je&&(Math.abs(ss)>1||Math.abs(vi)>1)&&Te(Math.abs(ss)>Math.abs(vi)?"x":"y");let ws={x:0,y:0};je==="y"?($n.includes("top")||$n.includes("bottom"))&&($n.includes("top")&&vi<0||$n.includes("bottom")&&vi>0)&&(ws.y=vi):je==="x"&&($n.includes("left")||$n.includes("right"))&&($n.includes("left")&&ss<0||$n.includes("right")&&ss>0)&&(ws.x=ss),(Math.abs(ws.x)>0||Math.abs(ws.y)>0)&&Xe(!0),(Dn=rt.current)==null||Dn.style.setProperty("--swipe-amount-x",`${ws.x}px`),(Tn=rt.current)==null||Tn.style.setProperty("--swipe-amount-y",`${ws.y}px`)}},Ce&&!v.jsx?re.createElement("button",{"aria-label":X,"data-disabled":zi,"data-close-button":!0,onClick:zi||!Y?()=>{}:()=>{var Dt;qi(),(Dt=v.onDismiss)==null||Dt.call(v,v)},className:mo(Z?.closeButton,(i=v?.classNames)==null?void 0:i.closeButton)},(s=se?.close)!=null?s:FAe):null,v.jsx||b.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:re.createElement(re.Fragment,null,Ae||v.icon||v.promise?re.createElement("div",{"data-icon":"",className:mo(Z?.icon,(o=v?.classNames)==null?void 0:o.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||Qc():null,v.type!=="loading"?v.icon||se?.[Ae]||OAe(Ae):null):null,re.createElement("div",{"data-content":"",className:mo(Z?.content,(l=v?.classNames)==null?void 0:l.content)},re.createElement("div",{"data-title":"",className:mo(Z?.title,(c=v?.classNames)==null?void 0:c.title)},typeof v.title=="function"?v.title():v.title),v.description?re.createElement("div",{"data-description":"",className:mo(F,B,Z?.description,(u=v?.classNames)==null?void 0:u.description)},typeof v.description=="function"?v.description():v.description):null),b.isValidElement(v.cancel)?v.cancel:v.cancel&&vb(v.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||W,onClick:Dt=>{var vr,Rr;vb(v.cancel)&&Y&&((Rr=(vr=v.cancel).onClick)==null||Rr.call(vr,Dt),qi())},className:mo(Z?.cancelButton,(d=v?.classNames)==null?void 0:d.cancelButton)},v.cancel.label):null,b.isValidElement(v.action)?v.action:v.action&&vb(v.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||V,onClick:Dt=>{var vr,Rr;vb(v.action)&&((Rr=(vr=v.action).onClick)==null||Rr.call(vr,Dt),!Dt.defaultPrevented&&qi())},className:mo(Z?.actionButton,(f=v?.classNames)==null?void 0:f.actionButton)},v.action.label):null))};function GB(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function nTe(t,e){let r={};return[t,e].forEach((n,i)=>{let s=i===1,o=s?"--mobile-offset":"--offset",l=s?YAe:ZAe;function c(u){["top","right","bottom","left"].forEach(d=>{r[`${o}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?c(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${o}-${u}`]=l:r[`${o}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):c(l)}),r}b.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:o,className:l,offset:c,mobileOffset:u,theme:d="light",richColors:f,duration:g,style:v,visibleToasts:y=GAe,toastOptions:x,dir:_=GB(),gap:S=JAe,loadingIcon:C,icons:N,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:E}=t,[k,O]=re.useState([]),I=re.useMemo(()=>Array.from(new Set([n].concat(k.filter(ce=>ce.position).map(ce=>ce.position)))),[k,n]),[z,W]=re.useState([]),[V,q]=re.useState(!1),[F,H]=re.useState(!1),[Q,oe]=re.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=re.useRef(null),te=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=re.useRef(null),se=re.useRef(!1),X=re.useCallback(ce=>{O(je=>{var Te;return(Te=je.find(qe=>qe.id===ce.id))!=null&&Te.delete||Ls.dismiss(ce.id),je.filter(({id:qe})=>qe!==ce.id)})},[]);return re.useEffect(()=>Ls.subscribe(ce=>{if(ce.dismiss){O(je=>je.map(Te=>Te.id===ce.id?{...Te,delete:!0}:Te));return}setTimeout(()=>{z_.flushSync(()=>{O(je=>{let Te=je.findIndex(qe=>qe.id===ce.id);return Te!==-1?[...je.slice(0,Te),{...je[Te],...ce},...je.slice(Te+1)]:[ce,...je]})})})}),[]),re.useEffect(()=>{if(d!=="system"){oe(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?oe("dark"):oe("light")),typeof window>"u")return;let ce=window.matchMedia("(prefers-color-scheme: dark)");try{ce.addEventListener("change",({matches:je})=>{oe(je?"dark":"light")})}catch{ce.addListener(({matches:Te})=>{try{oe(Te?"dark":"light")}catch(qe){console.error(qe)}})}},[d]),re.useEffect(()=>{k.length<=1&&q(!1)},[k]),re.useEffect(()=>{let ce=je=>{var Te,qe;i.every(pe=>je[pe]||je.code===pe)&&(q(!0),(Te=K.current)==null||Te.focus()),je.code==="Escape"&&(document.activeElement===K.current||(qe=K.current)!=null&&qe.contains(document.activeElement))&&q(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[i]),re.useEffect(()=>{if(K.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,se.current=!1)}},[K.current]),re.createElement("section",{ref:e,"aria-label":`${A} ${te}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((ce,je)=>{var Te;let[qe,pe]=ce.split("-");return k.length?re.createElement("ol",{key:ce,dir:_==="auto"?GB():_,tabIndex:-1,ref:K,className:l,"data-sonner-toaster":!0,"data-theme":Q,"data-y-position":qe,"data-lifted":V&&k.length>1&&!s,"data-x-position":pe,style:{"--front-toast-height":`${((Te=z[0])==null?void 0:Te.height)||0}px`,"--width":`${XAe}px`,"--gap":`${S}px`,...v,...nTe(c,u)},onBlur:ue=>{se.current&&!ue.currentTarget.contains(ue.relatedTarget)&&(se.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||se.current||(se.current=!0,Z.current=ue.relatedTarget)},onMouseEnter:()=>q(!0),onMouseMove:()=>q(!0),onMouseLeave:()=>{F||q(!1)},onDragEnd:()=>q(!1),onPointerDown:ue=>{ue.target instanceof HTMLElement&&ue.target.dataset.dismissible==="false"||H(!0)},onPointerUp:()=>H(!1)},k.filter(ue=>!ue.position&&je===0||ue.position===ce).map((ue,_e)=>{var ye,Ie;return re.createElement(rTe,{key:ue.id,icons:N,index:_e,toast:ue,defaultRichColors:f,duration:(ye=x?.duration)!=null?ye:g,className:x?.className,descriptionClassName:x?.descriptionClassName,invert:r,visibleToasts:y,closeButton:(Ie=x?.closeButton)!=null?Ie:o,interacting:F,position:ce,style:x?.style,unstyled:x?.unstyled,classNames:x?.classNames,cancelButtonStyle:x?.cancelButtonStyle,actionButtonStyle:x?.actionButtonStyle,removeToast:X,toasts:k.filter(ne=>ne.position==ue.position),heights:z.filter(ne=>ne.position==ue.position),setHeights:W,expandByDefault:s,gap:S,loadingIcon:C,expanded:V,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const iTe=(t,e={})=>{const[r,n]=b.useState([]),[i,s]=b.useState(!0),[o,l]=b.useState(null),[c,u]=b.useState({}),[d,f]=b.useState(null),g=b.useCallback(async(E={})=>{if(console.log("🔍 [useComments] fetchComments appelé avec:",{listingId:t,options:e,newOptions:E}),!t){console.log("❌ [useComments] Pas de listingId, arrêt");return}try{console.log("🔍 [useComments] Début du chargement..."),s(!0),l(null),console.log("🔍 [useComments] Appel du service...");const{comments:k,pagination:O,error:I}=await Lg.getComments(t,{...e,...E});if(console.log("🔍 [useComments] Réponse du service:",{commentsLength:k?.length,error:I,pagination:O}),I)throw console.error("❌ [useComments] Erreur du service:",I),new Error(I);console.log("✅ [useComments] Mise à jour du state..."),n(k),u(O),console.log("✅ [useComments] Chargement terminé avec succès")}catch(k){console.error("❌ [useComments] Erreur finale:",k),l(k.message),console.error("Erreur lors du chargement des commentaires:",k)}finally{console.log("🔍 [useComments] Fin du chargement, loading = false"),s(!1)}},[t]),v=b.useCallback(async()=>{console.log("🔄 [useComments] Force refresh activé...");try{typeof window<"u"&&window.localStorage&&(Object.keys(localStorage).filter(O=>O.includes("comment")||O.includes("benome")).forEach(O=>{console.log("🗑️ [useComments] Suppression du cache:",O),localStorage.removeItem(O)}),console.log("✅ [useComments] Cache local nettoyé"))}catch(E){console.warn("⚠️ [useComments] Erreur lors du nettoyage du cache:",E)}await g({forceRefresh:!0})},[g]),y=b.useCallback(async E=>{try{l(null);const{comment:k,error:O}=await Lg.createComment({...E,listing_id:t});if(O)throw new Error(O);return n(I=>[k,...I]),{comment:k,error:null}}catch(k){const O=k.message;return l(O),{comment:null,error:O}}},[t]),x=b.useCallback(async(E,k)=>{try{l(null);const{comment:O,error:I}=await Lg.updateComment(E,k);if(I)throw new Error(I);return n(z=>z.map(W=>W.id===E?O:W)),{comment:O,error:null}}catch(O){const I=O.message;return l(I),{comment:null,error:I}}},[]),_=b.useCallback(async E=>{try{l(null);const{error:k}=await Lg.deleteComment(E);if(k)throw new Error(k);return n(O=>O.filter(I=>I.id!==E)),{error:null}}catch(k){const O=k.message;return l(O),{error:O}}},[]),S=b.useCallback(async(E,k)=>{try{l(null);const{report:O,error:I}=await Lg.reportComment(E,k);if(I)throw new Error(I);return{report:O,error:null}}catch(O){const I=O.message;return l(I),{report:null,error:I}}},[]),C=b.useCallback(E=>{g({page:E})},[g]),N=b.useCallback(E=>{g({...E,page:1})},[g]),A=b.useCallback(()=>{g()},[g]);return b.useEffect(()=>{console.log("🔍 [useComments] useEffect déclenché avec listingId:",t),t?(console.log("🔍 [useComments] Lancement du chargement initial..."),g()):console.log("❌ [useComments] Pas de listingId, pas de chargement")},[t]),{comments:r,loading:i,error:o,pagination:c,fetchComments:g,addComment:y,updateComment:x,deleteComment:_,reportComment:S,changePage:C,changeFilters:N,refresh:A,forceRefresh:v}},sTe=(t,e)=>{const[r,n]=b.useState(new Set),[i,s]=b.useState(new Map),o=b.useRef(new Map);b.useEffect(()=>()=>{o.current.forEach(d=>d.abort()),o.current.clear()},[]),b.useEffect(()=>{if(!t||t.length===0)return;[t[e],t[(e+1)%t.length],t[(e-1+t.length)%t.length],t[(e+2)%t.length],t[(e-2+t.length)%t.length]].filter(Boolean).forEach((f,g)=>{if(f&&!r.has(f)&&!i.has(f)){o.current.has(f)&&o.current.get(f).abort();const v=new AbortController;o.current.set(f,v),s(x=>new Map(x).set(f,"loading"));const y=new Image;y.onload=()=>{n(x=>new Set([...x,f])),s(x=>{const _=new Map(x);return _.set(f,"loaded"),_}),o.current.delete(f)},y.onerror=()=>{s(x=>{const _=new Map(x);return _.set(f,"error"),_}),o.current.delete(f)},y.src=f}})},[e,t]);const l=b.useCallback(d=>r.has(d),[r]),c=b.useCallback(d=>i.get(d)||"idle",[i]),u=b.useCallback(d=>{if(d&&!r.has(d)&&!i.has(d)){const f=new AbortController;o.current.set(d,f),s(v=>new Map(v).set(d,"loading"));const g=new Image;g.onload=()=>{n(v=>new Set([...v,d])),s(v=>{const y=new Map(v);return y.set(d,"loaded"),y}),o.current.delete(d)},g.onerror=()=>{s(v=>{const y=new Map(v);return y.set(d,"error"),y}),o.current.delete(d)},g.src=d}},[r,i]);return{preloadedImages:r,loadingStates:i,isImagePreloaded:l,getImageLoadingState:c,preloadImage:u}},Yee=t=>{const e=b.useMemo(()=>{if(t?.images&&t.images.length>0){const l=t.images.map(c=>typeof c=="string"?c:c?.url?c.url:c?.file?URL.createObjectURL(c.file):c?.src?c.src:c?.displayUrl?c.displayUrl:null).filter(Boolean);if(l.length>0)return l}const i={real_estate:["https://images.unsplash.com/photo-1560518883-ce09059eeffa?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1570129477492-45c003edd2be?w=800&h=600&fit=crop"],automobile:["https://images.unsplash.com/photo-1549317661-bd32c8ce0db2?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&h=600&fit=crop"],services:["https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1560472354-b33ff0c44a43?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=800&h=600&fit=crop"],marketplace:["https://images.unsplash.com/photo-1441986300917-64674bd600d8?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742044-3c52d6e88c62?w=800&h=600&fit=crop","https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=600&fit=crop"]};let s=t?.category;s&&(s={immobilier:"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"}[s.toLowerCase()]||s);const o=i[s]||i.marketplace;return lSe(o,"gallery","medium")},[t?.images,t?.category]),r=b.useMemo(()=>e[0],[e]),n=b.useMemo(()=>e.length>1,[e]);return{images:e,mainImage:r,hasMultipleImages:n,imageCount:e.length}},aTe=(t={})=>{const{onSwipeLeft:e,onSwipeRight:r,onSwipeUp:n,onSwipeDown:i,onPinch:s,onDoubleTap:o,minSwipeDistance:l=50,minPinchDistance:c=10,doubleTapDelay:u=300}=t,[d,f]=b.useState({startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}),g=b.useRef(null),v=b.useRef(null),y=b.useRef(0),x=b.useCallback((O,I)=>Math.hypot(O.clientX-I.clientX,O.clientY-I.clientY),[]),_=b.useCallback((O,I)=>Math.atan2(I.clientY-O.clientY,I.clientX-O.clientX)*180/Math.PI,[]),S=b.useCallback(O=>{const I=Date.now(),z=Array.from(O.touches);if(z.length===2){const W=x(z[0],z[1]),V=_(z[0],z[1]);f(q=>({...q,startDistance:W,startAngle:V,isPinching:!0,startTime:I}))}else if(z.length===1){const W=z[0];if(I-y.current<u){f(q=>({...q,isDoubleTap:!0})),o?.(W),setTimeout(()=>{f(q=>({...q,isDoubleTap:!1}))},100);return}y.current=I,f(q=>({...q,startX:W.clientX,startY:W.clientY,startTime:I,isPinching:!1}))}},[x,_,o,u]),C=b.useCallback(O=>{O.preventDefault();const I=Array.from(O.touches);if(d.isPinching&&I.length===2){const z=x(I[0],I[1]),W=_(I[0],I[1]),V=z-d.startDistance,q=W-d.startAngle;if(Math.abs(V)>c){const F=z/d.startDistance;s?.({scale:F,distanceDelta:V,angleDelta:q,center:{x:(I[0].clientX+I[1].clientX)/2,y:(I[0].clientY+I[1].clientY)/2}})}}},[d,x,_,c,s]),N=b.useCallback(O=>{const I=Array.from(O.changedTouches);if(d.isPinching){f(z=>({...z,isPinching:!1}));return}if(I.length===1&&!d.isDoubleTap){const z=I[0],W=z.clientX-d.startX,V=z.clientY-d.startY,q=Date.now()-d.startTime,F=Math.hypot(W,V),H=F/q;F>l&&H>.3&&(Math.abs(W)>Math.abs(V)?W>0?r?.({deltaX:W,deltaY:V,velocity:H,distance:F}):e?.({deltaX:W,deltaY:V,velocity:H,distance:F}):V>0?i?.({deltaX:W,deltaY:V,velocity:H,distance:F}):n?.({deltaX:W,deltaY:V,velocity:H,distance:F}))}f(z=>({...z,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1}))},[d,l,e,r,n,i]),A=b.useCallback(()=>{f(O=>({...O,startX:0,startY:0,startDistance:0,startTime:0,isPinching:!1,isDoubleTap:!1}))},[]),E=b.useCallback(()=>{g.current&&clearTimeout(g.current),v.current&&clearTimeout(v.current)},[]);return{touchHandlers:{onTouchStart:S,onTouchMove:C,onTouchEnd:N,onTouchCancel:A},touchState:d,cleanup:E}},oTe=(t,e,r)=>{const[n,i]=b.useState(1),[s,o]=b.useState(!1),l=b.useCallback(({scale:g})=>{const v=Math.max(.5,Math.min(3,g));i(v),o(!0),r?.(v)},[r]),c=b.useCallback(()=>{n<=1&&t?.()},[t,n]),u=b.useCallback(()=>{n<=1&&e?.()},[e,n]),{touchHandlers:d}=aTe({onSwipeLeft:c,onSwipeRight:u,onPinch:l,minSwipeDistance:30}),f=b.useCallback(()=>{i(1),o(!1),r?.(1)},[r]);return{touchHandlers:d,zoomLevel:n,isZooming:s,resetZoom:f}},lTe=({listingId:t,listing:e,size:r="default",showActions:n=!0,className:i=""})=>{const{user:s}=Vr(),o=ii(),{toast:l}=dn(),[c,u]=b.useState(null),[d,f]=b.useState(!1),[g,v]=b.useState(!1);b.useEffect(()=>{t&&s&&y()},[t,s]);const y=async()=>{try{f(!0);const O=await aC.getBoostStatus(t);u(O)}catch(O){console.error("Erreur chargement statut boost:",O)}finally{f(!1)}},x=async()=>{if(c?.currentBoost)try{v(!0),(await aC.renewBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost renouvelé !",description:"Votre boost a été prolongé avec succès."}),y())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors du renouvellement",variant:"destructive"})}finally{v(!1)}},_=async()=>{if(c?.currentBoost&&confirm("Êtes-vous sûr de vouloir annuler ce boost ?"))try{v(!0),(await aC.cancelBoost(c.currentBoost.id,s.id)).success&&(l({title:"Boost annulé",description:"Votre boost a été annulé avec succès."}),y())}catch(O){l({title:"Erreur",description:O.message||"Erreur lors de l'annulation",variant:"destructive"})}finally{v(!1)}},S=()=>{if(!c?.hasActiveBoost)return{icon:a.jsx(FH,{className:"h-4 w-4"}),label:"Non boosté",color:"secondary",description:"Aucun boost actif"};const O=c.currentBoost,I=new Date,z=new Date(O.end_date),W=Math.ceil((z-I)/(1e3*60*60*24));return W<=0?{icon:a.jsx(qs,{className:"h-4 w-4"}),label:"Expiré",color:"secondary",description:"Boost expiré"}:W<=3?{icon:a.jsx(qs,{className:"h-4 w-4"}),label:`${W}j restant${W>1?"s":""}`,color:"destructive",description:"Boost expire bientôt"}:W<=7?{icon:a.jsx(Po,{className:"h-4 w-4"}),label:`${W}j restant${W>1?"s":""}`,color:"default",description:"Boost actif"}:{icon:a.jsx(Fi,{className:"h-4 w-4"}),label:`${W}j restant${W>1?"s":""}`,color:"default",description:"Boost actif"}},C=O=>{switch(O){case"small":return"text-xs px-2 py-1";case"large":return"text-sm px-3 py-1.5";default:return"text-xs px-2.5 py-1"}},N=O=>{switch(O){case"small":return"h-3 w-3";case"large":return"h-5 w-5";default:return"h-4 w-4"}},A=S(),E=C(r),k=N(r);return!s||!e||s.id!==e.user_id?null:a.jsx(hp,{children:a.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(Et,{variant:A.color,className:`${E} cursor-help transition-all duration-200 hover:scale-105`,children:a.jsxs("div",{className:"flex items-center gap-1",children:[A.icon,a.jsx("span",{className:"hidden sm:inline",children:A.label})]})})}),a.jsxs(No,{children:[a.jsx("p",{children:A.description}),c?.hasActiveBoost&&c.currentBoost&&a.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Package: ",c.currentBoost.boost_packages?.name]})]})]}),n&&c?.hasActiveBoost&&c.currentBoost&&a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{onClick:x,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(Sl,{className:`${k} text-primary`})})}),a.jsx(No,{children:a.jsx("p",{children:"Renouveler le boost"})})]}),a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{onClick:_,disabled:g,variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-destructive/10",children:a.jsx(nM,{className:`${k} text-destructive`})})}),a.jsx(No,{children:a.jsx("p",{children:"Annuler le boost"})})]}),a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{onClick:()=>o(`/booster-annonce/${t}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-blue-500/10",children:a.jsx(hf,{className:`${k} text-blue-500`})})}),a.jsx(No,{children:a.jsx("p",{children:"Voir les détails et analytics"})})]})]}),n&&!c?.hasActiveBoost&&a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{onClick:()=>o(`/booster-annonce/${t}`),variant:"ghost",size:"sm",className:"h-6 w-6 p-0 hover:bg-primary/10",children:a.jsx(Po,{className:`${k} text-primary`})})}),a.jsx(No,{children:a.jsx("p",{children:"Booster cette annonce"})})]}),d&&a.jsx(ze.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-primary border-t-transparent rounded-full"}),g&&a.jsx(ze.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"h-4 w-4 border-2 border-green-500 border-t-transparent rounded-full"})]})})},Xee=({listing:t,variant:e="default"})=>{const{toast:r}=dn(),[n,i]=b.useState(!1),s=`${window.location.origin}/annonce/${t.id}`,o=v=>{const y=`🏠 Découvrez cette annonce sur MaxiMarket : ${t.title}`;switch(v){case"facebook":return`${y}

💰 Prix : ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}

📍 ${t.location?.city||"Localisation non spécifiée"}`;case"instagram":return`${y}

💰 ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique`;case"tiktok":return`${y}
💰 ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

#MaxiMarket #Marketplace #Afrique #FYP`;case"whatsapp":return`${y}

💰 Prix : ${t.price?new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF"}).format(t.price):"Prix sur demande"}
📍 ${t.location?.city||"Localisation non spécifiée"}

${s}`;default:return y}},l=()=>{i(!0);const v=o("facebook"),y=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(s)}&quote=${encodeURIComponent(v)}`;window.open(y,"_blank","width=600,height=500,scrollbars=yes,resizable=yes"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur Facebook",description:"L'annonce a été partagée sur Facebook"})},c=()=>{i(!0),navigator.clipboard.writeText(s).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez Instagram et collez-le dans votre story ou post."}),window.open("https://www.instagram.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},u=()=>{i(!0),navigator.clipboard.writeText(s).then(()=>{r({title:"Lien copié !",description:"Le lien a été copié. Ouvrez TikTok et collez-le dans votre vidéo ou description."}),window.open("https://www.tiktok.com","_blank")}).catch(()=>{r({title:"Erreur",description:"Impossible de copier le lien automatiquement.",variant:"destructive"})}),setTimeout(()=>i(!1),1e3)},d=()=>{i(!0);const v=o("whatsapp"),y=`https://wa.me/?text=${encodeURIComponent(v)}`;window.open(y,"_blank"),setTimeout(()=>i(!1),1e3),r({title:"Partagé sur WhatsApp",description:"L'annonce a été partagée sur WhatsApp"})},f=async()=>{try{await navigator.clipboard.writeText(s),r({title:"Lien copié !",description:"Le lien de l'annonce a été copié dans le presse-papiers."})}catch{r({title:"Erreur",description:"Impossible de copier le lien.",variant:"destructive"})}},g=()=>{window.open(s,"_blank")};return e==="compact"?a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsxs(me,{variant:"outline",size:"sm",disabled:n,className:"flex items-center space-x-2",children:[a.jsx(IA,{className:"h-4 w-4"}),a.jsx("span",{children:"Partager"})]})}),a.jsxs(Kc,{align:"end",className:"w-48",children:[a.jsxs(Dr,{onClick:l,children:[a.jsx(TA,{className:"h-4 w-4 mr-2 text-blue-600"}),"Facebook"]}),a.jsxs(Dr,{onClick:c,children:[a.jsx(OA,{className:"h-4 w-4 mr-2 text-pink-600"}),"Instagram"]}),a.jsxs(Dr,{onClick:u,children:[a.jsx("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),"TikTok"]}),a.jsxs(Dr,{onClick:d,children:[a.jsx("svg",{className:"h-4 w-4 mr-2 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),"WhatsApp"]}),a.jsxs(Dr,{onClick:f,children:[a.jsx(I3,{className:"h-4 w-4 mr-2"}),"Copier le lien"]}),a.jsxs(Dr,{onClick:g,children:[a.jsx(Wv,{className:"h-4 w-4 mr-2"}),"Ouvrir l'annonce"]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(IA,{className:"h-4 w-4 text-muted-foreground"}),a.jsx("span",{className:"text-sm font-medium",children:"Partager cette annonce"})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(me,{variant:"outline",size:"sm",onClick:l,disabled:n,className:"flex items-center space-x-2 bg-blue-50 hover:bg-blue-100 border-blue-200",children:[a.jsx(TA,{className:"h-4 w-4 text-blue-600"}),a.jsx("span",{children:"Facebook"})]}),a.jsxs(me,{variant:"outline",size:"sm",onClick:c,disabled:n,className:"flex items-center space-x-2 bg-pink-50 hover:bg-pink-100 border-pink-200",children:[a.jsx(OA,{className:"h-4 w-4 text-pink-600"}),a.jsx("span",{children:"Instagram"})]}),a.jsxs(me,{variant:"outline",size:"sm",onClick:u,disabled:n,className:"flex items-center space-x-2 bg-black hover:bg-gray-800 text-white border-gray-700",children:[a.jsx("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-1.43.08-2.86-.31-4.08-1.03-2.02-1.19-3.44-3.37-3.65-5.71-.02-.5-.03-1-.01-1.49.18-1.9 1.12-3.72 2.58-4.96 1.66-1.44 3.98-2.13 6.15-1.72.02 1.48-.04 2.96-.04 4.44-.99-.32-2.15-.23-3.02.37-.63.41-1.11 1.04-1.36 1.75-.21.51-.15 1.07-.14 1.61.24 1.64 1.82 3.02 3.5 2.87 1.12-.01 2.19-.66 2.77-1.61.19-.33.4-.67.41-1.06.1-1.79.06-3.57.07-5.36.01-4.03-.01-8.05.02-12.07z"})}),a.jsx("span",{children:"TikTok"})]}),a.jsxs(me,{variant:"outline",size:"sm",onClick:d,disabled:n,className:"flex items-center space-x-2 bg-green-50 hover:bg-green-100 border-green-200",children:[a.jsx("svg",{className:"h-4 w-4 text-green-600",viewBox:"0 0 24 24",fill:"currentColor",children:a.jsx("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"})}),a.jsx("span",{children:"WhatsApp"})]}),a.jsxs(me,{variant:"outline",size:"sm",onClick:f,className:"flex items-center space-x-2",children:[a.jsx(I3,{className:"h-4 w-4"}),a.jsx("span",{children:"Copier le lien"})]}),a.jsxs(me,{variant:"outline",size:"sm",onClick:g,className:"flex items-center space-x-2",children:[a.jsx(Wv,{className:"h-4 w-4"}),a.jsx("span",{children:"Ouvrir l'annonce"})]})]})]})};class cTe{constructor(){this.isConfigured=!1,this.cache=new Map,this.maxCacheSize=1e3,this.cacheHits=0,this.cacheMisses=0,this.googleTranslateConfig={key:void 0},this._initializeSync()}_initializeSync(){try{this.googleTranslateConfig.key?(this.isConfigured=!0,this.apiKey=this.googleTranslateConfig.key,console.log("Translation service initialized with API key (REST mode)")):(console.warn("Translation service not configured, using mock mode"),console.info("To enable real translation, set VITE_GOOGLE_TRANSLATE_API_KEY"),this.isConfigured=!1)}catch(e){console.error("Failed to initialize translation service:",e),this.isConfigured=!1}}async initialize(){return this._initializeSync()}_getCacheKey(e,r,n){return`${e}_${n}_${r}`}_manageCache(){if(this.cache.size>this.maxCacheSize){const e=this.cache.keys().next().value;this.cache.delete(e)}}async translateText(e,r,n="auto"){if(!e||typeof e!="string")return e;const i=this._getCacheKey(e,r,n);if(this.cache.has(i))return this.cacheHits++,this.cache.get(i);this.cacheMisses++;try{let s=e;if(this.isConfigured&&this.apiKey)try{console.log(`🌍 Traduction réelle: "${e}" (${n} → ${r})`);const l=await(await fetch(`https://translation.googleapis.com/language/translate/v2?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:n,target:r})})).json();if(l.data&&l.data.translations&&l.data.translations[0])s=l.data.translations[0].translatedText,console.log(`✅ Traduit: "${e}" → "${s}"`);else throw new Error("Invalid response from Google Translate API")}catch(o){console.warn("❌ Google Translate API error, falling back to mock translation:",o),s=this._mockTranslate(e,r,n)}else console.log(`🎭 Traduction simulée: "${e}" (${n} → ${r})`),s=this._mockTranslate(e,r,n);return this.cache.set(i,s),this._manageCache(),s}catch(s){return console.error("Translation error:",s),e}}_mockTranslate(e,r,n){const s={fr:{en:{Bonjour:"Hello",Merci:"Thank you","Au revoir":"Goodbye",Bienvenue:"Welcome",Annonce:"Listing",Prix:"Price",Description:"Description",Titre:"Title",Catégorie:"Category",Localisation:"Location",Date:"Date",Contact:"Contact",Détails:"Details","Voir plus":"See more","Ajouter aux favoris":"Add to favorites",Partager:"Share",Signaler:"Report",Modifier:"Edit",Supprimer:"Delete",Confirmer:"Confirm",Annuler:"Cancel",Sauvegarder:"Save",Rechercher:"Search",Filtrer:"Filter",Trier:"Sort",Nouveau:"New",Populaire:"Popular",Récent:"Recent",Ancien:"Old",Cher:"Expensive","Bon marché":"Cheap",Disponible:"Available",Vendu:"Sold","En location":"For rent","À vendre":"For sale",Immobilier:"Real estate",Automobile:"Automotive",Services:"Services",Marketplace:"Marketplace",Découvrir:"Discover","Voir toutes les annonces":"View all listings","Annonces populaires":"Popular listings","Voir toutes les annonces premium":"View all premium listings"}},en:{fr:{Hello:"Bonjour","Thank you":"Merci",Goodbye:"Au revoir",Welcome:"Bienvenue",Listing:"Annonce",Price:"Prix",Description:"Description",Title:"Titre",Category:"Catégorie",Location:"Localisation",Date:"Date",Contact:"Contact",Details:"Détails","See more":"Voir plus","Add to favorites":"Ajouter aux favoris",Share:"Partager",Report:"Signaler",Edit:"Modifier",Delete:"Supprimer",Confirm:"Confirmer",Cancel:"Annuler",Save:"Sauvegarder",Search:"Rechercher",Filter:"Filtrer",Sort:"Trier",New:"Nouveau",Popular:"Populaire",Recent:"Récent",Old:"Ancien",Expensive:"Cher",Cheap:"Bon marché",Available:"Disponible",Sold:"Vendu","For rent":"En location","For sale":"À vendre","Real estate":"Immobilier",Automotive:"Automobile",Services:"Services",Marketplace:"Marketplace",Discover:"Découvrir","View all listings":"Voir toutes les annonces","Popular listings":"Annonces populaires","View all premium listings":"Voir toutes les annonces premium"}}}[n]?.[r];return s&&s[e]?s[e]:e}async translateObject(e,r,n="fr"){if(!e||typeof e!="object")return e;const i={...e},s=["title","description","category","location"];for(const o of s)e[o]&&typeof e[o]=="string"&&(i[o]=await this.translateText(e[o],r,n));return i.translation_metadata={original_language:n,translated_language:r,is_translated:!0},i}async translateListings(e,r,n="fr"){if(!Array.isArray(e))return e;const i=[];for(const s of e){const o=await this.translateObject(s,r,n);i.push(o)}return i}isLanguageSupported(e){return["fr","en"].includes(e)}getSupportedLanguages(){return["fr","en"]}clearCache(){this.cache.clear(),this.cacheHits=0,this.cacheMisses=0}getCacheStats(){const e=this.cacheHits+this.cacheMisses;return{size:this.cache.size,maxSize:this.maxCacheSize,hits:this.cacheHits,misses:this.cacheMisses,totalRequests:e,hitRate:e>0?this.cacheHits/e:0}}async testConnection(){if(!this.isConfigured)return{success:!1,message:"Translation service not configured"};try{const e="Hello world",n=await(await fetch(`https://translation.googleapis.com/language/translate/v2?key=${this.apiKey}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({q:e,source:"en",target:"fr"})})).json();if(n.data&&n.data.translations&&n.data.translations[0]){const i=n.data.translations[0].translatedText;return{success:!0,message:"API connection successful",test:{original:e,translated:i}}}else throw new Error("Invalid response from Google Translate API")}catch(e){return{success:!1,message:"API connection failed",error:e.message}}}}const ZB=new cTe,uTe=()=>{const{currentLanguage:t}=Qf(),[e,r]=b.useState(!1),[n,i]=b.useState(null),[s,o]=b.useState(null),l=b.useCallback(async(d,f="fr")=>{if(t===f){i(null),o(null);return}if(!d){i(null),o(null);return}try{r(!0),o(null);let g;typeof d=="string"?g=await ZB.translateText(d,t,f):typeof d=="object"?g=await ZB.translateObject(d,t,f):g=d,i(g)}catch(g){console.error("Auto translation error:",g),o(g.message||"Translation failed"),i(null)}finally{r(!1)}},[t]),c=b.useCallback(()=>{i(null),o(null)},[]),u=b.useCallback(async(d,f="fr")=>{await l(d,f)},[l]);return{translateContent:l,isTranslating:e,translatedContent:n,translationError:s,clearTranslation:c,retryTranslation:u,hasTranslation:n!==null}},YB=({content:t,sourceLanguage:e="fr",children:r,className:n="",showTranslationIndicator:i=!0,showRetryButton:s=!0,fallbackToOriginal:o=!0})=>{const{currentLanguage:l}=Qf(),{translateContent:c,isTranslating:u,translatedContent:d,translationError:f,retryTranslation:g,hasTranslation:v}=uTe();b.useEffect(()=>{t&&l!==e&&c(t,e)},[t,l,e,c]);const y=d||t;return l===e?a.jsx("div",{className:n,children:r(t)}):u?a.jsxs("div",{className:`flex items-center space-x-2 ${n}`,children:[a.jsx(Qr,{className:"h-4 w-4 animate-spin"}),a.jsx("span",{className:"text-sm text-muted-foreground",children:l==="fr"?"Traduction en cours...":"Translating..."})]}):f&&!o?a.jsxs("div",{className:`space-y-2 ${n}`,children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-destructive",children:[a.jsx(Un,{className:"h-4 w-4"}),a.jsx("span",{children:l==="fr"?"Erreur de traduction":"Translation error"})]}),s&&a.jsxs(me,{variant:"outline",size:"sm",onClick:()=>g(t,e),className:"flex items-center space-x-2",children:[a.jsx(Sl,{className:"h-3 w-3"}),a.jsx("span",{children:l==="fr"?"Réessayer":"Retry"})]})]}):a.jsxs("div",{className:n,children:[r(y),i&&v&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground mt-1",children:[a.jsx(iM,{className:"h-3 w-3"}),a.jsx("span",{children:l==="fr"?"Traduit automatiquement":"Automatically translated"})]}),f&&o&&a.jsxs("div",{className:"flex items-center space-x-1 text-xs text-muted-foreground mt-1",children:[a.jsx(Un,{className:"h-3 w-3"}),a.jsx("span",{children:l==="fr"?"Affichage en langue originale":"Showing in original language"})]})]})},yd=({listing:t,onToggleFavorite:e,showActions:r=!0})=>{const{user:n}=Vr(),i=ii(),{images:s}=Yee(t),[o,l]=b.useState(t.is_favorite||!1),[c,u]=b.useState(!1),{t:d,formatCurrency:f,formatDate:g}=Qf(),v=A=>f(A,t.currency||"XOF"),y=A=>g(new Date(A),"P"),x=A=>{switch(A){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},_=A=>{const E="text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap";switch(A){case"approved":return a.jsx(Et,{variant:"default",className:`badge-approved ${E}`,children:"Approuvé"});case"pending":return a.jsx(Et,{variant:"secondary",className:E,children:"En attente"});case"rejected":return a.jsx(Et,{variant:"destructive",className:E,children:"Rejeté"});default:return a.jsx(Et,{variant:"outline",className:E,children:A})}},S=async A=>{if(A.stopPropagation(),!n){i("/connexion");return}if(!c)try{u(!0),l(!o),e&&await e(t.id)}catch(E){l(!o),console.error("Erreur lors du basculement des favoris:",E)}finally{u(!1)}},C=()=>{t.id&&i(`/annonce/${t.id}`)};re.useEffect(()=>{l(t.is_favorite||!1)},[t.is_favorite]);const N=t.featured||t.boosted||t.is_premium||t.premium;return a.jsxs(ze.div,{whileHover:{y:-4},className:Ye("group rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 cursor-pointer overflow-hidden",N?"bg-gradient-to-br from-amber-50/50 to-yellow-100/50 border-2 border-amber-300/50 shadow-amber-200/50":"bg-card border border-border/50"),onClick:C,children:[a.jsxs("div",{className:"relative h-40 sm:h-48 md:h-56 bg-muted overflow-hidden",children:[a.jsx(uY,{images:s,title:t.title,className:"h-full"}),a.jsx("div",{className:"absolute top-2 left-2 flex flex-col gap-1 sm:flex-row sm:gap-2 items-start",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Et,{variant:"secondary",className:"bg-black/70 text-white text-xs px-1 py-0.5 sm:px-2 sm:py-1 md:px-3 md:py-1.5 inline-flex items-center whitespace-nowrap",children:a.jsxs("span",{className:"inline-flex items-center",children:[x(t.category)," ",t.category==="real_estate"?"Immobilier":t.category==="automobile"?"Automobile":t.category==="services"?"Services":"Marketplace"]})}),t.status==="approved"&&N?a.jsx("span",{className:"hidden sm:inline-flex",children:_(t.status)}):_(t.status)]})}),r&&a.jsx(ze.button,{onClick:S,disabled:c,className:`absolute top-2 right-2 p-1.5 sm:p-2 rounded-full transition-all duration-200 ${o?"bg-red-500 hover:bg-red-600 text-white":"bg-black/20 hover:bg-black/40 text-white"} ${c?"opacity-50 cursor-not-allowed":""}`,whileHover:{scale:1.1},whileTap:{scale:.9},children:a.jsx(_l,{className:`h-4 w-4 sm:h-5 sm:w-5 ${o?"fill-current":""}`})})]}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx(YB,{content:{title:t.title},sourceLanguage:"fr",children:A=>a.jsx("h3",{className:"text-lg sm:text-xl font-semibold mb-2 truncate group-hover:text-primary transition-colors",children:A.title})}),a.jsxs("div",{className:"flex items-center text-muted-foreground mb-2 sm:mb-3",children:[a.jsx(vl,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1.5 sm:mr-2 flex-shrink-0"}),a.jsx("span",{className:"truncate text-sm sm:text-base",children:t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:t.location?.city||t.location?.country||"Localisation non spécifiée"})]}),a.jsx("div",{className:Ye("text-xl sm:text-2xl font-bold mb-2 sm:mb-3",N?"text-slate-800":"text-primary"),children:t.price?v(t.price):"Prix sur demande"}),a.jsx(YB,{content:{description:t.description},sourceLanguage:"fr",children:A=>a.jsx("p",{className:"text-muted-foreground mb-3 sm:mb-4 text-sm sm:text-base line-clamp-2 sm:line-clamp-2",children:A.description||d("messages.noData")})}),N&&a.jsx("div",{className:"mb-3",children:a.jsx(Et,{variant:"secondary",className:"bg-gradient-to-r from-amber-100 to-yellow-100 text-amber-800 border-amber-300 text-xs font-medium",children:"⭐ Premium"})}),a.jsxs("div",{className:"flex items-center justify-between text-xs sm:text-sm text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hc,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:t.created_at?y(t.created_at):d("messages.noData")})]}),a.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[t.views_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Ic,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:t.views_count})]}),t.favorites_count>0&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(_l,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1 flex-shrink-0"}),a.jsx("span",{className:"text-xs sm:text-sm",children:t.favorites_count})]})]})]}),a.jsx("div",{className:"mt-3 pt-3 border-t border-border/20",children:a.jsx(Xee,{listing:t,variant:"compact"})}),a.jsx(lTe,{listingId:t.id,listing:t,size:"small",showActions:r,className:"mt-3 pt-3 border-t border-border/20"})]})]})},dTe=({listings:t=[],category:e,hour:r,timeSlot:n,onListingClick:i})=>{const[s,o]=b.useState(0),[l,c]=b.useState(!0),u=ii();b.useEffect(()=>{if(!l||t.length<=1)return;const N=setInterval(()=>{o(A=>(A+1)%t.length)},8e3);return()=>clearInterval(N)},[l,t.length]);const d=b.useCallback(()=>c(!1),[]),f=b.useCallback(()=>c(!0),[]),g=b.useCallback(()=>{console.log("🔄 goToNext appelé, currentIndex:",s,"listings.length:",t.length),o(N=>(N+1)%t.length)},[t.length,s]),v=b.useCallback(()=>{console.log("🔄 goToPrevious appelé, currentIndex:",s,"listings.length:",t.length),o(N=>(N-1+t.length)%t.length)},[t.length,s]),y=b.useCallback(N=>{o(N)},[]),x=b.useCallback(N=>{i?i(N):u(`/annonce/${N.id}`)},[u,i]),_=N=>{switch(N){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},S=N=>{switch(N){case"real_estate":return"bg-blue-500";case"automobile":return"bg-green-500";case"services":return"bg-purple-500";case"marketplace":return"bg-orange-500";default:return"bg-gray-500"}};if(!t||t.length===0)return a.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx(qs,{className:"h-16 w-16 mx-auto mb-4 opacity-50"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune annonce disponible"}),a.jsx("p",{className:"text-gray-300",children:"Revenez plus tard pour découvrir de nouvelles annonces"})]})});const C=t[s];return a.jsxs("div",{className:"relative h-screen overflow-hidden",onMouseEnter:d,onMouseLeave:f,children:[a.jsx(Ei,{mode:"wait",children:a.jsx(ze.div,{initial:{opacity:0,scale:1.1},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.8,ease:"easeOut"},className:"absolute inset-0",children:a.jsx(Ew,{src:C.images?.[0]||C.image_url,alt:C.title,className:"w-full h-full object-cover",context:"hero",quality:"high",priority:"high",showSkeleton:!0,enableHeroAnimations:!0,showOverlay:!1})},C.id)}),a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center relative z-10",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex justify-center items-center gap-4 mb-8",children:[a.jsxs(Et,{className:Ye("text-white/80 border-0 text-sm",S(e)),children:[a.jsx("span",{className:"mr-1",children:_(e)}),e==="real_estate"&&"Immobilier",e==="automobile"&&"Automobile",e==="services"&&"Services",e==="marketplace"&&"Marketplace"]}),a.jsxs(Et,{variant:"outline",className:"text-white/80 border-white/20 text-sm",children:[a.jsx(qs,{className:"h-3 w-3 mr-1"}),n," • ",r,"h"]})]}),a.jsxs(ze.h1,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.4},className:"text-5xl md:text-7xl font-bold text-white mb-6 leading-tight",children:["Bienvenue sur"," ",a.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),a.jsx(ze.p,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.6},className:"text-xl md:text-2xl text-gray-300 mb-32 max-w-3xl mx-auto",children:"Explorez, découvrez, connectez. Votre marketplace de confiance."}),a.jsxs(ze.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:.8},className:"text-white/60 text-sm mb-4",children:["Découvrez : ",C.title]}),a.jsx(ze.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.7,delay:1},className:"flex justify-center",children:a.jsx(me,{variant:"ghost",size:"sm",className:"text-white/70 hover:text-white hover:bg-white/10 border border-white/20",onClick:()=>x(C),children:"Voir cette annonce"})})]})}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"absolute inset-0 pointer-events-none z-50",children:[a.jsx("button",{className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white border-0 rounded-full w-12 h-12 flex items-center justify-center pointer-events-auto transition-all duration-200 hover:scale-110",onClick:v,children:a.jsx(Ga,{className:"h-6 w-6"})}),a.jsx("button",{className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/20 hover:bg-black/40 text-white border-0 rounded-full w-12 h-12 flex items-center justify-center pointer-events-auto transition-all duration-200 hover:scale-110",onClick:g,children:a.jsx(Za,{className:"h-6 w-6"})})]}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 flex gap-2 z-50",children:t.map((N,A)=>a.jsx("button",{className:Ye("w-3 h-3 rounded-full transition-all duration-300 cursor-pointer",A===s?"bg-white scale-125":"bg-white/50 hover:bg-white/75"),onClick:()=>y(A)},A))}),a.jsxs("div",{className:"absolute top-8 right-8 text-white/70 text-sm z-50",children:[s+1," / ",t.length]})]})]})},fTe=()=>{const t=ii(),{user:e}=Vr(),{t:r}=Qf(),[n,i]=b.useState([]),[s,o]=b.useState(!0),[l,c]=b.useState(null),[u,d]=b.useState([]),[f,g]=b.useState(!0),[v,y]=b.useState(null),[x,_]=b.useState([]),[S,C]=b.useState(!0),[N,A]=b.useState(null),[E,k]=b.useState({category:"",hour:0,timeSlot:""});b.useEffect(()=>{let W;const V=async()=>{try{o(!0);const H=await en.getTopViewedListings(6);i(H||[])}catch(H){c(H?.message||"Erreur lors du chargement des annonces populaires")}finally{o(!1)}},q=async()=>{try{g(!0);const H=await en.getPremiumListings(10);d(H?.data||[])}catch(H){y(H?.message||"Erreur lors du chargement des annonces premium")}finally{g(!1)}},F=async()=>{try{C(!0);const H=await en.getHeroListings(6);_(H?.data||[]),k({category:H?.category||"",hour:H?.hour||0,timeSlot:H?.rotationInfo?.timeSlot||""})}catch(H){A(H?.message||"Erreur lors du chargement des annonces hero")}finally{C(!1)}};return V(),q(),F(),W=setInterval(()=>{V(),q(),F()},18e5),()=>clearInterval(W)},[]);const O={hidden:{opacity:0,y:20},visible:W=>({opacity:1,y:0,transition:{delay:W*.1,duration:.5,ease:"easeOut"}})},I=[{name:"Immobilier",icon:a.jsx(khe,{className:"h-10 w-10 mb-3 text-primary"}),path:"/immobilier",description:"Maisons, appartements, terrains."},{name:"Automobile",icon:a.jsx(_he,{className:"h-10 w-10 mb-3 text-primary"}),path:"/automobile",description:"Voitures, motos, utilitaires."},{name:"Services Pro",icon:a.jsx(If,{className:"h-10 w-10 mb-3 text-primary"}),path:"/services",description:"Experts qualifiés à votre service."},{name:"Marketplace",icon:a.jsx(Yf,{className:"h-10 w-10 mb-3 text-primary"}),path:"/marketplace",description:"Produits neufs et d'occasion."}],z=W=>{t(W)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20 text-foreground",children:[S?a.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des annonces..."}),a.jsx("p",{className:"text-gray-300",children:"Préparation de votre expérience personnalisée"})]})}):N?a.jsx("div",{className:"relative h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-purple-900 flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("div",{className:"w-16 h-16 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx("span",{className:"text-2xl",children:"⚠️"})}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-gray-300",children:N})]})}):a.jsxs(a.Fragment,{children:[a.jsx(dTe,{listings:x,category:E.category,hour:E.hour,timeSlot:E.timeSlot}),a.jsx("div",{className:"absolute bottom-8 left-1/2 transform -translate-x-1/2 z-20 w-full max-w-2xl px-4",style:{bottom:"120px"},children:a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.2},children:a.jsxs("form",{onSubmit:W=>{W.preventDefault();const F=W.currentTarget.querySelector('input[name="q"]')?.value||"",{section:H,params:Q}=BA(F),oe=new URLSearchParams(Q);t(`${H==="immobilier"?"/immobilier":H==="automobile"?"/automobile":H==="services"?"/services":"/marketplace"}?${oe.toString()}`)},className:"relative",children:[a.jsx(dt,{name:"q",type:"search",placeholder:"Que recherchez-vous sur MaxiMarket ?",className:"w-full py-4 px-6 pr-16 rounded-full text-lg bg-white/10 text-white placeholder-gray-400 border-2 border-transparent focus:border-primary focus:ring-primary focus:outline-none backdrop-blur-md h-16"}),a.jsx(me,{type:"submit",size:"lg",className:"absolute right-2 top-1/2 transform -translate-y-1/2 rounded-full bg-primary hover:bg-primary/90 h-12 w-12 p-0",children:a.jsx(Khe,{className:"h-6 w-6 text-white"})})]})})})]}),a.jsx("section",{className:"py-16 md:py-24",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(ze.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Explorez nos ",a.jsx("span",{className:"gradient-text",children:"Univers"})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:I.map((W,V)=>a.jsxs(ze.div,{custom:V,variants:O,initial:"hidden",animate:"visible",onClick:()=>z(W.path),className:"bg-card p-6 rounded-xl shadow-2xl hover:shadow-primary/40 transition-all duration-300 transform hover:-translate-y-2 flex flex-col items-center text-center glassmorphic-card border border-transparent hover:border-primary/50 cursor-pointer group",children:[W.icon,a.jsx("h3",{className:"text-xl font-semibold mb-2 group-hover:text-primary transition-colors",children:W.name}),a.jsx("p",{className:"text-muted-foreground text-sm mb-5 flex-grow group-hover:text-primary/80 transition-colors",children:W.description}),a.jsxs("div",{className:"w-full border border-primary/50 rounded-md px-4 py-2 text-primary group-hover:bg-primary group-hover:text-white transition-all duration-300",children:[r("actions.discover")," ",a.jsx(jc,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform inline"})]})]},W.name))})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(ze.h2,{className:"text-3xl md:text-4xl font-bold text-center mb-16",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["⭐ Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),v&&a.jsx("p",{className:"text-center text-destructive mb-8",children:v}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[f&&!u.length&&Array.from({length:10}).map((W,V)=>a.jsxs("div",{className:"bg-gradient-to-br from-amber-50/80 to-yellow-100/80 rounded-lg shadow-xl overflow-hidden glassmorphic-card border-2 border-amber-300/50",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-gradient-to-r from-amber-200/50 to-yellow-200/50 rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-gradient-to-r from-amber-300/50 to-yellow-300/50 rounded animate-pulse"})]})]},V)),!f&&u.length===0&&a.jsxs("div",{className:"col-span-full text-center py-16",children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium pour le moment"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Soyez le premier à passer premium et boostez votre visibilité !"}),a.jsx(me,{onClick:()=>t("/creer-annonce"),variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Créer une Annonce Premium"})]}),u.slice(0,10).map(W=>a.jsx(yd,{listing:W,showActions:!1},W.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(me,{size:"lg",variant:"default",className:"bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white shadow-lg",onClick:()=>t("/premium"),children:[r("listings.viewAllPremium")," ",a.jsx(jc,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-16 md:py-24 bg-background/30",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs("h2",{className:"text-3xl md:text-4xl font-bold text-center mb-16",children:["🔥 ",a.jsxs("span",{className:"gradient-text",children:[r("listings.listings")," ",r("listings.popular")]})]}),l&&a.jsx("p",{className:"text-center text-destructive mb-8",children:l}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:[s&&!n.length&&Array.from({length:6}).map((W,V)=>a.jsxs("div",{className:"bg-card rounded-lg shadow-xl overflow-hidden glassmorphic-card border border-transparent",children:[a.jsx("div",{className:"h-40 sm:h-48 md:h-56 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-3 sm:p-4 md:p-6",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-10 w-1/3 bg-muted rounded animate-pulse"})]})]},V)),!s&&n.length===0&&a.jsx("p",{className:"col-span-full text-center text-muted-foreground",children:"Aucune annonce populaire pour le moment."}),n.slice(0,6).map(W=>a.jsx(yd,{listing:W,showActions:!1},W.id))]}),a.jsx("div",{className:"text-center mt-12",children:a.jsxs(me,{size:"lg",variant:"default",className:"bg-gradient-to-r from-primary to-blue-600 hover:from-primary/90 hover:to-blue-600/90 text-primary-foreground",onClick:()=>t("/marketplace?sort=popular&per=24"),children:[r("listings.viewAll")," ",a.jsx(jc,{className:"ml-2 h-5 w-5"})]})})]})}),a.jsx("section",{className:"py-20 md:py-32",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6 text-center",children:[a.jsxs(ze.h2,{className:"text-3xl md:text-4xl font-bold mb-6",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:["Prêt à ",a.jsx("span",{className:"gradient-text",children:"Rejoindre MaxiMarket"})," ?"]}),a.jsx(ze.p,{className:"text-lg text-muted-foreground mb-10 max-w-xl mx-auto",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:"Créez un compte, publiez votre première annonce ou trouvez l'affaire parfaite en quelques clics."}),a.jsxs(ze.div,{className:"space-y-4 sm:space-y-0 sm:flex sm:justify-center sm:space-x-4",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx(me,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground w-full sm:w-auto",onClick:()=>{e?t("/creer-annonce"):t("/connexion",{state:{from:"/creer-annonce"}})},children:"Publier une Annonce"}),a.jsx(me,{size:"lg",variant:"outline",className:"w-full sm:w-auto",onClick:()=>t("/inscription"),children:"Créer un Compte"})]})]})})]})},hTe=()=>{const{user:t}=Vr(),e=ii(),r=is(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=b.useState({search:i,location:l,type:"",minPrice:s,maxPrice:o}),{listings:d,loading:f,error:g,hasMore:v,loadMore:y}=B1("real_estate",c),{toggleFavorite:x}=TAe(),_=A=>{A.preventDefault()},S=(A,E)=>{u(k=>({...k,[A]:E}))},C=()=>{u({search:"",location:"",type:"",minPrice:"",maxPrice:""})},N=()=>{if(!t){e("/connexion");return}e("/creer-annonce/real-estate")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-green-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-emerald",children:"Immobilier"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Appartements, maisons, terrains et locaux commerciaux. Trouvez votre prochaine propriété ou investissement ici."})]}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"search",type:"text",placeholder:"Entrez une ville, quartier, mots-clés...",value:c.search,onChange:A=>S("search",A.target.value),className:"pl-10"}),a.jsx(ki,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(dt,{id:"location",type:"text",placeholder:"Ville, région...",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"minPrice",className:"block text-sm font-medium mb-1",children:"Prix min"}),a.jsx(dt,{id:"minPrice",type:"number",placeholder:"0",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"maxPrice",className:"block text-sm font-medium mb-1",children:"Prix max"}),a.jsx(dt,{id:"maxPrice",type:"number",placeholder:"∞",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(me,{type:"submit",className:"flex-1",children:[a.jsx(ki,{className:"mr-2 h-4 w-4"}),"Rechercher"]}),a.jsx(me,{type:"button",variant:"outline",onClick:C,children:a.jsx(Us,{className:"h-4 w-4"})})]})]})}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"text-center mb-12",children:a.jsx(me,{onClick:N,size:"lg",className:"bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white px-8 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300",children:"Publier une annonce immobilière"})}),f&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Qr,{className:"h-12 w-12 animate-spin mx-auto mb-4 text-primary"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des annonces..."})]}),g&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx(Un,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(me,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(me,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!f&&d.length>0&&a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:d.map((A,E)=>a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.1},children:a.jsx(yd,{listing:A,onToggleFavorite:x})},A.id))}),!f&&!g&&d.length===0&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🏠"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucune annonce immobilière ne correspond à vos critères de recherche."}),a.jsx(me,{onClick:C,variant:"outline",children:"Effacer les filtres"})]}),v&&d.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(me,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus d'annonces ",a.jsx(jc,{className:"ml-2 h-5 w-5"})]})})}),d.length>0&&a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[d.length," annonce",d.length>1?"s":""," immobilière",d.length>1?"s":""," trouvée",d.length>1?"s":""]})})]})})},pTe=()=>{const{user:t}=Vr(),e=ii(),r=is(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",c=n.get("brand")||"",[u,d]=b.useState({search:i,location:l,brand:c,minPrice:s,maxPrice:o,year:"",fuel:""}),{listings:f,loading:g,error:v,hasMore:y,loadMore:x,toggleFavorite:_}=B1("automobile",u),S=E=>{E.preventDefault()},C=(E,k)=>{d(O=>({...O,[E]:k}))},N=()=>{d({search:"",location:"",brand:"",minPrice:"",maxPrice:"",year:"",fuel:""})},A=()=>{if(!t){e("/connexion");return}e("/creer-annonce/automobile")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-blue-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur de l'",a.jsx("span",{className:"gradient-text-blue",children:"Automobile"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Voitures, motos, utilitaires et pièces détachées. Trouvez votre prochain véhicule ou vendez le vôtre ici."})]}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:S,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"search",type:"text",placeholder:"Marque, modèle, mots-clés...",className:"pl-10 h-12 text-base",value:u.search,onChange:E=>C("search",E.target.value)}),a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(dt,{id:"location",type:"text",placeholder:"Ville, région...",className:"h-12 text-base",value:u.location,onChange:E=>C("location",E.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"brand",className:"block text-sm font-medium mb-1",children:"Marque"}),a.jsxs("select",{id:"brand",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.brand,onChange:E=>C("brand",E.target.value),children:[a.jsx("option",{value:"",children:"Toutes marques"}),a.jsx("option",{value:"Toyota",children:"Toyota"}),a.jsx("option",{value:"Peugeot",children:"Peugeot"}),a.jsx("option",{value:"Renault",children:"Renault"}),a.jsx("option",{value:"Citroën",children:"Citroën"}),a.jsx("option",{value:"Ford",children:"Ford"}),a.jsx("option",{value:"Volkswagen",children:"Volkswagen"}),a.jsx("option",{value:"BMW",children:"BMW"}),a.jsx("option",{value:"Mercedes",children:"Mercedes"}),a.jsx("option",{value:"Audi",children:"Audi"}),a.jsx("option",{value:"Honda",children:"Honda"}),a.jsx("option",{value:"Nissan",children:"Nissan"}),a.jsx("option",{value:"Hyundai",children:"Hyundai"}),a.jsx("option",{value:"Kia",children:"Kia"}),a.jsx("option",{value:"Autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"year",className:"block text-sm font-medium mb-1",children:"Année"}),a.jsxs("select",{id:"year",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.year,onChange:E=>C("year",E.target.value),children:[a.jsx("option",{value:"",children:"Toutes années"}),Array.from({length:25},(E,k)=>2024-k).map(E=>a.jsx("option",{value:E,children:E},E))]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"fuel",className:"block text-sm font-medium mb-1",children:"Carburant"}),a.jsxs("select",{id:"fuel",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:u.fuel,onChange:E=>C("fuel",E.target.value),children:[a.jsx("option",{value:"",children:"Tous carburants"}),a.jsx("option",{value:"essence",children:"Essence"}),a.jsx("option",{value:"diesel",children:"Diesel"}),a.jsx("option",{value:"hybride",children:"Hybride"}),a.jsx("option",{value:"electrique",children:"Électrique"}),a.jsx("option",{value:"gpl",children:"GPL"})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(me,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(Us,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(me,{type:"button",variant:"outline",className:"h-12 px-3",onClick:N,children:"Effacer"})]})]})}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(me,{onClick:A,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🚗 Publier une annonce automobile"})}),g&&f.length===0&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Qr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des véhicules..."})]}),v&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Un,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:v}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(me,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(me,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!g&&f.length>0&&a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:f.map((E,k)=>a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:k*.1},children:a.jsx(yd,{listing:E,onToggleFavorite:_})},E.id))}),!g&&!v&&f.length===0&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🚗"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun véhicule trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun véhicule ne correspond à vos critères de recherche."}),a.jsx(me,{onClick:N,variant:"outline",children:"Effacer les filtres"})]}),y&&f.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(me,{onClick:x,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:g,children:g?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de véhicules ",a.jsx(jc,{className:"ml-2 h-5 w-5"})]})})}),f.length>0&&a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[f.length," véhicule",f.length>1?"s":""," trouvé",f.length>1?"s":""]})})]})})},mTe=()=>{const{user:t}=Vr(),e=ii(),r=is(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("search")||"",s=n.get("minPrice")||"",o=n.get("maxPrice")||"",l=n.get("location")||"",[c,u]=b.useState({search:i,location:l,serviceType:"",minPrice:s,maxPrice:o}),{listings:d,loading:f,error:g,hasMore:v,loadMore:y,toggleFavorite:x}=B1("services",c),_=A=>{A.preventDefault()},S=(A,E)=>{u(k=>({...k,[A]:E}))},C=()=>{u({search:"",location:"",serviceType:"",minPrice:"",maxPrice:""})},N=()=>{if(!t){e("/connexion");return}e("/creer-annonce/services")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-purple-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur des ",a.jsx("span",{className:"gradient-text-purple",children:"Services"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Plomberie, électricité, cours particuliers, événementiel et bien plus. Trouvez le service dont vous avez besoin."})]}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:_,className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"search",type:"text",placeholder:"Type de service, mots-clés...",className:"pl-10 h-12 text-base",value:c.search,onChange:A=>S("search",A.target.value)}),a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(dt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:c.location,onChange:A=>S("location",A.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"service-type",className:"block text-sm font-medium mb-1",children:"Type de service"}),a.jsxs("select",{id:"service-type",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:c.serviceType,onChange:A=>S("serviceType",A.target.value),children:[a.jsx("option",{value:"",children:"Tous services"}),a.jsx("option",{value:"plomberie",children:"Plomberie"}),a.jsx("option",{value:"electricite",children:"Électricité"}),a.jsx("option",{value:"menage",children:"Ménage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"education",children:"Éducation"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"coiffure",children:"Coiffure"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"evenementiel",children:"Événementiel"}),a.jsx("option",{value:"transport",children:"Transport"}),a.jsx("option",{value:"reparation",children:"Réparation"}),a.jsx("option",{value:"conseil",children:"Conseil"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:c.minPrice,onChange:A=>S("minPrice",A.target.value)}),a.jsx(dt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:c.maxPrice,onChange:A=>S("maxPrice",A.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(me,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(Us,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(me,{type:"button",variant:"outline",className:"h-12 px-3",onClick:C,children:"Effacer"})]})]})}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(me,{onClick:N,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🔧 Proposer un service"})}),f&&d.length===0&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Qr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des services..."})]}),g&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Un,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:g}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(me,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(me,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!f&&d.length>0&&a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:d.map((A,E)=>a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:E*.1},children:a.jsx(yd,{listing:A,onToggleFavorite:x})},A.id))}),!f&&!g&&d.length===0&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🔧"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun service trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun service ne correspond à vos critères de recherche."}),a.jsx(me,{onClick:C,variant:"outline",children:"Effacer les filtres"})]}),v&&d.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(me,{onClick:y,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:f,children:f?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de services ",a.jsx(jc,{className:"ml-2 h-5 w-5"})]})})}),d.length>0&&a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[d.length," service",d.length>1?"s":""," trouvé",d.length>1?"s":""]})})]})})},gTe=()=>{const{user:t}=Vr(),e=ii(),r=is(),n=b.useMemo(()=>new URLSearchParams(r.search),[r.search]),i=n.get("sort")||"",s=parseInt(n.get("per")||"12",10),o=n.get("search")||"",l=n.get("minPrice")||"",c=n.get("maxPrice")||"",u=n.get("location")||"",[d,f]=b.useState({search:o,location:u,category:"",minPrice:l,maxPrice:c,condition:"",sort:i,per:isNaN(s)?12:Math.min(Math.max(s,6),48)}),{listings:g,loading:v,error:y,hasMore:x,loadMore:_,toggleFavorite:S}=B1("marketplace",d),C=k=>{k.preventDefault()};b.useMemo(()=>d.sort==="popular"?[...g].sort((k,O)=>(O?.views_count||0)-(k?.views_count||0)):g,[d.sort,g]);const N=(k,O)=>{f(I=>({...I,[k]:O}))},A=()=>{f({search:"",location:"",category:"",minPrice:"",maxPrice:"",condition:""})},E=()=>{if(!t){e("/connexion");return}e("/creer-annonce/marketplace")};return a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-orange-900/10 text-foreground py-12",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:["Le Meilleur ",a.jsx("span",{className:"gradient-text-orange",children:"Marketplace"})," en Afrique de l'Ouest"]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Téléphones, vêtements, meubles, livres et bien plus. Achetez et vendez en toute sécurité."})]}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-card p-6 rounded-xl shadow-xl mb-12 glassmorphic-card",children:a.jsxs("form",{onSubmit:C,className:"grid grid-cols-1 md:grid-cols-7 gap-4 items-end",children:[a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium mb-1",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(dt,{id:"search",type:"text",placeholder:"Produit, marque, mots-clés...",className:"pl-10 h-12 text-base",value:d.search,onChange:k=>N("search",k.target.value)}),a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium mb-1",children:"Localisation"}),a.jsx(dt,{id:"location",type:"text",placeholder:"Ville, quartier...",className:"h-12 text-base",value:d.location,onChange:k=>N("location",k.target.value)})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"category",className:"block text-sm font-medium mb-1",children:"Catégorie"}),a.jsxs("select",{id:"category",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:d.category,onChange:k=>N("category",k.target.value),children:[a.jsx("option",{value:"",children:"Toutes catégories"}),a.jsx("option",{value:"telephonie",children:"Téléphonie"}),a.jsx("option",{value:"informatique",children:"Informatique"}),a.jsx("option",{value:"vetements",children:"Vêtements"}),a.jsx("option",{value:"chaussures",children:"Chaussures"}),a.jsx("option",{value:"accessoires",children:"Accessoires"}),a.jsx("option",{value:"mobilier",children:"Mobilier"}),a.jsx("option",{value:"electromenager",children:"Électroménager"}),a.jsx("option",{value:"livres",children:"Livres"}),a.jsx("option",{value:"sport",children:"Sport"}),a.jsx("option",{value:"beaute",children:"Beauté"}),a.jsx("option",{value:"jouets",children:"Jouets"}),a.jsx("option",{value:"bricolage",children:"Bricolage"}),a.jsx("option",{value:"jardinage",children:"Jardinage"}),a.jsx("option",{value:"autre",children:"Autre"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"condition",className:"block text-sm font-medium mb-1",children:"État"}),a.jsxs("select",{id:"condition",className:"w-full h-12 rounded-md border border-input bg-transparent px-3 py-2 text-base ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",value:d.condition,onChange:k=>N("condition",k.target.value),children:[a.jsx("option",{value:"",children:"Tous états"}),a.jsx("option",{value:"neuf",children:"Neuf"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"bon",children:"Bon"}),a.jsx("option",{value:"moyen",children:"Moyen"}),a.jsx("option",{value:"usage",children:"Usage"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"price-range",className:"block text-sm font-medium mb-1",children:"Prix (FCFA)"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(dt,{type:"number",placeholder:"Min",className:"h-12 text-base",value:d.minPrice,onChange:k=>N("minPrice",k.target.value)}),a.jsx(dt,{type:"number",placeholder:"Max",className:"h-12 text-base",value:d.maxPrice,onChange:k=>N("maxPrice",k.target.value)})]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(me,{type:"submit",className:"h-12 text-base flex-1 bg-primary hover:bg-primary/90",children:[a.jsx(Us,{className:"mr-2 h-5 w-5"})," Rechercher"]}),a.jsx(me,{type:"button",variant:"outline",className:"h-12 px-3",onClick:A,children:"Effacer"})]})]})}),a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"mb-8 text-center",children:a.jsx(me,{onClick:E,size:"lg",className:"bg-primary hover:bg-primary/90 text-white px-8 py-3",children:"🛍️ Vendre un produit"})}),v&&g.length===0&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Qr,{className:"h-12 w-12 animate-spin text-primary mb-4"}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Chargement des produits..."})]}),y&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"flex flex-col items-center justify-center py-20",children:[a.jsx(Un,{className:"h-12 w-12 text-destructive mb-4"}),a.jsx("p",{className:"text-lg text-destructive mb-2",children:"Erreur lors du chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:y}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(me,{onClick:()=>window.location.reload(),className:"mt-4",children:"Recharger la page"}),a.jsx(me,{onClick:()=>refresh(),variant:"outline",className:"mt-4",children:"Réessayer"})]})]}),!v&&g.length>0&&a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5,delay:.4},className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 md:gap-6 lg:gap-8",children:g.map((k,O)=>a.jsx(ze.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,delay:O*.1},children:a.jsx(yd,{listing:k,onToggleFavorite:S})},k.id))}),!v&&!y&&g.length===0&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[a.jsx("div",{className:"text-6xl mb-4",children:"🛍️"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucun produit trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Aucun produit ne correspond à vos critères de recherche."}),a.jsx(me,{onClick:A,variant:"outline",children:"Effacer les filtres"})]}),x&&g.length>0&&a.jsx("div",{className:"text-center mt-16",children:a.jsx(me,{onClick:_,size:"lg",variant:"ghost",className:"text-primary hover:text-primary/90",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(Qr,{className:"mr-2 h-5 w-5 animate-spin"}),"Chargement..."]}):a.jsxs(a.Fragment,{children:["Charger plus de produits ",a.jsx(jc,{className:"ml-2 h-5 w-5"})]})})}),g.length>0&&a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 text-center",children:a.jsxs("p",{className:"text-muted-foreground",children:[g.length," produit",g.length>1?"s":""," trouvé",g.length>1?"s":""]})})]})})},vTe=()=>{const t=ii(),[e,r]=b.useState([]),[n,i]=b.useState(!0),[s,o]=b.useState(null),[l,c]=b.useState(1),[u,d]=b.useState(1),[f,g]=b.useState(!1),[v,y]=b.useState({category:"",minPrice:"",maxPrice:"",location:"",search:""}),x=async(E=1,k=v)=>{try{i(!0),o(null);const O=await en.getPremiumListings(100,!0);if(O?.data){let I=O.data;k.category&&(I=I.filter(Q=>Q.category===k.category)),k.minPrice&&(I=I.filter(Q=>Q.price>=parseFloat(k.minPrice))),k.maxPrice&&(I=I.filter(Q=>Q.price<=parseFloat(k.maxPrice))),k.location&&(I=I.filter(Q=>Q.location?.city?.toLowerCase().includes(k.location.toLowerCase())||Q.location?.country?.toLowerCase().includes(k.location.toLowerCase()))),k.search&&(I=I.filter(Q=>Q.title.toLowerCase().includes(k.search.toLowerCase())||Q.description.toLowerCase().includes(k.search.toLowerCase())));const z=12,W=I.length,V=Math.ceil(W/z),q=(E-1)*z,F=q+z,H=I.slice(q,F);r(H),d(V),g(E<V),c(E)}}catch(O){o(O?.message||"Erreur lors du chargement des annonces premium")}finally{i(!1)}};b.useEffect(()=>{x(1,v)},[]);const _=(E,k)=>{const O={...v,[E]:k};y(O),c(1),x(1,O)},S=E=>{E.preventDefault(),x(1,v)},C=()=>{const E={category:"",minPrice:"",maxPrice:"",location:"",search:""};y(E),x(1,E)},N=E=>{E>=1&&E<=u&&x(E,v)},A=[{value:"real_estate",label:"🏠 Immobilier",color:"bg-blue-100 text-blue-800"},{value:"automobile",label:"🚗 Automobile",color:"bg-green-100 text-green-800"},{value:"services",label:"🔧 Services",color:"bg-purple-100 text-purple-800"},{value:"marketplace",label:"🛍️ Marketplace",color:"bg-orange-100 text-orange-800"}];return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-slate-900 to-blue-900/20",children:[a.jsx(ze.section,{className:"relative py-16 md:py-24 bg-gradient-to-r from-amber-500/10 via-yellow-500/10 to-orange-500/10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[a.jsx("div",{className:"flex items-center mb-6",children:a.jsxs(me,{variant:"ghost",onClick:()=>t(-1),className:"mr-4 hover:bg-amber-100",children:[a.jsx(Fp,{className:"h-5 w-5 mr-2"}),"Retour"]})}),a.jsxs(ze.div,{className:"text-center",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:[a.jsxs("div",{className:"flex justify-center items-center mb-6",children:[a.jsx(L3,{className:"h-16 w-16 text-amber-500 mr-4"}),a.jsx(Ya,{className:"h-12 w-12 text-yellow-500"})]}),a.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6",children:["Annonces ",a.jsx("span",{className:"gradient-text",children:"Premium"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-muted-foreground max-w-3xl mx-auto mb-8",children:"Découvrez notre sélection exclusive d'annonces premium. Qualité garantie, visibilité maximale."}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mb-8",children:[a.jsxs(Et,{variant:"secondary",className:"bg-amber-100 text-amber-800 border-amber-300",children:[a.jsx(FH,{className:"h-4 w-4 mr-2"}),"Mise en avant garantie"]}),a.jsxs(Et,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(Ya,{className:"h-4 w-4 mr-2"}),"Qualité premium"]}),a.jsxs(Et,{variant:"secondary",className:"bg-orange-100 text-orange-800 border-orange-300",children:[a.jsx(L3,{className:"h-4 w-4 mr-2"}),"Support prioritaire"]})]})]})]})}),a.jsx("section",{className:"py-8 bg-background/50",children:a.jsx("div",{className:"container mx-auto px-4 md:px-6",children:a.jsx(ze.div,{className:"bg-card rounded-xl p-6 shadow-lg border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},children:a.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("form",{onSubmit:S,className:"relative",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-muted-foreground"}),a.jsx(dt,{type:"text",placeholder:"Rechercher dans les annonces premium...",value:v.search,onChange:E=>_("search",E.target.value),className:"pl-10 pr-4 py-3"})]})}),a.jsxs("div",{className:"flex flex-wrap gap-4",children:[a.jsxs("select",{value:v.category,onChange:E=>_("category",E.target.value),className:"px-4 py-2 border border-border rounded-lg bg-background focus:ring-2 focus:ring-amber-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Toutes catégories"}),A.map(E=>a.jsx("option",{value:E.value,children:E.label},E.value))]}),a.jsx(dt,{type:"number",placeholder:"Prix min",value:v.minPrice,onChange:E=>_("minPrice",E.target.value),className:"w-32"}),a.jsx(dt,{type:"number",placeholder:"Prix max",value:v.maxPrice,onChange:E=>_("maxPrice",E.target.value),className:"w-32"}),a.jsx(dt,{type:"text",placeholder:"Localisation",value:v.location,onChange:E=>_("location",E.target.value),className:"w-40"}),a.jsxs(me,{variant:"outline",onClick:C,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:[a.jsx(Us,{className:"h-4 w-4 mr-2"}),"Effacer"]})]})]})})})}),a.jsx("section",{className:"py-16",children:a.jsxs("div",{className:"container mx-auto px-4 md:px-6",children:[s&&a.jsx(ze.div,{className:"text-center text-destructive mb-8 p-4 bg-destructive/10 rounded-lg",initial:{opacity:0},animate:{opacity:1},children:s}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n?Array.from({length:9}).map((E,k)=>a.jsxs(ze.div,{className:"bg-card rounded-lg shadow-lg overflow-hidden border border-border",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:k*.1},children:[a.jsx("div",{className:"h-48 bg-muted animate-pulse"}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"h-6 w-3/4 bg-muted rounded mb-3 animate-pulse"}),a.jsx("div",{className:"h-4 w-1/2 bg-muted rounded mb-4 animate-pulse"}),a.jsx("div",{className:"h-8 w-1/3 bg-muted rounded animate-pulse"})]})]},k)):e.length>0?e.map((E,k)=>a.jsx(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:k*.1},children:a.jsx(yd,{listing:E,showActions:!1})},E.id)):a.jsxs(ze.div,{className:"col-span-full text-center py-16",initial:{opacity:0},animate:{opacity:1},children:[a.jsx("div",{className:"text-6xl mb-4",children:"⭐"}),a.jsx("h3",{className:"text-2xl font-semibold mb-2",children:"Aucune annonce premium trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Essayez de modifier vos filtres ou revenez plus tard"}),a.jsx(me,{onClick:C,variant:"outline",className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Effacer les filtres"})]})}),!n&&u>1&&a.jsxs(ze.div,{className:"flex justify-center items-center mt-12 gap-2",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:[a.jsx(me,{variant:"outline",onClick:()=>N(l-1),disabled:l===1,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Précédent"}),Array.from({length:u},(E,k)=>k+1).map(E=>a.jsx(me,{variant:l===E?"default":"outline",onClick:()=>N(E),className:l===E?"bg-amber-500 hover:bg-amber-600":"border-amber-300 text-amber-700 hover:bg-amber-100",children:E},E)),a.jsx(me,{variant:"outline",onClick:()=>N(l+1),disabled:l===u,className:"border-amber-300 text-amber-700 hover:bg-amber-100",children:"Suivant"})]}),!n&&e.length>0&&a.jsx(ze.div,{className:"text-center mt-8 text-muted-foreground",initial:{opacity:0},animate:{opacity:1},transition:{delay:.6},children:a.jsxs("p",{children:["Affichage de ",e.length," annonces premium",u>1&&` (page ${l} sur ${u})`]})})]})})]})},yTe=[{value:"real_estate",label:"Immobilier"},{value:"automobile",label:"Automobile"},{value:"services",label:"Service"},{value:"marketplace",label:"Produit"}],XB={title:"",description:"",price:"",currency:"XOF",category:"",subCategory:"",location:{city:"",country:""},images:[],videos:[],specificData:{}},xTe=t=>({"real-estate":"real_estate",automobile:"automobile",services:"services",marketplace:"marketplace"})[t]||"",bTe=({onSuccess:t,category:e,onDataChange:r,currentStep:n=1,onStepChange:i})=>{const{toast:s}=dn(),[o,l]=b.useState({...XB,category:e?xTe(e):""}),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[g,v]=b.useState({current:0,total:0}),[y,x]=b.useState(n);b.useEffect(()=>{x(n)},[n]);const _=[{code:"BJ",name:"Bénin",cities:["Cotonou","Porto-Novo","Parakou","Djougou","Bohicon","Kandi","Abomey","Natitingou","Ouidah","Lokossa"]},{code:"CI",name:"Côte d'Ivoire",cities:["Abidjan","Bouaké","Daloa","Yamoussoukro","San Pedro","Korhogo","Man","Gagnoa","Abengourou","Divo"]},{code:"NG",name:"Nigeria",cities:["Lagos","Kano","Ibadan","Abuja","Port Harcourt","Benin City","Maiduguri","Zaria","Aba","Jos"]}],S=Z=>{const{name:se,value:X}=Z.target;if(se.startsWith("location.")){const ce=se.split(".")[1];l(je=>({...je,location:{...je.location,[ce]:X}}))}else l(ce=>({...ce,[se]:X}));r&&r({[se]:X})},C=Z=>{const{name:se,value:X}=Z.target;l(ce=>({...ce,specificData:{...ce.specificData,[se]:X}}))},N=(Z,se=1920,X=.8)=>new Promise(ce=>{const je=document.createElement("canvas"),Te=je.getContext("2d"),qe=new Image;qe.onload=()=>{let{width:pe,height:ue}=qe;pe>se&&(ue=ue*se/pe,pe=se),je.width=pe,je.height=ue,Te.drawImage(qe,0,0,pe,ue),je.toBlob(_e=>{const ye=new File([_e],Z.name,{type:"image/jpeg",lastModified:Date.now()});ce(ye)},"image/jpeg",X)},qe.src=URL.createObjectURL(Z)}),A=Z=>new Promise(se=>{const X=new FileReader;X.onload=ce=>{se({url:ce.target.result,file:Z,id:Date.now()+Math.random()})},X.readAsDataURL(Z)}),E=async Z=>{const se=Array.from(Z.target.files);if(!se.length)return;if(o.images.length+se.length>8){s({title:"Limite atteinte",description:"Vous pouvez uploader jusqu'à 8 images maximum.",variant:"destructive"});return}if(se.filter(ce=>!ce.type.startsWith("image/")).length>0){s({title:"Type de fichier invalide",description:"Seules les images sont acceptées.",variant:"destructive"});return}f(!0),v({current:0,total:se.length});try{const ce=await Promise.all(se.map(A)),je=[...o.images,...ce.map(ye=>({url:ye.url,isPreview:!0,id:ye.id,file:ye.file}))];l(ye=>({...ye,images:je})),r&&r({images:je});const Te=await Promise.all(se.map(ye=>N(ye,1920,.8))),qe=async(ye,Ie)=>{const ne=ye.slice(Ie,Ie+3);return Promise.all(ne.map(async(J,Ee)=>{const Ne=Ie+Ee;try{const Je=await jpe.uploadImage(J,"listings");return v({current:Ne+1,total:ye.length}),{success:!0,url:Je,index:Ne}}catch(Je){return console.error("Erreur upload pour",J.name,Je),v({current:Ne+1,total:ye.length}),{success:!1,error:Je.message,index:Ne}}}))},pe=[];for(let ye=0;ye<Te.length;ye+=3){const Ie=await qe(Te,ye);pe.push(...Ie)}const ue=pe.filter(ye=>ye.success),_e=pe.filter(ye=>!ye.success);if(ue.length>0){const ye=[...je];ue.forEach(({url:Ie,index:ne})=>{const J=ye.findIndex(Ee=>Ee.isPreview&&Ee.id===ce[ne].id);J!==-1&&(ye[J]={url:Ie,isPreview:!1})}),l(Ie=>({...Ie,images:ye})),r&&r({images:ye}),s({title:"Images ajoutées",description:`${ue.length} image(s) téléchargée(s) avec succès.`})}_e.length>0&&s({title:"Erreurs d'upload",description:`Erreurs pour ${_e.length} fichier(s): ${_e.map(ye=>ye.error).join(", ")}`,variant:"destructive"})}catch(ce){console.error("Erreur générale upload:",ce),s({title:"Erreur upload",description:ce?.message||"Erreur lors de l'upload.",variant:"destructive"})}finally{f(!1),v({current:0,total:0})}},k=Z=>{l(se=>{const X=se.images.filter((ce,je)=>je!==Z);return r&&r({images:X}),{...se,images:X}})},O=()=>!o.title||o.title.length<5?"Le titre est requis (min 5 caractères)":!o.description||o.description.length<10?"La description est requise (min 10 caractères)":!o.price||isNaN(Number(o.price))?"Le prix est requis et doit être un nombre":o.category?null:"La catégorie est requise",I=()=>{y<2&&(x(y+1),i&&i(y+1))},z=()=>{y>1&&(x(y-1),i&&i(y-1))},W=async Z=>{Z.preventDefault();const se=O();if(se){s({title:"Erreur de validation",description:se,variant:"destructive"});return}u(!0);try{const X=o.images.filter(Te=>!Te.isPreview).map(Te=>Te.url),ce={...o,images:X,price:Number(o.price)},je=await en.createListing(ce);s({title:"Annonce créée !",description:"Votre annonce a été soumise avec succès."}),l(XB),t&&t(je)}catch(X){s({title:"Erreur",description:X?.message||"Erreur lors de la création.",variant:"destructive"})}finally{u(!1)}},V=()=>{switch(o.category){case"real_estate":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"propertyType",children:"Type de bien immobilier"}),a.jsx(dt,{id:"propertyType",name:"propertyType",placeholder:"Ex: Appartement, Maison, Terrain, Local commercial...",value:o.specificData.propertyType||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"transactionType",children:"Type de transaction"}),a.jsx(dt,{id:"transactionType",name:"transactionType",placeholder:"Ex: Vente, Location, Location-vente...",value:o.specificData.transactionType||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"bedrooms",children:"Nombre de chambres"}),a.jsx(dt,{id:"bedrooms",name:"bedrooms",type:"number",placeholder:"Ex: 3",min:"0",value:o.specificData.bedrooms||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"bathrooms",children:"Nombre de salles de bain"}),a.jsx(dt,{id:"bathrooms",name:"bathrooms",type:"number",placeholder:"Ex: 2",min:"0",value:o.specificData.bathrooms||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"areaSqMeters",children:"Surface en mètres carrés"}),a.jsx(dt,{id:"areaSqMeters",name:"areaSqMeters",type:"number",placeholder:"Ex: 120",min:"1",value:o.specificData.areaSqMeters||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Commodités et équipements"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez les commodités disponibles (piscine, parking, climatisation, etc.)"}),(o.specificData.amenities||[]).map((Z,se)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(dt,{value:Z,onChange:X=>Q(se,X.target.value),placeholder:"Ex: Piscine, Parking, Climatisation..."}),a.jsx(me,{type:"button",size:"icon",variant:"destructive",onClick:()=>K(se),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},se)),a.jsx(me,{type:"button",size:"sm",variant:"outline",onClick:oe,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter une commodité"})]})]});case"automobile":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"vehicleType",children:"Type de véhicule"}),a.jsx(dt,{id:"vehicleType",name:"vehicleType",placeholder:"Ex: Voiture, Moto, Camion, Bus...",value:o.specificData.vehicleType||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"make",children:"Marque du véhicule"}),a.jsx(dt,{id:"make",name:"make",placeholder:"Ex: Toyota, Honda, BMW...",value:o.specificData.make||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"model",children:"Modèle du véhicule"}),a.jsx(dt,{id:"model",name:"model",placeholder:"Ex: Corolla, Civic, X5...",value:o.specificData.model||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"year",children:"Année de fabrication"}),a.jsx(dt,{id:"year",name:"year",type:"number",placeholder:"Ex: 2020",min:"1900",max:new Date().getFullYear()+1,value:o.specificData.year||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"mileage",children:"Kilométrage en km"}),a.jsx(dt,{id:"mileage",name:"mileage",type:"number",placeholder:"Ex: 50000",min:"0",value:o.specificData.mileage||"",onChange:C})]})]});case"services":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"serviceCategory",children:"Catégorie de service"}),a.jsx(dt,{id:"serviceCategory",name:"serviceCategory",placeholder:"Ex: Plomberie, Électricité, Design, Formation...",value:o.specificData.serviceCategory||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"availability",children:"Disponibilité"}),a.jsx(dt,{id:"availability",name:"availability",placeholder:"Ex: Lundi-Vendredi 9h-18h, Weekends...",value:o.specificData.availability||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"experienceYears",children:"Années d'expérience"}),a.jsx(dt,{id:"experienceYears",name:"experienceYears",type:"number",placeholder:"Ex: 5",min:"0",value:o.specificData.experienceYears||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{children:"Liens de portfolio et références"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Ajoutez des liens vers vos réalisations, portfolio ou références"}),(o.specificData.portfolioLinks||[]).map((Z,se)=>a.jsxs("div",{className:"flex gap-2 mb-1",children:[a.jsx(dt,{value:Z,onChange:X=>q(se,X.target.value),placeholder:"https://votre-portfolio.com ou lien vers vos réalisations..."}),a.jsx(me,{type:"button",size:"icon",variant:"destructive",onClick:()=>H(se),title:"Supprimer",className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:"×"})]},se)),a.jsx(me,{type:"button",size:"sm",variant:"outline",onClick:F,className:"mb-2 border-gray-400 text-gray-700 hover:bg-gray-50",children:"+ Ajouter un lien de portfolio"})]})]});case"marketplace":return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"productCategory",children:"Catégorie de produit"}),a.jsx(dt,{id:"productCategory",name:"productCategory",placeholder:"Ex: Électronique, Vêtements, Livres, Sport...",value:o.specificData.productCategory||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"brand",children:"Marque du produit"}),a.jsx(dt,{id:"brand",name:"brand",placeholder:"Ex: Apple, Nike, Samsung...",value:o.specificData.brand||"",onChange:C})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"stockQuantity",children:"Quantité disponible en stock"}),a.jsx(dt,{id:"stockQuantity",name:"stockQuantity",type:"number",placeholder:"Ex: 10",min:"0",value:o.specificData.stockQuantity||"",onChange:C})]})]});default:return null}},q=(Z,se)=>{l(X=>({...X,specificData:{...X.specificData,portfolioLinks:X.specificData.portfolioLinks?.map((ce,je)=>je===Z?se:ce)||[]}}))},F=()=>{l(Z=>({...Z,specificData:{...Z.specificData,portfolioLinks:[...Z.specificData.portfolioLinks||[],""]}}))},H=Z=>{l(se=>({...se,specificData:{...se.specificData,portfolioLinks:se.specificData.portfolioLinks?.filter((X,ce)=>ce!==Z)||[]}}))},Q=(Z,se)=>{l(X=>({...X,specificData:{...X.specificData,amenities:X.specificData.amenities?.map((ce,je)=>je===Z?se:ce)||[]}}))},oe=()=>{l(Z=>({...Z,specificData:{...Z.specificData,amenities:[...Z.specificData.amenities||[],""]}}))},K=Z=>{l(se=>({...se,specificData:{...se.specificData,amenities:se.specificData.amenities?.filter((X,ce)=>ce!==Z)||[]}}))},te=()=>{switch(y){case 1:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Informations de base"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Commencez par les informations essentielles de votre annonce."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"title",children:"Titre de l'annonce *"}),a.jsx(dt,{id:"title",name:"title",value:o.title,onChange:S,placeholder:"Ex: Appartement moderne 3 pièces à Cotonou",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"description",children:"Description *"}),a.jsx(gd,{id:"description",name:"description",value:o.description,onChange:S,placeholder:"Décrivez votre offre en détail...",rows:4,required:!0,className:"max-w-2xl resize-none transition-all duration-200",style:{minHeight:"120px",height:"auto",overflow:"hidden"},onInput:Z=>{Z.target.style.height="auto",Z.target.style.height=Math.min(Z.target.scrollHeight,300)+"px"}})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"category",children:"Catégorie *"}),a.jsxs("select",{id:"category",name:"category",value:o.category,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une catégorie"}),yTe.map(Z=>a.jsx("option",{value:Z.value,className:"text-foreground",children:Z.label},Z.value))]})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Prix et localisation"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"price",children:"Prix *"}),a.jsx(dt,{id:"price",name:"price",type:"number",value:o.price,onChange:S,placeholder:"0",required:!0,className:"h-12"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"currency",children:"Devise"}),a.jsxs("select",{id:"currency",name:"currency",value:o.currency,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"XOF",className:"text-foreground",children:"XOF (Franc CFA)"}),a.jsx("option",{value:"EUR",className:"text-foreground",children:"EUR (Euro)"}),a.jsx("option",{value:"USD",className:"text-foreground",children:"USD (Dollar US)"}),a.jsx("option",{value:"NGN",className:"text-foreground",children:"NGN (Naira)"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"country",children:"Pays"}),a.jsxs("select",{id:"country",name:"location.country",value:o.location.country,onChange:S,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground",children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner un pays"}),_.map(Z=>a.jsx("option",{value:Z.name,className:"text-foreground",children:Z.name},Z.code))]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"city",children:"Ville"}),a.jsxs("select",{id:"city",name:"location.city",value:o.location.city,onChange:S,required:!0,className:"w-full px-3 py-3 border border-input bg-background rounded-md focus:outline-none focus:ring-2 focus:ring-primary focus:border-transparent h-12 text-foreground disabled:opacity-50 disabled:cursor-not-allowed",disabled:!o.location.country,children:[a.jsx("option",{value:"",className:"text-foreground",children:"Sélectionner une ville"}),_.find(Z=>Z.name===o.location.country)?.cities?.map((Z,se)=>a.jsx("option",{value:Z,className:"text-foreground",children:Z},`${o.location.country||"unknown"}-${Z}-${se}`))]})]})]})]})]});case 2:return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-foreground mb-4",children:"Médias et détails"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Ajoutez des photos et des informations spécifiques à votre catégorie."})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Images et médias"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"image-upload",children:"Sélectionner des images"}),a.jsxs("div",{className:`border-2 border-dashed border-gray-400 rounded-lg p-6 text-center transition-colors ${d?"border-blue-400 bg-blue-50":"hover:border-primary"}`,children:[a.jsx("input",{type:"file",accept:"image/*",multiple:!0,onChange:E,className:"hidden",id:"image-upload",disabled:d}),a.jsx("label",{htmlFor:"image-upload",className:`cursor-pointer ${d?"cursor-not-allowed":""}`,children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:d?a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"}):a.jsx(Nf,{className:"h-6 w-6 text-gray-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:d?"Chargement en cours...":"Cliquez pour ajouter des images"}),a.jsx("p",{className:"text-xs text-gray-600",children:d?`Veuillez patienter (${g.current}/${g.total})`:"PNG, JPG jusqu'à 10MB"}),d&&g.total>0&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${g.current/g.total*100}%`}})})]})]})})]})]}),o.images.length>0&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ft,{children:["Images sélectionnées (",o.images.length,")"]}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:o.images.map((Z,se)=>a.jsxs("div",{className:"relative group aspect-square",children:[a.jsx("img",{src:Z.url,alt:`Aperçu ${se+1}`,className:`w-full h-full object-cover rounded-lg border ${Z.isPreview?"opacity-70":""}`}),Z.isPreview&&a.jsx("div",{className:"absolute inset-0 bg-blue-500 bg-opacity-20 flex items-center justify-center",children:a.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"})})}),a.jsx("button",{type:"button",onClick:()=>k(se),className:"absolute top-2 right-2 bg-red-600 text-white rounded-full p-1.5 text-xs opacity-0 group-hover:opacity-100 transition-opacity shadow-md",title:"Supprimer cette image",disabled:Z.isPreview,children:"×"})]},se))})]})]}),a.jsxs("div",{className:"space-y-4 pt-6 border-t",children:[a.jsx("h4",{className:"text-lg font-medium text-foreground",children:"Détails spécifiques à la catégorie"}),o.category?a.jsx("div",{className:"space-y-4",children:V()}):a.jsx("div",{className:"text-center py-4",children:a.jsx("p",{className:"text-muted-foreground",children:"Veuillez d'abord sélectionner une catégorie à l'étape 1."})})]})]});default:return null}};return a.jsxs("div",{className:"space-y-6",children:[te(),a.jsxs("div",{className:"flex justify-between items-center pt-6 border-t",children:[a.jsx(me,{type:"button",variant:"outline",onClick:z,disabled:y===1,children:"Précédent"}),a.jsx("div",{className:"flex items-center space-x-2",children:y<2?a.jsx(me,{type:"button",onClick:I,disabled:!o.title||!o.description||!o.category,children:"Suivant"}):a.jsx(me,{type:"submit",onClick:W,disabled:c,className:"bg-green-600 hover:bg-green-700",children:c?"Publication...":"Publier l'annonce"})})]})]})},wTe=({formData:t,onClose:e})=>{const[r,n]=b.useState(0),[i,s]=b.useState(!1),o=x=>({real_estate:AA,automobile:Q_,services:If,marketplace:Yf})[x]||AA,l=x=>x?typeof x=="string"?x:x?.url?x.url:x?.file?URL.createObjectURL(x.file):x?.src?x.src:null:null,c=()=>!t.images||!Array.isArray(t.images)?[]:t.images.map(x=>{const _=l(x);return _?{...x,displayUrl:_}:null}).filter(Boolean),u=x=>({real_estate:"Immobilier",automobile:"Automobile",services:"Service",marketplace:"Produit"})[x]||"Autre",d=o(t.category),f=c(),g=()=>{f.length>0&&n(x=>x===f.length-1?0:x+1)},v=()=>{f.length>0&&n(x=>x===0?f.length-1:x)},y=x=>{x>=0&&x<f.length&&n(x)};return a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",onClick:e,children:a.jsxs(ze.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-background rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:[a.jsxs("div",{className:"sticky top-0 bg-background border-b border-border px-6 py-4 flex items-center justify-between z-10",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Aperçu de l'annonce"}),(!t.title||!t.description||!t.price)&&a.jsx(Et,{variant:"outline",className:"text-xs text-yellow-600 border-yellow-600",children:"Preview partiel"})]}),a.jsx(me,{variant:"ghost",size:"sm",onClick:e,className:"text-muted-foreground hover:text-foreground",children:"✕"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"relative aspect-video bg-muted rounded-lg overflow-hidden",children:f.length>0?a.jsxs(a.Fragment,{children:[a.jsx(Ei,{mode:"wait",children:a.jsx(ze.img,{src:f[r]?.displayUrl,alt:`Image ${r+1}`,className:"w-full h-full object-cover",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3}},r)}),f.length>1&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:v,className:"absolute left-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Ga,{className:"h-5 w-5"})}),a.jsx("button",{onClick:g,className:"absolute right-4 top-1/2 transform -translate-y-1/2 bg-black bg-opacity-50 text-white p-2 rounded-full hover:bg-opacity-70 transition-all",children:a.jsx(Za,{className:"h-5 w-5"})})]}),a.jsxs("div",{className:"absolute top-4 right-4 bg-black bg-opacity-50 text-white px-2 py-1 rounded text-sm",children:[r+1," / ",f.length]}),a.jsxs("div",{className:"absolute top-4 left-4 flex space-x-2",children:[a.jsx("button",{onClick:()=>s(!i),className:`p-2 rounded-full transition-all ${i?"bg-red-500 text-white":"bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100"}`,children:a.jsx(_l,{className:`h-5 w-5 ${i?"fill-current":""}`})}),a.jsx("button",{className:"p-2 rounded-full bg-white bg-opacity-80 text-gray-700 hover:bg-opacity-100 transition-all",children:a.jsx(IA,{className:"h-5 w-5"})})]})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Xf,{className:"h-8 w-8"})}),a.jsx("p",{children:"Aucune image"}),a.jsx("p",{className:"text-xs mt-1",children:"Ajoutez des images à l'étape 2"})]})})}),f.length>1&&a.jsx("div",{className:"flex space-x-2 mt-4 overflow-x-auto",children:f.map((x,_)=>a.jsx("button",{onClick:()=>y(_),className:`flex-shrink-0 w-20 h-16 rounded-lg overflow-hidden border-2 transition-all ${_===r?"border-primary":"border-border hover:border-primary/50"}`,children:a.jsx("img",{src:x.displayUrl,alt:`Thumbnail ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[a.jsxs(Et,{variant:"secondary",className:"bg-primary/10 text-primary border-primary/20",children:[a.jsx(d,{className:"h-3 w-3 mr-1"}),u(t.category)]}),a.jsx(Et,{variant:"outline",className:"text-green-600 border-green-600",children:"Actif"})]}),a.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:t.title||"Titre de l'annonce (à définir)"}),a.jsxs("div",{className:"flex items-center text-muted-foreground text-sm",children:[a.jsx(vl,{className:"h-4 w-4 mr-1"}),t.location&&typeof t.location=="object"&&t.location.city&&t.location.country?`${t.location.city}, ${t.location.country}`:"Localisation non définie"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"text-3xl font-bold text-foreground",children:t.price?`${t.price} ${t.currency||"XOF"}`:"Prix à définir"}),t.category==="real_estate"&&t.specificData?.areaSqMeters&&a.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:[t.specificData.areaSqMeters," m²"]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Description"}),a.jsx("p",{className:"text-foreground leading-relaxed",children:t.description||"Description à ajouter pour votre annonce."})]}),t.specificData&&Object.keys(t.specificData).length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-3",children:"Détails"}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.category==="real_estate"&&a.jsxs(a.Fragment,{children:[t.specificData.propertyType&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Type:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.propertyType})]}),t.specificData.bedrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Chambres:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.bedrooms})]}),t.specificData.bathrooms&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Salles de bain:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.bathrooms})]}),t.specificData.areaSqMeters&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Surface:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[t.specificData.areaSqMeters," m²"]})]})]}),t.category==="automobile"&&a.jsxs(a.Fragment,{children:[t.specificData.make&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Marque:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.make})]}),t.specificData.model&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Modèle:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.model})]}),t.specificData.year&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Année:"}),a.jsx("div",{className:"font-medium text-foreground",children:t.specificData.year})]}),t.specificData.mileage&&a.jsxs("div",{children:[a.jsx("span",{className:"text-sm text-muted-foreground",children:"Kilométrage:"}),a.jsxs("div",{className:"font-medium text-foreground",children:[t.specificData.mileage," km"]})]})]})]})]})]}),a.jsx("div",{className:"space-y-4",children:a.jsxs("div",{className:"bg-muted/50 rounded-lg p-4",children:[a.jsx("h4",{className:"font-semibold text-foreground mb-2",children:"Images"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["• ",f.length," image(s) ajoutée(s)"]}),f.length===0&&a.jsx("p",{className:"text-yellow-600 mt-1",children:"⚠️ Aucune image - Ajoutez des images à l'étape 2"})]})]})})]})]})]})})},yb=()=>{const t=ii(),{category:e,id:r}=cR(),{toast:n}=dn(),[i,s]=b.useState(1),[o,l]=b.useState({}),[c,u]=b.useState(!1),[d,f]=b.useState(!1),[g,v]=b.useState(!1),y=async I=>{try{v(!0);const z=await en.getListingById(I);if(z){const W={title:z.title||"",description:z.description||"",price:z.price||"",category:z.category||e,location:z.location||{},images:z.images||[],contact_info:z.contact_info||{},real_estate_details:z.real_estate_details||{},automobile_details:z.automobile_details||{},service_details:z.service_details||{},product_details:z.product_details||{}};l(W),n({title:"Annonce chargée",description:"Les données de l'annonce ont été chargées avec succès."})}}catch(z){console.error("Erreur lors du chargement de l'annonce:",z),n({title:"Erreur",description:"Impossible de charger les données de l'annonce. Veuillez réessayer.",variant:"destructive"})}finally{v(!1)}};re.useEffect(()=>{r&&(f(!0),y(r))},[r]);const x=I=>({"real-estate":"Immobilière",automobile:"Automobile",services:"de Service",marketplace:"Marketplace"})[I]||"",S=(I=>({"real-estate":Lf,automobile:Q_,services:If,marketplace:Yf})[I]||Lf)(e),C=[{id:1,title:"Informations de base",description:"Titre, description, catégorie, prix et localisation",icon:vn,completed:!1},{id:2,title:"Médias et publication",description:"Photos, vidéos, caractéristiques spécifiques et publication",icon:Nf,completed:!1}],N=I=>{I?.id?t("/profile",{state:{message:d?"Annonce modifiée avec succès ! Les changements sont maintenant visibles sur le site.":"Annonce créée avec succès ! Elle est maintenant visible sur le site.",type:"success"}}):t("/profile")},A=I=>{l(z=>({...z,...I}))},E=()=>o.title||o.description||o.price,k=()=>!o.title&&!o.description&&!o.price?"Commencez à remplir le formulaire pour voir l'aperçu":"Aperçu disponible (certaines données peuvent être manquantes)",O=()=>{const I=encodeURIComponent("Support création annonce - MaxiMarket"),z=encodeURIComponent(`Bonjour l'équipe MaxiMarket,

Je rencontre des difficultés lors de la création de mon annonce et j'aurais besoin de votre aide.

📋 Détails de ma demande :
• Catégorie d'annonce : ${e?x(e):"Non spécifiée"}
• Étape actuelle : Étape ${i} sur ${C.length}
• Problème rencontré : [Veuillez décrire votre problème ici]

📧 Mon email de contact : [Votre email]
📱 Mon téléphone : [Votre téléphone]

Merci de votre aide !

Cordialement,
[Votre nom]

---
Ce message a été généré automatiquement depuis le formulaire de création d'annonce MaxiMarket.
Support : support@maximarket.com
Site : https://maximarket.com`),W=`mailto:support@maximarket.com?subject=${I}&body=${z}`;window.open(W,"_blank")};return a.jsxs("div",{className:"min-h-screen bg-background",children:[a.jsx("div",{className:"bg-background/80 backdrop-blur-sm border-b border-border sticky top-0 z-50",children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(me,{variant:"ghost",size:"sm",onClick:()=>t(-1),className:"text-muted-foreground hover:text-foreground",children:[a.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsx("div",{className:"flex items-center space-x-3",children:e&&a.jsxs("div",{className:"flex items-center space-x-2 bg-primary/10 px-3 py-1 rounded-full",children:[a.jsx(S,{className:"h-4 w-4 text-primary"}),a.jsx("span",{className:"text-sm font-medium text-primary",children:x(e)})]})})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(me,{variant:"outline",size:"sm",onClick:()=>u(!c),disabled:!E(),className:E()?"":"opacity-50 cursor-not-allowed",title:E()?"Voir l'aperçu de votre annonce":k(),children:[a.jsx(Ic,{className:"h-4 w-4 mr-2"}),c?"Masquer":"Aperçu"]})})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold text-foreground mb-3",children:d?"Modifier l'annonce":e?`Créer une annonce ${x(e)}`:"Créer une annonce"}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:d?g?"Chargement des données de l'annonce...":"Modifiez les informations de votre annonce existante.":"Partagez votre offre avec notre communauté. Remplissez les informations ci-dessous pour publier votre annonce."})]}),a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mb-8",children:[a.jsx("div",{className:"flex items-center justify-center space-x-4",children:C.map((I,z)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full border-2 ${i>=I.id?"bg-primary border-primary text-white":"bg-card border-border text-muted-foreground"}`,children:i>I.id?a.jsx(Fi,{className:"h-5 w-5"}):a.jsx(I.icon,{className:"h-5 w-5"})}),z<C.length-1&&a.jsx("div",{className:`w-16 h-0.5 mx-2 ${i>I.id?"bg-primary":"bg-border"}`})]},I.id))}),a.jsx("div",{className:"text-center mt-4",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Étape ",i," sur ",C.length," : ",C[i-1]?.title]})})]}),c&&a.jsx(wTe,{formData:o,onClose:()=>u(!1)}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsx("div",{className:"lg:col-span-2",children:a.jsx(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:a.jsx(Jt,{className:"shadow-lg border-0",children:a.jsx(rr,{className:"p-6",children:a.jsx(bTe,{onSuccess:N,category:e,onDataChange:A,currentStep:i,onStepChange:s})})})})}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:a.jsx(Jt,{className:"shadow-lg border-0",children:a.jsxs(rr,{className:"p-6",children:[a.jsxs("h3",{className:"text-lg font-semibold text-foreground mb-4 flex items-center",children:[a.jsx(Fi,{className:"h-5 w-5 text-green-500 mr-2"}),"Conseils pour une annonce réussie"]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Utilisez un titre clair et descriptif"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Ajoutez des photos de qualité"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Décrivez précisément votre offre"})]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-2 h-2 bg-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Fixez un prix compétitif"})]})]})]})})}),a.jsx(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:a.jsx(Jt,{className:"shadow-lg border-0",children:a.jsxs(rr,{className:"p-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-foreground mb-4",children:"Besoin d'aide ?"}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Notre équipe est là pour vous accompagner dans la création de votre annonce."}),a.jsx(me,{variant:"outline",className:"w-full",onClick:O,children:"Contacter le support"})]})})})]})]})]})}),a.jsx(D7,{})]})},_Te=re.memo(({images:t=[],title:e="Galerie d'images"})=>{const[r,n]=b.useState(0),[i,s]=b.useState(!1),[o,l]=b.useState(!1),c=b.useRef(null);sTe(t,r);const{touchHandlers:u,zoomLevel:d}=oTe(()=>n(S=>(S+1)%t.length),()=>n(S=>(S-1+t.length)%t.length),S=>l(S>1)),f=b.useCallback(()=>{n(S=>(S+1)%t.length)},[t.length]),g=b.useCallback(()=>{n(S=>(S-1+t.length)%t.length)},[t.length]),v=S=>{n(S)};b.useEffect(()=>{const S=C=>{if(i)switch(C.key){case"ArrowLeft":C.preventDefault(),g();break;case"ArrowRight":C.preventDefault(),f();break;case"Escape":C.preventDefault(),s(!1),l(!1);break;case" ":C.preventDefault(),l(!o);break}};return i&&(document.addEventListener("keydown",S),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",S),document.body.style.overflow="unset"}},[i,o,f,g]);const y=()=>{i?l(!o):s(!0)},x=()=>{l(!o)};if(!t||t.length===0)return a.jsx("div",{className:"relative aspect-video rounded-lg overflow-hidden bg-muted flex items-center justify-center",children:a.jsx("div",{className:"text-center text-muted-foreground",children:a.jsx("p",{children:"Aucune image disponible"})})});const _=t[r];return a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"relative",children:[a.jsxs("div",{ref:c,className:"relative aspect-video rounded-lg overflow-hidden bg-muted cursor-pointer group",...u,onClick:y,children:[a.jsx(Ew,{src:_,alt:`${e} - Image ${r+1}`,className:"w-full h-full",context:"gallery",quality:"high",showSkeleton:!0}),a.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors duration-300",children:a.jsx(me,{variant:"ghost",size:"sm",className:"absolute top-2 right-2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),s(!0)},children:a.jsx(B3,{className:"h-4 w-4"})})}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(me,{variant:"ghost",size:"sm",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),g()},children:a.jsx(Ga,{className:"h-4 w-4"})}),a.jsx(me,{variant:"ghost",size:"sm",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300",onClick:S=>{S.stopPropagation(),f()},children:a.jsx(Za,{className:"h-4 w-4"})})]})]}),t.length>1&&a.jsx("div",{className:"flex justify-center mt-4 space-x-2",children:t.map((S,C)=>a.jsx("button",{onClick:()=>v(C),className:`w-2 h-2 rounded-full transition-all duration-300 ${C===r?"bg-primary scale-125":"bg-muted-foreground/30 hover:bg-muted-foreground/50"}`,"aria-label":`Aller à l'image ${C+1}`},C))}),t.length>1&&a.jsxs("div",{className:"absolute bottom-2 left-2 bg-black/50 text-white text-xs px-2 py-1 rounded",children:[r+1," / ",t.length]})]}),a.jsx(Ei,{children:i&&a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 bg-black/95 flex items-center justify-center",...u,children:[a.jsx(me,{variant:"ghost",size:"sm",className:"absolute top-4 right-4 bg-black/50 hover:bg-black/70 text-white z-10",onClick:()=>{s(!1),l(!1)},children:a.jsx(Ws,{className:"h-6 w-6"})}),a.jsx(me,{variant:"ghost",size:"sm",className:"absolute top-4 right-16 bg-black/50 hover:bg-black/70 text-white z-10",onClick:x,children:o?a.jsx(npe,{className:"h-6 w-6"}):a.jsx(B3,{className:"h-6 w-6"})}),a.jsx("div",{className:"relative w-full h-full flex items-center justify-center p-4",children:a.jsx(Ew,{src:_,alt:`${e} - Image ${r+1}`,className:`max-w-full max-h-full object-contain transition-transform duration-300 ${o?"cursor-zoom-out":"cursor-zoom-in"}`,context:"fullscreen",quality:"high",showSkeleton:!1,onClick:y,style:{transform:`scale(${d})`,cursor:o?"zoom-out":"zoom-in"}})}),t.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(me,{variant:"ghost",size:"lg",className:"absolute left-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:g,children:a.jsx(Ga,{className:"h-8 w-8"})}),a.jsx(me,{variant:"ghost",size:"lg",className:"absolute right-4 top-1/2 -translate-y-1/2 bg-black/50 hover:bg-black/70 text-white",onClick:f,children:a.jsx(Za,{className:"h-8 w-8"})})]}),t.length>1&&a.jsx("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 flex space-x-3",children:t.map((S,C)=>a.jsx("button",{onClick:()=>v(C),className:`w-3 h-3 rounded-full transition-all duration-300 ${C===r?"bg-white scale-125":"bg-white/50 hover:bg-white/75"}`,"aria-label":`Aller à l'image ${C+1}`},C))}),a.jsxs("div",{className:"absolute bottom-4 right-4 bg-black/50 text-white text-sm px-3 py-1 rounded",children:[r+1," / ",t.length]}),a.jsx("div",{className:"absolute top-4 left-4 text-white/70 text-sm",children:a.jsx("p",{children:"← → Navigation • Espace Zoom • Échap Fermer"})})]})})]})}),Jee=({rating:t=0,onRatingChange:e,readonly:r=!1,size:n="md",showLabel:i=!1,className:s=""})=>{const[o,l]=b.useState(0),c={sm:"h-3 w-3",md:"h-4 w-4",lg:"h-5 w-5",xl:"h-6 w-6"},u=y=>{r||l(y)},d=()=>{r||l(0)},f=y=>{!r&&e&&e(y)},g=y=>y<=(o||t)?"text-yellow-400 fill-current":"text-gray-300",v=y=>({0:"Aucune note",1:"Très mauvais",2:"Mauvais",3:"Moyen",4:"Bon",5:"Excellent"})[y]||"Aucune note";return a.jsxs("div",{className:Ye("flex items-center space-x-1",s),children:[a.jsx("div",{className:"flex items-center space-x-0.5",children:[1,2,3,4,5].map(y=>a.jsx("button",{type:"button",onClick:()=>f(y),onMouseEnter:()=>u(y),onMouseLeave:d,disabled:r,className:Ye("transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-yellow-400 focus:ring-offset-2 rounded-sm",c[n],r?"cursor-default":"cursor-pointer hover:scale-110",g(y)),"aria-label":`${y} étoile${y>1?"s":""}`,children:a.jsx(Ya,{className:"w-full h-full"})},y))}),i&&a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:v(t)}),!r&&a.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:t>0?`${t}/5`:"Cliquez pour noter"})]})},STe=Qn({content:Lt().min(1,"Le commentaire ne peut pas être vide").max(1e3,"Le commentaire ne peut pas dépasser 1000 caractères"),parent_id:Lt().uuid().optional()}),zT=({listingId:t,onSubmit:e,onCancel:r,initialData:n=null,parentId:i=null,className:s=""})=>{const{toast:o}=dn(),[l,c]=b.useState(!1),[u,d]=b.useState(n?.rating||0),{register:f,handleSubmit:g,watch:v,formState:{errors:y,isValid:x},reset:_}=$m({resolver:y2e(STe),defaultValues:{content:n?.content||"",parent_id:i||n?.parent_id},mode:"onChange"}),S=v("content"),C=!!n,N=async O=>{console.log("🔍 [CommentForm] handleFormSubmit appelé avec:",{data:O,rating:u}),console.log("🔍 [CommentForm] Formulaire soumis !"),console.log("🔍 [CommentForm] Note fournie:",u),console.log("🔍 [CommentForm] Début de la soumission..."),c(!0);try{console.log("🔍 [CommentForm] Préparation des données...");const I={...O,rating:u||null,listing_id:t,parent_id:i||n?.parent_id};console.log("🔍 [CommentForm] Données préparées:",I),console.log("🔍 [CommentForm] Appel de onSubmit...");const z=await e(I);if(console.log("🔍 [CommentForm] Résultat onSubmit:",z),z.error)throw new Error(z.error);o({title:C?"Commentaire modifié":"Commentaire ajouté",description:C?"Votre commentaire a été modifié avec succès.":"Votre commentaire a été ajouté avec succès."}),C||(_(),d(0)),r&&r()}catch(I){o({title:"Erreur",description:I.message||"Une erreur est survenue lors de l'envoi du commentaire.",variant:"destructive"})}finally{c(!1)}},A=O=>{d(O)},E=()=>S?.length||0,k=()=>{const O=E();return O===0?"text-red-500":O>900?"text-orange-500":"text-muted-foreground"};return a.jsxs("div",{className:Ye("space-y-4",s),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h3",{className:"text-lg font-semibold",children:C?"Modifier le commentaire":"Ajouter un commentaire"}),i&&a.jsx(Et,{variant:"secondary",className:"text-xs",children:"Réponse"})]}),a.jsxs("form",{onSubmit:g(N),className:"space-y-4",children:[console.log("🔍 [CommentForm] Rendu du formulaire, isValid:",x,"errors:",y),console.log("🔍 [CommentForm] VERSION DE TEST - 2024-08-21-15h30"),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Votre note (optionnelle)"}),a.jsx(Jee,{rating:u,onRatingChange:A,size:"lg",showLabel:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{htmlFor:"content",className:"text-sm font-medium",children:"Votre commentaire *"}),a.jsx(gd,{id:"content",...f("content"),placeholder:C?"Modifiez votre commentaire...":"Partagez votre expérience avec cette annonce...",className:Ye("min-h-[120px] resize-none",y.content&&"border-red-500 focus:border-red-500"),maxLength:1e3}),a.jsx("div",{className:"flex items-center justify-between text-xs",children:a.jsxs("span",{className:k(),children:[E(),"/1000 caractères"]})}),y.content&&a.jsxs("p",{className:"text-sm text-red-500 flex items-center",children:[a.jsx(Un,{className:"h-4 w-4 mr-1"}),y.content.message]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2",children:[a.jsx("div",{className:"flex items-center space-x-2",children:r&&a.jsx(me,{type:"button",variant:"outline",onClick:r,disabled:l,children:"Annuler"})}),a.jsx(me,{type:"submit",disabled:l||!S?.trim(),className:"flex items-center space-x-2",onClick:O=>{O.preventDefault(),console.log("🔍 [CommentForm] Bouton cliqué - validation manuelle"),console.log("🔍 [CommentForm] État:",{rating:u,content:S?.trim(),isSubmitting:l}),S?.trim()&&!l&&g(N)()},children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent"}),a.jsx("span",{children:"Envoi..."})]}):a.jsxs(a.Fragment,{children:[a.jsx(qp,{className:"h-4 w-4"}),a.jsx("span",{children:C?"Modifier":"Publier"})]})})]})]})]})},Qee=({comment:t,onUpdate:e,onDelete:r,onReply:n,onReport:i,showReplies:s=!0,className:o=""})=>{const{user:l}=Vr(),{toast:c}=dn(),[u,d]=b.useState(!1),[f,g]=b.useState(!1),[v,y]=b.useState(!1),[x,_]=b.useState(t.replies||[]),S=l?.id===t.user_id,C=l?.role==="admin",N=S||C,A=()=>{d(!0)},E=async()=>{if(confirm("Êtes-vous sûr de vouloir supprimer ce commentaire ?"))try{const q=await r(t.id);if(q.error)throw new Error(q.error);c({title:"Commentaire supprimé",description:"Votre commentaire a été supprimé avec succès."})}catch(q){c({title:"Erreur",description:q.message||"Impossible de supprimer le commentaire.",variant:"destructive"})}},k=()=>{g(!0)},O=async()=>{try{const q=await i(t.id,{reason:"inappropriate",description:"Commentaire signalé par l'utilisateur"});if(q.error)throw new Error(q.error);c({title:"Commentaire signalé",description:"Le commentaire a été signalé aux modérateurs."})}catch(q){c({title:"Erreur",description:q.message||"Impossible de signaler le commentaire.",variant:"destructive"})}},I=q=>{d(!1),e&&e(q)},z=q=>{g(!1),_(F=>[q,...F]),n&&n(q)},W=q=>{switch(q){case"approved":return a.jsxs(Et,{variant:"default",className:"bg-green-100 text-green-800 border-green-300",children:[a.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Approuvé"]});case"pending":return a.jsxs(Et,{variant:"secondary",className:"bg-yellow-100 text-yellow-800 border-yellow-300",children:[a.jsx(qs,{className:"h-3 w-3 mr-1"}),"En attente"]});case"rejected":return a.jsxs(Et,{variant:"destructive",className:"bg-red-100 text-red-800 border-red-300",children:[a.jsx(Pf,{className:"h-3 w-3 mr-1"}),"Rejeté"]});default:return null}},V=q=>q?.split(" ").map(F=>F[0]).join("").toUpperCase().slice(0,2)||"U";return u?a.jsx("div",{className:Ye("border rounded-lg p-4 bg-muted/30",o),children:a.jsx(zT,{listingId:t.listing_id,onSubmit:async q=>{try{const F=await e(t.id,q);if(F.error)throw new Error(F.error);return I(F.comment),F}catch(F){return{error:F.message}}},onCancel:()=>d(!1),initialData:t})}):a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:Ye("transition-all",o),children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Aw,{className:"h-10 w-10",children:a.jsx(Tw,{className:"bg-primary/10 text-primary",children:V(t.user_id||"U")})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("h4",{className:"font-medium text-sm",children:t.user_display_name||`Utilisateur ${t.user_id?.slice(0,8)}...`}),t.is_verified_purchase&&a.jsxs(Et,{variant:"outline",className:"text-xs bg-green-50 text-green-700 border-green-300",children:[a.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Achat vérifié"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs text-muted-foreground",children:[a.jsx("span",{children:yve(t.created_at)}),t.updated_at!==t.created_at&&a.jsx("span",{children:"(modifié)"})]})]})]}),a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsx(me,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0",children:a.jsx(RH,{className:"h-4 w-4"})})}),a.jsxs(Kc,{align:"end",children:[a.jsxs(Dr,{onClick:k,children:[a.jsx(RA,{className:"h-4 w-4 mr-2"}),"Répondre"]}),N&&a.jsxs(a.Fragment,{children:[a.jsxs(Dr,{onClick:A,children:[a.jsx(t1,{className:"h-4 w-4 mr-2"}),"Modifier"]}),a.jsxs(Dr,{onClick:E,className:"text-red-600",children:[a.jsx(Mo,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]}),!S&&a.jsxs(Dr,{onClick:O,children:[a.jsx(Pf,{className:"h-4 w-4 mr-2"}),"Signaler"]})]})]})]}),t.status!=="approved"&&a.jsx("div",{className:"mb-3",children:W(t.status)}),a.jsx("div",{className:"mb-3",children:a.jsx(Jee,{rating:t.rating,readonly:!0,size:"sm"})}),a.jsx("div",{className:"mb-4",children:a.jsx("p",{className:"text-sm whitespace-pre-wrap leading-relaxed",children:t.content})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[a.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[t.likes_count>0&&a.jsxs("span",{children:[t.likes_count," j'aime"]}),t.replies_count>0&&a.jsxs("button",{onClick:()=>y(!v),className:"flex items-center space-x-1 hover:text-foreground transition-colors",children:[a.jsx(Pi,{className:"h-3 w-3"}),a.jsxs("span",{children:[t.replies_count," réponse",t.replies_count>1?"s":""]})]})]}),a.jsxs(me,{variant:"ghost",size:"sm",onClick:k,className:"text-xs",children:[a.jsx(RA,{className:"h-3 w-3 mr-1"}),"Répondre"]})]}),f&&a.jsx("div",{className:"mt-4 pt-4 border-t",children:a.jsx(zT,{listingId:t.listing_id,onSubmit:async q=>{try{const F=await n(q);if(F.error)throw new Error(F.error);return z(F.comment),F}catch(F){return{error:F.message}}},onCancel:()=>g(!1),parentId:t.id})}),s&&t.replies_count>0&&v&&a.jsxs("div",{className:"mt-4 pt-4 border-t space-y-3",children:[a.jsxs("h5",{className:"text-sm font-medium text-muted-foreground",children:["Réponses (",t.replies_count,")"]}),x.map(q=>a.jsx(Qee,{comment:q,onUpdate:e,onDelete:r,onReply:n,onReport:i,showReplies:!1,className:"ml-4 border-l-2 border-muted pl-4"},q.id))]})]})},jTe=({listingId:t,listing:e,className:r="",showStats:n=!0,showFilters:i=!0})=>{console.log("🔍 [CommentsSection] Rendu avec listingId:",t);const{user:s}=Vr(),{toast:o}=dn(),[l,c]=b.useState(!1),{comments:u,loading:d,error:f,pagination:g,addComment:v,updateComment:y,deleteComment:x,reportComment:_,changePage:S,refresh:C,forceRefresh:N}=iTe(t);console.log("🔍 [CommentsSection] État du hook:",{commentsLength:u?.length,loading:d,error:f,user:!!s,showForm:l});const A=async z=>{if(!s){o({title:"Connexion requise",description:"Vous devez être connecté pour ajouter un commentaire.",variant:"destructive"});return}const W=await v({...z,user_id:s.id});return W.error||c(!1),W},E=async(z,W)=>await y(z,W),k=async z=>await x(z),O=async z=>s?await v({...z,user_id:s.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour répondre.",variant:"destructive"}),{error:"Connexion requise"}),I=async(z,W)=>s?await _(z,{...W,reporter_id:s.id}):(o({title:"Connexion requise",description:"Vous devez être connecté pour signaler un commentaire.",variant:"destructive"}),{error:"Connexion requise"});return f?a.jsx(Jt,{className:Ye("mt-8",r),children:a.jsx(rr,{className:"p-6",children:a.jsxs("div",{className:"text-center text-muted-foreground",children:[a.jsx(Pi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Impossible de charger les commentaires"}),a.jsx("p",{className:"mb-4",children:"Une erreur est survenue lors du chargement des commentaires."}),a.jsxs(me,{onClick:C,variant:"outline",children:[a.jsx(Sl,{className:"h-4 w-4 mr-2"}),"Réessayer"]})]})})}):a.jsxs("div",{className:Ye("space-y-6",r),children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Pi,{className:"h-6 w-6 text-primary"}),a.jsx("h2",{className:"text-xl sm:text-2xl font-bold",children:"Commentaires et Avis"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(me,{variant:"outline",size:"sm",onClick:()=>{console.log("🔄 [CommentsSection] Force refresh cliqué"),N()},disabled:d,className:"flex items-center space-x-2",children:[a.jsx(Sl,{className:`h-4 w-4 ${d?"animate-spin":""}`}),a.jsx("span",{className:"hidden sm:inline",children:"Actualiser"})]})})]}),a.jsx(Ei,{children:l&&a.jsx(ze.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},children:a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(jr,{children:"Ajouter un commentaire"}),a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>c(!1),children:a.jsx(Ws,{className:"h-4 w-4"})})]})}),a.jsx(rr,{children:a.jsx(zT,{listingId:t,onSubmit:A,onCancel:()=>c(!1)})})]})})}),a.jsx(Jt,{children:a.jsx(rr,{className:"p-0",children:d?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto mb-4"}),a.jsx("p",{className:"text-muted-foreground",children:"Chargement des commentaires..."})]}):u.length===0?a.jsxs("div",{className:"p-8 text-center",children:[a.jsx(Pi,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground/50"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Aucun commentaire"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Soyez le premier à laisser un commentaire sur cette annonce !"}),s&&a.jsxs(me,{onClick:()=>{console.log("🔍 [CommentsSection] Bouton Ajouter (carte vide) cliqué"),c(!0)},children:[a.jsx(Dc,{className:"h-4 w-4 mr-2"}),"Ajouter un commentaire"]})]}):a.jsxs("div",{className:"max-h-96 overflow-y-auto",children:[a.jsx("div",{className:"divide-y divide-border",children:u.map((z,W)=>a.jsx("div",{className:"p-4 hover:bg-muted/30 transition-colors",children:a.jsx(Qee,{comment:z,onUpdate:E,onDelete:k,onReply:O,onReport:I,className:"border-0 p-0 shadow-none"})},z.id))}),g&&g.pages>1&&a.jsxs("div",{className:"flex items-center justify-center space-x-2 p-4 border-t",children:[a.jsx(me,{variant:"outline",size:"sm",onClick:()=>S(g.page-1),disabled:g.page<=1,children:"Précédent"}),a.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",g.page," sur ",g.pages]}),a.jsx(me,{variant:"outline",size:"sm",onClick:()=>S(g.page+1),disabled:g.page>=g.pages,children:"Suivant"})]})]})})})]})},CTe=({isOpen:t,onClose:e,listing:r,onReportSubmitted:n})=>{const[i,s]=b.useState(""),[o,l]=b.useState(""),[c,u]=b.useState("medium"),[d,f]=b.useState(!1),{toast:g}=dn(),v=[{value:"inappropriate_content",label:"Contenu inapproprié",description:"Contenu offensant, violent ou choquant"},{value:"fake_listing",label:"Annonce fausse",description:"Produit/service inexistant ou trompeur"},{value:"spam",label:"Spam",description:"Annonce répétitive ou non pertinente"},{value:"scam",label:"Arnaque",description:"Tentative de fraude ou d'escroquerie"},{value:"copyright",label:"Violation de droits",description:"Contenu protégé par des droits d'auteur"},{value:"other",label:"Autre",description:"Autre raison non listée"}],y=[{value:"low",label:"Faible",color:"bg-blue-100 text-blue-800"},{value:"medium",label:"Moyen",color:"bg-yellow-100 text-yellow-800"},{value:"high",label:"Élevé",color:"bg-red-100 text-red-800"}],x=async S=>{if(S.preventDefault(),!i){g({title:"Erreur",description:"Veuillez sélectionner une raison de signalement.",variant:"destructive"});return}if(!o.trim()){g({title:"Erreur",description:"Veuillez décrire le problème.",variant:"destructive"});return}f(!0);try{const C={listing_id:r.id,type:"listing",reason:i,description:o.trim(),severity:c,status:"pending"};await Cpe.createReport(C),g({title:"Signalement envoyé",description:"Votre signalement a été enregistré et sera examiné par notre équipe."}),s(""),l(""),u("medium"),e(),n&&n()}catch(C){console.error("Erreur lors du signalement:",C),g({title:"Erreur",description:"Impossible d'envoyer le signalement. Veuillez réessayer.",variant:"destructive"})}finally{f(!1)}},_=()=>{d||e()};return t?a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:a.jsxs(Jt,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pf,{className:"h-5 w-5 text-red-500"}),a.jsxs("div",{children:[a.jsx(jr,{children:"Signaler cette annonce"}),a.jsx(ei,{children:"Aidez-nous à maintenir la qualité de notre plateforme"})]})]}),a.jsx(me,{variant:"ghost",size:"sm",onClick:_,disabled:d,className:"h-8 w-8 p-0",children:a.jsx(Ws,{className:"h-4 w-4"})})]}),a.jsxs(rr,{className:"space-y-6",children:[a.jsxs("div",{className:"p-4 bg-muted/50 rounded-lg",children:[a.jsx("h4",{className:"font-medium mb-2",children:"Annonce signalée :"}),a.jsxs("div",{className:"flex items-start space-x-3",children:[r.images&&r.images[0]&&a.jsx("img",{src:r.images[0],alt:r.title,className:"w-16 h-16 object-cover rounded-lg"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h5",{className:"font-medium truncate",children:r.title}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Publiée le ",new Date(r.created_at).toLocaleDateString()]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Catégorie : ",r.category]})]})]})]}),a.jsxs("form",{onSubmit:x,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"reason",children:"Raison du signalement *"}),a.jsxs(tn,{value:i,onValueChange:s,disabled:d,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Sélectionnez une raison"})}),a.jsx(Jr,{children:v.map(S=>a.jsx(nt,{value:S.value,children:a.jsxs("div",{className:"flex flex-col items-start",children:[a.jsx("span",{className:"font-medium",children:S.label}),a.jsx("span",{className:"text-xs text-muted-foreground",children:S.description})]})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"severity",children:"Niveau de gravité"}),a.jsxs(tn,{value:c,onValueChange:u,disabled:d,children:[a.jsx(Xr,{children:a.jsx(rn,{})}),a.jsx(Jr,{children:y.map(S=>a.jsx(nt,{value:S.value,children:a.jsx(Et,{className:S.color,variant:"secondary",children:S.label})},S.value))})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(ft,{htmlFor:"description",children:["Description détaillée du problème *",a.jsx("span",{className:"text-sm text-muted-foreground ml-2",children:"(minimum 20 caractères)"})]}),a.jsx(gd,{id:"description",value:o,onChange:S=>l(S.target.value),placeholder:"Décrivez en détail le problème que vous avez identifié...",rows:4,disabled:d,minLength:20,required:!0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.length,"/500 caractères"]})]}),a.jsx("div",{className:"p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx(Jf,{className:"h-4 w-4 text-yellow-600 mt-0.5"}),a.jsxs("div",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:[a.jsx("p",{className:"font-medium",children:"Important :"}),a.jsx("p",{children:"Les signalements abusifs peuvent entraîner la suspension de votre compte. Assurez-vous que votre signalement est justifié et basé sur des faits."})]})]})}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(me,{type:"button",variant:"outline",onClick:_,disabled:d,children:"Annuler"}),a.jsx(me,{type:"submit",disabled:d||!i||o.length<20,className:"bg-red-600 hover:bg-red-700",children:d?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent mr-2"}),"Envoi en cours..."]}):a.jsxs(a.Fragment,{children:[a.jsx(qp,{className:"h-4 w-4 mr-2"}),"Envoyer le signalement"]})})]})]})]})]})}):null},NTe=()=>{const{id:t}=cR(),e=ii(),{user:r}=Vr(),{toast:n}=dn(),[i,s]=b.useState(null),[o,l]=b.useState([]),[c,u]=b.useState(!0),[d,f]=b.useState(!1),[g,v]=b.useState(!1),[y,x]=b.useState(!1),[_,S]=b.useState(!1),{images:C}=Yee(i);b.useEffect(()=>{t&&(async()=>{u(!0);try{if(!t||t===""||typeof t!="string")throw new Error(`ID d'annonce invalide: "${t}"`);const q=await en.getListingById(t);if(q){s(q);try{en.incrementViews(q.id)}catch{}q.status!=="approved"&&n({title:"Annonce en attente",description:"Cette annonce est en cours de modération.",variant:"default"});const{data:F}=await en.getAllListings({category:q.category,status:"approved",limit:10});l(F.filter(H=>H.id!==q.id).slice(0,3))}else n({title:"Annonce non trouvée",description:"L'annonce que vous recherchez n'existe pas ou a été supprimée.",variant:"destructive"}),e("/marketplace")}catch(q){console.error("Erreur lors du chargement de l'annonce:",q),console.error("Détails de l'erreur:",{message:q.message,code:q.code,details:q.details,hint:q.hint}),n({title:"Erreur",description:`Impossible de charger les détails de l'annonce: ${q.message}`,variant:"destructive"}),e("/marketplace")}finally{u(!1)}})()},[t,e,n]),b.useEffect(()=>{try{if(typeof window<"u"&&i){const V=i?.location&&typeof i.location=="object"&&i.location.city||"";window.__MAXIMARKET_CONTEXT={listing:{id:i.id,title:i.title,price:i.price,locationCity:V,sellerId:i.user_id,category:i.category}}}}catch{}return()=>{try{typeof window<"u"&&window.__MAXIMARKET_CONTEXT&&delete window.__MAXIMARKET_CONTEXT}catch{}}},[i]);const N=V=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"XOF",minimumFractionDigits:0,maximumFractionDigits:0}).format(V),A=V=>new Date(V).toLocaleDateString("fr-FR",{day:"numeric",month:"long",year:"numeric"}),E=V=>{switch(V){case"real_estate":return"🏠";case"automobile":return"🚗";case"services":return"🔧";case"marketplace":return"🛍️";default:return"📋"}},k=V=>{switch(V){case"real_estate":return"Immobilier";case"automobile":return"Automobile";case"services":return"Services";case"marketplace":return"Marketplace";default:return"Autre"}},O=async()=>{if(!r){e("/connexion");return}try{f(!d),n({title:d?"Retiré des favoris":"Ajouté aux favoris",description:d?"L'annonce a été retirée de vos favoris.":"L'annonce a été ajoutée à vos favoris."})}catch{n({title:"Erreur",description:"Impossible de modifier les favoris.",variant:"destructive"})}},I=async V=>{if(V==="whatsapp"||V==="phone"){const q=i.contact_info?.phone||i.users?.phone_number;if(!q){n({title:"Pas de numéro disponible",description:"Aucun numéro de téléphone n'est disponible pour cette annonce.",variant:"destructive"});return}const F=q.replace(/[\s\-\(\)]/g,""),H=F.startsWith("+")?F:F.startsWith("221")?`+${F}`:`+221${F}`;if(V==="phone")window.open(`tel:${H}`,"_blank"),n({title:"Appel en cours",description:`Appel vers ${H}`});else if(V==="whatsapp"){const Q=encodeURIComponent(`Bonjour ! Je suis intéressé(e) par votre annonce "${i.title}".

Pouvez-vous me donner plus d'informations ?`);window.open(`https://wa.me/${H}?text=${Q}`,"_blank"),n({title:"WhatsApp ouvert",description:`Conversation WhatsApp avec ${H}`})}return}if(V==="message"){if(!r){n({title:"Connexion requise",description:"Connectez-vous pour envoyer un message privé au vendeur.",variant:"default"}),e("/connexion");return}if(i.user_id===r.id){n({title:"Action impossible",description:"Vous ne pouvez pas vous contacter vous-même.",variant:"destructive"});return}if(!i.user_id||i.user_id==="test-user-1"){n({title:"Annonce de test",description:"Cette annonce est en mode test. Les fonctionnalités de contact ne sont pas disponibles.",variant:"default"});return}try{const F=await Qi.createConversation(i.user_id,i.id);e(`/messages?conversation=${F.id}&listing=${i.id}`),n({title:"Conversation créée",description:"Vous avez été redirigé vers la messagerie."})}catch(F){console.error("Erreur lors de la création de la conversation:",F),n({title:"Erreur",description:"Impossible de créer la conversation. Veuillez réessayer.",variant:"destructive"})}}},z=()=>{if(!r){e("/connexion");return}v(!0)},W=()=>{console.log("Signalement soumis avec succès")};return c?a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'annonce..."})]})}):i?a.jsxs(ze.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs(me,{variant:"ghost",onClick:()=>e(-1),className:"mb-4",children:[a.jsx(Fp,{className:"h-4 w-4 mr-2"}),"Retour"]}),a.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mb-2",children:[a.jsx(fr,{to:"/",className:"hover:text-primary",children:"Accueil"}),a.jsx("span",{children:"/"}),a.jsx(fr,{to:`/${i.category==="real_estate"?"immobilier":i.category==="automobile"?"automobile":i.category==="services"?"services":"marketplace"}`,className:"hover:text-primary",children:k(i.category)}),a.jsx("span",{children:"/"}),a.jsx("span",{className:"text-foreground",children:i.title})]})]}),a.jsx("div",{className:"max-w-4xl mx-auto",children:a.jsxs("div",{children:[a.jsx("div",{className:"mb-8",children:a.jsx(_Te,{images:C,title:i.title})}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:i.title}),a.jsxs("div",{className:"flex items-center gap-4 text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(vl,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:i.location&&typeof i.location=="object"&&i.location.city?`${i.location.city}, ${i.location.country||""}`:"Localisation non spécifiée"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hc,{className:"h-4 w-4 mr-1"}),a.jsxs("span",{children:["Publié le ",A(i.created_at)]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xee,{listing:i,variant:"compact"}),a.jsxs(me,{variant:"outline",size:"sm",onClick:z,children:[a.jsx(Pf,{className:"h-4 w-4 mr-1"}),"Signaler"]})]})]}),a.jsx("div",{className:"text-3xl font-bold text-primary mb-4",children:N(i.price)}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-6",children:[a.jsxs(Et,{variant:"secondary",className:"bg-primary/10 text-primary",children:[E(i.category)," ",k(i.category)]}),i.status==="approved"&&a.jsx(Et,{variant:"default",className:"badge-approved",children:"Approuvé"})]})]}),a.jsx(Xv,{className:"my-8"}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Description"}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("p",{className:"whitespace-pre-line",children:i.description})})]}),i.real_estate_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails immobiliers"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.real_estate_details.type&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Type"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.type})]}),i.real_estate_details.rooms&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Pièces"}),a.jsx("p",{className:"font-medium",children:i.real_estate_details.rooms})]}),i.real_estate_details.surface&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Surface"}),a.jsxs("p",{className:"font-medium",children:[i.real_estate_details.surface," m²"]})]})]})]}),i.automobile_details&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Détails automobile"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.automobile_details.brand&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Marque"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.brand})]}),i.automobile_details.model&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Modèle"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.model})]}),i.automobile_details.year&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Année"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.year})]}),i.automobile_details.fuel&&a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Carburant"}),a.jsx("p",{className:"font-medium",children:i.automobile_details.fuel})]})]})]}),a.jsx("div",{className:"mt-12 mb-8",children:a.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Contacter le vendeur"}),i.users&&a.jsxs("div",{className:"mb-4",children:[a.jsx("p",{className:"text-sm text-muted-foreground",children:"Vendeur"}),a.jsxs("p",{className:"font-medium",children:[i.users.first_name," ",i.users.last_name]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[a.jsxs(me,{className:"w-full bg-green-600 hover:bg-green-700",onClick:()=>I("whatsapp"),children:[a.jsx(Pi,{className:"h-4 w-4 mr-2"}),"WhatsApp"]}),a.jsxs(me,{className:"w-full",onClick:()=>I("phone"),children:[a.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Appeler"]}),a.jsxs(me,{variant:"outline",className:"w-full",onClick:()=>I("message"),children:[a.jsx(Lc,{className:"h-4 w-4 mr-2"}),"Message"]}),a.jsxs(me,{variant:"outline",className:"w-full",onClick:O,children:[a.jsx(_l,{className:`h-4 w-4 mr-2 ${d?"fill-red-500 text-red-500":""}`}),d?"Retirer":"Favoris"]})]}),!r&&a.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:a.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["💡 ",a.jsx("strong",{children:"Conseil :"})," Vous pouvez contacter le vendeur directement par WhatsApp ou téléphone sans créer de compte. Connectez-vous uniquement si vous souhaitez utiliser la messagerie privée."]})})]})}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:"text-amber-600 dark:text-amber-400 text-lg mr-2",children:"⚠️"}),a.jsx("h3",{className:"text-sm font-semibold text-amber-800 dark:text-amber-200",children:"Conseils de sécurité"})]}),a.jsx("button",{onClick:()=>x(!y),className:"text-xs text-amber-600 dark:text-amber-400 hover:underline",children:y?"Masquer":"Voir plus"})]}),a.jsx("div",{className:"text-xs text-amber-700 dark:text-amber-300 mb-2",children:"🤝 Lieu public • 🔍 Vérifiez le bien • 💰 Paiement sécurisé • 🚨 Signalez les problèmes"}),y&&a.jsx("div",{className:"mt-3 pt-3 border-t border-amber-200 dark:border-amber-700",children:a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 text-xs",children:[a.jsxs("div",{children:[a.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Rencontre :"}),a.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Lieu public, évitez les heures tardives"})]}),a.jsxs("div",{children:[a.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Vérification :"}),a.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Inspectez, testez, demandez les documents"})]}),a.jsxs("div",{children:[a.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Paiement :"}),a.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Espèces privilégiées, méfiez-vous des prix bas"})]}),a.jsxs("div",{children:[a.jsx("strong",{className:"text-amber-800 dark:text-amber-200",children:"Signalement :"}),a.jsx("div",{className:"text-amber-700 dark:text-amber-300",children:"Conservez les communications, signalez les abus"})]})]})})]})}),a.jsx("div",{className:"mb-8",children:a.jsx(jTe,{listingId:i.id,listing:i,className:"mt-8"})}),o.length>0&&a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Annonces similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:o.map(V=>a.jsx(fr,{to:`/annonce/${V.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:V.title,src:V.images?.[0]||C[0]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:V.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:V.description}),a.jsx("p",{className:"text-lg font-bold text-primary mt-2",children:N(V.price)})]})]})},V.id))})]})]})}),a.jsx(CTe,{isOpen:g,onClose:()=>v(!1),listing:i,onReportSubmitted:W})]}):null},ETe=()=>{const{user:t}=Vr(),[e,r]=b.useState([]),[n,i]=b.useState([]),[s,o]=b.useState(!0),[l,c]=b.useState("grid"),[u,d]=b.useState(""),[f,g]=b.useState([]),[v,y]=b.useState(null),[x,_]=b.useState(""),S=async()=>{if(t){o(!0);try{const{data:O,error:I}=await we.from("favorites").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(I)throw I;const z=O.map(W=>W.listing_id);if(z.length>0){const{data:W,error:V}=await we.from("listings").select(`
            *,
            user:users(id, full_name, avatar_url),
            category:categories(name, slug)
          `).in("id",z).eq("status","approved");if(V)throw V;const q=O.map(F=>{const H=W.find(Q=>Q.id===F.listing_id);return{...F,listing:H}}).filter(F=>F.listing);r(q),i(W)}else r([]),i([])}catch(O){console.error("Erreur chargement favoris:",O)}finally{o(!1)}}},C=async O=>{try{const{error:I}=await we.from("favorites").delete().eq("id",O);if(I)throw I;r(z=>z.filter(W=>W.id!==O))}catch(I){console.error("Erreur suppression favoris:",I)}},N=async(O,I)=>{try{const{error:z}=await we.from("favorites").update({notes:I}).eq("id",O);if(z)throw z;r(W=>W.map(V=>V.id===O?{...V,notes:I}:V)),y(null),_("")}catch(z){console.error("Erreur mise à jour notes:",z)}};b.useEffect(()=>{S()},[t]);const A=e.filter(O=>{const I=O.listing;if(!I)return!1;const z=u===""||I.title.toLowerCase().includes(u.toLowerCase())||I.description?.toLowerCase().includes(u.toLowerCase())||O.notes?.toLowerCase().includes(u.toLowerCase()),W=f.length===0||f.some(V=>O.tags?.includes(V));return z&&W}),E=[...new Set(e.flatMap(O=>O.tags||[]))].sort(),k={total:e.length,withNotes:e.filter(O=>O.notes).length,withTags:e.filter(O=>O.tags&&O.tags.length>0).length,categories:[...new Set(e.map(O=>O.listing?.category?.name).filter(Boolean))]};return t?a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Mes Favoris"}),a.jsxs("p",{className:"text-gray-600 mt-2",children:[k.total," annonce(s) sauvegardée(s)"]})]}),a.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[a.jsxs("span",{children:[k.withNotes," avec notes"]}),a.jsxs("span",{children:[k.withTags," avec tags"]}),a.jsxs("span",{children:[k.categories.length," catégories"]})]})]})}),a.jsx("div",{className:"mb-6 bg-white rounded-lg shadow p-4",children:a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Rechercher dans vos favoris...",value:u,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Us,{size:20,className:"text-gray-400"}),a.jsxs("select",{value:f.length>0?f[0]:"",onChange:O=>g(O.target.value?[O.target.value]:[]),className:"border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Tous les tags"}),E.map(O=>a.jsx("option",{value:O,children:O},O))]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:()=>c("grid"),className:`p-2 rounded ${l==="grid"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(The,{size:20})}),a.jsx("button",{onClick:()=>c("list"),className:`p-2 rounded ${l==="list"?"bg-blue-100 text-blue-600":"text-gray-400"}`,children:a.jsx(Lhe,{size:20})})]})]})}),s?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Chargement de vos favoris..."})]}):A.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(_l,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:u||f.length>0?"Aucun résultat":"Aucun favori"}),a.jsx("p",{className:"mt-2 text-gray-600",children:u||f.length>0?"Essayez de modifier vos critères de recherche":"Commencez à ajouter des annonces à vos favoris"})]}):a.jsx("div",{className:l==="grid"?"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6":"space-y-4",children:A.map(O=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-4",children:a.jsx(yd,{listing:O.listing,compact:l==="list"})}),a.jsxs("div",{className:"px-4 pb-4",children:[O.tags&&O.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:O.tags.map(I=>a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:[a.jsx(Xf,{size:12,className:"mr-1"}),I]},I))}),a.jsx("div",{className:"mb-3",children:v===O.id?a.jsxs("div",{className:"space-y-2",children:[a.jsx("textarea",{value:x,onChange:I=>_(I.target.value),placeholder:"Ajouter une note...",className:"w-full p-2 border border-gray-300 rounded text-sm resize-none",rows:"2"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>N(O.id,x),className:"px-3 py-1 bg-blue-600 text-white text-sm rounded hover:bg-blue-700",children:"Sauvegarder"}),a.jsx("button",{onClick:()=>{y(null),_("")},className:"px-3 py-1 bg-gray-300 text-gray-700 text-sm rounded hover:bg-gray-400",children:"Annuler"})]})]}):a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600 flex-1",children:O.notes||"Aucune note"}),a.jsx("button",{onClick:()=>{y(O.id),_(O.notes||"")},className:"ml-2 p-1 text-gray-400 hover:text-gray-600",children:a.jsx(Uhe,{size:14})})]})}),a.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-200",children:[a.jsxs("span",{className:"text-xs text-gray-500",children:["Ajouté le ",new Date(O.created_at).toLocaleDateString("fr-FR")]}),a.jsxs("button",{onClick:()=>C(O.id),className:"flex items-center space-x-1 text-red-600 hover:text-red-800 text-sm",children:[a.jsx(Ohe,{size:14}),a.jsx("span",{children:"Retirer"})]})]})]})]},O.id))})]}):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-500",children:"Connectez-vous pour voir vos favoris"})})},PTe=()=>a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsxs("div",{className:"flex items-center justify-center mb-4",children:[a.jsx(_l,{className:"h-12 w-12 text-primary mr-4"}),a.jsx("h1",{className:"text-4xl font-bold",children:"Mes Favoris"})]}),a.jsx("p",{className:"text-lg text-muted-foreground max-w-2xl mx-auto",children:"Retrouvez toutes vos annonces sauvegardées et gérez vos favoris en toute simplicité."})]}),a.jsxs(Jt,{className:"shadow-lg border-0",children:[a.jsx(Sr,{children:a.jsxs(jr,{className:"flex items-center space-x-2",children:[a.jsx(_l,{className:"h-5 w-5 text-primary"}),a.jsx("span",{children:"Annonces Favorites"})]})}),a.jsx(rr,{children:a.jsx(ETe,{})})]}),a.jsxs("div",{className:"text-center mt-12",children:[a.jsx("p",{className:"text-muted-foreground mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx(me,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground",onClick:()=>window.location.href="/marketplace",children:"Explorer le Marketplace"})]})]})}),kTe=()=>{const{user:t,hasRole:e}=Vr(),r=ii(),[n,i]=b.useState(!1),[s,o]=b.useState(!0),[l,c]=b.useState(!0),[u,d]=b.useState([{title:"Utilisateurs Actifs",value:"-",icon:a.jsx(Oo,{className:"h-8 w-8 text-blue-400"}),trend:"Chargement...",color:"blue",key:"activeUsers"},{title:"Annonces en Attente",value:"-",icon:a.jsx(Nv,{className:"h-8 w-8 text-yellow-400"}),trend:"Chargement...",color:"yellow",key:"pendingListings"},{title:"Revenus (30j)",value:"-",icon:a.jsx(zp,{className:"h-8 w-8 text-green-400"}),trend:"Chargement...",color:"green",key:"revenue"},{title:"Activités Récentes",value:"-",icon:a.jsx(Pi,{className:"h-8 w-8 text-red-400"}),trend:"Chargement...",color:"red",key:"recentActivities"}]),[f,g]=b.useState([]),[v]=b.useState([{label:"Gérer les Annonces",icon:a.jsx(Nv,{className:"mr-3 h-5 w-5"}),color:"blue",link:"/admin/listings"},{label:"Gérer les Utilisateurs",icon:a.jsx(Oo,{className:"mr-3 h-5 w-5"}),color:"green",link:"/admin/users"},{label:"Voir les Transactions",icon:a.jsx(zp,{className:"mr-3 h-5 w-5"}),color:"purple",link:"/admin/transactions"},{label:"Statistiques Détaillées",icon:a.jsx(tM,{className:"mr-3 h-5 w-5"}),color:"teal",link:"/admin/analytics"}]);b.useEffect(()=>{(async()=>{try{if(t){const C=e("admin");if(i(C),!C){UN.error("Accès non autorisé"),r("/");return}await y()}else r("/connexion",{state:{from:"/admin"}})}catch(C){console.error("Erreur de vérification des autorisations:",C),UN.error("Erreur lors de la vérification des autorisations"),r("/")}finally{o(!1)}})()},[t,e,r]);const y=async()=>{try{c(!0),console.log("🔍 Début du chargement des données du tableau de bord...");let S=[],C=[],N=[];try{S=(await en.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",S.length)}catch(W){console.error("❌ Erreur lors du chargement des annonces:",W),S=[]}try{C=await ko.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",C.length)}catch(W){console.error("❌ Erreur lors du chargement des utilisateurs:",W),C=[]}try{N=await zH.getUserNotifications(),console.log("🔍 Notifications récupérées:",N.length)}catch(W){console.error("❌ Erreur lors du chargement des notifications:",W),N=[]}const A=C.filter(W=>W.status==="active").length,E=C.length,k=S.filter(W=>W.status==="pending").length,O=S.length,I=N.slice(0,5);console.log("🔍 Statistiques calculées:",{activeUsers:A,totalUsers:E,pendingListings:k,totalListings:O,recentNotifications:I.length}),d(W=>W.map(V=>V.key==="activeUsers"?{...V,value:A.toLocaleString(),trend:`Total: ${E}`}:V.key==="pendingListings"?{...V,value:k.toString(),trend:`Total: ${O}`}:V.key==="revenue"?{...V,value:"0 FCFA",trend:"Revenus du mois"}:V.key==="recentActivities"?{...V,value:I.length.toString(),trend:"Dernières activités"}:V));const z=I.map(W=>({id:W.id||`notif-${Date.now()}`,type:W.type||"Notification",item:W.title||W.message||"Nouvelle activité",timestamp:W.created_at,status:W.read?"read":"unread"}));g(z),console.log("✅ Données du tableau de bord chargées avec succès")}catch(S){console.error("❌ Erreur lors du chargement des données du tableau de bord:",S),UN.error("Erreur lors du chargement des données"),d(C=>C.map(N=>N.key==="activeUsers"?{...N,value:"0",trend:"Erreur de chargement"}:N.key==="pendingListings"?{...N,value:"0",trend:"Erreur de chargement"}:N.key==="revenue"?{...N,value:"0 FCFA",trend:"Erreur de chargement"}:N.key==="recentActivities"?{...N,value:"0",trend:"Erreur de chargement"}:N))}finally{c(!1)}},x=S=>{const C=new Date,N=new Date(S),A=Math.floor((C-N)/1e3);return A<60?"À l'instant":A<3600?`Il y a ${Math.floor(A/60)} min`:A<86400?`Il y a ${Math.floor(A/3600)} h`:`Il y a ${Math.floor(A/86400)} j`};if(s)return a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:a.jsx(Qr,{className:"h-12 w-12 animate-spin text-blue-500"})});if(!n)return a.jsx("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full text-center",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Un,{className:"h-12 w-12 text-red-500"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Accès refusé"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Vous n'avez pas les autorisations nécessaires pour accéder à cette page."}),a.jsx(me,{onClick:()=>r("/"),children:"Retour à l'accueil"})]})});const _=(S,C)=>{if(C==="Approuvée"||C==="Complétée"||C.startsWith("VIP"))return a.jsx(zhe,{className:"h-5 w-5 text-green-400"});if(C==="En attente KYC"||C==="En cours d'examen")return a.jsx(Jf,{className:"h-5 w-5 text-yellow-400"});switch(S){case"Immobilier":return a.jsx(Nv,{className:"h-5 w-5 text-blue-400"});case"Automobile":return a.jsx(Q_,{className:"h-5 w-5 text-red-400"});case"Services":return a.jsx(If,{className:"h-5 w-5 text-purple-400"});case"Marketplace":return a.jsx(Yf,{className:"h-5 w-5 text-yellow-400"});case"Utilisateur":return a.jsx(Oo,{className:"h-5 w-5 text-teal-400"});default:return a.jsx(e1,{className:"h-5 w-5 text-gray-400"})}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 text-gray-100 p-4 sm:p-8",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-10",children:[a.jsxs("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:["Tableau de Bord Administrateur ",a.jsx("span",{className:"gradient-text",children:"MaxiMarket"})]}),a.jsx("p",{className:"text-md sm:text-lg text-slate-400",children:"Vue d'ensemble et gestion de la marketplace."})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-10",children:u.map((S,C)=>a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:C*.1},className:`bg-slate-800 p-5 rounded-xl shadow-lg border border-slate-700 hover:border-${S.color}-500 transition-colors`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("h2",{className:"text-md font-semibold text-slate-300",children:S.title}),S.icon]}),l?a.jsx("div",{className:"flex items-center justify-center h-12",children:a.jsx(Qr,{className:"h-6 w-6 animate-spin text-gray-400"})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-2xl sm:text-3xl font-bold mb-1",children:S.value}),a.jsxs("div",{className:"flex items-center text-xs text-slate-400",children:[a.jsx(Po,{className:`mr-1 h-4 w-4 text-${S.color}-400`}),S.trend]})]})]},S.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 sm:gap-8",children:[a.jsxs(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"lg:col-span-1 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Actions Rapides"}),a.jsx("div",{className:"space-y-3",children:v.map(S=>a.jsxs("a",{href:S.link,className:`w-full flex items-center justify-start p-3 bg-${S.color}-600/10 hover:bg-${S.color}-600/20 text-${S.color}-300 rounded-lg transition-colors`,children:[S.icon," ",S.label]},S.label))})]}),a.jsxs(ze.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.5,delay:.5},className:"lg:col-span-2 bg-slate-800 p-6 rounded-xl shadow-lg border border-slate-700",children:[a.jsx("h2",{className:"text-xl font-semibold mb-6",children:"Activité Récente"}),a.jsx("div",{className:"space-y-4 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:l?a.jsx("div",{className:"flex items-center justify-center h-40",children:a.jsx(Qr,{className:"h-8 w-8 animate-spin text-blue-400"})}):f.length>0?f.map(S=>a.jsxs("div",{className:"flex items-start p-3 bg-slate-700/50 rounded-lg",children:[a.jsx("div",{className:`p-2 bg-${S.status==="Approuvée"||S.status==="Complétée"||S.status.startsWith("VIP")?"green":S.status==="En attente KYC"||S.status==="En cours d'examen"?"yellow":"slate"}-600/30 rounded-full mr-3`,children:_(S.category,S.status)}),a.jsxs("div",{className:"flex-grow",children:[a.jsxs("p",{className:"font-medium text-slate-200 text-sm",children:[a.jsxs("span",{className:"font-bold",children:[S.type,":"]})," ",S.item,S.value&&a.jsxs("span",{className:"text-green-400",children:[" (",S.value,")"]})]}),a.jsxs("p",{className:"text-xs text-slate-400",children:[S.timestamp?x(S.timestamp):"Récemment"," - ",a.jsx("span",{className:`font-semibold text-${S.status==="read"?"green":"yellow"}-400`,children:S.status==="read"?"Lu":"Non lu"})]})]})]},S.id)):a.jsx("div",{className:"text-center py-8 text-slate-400",children:l?"Chargement des activités...":"Aucune activité récente à afficher"})})]})]})]})},ATe={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},TTe=(t,e,r)=>{let n;const i=ATe[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",String(e)),r?.addSuffix?r.comparison&&r.comparison>0?"dans "+n:"il y a "+n:n},OTe={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},RTe={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},MTe={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},ITe={date:jp({formats:OTe,defaultWidth:"full"}),time:jp({formats:RTe,defaultWidth:"full"}),dateTime:jp({formats:MTe,defaultWidth:"full"})},LTe={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},DTe=(t,e,r,n)=>LTe[t],$Te={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},FTe={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},BTe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},zTe={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},qTe={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},UTe=(t,e)=>{const r=Number(t),n=e?.unit;if(r===0)return"0";const i=["year","week","hour","minute","second"];let s;return r===1?s=n&&i.includes(n)?"ère":"er":s="ème",r+s},VTe=["MMM","MMMM"],WTe={preprocessor:(t,e)=>t.getDate()===1||!e.some(n=>n.isToken&&VTe.includes(n.value))?e:e.map(n=>n.isToken&&n.value==="do"?{isToken:!0,value:"d"}:n),ordinalNumber:UTe,era:ol({values:$Te,defaultWidth:"wide"}),quarter:ol({values:FTe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:ol({values:BTe,defaultWidth:"wide"}),day:ol({values:zTe,defaultWidth:"wide"}),dayPeriod:ol({values:qTe,defaultWidth:"wide"})},HTe=/^(\d+)(ième|ère|ème|er|e)?/i,KTe=/\d+/i,GTe={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},ZTe={any:[/^av/i,/^ap/i]},YTe={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},XTe={any:[/1/i,/2/i,/3/i,/4/i]},JTe={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},QTe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},eOe={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},tOe={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},rOe={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},nOe={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},iOe={ordinalNumber:HH({matchPattern:HTe,parsePattern:KTe,valueCallback:t=>parseInt(t)}),era:ll({matchPatterns:GTe,defaultMatchWidth:"wide",parsePatterns:ZTe,defaultParseWidth:"any"}),quarter:ll({matchPatterns:YTe,defaultMatchWidth:"wide",parsePatterns:XTe,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ll({matchPatterns:JTe,defaultMatchWidth:"wide",parsePatterns:QTe,defaultParseWidth:"any"}),day:ll({matchPatterns:eOe,defaultMatchWidth:"wide",parsePatterns:tOe,defaultParseWidth:"any"}),dayPeriod:ll({matchPatterns:rOe,defaultMatchWidth:"any",parsePatterns:nOe,defaultParseWidth:"any"})},Hm={code:"fr",formatDistance:TTe,formatLong:ITe,formatRelative:DTe,localize:WTe,match:iOe,options:{weekStartsOn:1,firstWeekContainsDate:4}};function sOe(){const{toast:t}=dn(),e=Tl(),[r,n]=b.useState(""),[i,s]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState("created_at"),[d,f]=b.useState("desc"),[g,v]=b.useState(1),[y,x]=b.useState(10),{data:_,isLoading:S,isError:C}=Ni({queryKey:["adminUsers",{searchTerm:r,statusFilter:i,roleFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>await ko.getAllUsers()}),N=$i({mutationFn:({userId:q,status:F})=>ko.updateUserStatus(q,F),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Statut utilisateur mis à jour avec succès"})},onError:q=>{t({title:"Erreur",description:q.message||"Une erreur est survenue",variant:"destructive"})}}),A=$i({mutationFn:q=>ko.updateUserStatus(q,"deleted"),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Utilisateur supprimé avec succès"})},onError:q=>{t({title:"Erreur",description:q.message||"Une erreur est survenue lors de la suppression",variant:"destructive"})}}),E=$i({mutationFn:({userId:q,role:F})=>ko.updateUserRole(q,F),onSuccess:()=>{e.invalidateQueries(["adminUsers"]),t({title:"Succès",description:"Rôle utilisateur mis à jour avec succès"})},onError:q=>{t({title:"Erreur",description:q.message||"Une erreur est survenue",variant:"destructive"})}}),k=(q,F)=>{N.mutate({userId:q,status:F})},O=(q,F)=>{E.mutate({userId:q,role:F})},I=q=>{window.confirm("Êtes-vous sûr de vouloir supprimer cet utilisateur ? Cette action est irréversible.")&&A.mutate(q)},z=()=>{try{if(!_||_.length===0){t({title:"Aucune donnée",description:"Aucun utilisateur à exporter",variant:"destructive"});return}r1.users(_,"utilisateurs-maximarket"),t({title:"Export réussi",description:"Liste des utilisateurs exportée en CSV"})}catch(q){t({title:"Erreur d'export",description:q.message||"Impossible d'exporter les données",variant:"destructive"})}},W=()=>{t({title:"Fonctionnalité à venir",description:"La création d'utilisateur sera bientôt disponible"})},V=q=>{n(q.target.value),v(1)};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les utilisateurs de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(me,{onClick:()=>z(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(me,{onClick:W,children:[a.jsx(Dc,{className:"mr-2 h-4 w-4"}),"Nouvel Utilisateur"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:V,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(ki,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{type:"search",placeholder:"Rechercher un utilisateur...",className:"pl-8",value:r,onChange:q=>n(q.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(tn,{value:i,onValueChange:s,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les statuts"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les statuts"}),a.jsx(nt,{value:"active",children:"Actif"}),a.jsx(nt,{value:"inactive",children:"Inactif"}),a.jsx(nt,{value:"suspended",children:"Suspendu"}),a.jsx(nt,{value:"pending",children:"En attente"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rôle"}),a.jsxs(tn,{value:o,onValueChange:l,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les rôles"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les rôles"}),a.jsx(nt,{value:"user",children:"Utilisateur"}),a.jsx(nt,{value:"vendor",children:"Vendeur"}),a.jsx(nt,{value:"admin",children:"Administrateur"}),a.jsx(nt,{value:"moderator",children:"Modérateur"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(tn,{value:c,onValueChange:u,children:[a.jsx(Xr,{className:"w-full",children:a.jsx(rn,{placeholder:"Trier par"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"createdAt",children:"Date d'inscription"}),a.jsx(nt,{value:"name",children:"Nom"}),a.jsx(nt,{value:"email",children:"Email"}),a.jsx(nt,{value:"lastLogin",children:"Dernière connexion"})]})]}),a.jsx(me,{type:"button",variant:"outline",size:"icon",onClick:()=>f(d==="asc"?"desc":"asc"),children:d==="asc"?a.jsx(Ef,{className:"h-4 w-4"}):a.jsx(Cc,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(me,{type:"submit",variant:"outline",children:[a.jsx(Us,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(me,{type:"button",variant:"outline",children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(zm,{children:[a.jsx(qm,{children:a.jsxs(kn,{children:[a.jsx(kr,{children:"Utilisateur"}),a.jsx(kr,{children:"Email"}),a.jsx(kr,{children:"Rôle"}),a.jsx(kr,{children:"Statut"}),a.jsx(kr,{children:"Inscrit le"}),a.jsx(kr,{className:"text-right",children:"Actions"})]})}),a.jsx(Um,{children:S?a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):C?a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des utilisateurs"})}):_?.length>0?_.slice((g-1)*y,g*y).map(q=>a.jsxs(kn,{children:[a.jsx(Zt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:q.first_name?.charAt(0)||q.last_name?.charAt(0)||"U"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:q.first_name&&q.last_name?`${q.first_name} ${q.last_name}`:q.first_name||q.last_name||"Utilisateur sans nom"}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["ID: ",q.id?.substring(0,6),"..."]})]})]})}),a.jsx(Zt,{children:q.email}),a.jsx(Zt,{children:a.jsxs(tn,{value:q.role,onValueChange:F=>O(q.id,F),disabled:E.isLoading,children:[a.jsx(Xr,{className:"w-[120px]",children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"user",children:"Utilisateur"}),a.jsx(nt,{value:"vendor",children:"Vendeur"}),a.jsx(nt,{value:"moderator",children:"Modérateur"}),a.jsx(nt,{value:"admin",children:"Administrateur"})]})]})}),a.jsx(Zt,{children:a.jsx(Et,{variant:q.status==="active"?"default":q.status==="suspended"?"destructive":"outline",className:"capitalize",children:q.status==="active"?"Actif":q.status==="suspended"?"Suspendu":q.status==="pending"?"En attente":"Inactif"})}),a.jsx(Zt,{children:q.created_at?Zr(new Date(q.created_at),"PP",{locale:Hm}):"N/A"}),a.jsx(Zt,{className:"text-right",children:a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsxs(me,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Zf,{className:"h-4 w-4"})]})}),a.jsxs(Kc,{align:"end",children:[a.jsxs(Dr,{children:[a.jsx(Lc,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Envoyer un message"})]}),a.jsx(Dr,{onClick:()=>k(q.id,q.status==="active"?"suspended":"active"),disabled:N.isLoading,children:q.status==="active"?a.jsxs(a.Fragment,{children:[a.jsx(epe,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Suspendre"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Qhe,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Activer"})]})}),a.jsx(Im,{}),a.jsxs(Dr,{className:"text-destructive",onClick:()=>I(q.id),disabled:A.isLoading,children:[a.jsx(Mo,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},q.id)):a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"h-24 text-center",children:"Aucun utilisateur trouvé"})})})]})}),_&&_.length>y&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*y+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*y,_.length)})," ","sur ",a.jsx("span",{className:"font-medium",children:_.length})," utilisateurs"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(tn,{value:`${y}`,onValueChange:q=>{x(Number(q)),v(1)},children:[a.jsx(Xr,{className:"h-8 w-[70px]",children:a.jsx(rn,{placeholder:y})}),a.jsx(Jr,{side:"top",children:[5,10,20,30,40,50].map(q=>a.jsx(nt,{value:`${q}`,children:q},q))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(_.length/y)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(Yy,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ga,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(_.length/y),g+1)),disabled:g===Math.ceil(_.length/y),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Za,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(_.length/y)),disabled:g===Math.ceil(_.length/y),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(Xy,{className:"h-4 w-4"})]})]})]})]})]})}function aOe(){const{toast:t}=dn(),e=Tl(),[r,n]=b.useState(""),[i,s]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState("created_at"),[d,f]=b.useState("desc"),[g,v]=b.useState(1),[y,x]=b.useState(10),{data:_,isLoading:S,isError:C}=Ni({queryKey:["adminListings",{searchTerm:r,statusFilter:i,categoryFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>{const K={};return r&&(K.search=r),i!=="all"&&(K.status=i),o!=="all"&&(K.category=o),await en.getAllListings(K)}}),N=_?.data||[],A=_?.count||0;_?.hasMore;const{data:E}=Ni({queryKey:["categories"],queryFn:()=>ov.getAllCategories()}),k=$i({mutationFn:K=>en.updateListingStatus(K,"approved"),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce approuvée avec succès"})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors de l'approbation",variant:"destructive"})}}),O=$i({mutationFn:K=>en.updateListingStatus(K,"rejected"),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce rejetée avec succès"})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors du rejet",variant:"destructive"})}}),I=$i({mutationFn:K=>en.deleteListing(K),onSuccess:()=>{e.invalidateQueries(["adminListings"]),t({title:"Succès",description:"Annonce supprimée avec succès"})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors de la suppression",variant:"destructive"})}}),z=$i({mutationFn:({listingId:K,featured:te})=>en.updateListing(K,{featured:te}),onSuccess:(K,te)=>{e.invalidateQueries(["adminListings"]);const Z=te.featured?"mise en avant":"retirée de l'avant";t({title:"Succès",description:`Annonce ${Z} avec succès`})},onError:K=>{t({title:"Erreur",description:K.message||"Erreur lors de la mise à jour",variant:"destructive"})}}),W=K=>{k.mutate(K)},V=K=>{O.mutate(K)},q=K=>{window.confirm("Êtes-vous sûr de vouloir supprimer cette annonce ?")&&I.mutate(K)},F=(K,te)=>{z.mutate({listingId:K,featured:te})},H=K=>{K.preventDefault(),v(1)},Q=K=>{n(K.target.value),v(1)},oe=()=>{try{if(!N||N.length===0){t({title:"Aucune donnée",description:"Aucune annonce à exporter",variant:"destructive"});return}r1.listings(N,"annonces-maximarket"),t({title:"Export réussi",description:"Liste des annonces exportée en CSV"})}catch(K){t({title:"Erreur d'export",description:K.message||"Impossible d'exporter les données",variant:"destructive"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Gestion des Annonces"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et modérez les annonces de la plateforme"})]}),a.jsxs("div",{className:"mt-4 md:mt-0 flex gap-2",children:[a.jsxs(me,{onClick:()=>oe(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsx(me,{asChild:!0,children:a.jsxs(fr,{to:"/creer-annonce",children:[a.jsx(Dc,{className:"mr-2 h-4 w-4"}),"Nouvelle Annonce"]})})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("form",{onSubmit:H,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(ki,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{type:"search",placeholder:"Rechercher une annonce...",className:"pl-8",value:r,onChange:Q})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(tn,{value:i,onValueChange:s,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les statuts"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les statuts"}),a.jsx(nt,{value:"pending",children:"En attente"}),a.jsx(nt,{value:"approved",children:"Approuvé"}),a.jsx(nt,{value:"rejected",children:"Rejeté"}),a.jsx(nt,{value:"expired",children:"Expiré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Catégorie"}),a.jsxs(tn,{value:o,onValueChange:l,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Toutes les catégories"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Toutes les catégories"}),a.jsx(nt,{value:"real_estate",children:"Immobilier"}),a.jsx(nt,{value:"automobile",children:"Automobile"}),a.jsx(nt,{value:"services",children:"Services"}),a.jsx(nt,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(tn,{value:c,onValueChange:u,children:[a.jsx(Xr,{className:"w-full",children:a.jsx(rn,{placeholder:"Trier par"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"created_at",children:"Date de création"}),a.jsx(nt,{value:"title",children:"Titre"}),a.jsx(nt,{value:"price",children:"Prix"}),a.jsx(nt,{value:"views",children:"Vues"})]})]}),a.jsx(me,{type:"button",variant:"outline",size:"icon",onClick:()=>f(d==="asc"?"desc":"asc"),children:d==="asc"?a.jsx(Ef,{className:"h-4 w-4"}):a.jsx(Cc,{className:"h-4 w-4"})})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end space-x-2",children:[a.jsxs(me,{type:"submit",variant:"outline",children:[a.jsx(Us,{className:"mr-2 h-4 w-4"}),"Appliquer les filtres"]}),a.jsxs(me,{type:"button",variant:"outline",onClick:()=>oe(),children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(zm,{children:[a.jsx(qm,{children:a.jsxs(kn,{children:[a.jsx(kr,{children:"Annonce"}),a.jsx(kr,{children:"Catégorie"}),a.jsx(kr,{children:"Prix"}),a.jsx(kr,{children:"Statut"}),a.jsx(kr,{children:"Créé le"}),a.jsx(kr,{className:"text-right",children:"Actions"})]})}),a.jsx(Um,{children:S?a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"h-24 text-center",children:"Chargement..."})}):C?a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"h-24 text-center text-destructive",children:"Erreur lors du chargement des annonces"})}):N?.length>0?N.map(K=>a.jsxs(kn,{children:[a.jsx(Zt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"h-12 w-12 rounded-md bg-slate-100 flex items-center justify-center",children:K.images?.[0]?a.jsx("img",{src:K.images[0],alt:K.title,className:"h-12 w-12 rounded-md object-cover"}):a.jsx("div",{className:"text-slate-400",children:"📷"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:K.title}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:["Par ",K.users?.first_name&&K.users?.last_name?`${K.users.first_name} ${K.users.last_name}`:K.users?.first_name||K.users?.last_name||"Utilisateur"]})]})]})}),a.jsx(Zt,{children:a.jsx(Et,{variant:"outline",className:"capitalize",children:K.category==="real_estate"?"Immobilier":K.category==="automobile"?"Automobile":K.category==="services"?"Services":K.category==="marketplace"?"Marketplace":"Général"})}),a.jsx(Zt,{children:K.price?`${K.price.toLocaleString()} FCFA`:"N/A"}),a.jsx(Zt,{children:a.jsx(Et,{variant:K.status==="approved"?"default":K.status==="rejected"?"destructive":"outline",className:"capitalize",children:K.status==="pending"?"En attente":K.status==="approved"?"Approuvé":K.status==="rejected"?"Rejeté":K.status==="expired"?"Expiré":K.status})}),a.jsx(Zt,{children:K.created_at?Zr(new Date(K.created_at),"PP",{locale:Hm}):"N/A"}),a.jsx(Zt,{className:"text-right",children:a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsxs(me,{variant:"ghost",className:"h-8 w-8 p-0",children:[a.jsx("span",{className:"sr-only",children:"Ouvrir le menu"}),a.jsx(Zf,{className:"h-4 w-4"})]})}),a.jsxs(Kc,{align:"end",children:[a.jsxs(Dr,{children:[a.jsx(Ic,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Voir les détails"})]}),K.status==="pending"&&a.jsxs(a.Fragment,{children:[a.jsxs(Dr,{onClick:()=>W(K.id),disabled:k.isLoading,children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),a.jsxs(Dr,{onClick:()=>V(K.id),disabled:O.isLoading,children:[a.jsx(nM,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Rejeter"})]})]}),K.status==="rejected"&&a.jsxs(Dr,{onClick:()=>W(K.id),disabled:k.isLoading,children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Approuver"})]}),K.status==="expired"&&a.jsxs(Dr,{onClick:()=>W(K.id),disabled:k.isLoading,children:[a.jsx(Fi,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Réactiver"})]}),a.jsx(Dr,{onClick:()=>F(K.id,!K.featured),disabled:z.isLoading,children:K.featured?a.jsxs(a.Fragment,{children:[a.jsx(Yhe,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Retirer la mise en avant"})]}):a.jsxs(a.Fragment,{children:[a.jsx(Ya,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Mettre en avant"})]})}),a.jsx(Im,{}),a.jsxs(Dr,{className:"text-destructive",onClick:()=>q(K.id),disabled:I.isLoading,children:[a.jsx(Mo,{className:"mr-2 h-4 w-4"}),a.jsx("span",{children:"Supprimer"})]})]})]})})]},K.id)):a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"h-24 text-center",children:"Aucune annonce trouvée"})})})]})}),A>y&&a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(g-1)*y+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(g*y,A)})," ","sur ",a.jsx("span",{className:"font-medium",children:A})," annonces"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(tn,{value:`${y}`,onValueChange:K=>{x(Number(K)),v(1)},children:[a.jsx(Xr,{className:"h-8 w-[70px]",children:a.jsx(rn,{placeholder:y})}),a.jsx(Jr,{side:"top",children:[5,10,20,30,40,50].map(K=>a.jsx(nt,{value:`${K}`,children:K},K))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",g," sur ",Math.ceil(A/y)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(1),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(Yy,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.max(1,g-1)),disabled:g===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ga,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.min(Math.ceil(A/y),g+1)),disabled:g===Math.ceil(A/y),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Za,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>v(Math.ceil(A/y)),disabled:g===Math.ceil(A/y),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(Xy,{className:"h-4 w-4"})]})]})]})]})]})}function oOe(){const[t,e]=b.useState(""),[r,n]=b.useState("all"),[i,s]=b.useState("all"),[o,l]=b.useState("created_at"),[c,u]=b.useState("desc"),[d,f]=b.useState(1),[g,v]=b.useState(10),{data:y,isLoading:x,isError:_}=Ni({queryKey:["adminTransactions",{searchTerm:t,statusFilter:r,typeFilter:i,sortBy:o,sortOrder:c,page:d,perPage:g}],queryFn:async()=>{const k={};return r!=="all"&&(k.status=r),i!=="all"&&(k.type=i),await bpe.getAllTransactions(k)}}),S=k=>{e(k.target.value),f(1)},C=(k,O="XOF")=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:O,minimumFractionDigits:0,maximumFractionDigits:0}).format(k),N=k=>{switch(k){case"completed":return a.jsxs(Et,{variant:"success",children:[a.jsx(Fi,{className:"mr-1 h-3 w-3"})," Complétée"]});case"pending":return a.jsxs(Et,{variant:"warning",children:[a.jsx(qs,{className:"mr-1 h-3 w-3"})," En attente"]});case"failed":return a.jsxs(Et,{variant:"destructive",children:[a.jsx(nM,{className:"mr-1 h-3 w-3"})," Échouée"]});case"refunded":return a.jsxs(Et,{variant:"outline",children:[a.jsx(Cv,{className:"mr-1 h-3 w-3"})," Remboursée"]});default:return a.jsx(Et,{variant:"outline",children:k})}},A=k=>{switch(k){case"purchase":return a.jsx(Et,{variant:"default",children:"Achat"});case"subscription":return a.jsx(Et,{variant:"secondary",children:"Abonnement"});case"refund":return a.jsx(Et,{variant:"outline",children:"Remboursement"});default:return a.jsx(Et,{variant:"outline",children:k})}},E=y?{totalRevenue:y.filter(k=>k.status==="completed").reduce((k,O)=>k+(O.amount||0),0),totalTransactions:y.length,successRate:y.length>0?Math.round(y.filter(k=>k.status==="completed").length/y.length*100):0,averageOrderValue:y.filter(k=>k.status==="completed").length>0?y.filter(k=>k.status==="completed").reduce((k,O)=>k+(O.amount||0),0)/y.filter(k=>k.status==="completed").length:0}:{totalRevenue:0,totalTransactions:0,successRate:0,averageOrderValue:0};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Transactions"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez et surveillez toutes les transactions de la plateforme"})]}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs(me,{variant:"outline",size:"sm",children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter"]})})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(zp,{className:"h-6 w-6 text-green-600 dark:text-green-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Chiffre d'affaires total"}),a.jsx("p",{className:"text-2xl font-bold",children:C(E.totalRevenue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 12% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Cv,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Transactions"}),a.jsx("p",{className:"text-2xl font-bold",children:E.totalTransactions})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 8% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Fi,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de réussite"}),a.jsxs("p",{className:"text-2xl font-bold",children:[E.successRate,"%"]})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 2% "}),"vs période précédente"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-full bg-purple-100 p-3 dark:bg-purple-900/50",children:a.jsx(Un,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Valeur moyenne"}),a.jsx("p",{className:"text-2xl font-bold",children:C(E.averageOrderValue)})]})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsx("span",{className:"text-green-600 dark:text-green-400",children:"↑ 5% "}),"vs période précédente"]})]})]}),a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsx("form",{onSubmit:k=>{k.preventDefault(),f(1)},className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Rechercher"}),a.jsxs("div",{className:"relative",children:[a.jsx(ki,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{placeholder:"Rechercher une transaction...",className:"pl-8",value:t,onChange:S})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(tn,{value:r,onValueChange:n,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les statuts"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les statuts"}),a.jsx(nt,{value:"pending",children:"En attente"}),a.jsx(nt,{value:"completed",children:"Complétée"}),a.jsx(nt,{value:"failed",children:"Échouée"}),a.jsx(nt,{value:"refunded",children:"Remboursée"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),a.jsxs(tn,{value:i,onValueChange:s,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les types"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les types"}),a.jsx(nt,{value:"purchase",children:"Achats"}),a.jsx(nt,{value:"subscription",children:"Abonnements"}),a.jsx(nt,{value:"refund",children:"Remboursements"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Trier par"}),a.jsxs(tn,{value:o,onValueChange:l,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Trier par"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"created_at",children:"Date"}),a.jsx(nt,{value:"amount",children:"Montant"}),a.jsx(nt,{value:"reference",children:"Référence"})]})]})]})]})})}),a.jsx("div",{className:"rounded-md border",children:a.jsxs(zm,{children:[a.jsx(qm,{children:a.jsxs(kn,{children:[a.jsx(kr,{children:"Référence"}),a.jsx(kr,{children:"Utilisateur"}),a.jsx(kr,{children:"Montant"}),a.jsx(kr,{children:"Type"}),a.jsx(kr,{children:"Statut"}),a.jsx(kr,{children:"Date"}),a.jsx(kr,{className:"text-right",children:"Actions"})]})}),a.jsx(Um,{children:x?a.jsx(kn,{children:a.jsx(Zt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement des transactions..."})]})})}):_?a.jsx(kn,{children:a.jsx(Zt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-destructive",children:[a.jsx(Un,{className:"mr-2 h-4 w-4"}),"Erreur lors du chargement des transactions"]})})}):y?.length===0?a.jsx(kn,{children:a.jsx(Zt,{colSpan:7,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(Cv,{className:"h-12 w-12 text-muted-foreground mb-4"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucune transaction trouvée"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les transactions apparaîtront ici une fois qu'elles seront créées."})]})})}):y?.map(k=>a.jsxs(kn,{children:[a.jsx(Zt,{className:"font-medium",children:k.payment_reference||k.id.slice(0,8)}),a.jsx(Zt,{children:a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[k.users?.first_name," ",k.users?.last_name]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:k.users?.email})]})}),a.jsx(Zt,{className:"font-medium",children:C(k.amount,k.currency)}),a.jsx(Zt,{children:A(k.type)}),a.jsx(Zt,{children:N(k.status)}),a.jsx(Zt,{children:k.created_at?Zr(new Date(k.created_at),"PP",{locale:Hm}):"N/A"}),a.jsx(Zt,{className:"text-right",children:a.jsx(me,{variant:"ghost",size:"sm",children:a.jsx(Zf,{className:"h-4 w-4"})})})]},k.id))})]})}),a.jsxs("div",{className:"flex items-center justify-between px-2",children:[a.jsxs("div",{className:"flex-1 text-sm text-muted-foreground",children:["Affichage de ",a.jsx("span",{className:"font-medium",children:(d-1)*g+1})," à"," ",a.jsx("span",{className:"font-medium",children:Math.min(d*g,y?.length||0)})," ","sur ",a.jsx("span",{className:"font-medium",children:y?.length||0})," transactions"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-sm font-medium",children:"Lignes par page"}),a.jsxs(tn,{value:`${g}`,onValueChange:k=>{v(Number(k)),f(1)},children:[a.jsx(Xr,{className:"h-8 w-[70px]",children:a.jsx(rn,{placeholder:g})}),a.jsx(Jr,{side:"top",children:[5,10,20,30,40,50].map(k=>a.jsx(nt,{value:`${k}`,children:k},k))})]})]}),a.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",d," sur ",Math.ceil((y?.length||0)/g)]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(1),disabled:d===1,children:[a.jsx("span",{className:"sr-only",children:"Aller à la première page"}),a.jsx(Yy,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(Math.max(1,d-1)),disabled:d===1,children:[a.jsx("span",{className:"sr-only",children:"Page précédente"}),a.jsx(Ga,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(Math.min(Math.ceil((y?.length||0)/g),d+1)),disabled:d===Math.ceil((y?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Page suivante"}),a.jsx(Za,{className:"h-4 w-4"})]}),a.jsxs(me,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>f(Math.ceil((y?.length||0)/g)),disabled:d===Math.ceil((y?.length||0)/g),children:[a.jsx("span",{className:"sr-only",children:"Aller à la dernière page"}),a.jsx(Xy,{className:"h-4 w-4"})]})]})]})]})]})}var VN,JB;function Ks(){if(JB)return VN;JB=1;var t=Array.isArray;return VN=t,VN}var WN,QB;function ete(){if(QB)return WN;QB=1;var t=typeof $s=="object"&&$s&&$s.Object===Object&&$s;return WN=t,WN}var HN,e6;function Rl(){if(e6)return HN;e6=1;var t=ete(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return HN=r,HN}var KN,t6;function jx(){if(t6)return KN;t6=1;var t=Rl(),e=t.Symbol;return KN=e,KN}var GN,r6;function lOe(){if(r6)return GN;r6=1;var t=jx(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function s(o){var l=r.call(o,i),c=o[i];try{o[i]=void 0;var u=!0}catch{}var d=n.call(o);return u&&(l?o[i]=c:delete o[i]),d}return GN=s,GN}var ZN,n6;function cOe(){if(n6)return ZN;n6=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return ZN=r,ZN}var YN,i6;function Yc(){if(i6)return YN;i6=1;var t=jx(),e=lOe(),r=cOe(),n="[object Null]",i="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?i:n:s&&s in Object(l)?e(l):r(l)}return YN=o,YN}var XN,s6;function Xc(){if(s6)return XN;s6=1;function t(e){return e!=null&&typeof e=="object"}return XN=t,XN}var JN,a6;function Km(){if(a6)return JN;a6=1;var t=Yc(),e=Xc(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return JN=n,JN}var QN,o6;function BI(){if(o6)return QN;o6=1;var t=Ks(),e=Km(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return QN=i,QN}var eE,l6;function Nd(){if(l6)return eE;l6=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return eE=t,eE}var tE,c6;function zI(){if(c6)return tE;c6=1;var t=Yc(),e=Nd(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==i||c==r||c==s}return tE=o,tE}var rE,u6;function uOe(){if(u6)return rE;u6=1;var t=Rl(),e=t["__core-js_shared__"];return rE=e,rE}var nE,d6;function dOe(){if(d6)return nE;d6=1;var t=uOe(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return nE=r,nE}var iE,f6;function tte(){if(f6)return iE;f6=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return iE=r,iE}var sE,h6;function fOe(){if(h6)return sE;h6=1;var t=zI(),e=dOe(),r=Nd(),n=tte(),i=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,d=RegExp("^"+c.call(u).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(g){if(!r(g)||e(g))return!1;var v=t(g)?d:s;return v.test(n(g))}return sE=f,sE}var aE,p6;function hOe(){if(p6)return aE;p6=1;function t(e,r){return e?.[r]}return aE=t,aE}var oE,m6;function sh(){if(m6)return oE;m6=1;var t=fOe(),e=hOe();function r(n,i){var s=e(n,i);return t(s)?s:void 0}return oE=r,oE}var lE,g6;function z1(){if(g6)return lE;g6=1;var t=sh(),e=t(Object,"create");return lE=e,lE}var cE,v6;function pOe(){if(v6)return cE;v6=1;var t=z1();function e(){this.__data__=t?t(null):{},this.size=0}return cE=e,cE}var uE,y6;function mOe(){if(y6)return uE;y6=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return uE=t,uE}var dE,x6;function gOe(){if(x6)return dE;x6=1;var t=z1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return dE=i,dE}var fE,b6;function vOe(){if(b6)return fE;b6=1;var t=z1(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var s=this.__data__;return t?s[i]!==void 0:r.call(s,i)}return fE=n,fE}var hE,w6;function yOe(){if(w6)return hE;w6=1;var t=z1(),e="__lodash_hash_undefined__";function r(n,i){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&i===void 0?e:i,this}return hE=r,hE}var pE,_6;function xOe(){if(_6)return pE;_6=1;var t=pOe(),e=mOe(),r=gOe(),n=vOe(),i=yOe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,pE=s,pE}var mE,S6;function bOe(){if(S6)return mE;S6=1;function t(){this.__data__=[],this.size=0}return mE=t,mE}var gE,j6;function qI(){if(j6)return gE;j6=1;function t(e,r){return e===r||e!==e&&r!==r}return gE=t,gE}var vE,C6;function q1(){if(C6)return vE;C6=1;var t=qI();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return vE=e,vE}var yE,N6;function wOe(){if(N6)return yE;N6=1;var t=q1(),e=Array.prototype,r=e.splice;function n(i){var s=this.__data__,o=t(s,i);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return yE=n,yE}var xE,E6;function _Oe(){if(E6)return xE;E6=1;var t=q1();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return xE=e,xE}var bE,P6;function SOe(){if(P6)return bE;P6=1;var t=q1();function e(r){return t(this.__data__,r)>-1}return bE=e,bE}var wE,k6;function jOe(){if(k6)return wE;k6=1;var t=q1();function e(r,n){var i=this.__data__,s=t(i,r);return s<0?(++this.size,i.push([r,n])):i[s][1]=n,this}return wE=e,wE}var _E,A6;function U1(){if(A6)return _E;A6=1;var t=bOe(),e=wOe(),r=_Oe(),n=SOe(),i=jOe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,_E=s,_E}var SE,T6;function UI(){if(T6)return SE;T6=1;var t=sh(),e=Rl(),r=t(e,"Map");return SE=r,SE}var jE,O6;function COe(){if(O6)return jE;O6=1;var t=xOe(),e=U1(),r=UI();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return jE=n,jE}var CE,R6;function NOe(){if(R6)return CE;R6=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return CE=t,CE}var NE,M6;function V1(){if(M6)return NE;M6=1;var t=NOe();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return NE=e,NE}var EE,I6;function EOe(){if(I6)return EE;I6=1;var t=V1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return EE=e,EE}var PE,L6;function POe(){if(L6)return PE;L6=1;var t=V1();function e(r){return t(this,r).get(r)}return PE=e,PE}var kE,D6;function kOe(){if(D6)return kE;D6=1;var t=V1();function e(r){return t(this,r).has(r)}return kE=e,kE}var AE,$6;function AOe(){if($6)return AE;$6=1;var t=V1();function e(r,n){var i=t(this,r),s=i.size;return i.set(r,n),this.size+=i.size==s?0:1,this}return AE=e,AE}var TE,F6;function VI(){if(F6)return TE;F6=1;var t=COe(),e=EOe(),r=POe(),n=kOe(),i=AOe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=i,TE=s,TE}var OE,B6;function rte(){if(B6)return OE;B6=1;var t=VI(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var s=function(){var o=arguments,l=i?i.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,OE=r,OE}var RE,z6;function TOe(){if(z6)return RE;z6=1;var t=rte(),e=500;function r(n){var i=t(n,function(o){return s.size===e&&s.clear(),o}),s=i.cache;return i}return RE=r,RE}var ME,q6;function OOe(){if(q6)return ME;q6=1;var t=TOe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var s=[];return i.charCodeAt(0)===46&&s.push(""),i.replace(e,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return ME=n,ME}var IE,U6;function WI(){if(U6)return IE;U6=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=Array(i);++n<i;)s[n]=r(e[n],n,e);return s}return IE=t,IE}var LE,V6;function ROe(){if(V6)return LE;V6=1;var t=jx(),e=WI(),r=Ks(),n=Km(),i=t?t.prototype:void 0,s=i?i.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return LE=o,LE}var DE,W6;function nte(){if(W6)return DE;W6=1;var t=ROe();function e(r){return r==null?"":t(r)}return DE=e,DE}var $E,H6;function ite(){if(H6)return $E;H6=1;var t=Ks(),e=BI(),r=OOe(),n=nte();function i(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return $E=i,$E}var FE,K6;function W1(){if(K6)return FE;K6=1;var t=Km();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return FE=e,FE}var BE,G6;function HI(){if(G6)return BE;G6=1;var t=ite(),e=W1();function r(n,i){i=t(i,n);for(var s=0,o=i.length;n!=null&&s<o;)n=n[e(i[s++])];return s&&s==o?n:void 0}return BE=r,BE}var zE,Z6;function ste(){if(Z6)return zE;Z6=1;var t=HI();function e(r,n,i){var s=r==null?void 0:t(r,n);return s===void 0?i:s}return zE=e,zE}var MOe=ste();const ma=Nr(MOe);var qE,Y6;function IOe(){if(Y6)return qE;Y6=1;function t(e){return e==null}return qE=t,qE}var LOe=IOe();const Qt=Nr(LOe);var UE,X6;function DOe(){if(X6)return UE;X6=1;var t=Yc(),e=Ks(),r=Xc(),n="[object String]";function i(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return UE=i,UE}var $Oe=DOe();const Uf=Nr($Oe);var FOe=zI();const Yt=Nr(FOe);var BOe=Nd();const Gm=Nr(BOe);var VE={exports:{}},Fr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J6;function zOe(){if(J6)return Fr;J6=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),v=Symbol.for("react.offscreen"),y;y=Symbol.for("react.module.reference");function x(_){if(typeof _=="object"&&_!==null){var S=_.$$typeof;switch(S){case t:switch(_=_.type,_){case r:case i:case n:case u:case d:return _;default:switch(_=_&&_.$$typeof,_){case l:case o:case c:case g:case f:case s:return _;default:return S}}case e:return S}}}return Fr.ContextConsumer=o,Fr.ContextProvider=s,Fr.Element=t,Fr.ForwardRef=c,Fr.Fragment=r,Fr.Lazy=g,Fr.Memo=f,Fr.Portal=e,Fr.Profiler=i,Fr.StrictMode=n,Fr.Suspense=u,Fr.SuspenseList=d,Fr.isAsyncMode=function(){return!1},Fr.isConcurrentMode=function(){return!1},Fr.isContextConsumer=function(_){return x(_)===o},Fr.isContextProvider=function(_){return x(_)===s},Fr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===t},Fr.isForwardRef=function(_){return x(_)===c},Fr.isFragment=function(_){return x(_)===r},Fr.isLazy=function(_){return x(_)===g},Fr.isMemo=function(_){return x(_)===f},Fr.isPortal=function(_){return x(_)===e},Fr.isProfiler=function(_){return x(_)===i},Fr.isStrictMode=function(_){return x(_)===n},Fr.isSuspense=function(_){return x(_)===u},Fr.isSuspenseList=function(_){return x(_)===d},Fr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===i||_===n||_===u||_===d||_===v||typeof _=="object"&&_!==null&&(_.$$typeof===g||_.$$typeof===f||_.$$typeof===s||_.$$typeof===o||_.$$typeof===c||_.$$typeof===y||_.getModuleId!==void 0)},Fr.typeOf=x,Fr}var Q6;function qOe(){return Q6||(Q6=1,VE.exports=zOe()),VE.exports}var UOe=qOe(),WE,ez;function ate(){if(ez)return WE;ez=1;var t=Yc(),e=Xc(),r="[object Number]";function n(i){return typeof i=="number"||e(i)&&t(i)==r}return WE=n,WE}var HE,tz;function VOe(){if(tz)return HE;tz=1;var t=ate();function e(r){return t(r)&&r!=+r}return HE=e,HE}var WOe=VOe();const Cx=Nr(WOe);var HOe=ate();const KOe=Nr(HOe);var vs=function(e){return e===0?0:e>0?1:-1},xf=function(e){return Uf(e)&&e.indexOf("%")===e.length-1},ut=function(e){return KOe(e)&&!Cx(e)},GOe=function(e){return Qt(e)},mi=function(e){return ut(e)||Uf(e)},ZOe=0,Zm=function(e){var r=++ZOe;return"".concat(e||"").concat(r)},Ao=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ut(e)&&!Uf(e))return n;var s;if(xf(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Cx(s)&&(s=n),i&&s>r&&(s=r),s},Qu=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},YOe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},i=0;i<r;i++)if(!n[e[i]])n[e[i]]=!0;else return!0;return!1},da=function(e,r){return ut(e)&&ut(r)?function(n){return e+n*(r-e)}:function(){return r}};function zw(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):ma(n,e))===r})}var XOe=function(e,r){return ut(e)&&ut(r)?e-r:Uf(e)&&Uf(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Tp(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function qT(t){"@babel/helpers - typeof";return qT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qT(t)}var JOe=["viewBox","children"],QOe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],rz=["points","pathLength"],KE={svg:JOe,polygon:rz,polyline:rz},KI=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],qw=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!Gm(n))return null;var i={};return Object.keys(n).forEach(function(s){KI.includes(s)&&(i[s]=r||function(o){return n[s](n,o)})}),i},eRe=function(e,r,n){return function(i){return e(r,n,i),null}},ny=function(e,r,n){if(!Gm(e)||qT(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var o=e[s];KI.includes(s)&&typeof o=="function"&&(i||(i={}),i[s]=eRe(o,r,n))}),i},tRe=["children"],rRe=["children"];function nz(t,e){if(t==null)return{};var r=nRe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function nRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function UT(t){"@babel/helpers - typeof";return UT=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UT(t)}var iz={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ac=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},sz=null,GE=null,GI=function t(e){if(e===sz&&Array.isArray(GE))return GE;var r=[];return b.Children.forEach(e,function(n){Qt(n)||(UOe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),GE=r,sz=e,r};function ga(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(i){return Ac(i)}):n=[Ac(e)],GI(t).forEach(function(i){var s=ma(i,"type.displayName")||ma(i,"type.name");n.indexOf(s)!==-1&&r.push(i)}),r}function oa(t,e){var r=ga(t,e);return r&&r[0]}var az=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,i=r.height;return!(!ut(n)||n<=0||!ut(i)||i<=0)},iRe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],sRe=function(e){return e&&e.type&&Uf(e.type)&&iRe.indexOf(e.type)>=0},aRe=function(e){return e&&UT(e)==="object"&&"clipDot"in e},oRe=function(e,r,n,i){var s,o=(s=KE?.[i])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Yt(e)&&(i&&o.includes(r)||QOe.includes(r))||n&&KI.includes(r)},ur=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(b.isValidElement(e)&&(i=e.props),!Gm(i))return null;var s={};return Object.keys(i).forEach(function(o){var l;oRe((l=i)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=i[o])}),s},VT=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return oz(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var i=0;i<n;i++){var s=e[i],o=r[i];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!oz(s,o))return!1}return!0},oz=function(e,r){if(Qt(e)&&Qt(r))return!0;if(!Qt(e)&&!Qt(r)){var n=e.props||{},i=n.children,s=nz(n,tRe),o=r.props||{},l=o.children,c=nz(o,rRe);return i&&l?Tp(s,c)&&VT(i,l):!i&&!l?Tp(s,c):!1}return!1},lz=function(e,r){var n=[],i={};return GI(e).forEach(function(s,o){if(sRe(s))n.push(s);else if(s){var l=Ac(s.type),c=r[l]||{},u=c.handler,d=c.once;if(u&&(!d||!i[l])){var f=u(s,l,o);n.push(f),i[l]=!0}}}),n},lRe=function(e){var r=e&&e.type;return r&&iz[r]?iz[r]:null},cRe=function(e,r){return GI(r).indexOf(e)},uRe=["children","width","height","viewBox","className","style","title","desc"];function WT(){return WT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},WT.apply(this,arguments)}function dRe(t,e){if(t==null)return{};var r=fRe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HT(t){var e=t.children,r=t.width,n=t.height,i=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=dRe(t,uRe),d=i||{width:r,height:n,x:0,y:0},f=hr("recharts-surface",s);return re.createElement("svg",WT({},ur(u,!0,"svg"),{className:f,width:r,height:n,style:o,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),re.createElement("title",null,l),re.createElement("desc",null,c),e)}var hRe=["children","className"];function KT(){return KT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KT.apply(this,arguments)}function pRe(t,e){if(t==null)return{};var r=mRe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var un=re.forwardRef(function(t,e){var r=t.children,n=t.className,i=pRe(t,hRe),s=hr("recharts-layer",n);return re.createElement("g",KT({className:s},ur(i,!0),{ref:e}),r)}),Ro=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s]},ZE,cz;function gRe(){if(cz)return ZE;cz=1;function t(e,r,n){var i=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++i<s;)o[i]=e[i+r];return o}return ZE=t,ZE}var YE,uz;function vRe(){if(uz)return YE;uz=1;var t=gRe();function e(r,n,i){var s=r.length;return i=i===void 0?s:i,!n&&i>=s?r:t(r,n,i)}return YE=e,YE}var XE,dz;function ote(){if(dz)return XE;dz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+i+s+"]");function c(u){return l.test(u)}return XE=c,XE}var JE,fz;function yRe(){if(fz)return JE;fz=1;function t(e){return e.split("")}return JE=t,JE}var QE,hz;function xRe(){if(hz)return QE;hz=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",d="[^"+t+"]",f="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",v="\\u200d",y=u+"?",x="["+s+"]?",_="(?:"+v+"(?:"+[d,f,g].join("|")+")"+x+y+")*",S=x+y+_,C="(?:"+[d+l+"?",l,f,g,o].join("|")+")",N=RegExp(c+"(?="+c+")|"+C+S,"g");function A(E){return E.match(N)||[]}return QE=A,QE}var eP,pz;function bRe(){if(pz)return eP;pz=1;var t=yRe(),e=ote(),r=xRe();function n(i){return e(i)?r(i):t(i)}return eP=n,eP}var tP,mz;function wRe(){if(mz)return tP;mz=1;var t=vRe(),e=ote(),r=bRe(),n=nte();function i(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return tP=i,tP}var rP,gz;function _Re(){if(gz)return rP;gz=1;var t=wRe(),e=t("toUpperCase");return rP=e,rP}var SRe=_Re();const H1=Nr(SRe);function cn(t){return function(){return t}}const lte=Math.cos,Uw=Math.sin,zo=Math.sqrt,Vw=Math.PI,K1=2*Vw,GT=Math.PI,ZT=2*GT,uf=1e-6,jRe=ZT-uf;function cte(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function CRe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return cte;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class NRe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?cte:CRe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,o){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=i-r,d=o-e,f=l-r,g=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>uf)if(!(Math.abs(f*c-u*d)>uf)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-o,y=i-l,x=c*c+u*u,_=v*v+y*y,S=Math.sqrt(x),C=Math.sqrt(g),N=s*Math.tan((GT-Math.acos((x+g-_)/(2*S*C)))/2),A=N/C,E=N/S;Math.abs(A-1)>uf&&this._append`L${e+A*d},${r+A*f}`,this._append`A${s},${s},0,0,${+(f*v>d*y)},${this._x1=e+E*c},${this._y1=r+E*u}`}}arc(e,r,n,i,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(i),c=n*Math.sin(i),u=e+l,d=r+c,f=1^o,g=o?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>uf||Math.abs(this._y1-d)>uf)&&this._append`L${u},${d}`,n&&(g<0&&(g=g%ZT+ZT),g>jRe?this._append`A${n},${n},0,1,${f},${e-l},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:g>uf&&this._append`A${n},${n},0,${+(g>=GT)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function ZI(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new NRe(e)}function YI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ute(t){this._context=t}ute.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function G1(t){return new ute(t)}function dte(t){return t[0]}function fte(t){return t[1]}function hte(t,e){var r=cn(!0),n=null,i=G1,s=null,o=ZI(l);t=typeof t=="function"?t:t===void 0?dte:cn(t),e=typeof e=="function"?e:e===void 0?fte:cn(e);function l(c){var u,d=(c=YI(c)).length,f,g=!1,v;for(n==null&&(s=i(v=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(f,u,c),+e(f,u,c));if(v)return s=null,v+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:cn(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:cn(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:cn(!!c),l):r},l.curve=function(c){return arguments.length?(i=c,n!=null&&(s=i(n)),l):i},l.context=function(c){return arguments.length?(c==null?n=s=null:s=i(n=c),l):n},l}function xb(t,e,r){var n=null,i=cn(!0),s=null,o=G1,l=null,c=ZI(u);t=typeof t=="function"?t:t===void 0?dte:cn(+t),e=typeof e=="function"?e:cn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?fte:cn(+r);function u(f){var g,v,y,x=(f=YI(f)).length,_,S=!1,C,N=new Array(x),A=new Array(x);for(s==null&&(l=o(C=c())),g=0;g<=x;++g){if(!(g<x&&i(_=f[g],g,f))===S)if(S=!S)v=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),y=g-1;y>=v;--y)l.point(N[y],A[y]);l.lineEnd(),l.areaEnd()}S&&(N[g]=+t(_,g,f),A[g]=+e(_,g,f),l.point(n?+n(_,g,f):N[g],r?+r(_,g,f):A[g]))}if(C)return l=null,C+""||null}function d(){return hte().defined(i).curve(o).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:cn(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:cn(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:cn(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:cn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:cn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,s!=null&&(l=o(s)),u):o},u.context=function(f){return arguments.length?(f==null?s=l=null:l=o(s=f),u):s},u}class pte{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function ERe(t){return new pte(t,!0)}function PRe(t){return new pte(t,!1)}const XI={draw(t,e){const r=zo(e/Vw);t.moveTo(r,0),t.arc(0,0,r,0,K1)}},kRe={draw(t,e){const r=zo(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},mte=zo(1/3),ARe=mte*2,TRe={draw(t,e){const r=zo(e/ARe),n=r*mte;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},ORe={draw(t,e){const r=zo(e),n=-r/2;t.rect(n,n,r,r)}},RRe=.8908130915292852,gte=Uw(Vw/10)/Uw(7*Vw/10),MRe=Uw(K1/10)*gte,IRe=-lte(K1/10)*gte,LRe={draw(t,e){const r=zo(e*RRe),n=MRe*r,i=IRe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const o=K1*s/5,l=lte(o),c=Uw(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*i,c*n+l*i)}t.closePath()}},nP=zo(3),DRe={draw(t,e){const r=-zo(e/(nP*3));t.moveTo(0,r*2),t.lineTo(-nP*r,-r),t.lineTo(nP*r,-r),t.closePath()}},$a=-.5,Fa=zo(3)/2,YT=1/zo(12),$Re=(YT/2+1)*3,FRe={draw(t,e){const r=zo(e/$Re),n=r/2,i=r*YT,s=n,o=r*YT+r,l=-s,c=o;t.moveTo(n,i),t.lineTo(s,o),t.lineTo(l,c),t.lineTo($a*n-Fa*i,Fa*n+$a*i),t.lineTo($a*s-Fa*o,Fa*s+$a*o),t.lineTo($a*l-Fa*c,Fa*l+$a*c),t.lineTo($a*n+Fa*i,$a*i-Fa*n),t.lineTo($a*s+Fa*o,$a*o-Fa*s),t.lineTo($a*l+Fa*c,$a*c-Fa*l),t.closePath()}};function BRe(t,e){let r=null,n=ZI(i);t=typeof t=="function"?t:cn(t||XI),e=typeof e=="function"?e:cn(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:cn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:cn(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function Ww(){}function Hw(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function vte(t){this._context=t}vte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Hw(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Hw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function zRe(t){return new vte(t)}function yte(t){this._context=t}yte.prototype={areaStart:Ww,areaEnd:Ww,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Hw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function qRe(t){return new yte(t)}function xte(t){this._context=t}xte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Hw(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function URe(t){return new xte(t)}function bte(t){this._context=t}bte.prototype={areaStart:Ww,areaEnd:Ww,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function VRe(t){return new bte(t)}function vz(t){return t<0?-1:1}function yz(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),o=(r-t._y1)/(i||n<0&&-0),l=(s*i+o*n)/(n+i);return(vz(s)+vz(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function xz(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function iP(t,e,r){var n=t._x0,i=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,i+l*e,s-l,o-l*r,s,o)}function Kw(t){this._context=t}Kw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:iP(this,this._t0,xz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,iP(this,xz(this,r=yz(this,t,e)),r);break;default:iP(this,this._t0,r=yz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function wte(t){this._context=new _te(t)}(wte.prototype=Object.create(Kw.prototype)).point=function(t,e){Kw.prototype.point.call(this,e,t)};function _te(t){this._context=t}_te.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function WRe(t){return new Kw(t)}function HRe(t){return new wte(t)}function Ste(t){this._context=t}Ste.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=bz(t),i=bz(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function bz(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),o=new Array(r);for(i[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(i[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(o[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function KRe(t){return new Ste(t)}function Z1(t,e){this._context=t,this._t=e}Z1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function GRe(t){return new Z1(t,.5)}function ZRe(t){return new Z1(t,0)}function YRe(t){return new Z1(t,1)}function tm(t,e){if((o=t.length)>1)for(var r=1,n,i,s=t[e[0]],o,l=s.length;r<o;++r)for(i=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function XT(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function XRe(t,e){return t[e]}function JRe(t){const e=[];return e.key=t,e}function QRe(){var t=cn([]),e=XT,r=tm,n=XRe;function i(s){var o=Array.from(t.apply(this,arguments),JRe),l,c=o.length,u=-1,d;for(const f of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(f,o[l].key,u,s)]).data=f;for(l=0,d=YI(e(o));l<c;++l)o[d[l]].index=l;return r(o,d),o}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:cn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:cn(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?XT:typeof s=="function"?s:cn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??tm,i):r},i}function eMe(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,o;i<s;++i){for(o=r=0;r<n;++r)o+=t[r][i][1]||0;if(o)for(r=0;r<n;++r)t[r][i][1]/=o}tm(t,e)}}function tMe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var o=0,l=0;o<i;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}tm(t,e)}}function rMe(t,e){if(!(!((o=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var d=t[e[l]],f=d[n][1]||0,g=d[n-1][1]||0,v=(f-g)/2,y=0;y<l;++y){var x=t[e[y]],_=x[n][1]||0,S=x[n-1][1]||0;v+=_-S}c+=f,u+=v*f}i[n-1][1]+=i[n-1][0]=r,c&&(r-=u/c)}i[n-1][1]+=i[n-1][0]=r,tm(t,e)}}function iy(t){"@babel/helpers - typeof";return iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iy(t)}var nMe=["type","size","sizeType"];function JT(){return JT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JT.apply(this,arguments)}function wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(r),!0).forEach(function(n){iMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iMe(t,e,r){return e=sMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sMe(t){var e=aMe(t,"string");return iy(e)=="symbol"?e:e+""}function aMe(t,e){if(iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oMe(t,e){if(t==null)return{};var r=lMe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var jte={symbolCircle:XI,symbolCross:kRe,symbolDiamond:TRe,symbolSquare:ORe,symbolStar:LRe,symbolTriangle:DRe,symbolWye:FRe},cMe=Math.PI/180,uMe=function(e){var r="symbol".concat(H1(e));return jte[r]||XI},dMe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*cMe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},fMe=function(e,r){jte["symbol".concat(H1(e))]=r},JI=function(e){var r=e.type,n=r===void 0?"circle":r,i=e.size,s=i===void 0?64:i,o=e.sizeType,l=o===void 0?"area":o,c=oMe(e,nMe),u=_z(_z({},c),{},{type:n,size:s,sizeType:l}),d=function(){var _=uMe(n),S=BRe().type(_).size(dMe(s,l,n));return S()},f=u.className,g=u.cx,v=u.cy,y=ur(u,!0);return g===+g&&v===+v&&s===+s?re.createElement("path",JT({},y,{className:hr("recharts-symbols",f),transform:"translate(".concat(g,", ").concat(v,")"),d:d()})):null};JI.registerSymbol=fMe;function rm(t){"@babel/helpers - typeof";return rm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rm(t)}function QT(){return QT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QT.apply(this,arguments)}function Sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hMe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(r),!0).forEach(function(n){sy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mMe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nte(n.key),n)}}function gMe(t,e,r){return e&&mMe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function vMe(t,e,r){return e=Gw(e),yMe(t,Cte()?Reflect.construct(e,r||[],Gw(t).constructor):e.apply(t,r))}function yMe(t,e){if(e&&(rm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xMe(t)}function xMe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cte=function(){return!!t})()}function Gw(t){return Gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Gw(t)}function bMe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eO(t,e)}function eO(t,e){return eO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},eO(t,e)}function sy(t,e,r){return e=Nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nte(t){var e=wMe(t,"string");return rm(e)=="symbol"?e:e+""}function wMe(t,e){if(rm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ba=32,QI=function(t){function e(){return pMe(this,e),vMe(this,e,arguments)}return bMe(e,t),gMe(e,[{key:"renderIcon",value:function(n){var i=this.props.inactiveColor,s=Ba/2,o=Ba/6,l=Ba/3,c=n.inactive?i:n.color;if(n.type==="plainline")return re.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:Ba,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return re.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(Ba,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return re.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Ba/8,"h").concat(Ba,"v").concat(Ba*3/4,"h").concat(-Ba,"z"),className:"recharts-legend-icon"});if(re.isValidElement(n.legendIcon)){var u=hMe({},n);return delete u.legendIcon,re.cloneElement(n.legendIcon,u)}return re.createElement(JI,{fill:c,cx:s,cy:s,size:Ba,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,i=this.props,s=i.payload,o=i.iconSize,l=i.layout,c=i.formatter,u=i.inactiveColor,d={x:0,y:0,width:Ba,height:Ba},f={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(v,y){var x=v.formatter||c,_=hr(sy(sy({"recharts-legend-item":!0},"legend-item-".concat(y),!0),"inactive",v.inactive));if(v.type==="none")return null;var S=Yt(v.value)?null:v.value;Ro(!Yt(v.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var C=v.inactive?u:v.color;return re.createElement("li",QT({className:_,style:f,key:"legend-item-".concat(y)},ny(n.props,v,y)),re.createElement(HT,{width:o,height:o,viewBox:d,style:g},n.renderIcon(v)),re.createElement("span",{className:"recharts-legend-item-text",style:{color:C}},x?x(S,v,y):S))})}},{key:"render",value:function(){var n=this.props,i=n.payload,s=n.layout,o=n.align;if(!i||!i.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return re.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(b.PureComponent);sy(QI,"displayName","Legend");sy(QI,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var sP,jz;function _Me(){if(jz)return sP;jz=1;var t=U1();function e(){this.__data__=new t,this.size=0}return sP=e,sP}var aP,Cz;function SMe(){if(Cz)return aP;Cz=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return aP=t,aP}var oP,Nz;function jMe(){if(Nz)return oP;Nz=1;function t(e){return this.__data__.get(e)}return oP=t,oP}var lP,Ez;function CMe(){if(Ez)return lP;Ez=1;function t(e){return this.__data__.has(e)}return lP=t,lP}var cP,Pz;function NMe(){if(Pz)return cP;Pz=1;var t=U1(),e=UI(),r=VI(),n=200;function i(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return cP=i,cP}var uP,kz;function Ete(){if(kz)return uP;kz=1;var t=U1(),e=_Me(),r=SMe(),n=jMe(),i=CMe(),s=NMe();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=i,o.prototype.set=s,uP=o,uP}var dP,Az;function EMe(){if(Az)return dP;Az=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return dP=e,dP}var fP,Tz;function PMe(){if(Tz)return fP;Tz=1;function t(e){return this.__data__.has(e)}return fP=t,fP}var hP,Oz;function Pte(){if(Oz)return hP;Oz=1;var t=VI(),e=EMe(),r=PMe();function n(i){var s=-1,o=i==null?0:i.length;for(this.__data__=new t;++s<o;)this.add(i[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,hP=n,hP}var pP,Rz;function kte(){if(Rz)return pP;Rz=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return pP=t,pP}var mP,Mz;function Ate(){if(Mz)return mP;Mz=1;function t(e,r){return e.has(r)}return mP=t,mP}var gP,Iz;function Tte(){if(Iz)return gP;Iz=1;var t=Pte(),e=kte(),r=Ate(),n=1,i=2;function s(o,l,c,u,d,f){var g=c&n,v=o.length,y=l.length;if(v!=y&&!(g&&y>v))return!1;var x=f.get(o),_=f.get(l);if(x&&_)return x==l&&_==o;var S=-1,C=!0,N=c&i?new t:void 0;for(f.set(o,l),f.set(l,o);++S<v;){var A=o[S],E=l[S];if(u)var k=g?u(E,A,S,l,o,f):u(A,E,S,o,l,f);if(k!==void 0){if(k)continue;C=!1;break}if(N){if(!e(l,function(O,I){if(!r(N,I)&&(A===O||d(A,O,c,u,f)))return N.push(I)})){C=!1;break}}else if(!(A===E||d(A,E,c,u,f))){C=!1;break}}return f.delete(o),f.delete(l),C}return gP=s,gP}var vP,Lz;function kMe(){if(Lz)return vP;Lz=1;var t=Rl(),e=t.Uint8Array;return vP=e,vP}var yP,Dz;function AMe(){if(Dz)return yP;Dz=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,s){n[++r]=[s,i]}),n}return yP=t,yP}var xP,$z;function eL(){if($z)return xP;$z=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return xP=t,xP}var bP,Fz;function TMe(){if(Fz)return bP;Fz=1;var t=jx(),e=kMe(),r=qI(),n=Tte(),i=AMe(),s=eL(),o=1,l=2,c="[object Boolean]",u="[object Date]",d="[object Error]",f="[object Map]",g="[object Number]",v="[object RegExp]",y="[object Set]",x="[object String]",_="[object Symbol]",S="[object ArrayBuffer]",C="[object DataView]",N=t?t.prototype:void 0,A=N?N.valueOf:void 0;function E(k,O,I,z,W,V,q){switch(I){case C:if(k.byteLength!=O.byteLength||k.byteOffset!=O.byteOffset)return!1;k=k.buffer,O=O.buffer;case S:return!(k.byteLength!=O.byteLength||!V(new e(k),new e(O)));case c:case u:case g:return r(+k,+O);case d:return k.name==O.name&&k.message==O.message;case v:case x:return k==O+"";case f:var F=i;case y:var H=z&o;if(F||(F=s),k.size!=O.size&&!H)return!1;var Q=q.get(k);if(Q)return Q==O;z|=l,q.set(k,O);var oe=n(F(k),F(O),z,W,V,q);return q.delete(k),oe;case _:if(A)return A.call(k)==A.call(O)}return!1}return bP=E,bP}var wP,Bz;function Ote(){if(Bz)return wP;Bz=1;function t(e,r){for(var n=-1,i=r.length,s=e.length;++n<i;)e[s+n]=r[n];return e}return wP=t,wP}var _P,zz;function OMe(){if(zz)return _P;zz=1;var t=Ote(),e=Ks();function r(n,i,s){var o=i(n);return e(n)?o:t(o,s(n))}return _P=r,_P}var SP,qz;function RMe(){if(qz)return SP;qz=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,s=0,o=[];++n<i;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return SP=t,SP}var jP,Uz;function MMe(){if(Uz)return jP;Uz=1;function t(){return[]}return jP=t,jP}var CP,Vz;function IMe(){if(Vz)return CP;Vz=1;var t=RMe(),e=MMe(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,s=i?function(o){return o==null?[]:(o=Object(o),t(i(o),function(l){return n.call(o,l)}))}:e;return CP=s,CP}var NP,Wz;function LMe(){if(Wz)return NP;Wz=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return NP=t,NP}var EP,Hz;function DMe(){if(Hz)return EP;Hz=1;var t=Yc(),e=Xc(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return EP=n,EP}var PP,Kz;function tL(){if(Kz)return PP;Kz=1;var t=DMe(),e=Xc(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(o){return e(o)&&n.call(o,"callee")&&!i.call(o,"callee")};return PP=s,PP}var mv={exports:{}},kP,Gz;function $Me(){if(Gz)return kP;Gz=1;function t(){return!1}return kP=t,kP}mv.exports;var Zz;function Rte(){return Zz||(Zz=1,function(t,e){var r=Rl(),n=$Me(),i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===i,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(mv,mv.exports)),mv.exports}var AP,Yz;function rL(){if(Yz)return AP;Yz=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var s=typeof n;return i=i??t,!!i&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return AP=r,AP}var TP,Xz;function nL(){if(Xz)return TP;Xz=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return TP=e,TP}var OP,Jz;function FMe(){if(Jz)return OP;Jz=1;var t=Yc(),e=nL(),r=Xc(),n="[object Arguments]",i="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",d="[object Number]",f="[object Object]",g="[object RegExp]",v="[object Set]",y="[object String]",x="[object WeakMap]",_="[object ArrayBuffer]",S="[object DataView]",C="[object Float32Array]",N="[object Float64Array]",A="[object Int8Array]",E="[object Int16Array]",k="[object Int32Array]",O="[object Uint8Array]",I="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",V={};V[C]=V[N]=V[A]=V[E]=V[k]=V[O]=V[I]=V[z]=V[W]=!0,V[n]=V[i]=V[_]=V[s]=V[S]=V[o]=V[l]=V[c]=V[u]=V[d]=V[f]=V[g]=V[v]=V[y]=V[x]=!1;function q(F){return r(F)&&e(F.length)&&!!V[t(F)]}return OP=q,OP}var RP,Qz;function Mte(){if(Qz)return RP;Qz=1;function t(e){return function(r){return e(r)}}return RP=t,RP}var gv={exports:{}};gv.exports;var eq;function BMe(){return eq||(eq=1,function(t,e){var r=ete(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===n,o=s&&r.process,l=function(){try{var c=i&&i.require&&i.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l}(gv,gv.exports)),gv.exports}var MP,tq;function Ite(){if(tq)return MP;tq=1;var t=FMe(),e=Mte(),r=BMe(),n=r&&r.isTypedArray,i=n?e(n):t;return MP=i,MP}var IP,rq;function zMe(){if(rq)return IP;rq=1;var t=LMe(),e=tL(),r=Ks(),n=Rte(),i=rL(),s=Ite(),o=Object.prototype,l=o.hasOwnProperty;function c(u,d){var f=r(u),g=!f&&e(u),v=!f&&!g&&n(u),y=!f&&!g&&!v&&s(u),x=f||g||v||y,_=x?t(u.length,String):[],S=_.length;for(var C in u)(d||l.call(u,C))&&!(x&&(C=="length"||v&&(C=="offset"||C=="parent")||y&&(C=="buffer"||C=="byteLength"||C=="byteOffset")||i(C,S)))&&_.push(C);return _}return IP=c,IP}var LP,nq;function qMe(){if(nq)return LP;nq=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return LP=e,LP}var DP,iq;function Lte(){if(iq)return DP;iq=1;function t(e,r){return function(n){return e(r(n))}}return DP=t,DP}var $P,sq;function UMe(){if(sq)return $P;sq=1;var t=Lte(),e=t(Object.keys,Object);return $P=e,$P}var FP,aq;function VMe(){if(aq)return FP;aq=1;var t=qMe(),e=UMe(),r=Object.prototype,n=r.hasOwnProperty;function i(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return FP=i,FP}var BP,oq;function Nx(){if(oq)return BP;oq=1;var t=zI(),e=nL();function r(n){return n!=null&&e(n.length)&&!t(n)}return BP=r,BP}var zP,lq;function Y1(){if(lq)return zP;lq=1;var t=zMe(),e=VMe(),r=Nx();function n(i){return r(i)?t(i):e(i)}return zP=n,zP}var qP,cq;function WMe(){if(cq)return qP;cq=1;var t=OMe(),e=IMe(),r=Y1();function n(i){return t(i,r,e)}return qP=n,qP}var UP,uq;function HMe(){if(uq)return UP;uq=1;var t=WMe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(s,o,l,c,u,d){var f=l&e,g=t(s),v=g.length,y=t(o),x=y.length;if(v!=x&&!f)return!1;for(var _=v;_--;){var S=g[_];if(!(f?S in o:n.call(o,S)))return!1}var C=d.get(s),N=d.get(o);if(C&&N)return C==o&&N==s;var A=!0;d.set(s,o),d.set(o,s);for(var E=f;++_<v;){S=g[_];var k=s[S],O=o[S];if(c)var I=f?c(O,k,S,o,s,d):c(k,O,S,s,o,d);if(!(I===void 0?k===O||u(k,O,l,c,d):I)){A=!1;break}E||(E=S=="constructor")}if(A&&!E){var z=s.constructor,W=o.constructor;z!=W&&"constructor"in s&&"constructor"in o&&!(typeof z=="function"&&z instanceof z&&typeof W=="function"&&W instanceof W)&&(A=!1)}return d.delete(s),d.delete(o),A}return UP=i,UP}var VP,dq;function KMe(){if(dq)return VP;dq=1;var t=sh(),e=Rl(),r=t(e,"DataView");return VP=r,VP}var WP,fq;function GMe(){if(fq)return WP;fq=1;var t=sh(),e=Rl(),r=t(e,"Promise");return WP=r,WP}var HP,hq;function Dte(){if(hq)return HP;hq=1;var t=sh(),e=Rl(),r=t(e,"Set");return HP=r,HP}var KP,pq;function ZMe(){if(pq)return KP;pq=1;var t=sh(),e=Rl(),r=t(e,"WeakMap");return KP=r,KP}var GP,mq;function YMe(){if(mq)return GP;mq=1;var t=KMe(),e=UI(),r=GMe(),n=Dte(),i=ZMe(),s=Yc(),o=tte(),l="[object Map]",c="[object Object]",u="[object Promise]",d="[object Set]",f="[object WeakMap]",g="[object DataView]",v=o(t),y=o(e),x=o(r),_=o(n),S=o(i),C=s;return(t&&C(new t(new ArrayBuffer(1)))!=g||e&&C(new e)!=l||r&&C(r.resolve())!=u||n&&C(new n)!=d||i&&C(new i)!=f)&&(C=function(N){var A=s(N),E=A==c?N.constructor:void 0,k=E?o(E):"";if(k)switch(k){case v:return g;case y:return l;case x:return u;case _:return d;case S:return f}return A}),GP=C,GP}var ZP,gq;function XMe(){if(gq)return ZP;gq=1;var t=Ete(),e=Tte(),r=TMe(),n=HMe(),i=YMe(),s=Ks(),o=Rte(),l=Ite(),c=1,u="[object Arguments]",d="[object Array]",f="[object Object]",g=Object.prototype,v=g.hasOwnProperty;function y(x,_,S,C,N,A){var E=s(x),k=s(_),O=E?d:i(x),I=k?d:i(_);O=O==u?f:O,I=I==u?f:I;var z=O==f,W=I==f,V=O==I;if(V&&o(x)){if(!o(_))return!1;E=!0,z=!1}if(V&&!z)return A||(A=new t),E||l(x)?e(x,_,S,C,N,A):r(x,_,O,S,C,N,A);if(!(S&c)){var q=z&&v.call(x,"__wrapped__"),F=W&&v.call(_,"__wrapped__");if(q||F){var H=q?x.value():x,Q=F?_.value():_;return A||(A=new t),N(H,Q,S,C,A)}}return V?(A||(A=new t),n(x,_,S,C,N,A)):!1}return ZP=y,ZP}var YP,vq;function iL(){if(vq)return YP;vq=1;var t=XMe(),e=Xc();function r(n,i,s,o,l){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,s,o,r,l)}return YP=r,YP}var XP,yq;function JMe(){if(yq)return XP;yq=1;var t=Ete(),e=iL(),r=1,n=2;function i(s,o,l,c){var u=l.length,d=u,f=!c;if(s==null)return!d;for(s=Object(s);u--;){var g=l[u];if(f&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<d;){g=l[u];var v=g[0],y=s[v],x=g[1];if(f&&g[2]){if(y===void 0&&!(v in s))return!1}else{var _=new t;if(c)var S=c(y,x,v,s,o,_);if(!(S===void 0?e(x,y,r|n,c,_):S))return!1}}return!0}return XP=i,XP}var JP,xq;function $te(){if(xq)return JP;xq=1;var t=Nd();function e(r){return r===r&&!t(r)}return JP=e,JP}var QP,bq;function QMe(){if(bq)return QP;bq=1;var t=$te(),e=Y1();function r(n){for(var i=e(n),s=i.length;s--;){var o=i[s],l=n[o];i[s]=[o,l,t(l)]}return i}return QP=r,QP}var e2,wq;function Fte(){if(wq)return e2;wq=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return e2=t,e2}var t2,_q;function eIe(){if(_q)return t2;_q=1;var t=JMe(),e=QMe(),r=Fte();function n(i){var s=e(i);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===i||t(o,i,s)}}return t2=n,t2}var r2,Sq;function tIe(){if(Sq)return r2;Sq=1;function t(e,r){return e!=null&&r in Object(e)}return r2=t,r2}var n2,jq;function rIe(){if(jq)return n2;jq=1;var t=ite(),e=tL(),r=Ks(),n=rL(),i=nL(),s=W1();function o(l,c,u){c=t(c,l);for(var d=-1,f=c.length,g=!1;++d<f;){var v=s(c[d]);if(!(g=l!=null&&u(l,v)))break;l=l[v]}return g||++d!=f?g:(f=l==null?0:l.length,!!f&&i(f)&&n(v,f)&&(r(l)||e(l)))}return n2=o,n2}var i2,Cq;function nIe(){if(Cq)return i2;Cq=1;var t=tIe(),e=rIe();function r(n,i){return n!=null&&e(n,i,t)}return i2=r,i2}var s2,Nq;function iIe(){if(Nq)return s2;Nq=1;var t=iL(),e=ste(),r=nIe(),n=BI(),i=$te(),s=Fte(),o=W1(),l=1,c=2;function u(d,f){return n(d)&&i(f)?s(o(d),f):function(g){var v=e(g,d);return v===void 0&&v===f?r(g,d):t(f,v,l|c)}}return s2=u,s2}var a2,Eq;function Ym(){if(Eq)return a2;Eq=1;function t(e){return e}return a2=t,a2}var o2,Pq;function sIe(){if(Pq)return o2;Pq=1;function t(e){return function(r){return r?.[e]}}return o2=t,o2}var l2,kq;function aIe(){if(kq)return l2;kq=1;var t=HI();function e(r){return function(n){return t(n,r)}}return l2=e,l2}var c2,Aq;function oIe(){if(Aq)return c2;Aq=1;var t=sIe(),e=aIe(),r=BI(),n=W1();function i(s){return r(s)?t(n(s)):e(s)}return c2=i,c2}var u2,Tq;function Ed(){if(Tq)return u2;Tq=1;var t=eIe(),e=iIe(),r=Ym(),n=Ks(),i=oIe();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):i(o)}return u2=s,u2}var d2,Oq;function Bte(){if(Oq)return d2;Oq=1;function t(e,r,n,i){for(var s=e.length,o=n+(i?1:-1);i?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return d2=t,d2}var f2,Rq;function lIe(){if(Rq)return f2;Rq=1;function t(e){return e!==e}return f2=t,f2}var h2,Mq;function cIe(){if(Mq)return h2;Mq=1;function t(e,r,n){for(var i=n-1,s=e.length;++i<s;)if(e[i]===r)return i;return-1}return h2=t,h2}var p2,Iq;function uIe(){if(Iq)return p2;Iq=1;var t=Bte(),e=lIe(),r=cIe();function n(i,s,o){return s===s?r(i,s,o):t(i,e,o)}return p2=n,p2}var m2,Lq;function dIe(){if(Lq)return m2;Lq=1;var t=uIe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return m2=e,m2}var g2,Dq;function fIe(){if(Dq)return g2;Dq=1;function t(e,r,n){for(var i=-1,s=e==null?0:e.length;++i<s;)if(n(r,e[i]))return!0;return!1}return g2=t,g2}var v2,$q;function hIe(){if($q)return v2;$q=1;function t(){}return v2=t,v2}var y2,Fq;function pIe(){if(Fq)return y2;Fq=1;var t=Dte(),e=hIe(),r=eL(),n=1/0,i=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return y2=i,y2}var x2,Bq;function mIe(){if(Bq)return x2;Bq=1;var t=Pte(),e=dIe(),r=fIe(),n=Ate(),i=pIe(),s=eL(),o=200;function l(c,u,d){var f=-1,g=e,v=c.length,y=!0,x=[],_=x;if(d)y=!1,g=r;else if(v>=o){var S=u?null:i(c);if(S)return s(S);y=!1,g=n,_=new t}else _=u?[]:x;e:for(;++f<v;){var C=c[f],N=u?u(C):C;if(C=d||C!==0?C:0,y&&N===N){for(var A=_.length;A--;)if(_[A]===N)continue e;u&&_.push(N),x.push(C)}else g(_,N,d)||(_!==x&&_.push(N),x.push(C))}return x}return x2=l,x2}var b2,zq;function gIe(){if(zq)return b2;zq=1;var t=Ed(),e=mIe();function r(n,i){return n&&n.length?e(n,t(i,2)):[]}return b2=r,b2}var vIe=gIe();const qq=Nr(vIe);function zte(t,e,r){return e===!0?qq(t,r):Yt(e)?qq(t,e):t}function nm(t){"@babel/helpers - typeof";return nm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nm(t)}var yIe=["ref"];function Uq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uq(Object(r),!0).forEach(function(n){X1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vq(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ute(n.key),n)}}function bIe(t,e,r){return e&&Vq(t.prototype,e),r&&Vq(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function wIe(t,e,r){return e=Zw(e),_Ie(t,qte()?Reflect.construct(e,r||[],Zw(t).constructor):e.apply(t,r))}function _Ie(t,e){if(e&&(nm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SIe(t)}function SIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qte=function(){return!!t})()}function Zw(t){return Zw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Zw(t)}function jIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}function tO(t,e){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},tO(t,e)}function X1(t,e,r){return e=Ute(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ute(t){var e=CIe(t,"string");return nm(e)=="symbol"?e:e+""}function CIe(t,e){if(nm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NIe(t,e){if(t==null)return{};var r=EIe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function EIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PIe(t){return t.value}function kIe(t,e){if(re.isValidElement(t))return re.cloneElement(t,e);if(typeof t=="function")return re.createElement(t,e);e.ref;var r=NIe(e,yIe);return re.createElement(QI,r)}var Wq=1,cd=function(t){function e(){var r;xIe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=wIe(this,e,[].concat(i)),X1(r,"lastBoundingBox",{width:-1,height:-1}),r}return jIe(e,t),bIe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Wq||Math.abs(i.height-this.lastBoundingBox.height)>Wq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,n&&n(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?hc({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var i=this.props,s=i.layout,o=i.align,l=i.verticalAlign,c=i.margin,u=i.chartWidth,d=i.chartHeight,f,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var v=this.getBBoxSnapshot();f={left:((u||0)-v.width)/2}}else f=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var y=this.getBBoxSnapshot();g={top:((d||0)-y.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return hc(hc({},f),g)}},{key:"render",value:function(){var n=this,i=this.props,s=i.content,o=i.width,l=i.height,c=i.wrapperStyle,u=i.payloadUniqBy,d=i.payload,f=hc(hc({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return re.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(v){n.wrapperNode=v}},kIe(s,hc(hc({},this.props),{},{payload:zte(d,u,PIe)})))}}],[{key:"getWithHeight",value:function(n,i){var s=hc(hc({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&ut(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||i}:null}}])}(b.PureComponent);X1(cd,"displayName","Legend");X1(cd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var w2,Hq;function AIe(){if(Hq)return w2;Hq=1;var t=jx(),e=tL(),r=Ks(),n=t?t.isConcatSpreadable:void 0;function i(s){return r(s)||e(s)||!!(n&&s&&s[n])}return w2=i,w2}var _2,Kq;function Vte(){if(Kq)return _2;Kq=1;var t=Ote(),e=AIe();function r(n,i,s,o,l){var c=-1,u=n.length;for(s||(s=e),l||(l=[]);++c<u;){var d=n[c];i>0&&s(d)?i>1?r(d,i-1,s,o,l):t(l,d):o||(l[l.length]=d)}return l}return _2=r,_2}var S2,Gq;function TIe(){if(Gq)return S2;Gq=1;function t(e){return function(r,n,i){for(var s=-1,o=Object(r),l=i(r),c=l.length;c--;){var u=l[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return S2=t,S2}var j2,Zq;function OIe(){if(Zq)return j2;Zq=1;var t=TIe(),e=t();return j2=e,j2}var C2,Yq;function Wte(){if(Yq)return C2;Yq=1;var t=OIe(),e=Y1();function r(n,i){return n&&t(n,i,e)}return C2=r,C2}var N2,Xq;function RIe(){if(Xq)return N2;Xq=1;var t=Nx();function e(r,n){return function(i,s){if(i==null)return i;if(!t(i))return r(i,s);for(var o=i.length,l=n?o:-1,c=Object(i);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return i}}return N2=e,N2}var E2,Jq;function sL(){if(Jq)return E2;Jq=1;var t=Wte(),e=RIe(),r=e(t);return E2=r,E2}var P2,Qq;function Hte(){if(Qq)return P2;Qq=1;var t=sL(),e=Nx();function r(n,i){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++s]=i(l,c,u)}),o}return P2=r,P2}var k2,e8;function MIe(){if(e8)return k2;e8=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return k2=t,k2}var A2,t8;function IIe(){if(t8)return A2;t8=1;var t=Km();function e(r,n){if(r!==n){var i=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,d=n===n,f=t(n);if(!u&&!f&&!l&&r>n||l&&c&&d&&!u&&!f||s&&c&&d||!i&&d||!o)return 1;if(!s&&!l&&!f&&r<n||f&&i&&o&&!s&&!l||u&&i&&o||!c&&o||!d)return-1}return 0}return A2=e,A2}var T2,r8;function LIe(){if(r8)return T2;r8=1;var t=IIe();function e(r,n,i){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=i.length;++s<c;){var d=t(o[s],l[s]);if(d){if(s>=u)return d;var f=i[s];return d*(f=="desc"?-1:1)}}return r.index-n.index}return T2=e,T2}var O2,n8;function DIe(){if(n8)return O2;n8=1;var t=WI(),e=HI(),r=Ed(),n=Hte(),i=MIe(),s=Mte(),o=LIe(),l=Ym(),c=Ks();function u(d,f,g){f.length?f=t(f,function(x){return c(x)?function(_){return e(_,x.length===1?x[0]:x)}:x}):f=[l];var v=-1;f=t(f,s(r));var y=n(d,function(x,_,S){var C=t(f,function(N){return N(x)});return{criteria:C,index:++v,value:x}});return i(y,function(x,_){return o(x,_,g)})}return O2=u,O2}var R2,i8;function $Ie(){if(i8)return R2;i8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return R2=t,R2}var M2,s8;function FIe(){if(s8)return M2;s8=1;var t=$Ie(),e=Math.max;function r(n,i,s){return i=e(i===void 0?n.length-1:i,0),function(){for(var o=arguments,l=-1,c=e(o.length-i,0),u=Array(c);++l<c;)u[l]=o[i+l];l=-1;for(var d=Array(i+1);++l<i;)d[l]=o[l];return d[i]=s(u),t(n,this,d)}}return M2=r,M2}var I2,a8;function BIe(){if(a8)return I2;a8=1;function t(e){return function(){return e}}return I2=t,I2}var L2,o8;function Kte(){if(o8)return L2;o8=1;var t=sh(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return L2=e,L2}var D2,l8;function zIe(){if(l8)return D2;l8=1;var t=BIe(),e=Kte(),r=Ym(),n=e?function(i,s){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return D2=n,D2}var $2,c8;function qIe(){if(c8)return $2;c8=1;var t=800,e=16,r=Date.now;function n(i){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return i.apply(void 0,arguments)}}return $2=n,$2}var F2,u8;function UIe(){if(u8)return F2;u8=1;var t=zIe(),e=qIe(),r=e(t);return F2=r,F2}var B2,d8;function VIe(){if(d8)return B2;d8=1;var t=Ym(),e=FIe(),r=UIe();function n(i,s){return r(e(i,s,t),i+"")}return B2=n,B2}var z2,f8;function J1(){if(f8)return z2;f8=1;var t=qI(),e=Nx(),r=rL(),n=Nd();function i(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return z2=i,z2}var q2,h8;function WIe(){if(h8)return q2;h8=1;var t=Vte(),e=DIe(),r=VIe(),n=J1(),i=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return q2=i,q2}var HIe=WIe();const aL=Nr(HIe);function ay(t){"@babel/helpers - typeof";return ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ay(t)}function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rO.apply(this,arguments)}function KIe(t,e){return XIe(t)||YIe(t,e)||ZIe(t,e)||GIe()}function GIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZIe(t,e){if(t){if(typeof t=="string")return p8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p8(t,e)}}function p8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function XIe(t){if(Array.isArray(t))return t}function m8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function U2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?m8(Object(r),!0).forEach(function(n){JIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JIe(t,e,r){return e=QIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QIe(t){var e=eLe(t,"string");return ay(e)=="symbol"?e:e+""}function eLe(t,e){if(ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tLe(t){return Array.isArray(t)&&mi(t[0])&&mi(t[1])?t.join(" ~ "):t}var rLe=function(e){var r=e.separator,n=r===void 0?" : ":r,i=e.contentStyle,s=i===void 0?{}:i,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,d=e.payload,f=e.formatter,g=e.itemSorter,v=e.wrapperClassName,y=e.labelClassName,x=e.label,_=e.labelFormatter,S=e.accessibilityLayer,C=S===void 0?!1:S,N=function(){if(d&&d.length){var q={padding:0,margin:0},F=(g?aL(d,g):d).map(function(H,Q){if(H.type==="none")return null;var oe=U2({display:"block",paddingTop:4,paddingBottom:4,color:H.color||"#000"},l),K=H.formatter||f||tLe,te=H.value,Z=H.name,se=te,X=Z;if(K&&se!=null&&X!=null){var ce=K(te,Z,H,Q,d);if(Array.isArray(ce)){var je=KIe(ce,2);se=je[0],X=je[1]}else se=ce}return re.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Q),style:oe},mi(X)?re.createElement("span",{className:"recharts-tooltip-item-name"},X):null,mi(X)?re.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,re.createElement("span",{className:"recharts-tooltip-item-value"},se),re.createElement("span",{className:"recharts-tooltip-item-unit"},H.unit||""))});return re.createElement("ul",{className:"recharts-tooltip-item-list",style:q},F)}return null},A=U2({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=U2({margin:0},u),k=!Qt(x),O=k?x:"",I=hr("recharts-default-tooltip",v),z=hr("recharts-tooltip-label",y);k&&_&&d!==void 0&&d!==null&&(O=_(x,d));var W=C?{role:"status","aria-live":"assertive"}:{};return re.createElement("div",rO({className:I,style:A},W),re.createElement("p",{className:z,style:E},re.isValidElement(O)?O:"".concat(O)),N())};function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function bb(t,e,r){return e=nLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nLe(t){var e=iLe(t,"string");return oy(e)=="symbol"?e:e+""}function iLe(t,e){if(oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kg="recharts-tooltip-wrapper",sLe={visibility:"hidden"};function aLe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return hr(Kg,bb(bb(bb(bb({},"".concat(Kg,"-right"),ut(r)&&e&&ut(e.x)&&r>=e.x),"".concat(Kg,"-left"),ut(r)&&e&&ut(e.x)&&r<e.x),"".concat(Kg,"-bottom"),ut(n)&&e&&ut(e.y)&&n>=e.y),"".concat(Kg,"-top"),ut(n)&&e&&ut(e.y)&&n<e.y))}function g8(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,i=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&ut(s[n]))return s[n];var d=r[n]-l-i,f=r[n]+i;if(e[n])return o[n]?d:f;if(o[n]){var g=d,v=c[n];return g<v?Math.max(f,c[n]):Math.max(d,c[n])}var y=f+l,x=c[n]+u;return y>x?Math.max(d,c[n]):Math.max(f,c[n])}function oLe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function lLe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,i=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,d,f;return o.height>0&&o.width>0&&r?(d=g8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=g8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=oLe({translateX:d,translateY:f,useTranslate3d:l})):u=sLe,{cssProperties:u,cssClasses:aLe({translateX:d,translateY:f,coordinate:r})}}function im(t){"@babel/helpers - typeof";return im=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},im(t)}function v8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v8(Object(r),!0).forEach(function(n){iO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Zte(n.key),n)}}function dLe(t,e,r){return e&&uLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function fLe(t,e,r){return e=Yw(e),hLe(t,Gte()?Reflect.construct(e,r||[],Yw(t).constructor):e.apply(t,r))}function hLe(t,e){if(e&&(im(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pLe(t)}function pLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Gte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gte=function(){return!!t})()}function Yw(t){return Yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Yw(t)}function mLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nO(t,e)}function nO(t,e){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nO(t,e)}function iO(t,e,r){return e=Zte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zte(t){var e=gLe(t,"string");return im(e)=="symbol"?e:e+""}function gLe(t,e){if(im(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(im(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x8=1,vLe=function(t){function e(){var r;cLe(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=fLe(this,e,[].concat(i)),iO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),iO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,d;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(d=r.props.coordinate)===null||d===void 0?void 0:d.y)!==null&&u!==void 0?u:0}})}}),r}return mLe(e,t),dLe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>x8||Math.abs(n.height-this.state.lastBoundingBox.height)>x8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.children,d=i.coordinate,f=i.hasPayload,g=i.isAnimationActive,v=i.offset,y=i.position,x=i.reverseDirection,_=i.useTranslate3d,S=i.viewBox,C=i.wrapperStyle,N=lLe({allowEscapeViewBox:o,coordinate:d,offsetTopLeft:v,position:y,reverseDirection:x,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:S}),A=N.cssClasses,E=N.cssProperties,k=y8(y8({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},C);return re.createElement("div",{tabIndex:-1,className:A,style:k,ref:function(I){n.wrapperNode=I}},u)}}])}(b.PureComponent),yLe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},ah={isSsr:yLe()};function sm(t){"@babel/helpers - typeof";return sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sm(t)}function b8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b8(Object(r),!0).forEach(function(n){oL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bLe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xte(n.key),n)}}function wLe(t,e,r){return e&&bLe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Le(t,e,r){return e=Xw(e),SLe(t,Yte()?Reflect.construct(e,r||[],Xw(t).constructor):e.apply(t,r))}function SLe(t,e){if(e&&(sm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jLe(t)}function jLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yte=function(){return!!t})()}function Xw(t){return Xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Xw(t)}function CLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sO(t,e)}function sO(t,e){return sO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},sO(t,e)}function oL(t,e,r){return e=Xte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xte(t){var e=NLe(t,"string");return sm(e)=="symbol"?e:e+""}function NLe(t,e){if(sm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ELe(t){return t.dataKey}function PLe(t,e){return re.isValidElement(t)?re.cloneElement(t,e):typeof t=="function"?re.createElement(t,e):re.createElement(rLe,e)}var gs=function(t){function e(){return xLe(this,e),_Le(this,e,arguments)}return CLe(e,t),wLe(e,[{key:"render",value:function(){var n=this,i=this.props,s=i.active,o=i.allowEscapeViewBox,l=i.animationDuration,c=i.animationEasing,u=i.content,d=i.coordinate,f=i.filterNull,g=i.isAnimationActive,v=i.offset,y=i.payload,x=i.payloadUniqBy,_=i.position,S=i.reverseDirection,C=i.useTranslate3d,N=i.viewBox,A=i.wrapperStyle,E=y??[];f&&E.length&&(E=zte(y.filter(function(O){return O.value!=null&&(O.hide!==!0||n.props.includeHidden)}),x,ELe));var k=E.length>0;return re.createElement(vLe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:d,hasPayload:k,offset:v,position:_,reverseDirection:S,useTranslate3d:C,viewBox:N,wrapperStyle:A},PLe(u,w8(w8({},this.props),{},{payload:E})))}}])}(b.PureComponent);oL(gs,"displayName","Tooltip");oL(gs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!ah.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var V2,_8;function kLe(){if(_8)return V2;_8=1;var t=Rl(),e=function(){return t.Date.now()};return V2=e,V2}var W2,S8;function ALe(){if(S8)return W2;S8=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return W2=e,W2}var H2,j8;function TLe(){if(j8)return H2;j8=1;var t=ALe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return H2=r,H2}var K2,C8;function Jte(){if(C8)return K2;C8=1;var t=TLe(),e=Nd(),r=Km(),n=NaN,i=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var d=typeof u.valueOf=="function"?u.valueOf():u;u=e(d)?d+"":d}if(typeof u!="string")return u===0?u:+u;u=t(u);var f=s.test(u);return f||o.test(u)?l(u.slice(2),f?2:8):i.test(u)?n:+u}return K2=c,K2}var G2,N8;function OLe(){if(N8)return G2;N8=1;var t=Nd(),e=kLe(),r=Jte(),n="Expected a function",i=Math.max,s=Math.min;function o(l,c,u){var d,f,g,v,y,x,_=0,S=!1,C=!1,N=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(S=!!u.leading,C="maxWait"in u,g=C?i(r(u.maxWait)||0,c):g,N="trailing"in u?!!u.trailing:N);function A(F){var H=d,Q=f;return d=f=void 0,_=F,v=l.apply(Q,H),v}function E(F){return _=F,y=setTimeout(I,c),S?A(F):v}function k(F){var H=F-x,Q=F-_,oe=c-H;return C?s(oe,g-Q):oe}function O(F){var H=F-x,Q=F-_;return x===void 0||H>=c||H<0||C&&Q>=g}function I(){var F=e();if(O(F))return z(F);y=setTimeout(I,k(F))}function z(F){return y=void 0,N&&d?A(F):(d=f=void 0,v)}function W(){y!==void 0&&clearTimeout(y),_=0,d=x=f=y=void 0}function V(){return y===void 0?v:z(e())}function q(){var F=e(),H=O(F);if(d=arguments,f=this,x=F,H){if(y===void 0)return E(x);if(C)return clearTimeout(y),y=setTimeout(I,c),A(x)}return y===void 0&&(y=setTimeout(I,c)),v}return q.cancel=W,q.flush=V,q}return G2=o,G2}var Z2,E8;function RLe(){if(E8)return Z2;E8=1;var t=OLe(),e=Nd(),r="Expected a function";function n(i,s,o){var l=!0,c=!0;if(typeof i!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(i,s,{leading:l,maxWait:s,trailing:c})}return Z2=n,Z2}var MLe=RLe();const Qte=Nr(MLe);function ly(t){"@babel/helpers - typeof";return ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ly(t)}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){ILe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ILe(t,e,r){return e=LLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LLe(t){var e=DLe(t,"string");return ly(e)=="symbol"?e:e+""}function DLe(t,e){if(ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Le(t,e){return qLe(t)||zLe(t,e)||BLe(t,e)||FLe()}function FLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BLe(t,e){if(t){if(typeof t=="string")return k8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k8(t,e)}}function k8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qLe(t){if(Array.isArray(t))return t}var tp=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,i=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,d=u===void 0?0:u,f=t.minHeight,g=t.maxHeight,v=t.children,y=t.debounce,x=y===void 0?0:y,_=t.id,S=t.className,C=t.onResize,N=t.style,A=N===void 0?{}:N,E=b.useRef(null),k=b.useRef();k.current=C,b.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var O=b.useState({containerWidth:i.width,containerHeight:i.height}),I=$Le(O,2),z=I[0],W=I[1],V=b.useCallback(function(F,H){W(function(Q){var oe=Math.round(F),K=Math.round(H);return Q.containerWidth===oe&&Q.containerHeight===K?Q:{containerWidth:oe,containerHeight:K}})},[]);b.useEffect(function(){var F=function(Z){var se,X=Z[0].contentRect,ce=X.width,je=X.height;V(ce,je),(se=k.current)===null||se===void 0||se.call(k,ce,je)};x>0&&(F=Qte(F,x,{trailing:!0,leading:!1}));var H=new ResizeObserver(F),Q=E.current.getBoundingClientRect(),oe=Q.width,K=Q.height;return V(oe,K),H.observe(E.current),function(){H.disconnect()}},[V,x]);var q=b.useMemo(function(){var F=z.containerWidth,H=z.containerHeight;if(F<0||H<0)return null;Ro(xf(o)||xf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Ro(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Q=xf(o)?F:o,oe=xf(c)?H:c;r&&r>0&&(Q?oe=Q/r:oe&&(Q=oe*r),g&&oe>g&&(oe=g)),Ro(Q>0||oe>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Q,oe,o,c,d,f,r);var K=!Array.isArray(v)&&Ac(v.type).endsWith("Chart");return re.Children.map(v,function(te){return re.isValidElement(te)?b.cloneElement(te,wb({width:Q,height:oe},K?{style:wb({height:"100%",width:"100%",maxHeight:oe,maxWidth:Q},te.props.style)}:{})):te})},[r,v,c,g,f,d,z,o]);return re.createElement("div",{id:_?"".concat(_):void 0,className:hr("recharts-responsive-container",S),style:wb(wb({},A),{},{width:o,height:c,minWidth:d,minHeight:f,maxHeight:g}),ref:E},q)}),cy=function(e){return null};cy.displayName="Cell";function uy(t){"@babel/helpers - typeof";return uy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uy(t)}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){ULe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ULe(t,e,r){return e=VLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VLe(t){var e=WLe(t,"string");return uy(e)=="symbol"?e:e+""}function WLe(t,e){if(uy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rp={widthCache:{},cacheCount:0},HLe=2e3,KLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},T8="recharts_measurement_span";function GLe(t){var e=aO({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Av=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||ah.isSsr)return{width:0,height:0};var n=GLe(r),i=JSON.stringify({text:e,copyStyle:n});if(rp.widthCache[i])return rp.widthCache[i];try{var s=document.getElementById(T8);s||(s=document.createElement("span"),s.setAttribute("id",T8),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=aO(aO({},KLe),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return rp.widthCache[i]=c,++rp.cacheCount>HLe&&(rp.cacheCount=0,rp.widthCache={}),c}catch{return{width:0,height:0}}},ZLe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function dy(t){"@babel/helpers - typeof";return dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dy(t)}function Jw(t,e){return QLe(t)||JLe(t,e)||XLe(t,e)||YLe()}function YLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XLe(t,e){if(t){if(typeof t=="string")return O8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O8(t,e)}}function O8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function JLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function QLe(t){if(Array.isArray(t))return t}function eDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rDe(n.key),n)}}function tDe(t,e,r){return e&&R8(t.prototype,e),r&&R8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rDe(t){var e=nDe(t,"string");return dy(e)=="symbol"?e:e+""}function nDe(t,e){if(dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var M8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I8=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iDe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,sDe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ere={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},aDe=Object.keys(ere),bp="NaN";function oDe(t,e){return t*ere[e]}var _b=function(){function t(e,r){eDe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!iDe.test(r)&&(this.num=NaN,this.unit=""),aDe.includes(r)&&(this.num=oDe(e,r),this.unit="px")}return tDe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,i=(n=sDe.exec(r))!==null&&n!==void 0?n:[],s=Jw(i,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])}();function tre(t){if(t.includes(bp))return bp;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=M8.exec(e))!==null&&r!==void 0?r:[],i=Jw(n,4),s=i[1],o=i[2],l=i[3],c=_b.parse(s??""),u=_b.parse(l??""),d=o==="*"?c.multiply(u):c.divide(u);if(d.isNaN())return bp;e=e.replace(M8,d.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,g=(f=I8.exec(e))!==null&&f!==void 0?f:[],v=Jw(g,4),y=v[1],x=v[2],_=v[3],S=_b.parse(y??""),C=_b.parse(_??""),N=x==="+"?S.add(C):S.subtract(C);if(N.isNaN())return bp;e=e.replace(I8,N.toString())}return e}var L8=/\(([^()]*)\)/;function lDe(t){for(var e=t;e.includes("(");){var r=L8.exec(e),n=Jw(r,2),i=n[1];e=e.replace(L8,tre(i))}return e}function cDe(t){var e=t.replace(/\s+/g,"");return e=lDe(e),e=tre(e),e}function uDe(t){try{return cDe(t)}catch{return bp}}function Y2(t){var e=uDe(t.slice(5,-1));return e===bp?"":e}var dDe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],fDe=["dx","dy","angle","className","breakAll"];function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oO.apply(this,arguments)}function D8(t,e){if(t==null)return{};var r=hDe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function $8(t,e){return vDe(t)||gDe(t,e)||mDe(t,e)||pDe()}function pDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mDe(t,e){if(t){if(typeof t=="string")return F8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return F8(t,e)}}function F8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function gDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function vDe(t){if(Array.isArray(t))return t}var rre=/[ \f\n\r\t\v\u2028\u2029]+/,nre=function(e){var r=e.children,n=e.breakAll,i=e.style;try{var s=[];Qt(r)||(n?s=r.toString().split(""):s=r.toString().split(rre));var o=s.map(function(c){return{word:c,width:Av(c,i).width}}),l=n?0:Av(" ",i).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},yDe=function(e,r,n,i,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,d=ut(o),f=l,g=function(){var Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Q.reduce(function(oe,K){var te=K.word,Z=K.width,se=oe[oe.length-1];if(se&&(i==null||s||se.width+Z+n<Number(i)))se.words.push(te),se.width+=Z+n;else{var X={words:[te],width:Z};oe.push(X)}return oe},[])},v=g(r),y=function(Q){return Q.reduce(function(oe,K){return oe.width>K.width?oe:K})};if(!d)return v;for(var x="…",_=function(Q){var oe=f.slice(0,Q),K=nre({breakAll:u,style:c,children:oe+x}).wordsWithComputedWidth,te=g(K),Z=te.length>o||y(te).width>Number(i);return[Z,te]},S=0,C=f.length-1,N=0,A;S<=C&&N<=f.length-1;){var E=Math.floor((S+C)/2),k=E-1,O=_(k),I=$8(O,2),z=I[0],W=I[1],V=_(E),q=$8(V,1),F=q[0];if(!z&&!F&&(S=E+1),z&&F&&(C=E-1),!z&&F){A=W;break}N++}return A||v},B8=function(e){var r=Qt(e)?[]:e.toString().split(rre);return[{words:r}]},xDe=function(e){var r=e.width,n=e.scaleToFit,i=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!ah.isSsr){var c,u,d=nre({breakAll:o,children:i,style:s});if(d){var f=d.wordsWithComputedWidth,g=d.spaceWidth;c=f,u=g}else return B8(i);return yDe({breakAll:o,children:i,maxLines:l,style:s},c,u,r,n)}return B8(i)},z8="#808080",fy=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,d=e.scaleToFit,f=d===void 0?!1:d,g=e.textAnchor,v=g===void 0?"start":g,y=e.verticalAnchor,x=y===void 0?"end":y,_=e.fill,S=_===void 0?z8:_,C=D8(e,dDe),N=b.useMemo(function(){return xDe({breakAll:C.breakAll,children:C.children,maxLines:C.maxLines,scaleToFit:f,style:C.style,width:C.width})},[C.breakAll,C.children,C.maxLines,f,C.style,C.width]),A=C.dx,E=C.dy,k=C.angle,O=C.className,I=C.breakAll,z=D8(C,fDe);if(!mi(n)||!mi(s))return null;var W=n+(ut(A)?A:0),V=s+(ut(E)?E:0),q;switch(x){case"start":q=Y2("calc(".concat(u,")"));break;case"middle":q=Y2("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:q=Y2("calc(".concat(N.length-1," * -").concat(l,")"));break}var F=[];if(f){var H=N[0].width,Q=C.width;F.push("scale(".concat((ut(Q)?Q/H:1)/H,")"))}return k&&F.push("rotate(".concat(k,", ").concat(W,", ").concat(V,")")),F.length&&(z.transform=F.join(" ")),re.createElement("text",oO({},ur(z,!0),{x:W,y:V,className:hr("recharts-text",O),textAnchor:v,fill:S.includes("url")?z8:S}),N.map(function(oe,K){var te=oe.words.join(I?"":" ");return re.createElement("tspan",{x:W,dy:K===0?q:l,key:"".concat(te,"-").concat(K)},te)}))};function ud(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function bDe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lL(t){let e,r,n;t.length!==2?(e=ud,r=(l,c)=>ud(t(l),c),n=(l,c)=>t(l)-c):(e=t===ud||t===bDe?t:wDe,r=t,n=t);function i(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<0?u=f+1:d=f}while(u<d)}return u}function s(l,c,u=0,d=l.length){if(u<d){if(e(c,c)!==0)return d;do{const f=u+d>>>1;r(l[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,c,u=0,d=l.length){const f=i(l,c,u,d-1);return f>u&&n(l[f-1],c)>-n(l[f],c)?f-1:f}return{left:i,center:o,right:s}}function wDe(){return 0}function ire(t){return t===null?NaN:+t}function*_De(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const SDe=lL(ud),Ex=SDe.right;lL(ire).center;class q8 extends Map{constructor(e,r=NDe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(U8(this,e))}has(e){return super.has(U8(this,e))}set(e,r){return super.set(jDe(this,e),r)}delete(e){return super.delete(CDe(this,e))}}function U8({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function jDe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function CDe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function NDe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function EDe(t=ud){if(t===ud)return sre;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function sre(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const PDe=Math.sqrt(50),kDe=Math.sqrt(10),ADe=Math.sqrt(2);function Qw(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),o=s>=PDe?10:s>=kDe?5:s>=ADe?2:1;let l,c,u;return i<0?(u=Math.pow(10,-i)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,i)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?Qw(t,e,r*2):[l,c,u]}function lO(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,o]=n?Qw(e,t,r):Qw(t,e,r);if(!(s>=i))return[];const l=s-i+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(i+u)/-o;else for(let u=0;u<l;++u)c[u]=(i+u)*o;return c}function cO(t,e,r){return e=+e,t=+t,r=+r,Qw(t,e,r)[2]}function uO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?cO(e,t,r):cO(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function V8(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function W8(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function are(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?sre:EDe(i);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),v=Math.max(r,Math.floor(e-u*f/c+g)),y=Math.min(n,Math.floor(e+(c-u)*f/c+g));are(t,e,v,y,i)}const s=t[e];let o=r,l=n;for(Gg(t,r,e),i(t[n],s)>0&&Gg(t,r,n);o<l;){for(Gg(t,o,l),++o,--l;i(t[o],s)<0;)++o;for(;i(t[l],s)>0;)--l}i(t[r],s)===0?Gg(t,r,l):(++l,Gg(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Gg(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function TDe(t,e,r){if(t=Float64Array.from(_De(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return W8(t);if(e>=1)return V8(t);var n,i=(n-1)*e,s=Math.floor(i),o=V8(are(t,s).subarray(0,s+1)),l=W8(t.subarray(s+1));return o+(l-o)*(i-s)}}function ODe(t,e,r=ire){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(i-s)}}function RDe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function to(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Jc(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const dO=Symbol("implicit");function cL(){var t=new q8,e=[],r=[],n=dO;function i(s){let o=t.get(s);if(o===void 0){if(n!==dO)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new q8;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return cL(e,r).unknown(n)},to.apply(i,arguments),i}function hy(){var t=cL().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,o,l=!1,c=0,u=0,d=.5;delete t.unknown;function f(){var g=e().length,v=i<n,y=v?i:n,x=v?n:i;s=(x-y)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),y+=(x-y-s*(g-c))*d,o=s*(1-c),l&&(y=Math.round(y),o=Math.round(o));var _=RDe(g).map(function(S){return y+s*S});return r(v?_.reverse():_)}return t.domain=function(g){return arguments.length?(e(g),f()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,l=!0,f()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,f()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),f()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),f()):c},t.paddingOuter=function(g){return arguments.length?(u=+g,f()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),f()):d},t.copy=function(){return hy(e(),[n,i]).round(l).paddingInner(c).paddingOuter(u).align(d)},to.apply(f(),arguments)}function ore(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ore(e())},t}function Tv(){return ore(hy.apply(null,arguments).paddingInner(1))}function uL(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function lre(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Px(){}var py=.7,e_=1/py,Op="\\s*([+-]?\\d+)\\s*",my="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",bl="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MDe=/^#([0-9a-f]{3,8})$/,IDe=new RegExp(`^rgb\\(${Op},${Op},${Op}\\)$`),LDe=new RegExp(`^rgb\\(${bl},${bl},${bl}\\)$`),DDe=new RegExp(`^rgba\\(${Op},${Op},${Op},${my}\\)$`),$De=new RegExp(`^rgba\\(${bl},${bl},${bl},${my}\\)$`),FDe=new RegExp(`^hsl\\(${my},${bl},${bl}\\)$`),BDe=new RegExp(`^hsla\\(${my},${bl},${bl},${my}\\)$`),H8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};uL(Px,gy,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:K8,formatHex:K8,formatHex8:zDe,formatHsl:qDe,formatRgb:G8,toString:G8});function K8(){return this.rgb().formatHex()}function zDe(){return this.rgb().formatHex8()}function qDe(){return cre(this).formatHsl()}function G8(){return this.rgb().formatRgb()}function gy(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=MDe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Z8(e):r===3?new Bs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Sb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Sb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=IDe.exec(t))?new Bs(e[1],e[2],e[3],1):(e=LDe.exec(t))?new Bs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=DDe.exec(t))?Sb(e[1],e[2],e[3],e[4]):(e=$De.exec(t))?Sb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=FDe.exec(t))?J8(e[1],e[2]/100,e[3]/100,1):(e=BDe.exec(t))?J8(e[1],e[2]/100,e[3]/100,e[4]):H8.hasOwnProperty(t)?Z8(H8[t]):t==="transparent"?new Bs(NaN,NaN,NaN,0):null}function Z8(t){return new Bs(t>>16&255,t>>8&255,t&255,1)}function Sb(t,e,r,n){return n<=0&&(t=e=r=NaN),new Bs(t,e,r,n)}function UDe(t){return t instanceof Px||(t=gy(t)),t?(t=t.rgb(),new Bs(t.r,t.g,t.b,t.opacity)):new Bs}function fO(t,e,r,n){return arguments.length===1?UDe(t):new Bs(t,e,r,n??1)}function Bs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}uL(Bs,fO,lre(Px,{brighter(t){return t=t==null?e_:Math.pow(e_,t),new Bs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?py:Math.pow(py,t),new Bs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bs(Tf(this.r),Tf(this.g),Tf(this.b),t_(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Y8,formatHex:Y8,formatHex8:VDe,formatRgb:X8,toString:X8}));function Y8(){return`#${bf(this.r)}${bf(this.g)}${bf(this.b)}`}function VDe(){return`#${bf(this.r)}${bf(this.g)}${bf(this.b)}${bf((isNaN(this.opacity)?1:this.opacity)*255)}`}function X8(){const t=t_(this.opacity);return`${t===1?"rgb(":"rgba("}${Tf(this.r)}, ${Tf(this.g)}, ${Tf(this.b)}${t===1?")":`, ${t})`}`}function t_(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bf(t){return t=Tf(t),(t<16?"0":"")+t.toString(16)}function J8(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Eo(t,e,r,n)}function cre(t){if(t instanceof Eo)return new Eo(t.h,t.s,t.l,t.opacity);if(t instanceof Px||(t=gy(t)),!t)return new Eo;if(t instanceof Eo)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-i,c=(s+i)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+i:2-s-i,o*=60):l=c>0&&c<1?0:o,new Eo(o,l,c,t.opacity)}function WDe(t,e,r,n){return arguments.length===1?cre(t):new Eo(t,e,r,n??1)}function Eo(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}uL(Eo,WDe,lre(Px,{brighter(t){return t=t==null?e_:Math.pow(e_,t),new Eo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?py:Math.pow(py,t),new Eo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new Bs(X2(t>=240?t-240:t+120,i,n),X2(t,i,n),X2(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Eo(Q8(this.h),jb(this.s),jb(this.l),t_(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=t_(this.opacity);return`${t===1?"hsl(":"hsla("}${Q8(this.h)}, ${jb(this.s)*100}%, ${jb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Q8(t){return t=(t||0)%360,t<0?t+360:t}function jb(t){return Math.max(0,Math.min(1,t||0))}function X2(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const dL=t=>()=>t;function HDe(t,e){return function(r){return t+r*e}}function KDe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function GDe(t){return(t=+t)==1?ure:function(e,r){return r-e?KDe(e,r,t):dL(isNaN(e)?r:e)}}function ure(t,e){var r=e-t;return r?HDe(t,r):dL(isNaN(t)?e:t)}const eU=function t(e){var r=GDe(e);function n(i,s){var o=r((i=fO(i)).r,(s=fO(s)).r),l=r(i.g,s.g),c=r(i.b,s.b),u=ure(i.opacity,s.opacity);return function(d){return i.r=o(d),i.g=l(d),i.b=c(d),i.opacity=u(d),i+""}}return n.gamma=t,n}(1);function ZDe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function YDe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function XDe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)i[o]=Xm(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=i[o](l);return s}}function JDe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function r_(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function QDe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Xm(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var hO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,J2=new RegExp(hO.source,"g");function e4e(t){return function(){return t}}function t4e(t){return function(e){return t(e)+""}}function r4e(t,e){var r=hO.lastIndex=J2.lastIndex=0,n,i,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=hO.exec(t))&&(i=J2.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,c.push({i:o,x:r_(n,i)})),r=J2.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?t4e(c[0].x):e4e(e):(e=c.length,function(u){for(var d=0,f;d<e;++d)l[(f=c[d]).i]=f.x(u);return l.join("")})}function Xm(t,e){var r=typeof e,n;return e==null||r==="boolean"?dL(e):(r==="number"?r_:r==="string"?(n=gy(e))?(e=n,eU):r4e:e instanceof gy?eU:e instanceof Date?JDe:YDe(e)?ZDe:Array.isArray(e)?XDe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?QDe:r_)(t,e)}function fL(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function n4e(t,e){e===void 0&&(e=t,t=Xm);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function i4e(t){return function(){return t}}function n_(t){return+t}var tU=[0,1];function ys(t){return t}function pO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:i4e(isNaN(e)?NaN:.5)}function s4e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function a4e(t,e,r){var n=t[0],i=t[1],s=e[0],o=e[1];return i<n?(n=pO(i,n),s=r(o,s)):(n=pO(n,i),s=r(s,o)),function(l){return s(n(l))}}function o4e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)i[o]=pO(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=Ex(t,l,1,n)-1;return s[c](i[c](l))}}function kx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Q1(){var t=tU,e=tU,r=Xm,n,i,s,o=ys,l,c,u;function d(){var g=Math.min(t.length,e.length);return o!==ys&&(o=s4e(t[0],t[g-1])),l=g>2?o4e:a4e,c=u=null,f}function f(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return f.invert=function(g){return o(i((u||(u=l(e,t.map(n),r_)))(g)))},f.domain=function(g){return arguments.length?(t=Array.from(g,n_),d()):t.slice()},f.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},f.rangeRound=function(g){return e=Array.from(g),r=fL,d()},f.clamp=function(g){return arguments.length?(o=g?!0:ys,d()):o!==ys},f.interpolate=function(g){return arguments.length?(r=g,d()):r},f.unknown=function(g){return arguments.length?(s=g,f):s},function(g,v){return n=g,i=v,d()}}function hL(){return Q1()(ys,ys)}function l4e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function i_(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function am(t){return t=i_(Math.abs(t)),t?t[1]:NaN}function c4e(t,e){return function(r,n){for(var i=r.length,s=[],o=0,l=t[0],c=0;i>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(i-=l,i+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function u4e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var d4e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function vy(t){if(!(e=d4e.exec(t)))throw new Error("invalid format: "+t);var e;return new pL({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}vy.prototype=pL.prototype;function pL(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}pL.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function f4e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var dre;function h4e(t,e){var r=i_(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(dre=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+i_(t,Math.max(0,e+s-1))[0]}function rU(t,e){var r=i_(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const nU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:l4e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>rU(t*100,e),r:rU,s:h4e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function iU(t){return t}var sU=Array.prototype.map,aU=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function p4e(t){var e=t.grouping===void 0||t.thousands===void 0?iU:c4e(sU.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?iU:u4e(sU.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(f){f=vy(f);var g=f.fill,v=f.align,y=f.sign,x=f.symbol,_=f.zero,S=f.width,C=f.comma,N=f.precision,A=f.trim,E=f.type;E==="n"?(C=!0,E="g"):nU[E]||(N===void 0&&(N=12),A=!0,E="g"),(_||g==="0"&&v==="=")&&(_=!0,g="0",v="=");var k=x==="$"?r:x==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",O=x==="$"?n:/[%p]/.test(E)?o:"",I=nU[E],z=/[defgprs%]/.test(E);N=N===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function W(V){var q=k,F=O,H,Q,oe;if(E==="c")F=I(V)+F,V="";else{V=+V;var K=V<0||1/V<0;if(V=isNaN(V)?c:I(Math.abs(V),N),A&&(V=f4e(V)),K&&+V==0&&y!=="+"&&(K=!1),q=(K?y==="("?y:l:y==="-"||y==="("?"":y)+q,F=(E==="s"?aU[8+dre/3]:"")+F+(K&&y==="("?")":""),z){for(H=-1,Q=V.length;++H<Q;)if(oe=V.charCodeAt(H),48>oe||oe>57){F=(oe===46?i+V.slice(H+1):V.slice(H))+F,V=V.slice(0,H);break}}}C&&!_&&(V=e(V,1/0));var te=q.length+V.length+F.length,Z=te<S?new Array(S-te+1).join(g):"";switch(C&&_&&(V=e(Z+V,Z.length?S-F.length:1/0),Z=""),v){case"<":V=q+V+F+Z;break;case"=":V=q+Z+V+F;break;case"^":V=Z.slice(0,te=Z.length>>1)+q+V+F+Z.slice(te);break;default:V=Z+q+V+F;break}return s(V)}return W.toString=function(){return f+""},W}function d(f,g){var v=u((f=vy(f),f.type="f",f)),y=Math.max(-8,Math.min(8,Math.floor(am(g)/3)))*3,x=Math.pow(10,-y),_=aU[8+y/3];return function(S){return v(x*S)+_}}return{format:u,formatPrefix:d}}var Cb,mL,fre;m4e({thousands:",",grouping:[3],currency:["$",""]});function m4e(t){return Cb=p4e(t),mL=Cb.format,fre=Cb.formatPrefix,Cb}function g4e(t){return Math.max(0,-am(Math.abs(t)))}function v4e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(am(e)/3)))*3-am(Math.abs(t)))}function y4e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,am(e)-am(t))+1}function hre(t,e,r,n){var i=uO(t,e,r),s;switch(n=vy(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=v4e(i,o))&&(n.precision=s),fre(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=y4e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=g4e(i))&&(n.precision=s-(n.type==="%")*2);break}}return mL(n)}function Pd(t){var e=t.domain;return t.ticks=function(r){var n=e();return lO(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return hre(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,o=n[i],l=n[s],c,u,d=10;for(l<o&&(u=o,o=l,l=u,u=i,i=s,s=u);d-- >0;){if(u=cO(o,l,r),u===c)return n[i]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function s_(){var t=hL();return t.copy=function(){return kx(t,s_())},to.apply(t,arguments),Pd(t)}function pre(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,n_),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return pre(t).unknown(e)},t=arguments.length?Array.from(t,n_):[0,1],Pd(r)}function mre(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],o;return s<i&&(o=r,r=n,n=o,o=i,i=s,s=o),t[r]=e.floor(i),t[n]=e.ceil(s),t}function oU(t){return Math.log(t)}function lU(t){return Math.exp(t)}function x4e(t){return-Math.log(-t)}function b4e(t){return-Math.exp(-t)}function w4e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _4e(t){return t===10?w4e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function S4e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cU(t){return(e,r)=>-t(-e,r)}function gL(t){const e=t(oU,lU),r=e.domain;let n=10,i,s;function o(){return i=S4e(n),s=_4e(n),r()[0]<0?(i=cU(i),s=cU(s),t(x4e,b4e)):t(oU,lU),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let g=i(u),v=i(d),y,x;const _=l==null?10:+l;let S=[];if(!(n%1)&&v-g<_){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(y=1;y<n;++y)if(x=g<0?y/s(-g):y*s(g),!(x<u)){if(x>d)break;S.push(x)}}else for(;g<=v;++g)for(y=n-1;y>=1;--y)if(x=g>0?y/s(-g):y*s(g),!(x<u)){if(x>d)break;S.push(x)}S.length*2<_&&(S=lO(u,d,_))}else S=lO(g,v,Math.min(v-g,_)).map(s);return f?S.reverse():S},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=vy(c)).precision==null&&(c.trim=!0),c=mL(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},e.nice=()=>r(mre(r(),{floor:l=>s(Math.floor(i(l))),ceil:l=>s(Math.ceil(i(l)))})),e}function gre(){const t=gL(Q1()).domain([1,10]);return t.copy=()=>kx(t,gre()).base(t.base()),to.apply(t,arguments),t}function uU(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function dU(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function vL(t){var e=1,r=t(uU(e),dU(e));return r.constant=function(n){return arguments.length?t(uU(e=+n),dU(e)):e},Pd(r)}function vre(){var t=vL(Q1());return t.copy=function(){return kx(t,vre()).constant(t.constant())},to.apply(t,arguments)}function fU(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function j4e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function C4e(t){return t<0?-t*t:t*t}function yL(t){var e=t(ys,ys),r=1;function n(){return r===1?t(ys,ys):r===.5?t(j4e,C4e):t(fU(r),fU(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Pd(e)}function xL(){var t=yL(Q1());return t.copy=function(){return kx(t,xL()).exponent(t.exponent())},to.apply(t,arguments),t}function N4e(){return xL.apply(null,arguments).exponent(.5)}function hU(t){return Math.sign(t)*t*t}function E4e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function yre(){var t=hL(),e=[0,1],r=!1,n;function i(s){var o=E4e(t(s));return isNaN(o)?n:r?Math.round(o):o}return i.invert=function(s){return t.invert(hU(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,n_)).map(hU)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return yre(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},to.apply(i,arguments),Pd(i)}function xre(){var t=[],e=[],r=[],n;function i(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=ODe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[Ex(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(ud),i()},s.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return xre().domain(t).range(e).unknown(n)},to.apply(s,arguments)}function bre(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function o(c){return c!=null&&c<=c?i[Ex(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,l()):i.slice()},o.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return bre().domain([t,e]).range(i).unknown(s)},to.apply(Pd(o),arguments)}function wre(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Ex(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wre().domain(t).range(e).unknown(r)},to.apply(i,arguments)}const Q2=new Date,ek=new Date;function gi(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),l=i.ceil(s);return s-o<l-s?o:l},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,l)=>{const c=[];if(s=i.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},i.filter=s=>gi(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(i.count=(s,o)=>(Q2.setTime(+s),ek.setTime(+o),t(Q2),t(ek),Math.floor(r(Q2,ek))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?o=>n(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const a_=gi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);a_.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):a_);a_.range;const xc=1e3,Ha=xc*60,bc=Ha*60,zc=bc*24,bL=zc*7,pU=zc*30,tk=zc*365,wf=gi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*xc)},(t,e)=>(e-t)/xc,t=>t.getUTCSeconds());wf.range;const wL=gi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xc)},(t,e)=>{t.setTime(+t+e*Ha)},(t,e)=>(e-t)/Ha,t=>t.getMinutes());wL.range;const _L=gi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ha)},(t,e)=>(e-t)/Ha,t=>t.getUTCMinutes());_L.range;const SL=gi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*xc-t.getMinutes()*Ha)},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getHours());SL.range;const jL=gi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*bc)},(t,e)=>(e-t)/bc,t=>t.getUTCHours());jL.range;const Ax=gi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ha)/zc,t=>t.getDate()-1);Ax.range;const eS=gi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zc,t=>t.getUTCDate()-1);eS.range;const _re=gi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/zc,t=>Math.floor(t/zc));_re.range;function oh(t){return gi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ha)/bL)}const tS=oh(0),o_=oh(1),P4e=oh(2),k4e=oh(3),om=oh(4),A4e=oh(5),T4e=oh(6);tS.range;o_.range;P4e.range;k4e.range;om.range;A4e.range;T4e.range;function lh(t){return gi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/bL)}const rS=lh(0),l_=lh(1),O4e=lh(2),R4e=lh(3),lm=lh(4),M4e=lh(5),I4e=lh(6);rS.range;l_.range;O4e.range;R4e.range;lm.range;M4e.range;I4e.range;const CL=gi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());CL.range;const NL=gi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());NL.range;const qc=gi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());qc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});qc.range;const Uc=gi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Uc.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Uc.range;function Sre(t,e,r,n,i,s){const o=[[wf,1,xc],[wf,5,5*xc],[wf,15,15*xc],[wf,30,30*xc],[s,1,Ha],[s,5,5*Ha],[s,15,15*Ha],[s,30,30*Ha],[i,1,bc],[i,3,3*bc],[i,6,6*bc],[i,12,12*bc],[n,1,zc],[n,2,2*zc],[r,1,bL],[e,1,pU],[e,3,3*pU],[t,1,tk]];function l(u,d,f){const g=d<u;g&&([u,d]=[d,u]);const v=f&&typeof f.range=="function"?f:c(u,d,f),y=v?v.range(u,+d+1):[];return g?y.reverse():y}function c(u,d,f){const g=Math.abs(d-u)/f,v=lL(([,,_])=>_).right(o,g);if(v===o.length)return t.every(uO(u/tk,d/tk,f));if(v===0)return a_.every(Math.max(uO(u,d,f),1));const[y,x]=o[g/o[v-1][2]<o[v][2]/g?v-1:v];return y.every(x)}return[l,c]}const[L4e,D4e]=Sre(Uc,NL,rS,_re,jL,_L),[$4e,F4e]=Sre(qc,CL,tS,Ax,SL,wL);function rk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function nk(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Zg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function B4e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=Yg(i),d=Xg(i),f=Yg(s),g=Xg(s),v=Yg(o),y=Xg(o),x=Yg(l),_=Xg(l),S=Yg(c),C=Xg(c),N={a:K,A:te,b:Z,B:se,c:null,d:bU,e:bU,f:c$e,g:x$e,G:w$e,H:a$e,I:o$e,j:l$e,L:jre,m:u$e,M:d$e,p:X,q:ce,Q:SU,s:jU,S:f$e,u:h$e,U:p$e,V:m$e,w:g$e,W:v$e,x:null,X:null,y:y$e,Y:b$e,Z:_$e,"%":_U},A={a:je,A:Te,b:qe,B:pe,c:null,d:wU,e:wU,f:N$e,g:L$e,G:$$e,H:S$e,I:j$e,j:C$e,L:Nre,m:E$e,M:P$e,p:ue,q:_e,Q:SU,s:jU,S:k$e,u:A$e,U:T$e,V:O$e,w:R$e,W:M$e,x:null,X:null,y:I$e,Y:D$e,Z:F$e,"%":_U},E={a:W,A:V,b:q,B:F,c:H,d:yU,e:yU,f:r$e,g:vU,G:gU,H:xU,I:xU,j:J4e,L:t$e,m:X4e,M:Q4e,p:z,q:Y4e,Q:i$e,s:s$e,S:e$e,u:W4e,U:H4e,V:K4e,w:V4e,W:G4e,x:Q,X:oe,y:vU,Y:gU,Z:Z4e,"%":n$e};N.x=k(r,N),N.X=k(n,N),N.c=k(e,N),A.x=k(r,A),A.X=k(n,A),A.c=k(e,A);function k(ye,Ie){return function(ne){var J=[],Ee=-1,Ne=0,Je=ye.length,Xe,Oe,mt;for(ne instanceof Date||(ne=new Date(+ne));++Ee<Je;)ye.charCodeAt(Ee)===37&&(J.push(ye.slice(Ne,Ee)),(Oe=mU[Xe=ye.charAt(++Ee)])!=null?Xe=ye.charAt(++Ee):Oe=Xe==="e"?" ":"0",(mt=Ie[Xe])&&(Xe=mt(ne,Oe)),J.push(Xe),Ne=Ee+1);return J.push(ye.slice(Ne,Ee)),J.join("")}}function O(ye,Ie){return function(ne){var J=Zg(1900,void 0,1),Ee=I(J,ye,ne+="",0),Ne,Je;if(Ee!=ne.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Ie&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Ne=nk(Zg(J.y,0,1)),Je=Ne.getUTCDay(),Ne=Je>4||Je===0?l_.ceil(Ne):l_(Ne),Ne=eS.offset(Ne,(J.V-1)*7),J.y=Ne.getUTCFullYear(),J.m=Ne.getUTCMonth(),J.d=Ne.getUTCDate()+(J.w+6)%7):(Ne=rk(Zg(J.y,0,1)),Je=Ne.getDay(),Ne=Je>4||Je===0?o_.ceil(Ne):o_(Ne),Ne=Ax.offset(Ne,(J.V-1)*7),J.y=Ne.getFullYear(),J.m=Ne.getMonth(),J.d=Ne.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Je="Z"in J?nk(Zg(J.y,0,1)).getUTCDay():rk(Zg(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Je+5)%7:J.w+J.U*7-(Je+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,nk(J)):rk(J)}}function I(ye,Ie,ne,J){for(var Ee=0,Ne=Ie.length,Je=ne.length,Xe,Oe;Ee<Ne;){if(J>=Je)return-1;if(Xe=Ie.charCodeAt(Ee++),Xe===37){if(Xe=Ie.charAt(Ee++),Oe=E[Xe in mU?Ie.charAt(Ee++):Xe],!Oe||(J=Oe(ye,ne,J))<0)return-1}else if(Xe!=ne.charCodeAt(J++))return-1}return J}function z(ye,Ie,ne){var J=u.exec(Ie.slice(ne));return J?(ye.p=d.get(J[0].toLowerCase()),ne+J[0].length):-1}function W(ye,Ie,ne){var J=v.exec(Ie.slice(ne));return J?(ye.w=y.get(J[0].toLowerCase()),ne+J[0].length):-1}function V(ye,Ie,ne){var J=f.exec(Ie.slice(ne));return J?(ye.w=g.get(J[0].toLowerCase()),ne+J[0].length):-1}function q(ye,Ie,ne){var J=S.exec(Ie.slice(ne));return J?(ye.m=C.get(J[0].toLowerCase()),ne+J[0].length):-1}function F(ye,Ie,ne){var J=x.exec(Ie.slice(ne));return J?(ye.m=_.get(J[0].toLowerCase()),ne+J[0].length):-1}function H(ye,Ie,ne){return I(ye,e,Ie,ne)}function Q(ye,Ie,ne){return I(ye,r,Ie,ne)}function oe(ye,Ie,ne){return I(ye,n,Ie,ne)}function K(ye){return o[ye.getDay()]}function te(ye){return s[ye.getDay()]}function Z(ye){return c[ye.getMonth()]}function se(ye){return l[ye.getMonth()]}function X(ye){return i[+(ye.getHours()>=12)]}function ce(ye){return 1+~~(ye.getMonth()/3)}function je(ye){return o[ye.getUTCDay()]}function Te(ye){return s[ye.getUTCDay()]}function qe(ye){return c[ye.getUTCMonth()]}function pe(ye){return l[ye.getUTCMonth()]}function ue(ye){return i[+(ye.getUTCHours()>=12)]}function _e(ye){return 1+~~(ye.getUTCMonth()/3)}return{format:function(ye){var Ie=k(ye+="",N);return Ie.toString=function(){return ye},Ie},parse:function(ye){var Ie=O(ye+="",!1);return Ie.toString=function(){return ye},Ie},utcFormat:function(ye){var Ie=k(ye+="",A);return Ie.toString=function(){return ye},Ie},utcParse:function(ye){var Ie=O(ye+="",!0);return Ie.toString=function(){return ye},Ie}}}var mU={"-":"",_:" ",0:"0"},Ai=/^\s*\d+/,z4e=/^%/,q4e=/[\\^$*+?|[\]().{}]/g;function Or(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function U4e(t){return t.replace(q4e,"\\$&")}function Yg(t){return new RegExp("^(?:"+t.map(U4e).join("|")+")","i")}function Xg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function V4e(t,e,r){var n=Ai.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function W4e(t,e,r){var n=Ai.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function H4e(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function K4e(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function G4e(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function gU(t,e,r){var n=Ai.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function vU(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Z4e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Y4e(t,e,r){var n=Ai.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function X4e(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function yU(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function J4e(t,e,r){var n=Ai.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function xU(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Q4e(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function e$e(t,e,r){var n=Ai.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function t$e(t,e,r){var n=Ai.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function r$e(t,e,r){var n=Ai.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function n$e(t,e,r){var n=z4e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function i$e(t,e,r){var n=Ai.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function s$e(t,e,r){var n=Ai.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function bU(t,e){return Or(t.getDate(),e,2)}function a$e(t,e){return Or(t.getHours(),e,2)}function o$e(t,e){return Or(t.getHours()%12||12,e,2)}function l$e(t,e){return Or(1+Ax.count(qc(t),t),e,3)}function jre(t,e){return Or(t.getMilliseconds(),e,3)}function c$e(t,e){return jre(t,e)+"000"}function u$e(t,e){return Or(t.getMonth()+1,e,2)}function d$e(t,e){return Or(t.getMinutes(),e,2)}function f$e(t,e){return Or(t.getSeconds(),e,2)}function h$e(t){var e=t.getDay();return e===0?7:e}function p$e(t,e){return Or(tS.count(qc(t)-1,t),e,2)}function Cre(t){var e=t.getDay();return e>=4||e===0?om(t):om.ceil(t)}function m$e(t,e){return t=Cre(t),Or(om.count(qc(t),t)+(qc(t).getDay()===4),e,2)}function g$e(t){return t.getDay()}function v$e(t,e){return Or(o_.count(qc(t)-1,t),e,2)}function y$e(t,e){return Or(t.getFullYear()%100,e,2)}function x$e(t,e){return t=Cre(t),Or(t.getFullYear()%100,e,2)}function b$e(t,e){return Or(t.getFullYear()%1e4,e,4)}function w$e(t,e){var r=t.getDay();return t=r>=4||r===0?om(t):om.ceil(t),Or(t.getFullYear()%1e4,e,4)}function _$e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Or(e/60|0,"0",2)+Or(e%60,"0",2)}function wU(t,e){return Or(t.getUTCDate(),e,2)}function S$e(t,e){return Or(t.getUTCHours(),e,2)}function j$e(t,e){return Or(t.getUTCHours()%12||12,e,2)}function C$e(t,e){return Or(1+eS.count(Uc(t),t),e,3)}function Nre(t,e){return Or(t.getUTCMilliseconds(),e,3)}function N$e(t,e){return Nre(t,e)+"000"}function E$e(t,e){return Or(t.getUTCMonth()+1,e,2)}function P$e(t,e){return Or(t.getUTCMinutes(),e,2)}function k$e(t,e){return Or(t.getUTCSeconds(),e,2)}function A$e(t){var e=t.getUTCDay();return e===0?7:e}function T$e(t,e){return Or(rS.count(Uc(t)-1,t),e,2)}function Ere(t){var e=t.getUTCDay();return e>=4||e===0?lm(t):lm.ceil(t)}function O$e(t,e){return t=Ere(t),Or(lm.count(Uc(t),t)+(Uc(t).getUTCDay()===4),e,2)}function R$e(t){return t.getUTCDay()}function M$e(t,e){return Or(l_.count(Uc(t)-1,t),e,2)}function I$e(t,e){return Or(t.getUTCFullYear()%100,e,2)}function L$e(t,e){return t=Ere(t),Or(t.getUTCFullYear()%100,e,2)}function D$e(t,e){return Or(t.getUTCFullYear()%1e4,e,4)}function $$e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?lm(t):lm.ceil(t),Or(t.getUTCFullYear()%1e4,e,4)}function F$e(){return"+0000"}function _U(){return"%"}function SU(t){return+t}function jU(t){return Math.floor(+t/1e3)}var np,Pre,kre;B$e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function B$e(t){return np=B4e(t),Pre=np.format,np.parse,kre=np.utcFormat,np.utcParse,np}function z$e(t){return new Date(t)}function q$e(t){return t instanceof Date?+t:+new Date(+t)}function EL(t,e,r,n,i,s,o,l,c,u){var d=hL(),f=d.invert,g=d.domain,v=u(".%L"),y=u(":%S"),x=u("%I:%M"),_=u("%I %p"),S=u("%a %d"),C=u("%b %d"),N=u("%B"),A=u("%Y");function E(k){return(c(k)<k?v:l(k)<k?y:o(k)<k?x:s(k)<k?_:n(k)<k?i(k)<k?S:C:r(k)<k?N:A)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?g(Array.from(k,q$e)):g().map(z$e)},d.ticks=function(k){var O=g();return t(O[0],O[O.length-1],k??10)},d.tickFormat=function(k,O){return O==null?E:u(O)},d.nice=function(k){var O=g();return(!k||typeof k.range!="function")&&(k=e(O[0],O[O.length-1],k??10)),k?g(mre(O,k)):d},d.copy=function(){return kx(d,EL(t,e,r,n,i,s,o,l,c,u))},d}function U$e(){return to.apply(EL($4e,F4e,qc,CL,tS,Ax,SL,wL,wf,Pre).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V$e(){return to.apply(EL(L4e,D4e,Uc,NL,rS,eS,jL,_L,wf,kre).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function nS(){var t=0,e=1,r,n,i,s,o=ys,l=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(i===0?.5:(f=(s(f)-r)*i,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(g){var v,y;return arguments.length?([v,y]=g,o=f(v,y),u):[o(0),o(1)]}}return u.range=d(Xm),u.rangeRound=d(fL),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function kd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Are(){var t=Pd(nS()(ys));return t.copy=function(){return kd(t,Are())},Jc.apply(t,arguments)}function Tre(){var t=gL(nS()).domain([1,10]);return t.copy=function(){return kd(t,Tre()).base(t.base())},Jc.apply(t,arguments)}function Ore(){var t=vL(nS());return t.copy=function(){return kd(t,Ore()).constant(t.constant())},Jc.apply(t,arguments)}function PL(){var t=yL(nS());return t.copy=function(){return kd(t,PL()).exponent(t.exponent())},Jc.apply(t,arguments)}function W$e(){return PL.apply(null,arguments).exponent(.5)}function Rre(){var t=[],e=ys;function r(n){if(n!=null&&!isNaN(n=+n))return e((Ex(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(ud),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>TDe(t,s/n))},r.copy=function(){return Rre(e).domain(t)},Jc.apply(r,arguments)}function iS(){var t=0,e=.5,r=1,n=1,i,s,o,l,c,u=ys,d,f=!1,g;function v(x){return isNaN(x=+x)?g:(x=.5+((x=+d(x))-s)*(n*x<n*s?l:c),u(f?Math.max(0,Math.min(1,x)):x))}v.domain=function(x){return arguments.length?([t,e,r]=x,i=d(t=+t),s=d(e=+e),o=d(r=+r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(x){return arguments.length?(f=!!x,v):f},v.interpolator=function(x){return arguments.length?(u=x,v):u};function y(x){return function(_){var S,C,N;return arguments.length?([S,C,N]=_,u=n4e(x,[S,C,N]),v):[u(0),u(.5),u(1)]}}return v.range=y(Xm),v.rangeRound=y(fL),v.unknown=function(x){return arguments.length?(g=x,v):g},function(x){return d=x,i=x(t),s=x(e),o=x(r),l=i===s?0:.5/(s-i),c=s===o?0:.5/(o-s),n=s<i?-1:1,v}}function Mre(){var t=Pd(iS()(ys));return t.copy=function(){return kd(t,Mre())},Jc.apply(t,arguments)}function Ire(){var t=gL(iS()).domain([.1,1,10]);return t.copy=function(){return kd(t,Ire()).base(t.base())},Jc.apply(t,arguments)}function Lre(){var t=vL(iS());return t.copy=function(){return kd(t,Lre()).constant(t.constant())},Jc.apply(t,arguments)}function kL(){var t=yL(iS());return t.copy=function(){return kd(t,kL()).exponent(t.exponent())},Jc.apply(t,arguments)}function H$e(){return kL.apply(null,arguments).exponent(.5)}const CU=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hy,scaleDiverging:Mre,scaleDivergingLog:Ire,scaleDivergingPow:kL,scaleDivergingSqrt:H$e,scaleDivergingSymlog:Lre,scaleIdentity:pre,scaleImplicit:dO,scaleLinear:s_,scaleLog:gre,scaleOrdinal:cL,scalePoint:Tv,scalePow:xL,scaleQuantile:xre,scaleQuantize:bre,scaleRadial:yre,scaleSequential:Are,scaleSequentialLog:Tre,scaleSequentialPow:PL,scaleSequentialQuantile:Rre,scaleSequentialSqrt:W$e,scaleSequentialSymlog:Ore,scaleSqrt:N4e,scaleSymlog:vre,scaleThreshold:wre,scaleTime:U$e,scaleUtc:V$e,tickFormat:hre},Symbol.toStringTag,{value:"Module"}));var ik,NU;function Dre(){if(NU)return ik;NU=1;var t=Km();function e(r,n,i){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):i(c,u)))var u=c,d=l}return d}return ik=e,ik}var sk,EU;function K$e(){if(EU)return sk;EU=1;function t(e,r){return e>r}return sk=t,sk}var ak,PU;function G$e(){if(PU)return ak;PU=1;var t=Dre(),e=K$e(),r=Ym();function n(i){return i&&i.length?t(i,r,e):void 0}return ak=n,ak}var Z$e=G$e();const sS=Nr(Z$e);var ok,kU;function Y$e(){if(kU)return ok;kU=1;function t(e,r){return e<r}return ok=t,ok}var lk,AU;function X$e(){if(AU)return lk;AU=1;var t=Dre(),e=Y$e(),r=Ym();function n(i){return i&&i.length?t(i,r,e):void 0}return lk=n,lk}var J$e=X$e();const aS=Nr(J$e);var ck,TU;function Q$e(){if(TU)return ck;TU=1;var t=WI(),e=Ed(),r=Hte(),n=Ks();function i(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return ck=i,ck}var uk,OU;function e3e(){if(OU)return uk;OU=1;var t=Vte(),e=Q$e();function r(n,i){return t(e(n,i),1)}return uk=r,uk}var t3e=e3e();const r3e=Nr(t3e);var dk,RU;function n3e(){if(RU)return dk;RU=1;var t=iL();function e(r,n){return t(r,n)}return dk=e,dk}var i3e=n3e();const Tx=Nr(i3e);var Jm=1e9,s3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},TL,jn=!0,Ja="[DecimalError] ",Of=Ja+"Invalid argument: ",AL=Ja+"Exponent out of range: ",Qm=Math.floor,df=Math.pow,a3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,fa,Ci=1e7,yn=7,$re=9007199254740991,c_=Qm($re/yn),xt={};xt.absoluteValue=xt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xt.comparedTo=xt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};xt.decimalPlaces=xt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*yn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xt.dividedBy=xt.div=function(t){return Tc(this,new this.constructor(t))};xt.dividedToIntegerBy=xt.idiv=function(t){var e=this,r=e.constructor;return nn(Tc(e,new r(t),0,1),r.precision)};xt.equals=xt.eq=function(t){return!this.cmp(t)};xt.exponent=function(){return ni(this)};xt.greaterThan=xt.gt=function(t){return this.cmp(t)>0};xt.greaterThanOrEqualTo=xt.gte=function(t){return this.cmp(t)>=0};xt.isInteger=xt.isint=function(){return this.e>this.d.length-2};xt.isNegative=xt.isneg=function(){return this.s<0};xt.isPositive=xt.ispos=function(){return this.s>0};xt.isZero=function(){return this.s===0};xt.lessThan=xt.lt=function(t){return this.cmp(t)<0};xt.lessThanOrEqualTo=xt.lte=function(t){return this.cmp(t)<1};xt.logarithm=xt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(fa))throw Error(Ja+"NaN");if(r.s<1)throw Error(Ja+(r.s?"NaN":"-Infinity"));return r.eq(fa)?new n(0):(jn=!1,e=Tc(yy(r,s),yy(t,s),s),jn=!0,nn(e,i))};xt.minus=xt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zre(e,t):Fre(e,(t.s=-t.s,t))};xt.modulo=xt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Ja+"NaN");return r.s?(jn=!1,e=Tc(r,t,0,1).times(t),jn=!0,r.minus(e)):nn(new n(r),i)};xt.naturalExponential=xt.exp=function(){return Bre(this)};xt.naturalLogarithm=xt.ln=function(){return yy(this)};xt.negated=xt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xt.plus=xt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Fre(e,t):zre(e,(t.s=-t.s,t))};xt.precision=xt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Of+t);if(e=ni(i)+1,n=i.d.length-1,r=n*yn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xt.squareRoot=xt.sqrt=function(){var t,e,r,n,i,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(Ja+"NaN")}for(t=ni(l),jn=!1,i=Math.sqrt(+l),i==0||i==1/0?(e=hl(l.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Qm((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=o=r+3;;)if(s=n,n=s.plus(Tc(l,s,o+2)).times(.5),hl(s.d).slice(0,o)===(e=hl(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(nn(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return jn=!0,nn(n,r)};xt.times=xt.mul=function(t){var e,r,n,i,s,o,l,c,u,d=this,f=d.constructor,g=d.d,v=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,c=g.length,u=v.length,c<u&&(s=g,g=v,v=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=c+n;i>n;)l=s[i]+v[n]*g[i-n-1]+e,s[i--]=l%Ci|0,e=l/Ci|0;s[i]=(s[i]+e)%Ci|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,jn?nn(t,f.precision):t};xt.toDecimalPlaces=xt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Pl(t,0,Jm),e===void 0?e=n.rounding:Pl(e,0,8),nn(r,t+ni(r)+1,e))};xt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Vf(n,!0):(Pl(t,0,Jm),e===void 0?e=i.rounding:Pl(e,0,8),n=nn(new i(n),t+1,e),r=Vf(n,!0,t+1)),r};xt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?Vf(i):(Pl(t,0,Jm),e===void 0?e=s.rounding:Pl(e,0,8),n=nn(new s(i),t+ni(i)+1,e),r=Vf(n.abs(),!1,t+ni(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};xt.toInteger=xt.toint=function(){var t=this,e=t.constructor;return nn(new e(t),ni(t)+1,e.rounding)};xt.toNumber=function(){return+this};xt.toPower=xt.pow=function(t){var e,r,n,i,s,o,l=this,c=l.constructor,u=12,d=+(t=new c(t));if(!t.s)return new c(fa);if(l=new c(l),!l.s){if(t.s<1)throw Error(Ja+"Infinity");return l}if(l.eq(fa))return l;if(n=c.precision,t.eq(fa))return nn(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=d<0?-d:d)<=$re){for(i=new c(fa),e=Math.ceil(n/yn+4),jn=!1;r%2&&(i=i.times(l),IU(i.d,e)),r=Qm(r/2),r!==0;)l=l.times(l),IU(l.d,e);return jn=!0,t.s<0?new c(fa).div(i):nn(i,n)}}else if(s<0)throw Error(Ja+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,jn=!1,i=t.times(yy(l,n+u)),jn=!0,i=Bre(i),i.s=s,i};xt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=ni(i),n=Vf(i,r<=s.toExpNeg||r>=s.toExpPos)):(Pl(t,1,Jm),e===void 0?e=s.rounding:Pl(e,0,8),i=nn(new s(i),t,e),r=ni(i),n=Vf(i,t<=r||r<=s.toExpNeg,t)),n};xt.toSignificantDigits=xt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Pl(t,1,Jm),e===void 0?e=n.rounding:Pl(e,0,8)),nn(new n(r),t,e)};xt.toString=xt.valueOf=xt.val=xt.toJSON=xt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ni(t),r=t.constructor;return Vf(t,e<=r.toExpNeg||e>=r.toExpPos)};function Fre(t,e){var r,n,i,s,o,l,c,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),jn?nn(e,f):e;if(c=t.d,u=e.d,o=t.e,i=e.e,c=c.slice(),s=o-i,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,i=o,l=c.length),o=Math.ceil(f/yn),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ci|0,c[s]%=Ci;for(r&&(c.unshift(r),++i),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=i,jn?nn(e,f):e}function Pl(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Of+t)}function hl(t){var e,r,n,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)n=t[e]+"",r=yn-n.length,r&&(s+=Gu(r)),s+=n;o=t[e],n=o+"",r=yn-n.length,r&&(s+=Gu(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Tc=function(){function t(n,i){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*i+o,n[l]=s%Ci|0,o=s/Ci|0;return o&&n.unshift(o),n}function e(n,i,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=i[l]){c=n[l]>i[l]?1:-1;break}return c}function r(n,i,s){for(var o=0;s--;)n[s]-=o,o=n[s]<i[s]?1:0,n[s]=o*Ci+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,o){var l,c,u,d,f,g,v,y,x,_,S,C,N,A,E,k,O,I,z=n.constructor,W=n.s==i.s?1:-1,V=n.d,q=i.d;if(!n.s)return new z(n);if(!i.s)throw Error(Ja+"Division by zero");for(c=n.e-i.e,O=q.length,E=V.length,v=new z(W),y=v.d=[],u=0;q[u]==(V[u]||0);)++u;if(q[u]>(V[u]||0)&&--c,s==null?C=s=z.precision:o?C=s+(ni(n)-ni(i))+1:C=s,C<0)return new z(0);if(C=C/yn+2|0,u=0,O==1)for(d=0,q=q[0],C++;(u<E||d)&&C--;u++)N=d*Ci+(V[u]||0),y[u]=N/q|0,d=N%q|0;else{for(d=Ci/(q[0]+1)|0,d>1&&(q=t(q,d),V=t(V,d),O=q.length,E=V.length),A=O,x=V.slice(0,O),_=x.length;_<O;)x[_++]=0;I=q.slice(),I.unshift(0),k=q[0],q[1]>=Ci/2&&++k;do d=0,l=e(q,x,O,_),l<0?(S=x[0],O!=_&&(S=S*Ci+(x[1]||0)),d=S/k|0,d>1?(d>=Ci&&(d=Ci-1),f=t(q,d),g=f.length,_=x.length,l=e(f,x,g,_),l==1&&(d--,r(f,O<g?I:q,g))):(d==0&&(l=d=1),f=q.slice()),g=f.length,g<_&&f.unshift(0),r(x,f,_),l==-1&&(_=x.length,l=e(q,x,O,_),l<1&&(d++,r(x,O<_?I:q,_))),_=x.length):l===0&&(d++,x=[0]),y[u++]=d,l&&x[0]?x[_++]=V[A]||0:(x=[V[A]],_=1);while((A++<E||x[0]!==void 0)&&C--)}return y[0]||y.shift(),v.e=c,nn(v,o?s+ni(v)+1:s)}}();function Bre(t,e){var r,n,i,s,o,l,c=0,u=0,d=t.constructor,f=d.precision;if(ni(t)>16)throw Error(AL+ni(t));if(!t.s)return new d(fa);for(jn=!1,l=f,o=new d(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(df(2,u))/Math.LN10*2+5|0,l+=n,r=i=s=new d(fa),d.precision=l;;){if(i=nn(i.times(t),l),r=r.times(++c),o=s.plus(Tc(i,r,l)),hl(o.d).slice(0,l)===hl(s.d).slice(0,l)){for(;u--;)s=nn(s.times(s),l);return d.precision=f,e==null?(jn=!0,nn(s,f)):s}s=o}}function ni(t){for(var e=t.e*yn,r=t.d[0];r>=10;r/=10)e++;return e}function fk(t,e,r){if(e>t.LN10.sd())throw jn=!0,r&&(t.precision=r),Error(Ja+"LN10 precision limit exceeded");return nn(new t(t.LN10),e)}function Gu(t){for(var e="";t--;)e+="0";return e}function yy(t,e){var r,n,i,s,o,l,c,u,d,f=1,g=10,v=t,y=v.d,x=v.constructor,_=x.precision;if(v.s<1)throw Error(Ja+(v.s?"NaN":"-Infinity"));if(v.eq(fa))return new x(0);if(e==null?(jn=!1,u=_):u=e,v.eq(10))return e==null&&(jn=!0),fk(x,u);if(u+=g,x.precision=u,r=hl(y),n=r.charAt(0),s=ni(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=hl(v.d),n=r.charAt(0),f++;s=ni(v),n>1?(v=new x("0."+r),s++):v=new x(n+"."+r.slice(1))}else return c=fk(x,u+2,_).times(s+""),v=yy(new x(n+"."+r.slice(1)),u-g).plus(c),x.precision=_,e==null?(jn=!0,nn(v,_)):v;for(l=o=v=Tc(v.minus(fa),v.plus(fa),u),d=nn(v.times(v),u),i=3;;){if(o=nn(o.times(d),u),c=l.plus(Tc(o,new x(i),u)),hl(c.d).slice(0,u)===hl(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(fk(x,u+2,_).times(s+""))),l=Tc(l,new x(f),u),x.precision=_,e==null?(jn=!0,nn(l,_)):l;l=c,i+=2}}function MU(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Qm(r/yn),t.d=[],n=(r+1)%yn,r<0&&(n+=yn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=yn;n<i;)t.d.push(+e.slice(n,n+=yn));e=e.slice(n),n=yn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),jn&&(t.e>c_||t.e<-c_))throw Error(AL+r)}else t.s=0,t.e=0,t.d=[0];return t}function nn(t,e,r){var n,i,s,o,l,c,u,d,f=t.d;for(o=1,s=f[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=yn,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/yn),s=f.length,d>=s)return t;for(u=s=f[d],o=1;s>=10;s/=10)o++;n%=yn,i=n-yn+o}if(r!==void 0&&(s=df(10,o-i-1),l=u/s%10|0,c=e<0||f[d+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?i>0?u/df(10,o-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return c?(s=ni(t),f.length=1,e=e-s-1,f[0]=df(10,(yn-e%yn)%yn),t.e=Qm(-e/yn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=df(10,yn-n),f[d]=i>0?(u/df(10,o-i)%df(10,i)|0)*s:0),c)for(;;)if(d==0){(f[0]+=s)==Ci&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Ci)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(jn&&(t.e>c_||t.e<-c_))throw Error(AL+ni(t));return t}function zre(t,e){var r,n,i,s,o,l,c,u,d,f,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),jn?nn(e,v):e;if(c=t.d,f=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,l=f.length):(r=f,n=u,l=c.length),i=Math.max(Math.ceil(v/yn),l)+2,o>i&&(o=i,r.length=1),r.reverse(),i=o;i--;)r.push(0);r.reverse()}else{for(i=c.length,l=f.length,d=i<l,d&&(l=i),i=0;i<l;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}o=0}for(d&&(r=c,c=f,f=r,e.s=-e.s),l=c.length,i=f.length-l;i>0;--i)c[l++]=0;for(i=f.length;i>o;){if(c[--i]<f[i]){for(s=i;s&&c[--s]===0;)c[s]=Ci-1;--c[s],c[i]+=Ci}c[i]-=f[i]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,jn?nn(e,v):e):new g(0)}function Vf(t,e,r){var n,i=ni(t),s=hl(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Gu(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Gu(-i-1)+s,r&&(n=r-o)>0&&(s+=Gu(n))):i>=o?(s+=Gu(i+1-o),r&&(n=r-i-1)>0&&(s=s+"."+Gu(n))):((n=i+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(i+1===o&&(s+="."),s+=Gu(n))),t.s<0?"-"+s:s}function IU(t,e){if(t.length>e)return t.length=e,!0}function qre(t){var e,r,n;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Of+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return MU(o,s.toString())}else if(typeof s!="string")throw Error(Of+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,a3e.test(s))MU(o,s);else throw Error(Of+s)}if(i.prototype=xt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qre,i.config=i.set=o3e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function o3e(t){if(!t||typeof t!="object")throw Error(Ja+"Object expected");var e,r,n,i=["precision",1,Jm,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Qm(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(Of+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Of+r+": "+n);return this}var TL=qre(s3e);fa=new TL(1);const Yr=TL;function l3e(t){return f3e(t)||d3e(t)||u3e(t)||c3e()}function c3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function u3e(t,e){if(t){if(typeof t=="string")return mO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return mO(t,e)}}function d3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function f3e(t){if(Array.isArray(t))return mO(t)}function mO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var h3e=function(e){return e},Ure={},Vre=function(e){return e===Ure},LU=function(e){return function r(){return arguments.length===0||arguments.length===1&&Vre(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},p3e=function t(e,r){return e===1?r:LU(function(){for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];var o=i.filter(function(l){return l!==Ure}).length;return o>=e?r.apply(void 0,i):t(e-o,LU(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=i.map(function(f){return Vre(f)?c.shift():f});return r.apply(void 0,l3e(d).concat(c))}))})},oS=function(e){return p3e(e.length,e)},gO=function(e,r){for(var n=[],i=e;i<r;++i)n[i-e]=i;return n},m3e=oS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),g3e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return h3e;var i=r.reverse(),s=i[0],o=i.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},vO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Wre=function(e){var r=null,n=null;return function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function v3e(t){var e;return t===0?e=1:e=Math.floor(new Yr(t).abs().log(10).toNumber())+1,e}function y3e(t,e,r){for(var n=new Yr(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var x3e=oS(function(t,e,r){var n=+t,i=+e;return n+r*(i-n)}),b3e=oS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),w3e=oS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const lS={rangeStep:y3e,getDigitCount:v3e,interpolateNumber:x3e,uninterpolateNumber:b3e,uninterpolateTruncation:w3e};function yO(t){return j3e(t)||S3e(t)||Hre(t)||_3e()}function _3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S3e(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function j3e(t){if(Array.isArray(t))return xO(t)}function xy(t,e){return E3e(t)||N3e(t,e)||Hre(t,e)||C3e()}function C3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hre(t,e){if(t){if(typeof t=="string")return xO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xO(t,e)}}function xO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function N3e(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,i=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){i=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(i)throw s}}return r}}function E3e(t){if(Array.isArray(t))return t}function Kre(t){var e=xy(t,2),r=e[0],n=e[1],i=r,s=n;return r>n&&(i=n,s=r),[i,s]}function Gre(t,e,r){if(t.lte(0))return new Yr(0);var n=lS.getDigitCount(t.toNumber()),i=new Yr(10).pow(n),s=t.div(i),o=n!==1?.05:.1,l=new Yr(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(i);return e?c:new Yr(Math.ceil(c))}function P3e(t,e,r){var n=1,i=new Yr(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new Yr(10).pow(lS.getDigitCount(t)-1),i=new Yr(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new Yr(Math.floor(t)))}else t===0?i=new Yr(Math.floor((e-1)/2)):r||(i=new Yr(Math.floor(t)));var o=Math.floor((e-1)/2),l=g3e(m3e(function(c){return i.add(new Yr(c-o).mul(n)).toNumber()}),gO);return l(0,e)}function Zre(t,e,r,n){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Yr(0),tickMin:new Yr(0),tickMax:new Yr(0)};var s=Gre(new Yr(e).sub(t).div(r-1),n,i),o;t<=0&&e>=0?o=new Yr(0):(o=new Yr(t).add(e).div(2),o=o.sub(new Yr(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Yr(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?Zre(t,e,r,n,i+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Yr(l).mul(s)),tickMax:o.add(new Yr(c).mul(s))})}function k3e(t){var e=xy(t,2),r=e[0],n=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),l=Kre([r,n]),c=xy(l,2),u=c[0],d=c[1];if(u===-1/0||d===1/0){var f=d===1/0?[u].concat(yO(gO(0,i-1).map(function(){return 1/0}))):[].concat(yO(gO(0,i-1).map(function(){return-1/0})),[d]);return r>n?vO(f):f}if(u===d)return P3e(u,i,s);var g=Zre(u,d,o,s),v=g.step,y=g.tickMin,x=g.tickMax,_=lS.rangeStep(y,x.add(new Yr(.1).mul(v)),v);return r>n?vO(_):_}function A3e(t,e){var r=xy(t,2),n=r[0],i=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Kre([n,i]),l=xy(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,i];if(c===u)return[c];var d=Math.max(e,2),f=Gre(new Yr(u).sub(c).div(d-1),s,0),g=[].concat(yO(lS.rangeStep(new Yr(c),new Yr(u).sub(new Yr(.99).mul(f)),f)),[u]);return n>i?vO(g):g}var T3e=Wre(k3e),O3e=Wre(A3e),R3e="Invariant failed";function Wf(t,e){throw new Error(R3e)}var M3e=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function u_(){return u_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},u_.apply(this,arguments)}function I3e(t,e){return F3e(t)||$3e(t,e)||D3e(t,e)||L3e()}function L3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D3e(t,e){if(t){if(typeof t=="string")return DU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DU(t,e)}}function DU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $3e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function F3e(t){if(Array.isArray(t))return t}function B3e(t,e){if(t==null)return{};var r=z3e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function q3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function U3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jre(n.key),n)}}function V3e(t,e,r){return e&&U3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function W3e(t,e,r){return e=d_(e),H3e(t,Yre()?Reflect.construct(e,r||[],d_(t).constructor):e.apply(t,r))}function H3e(t,e){if(e&&(cm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K3e(t)}function K3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yre=function(){return!!t})()}function d_(t){return d_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d_(t)}function G3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bO(t,e)}function bO(t,e){return bO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},bO(t,e)}function Xre(t,e,r){return e=Jre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jre(t){var e=Z3e(t,"string");return cm(e)=="symbol"?e:e+""}function Z3e(t,e){if(cm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ox=function(t){function e(){return q3e(this,e),W3e(this,e,arguments)}return G3e(e,t),V3e(e,[{key:"render",value:function(){var n=this.props,i=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,d=n.xAxis,f=n.yAxis,g=B3e(n,M3e),v=ur(g,!1);this.props.direction==="x"&&d.type!=="number"&&Wf();var y=c.map(function(x){var _=u(x,l),S=_.x,C=_.y,N=_.value,A=_.errorVal;if(!A)return null;var E=[],k,O;if(Array.isArray(A)){var I=I3e(A,2);k=I[0],O=I[1]}else k=O=A;if(s==="vertical"){var z=d.scale,W=C+i,V=W+o,q=W-o,F=z(N-k),H=z(N+O);E.push({x1:H,y1:V,x2:H,y2:q}),E.push({x1:F,y1:W,x2:H,y2:W}),E.push({x1:F,y1:V,x2:F,y2:q})}else if(s==="horizontal"){var Q=f.scale,oe=S+i,K=oe-o,te=oe+o,Z=Q(N-k),se=Q(N+O);E.push({x1:K,y1:se,x2:te,y2:se}),E.push({x1:oe,y1:Z,x2:oe,y2:se}),E.push({x1:K,y1:Z,x2:te,y2:Z})}return re.createElement(un,u_({className:"recharts-errorBar",key:"bar-".concat(E.map(function(X){return"".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))},v),E.map(function(X){return re.createElement("line",u_({},X,{key:"line-".concat(X.x1,"-").concat(X.x2,"-").concat(X.y1,"-").concat(X.y2)}))}))});return re.createElement(un,{className:"recharts-errorBars"},y)}}])}(re.Component);Xre(Ox,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});Xre(Ox,"displayName","ErrorBar");function by(t){"@babel/helpers - typeof";return by=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},by(t)}function $U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(r),!0).forEach(function(n){Y3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y3e(t,e,r){return e=X3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function X3e(t){var e=J3e(t,"string");return by(e)=="symbol"?e:e+""}function J3e(t,e){if(by(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(by(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qre=function(e){var r=e.children,n=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,o=oa(r,cd);if(!o)return null;var l=cd.defaultProps,c=l!==void 0?nf(nf({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(d,f){var g=f.item,v=f.props,y=v.sectors||v.data||[];return d.concat(y.map(function(x){return{type:o.props.iconType||g.props.legendType,value:x.name,color:x.fill,payload:x}}))},[]):u=(n||[]).map(function(d){var f=d.item,g=f.type.defaultProps,v=g!==void 0?nf(nf({},g),f.props):{},y=v.dataKey,x=v.name,_=v.legendType,S=v.hide;return{inactive:S,dataKey:y,type:c.iconType||_||"square",color:OL(f),value:x||y,payload:v}}),nf(nf(nf({},c),cd.getWithHeight(o,i)),{},{payload:u,item:o})};function wy(t){"@babel/helpers - typeof";return wy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wy(t)}function FU(t){return rFe(t)||tFe(t)||eFe(t)||Q3e()}function Q3e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eFe(t,e){if(t){if(typeof t=="string")return wO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wO(t,e)}}function tFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rFe(t){if(Array.isArray(t))return wO(t)}function wO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function In(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BU(Object(r),!0).forEach(function(n){Rp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rp(t,e,r){return e=nFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nFe(t){var e=iFe(t,"string");return wy(e)=="symbol"?e:e+""}function iFe(t,e){if(wy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pi(t,e,r){return Qt(t)||Qt(e)?r:mi(e)?ma(t,e,r):Yt(e)?e(t):r}function Ov(t,e,r,n){var i=r3e(t,function(l){return pi(l,e)});if(r==="number"){var s=i.filter(function(l){return ut(l)||parseFloat(l)});return s.length?[aS(s),sS(s)]:[1/0,-1/0]}var o=n?i.filter(function(l){return!Qt(l)}):i;return o.map(function(l){return mi(l)||l instanceof Date?l:""})}var sFe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n?.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var d=u>0?i[u-1].coordinate:i[l-1].coordinate,f=i[u].coordinate,g=u>=l-1?i[0].coordinate:i[u+1].coordinate,v=void 0;if(vs(f-d)!==vs(g-f)){var y=[];if(vs(g-f)===vs(c[1]-c[0])){v=g;var x=f+c[1]-c[0];y[0]=Math.min(x,(x+d)/2),y[1]=Math.max(x,(x+d)/2)}else{v=d;var _=g+c[1]-c[0];y[0]=Math.min(f,(_+f)/2),y[1]=Math.max(f,(_+f)/2)}var S=[Math.min(f,(v+f)/2),Math.max(f,(v+f)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){o=i[u].index;break}}else{var C=Math.min(d,g),N=Math.max(d,g);if(e>(C+f)/2&&e<=(N+f)/2){o=i[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},OL=function(e){var r,n=e,i=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(i){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},aFe=function(e){var r=e.barSize,n=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var d=s[l[c]].stackGroups,f=Object.keys(d),g=0,v=f.length;g<v;g++){var y=d[f[g]],x=y.items,_=y.cateAxisId,S=x.filter(function(O){return Ac(O.type).indexOf("Bar")>=0});if(S&&S.length){var C=S[0].type.defaultProps,N=C!==void 0?In(In({},C),S[0].props):S[0].props,A=N.barSize,E=N[_];o[E]||(o[E]=[]);var k=Qt(A)?r:A;o[E].push({item:S[0],stackList:S.slice(1),barSize:Qt(k)?void 0:Ao(k,n,0)})}}return o},oFe=function(e){var r=e.barGap,n=e.barCategoryGap,i=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Ao(r,i,0,!0),d,f=[];if(o[0].barSize===+o[0].barSize){var g=!1,v=i/c,y=o.reduce(function(A,E){return A+E.barSize||0},0);y+=(c-1)*u,y>=i&&(y-=(c-1)*u,u=0),y>=i&&v>0&&(g=!0,v*=.9,y=c*v);var x=(i-y)/2>>0,_={offset:x-u,size:0};d=o.reduce(function(A,E){var k={item:E.item,position:{offset:_.offset+_.size+u,size:g?v:E.barSize}},O=[].concat(FU(A),[k]);return _=O[O.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){O.push({item:I,position:_})}),O},f)}else{var S=Ao(n,i,0,!0);i-2*S-(c-1)*u<=0&&(u=0);var C=(i-2*S-(c-1)*u)/c;C>1&&(C>>=0);var N=l===+l?Math.min(C,l):C;d=o.reduce(function(A,E,k){var O=[].concat(FU(A),[{item:E.item,position:{offset:S+(C+u)*k+(C-N)/2,size:N}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(I){O.push({item:I,position:O[O.length-1].position})}),O},f)}return d},lFe=function(e,r,n,i){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=Qre({children:s,legendWidth:c});if(u){var d=i||{},f=d.width,g=d.height,v=u.align,y=u.verticalAlign,x=u.layout;if((x==="vertical"||x==="horizontal"&&y==="middle")&&v!=="center"&&ut(e[v]))return In(In({},e),{},Rp({},v,e[v]+(f||0)));if((x==="horizontal"||x==="vertical"&&v==="center")&&y!=="middle"&&ut(e[y]))return In(In({},e),{},Rp({},y,e[y]+(g||0)))}return e},cFe=function(e,r,n){return Qt(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},ene=function(e,r,n,i,s){var o=r.props.children,l=ga(o,Ox).filter(function(u){return cFe(i,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,d){var f=pi(d,n);if(Qt(f))return u;var g=Array.isArray(f)?[aS(f),sS(f)]:[f,f],v=c.reduce(function(y,x){var _=pi(d,x,0),S=g[0]-Math.abs(Array.isArray(_)?_[0]:_),C=g[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(S,y[0]),Math.max(C,y[1])]},[1/0,-1/0]);return[Math.min(v[0],u[0]),Math.max(v[1],u[1])]},[1/0,-1/0])}return null},uFe=function(e,r,n,i,s){var o=r.map(function(l){return ene(e,l,n,s,i)}).filter(function(l){return!Qt(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},tne=function(e,r,n,i,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&ene(e,c,u,i)||Ov(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var d=0,f=u.length;d<f;d++)l[u[d]]||(l[u[d]]=!0,c.push(u[d]));return c},[])},rne=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},nne=function(e,r,n,i){if(i)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},wc=function(e,r,n){if(!e)return null;var i=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(r||n)&&o==="category"&&i.bandwidth?i.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&l?.length>=2?vs(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var d=(e.ticks||e.niceTicks).map(function(f){var g=s?s.indexOf(f):f;return{coordinate:i(g)+u,value:f,offset:u}});return d.filter(function(f){return!Cx(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,g){return{coordinate:i(f)+u,value:f,index:g,offset:u}}):i.ticks&&!n?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,g){return{coordinate:i(f)+u,value:s?s[f]:f,index:g,offset:u}})},hk=new WeakMap,Nb=function(e,r){if(typeof r!="function")return e;hk.has(e)||hk.set(e,new WeakMap);var n=hk.get(e);if(n.has(r))return n.get(r);var i=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,i),i},dFe=function(e,r,n){var i=e.scale,s=e.type,o=e.layout,l=e.axisType;if(i==="auto")return o==="radial"&&l==="radiusAxis"?{scale:hy(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:s_(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Tv(),realScaleType:"point"}:s==="category"?{scale:hy(),realScaleType:"band"}:{scale:s_(),realScaleType:"linear"};if(Uf(i)){var c="scale".concat(H1(i));return{scale:(CU[c]||Tv)(),realScaleType:CU[c]?c:"point"}}return Yt(i)?{scale:i}:{scale:Tv(),realScaleType:"point"}},zU=1e-4,fFe=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,i=e.range(),s=Math.min(i[0],i[1])-zU,o=Math.max(i[0],i[1])+zU,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},hFe=function(e,r){if(!e)return null;for(var n=0,i=e.length;n<i;n++)if(e[n].item===r)return e[n].position;return null},pFe=function(e,r){if(!r||r.length!==2||!ut(r[0])||!ut(r[1]))return e;var n=Math.min(r[0],r[1]),i=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!ut(e[0])||e[0]<n)&&(s[0]=n),(!ut(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<n&&(s[1]=n),s},mFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Cx(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},gFe=function(e){var r=e.length;if(!(r<=0))for(var n=0,i=e[0].length;n<i;++n)for(var s=0,o=0;o<r;++o){var l=Cx(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},vFe={sign:mFe,expand:eMe,none:tm,silhouette:tMe,wiggle:rMe,positive:gFe},yFe=function(e,r,n){var i=r.map(function(l){return l.props.dataKey}),s=vFe[n],o=QRe().keys(i).value(function(l,c){return+pi(l,c,0)}).order(XT).offset(s);return o(e)},xFe=function(e,r,n,i,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(f,g){var v,y=(v=g.type)!==null&&v!==void 0&&v.defaultProps?In(In({},g.type.defaultProps),g.props):g.props,x=y.stackId,_=y.hide;if(_)return f;var S=y[n],C=f[S]||{hasStack:!1,stackGroups:{}};if(mi(x)){var N=C.stackGroups[x]||{numericAxisId:n,cateAxisId:i,items:[]};N.items.push(g),C.hasStack=!0,C.stackGroups[x]=N}else C.stackGroups[Zm("_stackId_")]={numericAxisId:n,cateAxisId:i,items:[g]};return In(In({},f),{},Rp({},S,C))},c),d={};return Object.keys(u).reduce(function(f,g){var v=u[g];if(v.hasStack){var y={};v.stackGroups=Object.keys(v.stackGroups).reduce(function(x,_){var S=v.stackGroups[_];return In(In({},x),{},Rp({},_,{numericAxisId:n,cateAxisId:i,items:S.items,stackedData:yFe(e,S.items,s)}))},y)}return In(In({},f),{},Rp({},g,v))},d)},bFe=function(e,r){var n=r.realScaleType,i=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var d=T3e(u,s,l);return e.domain([aS(d),sS(d)]),{niceTicks:d}}if(s&&i==="number"){var f=e.domain(),g=O3e(f,s,l);return{niceTicks:g}}return null};function qU(t){var e=t.axis,r=t.ticks,n=t.bandSize,i=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qt(i[e.dataKey])){var l=zw(r,"value",i[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=pi(i,Qt(o)?e.dataKey:o);return Qt(c)?null:e.scale(c)}var UU=function(e){var r=e.axis,n=e.ticks,i=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+i:null;var c=pi(o,r.dataKey,r.domain[l]);return Qt(c)?null:r.scale(c)-s/2+i},wFe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var i=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return i<=0&&s>=0?0:s<0?s:i}return n[0]},_Fe=function(e,r){var n,i=(n=e.type)!==null&&n!==void 0&&n.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(mi(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},SFe=function(e){return e.reduce(function(r,n){return[aS(n.concat([r[0]]).filter(ut)),sS(n.concat([r[1]]).filter(ut))]},[1/0,-1/0])},ine=function(e,r,n){return Object.keys(e).reduce(function(i,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,d){var f=SFe(d.slice(r,n+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(c[0],i[0]),Math.max(c[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VU=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WU=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,_O=function(e,r,n){if(Yt(e))return e(r,n);if(!Array.isArray(e))return r;var i=[];if(ut(e[0]))i[0]=n?e[0]:Math.min(e[0],r[0]);else if(VU.test(e[0])){var s=+VU.exec(e[0])[1];i[0]=r[0]-s}else Yt(e[0])?i[0]=e[0](r[0]):i[0]=r[0];if(ut(e[1]))i[1]=n?e[1]:Math.max(e[1],r[1]);else if(WU.test(e[1])){var o=+WU.exec(e[1])[1];i[1]=r[1]+o}else Yt(e[1])?i[1]=e[1](r[1]):i[1]=r[1];return i},f_=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!n||i>0)return i}if(e&&r&&r.length>=2){for(var s=aL(r,function(f){return f.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],d=s[l-1];o=Math.min((u.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},HU=function(e,r,n){return!e||!e.length||Tx(e,ma(n,"type.defaultProps.domain"))?r:e},sne=function(e,r){var n=e.type.defaultProps?In(In({},e.type.defaultProps),e.props):e.props,i=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,d=n.hide;return In(In({},ur(e,!1)),{},{dataKey:i,unit:o,formatter:l,name:s||i,color:OL(e),value:pi(r,i),type:c,payload:r,chartType:u,hide:d})};function _y(t){"@babel/helpers - typeof";return _y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_y(t)}function KU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KU(Object(r),!0).forEach(function(n){jFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jFe(t,e,r){return e=CFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CFe(t){var e=NFe(t,"string");return _y(e)=="symbol"?e:e+""}function NFe(t,e){if(_y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var h_=Math.PI/180,EFe=function(e){return e*180/Math.PI},ri=function(e,r,n,i){return{x:e+Math.cos(-h_*i)*n,y:r+Math.sin(-h_*i)*n}},PFe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},kFe=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(i-o,2))},AFe=function(e,r){var n=e.x,i=e.y,s=r.cx,o=r.cy,l=kFe({x:n,y:i},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return i>o&&(u=2*Math.PI-u),{radius:l,angle:EFe(u),angleInRadian:u}},TFe=function(e){var r=e.startAngle,n=e.endAngle,i=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(i,s);return{startAngle:r-o*360,endAngle:n-o*360}},OFe=function(e,r){var n=r.startAngle,i=r.endAngle,s=Math.floor(n/360),o=Math.floor(i/360),l=Math.min(s,o);return e+l*360},ZU=function(e,r){var n=e.x,i=e.y,s=AFe({x:n,y:i},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var d=TFe(r),f=d.startAngle,g=d.endAngle,v=l,y;if(f<=g){for(;v>g;)v-=360;for(;v<f;)v+=360;y=v>=f&&v<=g}else{for(;v>f;)v-=360;for(;v<g;)v+=360;y=v>=g&&v<=f}return y?GU(GU({},r),{},{radius:o,angle:OFe(v,r)}):null};function Sy(t){"@babel/helpers - typeof";return Sy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sy(t)}var RFe=["offset"];function MFe(t){return $Fe(t)||DFe(t)||LFe(t)||IFe()}function IFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LFe(t,e){if(t){if(typeof t=="string")return SO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SO(t,e)}}function DFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function $Fe(t){if(Array.isArray(t))return SO(t)}function SO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FFe(t,e){if(t==null)return{};var r=BFe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function YU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ui(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YU(Object(r),!0).forEach(function(n){zFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zFe(t,e,r){return e=qFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qFe(t){var e=UFe(t,"string");return Sy(e)=="symbol"?e:e+""}function UFe(t,e){if(Sy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jy(){return jy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jy.apply(this,arguments)}var VFe=function(e){var r=e.value,n=e.formatter,i=Qt(e.children)?r:e.children;return Yt(n)?n(i):i},WFe=function(e,r){var n=vs(r-e),i=Math.min(Math.abs(r-e),360);return n*i},HFe=function(e,r,n){var i=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,d=c.cy,f=c.innerRadius,g=c.outerRadius,v=c.startAngle,y=c.endAngle,x=c.clockWise,_=(f+g)/2,S=WFe(v,y),C=S>=0?1:-1,N,A;i==="insideStart"?(N=v+C*o,A=x):i==="insideEnd"?(N=y-C*o,A=!x):i==="end"&&(N=y+C*o,A=x),A=S<=0?A:!A;var E=ri(u,d,_,N),k=ri(u,d,_,N+(A?1:-1)*359),O="M".concat(E.x,",").concat(E.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(A?0:1,`,
    `).concat(k.x,",").concat(k.y),I=Qt(e.id)?Zm("recharts-radial-line-"):e.id;return re.createElement("text",jy({},n,{dominantBaseline:"central",className:hr("recharts-radial-bar-label",l)}),re.createElement("defs",null,re.createElement("path",{id:I,d:O})),re.createElement("textPath",{xlinkHref:"#".concat(I)},r))},KFe=function(e){var r=e.viewBox,n=e.offset,i=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,d=s.startAngle,f=s.endAngle,g=(d+f)/2;if(i==="outside"){var v=ri(o,l,u+n,g),y=v.x,x=v.y;return{x:y,y:x,textAnchor:y>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var _=(c+u)/2,S=ri(o,l,_,g),C=S.x,N=S.y;return{x:C,y:N,textAnchor:"middle",verticalAnchor:"middle"}},GFe=function(e){var r=e.viewBox,n=e.parentViewBox,i=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,d=o.height,f=d>=0?1:-1,g=f*i,v=f>0?"end":"start",y=f>0?"start":"end",x=u>=0?1:-1,_=x*i,S=x>0?"end":"start",C=x>0?"start":"end";if(s==="top"){var N={x:l+u/2,y:c-f*i,textAnchor:"middle",verticalAnchor:v};return ui(ui({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var A={x:l+u/2,y:c+d+g,textAnchor:"middle",verticalAnchor:y};return ui(ui({},A),n?{height:Math.max(n.y+n.height-(c+d),0),width:u}:{})}if(s==="left"){var E={x:l-_,y:c+d/2,textAnchor:S,verticalAnchor:"middle"};return ui(ui({},E),n?{width:Math.max(E.x-n.x,0),height:d}:{})}if(s==="right"){var k={x:l+u+_,y:c+d/2,textAnchor:C,verticalAnchor:"middle"};return ui(ui({},k),n?{width:Math.max(n.x+n.width-k.x,0),height:d}:{})}var O=n?{width:u,height:d}:{};return s==="insideLeft"?ui({x:l+_,y:c+d/2,textAnchor:C,verticalAnchor:"middle"},O):s==="insideRight"?ui({x:l+u-_,y:c+d/2,textAnchor:S,verticalAnchor:"middle"},O):s==="insideTop"?ui({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:y},O):s==="insideBottom"?ui({x:l+u/2,y:c+d-g,textAnchor:"middle",verticalAnchor:v},O):s==="insideTopLeft"?ui({x:l+_,y:c+g,textAnchor:C,verticalAnchor:y},O):s==="insideTopRight"?ui({x:l+u-_,y:c+g,textAnchor:S,verticalAnchor:y},O):s==="insideBottomLeft"?ui({x:l+_,y:c+d-g,textAnchor:C,verticalAnchor:v},O):s==="insideBottomRight"?ui({x:l+u-_,y:c+d-g,textAnchor:S,verticalAnchor:v},O):Gm(s)&&(ut(s.x)||xf(s.x))&&(ut(s.y)||xf(s.y))?ui({x:l+Ao(s.x,u),y:c+Ao(s.y,d),textAnchor:"end",verticalAnchor:"end"},O):ui({x:l+u/2,y:c+d/2,textAnchor:"middle",verticalAnchor:"middle"},O)},ZFe=function(e){return"cx"in e&&ut(e.cx)};function Di(t){var e=t.offset,r=e===void 0?5:e,n=FFe(t,RFe),i=ui({offset:r},n),s=i.viewBox,o=i.position,l=i.value,c=i.children,u=i.content,d=i.className,f=d===void 0?"":d,g=i.textBreakAll;if(!s||Qt(l)&&Qt(c)&&!b.isValidElement(u)&&!Yt(u))return null;if(b.isValidElement(u))return b.cloneElement(u,i);var v;if(Yt(u)){if(v=b.createElement(u,i),b.isValidElement(v))return v}else v=VFe(i);var y=ZFe(s),x=ur(i,!0);if(y&&(o==="insideStart"||o==="insideEnd"||o==="end"))return HFe(i,v,x);var _=y?KFe(i):GFe(i);return re.createElement(fy,jy({className:hr("recharts-label",f)},x,_,{breakAll:g}),v)}Di.displayName="Label";var ane=function(e){var r=e.cx,n=e.cy,i=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,d=e.outerRadius,f=e.x,g=e.y,v=e.top,y=e.left,x=e.width,_=e.height,S=e.clockWise,C=e.labelViewBox;if(C)return C;if(ut(x)&&ut(_)){if(ut(f)&&ut(g))return{x:f,y:g,width:x,height:_};if(ut(v)&&ut(y))return{x:v,y,width:x,height:_}}return ut(f)&&ut(g)?{x:f,y:g,width:0,height:0}:ut(r)&&ut(n)?{cx:r,cy:n,startAngle:s||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:d||c||l||0,clockWise:S}:e.viewBox?e.viewBox:{}},YFe=function(e,r){return e?e===!0?re.createElement(Di,{key:"label-implicit",viewBox:r}):mi(e)?re.createElement(Di,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===Di?b.cloneElement(e,{key:"label-implicit",viewBox:r}):re.createElement(Di,{key:"label-implicit",content:e,viewBox:r}):Yt(e)?re.createElement(Di,{key:"label-implicit",content:e,viewBox:r}):Gm(e)?re.createElement(Di,jy({viewBox:r},e,{key:"label-implicit"})):null:null},XFe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var i=e.children,s=ane(e),o=ga(i,Di).map(function(c,u){return b.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=YFe(e.label,r||s);return[l].concat(MFe(o))};Di.parseViewBox=ane;Di.renderCallByParent=XFe;var pk,XU;function JFe(){if(XU)return pk;XU=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return pk=t,pk}var QFe=JFe();const e5e=Nr(QFe);function Cy(t){"@babel/helpers - typeof";return Cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cy(t)}var t5e=["valueAccessor"],r5e=["data","dataKey","clockWise","id","textBreakAll"];function n5e(t){return o5e(t)||a5e(t)||s5e(t)||i5e()}function i5e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5e(t,e){if(t){if(typeof t=="string")return jO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jO(t,e)}}function a5e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o5e(t){if(Array.isArray(t))return jO(t)}function jO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function p_(){return p_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p_.apply(this,arguments)}function JU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JU(Object(r),!0).forEach(function(n){l5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l5e(t,e,r){return e=c5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function c5e(t){var e=u5e(t,"string");return Cy(e)=="symbol"?e:e+""}function u5e(t,e){if(Cy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eV(t,e){if(t==null)return{};var r=d5e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function d5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var f5e=function(e){return Array.isArray(e.value)?e5e(e.value):e.value};function Oc(t){var e=t.valueAccessor,r=e===void 0?f5e:e,n=eV(t,t5e),i=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=eV(n,r5e);return!i||!i.length?null:re.createElement(un,{className:"recharts-label-list"},i.map(function(d,f){var g=Qt(s)?r(d,f):pi(d&&d.payload,s),v=Qt(l)?{}:{id:"".concat(l,"-").concat(f)};return re.createElement(Di,p_({},ur(d,!0),u,v,{parentViewBox:d.parentViewBox,value:g,textBreakAll:c,viewBox:Di.parseViewBox(Qt(o)?d:QU(QU({},d),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Oc.displayName="LabelList";function h5e(t,e){return t?t===!0?re.createElement(Oc,{key:"labelList-implicit",data:e}):re.isValidElement(t)||Yt(t)?re.createElement(Oc,{key:"labelList-implicit",data:e,content:t}):Gm(t)?re.createElement(Oc,p_({data:e},t,{key:"labelList-implicit"})):null:null}function p5e(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,i=ga(n,Oc).map(function(o,l){return b.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return i;var s=h5e(t.label,e);return[s].concat(n5e(i))}Oc.renderCallByParent=p5e;function Ny(t){"@babel/helpers - typeof";return Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ny(t)}function CO(){return CO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CO.apply(this,arguments)}function tV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tV(Object(r),!0).forEach(function(n){m5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function m5e(t,e,r){return e=g5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function g5e(t){var e=v5e(t,"string");return Ny(e)=="symbol"?e:e+""}function v5e(t,e){if(Ny(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ny(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var y5e=function(e,r){var n=vs(r-e),i=Math.min(Math.abs(r-e),359.999);return n*i},Eb=function(e){var r=e.cx,n=e.cy,i=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,d=c*(l?1:-1)+i,f=Math.asin(c/d)/h_,g=u?s:s+o*f,v=ri(r,n,d,g),y=ri(r,n,i,g),x=u?s-o*f:s,_=ri(r,n,d*Math.cos(f*h_),x);return{center:v,circleTangency:y,lineTangency:_,theta:f}},one=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=y5e(o,l),u=o+c,d=ri(r,n,s,o),f=ri(r,n,s,u),g="M ".concat(d.x,",").concat(d.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var v=ri(r,n,i,o),y=ri(r,n,i,u);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(v.x,",").concat(v.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},x5e=function(e){var r=e.cx,n=e.cy,i=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,d=e.endAngle,f=vs(d-u),g=Eb({cx:r,cy:n,radius:s,angle:u,sign:f,cornerRadius:o,cornerIsExternal:c}),v=g.circleTangency,y=g.lineTangency,x=g.theta,_=Eb({cx:r,cy:n,radius:s,angle:d,sign:-f,cornerRadius:o,cornerIsExternal:c}),S=_.circleTangency,C=_.lineTangency,N=_.theta,A=c?Math.abs(u-d):Math.abs(u-d)-x-N;if(A<0)return l?"M ".concat(y.x,",").concat(y.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):one({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d});var E="M ".concat(y.x,",").concat(y.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,`
  `);if(i>0){var k=Eb({cx:r,cy:n,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),O=k.circleTangency,I=k.lineTangency,z=k.theta,W=Eb({cx:r,cy:n,radius:i,angle:d,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),V=W.circleTangency,q=W.lineTangency,F=W.theta,H=c?Math.abs(u-d):Math.abs(u-d)-z-F;if(H<0&&o===0)return"".concat(E,"L").concat(r,",").concat(n,"Z");E+="L".concat(q.x,",").concat(q.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(V.x,",").concat(V.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(H>180),",").concat(+(f>0),",").concat(O.x,",").concat(O.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,"Z")}else E+="L".concat(r,",").concat(n,"Z");return E},b5e={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},lne=function(e){var r=rV(rV({},b5e),e),n=r.cx,i=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,d=r.startAngle,f=r.endAngle,g=r.className;if(o<s||d===f)return null;var v=hr("recharts-sector",g),y=o-s,x=Ao(l,y,0,!0),_;return x>0&&Math.abs(d-f)<360?_=x5e({cx:n,cy:i,innerRadius:s,outerRadius:o,cornerRadius:Math.min(x,y/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:d,endAngle:f}):_=one({cx:n,cy:i,innerRadius:s,outerRadius:o,startAngle:d,endAngle:f}),re.createElement("path",CO({},ur(r,!0),{className:v,d:_,role:"img"}))};function Ey(t){"@babel/helpers - typeof";return Ey=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ey(t)}function NO(){return NO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NO.apply(this,arguments)}function nV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function iV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nV(Object(r),!0).forEach(function(n){w5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w5e(t,e,r){return e=_5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _5e(t){var e=S5e(t,"string");return Ey(e)=="symbol"?e:e+""}function S5e(t,e){if(Ey(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ey(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sV={curveBasisClosed:qRe,curveBasisOpen:URe,curveBasis:zRe,curveBumpX:ERe,curveBumpY:PRe,curveLinearClosed:VRe,curveLinear:G1,curveMonotoneX:WRe,curveMonotoneY:HRe,curveNatural:KRe,curveStep:GRe,curveStepAfter:YRe,curveStepBefore:ZRe},Pb=function(e){return e.x===+e.x&&e.y===+e.y},Jg=function(e){return e.x},Qg=function(e){return e.y},j5e=function(e,r){if(Yt(e))return e;var n="curve".concat(H1(e));return(n==="curveMonotone"||n==="curveBump")&&r?sV["".concat(n).concat(r==="vertical"?"Y":"X")]:sV[n]||G1},C5e=function(e){var r=e.type,n=r===void 0?"linear":r,i=e.points,s=i===void 0?[]:i,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,d=j5e(n,l),f=u?s.filter(function(x){return Pb(x)}):s,g;if(Array.isArray(o)){var v=u?o.filter(function(x){return Pb(x)}):o,y=f.map(function(x,_){return iV(iV({},x),{},{base:v[_]})});return l==="vertical"?g=xb().y(Qg).x1(Jg).x0(function(x){return x.base.x}):g=xb().x(Jg).y1(Qg).y0(function(x){return x.base.y}),g.defined(Pb).curve(d),g(y)}return l==="vertical"&&ut(o)?g=xb().y(Qg).x1(Jg).x0(o):ut(o)?g=xb().x(Jg).y1(Qg).y0(o):g=hte().x(Jg).y(Qg),g.defined(Pb).curve(d),g(f)},m_=function(e){var r=e.className,n=e.points,i=e.path,s=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?C5e(e):i;return b.createElement("path",NO({},ur(e,!1),qw(e),{className:hr("recharts-curve",r),d:o,ref:s}))},mk={exports:{}},gk,aV;function N5e(){if(aV)return gk;aV=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gk=t,gk}var vk,oV;function E5e(){if(oV)return vk;oV=1;var t=N5e();function e(){}function r(){}return r.resetWarningCache=e,vk=function(){function n(o,l,c,u,d,f){if(f!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},vk}var lV;function P5e(){return lV||(lV=1,mk.exports=E5e()()),mk.exports}var k5e=P5e();const Br=Nr(k5e);var A5e=Object.getOwnPropertyNames,T5e=Object.getOwnPropertySymbols,O5e=Object.prototype.hasOwnProperty;function cV(t,e){return function(n,i,s){return t(n,i,s)&&e(n,i,s)}}function kb(t){return function(r,n,i){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,i);var s=i.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,i);return s.delete(r),s.delete(n),c}}function uV(t){return A5e(t).concat(T5e(t))}var R5e=Object.hasOwn||function(t,e){return O5e.call(t,e)};function ch(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var M5e="__v",I5e="__o",L5e="_owner",dV=Object.getOwnPropertyDescriptor,fV=Object.keys;function D5e(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function $5e(t,e){return ch(t.getTime(),e.getTime())}function F5e(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function B5e(t,e){return t===e}function hV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),d=!1,f=0;(l=u.next())&&!l.done;){if(i[f]){f++;continue}var g=o.value,v=l.value;if(r.equals(g[0],v[0],c,f,t,e,r)&&r.equals(g[1],v[1],g[0],v[0],t,e,r)){d=i[f]=!0;break}f++}if(!d)return!1;c++}return!0}var z5e=ch;function q5e(t,e,r){var n=fV(t),i=n.length;if(fV(e).length!==i)return!1;for(;i-- >0;)if(!cne(t,e,r,n[i]))return!1;return!0}function ev(t,e,r){var n=uV(t),i=n.length;if(uV(e).length!==i)return!1;for(var s,o,l;i-- >0;)if(s=n[i],!cne(t,e,r,s)||(o=dV(t,s),l=dV(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function U5e(t,e){return ch(t.valueOf(),e.valueOf())}function V5e(t,e){return t.source===e.source&&t.flags===e.flags}function pV(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var i=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,d=0;(l=c.next())&&!l.done;){if(!i[d]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=i[d]=!0;break}d++}if(!u)return!1}return!0}function W5e(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function H5e(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function cne(t,e,r,n){return(n===L5e||n===I5e||n===M5e)&&(t.$$typeof||e.$$typeof)?!0:R5e(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var K5e="[object Arguments]",G5e="[object Boolean]",Z5e="[object Date]",Y5e="[object Error]",X5e="[object Map]",J5e="[object Number]",Q5e="[object Object]",eBe="[object RegExp]",tBe="[object Set]",rBe="[object String]",nBe="[object URL]",iBe=Array.isArray,mV=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,gV=Object.assign,sBe=Object.prototype.toString.call.bind(Object.prototype.toString);function aBe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,d=t.areSetsEqual,f=t.areTypedArraysEqual,g=t.areUrlsEqual;return function(y,x,_){if(y===x)return!0;if(y==null||x==null)return!1;var S=typeof y;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?o(y,x,_):S==="function"?i(y,x,_):!1;var C=y.constructor;if(C!==x.constructor)return!1;if(C===Object)return l(y,x,_);if(iBe(y))return e(y,x,_);if(mV!=null&&mV(y))return f(y,x,_);if(C===Date)return r(y,x,_);if(C===RegExp)return u(y,x,_);if(C===Map)return s(y,x,_);if(C===Set)return d(y,x,_);var N=sBe(y);return N===Z5e?r(y,x,_):N===eBe?u(y,x,_):N===X5e?s(y,x,_):N===tBe?d(y,x,_):N===Q5e?typeof y.then!="function"&&typeof x.then!="function"&&l(y,x,_):N===nBe?g(y,x,_):N===Y5e?n(y,x,_):N===K5e?l(y,x,_):N===G5e||N===J5e||N===rBe?c(y,x,_):!1}}function oBe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,i={areArraysEqual:n?ev:D5e,areDatesEqual:$5e,areErrorsEqual:F5e,areFunctionsEqual:B5e,areMapsEqual:n?cV(hV,ev):hV,areNumbersEqual:z5e,areObjectsEqual:n?ev:q5e,arePrimitiveWrappersEqual:U5e,areRegExpsEqual:V5e,areSetsEqual:n?cV(pV,ev):pV,areTypedArraysEqual:n?ev:W5e,areUrlsEqual:H5e};if(r&&(i=gV({},i,r(i))),e){var s=kb(i.areArraysEqual),o=kb(i.areMapsEqual),l=kb(i.areObjectsEqual),c=kb(i.areSetsEqual);i=gV({},i,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return i}function lBe(t){return function(e,r,n,i,s,o,l){return t(e,r,l)}}function cBe(t){var e=t.circular,r=t.comparator,n=t.createState,i=t.equals,s=t.strict;if(n)return function(c,u){var d=n(),f=d.cache,g=f===void 0?e?new WeakMap:void 0:f,v=d.meta;return r(c,u,{cache:g,equals:i,meta:v,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var o={cache:void 0,equals:i,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var uBe=Ad();Ad({strict:!0});Ad({circular:!0});Ad({circular:!0,strict:!0});Ad({createInternalComparator:function(){return ch}});Ad({strict:!0,createInternalComparator:function(){return ch}});Ad({circular:!0,createInternalComparator:function(){return ch}});Ad({circular:!0,createInternalComparator:function(){return ch},strict:!0});function Ad(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,i=t.createState,s=t.strict,o=s===void 0?!1:s,l=oBe(t),c=aBe(l),u=n?n(c):lBe(c);return cBe({circular:r,comparator:c,createState:i,equals:u,strict:o})}function dBe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function vV(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function i(s){r<0&&(r=s),s-r>e?(t(s),r=-1):dBe(i)};requestAnimationFrame(n)}function EO(t){"@babel/helpers - typeof";return EO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},EO(t)}function fBe(t){return gBe(t)||mBe(t)||pBe(t)||hBe()}function hBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pBe(t,e){if(t){if(typeof t=="string")return yV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yV(t,e)}}function yV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gBe(t){if(Array.isArray(t))return t}function vBe(){var t={},e=function(){return null},r=!1,n=function i(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=fBe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){vV(i.bind(null,u),c);return}i(c),vV(i.bind(null,u));return}EO(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Py(t){"@babel/helpers - typeof";return Py=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Py(t)}function xV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xV(Object(r),!0).forEach(function(n){une(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function une(t,e,r){return e=yBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yBe(t){var e=xBe(t,"string");return Py(e)==="symbol"?e:String(e)}function xBe(t,e){if(Py(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Py(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bBe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,i){return n.filter(function(s){return i.includes(s)})})},wBe=function(e){return e},_Be=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Rv=function(e,r){return Object.keys(r).reduce(function(n,i){return bV(bV({},n),{},une({},i,e(i,r[i])))},{})},wV=function(e,r,n){return e.map(function(i){return"".concat(_Be(i)," ").concat(r,"ms ").concat(n)}).join(",")};function SBe(t,e){return NBe(t)||CBe(t,e)||dne(t,e)||jBe()}function jBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function NBe(t){if(Array.isArray(t))return t}function EBe(t){return ABe(t)||kBe(t)||dne(t)||PBe()}function PBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dne(t,e){if(t){if(typeof t=="string")return PO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PO(t,e)}}function kBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ABe(t){if(Array.isArray(t))return PO(t)}function PO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var g_=1e-4,fne=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},hne=function(e,r){return e.map(function(n,i){return n*Math.pow(r,i)}).reduce(function(n,i){return n+i})},_V=function(e,r){return function(n){var i=fne(e,r);return hne(i,n)}},TBe=function(e,r){return function(n){var i=fne(e,r),s=[].concat(EBe(i.map(function(o,l){return o*l}).slice(1)),[0]);return hne(s,n)}},SV=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":i=0,s=0,o=1,l=1;break;case"ease":i=.25,s=.1,o=.25,l=1;break;case"ease-in":i=.42,s=0,o=1,l=1;break;case"ease-out":i=.42,s=0,o=.58,l=1;break;case"ease-in-out":i=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),d=SBe(u,4);i=d[0],s=d[1],o=d[2],l=d[3]}}}var f=_V(i,o),g=_V(s,l),v=TBe(i,o),y=function(S){return S>1?1:S<0?0:S},x=function(S){for(var C=S>1?1:S,N=C,A=0;A<8;++A){var E=f(N)-C,k=v(N);if(Math.abs(E-C)<g_||k<g_)return g(N);N=y(N-E/k)}return g(N)};return x.isStepper=!1,x},OBe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,i=e.damping,s=i===void 0?8:i,o=e.dt,l=o===void 0?17:o,c=function(d,f,g){var v=-(d-f)*n,y=g*s,x=g+(v-y)*l/1e3,_=g*l/1e3+d;return Math.abs(_-f)<g_&&Math.abs(x)<g_?[f,0]:[_,x]};return c.isStepper=!0,c.dt=l,c},RBe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return SV(i);case"spring":return OBe();default:if(i.split("(")[0]==="cubic-bezier")return SV(i)}return typeof i=="function"?i:null};function ky(t){"@babel/helpers - typeof";return ky=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ky(t)}function jV(t){return LBe(t)||IBe(t)||pne(t)||MBe()}function MBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LBe(t){if(Array.isArray(t))return AO(t)}function CV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ii(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CV(Object(r),!0).forEach(function(n){kO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kO(t,e,r){return e=DBe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DBe(t){var e=$Be(t,"string");return ky(e)==="symbol"?e:String(e)}function $Be(t,e){if(ky(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ky(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FBe(t,e){return qBe(t)||zBe(t,e)||pne(t,e)||BBe()}function BBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pne(t,e){if(t){if(typeof t=="string")return AO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AO(t,e)}}function AO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zBe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function qBe(t){if(Array.isArray(t))return t}var v_=function(e,r,n){return e+(r-e)*n},TO=function(e){var r=e.from,n=e.to;return r!==n},UBe=function t(e,r,n){var i=Rv(function(s,o){if(TO(o)){var l=e(o.from,o.to,o.velocity),c=FBe(l,2),u=c[0],d=c[1];return Ii(Ii({},o),{},{from:u,velocity:d})}return o},r);return n<1?Rv(function(s,o){return TO(o)?Ii(Ii({},o),{},{velocity:v_(o.velocity,i[s].velocity,n),from:v_(o.from,i[s].from,n)}):o},r):t(e,i,n-1)};const VBe=function(t,e,r,n,i){var s=bBe(t,e),o=s.reduce(function(_,S){return Ii(Ii({},_),{},kO({},S,[t[S],e[S]]))},{}),l=s.reduce(function(_,S){return Ii(Ii({},_),{},kO({},S,{from:t[S],velocity:0,to:e[S]}))},{}),c=-1,u,d,f=function(){return null},g=function(){return Rv(function(S,C){return C.from},l)},v=function(){return!Object.values(l).filter(TO).length},y=function(S){u||(u=S);var C=S-u,N=C/r.dt;l=UBe(r,l,N),i(Ii(Ii(Ii({},t),e),g())),u=S,v()||(c=requestAnimationFrame(f))},x=function(S){d||(d=S);var C=(S-d)/n,N=Rv(function(E,k){return v_.apply(void 0,jV(k).concat([r(C)]))},o);if(i(Ii(Ii(Ii({},t),e),N)),C<1)c=requestAnimationFrame(f);else{var A=Rv(function(E,k){return v_.apply(void 0,jV(k).concat([r(1)]))},o);i(Ii(Ii(Ii({},t),e),A))}};return f=r.isStepper?y:x,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(c)}}};function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}var WBe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function HBe(t,e){if(t==null)return{};var r=KBe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function KBe(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function yk(t){return XBe(t)||YBe(t)||ZBe(t)||GBe()}function GBe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZBe(t,e){if(t){if(typeof t=="string")return OO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OO(t,e)}}function YBe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function XBe(t){if(Array.isArray(t))return OO(t)}function OO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function go(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NV(Object(r),!0).forEach(function(n){vv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vv(t,e,r){return e=mne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JBe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QBe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mne(n.key),n)}}function e6e(t,e,r){return e&&QBe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mne(t){var e=t6e(t,"string");return um(e)==="symbol"?e:String(e)}function t6e(t,e){if(um(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(um(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function r6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}function RO(t,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},RO(t,e)}function n6e(t){var e=i6e();return function(){var n=y_(t),i;if(e){var s=y_(this).constructor;i=Reflect.construct(n,arguments,s)}else i=n.apply(this,arguments);return MO(this,i)}}function MO(t,e){if(e&&(um(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IO(t)}function IO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i6e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function y_(t){return y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},y_(t)}var kl=function(t){r6e(r,t);var e=n6e(r);function r(n,i){var s;JBe(this,r),s=e.call(this,n,i);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,d=o.to,f=o.steps,g=o.children,v=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(IO(s)),s.changeStyle=s.changeStyle.bind(IO(s)),!l||v<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:d}),MO(s);if(f&&f.length)s.state={style:f[0].style};else if(u){if(typeof g=="function")return s.state={style:u},MO(s);s.state={style:c?vv({},c,u):u}}else s.state={style:{}};return s}return e6e(r,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,o=i.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,d=s.to,f=s.from,g=this.state.style;if(l){if(!o){var v={style:c?vv({},c,d):d};this.state&&g&&(c&&g[c]!==d||!c&&g!==d)&&this.setState(v);return}if(!(uBe(i.to,d)&&i.canBegin&&i.isActive)){var y=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=y||u?f:i.to;if(this.state&&g){var _={style:c?vv({},c,x):x};(c&&g[c]!==x||!c&&g!==x)&&this.setState(_)}this.runAnimation(go(go({},this.props),{},{from:x,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,o=i.from,l=i.to,c=i.duration,u=i.easing,d=i.begin,f=i.onAnimationEnd,g=i.onAnimationStart,v=VBe(o,l,RBe(u),c,this.changeStyle),y=function(){s.stopJSAnimation=v()};this.manager.start([g,d,y,c,f])}},{key:"runStepAnimation",value:function(i){var s=this,o=i.steps,l=i.begin,c=i.onAnimationStart,u=o[0],d=u.style,f=u.duration,g=f===void 0?0:f,v=function(x,_,S){if(S===0)return x;var C=_.duration,N=_.easing,A=N===void 0?"ease":N,E=_.style,k=_.properties,O=_.onAnimationEnd,I=S>0?o[S-1]:_,z=k||Object.keys(E);if(typeof A=="function"||A==="spring")return[].concat(yk(x),[s.runJSAnimation.bind(s,{from:I.style,to:E,duration:C,easing:A}),C]);var W=wV(z,C,A),V=go(go(go({},I.style),E),{},{transition:W});return[].concat(yk(x),[V,C,O]).filter(wBe)};return this.manager.start([c].concat(yk(o.reduce(v,[d,Math.max(g,l)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=vBe());var s=i.begin,o=i.duration,l=i.attributeName,c=i.to,u=i.easing,d=i.onAnimationStart,f=i.onAnimationEnd,g=i.steps,v=i.children,y=this.manager;if(this.unSubscribe=y.subscribe(this.handleStyleChange),typeof u=="function"||typeof v=="function"||u==="spring"){this.runJSAnimation(i);return}if(g.length>1){this.runStepAnimation(i);return}var x=l?vv({},l,c):c,_=wV(Object.keys(x),o,u);y.start([d,s,go(go({},x),{},{transition:_}),o,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var l=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var c=HBe(i,WBe),u=b.Children.count(s),d=this.state.style;if(typeof s=="function")return s(d);if(!l||u===0||o<=0)return s;var f=function(v){var y=v.props,x=y.style,_=x===void 0?{}:x,S=y.className,C=b.cloneElement(v,go(go({},c),{},{style:go(go({},_),d),className:S}));return C};return u===1?f(b.Children.only(s)):re.createElement("div",null,b.Children.map(s,function(g){return f(g)}))}}]),r}(b.PureComponent);kl.displayName="Animate";kl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};kl.propTypes={from:Br.oneOfType([Br.object,Br.string]),to:Br.oneOfType([Br.object,Br.string]),attributeName:Br.string,duration:Br.number,begin:Br.number,easing:Br.oneOfType([Br.string,Br.func]),steps:Br.arrayOf(Br.shape({duration:Br.number.isRequired,style:Br.object.isRequired,easing:Br.oneOfType([Br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Br.func]),properties:Br.arrayOf("string"),onAnimationEnd:Br.func})),children:Br.oneOfType([Br.node,Br.func]),isActive:Br.bool,canBegin:Br.bool,onAnimationEnd:Br.func,shouldReAnimate:Br.bool,onAnimationStart:Br.func,onAnimationReStart:Br.func};function Ay(t){"@babel/helpers - typeof";return Ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ay(t)}function x_(){return x_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},x_.apply(this,arguments)}function s6e(t,e){return c6e(t)||l6e(t,e)||o6e(t,e)||a6e()}function a6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o6e(t,e){if(t){if(typeof t=="string")return EV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EV(t,e)}}function EV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function c6e(t){if(Array.isArray(t))return t}function PV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PV(Object(r),!0).forEach(function(n){u6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u6e(t,e,r){return e=d6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d6e(t){var e=f6e(t,"string");return Ay(e)=="symbol"?e:e+""}function f6e(t,e){if(Ay(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ay(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AV=function(e,r,n,i,s){var o=Math.min(Math.abs(n)/2,Math.abs(i)/2),l=i>=0?1:-1,c=n>=0?1:-1,u=i>=0&&n>=0||i<0&&n<0?1:0,d;if(o>0&&s instanceof Array){for(var f=[0,0,0,0],g=0,v=4;g<v;g++)f[g]=s[g]>o?o:s[g];d="M".concat(e,",").concat(r+l*f[0]),f[0]>0&&(d+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+c*f[0],",").concat(r)),d+="L ".concat(e+n-c*f[1],",").concat(r),f[1]>0&&(d+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*f[1])),d+="L ".concat(e+n,",").concat(r+i-l*f[2]),f[2]>0&&(d+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+n-c*f[2],",").concat(r+i)),d+="L ".concat(e+c*f[3],",").concat(r+i),f[3]>0&&(d+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+i-l*f[3])),d+="Z"}else if(o>0&&s===+s&&s>0){var y=Math.min(o,s);d="M ".concat(e,",").concat(r+l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+c*y,",").concat(r,`
            L `).concat(e+n-c*y,",").concat(r,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*y,`
            L `).concat(e+n,",").concat(r+i-l*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e+n-c*y,",").concat(r+i,`
            L `).concat(e+c*y,",").concat(r+i,`
            A `).concat(y,",").concat(y,",0,0,").concat(u,",").concat(e,",").concat(r+i-l*y," Z")}else d="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(i," h ").concat(-n," Z");return d},h6e=function(e,r){if(!e||!r)return!1;var n=e.x,i=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),d=Math.max(s,s+l),f=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=d&&i>=f&&i<=g}return!1},p6e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RL=function(e){var r=kV(kV({},p6e),e),n=b.useRef(),i=b.useState(-1),s=s6e(i,2),o=s[0],l=s[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,d=r.width,f=r.height,g=r.radius,v=r.className,y=r.animationEasing,x=r.animationDuration,_=r.animationBegin,S=r.isAnimationActive,C=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||d===0||f===0)return null;var N=hr("recharts-rectangle",v);return C?re.createElement(kl,{canBegin:o>0,from:{width:d,height:f,x:c,y:u},to:{width:d,height:f,x:c,y:u},duration:x,animationEasing:y,isActive:C},function(A){var E=A.width,k=A.height,O=A.x,I=A.y;return re.createElement(kl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,isActive:S,easing:y},re.createElement("path",x_({},ur(r,!0),{className:N,d:AV(O,I,E,k,g),ref:n})))}):re.createElement("path",x_({},ur(r,!0),{className:N,d:AV(c,u,d,f,g)}))};function LO(){return LO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LO.apply(this,arguments)}var ML=function(e){var r=e.cx,n=e.cy,i=e.r,s=e.className,o=hr("recharts-dot",s);return r===+r&&n===+n&&i===+i?b.createElement("circle",LO({},ur(e,!1),qw(e),{className:o,cx:r,cy:n,r:i})):null};function Ty(t){"@babel/helpers - typeof";return Ty=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ty(t)}var m6e=["x","y","top","left","width","height","className"];function DO(){return DO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DO.apply(this,arguments)}function TV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TV(Object(r),!0).forEach(function(n){v6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v6e(t,e,r){return e=y6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y6e(t){var e=x6e(t,"string");return Ty(e)=="symbol"?e:e+""}function x6e(t,e){if(Ty(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ty(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6e(t,e){if(t==null)return{};var r=w6e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function w6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _6e=function(e,r,n,i,s,o){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(o,",").concat(r,"h").concat(n)},S6e=function(e){var r=e.x,n=r===void 0?0:r,i=e.y,s=i===void 0?0:i,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,d=e.width,f=d===void 0?0:d,g=e.height,v=g===void 0?0:g,y=e.className,x=b6e(e,m6e),_=g6e({x:n,y:s,top:l,left:u,width:f,height:v},x);return!ut(n)||!ut(s)||!ut(f)||!ut(v)||!ut(l)||!ut(u)?null:re.createElement("path",DO({},ur(_,!0),{className:hr("recharts-cross",y),d:_6e(n,s,f,v,l,u)}))},xk,OV;function j6e(){if(OV)return xk;OV=1;var t=Lte(),e=t(Object.getPrototypeOf,Object);return xk=e,xk}var bk,RV;function C6e(){if(RV)return bk;RV=1;var t=Yc(),e=j6e(),r=Xc(),n="[object Object]",i=Function.prototype,s=Object.prototype,o=i.toString,l=s.hasOwnProperty,c=o.call(Object);function u(d){if(!r(d)||t(d)!=n)return!1;var f=e(d);if(f===null)return!0;var g=l.call(f,"constructor")&&f.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return bk=u,bk}var N6e=C6e();const E6e=Nr(N6e);var wk,MV;function P6e(){if(MV)return wk;MV=1;var t=Yc(),e=Xc(),r="[object Boolean]";function n(i){return i===!0||i===!1||e(i)&&t(i)==r}return wk=n,wk}var k6e=P6e();const A6e=Nr(k6e);function Oy(t){"@babel/helpers - typeof";return Oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oy(t)}function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b_.apply(this,arguments)}function T6e(t,e){return I6e(t)||M6e(t,e)||R6e(t,e)||O6e()}function O6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function R6e(t,e){if(t){if(typeof t=="string")return IV(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return IV(t,e)}}function IV(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function M6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function I6e(t){if(Array.isArray(t))return t}function LV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function DV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LV(Object(r),!0).forEach(function(n){L6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L6e(t,e,r){return e=D6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D6e(t){var e=$6e(t,"string");return Oy(e)=="symbol"?e:e+""}function $6e(t,e){if(Oy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Oy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $V=function(e,r,n,i,s){var o=n-i,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-i,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},F6e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},B6e=function(e){var r=DV(DV({},F6e),e),n=b.useRef(),i=b.useState(-1),s=T6e(i,2),o=s[0],l=s[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,d=r.upperWidth,f=r.lowerWidth,g=r.height,v=r.className,y=r.animationEasing,x=r.animationDuration,_=r.animationBegin,S=r.isUpdateAnimationActive;if(c!==+c||u!==+u||d!==+d||f!==+f||g!==+g||d===0&&f===0||g===0)return null;var C=hr("recharts-trapezoid",v);return S?re.createElement(kl,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:d,lowerWidth:f,height:g,x:c,y:u},duration:x,animationEasing:y,isActive:S},function(N){var A=N.upperWidth,E=N.lowerWidth,k=N.height,O=N.x,I=N.y;return re.createElement(kl,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:x,easing:y},re.createElement("path",b_({},ur(r,!0),{className:C,d:$V(O,I,A,E,k),ref:n})))}):re.createElement("g",null,re.createElement("path",b_({},ur(r,!0),{className:C,d:$V(c,u,d,f,g)})))},z6e=["option","shapeType","propTransformer","activeClassName","isActive"];function Ry(t){"@babel/helpers - typeof";return Ry=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ry(t)}function q6e(t,e){if(t==null)return{};var r=U6e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function U6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function w_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FV(Object(r),!0).forEach(function(n){V6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V6e(t,e,r){return e=W6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W6e(t){var e=H6e(t,"string");return Ry(e)=="symbol"?e:e+""}function H6e(t,e){if(Ry(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ry(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K6e(t,e){return w_(w_({},e),t)}function G6e(t,e){return t==="symbols"}function BV(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return re.createElement(RL,r);case"trapezoid":return re.createElement(B6e,r);case"sector":return re.createElement(lne,r);case"symbols":if(G6e(e))return re.createElement(JI,r);break;default:return null}}function Z6e(t){return b.isValidElement(t)?t.props:t}function gne(t){var e=t.option,r=t.shapeType,n=t.propTransformer,i=n===void 0?K6e:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=q6e(t,z6e),u;if(b.isValidElement(e))u=b.cloneElement(e,w_(w_({},c),Z6e(e)));else if(Yt(e))u=e(c);else if(E6e(e)&&!A6e(e)){var d=i(e,c);u=re.createElement(BV,{shapeType:r,elementProps:d})}else{var f=c;u=re.createElement(BV,{shapeType:r,elementProps:f})}return l?re.createElement(un,{className:o},u):u}function cS(t,e){return e!=null&&"trapezoids"in t.props}function uS(t,e){return e!=null&&"sectors"in t.props}function My(t,e){return e!=null&&"points"in t.props}function Y6e(t,e){var r,n,i=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return i&&s}function X6e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function J6e(t,e){var r=t.x===e.x,n=t.y===e.y,i=t.z===e.z;return r&&n&&i}function Q6e(t,e){var r;return cS(t,e)?r=Y6e:uS(t,e)?r=X6e:My(t,e)&&(r=J6e),r}function eze(t,e){var r;return cS(t,e)?r="trapezoids":uS(t,e)?r="sectors":My(t,e)&&(r="points"),r}function tze(t,e){if(cS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(uS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return My(t,e)?e.payload:{}}function rze(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,i=eze(r,e),s=tze(r,e),o=n.filter(function(c,u){var d=Tx(s,c),f=r.props[i].filter(function(y){var x=Q6e(r,e);return x(y,e)}),g=r.props[i].indexOf(f[f.length-1]),v=u===g;return d&&v}),l=n.indexOf(o[o.length-1]);return l}var Gb;function dm(t){"@babel/helpers - typeof";return dm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dm(t)}function wp(){return wp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wp.apply(this,arguments)}function zV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ln(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zV(Object(r),!0).forEach(function(n){Va(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yne(n.key),n)}}function ize(t,e,r){return e&&qV(t.prototype,e),r&&qV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sze(t,e,r){return e=__(e),aze(t,vne()?Reflect.construct(e,r||[],__(t).constructor):e.apply(t,r))}function aze(t,e){if(e&&(dm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oze(t)}function oze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vne=function(){return!!t})()}function __(t){return __=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},__(t)}function lze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$O(t,e)}function $O(t,e){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},$O(t,e)}function Va(t,e,r){return e=yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yne(t){var e=cze(t,"string");return dm(e)=="symbol"?e:e+""}function cze(t,e){if(dm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vc=function(t){function e(r){var n;return nze(this,e),n=sze(this,e,[r]),Va(n,"pieRef",null),Va(n,"sectorRefs",[]),Va(n,"id",Zm("recharts-pie-")),Va(n,"handleAnimationEnd",function(){var i=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Yt(i)&&i()}),Va(n,"handleAnimationStart",function(){var i=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Yt(i)&&i()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return lze(e,t),ize(e,[{key:"isActiveIndex",value:function(n){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(n)!==-1:n===i}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,d=ur(this.props,!1),f=ur(o,!1),g=ur(l,!1),v=o&&o.offsetRadius||20,y=n.map(function(x,_){var S=(x.startAngle+x.endAngle)/2,C=ri(x.cx,x.cy,x.outerRadius+v,S),N=ln(ln(ln(ln({},d),x),{},{stroke:"none"},f),{},{index:_,textAnchor:e.getTextAnchor(C.x,x.cx)},C),A=ln(ln(ln(ln({},d),x),{},{fill:"none",stroke:x.fill},g),{},{index:_,points:[ri(x.cx,x.cy,x.outerRadius,S),C]}),E=c;return Qt(c)&&Qt(u)?E="value":Qt(c)&&(E=u),re.createElement(un,{key:"label-".concat(x.startAngle,"-").concat(x.endAngle,"-").concat(x.midAngle,"-").concat(_)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,N,pi(x,E)))});return re.createElement(un,{className:"recharts-pie-labels"},y)}},{key:"renderSectorsStatically",value:function(n){var i=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,d){if(u?.startAngle===0&&u?.endAngle===0&&n.length!==1)return null;var f=i.isActiveIndex(d),g=c&&i.hasActiveIndex()?c:null,v=f?o:g,y=ln(ln({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return re.createElement(un,wp({ref:function(_){_&&!i.sectorRefs.includes(_)&&i.sectorRefs.push(_)},tabIndex:-1,className:"recharts-pie-sector"},ny(i.props,u,d),{key:"sector-".concat(u?.startAngle,"-").concat(u?.endAngle,"-").concat(u.midAngle,"-").concat(d)}),re.createElement(gne,wp({option:v,isActive:f,shapeType:"sector"},y)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,i=this.props,s=i.sectors,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state,g=f.prevSectors,v=f.prevIsAnimationActive;return re.createElement(kl,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(d,"-").concat(v),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(y){var x=y.t,_=[],S=s&&s[0],C=S.startAngle;return s.forEach(function(N,A){var E=g&&g[A],k=A>0?ma(N,"paddingAngle",0):0;if(E){var O=da(E.endAngle-E.startAngle,N.endAngle-N.startAngle),I=ln(ln({},N),{},{startAngle:C+k,endAngle:C+O(x)+k});_.push(I),C=I.endAngle}else{var z=N.endAngle,W=N.startAngle,V=da(0,z-W),q=V(x),F=ln(ln({},N),{},{startAngle:C+k,endAngle:C+q+k});_.push(F),C=F.endAngle}}),re.createElement(un,null,n.renderSectorsStatically(_))})}},{key:"attachKeyboardHandlers",value:function(n){var i=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[l].focus(),i.setState({sectorToFocus:l});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,i=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&i&&i.length&&(!o||!Tx(o,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,i=this.props,s=i.hide,o=i.sectors,l=i.className,c=i.label,u=i.cx,d=i.cy,f=i.innerRadius,g=i.outerRadius,v=i.isAnimationActive,y=this.state.isAnimationFinished;if(s||!o||!o.length||!ut(u)||!ut(d)||!ut(f)||!ut(g))return null;var x=hr("recharts-pie",l);return re.createElement(un,{tabIndex:this.props.rootTabIndex,className:x,ref:function(S){n.pieRef=S}},this.renderSectors(),c&&this.renderLabels(o),Di.renderCallByParent(this.props,null,!1),(!v||y)&&Oc.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return i.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:n.sectors!==i.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,i){return n>i?"start":n<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,i,s){if(re.isValidElement(n))return re.cloneElement(n,i);if(Yt(n))return n(i);var o=hr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return re.createElement(m_,wp({},i,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,i,s){if(re.isValidElement(n))return re.cloneElement(n,i);var o=s;if(Yt(n)&&(o=n(i),re.isValidElement(o)))return o;var l=hr("recharts-pie-label-text",typeof n!="boolean"&&!Yt(n)?n.className:"");return re.createElement(fy,wp({},i,{alignmentBaseline:"middle",className:l}),o)}}])}(b.PureComponent);Gb=Vc;Va(Vc,"displayName","Pie");Va(Vc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!ah.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Va(Vc,"parseDeltaAngle",function(t,e){var r=vs(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Va(Vc,"getRealPieData",function(t){var e=t.data,r=t.children,n=ur(t,!1),i=ga(r,cy);return e&&e.length?e.map(function(s,o){return ln(ln(ln({payload:s},n),s),i&&i[o]&&i[o].props)}):i&&i.length?i.map(function(s){return ln(ln({},n),s.props)}):[]});Va(Vc,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,i=e.width,s=e.height,o=PFe(i,s),l=n+Ao(t.cx,i,i/2),c=r+Ao(t.cy,s,s/2),u=Ao(t.innerRadius,o,0),d=Ao(t.outerRadius,o,o*.8),f=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:d,maxRadius:f}});Va(Vc,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?ln(ln({},e.type.defaultProps),e.props):e.props,i=Gb.getRealPieData(n);if(!i||!i.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,d=n.nameKey,f=n.valueKey,g=n.tooltipType,v=Math.abs(n.minAngle),y=Gb.parseCoordinateOfPie(n,r),x=Gb.parseDeltaAngle(o,l),_=Math.abs(x),S=u;Qt(u)&&Qt(f)?(Ro(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S="value"):Qt(u)&&(Ro(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),S=f);var C=i.filter(function(I){return pi(I,S,0)!==0}).length,N=(_>=360?C:C-1)*c,A=_-C*v-N,E=i.reduce(function(I,z){var W=pi(z,S,0);return I+(ut(W)?W:0)},0),k;if(E>0){var O;k=i.map(function(I,z){var W=pi(I,S,0),V=pi(I,d,z),q=(ut(W)?W:0)/E,F;z?F=O.endAngle+vs(x)*c*(W!==0?1:0):F=o;var H=F+vs(x)*((W!==0?v:0)+q*A),Q=(F+H)/2,oe=(y.innerRadius+y.outerRadius)/2,K=[{name:V,value:W,payload:I,dataKey:S,type:g}],te=ri(y.cx,y.cy,oe,Q);return O=ln(ln(ln({percent:q,cornerRadius:s,name:V,tooltipPayload:K,midAngle:Q,middleRadius:oe,tooltipPosition:te},I),y),{},{value:pi(I,S),startAngle:F,endAngle:H,payload:I,paddingAngle:vs(x)*c}),O})}return ln(ln({},y),{},{sectors:k,data:i})});var _k,UV;function uze(){if(UV)return _k;UV=1;var t=Math.ceil,e=Math.max;function r(n,i,s,o){for(var l=-1,c=e(t((i-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return _k=r,_k}var Sk,VV;function xne(){if(VV)return Sk;VV=1;var t=Jte(),e=1/0,r=17976931348623157e292;function n(i){if(!i)return i===0?i:0;if(i=t(i),i===e||i===-e){var s=i<0?-1:1;return s*r}return i===i?i:0}return Sk=n,Sk}var jk,WV;function dze(){if(WV)return jk;WV=1;var t=uze(),e=J1(),r=xne();function n(i){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,i)}}return jk=n,jk}var Ck,HV;function fze(){if(HV)return Ck;HV=1;var t=dze(),e=t();return Ck=e,Ck}var hze=fze();const S_=Nr(hze);function Iy(t){"@babel/helpers - typeof";return Iy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iy(t)}function KV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KV(Object(r),!0).forEach(function(n){bne(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bne(t,e,r){return e=pze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pze(t){var e=mze(t,"string");return Iy(e)=="symbol"?e:e+""}function mze(t,e){if(Iy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gze=["Webkit","Moz","O","ms"],vze=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=gze.reduce(function(s,o){return GV(GV({},s),{},bne({},o+n,r))},{});return i[e]=r,i};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j_.apply(this,arguments)}function ZV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZV(Object(r),!0).forEach(function(n){aa(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YV(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ne(n.key),n)}}function xze(t,e,r){return e&&YV(t.prototype,e),r&&YV(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bze(t,e,r){return e=C_(e),wze(t,wne()?Reflect.construct(e,r||[],C_(t).constructor):e.apply(t,r))}function wze(t,e){if(e&&(fm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _ze(t)}function _ze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wne=function(){return!!t})()}function C_(t){return C_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},C_(t)}function Sze(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FO(t,e)}function FO(t,e){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},FO(t,e)}function aa(t,e,r){return e=_ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ne(t){var e=jze(t,"string");return fm(e)=="symbol"?e:e+""}function jze(t,e){if(fm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cze=function(e){var r=e.data,n=e.startIndex,i=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Tv().domain(S_(0,c)).range([s,s+o-l]),d=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(i),scale:u,scaleValues:d}},XV=function(e){return e.changedTouches&&!!e.changedTouches.length},hm=function(t){function e(r){var n;return yze(this,e),n=bze(this,e,[r]),aa(n,"handleDrag",function(i){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(i):n.state.isSlideMoving&&n.handleSlideDrag(i)}),aa(n,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&n.handleDrag(i.changedTouches[0])}),aa(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=n.props,s=i.endIndex,o=i.onDragEnd,l=i.startIndex;o?.({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),aa(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),aa(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),aa(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),aa(n,"handleSlideDragStart",function(i){var s=XV(i)?i.changedTouches[0]:i;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return Sze(e,t),xze(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var i=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,d=u.length-1,f=Math.min(i,s),g=Math.max(i,s),v=e.getIndexInRange(o,f),y=e.getIndexInRange(o,g);return{startIndex:v-v%c,endIndex:y===d?d:y-y%c}}},{key:"getTextOfTick",value:function(n){var i=this.props,s=i.data,o=i.tickFormatter,l=i.dataKey,c=pi(s[n],l,n);return Yt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var i=this.state,s=i.slideMoveStartX,o=i.startX,l=i.endX,c=this.props,u=c.x,d=c.width,f=c.travellerWidth,g=c.startIndex,v=c.endIndex,y=c.onChange,x=n.pageX-s;x>0?x=Math.min(x,u+d-f-l,u+d-f-o):x<0&&(x=Math.max(x,u-o,u-l));var _=this.getIndex({startX:o+x,endX:l+x});(_.startIndex!==g||_.endIndex!==v)&&y&&y(_),this.setState({startX:o+x,endX:l+x,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,i){var s=XV(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var i=this.state,s=i.brushMoveStartX,o=i.movingTravellerId,l=i.endX,c=i.startX,u=this.state[o],d=this.props,f=d.x,g=d.width,v=d.travellerWidth,y=d.onChange,x=d.gap,_=d.data,S={startX:this.state.startX,endX:this.state.endX},C=n.pageX-s;C>0?C=Math.min(C,f+g-v-u):C<0&&(C=Math.max(C,f-u)),S[o]=u+C;var N=this.getIndex(S),A=N.startIndex,E=N.endIndex,k=function(){var I=_.length-1;return o==="startX"&&(l>c?A%x===0:E%x===0)||l<c&&E===I||o==="endX"&&(l>c?E%x===0:A%x===0)||l>c&&E===I};this.setState(aa(aa({},o,u+C),"brushMoveStartX",n.pageX),function(){y&&k()&&y(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,i){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,d=this.state[i],f=l.indexOf(d);if(f!==-1){var g=f+n;if(!(g===-1||g>=l.length)){var v=l[g];i==="startX"&&v>=u||i==="endX"&&v<=c||this.setState(aa({},i,v),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return re.createElement("rect",{stroke:u,fill:c,x:i,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,d=n.padding,f=b.Children.only(u);return f?re.cloneElement(f,{x:i,y:s,width:o,height:l,margin:d,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,i){var s,o,l=this,c=this.props,u=c.y,d=c.travellerWidth,f=c.height,g=c.traveller,v=c.ariaLabel,y=c.data,x=c.startIndex,_=c.endIndex,S=Math.max(n,this.props.x),C=Nk(Nk({},ur(this.props,!1)),{},{x:S,y:u,width:d,height:f}),N=v||"Min value: ".concat((s=y[x])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=y[_])===null||o===void 0?void 0:o.name);return re.createElement(un,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),l.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,C))}},{key:"renderSlide",value:function(n,i){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,d=Math.min(n,i)+u,f=Math.max(Math.abs(i-n)-u,0);return re.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:d,y:o,width:f,height:l})}},{key:"renderText",value:function(){var n=this.props,i=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,d=this.state,f=d.startX,g=d.endX,v=5,y={pointerEvents:"none",fill:u};return re.createElement(un,{className:"recharts-brush-texts"},re.createElement(fy,j_({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,g)-v,y:o+l/2},y),this.getTextOfTick(i)),re.createElement(fy,j_({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,g)+c+v,y:o+l/2},y),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,i=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,d=n.height,f=n.alwaysShowText,g=this.state,v=g.startX,y=g.endX,x=g.isTextActive,_=g.isSlideMoving,S=g.isTravellerMoving,C=g.isTravellerFocused;if(!i||!i.length||!ut(l)||!ut(c)||!ut(u)||!ut(d)||u<=0||d<=0)return null;var N=hr("recharts-brush",s),A=re.Children.count(o)===1,E=vze("userSelect","none");return re.createElement(un,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(v,y),this.renderTravellerLayer(v,"startX"),this.renderTravellerLayer(y,"endX"),(x||_||S||C||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var i=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return re.createElement(re.Fragment,null,re.createElement("rect",{x:i,y:s,width:o,height:l,fill:c,stroke:"none"}),re.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),re.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,i){var s;return re.isValidElement(n)?s=re.cloneElement(n,i):Yt(n)?s=n(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(n,i){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,d=n.startIndex,f=n.endIndex;if(s!==i.prevData||u!==i.prevUpdateId)return Nk({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?Cze({data:s,width:o,x:l,travellerWidth:c,startIndex:d,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||l!==i.prevX||c!==i.prevTravellerWidth)){i.scale.range([l,l+o-c]);var g=i.scale.domain().map(function(v){return i.scale(v)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:i.scale(n.startIndex),endX:i.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,i){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>i?l=c:o=c}return i>=n[l]?l:o}}])}(b.PureComponent);aa(hm,"displayName","Brush");aa(hm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Ek,JV;function Nze(){if(JV)return Ek;JV=1;var t=sL();function e(r,n){var i;return t(r,function(s,o,l){return i=n(s,o,l),!i}),!!i}return Ek=e,Ek}var Pk,QV;function Eze(){if(QV)return Pk;QV=1;var t=kte(),e=Ed(),r=Nze(),n=Ks(),i=J1();function s(o,l,c){var u=n(o)?t:r;return c&&i(o,l,c)&&(l=void 0),u(o,e(l,3))}return Pk=s,Pk}var Pze=Eze();const kze=Nr(Pze);var wl=function(e,r){var n=e.alwaysShow,i=e.ifOverflow;return n&&(i="extendDomain"),i===r},kk,e9;function Aze(){if(e9)return kk;e9=1;var t=Kte();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return kk=e,kk}var Ak,t9;function Tze(){if(t9)return Ak;t9=1;var t=Aze(),e=Wte(),r=Ed();function n(i,s){var o={};return s=r(s,3),e(i,function(l,c,u){t(o,c,s(l,c,u))}),o}return Ak=n,Ak}var Oze=Tze();const Rze=Nr(Oze);var Tk,r9;function Mze(){if(r9)return Tk;r9=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(!r(e[n],n,e))return!1;return!0}return Tk=t,Tk}var Ok,n9;function Ize(){if(n9)return Ok;n9=1;var t=sL();function e(r,n){var i=!0;return t(r,function(s,o,l){return i=!!n(s,o,l),i}),i}return Ok=e,Ok}var Rk,i9;function Lze(){if(i9)return Rk;i9=1;var t=Mze(),e=Ize(),r=Ed(),n=Ks(),i=J1();function s(o,l,c){var u=n(o)?t:e;return c&&i(o,l,c)&&(l=void 0),u(o,r(l,3))}return Rk=s,Rk}var Dze=Lze();const Sne=Nr(Dze);var $ze=["x","y"];function Ly(t){"@babel/helpers - typeof";return Ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ly(t)}function BO(){return BO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BO.apply(this,arguments)}function s9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s9(Object(r),!0).forEach(function(n){Fze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fze(t,e,r){return e=Bze(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bze(t){var e=zze(t,"string");return Ly(e)=="symbol"?e:e+""}function zze(t,e){if(Ly(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ly(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qze(t,e){if(t==null)return{};var r=Uze(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Uze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Vze(t,e){var r=t.x,n=t.y,i=qze(t,$ze),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||i.height),d=parseInt(u,10),f="".concat(e.width||i.width),g=parseInt(f,10);return tv(tv(tv(tv(tv({},e),i),o?{x:o}:{}),c?{y:c}:{}),{},{height:d,width:g,name:e.name,radius:e.radius})}function a9(t){return re.createElement(gne,BO({shapeType:"rectangle",propTransformer:Vze,activeClassName:"recharts-active-bar"},t))}var Wze=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,i){if(typeof e=="number")return e;var s=ut(n)||GOe(n);return s?e(n,i):(s||Wf(),r)}},Hze=["value","background"],jne;function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}function Kze(t,e){if(t==null)return{};var r=Gze(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Gze(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function N_(){return N_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},N_.apply(this,arguments)}function o9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?o9(Object(r),!0).forEach(function(n){rd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):o9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zze(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nne(n.key),n)}}function Yze(t,e,r){return e&&l9(t.prototype,e),r&&l9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xze(t,e,r){return e=E_(e),Jze(t,Cne()?Reflect.construct(e,r||[],E_(t).constructor):e.apply(t,r))}function Jze(t,e){if(e&&(pm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qze(t)}function Qze(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cne=function(){return!!t})()}function E_(t){return E_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},E_(t)}function eqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zO(t,e)}function zO(t,e){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},zO(t,e)}function rd(t,e,r){return e=Nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nne(t){var e=tqe(t,"string");return pm(e)=="symbol"?e:e+""}function tqe(t,e){if(pm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rc=function(t){function e(){var r;Zze(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=Xze(this,e,[].concat(i)),rd(r,"state",{isAnimationFinished:!1}),rd(r,"id",Zm("recharts-bar-")),rd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),rd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return eqe(e,t),Yze(e,[{key:"renderRectanglesStatically",value:function(n){var i=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,d=ur(this.props,!1);return n&&n.map(function(f,g){var v=g===c,y=v?u:o,x=Yn(Yn(Yn({},d),f),{},{isActive:v,option:y,index:g,dataKey:l,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return re.createElement(un,N_({className:"recharts-bar-rectangle"},ny(i.props,f,g),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value,"-").concat(g)}),re.createElement(a9,x))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,i=this.props,s=i.data,o=i.layout,l=i.isAnimationActive,c=i.animationBegin,u=i.animationDuration,d=i.animationEasing,f=i.animationId,g=this.state.prevData;return re.createElement(kl,{begin:c,duration:u,isActive:l,easing:d,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(v){var y=v.t,x=s.map(function(_,S){var C=g&&g[S];if(C){var N=da(C.x,_.x),A=da(C.y,_.y),E=da(C.width,_.width),k=da(C.height,_.height);return Yn(Yn({},_),{},{x:N(y),y:A(y),width:E(y),height:k(y)})}if(o==="horizontal"){var O=da(0,_.height),I=O(y);return Yn(Yn({},_),{},{y:_.y+_.height-I,height:I})}var z=da(0,_.width),W=z(y);return Yn(Yn({},_),{},{width:W})});return re.createElement(un,null,n.renderRectanglesStatically(x))})}},{key:"renderRectangles",value:function(){var n=this.props,i=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&i&&i.length&&(!o||!Tx(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var n=this,i=this.props,s=i.data,o=i.dataKey,l=i.activeIndex,c=ur(this.props.background,!1);return s.map(function(u,d){u.value;var f=u.background,g=Kze(u,Hze);if(!f)return null;var v=Yn(Yn(Yn(Yn(Yn({},g),{},{fill:"#eee"},f),c),ny(n.props,u,d)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:d,className:"recharts-bar-background-rectangle"});return re.createElement(a9,N_({key:"background-bar-".concat(d),option:n.props.background,isActive:d===l},v))})}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ga(d,Ox);if(!f)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,v=function(_,S){var C=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:C,errorVal:pi(_,S)}},y={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(un,y,f.map(function(x){return re.cloneElement(x,{key:"error-bar-".concat(i,"-").concat(x.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:v})}))}},{key:"render",value:function(){var n=this.props,i=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,d=n.top,f=n.width,g=n.height,v=n.isAnimationActive,y=n.background,x=n.id;if(i||!s||!s.length)return null;var _=this.state.isAnimationFinished,S=hr("recharts-bar",o),C=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,A=C||N,E=Qt(x)?this.id:x;return re.createElement(un,{className:S},C||N?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(E)},re.createElement("rect",{x:C?u:u-f/2,y:N?d:d-g/2,width:C?f:f*2,height:N?g:g*2}))):null,re.createElement(un,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(E,")"):null},y?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,E),(!v||_)&&Oc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:i.curData}:n.data!==i.curData?{curData:n.data}:null}}])}(b.PureComponent);jne=Rc;rd(Rc,"displayName","Bar");rd(Rc,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!ah.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});rd(Rc,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,i=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,d=t.dataStartIndex,f=t.displayedData,g=t.offset,v=hFe(n,r);if(!v)return null;var y=e.layout,x=r.type.defaultProps,_=x!==void 0?Yn(Yn({},x),r.props):r.props,S=_.dataKey,C=_.children,N=_.minPointSize,A=y==="horizontal"?o:s,E=u?A.scale.domain():null,k=wFe({numericAxis:A}),O=ga(C,cy),I=f.map(function(z,W){var V,q,F,H,Q,oe;u?V=pFe(u[d+W],E):(V=pi(z,S),Array.isArray(V)||(V=[k,V]));var K=Wze(N,jne.defaultProps.minPointSize)(V[1],W);if(y==="horizontal"){var te,Z=[o.scale(V[0]),o.scale(V[1])],se=Z[0],X=Z[1];q=UU({axis:s,ticks:l,bandSize:i,offset:v.offset,entry:z,index:W}),F=(te=X??se)!==null&&te!==void 0?te:void 0,H=v.size;var ce=se-X;if(Q=Number.isNaN(ce)?0:ce,oe={x:q,y:o.y,width:H,height:o.height},Math.abs(K)>0&&Math.abs(Q)<Math.abs(K)){var je=vs(Q||K)*(Math.abs(K)-Math.abs(Q));F-=je,Q+=je}}else{var Te=[s.scale(V[0]),s.scale(V[1])],qe=Te[0],pe=Te[1];if(q=qe,F=UU({axis:o,ticks:c,bandSize:i,offset:v.offset,entry:z,index:W}),H=pe-qe,Q=v.size,oe={x:s.x,y:F,width:s.width,height:Q},Math.abs(K)>0&&Math.abs(H)<Math.abs(K)){var ue=vs(H||K)*(Math.abs(K)-Math.abs(H));H+=ue}}return Yn(Yn(Yn({},z),{},{x:q,y:F,width:H,height:Q,value:u?V:V[1],payload:z,background:oe},O&&O[W]&&O[W].props),{},{tooltipPayload:[sne(r,z)],tooltipPosition:{x:q+H/2,y:F+Q/2}})});return Yn({data:I,layout:y},g)});function Dy(t){"@babel/helpers - typeof";return Dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dy(t)}function rqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ene(n.key),n)}}function nqe(t,e,r){return e&&c9(t.prototype,e),r&&c9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _o(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u9(Object(r),!0).forEach(function(n){dS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dS(t,e,r){return e=Ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ene(t){var e=iqe(t,"string");return Dy(e)=="symbol"?e:e+""}function iqe(t,e){if(Dy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sqe=function(e,r,n,i,s){var o=e.width,l=e.height,c=e.layout,u=e.children,d=Object.keys(r),f={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!oa(u,Rc);return d.reduce(function(v,y){var x=r[y],_=x.orientation,S=x.domain,C=x.padding,N=C===void 0?{}:C,A=x.mirror,E=x.reversed,k="".concat(_).concat(A?"Mirror":""),O,I,z,W,V;if(x.type==="number"&&(x.padding==="gap"||x.padding==="no-gap")){var q=S[1]-S[0],F=1/0,H=x.categoricalDomain.sort(XOe);if(H.forEach(function(Te,qe){qe>0&&(F=Math.min((Te||0)-(H[qe-1]||0),F))}),Number.isFinite(F)){var Q=F/q,oe=x.layout==="vertical"?n.height:n.width;if(x.padding==="gap"&&(O=Q*oe/2),x.padding==="no-gap"){var K=Ao(e.barCategoryGap,Q*oe),te=Q*oe/2;O=te-K-(te-K)/oe*K}}}i==="xAxis"?I=[n.left+(N.left||0)+(O||0),n.left+n.width-(N.right||0)-(O||0)]:i==="yAxis"?I=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(O||0),n.top+n.height-(N.bottom||0)-(O||0)]:I=x.range,E&&(I=[I[1],I[0]]);var Z=dFe(x,s,g),se=Z.scale,X=Z.realScaleType;se.domain(S).range(I),fFe(se);var ce=bFe(se,_o(_o({},x),{},{realScaleType:X}));i==="xAxis"?(V=_==="top"&&!A||_==="bottom"&&A,z=n.left,W=f[k]-V*x.height):i==="yAxis"&&(V=_==="left"&&!A||_==="right"&&A,z=f[k]-V*x.width,W=n.top);var je=_o(_o(_o({},x),ce),{},{realScaleType:X,x:z,y:W,scale:se,width:i==="xAxis"?n.width:x.width,height:i==="yAxis"?n.height:x.height});return je.bandSize=f_(je,ce),!x.hide&&i==="xAxis"?f[k]+=(V?-1:1)*je.height:x.hide||(f[k]+=(V?-1:1)*je.width),_o(_o({},v),{},dS({},y,je))},{})},Pne=function(e,r){var n=e.x,i=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(i,o),width:Math.abs(s-n),height:Math.abs(o-i)}},aqe=function(e){var r=e.x1,n=e.y1,i=e.x2,s=e.y2;return Pne({x:r,y:n},{x:i,y:s})},kne=function(){function t(e){rqe(this,t),this.scale=e}return nqe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(i){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),i=n[0],s=n[n.length-1];return i<=s?r>=i&&r<=s:r>=s&&r<=i}}],[{key:"create",value:function(r){return new t(r)}}])}();dS(kne,"EPS",1e-4);var IL=function(e){var r=Object.keys(e).reduce(function(n,i){return _o(_o({},n),{},dS({},i,kne.create(e[i])))},{});return _o(_o({},r),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return Rze(i,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(i){return Sne(i,function(s,o){return r[o].isInRange(s)})}})};function oqe(t){return(t%180+180)%180}var lqe=function(e){var r=e.width,n=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=oqe(i),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},Mk,d9;function cqe(){if(d9)return Mk;d9=1;var t=Ed(),e=Nx(),r=Y1();function n(i){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(f){return u(c[f],f,c)}}var d=i(s,o,l);return d>-1?c[u?s[d]:d]:void 0}}return Mk=n,Mk}var Ik,f9;function uqe(){if(f9)return Ik;f9=1;var t=xne();function e(r){var n=t(r),i=n%1;return n===n?i?n-i:n:0}return Ik=e,Ik}var Lk,h9;function dqe(){if(h9)return Lk;h9=1;var t=Bte(),e=Ed(),r=uqe(),n=Math.max;function i(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return Lk=i,Lk}var Dk,p9;function fqe(){if(p9)return Dk;p9=1;var t=cqe(),e=dqe(),r=t(e);return Dk=r,Dk}var hqe=fqe();const pqe=Nr(hqe);var mqe=rte();const gqe=Nr(mqe);var vqe=gqe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),LL=b.createContext(void 0),DL=b.createContext(void 0),Ane=b.createContext(void 0),Tne=b.createContext({}),One=b.createContext(void 0),Rne=b.createContext(0),Mne=b.createContext(0),m9=function(e){var r=e.state,n=r.xAxisMap,i=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,d=vqe(s);return re.createElement(LL.Provider,{value:n},re.createElement(DL.Provider,{value:i},re.createElement(Tne.Provider,{value:s},re.createElement(Ane.Provider,{value:d},re.createElement(One.Provider,{value:o},re.createElement(Rne.Provider,{value:u},re.createElement(Mne.Provider,{value:c},l)))))))},yqe=function(){return b.useContext(One)},Ine=function(e){var r=b.useContext(LL);r==null&&Wf();var n=r[e];return n==null&&Wf(),n},xqe=function(){var e=b.useContext(LL);return Qu(e)},bqe=function(){var e=b.useContext(DL),r=pqe(e,function(n){return Sne(n.domain,Number.isFinite)});return r||Qu(e)},Lne=function(e){var r=b.useContext(DL);r==null&&Wf();var n=r[e];return n==null&&Wf(),n},wqe=function(){var e=b.useContext(Ane);return e},_qe=function(){return b.useContext(Tne)},$L=function(){return b.useContext(Mne)},FL=function(){return b.useContext(Rne)};function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function Sqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$ne(n.key),n)}}function Cqe(t,e,r){return e&&jqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nqe(t,e,r){return e=P_(e),Eqe(t,Dne()?Reflect.construct(e,r||[],P_(t).constructor):e.apply(t,r))}function Eqe(t,e){if(e&&(mm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pqe(t)}function Pqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dne=function(){return!!t})()}function P_(t){return P_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},P_(t)}function kqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qO(t,e)}function qO(t,e){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},qO(t,e)}function g9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function v9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g9(Object(r),!0).forEach(function(n){BL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BL(t,e,r){return e=$ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $ne(t){var e=Aqe(t,"string");return mm(e)=="symbol"?e:e+""}function Aqe(t,e){if(mm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Tqe(t,e){return Iqe(t)||Mqe(t,e)||Rqe(t,e)||Oqe()}function Oqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rqe(t,e){if(t){if(typeof t=="string")return y9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y9(t,e)}}function y9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mqe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function Iqe(t){if(Array.isArray(t))return t}function UO(){return UO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UO.apply(this,arguments)}var Lqe=function(e,r){var n;return re.isValidElement(e)?n=re.cloneElement(e,r):Yt(e)?n=e(r):n=re.createElement("line",UO({},r,{className:"recharts-reference-line-line"})),n},Dqe=function(e,r,n,i,s,o,l,c,u){var d=s.x,f=s.y,g=s.width,v=s.height;if(n){var y=u.y,x=e.y.apply(y,{position:o});if(wl(u,"discard")&&!e.y.isInRange(x))return null;var _=[{x:d+g,y:x},{x:d,y:x}];return c==="left"?_.reverse():_}if(r){var S=u.x,C=e.x.apply(S,{position:o});if(wl(u,"discard")&&!e.x.isInRange(C))return null;var N=[{x:C,y:f+v},{x:C,y:f}];return l==="top"?N.reverse():N}if(i){var A=u.segment,E=A.map(function(k){return e.apply(k,{position:o})});return wl(u,"discard")&&kze(E,function(k){return!e.isInRange(k)})?null:E}return null};function $qe(t){var e=t.x,r=t.y,n=t.segment,i=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=yqe(),d=Ine(i),f=Lne(s),g=wqe();if(!u||!g)return null;Ro(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var v=IL({x:d.scale,y:f.scale}),y=mi(e),x=mi(r),_=n&&n.length===2,S=Dqe(v,y,x,_,g,t.position,d.orientation,f.orientation,t);if(!S)return null;var C=Tqe(S,2),N=C[0],A=N.x,E=N.y,k=C[1],O=k.x,I=k.y,z=wl(t,"hidden")?"url(#".concat(u,")"):void 0,W=v9(v9({clipPath:z},ur(t,!0)),{},{x1:A,y1:E,x2:O,y2:I});return re.createElement(un,{className:hr("recharts-reference-line",l)},Lqe(o,W),Di.renderCallByParent(t,aqe({x1:A,y1:E,x2:O,y2:I})))}var zL=function(t){function e(){return Sqe(this,e),Nqe(this,e,arguments)}return kqe(e,t),Cqe(e,[{key:"render",value:function(){return re.createElement($qe,this.props)}}])}(re.Component);BL(zL,"displayName","ReferenceLine");BL(zL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function VO(){return VO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VO.apply(this,arguments)}function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function x9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x9(Object(r),!0).forEach(function(n){fS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bne(n.key),n)}}function zqe(t,e,r){return e&&Bqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qqe(t,e,r){return e=k_(e),Uqe(t,Fne()?Reflect.construct(e,r||[],k_(t).constructor):e.apply(t,r))}function Uqe(t,e){if(e&&(gm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vqe(t)}function Vqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fne=function(){return!!t})()}function k_(t){return k_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},k_(t)}function Wqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WO(t,e)}function WO(t,e){return WO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},WO(t,e)}function fS(t,e,r){return e=Bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bne(t){var e=Hqe(t,"string");return gm(e)=="symbol"?e:e+""}function Hqe(t,e){if(gm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Kqe=function(e){var r=e.x,n=e.y,i=e.xAxis,s=e.yAxis,o=IL({x:i.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return wl(e,"discard")&&!o.isInRange(l)?null:l},hS=function(t){function e(){return Fqe(this,e),qqe(this,e,arguments)}return Wqe(e,t),zqe(e,[{key:"render",value:function(){var n=this.props,i=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=mi(i),d=mi(s);if(Ro(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!d)return null;var f=Kqe(this.props);if(!f)return null;var g=f.x,v=f.y,y=this.props,x=y.shape,_=y.className,S=wl(this.props,"hidden")?"url(#".concat(c,")"):void 0,C=b9(b9({clipPath:S},ur(this.props,!0)),{},{cx:g,cy:v});return re.createElement(un,{className:hr("recharts-reference-dot",_)},e.renderDot(x,C),Di.renderCallByParent(this.props,{x:g-o,y:v-o,width:2*o,height:2*o}))}}])}(re.Component);fS(hS,"displayName","ReferenceDot");fS(hS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fS(hS,"renderDot",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):Yt(t)?r=t(e):r=re.createElement(ML,VO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function HO(){return HO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HO.apply(this,arguments)}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function w9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?w9(Object(r),!0).forEach(function(n){pS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):w9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zqe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qne(n.key),n)}}function Yqe(t,e,r){return e&&Zqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xqe(t,e,r){return e=A_(e),Jqe(t,zne()?Reflect.construct(e,r||[],A_(t).constructor):e.apply(t,r))}function Jqe(t,e){if(e&&(vm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qqe(t)}function Qqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zne=function(){return!!t})()}function A_(t){return A_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},A_(t)}function e8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KO(t,e)}function KO(t,e){return KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},KO(t,e)}function pS(t,e,r){return e=qne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qne(t){var e=t8e(t,"string");return vm(e)=="symbol"?e:e+""}function t8e(t,e){if(vm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var r8e=function(e,r,n,i,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,d=s.xAxis,f=s.yAxis;if(!d||!f)return null;var g=IL({x:d.scale,y:f.scale}),v={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},y={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:i?g.y.apply(u,{position:"end"}):g.y.rangeMax};return wl(s,"discard")&&(!g.isInRange(v)||!g.isInRange(y))?null:Pne(v,y)},mS=function(t){function e(){return Gqe(this,e),Xqe(this,e,arguments)}return e8e(e,t),Yqe(e,[{key:"render",value:function(){var n=this.props,i=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,d=n.clipPathId;Ro(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=mi(i),g=mi(s),v=mi(o),y=mi(l),x=this.props.shape;if(!f&&!g&&!v&&!y&&!x)return null;var _=r8e(f,g,v,y,this.props);if(!_&&!x)return null;var S=wl(this.props,"hidden")?"url(#".concat(d,")"):void 0;return re.createElement(un,{className:hr("recharts-reference-area",c)},e.renderRect(x,_9(_9({clipPath:S},ur(this.props,!0)),_)),Di.renderCallByParent(this.props,_))}}])}(re.Component);pS(mS,"displayName","ReferenceArea");pS(mS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pS(mS,"renderRect",function(t,e){var r;return re.isValidElement(t)?r=re.cloneElement(t,e):Yt(t)?r=t(e):r=re.createElement(RL,HO({},e,{className:"recharts-reference-area-rect"})),r});function Une(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],i=0;i<t.length;i+=e)n.push(t[i]);return n}function n8e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return lqe(n,r)}function i8e(t,e,r){var n=r==="width",i=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?i:s,end:n?i+o:s+l}:{start:n?i+o:s+l,end:n?i:s}}function T_(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function s8e(t,e){return Une(t,e+1)}function a8e(t,e,r,n,i){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,d=o,f=function(){var y=n?.[c];if(y===void 0)return{v:Une(n,u)};var x=c,_,S=function(){return _===void 0&&(_=r(y,x)),_},C=y.coordinate,N=c===0||T_(t,C,S,d,l);N||(c=0,d=o,u+=1),N&&(d=C+t*(S()/2+i),c+=u)},g;u<=s.length;)if(g=f(),g)return g.v;return[]}function $y(t){"@babel/helpers - typeof";return $y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$y(t)}function S9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S9(Object(r),!0).forEach(function(n){o8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o8e(t,e,r){return e=l8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l8e(t){var e=c8e(t,"string");return $y(e)=="symbol"?e:e+""}function c8e(t,e){if($y(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($y(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u8e(t,e,r,n,i){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(g){var v=s[g],y,x=function(){return y===void 0&&(y=r(v,g)),y};if(g===o-1){var _=t*(v.coordinate+t*x()/2-c);s[g]=v=Ji(Ji({},v),{},{tickCoord:_>0?v.coordinate-_*t:v.coordinate})}else s[g]=v=Ji(Ji({},v),{},{tickCoord:v.coordinate});var S=T_(t,v.tickCoord,x,l,c);S&&(c=v.tickCoord-t*(x()/2+i),s[g]=Ji(Ji({},v),{},{isShow:!0}))},d=o-1;d>=0;d--)u(d);return s}function d8e(t,e,r,n,i,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var d=n[l-1],f=r(d,l-1),g=t*(d.coordinate+t*f/2-u);o[l-1]=d=Ji(Ji({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate});var v=T_(t,d.tickCoord,function(){return f},c,u);v&&(u=d.tickCoord-t*(f/2+i),o[l-1]=Ji(Ji({},d),{},{isShow:!0}))}for(var y=s?l-1:l,x=function(C){var N=o[C],A,E=function(){return A===void 0&&(A=r(N,C)),A};if(C===0){var k=t*(N.coordinate-t*E()/2-c);o[C]=N=Ji(Ji({},N),{},{tickCoord:k<0?N.coordinate-k*t:N.coordinate})}else o[C]=N=Ji(Ji({},N),{},{tickCoord:N.coordinate});var O=T_(t,N.tickCoord,E,c,u);O&&(c=N.tickCoord+t*(E()/2+i),o[C]=Ji(Ji({},N),{},{isShow:!0}))},_=0;_<y;_++)x(_);return o}function qL(t,e,r){var n=t.tick,i=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,d=t.unit,f=t.angle;if(!i||!i.length||!n)return[];if(ut(c)||ah.isSsr)return s8e(i,typeof c=="number"&&ut(c)?c:0);var g=[],v=l==="top"||l==="bottom"?"width":"height",y=d&&v==="width"?Av(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=function(N,A){var E=Yt(u)?u(N.value,A):N.value;return v==="width"?n8e(Av(E,{fontSize:e,letterSpacing:r}),y,f):Av(E,{fontSize:e,letterSpacing:r})[v]},_=i.length>=2?vs(i[1].coordinate-i[0].coordinate):1,S=i8e(s,_,v);return c==="equidistantPreserveStart"?a8e(_,S,x,i,o):(c==="preserveStart"||c==="preserveStartEnd"?g=d8e(_,S,x,i,o,c==="preserveStartEnd"):g=u8e(_,S,x,i,o),g.filter(function(C){return C.isShow}))}var f8e=["viewBox"],h8e=["viewBox"],p8e=["ticks"];function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function _p(){return _p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_p.apply(this,arguments)}function j9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j9(Object(r),!0).forEach(function(n){UL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $k(t,e){if(t==null)return{};var r=m8e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function m8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function g8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wne(n.key),n)}}function v8e(t,e,r){return e&&C9(t.prototype,e),r&&C9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function y8e(t,e,r){return e=O_(e),x8e(t,Vne()?Reflect.construct(e,r||[],O_(t).constructor):e.apply(t,r))}function x8e(t,e){if(e&&(ym(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b8e(t)}function b8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vne=function(){return!!t})()}function O_(t){return O_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},O_(t)}function w8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GO(t,e)}function GO(t,e){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},GO(t,e)}function UL(t,e,r){return e=Wne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wne(t){var e=_8e(t,"string");return ym(e)=="symbol"?e:e+""}function _8e(t,e){if(ym(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ym(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var eg=function(t){function e(r){var n;return g8e(this,e),n=y8e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return w8e(e,t),v8e(e,[{key:"shouldComponentUpdate",value:function(n,i){var s=n.viewBox,o=$k(n,f8e),l=this.props,c=l.viewBox,u=$k(l,h8e);return!Tp(s,c)||!Tp(o,u)||!Tp(i,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var i=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var i=this.props,s=i.x,o=i.y,l=i.width,c=i.height,u=i.orientation,d=i.tickSize,f=i.mirror,g=i.tickMargin,v,y,x,_,S,C,N=f?-1:1,A=n.tickSize||d,E=ut(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":v=y=n.coordinate,_=o+ +!f*c,x=_-N*A,C=x-N*g,S=E;break;case"left":x=_=n.coordinate,y=s+ +!f*l,v=y-N*A,S=v-N*g,C=E;break;case"right":x=_=n.coordinate,y=s+ +f*l,v=y+N*A,S=v+N*g,C=E;break;default:v=y=n.coordinate,_=o+ +f*c,x=_+N*A,C=x+N*g,S=E;break}return{line:{x1:v,y1:x,x2:y,y2:_},tick:{x:S,y:C}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o;switch(i){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,i=n.orientation,s=n.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,i=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,d=n.axisLine,f=ci(ci(ci({},ur(this.props,!1)),ur(d,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);f=ci(ci({},f),{},{x1:i,y1:s+g*l,x2:i+o,y2:s+g*l})}else{var v=+(c==="left"&&!u||c==="right"&&u);f=ci(ci({},f),{},{x1:i+v*o,y1:s,x2:i+v*o,y2:s+l})}return re.createElement("line",_p({},f,{className:hr("recharts-cartesian-axis-line",ma(d,"className"))}))}},{key:"renderTicks",value:function(n,i,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,d=l.tick,f=l.tickFormatter,g=l.unit,v=qL(ci(ci({},this.props),{},{ticks:n}),i,s),y=this.getTickTextAnchor(),x=this.getTickVerticalAnchor(),_=ur(this.props,!1),S=ur(d,!1),C=ci(ci({},_),{},{fill:"none"},ur(c,!1)),N=v.map(function(A,E){var k=o.getTickLineCoord(A),O=k.line,I=k.tick,z=ci(ci(ci(ci({textAnchor:y,verticalAnchor:x},_),{},{stroke:"none",fill:u},S),I),{},{index:E,payload:A,visibleTicksCount:v.length,tickFormatter:f});return re.createElement(un,_p({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},ny(o.props,A,E)),c&&re.createElement("line",_p({},C,O,{className:hr("recharts-cartesian-axis-tick-line",ma(c,"className"))})),d&&e.renderTickItem(d,z,"".concat(Yt(f)?f(A.value,E):A.value).concat(g||"")))});return re.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,i=this.props,s=i.axisLine,o=i.width,l=i.height,c=i.ticksGenerator,u=i.className,d=i.hide;if(d)return null;var f=this.props,g=f.ticks,v=$k(f,p8e),y=g;return Yt(c)&&(y=g&&g.length>0?c(this.props):c(v)),o<=0||l<=0||!y||!y.length?null:re.createElement(un,{className:hr("recharts-cartesian-axis",u),ref:function(_){n.layerReference=_}},s&&this.renderAxisLine(),this.renderTicks(y,this.state.fontSize,this.state.letterSpacing),Di.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,i,s){var o,l=hr(i.className,"recharts-cartesian-axis-tick-value");return re.isValidElement(n)?o=re.cloneElement(n,ci(ci({},i),{},{className:l})):Yt(n)?o=n(ci(ci({},i),{},{className:l})):o=re.createElement(fy,_p({},i,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])}(b.Component);UL(eg,"displayName","CartesianAxis");UL(eg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var S8e=["x1","y1","x2","y2","key"],j8e=["offset"];function Hf(t){"@babel/helpers - typeof";return Hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hf(t)}function N9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N9(Object(r),!0).forEach(function(n){C8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function C8e(t,e,r){return e=N8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N8e(t){var e=E8e(t,"string");return Hf(e)=="symbol"?e:e+""}function E8e(t,e){if(Hf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function E9(t,e){if(t==null)return{};var r=P8e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function P8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var k8e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,i=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return re.createElement("rect",{x:i,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function Hne(t,e){var r;if(re.isValidElement(t))r=re.cloneElement(t,e);else if(Yt(t))r=t(e);else{var n=e.x1,i=e.y1,s=e.x2,o=e.y2,l=e.key,c=E9(e,S8e),u=ur(c,!1);u.offset;var d=E9(u,j8e);r=re.createElement("line",_f({},d,{x1:n,y1:i,x2:s,y2:o,fill:"none",key:l}))}return r}function A8e(t){var e=t.x,r=t.width,n=t.horizontal,i=n===void 0?!0:n,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=es(es({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return Hne(i,u)});return re.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function T8e(t){var e=t.y,r=t.height,n=t.vertical,i=n===void 0?!0:n,s=t.verticalPoints;if(!i||!s||!s.length)return null;var o=s.map(function(l,c){var u=es(es({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return Hne(i,u)});return re.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function O8e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,i=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var d=l.map(function(g){return Math.round(g+i-i)}).sort(function(g,v){return g-v});i!==d[0]&&d.unshift(0);var f=d.map(function(g,v){var y=!d[v+1],x=y?i+o-g:d[v+1]-g;if(x<=0)return null;var _=v%e.length;return re.createElement("rect",{key:"react-".concat(v),y:g,x:n,height:x,width:s,stroke:"none",fill:e[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function R8e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,i=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var d=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,v){return g-v});s!==d[0]&&d.unshift(0);var f=d.map(function(g,v){var y=!d[v+1],x=y?s+l-g:d[v+1]-g;if(x<=0)return null;var _=v%n.length;return re.createElement("rect",{key:"react-".concat(v),x:g,y:o,width:x,height:c,stroke:"none",fill:n[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return re.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var M8e=function(e,r){var n=e.xAxis,i=e.width,s=e.height,o=e.offset;return nne(qL(es(es(es({},eg.defaultProps),n),{},{ticks:wc(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.left,o.left+o.width,r)},I8e=function(e,r){var n=e.yAxis,i=e.width,s=e.height,o=e.offset;return nne(qL(es(es(es({},eg.defaultProps),n),{},{ticks:wc(n,!0),viewBox:{x:0,y:0,width:i,height:s}})),o.top,o.top+o.height,r)},ip={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function yv(t){var e,r,n,i,s,o,l=$L(),c=FL(),u=_qe(),d=es(es({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ip.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:ip.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:ip.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ip.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:ip.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:ip.verticalFill,x:ut(t.x)?t.x:u.left,y:ut(t.y)?t.y:u.top,width:ut(t.width)?t.width:u.width,height:ut(t.height)?t.height:u.height}),f=d.x,g=d.y,v=d.width,y=d.height,x=d.syncWithTicks,_=d.horizontalValues,S=d.verticalValues,C=xqe(),N=bqe();if(!ut(v)||v<=0||!ut(y)||y<=0||!ut(f)||f!==+f||!ut(g)||g!==+g)return null;var A=d.verticalCoordinatesGenerator||M8e,E=d.horizontalCoordinatesGenerator||I8e,k=d.horizontalPoints,O=d.verticalPoints;if((!k||!k.length)&&Yt(E)){var I=_&&_.length,z=E({yAxis:N?es(es({},N),{},{ticks:I?_:N.ticks}):void 0,width:l,height:c,offset:u},I?!0:x);Ro(Array.isArray(z),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Hf(z),"]")),Array.isArray(z)&&(k=z)}if((!O||!O.length)&&Yt(A)){var W=S&&S.length,V=A({xAxis:C?es(es({},C),{},{ticks:W?S:C.ticks}):void 0,width:l,height:c,offset:u},W?!0:x);Ro(Array.isArray(V),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Hf(V),"]")),Array.isArray(V)&&(O=V)}return re.createElement("g",{className:"recharts-cartesian-grid"},re.createElement(k8e,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),re.createElement(A8e,_f({},d,{offset:u,horizontalPoints:k,xAxis:C,yAxis:N})),re.createElement(T8e,_f({},d,{offset:u,verticalPoints:O,xAxis:C,yAxis:N})),re.createElement(O8e,_f({},d,{horizontalPoints:k})),re.createElement(R8e,_f({},d,{verticalPoints:O})))}yv.displayName="CartesianGrid";var L8e=["type","layout","connectNulls","ref"],D8e=["key"];function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function P9(t,e){if(t==null)return{};var r=$8e(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mv.apply(this,arguments)}function k9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?k9(Object(r),!0).forEach(function(n){So(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):k9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sp(t){return q8e(t)||z8e(t)||B8e(t)||F8e()}function F8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function B8e(t,e){if(t){if(typeof t=="string")return ZO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZO(t,e)}}function z8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function q8e(t){if(Array.isArray(t))return ZO(t)}function ZO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function U8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function A9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Gne(n.key),n)}}function V8e(t,e,r){return e&&A9(t.prototype,e),r&&A9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function W8e(t,e,r){return e=R_(e),H8e(t,Kne()?Reflect.construct(e,r||[],R_(t).constructor):e.apply(t,r))}function H8e(t,e){if(e&&(xm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return K8e(t)}function K8e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kne=function(){return!!t})()}function R_(t){return R_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R_(t)}function G8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YO(t,e)}function YO(t,e){return YO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},YO(t,e)}function So(t,e,r){return e=Gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Gne(t){var e=Z8e(t,"string");return xm(e)=="symbol"?e:e+""}function Z8e(t,e){if(xm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Fy=function(t){function e(){var r;U8e(this,e);for(var n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return r=W8e(this,e,[].concat(i)),So(r,"state",{isAnimationFinished:!0,totalLength:0}),So(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),So(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(S,C){return S+C});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var d=Math.floor(o/u),f=o%u,g=l-o,v=[],y=0,x=0;y<c.length;x+=c[y],++y)if(x+c[y]>f){v=[].concat(sp(c.slice(0,y)),[f-x]);break}var _=v.length%2===0?[0,g]:[g];return[].concat(sp(e.repeat(c,d)),sp(v),_).map(function(S){return"".concat(S,"px")}).join(", ")}),So(r,"id",Zm("recharts-line-")),So(r,"pathRef",function(o){r.mainCurve=o}),So(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),So(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return G8e(e,t),V8e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,d=s.children,f=ga(d,Ox);if(!f)return null;var g=function(x,_){return{x:x.x,y:x.y,value:x.value,errorVal:pi(x.payload,_)}},v={clipPath:n?"url(#clipPath-".concat(i,")"):null};return re.createElement(un,v,f.map(function(y){return re.cloneElement(y,{key:"bar-".concat(y.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,i,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,d=l.dataKey,f=ur(this.props,!1),g=ur(c,!0),v=u.map(function(x,_){var S=sa(sa(sa({key:"dot-".concat(_),r:3},f),g),{},{index:_,cx:x.x,cy:x.y,value:x.value,dataKey:d,payload:x.payload,points:u});return e.renderDotItem(c,S)}),y={clipPath:n?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return re.createElement(un,Mv({className:"recharts-line-dots",key:"dots"},y),v)}},{key:"renderCurveStatically",value:function(n,i,s,o){var l=this.props,c=l.type,u=l.layout,d=l.connectNulls;l.ref;var f=P9(l,L8e),g=sa(sa(sa({},ur(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:d});return re.createElement(m_,Mv({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,i){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,d=o.animationBegin,f=o.animationDuration,g=o.animationEasing,v=o.animationId,y=o.animateNewValues,x=o.width,_=o.height,S=this.state,C=S.prevPoints,N=S.totalLength;return re.createElement(kl,{begin:d,duration:f,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(v),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var E=A.t;if(C){var k=C.length/l.length,O=l.map(function(q,F){var H=Math.floor(F*k);if(C[H]){var Q=C[H],oe=da(Q.x,q.x),K=da(Q.y,q.y);return sa(sa({},q),{},{x:oe(E),y:K(E)})}if(y){var te=da(x*2,q.x),Z=da(_/2,q.y);return sa(sa({},q),{},{x:te(E),y:Z(E)})}return sa(sa({},q),{},{x:q.x,y:q.y})});return s.renderCurveStatically(O,n,i)}var I=da(0,N),z=I(E),W;if(c){var V="".concat(c).split(/[,\s]+/gim).map(function(q){return parseFloat(q)});W=s.getStrokeDasharray(z,N,V)}else W=s.generateSimpleStrokeDasharray(N,z);return s.renderCurveStatically(l,n,i,{strokeDasharray:W})})}},{key:"renderCurve",value:function(n,i){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,d=c.totalLength;return l&&o&&o.length&&(!u&&d>0||!Tx(u,o))?this.renderCurveWithAnimation(n,i):this.renderCurveStatically(o,n,i)}},{key:"render",value:function(){var n,i=this.props,s=i.hide,o=i.dot,l=i.points,c=i.className,u=i.xAxis,d=i.yAxis,f=i.top,g=i.left,v=i.width,y=i.height,x=i.isAnimationActive,_=i.id;if(s||!l||!l.length)return null;var S=this.state.isAnimationFinished,C=l.length===1,N=hr("recharts-line",c),A=u&&u.allowDataOverflow,E=d&&d.allowDataOverflow,k=A||E,O=Qt(_)?this.id:_,I=(n=ur(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},z=I.r,W=z===void 0?3:z,V=I.strokeWidth,q=V===void 0?2:V,F=aRe(o)?o:{},H=F.clipDot,Q=H===void 0?!0:H,oe=W*2+q;return re.createElement(un,{className:N},A||E?re.createElement("defs",null,re.createElement("clipPath",{id:"clipPath-".concat(O)},re.createElement("rect",{x:A?g:g-v/2,y:E?f:f-y/2,width:A?v:v*2,height:E?y:y*2})),!Q&&re.createElement("clipPath",{id:"clipPath-dots-".concat(O)},re.createElement("rect",{x:g-oe/2,y:f-oe/2,width:v+oe,height:y+oe}))):null,!C&&this.renderCurve(k,O),this.renderErrorBar(k,O),(C||o)&&this.renderDots(k,Q,O),(!x||S)&&Oc.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,i){return n.animationId!==i.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:i.curPoints}:n.points!==i.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,i){for(var s=n.length%2!==0?[].concat(sp(n),[0]):n,o=[],l=0;l<i;++l)o=[].concat(sp(o),sp(s));return o}},{key:"renderDotItem",value:function(n,i){var s;if(re.isValidElement(n))s=re.cloneElement(n,i);else if(Yt(n))s=n(i);else{var o=i.key,l=P9(i,D8e),c=hr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=re.createElement(ML,Mv({key:o},l,{className:c}))}return s}}])}(b.PureComponent);So(Fy,"displayName","Line");So(Fy,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!ah.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});So(Fy,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,d=e.layout,f=c.map(function(g,v){var y=pi(g,o);return d==="horizontal"?{x:qU({axis:r,ticks:i,bandSize:l,entry:g,index:v}),y:Qt(y)?null:n.scale(y),value:y,payload:g}:{x:Qt(y)?null:r.scale(y),y:qU({axis:n,ticks:s,bandSize:l,entry:g,index:v}),value:y,payload:g}});return sa({points:f,layout:d},u)});function bm(t){"@babel/helpers - typeof";return bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bm(t)}function Y8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function X8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xne(n.key),n)}}function J8e(t,e,r){return e&&X8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Q8e(t,e,r){return e=M_(e),eUe(t,Zne()?Reflect.construct(e,r||[],M_(t).constructor):e.apply(t,r))}function eUe(t,e){if(e&&(bm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tUe(t)}function tUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zne=function(){return!!t})()}function M_(t){return M_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M_(t)}function rUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&XO(t,e)}function XO(t,e){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},XO(t,e)}function Yne(t,e,r){return e=Xne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xne(t){var e=nUe(t,"string");return bm(e)=="symbol"?e:e+""}function nUe(t,e){if(bm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function JO(){return JO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},JO.apply(this,arguments)}function iUe(t){var e=t.xAxisId,r=$L(),n=FL(),i=Ine(e);return i==null?null:b.createElement(eg,JO({},i,{className:hr("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return wc(o,!0)}}))}var Sf=function(t){function e(){return Y8e(this,e),Q8e(this,e,arguments)}return rUe(e,t),J8e(e,[{key:"render",value:function(){return b.createElement(iUe,this.props)}}])}(b.Component);Yne(Sf,"displayName","XAxis");Yne(Sf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function sUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eie(n.key),n)}}function oUe(t,e,r){return e&&aUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lUe(t,e,r){return e=I_(e),cUe(t,Jne()?Reflect.construct(e,r||[],I_(t).constructor):e.apply(t,r))}function cUe(t,e){if(e&&(wm(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uUe(t)}function uUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jne=function(){return!!t})()}function I_(t){return I_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I_(t)}function dUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}function QO(t,e){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},QO(t,e)}function Qne(t,e,r){return e=eie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eie(t){var e=fUe(t,"string");return wm(e)=="symbol"?e:e+""}function fUe(t,e){if(wm(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wm(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function eR(){return eR=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eR.apply(this,arguments)}var hUe=function(e){var r=e.yAxisId,n=$L(),i=FL(),s=Lne(r);return s==null?null:b.createElement(eg,eR({},s,{className:hr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(l){return wc(l,!0)}}))},jf=function(t){function e(){return sUe(this,e),lUe(this,e,arguments)}return dUe(e,t),oUe(e,[{key:"render",value:function(){return b.createElement(hUe,this.props)}}])}(b.Component);Qne(jf,"displayName","YAxis");Qne(jf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function T9(t){return vUe(t)||gUe(t)||mUe(t)||pUe()}function pUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mUe(t,e){if(t){if(typeof t=="string")return tR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tR(t,e)}}function gUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vUe(t){if(Array.isArray(t))return tR(t)}function tR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var rR=function(e,r,n,i,s){var o=ga(e,zL),l=ga(e,hS),c=[].concat(T9(o),T9(l)),u=ga(e,mS),d="".concat(i,"Id"),f=i[0],g=r;if(c.length&&(g=c.reduce(function(x,_){if(_.props[d]===n&&wl(_.props,"extendDomain")&&ut(_.props[f])){var S=_.props[f];return[Math.min(x[0],S),Math.max(x[1],S)]}return x},g)),u.length){var v="".concat(f,"1"),y="".concat(f,"2");g=u.reduce(function(x,_){if(_.props[d]===n&&wl(_.props,"extendDomain")&&ut(_.props[v])&&ut(_.props[y])){var S=_.props[v],C=_.props[y];return[Math.min(x[0],S,C),Math.max(x[1],S,C)]}return x},g)}return s&&s.length&&(g=s.reduce(function(x,_){return ut(_)?[Math.min(x[0],_),Math.max(x[1],_)]:x},g)),g},Fk={exports:{}},O9;function yUe(){return O9||(O9=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function s(c,u,d,f,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,f||c,g),y=r?r+u:u;return c._events[y]?c._events[y].fn?c._events[y]=[c._events[y],v]:c._events[y].push(v):(c._events[y]=v,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,v=f.length,y=new Array(v);g<v;g++)y[g]=f[g].fn;return y},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,g,v,y){var x=r?r+u:u;if(!this._events[x])return!1;var _=this._events[x],S=arguments.length,C,N;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),S){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,d),!0;case 3:return _.fn.call(_.context,d,f),!0;case 4:return _.fn.call(_.context,d,f,g),!0;case 5:return _.fn.call(_.context,d,f,g,v),!0;case 6:return _.fn.call(_.context,d,f,g,v,y),!0}for(N=1,C=new Array(S-1);N<S;N++)C[N-1]=arguments[N];_.fn.apply(_.context,C)}else{var A=_.length,E;for(N=0;N<A;N++)switch(_[N].once&&this.removeListener(u,_[N].fn,void 0,!0),S){case 1:_[N].fn.call(_[N].context);break;case 2:_[N].fn.call(_[N].context,d);break;case 3:_[N].fn.call(_[N].context,d,f);break;case 4:_[N].fn.call(_[N].context,d,f,g);break;default:if(!C)for(E=1,C=new Array(S-1);E<S;E++)C[E-1]=arguments[E];_[N].fn.apply(_[N].context,C)}}return!0},l.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,g){var v=r?r+u:u;if(!this._events[v])return this;if(!d)return o(this,v),this;var y=this._events[v];if(y.fn)y.fn===d&&(!g||y.once)&&(!f||y.context===f)&&o(this,v);else{for(var x=0,_=[],S=y.length;x<S;x++)(y[x].fn!==d||g&&!y[x].once||f&&y[x].context!==f)&&_.push(y[x]);_.length?this._events[v]=_.length===1?_[0]:_:o(this,v)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(Fk)),Fk.exports}var xUe=yUe();const bUe=Nr(xUe);var Bk=new bUe,zk="recharts.syncMouseEvents";function By(t){"@babel/helpers - typeof";return By=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},By(t)}function wUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _Ue(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tie(n.key),n)}}function SUe(t,e,r){return e&&_Ue(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qk(t,e,r){return e=tie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tie(t){var e=jUe(t,"string");return By(e)=="symbol"?e:e+""}function jUe(t,e){if(By(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(By(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var CUe=function(){function t(){wUe(this,t),qk(this,"activeIndex",0),qk(this,"coordinateList",[]),qk(this,"layout","horizontal")}return SUe(t,[{key:"setDetails",value:function(r){var n,i=r.coordinateList,s=i===void 0?null:i,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,d=r.offset,f=d===void 0?null:d,g=r.mouseHandlerCallback,v=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=v??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,o=i.y,l=i.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,d=((n=window)===null||n===void 0?void 0:n.scrollY)||0,f=s+c+u,g=o+this.offset.top+l/2+d;this.mouseHandlerCallback({pageX:f,pageY:g})}}}])}();function NUe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t?.[0],i=t?.[1];if(n&&i&&ut(n)&&ut(i))return!0}return!1}function EUe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function rie(t){var e=t.cx,r=t.cy,n=t.radius,i=t.startAngle,s=t.endAngle,o=ri(e,r,n,i),l=ri(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}function PUe(t,e,r){var n,i,s,o;if(t==="horizontal")n=e.x,s=n,i=r.top,o=r.top+r.height;else if(t==="vertical")i=e.y,o=i,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,d=e.outerRadius,f=e.angle,g=ri(l,c,u,f),v=ri(l,c,d,f);n=g.x,i=g.y,s=v.x,o=v.y}else return rie(e);return[{x:n,y:i},{x:s,y:o}]}function zy(t){"@babel/helpers - typeof";return zy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zy(t)}function R9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ab(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?R9(Object(r),!0).forEach(function(n){kUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):R9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kUe(t,e,r){return e=AUe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AUe(t){var e=TUe(t,"string");return zy(e)=="symbol"?e:e+""}function TUe(t,e){if(zy(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zy(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OUe(t){var e,r,n=t.element,i=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,d=t.tooltipAxisBandSize,f=t.layout,g=t.chartName,v=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!v||!s||!o||g!=="ScatterChart"&&i!=="axis")return null;var y,x=m_;if(g==="ScatterChart")y=o,x=S6e;else if(g==="BarChart")y=EUe(f,o,c,d),x=RL;else if(f==="radial"){var _=rie(o),S=_.cx,C=_.cy,N=_.radius,A=_.startAngle,E=_.endAngle;y={cx:S,cy:C,startAngle:A,endAngle:E,innerRadius:N,outerRadius:N},x=lne}else y={points:PUe(f,o,c)},x=m_;var k=Ab(Ab(Ab(Ab({stroke:"#ccc",pointerEvents:"none"},c),y),ur(v,!1)),{},{payload:l,payloadIndex:u,className:hr("recharts-tooltip-cursor",v.className)});return b.isValidElement(v)?b.cloneElement(v,k):b.createElement(x,k)}var RUe=["item"],MUe=["children","className","width","height","style","compact","title","desc"];function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}function Sp(){return Sp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sp.apply(this,arguments)}function M9(t,e){return DUe(t)||LUe(t,e)||iie(t,e)||IUe()}function IUe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LUe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(d){u=!0,i=d}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw i}}return l}}function DUe(t){if(Array.isArray(t))return t}function I9(t,e){if(t==null)return{};var r=$Ue(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function $Ue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function FUe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BUe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sie(n.key),n)}}function zUe(t,e,r){return e&&BUe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qUe(t,e,r){return e=L_(e),UUe(t,nie()?Reflect.construct(e,r||[],L_(t).constructor):e.apply(t,r))}function UUe(t,e){if(e&&(_m(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VUe(t)}function VUe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nie(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nie=function(){return!!t})()}function L_(t){return L_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L_(t)}function WUe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nR(t,e)}function nR(t,e){return nR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},nR(t,e)}function Sm(t){return GUe(t)||KUe(t)||iie(t)||HUe()}function HUe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iie(t,e){if(t){if(typeof t=="string")return iR(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iR(t,e)}}function KUe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function GUe(t){if(Array.isArray(t))return iR(t)}function iR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function L9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function He(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L9(Object(r),!0).forEach(function(n){Ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ft(t,e,r){return e=sie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sie(t){var e=ZUe(t,"string");return _m(e)=="symbol"?e:e+""}function ZUe(t,e){if(_m(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_m(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YUe={xAxis:["bottom","top"],yAxis:["left","right"]},XUe={width:"100%",height:"100%"},aie={x:0,y:0};function Tb(t){return t}var JUe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},QUe=function(e,r,n,i){var s=r.find(function(d){return d&&d.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=i.radius;return He(He(He({},i),ri(i.cx,i.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=i.angle;return He(He(He({},i),ri(i.cx,i.cy,c,u)),{},{angle:u,radius:c})}return aie},gS=function(e,r){var n=r.graphicalItems,i=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Sm(l),Sm(u)):l},[]);return o.length>0?o:e&&e.length&&ut(i)&&ut(s)?e.slice(i,s+1):[]};function oie(t){return t==="number"?[0,"auto"]:void 0}var sR=function(e,r,n,i){var s=e.graphicalItems,o=e.tooltipAxis,l=gS(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var d,f=(d=u.props.data)!==null&&d!==void 0?d:r;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var v=f===void 0?l:f;g=zw(v,o.dataKey,i)}else g=f&&f[n]||l[n];return g?[].concat(Sm(c),[sne(u,g)]):c},[])},D9=function(e,r,n,i){var s=i||{x:e.chartX,y:e.chartY},o=JUe(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,d=sFe(o,l,u,c);if(d>=0&&u){var f=u[d]&&u[d].value,g=sR(e,r,d,f),v=QUe(n,l,d,s);return{activeTooltipIndex:d,activeLabel:f,activePayload:g,activeCoordinate:v}}return null},eVe=function(e,r){var n=r.axes,i=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,g=e.stackOffset,v=rne(d,s);return n.reduce(function(y,x){var _,S=x.type.defaultProps!==void 0?He(He({},x.type.defaultProps),x.props):x.props,C=S.type,N=S.dataKey,A=S.allowDataOverflow,E=S.allowDuplicatedCategory,k=S.scale,O=S.ticks,I=S.includeHidden,z=S[o];if(y[z])return y;var W=gS(e.data,{graphicalItems:i.filter(function(ce){var je,Te=o in ce.props?ce.props[o]:(je=ce.type.defaultProps)===null||je===void 0?void 0:je[o];return Te===z}),dataStartIndex:c,dataEndIndex:u}),V=W.length,q,F,H;NUe(S.domain,A,C)&&(q=_O(S.domain,null,A),v&&(C==="number"||k!=="auto")&&(H=Ov(W,N,"category")));var Q=oie(C);if(!q||q.length===0){var oe,K=(oe=S.domain)!==null&&oe!==void 0?oe:Q;if(N){if(q=Ov(W,N,C),C==="category"&&v){var te=YOe(q);E&&te?(F=q,q=S_(0,V)):E||(q=HU(K,q,x).reduce(function(ce,je){return ce.indexOf(je)>=0?ce:[].concat(Sm(ce),[je])},[]))}else if(C==="category")E?q=q.filter(function(ce){return ce!==""&&!Qt(ce)}):q=HU(K,q,x).reduce(function(ce,je){return ce.indexOf(je)>=0||je===""||Qt(je)?ce:[].concat(Sm(ce),[je])},[]);else if(C==="number"){var Z=uFe(W,i.filter(function(ce){var je,Te,qe=o in ce.props?ce.props[o]:(je=ce.type.defaultProps)===null||je===void 0?void 0:je[o],pe="hide"in ce.props?ce.props.hide:(Te=ce.type.defaultProps)===null||Te===void 0?void 0:Te.hide;return qe===z&&(I||!pe)}),N,s,d);Z&&(q=Z)}v&&(C==="number"||k!=="auto")&&(H=Ov(W,N,"category"))}else v?q=S_(0,V):l&&l[z]&&l[z].hasStack&&C==="number"?q=g==="expand"?[0,1]:ine(l[z].stackGroups,c,u):q=tne(W,i.filter(function(ce){var je=o in ce.props?ce.props[o]:ce.type.defaultProps[o],Te="hide"in ce.props?ce.props.hide:ce.type.defaultProps.hide;return je===z&&(I||!Te)}),C,d,!0);if(C==="number")q=rR(f,q,z,s,O),K&&(q=_O(K,q,A));else if(C==="category"&&K){var se=K,X=q.every(function(ce){return se.indexOf(ce)>=0});X&&(q=se)}}return He(He({},y),{},Ft({},z,He(He({},S),{},{axisType:s,domain:q,categoricalDomain:H,duplicateDomain:F,originalDomain:(_=S.domain)!==null&&_!==void 0?_:Q,isCategorical:v,layout:d})))},{})},tVe=function(e,r){var n=r.graphicalItems,i=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.layout,f=e.children,g=gS(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),v=g.length,y=rne(d,s),x=-1;return n.reduce(function(_,S){var C=S.type.defaultProps!==void 0?He(He({},S.type.defaultProps),S.props):S.props,N=C[o],A=oie("number");if(!_[N]){x++;var E;return y?E=S_(0,v):l&&l[N]&&l[N].hasStack?(E=ine(l[N].stackGroups,c,u),E=rR(f,E,N,s)):(E=_O(A,tne(g,n.filter(function(k){var O,I,z=o in k.props?k.props[o]:(O=k.type.defaultProps)===null||O===void 0?void 0:O[o],W="hide"in k.props?k.props.hide:(I=k.type.defaultProps)===null||I===void 0?void 0:I.hide;return z===N&&!W}),"number",d),i.defaultProps.allowDataOverflow),E=rR(f,E,N,s)),He(He({},_),{},Ft({},N,He(He({axisType:s},i.defaultProps),{},{hide:!0,orientation:ma(YUe,"".concat(s,".").concat(x%2),null),domain:E,originalDomain:A,isCategorical:y,layout:d})))}return _},{})},rVe=function(e,r){var n=r.axisType,i=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,d=e.children,f="".concat(i,"Id"),g=ga(d,s),v={};return g&&g.length?v=eVe(e,{axes:g,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(v=tVe(e,{Axis:s,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),v},nVe=function(e){var r=Qu(e),n=wc(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:aL(n,function(i){return i.coordinate}),tooltipAxis:r,tooltipAxisBandSize:f_(r,n)}},$9=function(e){var r=e.children,n=e.defaultShowTooltip,i=oa(r,hm),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},iVe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Ac(r&&r.type);return n&&n.indexOf("Bar")>=0})},F9=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},sVe=function(e,r){var n=e.props,i=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,d=n.height,f=n.children,g=n.margin||{},v=oa(f,hm),y=oa(f,cd),x=Object.keys(c).reduce(function(E,k){var O=c[k],I=O.orientation;return!O.mirror&&!O.hide?He(He({},E),{},Ft({},I,E[I]+O.width)):E},{left:g.left||0,right:g.right||0}),_=Object.keys(o).reduce(function(E,k){var O=o[k],I=O.orientation;return!O.mirror&&!O.hide?He(He({},E),{},Ft({},I,ma(E,"".concat(I))+O.height)):E},{top:g.top||0,bottom:g.bottom||0}),S=He(He({},_),x),C=S.bottom;v&&(S.bottom+=v.props.height||hm.defaultProps.height),y&&r&&(S=lFe(S,i,n,r));var N=u-S.left-S.right,A=d-S.top-S.bottom;return He(He({brushBottom:C},S),{},{width:Math.max(N,0),height:Math.max(A,0)})},aVe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},oVe=function(e){var r=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,d=e.formatAxisMap,f=e.defaultProps,g=function(S,C){var N=C.graphicalItems,A=C.stackGroups,E=C.offset,k=C.updateId,O=C.dataStartIndex,I=C.dataEndIndex,z=S.barSize,W=S.layout,V=S.barGap,q=S.barCategoryGap,F=S.maxBarSize,H=F9(W),Q=H.numericAxisName,oe=H.cateAxisName,K=iVe(N),te=[];return N.forEach(function(Z,se){var X=gS(S.data,{graphicalItems:[Z],dataStartIndex:O,dataEndIndex:I}),ce=Z.type.defaultProps!==void 0?He(He({},Z.type.defaultProps),Z.props):Z.props,je=ce.dataKey,Te=ce.maxBarSize,qe=ce["".concat(Q,"Id")],pe=ce["".concat(oe,"Id")],ue={},_e=c.reduce(function(Pe,$e){var rt=C["".concat($e.axisType,"Map")],at=ce["".concat($e.axisType,"Id")];rt&&rt[at]||$e.axisType==="zAxis"||Wf();var le=rt[at];return He(He({},Pe),{},Ft(Ft({},$e.axisType,le),"".concat($e.axisType,"Ticks"),wc(le)))},ue),ye=_e[oe],Ie=_e["".concat(oe,"Ticks")],ne=A&&A[qe]&&A[qe].hasStack&&_Fe(Z,A[qe].stackGroups),J=Ac(Z.type).indexOf("Bar")>=0,Ee=f_(ye,Ie),Ne=[],Je=K&&aFe({barSize:z,stackGroups:A,totalSize:aVe(_e,oe)});if(J){var Xe,Oe,mt=Qt(Te)?F:Te,Gt=(Xe=(Oe=f_(ye,Ie,!0))!==null&&Oe!==void 0?Oe:mt)!==null&&Xe!==void 0?Xe:0;Ne=oFe({barGap:V,barCategoryGap:q,bandSize:Gt!==Ee?Gt:Ee,sizeList:Je[pe],maxBarSize:mt}),Gt!==Ee&&(Ne=Ne.map(function(Pe){return He(He({},Pe),{},{position:He(He({},Pe.position),{},{offset:Pe.position.offset-Gt/2})})}))}var ge=Z&&Z.type&&Z.type.getComposedData;ge&&te.push({props:He(He({},ge(He(He({},_e),{},{displayedData:X,props:S,dataKey:je,item:Z,bandSize:Ee,barPosition:Ne,offset:E,stackedData:ne,layout:W,dataStartIndex:O,dataEndIndex:I}))),{},Ft(Ft(Ft({key:Z.key||"item-".concat(se)},Q,_e[Q]),oe,_e[oe]),"animationId",k)),childIndex:cRe(Z,S.children),item:Z})}),te},v=function(S,C){var N=S.props,A=S.dataStartIndex,E=S.dataEndIndex,k=S.updateId;if(!az({props:N}))return null;var O=N.children,I=N.layout,z=N.stackOffset,W=N.data,V=N.reverseStackOrder,q=F9(I),F=q.numericAxisName,H=q.cateAxisName,Q=ga(O,n),oe=xFe(W,Q,"".concat(F,"Id"),"".concat(H,"Id"),z,V),K=c.reduce(function(ce,je){var Te="".concat(je.axisType,"Map");return He(He({},ce),{},Ft({},Te,rVe(N,He(He({},je),{},{graphicalItems:Q,stackGroups:je.axisType===F&&oe,dataStartIndex:A,dataEndIndex:E}))))},{}),te=sVe(He(He({},K),{},{props:N,graphicalItems:Q}),C?.legendBBox);Object.keys(K).forEach(function(ce){K[ce]=d(N,K[ce],te,ce.replace("Map",""),r)});var Z=K["".concat(H,"Map")],se=nVe(Z),X=g(N,He(He({},K),{},{dataStartIndex:A,dataEndIndex:E,updateId:k,graphicalItems:Q,stackGroups:oe,offset:te}));return He(He({formattedGraphicalItems:X,graphicalItems:Q,offset:te,stackGroups:oe},se),K)},y=function(_){function S(C){var N,A,E;return FUe(this,S),E=qUe(this,S,[C]),Ft(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Ft(E,"accessibilityManager",new CUe),Ft(E,"handleLegendBBoxUpdate",function(k){if(k){var O=E.state,I=O.dataStartIndex,z=O.dataEndIndex,W=O.updateId;E.setState(He({legendBBox:k},v({props:E.props,dataStartIndex:I,dataEndIndex:z,updateId:W},He(He({},E.state),{},{legendBBox:k}))))}}),Ft(E,"handleReceiveSyncEvent",function(k,O,I){if(E.props.syncId===k){if(I===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(O)}}),Ft(E,"handleBrushChange",function(k){var O=k.startIndex,I=k.endIndex;if(O!==E.state.dataStartIndex||I!==E.state.dataEndIndex){var z=E.state.updateId;E.setState(function(){return He({dataStartIndex:O,dataEndIndex:I},v({props:E.props,dataStartIndex:O,dataEndIndex:I,updateId:z},E.state))}),E.triggerSyncEvent({dataStartIndex:O,dataEndIndex:I})}}),Ft(E,"handleMouseEnter",function(k){var O=E.getMouseInfo(k);if(O){var I=He(He({},O),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var z=E.props.onMouseEnter;Yt(z)&&z(I,k)}}),Ft(E,"triggeredAfterMouseMove",function(k){var O=E.getMouseInfo(k),I=O?He(He({},O),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(I),E.triggerSyncEvent(I);var z=E.props.onMouseMove;Yt(z)&&z(I,k)}),Ft(E,"handleItemMouseEnter",function(k){E.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),Ft(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Ft(E,"handleMouseMove",function(k){k.persist(),E.throttleTriggeredAfterMouseMove(k)}),Ft(E,"handleMouseLeave",function(k){E.throttleTriggeredAfterMouseMove.cancel();var O={isTooltipActive:!1};E.setState(O),E.triggerSyncEvent(O);var I=E.props.onMouseLeave;Yt(I)&&I(O,k)}),Ft(E,"handleOuterEvent",function(k){var O=lRe(k),I=ma(E.props,"".concat(O));if(O&&Yt(I)){var z,W;/.*touch.*/i.test(O)?W=E.getMouseInfo(k.changedTouches[0]):W=E.getMouseInfo(k),I((z=W)!==null&&z!==void 0?z:{},k)}}),Ft(E,"handleClick",function(k){var O=E.getMouseInfo(k);if(O){var I=He(He({},O),{},{isTooltipActive:!0});E.setState(I),E.triggerSyncEvent(I);var z=E.props.onClick;Yt(z)&&z(I,k)}}),Ft(E,"handleMouseDown",function(k){var O=E.props.onMouseDown;if(Yt(O)){var I=E.getMouseInfo(k);O(I,k)}}),Ft(E,"handleMouseUp",function(k){var O=E.props.onMouseUp;if(Yt(O)){var I=E.getMouseInfo(k);O(I,k)}}),Ft(E,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),Ft(E,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&E.handleMouseDown(k.changedTouches[0])}),Ft(E,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&E.handleMouseUp(k.changedTouches[0])}),Ft(E,"handleDoubleClick",function(k){var O=E.props.onDoubleClick;if(Yt(O)){var I=E.getMouseInfo(k);O(I,k)}}),Ft(E,"handleContextMenu",function(k){var O=E.props.onContextMenu;if(Yt(O)){var I=E.getMouseInfo(k);O(I,k)}}),Ft(E,"triggerSyncEvent",function(k){E.props.syncId!==void 0&&Bk.emit(zk,E.props.syncId,k,E.eventEmitterSymbol)}),Ft(E,"applySyncEvent",function(k){var O=E.props,I=O.layout,z=O.syncMethod,W=E.state.updateId,V=k.dataStartIndex,q=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)E.setState(He({dataStartIndex:V,dataEndIndex:q},v({props:E.props,dataStartIndex:V,dataEndIndex:q,updateId:W},E.state)));else if(k.activeTooltipIndex!==void 0){var F=k.chartX,H=k.chartY,Q=k.activeTooltipIndex,oe=E.state,K=oe.offset,te=oe.tooltipTicks;if(!K)return;if(typeof z=="function")Q=z(te,k);else if(z==="value"){Q=-1;for(var Z=0;Z<te.length;Z++)if(te[Z].value===k.activeLabel){Q=Z;break}}var se=He(He({},K),{},{x:K.left,y:K.top}),X=Math.min(F,se.x+se.width),ce=Math.min(H,se.y+se.height),je=te[Q]&&te[Q].value,Te=sR(E.state,E.props.data,Q),qe=te[Q]?{x:I==="horizontal"?te[Q].coordinate:X,y:I==="horizontal"?ce:te[Q].coordinate}:aie;E.setState(He(He({},k),{},{activeLabel:je,activeCoordinate:qe,activePayload:Te,activeTooltipIndex:Q}))}else E.setState(k)}),Ft(E,"renderCursor",function(k){var O,I=E.state,z=I.isTooltipActive,W=I.activeCoordinate,V=I.activePayload,q=I.offset,F=I.activeTooltipIndex,H=I.tooltipAxisBandSize,Q=E.getTooltipEventType(),oe=(O=k.props.active)!==null&&O!==void 0?O:z,K=E.props.layout,te=k.key||"_recharts-cursor";return re.createElement(OUe,{key:te,activeCoordinate:W,activePayload:V,activeTooltipIndex:F,chartName:r,element:k,isActive:oe,layout:K,offset:q,tooltipAxisBandSize:H,tooltipEventType:Q})}),Ft(E,"renderPolarAxis",function(k,O,I){var z=ma(k,"type.axisType"),W=ma(E.state,"".concat(z,"Map")),V=k.type.defaultProps,q=V!==void 0?He(He({},V),k.props):k.props,F=W&&W[q["".concat(z,"Id")]];return b.cloneElement(k,He(He({},F),{},{className:hr(z,F.className),key:k.key||"".concat(O,"-").concat(I),ticks:wc(F,!0)}))}),Ft(E,"renderPolarGrid",function(k){var O=k.props,I=O.radialLines,z=O.polarAngles,W=O.polarRadius,V=E.state,q=V.radiusAxisMap,F=V.angleAxisMap,H=Qu(q),Q=Qu(F),oe=Q.cx,K=Q.cy,te=Q.innerRadius,Z=Q.outerRadius;return b.cloneElement(k,{polarAngles:Array.isArray(z)?z:wc(Q,!0).map(function(se){return se.coordinate}),polarRadius:Array.isArray(W)?W:wc(H,!0).map(function(se){return se.coordinate}),cx:oe,cy:K,innerRadius:te,outerRadius:Z,key:k.key||"polar-grid",radialLines:I})}),Ft(E,"renderLegend",function(){var k=E.state.formattedGraphicalItems,O=E.props,I=O.children,z=O.width,W=O.height,V=E.props.margin||{},q=z-(V.left||0)-(V.right||0),F=Qre({children:I,formattedGraphicalItems:k,legendWidth:q,legendContent:u});if(!F)return null;var H=F.item,Q=I9(F,RUe);return b.cloneElement(H,He(He({},Q),{},{chartWidth:z,chartHeight:W,margin:V,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Ft(E,"renderTooltip",function(){var k,O=E.props,I=O.children,z=O.accessibilityLayer,W=oa(I,gs);if(!W)return null;var V=E.state,q=V.isTooltipActive,F=V.activeCoordinate,H=V.activePayload,Q=V.activeLabel,oe=V.offset,K=(k=W.props.active)!==null&&k!==void 0?k:q;return b.cloneElement(W,{viewBox:He(He({},oe),{},{x:oe.left,y:oe.top}),active:K,label:Q,payload:K?H:[],coordinate:F,accessibilityLayer:z})}),Ft(E,"renderBrush",function(k){var O=E.props,I=O.margin,z=O.data,W=E.state,V=W.offset,q=W.dataStartIndex,F=W.dataEndIndex,H=W.updateId;return b.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Nb(E.handleBrushChange,k.props.onChange),data:z,x:ut(k.props.x)?k.props.x:V.left,y:ut(k.props.y)?k.props.y:V.top+V.height+V.brushBottom-(I.bottom||0),width:ut(k.props.width)?k.props.width:V.width,startIndex:q,endIndex:F,updateId:"brush-".concat(H)})}),Ft(E,"renderReferenceElement",function(k,O,I){if(!k)return null;var z=E,W=z.clipPathId,V=E.state,q=V.xAxisMap,F=V.yAxisMap,H=V.offset,Q=k.type.defaultProps||{},oe=k.props,K=oe.xAxisId,te=K===void 0?Q.xAxisId:K,Z=oe.yAxisId,se=Z===void 0?Q.yAxisId:Z;return b.cloneElement(k,{key:k.key||"".concat(O,"-").concat(I),xAxis:q[te],yAxis:F[se],viewBox:{x:H.left,y:H.top,width:H.width,height:H.height},clipPathId:W})}),Ft(E,"renderActivePoints",function(k){var O=k.item,I=k.activePoint,z=k.basePoint,W=k.childIndex,V=k.isRange,q=[],F=O.props.key,H=O.item.type.defaultProps!==void 0?He(He({},O.item.type.defaultProps),O.item.props):O.item.props,Q=H.activeDot,oe=H.dataKey,K=He(He({index:W,dataKey:oe,cx:I.x,cy:I.y,r:4,fill:OL(O.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},ur(Q,!1)),qw(Q));return q.push(S.renderActiveDot(Q,K,"".concat(F,"-activePoint-").concat(W))),z?q.push(S.renderActiveDot(Q,He(He({},K),{},{cx:z.x,cy:z.y}),"".concat(F,"-basePoint-").concat(W))):V&&q.push(null),q}),Ft(E,"renderGraphicChild",function(k,O,I){var z=E.filterFormatItem(k,O,I);if(!z)return null;var W=E.getTooltipEventType(),V=E.state,q=V.isTooltipActive,F=V.tooltipAxis,H=V.activeTooltipIndex,Q=V.activeLabel,oe=E.props.children,K=oa(oe,gs),te=z.props,Z=te.points,se=te.isRange,X=te.baseLine,ce=z.item.type.defaultProps!==void 0?He(He({},z.item.type.defaultProps),z.item.props):z.item.props,je=ce.activeDot,Te=ce.hide,qe=ce.activeBar,pe=ce.activeShape,ue=!!(!Te&&q&&K&&(je||qe||pe)),_e={};W!=="axis"&&K&&K.props.trigger==="click"?_e={onClick:Nb(E.handleItemMouseEnter,k.props.onClick)}:W!=="axis"&&(_e={onMouseLeave:Nb(E.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Nb(E.handleItemMouseEnter,k.props.onMouseEnter)});var ye=b.cloneElement(k,He(He({},z.props),_e));function Ie($e){return typeof F.dataKey=="function"?F.dataKey($e.payload):null}if(ue)if(H>=0){var ne,J;if(F.dataKey&&!F.allowDuplicatedCategory){var Ee=typeof F.dataKey=="function"?Ie:"payload.".concat(F.dataKey.toString());ne=zw(Z,Ee,Q),J=se&&X&&zw(X,Ee,Q)}else ne=Z?.[H],J=se&&X&&X[H];if(pe||qe){var Ne=k.props.activeIndex!==void 0?k.props.activeIndex:H;return[b.cloneElement(k,He(He(He({},z.props),_e),{},{activeIndex:Ne})),null,null]}if(!Qt(ne))return[ye].concat(Sm(E.renderActivePoints({item:z,activePoint:ne,basePoint:J,childIndex:H,isRange:se})))}else{var Je,Xe=(Je=E.getItemByXY(E.state.activeCoordinate))!==null&&Je!==void 0?Je:{graphicalItem:ye},Oe=Xe.graphicalItem,mt=Oe.item,Gt=mt===void 0?k:mt,ge=Oe.childIndex,Pe=He(He(He({},z.props),_e),{},{activeIndex:ge});return[b.cloneElement(Gt,Pe),null,null]}return se?[ye,null,null]:[ye,null]}),Ft(E,"renderCustomized",function(k,O,I){return b.cloneElement(k,He(He({key:"recharts-customized-".concat(I)},E.props),E.state))}),Ft(E,"renderMap",{CartesianGrid:{handler:Tb,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:Tb},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:Tb},YAxis:{handler:Tb},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((N=C.id)!==null&&N!==void 0?N:Zm("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Qte(E.triggeredAfterMouseMove,(A=C.throttleDelay)!==null&&A!==void 0?A:1e3/60),E.state={},E}return WUe(S,_),zUe(S,[{key:"componentDidMount",value:function(){var N,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,A=N.children,E=N.data,k=N.height,O=N.layout,I=oa(A,gs);if(I){var z=I.props.defaultIndex;if(!(typeof z!="number"||z<0||z>this.state.tooltipTicks.length-1)){var W=this.state.tooltipTicks[z]&&this.state.tooltipTicks[z].value,V=sR(this.state,E,z,W),q=this.state.tooltipTicks[z].coordinate,F=(this.state.offset.top+k)/2,H=O==="horizontal",Q=H?{x:q,y:F}:{y:q,x:F},oe=this.state.formattedGraphicalItems.find(function(te){var Z=te.item;return Z.type.name==="Scatter"});oe&&(Q=He(He({},Q),oe.props.points[z].tooltipPosition),V=oe.props.points[z].tooltipPayload);var K={activeTooltipIndex:z,isTooltipActive:!0,activeLabel:W,activePayload:V,activeCoordinate:Q};this.setState(K),this.renderCursor(I),this.accessibilityManager.setIndex(z)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var E,k;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(N){VT([oa(N.children,gs)],[oa(this.props.children,gs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=oa(this.props.children,gs);if(N&&typeof N.props.shared=="boolean"){var A=N.props.shared?"axis":"item";return l.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var A=this.container,E=A.getBoundingClientRect(),k=ZLe(E),O={chartX:Math.round(N.pageX-k.left),chartY:Math.round(N.pageY-k.top)},I=E.width/A.offsetWidth||1,z=this.inRange(O.chartX,O.chartY,I);if(!z)return null;var W=this.state,V=W.xAxisMap,q=W.yAxisMap,F=this.getTooltipEventType(),H=D9(this.state,this.props.data,this.props.layout,z);if(F!=="axis"&&V&&q){var Q=Qu(V).scale,oe=Qu(q).scale,K=Q&&Q.invert?Q.invert(O.chartX):null,te=oe&&oe.invert?oe.invert(O.chartY):null;return He(He({},O),{},{xValue:K,yValue:te},H)}return H?He(He({},O),H):null}},{key:"inRange",value:function(N,A){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,O=N/E,I=A/E;if(k==="horizontal"||k==="vertical"){var z=this.state.offset,W=O>=z.left&&O<=z.left+z.width&&I>=z.top&&I<=z.top+z.height;return W?{x:O,y:I}:null}var V=this.state,q=V.angleAxisMap,F=V.radiusAxisMap;if(q&&F){var H=Qu(q);return ZU({x:O,y:I},H)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,A=this.getTooltipEventType(),E=oa(N,gs),k={};E&&A==="axis"&&(E.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var O=qw(this.props,this.handleOuterEvent);return He(He({},O),k)}},{key:"addListener",value:function(){Bk.on(zk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Bk.removeListener(zk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,A,E){for(var k=this.state.formattedGraphicalItems,O=0,I=k.length;O<I;O++){var z=k[O];if(z.item===N||z.props.key===N.key||A===Ac(z.item.type)&&E===z.childIndex)return z}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,A=this.state.offset,E=A.left,k=A.top,O=A.height,I=A.width;return re.createElement("defs",null,re.createElement("clipPath",{id:N},re.createElement("rect",{x:E,y:k,height:O,width:I})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(A,E){var k=M9(E,2),O=k[0],I=k[1];return He(He({},A),{},Ft({},O,I.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(A,E){var k=M9(E,2),O=k[0],I=k[1];return He(He({},A),{},Ft({},O,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(N){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[N])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(N){var A=this.state,E=A.formattedGraphicalItems,k=A.activeItem;if(E&&E.length)for(var O=0,I=E.length;O<I;O++){var z=E[O],W=z.props,V=z.item,q=V.type.defaultProps!==void 0?He(He({},V.type.defaultProps),V.props):V.props,F=Ac(V.type);if(F==="Bar"){var H=(W.data||[]).find(function(te){return h6e(N,te)});if(H)return{graphicalItem:z,payload:H}}else if(F==="RadialBar"){var Q=(W.data||[]).find(function(te){return ZU(N,te)});if(Q)return{graphicalItem:z,payload:Q}}else if(cS(z,k)||uS(z,k)||My(z,k)){var oe=rze({graphicalItem:z,activeTooltipItem:k,itemData:q.data}),K=q.activeIndex===void 0?oe:q.activeIndex;return{graphicalItem:He(He({},z),{},{childIndex:K}),payload:My(z,k)?q.data[oe]:z.props.data[oe]}}}return null}},{key:"render",value:function(){var N=this;if(!az(this))return null;var A=this.props,E=A.children,k=A.className,O=A.width,I=A.height,z=A.style,W=A.compact,V=A.title,q=A.desc,F=I9(A,MUe),H=ur(F,!1);if(W)return re.createElement(m9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement(HT,Sp({},H,{width:O,height:I,title:V,desc:q}),this.renderClipPath(),lz(E,this.renderMap)));if(this.props.accessibilityLayer){var Q,oe;H.tabIndex=(Q=this.props.tabIndex)!==null&&Q!==void 0?Q:0,H.role=(oe=this.props.role)!==null&&oe!==void 0?oe:"application",H.onKeyDown=function(te){N.accessibilityManager.keyboardEvent(te)},H.onFocus=function(){N.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return re.createElement(m9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},re.createElement("div",Sp({className:hr("recharts-wrapper",k),style:He({position:"relative",cursor:"default",width:O,height:I},z)},K,{ref:function(Z){N.container=Z}}),re.createElement(HT,Sp({},H,{width:O,height:I,title:V,desc:q,style:XUe}),this.renderClipPath(),lz(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(b.Component);Ft(y,"displayName",r),Ft(y,"defaultProps",He({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Ft(y,"getDerivedStateFromProps",function(_,S){var C=_.dataKey,N=_.data,A=_.children,E=_.width,k=_.height,O=_.layout,I=_.stackOffset,z=_.margin,W=S.dataStartIndex,V=S.dataEndIndex;if(S.updateId===void 0){var q=$9(_);return He(He(He({},q),{},{updateId:0},v(He(He({props:_},q),{},{updateId:0}),S)),{},{prevDataKey:C,prevData:N,prevWidth:E,prevHeight:k,prevLayout:O,prevStackOffset:I,prevMargin:z,prevChildren:A})}if(C!==S.prevDataKey||N!==S.prevData||E!==S.prevWidth||k!==S.prevHeight||O!==S.prevLayout||I!==S.prevStackOffset||!Tp(z,S.prevMargin)){var F=$9(_),H={chartX:S.chartX,chartY:S.chartY,isTooltipActive:S.isTooltipActive},Q=He(He({},D9(S,N,O)),{},{updateId:S.updateId+1}),oe=He(He(He({},F),H),Q);return He(He(He({},oe),v(He({props:_},oe),S)),{},{prevDataKey:C,prevData:N,prevWidth:E,prevHeight:k,prevLayout:O,prevStackOffset:I,prevMargin:z,prevChildren:A})}if(!VT(A,S.prevChildren)){var K,te,Z,se,X=oa(A,hm),ce=X&&(K=(te=X.props)===null||te===void 0?void 0:te.startIndex)!==null&&K!==void 0?K:W,je=X&&(Z=(se=X.props)===null||se===void 0?void 0:se.endIndex)!==null&&Z!==void 0?Z:V,Te=ce!==W||je!==V,qe=!Qt(N),pe=qe&&!Te?S.updateId:S.updateId+1;return He(He({updateId:pe},v(He(He({props:_},S),{},{updateId:pe,dataStartIndex:ce,dataEndIndex:je}),S)),{},{prevChildren:A,dataStartIndex:ce,dataEndIndex:je})}return null}),Ft(y,"renderActiveDot",function(_,S,C){var N;return b.isValidElement(_)?N=b.cloneElement(_,S):Yt(_)?N=_(S):N=re.createElement(ML,S),re.createElement(un,{className:"recharts-active-dot",key:C},N)});var x=b.forwardRef(function(S,C){return re.createElement(y,Sp({},S,{ref:C}))});return x.displayName=y.displayName,x},B9=oVe({chartName:"BarChart",GraphicalChild:Rc,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Sf},{axisType:"yAxis",AxisComp:jf}],formatAxisMap:sqe});const ap=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"];function lVe(){console.log("🚀 AnalyticsPage - Composant initialisé");const[t,e]=b.useState("7days"),[r,n]=b.useMemo(()=>{const k=new Date;console.log("🔍 Calcul des dates - dateRange:",t);let O,I;switch(t){case"today":O=Zr(k,"yyyy-MM-dd"),I=Zr(k,"yyyy-MM-dd");break;case"yesterday":const z=Dg(k,1);O=Zr(z,"yyyy-MM-dd"),I=Zr(z,"yyyy-MM-dd");break;case"7days":O=Zr(Dg(k,7),"yyyy-MM-dd"),I=Zr(k,"yyyy-MM-dd");break;case"30days":O=Zr(Dg(k,30),"yyyy-MM-dd"),I=Zr(k,"yyyy-MM-dd");break;case"90days":O=Zr(Dg(k,90),"yyyy-MM-dd"),I=Zr(k,"yyyy-MM-dd");break;case"thisMonth":O=Zr(new Date(k.getFullYear(),k.getMonth(),1),"yyyy-MM-dd"),I=Zr(k,"yyyy-MM-dd");break;case"lastMonth":const W=new Date(k.getFullYear(),k.getMonth()-1,1),V=new Date(k.getFullYear(),k.getMonth(),0);O=Zr(W,"yyyy-MM-dd"),I=Zr(V,"yyyy-MM-dd");break;case"thisYear":O=Zr(new Date(k.getFullYear(),0,1),"yyyy-MM-dd"),I=Zr(k,"yyyy-MM-dd");break;default:O=Zr(Dg(k,7),"yyyy-MM-dd"),I=Zr(k,"yyyy-MM-dd");break}return console.log("🔍 Dates calculées:",{start:O,end:I}),[O,I]},[t]),{data:i,isLoading:s,error:o}=Ni({queryKey:["analytics","overview",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données analytics..."),console.log("🔍 Période:",{startDate:r,endDate:n});let k=[],O=[];try{k=(await en.getAllListings())?.data||[],console.log("🔍 Annonces récupérées:",k.length)}catch(H){console.error("❌ Erreur lors du chargement des annonces:",H),k=[]}try{O=await ko.getAllUsers(),console.log("🔍 Utilisateurs récupérés:",O.length)}catch(H){console.error("❌ Erreur lors du chargement des utilisateurs:",H),O=[]}console.log("🔍 Données récupérées:",{listingsCount:k?.length,usersCount:O?.length});const I=k?.length||0,z=k?.filter(H=>H.status==="approved")?.length||0,W=k?.filter(H=>H.status==="pending")?.length||0,V=O?.length||0,q=O?.filter(H=>H.status==="active")?.length||0,F={totalListings:I,approvedListings:z,pendingListings:W,totalUsers:V,activeUsers:q,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:q,change:0},growth:{listings:0,users:0,revenue:0}};return console.log("🔍 Résultat analytics calculé:",F),F}catch(k){return console.error("❌ Erreur lors du chargement des données analytics:",k),{totalListings:0,approvedListings:0,pendingListings:0,totalUsers:0,activeUsers:0,revenue:{current:0,change:0},orders:{current:0,change:0},averageOrderValue:{current:0,change:0},activeUsers:{current:0,change:0},growth:{listings:0,users:0,revenue:0}}}}}),{data:l,isLoading:c}=Ni({queryKey:["analytics","revenue",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données de revenus..."),console.log("🔍 Période:",{startDate:r,endDate:n});const k=await G3.getRevenueData(r,n);return console.log("🔍 Données de revenus récupérées:",k),k}catch(k){return console.error("❌ Erreur lors du chargement des données de revenus:",k),{totalRevenue:0,revenueByDate:[],revenueByCategory:{},paymentMethods:{},growth:0}}}}),{data:u,isLoading:d}=Ni({queryKey:["analytics","users",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des données utilisateurs...");const k=await ko.getAllUsers();if(console.log("🔍 Utilisateurs récupérés pour analytics:",k?.length),!k||k.length===0)return console.log("⚠️ Aucun utilisateur trouvé, retour de données par défaut"),[];const O=k.reduce((z,W)=>{if(W.created_at){const V=Zr(new Date(W.created_at),"yyyy-MM-dd");z[V]=(z[V]||0)+1}return z},{}),I=Object.entries(O).map(([z,W])=>({date:z,users:W}));return console.log("🔍 Données utilisateurs formatées:",I),I}catch(k){return console.error("❌ Erreur lors du chargement des données utilisateurs:",k),[]}}}),{data:f,isLoading:g}=Ni({queryKey:["analytics","top-products",r,n],queryFn:async()=>[]}),{data:v,isLoading:y}=Ni({queryKey:["analytics","growth",r,n],queryFn:async()=>{try{console.log("🔍 Début du chargement des tendances de croissance..."),console.log("🔍 Période:",{startDate:r,endDate:n});const k=await G3.getGrowthTrends(r,n);return console.log("🔍 Tendances de croissance récupérées:",k),k}catch(k){return console.error("❌ Erreur lors du chargement des tendances de croissance:",k),{users:{daily:[],weekly:[],monthly:[]},listings:{daily:[],weekly:[],monthly:[]},revenue:{daily:[],weekly:[],monthly:[]}}}}}),{data:x,isLoading:_}=Ni({queryKey:["analytics","traffic",r,n],queryFn:async()=>({"Recherche directe":45,"Réseaux sociaux":30,"Moteurs de recherche":15,"Liens externes":10})}),{data:S,isLoading:C}=Ni({queryKey:["analytics","categories",r,n],queryFn:async()=>({Immobilier:40,Automobile:25,Services:20,Marketplace:15})}),N=b.useMemo(()=>u?u.map(k=>({date:Zr(zme(k.date),"MMM d"),newUsers:k.users,activeUsers:k.users,returningUsers:0})):[],[u]),A=b.useMemo(()=>x?Object.entries(x).map(([k,O])=>({name:k,value:O})):[],[x]),E=s||c||d||g||_||C||y;return console.log("🔍 État des données avant rendu:",{analyticsData:i,revenueData:l,userData:u,growthTrends:v,isLoading:E,analyticsError:o}),o?(console.error("❌ Erreur analytics détectée:",o),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(hf,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),a.jsx(me,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):!i||!l?(console.log("⚠️ Données manquantes, affichage du chargement..."),console.log("🔍 analyticsData:",i),console.log("🔍 revenueData:",l),console.log("🔍 isLoading:",E),E?a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(hf,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Chargement des données..."}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Veuillez patienter pendant le chargement des données."}),a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})]})}):o?(console.error("❌ Erreur analytics détectée:",o),a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(hf,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Erreur de chargement"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Une erreur est survenue lors du chargement des données."}),a.jsx(me,{onClick:()=>window.location.reload(),variant:"outline",children:"Réessayer"})]})})):a.jsx("div",{className:"space-y-6",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-12",children:[a.jsx(hf,{className:"h-16 w-16 text-muted-foreground mb-4"}),a.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Aucune donnée disponible"}),a.jsx("p",{className:"text-muted-foreground mb-4",children:"Aucune donnée n'est disponible pour la période sélectionnée."}),a.jsx(me,{onClick:()=>window.location.reload(),variant:"outline",children:"Actualiser"})]})})):a.jsxs("div",{className:"space-y-6",children:[console.log("🔍 Rendu principal - début"),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Tableau de Bord Analytique"}),a.jsx("p",{className:"text-muted-foreground",children:"Aperçu des performances et des tendances de votre plateforme"})]}),a.jsxs("div",{className:"mt-4 flex items-center space-x-2 md:mt-0",children:[a.jsxs(tn,{value:t,onValueChange:e,children:[a.jsxs(Xr,{className:"w-[180px]",children:[a.jsx(Hc,{className:"mr-2 h-4 w-4"}),a.jsx(rn,{placeholder:"Sélectionner une période"})]}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"today",children:"Aujourd'hui"}),a.jsx(nt,{value:"yesterday",children:"Hier"}),a.jsx(nt,{value:"7days",children:"7 derniers jours"}),a.jsx(nt,{value:"30days",children:"30 derniers jours"}),a.jsx(nt,{value:"90days",children:"90 derniers jours"}),a.jsx(nt,{value:"thisMonth",children:"Ce mois-ci"}),a.jsx(nt,{value:"lastMonth",children:"Le mois dernier"}),a.jsx(nt,{value:"thisYear",children:"Cette année"})]})]}),a.jsxs(me,{variant:"outline",children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),console.log("🔍 Rendu - Stats Grid"),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsxs(Jt,{children:[console.log("🔍 Rendu - Carte Total Annonces"),a.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(jr,{className:"text-sm font-medium",children:"Total Annonces"}),a.jsx(Yf,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(rr,{children:[a.jsx("div",{className:"text-2xl font-bold",children:(()=>{const k=i?.totalListings;return console.log("🔍 Affichage Total Annonces:",{value:k,type:typeof k}),E?"...":k?.toLocaleString()||0})()}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," approuvées, ",i?.pendingListings||0," en attente"]})]})]}),a.jsxs(Jt,{children:[console.log("🔍 Rendu - Carte Utilisateurs"),a.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(jr,{className:"text-sm font-medium",children:"Utilisateurs"}),a.jsx(Oo,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(rr,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E?"...":i?.totalUsers?.toLocaleString()||0}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.activeUsers?.current||0," actifs"]})]})]}),a.jsxs(Jt,{children:[console.log("🔍 Rendu - Carte Chiffre d'affaires"),a.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(jr,{className:"text-sm font-medium",children:"Chiffre d'affaires"}),a.jsx(zp,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(rr,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E?"...":`${(l?.totalRevenue||0).toLocaleString()} FCFA`}),a.jsx("p",{className:"text-xs text-muted-foreground",children:l?.revenueByDate?.length>0&&a.jsxs("span",{className:"text-green-600",children:["↑ ",l.revenueByDate.length," transactions"]})})]})]}),a.jsxs(Jt,{children:[console.log("🔍 Rendu - Carte Taux d'approbation"),a.jsxs(Sr,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(jr,{className:"text-sm font-medium",children:"Taux d'approbation"}),a.jsx(Po,{className:"h-4 w-4 text-muted-foreground"})]}),a.jsxs(rr,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E?"...":i?.totalListings?`${Math.round(i.approvedListings/i.totalListings*100)}%`:"0%"}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:[i?.approvedListings||0," sur ",i?.totalListings||0," annonces"]})]})]})]}),console.log("🔍 Rendu - Main Charts"),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(Jt,{className:"col-span-4",children:[console.log("🔍 Rendu - Graphique Évolution des Revenus"),a.jsxs(Sr,{children:[a.jsx(jr,{children:"Évolution des Revenus"}),a.jsx(ei,{children:"Chiffre d'affaires sur la période sélectionnée"})]}),a.jsx(rr,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(tp,{width:"100%",height:"100%",children:a.jsxs(D3,{data:l?.revenueByDate||[],margin:{top:5,right:10,left:0,bottom:5},children:[a.jsx(yv,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Sf,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(jf,{tickFormatter:k=>`${k.toLocaleString()} FCFA`,tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(gs,{formatter:k=>[`${k.toLocaleString()} FCFA`,"Revenus"]}),a.jsx(Fy,{type:"monotone",dataKey:"revenue",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(Jt,{className:"col-span-3",children:[console.log("🔍 Rendu - Graphique Sources de trafic"),a.jsxs(Sr,{children:[a.jsx(jr,{children:"Sources de trafic"}),a.jsx(ei,{children:"Répartition des sources de trafic sur votre site"})]}),a.jsxs(rr,{children:[a.jsx("div",{className:"h-[300px]",children:a.jsx(tp,{width:"100%",height:"100%",children:a.jsxs($3,{children:[a.jsx(Vc,{data:A,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:A.map((k,O)=>a.jsx(cy,{fill:ap[O%ap.length]},`cell-${O}`))}),a.jsx(gs,{formatter:(k,O)=>[`${k}%`,O]}),a.jsx(cd,{})]})})}),a.jsx("div",{className:"mt-4 space-y-2",children:A.map((k,O)=>a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"h-3 w-3 rounded-full",style:{backgroundColor:ap[O%ap.length]}}),a.jsx("span",{className:"text-sm",children:k.name})]}),a.jsxs("span",{className:"text-sm font-medium",children:[k.value,"%"]})]},k.name))})]})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-7",children:[a.jsxs(Jt,{className:"col-span-4",children:[a.jsx(Sr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(jr,{children:"Activité des utilisateurs"}),a.jsx(ei,{children:"Évolution des nouveaux utilisateurs et des utilisateurs actifs"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-blue-500"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Nouveaux"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-2 h-3 w-3 rounded-full bg-green-600"}),a.jsx("span",{className:"text-xs text-muted-foreground",children:"Actifs"})]})]})]})}),a.jsx(rr,{className:"pl-2",children:a.jsx("div",{className:"h-[300px]",children:a.jsx(tp,{width:"100%",height:"100%",children:a.jsxs(B9,{data:N,children:[a.jsx(yv,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Sf,{dataKey:"date",tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(jf,{tick:{fontSize:12},tickLine:!1,axisLine:!1}),a.jsx(gs,{}),a.jsx(cd,{}),a.jsx(Rc,{dataKey:"newUsers",fill:"#3b82f6",radius:[4,4,0,0]}),a.jsx(Rc,{dataKey:"activeUsers",fill:"#10b981",radius:[4,4,0,0]})]})})})})]}),a.jsxs(Jt,{className:"col-span-3",children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Croissance des Utilisateurs"}),a.jsx(ei,{children:"Nouveaux utilisateurs par période"})]}),a.jsx(rr,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(tp,{width:"100%",height:"100%",children:a.jsxs(B9,{data:v?.users?.daily||[],children:[a.jsx(yv,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Sf,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(jf,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(gs,{formatter:k=>[k,"Nouveaux utilisateurs"]}),a.jsx(Rc,{dataKey:"value",fill:"#82ca9d",radius:[4,4,0,0]})]})})})})]})]}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Croissance des Annonces"}),a.jsx(ei,{children:"Nouvelles annonces créées par période"})]}),a.jsx(rr,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(tp,{width:"100%",height:"100%",children:a.jsxs(D3,{data:v?.listings?.daily||[],children:[a.jsx(yv,{strokeDasharray:"3 3",vertical:!1}),a.jsx(Sf,{dataKey:"date",tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(jf,{tick:{fontSize:10},tickLine:!1,axisLine:!1}),a.jsx(gs,{formatter:k=>[k,"Nouvelles annonces"]}),a.jsx(Fy,{type:"monotone",dataKey:"value",stroke:"#8884d8",strokeWidth:2,dot:!1,activeDot:{r:6}})]})})})})]}),a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Répartition des Revenus par Catégorie"}),a.jsx(ei,{children:"Chiffre d'affaires par catégorie d'annonces"})]}),a.jsx(rr,{children:a.jsx("div",{className:"h-[300px]",children:a.jsx(tp,{width:"100%",height:"100%",children:a.jsxs($3,{children:[a.jsx(Vc,{data:Object.entries(l?.revenueByCategory||{}).map(([k,O])=>({name:k==="real_estate"?"Immobilier":k==="automobile"?"Automobile":k==="services"?"Services":k==="marketplace"?"Marketplace":k,value:O})),cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",label:({name:k,percent:O})=>`${k} ${(O*100).toFixed(0)}%`,children:Object.entries(l?.revenueByCategory||{}).map((k,O)=>a.jsx(cy,{fill:ap[O%ap.length]},`cell-${O}`))}),a.jsx(gs,{formatter:k=>[`${k.toLocaleString()} FCFA`,"Revenus"]})]})})})})]})]}),a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(jr,{children:"Produits les plus vendus"}),a.jsx(ei,{children:"Les produits les plus populaires sur votre plateforme"})]}),a.jsx(me,{variant:"outline",size:"sm",children:"Voir tout"})]})}),a.jsx(rr,{children:a.jsx("div",{className:"space-y-4",children:E?a.jsx("div",{className:"flex items-center justify-center h-32",children:a.jsx("p",{children:"Chargement des produits..."})}):f?.length>0?f.map((k,O)=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 rounded-md bg-slate-100 flex items-center justify-center mr-4",children:a.jsx("span",{className:"text-sm font-medium text-slate-700",children:O+1})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium",children:k.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[k.category," • ",k.orders," ventes"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:"font-medium",children:["$",k.revenue.toLocaleString()]}),a.jsxs("div",{className:"flex items-center justify-end",children:[k.change>=0?a.jsx(bhe,{className:"h-3 w-3 text-green-500 mr-1"}):a.jsx(xhe,{className:"h-3 w-3 text-red-500 mr-1"}),a.jsxs("span",{className:`text-xs ${k.change>=0?"text-green-600":"text-red-600"}`,children:[Math.abs(k.change),"%"]})]})]})]},k.id)):a.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[a.jsx(hf,{className:"h-12 w-12 text-muted-foreground mb-2"}),a.jsx("p",{className:"text-muted-foreground",children:"Aucune donnée disponible"})]})})})]})]})}const Ds={PENDING:"pending",APPROVED:"approved",REJECTED:"rejected",IGNORED:"ignored"},la={LISTING:"listing",COMMENT:"comment",USER:"user",REVIEW:"review"},cVe=({level:t})=>{const e=()=>{switch(t){case"low":return"outline";case"medium":return"warning";case"high":return"destructive";default:return"outline"}},r=()=>{switch(t){case"low":return"Faible";case"medium":return"Moyen";case"high":return"Élevé";default:return t}};return a.jsx(Et,{variant:e(),children:r()})},uVe=({status:t})=>{const e=()=>{switch(t){case Ds.PENDING:return"warning";case Ds.APPROVED:return"success";case Ds.REJECTED:return"destructive";case Ds.IGNORED:return"outline";default:return"outline"}},r=()=>{switch(t){case Ds.PENDING:return"En attente";case Ds.APPROVED:return"Approuvé";case Ds.REJECTED:return"Rejeté";case Ds.IGNORED:return"Ignoré";default:return t}};return a.jsx(Et,{variant:e(),children:r()})},dVe=({type:t})=>{const e=()=>{switch(t){case la.LISTING:return a.jsx(Yf,{className:"h-3 w-3"});case la.COMMENT:return a.jsx(Pi,{className:"h-3 w-3"});case la.USER:return a.jsx(Fs,{className:"h-3 w-3"});case la.REVIEW:return a.jsx(Ya,{className:"h-3 w-3"});default:return a.jsx(Un,{className:"h-3 w-3"})}},r=()=>{switch(t){case la.LISTING:return"Annonce";case la.COMMENT:return"Commentaire";case la.USER:return"Utilisateur";case la.REVIEW:return"Avis";default:return t}};return a.jsxs(Et,{variant:"outline",className:"flex items-center gap-1",children:[e(),r()]})};function fVe(){const t=Tl(),[e,r]=b.useState(""),[n,i]=b.useState("all"),[s,o]=b.useState("all"),[l,c]=b.useState("all"),[u,d]=b.useState("created_at"),[f,g]=b.useState("desc"),[v,y]=b.useState(1),[x,_]=b.useState(10),[S,C]=b.useState(new Set),[N,A]=b.useState(null),[E,k]=b.useState(!1),[O,I]=b.useState(null),{data:z,isLoading:W,isError:V}=Ni({queryKey:["moderation","reports",{searchTerm:e,statusFilter:n,typeFilter:s,severityFilter:l,sortBy:u,sortOrder:f,page:v,perPage:x}],queryFn:async()=>(await en.getAllListings({status:"pending"})).map(X=>({id:X.id,type:la.LISTING,content:X,reporter:{id:"system",name:"Système",email:"system@maximarket.com"},reason:"Annonce en attente de modération",description:"Cette annonce nécessite une vérification avant publication",severity:"medium",status:Ds.PENDING,createdAt:X.created_at,updatedAt:X.updated_at}))}),{data:q}=Ni({queryKey:["moderation","stats"],queryFn:async()=>{const se=await en.getAllListings();return await ko.getAllUsers(),{totalReports:se.filter(X=>X.status==="pending").length,pendingReports:se.filter(X=>X.status==="pending").length,resolvedReports:se.filter(X=>X.status==="approved"||X.status==="rejected").length,averageResponseTime:"2h",topReportedTypes:[{type:"listing",count:se.filter(X=>X.status==="pending").length},{type:"user",count:0},{type:"comment",count:0}]}}}),{mutate:F,isLoading:H}=$i({mutationFn:({reportId:se,action:X,reason:ce})=>console.log(`Moderating report ${se} with action: ${X}, reason: ${ce}`),onSuccess:()=>{t.invalidateQueries(["moderation","reports"]),t.invalidateQueries(["moderation","stats"]),A(null),k(!1)},onError:se=>{console.error("Error moderating content:",se)}}),Q=se=>{C(X=>{const ce=new Set(X);return ce.has(se)?ce.delete(se):ce.add(se),ce})},oe=(se,X)=>{A(se),I(X),(X==="approve"||X==="reject"||X==="ignore"||X==="delete")&&k(!0)},K=()=>{if(!N||!O)return;let se=O,X="";O==="reject"?X="Contenu inapproprié":O==="delete"&&(X="Suppression demandée"),F({reportId:N,action:se,reason:X})},te=se=>{switch(se){case"approve":return"default";case"reject":return"destructive";case"ignore":return"outline";case"delete":return"destructive";default:return"outline"}},Z=se=>{switch(se){case"approve":return"Approuver";case"reject":return"Rejeter";case"ignore":return"Ignorer";case"delete":return"Supprimer";default:return se}};return a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Modération"}),a.jsx("p",{className:"text-muted-foreground",children:"Gérez les signalements et le contenu inapproprié"})]})}),a.jsxs("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[a.jsx("div",{className:"rounded-lg border bg-card p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements en attente"}),a.jsx("p",{className:"text-2xl font-bold",children:q?.pendingReports||0})]}),a.jsx("div",{className:"rounded-full bg-amber-100 p-3 dark:bg-amber-900/50",children:a.jsx(Pf,{className:"h-6 w-6 text-amber-600 dark:text-amber-400"})})]})}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Signalements aujourd'hui"}),a.jsx("p",{className:"text-2xl font-bold",children:q?.today||0})]}),a.jsx("div",{className:"rounded-full bg-blue-100 p-3 dark:bg-blue-900/50",children:a.jsx(Pf,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[a.jsxs("span",{className:q?.todayChange>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400",children:[q?.todayChange>=0?"↑":"↓"," ",Math.abs(q?.todayChange||0),"%"]})," ","vs hier"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Taux de modération"}),a.jsxs("p",{className:"text-2xl font-bold",children:[q?.moderationRate||0,"%"]})]}),a.jsx("div",{className:"rounded-full bg-green-100 p-3 dark:bg-green-900/50",children:a.jsx(Bp,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[q?.moderatedToday||0," modérations aujourd'hui"]})]}),a.jsxs("div",{className:"rounded-lg border bg-card p-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Contenu supprimé"}),a.jsx("p",{className:"text-2xl font-bold",children:q?.removedContent||0})]}),a.jsx("div",{className:"rounded-full bg-red-100 p-3 dark:bg-red-900/50",children:a.jsx(Mo,{className:"h-6 w-6 text-red-600 dark:text-red-400"})})]}),a.jsxs("p",{className:"mt-2 text-xs text-muted-foreground",children:[q?.removedThisMonth||0," ce mois-ci"]})]})]}),a.jsxs(yM,{defaultValue:"reports",className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(a1,{children:[a.jsx(ps,{value:"reports",children:"Signalements"}),a.jsx(ps,{value:"logs",children:"Journal de modération"}),a.jsx(ps,{value:"settings",children:"Paramètres"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(me,{variant:"outline",size:"sm",children:[a.jsx(Us,{className:"mr-2 h-4 w-4"}),"Filtres"]}),a.jsxs(me,{variant:"outline",size:"sm",children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter"]})]})]}),a.jsxs(ms,{value:"reports",className:"space-y-4",children:[a.jsx("div",{className:"rounded-md border bg-card p-4",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Recherche"}),a.jsxs("div",{className:"relative",children:[a.jsx(ki,{className:"absolute left-2.5 top-2.5 h-4 w-4 text-muted-foreground"}),a.jsx(dt,{type:"search",placeholder:"Rechercher...",className:"pl-8",value:e,onChange:se=>r(se.target.value)})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Statut"}),a.jsxs(tn,{value:n,onValueChange:i,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les statuts"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les statuts"}),a.jsx(nt,{value:Ds.PENDING,children:"En attente"}),a.jsx(nt,{value:Ds.APPROVED,children:"Approuvé"}),a.jsx(nt,{value:Ds.REJECTED,children:"Rejeté"}),a.jsx(nt,{value:Ds.IGNORED,children:"Ignoré"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Type de contenu"}),a.jsxs(tn,{value:s,onValueChange:o,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les types"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les types"}),a.jsx(nt,{value:la.LISTING,children:"Annonces"}),a.jsx(nt,{value:la.COMMENT,children:"Commentaires"}),a.jsx(nt,{value:la.USER,children:"Utilisateurs"}),a.jsx(nt,{value:la.REVIEW,children:"Avis"})]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Gravité"}),a.jsxs(tn,{value:l,onValueChange:c,children:[a.jsx(Xr,{children:a.jsx(rn,{placeholder:"Tous les niveaux"})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les niveaux"}),a.jsx(nt,{value:"low",children:"Faible"}),a.jsx(nt,{value:"medium",children:"Moyen"}),a.jsx(nt,{value:"high",children:"Élevé"})]})]})]})]})}),a.jsx("div",{className:"rounded-md border bg-card",children:a.jsxs(zm,{children:[a.jsx(qm,{children:a.jsxs(kn,{children:[a.jsx(kr,{children:"Contenu"}),a.jsx(kr,{children:"Type"}),a.jsx(kr,{children:"Gravité"}),a.jsx(kr,{children:"Statut"}),a.jsx(kr,{children:"Date"}),a.jsx(kr,{children:"Actions"})]})}),a.jsx(Um,{children:W?a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),a.jsx("span",{className:"ml-2",children:"Chargement..."})]})})}):V?a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex items-center justify-center text-red-500",children:[a.jsx(Un,{className:"h-5 w-5 mr-2"}),"Erreur lors du chargement des signalements"]})})}):z?.length===0?a.jsx(kn,{children:a.jsx(Zt,{colSpan:6,className:"text-center py-8",children:a.jsxs("div",{className:"flex flex-col items-center justify-center text-muted-foreground",children:[a.jsx(Pf,{className:"h-12 w-12 mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Aucun signalement trouvé"}),a.jsx("p",{className:"text-sm",children:"Il n'y a pas de signalements correspondant à vos critères."})]})})}):z?.map(se=>a.jsxs(kn,{children:[a.jsx(Zt,{children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(me,{variant:"ghost",size:"sm",onClick:()=>Q(se.id),children:S.has(se.id)?a.jsx(Ef,{className:"h-4 w-4"}):a.jsx(Cc,{className:"h-4 w-4"})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:se.content.title||"Contenu signalé"}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Par ",se.reporter?.name||"Utilisateur anonyme"]})]})]}),S.has(se.id)&&a.jsxs("div",{className:"ml-8 p-3 bg-muted rounded-md",children:[a.jsx("p",{className:"text-sm",children:se.reason}),se.description&&a.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:se.description})]})]})}),a.jsx(Zt,{children:a.jsx(dVe,{type:se.type})}),a.jsx(Zt,{children:a.jsx(cVe,{level:se.severity})}),a.jsx(Zt,{children:a.jsx(uVe,{status:se.status})}),a.jsx(Zt,{children:a.jsx(hp,{children:a.jsxs(ul,{children:[a.jsx(dl,{children:a.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[a.jsx(qs,{className:"h-4 w-4 mr-1"}),YH(new Date(se.createdAt),{addSuffix:!0,locale:Hm})]})}),a.jsx(No,{children:new Date(se.createdAt).toLocaleString("fr-FR")})]})})}),a.jsx(Zt,{children:a.jsxs("div",{className:"flex space-x-1",children:[se.status===Ds.PENDING&&a.jsxs(a.Fragment,{children:[a.jsx(hp,{children:a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{variant:"outline",size:"sm",onClick:()=>oe(se.id,"approve"),disabled:H,children:a.jsx(Bp,{className:"h-4 w-4"})})}),a.jsx(No,{children:"Approuver"})]})}),a.jsx(hp,{children:a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{variant:"outline",size:"sm",onClick:()=>oe(se.id,"reject"),disabled:H,children:a.jsx(Ws,{className:"h-4 w-4"})})}),a.jsx(No,{children:"Rejeter"})]})}),a.jsx(hp,{children:a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{variant:"outline",size:"sm",onClick:()=>oe(se.id,"ignore"),disabled:H,children:a.jsx(Phe,{className:"h-4 w-4"})})}),a.jsx(No,{children:"Ignorer"})]})})]}),a.jsx(hp,{children:a.jsxs(ul,{children:[a.jsx(dl,{asChild:!0,children:a.jsx(me,{variant:"outline",size:"sm",onClick:()=>oe(se.id,"delete"),disabled:H,children:a.jsx(Mo,{className:"h-4 w-4"})})}),a.jsx(No,{children:"Supprimer"})]})})]})})]},se.id))})]})}),z?.pagination&&a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-2",children:a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Affichage de ",(v-1)*x+1," à ",Math.min(v*x,z.pagination.total)," sur ",z.pagination.total," signalements"]})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(me,{variant:"outline",size:"sm",onClick:()=>y(1),disabled:v===1,children:a.jsx(Yy,{className:"h-4 w-4"})}),a.jsx(me,{variant:"outline",size:"sm",onClick:()=>y(v-1),disabled:v===1,children:a.jsx(Ga,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm",children:["Page ",v," sur ",z.pagination.totalPages]}),a.jsx(me,{variant:"outline",size:"sm",onClick:()=>y(v+1),disabled:v===z.pagination.totalPages,children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx(me,{variant:"outline",size:"sm",onClick:()=>y(z.pagination.totalPages),disabled:v===z.pagination.totalPages,children:a.jsx(Xy,{className:"h-4 w-4"})})]})]})]}),a.jsx(ms,{value:"logs",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Journal de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Historique des actions de modération effectuées"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(qs,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Journal de modération à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"L'historique des actions de modération sera disponible prochainement."})]})})]})}),a.jsx(ms,{value:"settings",className:"space-y-4",children:a.jsxs("div",{className:"rounded-md border bg-card",children:[a.jsxs("div",{className:"p-4 border-b",children:[a.jsx("h3",{className:"text-lg font-medium",children:"Paramètres de modération"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Configurez les règles et seuils de modération"})]}),a.jsx("div",{className:"p-4",children:a.jsxs("div",{className:"text-center py-8",children:[a.jsx(Jf,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{className:"text-lg font-medium",children:"Paramètres à venir"}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Les paramètres de modération seront disponibles prochainement."})]})})]})})]}),a.jsx(gX,{open:E,onOpenChange:k,children:a.jsxs(fI,{children:[a.jsxs(hI,{children:[a.jsx(mI,{children:"Confirmer l'action"}),a.jsxs(gI,{children:["Êtes-vous sûr de vouloir ",Z(O)?.toLowerCase()," ce signalement ? Cette action ne peut pas être annulée."]})]}),a.jsxs(pI,{children:[a.jsx(vI,{children:"Annuler"}),a.jsx(yX,{onClick:K,className:te(O)==="destructive"?"bg-destructive text-destructive-foreground hover:bg-destructive/90":"",children:Z(O)})]})]})})]})}Qn({first_name:Lt().min(2,"Le prénom doit contenir au moins 2 caractères").max(50,"Le prénom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le prénom ne peut contenir que des lettres, espaces, tirets et apostrophes"),last_name:Lt().min(2,"Le nom doit contenir au moins 2 caractères").max(50,"Le nom ne peut pas dépasser 50 caractères").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Le nom ne peut contenir que des lettres, espaces, tirets et apostrophes"),email:Lt().email("Format d'email invalide").min(5,"L'email doit contenir au moins 5 caractères").max(100,"L'email ne peut pas dépasser 100 caractères"),phone_number:Lt().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide (ex: +221 77 123 4567)").optional().nullable(),role:Ln(["user","vendor","admin","moderator"],{errorMap:()=>({message:"Rôle invalide"})}),status:Ln(["active","inactive","suspended","pending"],{errorMap:()=>({message:"Statut invalide"})}),is_verified:Zn().optional(),profile_image:Lt().url("URL d'image invalide").optional().nullable()});Qn({title:Lt().min(10,"Le titre doit contenir au moins 10 caractères").max(255,"Le titre ne peut pas dépasser 255 caractères"),description:Lt().min(20,"La description doit contenir au moins 20 caractères").max(2e3,"La description ne peut pas dépasser 2000 caractères"),price:ts().min(0,"Le prix ne peut pas être négatif").max(1e9,"Le prix ne peut pas dépasser 1 milliard"),category:Ln(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Catégorie invalide"})}),subcategory:Lt().min(2,"La sous-catégorie doit contenir au moins 2 caractères").max(100,"La sous-catégorie ne peut pas dépasser 100 caractères").optional(),status:Ln(["pending","approved","rejected","expired"],{errorMap:()=>({message:"Statut invalide"})}),images:qb(Lt().url("URL d'image invalide")).min(1,"Au moins une image est requise").max(10,"Maximum 10 images autorisées"),location:Qn({city:Lt().min(2,"Ville requise"),country:Lt().min(2,"Pays requis"),address:Lt().optional(),coordinates:Qn({lat:ts().min(-90).max(90).optional(),lng:ts().min(-180).max(180).optional()}).optional()}),contact_info:Qn({phone:Lt().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),email:Lt().email("Format d'email invalide"),website:Lt().url("URL invalide").optional()}),real_estate_details:Qn({type:Ln(["appartement","maison","terrain","bureau","commerce"]),rooms:Lt().min(1,"Nombre de pièces requis"),surface:Lt().min(1,"Surface requise"),amenities:qb(Lt()).optional()}).optional(),automobile_details:Qn({brand:Lt().min(2,"Marque requise"),model:Lt().min(2,"Modèle requis"),year:ts().min(1900).max(new Date().getFullYear()+1,"Année invalide"),mileage:ts().min(0,"Kilométrage invalide").optional(),transmission:Ln(["manuelle","automatique"]).optional(),fuel:Ln(["essence","diesel","électrique","hybride"]).optional()}).optional(),service_details:Qn({expertise:Lt().min(2,"Expertise requise"),experience:Lt().min(2,"Expérience requise"),availability:Lt().min(2,"Disponibilité requise"),verified:Zn().optional(),certifications:qb(Lt()).optional()}).optional(),product_details:Qn({brand:Lt().min(2,"Marque requise"),model:Lt().min(2,"Modèle requis"),condition:Ln(["neuf","excellent","bon","moyen","usé"]),warranty:Lt().optional(),dimensions:Lt().optional(),weight:Lt().optional()}).optional()});const Uk=Qn({name:Lt().min(2,"Le nom doit contenir au moins 2 caractères").max(100,"Le nom ne peut pas dépasser 100 caractères").regex(/^[a-zA-ZÀ-ÿ0-9\s'-]+$/,"Le nom ne peut contenir que des lettres, chiffres, espaces, tirets et apostrophes"),slug:Lt().min(2,"Le slug doit contenir au moins 2 caractères").max(100,"Le slug ne peut pas dépasser 100 caractères").regex(/^[a-z0-9-]+$/,"Le slug ne peut contenir que des lettres minuscules, chiffres et tirets"),parent_category:Ln(["real_estate","automobile","services","marketplace"],{errorMap:()=>({message:"Type parent invalide"})}),description:Lt().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),icon:Lt().min(1,"L'icône est requise").max(50,"L'icône ne peut pas dépasser 50 caractères").optional(),sort_order:ts().int("L'ordre de tri doit être un nombre entier").min(0,"L'ordre de tri ne peut pas être négatif").max(999,"L'ordre de tri ne peut pas dépasser 999").optional(),is_active:Zn().optional()});Qn({reference:Lt().min(5,"La référence doit contenir au moins 5 caractères").max(50,"La référence ne peut pas dépasser 50 caractères").regex(/^[A-Z0-9-]+$/,"La référence ne peut contenir que des lettres majuscules, chiffres et tirets"),type:Ln(["purchase","rental","service","transfer"],{errorMap:()=>({message:"Type de transaction invalide"})}),amount:ts().positive("Le montant doit être positif").max(1e9,"Le montant ne peut pas dépasser 1 milliard"),currency:Ln(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),status:Ln(["pending","completed","cancelled","failed"],{errorMap:()=>({message:"Statut invalide"})}),payment_method:Ln(["mobile_money","bank_transfer","cash","card"],{errorMap:()=>({message:"Méthode de paiement invalide"})}).optional(),description:Lt().min(10,"La description doit contenir au moins 10 caractères").max(500,"La description ne peut pas dépasser 500 caractères").optional(),expires_at:RT().optional(),metadata:H2e(W2e()).optional()});Qn({reason:Lt().min(10,"La raison doit contenir au moins 10 caractères").max(200,"La raison ne peut pas dépasser 200 caractères"),description:Lt().min(20,"La description doit contenir au moins 20 caractères").max(1e3,"La description ne peut pas dépasser 1000 caractères").optional(),type:Ln(["listing","comment","user","review"],{errorMap:()=>({message:"Type de rapport invalide"})}),severity:Ln(["low","medium","high"],{errorMap:()=>({message:"Sévérité invalide"})}),status:Ln(["pending","investigating","resolved","dismissed"],{errorMap:()=>({message:"Statut invalide"})}),moderator_notes:Lt().max(500,"Les notes ne peuvent pas dépasser 500 caractères").optional()});Qn({general:Qn({siteName:Lt().min(2,"Nom du site requis"),siteDescription:Lt().min(10,"Description du site requise"),contactEmail:Lt().email("Email de contact invalide"),supportPhone:Lt().regex(/^(\+221|221)?[0-9]{9}$/,"Format de téléphone invalide"),timezone:Lt().min(1,"Fuseau horaire requis"),currency:Ln(["XOF","EUR","USD"],{errorMap:()=>({message:"Devise invalide"})}),language:Ln(["fr","en"],{errorMap:()=>({message:"Langue invalide"})})}),appearance:Qn({theme:Ln(["light","dark","auto"],{errorMap:()=>({message:"Thème invalide"})}),primaryColor:Lt().regex(/^#[0-9A-Fa-f]{6}$/,"Couleur hexadécimale invalide"),logoUrl:Lt().url("URL du logo invalide").optional(),faviconUrl:Lt().url("URL du favicon invalide").optional(),enableAnimations:Zn(),enableGradients:Zn()}),notifications:Qn({emailNotifications:Zn(),pushNotifications:Zn(),smsNotifications:Zn(),adminAlerts:Zn(),userWelcome:Zn(),listingApproval:Zn(),transactionUpdates:Zn()}),security:Qn({requireEmailVerification:Zn(),requirePhoneVerification:Zn(),twoFactorAuth:Zn(),sessionTimeout:ts().min(1).max(168),maxLoginAttempts:ts().min(3).max(10),passwordMinLength:ts().min(6).max(20),enableCaptcha:Zn()}),system:Qn({maintenanceMode:Zn(),debugMode:Zn(),enableLogs:Zn(),backupFrequency:Ln(["hourly","daily","weekly","monthly"]),maxFileSize:ts().min(1).max(100),allowedFileTypes:qb(Lt()),enableCaching:Zn(),cacheTTL:ts().min(60).max(86400)})});Qn({searchTerm:Lt().max(100,"Terme de recherche trop long").optional(),status:Ln(["all","active","inactive","pending","approved","rejected"]).optional(),category:Lt().optional(),dateFrom:RT().optional(),dateTo:RT().optional(),minPrice:ts().min(0).optional(),maxPrice:ts().min(0).optional(),sortBy:Lt().optional(),sortOrder:Ln(["asc","desc"]).optional(),page:ts().int().min(1).optional(),perPage:ts().int().min(1).max(100).optional()});const Vk=(t,e)=>{try{return{success:!0,data:t.parse(e),errors:null}}catch(r){return r instanceof Cl?{success:!1,data:null,errors:r.errors.reduce((i,s)=>{const o=s.path.join(".");return i[o]=s.message,i},{})}:{success:!1,data:null,errors:{general:"Erreur de validation inconnue"}}}};function hVe(){const{toast:t}=dn(),e=Tl(),[r,n]=b.useState(""),[i,s]=b.useState("all"),[o,l]=b.useState("all"),[c,u]=b.useState("name"),[d,f]=b.useState("asc"),[g,v]=b.useState(1),[y,x]=b.useState(10),[_,S]=b.useState(!1),[C,N]=b.useState(!1),[A,E]=b.useState(null),[k,O]=b.useState({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0}),[I,z]=b.useState({}),{getFieldError:W,hasFieldError:V,clearFieldError:q}=p2e(I),{data:F,isLoading:H,isError:Q}=Ni({queryKey:["adminCategories",{searchTerm:r,typeFilter:i,statusFilter:o,sortBy:c,sortOrder:d,page:g,perPage:y}],queryFn:async()=>await ov.getAllCategories()}),oe=$i({mutationFn:Oe=>ov.createCategory(Oe),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),S(!1),qe(),t({title:"Succès",description:"Catégorie créée avec succès"})},onError:Oe=>{t({title:"Erreur",description:Oe.message||"Une erreur est survenue",variant:"destructive"})}}),K=$i({mutationFn:({id:Oe,data:mt})=>ov.updateCategory(Oe,mt),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),N(!1),E(null),qe(),t({title:"Succès",description:"Catégorie mise à jour avec succès"})},onError:Oe=>{t({title:"Erreur",description:Oe.message||"Une erreur est survenue",variant:"destructive"})}}),te=$i({mutationFn:Oe=>ov.deleteCategory(Oe),onSuccess:()=>{e.invalidateQueries(["adminCategories"]),t({title:"Succès",description:"Catégorie supprimée avec succès"})},onError:Oe=>{t({title:"Erreur",description:Oe.message||"Une erreur est survenue",variant:"destructive"})}}),Z=Oe=>{n(Oe.target.value),v(1)},se=Oe=>{c===Oe?f(d==="asc"?"desc":"asc"):(u(Oe),f("asc"))},X=Oe=>{v(Oe)},ce=Oe=>{x(Oe),v(1)},je=Oe=>{E(Oe),O({name:Oe.name,slug:Oe.slug,parent_category:Oe.parent_category,description:Oe.description||"",icon:Oe.icon||"",sort_order:Oe.sort_order||0}),z({}),N(!0)},Te=()=>{qe(),z({}),S(!0)},qe=()=>{O({name:"",slug:"",parent_category:"marketplace",description:"",icon:"",sort_order:0})},pe=Oe=>{Oe.preventDefault();const mt=Vk(Uk,k);if(!mt.success){Object.values(mt.errors).forEach(Gt=>{t({title:"Erreur de validation",description:Gt,variant:"destructive"})});return}A?K.mutate({id:A.id,data:mt.data}):oe.mutate(mt.data)},ue=Oe=>{te.mutate(Oe)},_e=()=>{try{if(!F||F.length===0){t({title:"Aucune donnée",description:"Aucune catégorie à exporter",variant:"destructive"});return}r1.categories(F,"categories-maximarket"),t({title:"Export réussi",description:"Liste des catégories exportée en CSV"})}catch(Oe){t({title:"Erreur d'export",description:Oe.message||"Impossible d'exporter les données",variant:"destructive"})}},ye=F?F.filter(Oe=>!(r&&!Oe.name.toLowerCase().includes(r.toLowerCase())||i!=="all"&&Oe.parent_category!==i||o!=="all"&&Oe.is_active!==(o==="active"))).sort((Oe,mt)=>{let Gt=Oe[c],ge=mt[c];return typeof Gt=="string"&&(Gt=Gt.toLowerCase(),ge=ge.toLowerCase()),d==="asc"?Gt>ge?1:-1:Gt<ge?1:-1}):[],Ie=Math.ceil(ye.length/y),ne=(g-1)*y,J=ne+y,Ee=ye.slice(ne,J),Ne=Oe=>Oe.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim("-"),Je=Oe=>{O(Gt=>({...Gt,name:Oe,slug:Ne(Oe)}));const mt=Vk(Uk,{...k,name:Oe});mt.success?q("name",z):z(Gt=>({...Gt,name:mt.errors.name}))},Xe=(Oe,mt)=>{const Gt={...k,[Oe]:mt},ge=Vk(Uk,Gt);!ge.success&&ge.errors[Oe]?z(Pe=>({...Pe,[Oe]:ge.errors[Oe]})):q(Oe,z)};return H?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):Q?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des catégories"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Gestion des Catégories"}),a.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Gérez les catégories et sous-catégories de votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(me,{onClick:()=>_e(),variant:"outline",className:"border-green-500 text-green-600 hover:bg-green-50 dark:hover:bg-green-900/20",children:[a.jsx(To,{className:"mr-2 h-4 w-4"}),"Exporter CSV"]}),a.jsxs(me,{onClick:Te,className:"bg-gradient-to-r from-blue-600 to-emerald-600 hover:from-blue-700 hover:to-emerald-700",children:[a.jsx(Dc,{className:"mr-2 h-4 w-4"}),"Nouvelle Catégorie"]})]})]}),a.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"search",children:"Recherche"}),a.jsx(dt,{id:"search",placeholder:"Rechercher une catégorie...",value:r,onChange:Z,className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"typeFilter",children:"Type"}),a.jsxs(tn,{value:i,onValueChange:s,children:[a.jsx(Xr,{className:"mt-1",children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les types"}),a.jsx(nt,{value:"real_estate",children:"Immobilier"}),a.jsx(nt,{value:"automobile",children:"Automobile"}),a.jsx(nt,{value:"services",children:"Services"}),a.jsx(nt,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"statusFilter",children:"Statut"}),a.jsxs(tn,{value:o,onValueChange:l,children:[a.jsx(Xr,{className:"mt-1",children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"all",children:"Tous les statuts"}),a.jsx(nt,{value:"active",children:"Actif"}),a.jsx(nt,{value:"inactive",children:"Inactif"})]})]})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"perPage",children:"Par page"}),a.jsxs(tn,{value:y.toString(),onValueChange:Oe=>ce(parseInt(Oe)),children:[a.jsx(Xr,{className:"mt-1",children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"10",children:"10"}),a.jsx(nt,{value:"25",children:"25"}),a.jsx(nt,{value:"50",children:"50"})]})]})]})]})}),a.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow overflow-hidden",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(zm,{children:[a.jsx(qm,{children:a.jsxs(kn,{children:[a.jsx(kr,{children:a.jsxs(me,{variant:"ghost",onClick:()=>se("name"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Nom",c==="name"&&(d==="asc"?a.jsx(Ef,{className:"h-4 w-4"}):a.jsx(Cc,{className:"h-4 w-4"}))]})}),a.jsx(kr,{children:a.jsxs(me,{variant:"ghost",onClick:()=>se("parent_category"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Type",c==="parent_category"&&(d==="asc"?a.jsx(Ef,{className:"h-4 w-4"}):a.jsx(Cc,{className:"h-4 w-4"}))]})}),a.jsx(kr,{children:"Slug"}),a.jsx(kr,{children:a.jsxs(me,{variant:"ghost",onClick:()=>se("sort_order"),className:"flex items-center gap-2 hover:bg-gray-100 dark:hover:bg-gray-700",children:["Ordre",c==="sort_order"&&(d==="asc"?a.jsx(Ef,{className:"h-4 w-4"}):a.jsx(Cc,{className:"h-4 w-4"}))]})}),a.jsx(kr,{children:"Statut"}),a.jsx(kr,{children:"Actions"})]})}),a.jsx(Um,{children:Ee.map(Oe=>a.jsxs(kn,{children:[a.jsx(Zt,{className:"font-medium",children:a.jsxs("div",{className:"flex items-center gap-2",children:[Oe.icon&&a.jsx("span",{className:"text-lg",children:Oe.icon}),Oe.name]})}),a.jsx(Zt,{children:a.jsxs(Et,{variant:"outline",children:[Oe.parent_category==="real_estate"&&"Immobilier",Oe.parent_category==="automobile"&&"Automobile",Oe.parent_category==="services"&&"Services",Oe.parent_category==="marketplace"&&"Marketplace"]})}),a.jsx(Zt,{className:"font-mono text-sm text-gray-500",children:Oe.slug}),a.jsx(Zt,{children:Oe.sort_order||0}),a.jsx(Zt,{children:a.jsx(Et,{variant:Oe.is_active?"success":"secondary",children:Oe.is_active?"Actif":"Inactif"})}),a.jsx(Zt,{children:a.jsxs(wd,{children:[a.jsx(_d,{asChild:!0,children:a.jsx(me,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(Zf,{className:"h-4 w-4"})})}),a.jsxs(Kc,{align:"end",children:[a.jsxs(Dr,{onClick:()=>je(Oe),children:[a.jsx(t1,{className:"mr-2 h-4 w-4"}),"Modifier"]}),a.jsx(Im,{}),a.jsxs(Dr,{onClick:()=>ue(Oe.id),className:"text-red-600",children:[a.jsx(Mo,{className:"mr-2 h-4 w-4"}),"Supprimer"]})]})]})})]},Oe.id))})]})}),Ie>1&&a.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t",children:[a.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Affichage de ",ne+1," à ",Math.min(J,ye.length)," sur ",ye.length," résultats"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(me,{variant:"outline",size:"sm",onClick:()=>X(1),disabled:g===1,children:a.jsx(Yy,{className:"h-4 w-4"})}),a.jsx(me,{variant:"outline",size:"sm",onClick:()=>X(g-1),disabled:g===1,children:a.jsx(Ga,{className:"h-4 w-4"})}),a.jsxs("span",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Page ",g," sur ",Ie]}),a.jsx(me,{variant:"outline",size:"sm",onClick:()=>X(g+1),disabled:g===Ie,children:a.jsx(Za,{className:"h-4 w-4"})}),a.jsx(me,{variant:"outline",size:"sm",onClick:()=>X(Ie),disabled:g===Ie,children:a.jsx(Xy,{className:"h-4 w-4"})})]})]})]}),a.jsx(E5,{open:_,onOpenChange:S,children:a.jsxs(oT,{className:"sm:max-w-[500px]",children:[a.jsxs(lT,{children:[a.jsx(uT,{children:"Créer une nouvelle catégorie"}),a.jsx(dT,{children:"Remplissez les informations pour créer une nouvelle catégorie"})]}),a.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"name",children:"Nom *"}),a.jsx(dt,{id:"name",value:k.name,onChange:Oe=>Je(Oe.target.value),onBlur:Oe=>Xe("name",Oe.target.value),placeholder:"Nom de la catégorie",required:!0,className:V("name")?"border-red-500 focus:border-red-500":""}),a.jsx(ob,{error:W("name")})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"slug",children:"Slug *"}),a.jsx(dt,{id:"slug",value:k.slug,onChange:Oe=>O(mt=>({...mt,slug:Oe.target.value})),onBlur:Oe=>Xe("slug",Oe.target.value),placeholder:"slug-categorie",required:!0,className:V("slug")?"border-red-500 focus:border-red-500":""}),a.jsx(ob,{error:W("slug")})]})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"parent_category",children:"Type parent *"}),a.jsxs(tn,{value:k.parent_category,onValueChange:Oe=>O(mt=>({...mt,parent_category:Oe})),children:[a.jsx(Xr,{children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"real_estate",children:"Immobilier"}),a.jsx(nt,{value:"automobile",children:"Automobile"}),a.jsx(nt,{value:"services",children:"Services"}),a.jsx(nt,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"description",children:"Description"}),a.jsx(gd,{id:"description",value:k.description,onChange:Oe=>O(mt=>({...mt,description:Oe.target.value})),onBlur:Oe=>Xe("description",Oe.target.value),placeholder:"Description de la catégorie",rows:3,className:V("description")?"border-red-500 focus:border-red-500":""}),a.jsx(ob,{error:W("description")})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"icon",children:"Icône"}),a.jsx(dt,{id:"icon",value:k.icon,onChange:Oe=>O(mt=>({...mt,icon:Oe.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"sort_order",children:"Ordre de tri"}),a.jsx(dt,{id:"sort_order",type:"number",value:k.sort_order,onChange:Oe=>O(mt=>({...mt,sort_order:parseInt(Oe.target.value)||0})),onBlur:Oe=>Xe("sort_order",parseInt(Oe.target.value)||0),placeholder:"0",className:V("sort_order")?"border-red-500 focus:border-red-500":""}),a.jsx(ob,{error:W("sort_order")})]})]}),a.jsxs(cT,{children:[a.jsx(me,{type:"button",variant:"outline",onClick:()=>S(!1),children:"Annuler"}),a.jsx(me,{type:"submit",disabled:oe.isLoading,children:oe.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Création..."]}):a.jsxs(a.Fragment,{children:[a.jsx(MA,{className:"mr-2 h-4 w-4"}),"Créer"]})})]})]})]})}),a.jsx(E5,{open:C,onOpenChange:N,children:a.jsxs(oT,{className:"sm:max-w-[500px]",children:[a.jsxs(lT,{children:[a.jsx(uT,{children:"Modifier la catégorie"}),a.jsx(dT,{children:"Modifiez les informations de la catégorie"})]}),a.jsxs("form",{onSubmit:pe,className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"edit-name",children:"Nom *"}),a.jsx(dt,{id:"edit-name",value:k.name,onChange:Oe=>Je(Oe.target.value),placeholder:"Nom de la catégorie",required:!0})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"edit-slug",children:"Slug *"}),a.jsx(dt,{id:"edit-slug",value:k.slug,onChange:Oe=>O(mt=>({...mt,slug:Oe.target.value})),placeholder:"slug-categorie",required:!0})]})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"edit-parent_category",children:"Type parent *"}),a.jsxs(tn,{value:k.parent_category,onValueChange:Oe=>O(mt=>({...mt,parent_category:Oe})),children:[a.jsx(Xr,{children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"real_estate",children:"Immobilier"}),a.jsx(nt,{value:"automobile",children:"Automobile"}),a.jsx(nt,{value:"services",children:"Services"}),a.jsx(nt,{value:"marketplace",children:"Marketplace"})]})]})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"edit-description",children:"Description"}),a.jsx(gd,{id:"edit-description",value:k.description,onChange:Oe=>O(mt=>({...mt,description:Oe.target.value})),placeholder:"Description de la catégorie",rows:3})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"edit-icon",children:"Icône"}),a.jsx(dt,{id:"edit-icon",value:k.icon,onChange:Oe=>O(mt=>({...mt,icon:Oe.target.value})),placeholder:"🏠"})]}),a.jsxs("div",{children:[a.jsx(ft,{htmlFor:"edit-sort_order",children:"Ordre de tri"}),a.jsx(dt,{id:"edit-sort_order",type:"number",value:k.sort_order,onChange:Oe=>O(mt=>({...mt,sort_order:parseInt(Oe.target.value)||0})),placeholder:"0"})]})]}),a.jsxs(cT,{children:[a.jsx(me,{type:"button",variant:"outline",onClick:()=>N(!1),children:"Annuler"}),a.jsx(me,{type:"submit",disabled:K.isLoading,children:K.isLoading?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Mise à jour..."]}):a.jsxs(a.Fragment,{children:[a.jsx(MA,{className:"mr-2 h-4 w-4"}),"Mettre à jour"]})})]})]})]})})]})}function pVe(){const{toast:t}=dn(),[e,r]=b.useState(!1),[n,i]=b.useState(!1),{data:s,isLoading:o,error:l}=Ni({queryKey:["systemSettings"],queryFn:()=>Bn.getSystemSettings(),staleTime:5*60*1e3}),[c,u]=b.useState({});b.useEffect(()=>{s&&u(s)},[s]),b.useEffect(()=>{Object.keys(c).length>0&&r(!0)},[c]);const d=(v,y,x)=>{u(_=>({..._,[v]:{..._[v],[y]:x}}))},f=async()=>{i(!0);try{await Bn.updateSystemSettings(c),r(!1),t({title:"Succès",description:"Paramètres sauvegardés avec succès"})}catch(v){t({title:"Erreur",description:v.message||"Erreur lors de la sauvegarde",variant:"destructive"})}finally{i(!1)}},g=async()=>{try{await Bn.resetToDefaults();const v=await Bn.getSystemSettings();u(v),r(!1),t({title:"Réinitialisation",description:"Paramètres réinitialisés aux valeurs par défaut"})}catch(v){t({title:"Erreur",description:v.message||"Erreur lors de la réinitialisation",variant:"destructive"})}};return o?a.jsx("div",{className:"flex items-center justify-center min-h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):!c||Object.keys(c).length===0?a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-red-500",children:"Erreur lors du chargement des paramètres"})}):a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold",children:"Paramètres Système"}),a.jsx("p",{className:"text-gray-600",children:"Configurez votre marketplace"})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs(me,{variant:"outline",onClick:g,children:[a.jsx(Sl,{className:"mr-2 h-4 w-4"}),"Réinitialiser"]}),a.jsx(me,{onClick:f,disabled:!e||n,children:n?"Sauvegarde...":a.jsxs(a.Fragment,{children:[a.jsx(MA,{className:"mr-2 h-4 w-4"}),"Sauvegarder"]})})]})]}),e&&a.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Un,{className:"h-5 w-5 text-blue-600"}),a.jsx("span",{className:"text-blue-800 font-medium",children:"Modifications non sauvegardées"})]})}),a.jsxs(yM,{defaultValue:"general",className:"space-y-6",children:[a.jsxs(a1,{className:"grid w-full grid-cols-4",children:[a.jsx(ps,{value:"general",children:"Général"}),a.jsx(ps,{value:"appearance",children:"Apparence"}),a.jsx(ps,{value:"notifications",children:"Notifications"}),a.jsx(ps,{value:"security",children:"Sécurité"})]}),a.jsx(ms,{value:"general",children:a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsx(jr,{children:"Informations du site"})}),a.jsxs(rr,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{children:"Nom du site"}),a.jsx(dt,{value:c.general.siteName,onChange:v=>d("general","siteName",v.target.value)})]}),a.jsxs("div",{children:[a.jsx(ft,{children:"Email de contact"}),a.jsx(dt,{value:c.general.contactEmail,onChange:v=>d("general","contactEmail",v.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{children:"Fuseau horaire"}),a.jsxs(tn,{value:c.general.timezone,onValueChange:v=>d("general","timezone",v),children:[a.jsx(Xr,{children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"Africa/Dakar",children:"Dakar (GMT+0)"}),a.jsx(nt,{value:"Africa/Lagos",children:"Lagos (GMT+1)"})]})]})]}),a.jsxs("div",{children:[a.jsx(ft,{children:"Devise"}),a.jsxs(tn,{value:c.general.currency,onValueChange:v=>d("general","currency",v),children:[a.jsx(Xr,{children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"XOF",children:"XOF (Franc CFA)"}),a.jsx(nt,{value:"EUR",children:"EUR (Euro)"})]})]})]})]})]})]})}),a.jsx(ms,{value:"appearance",children:a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsx(jr,{children:"Thème et apparence"})}),a.jsx(rr,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ft,{children:"Thème"}),a.jsxs(tn,{value:c.appearance.theme,onValueChange:v=>d("appearance","theme",v),children:[a.jsx(Xr,{children:a.jsx(rn,{})}),a.jsxs(Jr,{children:[a.jsx(nt,{value:"light",children:"Clair"}),a.jsx(nt,{value:"dark",children:"Sombre"}),a.jsx(nt,{value:"auto",children:"Auto"})]})]})]}),a.jsxs("div",{children:[a.jsx(ft,{children:"Couleur principale"}),a.jsx(dt,{type:"color",value:c.appearance.primaryColor,onChange:v=>d("appearance","primaryColor",v.target.value),className:"w-full h-10"})]})]})})]})}),a.jsx(ms,{value:"notifications",children:a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsx(jr,{children:"Configuration des notifications"})}),a.jsx(rr,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ft,{children:"Notifications par email"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Envoyer des notifications par email"})]}),a.jsx(dv,{checked:c.notifications.emailNotifications,onCheckedChange:v=>d("notifications","emailNotifications",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ft,{children:"Notifications push"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Notifications push dans le navigateur"})]}),a.jsx(dv,{checked:c.notifications.pushNotifications,onCheckedChange:v=>d("notifications","pushNotifications",v)})]})]})})]})}),a.jsx(ms,{value:"security",children:a.jsxs(Jt,{children:[a.jsx(Sr,{children:a.jsx(jr,{children:"Sécurité et authentification"})}),a.jsx(rr,{className:"space-y-4",children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ft,{children:"Vérification email obligatoire"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Les utilisateurs doivent vérifier leur email"})]}),a.jsx(dv,{checked:c.security.requireEmailVerification,onCheckedChange:v=>d("security","requireEmailVerification",v)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx(ft,{children:"Activer le captcha"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Protection contre les bots"})]}),a.jsx(dv,{checked:c.security.enableCaptcha,onCheckedChange:v=>d("security","enableCaptcha",v)})]})]})})]})})]})]})}const mVe=()=>a.jsxs("div",{className:"container mx-auto px-4 py-12 flex flex-col items-center justify-center min-h-[60vh]",children:[a.jsxs(ze.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5},className:"text-center max-w-lg",children:[a.jsx("h1",{className:"text-9xl font-bold gradient-text mb-4",children:"404"}),a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Page non trouvée"}),a.jsx("p",{className:"text-muted-foreground mb-8",children:"La page que vous recherchez n'existe pas ou a été déplacée."}),a.jsx(me,{asChild:!0,size:"lg",children:a.jsxs(fr,{to:"/",children:[a.jsx(Fp,{className:"mr-2 h-4 w-4"}),"Retour à l'accueil"]})})]}),a.jsx("div",{className:"absolute top-1/3 left-1/4 w-64 h-64 bg-primary/5 rounded-full blur-3xl"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-blue-500/5 rounded-full blur-3xl"})]}),gVe=()=>{const t=[{icon:a.jsx(Mhe,{className:"h-8 w-8 text-primary"}),title:"Innovation Continue",description:"Nous repoussons constamment les limites pour offrir des solutions de pointe."},{icon:a.jsx(e1,{className:"h-8 w-8 text-primary"}),title:"Confiance & Sécurité",description:"La sécurité de vos transactions et de vos données est notre priorité absolue."},{icon:a.jsx(Oo,{className:"h-8 w-8 text-primary"}),title:"Approche Communautaire",description:"Nous construisons une plateforme pour et avec la communauté ouest-africaine."},{icon:a.jsx(iM,{className:"h-8 w-8 text-primary"}),title:"Impact Local Positif",description:"Nous visons à dynamiser l'économie locale et à créer des opportunités."}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-16",children:[a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["À Propos de ",a.jsx("span",{className:"gradient-text",children:Pr.siteName})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:[Pr.tagline,". Notre mission est de révolutionner le commerce en ligne en Afrique de l'Ouest grâce à une technologie innovante et une approche centrée sur l'utilisateur."]})]}),a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs(ze.section,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"mb-20 grid grid-cols-1 md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsxs("h2",{className:"text-3xl font-bold mb-6 flex items-center",children:[a.jsx(AA,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Histoire"]}),a.jsxs("p",{className:"text-muted-foreground mb-4",children:["Fondée avec la vision de simplifier et de sécuriser les échanges commerciaux en Afrique de l'Ouest, ",Pr.siteName," est née d'une passion pour la technologie et d'un engagement profond envers le développement économique de la région. Nous avons identifié un besoin crucial pour une plateforme unifiée, moderne et fiable, capable de connecter acheteurs et vendeurs de manière transparente."]}),a.jsxs("p",{className:"text-muted-foreground",children:["Depuis nos débuts, nous avons travaillé sans relâche pour construire une marketplace qui non seulement répond aux besoins actuels, mais anticipe également les tendances futures du commerce électronique. Notre équipe est composée d'experts locaux et internationaux, tous unis par l'objectif de faire de ",Pr.siteName," le leader incontesté du marché."]})]}),a.jsxs("div",{className:"relative aspect-square rounded-xl overflow-hidden shadow-2xl",children:[a.jsx("img",{className:"w-full h-full object-cover",alt:"Équipe MaxiMarket travaillant ensemble",src:"https://images.unsplash.com/photo-1556761175-5973dc0f32e7?q=80&w=1932&auto=format&fit=crop"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"})]})]}),a.jsx(Xv,{className:"my-20"}),a.jsxs(ze.section,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"mb-20 text-center",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-10 flex items-center justify-center",children:[a.jsx(Jhe,{className:"h-8 w-8 mr-3 text-primary"}),"Notre Mission & Vision"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Mission"}),a.jsx("p",{className:"text-muted-foreground",children:"Connecter l'Afrique de l'Ouest au futur du commerce en fournissant une plateforme marketplace innovante, sécurisée et accessible à tous. Nous nous engageons à autonomiser les individus et les entreprises en facilitant les transactions et en stimulant la croissance économique locale."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border glassmorphic-card",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary",children:"Vision"}),a.jsx("p",{className:"text-muted-foreground",children:"Devenir la marketplace de référence en Afrique, reconnue pour son excellence technologique, son impact positif sur les communautés et sa contribution à un écosystème commercial numérique florissant et inclusif pour le continent."})]})]})]}),a.jsx(Xv,{className:"my-20"}),a.jsxs(ze.section,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-center mb-12",children:"Nos Valeurs Fondamentales"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,r)=>a.jsxs(ze.div,{className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors duration-300 glassmorphic-card",whileHover:{y:-5},children:[a.jsx("div",{className:"p-4 bg-primary/10 rounded-full inline-block mb-4",children:e.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:e.title}),a.jsx("p",{className:"text-sm text-muted-foreground",children:e.description})]},r))})]}),a.jsx("div",{className:"text-center mt-16",children:a.jsxs("p",{className:"text-lg text-muted-foreground",children:["Prêt à découvrir la différence ",Pr.siteName," ? ",a.jsx("a",{href:"/",className:"text-primary font-semibold hover:underline",children:"Explorez notre plateforme dès maintenant."})]})})]})]})},vVe=()=>{const{toast:t}=dn(),[e,r]=b.useState({name:"",email:"",subject:"",message:""}),[n,i]=b.useState(!1),s=l=>{const{name:c,value:u}=l.target;r(d=>({...d,[c]:u}))},o=l=>{l.preventDefault(),i(!0),setTimeout(()=>{console.log("Form submitted:",e),t({title:"Message envoyé !",description:"Merci pour votre message. Je vous répondrai dès que possible.",duration:5e3}),r({name:"",email:"",subject:"",message:""}),i(!1)},1500)};return a.jsxs(ze.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},onSubmit:o,className:"space-y-6 gradient-border p-6 bg-card rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"name",children:"Nom"}),a.jsx(dt,{id:"name",name:"name",placeholder:"Votre nom",value:e.name,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"email",children:"Email"}),a.jsx(dt,{id:"email",name:"email",type:"email",placeholder:"votre@email.com",value:e.email,onChange:s,required:!0})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"subject",children:"Sujet"}),a.jsx(dt,{id:"subject",name:"subject",placeholder:"Sujet de votre message",value:e.subject,onChange:s,required:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ft,{htmlFor:"message",children:"Message"}),a.jsx(gd,{id:"message",name:"message",placeholder:"Votre message...",rows:6,value:e.message,onChange:s,required:!0})]}),a.jsx(me,{type:"submit",className:"w-full",disabled:n,children:n?a.jsxs("span",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Envoi en cours..."]}):a.jsxs("span",{className:"flex items-center",children:[a.jsx(qp,{className:"mr-2 h-4 w-4"}),"Envoyer le message"]})})]})},yVe=()=>{const t=[{icon:a.jsx(Lc,{className:"h-6 w-6"}),label:"Email",value:"contact@example.com",href:"mailto:contact@example.com"},{icon:a.jsx(Wa,{className:"h-6 w-6"}),label:"Téléphone",value:"+33 6 12 34 56 78",href:"tel:+33612345678"},{icon:a.jsx(vl,{className:"h-6 w-6"}),label:"Adresse",value:"Paris, France",href:"https://maps.google.com/?q=Paris,France"}],e=[{icon:a.jsx(Ahe,{className:"h-6 w-6"}),label:"GitHub",href:"https://github.com"},{icon:a.jsx($H,{className:"h-6 w-6"}),label:"Twitter",href:"https://twitter.com"},{icon:a.jsx(Ihe,{className:"h-6 w-6"}),label:"LinkedIn",href:"https://linkedin.com"}];return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Contactez ",a.jsx("span",{className:"gradient-text",children:"moi"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Vous avez un projet en tête ou une question ? N'hésitez pas à me contacter !"})]}),a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-12",children:[a.jsxs(ze.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.2},className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informations de contact"}),a.jsx("div",{className:"space-y-6",children:t.map((r,n)=>a.jsxs(ze.a,{href:r.href,target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-4 p-4 rounded-lg glass-effect hover:border-primary transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:[a.jsx("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:r.icon}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium",children:r.label}),a.jsx("p",{className:"text-muted-foreground",children:r.value})]})]},n))})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Réseaux sociaux"}),a.jsx("div",{className:"flex space-x-4",children:e.map((r,n)=>a.jsx(ze.a,{href:r.href,target:"_blank",rel:"noopener noreferrer","aria-label":r.label,className:"p-4 rounded-full bg-secondary hover:bg-primary/20 transition-colors",whileHover:{y:-5},whileTap:{scale:.95},children:r.icon},n))})]})]}),a.jsx(ze.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5,delay:.4},className:"space-y-8",children:a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Envoyez un message"}),a.jsx(vVe,{})]})})]})})]})},xVe=()=>{const t=[{title:"Développeur Frontend Senior (React)",location:"Dakar, Sénégal (Hybride)",type:"Temps Plein",link:"#"},{title:"Chef de Produit Marketplace",location:"Abidjan, Côte d'Ivoire",type:"Temps Plein",link:"#"},{title:"Spécialiste Marketing Digital",location:"Lagos, Nigéria (Remote)",type:"Temps Plein",link:"#"},{title:"Responsable Service Client Bilingue",location:"Dakar, Sénégal",type:"Temps Plein",link:"#"}];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-16",children:[a.jsx(If,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Rejoignez l'Équipe ",a.jsx("span",{className:"gradient-text",children:Pr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Façonnez l'avenir du commerce en Afrique de l'Ouest avec nous. Découvrez nos opportunités de carrière passionnantes."})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16 bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card",children:[a.jsxs("h2",{className:"text-3xl font-bold mb-8 text-center flex items-center justify-center",children:["Pourquoi travailler chez ",Pr.siteName," ?"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 text-center",children:[a.jsxs("div",{className:"p-6",children:[a.jsx(DH,{className:"h-12 w-12 text-yellow-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Impact Significatif"}),a.jsx("p",{className:"text-muted-foreground",children:"Contribuez à un projet qui transforme réellement la vie des gens et l'économie locale."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(Oo,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Culture Collaborative"}),a.jsx("p",{className:"text-muted-foreground",children:"Rejoignez une équipe passionnée, diverse et solidaire où chaque voix compte."})]}),a.jsxs("div",{className:"p-6",children:[a.jsx(If,{className:"h-12 w-12 text-green-400 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:"Croissance et Apprentissage"}),a.jsx("p",{className:"text-muted-foreground",children:"Bénéficiez d'opportunités de développement professionnel continu et relevez des défis stimulants."})]})]})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},children:[a.jsx("h2",{className:"text-3xl font-bold mb-10 text-center",children:"Postes Ouverts Actuellement"}),t.length>0?a.jsx("div",{className:"space-y-6 max-w-3xl mx-auto",children:t.map((e,r)=>a.jsxs(ze.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.4,delay:.1*r+.5},className:"bg-card p-6 rounded-lg shadow-md border border-border hover:border-primary transition-colors flex flex-col sm:flex-row justify-between items-start sm:items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-semibold text-primary",children:e.title}),a.jsxs("p",{className:"text-muted-foreground text-sm",children:[e.location," - ",e.type]})]}),a.jsx(me,{asChild:!0,className:"mt-4 sm:mt-0 bg-primary hover:bg-primary/90",children:a.jsxs("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",children:["Voir l'Offre ",a.jsx(Wv,{className:"ml-2 h-4 w-4"})]})})]},r))}):a.jsx("p",{className:"text-center text-muted-foreground text-lg",children:"Nous n'avons pas de postes ouverts pour le moment, mais nous sommes toujours à la recherche de talents exceptionnels. N'hésitez pas à nous envoyer une candidature spontanée !"}),a.jsx("div",{className:"text-center mt-12",children:a.jsx(me,{variant:"outline",size:"lg",children:"Envoyer une Candidature Spontanée"})})]})]})},bVe=()=>{const t=[{id:1,title:"MaxiMarket révolutionne le e-commerce en Afrique de l'Ouest",date:"01 Juin 2025",description:"Lancement officiel de la plateforme marketplace innovante MaxiMarket.",pdfUrl:"#"},{id:2,title:"Partenariat stratégique avec PayDunya",date:"15 Mai 2025",description:"MaxiMarket s'associe à PayDunya pour faciliter les paiements en ligne.",pdfUrl:"#"}],e={logos:[{name:"Logo Principal",format:"PNG, SVG",size:"2MB",url:"#"},{name:"Logo Monochrome",format:"PNG, SVG",size:"1.5MB",url:"#"}],photos:[{name:"Photos de l'équipe",format:"JPG",size:"5MB",url:"#"},{name:"Interface utilisateur",format:"JPG",size:"3MB",url:"#"}]},r={name:"Service Relations Presse",email:"presse@maximarket.com",phone:"+221 77 123 45 67"};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(Bhe,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Espace ",a.jsx("span",{className:"gradient-text",children:"Presse"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:["Retrouvez toutes les actualités, ressources et informations pour la presse concernant ",Pr.siteName,"."]})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"mb-16",children:[a.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center",children:[a.jsx(whe,{className:"h-6 w-6 mr-2 text-primary"}),"Derniers Communiqués de Presse"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:t.map(n=>a.jsxs(Jt,{className:"hover:border-primary transition-colors",children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:n.title}),a.jsx(ei,{children:n.date})]}),a.jsxs(rr,{children:[a.jsx("p",{className:"mb-4 text-muted-foreground",children:n.description}),a.jsx(me,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:n.pdfUrl,target:"_blank",rel:"noopener noreferrer",children:[a.jsx(To,{className:"mr-2 h-4 w-4"})," Télécharger le PDF"]})})]})]},n.id))})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8",children:"Kit Média"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Logos"}),a.jsx(ei,{children:"Téléchargez nos logos officiels"})]}),a.jsx(rr,{children:a.jsx("ul",{className:"space-y-4",children:e.logos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(me,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(To,{className:"h-4 w-4"})})})]},i))})})]}),a.jsxs(Jt,{children:[a.jsxs(Sr,{children:[a.jsx(jr,{children:"Photos"}),a.jsx(ei,{children:"Photos officielles haute résolution"})]}),a.jsx(rr,{children:a.jsx("ul",{className:"space-y-4",children:e.photos.map((n,i)=>a.jsxs("li",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:n.name}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[n.format," • ",n.size]})]}),a.jsx(me,{variant:"outline",size:"sm",asChild:!0,children:a.jsx("a",{href:n.url,download:!0,children:a.jsx(To,{className:"h-4 w-4"})})})]},i))})})]})]})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"text-center bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Contact Presse"}),a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("p",{className:"font-medium text-lg mb-2",children:r.name}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"Pour toute demande d'interview ou d'information complémentaire"}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(me,{variant:"outline",className:"w-full",asChild:!0,children:a.jsxs("a",{href:`mailto:${r.email}`,children:[a.jsx(Wv,{className:"mr-2 h-4 w-4"}),r.email]})}),a.jsxs(me,{variant:"outline",className:"w-full",children:[a.jsx(Wv,{className:"mr-2 h-4 w-4"}),r.phone]})]})]})]})]})},wVe=()=>{const[t,e]=b.useState(""),r=[{title:"Comment publier une annonce ?",link:"/faq#publier-annonce"},{title:"Sécuriser mon compte",link:"/faq#securite-compte"},{title:"Problèmes de paiement",link:"/faq#paiement"},{title:"Contacter un vendeur/acheteur",link:"/faq#contacter-utilisateur"},{title:"Signaler un problème",link:"/faq#signaler-probleme"}],n=[{name:"Comptes et Profils",icon:a.jsx(Oo,{className:"h-8 w-8 text-primary"}),description:"Gestion de votre compte, paramètres et notifications."},{name:"Acheter sur MaxiMarket",icon:a.jsx(Ghe,{className:"h-8 w-8 text-primary"}),description:"Recherche, achat, paiements et livraisons."},{name:"Vendre sur MaxiMarket",icon:a.jsx(Xf,{className:"h-8 w-8 text-primary"}),description:"Création d'annonces, gestion des ventes, boosters."},{name:"Sécurité et Confiance",icon:a.jsx(e1,{className:"h-8 w-8 text-primary"}),description:"Protéger votre compte, éviter les fraudes."}],i=s=>{s.preventDefault(),console.log("Searching for:",t)};return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(rM,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Centre d'Aide ",a.jsx("span",{className:"gradient-text",children:Pr.siteName})]}),a.jsx("p",{className:"text-xl text-muted-foreground",children:"Comment pouvons-nous vous aider aujourd'hui ?"})]}),a.jsxs(ze.form,{onSubmit:i,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"max-w-2xl mx-auto mb-16 relative",children:[a.jsx(dt,{type:"search",placeholder:"Rechercher des articles d'aide (ex: mot de passe oublié)",className:"w-full h-14 pl-12 pr-4 text-lg rounded-full shadow-lg",value:t,onChange:s=>e(s.target.value)}),a.jsx(ki,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-6 w-6 text-muted-foreground"}),a.jsx(me,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-10 rounded-full",children:"Rechercher"})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sujets Populaires"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map((s,o)=>a.jsxs(fr,{to:s.link,className:"block bg-card p-6 rounded-lg shadow-md hover:shadow-lg hover:border-primary border border-transparent transition-all duration-300 transform hover:-translate-y-1 glassmorphic-card",children:[a.jsxs("h3",{className:"text-lg font-semibold text-primary mb-2 flex items-center",children:[s.title," ",a.jsx(jc,{className:"ml-auto h-4 w-4 opacity-50 group-hover:opacity-100"})]}),a.jsx("p",{className:"text-sm text-muted-foreground",children:"Consultez notre FAQ pour une réponse rapide."})]},o))})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mb-16",children:[a.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:"Parcourir par Catégorie"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map((s,o)=>a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:o*.1+.7},className:"bg-card p-6 rounded-xl shadow-lg text-center border border-border hover:border-primary transition-colors glassmorphic-card",children:[a.jsx("div",{className:"p-3 bg-primary/10 rounded-full inline-block mb-4",children:s.icon}),a.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.name}),a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:s.description}),a.jsx(me,{variant:"outline",asChild:!0,children:a.jsx(fr,{to:`/faq#cat-${s.name.toLowerCase().replace(/\s+/g,"-")}`,children:"Explorer"})})]},o))})]}),a.jsxs(ze.section,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.8},className:"text-center bg-card p-8 md:p-12 rounded-xl shadow-xl glassmorphic-card border border-border",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Vous ne trouvez pas ce que vous cherchez ?"}),a.jsx("p",{className:"text-muted-foreground mb-6 max-w-xl mx-auto",children:"Notre équipe d'assistance est là pour vous aider. Contactez-nous directement ou consultez notre FAQ complète."}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[a.jsx(me,{size:"lg",asChild:!0,className:"bg-primary hover:bg-primary/90",children:a.jsxs(fr,{to:"/contactez-nous",children:[a.jsx(Pi,{className:"mr-2 h-5 w-5"})," Contacter le Support"]})}),a.jsx(me,{size:"lg",variant:"outline",asChild:!0,children:a.jsxs(fr,{to:"/faq",children:[a.jsx(She,{className:"mr-2 h-5 w-5"})," Consulter la FAQ"]})})]})]})]})},_Ve=()=>{const t=Pr.siteName,e=[{id:"general-1",category:"Général",question:`Qu'est-ce que ${t} ?`,answer:`${t} est une plateforme marketplace innovante conçue pour l'Afrique de l'Ouest, facilitant l'achat et la vente de biens immobiliers, véhicules, services professionnels et divers autres produits. Notre objectif est de simplifier le commerce en ligne et de le rendre plus sûr et accessible.`},{id:"compte-1",category:"Compte Utilisateur",question:`Comment créer un compte sur ${t} ?`,answer:"Pour créer un compte, cliquez sur le bouton 'Connexion / Inscription' en haut à droite de la page. Vous pourrez alors vous inscrire en utilisant votre adresse e-mail ou via des services tiers comme Google ou Facebook (si activé). Suivez simplement les instructions à l'écran."},{id:"compte-2",category:"Compte Utilisateur",question:"J'ai oublié mon mot de passe, que faire ?",answer:"Si vous avez oublié votre mot de passe, cliquez sur le lien 'Mot de passe oublié ?' sur la page de connexion. Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe."},{id:"publier-annonce",category:`Vendre sur ${t}`,question:"Comment publier une annonce ?",answer:"Une fois connecté, accédez à votre tableau de bord et cherchez le bouton 'Publier une annonce' ou 'Nouvelle annonce'. Choisissez la catégorie appropriée, remplissez tous les champs requis (titre, description, prix, photos, etc.) et soumettez votre annonce. Elle sera examinée par notre équipe avant d'être publiée."},{id:"paiement",category:"Paiements et Transactions",question:"Quels sont les moyens de paiement acceptés ?",answer:"Nous acceptons plusieurs moyens de paiement, y compris les cartes bancaires (Visa, Mastercard), les paiements mobiles (Orange Money, Wave, etc. selon disponibilité régionale), PayPal et PayDunya. Les options exactes peuvent varier en fonction de votre pays."},{id:"securite-compte",category:"Sécurité",question:"Comment puis-je sécuriser mon compte ?",answer:"Pour sécuriser votre compte, utilisez un mot de passe fort et unique. Activez l'authentification à deux facteurs (2FA) si disponible dans vos paramètres de compte. Méfiez-vous des e-mails de phishing et ne partagez jamais vos identifiants."},{id:"contacter-utilisateur",category:"Interaction",question:"Comment contacter un vendeur ou un acheteur ?",answer:"Sur la page d'une annonce, vous trouverez généralement un bouton ou un lien pour contacter le vendeur (par exemple, 'Contacter le vendeur', 'Envoyer un message'). Utilisez notre système de messagerie intégré pour communiquer en toute sécurité. Les coordonnées directes ne sont partagées qu'avec le consentement des deux parties."},{id:"signaler-probleme",category:"Support et Litiges",question:"Comment signaler un problème ou une annonce suspecte ?",answer:"Si vous rencontrez un problème ou si une annonce vous semble suspecte, vous pouvez la signaler en utilisant le lien 'Signaler cette annonce' présent sur la page de l'annonce. Pour d'autres problèmes, contactez notre support client via le Centre d'Aide."}],r=[...new Set(e.map(n=>n.category))];return a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(rM,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 text-foreground",children:["Questions Fréquemment Posées ",a.jsx("span",{className:"gradient-text",children:"(FAQ)"})]}),a.jsxs("p",{className:"text-xl text-muted-foreground",children:["Trouvez des réponses rapides à vos questions sur ",t,"."]})]}),r.map((n,i)=>a.jsxs(ze.section,{id:`cat-${n.toLowerCase().replace(/\s+/g,"-")}`,initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1*i},className:"mb-12 max-w-3xl mx-auto",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 border-l-4 border-primary pl-4 text-foreground",children:n}),a.jsx(qSe,{type:"single",collapsible:!0,className:"w-full space-y-3",children:e.filter(s=>s.category===n).map(s=>a.jsxs(AY,{value:s.id,className:"bg-card border border-border rounded-lg shadow-sm hover:border-primary/50 transition-colors",children:[a.jsx(TY,{className:"p-6 text-left font-semibold hover:no-underline text-foreground",children:s.question}),a.jsx(OY,{className:"p-6 pt-0 text-muted-foreground",children:s.answer})]},s.id))})]},n)),a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2+.1*r.length},className:"text-center mt-16",children:[a.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Vous n'avez pas trouvé de réponse ?"}),a.jsx(me,{asChild:!0,size:"lg",className:"bg-gradient-to-r from-primary to-accent text-primary-foreground hover:opacity-90 transition-opacity",children:a.jsx(fr,{to:"/contactez-nous",children:"Contactez notre support"})})]})]})},SVe=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(e1,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Politique de ",a.jsx("span",{className:"gradient-text",children:"Confidentialité"})]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg mb-6",children:["Bienvenue sur ",Pr.siteName,". Nous nous engageons à protéger la confidentialité de vos informations personnelles. Cette politique de confidentialité explique comment nous collectons, utilisons, divulguons et protégeons vos informations lorsque vous visitez notre site web et utilisez nos services."]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"1. Informations que nous collectons"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons collecter des informations personnelles vous concernant de différentes manières, notamment :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Informations fournies directement par vous :"})," Lorsque vous créez un compte, publiez une annonce, effectuez une transaction, communiquez avec nous ou d'autres utilisateurs (nom, adresse e-mail, numéro de téléphone, informations de paiement, etc.)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations collectées automatiquement :"})," Lorsque vous utilisez notre site, nous pouvons collecter des informations sur votre appareil, votre activité de navigation, votre adresse IP, votre localisation (si autorisée), les cookies et autres technologies de suivi."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Informations provenant de tiers :"})," Nous pouvons recevoir des informations vous concernant de la part de services tiers, tels que les fournisseurs de services de paiement ou les plateformes de médias sociaux si vous choisissez de lier votre compte."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"2. Utilisation de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous utilisons les informations que nous collectons pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Fournir, exploiter et améliorer nos services."}),a.jsx("li",{children:"Traiter vos transactions et gérer votre compte."}),a.jsx("li",{children:"Personnaliser votre expérience sur notre plateforme."}),a.jsx("li",{children:"Communiquer avec vous, y compris pour le service client et les mises à jour."}),a.jsx("li",{children:"Assurer la sécurité de notre plateforme et prévenir la fraude."}),a.jsx("li",{children:"Analyser l'utilisation de notre site et améliorer nos offres."}),a.jsx("li",{children:"Respecter nos obligations légales."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"3. Partage de vos informations"]}),a.jsx("p",{className:"mb-4",children:"Nous pouvons partager vos informations personnelles dans les circonstances suivantes :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsxs("li",{children:[a.jsx("strong",{children:"Avec d'autres utilisateurs :"})," Pour faciliter les transactions et les communications (par exemple, partager votre nom d'utilisateur ou les informations de contact nécessaires pour une transaction)."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Avec des fournisseurs de services tiers :"})," Qui nous aident à exploiter notre plateforme (hébergement, traitement des paiements, analyse de données, marketing, etc.). Ces fournisseurs sont contractuellement tenus de protéger vos informations."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"Pour des raisons légales :"})," Si la loi l'exige, ou pour répondre à une procédure légale valide, protéger nos droits, notre propriété ou notre sécurité, ou ceux de nos utilisateurs ou du public."]}),a.jsxs("li",{children:[a.jsx("strong",{children:"En cas de transfert d'entreprise :"})," En cas de fusion, acquisition, réorganisation ou vente d'actifs, vos informations peuvent être transférées."]})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"4. Vos droits et choix"]}),a.jsx("p",{className:"mb-4",children:"Selon votre juridiction, vous pouvez avoir certains droits concernant vos informations personnelles, tels que :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Le droit d'accéder à vos informations."}),a.jsx("li",{children:"Le droit de corriger ou de mettre à jour vos informations."}),a.jsx("li",{children:"Le droit de supprimer vos informations."}),a.jsx("li",{children:"Le droit de vous opposer ou de restreindre certains traitements."}),a.jsx("li",{children:"Le droit à la portabilité des données."})]}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Vous pouvez généralement gérer les informations de votre compte et vos préférences de communication via les paramètres de votre compte. Pour exercer d'autres droits, veuillez nous contacter."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"5. Sécurité des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous mettons en œuvre des mesures de sécurité techniques et organisationnelles raisonnables pour protéger vos informations personnelles contre l'accès non autorisé, la divulgation, l'altération ou la destruction. Cependant, aucune méthode de transmission sur Internet ou de stockage électronique n'est totalement sécurisée."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"6. Conservation des données"]}),a.jsx("p",{className:"text-muted-foreground",children:"Nous conservons vos informations personnelles aussi longtemps que nécessaire pour atteindre les objectifs décrits dans cette politique de confidentialité, sauf si une période de conservation plus longue est requise ou autorisée par la loi."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"7. Transferts internationaux"]}),a.jsx("p",{className:"text-muted-foreground",children:"Vos informations peuvent être transférées et traitées dans des pays autres que votre pays de résidence, où les lois sur la protection des données peuvent différer. Nous prendrons des mesures appropriées pour garantir que vos informations personnelles restent protégées conformément à cette politique."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"8. Modifications de cette politique"]}),a.jsx("p",{className:"text-muted-foreground",children:'Nous pouvons mettre à jour cette politique de confidentialité de temps à autre. Nous vous informerons de tout changement important en publiant la nouvelle politique sur notre site et en mettant à jour la date de "Dernière mise à jour".'})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"9. Nous contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions ou des préoccupations concernant cette politique de confidentialité ou nos pratiques en matière de données, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:privacy@${Pr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["privacy@",Pr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),jVe=()=>a.jsxs("div",{className:"container mx-auto px-4 py-16",children:[a.jsxs(ze.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-12",children:[a.jsx(vn,{className:"h-16 w-16 text-primary mx-auto mb-6"}),a.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:["Termes et ",a.jsx("span",{className:"gradient-text",children:"Conditions"})," d'Utilisation"]}),a.jsx("p",{className:"text-lg text-muted-foreground",children:"Dernière mise à jour : 02 Juin 2025"})]}),a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"max-w-3xl mx-auto space-y-8",children:[a.jsx("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:a.jsxs("p",{className:"text-lg",children:[`Veuillez lire attentivement ces Termes et Conditions ("Termes") avant d'utiliser le site web `,Pr.siteName,' (le "Service") exploité par ',Pr.siteName,` ("nous", "notre", ou "nos"). Votre accès et votre utilisation du Service sont conditionnés par votre acceptation et votre respect de ces Termes. Ces Termes s'appliquent à tous les visiteurs, utilisateurs et autres personnes qui accèdent ou utilisent le Service.`]})}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(Jf,{className:"mr-2 h-6 w-6 text-primary"}),"1. Acceptation des Termes"]}),a.jsx("p",{className:"text-muted-foreground",children:"En accédant ou en utilisant le Service, vous acceptez d'être lié par ces Termes. Si vous n'êtes pas d'accord avec une partie des termes, vous ne pouvez pas accéder au Service."})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"2. Comptes"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Lorsque vous créez un compte chez nous, vous devez nous fournir des informations exactes, complètes et à jour à tout moment. Le non-respect de cette obligation constitue une violation des Termes, ce qui peut entraîner la résiliation immédiate de votre compte sur notre Service."}),a.jsx("p",{children:"Vous êtes responsable de la protection du mot de passe que vous utilisez pour accéder au Service et de toutes les activités ou actions effectuées sous votre mot de passe, que votre mot de passe soit avec notre Service ou un service tiers."}),a.jsx("p",{children:"Vous acceptez de ne pas divulguer votre mot de passe à un tiers. Vous devez nous informer immédiatement dès que vous prenez connaissance d'une violation de la sécurité ou d'une utilisation non autorisée de votre compte."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"3. Contenu Utilisateur"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:'Notre Service vous permet de publier, lier, stocker, partager et autrement rendre disponible certaines informations, textes, graphiques, vidéos ou autres supports ("Contenu Utilisateur"). Vous êtes responsable du Contenu Utilisateur que vous publiez sur ou via le Service, y compris sa légalité, sa fiabilité et sa pertinence.'}),a.jsx("p",{children:"En publiant du Contenu Utilisateur sur ou via le Service, vous déclarez et garantissez que : (i) le Contenu Utilisateur vous appartient (vous en êtes propriétaire) et/ou vous avez le droit de l'utiliser et le droit de nous accorder les droits et la licence prévus dans ces Termes, et (ii) la publication de votre Contenu Utilisateur sur ou via le Service ne viole pas les droits à la vie privée, les droits de publicité, les droits d'auteur, les droits contractuels ou tout autre droit de toute personne ou entité."}),a.jsx("p",{children:"Vous conservez tous vos droits sur tout Contenu Utilisateur que vous soumettez, publiez ou affichez sur ou via le Service et vous êtes responsable de la protection de ces droits. Nous n'assumons aucune responsabilité et n'engageons aucune responsabilité pour le Contenu Utilisateur que vous ou un tiers publiez sur ou via le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"4. Utilisation Acceptable"]}),a.jsx("p",{className:"mb-4",children:"Vous acceptez de ne pas utiliser le Service pour :"}),a.jsxs("ul",{className:"space-y-2 text-muted-foreground",children:[a.jsx("li",{children:"Publier du contenu illégal, nuisible, menaçant, abusif, harcelant, diffamatoire, vulgaire, obscène, haineux ou autrement répréhensible."}),a.jsx("li",{children:"Usurper l'identité d'une personne ou d'une entité, ou déclarer faussement ou déformer autrement votre affiliation avec une personne ou une entité."}),a.jsx("li",{children:"Télécharger, publier ou transmettre de quelque manière que ce soit tout contenu que vous n'avez pas le droit de transmettre en vertu d'une loi ou de relations contractuelles ou fiduciaires."}),a.jsx("li",{children:"Violer toute loi locale, étatique, nationale ou internationale applicable."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"5. Propriété Intellectuelle"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Le Service et son contenu original (à l'exclusion du Contenu Utilisateur), ses caractéristiques et fonctionnalités sont et resteront la propriété exclusive de ",Pr.siteName," et de ses concédants de licence. Le Service est protégé par le droit d'auteur, les marques commerciales et d'autres lois. Nos marques et habillages commerciaux ne peuvent être utilisés en relation avec un produit ou service sans le consentement écrit préalable de ",Pr.siteName,"."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"6. Liens Vers D'autres Sites Web"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsxs("p",{children:["Notre Service peut contenir des liens vers des sites web ou des services tiers qui ne sont pas détenus ou contrôlés par ",Pr.siteName,"."]}),a.jsxs("p",{children:[Pr.siteName," n'a aucun contrôle sur, et n'assume aucune responsabilité pour, le contenu, les politiques de confidentialité ou les pratiques de tout site web ou service tiers. Vous reconnaissez et acceptez en outre que ",Pr.siteName," ne sera pas responsable, directement ou indirectement, de tout dommage ou perte causé ou présumé avoir été causé par ou en relation avec l'utilisation ou la confiance accordée à un tel contenu, biens ou services disponibles sur ou via de tels sites web ou services."]}),a.jsx("p",{children:"Nous vous conseillons vivement de lire les termes et conditions et les politiques de confidentialité de tout site web ou service tiers que vous visitez."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"7. Résiliation"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous pouvons résilier ou suspendre votre compte et interdire l'accès au Service immédiatement, sans préavis ni responsabilité, à notre seule discrétion, pour quelque raison que ce soit et sans limitation, y compris mais sans s'y limiter, une violation des Termes."}),a.jsx("p",{children:"Si vous souhaitez résilier votre compte, vous pouvez simplement cesser d'utiliser le Service."}),a.jsx("p",{children:"Toutes les dispositions des Termes qui, de par leur nature, devraient survivre à la résiliation survivront à la résiliation, y compris, sans limitation, les dispositions relatives à la propriété, les exclusions de garantie, l'indemnisation et les limitations de responsabilité."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"8. Limitation de Responsabilité"]}),a.jsxs("p",{className:"text-muted-foreground",children:["En aucun cas ",Pr.siteName,", ni ses administrateurs, employés, partenaires, agents, fournisseurs ou affiliés, ne pourront être tenus responsables de tout dommage indirect, accessoire, spécial, consécutif ou punitif, y compris, sans limitation, la perte de profits, de données, d'utilisation, de clientèle ou d'autres pertes immatérielles, résultant de votre accès ou votre utilisation ou votre incapacité à accéder ou à utiliser le Service."]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"9. Droit Applicable"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Ces Termes seront régis et interprétés conformément aux lois du Sénégal, sans égard à ses dispositions relatives aux conflits de lois."}),a.jsx("p",{children:"Notre manquement à faire respecter un droit ou une disposition de ces Termes ne sera pas considéré comme une renonciation à ces droits. Si une disposition de ces Termes est jugée invalide ou inapplicable par un tribunal, les autres dispositions de ces Termes resteront en vigueur. Ces Termes constituent l'intégralité de l'accord entre nous concernant notre Service, et remplacent et annulent tous les accords antérieurs que nous pourrions avoir entre nous concernant le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"10. Modifications"]}),a.jsxs("div",{className:"space-y-4 text-muted-foreground",children:[a.jsx("p",{children:"Nous nous réservons le droit, à notre seule discrétion, de modifier ou de remplacer ces Termes à tout moment. Si une révision est importante, nous nous efforcerons de fournir un préavis d'au moins 30 jours avant l'entrée en vigueur des nouveaux termes. Ce qui constitue un changement important sera déterminé à notre seule discrétion."}),a.jsx("p",{children:"En continuant à accéder ou à utiliser notre Service après l'entrée en vigueur de ces révisions, vous acceptez d'être lié par les termes révisés. Si vous n'acceptez pas les nouveaux termes, veuillez cesser d'utiliser le Service."})]})]}),a.jsxs("div",{className:"bg-card p-8 rounded-xl shadow-lg border border-border",children:[a.jsxs("h2",{className:"flex items-center text-2xl font-bold mb-4",children:[a.jsx(vn,{className:"mr-2 h-6 w-6 text-primary"}),"11. Nous Contacter"]}),a.jsxs("p",{className:"text-muted-foreground",children:["Si vous avez des questions concernant ces Termes, veuillez nous contacter à ",a.jsxs("a",{href:`mailto:legal@${Pr.siteName.toLowerCase()}.com`,className:"text-primary hover:underline",children:["legal@",Pr.siteName.toLowerCase(),".com"]}),"."]})]})]})]}),CVe=({post:t,index:e,featured:r=!1})=>{const n=new Date(t.publishedAt),i=YH(n,{addSuffix:!0,locale:Hm});return a.jsx(ze.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3,delay:e*.1},className:Ye("group overflow-hidden rounded-lg border border-border bg-card transition-all duration-300 card-hover",r?"col-span-full md:col-span-2 md:row-span-2":"md:col-span-1"),children:a.jsxs(fr,{to:`/blog/${t.slug||t.id}`,className:"block h-full",children:[a.jsxs("div",{className:"relative aspect-video overflow-hidden",children:[a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${t.title}`,src:"https://images.unsplash.com/photo-1578811344633-3376eab0f8ce"}),a.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-70"}),r&&a.jsx("div",{className:"absolute top-4 left-4",children:a.jsx(Et,{variant:"default",className:"bg-primary/90 backdrop-blur-sm",children:"À la une"})}),a.jsxs("div",{className:"absolute bottom-4 left-4 right-4",children:[t.tags&&t.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:t.tags.slice(0,r?3:2).map((s,o)=>a.jsx(Et,{variant:"secondary",className:"bg-secondary/50 backdrop-blur-sm",children:s},o))}),r&&a.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white mb-2 line-clamp-2",children:t.title})]})]}),a.jsxs("div",{className:"p-5",children:[!r&&a.jsx("h2",{className:"text-lg font-bold mb-2 line-clamp-2 group-hover:text-primary transition-colors",children:t.title}),a.jsx("p",{className:"text-muted-foreground line-clamp-2 mb-4",children:t.excerpt}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Hc,{className:"h-3 w-3 mr-1"}),i]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(qs,{className:"h-3 w-3 mr-1"}),t.readingTime]})]}),t.category&&a.jsxs("span",{className:"flex items-center",children:[a.jsx(Xf,{className:"h-3 w-3 mr-1"}),t.category]})]})]})]})})},NVe=[{id:"maximarket-welcome-post",title:"Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !",slug:"bienvenue-sur-maximarket-marketplace-futuriste",excerpt:"Découvrez MaxiMarket, la plateforme innovante qui révolutionne le commerce en Afrique de l'Ouest. Immobilier, automobile, services et plus encore !",content:`
# Bienvenue sur MaxiMarket : Votre Nouvelle Marketplace Futuriste !

Nous sommes ravis de vous accueillir sur **MaxiMarket**, la destination incontournable pour toutes vos transactions en Afrique de l'Ouest. Que vous cherchiez à acheter, vendre ou louer, MaxiMarket vous offre une expérience utilisateur unique, moderne et sécurisée.

## Ce que MaxiMarket vous propose :

### 1. Immobilier de Pointe
Trouvez l'appartement de vos rêves, la maison idéale pour votre famille, un terrain pour construire votre avenir ou le local commercial parfait pour votre entreprise. Avec nos filtres avancés, nos visites virtuelles à 360° et nos outils d'estimation IA, la recherche immobilière n'a jamais été aussi simple et efficace.

### 2. Automobile Simplifié
Parcourez notre vaste sélection de voitures, motos et véhicules utilitaires, neufs ou d'occasion. Bénéficiez d'historiques de véhicules transparents, d'inspections virtuelles et de calculateurs de financement intégrés pour prendre des décisions éclairées.

### 3. Services Professionnels à portée de clic
Besoin d'un expert en BTP, d'un technicien qualifié, d'une aide domestique ou d'un professionnel de la santé ? MaxiMarket vous met en relation avec des prestataires vérifiés. Prenez rendez-vous en ligne, consultez les portfolios et suivez l'avancement de vos projets en toute sérénité.

### 4. Une Marketplace Générale Riche et Variée
Explorez un univers de produits allant de l'électronique dernier cri à la mode tendance, en passant par les articles pour la maison, les équipements sportifs et l'artisanat local authentique. MaxiMarket est votre guichet unique pour tous vos besoins.

## Une Expérience Utilisateur Inégalée

Chez MaxiMarket, nous avons mis l'accent sur un design futuriste et des fonctionnalités innovantes :
- **Thème adaptatif sombre/clair** et effets visuels saisissants comme le glassmorphism.
- **Recherche vocale** et **contrôles gestuels** sur mobile pour une navigation intuitive.
- **Tableaux de bord personnalisés** avec analyses détaillées pour les vendeurs.
- **Intelligence Artificielle** intégrée pour des recommandations personnalisées, des estimations de prix et une modération intelligente.

## Rejoignez la Révolution MaxiMarket !

Nous sommes plus qu'une simple marketplace. Nous sommes une communauté qui construit l'avenir du commerce en Afrique de l'Ouest. Créez votre compte dès aujourd'hui, publiez vos annonces ou trouvez exactement ce que vous cherchez.

L'équipe MaxiMarket.
    `,coverImage:"maximarket-marketplace-skyline-futuristic",author:{name:"L'équipe MaxiMarket",avatar:"maximarket-logo-avatar"},category:"Annonces MaxiMarket",tags:["MaxiMarket","Marketplace","Afrique de l'Ouest","Innovation","Immobilier","Automobile","Services"],publishedAt:"2025-06-02T10:00:00Z",readingTime:"4 min"},{id:"1",title:"Comment j'ai créé une application React performante",slug:"comment-jai-cree-une-application-react-performante",excerpt:"Découvrez les techniques que j'ai utilisées pour optimiser les performances de mon application React.",content:`
# Comment j'ai créé une application React performante

React est une bibliothèque JavaScript populaire pour créer des interfaces utilisateur interactives. Cependant, à mesure que les applications grandissent, les performances peuvent devenir un problème. Dans cet article, je vais partager les techniques que j'ai utilisées pour optimiser les performances de mon application React.

## 1. Utilisation de React.memo et useMemo

L'un des premiers problèmes que j'ai rencontrés était des rendus inutiles de composants. Pour résoudre ce problème, j'ai utilisé React.memo pour mémoriser les composants et useMemo pour mémoriser les valeurs calculées.

\`\`\`jsx
const ExpensiveComponent = React.memo(({ data }) => {
  // Rendu du composant
});

function App() {
  const expensiveCalculation = useMemo(() => {
    return performExpensiveCalculation(data);
  }, [data]);
  
  return <div>{expensiveCalculation}</div>;
}
\`\`\`

## 2. Optimisation des listes avec useCallback

Pour les listes, j'ai utilisé useCallback pour éviter de recréer des fonctions à chaque rendu.

\`\`\`jsx
function TodoList({ todos }) {
  const handleDelete = useCallback((id) => {
    // Logique de suppression
  }, []);
  
  return (
    <ul>
      {todos.map(todo => (
        <TodoItem 
          key={todo.id} 
          todo={todo} 
          onDelete={handleDelete} 
        />
      ))}
    </ul>
  );
}
\`\`\`

## 3. Lazy Loading des composants

J'ai utilisé le lazy loading pour charger les composants uniquement lorsqu'ils sont nécessaires.

\`\`\`jsx
const LazyComponent = React.lazy(() => import('./LazyComponent'));

function App() {
  return (
    <React.Suspense fallback={<div>Loading...</div>}>
      <LazyComponent />
    </React.Suspense>
  );
}
\`\`\`

## 4. Utilisation de la virtualisation pour les grandes listes

Pour les listes contenant de nombreux éléments, j'ai utilisé la virtualisation pour ne rendre que les éléments visibles à l'écran.

## Conclusion

L'optimisation des performances est un aspect crucial du développement d'applications React. En utilisant ces techniques, j'ai pu améliorer considérablement les performances de mon application.
    `,coverImage:"react-performance",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"React",tags:["React","Performance","JavaScript","Optimisation"],publishedAt:"2023-09-15T10:00:00Z",readingTime:"8 min"},{id:"2",title:"Les meilleures pratiques pour l'architecture de vos projets React",slug:"meilleures-pratiques-architecture-projets-react",excerpt:"Une architecture bien pensée est essentielle pour maintenir des projets React à long terme. Voici mes conseils.",content:`
# Les meilleures pratiques pour l'architecture de vos projets React

Une bonne architecture est la clé pour maintenir des projets React à long terme. Dans cet article, je partage mes meilleures pratiques pour structurer vos projets React.

## 1. Organisation des dossiers

J'ai trouvé qu'une structure de dossiers claire aide énormément à naviguer dans le code. Voici comment j'organise généralement mes projets:

\`\`\`
src/
  ├── components/
  │   ├── common/
  │   ├── layout/
  │   └── features/
  ├── hooks/
  ├── context/
  ├── utils/
  ├── services/
  ├── pages/
  └── assets/
\`\`\`

## 2. Séparation des préoccupations

Il est important de séparer la logique métier de la présentation. J'utilise des hooks personnalisés pour encapsuler la logique et des composants pour la présentation.

## 3. Utilisation des patterns React modernes

J'ai adopté des patterns comme le Compound Component et le Render Props pour créer des composants flexibles et réutilisables.

## 4. Tests unitaires et d'intégration

Les tests sont essentiels pour maintenir la qualité du code. J'utilise Jest et React Testing Library pour tester mes composants.

## Conclusion

Une bonne architecture est un investissement qui paie sur le long terme. En suivant ces pratiques, vous pourrez maintenir et faire évoluer vos projets React plus facilement.
    `,coverImage:"react-architecture",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"Architecture",tags:["React","Architecture","Bonnes pratiques","Structure de projet"],publishedAt:"2023-08-22T14:30:00Z",readingTime:"6 min"},{id:"3",title:"Comment j'ai intégré TailwindCSS dans mon workflow",slug:"comment-jai-integre-tailwindcss-dans-mon-workflow",excerpt:"TailwindCSS a révolutionné ma façon de styliser mes applications. Voici comment je l'ai intégré dans mon workflow.",content:`
# Comment j'ai intégré TailwindCSS dans mon workflow

TailwindCSS est un framework CSS utilitaire qui a changé ma façon de styliser mes applications. Dans cet article, je vais vous montrer comment je l'ai intégré dans mon workflow et les avantages que j'en ai tirés.

## 1. Installation et configuration

L'installation de TailwindCSS est simple avec npm ou yarn:

\`\`\`bash
npm install -D tailwindcss postcss autoprefixer
npx tailwindcss init -p
\`\`\`

## 2. Personnalisation du thème

J'ai personnalisé le thème pour correspondre à l'identité visuelle de mon projet:

\`\`\`js
// tailwind.config.js
module.exports = {
  theme: {
    extend: {
      colors: {
        primary: '#3490dc',
        secondary: '#ffed4a',
        danger: '#e3342f',
      },
    },
  },
  // ...
}
\`\`\`

## 3. Création de composants réutilisables

J'ai créé des composants réutilisables avec TailwindCSS:

\`\`\`jsx
function Button({ children, variant = 'primary' }) {
  const baseClasses = 'px-4 py-2 rounded font-bold';
  const variantClasses = {
    primary: 'bg-primary text-white',
    secondary: 'bg-secondary text-gray-800',
    danger: 'bg-danger text-white',
  };
  
  return (
    <button className={\`\${baseClasses} \${variantClasses[variant]}\`}>
      {children}
    </button>
  );
}
\`\`\`

## 4. Optimisation pour la production

Pour la production, j'ai utilisé PurgeCSS pour éliminer les classes non utilisées:

\`\`\`js
// tailwind.config.js
module.exports = {
  purge: ['./src/**/*.{js,jsx,ts,tsx}', './public/index.html'],
  // ...
}
\`\`\`

## Conclusion

TailwindCSS a considérablement amélioré ma productivité en me permettant de styliser rapidement mes applications sans quitter mon HTML/JSX. Si vous n'avez pas encore essayé, je vous encourage vivement à le faire!
    `,coverImage:"tailwindcss-workflow",author:{name:"Développeur MaxiMarket",avatar:"maximarket-dev-avatar"},category:"CSS",tags:["TailwindCSS","CSS","Workflow","Design"],publishedAt:"2023-07-10T09:15:00Z",readingTime:"5 min"}],EVe=t=>{const r=t.split(/\s+/).length;return Math.ceil(r/200)},PVe=t=>t.toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"");let Rx=localStorage.getItem("blogPosts")?JSON.parse(localStorage.getItem("blogPosts")):NVe.map(t=>({...t,readingTime:`${EVe(t.content)} min`,author:t.author||{name:"MaxiMarket Admin",avatar:"maximarket-admin-avatar"},slug:t.slug||PVe(t.title),id:t.id||vve(),publishedAt:t.publishedAt||new Date().toISOString()}));const kVe=()=>[...Rx].sort((t,e)=>new Date(e.publishedAt)-new Date(t.publishedAt)),AVe=t=>Rx.find(e=>e.id===t||e.slug===t),TVe=t=>t?Rx.filter(e=>e.id!==t.id&&(e.category===t.category||e.tags&&t.tags&&e.tags.some(r=>t.tags.includes(r)))).sort((e,r)=>new Date(r.publishedAt)-new Date(e.publishedAt)).slice(0,3):[],OVe=()=>[...new Set(Rx.map(t=>t.category).filter(Boolean))],RVe=()=>{const t=Rx.flatMap(e=>e.tags||[]);return[...new Set(t.filter(Boolean))]},MVe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[i,s]=b.useState(""),[o,l]=b.useState([]),[c,u]=b.useState([]),[d,f]=b.useState([]),[g,v]=b.useState([]);b.useEffect(()=>{const S=kVe();l(S),u(S),f(OVe()),v(RVe())},[]),b.useEffect(()=>{let S=[...o];if(t){const C=t.toLowerCase();S=S.filter(N=>N.title.toLowerCase().includes(C)||N.excerpt.toLowerCase().includes(C)||N.content.toLowerCase().includes(C))}r&&(S=S.filter(C=>C.category===r)),i&&(S=S.filter(C=>C.tags.includes(i))),u(S)},[t,r,i,o]);const y=S=>{n(C=>C===S?"":S)},x=S=>{s(C=>C===S?"":S)},_=()=>{e(""),n(""),s("")};return a.jsxs("div",{className:"container mx-auto px-4 py-12",children:[a.jsxs(ze.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-3xl mx-auto text-center mb-12",children:[a.jsxs("h1",{className:"text-4xl font-bold mb-4",children:["Mon ",a.jsx("span",{className:"gradient-text",children:"Blog"})]}),a.jsx("p",{className:"text-muted-foreground",children:"Découvrez mes articles sur le développement web, les technologies et les bonnes pratiques."})]}),a.jsxs("div",{className:"mb-8",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[a.jsxs("div",{className:"relative flex-grow",children:[a.jsx(ki,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),a.jsx(dt,{type:"text",placeholder:"Rechercher un article...",value:t,onChange:S=>e(S.target.value),className:"pl-10"})]}),(r||i||t)&&a.jsx(me,{variant:"outline",onClick:_,children:"Effacer les filtres"})]}),a.jsxs("div",{className:"space-y-4",children:[d.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Us,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Catégories"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:d.map((S,C)=>a.jsx(Et,{variant:r===S?"default":"outline",className:"cursor-pointer",onClick:()=>y(S),children:S},C))})]}),g.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Us,{className:"h-4 w-4 mr-2"}),a.jsx("span",{className:"text-sm font-medium",children:"Tags"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.map((S,C)=>a.jsx(Et,{variant:i===S?"default":"outline",className:"cursor-pointer",onClick:()=>x(S),children:S},C))})]})]})]}),c.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map((S,C)=>a.jsx(CVe,{post:S,index:C,featured:C===0&&!t&&!r&&!i},S.id))}):a.jsx("div",{className:"text-center py-12",children:a.jsx("p",{className:"text-muted-foreground",children:"Aucun article ne correspond à votre recherche."})})]})},IVe=()=>{const{id:t}=cR(),[e,r]=b.useState(null),[n,i]=b.useState([]),[s,o]=b.useState(!0),{toast:l}=dn();if(b.useEffect(()=>{o(!0),setTimeout(()=>{const d=AVe(t);if(d){r(d);const f=TVe(d);i(f)}else l({title:"Article non trouvé",description:"L'article que vous recherchez n'existe pas.",variant:"destructive"});o(!1)},500)},[t,l]),s)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block h-8 w-8 animate-spin rounded-full border-4 border-solid border-primary border-r-transparent align-[-0.125em] motion-reduce:animate-[spin_1.5s_linear_infinite]"}),a.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de l'article..."})]})});if(!e)return a.jsx("div",{className:"container mx-auto px-4 py-12 flex justify-center items-center min-h-[60vh]",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Article non trouvé"}),a.jsx("p",{className:"text-muted-foreground mb-6",children:"L'article que vous recherchez n'existe pas ou a été supprimé."}),a.jsx(me,{asChild:!0,children:a.jsxs(fr,{to:"/blog",children:[a.jsx(Fp,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})})]})});const c=new Date(e.publishedAt),u=Zr(c,"d MMMM yyyy",{locale:Hm});return a.jsx(ze.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.5},className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx(me,{asChild:!0,variant:"outline",className:"mb-8",children:a.jsxs(fr,{to:"/blog",children:[a.jsx(Fp,{className:"mr-2 h-4 w-4"}),"Retour aux articles"]})}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-6",children:e.title}),a.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground mb-6",children:[e.author&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Fs,{className:"h-4 w-4 mr-1"}),e.author.name]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Hc,{className:"h-4 w-4 mr-1"}),u]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(qs,{className:"h-4 w-4 mr-1"}),e.readingTime]}),e.category&&a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xf,{className:"h-4 w-4 mr-1"}),e.category]})]}),e.coverImage&&a.jsx("div",{className:"relative aspect-[21/9] rounded-lg overflow-hidden mb-8",children:a.jsx("img",{className:"w-full h-full object-cover",alt:`Image de couverture pour l'article ${e.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),e.tags&&e.tags.length>0&&a.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:e.tags.map((d,f)=>a.jsx(Et,{variant:"secondary",children:d},f))}),a.jsx("div",{className:"prose prose-invert max-w-none",children:a.jsx("div",{className:"whitespace-pre-line",children:e.content})})]}),n.length>0&&a.jsxs(a.Fragment,{children:[a.jsx(Xv,{className:"my-12"}),a.jsxs("div",{className:"mt-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Articles similaires"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:n.map(d=>a.jsx(fr,{to:`/blog/${d.slug||d.id}`,className:"group block",children:a.jsxs("div",{className:"rounded-lg border border-border overflow-hidden transition-all duration-300 hover:border-primary",children:[d.coverImage&&a.jsx("div",{className:"aspect-video relative overflow-hidden",children:a.jsx("img",{className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105",alt:`Image de couverture pour l'article ${d.title}`,src:"https://images.unsplash.com/photo-1578470155518-c5697b07e280"})}),a.jsxs("div",{className:"p-4",children:[a.jsx("h3",{className:"font-bold mb-2 group-hover:text-primary transition-colors",children:d.title}),a.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:d.excerpt})]})]})},d.id))})]})]})]})})};function LVe(){return re.useEffect(()=>{oM.register()},[]),a.jsxs(R7,{client:ipe,children:[a.jsx(Sye,{children:a.jsxs(Eye,{children:[a.jsxs(ghe,{children:[a.jsx(Nye,{}),a.jsx(Ei,{mode:"wait",children:a.jsx(Zse,{children:a.jsxs(or,{path:"/",element:a.jsx(Cwe,{}),children:[a.jsx(or,{index:!0,element:a.jsx(fTe,{})}),a.jsx(or,{path:"connexion",element:a.jsx(eSe,{})}),a.jsx(or,{path:"inscription",element:a.jsx(rSe,{})}),a.jsx(or,{path:"auth/callback",element:a.jsx(X2e,{})}),a.jsx(or,{path:"mot-de-passe-oublie",element:a.jsx(nSe,{})}),a.jsx(or,{path:"reinitialiser-mot-de-passe",element:a.jsx(iSe,{})}),a.jsx(or,{path:"profile",element:a.jsx(Y2e,{})}),a.jsx(or,{path:"messages",element:a.jsx(lf,{children:a.jsx(AAe,{})})}),a.jsx(or,{path:"immobilier",element:a.jsx(hTe,{})}),a.jsx(or,{path:"automobile",element:a.jsx(pTe,{})}),a.jsx(or,{path:"services",element:a.jsx(mTe,{})}),a.jsx(or,{path:"marketplace",element:a.jsx(gTe,{})}),a.jsx(or,{path:"premium",element:a.jsx(vTe,{})}),a.jsx(or,{path:"creer-annonce",element:a.jsx(lf,{children:a.jsx(yb,{})})}),a.jsx(or,{path:"creer-annonce/:category",element:a.jsx(lf,{children:a.jsx(yb,{})})}),a.jsx(or,{path:"create-listing",element:a.jsx(lf,{children:a.jsx(yb,{})})}),a.jsx(or,{path:"annonce/:id",element:a.jsx(NTe,{})}),a.jsx(or,{path:"annonce/:id/modifier",element:a.jsx(lf,{children:a.jsx(yb,{})})}),a.jsx(or,{path:"favorites",element:a.jsx(lf,{children:a.jsx(PTe,{})})}),a.jsxs(or,{path:"admin",element:a.jsx(C1e,{}),children:[a.jsx(or,{index:!0,element:a.jsx(Iu,{children:a.jsx(kTe,{})})}),a.jsx(or,{path:"users",element:a.jsx(Iu,{children:a.jsx(sOe,{})})}),a.jsx(or,{path:"listings",element:a.jsx(Iu,{children:a.jsx(aOe,{})})}),a.jsx(or,{path:"transactions",element:a.jsx(Iu,{children:a.jsx(oOe,{})})}),a.jsx(or,{path:"analytics",element:a.jsx(Iu,{children:a.jsx(lVe,{})})}),a.jsx(or,{path:"moderation",element:a.jsx(Iu,{children:a.jsx(fVe,{})})}),a.jsx(or,{path:"categories",element:a.jsx(Iu,{children:a.jsx(hVe,{})})}),a.jsx(or,{path:"settings",element:a.jsx(Iu,{children:a.jsx(pVe,{})})})]}),a.jsx(or,{path:"a-propos",element:a.jsx(gVe,{})}),a.jsx(or,{path:"contact",element:a.jsx(yVe,{})}),a.jsx(or,{path:"carrieres",element:a.jsx(xVe,{})}),a.jsx(or,{path:"presse",element:a.jsx(bVe,{})}),a.jsx(or,{path:"aide",element:a.jsx(wVe,{})}),a.jsx(or,{path:"faq",element:a.jsx(_Ve,{})}),a.jsx(or,{path:"politique-confidentialite",element:a.jsx(SVe,{})}),a.jsx(or,{path:"conditions-utilisation",element:a.jsx(jVe,{})}),a.jsx(or,{path:"blog",element:a.jsx(MVe,{})}),a.jsx(or,{path:"blog/:id",element:a.jsx(IVe,{})}),a.jsx(or,{path:"*",element:a.jsx(mVe,{})})]})})})]}),a.jsx(D7,{}),a.jsx(Aye,{}),a.jsx(zve,{}),a.jsx(bye,{})]})}),!1]})}class DVe extends re.Component{constructor(e){super(e),this.state={hasError:!1,error:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Erreur non interceptée:",e,r)}render(){return this.state.hasError?a.jsx("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"#0f172a",color:"#e2e8f0",padding:24,textAlign:"center"},children:a.jsxs("div",{style:{maxWidth:720},children:[a.jsx("h1",{style:{marginBottom:12},children:"Une erreur est survenue"}),a.jsx("p",{style:{opacity:.9},children:"Une erreur inattendue a été détectée."}),a.jsx("pre",{style:{textAlign:"left",background:"#111827",padding:12,borderRadius:8,overflow:"auto",marginTop:16},children:String(this.state.error)}),!1]})}):this.props.children}}const Wt=t=>typeof t=="string",rv=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},z9=t=>t==null?"":""+t,$Ve=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},FVe=/###/g,q9=t=>t&&t.indexOf("###")>-1?t.replace(FVe,"."):t,U9=t=>!t||Wt(t),Iv=(t,e,r)=>{const n=Wt(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(U9(t))return{};const s=q9(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return U9(t)?{}:{obj:t,k:q9(n[i])}},V9=(t,e,r)=>{const{obj:n,k:i}=Iv(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],o=e.slice(0,e.length-1),l=Iv(t,o,Object);for(;l.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),l=Iv(t,o,Object),l?.obj&&typeof l.obj[`${l.k}.${s}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${s}`]=r},BVe=(t,e,r,n)=>{const{obj:i,k:s}=Iv(t,e,Object);i[s]=i[s]||[],i[s].push(r)},D_=(t,e)=>{const{obj:r,k:n}=Iv(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},zVe=(t,e,r)=>{const n=D_(t,r);return n!==void 0?n:D_(e,r)},lie=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?Wt(t[n])||t[n]instanceof String||Wt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):lie(t[n],e[n],r):t[n]=e[n]);return t},op=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var qVe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const UVe=t=>Wt(t)?t.replace(/[&<>"'\/]/g,e=>qVe[e]):t;class VVe{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const WVe=[" ",",","?","!",";"],HVe=new VVe(20),KVe=(t,e,r)=>{e=e||"",r=r||"";const n=WVe.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=HVe.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},aR=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,l="";for(let c=s;c<n.length;++c)if(c!==s&&(l+=r),l+=n[c],o=i[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}i=o}return i},qy=t=>t?.replace("_","-"),GVe={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class $_{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||GVe,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(Wt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new $_(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new $_(this.logger,e)}}var pl=new $_;class vS{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let o=0;o<s;o++)i.apply(i,[e,...r])})}}class W9 extends vS{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,i={}){const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,r],n&&(Array.isArray(n)?l.push(...n):Wt(n)&&s?l.push(...n.split(s)):l.push(n)));const c=D_(this.data,l);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=l[0],r=l[1],n=l.slice(2).join(".")),c||!o||!Wt(n)?c:aR(this.data?.[e]?.[r],n,s)}addResource(e,r,n,i,s={silent:!1}){const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let l=[e,r];n&&(l=l.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(l=e.split("."),i=r,r=l[1]),this.addNamespaces(r),V9(this.data,l,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n,i={silent:!1}){for(const s in n)(Wt(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s,o={silent:!1,skipCopy:!1}){let l=[e,r];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=r,r=l[1]),this.addNamespaces(r);let c=D_(this.data,l)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?lie(c,n,s):c={...c,...n},V9(this.data,l,c),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var cie={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{e=this.processors[s]?.process(e,r,n,i)??e}),e}};const uie=Symbol("i18next/PATH_KEY");function ZVe(){const t=[],e=Object.create(null);let r;return e.get=(n,i)=>(r?.revoke?.(),i===uie?t:(t.push(i),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function YVe(t,e){const{[uie]:r}=t(ZVe());return r.join(e?.keySeparator??".")}const H9={},K9=t=>!Wt(t)&&typeof t!="boolean"&&typeof t!="number";class F_ extends vS{constructor(e,r={}){super(),$Ve(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pl.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!KVe(e,n,i);if(o&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:Wt(s)?[s]:s};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(s=u.shift()),e=u.join(i)}return{key:e,namespaces:Wt(s)?[s]:s}}translate(e,r,n){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=YVe(e,i)),Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(e[e.length-1],i),u=c[c.length-1];let d=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const f=i.lng||this.language,g=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return g?s?{res:`${u}${d}${l}`,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:`${u}${d}${l}`:s?{res:l,usedKey:l,exactUsedKey:l,usedLng:f,usedNS:u,usedParams:this.getUsedParamsDetails(i)}:l;const v=this.resolve(e,i);let y=v?.res;const x=v?.usedKey||l,_=v?.exactUsedKey||l,S=["[object Number]","[object Function]","[object RegExp]"],C=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,A=i.count!==void 0&&!Wt(i.count),E=F_.hasDefaultValue(i),k=A?this.pluralResolver.getSuffix(f,i.count,i):"",O=i.ordinal&&A?this.pluralResolver.getSuffix(f,i.count,{ordinal:!1}):"",I=A&&!i.ordinal&&i.count===0,z=I&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${k}`]||i[`defaultValue${O}`]||i.defaultValue;let W=y;N&&!y&&E&&(W=z);const V=K9(W),q=Object.prototype.toString.apply(W);if(N&&W&&V&&S.indexOf(q)<0&&!(Wt(C)&&Array.isArray(W))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(x,W,{...i,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return s?(v.res=F,v.usedParams=this.getUsedParamsDetails(i),v):F}if(o){const F=Array.isArray(W),H=F?[]:{},Q=F?_:x;for(const oe in W)if(Object.prototype.hasOwnProperty.call(W,oe)){const K=`${Q}${o}${oe}`;E&&!y?H[oe]=this.translate(K,{...i,defaultValue:K9(z)?z[oe]:void 0,joinArrays:!1,ns:c}):H[oe]=this.translate(K,{...i,joinArrays:!1,ns:c}),H[oe]===K&&(H[oe]=W[oe])}y=H}}else if(N&&Wt(C)&&Array.isArray(y))y=y.join(C),y&&(y=this.extendTranslation(y,e,i,n));else{let F=!1,H=!1;!this.isValidLookup(y)&&E&&(F=!0,y=z),this.isValidLookup(y)||(H=!0,y=l);const oe=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&H?void 0:y,K=E&&z!==y&&this.options.updateMissing;if(H||F||K){if(this.logger.log(K?"updateKey":"missingKey",f,u,l,K?z:y),o){const X=this.resolve(l,{...i,keySeparator:!1});X&&X.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let te=[];const Z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Z&&Z[0])for(let X=0;X<Z.length;X++)te.push(Z[X]);else this.options.saveMissingTo==="all"?te=this.languageUtils.toResolveHierarchy(i.lng||this.language):te.push(i.lng||this.language);const se=(X,ce,je)=>{const Te=E&&je!==y?je:oe;this.options.missingKeyHandler?this.options.missingKeyHandler(X,u,ce,Te,K,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(X,u,ce,Te,K,i),this.emit("missingKey",X,u,ce,y)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?te.forEach(X=>{const ce=this.pluralResolver.getSuffixes(X,i);I&&i[`defaultValue${this.options.pluralSeparator}zero`]&&ce.indexOf(`${this.options.pluralSeparator}zero`)<0&&ce.push(`${this.options.pluralSeparator}zero`),ce.forEach(je=>{se([X],l+je,i[`defaultValue${je}`]||z)})}):se(te,l,z))}y=this.extendTranslation(y,e,i,v,n),H&&y===l&&this.options.appendNamespaceToMissingKey&&(y=`${u}${d}${l}`),(H||F)&&this.options.parseMissingKeyHandler&&(y=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}${d}${l}`:l,F?y:void 0,i))}return s?(v.res=y,v.usedParams=this.getUsedParamsDetails(i),v):y}extendTranslation(e,r,n,i,s){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=Wt(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let u;if(c){const f=e.match(this.interpolator.nestingRegexp);u=f&&f.length}let d=n.replace&&!Wt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||i.usedLng,n),c){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;u<g&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>s?.[0]===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=Wt(o)?[o]:o;return e!=null&&l?.length&&n.applyPostProcessor!==!1&&(e=cie.handle(l,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,i,s,o,l;return Wt(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(c,r),d=u.key;i=d;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=r.count!==void 0&&!Wt(r.count),v=g&&!r.ordinal&&r.count===0,y=r.context!==void 0&&(Wt(r.context)||typeof r.context=="number")&&r.context!=="",x=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(_=>{this.isValidLookup(n)||(l=_,!H9[`${x[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(H9[`${x[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${x.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),x.forEach(S=>{if(this.isValidLookup(n))return;o=S;const C=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,d,S,_,r);else{let A;g&&(A=this.pluralResolver.getSuffix(S,r.count,r));const E=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&A.indexOf(k)===0&&C.push(d+A.replace(k,this.options.pluralSeparator)),C.push(d+A),v&&C.push(d+E)),y){const O=`${d}${this.options.contextSeparator||"_"}${r.context}`;C.push(O),g&&(r.ordinal&&A.indexOf(k)===0&&C.push(O+A.replace(k,this.options.pluralSeparator)),C.push(O+A),v&&C.push(O+E))}}let N;for(;N=C.pop();)this.isValidLookup(n)||(s=N,n=this.getResource(S,_,N,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!Wt(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class G9{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pl.create("languageUtils")}getScriptPartFromCode(e){if(e=qy(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=qy(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(Wt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getScriptPartFromCode(n);if(this.isSupportedCode(i))return r=i;const s=this.getLanguagePartFromCode(n);if(this.isSupportedCode(s))return r=s;r=this.options.supportedLngs.find(o=>{if(o===s)return o;if(!(o.indexOf("-")<0&&s.indexOf("-")<0)&&(o.indexOf("-")>0&&s.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===s||o.indexOf(s)===0&&s.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),Wt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Wt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):Wt(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const Z9={zero:0,one:1,two:2,few:3,many:4,other:5},Y9={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class XVe{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=pl.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=qy(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Y9;if(!e.match(/-|_/))return Y9;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>Z9[i]-Z9[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,n={}){const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const X9=(t,e,r,n=".",i=!0)=>{let s=zVe(t,e,r);return!s&&i&&Wt(r)&&(s=aR(t,r,n),s===void 0&&(s=aR(e,r,n))),s},Wk=t=>t.replace(/\$/g,"$$$$");class JVe{constructor(e={}){this.logger=pl.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:u,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:v,nestingSuffix:y,nestingSuffixEscaped:x,nestingOptionsSeparator:_,maxReplaces:S,alwaysFormat:C}=e.interpolation;this.escape=r!==void 0?r:UVe,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?op(s):o||"{{",this.suffix=l?op(l):c||"}}",this.formatSeparator=u||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=g?op(g):v||op("$t("),this.nestingSuffix=y?op(y):x||op(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=S||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=v=>{if(v.indexOf(this.formatSeparator)<0){const S=X9(r,c,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,n,{...i,...r,interpolationkey:v}):S}const y=v.split(this.formatSeparator),x=y.shift().trim(),_=y.join(this.formatSeparator).trim();return this.format(X9(r,c,x,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...i,...r,interpolationkey:x})};this.resetRegExp();const d=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>Wk(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?Wk(this.escape(v)):Wk(v)}].forEach(v=>{for(l=0;s=v.regex.exec(e);){const y=s[1].trim();if(o=u(y),o===void 0)if(typeof d=="function"){const _=d(e,s,i);o=Wt(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,y))o="";else if(f){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${y} for interpolating ${e}`),o="";else!Wt(o)&&!this.useRawValueToEscape&&(o=z9(o));const x=v.safeValue(o);if(e=e.replace(s[0],x),f?(v.regex.lastIndex+=o.length,v.regex.lastIndex-=s[0].length):v.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,r,n={}){let i,s,o;const l=(c,u)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const f=c.split(new RegExp(`${d}[ ]*{`));let g=`{${f[1]}`;c=f[0],g=this.interpolate(g,o);const v=g.match(/'/g),y=g.match(/"/g);((v?.length??0)%2===0&&!y||y.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),u&&(o={...u,...o})}catch(x){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,x),`${c}${d}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!Wt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const u=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(u!==-1&&(c=i[1].slice(u).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),i[1]=i[1].slice(0,u)),s=r(l.call(this,i[1].trim(),o),o),s&&i[0]===e&&!Wt(s))return s;Wt(s)||(s=z9(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),c.length&&(s=c.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const QVe=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),u=c.join(":").trim().replace(/^'+|'+$/g,""),d=l.trim();r[d]||(r[d]=u),u==="false"&&(r[d]=!1),u==="true"&&(r[d]=!0),isNaN(u)||(r[d]=parseInt(u,10))}})}return{formatName:e,formatOptions:r}},J9=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let l=e[o];return l||(l=t(qy(n),i),e[o]=l),l(r)}},e9e=t=>(e,r,n)=>t(qy(r),n)(e);class t9e{constructor(e={}){this.logger=pl.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?J9:e9e;this.formats={number:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s});return l=>o.format(l)}),currency:n((i,s)=>{const o=new Intl.NumberFormat(i,{...s,style:"currency"});return l=>o.format(l)}),datetime:n((i,s)=>{const o=new Intl.DateTimeFormat(i,{...s});return l=>o.format(l)}),relativetime:n((i,s)=>{const o=new Intl.RelativeTimeFormat(i,{...s});return l=>o.format(l,s.range||"day")}),list:n((i,s)=>{const o=new Intl.ListFormat(i,{...s});return l=>o.format(l)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=J9(r)}format(e,r,n,i={}){const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(l=>l.indexOf(")")>-1)){const l=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,l)].join(this.formatSeparator)}return s.reduce((l,c)=>{const{formatName:u,formatOptions:d}=QVe(c);if(this.formats[u]){let f=l;try{const g=i?.formatParams?.[i.interpolationkey]||{},v=g.locale||g.lng||i.locale||i.lng||n;f=this.formats[u](l,v,{...d,...i,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${u}`);return l},e)}}const r9e=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class n9e extends vS{constructor(e,r,n,i={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=pl.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const s={},o={},l={},c={};return e.forEach(u=>{let d=!0;r.forEach(f=>{const g=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,d=!1,o[g]===void 0&&(o[g]=!0),s[g]===void 0&&(s[g]=!0),c[f]===void 0&&(c[f]=!0)))}),d||(l[u]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{BVe(c.loaded,[s],o),r9e(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(u=>{l[u]||(l[u]={});const d=c.loaded[u];d.length&&d.forEach(f=>{l[u][f]===void 0&&(l[u][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n,i=0,s=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const l=(u,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,o)},s);return}o(u,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const u=c(e,r);u&&typeof u.then=="function"?u.then(d=>l(null,d)).catch(l):l(null,u)}catch(u){l(u)}return}return c(e,r,l)}prepareLoading(e,r,n={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();Wt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Wt(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&l&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,l),this.loaded(e,o,l)})}saveMissing(e,r,n,i,s,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...o,isUpdate:s},u=this.backend.create.bind(this.backend);if(u.length<6)try{let d;u.length===5?d=u(e,r,n,i,c):d=u(e,r,n,i),d&&typeof d.then=="function"?d.then(f=>l(null,f)).catch(l):l(null,d)}catch(d){l(d)}else u(e,r,n,i,l,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Q9=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),Wt(t[1])&&(e.defaultValue=t[1]),Wt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),e7=t=>(Wt(t.ns)&&(t.ns=[t.ns]),Wt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Wt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Ob=()=>{},i9e=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Uy extends vS{constructor(e={},r){if(super(),this.options=e7(e),this.services={},this.logger=pl,this.modules={external:[]},i9e(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(Wt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Q9();this.options={...n,...this.options,...e7(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=u=>u?typeof u=="function"?new u:u:null;if(!this.options.isClone){this.modules.logger?pl.init(i(this.modules.logger),this.options):pl.init(null,this.options);let u;this.modules.formatter?u=this.modules.formatter:u=t9e;const d=new G9(this.options);this.store=new W9(this.options.resources,this.options);const f=this.services;f.logger=pl,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new XVe(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),u&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=i(u),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new JVe(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new n9e(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new F_(this.services,this.options),this.translator.on("*",(v,...y)=>{this.emit(v,...y)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ob),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const u=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);u.length>0&&u[0]!=="dev"&&(this.options.lng=u[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(u=>{this[u]=(...d)=>this.store[u](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(u=>{this[u]=(...d)=>(this.store[u](...d),this)});const l=rv(),c=()=>{const u=(d,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&!this.isInitialized)return u(null,this.t.bind(this));this.changeLanguage(this.options.lng,u)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(e,r=Ob){let n=r;const i=Wt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(u=>{u!=="cimode"&&s.indexOf(u)<0&&s.push(u)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(s,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,r,n){const i=rv();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=Ob),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cie.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=rv();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,c)=>{c?this.isLanguageChangingTo===e&&(i(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,n.resolve((...u)=>this.t(...u)),r&&r(l,(...u)=>this.t(...u))},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=Wt(l)?l:l&&l[0],u=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Wt(l)?[l]:l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector?.cacheUserLanguage?.(u)),this.loadResources(u,d=>{s(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,n){const i=(s,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([s,o].concat(l)):c={...o},c.lng=c.lng||i.lng,c.lngs=c.lngs||i.lngs,c.ns=c.ns||i.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||i.keyPrefix);const u=this.options.keySeparator||".";let d;return c.keyPrefix&&Array.isArray(s)?d=s.map(f=>`${c.keyPrefix}${u}${f}`):d=c.keyPrefix?`${c.keyPrefix}${u}${s}`:s,this.t(d,c)};return Wt(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=n,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const u=this.services.backendConnector.state[`${l}|${c}`];return u===-1||u===0||u===2};if(r.precheck){const l=r.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,r){const n=rv();return this.options.ns?(Wt(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=rv();Wt(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const s=i.getTextInfo();if(s&&s.direction)return s.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new G9(Q9());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new Uy(e,r)}cloneInstance(e={},r=Ob){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Uy(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(l=>{s[l]=this[l]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const l=Object.keys(this.store.data).reduce((c,u)=>(c[u]={...this.store.data[u]},c[u]=Object.keys(c[u]).reduce((d,f)=>(d[f]={...c[u][f]},d),c[u]),c),{});s.store=new W9(l,i),s.services.resourceStore=s.store}return s.translator=new F_(s.services,i),s.translator.on("*",(l,...c)=>{s.emit(l,...c)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Bi=Uy.createInstance();Bi.createInstance=Uy.createInstance;Bi.createInstance;Bi.dir;Bi.init;Bi.loadResources;Bi.reloadResources;Bi.use;Bi.changeLanguage;Bi.getFixedT;Bi.t;Bi.exists;Bi.setDefaultNamespace;Bi.hasLoadedNamespace;Bi.loadNamespaces;Bi.loadLanguages;const{slice:s9e,forEach:a9e}=[];function o9e(t){return a9e.call(s9e.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function l9e(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const t7=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,c9e=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!t7.test(n.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${n.domain}`}if(n.path){if(!t7.test(n.path))throw new TypeError("option path is invalid");s+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(s+="; HttpOnly"),n.secure&&(s+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(s+="; Partitioned"),s},r7={create(t,e,r,n){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),n&&(i.domain=n),document.cookie=c9e(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let i=r[n];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var u9e={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return r7.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:i,cookieOptions:s}=e;r&&typeof document<"u"&&r7.create(r,t,n,i,s)}},d9e={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const s=n.substring(1).split("&");for(let o=0;o<s.length;o++){const l=s[o].indexOf("=");l>0&&s[o].substring(0,l)===e&&(r=s[o].substring(l+1))}}return r}},f9e={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const s=i.substring(1);if(e){const o=s.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(n=o[l].substring(c+1))}}if(n)return n;if(!n&&r>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let lp=null;const n7=()=>{if(lp!==null)return lp;try{if(lp=typeof window<"u"&&window.localStorage!==null,!lp)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{lp=!1}return lp};var h9e={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&n7())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&n7()&&window.localStorage.setItem(r,t)}};let cp=null;const i7=()=>{if(cp!==null)return cp;try{if(cp=typeof window<"u"&&window.sessionStorage!==null,!cp)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{cp=!1}return cp};var p9e={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&i7())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&i7()&&window.sessionStorage.setItem(r,t)}},m9e={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:i}=navigator;if(r)for(let s=0;s<r.length;s++)e.push(r[s]);n&&e.push(n),i&&e.push(i)}return e.length>0?e:void 0}},g9e={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},v9e={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},y9e={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let die=!1;try{document.cookie,die=!0}catch{}const fie=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];die||fie.splice(1,1);const x9e=()=>({order:fie,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class hie{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=o9e(r,this.options||{},x9e()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(u9e),this.addDetector(d9e),this.addDetector(h9e),this.addDetector(p9e),this.addDetector(m9e),this.addDetector(g9e),this.addDetector(v9e),this.addDetector(y9e),this.addDetector(f9e)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let i=this.detectors[n].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(n=>n!=null&&!l9e(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}hie.type="languageDetector";const b9e={home:"Accueil",marketplace:"Marketplace",immobilier:"Immobilier",automobile:"Automobile",services:"Services",blog:"Blog",contact:"Contact",about:"À propos",dashboard:"Tableau de bord",profile:"Profil",settings:"Paramètres",logout:"Déconnexion"},w9e={create:"Créer",edit:"Modifier",delete:"Supprimer",save:"Enregistrer",cancel:"Annuler",search:"Rechercher",filter:"Filtrer",sort:"Trier",view:"Voir",add:"Ajouter",remove:"Retirer",update:"Mettre à jour",submit:"Soumettre",close:"Fermer",open:"Ouvrir",download:"Télécharger",upload:"Téléverser",share:"Partager",like:"J'aime",dislike:"Je n'aime pas",discover:"Découvrir"},_9e={loading:"Chargement...",error:"Erreur",success:"Succès",warning:"Attention",info:"Information",pending:"En attente",approved:"Approuvé",rejected:"Rejeté",draft:"Brouillon",published:"Publié",unpublished:"Non publié"},S9e={confirmDelete:"Êtes-vous sûr de vouloir supprimer cet élément ?",confirmAction:"Êtes-vous sûr de vouloir effectuer cette action ?",operationSuccess:"Opération réussie",operationFailed:"Opération échouée",noData:"Aucune donnée disponible",noResults:"Aucun résultat trouvé",tryAgain:"Veuillez réessayer",connectionError:"Erreur de connexion",serverError:"Erreur du serveur",validationError:"Erreur de validation"},j9e={now:"Maintenant",today:"Aujourd'hui",yesterday:"Hier",tomorrow:"Demain",thisWeek:"Cette semaine",lastWeek:"La semaine dernière",thisMonth:"Ce mois",lastMonth:"Le mois dernier",thisYear:"Cette année",lastYear:"L'année dernière"},C9e={XOF:"Franc CFA",EUR:"Euro",USD:"Dollar US",GHS:"Cedi ghanéen",NGN:"Naira nigérian"},N9e={navigation:b9e,actions:w9e,status:_9e,messages:S9e,time:j9e,currency:C9e},E9e={title:"Connexion",subtitle:"Connectez-vous à votre compte",email:"Adresse e-mail",password:"Mot de passe",rememberMe:"Se souvenir de moi",forgotPassword:"Mot de passe oublié ?",loginButton:"Se connecter",noAccount:"Vous n'avez pas de compte ?",signUp:"S'inscrire",or:"ou",continueWithGoogle:"Continuer avec Google",continueWithFacebook:"Continuer avec Facebook"},P9e={title:"Inscription",subtitle:"Créez votre compte",firstName:"Prénom",lastName:"Nom",email:"Adresse e-mail",password:"Mot de passe",confirmPassword:"Confirmer le mot de passe",phone:"Numéro de téléphone",acceptTerms:"J'accepte les conditions d'utilisation",registerButton:"S'inscrire",hasAccount:"Vous avez déjà un compte ?",signIn:"Se connecter"},k9e={title:"Mot de passe oublié",subtitle:"Entrez votre adresse e-mail pour réinitialiser votre mot de passe",email:"Adresse e-mail",resetButton:"Réinitialiser le mot de passe",backToLogin:"Retour à la connexion"},A9e={title:"Réinitialiser le mot de passe",subtitle:"Entrez votre nouveau mot de passe",newPassword:"Nouveau mot de passe",confirmPassword:"Confirmer le mot de passe",resetButton:"Réinitialiser le mot de passe"},T9e={title:"Profil",personalInfo:"Informations personnelles",security:"Sécurité",preferences:"Préférences",saveChanges:"Enregistrer les modifications",avatar:"Photo de profil",uploadAvatar:"Téléverser une photo",removeAvatar:"Supprimer la photo"},O9e={emailRequired:"L'adresse e-mail est requise",emailInvalid:"L'adresse e-mail n'est pas valide",passwordRequired:"Le mot de passe est requis",passwordMinLength:"Le mot de passe doit contenir au moins 8 caractères",passwordMatch:"Les mots de passe ne correspondent pas",firstNameRequired:"Le prénom est requis",lastNameRequired:"Le nom est requis",phoneInvalid:"Le numéro de téléphone n'est pas valide"},R9e={invalidCredentials:"Identifiants invalides",emailAlreadyExists:"Cette adresse e-mail est déjà utilisée",weakPassword:"Le mot de passe est trop faible",userNotFound:"Utilisateur non trouvé",tooManyRequests:"Trop de tentatives. Veuillez réessayer plus tard",networkError:"Erreur de réseau. Vérifiez votre connexion"},M9e={login:E9e,register:P9e,forgotPassword:k9e,resetPassword:A9e,profile:T9e,validation:O9e,errors:R9e},I9e={title:"Créer une annonce",subtitle:"Publiez votre annonce en quelques étapes",basicInfo:"Informations de base",details:"Détails",images:"Images",pricing:"Prix",location:"Localisation",contact:"Contact",review:"Aperçu",publish:"Publier"},L9e={title:"Titre de l'annonce",titlePlaceholder:"Entrez un titre descriptif",description:"Description",descriptionPlaceholder:"Décrivez votre produit ou service en détail",category:"Catégorie",selectCategory:"Sélectionnez une catégorie",subcategory:"Sous-catégorie",selectSubcategory:"Sélectionnez une sous-catégorie",condition:"État",new:"Neuf",used:"Occasion",refurbished:"Reconditionné",price:"Prix",pricePlaceholder:"Entrez le prix",currency:"Devise",negotiable:"Prix négociable",location:"Localisation",address:"Adresse",city:"Ville",country:"Pays",postalCode:"Code postal",contactPhone:"Téléphone",contactEmail:"E-mail",tags:"Mots-clés",tagsPlaceholder:"Ajoutez des mots-clés séparés par des virgules"},D9e={title:"Détails de l'annonce",postedBy:"Publié par",postedOn:"Publié le",views:"vues",favorites:"favoris",shares:"partages",contactSeller:"Contacter le vendeur",reportAd:"Signaler l'annonce",shareAd:"Partager l'annonce",similarAds:"Annonces similaires",relatedAds:"Annonces connexes"},$9e={title:"Filtres",priceRange:"Fourchette de prix",minPrice:"Prix minimum",maxPrice:"Prix maximum",condition:"État",location:"Localisation",category:"Catégorie",datePosted:"Date de publication",today:"Aujourd'hui",thisWeek:"Cette semaine",thisMonth:"Ce mois",clearFilters:"Effacer les filtres",applyFilters:"Appliquer les filtres"},F9e={placeholder:"Rechercher des annonces...",noResults:"Aucune annonce trouvée",tryDifferentKeywords:"Essayez des mots-clés différents",searchResults:"Résultats de recherche",resultsCount:"{{count}} annonce(s) trouvée(s)"},B9e={active:"Active",inactive:"Inactive",pending:"En attente",approved:"Approuvée",rejected:"Rejetée",expired:"Expirée",sold:"Vendue",reserved:"Réservée"},z9e={edit:"Modifier l'annonce",delete:"Supprimer l'annonce",renew:"Renouveler l'annonce",boost:"Booster l'annonce",markAsSold:"Marquer comme vendue",unmarkAsSold:"Retirer le statut vendue",duplicate:"Dupliquer l'annonce"},q9e={titleRequired:"Le titre est requis",titleMinLength:"Le titre doit contenir au moins 10 caractères",descriptionRequired:"La description est requise",descriptionMinLength:"La description doit contenir au moins 50 caractères",categoryRequired:"La catégorie est requise",priceRequired:"Le prix est requis",pricePositive:"Le prix doit être positif",locationRequired:"La localisation est requise",contactRequired:"Au moins un moyen de contact est requis"},U9e={createSuccess:"Annonce créée avec succès",updateSuccess:"Annonce mise à jour avec succès",deleteSuccess:"Annonce supprimée avec succès",boostSuccess:"Annonce boostée avec succès",renewSuccess:"Annonce renouvelée avec succès",createError:"Erreur lors de la création de l'annonce",updateError:"Erreur lors de la mise à jour de l'annonce",deleteError:"Erreur lors de la suppression de l'annonce",boostError:"Erreur lors du boost de l'annonce"},V9e="Populaires",W9e="Annonces",H9e="Annonces Populaires",K9e="Voir Toutes les Annonces",G9e="Voir Toutes les Annonces Premium",Z9e={create:I9e,form:L9e,details:D9e,filters:$9e,search:F9e,status:B9e,actions:z9e,validation:q9e,messages:U9e,popular:V9e,listings:W9e,popularListings:H9e,viewAll:K9e,viewAllPremium:G9e},Y9e={home:"Home",marketplace:"Marketplace",immobilier:"Real Estate",automobile:"Automotive",services:"Services",blog:"Blog",contact:"Contact",about:"About",dashboard:"Dashboard",profile:"Profile",settings:"Settings",logout:"Logout"},X9e={create:"Create",edit:"Edit",delete:"Delete",save:"Save",cancel:"Cancel",search:"Search",filter:"Filter",sort:"Sort",view:"View",add:"Add",remove:"Remove",update:"Update",submit:"Submit",close:"Close",open:"Open",download:"Download",upload:"Upload",share:"Share",like:"Like",dislike:"Dislike",discover:"Discover"},J9e={loading:"Loading...",error:"Error",success:"Success",warning:"Warning",info:"Information",pending:"Pending",approved:"Approved",rejected:"Rejected",draft:"Draft",published:"Published",unpublished:"Unpublished"},Q9e={confirmDelete:"Are you sure you want to delete this item?",confirmAction:"Are you sure you want to perform this action?",operationSuccess:"Operation successful",operationFailed:"Operation failed",noData:"No data available",noResults:"No results found",tryAgain:"Please try again",connectionError:"Connection error",serverError:"Server error",validationError:"Validation error"},e7e={now:"Now",today:"Today",yesterday:"Yesterday",tomorrow:"Tomorrow",thisWeek:"This week",lastWeek:"Last week",thisMonth:"This month",lastMonth:"Last month",thisYear:"This year",lastYear:"Last year"},t7e={XOF:"CFA Franc",EUR:"Euro",USD:"US Dollar",GHS:"Ghanaian Cedi",NGN:"Nigerian Naira"},r7e={navigation:Y9e,actions:X9e,status:J9e,messages:Q9e,time:e7e,currency:t7e},n7e={title:"Login",subtitle:"Sign in to your account",email:"Email address",password:"Password",rememberMe:"Remember me",forgotPassword:"Forgot password?",loginButton:"Sign in",noAccount:"Don't have an account?",signUp:"Sign up",or:"or",continueWithGoogle:"Continue with Google",continueWithFacebook:"Continue with Facebook"},i7e={title:"Sign up",subtitle:"Create your account",firstName:"First name",lastName:"Last name",email:"Email address",password:"Password",confirmPassword:"Confirm password",phone:"Phone number",acceptTerms:"I accept the terms of service",registerButton:"Sign up",hasAccount:"Already have an account?",signIn:"Sign in"},s7e={title:"Forgot password",subtitle:"Enter your email address to reset your password",email:"Email address",resetButton:"Reset password",backToLogin:"Back to login"},a7e={title:"Reset password",subtitle:"Enter your new password",newPassword:"New password",confirmPassword:"Confirm password",resetButton:"Reset password"},o7e={title:"Profile",personalInfo:"Personal information",security:"Security",preferences:"Preferences",saveChanges:"Save changes",avatar:"Profile picture",uploadAvatar:"Upload picture",removeAvatar:"Remove picture"},l7e={emailRequired:"Email is required",emailInvalid:"Email is not valid",passwordRequired:"Password is required",passwordMinLength:"Password must be at least 8 characters",passwordMatch:"Passwords do not match",firstNameRequired:"First name is required",lastNameRequired:"Last name is required",phoneInvalid:"Phone number is not valid"},c7e={invalidCredentials:"Invalid credentials",emailAlreadyExists:"This email is already in use",weakPassword:"Password is too weak",userNotFound:"User not found",tooManyRequests:"Too many attempts. Please try again later",networkError:"Network error. Check your connection"},u7e={login:n7e,register:i7e,forgotPassword:s7e,resetPassword:a7e,profile:o7e,validation:l7e,errors:c7e},d7e={title:"Create listing",subtitle:"Publish your listing in a few steps",basicInfo:"Basic information",details:"Details",images:"Images",pricing:"Pricing",location:"Location",contact:"Contact",review:"Preview",publish:"Publish"},f7e={title:"Listing title",titlePlaceholder:"Enter a descriptive title",description:"Description",descriptionPlaceholder:"Describe your product or service in detail",category:"Category",selectCategory:"Select a category",subcategory:"Subcategory",selectSubcategory:"Select a subcategory",condition:"Condition",new:"New",used:"Used",refurbished:"Refurbished",price:"Price",pricePlaceholder:"Enter price",currency:"Currency",negotiable:"Price negotiable",location:"Location",address:"Address",city:"City",country:"Country",postalCode:"Postal code",contactPhone:"Phone",contactEmail:"Email",tags:"Tags",tagsPlaceholder:"Add tags separated by commas"},h7e={title:"Listing details",postedBy:"Posted by",postedOn:"Posted on",views:"views",favorites:"favorites",shares:"shares",contactSeller:"Contact seller",reportAd:"Report listing",shareAd:"Share listing",similarAds:"Similar listings",relatedAds:"Related listings"},p7e={title:"Filters",priceRange:"Price range",minPrice:"Minimum price",maxPrice:"Maximum price",condition:"Condition",location:"Location",category:"Category",datePosted:"Date posted",today:"Today",thisWeek:"This week",thisMonth:"This month",clearFilters:"Clear filters",applyFilters:"Apply filters"},m7e={placeholder:"Search listings...",noResults:"No listings found",tryDifferentKeywords:"Try different keywords",searchResults:"Search results",resultsCount:"{{count}} listing(s) found"},g7e={active:"Active",inactive:"Inactive",pending:"Pending",approved:"Approved",rejected:"Rejected",expired:"Expired",sold:"Sold",reserved:"Reserved"},v7e={edit:"Edit listing",delete:"Delete listing",renew:"Renew listing",boost:"Boost listing",markAsSold:"Mark as sold",unmarkAsSold:"Unmark as sold",duplicate:"Duplicate listing"},y7e={titleRequired:"Title is required",titleMinLength:"Title must be at least 10 characters",descriptionRequired:"Description is required",descriptionMinLength:"Description must be at least 50 characters",categoryRequired:"Category is required",priceRequired:"Price is required",pricePositive:"Price must be positive",locationRequired:"Location is required",contactRequired:"At least one contact method is required"},x7e={createSuccess:"Listing created successfully",updateSuccess:"Listing updated successfully",deleteSuccess:"Listing deleted successfully",boostSuccess:"Listing boosted successfully",renewSuccess:"Listing renewed successfully",createError:"Error creating listing",updateError:"Error updating listing",deleteError:"Error deleting listing",boostError:"Error boosting listing"},b7e="Popular",w7e="Listings",_7e="View All Listings",S7e="View All Premium Listings",j7e={create:d7e,form:f7e,details:h7e,filters:p7e,search:m7e,status:g7e,actions:v7e,validation:y7e,messages:x7e,popular:b7e,listings:w7e,viewAll:_7e,viewAllPremium:S7e},C7e={fr:{common:N9e,auth:M9e,listings:Z9e},en:{common:r7e,auth:u7e,listings:j7e}};Bi.use(hie).use(qye).init({resources:C7e,fallbackLng:"fr",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"],lookupLocalStorage:"i18nextLng"},react:{useSuspense:!1},defaultNS:"common",ns:["common","auth","listings"],supportedLngs:["fr","en"],load:"languageOnly",saveMissing:!1,missingKeyHandler:(t,e,r,n)=>{}});const N7e=({children:t})=>a.jsx(Kye,{i18n:Bi,children:t});ise.createRoot(document.getElementById("root")).render(a.jsx(re.StrictMode,{children:a.jsx(DVe,{children:a.jsx(N7e,{children:a.jsx(iae,{children:a.jsx(LVe,{})})})})}));
